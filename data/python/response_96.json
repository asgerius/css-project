[{"tags": ["python", "html", "ajax", "selenium-webdriver", "web-scraping"], "answers": [{"tags": [], "owner": {"reputation": 4346, "user_id": 1230477, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/26d474ef31982bd364a8e4b38bed9fe5?s=128&d=identicon&r=PG", "display_name": "Igor Savinkin", "link": "https://stackoverflow.com/users/1230477/igor-savinkin"}, "is_accepted": true, "score": 1, "last_activity_date": 1478763911, "creation_date": 1478763911, "answer_id": 40522336, "question_id": 40517947, "link": "https://stackoverflow.com/questions/40517947/extract-embedded-script-from-web-page/40522336#40522336", "title": "Extract embedded script from web page", "body": "<p>If all the source code is inside of JS variable:\n<code>window.variable=\"&lt;div&gt;...&lt;/div&gt;\"</code> then you probably can't use <em>bs4</em> to resolve it since bs4 works for pure html DOM nodes. </p>\n\n<blockquote>\n  <p>Is there a way to ignore the tags and load the web page normally using selenium and python</p>\n</blockquote>\n\n<p>Most likely Selenium should be able to force on-page JS to get executed and load variable content into page's DOM. Try to search where <code>window.productDescription</code> or <code>productDescription</code> expression is applied/used (in which onloaded <code>.js</code> files)?</p>\n"}], "owner": {"reputation": 49, "user_id": 6736217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7bb8f3434da5a1b6699f0d87e4f2194d?s=128&d=identicon&r=PG&f=1", "display_name": "burning_wipf", "link": "https://stackoverflow.com/users/6736217/burning-wipf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 40522336, "answer_count": 1, "score": 0, "last_activity_date": 1478763911, "creation_date": 1478735552, "question_id": 40517947, "link": "https://stackoverflow.com/questions/40517947/extract-embedded-script-from-web-page", "title": "Extract embedded script from web page", "body": "<p>I have a link i want to scrape the content from that looks like this:</p>\n\n<pre><code>https://www.whatever.com/getDescModuleAjax.htm?productId=32663684002&amp;t=1478698394335\n</code></pre>\n\n<p>But when i want to open it with selenium it won't work. When i load it in a normal Browser it opens as plain Text with the Html in a bracket like this:</p>\n\n<pre><code>window.productDescription='&lt;div style=\"clea.... \n#I want this \n....n.jpg\" width=\"950\"/&gt;&lt;/p&gt;&lt;/div&gt;'\";\n</code></pre>\n\n<p>I was thinking i will Download the source code as plain text and extract the content i need using Bs4. But this can't be the best solution. is there a way to ignore the tags and load the web page  normally using selenium and python?</p>\n"}, {"tags": ["python", "amazon-web-services", "elasticsearch", "aws-lambda", "amazon-elasticsearch"], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 5121616, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10152875145265933/picture?type=large", "display_name": "Shane Nayler", "link": "https://stackoverflow.com/users/5121616/shane-nayler"}, "is_accepted": true, "score": 2, "last_activity_date": 1479083109, "last_edit_date": 1479083109, "creation_date": 1478749720, "answer_id": 40519658, "question_id": 40517902, "link": "https://stackoverflow.com/questions/40517902/aws-elasticsearch-service-role-permissions/40519658#40519658", "title": "AWS Elasticsearch Service Role Permissions", "body": "<p>Because Elasticsearch is a seperate entity to AWS, but a version is hosted by AWS it seems that elasticsearch doesn't treat IAM the same way you'd expect.. AWS has something in place that tries, but doesn't quite work with just an access_key and secret_key. It needs the session Token as well.</p>\n\n<p>The answer to this is to use the <code>cred.token</code> along with the access key and secret key and then pass it into your AWSRequestsAuth object: </p>\n\n<pre><code>auth = AWSRequestsAuth(\n    aws_access_key=cred.access_key,\n    aws_secret_access_key=cred.secret_key,\n    aws_token=cred.token,\n    aws_host=es_host,\n    aws_region='us-east-1',\n    aws_service='es')\n</code></pre>\n"}], "owner": {"reputation": 4671, "user_id": 2844742, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/GRfAv.gif?s=128&g=1", "display_name": "unclemeat", "link": "https://stackoverflow.com/users/2844742/unclemeat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1769, "favorite_count": 0, "accepted_answer_id": 40519658, "answer_count": 1, "score": 4, "last_activity_date": 1486379905, "creation_date": 1478735235, "last_edit_date": 1486379905, "question_id": 40517902, "link": "https://stackoverflow.com/questions/40517902/aws-elasticsearch-service-role-permissions", "title": "AWS Elasticsearch Service Role Permissions", "body": "<p>I'm trying to submit documents to an Elasticsearch index from a Python Lambda script running as a role which has the AmazonESFullAccess policy attached. I am creating the requests with the python elasticsearch library, and signing them with the aws_requests_auth library.</p>\n\n<pre><code>cred = boto3.session.Session().get_credentials()\nes_host = '&lt;elasticsearch-server&gt;'\n\nauth = AWSRequestsAuth(\n    aws_access_key=cred.access_key,\n    aws_secret_access_key=cred.secret_key,\n    aws_host=es_host,\n    aws_region='us-east-1',\n    aws_service='es')\n\nES_CLIENT = Elasticsearch(\n    host=es_host,\n    port=80,\n    connection_class=RequestsHttpConnection,\n    http_auth=auth)\n</code></pre>\n\n<p>Then sending bulk create requests as follows:</p>\n\n<pre><code>ES_CLIENT.bulk(\n    index='test_index',\n    body=docs)\n</code></pre>\n\n<p>This is failing with the following:</p>\n\n<blockquote>\n  <p>TransportError(403, u'{\"message\": \"The security token included in the\n  request is invalid.\" }'): AuthorizationException ...</p>\n</blockquote>\n\n<p>Though the same code works when running with admin user access keys.</p>\n\n<p>Why do these requests fail when running as a role with 'full ES access'?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1478735096, "post_id": 40517856, "comment_id": 68277388, "body": "<code>ast.literal_eval</code> does exactly what you want it to"}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 3, "last_activity_date": 1478735148, "creation_date": 1478735148, "answer_id": 40517883, "question_id": 40517856, "link": "https://stackoverflow.com/questions/40517856/converting-a-string-that-looks-like-a-list-into-an-actual-list/40517883#40517883", "title": "Converting a string that looks like a list into an actual list", "body": "<p><code>eval</code> is unsafe. However, just use <code>ast.literal_eval</code></p>\n\n<pre><code>&gt;&gt;&gt; import ast\n&gt;&gt;&gt; s = \"[u'Some string']\"\n&gt;&gt;&gt; ast.literal_eval(s)\n[u'Some string']\n&gt;&gt;&gt; \n</code></pre>\n\n<p>This is safe.</p>\n"}], "owner": {"reputation": 8517, "user_id": 1515864, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/j4msy.jpg?s=128&g=1", "display_name": "Stupid.Fat.Cat", "link": "https://stackoverflow.com/users/1515864/stupid-fat-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1478735149, "answer_count": 1, "score": 0, "last_activity_date": 1478735148, "creation_date": 1478735025, "question_id": 40517856, "link": "https://stackoverflow.com/questions/40517856/converting-a-string-that-looks-like-a-list-into-an-actual-list", "closed_reason": "Duplicate", "title": "Converting a string that looks like a list into an actual list", "body": "<p>I have this string from a file:</p>\n\n<pre><code>[u'Some string']\n</code></pre>\n\n<p>I read it as a string in my python script, and I need to convert it back into a list. This looks like a horrible idea, but so far eval seems to work fine:</p>\n\n<pre><code>&gt;&gt;&gt; eval(\"[u'Some string']\")\n[u'Some string']\n&gt;&gt;&gt; type(eval(\"[u'Some string']\"))\n&lt;type 'list'&gt;\n</code></pre>\n\n<p>But this seems like a terribly horrible idea. Any way to elegantly do this?</p>\n"}, {"tags": ["python", "multithreading", "user-interface", "pyqt", "pyqt5"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1478736491, "post_id": 40517836, "comment_id": 68277796, "body": "There is a nice example here: <a href=\"http://stackoverflow.com/questions/21071448/redirecting-stdout-and-stderr-to-a-pyqt4-qtextedit-from-a-secondary-thread\" title=\"redirecting stdout and stderr to a pyqt4 qtextedit from a secondary thread\">stackoverflow.com/questions/21071448/&hellip;</a>"}, {"owner": {"reputation": 2532, "user_id": 1863415, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f55fbed5c4dceb0af4cd3759ed364d33?s=128&d=identicon&r=PG", "display_name": "IanRoberts", "link": "https://stackoverflow.com/users/1863415/ianroberts"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1478778454, "post_id": 40517836, "comment_id": 68293891, "body": "Thanks for the comment. That post is useful, but I wonder if it&#39;s still best practice with respect to PyQt5. I thought that QT5 significantly changed slots and signals, replacing older conventions using decorators like @pyqtSlot()?"}, {"owner": {"reputation": 8840, "user_id": 2319400, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9Ckyw.png?s=128&g=1", "display_name": "sebastian", "link": "https://stackoverflow.com/users/2319400/sebastian"}, "edited": false, "score": 0, "creation_date": 1478783340, "post_id": 40517836, "comment_id": 68296899, "body": "Pyqt4 mainly dropped older signals &amp; slots techniques <a href=\"http://pyqt.sourceforge.net/Docs/PyQt5/pyqt4_differences.html#old-style-signals-and-slots\" rel=\"nofollow noreferrer\">pyqt.sourceforge.net/Docs/PyQt5/&hellip;</a>. The ones used in the example however are up to date and should work in PyQt5 as well. The <code>pyqtSlot</code> decorator is not necessary in the linked answer - but doesn&#39;t harm either."}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "reply_to_user": {"reputation": 8840, "user_id": 2319400, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9Ckyw.png?s=128&g=1", "display_name": "sebastian", "link": "https://stackoverflow.com/users/2319400/sebastian"}, "edited": false, "score": 0, "creation_date": 1478811678, "post_id": 40517836, "comment_id": 68313327, "body": "@sebastian Decorating with <code>pyqtSlot</code> is recommended so that you don&#39;t accidentally fall prey to the issue described <a href=\"http://stackoverflow.com/q/20752154/1994235\">here</a>."}, {"owner": {"reputation": 2532, "user_id": 1863415, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f55fbed5c4dceb0af4cd3759ed364d33?s=128&d=identicon&r=PG", "display_name": "IanRoberts", "link": "https://stackoverflow.com/users/1863415/ianroberts"}, "edited": false, "score": 0, "creation_date": 1478813399, "post_id": 40517836, "comment_id": 68314168, "body": "Thanks for the comments. I&#39;m not sure the suggested solution suits my problem though: ideally, I don&#39;t want to create a new QObject class for the function and I want the main GUI to wait until the called function finishes and returns data. In this wait time, I do want the GUI to update however. Is this possible?"}], "owner": {"reputation": 2532, "user_id": 1863415, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f55fbed5c4dceb0af4cd3759ed364d33?s=128&d=identicon&r=PG", "display_name": "IanRoberts", "link": "https://stackoverflow.com/users/1863415/ianroberts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1029, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1478734865, "creation_date": 1478734865, "last_edit_date": 1495542633, "question_id": 40517836, "link": "https://stackoverflow.com/questions/40517836/pyqt-gui-how-to-update-with-progress-of-a-function-thread", "title": "PyQt GUI - How to update with progress of a function / thread?", "body": "<p>I'm building a simple GUI in PyQt5 which offers the user a few buttons to run functions. Each function is fairly complex and prints out information, including a running and constantly updating percent progress value.</p>\n\n<p>Under normal operation, as the user clicks a button, the process runs and the terminal is constantly updated as expected.</p>\n\n<p>However, I'd like to display this printed information in my GUI, rather than the terminal. I have implemented this using an Emitting Stream to pipe stdout to a ListWidget (after: <a href=\"https://stackoverflow.com/questions/22069321/realtime-output-from-a-subprogram-to-stdout-of-a-pyqt-widget\">RealTime output from a subprogram to stdout of a pyQT Widget</a>)</p>\n\n<p>However, my problem is that with PRINT commands redirected to the GUI, it only updates once all function calls have finished executing.</p>\n\n<p>How can I fix this please? I've searched quite a lot for solutions and wonder if QThreads are a solution. However, the functions which print out information are part of a separate module and hence, I'm not sure how to implement a solution using signals or slots or threads etc....</p>\n\n<p>All suggestions greatly appreciated thanks.</p>\n"}, {"tags": ["python", "function", "if-statement", "testing", "nested"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1478734851, "post_id": 40517812, "comment_id": 68277305, "body": "Should you be comparing <code>if n % 4</code> to something?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1478734870, "post_id": 40517812, "comment_id": 68277313, "body": "<code>n % 100 == 0 and n % 400 == 0</code> is redundant; if it&#39;s divisible by 400 it will <i>always</i> be divisible by 100. Think about your math a little harder."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 2, "creation_date": 1478734928, "post_id": 40517812, "comment_id": 68277332, "body": "By the way, <a href=\"https://stackoverflow.com/questions/11621740/how-to-determine-whether-a-year-is-a-leap-year-in-python?rq=1\">already answered</a>"}, {"owner": {"reputation": 4778, "user_id": 1917363, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/112f39ececafcaf7321fcfc67be141dd?s=128&d=identicon&r=PG", "display_name": "applecrusher", "link": "https://stackoverflow.com/users/1917363/applecrusher"}, "edited": false, "score": 1, "creation_date": 1478734974, "post_id": 40517812, "comment_id": 68277347, "body": "calendar.isleap(year)"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1478735105, "post_id": 40517812, "comment_id": 68277394, "body": "You aren&#39;t accounting for the case where it is divisible by 100 but <i>not</i> by 400."}, {"owner": {"reputation": 1328, "user_id": 3574271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rABWl.png?s=128&g=1", "display_name": "anregen", "link": "https://stackoverflow.com/users/3574271/anregen"}, "edited": false, "score": 1, "creation_date": 1478735976, "post_id": 40517812, "comment_id": 68277665, "body": "In your initial code block, the second <code>if</code> should be <code>elif</code>.  Otherwise you return true for any multiple of 4."}, {"owner": {"reputation": 3431, "user_id": 3546086, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4AF5h.jpg?s=128&g=1", "display_name": "HappyHands31", "link": "https://stackoverflow.com/users/3546086/happyhands31"}, "reply_to_user": {"reputation": 4778, "user_id": 1917363, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/112f39ececafcaf7321fcfc67be141dd?s=128&d=identicon&r=PG", "display_name": "applecrusher", "link": "https://stackoverflow.com/users/1917363/applecrusher"}, "edited": false, "score": 0, "creation_date": 1478738485, "post_id": 40517812, "comment_id": 68278285, "body": "@applecrusher I needed to create this program without using the calendar function, but still good to know it exists."}], "answers": [{"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 2, "creation_date": 1478735193, "post_id": 40517870, "comment_id": 68277424, "body": "1800 and 1900 are not leap years"}, {"owner": {"reputation": 3431, "user_id": 3546086, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4AF5h.jpg?s=128&g=1", "display_name": "HappyHands31", "link": "https://stackoverflow.com/users/3546086/happyhands31"}, "edited": false, "score": 0, "creation_date": 1478735504, "post_id": 40517870, "comment_id": 68277522, "body": "Yeah so the key was separating both conditions in the parentheses with an or. Thank you."}, {"owner": {"reputation": 1328, "user_id": 3574271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rABWl.png?s=128&g=1", "display_name": "anregen", "link": "https://stackoverflow.com/users/3574271/anregen"}, "edited": false, "score": 1, "creation_date": 1478735896, "post_id": 40517870, "comment_id": 68277643, "body": "<code>(x % 100 == 0 and x % 400 == 0)</code> is redundant.  If <code>x % 400 == 0</code> is True, then <code>x % 100 == 0</code> must also be true."}, {"owner": {"reputation": 6295, "user_id": 118803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6534d583d8b442b3be4f608a3c45b5b9?s=128&d=identicon&r=PG", "display_name": "Joshua Smith", "link": "https://stackoverflow.com/users/118803/joshua-smith"}, "edited": false, "score": 0, "creation_date": 1478736013, "post_id": 40517870, "comment_id": 68277675, "body": "you are correct.  I&#39;ll update it."}], "tags": [], "owner": {"reputation": 6295, "user_id": 118803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6534d583d8b442b3be4f608a3c45b5b9?s=128&d=identicon&r=PG", "display_name": "Joshua Smith", "link": "https://stackoverflow.com/users/118803/joshua-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1478736108, "last_edit_date": 1478736108, "creation_date": 1478735107, "answer_id": 40517870, "question_id": 40517812, "link": "https://stackoverflow.com/questions/40517812/determining-leap-years/40517870#40517870", "title": "Determining leap years", "body": "<p>try this:</p>\n\n<pre><code>return (n % 100 != 0 and n % 4 == 0) or n % 400 == 0\n</code></pre>\n\n<p>The problem is that you want the year to be divisible cleanly by 4 OR by 400 if it's a century year.  </p>\n\n<pre><code>&gt;&gt;&gt; [(x % 100 != 0 and x % 4 == 0) or x % 400 == 0 for x in [1944, 1956, 2056, 1800, 1900]]\n[True, True, True, False, False]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18829, "user_id": 24998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c14a4f2931fa9336fdccdfe11318fef?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/24998/jack"}, "is_accepted": false, "score": 1, "last_activity_date": 1478735351, "creation_date": 1478735351, "answer_id": 40517919, "question_id": 40517812, "link": "https://stackoverflow.com/questions/40517812/determining-leap-years/40517919#40517919", "title": "Determining leap years", "body": "<p>As mentioned in the comments this is already built-in: <a href=\"https://hg.python.org/cpython/file/2.7/Lib/calendar.py#l97\" rel=\"nofollow noreferrer\">calendar.isleap</a></p>\n\n<p>You can see the <a href=\"https://hg.python.org/cpython/file/2.7/Lib/calendar.py#l97\" rel=\"nofollow noreferrer\">source here</a> it's simply:</p>\n\n<pre><code>return year % 4 == 0 and (year % 100 != 0 or year % 400 == 0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1478735467, "creation_date": 1478735467, "answer_id": 40517935, "question_id": 40517812, "link": "https://stackoverflow.com/questions/40517812/determining-leap-years/40517935#40517935", "title": "Determining leap years", "body": "<p>Written out long form would look like this (for years > 1600):</p>\n\n<pre><code>def isLeapYear(year):\n    if year % 4 != 0:\n        return False\n    elif year % 100 != 0:\n        return True\n    elif year % 400 != 0:\n        return False\n    else:\n        return True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1478735483, "creation_date": 1478735483, "answer_id": 40517938, "question_id": 40517812, "link": "https://stackoverflow.com/questions/40517812/determining-leap-years/40517938#40517938", "title": "Determining leap years", "body": "<p>Here's a longer, potentially less confusing version:</p>\n\n<pre><code>def isLeap(n):\n    if n % 4 == 0:\n        if n % 100 == 0:\n            if n % 400 == 0:\n                return True\n            return False\n        return True\n    return False\n</code></pre>\n"}], "owner": {"reputation": 3431, "user_id": 3546086, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4AF5h.jpg?s=128&g=1", "display_name": "HappyHands31", "link": "https://stackoverflow.com/users/3546086/happyhands31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 0, "closed_date": 1478793712, "accepted_answer_id": 40517870, "answer_count": 4, "score": 0, "last_activity_date": 1478736283, "creation_date": 1478734716, "last_edit_date": 1478736283, "question_id": 40517812, "link": "https://stackoverflow.com/questions/40517812/determining-leap-years", "closed_reason": "Duplicate", "title": "Determining leap years", "body": "<p>We know it's a leap year if it's divisible by four and, if it's a century year,  it's divisible by 400. I thought I would need two If Statements like this:</p>\n\n<pre><code>def isLeap(n):\n\nif n % 100 == 0 and n % 400 == 0:\n    return True\nif n % 4 == 0:\n    return True\nelse:\n    return False\n\n# Below is a set of tests so you can check if the code is correct.\n\nfrom test import testEqual\n\ntestEqual(isLeap(1944), True)\ntestEqual(isLeap(2011), False)\ntestEqual(isLeap(1986), False)\ntestEqual(isLeap(1956), True)\ntestEqual(isLeap(1957), False)\ntestEqual(isLeap(1800), False)\ntestEqual(isLeap(1900), False)\ntestEqual(isLeap(1600), True)\ntestEqual(isLeap(2056), True)\n</code></pre>\n\n<p>When I tried the code above I got error messages for the years </p>\n\n<pre><code>1800 - Test Failed: expected False but got True\n1900 - Test Failed: expected False but got True\n</code></pre>\n\n<p>Basically I need my code to say that \"the test is true if the year is divisible by four, and, if it's a century year, it's divisible by 400.\" But when I try:</p>\n\n<pre><code>if n % 4 and (n % 100 == 0 and n % 400 == 0):\n    return True\nelse: \n    return False\n</code></pre>\n\n<p>I get three error messages (for the years)</p>\n\n<pre><code>1944 - Test Failed: expected True but got False\n1956 - Test Failed: expected True but got False\n2056 - Test Failed: expected True but got False\n</code></pre>\n\n<p>So it looks like me creating the second condition (divisible by 100 and 400) has canceled out the years that are divisible by 4. </p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 2, "creation_date": 1478734601, "post_id": 40517758, "comment_id": 68277237, "body": "You <i>wouldn&#39;t</i> slice that <code>data</code> with the expression above.  Notice that there are 3 slices being passed -- each slice corresponds to a particular dimension in the array.  Since you have 2 dimensional data, you wouldn&#39;t pass 3 slices, only 2."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1478735048, "post_id": 40517758, "comment_id": 68277379, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/38988560/python-advanced-slicing\">Python advanced slicing</a>"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1478735683, "post_id": 40517758, "comment_id": 68277578, "body": "Or even basic indexing; the <code>:</code> is used in list indexing; the <code>,</code> is fundamental to indexing multidimensions in <code>numpy</code>."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 0, "last_activity_date": 1478739101, "creation_date": 1478739101, "answer_id": 40518399, "question_id": 40517758, "link": "https://stackoverflow.com/questions/40517758/python-numpy-array-intepretation/40518399#40518399", "title": "python numpy array intepretation", "body": "<p>Here's a use of the index pattern:</p>\n\n<p>Make a 3d array, with shape large enough to accommodate this index;</p>\n\n<pre><code>In [568]: data=np.arange(2*6*5).reshape(2,6,5)\nIn [569]: data[:, 2:5, 1:4]\nOut[569]: \narray([[[11, 12, 13],\n        [16, 17, 18],\n        [21, 22, 23]],\n\n       [[41, 42, 43],\n        [46, 47, 48],\n        [51, 52, 53]]])\n</code></pre>\n\n<p>The result is a (2,3,3) array.  If we think of the 3d array as having planes, rows and columns, this returns all planes, 3 rows, and 3 columns.  It may help to print out <code>data</code> and identify the elements that have been selected.  I made them unique to make this easier.</p>\n\n<p>This is an example of basic indexing (all indexing terms are slices):</p>\n\n<p><a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#basic-slicing-and-indexing\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#basic-slicing-and-indexing</a></p>\n"}], "owner": {"reputation": 197, "user_id": 5802211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8a8d158a40051856b398ceafa2beecf3?s=128&d=identicon&r=PG&f=1", "display_name": "user5802211", "link": "https://stackoverflow.com/users/5802211/user5802211"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 40518399, "answer_count": 1, "score": 0, "last_activity_date": 1478739101, "creation_date": 1478734380, "question_id": 40517758, "link": "https://stackoverflow.com/questions/40517758/python-numpy-array-intepretation", "title": "python numpy array intepretation", "body": "<p>I have problem in interpret the numpy array in python, for example, </p>\n\n<pre><code>data[:,i:i+3, j:j+3]\n</code></pre>\n\n<p>if i =2, j =1, then it would be <code>data[ :, 2: 5,1:4]</code>\nsuppose the whole data array look like this:</p>\n\n<pre><code>data =([[ 0,  1,  2,  3,  4,  5],\n       [10, 11, 12, 13, 14, 15],\n       [20, 21, 22, 23, 24, 25],\n       [30, 31, 32, 33, 34, 35],\n       [40, 41, 42, 43, 44, 45],\n       [50, 51, 52, 53, 54, 55]])\n</code></pre>\n\n<p>then what does the array  <code>data[ :, 2: 5,1:4]</code> look like? I really don't understand what does the colon <code>:</code> mean, and what does the comma <code>,</code> here mean?</p>\n"}, {"tags": ["python", "dictionary", "parameters", "optional-parameters"], "answers": [{"tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": true, "score": 1, "last_activity_date": 1478735619, "creation_date": 1478735619, "answer_id": 40517958, "question_id": 40517747, "link": "https://stackoverflow.com/questions/40517747/storing-functions-in-a-dictionary-with-different-numbers-of-parameters/40517958#40517958", "title": "Storing functions in a dictionary with different numbers of parameters", "body": "<p>If you can modify the dispacher dict, you could wrap your your function referneces to lambdas. Its one way of doing this. Here is some example:</p>\n\n<pre><code>def fill_missing_data_average(a):\n    print(a)\n\ndef fill_missing_data(a, b):\n    print(a, b)\n\ndef drop_column(a):\n    print(a)\n\ndispatcher = {\"avg\": lambda a,_: fill_missing_data_average(a),\n              \"value\": lambda a,b: fill_missing_data(a,b),\n              \"drop\": lambda a,_: drop_column(a)}\n\n\ndispatcher[\"avg\"](1,2)\ndispatcher[\"value\"](1,2)\ndispatcher[\"drop\"](1,2)\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>1\n1 2\n1\n</code></pre>\n"}], "owner": {"reputation": 507, "user_id": 4517714, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1814758297/picture?type=large", "display_name": "Zakery Alexander Fyke", "link": "https://stackoverflow.com/users/4517714/zakery-alexander-fyke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 40517958, "answer_count": 1, "score": 1, "last_activity_date": 1478736397, "creation_date": 1478734320, "last_edit_date": 1478736397, "question_id": 40517747, "link": "https://stackoverflow.com/questions/40517747/storing-functions-in-a-dictionary-with-different-numbers-of-parameters", "title": "Storing functions in a dictionary with different numbers of parameters", "body": "<p>I've been toying with using a dictionary to replace a switch case in python. I have the following dictionary:</p>\n\n<pre><code>dispatcher = {\"avg\": data_filler.fill_missing_data_average,\n              \"value\": data_filler.fill_missing_data,\n              \"drop\": data_filler.drop_column}\n</code></pre>\n\n<p>Where fill_missing_data_average, fill_missing_data, and drop_column are all functions. I am then calling these functions in the following way:</p>\n\n<pre><code>for col in self.to_do_list:\n    self.pandas_dataset[col] = dispatcher[self.to_do_list[col]]()\n</code></pre>\n\n<p>Now, something should go in the () after the dispatcher call. But while fill_missing_data_average and drop_column both take a only a pandas dataframe as an argument, fill_missing_data takes both a pandas dataframe and a numerical value.</p>\n\n<p>Is there a way to still use this method with functions that take a different number of parameters?</p>\n"}, {"tags": ["python", "jenkins-pipeline"], "answers": [{"tags": [], "owner": {"reputation": 5953, "user_id": 2850565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sYn6L.png?s=128&g=1", "display_name": "John McGehee", "link": "https://stackoverflow.com/users/2850565/john-mcgehee"}, "is_accepted": false, "score": 0, "last_activity_date": 1478735411, "last_edit_date": 1478735411, "creation_date": 1478734749, "answer_id": 40517818, "question_id": 40517745, "link": "https://stackoverflow.com/questions/40517745/python-programs-exit-with-runtimeerror-unidentifiable-c-exception-in-jenkin/40517818#40517818", "title": "Python programs exit with &quot;RuntimeError: unidentifiable C++ exception&quot; in Jenkins pipeline", "body": "<p>The problem is that Jenkins uses <code>@</code> as a delimiter in the paths of concurrent jobs.  For example,</p>\n\n<pre><code>/space/jenkins/workspace/sdk/wave@2/\n</code></pre>\n\n<p>The solution is to specify a different delimiter character using the argument,</p>\n\n<pre><code>-Dhudson.slaves.WorkspaceList=.\n</code></pre>\n\n<p>and re-start Jenkins.\nThe above example changes the <code>@</code> in the workspace paths for parallel builds to <code>.</code>.</p>\n\n<p>On Linux you can implement this change by adding the following to <code>/etc/default/jenkins</code>:</p>\n\n<pre><code># Use \".\" instead of \"@\" as the delimiter in concurrent workspace paths\nJAVA_ARGS=\"$JAVA_ARGS -Dhudson.slaves.WorkspaceList=.\"\n</code></pre>\n\n<p>Then re-start Jenkins:</p>\n\n<pre><code>sudo service jenkins restart\n</code></pre>\n"}], "owner": {"reputation": 5953, "user_id": 2850565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sYn6L.png?s=128&g=1", "display_name": "John McGehee", "link": "https://stackoverflow.com/users/2850565/john-mcgehee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478735411, "creation_date": 1478734316, "question_id": 40517745, "link": "https://stackoverflow.com/questions/40517745/python-programs-exit-with-runtimeerror-unidentifiable-c-exception-in-jenkin", "title": "Python programs exit with &quot;RuntimeError: unidentifiable C++ exception&quot; in Jenkins pipeline", "body": "<p>On the Linux command line and in Jenkins 1.625, my Python programs run fine.  In Jenkins 2.19 with Pipeline, they exit with the message:</p>\n\n<pre><code>RuntimeError: unidentifiable C++ exception\n</code></pre>\n\n<p>What is the problem?</p>\n"}, {"tags": ["python", "nlp", "geograpy"], "comments": [{"owner": {"reputation": 11937, "user_id": 1497139, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/3FVKA.png?s=128&g=1", "display_name": "Wolfgang Fahl", "link": "https://stackoverflow.com/users/1497139/wolfgang-fahl"}, "edited": false, "score": 0, "creation_date": 1603270189, "post_id": 40517720, "comment_id": 113980863, "body": "you might want to use geograpy3 instead <a href=\"https://github.com/somnathrakshit/geograpy3\" rel=\"nofollow noreferrer\">github.com/somnathrakshit/geograpy3</a>"}], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 2846387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4307e5437f2a781065838dfaf9d41787?s=128&d=identicon&r=PG&f=1", "display_name": "Naima", "link": "https://stackoverflow.com/users/2846387/naima"}, "is_accepted": false, "score": 4, "last_activity_date": 1480364494, "creation_date": 1480364494, "answer_id": 40852778, "question_id": 40517720, "link": "https://stackoverflow.com/questions/40517720/python-geograpy-unable-to-run-demo/40852778#40852778", "title": "Python Geograpy unable to run demo", "body": "<p>I faced the same problem. It just requires to change the correct variable name in palces.py file located in\nC:\\Users\\Naima\\AppData\\Roaming\\Python\\Python27\\site-packages\\geograpy\\places.py\nGo to the line 174 in places.py file and replace the country.name with country_name as follows:</p>\n\n<pre><code> self.country_cities[country_name] = []\n</code></pre>\n\n<p>Hope this works!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7138786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1603270135, "creation_date": 1478734153, "last_edit_date": 1603270135, "question_id": 40517720, "link": "https://stackoverflow.com/questions/40517720/python-geograpy-unable-to-run-demo", "title": "Python Geograpy unable to run demo", "body": "<p>I am trying to run python's geograpy  <a href=\"https://pypi.python.org/pypi/geograpy\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/geograpy</a>.</p>\n\n<p>I installed geography using both </p>\n\n<pre><code>pip install geograpy\n</code></pre>\n\n<p>and </p>\n\n<pre><code>python setup.py install\n</code></pre>\n\n<p>I also made sure all the nltk's were installed properly.\nI installed any dependencies used by geograpy.\nI made the following changes to extraction.py </p>\n\n<pre><code>if (ne.node == 'GPE' or ne.node == 'PERSON') and ne[0][1] == 'NNP':\n\nto\n\nif (ne.label() == 'GPE' or ne.label() == 'PERSON') and ne[0][1] == 'NNP':\n</code></pre>\n\n<p>The demo code I am running is </p>\n\n<pre><code>import geograpy\nurl = 'http://www.gutenberg.ca/ebooks/doyleac-casebookofsherlockholmes/doyleac-casebookofsherlockholmes-00-h.html'\n\nplaces = geograpy.get_place_context(url=url)\n\nprint places.country_mentions\nprint places.region_mentions\nprint places.city_mentions\n</code></pre>\n\n<p>However, I am getting this error </p>\n\n<pre><code>    if (ne.label() == 'GPE' or ne.label() == 'PERSON') and ne[0][1] == 'NNP':\nAttributeError: 'Tree' object has no attribute 'label'\n</code></pre>\n\n<p>And if i change the extraction.py back to </p>\n\n<pre><code>if (ne.node == 'GPE' or ne.node == 'PERSON') and ne[0][1] == 'NNP':\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>  File \"C:\\Program Files (x86)\\Python27\\lib\\site-packages\\geograpy-0.3.7-py2.7.egg\\geograpy\\places.py\", line 174, in set_cities\n    self.country_cities[country.name] = []\nAttributeError: 'NoneType' object has no attribute 'name'\n</code></pre>\n\n<p>I will also mention that I was using NLTK 3, but geograpy downgraded it to NLTK2.0.5.</p>\n\n<p>Someone out there PLEASEEEEEEE help! THANKS</p>\n"}, {"tags": ["python", "python-3.x", "turtle-graphics"], "comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1478734887, "post_id": 40517718, "comment_id": 68277319, "body": "Side notes: why does <code>GeometricObject</code> not take <code>lineWidth</code> and <code>lineColor</code> as parameters? Why does only its grandchild get to customise? Also, in Python you should use <code>snake_case</code>, not <code>camelCase</code>."}], "answers": [{"comments": [{"owner": {"reputation": 983, "user_id": 2556478, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9ba2c5f36ea4fd24fcd0671a735729c?s=128&d=identicon&r=PG&f=1", "display_name": "RDM", "link": "https://stackoverflow.com/users/2556478/rdm"}, "edited": false, "score": 0, "creation_date": 1478734860, "post_id": 40517788, "comment_id": 68277308, "body": "I didn&#39;t understand the solution. What exactly is &quot;color&quot; doing ?"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 983, "user_id": 2556478, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9ba2c5f36ea4fd24fcd0671a735729c?s=128&d=identicon&r=PG&f=1", "display_name": "RDM", "link": "https://stackoverflow.com/users/2556478/rdm"}, "edited": false, "score": 0, "creation_date": 1478735062, "post_id": 40517788, "comment_id": 68277383, "body": "@RahulDevMishra Getting passed into the super constructor, i.e. the constructor of <code>Shape</code>. How else is the color going to be set? Try running your code plus <code>cornerPoints = []; p = Polygon(cornerPoints); print(p.fillColor)</code>. What do you think will happen?"}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": true, "score": 2, "last_activity_date": 1478734543, "creation_date": 1478734543, "answer_id": 40517788, "question_id": 40517718, "link": "https://stackoverflow.com/questions/40517718/python-how-to-get-parents-class-parameters-in-child-class-constructor-argument/40517788#40517788", "title": "Python: How to get Parent&#39;s class parameters in Child class constructor arguments", "body": "<pre><code>class GeometricObject:\n    def __init__(self):\n        self.lineColor = 'black'\n        self.lineWidth = 1\n\n        # getters\n\nclass Shape(GeometricObject):\n    def __init__(self, color):\n        super().__init__()\n        self.fillColor = color\n\nclass Polygon(Shape):\n    def __init__(self, cornerPoints, color, lineWidth=None, lineColor=None):\n        super().__init__(color)\n        self.cornerPoints = cornerPoints\n        if lineColor is not None:\n            self.lineColor = lineColor\n        if lineWidth is not None:\n            self.lineWidth = lineWidth\n</code></pre>\n\n<p>I've added calls to the super constructor which is the main thing you were missing. In your code only one <code>__init__</code> gets called. This also means I had to add the missing <code>color</code> parameter to <code>Polygon</code>.</p>\n\n<p>If no falsy values are allowed in <code>Polygon</code>, then the if statements can be replaced with:</p>\n\n<pre><code>    self.lineColor = lineColor or self.lineColor\n    self.lineWidth = lineWidth or self.lineWidth\n</code></pre>\n"}], "owner": {"reputation": 983, "user_id": 2556478, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9ba2c5f36ea4fd24fcd0671a735729c?s=128&d=identicon&r=PG&f=1", "display_name": "RDM", "link": "https://stackoverflow.com/users/2556478/rdm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 40517788, "answer_count": 1, "score": 0, "last_activity_date": 1478734543, "creation_date": 1478734145, "question_id": 40517718, "link": "https://stackoverflow.com/questions/40517718/python-how-to-get-parents-class-parameters-in-child-class-constructor-argument", "title": "Python: How to get Parent&#39;s class parameters in Child class constructor arguments", "body": "<p>I have three classes which extend each other.</p>\n\n<pre><code>class GeometricObject:\n    def __init__(self):\n        self.lineColor = 'black'\n        self.lineWidth = 1\n\n    def getColor(self):\n        return self.lineColor\n\n    def getWidth(self):\n        return self.lineWidth\n\nclass Shape(GeometricObject):\n    def __init__(self, color):\n        self.fillColor = color\n\nclass Polygon(Shape):\n    def __init__(self, cornerPoints, lineWidth = ?, lineColor = ?):\n        self.cornerPoints = cornerPoints\n        self.lineColor = lineColor\n        self.lineWidth = lineWidth\n</code></pre>\n\n<p>I have a simple question here. I want to default the values of lineWidth and lineColor and set it to the values that are given in the GeometricObject class. If I don't default it, then I would have to then always pass three parameters to the Polygon class constructor. And this is what I am trying to avoid. If lineWidth and lineColor are not passed then it should default the values.</p>\n\n<p>Any suggestions ?</p>\n"}, {"tags": ["python", "authentication", "flask-security", "flask-restless", "flask-jwt"], "owner": {"reputation": 11, "user_id": 7101999, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N0Yx0LHXAHM/AAAAAAAAAAI/AAAAAAAACXc/tpDnahebae0/photo.jpg?sz=128", "display_name": "Juan Noriega", "link": "https://stackoverflow.com/users/7101999/juan-noriega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478734116, "creation_date": 1478734116, "question_id": 40517711, "link": "https://stackoverflow.com/questions/40517711/flask-restless-preprocessors-get-many-doesnt-works-auth-rest-api-with-flask-s", "title": "Flask Restless Preprocessors: GET_MANY doesn&#39;t works (auth REST API with Flask-Security)", "body": "<p>Documentation is ambiguous, sometimes GET_MANY and other GET_COLLECTION are used. I need to make a preprocessor to authorize. GET_SINGLE does work (return 401: forbiden), but GET_MANY or GET_COLLECTION does not (return 200: ok).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@\r\nauth_token_required@ roles_accepted('admin', 'supervisor')\r\ndef auth_func( * args, * * kw):\r\n  print('@Juan: calling auth_func...')\r\npass\r\n\r\n@ auth_token_required@ roles_accepted('adminxxx', 'supervisor')\r\ndef get_many(search_params = None, * * kw):\r\n  print('@Juan: calling get_many...')\r\npass\r\npreprocessors = {\r\n  'GET_SINGLE': [auth_func],\r\n  'GET_MANY': [get_many]\r\n}\r\napi_manager = APIManager(app, flask_sqlalchemy_db = db)\r\napi_manager.create_api(Person,\r\n  methods = ['GET', 'POST', 'DELETE', 'PUT'],\r\n  preprocessors = preprocessors)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "numpy", "image-processing", "scipy"], "comments": [{"owner": {"reputation": 2417, "user_id": 4357938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0IKy.jpg?s=128&g=1", "display_name": "Ophir Carmi", "link": "https://stackoverflow.com/users/4357938/ophir-carmi"}, "edited": false, "score": 0, "creation_date": 1478766906, "post_id": 40517679, "comment_id": 68286698, "body": "2x2 block has the following indices X = [0, 0, 1, 1], Y = [0, 1, 1, 0]. and not as you mentioned"}, {"owner": {"reputation": 2417, "user_id": 4357938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0IKy.jpg?s=128&g=1", "display_name": "Ophir Carmi", "link": "https://stackoverflow.com/users/4357938/ophir-carmi"}, "edited": false, "score": 0, "creation_date": 1478768037, "post_id": 40517679, "comment_id": 68287227, "body": "or maybe X = [0, 0, 1, 1], Y = [0, 1, 0, 1]"}, {"owner": {"reputation": 2417, "user_id": 4357938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0IKy.jpg?s=128&g=1", "display_name": "Ophir Carmi", "link": "https://stackoverflow.com/users/4357938/ophir-carmi"}, "edited": false, "score": 0, "creation_date": 1478769192, "post_id": 40517679, "comment_id": 68287888, "body": "and also the output is 4d because every 2x2 block in the image has 4x5 matrix."}], "answers": [{"comments": [{"owner": {"reputation": 472, "user_id": 7034796, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8tIS.jpg?s=128&g=1", "display_name": "Streem", "link": "https://stackoverflow.com/users/7034796/streem"}, "edited": false, "score": 0, "creation_date": 1478778761, "post_id": 40523754, "comment_id": 68294095, "body": "Thanks Ophir it seems done exactly what I need, please could you check I understand output correctly first 3 values R,G,B what for stands 4th value? Bottom entries is X and Y?    R     G    B     ? [[237 235 238 237]    [233 231 234 233]    [234 232 235 234]    [  0   0   1   1] X    [  0   1   0   1]] Y       R     G    B    ?   [[243 240 244 240]    [234 231 235 231]    [237 234 238 234]    [  0   0   1   1] X    [  2   3   2   3]] Y"}], "tags": [], "owner": {"reputation": 2417, "user_id": 4357938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0IKy.jpg?s=128&g=1", "display_name": "Ophir Carmi", "link": "https://stackoverflow.com/users/4357938/ophir-carmi"}, "is_accepted": true, "score": 1, "last_activity_date": 1478783374, "last_edit_date": 1478783374, "creation_date": 1478769229, "answer_id": 40523754, "question_id": 40517679, "link": "https://stackoverflow.com/questions/40517679/divide-image-into-blocks/40523754#40523754", "title": "Divide image into blocks", "body": "<p>add the following to your code:</p>\n\n<pre><code>a = data[::2, ::2, :]\nb = data[::2, 1::2, :]\nc = data[1::2, ::2, :]\nd = data[1::2, 1::2, :]\ne = np.stack([a, b, c, d], axis=3)\nprint(e)\n</code></pre>\n\n<p>Using my image:</p>\n\n<pre><code>     R    G    B     X    Y\n[[[  47  124  206    0    0]\n  [  52  124  206    0    1]\n  [  53  126  205    0    2]\n  ..., \n  [  74  129  211    0 1021]\n  [  73  130  211    0 1022]\n  [  69  132  211    0 1023]]\n\n [[  47  124  206    1    0]\n  [  51  123  205    1    1]\n  [  53  126  205    1    2]\n  ..., \n  [  75  130  212    1 1021]\n  [  73  130  211    1 1022]\n  [  69  130  210    1 1023]] ...\n</code></pre>\n\n<p>turns to:</p>\n\n<pre><code>[[[[  47   52   47   51]   R\n   [ 124  124  124  123]   G\n   [ 206  206  206  205]   B\n   [   0    0    1    1]   X\n   [   0    1    0    1]]  Y\n\n  [[  53   58   53   58]   R\n   [ 126  125  126  125]   G\n   [ 205  204  205  204]   B\n   [   0    0    1    1]   X\n   [   2    3    2    3]]  Y\n\n  [[  64   71   64   70]   R\n   [ 127  126  127  127]   G\n   [ 206  208  206  208]   B\n   [   0    0    1    1]   X\n   [   4    5    4    5]]  Y\n\n  ..., \n</code></pre>\n"}], "owner": {"reputation": 472, "user_id": 7034796, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8tIS.jpg?s=128&g=1", "display_name": "Streem", "link": "https://stackoverflow.com/users/7034796/streem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "accepted_answer_id": 40523754, "answer_count": 1, "score": 1, "last_activity_date": 1478783374, "creation_date": 1478733852, "question_id": 40517679, "link": "https://stackoverflow.com/questions/40517679/divide-image-into-blocks", "title": "Divide image into blocks", "body": "<p>I am using code to list image pixels with important information for later use - Red, Green, Blue, X, Y.</p>\n\n<pre><code>import numpy as np\nfrom scipy.misc import imread\n\nim = imread(\"image.jpg\") \n\nindices = np.dstack(np.indices((im.shape[:2])))\ndata = np.concatenate((im, indices), axis=-1)\nprint data\n</code></pre>\n\n<p>printed data:</p>\n\n<pre><code>        R   G   B    X   Y\n    [[[237 233 234   0   0]\n      [235 231 232   0   1]\n      [243 234 237   0   2]\n      ..., \n      [236 232 233   0 507]\n      [233 229 230   0 508]\n      [236 232 233   0 509]]\n</code></pre>\n\n<p>But it prints whole image data plain not in blocks. How to get this data in 2x2 blocks, 4 pixels information in block? Like this:</p>\n\n<pre><code>    R   G   B    X   Y\n[[[237 233 234   0   0]\n  [235 231 232   0   1]\n  [243 234 237   0   2]\n  [243 234 257   0   3]]\n</code></pre>\n"}, {"tags": ["python", "matrix-inverse"], "comments": [{"owner": {"reputation": 3420, "user_id": 675723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f525203adb5093c5954b43a5b6420c2?s=128&d=identicon&r=PG", "display_name": "BadZen", "link": "https://stackoverflow.com/users/675723/badzen"}, "edited": false, "score": 1, "creation_date": 1478733934, "post_id": 40517674, "comment_id": 68277040, "body": "You want to invert a singular matrix?"}, {"owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "edited": false, "score": 4, "creation_date": 1478733994, "post_id": 40517674, "comment_id": 68277060, "body": "You know that a singular matrix doesn&#39;t have an inverse, by definition, right?"}, {"owner": {"reputation": 3420, "user_id": 675723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8f525203adb5093c5954b43a5b6420c2?s=128&d=identicon&r=PG", "display_name": "BadZen", "link": "https://stackoverflow.com/users/675723/badzen"}, "edited": false, "score": 0, "creation_date": 1478734033, "post_id": 40517674, "comment_id": 68277071, "body": "(Do you mean you are trying to solve a system of simultaneous linear equations given by a singular matrix?)"}, {"owner": {"reputation": 399, "user_id": 3783676, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/38cbacb26a38a4830602d5a981d6fb25?s=128&d=identicon&r=PG&f=1", "display_name": "user3783676", "link": "https://stackoverflow.com/users/3783676/user3783676"}, "edited": false, "score": 0, "creation_date": 1478743445, "post_id": 40517674, "comment_id": 68279450, "body": "I know it is not possible to inverse a singular matrix. But I don&#39;t think Q+1e-5*np.eye(d) can be singular too. I am just wondering why the result is NaN."}], "answers": [{"tags": [], "owner": {"reputation": 2044, "user_id": 6733371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5a4c02ed1ce17fd1f60579e73384d310?s=128&d=identicon&r=PG&f=1", "display_name": "qfwfq", "link": "https://stackoverflow.com/users/6733371/qfwfq"}, "is_accepted": false, "score": 1, "last_activity_date": 1478735645, "creation_date": 1478735645, "answer_id": 40517961, "question_id": 40517674, "link": "https://stackoverflow.com/questions/40517674/inverse-a-matrix-in-python/40517961#40517961", "title": "Inverse a matrix in python", "body": "<p>A singular matrix, by definition, has no inverse. Based on this example it looks like the writers of <code>numpy</code> chose to give you an undefined result instead of throwing an error when you try to invert a matrix which cannot be inverted. </p>\n"}], "owner": {"reputation": 399, "user_id": 3783676, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/38cbacb26a38a4830602d5a981d6fb25?s=128&d=identicon&r=PG&f=1", "display_name": "user3783676", "link": "https://stackoverflow.com/users/3783676/user3783676"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478786253, "creation_date": 1478733806, "last_edit_date": 1478786253, "question_id": 40517674, "link": "https://stackoverflow.com/questions/40517674/inverse-a-matrix-in-python", "title": "Inverse a matrix in python", "body": "<p>I want to inverse a matrix Q+1e-5*np.eye(d) (size d X d) and use the following code to get the  approximate result.</p>\n\n<pre><code>Q = X.dot(X.T) # X is a large sparse matrix, Q is singular\nP = np.linalg.inv(Q+1e-5*np.eye(d))\n</code></pre>\n\n<p>But I got this:</p>\n\n<pre><code>P=[[ nan  nan  nan ...,  nan  nan  nan]\n  [ nan  nan  nan ...,  nan  nan  nan]\n  [ nan  nan  nan ...,  nan  nan  nan]\n   ...,\n  [ nan  nan  nan ...,  nan  nan  nan]\n  [ nan  nan  nan ...,  nan  nan  nan]\n  [ nan  nan  nan ...,  nan  nan  nan]]\n</code></pre>\n\n<p>Do anyone have any idea?</p>\n"}, {"tags": ["python", "praat"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1478736328, "post_id": 40517645, "comment_id": 68277757, "body": "For some reason, the Python wrapper around praat is trying to create a praatScripts directory if it&#39;s not there, right next to the /usr/bin/praat executable. Of course, that requires root permission. But overall, it simply should not do this; it&#39;s just bad practice. I&#39;m inclined to say: avoid this package."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1478736428, "post_id": 40517645, "comment_id": 68277782, "body": "Alternatively, you could try and create virtualenv and work in that, since that environment will be owned by you. But it&#39;s a work-around, not a real solution to the problem."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 1, "creation_date": 1478736662, "post_id": 40517645, "comment_id": 68277840, "body": "Perhaps you can take up this issue with the author, and ask what their actual intention is. But it feels very un-system like to have a directory /usr/bin/praatScripts/ ."}, {"owner": {"reputation": 1383, "user_id": 4107770, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/84cd102ae268671aa55a8869094210fd?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Vargas", "link": "https://stackoverflow.com/users/4107770/vladimir-vargas"}, "edited": false, "score": 0, "creation_date": 1478739763, "post_id": 40517645, "comment_id": 68278598, "body": "@Evert Trying <a href=\"http://homepage.univie.ac.at/christian.herbst//python/#topOfPage\" rel=\"nofollow noreferrer\">this</a> but still getting other kind of errors."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1478742407, "post_id": 40517645, "comment_id": 68279199, "body": "&quot;other kind of errors&quot; is obviously a different (new) question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1478742617, "post_id": 40517645, "comment_id": 68279249, "body": "You also point to a completely other example, without mentioning if you already solved your actual problem stated here. (Besides, &quot;this&quot; is a rather generic pointer to a page with a dozen code samples. You&#39;ll want to ask a new question then, detailing what you attempt to do and what the error is, as you&#39;ve done here.)"}], "answers": [{"tags": [], "owner": {"reputation": 480, "user_id": 4098392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1633ee5a2f08b551ce64a4f75673c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Arif Rathod", "link": "https://stackoverflow.com/users/4098392/arif-rathod"}, "is_accepted": false, "score": 0, "last_activity_date": 1534144726, "creation_date": 1534144726, "answer_id": 51817040, "question_id": 40517645, "link": "https://stackoverflow.com/questions/40517645/installing-python-praat-scripts-in-ubuntu/51817040#51817040", "title": "Installing python-praat-scripts in Ubuntu", "body": "<p>I have another way to run praat scripts.\nyou can try this way.</p>\n\n<p>First you have to install praat to run python praat scripts\n- you can install praat using this   \"sudo apt-get install praat\"</p>\n\n<ul>\n<li>after that open praat GUI using \"./praat\" command in CMD.</li>\n<li>there is option run to praat scripts. click on it and select your praat script and execute.</li>\n</ul>\n"}], "owner": {"reputation": 1383, "user_id": 4107770, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/84cd102ae268671aa55a8869094210fd?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Vargas", "link": "https://stackoverflow.com/users/4107770/vladimir-vargas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534144726, "creation_date": 1478733603, "last_edit_date": 1478736096, "question_id": 40517645, "link": "https://stackoverflow.com/questions/40517645/installing-python-praat-scripts-in-ubuntu", "title": "Installing python-praat-scripts in Ubuntu", "body": "<p>I want to install the <a href=\"https://pypi.python.org/pypi/python-praat-scripts/0.2.2\" rel=\"nofollow noreferrer\">python-praat-scripts</a> package. It says:</p>\n\n<blockquote>\n  <h1>Installation</h1>\n  \n  <p>You can install python-praat-scripts through pip via:</p>\n  \n  <p><code>pip install python-praat-scripts</code></p>\n  \n  <p>Or through downloading this repository and running:</p>\n  \n  <p><code>python setup.py install</code></p>\n  \n  <p>Once installed, the <code>praatinterface</code> package will be importable.</p>\n</blockquote>\n\n<p>So I did that. Then it says:</p>\n\n<blockquote>\n  <p>For basic usage, instantiate a PraatLoader object as below:</p>\n  \n  <p>``` from praatinterface import PraatLoader</p>\n  \n  <p>pl = PraatLoader(praatpath = '/path/to/praat')</p>\n  \n  <p>text = pl.run_script('formants.praat', '/path/to/wav/file', 5, 5500)</p>\n  \n  <p>formants = pl.read_praat_out(text) ```</p>\n</blockquote>\n\n<p>So I wrote the following:</p>\n\n<pre><code>from praatinterface import PraatLoader\n\npraat_path = '/usr/bin/praat'\npl = PraatLoader(praatpath = praat_path)\nfor path in ae_paths:\n    text = pl.run_script('formants.praat', path, 5, 5500)\n    formants = pl.read_praat_out(text)\n    print(formants)\n</code></pre>\n\n<p>here <code>ae_paths</code> is a list with audio paths. The praat path was found by writing in the terminal:</p>\n\n<blockquote>\n  <p>vladimir@vladimir:/usr/bin$ type praat </p>\n  \n  <p>praat is /usr/bin/praat</p>\n</blockquote>\n\n<p>However I get an error:</p>\n\n<blockquote>\n  <p>--------------------------------------------------------------------------- PermissionError                           Traceback (most recent call\n  last)  in ()\n        2 \n        3 praat_path = '/usr/bin/praat'\n  ----> 4 pl = PraatLoader(praatpath = praat_path)\n        5 for path in ae_paths:\n        6     text = pl.run_script('formants.praat', path, 5, 5500)</p>\n  \n  <p>/home/vladimir/anaconda3/lib/python3.5/site-packages/praatinterface/Praat.py\n  in <strong>init</strong>(self, **kwargs)\n       18             self.script_dir = os.path.join(os.path.dirname(<strong>file</strong>),'praatScripts')\n       19             self.praat = 'praat'\n  ---> 20         self.init_scripts()\n       21         if self.debug:\n       22             self.initlog()</p>\n  \n  <p>/home/vladimir/anaconda3/lib/python3.5/site-packages/praatinterface/Praat.py\n  in init_scripts(self)\n       35     def init_scripts(self):\n       36         if not os.path.isdir(self.script_dir):\n  ---> 37             os.mkdir(self.script_dir)\n       38         for s in self.scripts:\n       39             sfilename = s</p>\n  \n  <p>PermissionError: [Errno 13] Permission denied: '/usr/bin/praatScripts'</p>\n</blockquote>\n"}, {"tags": ["python", "python-2.7", "pandas", "pyspark", "spark-dataframe"], "answers": [{"comments": [{"owner": {"reputation": 2162, "user_id": 10834788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e60f66d50f51405a046e2b835aee79b6?s=128&d=identicon&r=PG&f=1", "display_name": "Aviral Srivastava", "link": "https://stackoverflow.com/users/10834788/aviral-srivastava"}, "edited": false, "score": 0, "creation_date": 1555629605, "post_id": 40617153, "comment_id": 98185902, "body": "Can I just give the schema for the entire None column and skip the rest of the columns?"}], "tags": [], "owner": {"reputation": 1175, "user_id": 1142113, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ce627ea82f589ccb85c6a37b921dcad6?s=128&d=identicon&r=PG", "display_name": "Gregology", "link": "https://stackoverflow.com/users/1142113/gregology"}, "is_accepted": false, "score": 33, "last_activity_date": 1547582513, "last_edit_date": 1547582513, "creation_date": 1479234524, "answer_id": 40617153, "question_id": 40517553, "link": "https://stackoverflow.com/questions/40517553/pyspark-valueerror-some-of-types-cannot-be-determined-after-inferring/40617153#40617153", "title": "pyspark: ValueError: Some of types cannot be determined after inferring", "body": "<p>In order to infer the field type, PySpark looks at the non-none records in each field. If a field only has None records, PySpark can not infer the type and will raise that error.</p>\n\n<p>Manually defining a schema will resolve the issue</p>\n\n<pre><code>&gt;&gt;&gt; from pyspark.sql.types import StructType, StructField, StringType\n&gt;&gt;&gt; schema = StructType([StructField(\"foo\", StringType(), True)])\n&gt;&gt;&gt; df = spark.createDataFrame([[None]], schema=schema)\n&gt;&gt;&gt; df.show()\n+----+\n|foo |\n+----+\n|null|\n+----+\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 7151006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206473079739479/picture?type=large", "display_name": "Mojgan Mazouchi", "link": "https://stackoverflow.com/users/7151006/mojgan-mazouchi"}, "edited": false, "score": 1, "creation_date": 1613347756, "post_id": 48268510, "comment_id": 117040604, "body": "If we have more than 2 columns, and only 1 column is fully null, is there a better elegant way to pass the schema without explicitly define schema for all the columns?"}], "tags": [], "owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "is_accepted": false, "score": 9, "last_activity_date": 1516039830, "creation_date": 1516039830, "answer_id": 48268510, "question_id": 40517553, "link": "https://stackoverflow.com/questions/40517553/pyspark-valueerror-some-of-types-cannot-be-determined-after-inferring/48268510#48268510", "title": "pyspark: ValueError: Some of types cannot be determined after inferring", "body": "<p>And to fix this problem, you could provide your own defined schema.</p>\n\n<p>For example:</p>\n\n<p>To reproduce the error:</p>\n\n<pre><code>&gt;&gt;&gt; df = spark.createDataFrame([[None, None]], [\"name\", \"score\"])\n</code></pre>\n\n<p>To fix the error:</p>\n\n<pre><code>&gt;&gt;&gt; from pyspark.sql.types import StructType, StructField, StringType, DoubleType\n&gt;&gt;&gt; schema = StructType([StructField(\"name\", StringType(), True), StructField(\"score\", DoubleType(), True)])\n&gt;&gt;&gt; df = spark.createDataFrame([[None, None]], schema=schema)\n&gt;&gt;&gt; df.show()\n+----+-----+\n|name|score|\n+----+-----+\n|null| null|\n+----+-----+\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4551, "user_id": 4212158, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-MeijoBfHUlw/AAAAAAAAAAI/AAAAAAAAIUo/hFq1fS9ga6U/photo.jpg?sz=128", "display_name": "crypdick", "link": "https://stackoverflow.com/users/4212158/crypdick"}, "edited": false, "score": 0, "creation_date": 1573532651, "post_id": 55835915, "comment_id": 103902809, "body": "If your rdd is very large, make your sample ratio more like 0.01 or spark will take a long time at the very end of the job"}, {"owner": {"reputation": 4052, "user_id": 13969, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c6205448de1b8ad8d5baf0f3416d899?s=128&d=identicon&r=PG", "display_name": "rjurney", "link": "https://stackoverflow.com/users/13969/rjurney"}, "reply_to_user": {"reputation": 4551, "user_id": 4212158, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-MeijoBfHUlw/AAAAAAAAAAI/AAAAAAAAIUo/hFq1fS9ga6U/photo.jpg?sz=128", "display_name": "crypdick", "link": "https://stackoverflow.com/users/4212158/crypdick"}, "edited": false, "score": 1, "creation_date": 1573577947, "post_id": 55835915, "comment_id": 103923491, "body": "@crypdick I&#39;ll amend the answer, this is a better default, thanks."}], "tags": [], "owner": {"reputation": 4052, "user_id": 13969, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c6205448de1b8ad8d5baf0f3416d899?s=128&d=identicon&r=PG", "display_name": "rjurney", "link": "https://stackoverflow.com/users/13969/rjurney"}, "is_accepted": false, "score": 4, "last_activity_date": 1573577998, "last_edit_date": 1573577998, "creation_date": 1556128456, "answer_id": 55835915, "question_id": 40517553, "link": "https://stackoverflow.com/questions/40517553/pyspark-valueerror-some-of-types-cannot-be-determined-after-inferring/55835915#55835915", "title": "pyspark: ValueError: Some of types cannot be determined after inferring", "body": "<p>If you are using the <code>RDD[Row].toDF()</code> monkey-patched method you can increase the sample ratio to check more than 100 records when inferring types:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># Set sampleRatio smaller as the data size increases\nmy_df = my_rdd.toDF(sampleRatio=0.01)\nmy_df.show()\n</code></pre>\n\n<p>Assuming there are non-null rows in all fields in your RDD, it will be more likely to find them when you increase the <code>sampleRatio</code> towards 1.0.</p>\n"}, {"tags": [], "owner": {"reputation": 393, "user_id": 2269414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4908f49409c321f599edf015077aa364?s=128&d=identicon&r=PG", "display_name": "Kamaldeep Singh", "link": "https://stackoverflow.com/users/2269414/kamaldeep-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1567091372, "creation_date": 1567091372, "answer_id": 57713096, "question_id": 40517553, "link": "https://stackoverflow.com/questions/40517553/pyspark-valueerror-some-of-types-cannot-be-determined-after-inferring/57713096#57713096", "title": "pyspark: ValueError: Some of types cannot be determined after inferring", "body": "<p>This is probably because of the columns that have all null values. You should drop those columns before converting them to a spark dataframe</p>\n"}, {"comments": [{"owner": {"reputation": 638, "user_id": 9885747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFY9D.jpg?s=128&g=1", "display_name": "Horbaje", "link": "https://stackoverflow.com/users/9885747/horbaje"}, "edited": false, "score": 0, "creation_date": 1581416775, "post_id": 57924894, "comment_id": 106417326, "body": "How do you do this if you are not importing from pandas ?"}, {"owner": {"reputation": 123, "user_id": 1026850, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6757d933227543d96dd8c5a1cb728b2a?s=128&d=identicon&r=PG", "display_name": "Aaron Robeson", "link": "https://stackoverflow.com/users/1026850/aaron-robeson"}, "reply_to_user": {"reputation": 638, "user_id": 9885747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFY9D.jpg?s=128&g=1", "display_name": "Horbaje", "link": "https://stackoverflow.com/users/9885747/horbaje"}, "edited": false, "score": 0, "creation_date": 1598283176, "post_id": 57924894, "comment_id": 112401155, "body": "It would depend on what you are using to import, the original question is about importing from Pandas."}], "tags": [], "owner": {"reputation": 123, "user_id": 1026850, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6757d933227543d96dd8c5a1cb728b2a?s=128&d=identicon&r=PG", "display_name": "Aaron Robeson", "link": "https://stackoverflow.com/users/1026850/aaron-robeson"}, "is_accepted": false, "score": -1, "last_activity_date": 1568382542, "creation_date": 1568382542, "answer_id": 57924894, "question_id": 40517553, "link": "https://stackoverflow.com/questions/40517553/pyspark-valueerror-some-of-types-cannot-be-determined-after-inferring/57924894#57924894", "title": "pyspark: ValueError: Some of types cannot be determined after inferring", "body": "<p>I've run into this same issue, if you do not need the columns that are null you can simply drop them from the pandas dataframe before importing to spark:</p>\n\n<pre><code>my_df = my_df.dropna(axis='columns', how='all') # Drops columns with all NA values\nspark_my_df = sc.createDataFrame(my_df)\n</code></pre>\n"}], "owner": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30224, "favorite_count": 3, "answer_count": 5, "score": 24, "last_activity_date": 1573577998, "creation_date": 1478733099, "question_id": 40517553, "link": "https://stackoverflow.com/questions/40517553/pyspark-valueerror-some-of-types-cannot-be-determined-after-inferring", "title": "pyspark: ValueError: Some of types cannot be determined after inferring", "body": "<p>I have a pandas data frame <code>my_df</code>, and <code>my_df.dtypes</code> gives us:</p>\n\n<pre><code>ts              int64\nfieldA         object\nfieldB         object\nfieldC         object\nfieldD         object\nfieldE         object\ndtype: object\n</code></pre>\n\n<p>Then I am trying to convert the pandas data frame <code>my_df</code> to a spark data frame by doing below:</p>\n\n<pre><code>spark_my_df = sc.createDataFrame(my_df)\n</code></pre>\n\n<p>However, I got the following errors:</p>\n\n<pre><code>ValueErrorTraceback (most recent call last)\n&lt;ipython-input-29-d4c9bb41bb1e&gt; in &lt;module&gt;()\n----&gt; 1 spark_my_df = sc.createDataFrame(my_df)\n      2 spark_my_df.take(20)\n\n/usr/local/spark-latest/python/pyspark/sql/session.py in createDataFrame(self, data, schema, samplingRatio)\n    520             rdd, schema = self._createFromRDD(data.map(prepare), schema, samplingRatio)\n    521         else:\n--&gt; 522             rdd, schema = self._createFromLocal(map(prepare, data), schema)\n    523         jrdd = self._jvm.SerDeUtil.toJavaArray(rdd._to_java_object_rdd())\n    524         jdf = self._jsparkSession.applySchemaToPythonRDD(jrdd.rdd(), schema.json())\n\n/usr/local/spark-latest/python/pyspark/sql/session.py in _createFromLocal(self, data, schema)\n    384 \n    385         if schema is None or isinstance(schema, (list, tuple)):\n--&gt; 386             struct = self._inferSchemaFromList(data)\n    387             if isinstance(schema, (list, tuple)):\n    388                 for i, name in enumerate(schema):\n\n/usr/local/spark-latest/python/pyspark/sql/session.py in _inferSchemaFromList(self, data)\n    318         schema = reduce(_merge_type, map(_infer_schema, data))\n    319         if _has_nulltype(schema):\n--&gt; 320             raise ValueError(\"Some of types cannot be determined after inferring\")\n    321         return schema\n    322 \n\nValueError: Some of types cannot be determined after inferring\n</code></pre>\n\n<p>Does anyone know what the above error mean? Thanks!</p>\n"}, {"tags": ["python", "c", "static", "inline", "ctypes"], "comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1478733750, "post_id": 40517532, "comment_id": 68276986, "body": "1. If it&#39;s an <code>inline</code> function, it&#39;s likely pretty simple; you could just write it in <code>ctypes</code> directly. 2. Only &quot;workaround&quot; would be to make a new library that exports a function like: &quot;void inlinewrapper(...) { return inlinefunc(...); }` which should inline the original function into an exported name."}, {"owner": {"reputation": 1062, "user_id": 3722896, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1844152530/picture?type=large", "display_name": "woockashek", "link": "https://stackoverflow.com/users/3722896/woockashek"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1478734377, "post_id": 40517532, "comment_id": 68277163, "body": "@ShadowRanger: How you will write a function that uses internal library variables, methods, classes using ctypes? In general it&#39;s not possible."}, {"owner": {"reputation": 109, "user_id": 1076544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3d427b09e29ff8bfcb39cf99806f9a?s=128&d=identicon&r=PG", "display_name": "charon00", "link": "https://stackoverflow.com/users/1076544/charon00"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1478735106, "post_id": 40517532, "comment_id": 68277395, "body": "@ShadowRanger: I am new to <code>ctypes</code> so for clarity: &quot;config&quot; in the first line of the output above is an instance of a ctypes.Structure class with various _fields_ (size, begin, end, etc).  When you say &quot;write it in ctypes directly&quot; do you mean set the Python instance&#39;s members directly with Python code in the same way the inline function would have? (e.g. <code>config.size = 4</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 1062, "user_id": 3722896, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1844152530/picture?type=large", "display_name": "woockashek", "link": "https://stackoverflow.com/users/3722896/woockashek"}, "is_accepted": true, "score": 2, "last_activity_date": 1478733569, "creation_date": 1478733569, "answer_id": 40517640, "question_id": 40517532, "link": "https://stackoverflow.com/questions/40517532/python-ctypes-call-a-static-inline-function-in-a-header-file/40517640#40517640", "title": "Python ctypes - call a static inline function in a header file?", "body": "<p>No it's not possible.</p>\n\n<p>This function not only is not exported by your library, it could not exist at all!</p>\n\n<p>When compiler decides it's worth inlining (keyword is only suggestion)\nfunction body is copy/pasted in all places where normally would be called when not defined inline. </p>\n"}], "owner": {"reputation": 109, "user_id": 1076544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3d427b09e29ff8bfcb39cf99806f9a?s=128&d=identicon&r=PG", "display_name": "charon00", "link": "https://stackoverflow.com/users/1076544/charon00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "accepted_answer_id": 40517640, "answer_count": 1, "score": 1, "last_activity_date": 1478733569, "creation_date": 1478732953, "question_id": 40517532, "link": "https://stackoverflow.com/questions/40517532/python-ctypes-call-a-static-inline-function-in-a-header-file", "title": "Python ctypes - call a static inline function in a header file?", "body": "<p>I'm working with Python's ctypes to make calls into the Intel Processor Trace library (libipt) on Linux.  One of the initialization functions in the library, pt_config_init(), is defined as a static inline function in the intel-pt.h header file.  When I try to call this function from my Python code, it throws this error:</p>\n\n<pre><code>  libipt.pt_config_init(byref(config))\nFile \"/usr/lib64/python3.5/ctypes/__init__.py\", line 355, in __getattr__\n  func = self.__getitem__(name)\nFile \"/usr/lib64/python3.5/ctypes/__init__.py\", line 360, in __getitem__\n  func = self._FuncPtr((name_or_ordinal, self))\nAttributeError: /lib64/libipt.so.1.4.0: undefined symbol: pt_config_init\n</code></pre>\n\n<p>This makes sense, as the function isn't compiled into the library but instead accessed by including the header file in the relevant C sources.  Is there a way to call an inline function like this with ctypes, and if so, how?  Any suggested workarounds if not?</p>\n"}, {"tags": ["python", "pandas", "machine-learning", "scikit-learn", "mean-shift"], "answers": [{"comments": [{"owner": {"reputation": 1091, "user_id": 5479704, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-hjpSYH_37i4/AAAAAAAAAAI/AAAAAAAAAFc/SP4HPI--B0k/photo.jpg?sz=128", "display_name": "Liam Hanninen", "link": "https://stackoverflow.com/users/5479704/liam-hanninen"}, "edited": false, "score": 0, "creation_date": 1478734390, "post_id": 40517583, "comment_id": 68277168, "body": "Great, I think that&#39;s it!"}], "tags": [], "owner": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "is_accepted": false, "score": 2, "last_activity_date": 1478733243, "creation_date": 1478733243, "answer_id": 40517583, "question_id": 40517469, "link": "https://stackoverflow.com/questions/40517469/how-to-print-samples-observations-rows-of-any-one-cluster-using-scikit-learn-pan/40517583#40517583", "title": "How to print samples/observations/rows of any one cluster using scikit learn/pandas/python?", "body": "<p>It sounds like you want to view the predictions for your dataset. This can be done as follows:</p>\n\n<pre><code>y_pred = ms.predict(X)\n</code></pre>\n\n<p>You could then link these up to your samples by doing this:</p>\n\n<pre><code>df['y_pred'] = y_pred\n</code></pre>\n\n<p>And filter your dataframe as desired, e.g. to see the samples in cluster 1:</p>\n\n<pre><code>df[df.y_pred == 1]\n</code></pre>\n"}], "owner": {"reputation": 1091, "user_id": 5479704, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-hjpSYH_37i4/AAAAAAAAAAI/AAAAAAAAAFc/SP4HPI--B0k/photo.jpg?sz=128", "display_name": "Liam Hanninen", "link": "https://stackoverflow.com/users/5479704/liam-hanninen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478733243, "creation_date": 1478732598, "question_id": 40517469, "link": "https://stackoverflow.com/questions/40517469/how-to-print-samples-observations-rows-of-any-one-cluster-using-scikit-learn-pan", "title": "How to print samples/observations/rows of any one cluster using scikit learn/pandas/python?", "body": "<p>Very basic question:</p>\n\n<p>How do I print the observations attributed to any one cluster?</p>\n\n<pre><code>data = pd.read_csv('my_file.csv')\nX = data[['Var1','Var2','Var3']]\nms = MeanShift()\nms.fit(X)\nlabels = ms.labels_\ncluster_centers = ms.cluster_centers_\n</code></pre>\n\n<p>I'd just like to see the values of 'Var1','Var2','Var3' for any one cluster.</p>\n"}, {"tags": ["python", "django", "apache", "centos", "cpanel"], "comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1478740128, "post_id": 40517451, "comment_id": 68278682, "body": "fcgi was deprecated in django 1.7 and has been removed in django 1.9 use uwsgi"}], "owner": {"reputation": 9, "user_id": 7138397, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154241204458353/picture?type=large", "display_name": "Daniel Li&#233;vano", "link": "https://stackoverflow.com/users/7138397/daniel-li%c3%a9vano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478732512, "creation_date": 1478732512, "question_id": 40517451, "link": "https://stackoverflow.com/questions/40517451/index-fcgi-renders-as-text-on-centos-6-8-django-website", "title": "index.fcgi renders as text on CENTOS 6.8 - django website", "body": "<p>I have a dedicated server with WHM, and I need to migrate a Python website to a user inside that server.</p>\n\n<p>I am not familiar with python so I started looking for an index.php or index.html file but could not find any. </p>\n\n<p>After investigation, I tried to execute the file manage.py, it was giving several errors and found that django was not installed, so after completing the install, the manage py file shows now some text with python commands and does not give any errors, you can visit it at <a href=\"http://mgtransportes.com.co/cgi-bin/manage.py\" rel=\"nofollow noreferrer\">http://mgtransportes.com.co/cgi-bin/manage.py</a></p>\n\n<p>I have been reading that in order to show the website, I need to create a file called index.cfgi, and I did, but when opening the URL from the browser I get plain text, you can visit the naked domain (I cannot add more links due to my current reputation)</p>\n\n<p>I am not sure how to enable FastCGI from WHM, and I do not even know if this is going to work, I have followed different tutorials, and looks like python is correctly installed, I have a test file on /cgi-bin/test.py and I prints a message as intended.</p>\n\n<p>I am not sure how to execute the python script and show it as a normal website, I have been reading for hours and the best approach I could find is the index.cfgi file on the public_html directory.</p>\n\n<p>Here is the content of my .htaccess on /public_html</p>\n\n<pre><code>AddHandler fcgid-script .fcgi\nDirectoryIndex index.fcgi\n\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine On\n  RewriteBase /\n  RewriteRule ^index\\.fcgi$ - [L]\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^(.*)$ /index.fcgi/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>And here is the content of the index.cfgi file:</p>\n\n<pre><code>#!/usr/local/bin/python2.7\nimport os\nimport sys\n\nfrom flup.server.fcgi import WSGIServer\nfrom django.core.wsgi import get_wsgi_application\n\nsys.path.insert(0, \"/home/mglaggak/public_html/cgi-bin\")\nos.environ['DJANGO_SETTINGS_MODULE'] = \"webapp.settings\"\n\nWSGIServer(get_wsgi_application()).run()\n</code></pre>\n\n<p>I could create new python projects and they work!. But I am not sure what would be the best approach for existing websites, here is a video on the guy that gave me the backup files, but looks like he is executing the website on a localserver.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=SF2Eqi7JaFk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=SF2Eqi7JaFk</a></p>\n\n<p>I would appreciate any help.</p>\n"}, {"tags": ["python", "python-2.7", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 4, "creation_date": 1478732467, "post_id": 40517415, "comment_id": 68276526, "body": "they are already strings - <code>object</code> is similar to string"}], "answers": [{"tags": [], "owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "is_accepted": false, "score": 1, "last_activity_date": 1478759015, "last_edit_date": 1478759015, "creation_date": 1478750285, "answer_id": 40519734, "question_id": 40517415, "link": "https://stackoverflow.com/questions/40517415/change-data-type-of-a-column-from-object-to-string-in-pandas/40519734#40519734", "title": "Change data type of a column from object to string in pandas", "body": "<p>Pandas only has a few specific data types that mainly handle numeric values. For everything else it uses the <code>object</code> type. Strings fit into the latter category, and so it is likely that your data is already strings, even though the data type is listed as <code>object</code>.</p>\n\n<p>The different types are listed in the <a href=\"http://pandas.pydata.org/pandas-docs/version/0.18.1/basics.html#dtypes\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The main types stored in pandas objects are <code>float</code>, <code>int</code>, <code>bool</code>,\n  <code>datetime64[ns]</code> and <code>datetime64[ns, tz]</code> (in >= 0.17.0), <code>timedelta[ns]</code>,\n  <code>category</code> (in >= 0.15.0), and <code>object</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478759015, "creation_date": 1478732344, "last_edit_date": 1478754320, "question_id": 40517415, "link": "https://stackoverflow.com/questions/40517415/change-data-type-of-a-column-from-object-to-string-in-pandas", "title": "Change data type of a column from object to string in pandas", "body": "<p>I have a data frame my_df:</p>\n\n<pre><code>my_df.dtypes\n\ntime           int64\nfieldA         object\nfieldB         object\nfieldC         object\nfieldD         object\nfieldE         object\ndtype: object\n</code></pre>\n\n<hr>\n\n<p>I tried to change the fieldB and fieldC to type string by doing:</p>\n\n<pre><code>my_df[['fieldB','fieldC']] = my_df[['fieldB','fieldC']].astype(str)\n</code></pre>\n\n<p>After the above is finished, I tried to run <code>my_df.dtypes</code> again, but nothing is changed to string ...</p>\n\n<p>Does anyone know what I missed? Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478732545, "post_id": 40517402, "comment_id": 68276560, "body": "weird indeed. Can you post the copy of your console <i>as text</i> and not as an image. If there&#39;s a subtlety, it will be better with some text."}, {"owner": {"reputation": 75, "user_id": 6762929, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ded4ad3837529061824a3825647112c6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ness", "link": "https://stackoverflow.com/users/6762929/paul-ness"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478732811, "post_id": 40517402, "comment_id": 68276651, "body": "it is indeed. I&#39;m starting to think it&#39;s because I haven&#39;t set the environment, e.g. not having a folder for my libs where I store things like a shared object that Python can index and find."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478732993, "post_id": 40517402, "comment_id": 68276706, "body": "I would check if file exists before <code>imp.load_dynamic(__name__,__file__)</code>: <code>if not os.path.isfile(__file__): raise Exception(__file__)</code>"}, {"owner": {"reputation": 75, "user_id": 6762929, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ded4ad3837529061824a3825647112c6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ness", "link": "https://stackoverflow.com/users/6762929/paul-ness"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478734042, "post_id": 40517402, "comment_id": 68277075, "body": "Hmm, wouldn&#39;t it be a case of linking up my shared object though, I feel like Python can&#39;t find it. Maybe a case of editing my bash file and pointing it to the directory of where my SO is?"}, {"owner": {"reputation": 75, "user_id": 6762929, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ded4ad3837529061824a3825647112c6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ness", "link": "https://stackoverflow.com/users/6762929/paul-ness"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478737946, "post_id": 40517402, "comment_id": 68278163, "body": "Could it be a problem with Python not being able to read the .SO file? @Jean-Fran&#231;oisFabre. I&#39;ve edited the code to a simple format to use this:  <code>import ctypes import os  testlib = ctypes.CDLL(&#39;&#47;home&#47;pi&#47;Desktop&#47;so_output&#47;libCVAPIV01_DESFire.&zwnj;&#8203;so&#39;)</code>  which should run...but again, the same error."}], "owner": {"reputation": 75, "user_id": 6762929, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ded4ad3837529061824a3825647112c6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Ness", "link": "https://stackoverflow.com/users/6762929/paul-ness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 723, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1478740291, "creation_date": 1478732257, "last_edit_date": 1478740291, "question_id": 40517402, "link": "https://stackoverflow.com/questions/40517402/cannot-import-shared-object-file-which-is-in-the-same-directory", "title": "Cannot import shared object file which is in the same directory", "body": "<p>I have the following file structure inside (so_output):</p>\n\n<pre><code>CVAPIV01_DESFire (C/C++ Header)\nlibCVAPIV01_DESFire (Python File)\nlibCVAPIV01_DESFire (SO File)\ntest (Python file)\n</code></pre>\n\n<p>And my <code>test.py</code> code is the following:</p>\n\n<pre><code>import libCVAPIV01_DESFire\nCV_SetCommunicationType(1)\nActiveBuzzer(0,1,[])\n</code></pre>\n\n<p>My <code>libCVAPIV01_DESFire.py</code> code is the following:</p>\n\n<pre><code>def __bootstrap__():\n   global __bootstrap__, __loader__, __file__\n   import sys, pkg_resources, imp\n   __file__ = pkg_resources.resource_filename(__name__,'libCVAPIV01_DESFire.so')\n   __loader__ = None; del __bootstrap__, __loader__\n   imp.load_dynamic(__name__,__file__)\n__bootstrap__()\n</code></pre>\n\n<p>Upon running test.py trying to import I get an import error on a Raspberry Pi, the shared object file is ARM based which matches the Raspberry Pi. </p>\n\n<p>This is a fresh Pi installation running libusb and PyUSB.</p>\n\n<p>The error is:<a href=\"https://i.stack.imgur.com/G2XS1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G2XS1.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Any ideas? I'm very new to Python and I'm thinking this is just a case of setting the right path or putting the shared object file somewhere appropriate.</p>\n\n<p>Text based output error:</p>\n\n<pre><code>Traceback (most recent call last):\n   File \"test.py\", line 1, in &lt;module&gt;\n      import libCVAPIV01_DESFire\nImportError: /home/pi/Desktop/so_output/libCVAPIV01_DESFire.so: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p><strong>Edit:</strong> Still trying to figure this out hours on... I've gone down to:</p>\n\n<pre><code>import ctypes\ntestlib = ctypes.CDLL('/home/pi/Desktop/so_output/libCVAPIV01_DESFire.so')\n</code></pre>\n\n<p>in <code>test.py</code>, and yet here's the same error...</p>\n\n<pre><code>pi@raspberrypi:~/Desktop/so_output $ python test.py\nTraceback (most recent call last):\n  File \"test.py\", line 3, in &lt;module&gt;\n    testlib = ctypes.CDLL('/home/pi/Desktop/so_output/libCVAPIV01_DESFire.so')\n  File \"/usr/lib/python2.7/ctypes/__init__.py\", line 365, in __init__\n    self._handle = _dlopen(self._name, mode)\nOSError: /home/pi/Desktop/so_output/libCVAPIV01_DESFire.so: cannot open shared object file: No such file or directory\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "group-by"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 6220122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd3100b5e3d551b54a0980cd493275a?s=128&d=identicon&r=PG", "display_name": "R7L208", "link": "https://stackoverflow.com/users/6220122/r7l208"}, "edited": false, "score": 0, "creation_date": 1478791503, "post_id": 40517385, "comment_id": 68302281, "body": "This worked great, @MaxU! Thank you. Can you explain the use of .agg() and lambda?"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 7, "last_activity_date": 1478732165, "creation_date": 1478732165, "answer_id": 40517385, "question_id": 40517350, "link": "https://stackoverflow.com/questions/40517350/how-to-sum-the-nlargest-integers-in-groupby/40517385#40517385", "title": "How to sum the nlargest() integers in groupby", "body": "<p>Is that what you want?</p>\n\n<pre><code>In [25]: df.groupby('STNAME')['COUNTY_POP'].agg(lambda x: x.nlargest(3).sum())\nOut[25]:\nSTNAME\nAL    450\nCA    900\nName: COUNTY_POP, dtype: int64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "edited": false, "score": 3, "creation_date": 1478737089, "post_id": 40517832, "comment_id": 68277957, "body": "this is only faster for very small groups - this is the point of nlargest it doesn&#39;t need to sort"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "edited": false, "score": 0, "creation_date": 1478737402, "post_id": 40517832, "comment_id": 68278033, "body": "@Jeff thank you for the clarification"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 2, "last_activity_date": 1478734809, "creation_date": 1478734809, "answer_id": 40517832, "question_id": 40517350, "link": "https://stackoverflow.com/questions/40517350/how-to-sum-the-nlargest-integers-in-groupby/40517832#40517832", "title": "How to sum the nlargest() integers in groupby", "body": "<p>presort and slice... a tad faster</p>\n\n<pre><code>df.sort_values('COUNTY_POP').groupby('STNAME').COUNTY_POP \\\n    .apply(lambda x: x.values[-3:].sum())\n\nSTNAME\nAL    450\nCA    900\nName: COUNTY_POP, dtype: int64\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 6220122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd3100b5e3d551b54a0980cd493275a?s=128&d=identicon&r=PG", "display_name": "R7L208", "link": "https://stackoverflow.com/users/6220122/r7l208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 0, "closed_date": 1478789938, "accepted_answer_id": 40517385, "answer_count": 2, "score": 5, "last_activity_date": 1478734809, "creation_date": 1478731994, "last_edit_date": 1478733058, "question_id": 40517350, "link": "https://stackoverflow.com/questions/40517350/how-to-sum-the-nlargest-integers-in-groupby", "closed_reason": "Duplicate", "title": "How to sum the nlargest() integers in groupby", "body": "<p>I have a dataframe like this:</p>\n\n<pre><code>    Index STNAME COUNTY COUNTY_POP\n      0     AL     0       100\n      1     AL     1       150\n      2     AL     3       200\n      3     AL     5       50\n    ...\n     15     CA     0       300\n     16     CA     1       200\n     17     CA     3       250\n     18     CA     4       350\n</code></pre>\n\n<p>I want to sum the three largest integers from COUNTY_POP for each state. So far, I have:</p>\n\n<pre><code>    In[]: df.groupby(['STNAME'])['COUNTY_POP'].nlargest(3)\n    Out[]:\n    Index STNAME COUNTY COUNTY_POP\n      0     AL     0       100\n      1     AL     1       150\n      2     AL     3       200\n    ...\n     15     CA     0       300\n     17     CA     3       250\n     18     CA     4       350\n</code></pre>\n\n<p>However when I add the .sum() operation to the above code, I receive the following output.</p>\n\n<pre><code>    In[]: df.groupby(['STNAME'])['COUNTY_POP'].nlargest(3).sum()\n    Out[]:\n    1350\n</code></pre>\n\n<p>I'm relatively new to Python and Pandas. If anyone could explain what causes this and how to correct it, I'd really appreciate it!</p>\n"}, {"tags": ["python", "numpy", "logistic-regression"], "answers": [{"tags": [], "owner": {"reputation": 768, "user_id": 2062051, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/790b4c3cafa53954ceb10c33dc9b21e5?s=128&d=identicon&r=PG", "display_name": "ilanman", "link": "https://stackoverflow.com/users/2062051/ilanman"}, "is_accepted": false, "score": 0, "last_activity_date": 1480286699, "creation_date": 1480286699, "answer_id": 40834788, "question_id": 40517328, "link": "https://stackoverflow.com/questions/40517328/implementing-logistic-regression-why-does-this-not-converge/40834788#40834788", "title": "Implementing logistic regression -- why does this not converge?", "body": "<p>The problem is that somehow this line:</p>\n\n<pre><code>error = (labels - sigma(features, weights))\n</code></pre>\n\n<p>Converts <code>error</code> from a 3 x 1 vector into a 3 x 3 matrix. </p>\n\n<p>Note that if you print <code>error</code> and run <code>gradient_log_likelihood(weights, features, labels)</code>, you get output:</p>\n\n<pre><code>[[-0.5]\n [ 0.5]\n [ 0.5]]\n</code></pre>\n\n<p>And if you run the optimization, you get:</p>\n\n<pre><code>[[-0.5 -0.5 -0.5]\n [ 0.5  0.5  0.5]\n [ 0.5  0.5  0.5]]\n</code></pre>\n\n<p>in addition to the ValueError. This is because <code>labels - sigma(features, weights)</code> changes the shape. </p>\n\n<p>You can investigate why, but if you hacked around it you can just pull the first column out, <code>error = (labels - sigma(features, weights)).T[0].reshape(3,1)</code> which gives you the same solution when you run <code>gradient_log_likelihood(weights, features, labels)</code> but you get a new error in the optimization function.</p>\n\n<pre><code>optimized = fmin_bfgs(log_likelihood, x0=weights, args=(features, labels), gtol=1e-3, fprime=gradient_log_likelihood)\n\n6.23832462504\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-135-d7e8b04daeba&gt; in &lt;module&gt;()\n    ----&gt; 1 optimized = fmin_bfgs(log_likelihood, x0=weights, args=(features, labels), gtol=1e-3, fprime=gradient_log_likelihood)\n\n    /Library/Python/2.7/site-packages/scipy/optimize/optimize.pyc in fmin_bfgs(f, x0, fprime, args, gtol, norm, epsilon, maxiter, full_output, disp, retall, callback)\n        791             'return_all': retall}\n        792 \n    --&gt; 793     res = _minimize_bfgs(f, x0, args, fprime, callback=callback, **opts)\n        794 \n        795     if full_output:\n\n    /Library/Python/2.7/site-packages/scipy/optimize/optimize.pyc in _minimize_bfgs(fun, x0, args, jac, callback, gtol, norm, eps, maxiter, disp, return_all, **unknown_options)\n        863             alpha_k, fc, gc, old_fval, old_old_fval, gfkp1 = \\\n        864                      _line_search_wolfe12(f, myfprime, xk, pk, gfk,\n    --&gt; 865                                           old_fval, old_old_fval)\n        866         except _LineSearchError:\n        867             # Line search failed to find a better solution.\n\n    /Library/Python/2.7/site-packages/scipy/optimize/optimize.pyc in _line_search_wolfe12(f, fprime, xk, pk, gfk, old_fval, old_old_fval, **kwargs)\n        697     ret = line_search_wolfe1(f, fprime, xk, pk, gfk,\n        698                              old_fval, old_old_fval,\n    --&gt; 699                              **kwargs)\n        700 \n        701     if ret[0] is None:\n\n    /Library/Python/2.7/site-packages/scipy/optimize/linesearch.pyc in line_search_wolfe1(f, fprime, xk, pk, gfk, old_fval, old_old_fval, args, c1, c2, amax, amin, xtol)\n         95         return np.dot(gval[0], pk)\n         96 \n    ---&gt; 97     derphi0 = np.dot(gfk, pk)\n         98 \n         99     stp, fval, old_fval = scalar_search_wolfe1(\n\n    ValueError: shapes (4,1) and (4,1) not aligned: 1 (dim 1) != 4 (dim 0)\n</code></pre>\n"}], "owner": {"reputation": 2479, "user_id": 2370863, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/1A5At.jpg?s=128&g=1", "display_name": "Ian Fiddes", "link": "https://stackoverflow.com/users/2370863/ian-fiddes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480286699, "creation_date": 1478731880, "question_id": 40517328, "link": "https://stackoverflow.com/questions/40517328/implementing-logistic-regression-why-does-this-not-converge", "title": "Implementing logistic regression -- why does this not converge?", "body": "<p>I am adapting existing implementations of logistic regression, but I can't figure out what I am doing wrong.</p>\n\n<p>Here is my implementation:</p>\n\n<pre><code>from scipy.optimize import fmin_bfgs\nimport numpy as np\nimport pandas as pd\n# With help from http://stackoverflow.com/questions/13794754/logistic-regression-using-scipy\n# as well as https://bryantravissmith.com/2015/12/29/implementing-logistic-regression-from-scratch-part-2-python-code/\n\ndef sigma(features, weights):\n    \"\"\"returns sigma(&lt;w,x&gt;)\"\"\"\n    return 1 / (1 + np.exp(-features.dot(weights)))\n\n\ndef log_likelihood(weights, features, labels):\n    \"\"\"calculates -ln p(t|w)\"\"\"\n    s = sigma(features, weights)\n    #s += 1e-24  # pseudocount to prevent logs of 0\n    t = labels * np.log(s + 1e-24)\n    t2 = (1 - labels) * (np.log((1 - s) + 1e-24))\n    ll = (t + t2).sum()\n    print -ll\n    return -ll\n\n\ndef gradient_log_likelihood(weights, features, labels):\n    \"\"\"calculates the gradient (Jacobian) of the log likelihood\"\"\"\n    error = labels - sigma(features, weights)\n    grad = (error * features).sum(axis=0)\n    return grad.reshape(grad.shape[0], 1)\n</code></pre>\n\n<p>Here is a sample dataset:</p>\n\n<pre><code>labels = np.array([0, 1, 1]).reshape(3, 1)\ndf = pd.DataFrame.from_dict({'a': [1,2,3], 'b': [2,3,4], 'c': [6,7,8]})\n\nn, m = df.shape\nweights = np.zeros(m + 1).reshape(m + 1, 1)  # zero vector of starting weights\n\n# add the intercept column\nfeatures = np.ones((n, m + 1))  # make matrix with all 1's\nfeatures[:,1:] = df  # replace the 1's in all columns after column 0 with actual data\n</code></pre>\n\n<p>If I run each of these methods individually on the beginning weight vector, they run. But once I try to optimize, I get a shape error:</p>\n\n<pre><code>optimized = fmin_bfgs(log_likelihood, x0=weights, args=(features, labels), gtol=1e-4, fprime=gradient_log_likelihood)\n\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-26-34c3cde48ac4&gt; in &lt;module&gt;()\n----&gt; 1 optimized = fmin_bfgs(log_likelihood, x0=weights, args=(features, labels), gtol=1e-4, fprime=gradient_log_likelihood)\n\n/Users/ifiddes/anaconda/lib/python2.7/site-packages/scipy/optimize/optimize.pyc in fmin_bfgs(f, x0, fprime, args, gtol, norm, epsilon, maxiter, full_output, disp, retall, callback)\n    791             'return_all': retall}\n    792\n--&gt; 793     res = _minimize_bfgs(f, x0, args, fprime, callback=callback, **opts)\n    794\n    795     if full_output:\n\n/Users/ifiddes/anaconda/lib/python2.7/site-packages/scipy/optimize/optimize.pyc in _minimize_bfgs(fun, x0, args, jac, callback, gtol, norm, eps, maxiter, disp, return_all, **unknown_options)\n    845     else:\n    846         grad_calls, myfprime = wrap_function(fprime, args)\n--&gt; 847     gfk = myfprime(x0)\n    848     k = 0\n    849     N = len(x0)\n\n/Users/ifiddes/anaconda/lib/python2.7/site-packages/scipy/optimize/optimize.pyc in function_wrapper(*wrapper_args)\n    287     def function_wrapper(*wrapper_args):\n    288         ncalls[0] += 1\n--&gt; 289         return function(*(wrapper_args + args))\n    290\n    291     return ncalls, function_wrapper\n\n&lt;ipython-input-3-9678bc972b41&gt; in gradient_log_likelihood(weights, features, labels)\n      2         \"\"\"calculates the gradient (Jacobian) of the log likelihood\"\"\"\n      3         error = labels - sigma(features, weights)\n----&gt; 4         grad = (error * features).sum(axis=0)\n      5         return grad.reshape(grad.shape[0], 1)\n      6\n\nValueError: operands could not be broadcast together with shapes (3,3) (3,4)\n</code></pre>\n"}, {"tags": ["python", "pyqt", "pyqtgraph"], "comments": [{"owner": {"reputation": 376, "user_id": 7010496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/298a374f81ee34a7fc085e3667480b3e?s=128&d=identicon&r=PG&f=1", "display_name": "segFaultCoder", "link": "https://stackoverflow.com/users/7010496/segfaultcoder"}, "edited": false, "score": 1, "creation_date": 1479098892, "post_id": 40517288, "comment_id": 68399681, "body": "Can you clarify what your ultimate intentions are?  Currently you&#39;re not displaying anything so it&#39;s sort of hard to narrow down, I can confirm this happens even on their contrived example (../examples/ViewBox.py) if you do the setGrid command.  I&#39;m not sure however, if you actually need to access setGrid directly.  If for instance you ultimately are going to add an actual plot, the PlotItem object has a showGrid method which does this properly without screwing things up."}, {"owner": {"reputation": 63, "user_id": 3047917, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5842fb6436953cabbe6dfc87525c9a67?s=128&d=identicon&r=PG&f=1", "display_name": "user3047917", "link": "https://stackoverflow.com/users/3047917/user3047917"}, "reply_to_user": {"reputation": 376, "user_id": 7010496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/298a374f81ee34a7fc085e3667480b3e?s=128&d=identicon&r=PG&f=1", "display_name": "segFaultCoder", "link": "https://stackoverflow.com/users/7010496/segfaultcoder"}, "edited": false, "score": 0, "creation_date": 1479139719, "post_id": 40517288, "comment_id": 68421569, "body": "My ultimate intentions are to display large data sets using graphItem()"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 3047917, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5842fb6436953cabbe6dfc87525c9a67?s=128&d=identicon&r=PG&f=1", "display_name": "user3047917", "link": "https://stackoverflow.com/users/3047917/user3047917"}, "edited": false, "score": 0, "creation_date": 1479325764, "post_id": 40600644, "comment_id": 68514017, "body": "Thank you so much!  I tried something similar and could not get it to work and then I was having one viewbox override the other and running into a bunch more issues."}], "tags": [], "owner": {"reputation": 376, "user_id": 7010496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/298a374f81ee34a7fc085e3667480b3e?s=128&d=identicon&r=PG&f=1", "display_name": "segFaultCoder", "link": "https://stackoverflow.com/users/7010496/segfaultcoder"}, "is_accepted": true, "score": 1, "last_activity_date": 1479174083, "last_edit_date": 1479174083, "creation_date": 1479173513, "answer_id": 40600644, "question_id": 40517288, "link": "https://stackoverflow.com/questions/40517288/turning-grid-on-with-axisitem-in-pyqtgraph-causes-axis-scaling-to-break/40600644#40600644", "title": "turning grid on with AxisItem in pyqtgraph causes axis scaling to break", "body": "<p>Looking at your last comment, consider this option:</p>\n\n<p>The pyqtgraph examples folder contains a \"GraphItem.py\" example which adds and displays a GraphItem object to a window via a ViewBox only. They don't use a grid however, so if you want to use a grid with a GraphItem, just add a PlotItem first (which has an associated ViewBox already... and you guessed it,...AxisItems for a grid!),... then get the ViewBox to add your GraphItems.  The modified GraphItem.py would look like this (with the accompanying showGrid):</p>\n\n<pre><code>import pyqtgraph as pg\nfrom pyqtgraph.Qt import QtCore, QtGui\nimport numpy as np\n\n# Enable antialiasing for prettier plots\npg.setConfigOptions(antialias=True)\n\nw = pg.GraphicsWindow()\nw.setWindowTitle('pyqtgraph example: GraphItem')\n\n### comment out their add of the viewbox\n### since the PlotItem we're adding will have it's \n### own ViewBox\n\n#v = w.addViewBox()\n\n\npItem1 = w.addPlot()  # this is our new PlotItem\nv = pItem1.getViewBox()  # get the PlotItem's ViewBox\nv.setAspectLocked()  # same as before\n\ng = pg.GraphItem() # same as before\nv.addItem(g)  # same as before\n\npItem1.showGrid(x=True,y=True)  # now we can turn on the grid\n\n### remaining code is the same as their example\n\n## Define positions of nodes\npos = np.array([\n    [0,0],\n    [10,0],\n    [0,10],\n    [10,10],\n    [5,5],\n    [15,5]\n    ])\n\n## Define the set of connections in the graph\nadj = np.array([\n    [0,1],\n    [1,3],\n    [3,2],\n    [2,0],\n    [1,5],\n    [3,5],\n    ])\n\n## Define the symbol to use for each node (this is optional)\nsymbols = ['o','o','o','o','t','+']\n\n## Define the line style for each connection (this is optional)\nlines = np.array([\n    (255,0,0,255,1),\n    (255,0,255,255,2),\n    (255,0,255,255,3),\n    (255,255,0,255,2),\n    (255,0,0,255,1),\n    (255,255,255,255,4),\n    ], dtype=[('red',np.ubyte),('green',np.ubyte),('blue',np.ubyte),('alpha',np.ubyte),('width',float)])\n\n## Update the graph\ng.setData(pos=pos, adj=adj, pen=lines, size=1, symbol=symbols, pxMode=False)\n\n\n## Start Qt event loop unless running in interactive mode or using pyside.\nif __name__ == '__main__':\n    import sys\n    if (sys.flags.interactive != 1) or not hasattr(QtCore, 'PYQT_VERSION'):\n        QtGui.QApplication.instance().exec_()\n</code></pre>\n\n<p>I tested this and the scroll/zooming still worked after enabling the grid, so still not sure why doing it the other way DOESN'T work, but sometimes finding another way is the best answer :)</p>\n"}], "owner": {"reputation": 63, "user_id": 3047917, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5842fb6436953cabbe6dfc87525c9a67?s=128&d=identicon&r=PG&f=1", "display_name": "user3047917", "link": "https://stackoverflow.com/users/3047917/user3047917"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1211, "favorite_count": 0, "accepted_answer_id": 40600644, "answer_count": 1, "score": 1, "last_activity_date": 1479174083, "creation_date": 1478731684, "last_edit_date": 1478818576, "question_id": 40517288, "link": "https://stackoverflow.com/questions/40517288/turning-grid-on-with-axisitem-in-pyqtgraph-causes-axis-scaling-to-break", "title": "turning grid on with AxisItem in pyqtgraph causes axis scaling to break", "body": "<p>I am having trouble with AxisItem.  As soon as I turn on both the x and y grid, the x-axis is no longer able to scale in and out with the zoom/pan function. Any ideas?</p>\n\n<pre><code>from PyQt4 import QtCore, QtGui \nfrom pyqtgraph import Point \nimport pyqtgraph as pg\n\n\npg.setConfigOption('background', 'w')\npg.setConfigOption('foreground', 'k')\n\nclass plotClass(QtGui.QMainWindow):  \n    def setupUi(self, MainWindow):\n\n        self.centralwidget = QtGui.QWidget(MainWindow)      \n        MainWindow.resize(1900, 1000)\n\n        self.viewbox = pg.GraphicsView(MainWindow, useOpenGL=None, background='default')\n        self.viewbox.setGeometry(QtCore.QRect(0, 0, 1600, 1000))\n\n        self.layout = pg.GraphicsLayout()\n        self.viewbox.setCentralWidget(self.layout)\n        self.viewbox.show()\n\n        self.view = self.layout.addViewBox()\n\n        self.axis1 = pg.AxisItem('bottom', linkView=self.view, parent=self.layout)\n        self.axis2 = pg.AxisItem('right', linkView=self.view, parent=self.layout)\n\n        self.axis1.setGrid(255)\n        self.axis2.setGrid(255)\n\n        self.layout.addItem(self.axis1, row=1, col=0)\n        self.layout.addItem(self.axis2, row=0, col=1)\n\nif __name__== \"__main__\":\n    import sys\n    app = QtGui.QApplication(sys.argv)\n    MainWindow = QtGui.QMainWindow()\n    ui = plotClass()\n    ui.setupUi(MainWindow)\n    MainWindow.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "numpy", "multiprocessing"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1478739955, "post_id": 40517278, "comment_id": 68278650, "body": "This might be closed for lack of a <code>mcve</code>: <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>.  If it&#39;s impossible to provide that, SO might be wrong place to ask this."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1479925920, "post_id": 40517278, "comment_id": 68767560, "body": "If you can add an MCVE, I can add a bounty."}], "owner": {"reputation": 21, "user_id": 6242999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54f2aacb4e866dbcad801042a717b42?s=128&d=identicon&r=PG&f=1", "display_name": "B. Caid", "link": "https://stackoverflow.com/users/6242999/b-caid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1479925848, "creation_date": 1478731645, "last_edit_date": 1479925848, "question_id": 40517278, "link": "https://stackoverflow.com/questions/40517278/insight-to-np-linalg-lstsq-and-np-linalg-pinv-limitations-and-failures-during-mu", "title": "Insight to np.linalg.lstsq and np.linalg.pinv limitations and failures during multiprocessing?", "body": "<p>I am seeking insight into a vexing problem I have encountered using numpy in a multiprocessing environment.  Initially, some weeks ago, \"things did not work\" at all and as a result of guidance from this site, the problem was traced to numpy needing to be recompiled to allow multiprocessing.  This was done and appears at first blush to be functional EXCEPT that now there are limits on the problem size that I can attack.</p>\n\n<p>When numpy was used \"as downloaded as binary distribution\" in single processor mode, I could solve large problems using linalg.pinv and linalg.svd without complaint (except for throughput).  Now, relatively small problems fail.  Specifically, when linalg.lstsq is called (which appears to invoke svd and/or pinv) the code expends the cpu effort (as shown by process monitor) but the code never executes the next statement after the linalg call.  No exception is raised, no error indication given, no results generated; it just bails and the process that contains the call is deemed done and that is that.</p>\n\n<p>These matrices are not that large: 8 x 4096 will solve and create results in a timely manner.  8 x 8192 fails with no error indication, no exception raised and no results are produced.  The single process version of numpy solved 12 x 50,000 without issue.  My platform is a 12-core Mac running most-recent OS X (10.11.6) with 64GB of physical ram.  Minimal memory pressure is put on the machine during these runs; there is plenty of headroom on space.  Python is 2.7.11 under anaconda, numpy was recompiled for multiprocessing using gcc.</p>\n\n<p>I am running out of places to look; I have not found a numpy control  that address this issue.  Does anyone have any pointers as to where I should concentrate my search for a resolution?</p>\n\n<p>This is a show-stopper for me and I have to assume that the underlying cause is simple, but perhaps not obvious.  I am rather new to python, so I would appreciate any insight fellow over-flowers may have.</p>\n"}, {"tags": ["python", "python-3.x", "import"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1478731456, "post_id": 40517214, "comment_id": 68276120, "body": "It depends but it does pollute the local namespace. If you want a shorter namespace name for <code>tkinter</code> you could <code>import tkinter as tk</code>. Then your code would look like <code>tk.&lt;...&gt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 5, "last_activity_date": 1478732890, "last_edit_date": 1478732890, "creation_date": 1478731589, "answer_id": 40517266, "question_id": 40517214, "link": "https://stackoverflow.com/questions/40517214/in-general-is-it-a-bad-practice-to-use-the-statement-from-module-import-in/40517266#40517266", "title": "In general, is it a bad practice to use the statement &quot;from module import *&quot; in my python code?", "body": "<p>Yes, it is a very BAD practice for two reasons:</p>\n\n<ol>\n<li>Code Readability</li>\n<li>Risk of overriding the variables/functions etc</li>\n</ol>\n\n<hr>\n\n<p>For <strong>point 1</strong>:\nLet's see an example of this:</p>\n\n<pre><code>from module1 import *\nfrom module2 import *\nfrom module3 import *\n\na = b + c - d\n</code></pre>\n\n<p>Here, on seeing the code no one will get idea regarding from which module <code>b</code>, <code>c</code> and <code>d</code> actually belongs. </p>\n\n<p>On the other way, if you do it like:</p>\n\n<pre><code>#                   v  v  will know that these are from module1\nfrom module1 import b, c   # way 1\nimport module2             # way 2\n\na = b + c - module2.d\n#            ^ will know it is from module2\n</code></pre>\n\n<p>It is much cleaner for you, and also the new person joining your team will have better idea.</p>\n\n<p>For <strong>point 2</strong>: Let say both <code>module1</code> and <code>module2</code> have variable as <code>b</code>. When I do:</p>\n\n<pre><code>from module1 import *\nfrom module2 import *\n\nprint b  # will print the value from module2\n</code></pre>\n\n<p>Here the value from <code>module1</code> is lost. It will be hard to debug why the code is not working even if <code>b</code> is declared in <code>module1</code> and I have written the code expecting my code to use <code>module1.b</code>.</p>\n\n<p>If you have same variables in different modules, and you do not want to import entire module, you may even do:</p>\n\n<pre><code>from module1 import b as mod1b\nfrom module2 import b as mod2b\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7138320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iT7c.png?s=128&g=1", "display_name": "endorpheus", "link": "https://stackoverflow.com/users/7138320/endorpheus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1478732663, "answer_count": 1, "score": 2, "last_activity_date": 1481924962, "creation_date": 1478731304, "last_edit_date": 1481924962, "question_id": 40517214, "link": "https://stackoverflow.com/questions/40517214/in-general-is-it-a-bad-practice-to-use-the-statement-from-module-import-in", "closed_reason": "Duplicate", "title": "In general, is it a bad practice to use the statement &quot;from module import *&quot; in my python code?", "body": "<p>I took a python tutorial a year ago and rather enjoyed it, so I thought I'd attempt to incorporate tkinter widgets into things because, well, GUI. Many of the tutorials I have seen covering beginner tkinter begin the code with the line:<br><br>\n <code>from tkinter import *</code><br><br>\nIs there a compelling reason for this?  I mean, why (or not) load everything?</p>\n"}, {"tags": ["python", "c++", "c", "python-embedding"], "comments": [{"owner": {"reputation": 307, "user_id": 2977382, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3bd2926aaeeb439998afe8de517106df?s=128&d=identicon&r=PG&f=1", "display_name": "terminix00", "link": "https://stackoverflow.com/users/2977382/terminix00"}, "edited": false, "score": 0, "creation_date": 1478731480, "post_id": 40517154, "comment_id": 68276128, "body": "Okay, so if anyone runs into this. Don&#39;t replace your PythonPath with your libs. I think the location of the modules are automagically figured out."}, {"owner": {"reputation": 307, "user_id": 2977382, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3bd2926aaeeb439998afe8de517106df?s=128&d=identicon&r=PG&f=1", "display_name": "terminix00", "link": "https://stackoverflow.com/users/2977382/terminix00"}, "edited": false, "score": 0, "creation_date": 1478735267, "post_id": 40517154, "comment_id": 68277435, "body": "New problem is that I have to use WinPython&#39;s python interpreter located in the root directory for my code to run. How do I use that interpreter rather than the interpreter found one level deeper in the Python directory?"}], "owner": {"reputation": 307, "user_id": 2977382, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3bd2926aaeeb439998afe8de517106df?s=128&d=identicon&r=PG&f=1", "display_name": "terminix00", "link": "https://stackoverflow.com/users/2977382/terminix00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478730968, "creation_date": 1478730968, "question_id": 40517154, "link": "https://stackoverflow.com/questions/40517154/python-3-4-c-api-embedding-import-errors-for-modules-that-should-exist", "title": "Python 3.4 C API embedding Import errors for modules that should exist", "body": "<p>I am using <a href=\"http://winpython.sourceforge.net/\" rel=\"nofollow noreferrer\">WinPython's</a> python distribution as my interpreter. It should be able to import all the modules that I need in order to run some example code. I have verified this by running the module using the python.exe included with the distribution.</p>\n\n<p>The problem is that when I set the PythonHome of my variable to be where the python.exe is located and also my PythonPath to the libs folder, then run the module, I am unable to import the modules necessary for the module to run.. My code is shown below..</p>\n\n<pre><code>#include \"Python.h\"\n#include &lt;cwchar&gt;\n#include &lt;string&gt;\n\nint main() {\n\n    wchar_t PythonHome[1024];\n    std::wcsncpy(PythonHome, L\"C:\\\\Users\\\\jchen114\\\\Lasagne\\\\WinPython\\\\WinPython-64bit-3.4.4.1\\\\python-3.4.4.amd64\", 1024);\n\n    wchar_t PythonPath[1024];\n    std::wcsncpy(PythonPath, L\"C:\\\\Users\\\\jchen114\\\\Lasagne\\\\WinPython\\\\WinPython-64bit-3.4.4.1\\\\python-3.4.4.amd64\\\\Lib;C:\\\\Users\\\\jchen114\\\\Lasagne\\\\WinPython\\\\WinPython-64bit-3.4.4.1\\\\python-3.4.4.amd64\\\\Lib\\\\site-packages\", 1024);\n\n    std::string ScriptPath = \"C:\\\\users\\\\jchen114\\\\Lasagne\\\\mnist\\\\mnist.py\";\n\n    Py_SetPythonHome(PythonHome);\n    Py_SetPath(PythonPath);\n\n    Py_Initialize();\n\n    PyObject *pName, *pModule, *pFunc = NULL;\n\n    const char *s = Py_GetVersion();\n    printf(\"v: %s \\n\", s);\n\n    pName = PyUnicode_DecodeFSDefault(\"importlib.machinery\");\n    pModule = PyImport_Import(pName);\n\n\n    if (pModule != NULL) {\n        printf(\"Found module importlib.machinery \\n\");\n        PyObject *f1 = PyObject_GetAttrString(pModule, \"SourceFileLoader\");\n        if (f1) {\n            printf(\"Found SourceFileLoader. \\n\");\n            if (f1 &amp;&amp; PyCallable_Check(f1)) {\n                printf(\"SourceFileLoader  is callable. \\n\");\n\n                PyObject *args = Py_BuildValue(\"ss\", \"mnist\", ScriptPath.c_str());\n                PyObject *SFL = PyObject_CallObject(f1, args);\n\n                if (SFL) {\n                    printf(\"SourceFileLoader called. \\n\");\n                    PyObject *f2 = PyObject_GetAttrString(SFL, \"load_module\");\n                    if (f2) {\n                        printf(\"Load function found \\n\");\n                        if (f2 &amp;&amp; PyCallable_Check(f2)) {\n                            printf(\"Load function callable. \\n\");\n                            PyObject *mnist = PyObject_CallObject(f2, NULL);\n                            if (mnist) {\n                                printf(\"mnist module loaded. \\n\");\n                            }\n                            else {\n                                printf(\"mnist module not loaded. \\n\");\n                                PyErr_Print();\n                            }\n                            Py_XDECREF(mnist);\n                        }\n                    }\n                    else {\n                        printf(\"load function not found. \\n\");\n                    }\n                    Py_XDECREF(f2);\n                }\n                Py_XDECREF(args);\n                Py_XDECREF(SFL);\n            }\n        }\n        else {\n            printf(\"Did not find SourceFileLoader. \\n\");\n        }\n        /*pFunc = PyObject_GetAttrString(pModule, \"main\");\n        if (pFunc &amp;&amp; PyCallable_Check(pFunc)) {\n            printf(\"Found function. \\n\");\n        }*/\n        Py_XDECREF(f1);\n    }\n    else {\n        printf(\"Did not find module. \\n\");\n    }\n\n\n    Py_XDECREF(pName);\n    Py_XDECREF(pModule);\n    Py_XDECREF(pFunc);\n\n    Py_Finalize();\n\n    return 0;\n\n}\n</code></pre>\n\n<p>The module mnist can't be loaded because of this import error:\n<a href=\"https://i.stack.imgur.com/SzrL8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzrL8.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm not sure if it is because I haven't included all the modules in my python path. Please advise.</p>\n"}, {"tags": ["python", "html", "csv", "parsing", "url"], "comments": [{"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "edited": false, "score": 0, "creation_date": 1478732360, "post_id": 40517099, "comment_id": 68276489, "body": "Please improve your question: it is not clear if you only want to process the <i>single</i> <code>co2.csv</code> file, or if you want to process <i>all</i> csv files that are linked on the html page."}, {"owner": {"reputation": 5, "user_id": 6308088, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204909081921901/picture?type=large", "display_name": "Cliff", "link": "https://stackoverflow.com/users/6308088/cliff"}, "reply_to_user": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "edited": false, "score": 0, "creation_date": 1478732738, "post_id": 40517099, "comment_id": 68276631, "body": "I only want the one file. Co2.csv"}, {"owner": {"reputation": 5, "user_id": 6308088, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204909081921901/picture?type=large", "display_name": "Cliff", "link": "https://stackoverflow.com/users/6308088/cliff"}, "reply_to_user": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "edited": false, "score": 0, "creation_date": 1478732813, "post_id": 40517099, "comment_id": 68276652, "body": "And I want to take that file and do data analysis on it (linear regression)."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6308088, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204909081921901/picture?type=large", "display_name": "Cliff", "link": "https://stackoverflow.com/users/6308088/cliff"}, "edited": false, "score": 0, "creation_date": 1478733891, "post_id": 40517663, "comment_id": 68277021, "body": "yes my code is a first crude attempt which was used for another project that had nothing to do with this question.  I&#39;ll look up relative url&#39;s as well."}, {"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "reply_to_user": {"reputation": 5, "user_id": 6308088, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204909081921901/picture?type=large", "display_name": "Cliff", "link": "https://stackoverflow.com/users/6308088/cliff"}, "edited": false, "score": 0, "creation_date": 1478734088, "post_id": 40517663, "comment_id": 68277085, "body": "Then please in the future try not posting code that &quot;has nothing to do with the question&quot; - why should we even read that? Instead post <i>relevant</i> code"}, {"owner": {"reputation": 5, "user_id": 6308088, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204909081921901/picture?type=large", "display_name": "Cliff", "link": "https://stackoverflow.com/users/6308088/cliff"}, "edited": false, "score": 0, "creation_date": 1478734174, "post_id": 40517663, "comment_id": 68277105, "body": "Yes thanks.  but I am glad you understood my question."}], "tags": [], "owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "is_accepted": true, "score": 0, "last_activity_date": 1478733722, "creation_date": 1478733722, "answer_id": 40517663, "question_id": 40517099, "link": "https://stackoverflow.com/questions/40517099/how-to-extract-specific-csv-from-web-page-html-containing-multiple-csv-file-link/40517663#40517663", "title": "how to extract specific csv from web page html containing multiple csv file links", "body": "<p>You're re-downloading and reparsing the full html page for all of the 30 iterations of your loop, just to get the next csv file and see if that is the one you want. That is <em>very</em> inefficient, and not very polite to the server. Just read the html page once, and use the loop over the tags you already had to check if the tag is the one you want! If so, do something with it, and stop looping to avoid needless further processing because you said you only needed one particular file.</p>\n\n<p>The other issue related to your question is that in the html file the csv hrefs are relative urls. So you have to join them on the base url of the document they're in. <code>urlparse.urljoin()</code> does just that.</p>\n\n<p>Not related to the question directly, but you should also try to clean up your code;</p>\n\n<ul>\n<li>fix your indentation (the comment on line 9)</li>\n<li>choose better variable names; y/c/k/w are meaningless.</li>\n</ul>\n\n<p>Resulting in something like:</p>\n\n<pre><code>import urllib\nimport urlparse\n\nurl = 'https://vincentarelbundock.github.io/Rdatasets/datasets.html'\nfrom BeautifulSoup import *\n\n\ndef scraper(url):\n    html = urllib.urlopen(url).read() \n    soup = BeautifulSoup(html)\n    # Retrieve all of the anchor tags\n    tags = soup('a')\n    for tag in tags:\n        href = (tag.get('href', None))\n        if href.endswith(\"/co2.csv\"):\n            csv_url = urlparse.urljoin(url, href)\n            # ... do something with the csv file....\n            contents = urllib.urlopen(csv_url).read()\n            print \"csv file size=\", len(contents)\n            break   # we only needed this one file, so we end the loop.\n\nscraper(url)\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6308088, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204909081921901/picture?type=large", "display_name": "Cliff", "link": "https://stackoverflow.com/users/6308088/cliff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1335, "favorite_count": 1, "accepted_answer_id": 40517663, "answer_count": 1, "score": 0, "last_activity_date": 1478733722, "creation_date": 1478730690, "last_edit_date": 1478731108, "question_id": 40517099, "link": "https://stackoverflow.com/questions/40517099/how-to-extract-specific-csv-from-web-page-html-containing-multiple-csv-file-link", "title": "how to extract specific csv from web page html containing multiple csv file links", "body": "<p>I need to extract csv file from html page see below and once I get that I can do stuff with it. below is code to extract that particular line of html code from a previous assignment. The url is '<a href=\"https://vincentarelbundock.github.io/Rdatasets/datasets.html\" rel=\"nofollow noreferrer\">https://vincentarelbundock.github.io/Rdatasets/datasets.html</a>'\nthat is test code so it breaks temporarly when it finds that line.\npart of the line with my csv is href is csv/datasets/co2.csv ( unicode I think as type)</p>\n\n<p>how to open the co2.csv?\nsorry about any formatting issues with the question. The code has been sliced and diced by the editor.</p>\n\n<pre><code>import urllib\nurl = 'https://vincentarelbundock.github.io/Rdatasets/datasets.html'\nfrom BeautifulSoup import *\n\ndef scrapper(url,k):\n    c=0\n    html = urllib.urlopen(url).read() \n    soup = BeautifulSoup(html)\n#.    Retrieve all of the anchor tags\n    tags = soup('a')\n    for tag in tags:\n        y= (tag.get('href', None))\n        #print ((y))\n        if y == 'csv/datasets/co2.csv':\n            print y\n            break\n        c= c+ 1\n\n        if c is k:\n            return y\n            print(type(y))\n\nfor w in range(29):\n    print(scrapper(url,w))\n</code></pre>\n"}, {"tags": ["python", "file", "math"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 3, "creation_date": 1478730686, "post_id": 40517070, "comment_id": 68275838, "body": "<code>calcD</code> has <code>* 0.25</code>, not <code>* 25</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1478730760, "post_id": 40517070, "comment_id": 68275865, "body": "Don&#39;t use <code>eval()</code>, use <code>float()</code> to convert a string to a float."}, {"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1478731671, "post_id": 40517070, "comment_id": 68276209, "body": "What @Barmar says, <i>Never ever</i> use eval() on user input. Huge disasters are waiting to happen here: the user can trivially cause arbitrary code execution like this. Also, <code>float(&quot;...&quot;)</code> is much more efficient."}], "answers": [{"tags": [], "owner": {"reputation": 51182, "user_id": 1468366, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2e313135581cf6ceaad355580af931f8?s=128&d=identicon&r=PG", "display_name": "MvG", "link": "https://stackoverflow.com/users/1468366/mvg"}, "is_accepted": false, "score": 1, "last_activity_date": 1478768733, "creation_date": 1478768733, "answer_id": 40523615, "question_id": 40517070, "link": "https://stackoverflow.com/questions/40517070/having-trouble-getting-my-math-to-come-out-correctly-when-reading-from-a-file/40523615#40523615", "title": "Having trouble getting my math to come out correctly, when reading from a file", "body": "<p><em>Collecting snippets from comments to get this out of the unanswered queue.</em></p>\n\n<pre><code>d = 2.375 - ((4 / 313) * 25)\n</code></pre>\n\n<p>does not match</p>\n\n<pre><code>avgD = 2.375 - ((ints / passA) * 0.25)\n</code></pre>\n\n<p>as the former multiplies by <code>25</code>, the latter by <code>0.25</code>.</p>\n\n<pre><code> passA = eval(infile.readline())\n</code></pre>\n\n<p>This is really really bad style. Mostly because if <code>infile</code> is a file provided by someone else, that someone can cause you to execute arbitrary code. Install a key logger on your system, delete all your files, install a backdoor or whatever. Even if in this instance it's just you writing that file, never get in the habit of doing things this way, i.e. allowing arbitrary code execution in files that look like data files.</p>\n\n<p>If the input file is just containing some numbers, then using <code>float(infile.readline().strip())</code> to convert a number's string representation to its numeric value is both safer and more efficient. Plus it will throw an exception if input format is not as expected, instead of trying to interpret the line as program code instead.</p>\n"}], "owner": {"reputation": 1, "user_id": 7138618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d153bcdd1b929483531f901ca84a3b9b?s=128&d=identicon&r=PG&f=1", "display_name": "ragincajuncmps", "link": "https://stackoverflow.com/users/7138618/ragincajuncmps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1478768733, "creation_date": 1478730527, "last_edit_date": 1478730828, "question_id": 40517070, "link": "https://stackoverflow.com/questions/40517070/having-trouble-getting-my-math-to-come-out-correctly-when-reading-from-a-file", "title": "Having trouble getting my math to come out correctly, when reading from a file", "body": "<p>When I do the math in a stand alone program where I manually plug the data in, it comes out correctly:</p>\n\n<pre><code>a = ((218 / 313) - 0.3) * 5\nb = ((2980 / 313) - 3) * 0.25\nc = (23 / 313) * 20\nd = 2.375 - ((4 / 313) * 25)\n\nscore = ((a+b+c+d) * 100) / 6\n\nprint(score)\n\na1 = ((215 / 321) - 0.3) * 5\nb1 = ((2454 / 321) - 3) * 0.25\nc1 = (12 / 321) * 20\nd1 = 2.375 - ((7 / 321) * 25)\n\nscore1 = ((a1+b1+c1+d1) * 100) / 6\n\nprint(score1)\n</code></pre>\n\n<p>which gives me the correct answers:</p>\n\n<pre><code>Matt Ryan          118.96\nKirk Cousins       93.13\n</code></pre>\n\n<p>The above is how the data should be being pulled from the file.  But every time I run the code the answers are all wrong.  When I run the code the way its suppose to work I get these answers:</p>\n\n<pre><code>Matt Ryan          124.23\nKirk Cousins       102.12\n</code></pre>\n\n<p>Below is the main code that produces the wrong answers as shown above (there are more than two but just as an example).</p>\n\n<pre><code>import math\n\ndef calcA(passA,passC):\n    avgA = ((passC / passA) - 0.3) * 5\n    return avgA\n\ndef calcB(passA,passY):\n    avgB = ((passY / passA) - 3) * 0.25\n    return avgB\n\ndef calcC(passA,td):\n    avgC = (td / passA) * 20\n    return avgC\n\ndef calcD(passA,ints):\n    avgD = 2.375 - ((ints / passA) * 0.25)\n    return avgD\n\ndef main():\n\n    filename = input(\"Enter the name of your input file: \")\n    infile = open(filename,\"r\")\n\n    name = infile.readline().strip()\n    passA = eval(infile.readline())\n    passC = eval(infile.readline())\n    passY = eval(infile.readline())\n    td = eval(infile.readline())\n    ints = eval(infile.readline())\n\n    print(\"Name                   Rating\")\n    print(\"-----------------------------\")\n\n    while name != \"DONE\":\n\n        a = calcA(passA,passC)\n        b = calcB(passA,passY)\n        c = calcC(passA,td)\n        d = calcD(passA,ints)\n\n        score = ((a+b+c+d) * 100) / 6\n\n        print(format(name),(\"       \"),format(score,\"7.2f\"))\n\n        name = infile.readline().strip()\n        passA = eval(infile.readline())\n        passC = eval(infile.readline())\n        passY = eval(infile.readline())\n        td = eval(infile.readline())\n        ints = eval(infile.readline())\n\n    infile.close()\n\n    print(\"-----------------------------\")\n    print(\"Average Rating\")\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "cmd", "interpreter", "nameerror"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1478731505, "post_id": 40517049, "comment_id": 68276140, "body": "<code>pytest.py</code> is not inside your user folder... I would highly suggest you download PyCharm or use IDLE. Command prompt interfaces are not designed for beginners"}], "answers": [{"comments": [{"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "edited": false, "score": 0, "creation_date": 1478730763, "post_id": 40517072, "comment_id": 68275866, "body": "This helps a bit, but Eric is running the command from within the Python REPL, not on the cmd prompt/"}, {"owner": {"reputation": 13, "user_id": 7138619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a418c0fec37cbd988af6497ebf6b13a5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7138619/eric"}, "edited": false, "score": 0, "creation_date": 1478730928, "post_id": 40517072, "comment_id": 68275925, "body": "I added a screenshot of the CMD to my post, please let me know if that changes your answer...still not finding a solution."}, {"owner": {"reputation": 13, "user_id": 7138619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a418c0fec37cbd988af6497ebf6b13a5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7138619/eric"}, "edited": false, "score": 0, "creation_date": 1478731094, "post_id": 40517072, "comment_id": 68275972, "body": "@smac89 I&#39;m not understanding this, I wrote the code in Atom text editor then saved it as pytest.py.  Then I closed Atom and opened CMD prompt and tried to run it.  I don&#39;t think i have a python interpreter at all."}, {"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "reply_to_user": {"reputation": 13, "user_id": 7138619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a418c0fec37cbd988af6497ebf6b13a5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7138619/eric"}, "edited": false, "score": 0, "creation_date": 1478731135, "post_id": 40517072, "comment_id": 68275988, "body": "@Eric you should just open a cmd.exe command prompt and not start a Python session like you&#39;re doing now, type what smac89 wrote directly from your cmd.exe prompt.   You should <i>not</i> type <code>python</code> on your command line first like you&#39;re doing on the first line in your screen"}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "reply_to_user": {"reputation": 13, "user_id": 7138619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a418c0fec37cbd988af6497ebf6b13a5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7138619/eric"}, "edited": false, "score": 0, "creation_date": 1478731226, "post_id": 40517072, "comment_id": 68276022, "body": "@Eric you do...it&#39;s that command you typed called <code>python</code>. Reopen the command line, change directory to the folder where the file <code>pytest.py</code> lives and type the command I mentioned above"}, {"owner": {"reputation": 13, "user_id": 7138619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a418c0fec37cbd988af6497ebf6b13a5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7138619/eric"}, "edited": false, "score": 0, "creation_date": 1478731542, "post_id": 40517072, "comment_id": 68276152, "body": "deleted comment"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1478733149, "post_id": 40517072, "comment_id": 68276761, "body": "You can also Shift + Right-click to &quot;open command prompt here&quot; in windows"}], "tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": true, "score": 1, "last_activity_date": 1478731621, "last_edit_date": 1478731621, "creation_date": 1478730542, "answer_id": 40517072, "question_id": 40517049, "link": "https://stackoverflow.com/questions/40517049/nameerror-when-running-py-file-from-cmd-windows-10/40517072#40517072", "title": "NameError when running .py file from CMD Windows 10", "body": "<p>Either make the file executable or supply it to <code>python</code> program to run it</p>\n\n<p><code>python pytest.py</code></p>\n\n<p>If you are running the file from within the python interpreter, then you need to exit that using <code>Ctrl + Z</code> and run it from the command line the way I mentioned above.</p>\n\n<p><strong>Note:</strong> You will need to change to the directory where <code>pytest.py</code> is located in for the above command to work; or you need to supply the path to the file. For example, from your pictures, you are in the root directory i.e. <code>C:\\Users\\Eric</code>; if you open file explorer on windows and navigate to where your file is located, you can right click the file and view properties and this should show you the location. Then in your command prompt, you need to type <code>cd C:\\location\\you\\just\\copied\\</code> then after that you should be able to run the file using the python command above</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 7138619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a418c0fec37cbd988af6497ebf6b13a5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7138619/eric"}, "edited": false, "score": 0, "creation_date": 1478731741, "post_id": 40517197, "comment_id": 68276236, "body": "Solved it using your last method.  Thank you!!"}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 2, "last_activity_date": 1478731219, "creation_date": 1478731219, "answer_id": 40517197, "question_id": 40517049, "link": "https://stackoverflow.com/questions/40517049/nameerror-when-running-py-file-from-cmd-windows-10/40517197#40517197", "title": "NameError when running .py file from CMD Windows 10", "body": "<p>You cannot run the <code>.py</code> file from the Python interpreter (starting with <code>&gt;&gt;&gt;</code>)</p>\n\n<p>So, you need to see <code>C:\\Users\\Eric&gt; python pytest.py</code> to run <code>python</code> on your file.</p>\n\n<p><strong>Or</strong>, you can run only <code>python</code>, then you must <code>import</code> the file. </p>\n\n<pre><code>&gt;&gt;&gt; import pytest\n&gt;&gt;&gt; pytest.main()\n</code></pre>\n\n<p>Both cases assume the CMD is at the same directory as your file. If not, you must <code>cd</code> to that proper directory first, or use </p>\n\n<pre><code>C:\\Users\\Eric&gt; python C:\\Users\\Eric\\full\\path\\to\\pytest.py\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 5834372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mf9f.jpg?s=128&g=1", "display_name": "H Doucet", "link": "https://stackoverflow.com/users/5834372/h-doucet"}, "is_accepted": false, "score": 2, "last_activity_date": 1478731958, "last_edit_date": 1478731958, "creation_date": 1478731391, "answer_id": 40517227, "question_id": 40517049, "link": "https://stackoverflow.com/questions/40517049/nameerror-when-running-py-file-from-cmd-windows-10/40517227#40517227", "title": "NameError when running .py file from CMD Windows 10", "body": "<p>When you start a terminal in windows via CMD, you are in the Windows Command Line.\nHere you can run your python code by entering</p>\n\n<pre><code>python yourpythoncode.py\n</code></pre>\n\n<p>Or you can choose to start the python interpreter by entering just :</p>\n\n<pre><code>python\n</code></pre>\n\n<p>In the interpreter you can run your python program by importing it </p>\n\n<pre><code>import yourpythoncode\n</code></pre>\n\n<p>If yourpythoncode has a line like </p>\n\n<pre><code>if ___name___ = ___main___:\n    main()\n</code></pre>\n\n<p>then it is protected from autorunning the code.\nSo to run your code your still need to call it explicit by entering :</p>\n\n<pre><code>main()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7138619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a418c0fec37cbd988af6497ebf6b13a5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/7138619/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3616, "favorite_count": 0, "accepted_answer_id": 40517072, "answer_count": 3, "score": 0, "last_activity_date": 1478731958, "creation_date": 1478730385, "last_edit_date": 1478731348, "question_id": 40517049, "link": "https://stackoverflow.com/questions/40517049/nameerror-when-running-py-file-from-cmd-windows-10", "title": "NameError when running .py file from CMD Windows 10", "body": "<p>I am trying to run a .py file created in a text editor from the CMD line in Windows 10. Here is my very simple code:</p>\n\n<pre><code>def main():\n    print 'It works!'\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>When I run from CMD line, which is already in python 2.7 mode, i type</p>\n\n<pre><code>pytest.py\n</code></pre>\n\n<p>which is the name of the file.  However, now the CMD line says:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'pytest' is not defined\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/8YUEF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8YUEF.png\" alt=\"CMD Screenshot\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/zPkGV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zPkGV.png\" alt=\"CMD Screenshot 2\"></a></p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 3, "creation_date": 1478730345, "post_id": 40517003, "comment_id": 68275733, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12032214/python-3-print-new-output-on-same-line\">python 3: print new output on same line</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": true, "score": 2, "last_activity_date": 1478730318, "creation_date": 1478730318, "answer_id": 40517036, "question_id": 40517003, "link": "https://stackoverflow.com/questions/40517003/python-print-dictionary-key-value-when-value-is-a-list-print-each-key-value-o/40517036#40517036", "title": "Python Print dictionary key, value when value is a list. Print each key, value on seperate line", "body": "<pre><code>for key, value in sorted(dict.items()):\n    print ', '.join((\"{} - {}\".format(key, links)) for links in value)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1478730960, "last_edit_date": 1478730960, "creation_date": 1478730569, "answer_id": 40517079, "question_id": 40517003, "link": "https://stackoverflow.com/questions/40517003/python-print-dictionary-key-value-when-value-is-a-list-print-each-key-value-o/40517079#40517079", "title": "Python Print dictionary key, value when value is a list. Print each key, value on seperate line", "body": "<pre><code>dictionary = {1: [2, 3], 2: [1, 4], 3: [2, 4], 4: [2, 3]}\n\nfor key, links in sorted(dictionary.items()):\n    print(\"{key} - {}, {key} - {}\".format(*links, key=key))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14205, "user_id": 3067748, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ojjhJ.jpg?s=128&g=1", "display_name": "SparkAndShine", "link": "https://stackoverflow.com/users/3067748/sparkandshine"}, "edited": false, "score": 0, "creation_date": 1478731232, "post_id": 40517179, "comment_id": 68276030, "body": "<code>d.items()</code> should be <code>sorted(...)</code>"}], "tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 0, "last_activity_date": 1478731317, "last_edit_date": 1478731317, "creation_date": 1478731136, "answer_id": 40517179, "question_id": 40517003, "link": "https://stackoverflow.com/questions/40517003/python-print-dictionary-key-value-when-value-is-a-list-print-each-key-value-o/40517179#40517179", "title": "Python Print dictionary key, value when value is a list. Print each key, value on seperate line", "body": "<pre><code>&gt;&gt;&gt; for key, value in sorted(d.items()):\n        print('{} - {}, {} - {}'.format(key, value[0], key, value[1]))\n\n\n1 - 2, 1 - 3\n2 - 1, 2 - 4\n3 - 2, 3 - 4\n4 - 2, 4 - 3\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7138501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13dd387c906d28ce3853ed2a39fc7d90?s=128&d=identicon&r=PG&f=1", "display_name": "kcribb", "link": "https://stackoverflow.com/users/7138501/kcribb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1937, "favorite_count": 0, "accepted_answer_id": 40517036, "answer_count": 3, "score": -1, "last_activity_date": 1478731317, "creation_date": 1478730159, "last_edit_date": 1478730257, "question_id": 40517003, "link": "https://stackoverflow.com/questions/40517003/python-print-dictionary-key-value-when-value-is-a-list-print-each-key-value-o", "title": "Python Print dictionary key, value when value is a list. Print each key, value on seperate line", "body": "<p>I have a Python dictionary with a list defined for the value. I am having trouble printing the output in the format I need.</p>\n\n<pre><code>dict = {1 : [2,3], 2 : [1,4], 3 : [2,4], 4 : [2,3]}\n</code></pre>\n\n<p>Needed print format:</p>\n\n<pre><code>1 - 2, 1 - 3\n2 - 1, 2 - 4\n3 - 2, 3 - 4\n4 - 2, 4 - 3\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>dict = {1 : [2,3], 2 : [1,4], 3 : [2,4], 4 : [2,3]}\nfor key, value in sorted(dict.items()):\n    for links in value:\n        print (\"{} - {},\".format(key, links)),\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>1 - 2, 1 - 3, 2 - 1, 2 - 4, 3 - 2, 3 - 4, 4 - 2, 4 - 3,\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>for key, value in sorted(dict.items()):\n    for links in value:\n        print (\"{} - {},\".format(key, links))\n\n1 - 2,\n1 - 3,\n2 - 1,\n2 - 4,\n3 - 2,\n3 - 4,\n4 - 2,\n4 - 3,\n</code></pre>\n"}, {"tags": ["python", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 4465, "user_id": 196732, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c58f46d4ddf8d480ac42718db0c2bb12?s=128&d=identicon&r=PG", "display_name": "CpILL", "link": "https://stackoverflow.com/users/196732/cpill"}, "edited": false, "score": 0, "creation_date": 1559194501, "post_id": 40517561, "comment_id": 99346295, "body": "is this in master now? Looks like its not.:( Still no good answer to this question...?"}], "tags": [], "owner": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "is_accepted": false, "score": 1, "last_activity_date": 1478733125, "creation_date": 1478733125, "answer_id": 40517561, "question_id": 40517001, "link": "https://stackoverflow.com/questions/40517001/how-do-i-get-the-size-of-the-entire-usable-screen-in-kivy/40517561#40517561", "title": "How do I get the size of the entire usable screen in Kivy?", "body": "<p>There was recently a <a href=\"https://github.com/kivy/kivy/pull/4286#issuecomment-228581172\" rel=\"nofollow noreferrer\">pull request</a> exactly about that thing, yet it wasn't merged. For some reason I don't see it in Plyer too, so probably it was dropped or something. Which means:</p>\n\n<ol>\n<li><code>git clone https://github.com/kivy/kivy</code></li>\n<li>patch the <code>_window_sdl2.pyx</code> and <code>window_sdl2.py</code> files</li>\n<li>(re)compile</li>\n</ol>\n\n<p>and you should be good to go with getting the screen size via <code>Window.get_currentdisplaymode()</code>.</p>\n\n<p>It won't work if you use wheels or any other form of already compiled package of Kivy, where the Cython files are missing (no source to recompile from).</p>\n"}], "owner": {"reputation": 997, "user_id": 5781578, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7cc7ca4e1fb5108aca097ab2f6cd2ee2?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Beaudoin", "link": "https://stackoverflow.com/users/5781578/aaron-beaudoin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478733125, "creation_date": 1478730144, "question_id": 40517001, "link": "https://stackoverflow.com/questions/40517001/how-do-i-get-the-size-of-the-entire-usable-screen-in-kivy", "title": "How do I get the size of the entire usable screen in Kivy?", "body": "<p>I'm messing around with Kivy in Python 3 and while it gives me the option to get the size of the Kivy window, it won't give me any way to get the size of the entire usable screen of my current device.</p>\n\n<p>If it can't be done within Kivy, I at least need something totally cross-platform because that's the entire point of why I'm using Kivy.</p>\n"}, {"tags": ["python", "csv", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "edited": false, "score": 1, "creation_date": 1478795845, "post_id": 40517224, "comment_id": 68305179, "body": "Thank you very much for the reply. It is very interesting the SQL functionality and it works nicely... However, for this case it must be a text file. I managed to make it work adding as comment in &quot;read_csv&quot; any row which starts with &quot;L&quot; (which is not an issue in this data). I have tried to use ignore_rows but it does not work if you set the columns index... that&#39;s weird..."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 2, "last_activity_date": 1478760158, "last_edit_date": 1478760158, "creation_date": 1478731368, "answer_id": 40517224, "question_id": 40516999, "link": "https://stackoverflow.com/questions/40516999/pandas-reading-a-text-file-generated-from-dataframe-to-string/40517224#40517224", "title": "pandas reading a text file generated from dataframe.to_string", "body": "<p>I would use <a href=\"http://pandas.pydata.org/pandas-docs/stable/cookbook.html#hdfstore\" rel=\"nofollow noreferrer\">HDF5</a> format in this case - it'll take care of your index. </p>\n\n<p>Beside that it's much faster compared to CSV, you can conditionally select data (like using SQL DB), it supports compression, etc.</p>\n\n<p>Demo:</p>\n\n<pre><code>In [2]: df\nOut[2]:\n                   Ion  TheoWavelength Blended_Set\nLine_Label\nH1_4340A    Hgamma_5_2        4340.471        None\nHe1_4472A     HeI_4471        4471.479        None\nHe2_4686A    HeII_4686        4685.710        None\nAr4_4711A       [ArIV]        4711.000        None\nAr4_4740A       [ArIV]        4740.000        None\nH1_4861A     Hbeta_4_2        4862.683        None\n\nIn [3]: df.to_hdf('d:/temp/myhdf.h5', 'df', format='t', data_columns=True)\n\nIn [4]: x = pd.read_hdf('d:/temp/myhdf.h5', 'df')\n\nIn [5]: x\nOut[5]:\n                   Ion  TheoWavelength Blended_Set\nLine_Label\nH1_4340A    Hgamma_5_2        4340.471        None\nHe1_4472A     HeI_4471        4471.479        None\nHe2_4686A    HeII_4686        4685.710        None\nAr4_4711A       [ArIV]        4711.000        None\nAr4_4740A       [ArIV]        4740.000        None\nH1_4861A     Hbeta_4_2        4862.683        None\n</code></pre>\n\n<p>you can even query your HDF5 file, like a SQL DB:</p>\n\n<pre><code>In [20]: x2 = pd.read_hdf('d:/temp/myhdf.h5', 'df', where=\"TheoWavelength &gt; 4500 and Ion == '[ArIV]'\")\n\nIn [21]: x2\nOut[21]:\n               Ion  TheoWavelength Blended_Set\nLine_Label\nAr4_4711A   [ArIV]          4711.0        None\nAr4_4740A   [ArIV]          4740.0        None\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "edited": false, "score": 0, "creation_date": 1478795597, "post_id": 40518803, "comment_id": 68305025, "body": "Thank you very much of the reply but one question: If you have the &quot;data&quot; in a text file do you need to open the file twice (with readlines for example) or it can be done directly?"}], "tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": false, "score": 1, "last_activity_date": 1478841994, "last_edit_date": 1478841994, "creation_date": 1478742375, "answer_id": 40518803, "question_id": 40516999, "link": "https://stackoverflow.com/questions/40516999/pandas-reading-a-text-file-generated-from-dataframe-to-string/40518803#40518803", "title": "pandas reading a text file generated from dataframe.to_string", "body": "<p>Consider Python's built-in <code>StringIO</code>, method of the <code>io</code> module as of Python 3 (<code>StringIO</code> as its own module in Python 2) to read text from a scalar string. Call it inside a pandas's <code>read_table()</code> and then manipulate the first lines of string content for headers:</p>\n\n<pre><code>from io import StringIO\nimport pandas as pd\n\ndata = '''\n                   Ion  TheoWavelength         Blended_Set\nLine_Label\nH1_4340A    Hgamma_5_2        4340.471                None\nHe1_4472A     HeI_4471        4471.479                None\nHe2_4686A    HeII_4686        4685.710                None\nAr4_4711A       [ArIV]        4711.000                None\nAr4_4740A       [ArIV]        4740.000                None\nH1_4861A     Hbeta_4_2        4862.683                None\n'''\n\ndf = pd.read_table(StringIO(data), sep=\"\\s+\", header=None, skiprows=3, index_col=0)\n\nheaders = [item for line in data.split('\\n')[0:3] for item in line.split()][0:4]\ndf.columns = headers[0:3]\ndf.index.name = headers[3]\n</code></pre>\n\n<p>In case you need to read from file, use <code>read_table</code> to read from file, and then read the text file to extract headers:</p>\n\n<pre><code>df = pd.read_table(\"DataframeString.txt\", sep=\"\\s+\", header=None, skiprows=3, index_col=0)\n\ndata = []\nwith open(\"DataframeToString.txt\", 'r') as f:\n    data.append(f.read().split())\n\ndf.index.name = data[0][3]\ndf.columns = data[0][0:3]\n\nprint(df)\n#                    Ion  TheoWavelength Blended_Set\n# Line_Label                                        \n# H1_4340A    Hgamma_5_2        4340.471        None\n# He1_4472A     HeI_4471        4471.479        None\n# He2_4686A    HeII_4686        4685.710        None\n# vAr4_4711A      [ArIV]        4711.000        None\n# Ar4_4740A       [ArIV]        4740.000        None\n# H1_4861A     Hbeta_4_2        4862.683        None\n</code></pre>\n"}], "owner": {"reputation": 726, "user_id": 2301970, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/51909a91b1d0fb16c5df097d4bb638a2?s=128&d=identicon&r=PG", "display_name": "Delosari", "link": "https://stackoverflow.com/users/2301970/delosari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1636, "favorite_count": 0, "accepted_answer_id": 40517224, "answer_count": 2, "score": 4, "last_activity_date": 1597848137, "creation_date": 1478730132, "last_edit_date": 1478731881, "question_id": 40516999, "link": "https://stackoverflow.com/questions/40516999/pandas-reading-a-text-file-generated-from-dataframe-to-string", "title": "pandas reading a text file generated from dataframe.to_string", "body": "<p>I have a text file which contains this table:</p>\n\n<pre><code>                   Ion  TheoWavelength         Blended_Set  \nLine_Label                                                                                                                                             \nH1_4340A    Hgamma_5_2        4340.471                None\nHe1_4472A     HeI_4471        4471.479                None\nHe2_4686A    HeII_4686        4685.710                None\nAr4_4711A       [ArIV]        4711.000                None\nAr4_4740A       [ArIV]        4740.000                None\nH1_4861A     Hbeta_4_2        4862.683                None\n</code></pre>\n\n<p>This table has been generated from a pandas dataframe using dataframe.to_string and then saving the unicode variable. </p>\n\n<p>I want to create a dataframe from this file using the pandas functions:</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_csv('my_table_file.txt', delim_whitespace = True, header = 0, index_col = 0)\n</code></pre>\n\n<p>However I get this error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \n    df = pd.read_csv(table, delim_whitespace = True, header = 0, index_col = 0)\n  File \"/home/user/anaconda/python2/lib/python2.7/site-packages/pandas/io/parsers.py\", line 562, in parser_f\n    return _read(filepath_or_buffer, kwds)\n  File \"/home/user/anaconda/python2/lib/python2.7/site-packages/pandas/io/parsers.py\", line 325, in _read\n    return parser.read()\n  File \"/home/user/anaconda/python2/lib/python2.7/site-packages/pandas/io/parsers.py\", line 815, in read\n    ret = self._engine.read(nrows)\n  File \"/home/user/anaconda/python2/lib/python2.7/site-packages/pandas/io/parsers.py\", line 1314, in read\n    data = self._reader.read(nrows)\n  File \"pandas/parser.pyx\", line 805, in pandas.parser.TextReader.read (pandas/parser.c:8748)\n  File \"pandas/parser.pyx\", line 827, in pandas.parser.TextReader._read_low_memory (pandas/parser.c:9003)\n  File \"pandas/parser.pyx\", line 881, in pandas.parser.TextReader._read_rows (pandas/parser.c:9731)\n  File \"pandas/parser.pyx\", line 868, in pandas.parser.TextReader._tokenize_rows (pandas/parser.c:9602)\n  File \"pandas/parser.pyx\", line 1865, in pandas.parser.raise_parser_error (pandas/parser.c:23325)\npandas.io.common.CParserError: Error tokenizing data. C error: Expected 3 fields in line 3, saw 4\n</code></pre>\n\n<p>I daresay it is caused due to the name of the index columns name in its own row.</p>\n\n<p>Is there anyway to avoid this problem or to export the table without including this label?</p>\n\n<p>P.S. I tried to use dataframe.to_csv table but as far as I known it does not allow you to play with the tables column formats if they have different dtypes</p>\n"}, {"tags": ["python", "python-2.7", "user-interface", "nested-loops"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1478731315, "post_id": 40516951, "comment_id": 68276063, "body": "You may want to take a look at the standard <code>signal</code> library for asynchronous events."}, {"owner": {"reputation": 2670, "user_id": 2682863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/840d9fa30bb7e296d9aeb0abc50f204a?s=128&d=identicon&r=PG&f=1", "display_name": "user2682863", "link": "https://stackoverflow.com/users/2682863/user2682863"}, "edited": false, "score": 1, "creation_date": 1478731615, "post_id": 40516951, "comment_id": 68276185, "body": "please provide a minimum working example"}], "answers": [{"comments": [{"owner": {"reputation": 532, "user_id": 6347862, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7eefdf2f55bfe8781e66a01fde11ab02?s=128&d=identicon&r=PG&f=1", "display_name": "Mathews24", "link": "https://stackoverflow.com/users/6347862/mathews24"}, "edited": false, "score": 0, "creation_date": 1478879583, "post_id": 40517835, "comment_id": 68341481, "body": "This is essentially what I was looking for. But out of curiosity, is there a way to implement a similar method without the try/except statement?"}], "tags": [], "owner": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "is_accepted": true, "score": 4, "last_activity_date": 1580327459, "last_edit_date": 1580327459, "creation_date": 1478734851, "answer_id": 40517835, "question_id": 40516951, "link": "https://stackoverflow.com/questions/40516951/breaking-out-of-nested-loops-with-user-input/40517835#40517835", "title": "Breaking out of nested loops with user input", "body": "<p>You can break out of the nested loops if the user issues a <kbd>Ctrl</kbd>+<kbd>C</kbd> keystroke, since it throws a <code>KeyboardInterrupt</code> exception:</p>\n\n<pre><code>try:\n    for x in xrange(1000):\n        for y in xrange(1000):\n            for z in xrange(1000):\n                print x,y,z #function of loop\n\nexcept KeyboardInterrupt:\n    print(\"Stopped nested loops\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 7038124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a264a0cd377db68794eb9159afe2d90c?s=128&d=identicon&r=PG&f=1", "display_name": "M. Abdulai", "link": "https://stackoverflow.com/users/7038124/m-abdulai"}, "is_accepted": false, "score": 0, "last_activity_date": 1478743907, "last_edit_date": 1478743907, "creation_date": 1478737053, "answer_id": 40518126, "question_id": 40516951, "link": "https://stackoverflow.com/questions/40516951/breaking-out-of-nested-loops-with-user-input/40518126#40518126", "title": "Breaking out of nested loops with user input", "body": "<p>If you want the loop to break whenever <strong>any</strong> key is pressed by the user, then you can try this import:</p>\n\n<pre><code>from msvcrt import getch\nwhile True:\n    key = getch()\n    if (key is not None): \n        break\n</code></pre>\n"}], "owner": {"reputation": 532, "user_id": 6347862, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7eefdf2f55bfe8781e66a01fde11ab02?s=128&d=identicon&r=PG&f=1", "display_name": "Mathews24", "link": "https://stackoverflow.com/users/6347862/mathews24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 40517835, "answer_count": 2, "score": 1, "last_activity_date": 1580327459, "creation_date": 1478729881, "last_edit_date": 1495541336, "question_id": 40516951, "link": "https://stackoverflow.com/questions/40516951/breaking-out-of-nested-loops-with-user-input", "title": "Breaking out of nested loops with user input", "body": "<p>Is there an efficient way to break out of a nested loop by having a user simply providing an input at the particular time they want to break out (e.g. press a key)? I have conditional statements in the loops themselves that I can use to break the loops, but if for example I simply want to stop the loops at any time yet still want the rest of the code to run, is there a simple way to do that? To clarify the motivation, I would like to do something like:</p>\n\n<pre><code>for x in xrange(1000):\n    for y in xrange(1000):\n        for z in xrange(1000):\n            print x,y,z #function of loop\n            if (user_has_pressed_key) == True: #a user input that \n                                               #can come at any time\n                                               #but there should NOT be \n                                               #a prompt needed for each iteration to run\n                break\n        else:\n            continue\n        break\n    else:\n        continue\n    break\n</code></pre>\n\n<p>I have considered using raw input, but would not want the loops to wait each iteration for the user as there will be numerous iterations. There appear to be some <a href=\"https://stackoverflow.com/questions/20576960/python-infinite-while-loop-break-on-user-input\">proposed solutions when using different packages</a>, but even these seem to only be Windows-specific. I am running this code on multiple computers so would ideally want it to function on different OS. </p>\n"}, {"tags": ["python", "nlp", "information-extraction"], "answers": [{"comments": [{"owner": {"reputation": 6948, "user_id": 614735, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c4be6ca72e12a4b7148f84a1489f693?s=128&d=identicon&r=PG", "display_name": "Yuriy Petrovskiy", "link": "https://stackoverflow.com/users/614735/yuriy-petrovskiy"}, "edited": false, "score": 0, "creation_date": 1484945713, "post_id": 41394748, "comment_id": 70735819, "body": "It was an example. Word order may be different or only one type of pattern will occurr in sentence...or more than two. and it will fail."}], "tags": [], "owner": {"reputation": 298, "user_id": 1740544, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/13b47c63aae4df67da7810ac868023e3?s=128&d=identicon&r=PG", "display_name": "Hemaa mathavan", "link": "https://stackoverflow.com/users/1740544/hemaa-mathavan"}, "is_accepted": false, "score": 0, "last_activity_date": 1483094099, "creation_date": 1483094099, "answer_id": 41394748, "question_id": 40516883, "link": "https://stackoverflow.com/questions/40516883/how-to-join-search-patterns-in-clips-pattern-search/41394748#41394748", "title": "How to join search patterns in CLiPS pattern.search", "body": "<p>This pattern worked for me, {VBN NP} *+ {NP TO NP}, along with the match() and group() methods </p>\n\n<pre><code>&gt;&gt;&gt; from pattern.search import match\n&gt;&gt;&gt; from pattern.en import parsetree\n\n\n&gt;&gt;&gt; t = parsetree('Published case-control studies have a lot of information about susceptibility to asthma.',relations= True)\n\n&gt;&gt;&gt; m = match('{VBN NP} *+ {NP TO NP}',t)\n\n&gt;&gt;&gt; m.group(0) #matches the complete pattern \n[Word(u'Published/VBN'), Word(u'case-control/NN'), Word(u'studies/NNS'), Word(u'have/VBP'), Word(u'a/DT'), Word(u'lot/NN'), Word(u'of/IN'), Word(u'information/NN'), Word(u'about/IN'), Word(u'susceptibility/NN'), Word(u'to/TO'), Word(u'asthma/NN')]\n&gt;&gt;&gt; m.group(1) # matches the first group\n[Word(u'Published/VBN'), Word(u'case-control/NN')]\n&gt;&gt;&gt; m.group(2) # matches the second group\n[Word(u'susceptibility/NN'), Word(u'to/TO'), Word(u'asthma/NN')]\n</code></pre>\n\n<p>finally you can display the result as</p>\n\n<pre><code>&gt;&gt;&gt; matches=[]\n&gt;&gt;&gt; for i in range(2):\n...     matches.append(m.group(i+1).string)\n... \n&gt;&gt;&gt; matches\n[u'Published case-control', u'susceptibility to asthma']\n</code></pre>\n"}], "owner": {"reputation": 6948, "user_id": 614735, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c4be6ca72e12a4b7148f84a1489f693?s=128&d=identicon&r=PG", "display_name": "Yuriy Petrovskiy", "link": "https://stackoverflow.com/users/614735/yuriy-petrovskiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1483094099, "creation_date": 1478729533, "question_id": 40516883, "link": "https://stackoverflow.com/questions/40516883/how-to-join-search-patterns-in-clips-pattern-search", "title": "How to join search patterns in CLiPS pattern.search", "body": "<p>I do pattern matching in text using CLiPS pattern.search (Python 2.7).\nI need to extract both phrases that correspond to 'VBN NP' and 'NP TO NP'.\nI can do it separately and then join results:</p>\n\n<pre><code>from pattern.en import parse,parsetree\nfrom pattern.search import search\n\ntext=\"Published case-control studies have a lot of information about susceptibility to asthma.\"\nsentenceTree = parsetree(text, relations=True, lemmata=True)\nmatches = []\nfor match in search(\"VBN NP\",sentenceTree):\n    matches.append(match.string)\nfor match in search(\"NP TO NP\",sentenceTree):\n    matches.append(match.string)\nprint matches\n# Output: [u'Published case-control studies', u'susceptibility to asthma']\n</code></pre>\n\n<p>But id I want to join this to one search pattern. If I try this I get no results at all.</p>\n\n<pre><code>matches = []\nfor match in search(\"VBN NP|NP TO NP\",sentenceTree):\n    matches.append(match.string)\nprint matches\n#Output: []\n</code></pre>\n\n<p><a href=\"http://www.clips.ua.ac.be/pages/pattern-search\" rel=\"nofollow noreferrer\">Official documentation</a> gives no clues for this. I also had tried '{VBN NP}|{NP TO NP}' '[VBN NP]|[NP TO NP]' but without any luck.</p>\n\n<p><strong>Question is:</strong>\nIs it possible to join search patterns in CLiPS pattern.search? \nAnd if answer is \"yes\" then how to do it?</p>\n"}, {"tags": ["python", "function", "sympy", "divide-by-zero"], "answers": [{"comments": [{"owner": {"reputation": 1061, "user_id": 4720148, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/96b17cf333822006d27760b7a7bc2851?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/4720148/john-smith"}, "edited": false, "score": 0, "creation_date": 1478733932, "post_id": 40516922, "comment_id": 68277038, "body": "indeed, possibly a try/except ZeroDivisionError might be of help here..."}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 4, "last_activity_date": 1478729704, "creation_date": 1478729704, "answer_id": 40516922, "question_id": 40516876, "link": "https://stackoverflow.com/questions/40516876/avoiding-division-by-zero-error-in-a-function-with-cancelling-variables/40516922#40516922", "title": "Avoiding division by zero error in a function with cancelling variables", "body": "<p>It's not doing anything wrong. Given <code>r = 0</code>:</p>\n\n<pre><code>  1 / ( r * (1 + (r / a))**3)\n= 1 / ( 0 * (1 + (0 / a))**3)\n= 1 / ( 0 * (1 +    0   )**3)\n= 1 / ( 0 *       1      **3)\n= 1 / ( 0 *          1      )\n= 1 / 0\n</code></pre>\n\n<p>So when you ask for <code>nu(0)</code> you get an error. It doesn't look ahead and do special algebra things, it just throws the error. Python is not magic, it's not absurd that you'd need sympy for this.</p>\n\n<p>I suggest you just add a special case to <code>mass_int</code> for <code>r == 0</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 14460, "user_id": 1404311, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j4CQ5.jpg?s=128&g=1", "display_name": "Scott Mermelstein", "link": "https://stackoverflow.com/users/1404311/scott-mermelstein"}, "is_accepted": false, "score": 0, "last_activity_date": 1478789819, "creation_date": 1478789819, "answer_id": 40530620, "question_id": 40516876, "link": "https://stackoverflow.com/questions/40516876/avoiding-division-by-zero-error-in-a-function-with-cancelling-variables/40530620#40530620", "title": "Avoiding division by zero error in a function with cancelling variables", "body": "<p>This isn't a python question, or even a computer programming question.  It's simple math.</p>\n\n<pre><code>f(x) = 1 / (x * (1 + x/a)**3)\ng(x) = 4x**2\n\nh(x) = 4x / (1 + x/a)**3\n</code></pre>\n\n<p>Is there a difference between f(g(r)) and h(r)?  Of course there is.  Even though the plots look exactly the same, f(g(0)) is undefined, and on a plot must show as a point discontinuity.</p>\n\n<p>As an intelligent user of this function, you can recognize that the point discontinuity is there.  If you choose, you can replace f(g(r)) with h(r).  The only difference will be the desired one of having the function defined at 0.</p>\n\n<p>Math doesn't do that on its own, and <em>no programming language</em> will reduce the function composition for you on its own, unless you ask it to, because you are the user, and you're supposed to know what you want from a program.  If you create a function composition that has a point discontinuity, it's expected that you did so for a reason.  The intelligence is expected to be in the programmer, not in the compiler.  Either compose and reduce the function by yourself, or do something like having sympy do it.  Either way, it's up to you to make it explicit to the computer that these two functions should be related to each other.</p>\n"}], "owner": {"reputation": 183, "user_id": 7057266, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/15c09667f23a22a25367d0802e2ee4ec?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/7057266/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478789819, "creation_date": 1478729475, "last_edit_date": 1478729814, "question_id": 40516876, "link": "https://stackoverflow.com/questions/40516876/avoiding-division-by-zero-error-in-a-function-with-cancelling-variables", "title": "Avoiding division by zero error in a function with cancelling variables", "body": "<pre><code>def nu(r):\n    '''Returns the stellar density function.'''\n    return 1 / ( r * (1 + (r / a))**3)\n\n    mass_int = lambda r: 4 * r**2 * nu(r)\n    print(mass_int(0))\n</code></pre>\n\n<p>This gives me a divide by zero error, presumably because of the 1/r term being evaluated in isolation. Is using sympy to form the correct algebraic expression the only way around this? Seems absurd.</p>\n"}, {"tags": ["python", "django", "development-environment", "production-environment"], "answers": [{"comments": [{"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1478730471, "post_id": 40516933, "comment_id": 68275770, "body": "I think settings will not differ much, so I&#39;m thinking about adding <code>DJANGO_ENV</code> environment variable, and using it in <code>settings.py</code> to determine which environment it is."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 1, "creation_date": 1478730732, "post_id": 40516933, "comment_id": 68275852, "body": "You may do it based on the <code>DJANGO_ENV</code>, but cleaner way is the way I mentioned. If settings won&#39;t differ much import the <code>production_settings.py</code> in <code>your_environment_settings.py</code> and override the configuration you want. By this your code will be modular and you won&#39;t have risk of modifying the production configuration while working on the local machine. + If you are working in large team, each developer can have there unique file which they can add to the <code>.gitinore</code> or <code>.hginore</code> file (based commit manager you use). They can use this on their local environment"}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1478737734, "post_id": 40516933, "comment_id": 68278116, "body": "But passing <code>--settings</code> to every <code>django-admin</code>&#39;s command is kind of... wordy. Should I then not put <code>.&#47;manage.py</code> into repository and create it in each environment manually? Or even create <code>manage.sh</code> instead? <code>#&#47;usr&#47;bin&#47;env bash\\nDJANGO_SETTINGS_MODULE=&lt;app&gt;.settings django-admin &quot;$@&quot;</code>.On a side note, I wouldn&#39;t call point 2 and 3 advantages. They&#39;re more like how to live with what you suggest. Another benefit you could mention in your answer is that you&#39;re less likely to mess up production settings."}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1478737832, "post_id": 40516933, "comment_id": 68278140, "body": "...Or maybe <code>if [ -e &lt;app&gt;&#47;local_settings.py ]; then D...=&lt;app&gt;.local_settings django-admin &quot;$@&quot;; else D...=&lt;app&gt;.settings django-admin &quot;$@&quot;</code>"}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1478769138, "post_id": 40516933, "comment_id": 68287855, "body": "I&#39;ve managed to come up with a <a href=\"http://stackoverflow.com/a/40523668/52499\">script</a> to ease using your approach. Consider merging it in your answer, please. Or feel free to criticize."}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 4, "last_activity_date": 1478733514, "last_edit_date": 1478733514, "creation_date": 1478729739, "answer_id": 40516933, "question_id": 40516873, "link": "https://stackoverflow.com/questions/40516873/best-way-to-handle-different-configuration-settings-based-on-environment-in-djan/40516933#40516933", "title": "Best way to handle different configuration/settings based on environment in Django project", "body": "<p>As an answer to the question:</p>\n\n<blockquote>\n  <p>Is DEBUG == False supposed to mean that the app is running in production environment?</p>\n</blockquote>\n\n<p><code>DEBUG</code> is a configuration that you define in your <code>setting.py</code> file.</p>\n\n<ul>\n<li><p>If set to <code>True</code>, in case of un-handled exception it displays the complete stack-trace along with the values of all the declared variables.</p></li>\n<li><p>If set to <code>False</code>, your server just returns the <code>500</code> status code without any stack-trace.</p></li>\n</ul>\n\n<p>In production, you must have <code>DEBUG</code> set to <code>False</code> in order to prevent potential risk of security breach, and other information which you wouldn't want your user to know.</p>\n\n<hr>\n\n<p>In order to use different <code>settings</code> configuration on different environment, create different settings file. And in your deployment script, start the server using <a href=\"https://docs.djangoproject.com/en/1.10/topics/settings/#the-django-admin-utility\" rel=\"nofollow noreferrer\"><code>--settings=&lt;my-settings.py&gt;</code></a> parameter, via which you can use different <em>settings</em> on different environment.</p>\n\n<p><strong>Benefits of using this approach</strong>:</p>\n\n<ol>\n<li><p>Your settings will be modular based on each environment</p></li>\n<li><p>You may import the <code>master_settings.py</code> containing the base configuration in the <code>environmnet_configuration.py</code> and override the values that you want to change in that environment.</p></li>\n<li><p>If you have huge team, each developer may have their own <code>local_settings.py</code> which they can add to the code repository without any risk of modifying the server configuration. You can add these local settings to <code>.gitnore</code> if you use <em>git</em> or <code>.hginore</code> if you <em>Mercurial</em> for Code Version Control. That way local settings won't even be the part of actual code base keeping it clean.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1478784036, "post_id": 40519210, "comment_id": 68297309, "body": "I think <code>django-configurations</code> is overdoing it. Considering system configuration, can you elaborate? What exactly should be pulled from environment variables? Anything involving passwords? Keeping, e.g., database password out of <code>settings.py</code> is sure a good thing (at least, when <code>settings.py</code> is added to repository). But it&#39;s okay to leave there database user, I think. That is, I&#39;m now thinking about leaving as much production settings as I can in <code>settings.py</code>. And override/add the rest in <code>local_settings.py</code>, which is not to be added to repository. Are you recommending <code>django-dotenv</code>?"}, {"owner": {"reputation": 13339, "user_id": 238877, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b67018e5aacf0cb6466e363f0c5e80c1?s=128&d=identicon&r=PG", "display_name": "Will Hardy", "link": "https://stackoverflow.com/users/238877/will-hardy"}, "reply_to_user": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1478784341, "post_id": 40519210, "comment_id": 68297483, "body": "Anything that is particular to a given machine should be in the environment. So database name, host, port etc shouldn&#39;t be fixed in code, you can of course provide defaults there and never override them in the environment. Reading from environment is built into <code>django-configurations</code>, no need for <code>django-dotenv</code> unless you want it."}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1478797806, "post_id": 40519210, "comment_id": 68306395, "body": "But what&#39;s the difference between overriding values using environment variables and by creating <code>local_settings.py</code> file?"}, {"owner": {"reputation": 13339, "user_id": 238877, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b67018e5aacf0cb6466e363f0c5e80c1?s=128&d=identicon&r=PG", "display_name": "Will Hardy", "link": "https://stackoverflow.com/users/238877/will-hardy"}, "reply_to_user": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1479313140, "post_id": 40519210, "comment_id": 68506348, "body": "1. Some production environments only allow you to set (and change) environment variables, not add a new file in the middle of your package. It&#39;s good to operate as close as possible to production environment 2. you can process and validate the environment variables 3. I personally don&#39;t like custom code on dev machines, single code base with configuration keeps differences between production and dev contained."}, {"owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1479317224, "post_id": 40519210, "comment_id": 68509213, "body": "What do you mean by &quot;process and validate environment variables&quot;?"}, {"owner": {"reputation": 13339, "user_id": 238877, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b67018e5aacf0cb6466e363f0c5e80c1?s=128&d=identicon&r=PG", "display_name": "Will Hardy", "link": "https://stackoverflow.com/users/238877/will-hardy"}, "reply_to_user": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "edited": false, "score": 0, "creation_date": 1479739400, "post_id": 40519210, "comment_id": 68672537, "body": "your codebase can inspect the local configuration values, clean them up, validate them, derive other configuration using them etc. With local_settings, you could still do this, but you would have to import them from a central settings module and do the processing after that. It gets messy."}], "tags": [], "owner": {"reputation": 13339, "user_id": 238877, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b67018e5aacf0cb6466e363f0c5e80c1?s=128&d=identicon&r=PG", "display_name": "Will Hardy", "link": "https://stackoverflow.com/users/238877/will-hardy"}, "is_accepted": false, "score": 0, "last_activity_date": 1478745983, "creation_date": 1478745983, "answer_id": 40519210, "question_id": 40516873, "link": "https://stackoverflow.com/questions/40516873/best-way-to-handle-different-configuration-settings-based-on-environment-in-djan/40519210#40519210", "title": "Best way to handle different configuration/settings based on environment in Django project", "body": "<p>Use <a href=\"http://django-configurations.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">django-configurations</a> to define a some alternative configurations and set the environment variable <code>DJANGO_CONFIGURATION</code> on each machine running the code to choose one.</p>\n\n<p>You're free to define the classes however you'd like, but I'd recommend defining a <code>Common</code> class, which everything inherits from, and then <code>Dev</code>, <code>Test</code>, and <code>Prod</code> classes.</p>\n\n<p>Anything involving system configuration should be pulled from environment variables (eg database connection, cache connection etc).</p>\n\n<p>Have fun!</p>\n"}, {"tags": [], "owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "is_accepted": false, "score": 0, "last_activity_date": 1478769256, "last_edit_date": 1478769256, "creation_date": 1478768942, "answer_id": 40523668, "question_id": 40516873, "link": "https://stackoverflow.com/questions/40516873/best-way-to-handle-different-configuration-settings-based-on-environment-in-djan/40523668#40523668", "title": "Best way to handle different configuration/settings based on environment in Django project", "body": "<p>To add to @anonymous answer, here's the script (<code>manage.sh</code>) I came up with:</p>\n\n<pre><code>#!/usr/bin/env bash\nDIR=$(dirname -- \"$(readlink -f -- \"$0\")\")\nexport PYTHONPATH=\"$DIR${PYTHONPATH:+:$PYTHONPATH}\"\nif [ -e &lt;app&gt;/local_settings.py ]; then\n    export DJANGO_SETTINGS_MODULE=&lt;app&gt;.local_settings\nelse\n    export DJANGO_SETTINGS_MODULE=&lt;app&gt;.settings\nfi\ndjango-admin \"$@\"\n</code></pre>\n\n<p>It uses <code>&lt;app&gt;.local_settings</code> if exists. Otherwise it falls back to <code>&lt;app&gt;.settings</code>.</p>\n\n<p>Alternatively, you can just edit your <code>manage.py</code>.</p>\n"}], "owner": {"reputation": 11332, "user_id": 52499, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e13c0896a2408caf559934466737f716?s=128&d=identicon&r=PG", "display_name": "x-yuri", "link": "https://stackoverflow.com/users/52499/x-yuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 1, "accepted_answer_id": 40516933, "answer_count": 3, "score": 3, "last_activity_date": 1478769256, "creation_date": 1478729471, "last_edit_date": 1495542633, "question_id": 40516873, "link": "https://stackoverflow.com/questions/40516873/best-way-to-handle-different-configuration-settings-based-on-environment-in-djan", "title": "Best way to handle different configuration/settings based on environment in Django project", "body": "<blockquote>\n  <p>Is DEBUG == False supposed to mean that the app is running in production environment?</p>\n</blockquote>\n\n<p>At least, that's what I see occasionally <a href=\"https://stackoverflow.com/a/1292019/52499\">on the internet</a>. But what do I put in <code>settings.py</code> then? Okay, I can put local settings to, say, <code>settings_local.py</code> and import it from <code>settings.py</code>. But if some settings depend on environment, than I've got to put them after <code>import</code> statement. There more I think about it, the more I don't like it. And you?</p>\n"}, {"tags": ["python", "statsmodels"], "answers": [{"comments": [{"owner": {"reputation": 474, "user_id": 11618586, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-na5mlvpBiKM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcvd0lfEqlQeIfzkzkANFoQHVXK-A/mo/photo.jpg?sz=128", "display_name": "thentangler", "link": "https://stackoverflow.com/users/11618586/thentangler"}, "edited": false, "score": 0, "creation_date": 1614102417, "post_id": 45369648, "comment_id": 117280615, "body": "This doesnt work for me. I get an error <code>&#39;SimpleTable&#39; object has no attribute &#39;_results_table&#39;</code>  Is there a way to circumvent this?"}], "tags": [], "owner": {"reputation": 428, "user_id": 6060179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db2b158e15733ab0e2467aa6a5ee524?s=128&d=identicon&r=PG&f=1", "display_name": "vander", "link": "https://stackoverflow.com/users/6060179/vander"}, "is_accepted": true, "score": 10, "last_activity_date": 1589325507, "last_edit_date": 1589325507, "creation_date": 1501233695, "answer_id": 45369648, "question_id": 40516810, "link": "https://stackoverflow.com/questions/40516810/saving-statmodels-tukey-hsd-into-a-python-pandas-dataframe/45369648#45369648", "title": "Saving statmodels Tukey hsd into a Python pandas dataframe", "body": "<p>I do not have access to your data, so I can't replicate the result. I used randomised data instead, just to show that this works. All you need to add to your code is the pandas import, and the last line creating the data frame.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport statsmodels.formula.api as smf\nimport statsmodels.stats.multicomp as multi\nimport pandas as pd\nimport numpy as np\n\n# Random Data.\nnp.random.seed(0)\nx = np.random.choice(['A','B','C'], 50)\ny = np.random.rand(50)\n\n# DataFrame.\nmcDate = multi.MultiComparison(y,x)\nResults = mcDate.tukeyhsd()\nprint(Results)\n</code></pre>\n\n<p>Produces the following table:</p>\n\n<pre><code>============================================\ngroup1 group2 meandiff  lower  upper  reject\n--------------------------------------------\n  A      B     0.1506   -0.07  0.3712 False \n  A      C     0.1105  -0.1278 0.3487 False \n  B      C    -0.0401  -0.2865 0.2063 False \n--------------------------------------------\n</code></pre>\n\n<p>And, this is how you get the data frame:</p>\n\n<pre><code>df = pd.DataFrame(data=Results._results_table.data[1:], columns=Results._results_table.data[0])\n\nprint(df)\n\ngroup1 group2  meandiff   lower   upper  reject\n0      A      B    0.1506 -0.0700  0.3712   False\n1      A      C    0.1105 -0.1278  0.3487   False\n2      B      C   -0.0401 -0.2865  0.2063   False\n</code></pre>\n\n<p>I struggled with this for a while myself, and eventually found the solution by reviewing methods for the object, like this:</p>\n\n<pre><code>dir(Results)\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6739307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81d6a8cde73179de47ef9938df3bde2d?s=128&d=identicon&r=PG&f=1", "display_name": "Pancani ", "link": "https://stackoverflow.com/users/6739307/pancani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3964, "favorite_count": 2, "accepted_answer_id": 45369648, "answer_count": 1, "score": 3, "last_activity_date": 1589325507, "creation_date": 1478729177, "last_edit_date": 1572630305, "question_id": 40516810, "link": "https://stackoverflow.com/questions/40516810/saving-statmodels-tukey-hsd-into-a-python-pandas-dataframe", "title": "Saving statmodels Tukey hsd into a Python pandas dataframe", "body": "<p>I am looking for a way to save the results to save the results of the Tukeyhsd into a pandas dataframe. see below:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport statsmodels.formula.api as smf\nimport statsmodels.stats.multicomp as multi \n\n mcDate = multi.MultiComparison(df['Glucose'], df['Date'])\n Results = mcDate.tukeyhsd()\n  print(Results)\n\n    Multiple Comparison of Means - Tukey HSD,FWER=0.05\n=============================================\ngroup1 group2 meandiff  lower   upper  reject\n---------------------------------------------\n  A      B     20.35    7.388   33.312  True \n  A      C     -3.85   -16.812  9.112  False \n  B      C     -24.2   -37.162 -11.238  True \n---------------------------------------------\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 387, "user_id": 5304134, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/98397f962a63264ed4e74a88db3dfc0c?s=128&d=identicon&r=PG&f=1", "display_name": "Luka", "link": "https://stackoverflow.com/users/5304134/luka"}, "edited": false, "score": 0, "creation_date": 1478728908, "post_id": 40516661, "comment_id": 68275161, "body": "You could get axes limits using get_ylim()  and get_xlim() and then calculate the formula for the linear function you are looking for."}, {"owner": {"reputation": 1692, "user_id": 3986785, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a312a501b930b7df8b83bb545c929795?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/3986785/manuel"}, "reply_to_user": {"reputation": 387, "user_id": 5304134, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/98397f962a63264ed4e74a88db3dfc0c?s=128&d=identicon&r=PG&f=1", "display_name": "Luka", "link": "https://stackoverflow.com/users/5304134/luka"}, "edited": false, "score": 0, "creation_date": 1478729051, "post_id": 40516661, "comment_id": 68275213, "body": "I want no linear function only a straight independent line"}, {"owner": {"reputation": 387, "user_id": 5304134, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/98397f962a63264ed4e74a88db3dfc0c?s=128&d=identicon&r=PG&f=1", "display_name": "Luka", "link": "https://stackoverflow.com/users/5304134/luka"}, "edited": false, "score": 0, "creation_date": 1478729106, "post_id": 40516661, "comment_id": 68275237, "body": "Linear function is a straight independent line. This way it depends only on the axes matplotlib chooses."}, {"owner": {"reputation": 1692, "user_id": 3986785, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a312a501b930b7df8b83bb545c929795?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/3986785/manuel"}, "reply_to_user": {"reputation": 387, "user_id": 5304134, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/98397f962a63264ed4e74a88db3dfc0c?s=128&d=identicon&r=PG&f=1", "display_name": "Luka", "link": "https://stackoverflow.com/users/5304134/luka"}, "edited": false, "score": 0, "creation_date": 1478729233, "post_id": 40516661, "comment_id": 68275292, "body": "ahh oke thank you I will take a try"}], "answers": [{"comments": [{"owner": {"reputation": 1692, "user_id": 3986785, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a312a501b930b7df8b83bb545c929795?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/3986785/manuel"}, "edited": false, "score": 0, "creation_date": 1478814557, "post_id": 40516921, "comment_id": 68314669, "body": "exactly what I was looking for !"}, {"owner": {"reputation": 386, "user_id": 2161490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9b6f4e343ab3c0ba8d71286a343de1d?s=128&d=identicon&r=PG", "display_name": "georgedeath", "link": "https://stackoverflow.com/users/2161490/georgedeath"}, "edited": false, "score": 6, "creation_date": 1596020753, "post_id": 40516921, "comment_id": 111673652, "body": "this can be done without the additional mlines import, just using the plot interface:  <code>ax.plot([0, 1], [0, 1], color=&#39;red&#39;, transform=ax.transAxes)</code>"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 20, "last_activity_date": 1478730043, "last_edit_date": 1478730043, "creation_date": 1478729703, "answer_id": 40516921, "question_id": 40516661, "link": "https://stackoverflow.com/questions/40516661/adding-line-to-scatter-plot-using-pythons-matplotlib/40516921#40516921", "title": "Adding line to scatter plot using python&#39;s matplotlib", "body": "<p>This draws a diagonal line which is independent of the scatter plot data and which stays rooted to the axes even if you resize the window:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.lines as mlines\nimport matplotlib.transforms as mtransforms\n\nx, y = np.random.random((2, 100))*2\nfig, ax = plt.subplots()\nax.scatter(x, y, c='black')\nline = mlines.Line2D([0, 1], [0, 1], color='red')\ntransform = ax.transAxes\nline.set_transform(transform)\nax.add_line(line)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Wzf6w.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Wzf6w.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 2978, "user_id": 4141980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/mEvKF.jpg?s=128&g=1", "display_name": "Jo&#227;o Almeida", "link": "https://stackoverflow.com/users/4141980/jo%c3%a3o-almeida"}, "is_accepted": false, "score": 3, "last_activity_date": 1551434726, "creation_date": 1551434726, "answer_id": 54942282, "question_id": 40516661, "link": "https://stackoverflow.com/questions/40516661/adding-line-to-scatter-plot-using-pythons-matplotlib/54942282#54942282", "title": "Adding line to scatter plot using python&#39;s matplotlib", "body": "<p>Besides unutbu's answer one other option is to get the limits of the axis after you ploted the data and to use them to add the line. After this you will still need to change back the axis limits as they would change with the addition of the line:</p>\n\n<pre><code># Scatter Plot\nx = data_calc_hourly.temp\ny =  data_obs_hourly.temp\n\nlineStart = data_calc_hourly.temp.min() \nlineEnd = data_calc_hourly.temp.max()  \n\nplt.figure()\nplt.scatter(x, y, color = 'k', alpha=0.5)\ny_lim = plt.ylim()\nx_lim = plt.xlim()\nplt.plot(x_lim, y_lim, 'k-', color = 'r')\nplt.ylim(y_lim)\nplt.xlim(x_lim)\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 1692, "user_id": 3986785, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a312a501b930b7df8b83bb545c929795?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/3986785/manuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49614, "favorite_count": 4, "accepted_answer_id": 40516921, "answer_count": 2, "score": 16, "last_activity_date": 1551434726, "creation_date": 1478728465, "last_edit_date": 1495540414, "question_id": 40516661, "link": "https://stackoverflow.com/questions/40516661/adding-line-to-scatter-plot-using-pythons-matplotlib", "title": "Adding line to scatter plot using python&#39;s matplotlib", "body": "<p>I am using python's <a href=\"http://matplotlib.org/index.html\" rel=\"noreferrer\">matplotlib</a> and want to create a <code>matplotlib.scatter()</code> with additional line. The line should proceed from the lower left corner to the upper right corner independent of the scatters content. \nA linear regression through the data, like in <a href=\"https://stackoverflow.com/questions/19068862/how-to-overplot-a-line-on-a-scatter-plot-in-python\">this post</a>, is not what I am looking for. Also it should be dynamically and independent of the scatter input.</p>\n\n<p>This should be the final plot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DjuGW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DjuGW.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Doing this got me the result:</p>\n\n<pre><code># Scatter Plot\nx = data_calc_hourly.temp\ny =  data_obs_hourly.temp\n\nlineStart = data_calc_hourly.temp.min() \nlineEnd = data_calc_hourly.temp.max()  \n\nplt.figure()\nplt.scatter(x, y, color = 'k', alpha=0.5)\nplt.plot([lineStart, lineEnd], [lineStart, lineEnd], 'k-', color = 'r')\nplt.xlim(lineStart, lineEnd)\nplt.ylim(lineStart, lineEnd)\nplt.show()\n</code></pre>\n\n<p>Is there any better way ?</p>\n"}, {"tags": ["python", "numpy", "matplotlib", "plot"], "answers": [{"tags": [], "owner": {"reputation": 1628, "user_id": 6564620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/361a9c55ef4d6a796de44ca26d883328?s=128&d=identicon&r=PG&f=1", "display_name": "maow", "link": "https://stackoverflow.com/users/6564620/maow"}, "is_accepted": true, "score": 2, "last_activity_date": 1478729880, "last_edit_date": 1478729880, "creation_date": 1478729192, "answer_id": 40516815, "question_id": 40516641, "link": "https://stackoverflow.com/questions/40516641/how-to-label-columns-of-data-as-x-and-y/40516815#40516815", "title": "How to label columns of data as x and y", "body": "<p>Initialise matplotlib and the plotfunction</p>\n\n<pre><code>import matplotlib\nimport matplotlib.pyplot as plt\n</code></pre>\n\n<p>store your data into an array (assuming its not several Gb of data)</p>\n\n<pre><code>array = np.loadtxt('file_name')\n</code></pre>\n\n<p>plot it. The [:,0] can be read like a matrix element where : is all values. So this 'slices' the first (counting starts at 0!) column out of your array. In the call of plt.plot() you can also specify whether you want lines, points, color, size etc. by adding more arguments to it. There is a large documentation.</p>\n\n<pre><code>plt.plot(array[:,0], array[:,1])\n</code></pre>\n\n<p>Change plt to customize your plot. The following lines give you axis labels. You can also do logscale etc.</p>\n\n<pre><code>plt.xlabel('X')\nplt.ylabel('Y')\n</code></pre>\n\n<p>Show the plot. Assuming you work in ipython called with --pylab=inside</p>\n\n<pre><code>plt.show()\n</code></pre>\n\n<p>If you want to save as pdf or something (taken from <a href=\"http://matplotlib.org/faq/howto_faq.html\" rel=\"nofollow noreferrer\">http://matplotlib.org/faq/howto_faq.html</a>)</p>\n\n<pre><code>from matplotlib.backends.backend_pdf import PdfPages\npp = PdfPages('myfirstplot.pdf')\nplt.savefig(pp, format='pdf')\npp.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 7091399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03167b3ff141968829edbc8ba16b8f46?s=128&d=identicon&r=PG&f=1", "display_name": "ingenium", "link": "https://stackoverflow.com/users/7091399/ingenium"}, "is_accepted": false, "score": 0, "last_activity_date": 1478730458, "creation_date": 1478730458, "answer_id": 40517058, "question_id": 40516641, "link": "https://stackoverflow.com/questions/40516641/how-to-label-columns-of-data-as-x-and-y/40517058#40517058", "title": "How to label columns of data as x and y", "body": "<p>Something like that ?</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\na = np.array([[  2.45732966e+06,   9.97563892e-01],\n   [  2.45732967e+06,   9.98023085e-01],\n   [  2.45732967e+06,   1.02989578e+00],\n   [  2.45732967e+06,   1.00883389e+00],\n   [  2.45732967e+06,   1.00354891e+00]])\n\nplt.plot(a[:,0],a[:,1])\nplt.xlabel('x')\nplt.ylabel('y')\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 7133906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f894f50d9a25e67388222c90303ffca7?s=128&d=identicon&r=PG&f=1", "display_name": "A. Robinson", "link": "https://stackoverflow.com/users/7133906/a-robinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 40516815, "answer_count": 2, "score": 0, "last_activity_date": 1478816463, "creation_date": 1478728361, "last_edit_date": 1478816463, "question_id": 40516641, "link": "https://stackoverflow.com/questions/40516641/how-to-label-columns-of-data-as-x-and-y", "title": "How to label columns of data as x and y", "body": "<p>I am new to coding and I have been having trouble plotting some imported data. I have been using:</p>\n\n<pre><code>import numpy as np\nimport matplotlib as plt\n\nnp.loadtxt('file_name')\n</code></pre>\n\n<p>and I would receive something like this but much longer, </p>\n\n<pre><code>array([[  2.45732966e+06,   9.97563892e-01],\n   [  2.45732967e+06,   9.98023085e-01],\n   [  2.45732967e+06,   1.02989578e+00],\n   [  2.45732967e+06,   1.00883389e+00],\n   [  2.45732967e+06,   1.00354891e+00]])\n</code></pre>\n\n<p>From here I need to label column 1 as the X data and the second column as y but I'm not sure how that needs to be formatted to fit the syntax and to work with floats.</p>\n"}, {"tags": ["python", "numba"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1478728487, "post_id": 40516640, "comment_id": 68275005, "body": "Your class doesn&#39;t have an <code>a</code> field. Why do you list one in the spec?"}, {"owner": {"reputation": 409, "user_id": 1132708, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8b1730cfea97a8526000b8d4b9cf8583?s=128&d=identicon&r=PG", "display_name": "webb", "link": "https://stackoverflow.com/users/1132708/webb"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1478728630, "post_id": 40516640, "comment_id": 68275065, "body": "I get the same error if I pull the &#39;a&#39; entry out of spec, so that doesn&#39;t actually seem to be the problem. Or it is in a really obtuse way."}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 1132708, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8b1730cfea97a8526000b8d4b9cf8583?s=128&d=identicon&r=PG", "display_name": "webb", "link": "https://stackoverflow.com/users/1132708/webb"}, "edited": false, "score": 0, "creation_date": 1478808752, "post_id": 40518434, "comment_id": 68311874, "body": "Thank you! That would be a really important thing to mention in the documentation."}], "tags": [], "owner": {"reputation": 56759, "user_id": 392949, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ef7a66dcbb260f54c3d06b0490b844bf?s=128&d=identicon&r=PG", "display_name": "JoshAdel", "link": "https://stackoverflow.com/users/392949/joshadel"}, "is_accepted": false, "score": 1, "last_activity_date": 1478739355, "creation_date": 1478739355, "answer_id": 40518434, "question_id": 40516640, "link": "https://stackoverflow.com/questions/40516640/declaring-variables-in-numba-jitclass/40518434#40518434", "title": "Declaring variables in numba jitclass", "body": "<p>The <code>jitclass</code> needs to inherit from <code>object</code>:</p>\n\n<pre><code>from numba import jitclass, float64\n\nspec = [('n', float64),\n        ('w', float64),\n        ('a', float64)]\n\n@jitclass(spec)\nclass foo(object):\n\n    def __init__(self,n,w):\n\n        self.n = n\n        self.w = w\n\n    def foo2(self):\n\n        a = self.n*self.w\n\n        return a + 1.\n</code></pre>\n\n<p>This doesn't seem to be mentioned in the documentation as a requirement, but it's how the examples are written. </p>\n"}], "owner": {"reputation": 409, "user_id": 1132708, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8b1730cfea97a8526000b8d4b9cf8583?s=128&d=identicon&r=PG", "display_name": "webb", "link": "https://stackoverflow.com/users/1132708/webb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1478739355, "creation_date": 1478728361, "question_id": 40516640, "link": "https://stackoverflow.com/questions/40516640/declaring-variables-in-numba-jitclass", "title": "Declaring variables in numba jitclass", "body": "<p>I'm getting a KeyError on the dictionary when I try to import the following jitclass:</p>\n\n<pre><code>from numba import jitclass, float64\n\nspec = [('n', float64),\n        ('w', float64),\n        ('a', float64)]\n\n@jitclass(spec)\nclass foo:\n\n    def __init__(self,n,w):\n\n        self.n = n\n        self.w = w\n\n    def foo2(self):\n\n        a = self.n*self.w\n\n        return a + 1.\n</code></pre>\n\n<p>I do not understand where the error is coming from. The numba documentation is inadequate for explaining things. Do I need all variables to be class variables?</p>\n"}, {"tags": ["python", "django", "numpy"], "comments": [{"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "reply_to_user": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1478747324, "post_id": 40516586, "comment_id": 68280216, "body": "@e4c5 why is that? I was able to read the file by creating a new python file and reading the image from that file. I&#39;m not able to read the image from <code>views.py</code> only"}, {"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "reply_to_user": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1478747961, "post_id": 40516586, "comment_id": 68280347, "body": "@e4c5 so what should i do in order to read the image?"}], "answers": [{"comments": [{"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1478752245, "post_id": 40519626, "comment_id": 68281277, "body": "Thankyou for this! I&#39;m still new to django, this helped me big time!"}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "reply_to_user": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1478752604, "post_id": 40519626, "comment_id": 68281359, "body": "glad to have been of help. All the best for your project"}, {"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1478752652, "post_id": 40519626, "comment_id": 68281369, "body": "Thanks mate! :D One last thing, <code>PROJECT_ROOT</code> works on local system perfectly but how to implement the same logic on server? how to access the same temp321.jpg file when this project is deployed online?"}], "tags": [], "owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "is_accepted": true, "score": 1, "last_activity_date": 1478749426, "creation_date": 1478749426, "answer_id": 40519626, "question_id": 40516586, "link": "https://stackoverflow.com/questions/40516586/error-while-reading-image-using-cv2-imread-in-django-views-py/40519626#40519626", "title": "Error while reading image using cv2.imread() in Django views.py", "body": "<p>This error indicates that <code>a</code> is None. With <code>a</code> being the result of the call to <code>cv2.imread</code></p>\n\n<blockquote>\n  <p>If the image cannot be read (because of missing file, improper\n  permissions, unsupported or invalid format), the function returns an\n  empty matrix</p>\n</blockquote>\n\n<p>This is from the cv2 c documentation. This translates to None in python. So the problem essentially is that your file is not being read.</p>\n\n<p>The solution:\nIf you have setup the PROJECT_ROOT variable properly in your settings.py file</p>\n\n<pre><code>os.path.join(PROJECT_ROOT, \"static/images/temp321.jpg\")\n</code></pre>\n\n<p>If you don't have PROJECT_ROOT setup, add to settings.py</p>\n\n<pre><code>PROJECT_ROOT = os.path.abspath(os.path.dirname(__file__))\n</code></pre>\n\n<p>Note that you may still have trouble if you are doing this in production because the webserver may not be allowed to read from that directory. In that case you will need to change file system permissions</p>\n"}], "owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1201, "favorite_count": 0, "accepted_answer_id": 40519626, "answer_count": 1, "score": 1, "last_activity_date": 1478749426, "creation_date": 1478728146, "last_edit_date": 1478729034, "question_id": 40516586, "link": "https://stackoverflow.com/questions/40516586/error-while-reading-image-using-cv2-imread-in-django-views-py", "title": "Error while reading image using cv2.imread() in Django views.py", "body": "<p>I am trying to apply image processing on an image which i'm loading through <code>cv2.imread()</code> in Django's <code>views.py</code> file, but i'm getting an <code>AttributeError</code> everytime. </p>\n\n<p><strong>Following is the hierarchy</strong></p>\n\n<p><a href=\"https://i.imgur.com/XTkY8JQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/XTkY8JQ.png\" alt=\"Heirarchy\"></a></p>\n\n<p><br><strong>views.py</strong> through which i'm trying to read <strong><code>temp321.jpg</code> :</strong></p>\n\n<pre><code>def process_image(request):\n    url = \"static/images/temp321.jpg\"\n    a = cv2.imread(url)\n    r, c = a.shape\n</code></pre>\n\n<p><br><strong>Error</strong> which i'm getting:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iOA4I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iOA4I.png\" alt=\"Error message snapshot\"></a></p>\n\n<p>What am i doing wrong?</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup", "gettext", "imdb"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478752789, "post_id": 40516539, "comment_id": 68281400, "body": "use DevTool in Chrome/Firefox to find element (if page doesn&#39;t use JavaScript to load data)."}], "answers": [{"comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478787898, "post_id": 40520343, "comment_id": 68299824, "body": "I add links about API."}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 2, "last_activity_date": 1478789293, "last_edit_date": 1495540403, "creation_date": 1478754620, "answer_id": 40520343, "question_id": 40516539, "link": "https://stackoverflow.com/questions/40516539/scraping-imdb-with-beautfulsoup-in-python-search-result-then-enter-link-then-ge/40520343#40520343", "title": "Scraping IMDB with beautfulsoup in Python; search result then enter link then get year", "body": "<p>First problem: in <code>scrape_movie_data(next_page_url)</code> you use <code>url</code> instead of <code>next_page_url</code> in <code>requests.get()</code> so you read wrong page.</p>\n\n<pre><code>response = requests.get(next_page_url, headers=headers)\n</code></pre>\n\n<p>Second problem: you have to use <code>{'id': 'titleYear'}</code> in <code>find()</code></p>\n\n<pre><code>title_year = soup.find('span', {'id': 'titleYear'}).find('a').get_text()\n</code></pre>\n\n<p>Final version:</p>\n\n<pre><code>def scrape_movie_data(next_page_url):\n    headers = {'User-Agent': 'Mozilla/5.0'}\n    response = requests.get(next_page_url, headers=headers)\n    soup = BeautifulSoup(response.text, \"html.parser\")\n\n    title_year = soup.find('span', {'id': 'titleYear'}).find('a').get_text()\n\n    return title_year\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> check <code>IMDB API</code> in Google. Some interesting results</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11216538/imdb-api-to-retrieve-character-information\">SO - IMDB API to retrieve character information</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1966503/does-imdb-provide-an-api/7744369#7744369\">SO - Does IMDB provide an API?</a></p>\n\n<p>and you can get results as JSON so you don't have to scrape.</p>\n\n<p>Other portals:</p>\n\n<p><a href=\"https://www.omdbapi.com/\" rel=\"nofollow noreferrer\">OMDb API -The Open Movie Database</a></p>\n\n<p><a href=\"https://www.themoviedb.org/documentation/api\" rel=\"nofollow noreferrer\">The Movie DB API</a></p>\n\n<hr>\n\n<p><strong>EDIT:</strong> JSON data</p>\n\n<pre><code>import requests\n\nurl = 'http://www.imdb.com/xml/find?json=1&amp;nr=1&amp;tt=on&amp;q={}'\n#url = 'http://www.imdb.com/xml/find?json=1&amp;nr=1&amp;nm=on&amp;q={}'\n\nheaders = {'User-Agent': 'Mozilla/5.0'}\n\ntitle = input(\"Title: \").split()\n\nresponse = requests.get(url.format(title[0]), headers=headers)\n\ndata = response.json()\n\nfor x in data['title_popular']: # data['title_approx']:\n    print('title:', x['title'])\n    print(' year:', x['title_description'][:4])\n    print('---')\n    print('  id:', x['id'])\n    print('name:', x['name'])\n    print('        title:', x['title'])\n    print('episode_title:', x['episode_title'])\n    print('title_description:', x['title_description'])\n    print('      description:', x['description'])\n    print('------------------------------------')\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7137053, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un0UtXleB44/AAAAAAAAAAI/AAAAAAAAJ3s/1TIebvsZj1A/photo.jpg?sz=128", "display_name": "J.C. Diaz", "link": "https://stackoverflow.com/users/7137053/j-c-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3476, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1478789293, "creation_date": 1478727927, "question_id": 40516539, "link": "https://stackoverflow.com/questions/40516539/scraping-imdb-with-beautfulsoup-in-python-search-result-then-enter-link-then-ge", "title": "Scraping IMDB with beautfulsoup in Python; search result then enter link then get year", "body": "<p>I'm trying to scrape IMDB to search for a particular title, enter the first link in the search results, then print the year (and later other info) that the movie was released but I can't seem to figure out what part of the html to put in .find().</p>\n\n<p>The first function works and collects the original url and joins it with the new second part of the url (for the movie page).</p>\n\n<p>Thanks for the help, been stuck on this for days!</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\nfrom urllib.parse import urljoin # For joining next page url with base url\n\nsearch_terms = input(\"What movie do you want to know about?\\n&gt; \").split()\n\nurl = \"http://www.imdb.com/find?ref_=nv_sr_fn&amp;q=\" + '+'.join(search_terms) + '&amp;s=all'\n\ndef scrape_find_next_page(url):\n    headers = {'User-Agent': 'Mozilla/5.0'}\n    response = requests.get(url, headers=headers)\n    soup = BeautifulSoup(response.text, \"html.parser\")\n\n    next_page = soup.find('td', 'result_text').find('a').get('href')\n\n    return next_page\n\n\nnext_page_url = scrape_find_next_page(url)\n\nnew_page = urljoin(url, next_page_url)\n\n\n\ndef scrape_movie_data(next_page_url):\n    headers = {'User-Agent': 'Mozilla/5.0'}\n    response = requests.get(url, headers=headers)\n    soup = BeautifulSoup(response.text, \"html.parser\")\n\n    title_year = soup.find('span','titleYear').find('a').get_text()\n\n    return title_year\n\nprint(scrape_movie_data(new_page))\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 36561, "user_id": 2395796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8786484468219bcf403bbdce5eb37c8d?s=128&d=identicon&r=PG", "display_name": "Kevin Christopher Henry", "link": "https://stackoverflow.com/users/2395796/kevin-christopher-henry"}, "edited": false, "score": 0, "creation_date": 1478738524, "post_id": 40516534, "comment_id": 68278291, "body": "Please edit your question to include the database you&#39;re using."}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1478740733, "post_id": 40516534, "comment_id": 68278816, "body": "by upgrading to a version of django that was written in this decade?"}, {"owner": {"reputation": 473, "user_id": 2110534, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9a557843539c3ac282e570981f34edf?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram", "link": "https://stackoverflow.com/users/2110534/sriram"}, "edited": false, "score": 0, "creation_date": 1478744651, "post_id": 40516534, "comment_id": 68279719, "body": "upgrading is not a solution for now. And we writing to oracle SQL."}], "owner": {"reputation": 473, "user_id": 2110534, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9a557843539c3ac282e570981f34edf?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram", "link": "https://stackoverflow.com/users/2110534/sriram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478727889, "creation_date": 1478727889, "question_id": 40516534, "link": "https://stackoverflow.com/questions/40516534/django-lock-rows-for-atomic-insertions", "title": "Django lock rows for atomic insertions", "body": "<p>We are using Django 1.3. Our models are:</p>\n\n<pre><code>class Info(models.Model):\n    class Meta:\n        ordering = ('-ts','snp_number',)\n\n    ts = models.DateTimeField(auto_now_add = True)\n    description = models.TextField()\n    release = models.CharField(max_length=50)\n    stream = models.CharField(max_length=100)\n\nclass Snap(models.Model):\n    class Meta:\n        ordering = ('-snp',)\n        unique_together = ('snp','app_name')\n\n    snp = models.ForeignKey(SnapInfo)\n    app_name = models.CharField(max_length=255)\n    parent_app_name = models.CharField(max_length=255)\n\nclass Env(models.Model):\n    class Meta:\n        ordering = ('-snp',)\n\n    snp = models.ForeignKey(Snap)\n    env = models.CharField(max_length=50)\n\nclass Connection(models.Model):\n    class Meta:\n        ordering = ('-snp',)\n\n    snp = models.ForeignKey(Snap)\n    app_name = models.CharField(max_length=255)\n</code></pre>\n\n<p>For a given <code>Info</code> we can have multiple <code>Snap</code>s. For a given <code>Snap</code> we can have multiple <code>Connection</code> and <code>Env</code>.</p>\n\n<p><strong>The Write</strong></p>\n\n<p>Somewhere in our app, we have the creation of the snaps at</p>\n\n<pre><code>@transaction.commit_on_success\ndef create_snap_controller (topo_id=None, release=None, type=PREP, is_live=False):\n\n    try:\n        snp_info = Info.get_or_create_snap(release_name, type)\n    except Exception as e:\n        log.error(\"%s - Error creating snap Info for the release %s and type %s \" %(str(e), release_name, type))\n    ...\n    return create_snap(snp_info, app_name, parent_name)\n\ndef create_snap(info, app_name, parent_name):\n    ...\n    snp = Snap.objects.create(snp=info, app_name=app_name, parent_app_name=parent_name)\n\n    for conn in connections:\n        conn = Connection.objects.create(snp=snp, app_name=conn)\n    for env in envs:\n        create_env(snp, env)\n    ...\n    return snp\n\ndef create_env(snp, env):\n    ....\n    e = Env.objects.create(snp=snp, env=env)\n</code></pre>\n\n<p><strong>The Read</strong></p>\n\n<p>There is also an API which reads these latest <code>Snap</code> and given <code>app_name</code> and returns JSON of itself and all associated <code>Env</code> and <code>Connection</code>.</p>\n\n<p><strong>The concurrency issue</strong></p>\n\n<p>The issue is sometimes the API returns partial data because the commit is not complete. That is when the API is when the commit is in progress, it returns the partial latest information.</p>\n\n<p>We want to make insertions atomic, so that the reads via the API do not contain partial information.</p>\n\n<p><strong>Efforts so far</strong></p>\n\n<p><code>select_for_update</code> (from 1.4 onwards) seems to lock rows but does not ensure atomicity. <code>transaction.commit_on_success</code> does not ensure atomicity either. How do I go about this?</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1478728941, "post_id": 40516704, "comment_id": 68275174, "body": "@Iserni, Intertesting. never known before. Thanks"}, {"owner": {"reputation": 49387, "user_id": 1428679, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d3eba7f8f9195a30d49bdbbdd594b1e4?s=128&d=identicon&r=PG", "display_name": "LSerni", "link": "https://stackoverflow.com/users/1428679/lserni"}, "reply_to_user": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1478729184, "post_id": 40516704, "comment_id": 68275265, "body": "Heh. Neither did I, I had to ask myself. You can&#39;t guess the head-scratching: <a href=\"http://stackoverflow.com/q/39848396/1428679\">stackoverflow.com/q/39848396/1428679</a> :-D"}, {"owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1478730009, "post_id": 40516704, "comment_id": 68275590, "body": "But <code>api&#47;v1&#47;files&#47;&lt;id&gt;</code> does not have this issue. <code>api&#47;v1&#47;files&#47;&lt;id&gt;&#47;</code> will return 404."}, {"owner": {"reputation": 49387, "user_id": 1428679, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d3eba7f8f9195a30d49bdbbdd594b1e4?s=128&d=identicon&r=PG", "display_name": "LSerni", "link": "https://stackoverflow.com/users/1428679/lserni"}, "reply_to_user": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "edited": false, "score": 0, "creation_date": 1478730513, "post_id": 40516704, "comment_id": 68275784, "body": "Probably, under the hood, <code>files</code> is treated as a directory (and redirects), while <code>files&#47;id</code> is treated as a file (and doesn&#39;t - nor can it get a further slash). It depends on how the routing is implemented server side."}], "tags": [], "owner": {"reputation": 49387, "user_id": 1428679, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d3eba7f8f9195a30d49bdbbdd594b1e4?s=128&d=identicon&r=PG", "display_name": "LSerni", "link": "https://stackoverflow.com/users/1428679/lserni"}, "is_accepted": true, "score": 2, "last_activity_date": 1478728692, "creation_date": 1478728692, "answer_id": 40516704, "question_id": 40516509, "link": "https://stackoverflow.com/questions/40516509/django-url-trailing-slash-issue/40516704#40516704", "title": "Django: URL trailing slash issue", "body": "<p>I think that they <em>don't</em> \"work like <code>GET</code>\".</p>\n\n<p>What is <em>really</em> happening is that:</p>\n\n<ul>\n<li>you send a <code>POST url</code></li>\n<li>the server replies with a <code>HTTP 302</code> to <code>url/</code></li>\n<li>and the browser performs a <code>GET url/</code>.</li>\n</ul>\n\n<p>And the result of <em>that</em> is what you actually see.</p>\n\n<p>If you check the requests being actually sent along the wire, I suspect you'll see <em>two</em> requests - the first being the <code>POST</code>, the second being the <code>GET</code>.</p>\n"}], "owner": {"reputation": 7068, "user_id": 3837778, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/12c217d346b797e1a9b4d34b9aa91dce?s=128&d=identicon&r=PG&f=1", "display_name": "BAE", "link": "https://stackoverflow.com/users/3837778/bae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 40516704, "answer_count": 1, "score": 0, "last_activity_date": 1478732605, "creation_date": 1478727768, "last_edit_date": 1478732605, "question_id": 40516509, "link": "https://stackoverflow.com/questions/40516509/django-url-trailing-slash-issue", "title": "Django: URL trailing slash issue", "body": "<p>urls.py</p>\n\n<pre><code>url(r'^v1/files/$', MyFileView.as_view(), name='api-upload'),\nurl(r'^v1/files/$', MyFileView.as_view(), name='api-view-all'),\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>class MyFileView(APIView):\n    def post():\n        pass\n    def get():\n        pass\n</code></pre>\n\n<p>My question is: why <code>POST api/v1/files</code> works like <code>GET api/v1/files/</code>? I thought <code>POST api/v1/files</code> should return 404. Anything wrong?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>But <code>api/v1/files/&lt;id&gt;</code> does not have this issue. <code>api/v1/files/&lt;id&gt;/</code> will return 404.\nThanks</p>\n"}, {"tags": ["python", "optimization"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1478728089, "post_id": 40516504, "comment_id": 68274841, "body": "You&#39;re only checking for a winner once the board is completely full. Tic Tac Toe doesn&#39;t work that way."}, {"owner": {"reputation": 1, "user_id": 6625002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c836cca173573c463998237d98eb4e39?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6625002/mike"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1478729392, "post_id": 40516504, "comment_id": 68275350, "body": "Omg! Thank you! It works like a charm now."}], "owner": {"reputation": 1, "user_id": 6625002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c836cca173573c463998237d98eb4e39?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6625002/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478727720, "creation_date": 1478727720, "question_id": 40516504, "link": "https://stackoverflow.com/questions/40516504/minimax-for-tic-tac-toe-in-python", "title": "Minimax for Tic Tac Toe in Python", "body": "<p>I am trying to implement Minimax algorithm for a tic tac toe game, the code works but minimax does not work correctly, since it doesn't pick the right moves and lets you win. If anyone could suggest why it does not work, or any general comments about the code, I would greatly appreciate it and try to learn from my mistakes.</p>\n\n<p>There's my Class Board code:</p>\n\n<pre><code>#Import\nimport os\nimport time\nimport random\nimport copy\n\n\n\nclass Board:\n\n    def __init__(self, cell_list):\n        self.cells = cell_list\n\n\n\ndef get_possible_moves(self):\n\n    return [i for i, j in enumerate(self.cells) if j == \" \"]       \n\ndef is_board_full(self):\n    if \" \" in self.cells:\n        return False\n    else:\n        return True\n\ndef is_winner(self, player):\n    if (self.cells[1] == player and self.cells[2] == player and self.cells[3] == player) or \\\n        (self.cells[4] == player and self.cells[5] == player and self.cells[6] == player) or \\\n        (self.cells[7] == player and self.cells[8] == player and self.cells[9] == player) or \\\n        (self.cells[1] == player and self.cells[4] == player and self.cells[7] == player) or \\\n        (self.cells[2] == player and self.cells[5] == player and self.cells[8] == player) or \\\n        (self.cells[3] == player and self.cells[6] == player and self.cells[9] == player) or \\\n        (self.cells[1] == player and self.cells[5] == player and self.cells[9] == player) or \\\n        (self.cells[3] == player and self.cells[5] == player and self.cells[7] == player):\n        return True\n\n    else:\n        return False\n\ndef print_board(self):\n    print \"   |   |   \"\n    print \" \"+self.cells[1]+\" | \"+self.cells[2]+\" | \"+self.cells[3]+\" \"\n    print \"   |   |   \"\n    print \"___|___|___\"\n    print \"   |   |   \"\n    print \" \"+self.cells[4]+\" | \"+self.cells[5]+\" | \"+self.cells[6]+\" \"\n    print \"   |   |   \"\n    print \"___|___|___\"\n    print \"   |   |   \"\n    print \" \"+self.cells[7]+\" | \"+self.cells[8]+\" | \"+self.cells[9]+\" \"\n    print \"   |   |   \"\n    print \"___|___|___\"\n\n\ndef utility(self):\n    if self.is_winner(\"X\") == True:\n        return -1\n    elif self.is_winner(\"O\") == True:\n        return 1\n    else:\n        return 0\n\ndef whose_turn(self): \n    pos_moves = self.get_possible_moves()\n    if len(pos_moves)%2 == 1: #ODD\n        return \"X\"\n    else:\n        return \"O\"\n\n\n\ndef is_cell_empty(self,index):\n    if self.cells[index] == \" \":\n        return True\n    else:\n        return False\n\n\n\ndef make_move(self, player, index):\n    self.cells[index] = player\n\n\n\ndef resulting_board(self,player,move):\n    copy_of_cell = copy.deepcopy(self.cells)\n    new_Board = Board(copy_of_cell)\n    new_Board.make_move(player, move)\n    return new_Board\n\n\ndef minimax(board):\n    if board.is_board_full() == True:\n        return board.utility()\n    elif board.whose_turn() == \"O\":\n\n        score = max([minimax(board.resulting_board(\"O\",move))  for move in board.get_possible_moves()  ]  )    \n        return score\n    else:\n        score = min ([minimax(board.resulting_board(\"X\",move))  for move in board.get_possible_moves()  ]    )\n        return score\n\n\n\nempty_board = [\"\", \" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \"]\nMain_Board = Board(empty_board)\n\ndef get_computer_move(board):\n    score = minimax(board)\n    best_move = None\n    pos_moves = board.get_possible_moves()\n    for move in pos_moves:\n        if minimax(board.resulting_board(\"O\",move)) == score:\n            best_move = move\n            break\n    return best_move\n</code></pre>\n\n<p>And there is my code to run the whole thing: </p>\n\n<pre><code>while True:\nos.system(\"clear\")\nMain_Board.print_board()\n\n    while True:\n        choice = raw_input(\"Pick an empty space, you are player X:  \")\n        choice = int(choice)\n        if Main_Board.is_cell_empty(choice) == True:\n            Main_Board.make_move(\"X\",choice)\n            os.system(\"clear\")\n            Main_Board.print_board()\n            break\n        else:\n            print (\"Sorry, its not empty, try again\")\n            time.sleep(2)\n\n    if Main_Board.is_winner(\"X\") == True:\n        print \"Congrats you won!\"\n        break\n    elif Main_Board.is_board_full() == True:\n        print \"Tie\"\n        break\n\n\n    print \"AI Move..\"\n    time.sleep(1)\n    AI_move = get_computer_move(Main_Board)\n    Main_Board.make_move(\"O\",AI_move)\n    os.system(\"clear\")\n    Main_Board.print_board()\n\n    if Main_Board.is_winner(\"O\") == True:\n        print \"You lost\"\n        break\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1478729536, "last_edit_date": 1592644375, "creation_date": 1478728096, "answer_id": 40516580, "question_id": 40516486, "link": "https://stackoverflow.com/questions/40516486/using-lambda-and-dictionaries-functions/40516580#40516580", "title": "using lambda and dictionaries functions", "body": "<p>If you want to convert <strong>strings in the list to upper case using <code>lambda</code></strong>, you may use it with <a href=\"https://docs.python.org/2/library/functions.html#map\" rel=\"nofollow noreferrer\"><code>map()</code></a> as:</p>\n<pre><code>&gt;&gt;&gt; words = [&quot;Hello&quot;, &quot;World&quot;]\n&gt;&gt;&gt; map(lambda word: word.upper(), words)  # In Python 2\n['HELLO', 'WORLD']                         \n\n# In Python 3, use it as: list(map(...))\n</code></pre>\n<p>As per the <a href=\"https://docs.python.org/2/library/functions.html#map\" rel=\"nofollow noreferrer\"><code>map()</code> document</a>:</p>\n<blockquote>\n<p><strong>map(function, iterable, ...)</strong></p>\n<p>Apply function to every item of iterable and return a list of the results.</p>\n</blockquote>\n<hr />\n<p>For <strong>finding the frequency of each character in word</strong>, you may use <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>collections.Counter()</code></a> (sub class <code>dict</code> type) as:</p>\n<pre><code>&gt;&gt;&gt; from collections import Counter\n\n&gt;&gt;&gt; my_word = &quot;hello world&quot;\n&gt;&gt;&gt; c = Counter(my_word)\n# where c holds dictionary as: \n# {'l': 3, \n#  'o': 2, \n#  ' ': 1, \n#  'e': 1, \n#  'd': 1, \n#  'h': 1, \n#  'r': 1, \n#  'w': 1}\n</code></pre>\n<p>As per <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>Counter</code> Document</a>:</p>\n<blockquote>\n<p>A Counter is a dict subclass for counting hashable objects. It is an unordered collection where elements are stored as dictionary keys and their counts are stored as dictionary values.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 7130124, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9eb76e367275b27a432d147598f69273?s=128&d=identicon&r=PG", "display_name": "user59220", "link": "https://stackoverflow.com/users/7130124/user59220"}, "edited": false, "score": 0, "creation_date": 1478728939, "post_id": 40516609, "comment_id": 68275173, "body": "what do you mean?"}, {"owner": {"reputation": 39, "user_id": 7130124, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9eb76e367275b27a432d147598f69273?s=128&d=identicon&r=PG", "display_name": "user59220", "link": "https://stackoverflow.com/users/7130124/user59220"}, "edited": false, "score": 0, "creation_date": 1478728977, "post_id": 40516609, "comment_id": 68275187, "body": "that&#39;s what I did:    import string alpha = list(string.uppercase[:26]) freq_d = dict() for let in alpha: freq_d[let] = freq_d.get(let,0)"}, {"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "reply_to_user": {"reputation": 39, "user_id": 7130124, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9eb76e367275b27a432d147598f69273?s=128&d=identicon&r=PG", "display_name": "user59220", "link": "https://stackoverflow.com/users/7130124/user59220"}, "edited": false, "score": 0, "creation_date": 1478729176, "post_id": 40516609, "comment_id": 68275261, "body": "did you check the link I posted?"}, {"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1479137461, "post_id": 40516609, "comment_id": 68420069, "body": "At the time I posted it I was on my mobile phone, so copy-pasting stuff was not too easy, and by the time I could, @anonymous had already elaborated in <a href=\"http://stackoverflow.com/a/40516580/1562285\">his answer</a>. Next time I will elaborate more"}], "tags": [], "owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1478852233, "last_edit_date": 1478852233, "creation_date": 1478728224, "answer_id": 40516609, "question_id": 40516486, "link": "https://stackoverflow.com/questions/40516486/using-lambda-and-dictionaries-functions/40516609#40516609", "title": "using lambda and dictionaries functions", "body": "<p>for the letter counting, don't reinvent the wheel <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\">collections.Counter</a></p>\n\n<blockquote>\n  <p>A Counter is a dict subclass for counting hashable objects. It is an unordered collection where elements are stored as dictionary keys and their counts are stored as dictionary values. Counts are allowed to be any integer value including zero or negative counts. The Counter class is similar to bags or multisets in other languages.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 3002116, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/xre6d.jpg?s=128&g=1", "display_name": "trevorKirkby", "link": "https://stackoverflow.com/users/3002116/trevorkirkby"}, "is_accepted": false, "score": 0, "last_activity_date": 1478729376, "creation_date": 1478729376, "answer_id": 40516853, "question_id": 40516486, "link": "https://stackoverflow.com/questions/40516486/using-lambda-and-dictionaries-functions/40516853#40516853", "title": "using lambda and dictionaries functions", "body": "<p>Counting letter frequency would be much more efficient with a dictionary, yes. Note that you are manually lining up each letter with a number (\"A\" with 0, et cetera). Wouldn't it be easier if we could have a data type that directly associated a letter with the number of times it occurs, without adding an extra set of numbers in between?</p>\n\n<p>Consider the code:</p>\n\n<pre><code>freq = {\"A\":0, \"B\":0, \"C\":0, \"D\":0, ... ..., \"Z\":0}\nfor letter in text:\n     freq[letter] += 1\n</code></pre>\n\n<p>This dictionary is used to count frequencies much more efficiently than your current code does. You just add one to an entry for a given letter each time you see it.</p>\n\n<hr>\n\n<p>I will also mention that you can count frequencies effectively with certain libraries. If you are interested in analyzing frequencies, look into collections.Counter() and possibly the collections.Counter.most_common() method.</p>\n\n<p>Whether or not you decide to just use collections.Counter(), I would attempt to learn why dictionaries are useful in this context.</p>\n\n<hr>\n\n<p>One final note: I personally found typing out the values for the \"freq\" dictionary to be tedious. If you want you could construct an empty dictionary of alphabet letters on-the-fly with this code:</p>\n\n<pre><code>alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\nfreq = {letter:0 for letter in alphabet}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5033188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L4iEU.png?s=128&g=1", "display_name": "yoni mood", "link": "https://stackoverflow.com/users/5033188/yoni-mood"}, "is_accepted": false, "score": -1, "last_activity_date": 1478735141, "creation_date": 1478735141, "answer_id": 40517881, "question_id": 40516486, "link": "https://stackoverflow.com/questions/40516486/using-lambda-and-dictionaries-functions/40517881#40517881", "title": "using lambda and dictionaries functions", "body": "<p>You can read the docs about the <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\">Counter</a> and the <a href=\"https://docs.python.org/3/tutorial/datastructures.html\" rel=\"nofollow noreferrer\">List Comprehensions</a> or run this as a small demo:</p>\n\n<pre><code>from collections import Counter\n\n\nwords = [\"acdefg\",\"abcdefg\",\"abcdfg\"]\n#list comprehension no need for lambda or map\nnew_words = [word.upper() for word in words] \nprint(new_words)\n\n# Lets create a dict and a counter\nletters = {}\nletters_counter = Counter()\n\nfor word in words:\n   # The counter count and add the deltas.\n   letters_counter += Counter(word)\n   # We can do it to \n   for letter in word:\n       letters[letter] = letters.get(letter,0) + 1\n\nprint(letters_counter)  \nprint(letters)  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 7130124, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9eb76e367275b27a432d147598f69273?s=128&d=identicon&r=PG", "display_name": "user59220", "link": "https://stackoverflow.com/users/7130124/user59220"}, "is_accepted": false, "score": 0, "last_activity_date": 1480924093, "creation_date": 1480924093, "answer_id": 40969469, "question_id": 40516486, "link": "https://stackoverflow.com/questions/40516486/using-lambda-and-dictionaries-functions/40969469#40969469", "title": "using lambda and dictionaries functions", "body": "<p>def punc_remove(words):</p>\n\n<pre><code>for word in words:\n    if word.isalnum() == False:\n        charl = []\n        for char in word: \n            if char.isalnum()==True:\n                charl.append(char)\n        ind = words.index(word)\n        delimeter = \"\"\n        words[ind] = delimeter.join(charl)\n</code></pre>\n\n<p>def letter_cnt_dic(word,freq_d):\n    for let in word:\n        freq_d[let] += 1</p>\n\n<p>import string\ndef letter_freq(fname):\n    fhand = open(fname)\n    freqs = dict()\n    alpha = list(string.uppercase[:26])\n    for let in alpha: freqs[let] = freqs.get(let,0) </p>\n\n<pre><code>for line in fhand:\n    line = line.rstrip() \n    words = line.split() \n    punc_remove(words)\n    #map(lambda word: word.upper(),words)\n    words = [word.upper() for word in words]  \n    for word in words:\n        letter_cnt_dic(word,freqs)\n\nfhand.close()\n\nreturn freqs.values()\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7130124, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/9eb76e367275b27a432d147598f69273?s=128&d=identicon&r=PG", "display_name": "user59220", "link": "https://stackoverflow.com/users/7130124/user59220"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 5, "score": -3, "last_activity_date": 1480924093, "creation_date": 1478727631, "last_edit_date": 1480923796, "question_id": 40516486, "link": "https://stackoverflow.com/questions/40516486/using-lambda-and-dictionaries-functions", "title": "using lambda and dictionaries functions", "body": "<p>I wrote this function:</p>\n\n<pre><code>def make_upper(words):\n    for word in words:\n        ind = words.index(word)\n        words[ind] = word.upper()   \n</code></pre>\n\n<p>I also wrote a function that counts the frequency of occurrences of each letter:</p>\n\n<pre><code> def letter_cnt(word,freq):\n    for let in word:\n        if let == 'A': freq[0]+=1\n        elif let == 'B': freq[1]+=1\n        elif let == 'C': freq[2]+=1\n        elif let == 'D': freq[3]+=1\n        elif let == 'E': freq[4]+=1\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "parallel-processing"], "owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1478727615, "creation_date": 1478727615, "question_id": 40516479, "link": "https://stackoverflow.com/questions/40516479/easiest-way-to-run-parallel-processes-in-a-unit-test-with-assertion", "title": "Easiest Way to Run Parallel Processes in a Unit Test With Assertion", "body": "<p>I have a unit test that I want to write, that's meant to check that a second instance of my class running at the same time can't acquire a locked file.</p>\n\n<pre><code>class Foo(object):\n\n    def bar(self):\n        # get file lock\n</code></pre>\n\n<p>What I want to be able to do is have two instances of <code>Foo.bar()</code> running at the same time, <em>and</em> be able to assert that an error gets raised.</p>\n\n<p>At the moment I'm using (trying to use) threading, but it's not raising the exception. If I try to run two instances from command lines at the same time, the error that I expect does get raise though.</p>\n\n<pre><code>import threading\nfrom nose.tools import assert_raises\n\nthread1 = threading.Thread(target=Foo().bar)\nthread2 = threading.Thread(target=Foo().bar)\nthread1.start()\nwith assert_raises(RuntimeError):\n    thread2.start()\n</code></pre>\n\n<p>Is there a way to get the behaviour that I want?</p>\n"}, {"tags": ["python", "python-2.7", "pandas", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "edited": false, "score": 0, "creation_date": 1478737202, "post_id": 40516578, "comment_id": 68277986, "body": "can u provide an example how to print the percentage of the progress in my_fun()? Since it is called by lambda, I don&#39;t know how it tracks the entire job progress..."}, {"owner": {"reputation": 1360, "user_id": 6051861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d13c8be005a752eb647a920aab42729?s=128&d=identicon&r=PG&f=1", "display_name": "Vivian", "link": "https://stackoverflow.com/users/6051861/vivian"}, "reply_to_user": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "edited": false, "score": 0, "creation_date": 1478788792, "post_id": 40516578, "comment_id": 68300346, "body": "Not more specifically knowing what <code>my_fun</code> actually is. Just... add a print statement at whatever point in the function you want it to print something. Maybe give the function an attribute to keep count, so as to not print on every repetition."}], "tags": [], "owner": {"reputation": 1360, "user_id": 6051861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d13c8be005a752eb647a920aab42729?s=128&d=identicon&r=PG&f=1", "display_name": "Vivian", "link": "https://stackoverflow.com/users/6051861/vivian"}, "is_accepted": false, "score": 0, "last_activity_date": 1478728091, "creation_date": 1478728091, "answer_id": 40516578, "question_id": 40516381, "link": "https://stackoverflow.com/questions/40516381/python-track-the-percentage-of-the-job-processed/40516578#40516578", "title": "Python: track the percentage of the job processed", "body": "<p>Unless you're doing something that would disconnect your process from <code>sys.stdout</code> (rare but plausible) or <code>sys.stderr</code> (significantly rarer but still technically not impossible), your idea of just putting a print statement in <code>my_fun</code> should work just fine.</p>\n\n<p>Of course, you won't be able to do that to log progress mid-expression in <code>my_fun</code>, such as if <code>my_fun</code> calls some <code>other_fun</code> that takes a very long time. In that case, you'd have to put the print in <code>other_fun</code>. For example, if you're doing something to every row separately, you could put a print somewhere in the relevant loop, saying how many rows have been completed, fairly easily. Just keep count, and print the number (possibly to <code>sys.stderr</code> or a logger, instead of <code>sys.stdout</code>, if you're using <code>sys.stdout</code> for something else) every time it hits a multiple of, say, 1000 (or 10,000, or 100,000 - pick a number that works for your use) . Don't print every row - it'll blur past too fast to actually read, if a single row is quick to handle, and you might end up spending enough time on printing that it actually slows down the processing meaningfully.</p>\n\n<p>If you're doing one single operation that needs to take all the data into account, without a loop... you could still do progress reports within the function, but there's no real way to get a \"number of rows completed\" statistic and it's probably going to be more difficult to get an accurate percentage.</p>\n"}], "owner": {"reputation": 17078, "user_id": 3993270, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1bee661ad7451ff3107ca6954560a06c?s=128&d=identicon&r=PG&f=1", "display_name": "Edamame", "link": "https://stackoverflow.com/users/3993270/edamame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478728091, "creation_date": 1478727197, "question_id": 40516381, "link": "https://stackoverflow.com/questions/40516381/python-track-the-percentage-of-the-job-processed", "title": "Python: track the percentage of the job processed", "body": "<p>I have the following code which runs for a long time:</p>\n\n<pre><code>my_df['result'] = my_df.apply(lambda x: my_fun(x), axis = 1)\n</code></pre>\n\n<p><code>my_df</code> is a pandas data frame and I have millions of rows. Is there a way to find out what percentage of job have been finished? e.g. put a print statement in my_fun or somewhere? Thanks!</p>\n"}, {"tags": ["python", "list", "random", "shuffle"], "comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 2, "creation_date": 1478727168, "post_id": 40516363, "comment_id": 68274437, "body": "You&#39;ve only got reference to a single list, use <code>li2 = li1[:]</code> instead"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1478727235, "post_id": 40516363, "comment_id": 68274466, "body": "<code>li1</code> and <code>li2</code> are names."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 3, "creation_date": 1478727826, "post_id": 40516363, "comment_id": 68274735, "body": "Just because you write a comment saying that a list is being copied, this does not mean that the list is actually being copied."}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 2, "creation_date": 1478727383, "post_id": 40516378, "comment_id": 68274540, "body": "Or just <code>li2 = li1[:]</code> for the canonical sequence shallow copy approach (doesn&#39;t coerce to <code>list</code> if it was, say, <code>bytearray</code>, and tends to run faster in general, because syntax beats function calls in CPython speedwise)."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1478727629, "post_id": 40516378, "comment_id": 68274654, "body": "@ShadowRanger: I agree on the part"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": true, "score": 0, "last_activity_date": 1478727795, "last_edit_date": 1478727795, "creation_date": 1478727193, "answer_id": 40516378, "question_id": 40516363, "link": "https://stackoverflow.com/questions/40516363/using-shuffle-method-on-list-associated-to-another-list-shuffles-them-both/40516378#40516378", "title": "Using shuffle method on list associated to another list shuffles them both?", "body": "<p>When you do <code>li2 = li1</code>, you are not storing the copy of <code>li1</code> but the reference of <code>li1</code> list to <code>li2</code>.</p>\n\n<p>In order to store the copy of <code>li1</code> to <code>li2</code>, do:</p>\n\n<pre><code>li2 = l1[:]\n\n# OR, via functional approach \n# li2 = list(li1)\n</code></pre>\n\n<p>Or, you may use <code>copy.copy()</code> as:</p>\n\n<pre><code>import copy\nli2 = copy.copy(li1)\n</code></pre>\n\n<p>Sample Example:</p>\n\n<pre><code>&gt;&gt;&gt; import random\n&gt;&gt;&gt; li1 = [1,2,3,4,5,6,7,8,9]\n&gt;&gt;&gt; li2 = li1[:]  # creating copy\n\n# shuffling li1\n&gt;&gt;&gt; random.shuffle(li1)\n\n&gt;&gt;&gt; li1    # Shuffled content li1\n[2, 1, 8, 6, 5, 4, 3, 9, 7]\n&gt;&gt;&gt; li2    # li2 holds the original copy\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n&gt;&gt;&gt; random.shuffle(li2)   # also shuffle li2\n&gt;&gt;&gt; li2\n[1, 5, 8, 9, 7, 2, 4, 6, 3]\n&gt;&gt;&gt; li1\n[2, 1, 8, 6, 5, 4, 3, 9, 7]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14205, "user_id": 3067748, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ojjhJ.jpg?s=128&g=1", "display_name": "SparkAndShine", "link": "https://stackoverflow.com/users/3067748/sparkandshine"}, "is_accepted": false, "score": 0, "last_activity_date": 1478732528, "last_edit_date": 1478732528, "creation_date": 1478729662, "answer_id": 40516914, "question_id": 40516363, "link": "https://stackoverflow.com/questions/40516363/using-shuffle-method-on-list-associated-to-another-list-shuffles-them-both/40516914#40516914", "title": "Using shuffle method on list associated to another list shuffles them both?", "body": "<p>After <code>li1=li2</code>, both <code>li1</code> and <code>li2</code> points to the same list <code>[1,2,3,4,5,6,7,8,9]</code>. And <a href=\"https://docs.python.org/2/library/random.html\" rel=\"nofollow noreferrer\"><code>random.shuffle</code></a> shuffles the list <em>in place</em> and returns <code>None</code>. It can be easily seen from the following code snippet.</p>\n\n<pre><code>import random\n\nli1 = [1,2,3,4,5,6,7,8,9]\nli2 = random.shuffle(li1)\n\nprint(li1)  # [4, 9, 8, 6, 2, 5, 7, 1, 3]\nprint(li2)  # None\n</code></pre>\n\n<hr>\n\n<p>Use <a href=\"https://docs.python.org/2/library/random.html#random.sample\" rel=\"nofollow noreferrer\"><code>random.sample</code></a> without replacement, as shown below.</p>\n\n<pre><code>import random\n\nli1 = [1,2,3,4,5,6,7,8,9]\nli2 = random.sample(li1, len(li1))\n\nprint(li1)  # [1, 2, 3, 4, 5, 6, 7, 8, 9]\nprint(li2)  # [4, 6, 2, 1, 7, 5, 8, 3, 9]\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 7060266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b11e189f675c74762398ee76300e039?s=128&d=identicon&r=PG&f=1", "display_name": "Vidar Trojenborg", "link": "https://stackoverflow.com/users/7060266/vidar-trojenborg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 40516378, "answer_count": 2, "score": 0, "last_activity_date": 1478732528, "creation_date": 1478727113, "last_edit_date": 1478729439, "question_id": 40516363, "link": "https://stackoverflow.com/questions/40516363/using-shuffle-method-on-list-associated-to-another-list-shuffles-them-both", "title": "Using shuffle method on list associated to another list shuffles them both?", "body": "<p>This is my code</p>\n\n<pre><code>import random\n\n#Creating a list\nli1=[1,2,3,4,5,6,7,8,9]\n\n#Creating a copy of li1 to li2\nli2=li1\n\nrandom.shuffle(li1)\n\nprint (li2)\n</code></pre>\n\n<p>This will also shuffle <code>li2</code>, why? Is there a way of shuffling them independently?</p>\n\n<p>How can I solve this issue? Thank you very much!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1478727252, "post_id": 40516329, "comment_id": 68274476, "body": "Unless I am missing something, you never calculate <code>n!</code>. <code>n</code> and <code>f</code> always increase"}, {"owner": {"reputation": 21, "user_id": 7138470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ba0396d68f8cfbe98904c674bcb784?s=128&d=identicon&r=PG&f=1", "display_name": "Z.B", "link": "https://stackoverflow.com/users/7138470/z-b"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1478727554, "post_id": 40516329, "comment_id": 68274623, "body": "8!  = 40320, and a factorial is just 9*8*7*6*5*4*3*2*1 so doing 9*8! = 9!"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1478727612, "post_id": 40516329, "comment_id": 68274648, "body": "Right... And you are going to hit an overflow error eventually at some point, regardless of any provided &quot;fix&quot;. So what is the issue?"}, {"owner": {"reputation": 21, "user_id": 7138470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ba0396d68f8cfbe98904c674bcb784?s=128&d=identicon&r=PG&f=1", "display_name": "Z.B", "link": "https://stackoverflow.com/users/7138470/z-b"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1478727820, "post_id": 40516329, "comment_id": 68274733, "body": "I need either some way to circumvent the problem as to continue through a large amount of numbers so I can do these calculations Also I&#39;m trying to figure out why it starts with the overflow error"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1478727938, "post_id": 40516329, "comment_id": 68274776, "body": "<a href=\"https://www.wolframalpha.com/input/?i=Brown+numbers\" rel=\"nofollow noreferrer\">Only three such numbers are known</a>. And 9 is much higher than <i>any</i> of those values... Python (and most programming languages) are limited by hard integer &amp; floating point size limits of your computer."}, {"owner": {"reputation": 21, "user_id": 7138470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ba0396d68f8cfbe98904c674bcb784?s=128&d=identicon&r=PG&f=1", "display_name": "Z.B", "link": "https://stackoverflow.com/users/7138470/z-b"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1478728144, "post_id": 40516329, "comment_id": 68274869, "body": "The highest one is 7(7!+1= 71^2) , and the program begins at 8!, 40320. I assume by that means that it&#39;s a computer hard limit then."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1478728414, "post_id": 40516329, "comment_id": 68274973, "body": "Yeah, your code crashes from an overflow"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7138470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ba0396d68f8cfbe98904c674bcb784?s=128&d=identicon&r=PG&f=1", "display_name": "Z.B", "link": "https://stackoverflow.com/users/7138470/z-b"}, "edited": false, "score": 0, "creation_date": 1478727384, "post_id": 40516368, "comment_id": 68274541, "body": "This still ends with a &quot;OverflowError: int too large to convert to float&quot; error"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 21, "user_id": 7138470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ba0396d68f8cfbe98904c674bcb784?s=128&d=identicon&r=PG&f=1", "display_name": "Z.B", "link": "https://stackoverflow.com/users/7138470/z-b"}, "edited": false, "score": 0, "creation_date": 1478727518, "post_id": 40516368, "comment_id": 68274612, "body": "@Z.B where is this happening? I don&#39;t see where I&#39;m converting to a float."}, {"owner": {"reputation": 21, "user_id": 7138470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ba0396d68f8cfbe98904c674bcb784?s=128&d=identicon&r=PG&f=1", "display_name": "Z.B", "link": "https://stackoverflow.com/users/7138470/z-b"}, "edited": false, "score": 0, "creation_date": 1478727700, "post_id": 40516368, "comment_id": 68274687, "body": "line 4, in what x equals"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1478727933, "post_id": 40516368, "comment_id": 68274774, "body": "while <code>isinstance(4**0.5, int) == False</code>, <code>(4**0.5).is_integer() == True</code>."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 21, "user_id": 7138470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ba0396d68f8cfbe98904c674bcb784?s=128&d=identicon&r=PG&f=1", "display_name": "Z.B", "link": "https://stackoverflow.com/users/7138470/z-b"}, "edited": false, "score": 0, "creation_date": 1478728408, "post_id": 40516368, "comment_id": 68274969, "body": "@Z.B updated my answer, basically just pointing to a better answer."}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 0, "last_activity_date": 1478728385, "last_edit_date": 1495541986, "creation_date": 1478727134, "answer_id": 40516368, "question_id": 40516329, "link": "https://stackoverflow.com/questions/40516329/python-brown-numbers-and-overflow/40516368#40516368", "title": "Python: Brown numbers and overflow", "body": "<p>Your loop will never end because <code>x</code> will never be of type <code>int</code>:</p>\n\n<pre><code>&gt;&gt;&gt; 4**0.5\n2.0\n&gt;&gt;&gt; isinstance(4**0.5, int)\nFalse\n&gt;&gt;&gt; isinstance(4**0.5, float)\nTrue\n</code></pre>\n\n<p>May I suggest this alternative:</p>\n\n<pre><code>x = (n+1)**(.5)\nx = int(round(x))\nif x ** 2 == n + 1:\n    break\n</code></pre>\n\n<p>This should also handle floating point accuracy issues.</p>\n\n<p>EDIT: the above was a simple method for small numbers. To check if a large number is a perfect square there are other methods such as this one: <a href=\"https://stackoverflow.com/a/2489519/2482744\">https://stackoverflow.com/a/2489519/2482744</a></p>\n"}], "owner": {"reputation": 21, "user_id": 7138470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ba0396d68f8cfbe98904c674bcb784?s=128&d=identicon&r=PG&f=1", "display_name": "Z.B", "link": "https://stackoverflow.com/users/7138470/z-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478728385, "creation_date": 1478726977, "last_edit_date": 1478727078, "question_id": 40516329, "link": "https://stackoverflow.com/questions/40516329/python-brown-numbers-and-overflow", "title": "Python: Brown numbers and overflow", "body": "<p>I'm trying to make a program that calculates Brown numbers, or numbers that can be expressed as <code>n!+1 = m^2</code> where m is an integer, and running this through creates too big of a number. </p>\n\n<p>Any idea how to fix this? (There is also an abacist style method but it takes exponentially longer)     </p>\n\n<pre><code>n = 40320\nf = 9\nwhile True:\n    x = (n+1)**(.5)\n    if isinstance( x, int ):\n        break\n    else:\n        n = n*f\n        f = f+1\nprint(f)\nprint(n)\nprint(input(\" \"))\n</code></pre>\n\n<p>*n is 8!</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1478726808, "post_id": 40516278, "comment_id": 68274267, "body": "Other than calling the <code>append()</code> method of the list?"}, {"owner": {"reputation": 11, "user_id": 7137822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0549042b5b101e042587b0c21ce21e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Donnelley", "link": "https://stackoverflow.com/users/7137822/andrew-donnelley"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1478726834, "post_id": 40516278, "comment_id": 68274283, "body": "And if there already exists both the key and value, then not allowing duplicates (not adding the info in because its already there)"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1478726939, "post_id": 40516278, "comment_id": 68274337, "body": "It looks as though your values are lists. Do you need to maintain order or is a <code>set</code> appropriate? Of course, that limits values to hashable types also."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1478726945, "post_id": 40516278, "comment_id": 68274341, "body": "There are probably hundreds of questions already addressing this and similar questions. Try to looking for them."}], "answers": [{"comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1478727101, "post_id": 40516339, "comment_id": 68274406, "body": "A great answer but only works if values are hashable."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1478727391, "post_id": 40516339, "comment_id": 68274543, "body": "@tdelaney if this becomes a problem, e.g. if OP wants to insert lists, he/she should convert to the hashable equivalent."}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 0, "last_activity_date": 1478727006, "creation_date": 1478727006, "answer_id": 40516339, "question_id": 40516278, "link": "https://stackoverflow.com/questions/40516278/updating-a-dictionary/40516339#40516339", "title": "&quot;Updating&quot; a Dictionary", "body": "<p>Using a <code>set</code> to prevent duplicates but at the cost of losing order which I'm assuming isn't important:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import defaultdict\n&gt;&gt;&gt; db = defaultdict(set)\n&gt;&gt;&gt; db['John'].add(('Brown', 'Blue', 180))\n&gt;&gt;&gt; db\ndefaultdict(&lt;type 'set'&gt;, {'John': set([('Brown', 'Blue', 180)])})\n&gt;&gt;&gt; db['John'].add(('Brown', 'Blue', 180))\n&gt;&gt;&gt; db\ndefaultdict(&lt;type 'set'&gt;, {'John': set([('Brown', 'Blue', 180)])})\n&gt;&gt;&gt; db['John'].add((\"Black\", \"Red\", \"160\"))\n&gt;&gt;&gt; db['Jane'].add((\"Red\", \"Gree\", \"140\"))\n&gt;&gt;&gt; db\ndefaultdict(&lt;type 'set'&gt;, {'Jane': set([('Red', 'Gree', '140')]), 'John': set([('Brown', 'Blue', 180), ('Black', 'Red', '160')])})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7137822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0549042b5b101e042587b0c21ce21e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Donnelley", "link": "https://stackoverflow.com/users/7137822/andrew-donnelley"}, "edited": false, "score": 0, "creation_date": 1478728216, "post_id": 40516350, "comment_id": 68274892, "body": "I thought dictionaries can&#39;t use the .append() command, I&#39;m getting a TypeError of &#39;builtin_function_or_method&#39; object is not subscriptable"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 11, "user_id": 7137822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0549042b5b101e042587b0c21ce21e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Donnelley", "link": "https://stackoverflow.com/users/7137822/andrew-donnelley"}, "edited": false, "score": 0, "creation_date": 1478728740, "post_id": 40516350, "comment_id": 68275099, "body": "The dict&#39;s values are lists. <code>d[key]</code> gets the list value and <code>d[key].append()</code> appends to the list. I added some tests and they run for me, Is your code the same? Which line fails? Can you reproduce the problem with the code I posted and show how you did it? The we can figure this out."}, {"owner": {"reputation": 11, "user_id": 7137822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0549042b5b101e042587b0c21ce21e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Donnelley", "link": "https://stackoverflow.com/users/7137822/andrew-donnelley"}, "edited": false, "score": 0, "creation_date": 1478730340, "post_id": 40516350, "comment_id": 68275732, "body": "i&#39;m down to only one failed test case, it looks like the only problem is the ordering of the values, can a sort() command be used or something else"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 11, "user_id": 7137822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0549042b5b101e042587b0c21ce21e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Donnelley", "link": "https://stackoverflow.com/users/7137822/andrew-donnelley"}, "edited": false, "score": 0, "creation_date": 1478730399, "post_id": 40516350, "comment_id": 68275747, "body": "I changed the examples to take any number of parameters as a tuple instead of a single tuple and your example works for me. About that &quot;TypeError of &#39;builtin_function_or_method&#39; object is not subscriptable&quot; - that would happen if you used square brackets with the function call... e.g. <code>add_anything[&#39;bob&#39;, 1,2,3]</code>. What is the exact line that gets that error?"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 11, "user_id": 7137822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0549042b5b101e042587b0c21ce21e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Donnelley", "link": "https://stackoverflow.com/users/7137822/andrew-donnelley"}, "edited": false, "score": 0, "creation_date": 1478730489, "post_id": 40516350, "comment_id": 68275775, "body": "Sort each value? Yeah, you could do that. One option is to do <code>d.sort()</code> right after <code>d[key].append(value)</code>."}, {"owner": {"reputation": 11, "user_id": 7137822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0549042b5b101e042587b0c21ce21e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Donnelley", "link": "https://stackoverflow.com/users/7137822/andrew-donnelley"}, "edited": false, "score": 0, "creation_date": 1478731215, "post_id": 40516350, "comment_id": 68276016, "body": "The error i was getting was a simply a mistype on my end sorry, but i thought dictionaries couldn&#39;t be sorted only its values"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 11, "user_id": 7137822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0549042b5b101e042587b0c21ce21e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Donnelley", "link": "https://stackoverflow.com/users/7137822/andrew-donnelley"}, "edited": false, "score": 0, "creation_date": 1478735592, "post_id": 40516350, "comment_id": 68277550, "body": "I&#39;m not sure what your final goal is, but <code>sorted(d.keys())</code> is one option."}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 1, "last_activity_date": 1478730283, "last_edit_date": 1478730283, "creation_date": 1478727063, "answer_id": 40516350, "question_id": 40516278, "link": "https://stackoverflow.com/questions/40516278/updating-a-dictionary/40516350#40516350", "title": "&quot;Updating&quot; a Dictionary", "body": "<p>I think the brute force method is the best. Its still short and straight forward</p>\n\n<pre><code>def add_anything(d, key, *value):\n    if key in d:\n        if value not in d[key]:\n            d[key].append(value)\n    else:\n        d[key] = [value]\n</code></pre>\n\n<p>Running a few tests</p>\n\n<pre><code>&gt;&gt;&gt; add_anything(d, 'bob', 'Brown', 'Blue', '180')\n&gt;&gt;&gt; d\n{'bob': [('Brown', 'Blue', '180')]}\n&gt;&gt;&gt; add_anything(d, 'bob', 'Brown', 'Blue', '180')\n&gt;&gt;&gt; d\n{'bob': [('Brown', 'Blue', '180')]}\n&gt;&gt;&gt; add_anything(d, 'bob', 'Brown', 'Blue', '666')\n&gt;&gt;&gt; d\n{'bob': [('Brown', 'Blue', '180'), ('Brown', 'Blue', '666')]}\n&gt;&gt;&gt; add_anything(d, 'jane', 'Brown', 'Blue', '666')\n&gt;&gt;&gt; d\n{'jane': [('Brown', 'Blue', '666')], 'bob': [('Brown', 'Blue', '180'), ('Brown', 'Blue', '666')]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1061, "user_id": 4720148, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/96b17cf333822006d27760b7a7bc2851?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/4720148/john-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1478732725, "last_edit_date": 1478732725, "creation_date": 1478731856, "answer_id": 40517319, "question_id": 40516278, "link": "https://stackoverflow.com/questions/40516278/updating-a-dictionary/40517319#40517319", "title": "&quot;Updating&quot; a Dictionary", "body": "<p>Might be missing something here but the faster try/catch (do first then ask forgiveness)?</p>\n\n<pre><code>d = {'John': [('Brown', 'Blue', 180)]}\n\ndef add_to_dict(d, k, v):\n    try:\n        d[k].append(v)\n    except KeyError:\n        d[k] = [v]\n    return d\n\nprint(d)\nadd_to_dict(d, \"John\", ('Black', 'Red', 160))\nprint(d)\nadd_to_dict(d, \"Jim\", ('Blond', 'Green', 200))\nprint(d)\nadd_to_dict(d, \"Jim\", ('Blond', 'Green', 220))\nprint(d)\n</code></pre>\n\n<p>or the slower if check (ask for permission then do)?</p>\n\n<pre><code>def add_to_dict(d, k, v):\n    if k in d.keys():\n        d[k].append(v)\n    else:\n        d[k] = [v]\n    return d\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7137822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b0549042b5b101e042587b0c21ce21e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Donnelley", "link": "https://stackoverflow.com/users/7137822/andrew-donnelley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1478732725, "creation_date": 1478726733, "last_edit_date": 1478728303, "question_id": 40516278, "link": "https://stackoverflow.com/questions/40516278/updating-a-dictionary", "title": "&quot;Updating&quot; a Dictionary", "body": "<p>When given a dictionary(db), is there a way to add values to a key that already exist within the dictionary. Hence the updating or simply adding the key and its value if the key doesn't already exist:</p>\n\n<p>Say that: </p>\n\n<pre><code>db = {'John': [('Brown', 'Blue', 180)]}\ndef add_anything(db,Name(the key), HairColor(value), EyeColor(value), Height(value):\nadd_anything(db, \"John\", \"Black\", \"Red\", \"160\")\n</code></pre>\n\n<p>and when i updated db, returning db would give back:</p>\n\n<pre><code>{'John': [('Brown', 'Blue', 180),('Black', 'Red', 160)]}\n</code></pre>\n\n<p>How would that definition function look like? Thank you</p>\n"}, {"tags": ["python", "praw"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7111497"}, "edited": false, "score": 1, "creation_date": 1478726666, "post_id": 40516240, "comment_id": 68274198, "body": "Can you show us the error? Also , why didn&#39;t the &quot;last methods&quot; didn&#39;t work?"}], "answers": [{"tags": [], "owner": {"reputation": 761, "user_id": 6646696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0a134da06540ea285f5f4f90ea5117a3?s=128&d=identicon&r=PG&f=1", "display_name": "r0xette", "link": "https://stackoverflow.com/users/6646696/r0xette"}, "is_accepted": false, "score": 0, "last_activity_date": 1478729069, "creation_date": 1478729069, "answer_id": 40516785, "question_id": 40516240, "link": "https://stackoverflow.com/questions/40516240/unable-to-download-praw-using-pip/40516785#40516785", "title": "Unable to download praw using pip", "body": "<p>Try the following</p>\n\n<ol>\n<li>Download the zip from <a href=\"https://pypi.python.org/pypi/praw#downloads\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/praw#downloads</a></li>\n<li>Unzip.</li>\n<li>python setup.py install</li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 7138457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0IWy.jpg?s=128&g=1", "display_name": "jmecs", "link": "https://stackoverflow.com/users/7138457/jmecs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1478729069, "creation_date": 1478726554, "question_id": 40516240, "link": "https://stackoverflow.com/questions/40516240/unable-to-download-praw-using-pip", "title": "Unable to download praw using pip", "body": "<p>I'm currently working my way through <a href=\"http://praw.readthedocs.io/en/stable/pages/getting_started.html\" rel=\"nofollow noreferrer\">this</a> guide which details how to make a reddit bot. followed the first step and ran my code in Python IDLE but had an issue because I didn't have PRAW downloaded.</p>\n\n<p><em>My question</em> is how exactly do I download PRAW? I looked around and tried downloading it through a few methods but none of them seemed to work for me. Currently working my way through <a href=\"https://www.youtube.com/watch?v=xHes-Cdmfzc\" rel=\"nofollow noreferrer\">this</a> method but I keep getting an error:\nFatal error in launcher. Unable to create process using...</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1614, "user_id": 2131783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5f7a6c30de72d289b4c4605601b0f47?s=128&d=identicon&r=PG", "display_name": "Thomas Kowalski", "link": "https://stackoverflow.com/users/2131783/thomas-kowalski"}, "edited": false, "score": 2, "creation_date": 1478726321, "post_id": 40516161, "comment_id": 68274038, "body": "You can use a regex or just go through your string in a loop and detect the first number. Then, get the six following numbers and compare what is identical."}, {"owner": {"reputation": 271, "user_id": 6396313, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5d7ac24b2ac7251b488cd30f77e87861?s=128&d=identicon&r=PG&f=1", "display_name": "o1n3n21", "link": "https://stackoverflow.com/users/6396313/o1n3n21"}, "reply_to_user": {"reputation": 1614, "user_id": 2131783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5f7a6c30de72d289b4c4605601b0f47?s=128&d=identicon&r=PG", "display_name": "Thomas Kowalski", "link": "https://stackoverflow.com/users/2131783/thomas-kowalski"}, "edited": false, "score": 0, "creation_date": 1478726338, "post_id": 40516161, "comment_id": 68274046, "body": "Thanks @chris-rands -- how would I split though? Since the first part of the file is a different length for each file (e.g. the foo and baarr)"}, {"owner": {"reputation": 1614, "user_id": 2131783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5f7a6c30de72d289b4c4605601b0f47?s=128&d=identicon&r=PG", "display_name": "Thomas Kowalski", "link": "https://stackoverflow.com/users/2131783/thomas-kowalski"}, "edited": false, "score": 0, "creation_date": 1478726389, "post_id": 40516161, "comment_id": 68274073, "body": "Splitting is not applicable here. The loop on the string is really the most obvious and is the easiest way to go. EDIT : it of course implies having only letters before the date. Otherwise it&#39;ll be a little bit more difficult."}], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1478726757, "creation_date": 1478726757, "answer_id": 40516287, "question_id": 40516161, "link": "https://stackoverflow.com/questions/40516161/checking-if-files-have-the-same-date-from-the-name-python-3/40516287#40516287", "title": "Checking if files have the same date from the name, Python 3", "body": "<p>If the aim is to just compare the content of the files, the ideal way will be to use <a href=\"https://docs.python.org/2/library/filecmp.html#module-filecmp\" rel=\"nofollow noreferrer\"><code>filecmp</code></a> module. This modules provides <a href=\"https://docs.python.org/2/library/filecmp.html#filecmp.cmp\" rel=\"nofollow noreferrer\"><code>filecmp.cmp()</code></a> method which:</p>\n\n<blockquote>\n  <p>Compare the files named f1 and f2, returning True if they seem equal, False otherwise.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; import filecmp\n&gt;&gt;&gt; filecmp.cmp('undoc.rst', 'undoc.rst') \nTrue\n&gt;&gt;&gt; filecmp.cmp('undoc.rst', 'index.rst') \nFalse\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 318, "user_id": 1918767, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/db5c74b38d64c6f13a139a7e8d8c93b9?s=128&d=identicon&r=PG", "display_name": "Maximilian Matth&#233;", "link": "https://stackoverflow.com/users/1918767/maximilian-matth%c3%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1478726864, "creation_date": 1478726864, "answer_id": 40516305, "question_id": 40516161, "link": "https://stackoverflow.com/questions/40516161/checking-if-files-have-the-same-date-from-the-name-python-3/40516305#40516305", "title": "Checking if files have the same date from the name, Python 3", "body": "<p>You can use the regex and Counter class of python for this purpose:</p>\n\n<pre><code>import re\nfrom collections import Counter\n\nfiles = ['foo161108part.txt','baarr161108part2.txt','python141106part2.txt']\n\ndates = []\nfor f in files:\n    m = re.match(r\"^.*(\\d{6}).*\\.txt$\", f)\n    if m:\n        dates.append(m.group(1))\nprint dates\nprint Counter(dates)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['161108', '161108', '141106']\nCounter({'161108': 2, '141106': 1})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 271, "user_id": 6396313, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5d7ac24b2ac7251b488cd30f77e87861?s=128&d=identicon&r=PG&f=1", "display_name": "o1n3n21", "link": "https://stackoverflow.com/users/6396313/o1n3n21"}, "edited": false, "score": 0, "creation_date": 1478731589, "post_id": 40516824, "comment_id": 68276170, "body": "Would there be a work around if the characters after the date are numbers? E.g. foo161108200.txt?"}, {"owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "reply_to_user": {"reputation": 271, "user_id": 6396313, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5d7ac24b2ac7251b488cd30f77e87861?s=128&d=identicon&r=PG&f=1", "display_name": "o1n3n21", "link": "https://stackoverflow.com/users/6396313/o1n3n21"}, "edited": false, "score": 1, "creation_date": 1478731912, "post_id": 40516824, "comment_id": 68276312, "body": "it will work, but it considers only the first 6 digits which point to some date, all the next numbers will be ignored. In other words, <code>161108</code> will point to the current date <code>2016 11 08</code> and next part <code>200</code> hasn&#39;t much matter in  our case"}, {"owner": {"reputation": 271, "user_id": 6396313, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5d7ac24b2ac7251b488cd30f77e87861?s=128&d=identicon&r=PG&f=1", "display_name": "o1n3n21", "link": "https://stackoverflow.com/users/6396313/o1n3n21"}, "edited": false, "score": 0, "creation_date": 1478733510, "post_id": 40516824, "comment_id": 68276896, "body": "Thanks! And how about if the date was day/month/year, would the regex need to be changed?"}, {"owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "reply_to_user": {"reputation": 271, "user_id": 6396313, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5d7ac24b2ac7251b488cd30f77e87861?s=128&d=identicon&r=PG&f=1", "display_name": "o1n3n21", "link": "https://stackoverflow.com/users/6396313/o1n3n21"}, "edited": false, "score": 1, "creation_date": 1478755558, "post_id": 40516824, "comment_id": 68282078, "body": "of course, if date part contains slashes, they should be considered like <code>\\d{2}\\&#47;\\d{2}\\&#47;\\d{2}</code>"}], "tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": true, "score": 1, "last_activity_date": 1478729235, "creation_date": 1478729235, "answer_id": 40516824, "question_id": 40516161, "link": "https://stackoverflow.com/questions/40516161/checking-if-files-have-the-same-date-from-the-name-python-3/40516824#40516824", "title": "Checking if files have the same date from the name, Python 3", "body": "<p>If <em>date</em> part is a crucial part to search within a file name, consider the following approach:</p>\n\n<pre><code>import re\n\ncounts = {}\npattern = re.compile(r'^.*(\\d{6}).*?$')\n\nfor f in os.listdir('text_files'):\n    m = re.match(pattern, f)\n    if m:\n        date_value = m.group(1)\n        counts[date_value] = counts[date_value]+1 if counts.get(date_value) else 1\n\nprint(counts)\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>{'161108': 2, '141106': 1}\n</code></pre>\n\n<p>As for regex:</p>\n\n<blockquote>\n  <p>using <strong>re.compile()</strong> and saving the resulting regular expression object\n  for reuse is more efficient when the expression will be used several\n  times in a single program</p>\n</blockquote>\n"}], "owner": {"reputation": 271, "user_id": 6396313, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5d7ac24b2ac7251b488cd30f77e87861?s=128&d=identicon&r=PG&f=1", "display_name": "o1n3n21", "link": "https://stackoverflow.com/users/6396313/o1n3n21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 40516824, "answer_count": 3, "score": 1, "last_activity_date": 1478729235, "creation_date": 1478726161, "question_id": 40516161, "link": "https://stackoverflow.com/questions/40516161/checking-if-files-have-the-same-date-from-the-name-python-3", "title": "Checking if files have the same date from the name, Python 3", "body": "<p>I have some files that have the date saved within them, e.g. <code>foo161108part.txt</code>,<code>baarr161108part2.txt</code>,<code>python141106part2.txt</code></p>\n\n<p>So far I've listed the directory with:</p>\n\n<pre><code>directoryFiles = []\nfor name in os.listdir(os.getcwd()):\n    if name.endswith('.txt'):\n        files.append(name)\nprint(files)\n</code></pre>\n\n<p>There are quite a lot of different files with different dates, and I'd like to see how many come up on the same date.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "tkinter"], "owner": {"reputation": 1659, "user_id": 3893615, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6747082a887efbb8cc4785b7c4279cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kvothe", "link": "https://stackoverflow.com/users/3893615/kvothe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1478725804, "creation_date": 1478725804, "question_id": 40516079, "link": "https://stackoverflow.com/questions/40516079/how-to-make-containing-window-frame-expand-to-fit-contents-using-tkinter-grid", "title": "How to make containing window/frame expand to fit contents using tkinter grid?", "body": "<p>In the code below (copy and paste into text file and you should be able to run it immediately), text is entered into the Entry widget and then is displayed in the multicolumn list box. The columns of the list box expand to fit the text, but the containing window/frame does not expand to fit the expanded list box.</p>\n\n<p>Try entering a short string, \"test\", and then a very long string \"qwertyuiopasdf\" to see what I mean.</p>\n\n<p>How can it be made so that the containing window/frame expands to always fit the content? I would like to keep using the grid manager for organisation is possible.</p>\n\n<p>The multicolumn list box is adapted from <a href=\"https://www.daniweb.com/programming/software-development/threads/350266/creating-table-in-python\" rel=\"nofollow noreferrer\">here</a> and the main application class is adapted from <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/minimal-app.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Python 3.5.1 on WIndows 10. Tkinter version 8.6.</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\nimport tkinter.font as tkFont\n\nclass McListBox(ttk.Treeview):\n    #use a ttk.Treeview as a multicolumn ListBox\n    def __init__(self, master=None, **kwargs):\n        headers=kwargs['columns']\n        id=kwargs['name']\n        ttk.Treeview.__init__(self, master, name=id, columns=headers, show='headings')\n        self.headers = headers\n        self.items = []\n        self.build_tree()\n\n    def build_tree(self):\n        # set up the columns\n        for col in self.headers:\n            self.heading(col, text=col.title())\n            # adjust the column's width to the header string\n            self.column(col, width=tkFont.Font().measure(col.title()))\n        # in case items are added already\n        for item in self.items:\n            self.insert('', 'end', values=item)\n            # adjust column's width if necessary to fit each value\n            for ix, val in enumerate(item):\n                col_w = tkFont.Font().measure(val)\n                if self.column(self.headers[ix],width=None)&lt;col_w:\n                    self.column(self.headers[ix], width=col_w)\n\n    def add(self, text):\n        # add the text in the first column and a 1 in the second\n        item = (text, 1)\n        self.insert('', 'end', values=item)\n        # adjust column's width if necessary to fit each value\n        for ix, val in enumerate(item):\n            col_w = tkFont.Font().measure(val)\n            if self.column(self.headers[ix],width=None)&lt;col_w:\n                self.column(self.headers[ix], width=col_w)\n\nclass Application(ttk.Frame):\n    def __init__(self, master=None):\n        ttk.Frame.__init__(self, master)\n        self.master.rowconfigure(0, weight=1)\n        self.master.columnconfigure(0, weight=1)\n        self.rowconfigure(0, weight=1)\n        self.rowconfigure(1, weight=1)\n        self.columnconfigure(1, weight=1)\n        self.grid(row=0,column=0,sticky='nsew')\n        self.createWidgets()\n\n    def createWidgets(self):\n        # this is the multi column list box\n        varDisplayArea = McListBox(self, name='varDisplayArea', columns=['var', 'val'])\n        varDisplayArea.grid(column=0, row=0, sticky='nsew')\n        # this is the input to go into the multicolum list box\n        inputBox = ttk.Entry(self, name='inputBox')\n        inputBox.grid(column=0, row=1, sticky=W)\n        inputBox.focus()\n        self.master.bind('&lt;Return&gt;', self.addEntry)\n\n    def addEntry(self, *args):\n        # the value in the entry widget is added to the list box\n        inputBox = self.children['inputBox']\n        varDisplayArea = self.children['varDisplayArea']\n        input = inputBox.get()\n        inputBox.delete(0, END)\n        varDisplayArea.add(input)\n        inputBox.focus()\n\napp = Application()\napp.master.title('sample app')\napp.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 1, "creation_date": 1478725802, "post_id": 40516064, "comment_id": 68273789, "body": "put <code>global spam</code> in your function, although note this is not always good practise"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1478725898, "post_id": 40516064, "comment_id": 68273843, "body": "I just want to reiterate Chris_Rands warning: this approach is usually not the best way. It will make your code difficult to reason about and difficult to maintain."}, {"owner": {"reputation": 1614, "user_id": 2131783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5f7a6c30de72d289b4c4605601b0f47?s=128&d=identicon&r=PG", "display_name": "Thomas Kowalski", "link": "https://stackoverflow.com/users/2131783/thomas-kowalski"}, "edited": false, "score": 0, "creation_date": 1478725905, "post_id": 40516064, "comment_id": 68273845, "body": "The variables in your function should stay in your function. And the inverse is also true, you should always try not to use global variables (if your function needs something, there most often is a way for you not to use a global variable)"}, {"owner": {"reputation": 11, "user_id": 6938374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYoOd.gif?s=128&g=1", "display_name": "Cailean Allway", "link": "https://stackoverflow.com/users/6938374/cailean-allway"}, "edited": false, "score": 0, "creation_date": 1478728124, "post_id": 40516064, "comment_id": 68274861, "body": "Thank you, I&#39;ll try to only use it when necessary"}], "answers": [{"comments": [{"owner": {"reputation": 1614, "user_id": 2131783, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a5f7a6c30de72d289b4c4605601b0f47?s=128&d=identicon&r=PG", "display_name": "Thomas Kowalski", "link": "https://stackoverflow.com/users/2131783/thomas-kowalski"}, "edited": false, "score": 1, "creation_date": 1478725959, "post_id": 40516100, "comment_id": 68273868, "body": "But that&#39;s bad, you should have said it (and it&#39;s most often possible to do without it)"}, {"owner": {"reputation": 11, "user_id": 6938374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYoOd.gif?s=128&g=1", "display_name": "Cailean Allway", "link": "https://stackoverflow.com/users/6938374/cailean-allway"}, "edited": false, "score": 0, "creation_date": 1483820272, "post_id": 40516100, "comment_id": 70258037, "body": "unfortunately this doesn&#39;t work for me as i have multiple variables being changed and I need them to be accessed from everywhere."}], "tags": [], "owner": {"reputation": 18509, "user_id": 363262, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/3ekjR.png?s=128&g=1", "display_name": "Juan Cort&#233;s", "link": "https://stackoverflow.com/users/363262/juan-cort%c3%a9s"}, "is_accepted": false, "score": 0, "last_activity_date": 1478726161, "last_edit_date": 1478726161, "creation_date": 1478725903, "answer_id": 40516100, "question_id": 40516064, "link": "https://stackoverflow.com/questions/40516064/how-do-you-reassign-the-value-of-a-variable-from-within-a-defined-function/40516100#40516100", "title": "How do you reassign the value of a variable from within a defined function?", "body": "<p>Add <code>global spam</code> inside your <code>def</code> to target the variable defined outside of the method definition, or <strong>better yet</strong>, assign a new value from the result of the method:</p>\n\n<pre><code>spam = \"spam\"\ndef change(): return 'eggs'\nspam = change() #spam now contains 'eggs'\n</code></pre>\n\n<p>However if you pass lists or dictionaries, modifying the value inside the method does affect the outside value too but that's a different story. IF you want to try it, use <code>spam=[\"spam\"]</code> and inside the method do <code>spam[0] = 'eggs'</code>. There's no need for globals or assignments outside the method for this case.</p>\n"}, {"tags": [], "owner": {"reputation": 880, "user_id": 2899630, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/dc74a8620c94bda1cb18ab6e2331259e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex L", "link": "https://stackoverflow.com/users/2899630/alex-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1478725996, "creation_date": 1478725996, "answer_id": 40516121, "question_id": 40516064, "link": "https://stackoverflow.com/questions/40516064/how-do-you-reassign-the-value-of-a-variable-from-within-a-defined-function/40516121#40516121", "title": "How do you reassign the value of a variable from within a defined function?", "body": "<p>you can do the following:</p>\n\n<pre><code>spam='spam'\n\ndef change():\n    global spam\n    spam='eggs'\n\nchange()\n\nprint(spam)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6938374, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYoOd.gif?s=128&g=1", "display_name": "Cailean Allway", "link": "https://stackoverflow.com/users/6938374/cailean-allway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "closed_date": 1478725836, "answer_count": 2, "score": 0, "last_activity_date": 1478726161, "creation_date": 1478725754, "question_id": 40516064, "link": "https://stackoverflow.com/questions/40516064/how-do-you-reassign-the-value-of-a-variable-from-within-a-defined-function", "closed_reason": "Duplicate", "title": "How do you reassign the value of a variable from within a defined function?", "body": "<p>I am new to python. Here is a basic example of my issue.</p>\n\n<pre><code>spam='spam'\n\ndef change():\n    spam='eggs'\n\nchange()\n\nprint(spam)\n</code></pre>\n\n<p>This code will print 'spam' to the console. Is there a way to make this work without using return or arguments. Thank you.</p>\n"}, {"tags": ["python", "if-statement", "input", "set", "counter"], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478725866, "post_id": 40516088, "comment_id": 68273824, "body": "I came up with exact same line change :) just a tad too late"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1478726249, "post_id": 40516088, "comment_id": 68274001, "body": "@Jean-Fran&#231;oisFabre That happens :)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1478726402, "post_id": 40516088, "comment_id": 68274082, "body": "not complaining. Today was full of good questions &amp; upvoted answers :)"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 2, "last_activity_date": 1478725898, "last_edit_date": 1478725898, "creation_date": 1478725837, "answer_id": 40516088, "question_id": 40516043, "link": "https://stackoverflow.com/questions/40516043/python-3-5-finding-user-inputted-values-in-a-set-and-displaying-them/40516088#40516088", "title": "Python 3.5, Finding user inputted values in a set and displaying them", "body": "<p>The <code>if</code> block will only execute if <code>inp</code> is a substring of vowels. In order to check for shared characters, like vowels in this case, you can use <code>any</code>:</p>\n\n<pre><code>if any(i in vowels for i in inp):\n    ...\n</code></pre>\n\n<p>Or a set intersection:</p>\n\n<pre><code>if vowels.intersection(inp):\n    ...\n</code></pre>\n\n<p>You can also simply build build the <code>Counter</code> object first, and then test if it's empty to avoid iterating on the input twice:</p>\n\n<pre><code>res = Counter(c for c in inp if c in vowels)\nif res:\n     print(res.most_common(2)) # specify a parameter to avoid printing everything\nelse:\n     print(\"No vowels entered.\")\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5322168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e0562b50c48e72e853854075ed652e?s=128&d=identicon&r=PG&f=1", "display_name": "Nanandiir", "link": "https://stackoverflow.com/users/5322168/nanandiir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 40516088, "answer_count": 1, "score": 0, "last_activity_date": 1478725898, "creation_date": 1478725653, "question_id": 40516043, "link": "https://stackoverflow.com/questions/40516043/python-3-5-finding-user-inputted-values-in-a-set-and-displaying-them", "title": "Python 3.5, Finding user inputted values in a set and displaying them", "body": "<pre><code>from collections import Counter\n\ninp = input(\"Please enter some text: \")\nvowels = set(\"aeiouAEIOU\")\n\nif inp in vowels:\n    res = Counter(c for c in inp if c in vowels)\n    print (res.most_common())\n\nelif inp not in vowels:\n    print(\"No vowels entered.\")\n</code></pre>\n\n<p>Code is meant to output vowels if any are found in the users input or if there are none, print a message. Currently the code does not work if more than one vowel in inputted by the user as it print the line \"No vowels entered\". How can this fault be corrected.</p>\n"}, {"tags": ["python", "python-3.x", "pyinstaller"], "comments": [{"owner": {"reputation": 399, "user_id": 3837382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEbSo.jpg?s=128&g=1", "display_name": "Repiklis", "link": "https://stackoverflow.com/users/3837382/repiklis"}, "edited": false, "score": 0, "creation_date": 1478772318, "post_id": 40516042, "comment_id": 68289932, "body": "You could try adding the files in the <a href=\"https://pythonhosted.org/PyInstaller/spec-files.html#spec-file-operation\" rel=\"nofollow noreferrer\"><code>pure</code></a> dependencies by using <a href=\"https://pythonhosted.org/PyInstaller/advanced-topics.html#toc-class-table-of-contents\" rel=\"nofollow noreferrer\"><code>TOC</code></a>."}, {"owner": {"reputation": 12697, "user_id": 4994021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/159a6a0bd0b0b5ab92e0dc66d936cc7c?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Brittain", "link": "https://stackoverflow.com/users/4994021/peter-brittain"}, "edited": false, "score": 0, "creation_date": 1479035702, "post_id": 40516042, "comment_id": 68381919, "body": "Possibly hitting this (<a href=\"https://github.com/pyinstaller/pyinstaller/issues/2009\" rel=\"nofollow noreferrer\">github.com/pyinstaller/pyinstaller/issues/2009</a>) issue?"}, {"owner": {"reputation": 2609, "user_id": 5802606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c92729ab38527e926223267fac5ec6e?s=128&d=identicon&r=PG&f=1", "display_name": "void", "link": "https://stackoverflow.com/users/5802606/void"}, "edited": false, "score": 0, "creation_date": 1479311208, "post_id": 40516042, "comment_id": 68504942, "body": "Did you try using PyInstaller hooks (<a href=\"https://pyinstaller.readthedocs.io/en/stable/hooks.html\" rel=\"nofollow noreferrer\">pyinstaller.readthedocs.io/en/stable/hooks.html</a>)? They are designed exactly for that purpose."}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "reply_to_user": {"reputation": 2609, "user_id": 5802606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c92729ab38527e926223267fac5ec6e?s=128&d=identicon&r=PG&f=1", "display_name": "void", "link": "https://stackoverflow.com/users/5802606/void"}, "edited": false, "score": 0, "creation_date": 1479311563, "post_id": 40516042, "comment_id": 68505188, "body": "@void Not really, although I&#39;ve come up with a suboptimal solution where just copying the plugins in the final dist and marking them as hiddenimports will do, this solution forces you to expose python code to the final user though."}, {"owner": {"reputation": 358, "user_id": 7390688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/46PaJ.jpg?s=128&g=1", "display_name": "pullmyteeth", "link": "https://stackoverflow.com/users/7390688/pullmyteeth"}, "edited": false, "score": 0, "creation_date": 1607969144, "post_id": 40516042, "comment_id": 115433054, "body": "You don&#39;t say how you load these plugins in your Python code. That affects what you give to <code>hiddenimports</code>. Is it <code>from plugins import api</code> or <code>import framework.plugins.api</code> etc? Whatever you do it should be the module import names you use instead of filenames (i.e. no full paths, /s or <code>.py</code> suffixes)."}], "answers": [{"tags": [], "owner": {"reputation": 9701, "user_id": 5165332, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/93c5b8f16dce739cd7e4336034e1f76c?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Lisitsky", "link": "https://stackoverflow.com/users/5165332/eugene-lisitsky"}, "is_accepted": false, "score": 2, "last_activity_date": 1479212793, "last_edit_date": 1495539944, "creation_date": 1479212793, "answer_id": 40609836, "question_id": 40516042, "link": "https://stackoverflow.com/questions/40516042/how-to-add-dynamic-python-modules-to-pyinstallers-specs/40609836#40609836", "title": "How to add dynamic python modules to PyInstaller&#39;s specs?", "body": "<p>I've had the problem alike packing PyQt application with Py2Exe (I've also struggled with PyInstaller and cx_freeze, but only py2exe helped me).</p>\n\n<p>Here's the detailed <a href=\"https://stackoverflow.com/questions/35906523/python-create-an-exe-that-runs-code-as-written-not-as-it-was-when-compiled/36112722#36112722\">solution</a>. I've added them explicitly as:</p>\n\n<pre><code>data_files += [('source', glob('source/*.py'),)]\nsetup(\n      data_files=data_files,\n      ....  # other options\n      windows=[\n        {\n          \"script\": \"launcher.py\",\n          \"icon_resources\": [(0, \"resources/favicon.ico\")]\n        }\n     )\n</code></pre>\n\n<p>Then I import them and call.\nHope this approach will be useful.</p>\n"}], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2652, "favorite_count": 0, "answer_count": 1, "score": 19, "last_activity_date": 1481711348, "creation_date": 1478725652, "last_edit_date": 1479247990, "question_id": 40516042, "link": "https://stackoverflow.com/questions/40516042/how-to-add-dynamic-python-modules-to-pyinstallers-specs", "title": "How to add dynamic python modules to PyInstaller&#39;s specs?", "body": "<p>I'm trying to figure out how to load dynamic/hidden imports with PyInstaller, so far I got this simple structure:</p>\n\n<p>First of all, I got a framework package added into my PYTHONPATH living in <code>d:\\Sources\\personal\\python\\framework</code></p>\n\n<p>That package is used by many of my python projects, in particular, it's used with the below simple project I want to package</p>\n\n<pre><code>Main project\n\n\u251c\u2500\u2500\u2500data        &lt;- Pure static data\n\u251c\u2500\u2500\u2500plugins     &lt;- Dynamic modules which uses framework's modules                                      \n\u251c\u2500\u2500\u2500resources   &lt;- Static data+embedded (generated by pyqt), used by plugins\n\u2502   \u251c\u2500\u2500\u2500css                                              \n\u2502   \u251c\u2500\u2500\u2500images                    \n|   resources.py\n|   resources.qrc                       \nmain.py         &lt;- Uses framework's modules to load plugins dynamically\n</code></pre>\n\n<p>My spec file looks like this:</p>\n\n<pre><code># -*- mode: python -*-\n\nblock_cipher = None\n\n\na = Analysis(['main.py'],\n             pathex=['d:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\pyshaders'],\n             binaries=None,\n             datas=[],\n             hiddenimports=[],\n             hookspath=[],\n             runtime_hooks=[],\n             excludes=[],\n             win_no_prefer_redirects=False,\n             win_private_assemblies=False,\n             cipher=block_cipher)\n\n##### include mydir in distribution #######\ndef extra_datas(mydir):\n    def rec_glob(p, files):\n        import os\n        import glob\n        for d in glob.glob(p):\n            if os.path.isfile(d):\n                files.append(d)\n            rec_glob(\"%s/*\" % d, files)\n    files = []\n    rec_glob(\"%s/*\" % mydir, files)\n    extra_datas = []\n    for f in files:\n        extra_datas.append((f, f, 'DATA'))\n\n    return extra_datas\n###########################################\n\na.datas += extra_datas('data')\n\npyz = PYZ(a.pure, a.zipped_data,\n             cipher=block_cipher)\nexe = EXE(pyz,\n          a.scripts,\n          exclude_binaries=True,\n          name='main',\n          debug=False,\n          strip=False,\n          upx=True,\n          console=True )\ncoll = COLLECT(exe,\n               a.binaries,\n               a.zipfiles,\n               a.datas,\n               strip=False,\n               upx=True,\n               name='main')\n</code></pre>\n\n<p>The problem comes when I try to add hidden imports to the Analysis(... , hiddenimports=[], ...)'s hiddenimports list, I've tried so far this:</p>\n\n<ul>\n<li><code>hiddenimports=['d:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\plugins']</code></li>\n<li><code>hiddenimports=['d:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\plugins\\\\*']</code></li>\n<li><code>hiddenimports=['plugins']</code></li>\n</ul>\n\n<p>Also tried listing as individual files with absolute paths:</p>\n\n<pre><code>hiddenimports=[\n    'd:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\pyshaders\\\\plugins\\\\api.py',\n    'd:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\pyshaders\\\\plugins\\\\config.py',\n    'd:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\pyshaders\\\\plugins\\\\plugins_actions.py',\n    'd:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\pyshaders\\\\plugins\\\\plugins_dialogs.py',\n    'd:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\pyshaders\\\\plugins\\\\plugins_docks.py',\n    'd:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\pyshaders\\\\plugins\\\\plugins_post_init.py',\n    'd:\\\\sources\\\\personal\\\\python\\\\pyqt\\\\pyshaders\\\\plugins\\\\plugins_toolbar.py'\n]\n</code></pre>\n\n<p>And also tried to load them as module packages (<code>__init__.py</code> lives in plugins folder)</p>\n\n<pre><code>hiddenimports=[\n    'plugins.api',\n    'plugins.config',\n    'plugins.plugins_actions',\n    'plugins.plugins_dialogs',\n    'plugins.plugins_docks',\n    'plugins.plugins_post_init',\n    'plugins.plugins_toolbar'\n]\n</code></pre>\n\n<p>Also tried the collect_submodules</p>\n\n<pre><code>hiddenimports=collect_submodules('plugins')\n</code></pre>\n\n<p>None of these attempts worked and the folder plugin isn't being added properly to the dist (when i say 'properly' i guess pyinstaller will analize the imports used by these hidden plugins analizing recursively their dependencies and copying the *.pyc files)... So, I'd like to know how can i add properly \"hidden\" modules which are being loaded dynamically to the pyinstaller's spec. </p>\n"}, {"tags": ["python", "octal"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1478725810, "post_id": 40516034, "comment_id": 68273795, "body": "The 0 is because there&#39;s 0 times 8^2 = 64 in that number. Octal 132 would be 2 * 8^0 + 3 * 8^1 + 1 * 8^2."}], "answers": [{"tags": [], "owner": {"reputation": 42285, "user_id": 2057919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec600dcd84770c5d835cd4c943514088?s=128&d=identicon&r=PG&f=1", "display_name": "elixenide", "link": "https://stackoverflow.com/users/2057919/elixenide"}, "is_accepted": false, "score": 4, "last_activity_date": 1478726380, "last_edit_date": 1478726380, "creation_date": 1478726026, "answer_id": 40516128, "question_id": 40516034, "link": "https://stackoverflow.com/questions/40516034/python-symbol-u-and-o/40516128#40516128", "title": "python symbol %u and %o", "body": "<p>From <a href=\"https://docs.python.org/2/library/stdtypes.html#string-formatting\" rel=\"nofollow noreferrer\">the docs</a>, <code>%u</code> is an</p>\n\n<blockquote>\n  <p>Obsolete type \u2013 it is identical to <code>'d'</code>.</p>\n</blockquote>\n\n<p><code>%o</code> tells <code>print</code> to interpret <code>538</code> as base-10 and convert it to octal. 538 base 10 (538<sub>10</sub>) is 1032 in octal (1032<sub>8</sub>):</p>\n\n<pre><code>1 * 8^3 + 0 * 8^2 + 3 * 8^1 + 2 * 8^0\n= 512 + 0 + 24 + 2\n= 538\n</code></pre>\n\n<p>It shows <code>1032</code>, because those are the appropriate coefficients of 8<sup>n</sup>. The <code>0</code> corresponds to 8<sup>2</sup>. If you left it out, you'd have 132<sub>8</sub> = 1 * 64 + 3 * 8 + 2 = 90<sub>10</sub>, not 538<sub>10</sub></p>\n\n<p>So, nothing weird there.</p>\n"}], "owner": {"reputation": 3, "user_id": 7090501, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fL8lcvKF9bU/AAAAAAAAAAI/AAAAAAAAAFQ/7BB41ILtDvo/photo.jpg?sz=128", "display_name": "Marshall Krassenstein", "link": "https://stackoverflow.com/users/7090501/marshall-krassenstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1478726380, "creation_date": 1478725623, "last_edit_date": 1478726173, "question_id": 40516034, "link": "https://stackoverflow.com/questions/40516034/python-symbol-u-and-o", "title": "python symbol %u and %o", "body": "<p>I'm new to programming and trying to figure out what the % symbol does in print statements with different letters. I understand almost all of these accept for what the %u does. It seems like it just prints 538 as an integer. I saw that preceding the print statement with a 'u' prints in unicode but I don't know whether or not it applies with %u.</p>\n\n<pre><code>print \"In honor of the election I present %d\" % 538.0 # integer\nprint \"In honor of the election I present %o\" % 538.0 # octal\nprint \"In honor of the election I present %u\" % 538.0 # ?\nprint \"In honor of the election I present %x\" % 538.0 # lowercase hexadecimal\nprint \"In honor of the election I present %X\" % 538.0 # uppercase hexadecimal\nprint \"In honor of the election I present %e\" % 538.0 # exponential\nprint \"In honor of the election I present %i\" % 538.0 # integer\n</code></pre>\n\n<p>Output is below:</p>\n\n<pre><code>In honor of the election I present 538\nIn honor of the election I present 1032 *emphasized text*\nIn honor of the election I present 538 *emphasized text*\nIn honor of the election I present 21a\nIn honor of the election I present 21A\nIn honor of the election I present 5.380000e+02\nIn honor of the election I present 538\n</code></pre>\n\n<p>I'm also having a little trouble with <code>%o</code> for this number. I just learned what printing as an octal does and I figured it would output <code>132</code> (<code>538 --&gt; 8^3 = 512 *(1) + 26, 8^1 = 8*(3) + 2, 8^0 = 1*(2)</code>), but output is <code>1032</code>. Where does the 0 come from?</p>\n"}, {"tags": ["python", "subprocess", "deadlock", "popen"], "comments": [{"owner": {"reputation": 19943, "user_id": 114795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75cc8b57acc4841f83c3f5ccea0091f?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Korobov", "link": "https://stackoverflow.com/users/114795/mikhail-korobov"}, "edited": false, "score": 0, "creation_date": 1479159992, "post_id": 40515976, "comment_id": 68432199, "body": "a shameless plug: you may find <a href=\"https://github.com/TeamHG-Memex/sklearn-crfsuite\" rel=\"nofollow noreferrer\">github.com/TeamHG-Memex/sklearn-crfsuite</a> useful; it should be easier than wrapping crfsuite command-line."}], "answers": [{"comments": [{"owner": {"reputation": 1657, "user_id": 3974476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/88f06daddc0d94f9e85e71b20c294cf3?s=128&d=identicon&r=PG&f=1", "display_name": "AMisra", "link": "https://stackoverflow.com/users/3974476/amisra"}, "edited": false, "score": 0, "creation_date": 1478747313, "post_id": 40516592, "comment_id": 68280215, "body": "sorry, for that. I have formatted it properly now. I know the problem is due a deadlock but I cannot use communicate since func2 is called multiple times."}], "tags": [], "owner": {"reputation": 441, "user_id": 3718294, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/40bec26b5a8c26fb7d14b76272977459?s=128&d=identicon&r=PG&f=1", "display_name": "postoronnim", "link": "https://stackoverflow.com/users/3718294/postoronnim"}, "is_accepted": false, "score": 0, "last_activity_date": 1478728164, "creation_date": 1478728164, "answer_id": 40516592, "question_id": 40515976, "link": "https://stackoverflow.com/questions/40515976/popen-with-python-read-and-write-blocks-python2-7/40516592#40516592", "title": "popen with python read and write blocks, python2.7", "body": "<p>Indentation? Looks like func1 exits with a return statement before func2 ever gets to do anything. Move everything starting from func2 one tab to the left and see what happens.Or, maybe the problem is elsewhere - you just did not paste your code correctly.</p>\n"}, {"comments": [{"owner": {"reputation": 1657, "user_id": 3974476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/88f06daddc0d94f9e85e71b20c294cf3?s=128&d=identicon&r=PG&f=1", "display_name": "AMisra", "link": "https://stackoverflow.com/users/3974476/amisra"}, "edited": false, "score": 1, "creation_date": 1478803607, "post_id": 40533822, "comment_id": 68309420, "body": "Yes, I read and using communicate works for the first time, but func2 is called more than once and if I use communicate, it fails the second time with an error ValueError: I/O operation on closed file.  I am reading about select that can be used but I am not sure how can I use it without messing up things."}], "tags": [], "owner": {"reputation": 441, "user_id": 3718294, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/40bec26b5a8c26fb7d14b76272977459?s=128&d=identicon&r=PG&f=1", "display_name": "postoronnim", "link": "https://stackoverflow.com/users/3718294/postoronnim"}, "is_accepted": false, "score": 0, "last_activity_date": 1478799538, "creation_date": 1478799538, "answer_id": 40533822, "question_id": 40515976, "link": "https://stackoverflow.com/questions/40515976/popen-with-python-read-and-write-blocks-python2-7/40533822#40533822", "title": "popen with python read and write blocks, python2.7", "body": "<p>Is this your answer (from <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/subprocess.html</a>)? \nNote Do not use stdout=PIPE or stderr=PIPE with this function as that can deadlock based on the child process output volume. Use Popen with the communicate() method when you need pipes.</p>\n"}, {"comments": [{"owner": {"reputation": 1657, "user_id": 3974476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/88f06daddc0d94f9e85e71b20c294cf3?s=128&d=identicon&r=PG&f=1", "display_name": "AMisra", "link": "https://stackoverflow.com/users/3974476/amisra"}, "edited": false, "score": 0, "creation_date": 1478830952, "post_id": 40535736, "comment_id": 68319652, "body": "I was reluctant to modify it too much as it&#39;s a big code base and I am not sure what effects it would have. Could you explain it a bit more or point to some example when you say about the vectors? I debugged the code and this is how it works. func1 executes a command with a list of sentences. Then func2 is called iteratively for every sentence input as vector to read the results. Hence it works for first sentence if I use communicate and then fails with an error."}, {"owner": {"reputation": 441, "user_id": 3718294, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/40bec26b5a8c26fb7d14b76272977459?s=128&d=identicon&r=PG&f=1", "display_name": "postoronnim", "link": "https://stackoverflow.com/users/3718294/postoronnim"}, "reply_to_user": {"reputation": 1657, "user_id": 3974476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/88f06daddc0d94f9e85e71b20c294cf3?s=128&d=identicon&r=PG&f=1", "display_name": "AMisra", "link": "https://stackoverflow.com/users/3974476/amisra"}, "edited": false, "score": 0, "creation_date": 1478878273, "post_id": 40535736, "comment_id": 68340708, "body": "How is &quot;cmd&quot; used in func1?"}, {"owner": {"reputation": 441, "user_id": 3718294, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/40bec26b5a8c26fb7d14b76272977459?s=128&d=identicon&r=PG&f=1", "display_name": "postoronnim", "link": "https://stackoverflow.com/users/3718294/postoronnim"}, "reply_to_user": {"reputation": 1657, "user_id": 3974476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/88f06daddc0d94f9e85e71b20c294cf3?s=128&d=identicon&r=PG&f=1", "display_name": "AMisra", "link": "https://stackoverflow.com/users/3974476/amisra"}, "edited": false, "score": 0, "creation_date": 1478897140, "post_id": 40535736, "comment_id": 68349973, "body": "OK, it&#39;s getting a little too deep. I will just give you give my last 2 cents here. You are saying the problem arises when you call func2 more than once and get an error. I would just add a check if a file is used by  another process (that&#39;s how I interpret &quot;closed&quot; in the error message - maybe due to GIL) and if it is, try to create a deep copy and discard it later. Sorry, I don&#39;t think I can offer more - good luck."}, {"owner": {"reputation": 1657, "user_id": 3974476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/88f06daddc0d94f9e85e71b20c294cf3?s=128&d=identicon&r=PG&f=1", "display_name": "AMisra", "link": "https://stackoverflow.com/users/3974476/amisra"}, "edited": false, "score": 0, "creation_date": 1478901531, "post_id": 40535736, "comment_id": 68351698, "body": "Thanks, I&#39;ll try it"}], "tags": [], "owner": {"reputation": 441, "user_id": 3718294, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/40bec26b5a8c26fb7d14b76272977459?s=128&d=identicon&r=PG&f=1", "display_name": "postoronnim", "link": "https://stackoverflow.com/users/3718294/postoronnim"}, "is_accepted": false, "score": 0, "last_activity_date": 1478806908, "creation_date": 1478806908, "answer_id": 40535736, "question_id": 40515976, "link": "https://stackoverflow.com/questions/40515976/popen-with-python-read-and-write-blocks-python2-7/40535736#40535736", "title": "popen with python read and write blocks, python2.7", "body": "<p>You said you cannot change the code much, but maybe you can change it a little:) Try writing a block that finds out which \"vector\" is being used and use a different one.</p>\n"}], "owner": {"reputation": 1657, "user_id": 3974476, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/88f06daddc0d94f9e85e71b20c294cf3?s=128&d=identicon&r=PG&f=1", "display_name": "AMisra", "link": "https://stackoverflow.com/users/3974476/amisra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1478893746, "creation_date": 1478725384, "last_edit_date": 1478893746, "question_id": 40515976, "link": "https://stackoverflow.com/questions/40515976/popen-with-python-read-and-write-blocks-python2-7", "title": "popen with python read and write blocks, python2.7", "body": "<p>I know this has been asked many times but my problem is different as I am using a third party code and cannot modify it too much.\nI have a function that is called many times in the code to create a subprocess, write data to stdin and then read. It just hangs at this line</p>\n\n<pre><code>line = self.classifier.stderr.readline()\n</code></pre>\n\n<p>using popen.communicate did solve this problem but since func2(classifier, vectors) needs to be called multiple times, it throws an exception</p>\n\n<pre><code>  subprocess I/O operation on closed file  \n</code></pre>\n\n<p>Is there a way to perform a non blocking read operation?</p>\n\n<pre><code>def func1 (extcmd):\n                cmd=extcmd\n                classifier = subprocess.Popen(self.classifier_cmd, shell = True, stdin = subprocess.PIPE, stderr = subprocess.PIPE) \n                if self.classifier.poll():\n                    raise OSError('Could not create classifier subprocess')\n                return classifier\n\ndef func2(classifier, vectors):\n                        classifier.stdin.write('\\n'.join(vectors) + \"\\n\\n\")\n                        lines = []\n                        line = self.classifier.stderr.readline()\n                        print(\"not reaching\")\n                        while (line.strip() != ''):\n                #            print line\n                            lines.append(line)\n                            line = self.classifier.stderr.readline()\n\n if __name__ == '__main__':\n                extcmd=\"some external shell script\"\n                vectors=\"some results\"\n                classifier=func1(extcmd)\n                func2(classifier, vectors)\n</code></pre>\n\n<p>Modifying the code to add more details</p>\n\n<pre><code>import subprocess\nimport paths\nimport os.path\n\nclass CRFClassifier:\n    def __init__(self, name, model_type, model_path, model_file, verbose):\n        self.verbose = verbose\n        self.name = name\n        self.type = model_type\n        self.model_fname = model_file\n        self.model_path = model_path\n\n        if not os.path.exists(os.path.join(self.model_path, self.model_fname)):\n            print 'The model path %s for CRF classifier %s does not exist.' % (os.path.join(self.model_path, self.model_fname), name)\n            raise OSError('Could not create classifier subprocess')\n\n\n        self.classifier_cmd = '%s/crfsuite-stdin tag -pi -m %s -' % (paths.CRFSUITE_PATH, \n                             os.path.join(self.model_path, self.model_fname))\n#        print self.classifier_cmd\n        self.classifier = subprocess.Popen(self.classifier_cmd, shell = True, stdin = subprocess.PIPE, stderr = subprocess.PIPE)\n\n        if self.classifier.poll():\n            raise OSError('Could not create classifier subprocess, with error info:\\n%s' % self.classifier.stderr.readline())\n\n        #self.cnt = 0\n\n\n    def classify(self, vectors):\n#        print '\\n'.join(vectors) + \"\\n\\n\"\n\n        self.classifier.stdin.write('\\n'.join(vectors) + \"\\n\\n\")\n\n        lines = []\n        line = self.classifier.stderr.readline()\n        while (line.strip() != ''):\n#            print line\n            lines.append(line)\n            line = self.classifier.stderr.readline()\n\n\n        if self.classifier.poll():\n            raise OSError('crf_classifier subprocess died')\n\n        predictions = []\n        for line in lines[1 : ]:\n            line = line.strip()\n#            print line\n            if line != '':\n                fields = line.split(':')\n#                print fields\n                label = fields[0]\n                prob = float(fields[1])\n                predictions.append((label, prob))\n\n        seq_prob = float(lines[0].split('\\t')[1])\n\n        return seq_prob, predictions\n\n\n    def poll(self):\n        \"\"\"\n        Checks that the classifier processes are still alive\n        \"\"\"\n        if self.classifier is None:\n            return True\n        else:\n            return self.classifier.poll() != None\n</code></pre>\n\n<p>A classifier object is created for an input file, which is a document with a list of sentences and at the time of creation it also executes the external command with this list of sentences. Then in a separate function  every sentence is processed giving a separate vector for each sentence. This new vector is passed to the classify function.</p>\n\n<pre><code>def func2():\n    classifier=create a classifier object for an input file, this executes the external command\n    for sentence in sentences:\n        vectors=process(sentence)# some external function\n        classifier.classify(features)                    \n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1478726217, "post_id": 40515970, "comment_id": 68273980, "body": "from the numpy.append docs: &#39;axis : int, optional      The axis along which values are appended. If axis is not given, both arr and values are flattened before use&#39;"}, {"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1478726265, "post_id": 40515970, "comment_id": 68274011, "body": "and did you check the shape of dt.predict(X_test)?"}, {"owner": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "edited": false, "score": 0, "creation_date": 1478726300, "post_id": 40515970, "comment_id": 68274027, "body": "It would be best to avoid using append. Instead just add each array to a python list and then use np.vstack or np.hstack to flatten them into a single array at the end."}, {"owner": {"reputation": 3, "user_id": 7021791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1963aacc16fb62508141c4775350c2?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/7021791/newbie"}, "reply_to_user": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1478726550, "post_id": 40515970, "comment_id": 68274142, "body": "@MaartenFabr&#233; it is (9649, ) I tried to change the axis to 1 but I get this error: <code>ValueError: all the input arrays must have same number of dimensions</code>"}, {"owner": {"reputation": 3, "user_id": 7021791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1963aacc16fb62508141c4775350c2?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/7021791/newbie"}, "reply_to_user": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "edited": false, "score": 0, "creation_date": 1478726647, "post_id": 40515970, "comment_id": 68274187, "body": "@Erotemic, I&#39;m not sure if i&#39;m completely understanding your suggestion but I would like to keep Preds 2 dimensional. At the end of this, I would like to look at the prediction in each column and see what prediction occurs the most often. That will be easier to do if the array is 2D"}, {"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "reply_to_user": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "edited": false, "score": 0, "creation_date": 1478726774, "post_id": 40515970, "comment_id": 68274255, "body": "what does axis=0 do? but I think @Erotemic&#39;s solution will be easier and easier to debug"}, {"owner": {"reputation": 3, "user_id": 7021791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1963aacc16fb62508141c4775350c2?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/7021791/newbie"}, "reply_to_user": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "edited": false, "score": 0, "creation_date": 1478727268, "post_id": 40515970, "comment_id": 68274487, "body": "@Erotemic you were correct, vstack does work. I will add the correct solution"}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1478727390, "creation_date": 1478727390, "answer_id": 40516433, "question_id": 40515970, "link": "https://stackoverflow.com/questions/40515970/issues-appending-numpy-arrays-during-for-loop/40516433#40516433", "title": "Issues appending numpy arrays during for loop", "body": "<p>If <code>Preds</code> is (9649,10), then you can do one of 2 kinds of concatenation</p>\n\n<pre><code> newPreds = np.concatenate((Preds, np.zeros((N,10))), axis=0)\n newPreds = np.concatenate((Preds, np.zeros((9649,N)), axis=1)\n</code></pre>\n\n<p>The first produces a (9649+N, 10) array, the second (9646,10+N).</p>\n\n<p><code>np.vstack</code> can be use to make the 2nd array is 2d, i.e. it changes <code>(10,)</code> to <code>(1,10)</code> array. <code>np.append</code> takes 2 arguments instead of a list, and makes sure the second is an array.  It is better for adding a scalar to a 1d array, than for general purpose concatenation.</p>\n\n<p>Make sure you understand the shapes and number of dimensions of your arrays.</p>\n\n<p>A good alternative is to append to a list</p>\n\n<pre><code>alist = []\nalist.append(initial_array)\nfor ...\n    alist.append(next_array)\nresult = np.concatenate(alist, axis=?)\n# vstack, stack, and np.array can be used if dimensions are right\n</code></pre>\n\n<p>Appending to list, followed by one join at the end is faster than repeated concatenates.  Lists are designed to grow cheaply; arrays grow by making a new larger array.</p>\n"}], "owner": {"reputation": 3, "user_id": 7021791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1963aacc16fb62508141c4775350c2?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/7021791/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478728772, "creation_date": 1478725360, "last_edit_date": 1478727321, "question_id": 40515970, "link": "https://stackoverflow.com/questions/40515970/issues-appending-numpy-arrays-during-for-loop", "title": "Issues appending numpy arrays during for loop", "body": "<p>I'm a bit lost at the moment. I correctly initialized an empty numpy array and I believe i'm using the <code>np.append</code> function correctly</p>\n\n<pre><code>Preds = np.empty(shape = (X_test.shape[0],10))\n\nkf = KFold(n = X_train.shape[0], n_folds=10, shuffle = True)\n\nfor kf_train, kf_test in kf:\n\n    X_train_kf = X_train.iloc[kf_train]\n    Y_train_kf = Y_train.iloc[kf_train]\n\n    dt = tree.DecisionTreeClassifier(max_depth=2)\n    dt.fit(X_train_kf, Y_train_kf)\n    Preds = np.append(Preds,dt.predict(X_test))\n\n    print Preds\n</code></pre>\n\n<p>Just some additional info:</p>\n\n<ul>\n<li><p>X_test has a shape of (9649, 24)</p></li>\n<li><p>(After running) Preds has a shape of (192980,)</p></li>\n</ul>\n\n<p>At the of this loop, Preds should have a shape of (9649,10)</p>\n\n<p>Any advice would be much appreciated. </p>\n\n<p>EDIT: Here is the updated solution</p>\n\n<pre><code>Preds = []\nkf = KFold(n = X_train.shape[0], n_folds=20, shuffle = True)\n\nfor kf_train, kf_test in kf:\n\n    X_train_kf = X_train.iloc[kf_train]\n    Y_train_kf = Y_train.iloc[kf_train]\n\n    dt = tree.DecisionTreeClassifier(max_depth=2)\n    dt.fit(X_train_kf, Y_train_kf)\n    Preds.append(dt.predict(X_test))\n\nPreds = np.vstack(Preds)\n</code></pre>\n"}, {"tags": ["python", "luigi"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478727583, "post_id": 40515943, "comment_id": 68274637, "body": "if you have some &quot;class elements&quot; in class, not in its methods, then it will be executed at start when file is loaded. So show your class."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1478728096, "post_id": 40515943, "comment_id": 68274846, "body": "It sounds like Luigi is redirecting Python&#39;s input to the pipe, so it&#39;s not connected to the terminal."}], "answers": [{"tags": [], "owner": {"reputation": 5400, "user_id": 3219121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3b3decf3a49e94f49172034f5df598?s=128&d=identicon&r=PG", "display_name": "matagus", "link": "https://stackoverflow.com/users/3219121/matagus"}, "is_accepted": false, "score": 1, "last_activity_date": 1478788330, "last_edit_date": 1495541637, "creation_date": 1478788330, "answer_id": 40530084, "question_id": 40515943, "link": "https://stackoverflow.com/questions/40515943/execution-flow-in-python/40530084#40530084", "title": "Execution flow in Python", "body": "<p>I think it's better to have separate files for your script and your tasks and trigger the main task this way. The idea is to read user input and if it's not empty then you run the desired task.</p>\n\n<pre><code>import luigi\nfrom my_tasks import MyTask\n\nif __name__ == \"__main__\":\n    test = input(\"Enter data: \")\n    if test:\n        luigi.build([MyTask1(123, \"foobar\")], local_scheduler=False)\n</code></pre>\n\n<p>There's at least another way to instantiate and run a Luigi Task programmatically that you can see in <a href=\"https://stackoverflow.com/a/37118730/3219121\">this answer</a>.</p>\n"}], "owner": {"reputation": 255, "user_id": 7106806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2f540886182eafc7cf26777908986b9e?s=128&d=identicon&r=PG&f=1", "display_name": "djskj189", "link": "https://stackoverflow.com/users/7106806/djskj189"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1478788330, "creation_date": 1478725231, "last_edit_date": 1592644375, "question_id": 40515943, "link": "https://stackoverflow.com/questions/40515943/execution-flow-in-python", "title": "Execution flow in Python", "body": "<p>I am using Python3.4 Luigi pipeline that interacts with Linux terminal, and I need to take user input. I have the code that looks something like below:</p>\n<pre><code>test = input(&quot;Enter data: &quot;)\nlogger.info(test)\n\nClass One{...}\nClass Two{...}\nClass Three{...}\n</code></pre>\n<p>I would expect the terminal to not print anything after <code>&quot;Enter data: &quot;</code> , but it keeps updating the terminal with debug info (i.e. Asking scheduler for work, pending Class One to finish), so the users cannot enter inputs. Is there any way to prevent the terminal from printing until it takes the user input?</p>\n<p>Thanks</p>\n<h1>UPDATE</h1>\n<p>It seems that class One is executed even though user does not enter input. I am not sure why this is happening,.,,</p>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "edited": false, "score": 1, "creation_date": 1478725221, "post_id": 40515874, "comment_id": 68273507, "body": "I was able to reproduce this, after changing it to <code>= object()</code>"}, {"owner": {"reputation": 611, "user_id": 5802407, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2647e5eb760a0555265b13b6dc540de?s=128&d=identicon&r=PG&f=1", "display_name": "EngineerCamp", "link": "https://stackoverflow.com/users/5802407/engineercamp"}, "reply_to_user": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "edited": false, "score": 0, "creation_date": 1478725271, "post_id": 40515874, "comment_id": 68273534, "body": "@TankorSmash thanks, I&#39;ve updated the question."}], "owner": {"reputation": 611, "user_id": 5802407, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2647e5eb760a0555265b13b6dc540de?s=128&d=identicon&r=PG&f=1", "display_name": "EngineerCamp", "link": "https://stackoverflow.com/users/5802407/engineercamp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1478725305, "answer_count": 0, "score": 0, "last_activity_date": 1478725249, "creation_date": 1478724961, "last_edit_date": 1478725249, "question_id": 40515874, "link": "https://stackoverflow.com/questions/40515874/flask-app-running-main-twice", "closed_reason": "Duplicate", "title": "Flask app running __main__ twice", "body": "<p>I am writing a Flask server and am having trouble understanding how to start the app without running <code>__main__</code> twice.</p>\n\n<p>In a terminal, if I type <code>python example.py</code> it prints <code>Starting the app.</code> twice.</p>\n\n<p>The contents of <code>example.py</code> are: </p>\n\n<pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    return some_object.get_something()\n\nif __name__ == \"__main__\":\n    print(\"Starting the app.\")\n    some_object = object()\n    app.run(host=\"0.0.0.0\", debug=True)\n</code></pre>\n\n<p>What am I missing here? Thanks in advance.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478724994, "post_id": 40515810, "comment_id": 68273378, "body": "first read text from files to memory. Now you open files but later you do nothing with this files. And later you will do calculations."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 1, "creation_date": 1478725054, "post_id": 40515810, "comment_id": 68273411, "body": "No one wants to do your homework for you, for many reasons. Ask a specific question to solve one part of your problem. Right now you&#39;re not even close. What happens after <code>with open(tweets, &#39;r&#39;) as tweets:</code>?"}, {"owner": {"reputation": 49, "user_id": 7133916, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3mIUq.jpg?s=128&g=1", "display_name": "HelloWorld4382", "link": "https://stackoverflow.com/users/7133916/helloworld4382"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1478725167, "post_id": 40515810, "comment_id": 68273475, "body": "@AlexHall If you&#39;re not going to make any suggestions or provide help, Id appreciate if you didn&#39;t comment. Thanks!"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 1, "creation_date": 1478725365, "post_id": 40515810, "comment_id": 68273582, "body": "Haha you&#39;re not helping your case here at all. I am giving you a suggestion. Narrow down your question to one specific problems. If you are having issues reading files, ask a question about that. If you feel confident about files, take files out of your question and replace them with a static list of strings."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 7133916, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3mIUq.jpg?s=128&g=1", "display_name": "HelloWorld4382", "link": "https://stackoverflow.com/users/7133916/helloworld4382"}, "edited": false, "score": 0, "creation_date": 1478813318, "post_id": 40522780, "comment_id": 68314121, "body": "Thanks!! It should prompt the user for the file names thats why I ask them. Ill take your stuff into consideration!"}], "tags": [], "owner": {"reputation": 820, "user_id": 3025412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee6a9c95302726ef7cc23decc1207c99?s=128&d=identicon&r=PG&f=1", "display_name": "themistoklik", "link": "https://stackoverflow.com/users/3025412/themistoklik"}, "is_accepted": true, "score": 1, "last_activity_date": 1478765750, "last_edit_date": 1495539952, "creation_date": 1478765750, "answer_id": 40522780, "question_id": 40515810, "link": "https://stackoverflow.com/questions/40515810/how-to-read-file-and-calculate-a-specific-value/40522780#40522780", "title": "How to read file and calculate a specific value", "body": "<p>I'm sensing that this is homework so the best I can do is give you an outline for the solution.</p>\n\n<p>If you can afford to load files in memory:</p>\n\n<ul>\n<li>Load keywords.txt, <a href=\"https://stackoverflow.com/questions/3277503/how-to-read-a-file-line-by-line-into-a-list-with-python\">read its lines</a>, split them into tokens and construct a <a href=\"https://docs.python.org/3.5/library/stdtypes.html#frozenset\" rel=\"nofollow noreferrer\">set</a> from them . Now you have a data structure capable of fast membership queries (ie you can ask <code>if token in set</code> and get an answer in constant time.</li>\n<li>Load the tweets file as you did with keywords, and read its contents line by line (or however they are formatted). You might need to do some preprocessing (stripping whitespace, replacing unnecessary characters, delete invalid words, commas etc). For every line, split it so you get the words for each tweet and ask if any of the splitted words are in keywords set.</li>\n</ul>\n\n<p>Pseudocode would look like this:</p>\n\n<pre><code>file=open(keywords)\nkeywords_set=set()\nfor token in file.readlines():\n    for word in token.split():\n        keywords_set.add(word)\n\nfile=open(tweets)\nfor token in file.readlines():\n   preprocess(token) #function with your custom logic\n   for item in token.split():\n       if item in keywords:\n           do_stuff() #function with your custom logic\n</code></pre>\n\n<p>If you want frequency of keywords, build a dictionary with {key:key_frequency}. Or check out <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\">Counter</a> and think about how you could solve your problem with this.</p>\n\n<p>If you cannot load the tweets file into memory consider a <a href=\"https://stackoverflow.com/questions/519633/lazy-method-for-reading-big-file-in-python\">lazy solution</a> for reading the big file using generators</p>\n"}], "owner": {"reputation": 49, "user_id": 7133916, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3mIUq.jpg?s=128&g=1", "display_name": "HelloWorld4382", "link": "https://stackoverflow.com/users/7133916/helloworld4382"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 1, "accepted_answer_id": 40522780, "answer_count": 1, "score": 0, "last_activity_date": 1478765750, "creation_date": 1478724685, "last_edit_date": 1478725278, "question_id": 40515810, "link": "https://stackoverflow.com/questions/40515810/how-to-read-file-and-calculate-a-specific-value", "title": "How to read file and calculate a specific value", "body": "<p>How can I find out how many keywords from a file are also in another file? I have a file containing a list of words, and I'm trying to figure out if those words are in another file.</p>\n\n<p>I have a file (keywords.txt) containing key words, and I'm trying to find out if another file contains (tweets.txt) which contains sentences, contains any of the keywords </p>\n\n<pre><code>def main() :\n   done = False\n   while not done:\n        try:\n            keywords = input(\"Enter the filename titled keywords: \")\n            with open(keywords, \"r\") as words:\n                done = True\n        except IOError:\n            print(\"Error: file not found.\")\n\ntotal = 0\ntry:\n    tweets = input(\"Enter the file Name titled tweets: \")\n    with open(tweets, 'r') as tweets:\nexcept IOError:\n    print(\"Error: file not found.\")\n\ndef sentiment_of_msg(msg_words_counter):\n        summary = 0\n        for line in tweets:\n                if happy_dict in line:\n                    summary += 10 * **The number of keywords in the sentence of the file**\n                elif veryUnhappy_dict in line:\n                    summary += 1 * quantity \n                elif neutral_dict in line:\n                    summary += 5 * quantity\n            return summary\n</code></pre>\n"}, {"tags": ["python", "dictionary", "conditional", "list-comprehension", "keyvaluepair"], "comments": [{"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 3, "creation_date": 1478724796, "post_id": 40515806, "comment_id": 68273266, "body": "you don&#39;t have <code>x</code> defined anywhere in your code"}, {"owner": {"reputation": 1062, "user_id": 3722896, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1844152530/picture?type=large", "display_name": "woockashek", "link": "https://stackoverflow.com/users/3722896/woockashek"}, "edited": false, "score": 0, "creation_date": 1478724834, "post_id": 40515806, "comment_id": 68273290, "body": "it should be rather <code>print [(item, x[item]) for item in x if x[item] &gt; 2]</code>. In<code>()</code> brackets you are creating a generator instead of list comprehension"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1478725081, "post_id": 40515806, "comment_id": 68273426, "body": "If you won&#39;t mention what output you are getting, and what you desire, you won&#39;t be getting the correct answer here. As we can not read your mind. Also, mention the content of <code>x</code>"}, {"owner": {"reputation": 3, "user_id": 6780079, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kM7uL5_i7so/AAAAAAAAAAI/AAAAAAAAACM/jZe5eEou_RU/photo.jpg?sz=128", "display_name": "Abhishek Desai", "link": "https://stackoverflow.com/users/6780079/abhishek-desai"}, "edited": false, "score": 0, "creation_date": 1478725297, "post_id": 40515806, "comment_id": 68273553, "body": "that did the trick, thank you!!"}, {"owner": {"reputation": 1371, "user_id": 5798435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46e85c028ee4f738679c57821206d870?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Ingham", "link": "https://stackoverflow.com/users/5798435/mukesh-ingham"}, "edited": false, "score": 0, "creation_date": 1478785301, "post_id": 40515806, "comment_id": 68298137, "body": "@AbhishekDesai there are 2 answers at the bottom with the same solution, make sure to mark one as the answer!!"}], "answers": [{"tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": true, "score": 2, "last_activity_date": 1478724785, "creation_date": 1478724785, "answer_id": 40515830, "question_id": 40515806, "link": "https://stackoverflow.com/questions/40515806/why-arent-key-value-pairs-produced-when-a-list-comprehension-is-used/40515830#40515830", "title": "Why aren&#39;t key value pairs produced when a list comprehension is used?", "body": "<p>The round brackets indicate a generator comprehension which is different. Use square brackets:</p>\n\n<pre><code>print  [(item, x[item]) for item in x if x[item] &gt; 2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1371, "user_id": 5798435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46e85c028ee4f738679c57821206d870?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Ingham", "link": "https://stackoverflow.com/users/5798435/mukesh-ingham"}, "is_accepted": false, "score": 1, "last_activity_date": 1478724950, "creation_date": 1478724950, "answer_id": 40515872, "question_id": 40515806, "link": "https://stackoverflow.com/questions/40515806/why-arent-key-value-pairs-produced-when-a-list-comprehension-is-used/40515872#40515872", "title": "Why aren&#39;t key value pairs produced when a list comprehension is used?", "body": "<p><code>print [(item, x[item]) for item in x if x[item] &gt; 2]</code></p>\n\n<p>Would work because () are used in something else, also x should be defined to something.</p>\n"}], "owner": {"reputation": 3, "user_id": 6780079, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kM7uL5_i7so/AAAAAAAAAAI/AAAAAAAAACM/jZe5eEou_RU/photo.jpg?sz=128", "display_name": "Abhishek Desai", "link": "https://stackoverflow.com/users/6780079/abhishek-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "accepted_answer_id": 40515830, "answer_count": 2, "score": -1, "last_activity_date": 1478730241, "creation_date": 1478724661, "last_edit_date": 1478730241, "question_id": 40515806, "link": "https://stackoverflow.com/questions/40515806/why-arent-key-value-pairs-produced-when-a-list-comprehension-is-used", "title": "Why aren&#39;t key value pairs produced when a list comprehension is used?", "body": "<p>I have a dictionary and i'm trying to use a conditional on the key value pairs using list comprehension to filter the dict.  The code doesn't throw an error, but the output is in the wrong format.\nThe for loop works, but the list comprehension doesn't.  Why?  I would prefer to use list comprehension.</p>\n\n<pre><code>news1 = {'check':1,'this':2, 'thing':3, 'out':4, 'dude':5 }\nnews2 = {'just':1,'for':2, 'antother':3, 'chance':4, 'now':5 }\n\nfor item in x:\n    if x[item] &gt; 2:\n        print item\n\ndef list1(x):\n    print  ((item, x[item]) for item in x if x[item] &gt; 2)\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms"], "owner": {"reputation": 1311, "user_id": 3378021, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ec3de97d52c21d78a129718943fca613?s=128&d=identicon&r=PG&f=1", "display_name": "Matt O", "link": "https://stackoverflow.com/users/3378021/matt-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1478724529, "creation_date": 1478724529, "last_edit_date": 1495541221, "question_id": 40515781, "link": "https://stackoverflow.com/questions/40515781/django-form-with-dynamic-user-selected-field-quantity", "title": "Django form with dynamic (user-selected) field quantity", "body": "<p>My goal is to have a form containing an arbitrary number of records, each containing 3 values. The user should be able to add as many of these records as they need within a single form. For example, see the wireframe in <a href=\"https://stackoverflow.com/questions/2145012/adding-rows-dynamically-with-jquery\">this question.</a></p>\n\n<p>I'd need it to be backed by something that I can parse back into the DOM if the user wants to edit the data, so a Postgres JSONField may be a good fit.</p>\n\n<p>I know how this could be achieved from scratch, but does Django support this out-of-the-box? Or is there any existing library which would solve this faster? </p>\n"}, {"tags": ["python", "user-interface"], "comments": [{"owner": {"reputation": 1371, "user_id": 5798435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46e85c028ee4f738679c57821206d870?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Ingham", "link": "https://stackoverflow.com/users/5798435/mukesh-ingham"}, "edited": false, "score": 0, "creation_date": 1478724609, "post_id": 40515750, "comment_id": 68273179, "body": "Take a look at Pygame. You need something to actually draw with in python before you can start making anything."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478724633, "post_id": 40515750, "comment_id": 68273193, "body": "you can draw on <code>Canvas</code> in <code>Tkinter</code>, or <code>Surface</code> in <code>Pygame</code>. Every GUI framework (<code>Tkinter</code>, <code>PyQt</code>, <code>wxPython</code>) has some function to draw."}], "answers": [{"tags": [], "owner": {"reputation": 342, "user_id": 365002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f12d2f7c3c69bd84d4aea7d1e99d7c?s=128&d=identicon&r=PG", "display_name": "gbromios", "link": "https://stackoverflow.com/users/365002/gbromios"}, "is_accepted": false, "score": 0, "last_activity_date": 1478724617, "creation_date": 1478724617, "answer_id": 40515799, "question_id": 40515750, "link": "https://stackoverflow.com/questions/40515750/python-how-to-plot-dots-for-a-sort-of-connect-the-dots-game/40515799#40515799", "title": "Python: How to plot dots for a sort of connect-the-dots game?", "body": "<p>Have you considered pygame? <a href=\"http://pygame.org\" rel=\"nofollow noreferrer\">http://pygame.org</a></p>\n\n<p>I've found it helpful for drawing very simple graphics before. Plus, I guess what you're describing is in fact a game. </p>\n"}, {"tags": [], "owner": {"reputation": 581, "user_id": 1038501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m8gAc.jpg?s=128&g=1", "display_name": "snow6oy", "link": "https://stackoverflow.com/users/1038501/snow6oy"}, "is_accepted": false, "score": 0, "last_activity_date": 1478727283, "creation_date": 1478727283, "answer_id": 40516406, "question_id": 40515750, "link": "https://stackoverflow.com/questions/40515750/python-how-to-plot-dots-for-a-sort-of-connect-the-dots-game/40516406#40516406", "title": "Python: How to plot dots for a sort of connect-the-dots game?", "body": "<p>I have some good experience with Python and SVG. Something like plot.ly might work for you <a href=\"https://plot.ly/python/\" rel=\"nofollow noreferrer\">https://plot.ly/python/</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6944111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 851, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1478727283, "creation_date": 1478724396, "question_id": 40515750, "link": "https://stackoverflow.com/questions/40515750/python-how-to-plot-dots-for-a-sort-of-connect-the-dots-game", "title": "Python: How to plot dots for a sort of connect-the-dots game?", "body": "<p>I'm in the beginning stages of creating a glorified connect-the-dots game in Python, but I am not sure how to plot my dots for this. Specifically, I want my program to be of a map and you can click locations (these are the dots) and draw lines between them. As a side note, I'd also like to be able to hover over these dots to display some information about the locations.</p>\n\n<p>Due to the nature of this, I'd like the dots to be plotted in very specific spots on the map image. I'm not sure how exactly to begin this. </p>\n\n<p>Would it be possible to draw it all out in a .jpg or .png file and have the program locate it itself (the dots would be identified by color) and give them clicking functionality? Or is it best to plot them out in the program itself and perhaps overlay the buttons over an image? I don't even know where to begin with this. One thought I had was that I could use graphs for this with nodes and edges- which would simplify the drawing of lines, but I'm not sure if there is any libraries available to allow for specific location placement of the nodes.</p>\n"}, {"tags": ["python", "metadata", "id3", "eyed3"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6544516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5f673162fb7c7c48b3e76f72dfb2e2?s=128&d=identicon&r=PG&f=1", "display_name": "rahul john", "link": "https://stackoverflow.com/users/6544516/rahul-john"}, "is_accepted": false, "score": 5, "last_activity_date": 1541793402, "last_edit_date": 1541793402, "creation_date": 1493094716, "answer_id": 43601643, "question_id": 40515738, "link": "https://stackoverflow.com/questions/40515738/using-eyed3-to-embed-album-art-from-url/43601643#43601643", "title": "Using eyeD3 to embed album art from URL", "body": "<p>You can use <code>urllib2</code> to get image data of the image from URL and then use it in <code>eyed3</code>.</p>\n\n<pre><code>import urllib2\nresponse = urllib2.urlopen(your image url)  \nimagedata = response.read()\n\nimport eyed3\nfile = eyed3.load(\"song.mp3\")\nfile.tag.images.set(3, imagedata , \"image/jpeg\" ,u\"Description\")\nfile.tag.save()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 700, "user_id": 8391947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751c08b83a32d7452dbfb7211bdf58c8?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan W", "link": "https://stackoverflow.com/users/8391947/bryan-w"}, "edited": false, "score": 0, "creation_date": 1569825081, "post_id": 46875101, "comment_id": 102706726, "body": "This works, and personally I prefer this solution if you don&#39;t wish to do anything with the retrieved image. Saves a step by skipping urllib."}, {"owner": {"reputation": 781, "user_id": 10856173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xfG7T.jpg?s=128&g=1", "display_name": "liangli", "link": "https://stackoverflow.com/users/10856173/liangli"}, "edited": false, "score": 0, "creation_date": 1589703927, "post_id": 46875101, "comment_id": 109393762, "body": "I&#39;m curious why the coder didn&#39;t put this function on their documentation. And I still can&#39;t add album pics to songs, I don&#39;t know why. No error popped."}], "tags": [], "owner": {"reputation": 865, "user_id": 2013757, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dc14b6d614e75131fc300c591069da61?s=128&d=identicon&r=PG", "display_name": "squarebracket", "link": "https://stackoverflow.com/users/2013757/squarebracket"}, "is_accepted": true, "score": 2, "last_activity_date": 1508690418, "last_edit_date": 1508690418, "creation_date": 1508681799, "answer_id": 46875101, "question_id": 40515738, "link": "https://stackoverflow.com/questions/40515738/using-eyed3-to-embed-album-art-from-url/46875101#46875101", "title": "Using eyeD3 to embed album art from URL", "body": "<p>Use</p>\n\n<pre><code>mySong.tag.images.set(type_=3, img_data=None, mime_type=None, description=u\"you can put a description here\", img_url=u\"https://upload.wikimedia.org/wikipedia/en/6/60/Recovery_Album_Cover.jpg\")\n</code></pre>\n\n<p>Explanation:</p>\n\n<p><code>mySong.tag.images.set</code> is calling the <code>set</code> function of the class <code>ImagesAccessor</code> defined in <code>src/eyed3/id3/tag.py</code>.</p>\n\n<p>The signature is as follows:</p>\n\n<pre><code>def set(self, type_, img_data, mime_type, description=u\"\", img_url=None):\n    \"\"\"Add an image of ``type_`` (a type constant from ImageFrame).\n    The ``img_data`` is either bytes or ``None``. In the latter case\n    ``img_url`` MUST be the URL to the image. In this case ``mime_type``\n    is ignored and \"--&gt;\" is used to signal this as a link and not data\n    (per the ID3 spec).\"\"\"\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 7138325, "user_type": "registered", "profile_image": "https://graph.facebook.com/1873516719601400/picture?type=large", "display_name": "Chris James", "link": "https://stackoverflow.com/users/7138325/chris-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3794, "favorite_count": 1, "accepted_answer_id": 46875101, "answer_count": 2, "score": 2, "last_activity_date": 1547607694, "creation_date": 1478724364, "last_edit_date": 1547607694, "question_id": 40515738, "link": "https://stackoverflow.com/questions/40515738/using-eyed3-to-embed-album-art-from-url", "title": "Using eyeD3 to embed album art from URL", "body": "<p>i am working on a python script that downloads a music file from a server and then adds an album image to it from a URL, for this i am using the eyeD3 python library my original code below.</p>\n\n<pre><code>import eyed3\n\nmySong = eyed3.load('C:\\Users\\PC\\Music\\Test.mp3')\nmySong.tag.album_artist = u'Artist-Name'\nmySong.tag.images.remove(u'')\nmySong.tag.images.set(3, 'None', 'https://upload.wikimedia.org/wikipedia/en/6/60/Recovery_Album_Cover.jpg')\nmySong.tag.save()\n</code></pre>\n\n<p>I have tried different versions of this command and it either returns no errors but does not embed the image as the above code does or returns an error message stating \"ValueError: img_url MUST not be none when no image data\".</p>\n\n<p>Anyone had any success with this part of eyeD3 before my other alternative is download image direct from URL store in a folder and embed from there then delete obviously my other solution would be better.</p>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 2705, "user_id": 299080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d409002119d0b4b16d6dab0033b146e7?s=128&d=identicon&r=PG&f=1", "display_name": "ChaimKut", "link": "https://stackoverflow.com/users/299080/chaimkut"}, "is_accepted": true, "score": 1, "last_activity_date": 1478796799, "creation_date": 1478796799, "answer_id": 40533014, "question_id": 40515727, "link": "https://stackoverflow.com/questions/40515727/sqlalchemy-return-default-value-for-column-property/40533014#40533014", "title": "SQLAlchemy: Return default value for column_property", "body": "<p>Finally figured it out -- this knowledge is embedded in the <a href=\"http://docs.sqlalchemy.org/en/latest/core/type_api.html#sqlalchemy.types.TypeEngine\" rel=\"nofollow noreferrer\"><code>TypeEngine</code></a> class, in the above case <code>ListColumnProp</code>. In this case, it is implemented via a child class of <code>TypeEngine</code> -- <a href=\"http://docs.sqlalchemy.org/en/latest/core/custom_types.html#sqlalchemy.types.TypeDecorator\" rel=\"nofollow noreferrer\"><code>TypeDecorator</code></a>. So for example:</p>\n\n<pre><code>class ListColumnProp(TypeDecorator):\n    impl = ARRAY\n\n    def process_result_value(self, value, dialect):\n        if value:\n            return [tuple(json.loads(v)) for v in value]\n        else:\n            return []\n</code></pre>\n"}], "owner": {"reputation": 2705, "user_id": 299080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d409002119d0b4b16d6dab0033b146e7?s=128&d=identicon&r=PG&f=1", "display_name": "ChaimKut", "link": "https://stackoverflow.com/users/299080/chaimkut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "accepted_answer_id": 40533014, "answer_count": 1, "score": 1, "last_activity_date": 1478796799, "creation_date": 1478724330, "question_id": 40515727, "link": "https://stackoverflow.com/questions/40515727/sqlalchemy-return-default-value-for-column-property", "title": "SQLAlchemy: Return default value for column_property", "body": "<p>I am defining an SQLAlchemy <a href=\"http://docs.sqlalchemy.org/en/latest/orm/mapping_columns.html#sqlalchemy.orm.column_property\" rel=\"nofollow noreferrer\"><code>column_property</code></a> based on a <a href=\"http://docs.sqlalchemy.org/en/latest/core/selectable.html#sqlalchemy.sql.expression.select\" rel=\"nofollow noreferrer\"><code>select</code></a> (with a <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.type_coerce\" rel=\"nofollow noreferrer\"><code>coerced type</code></a>). How can I define a default type for the <code>column_property</code> to return? Usually it returns a list of lists, but if the <code>select</code> doesn't find anything, then it returns <code>None</code>. Instead I would like it to return an empty list (<code>[]</code>). Some example code:</p>\n\n<pre><code>def get_list(cls_type):\n    select_list = select([cls_type.foo]).select_from(cls_type)\n    select_list = select_list.correlate_except(cls_type).label('foo_list')\n    coerce_array_select = select([type_coerce(func.array(select_list), ListColumnProp(Text))])\n    return column_property(coerce_array_select, deferred=True)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1478724395, "post_id": 40515714, "comment_id": 68273077, "body": "try printing the value of <code>values</code> in your function."}], "owner": {"reputation": 75, "user_id": 4953909, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aadabfb11de58922f939b9f9a3edf28d?s=128&d=identicon&r=PG&f=1", "display_name": "highsky", "link": "https://stackoverflow.com/users/4953909/highsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "closed_date": 1478724429, "answer_count": 0, "score": 1, "last_activity_date": 1478724282, "creation_date": 1478724282, "question_id": 40515714, "link": "https://stackoverflow.com/questions/40515714/optional-parameters-or-list-being-mutable-or-parameter-mapping", "closed_reason": "Duplicate", "title": "optional parameters, or list being mutable or parameter mapping?", "body": "<p>I'm new to python, and lately the following question puzzled me. The correct output is: [1,2,3]\nCould anyone explain to me why? It's so confusing. </p>\n\n<pre><code>def f(i, values = []):\n    values.append(i)\n    return values\n\nf(1)\nf(2)\nv = f(3)\nprint(v)\n</code></pre>\n"}, {"tags": ["python", "numpy", "plot", "interactive"], "comments": [{"owner": {"reputation": 6354, "user_id": 1562285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be3cbb95b7e672fc8135509aa37b589?s=128&d=identicon&r=PG", "display_name": "Maarten Fabr&#233;", "link": "https://stackoverflow.com/users/1562285/maarten-fabr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1478727297, "post_id": 40515677, "comment_id": 68274504, "body": "perhaps share some example data and your first tries with Bokeh"}, {"owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1478862545, "post_id": 40515677, "comment_id": 68331736, "body": "look at <a href=\"http://glueviz.org/en/stable/\" rel=\"nofollow noreferrer\">glueviz.org/en/stable</a>"}], "answers": [{"comments": [{"owner": {"reputation": 284, "user_id": 2665020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d516d0b9cbca9d837998426bba7e74?s=128&d=identicon&r=PG", "display_name": "Moustache", "link": "https://stackoverflow.com/users/2665020/moustache"}, "edited": false, "score": 0, "creation_date": 1481568983, "post_id": 40517147, "comment_id": 69419530, "body": "This was just what I needed to know. I solved the problem using matplotlib based on the examples suggested as I decided it would be more useful to me in the both the short and long term to develop knowledge of matplotlib as opposed to Bokeh and Glue."}], "tags": [], "owner": {"reputation": 1447, "user_id": 3732050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebb1bcf7c151e5aa352c27b1c69e09f?s=128&d=identicon&r=PG&f=1", "display_name": "mkhanoyan", "link": "https://stackoverflow.com/users/3732050/mkhanoyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1478730935, "creation_date": 1478730935, "answer_id": 40517147, "question_id": 40515677, "link": "https://stackoverflow.com/questions/40515677/graphical-selection-of-data-in-python-3/40517147#40517147", "title": "Graphical Selection of Data in Python 3", "body": "<p>There is no easy way to do this, however it is quite doable with matplotlib. Matplotlib has two classes SpanSelector and LassoSelector that you can use.You can find some documentation <a href=\"http://matplotlib.org/api/widgets_api.html\" rel=\"nofollow noreferrer\">here</a>. <a href=\"http://matplotlib.org/examples/widgets/lasso_selector_demo.html\" rel=\"nofollow noreferrer\">Here</a> is an example with LassoSelector.</p>\n"}], "owner": {"reputation": 284, "user_id": 2665020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d516d0b9cbca9d837998426bba7e74?s=128&d=identicon&r=PG", "display_name": "Moustache", "link": "https://stackoverflow.com/users/2665020/moustache"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "accepted_answer_id": 40517147, "answer_count": 1, "score": 1, "last_activity_date": 1478861373, "creation_date": 1478724134, "last_edit_date": 1478861373, "question_id": 40515677, "link": "https://stackoverflow.com/questions/40515677/graphical-selection-of-data-in-python-3", "title": "Graphical Selection of Data in Python 3", "body": "<p><strong>The Problem to Solve</strong></p>\n\n<p>I have two 2D numpy arrays. One of which is an array of floats, the other is an array of strings. Each float array element is extracted from a file with a name in the corresponding string array element.</p>\n\n<p>I want to plot a 2D heatmap of the array of floats, with the color corresponding to the magnitude of the array element.</p>\n\n<p>Based on this I would like to interactively select an area (e.g. with a polygon or lasso tool). I want the indices of the array which have been selected to then be written to a list/array so the corresponding filenames can be extracted for further processing.</p>\n\n<p>I am using Python 3.</p>\n\n<p>I have spent several hours trying to make headway with this problem in Bokeh but have had no success. </p>\n\n<p><strong>My Questions are the following</strong></p>\n\n<p>Which Python libraries best suit this problem?</p>\n\n<p>Given the above library(s), do you have any tips to get started?</p>\n\n<p><strong>Many thanks.</strong></p>\n\n<p><em>Note: I have been using Python for some scientific data programming but would not consider myself an experienced programmer.</em></p>\n"}, {"tags": ["python", "django", "installation", "virtualenv"], "comments": [{"owner": {"reputation": 5580, "user_id": 662345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/39d2ea0a36d1740e5f544076955a4b30?s=128&d=identicon&r=PG", "display_name": "Antonis Christofides", "link": "https://stackoverflow.com/users/662345/antonis-christofides"}, "edited": false, "score": 0, "creation_date": 1478770826, "post_id": 40515674, "comment_id": 68288915, "body": "You need to provide some more details to make your question clear, like what is the <code>J:\\project2</code> directory (is it a virtualenv?) But overall yes, the idea is to create different virtualenvs for different projects, and install Django in each virtualenv. See <a href=\"http://djangodeployment.com/2016/11/01/virtualenv-demystified/\" rel=\"nofollow noreferrer\">djangodeployment.com/2016/11/01/virtualenv-demystified</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7138646, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209839377854205/picture?type=large", "display_name": "Krzysztof Pawliczuk", "link": "https://stackoverflow.com/users/7138646/krzysztof-pawliczuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1478730726, "creation_date": 1478730726, "answer_id": 40517103, "question_id": 40515674, "link": "https://stackoverflow.com/questions/40515674/installing-django-in-a-virtualenv-means-that-i-have-to-re-install-it-everytime-i/40517103#40517103", "title": "Installing Django in a Virtualenv means that i have to re-install it everytime I make another project?", "body": "<p>you must activete that new venv ...Scripts/activate.py and enjoy\n...and install inside venv django, after that go to you project and run 'python manage.py runserver\nthats all</p>\n"}], "owner": {"reputation": 31, "user_id": 6248527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Thl8v.png?s=128&g=1", "display_name": "Emmanuel_M", "link": "https://stackoverflow.com/users/6248527/emmanuel-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478745817, "creation_date": 1478724129, "question_id": 40515674, "link": "https://stackoverflow.com/questions/40515674/installing-django-in-a-virtualenv-means-that-i-have-to-re-install-it-everytime-i", "title": "Installing Django in a Virtualenv means that i have to re-install it everytime I make another project?", "body": "<p>Sorry if this is an obvios or dump question but the thing is that i've been having problems with the installation of Djandgo, and the virtualenvs.</p>\n\n<p>I'm a windows 10 user and I've following a series of tutorials of Django in wich they create a virtualenv an inside of it, using pip, they proceed with the installation of the framework.</p>\n\n<p>The problem is that, I drop the old project or virtualenv wich had Django installed and started a new one, a new virtualenv (creating a new folder and typing virtualenv .), and reinstalled django on it but now, when i go throught the cmd to the directory</p>\n\n<p>J:\\project2\\Scripts\\django-admin.py</p>\n\n<p>I receive and error:</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File\n  \"J:\\project2\\Scripts\\django-admin.py\", line 2, in \n      from django.core import management ImportError: No module named django.core</p>\n</blockquote>\n\n<p>is it because I re-installed again Django in another new virtualenv?</p>\n\n<p>Thanks to all :)</p>\n"}, {"tags": ["python", "tkinter", "label", "scrollbar"], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "edited": false, "score": 0, "creation_date": 1478812065, "post_id": 40516279, "comment_id": 68313533, "body": "Thanks Bryan, but I really cant see the grid and pack geometry managers working well with my interface design. But in addition, why will the scroll bar not work in the example that i gave?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "edited": false, "score": 0, "creation_date": 1478812367, "post_id": 40516279, "comment_id": 68313682, "body": "The scrollbars don&#39;t work because the <code>scrollregion</code> isn&#39;t set, because the frame is tiny. Set the <code>scrollregion</code> to a value larger than the canvas and the scrollbars will work. I&#39;d be willing to bet there is almost no interface design you can come up with that can&#39;t work with <code>pack</code> or <code>grid</code>, except for a design that calls for the user to be able to interactively move widgets around."}, {"owner": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "edited": false, "score": 0, "creation_date": 1478812697, "post_id": 40516279, "comment_id": 68313842, "body": "Ok thanks. I would be able to use the pack/grid methods however at the moment ive found it hard to get the labels where i want them without the labels becoming set too closely together."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "edited": false, "score": 0, "creation_date": 1478815547, "post_id": 40516279, "comment_id": 68315082, "body": "both <code>grid</code> and <code>pack</code> have options to add padding on all sides of a widget."}, {"owner": {"reputation": 448, "user_id": 8174907, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fe582dc6e8bbfee5a21bbd31770b6e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Anjali", "link": "https://stackoverflow.com/users/8174907/anjali"}, "edited": false, "score": 0, "creation_date": 1499833781, "post_id": 40516279, "comment_id": 77070635, "body": "I&#39;m facing the same problem. Does a solution for this exist?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 448, "user_id": 8174907, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fe582dc6e8bbfee5a21bbd31770b6e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Anjali", "link": "https://stackoverflow.com/users/8174907/anjali"}, "edited": false, "score": 0, "creation_date": 1499858079, "post_id": 40516279, "comment_id": 77085308, "body": "@A.Shenzy: yes, a solution exists. Click the &quot;Ask Question&quot; button if you need help with a specific problem."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1478727236, "last_edit_date": 1478727236, "creation_date": 1478726740, "answer_id": 40516279, "question_id": 40515666, "link": "https://stackoverflow.com/questions/40515666/how-to-use-place-inside-a-frame-embedded-in-a-canvas/40516279#40516279", "title": "How to use place inside a frame embedded in a canvas?", "body": "<p>The problem is that <code>place</code> doesn't work like the other geometry managers -- it won't change the size of its parent. Thus, even though you put a large(ish) label in the frame, the frame remains its default size of one pixel wide and one pixel tall. It's there, you just can't see it.</p>\n\n<p>You can verify this by giving the frame an explicit width and height (and adding a distinctive color helps visualize it, too):</p>\n\n<pre><code>frame.configure(width=100, height=100, background=\"bisque\")\n</code></pre>\n\n<p>From the <a href=\"http://tcl.tk/man/tcl8.5/TkCmd/place.htm#M21\" rel=\"nofollow noreferrer\">official documentation for place</a>:</p>\n\n<blockquote>\n  <p>Unlike many other geometry managers (such as the packer) the placer\n  does not make any attempt to manipulate the geometry of the master\n  windows or the parents of slave windows (i.e. it does not set their\n  requested sizes). To control the sizes of these windows, make them\n  windows like frames and canvases that provide configuration options\n  for this purpose.</p>\n</blockquote>\n\n<p>I strongly encourage you to <em>not</em> use <code>place</code>. Tkinter's <code>pack</code> and <code>grid</code> geometry managers are exceptionally good at laying out widgets. If you use <code>place</code>, you have to do a lot of math yourself, and the result likely won't resize properly or withstand changes in resolution or font size without a lot of work.</p>\n"}], "owner": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "accepted_answer_id": 40516279, "answer_count": 1, "score": 2, "last_activity_date": 1523814770, "creation_date": 1478724080, "last_edit_date": 1523814770, "question_id": 40515666, "link": "https://stackoverflow.com/questions/40515666/how-to-use-place-inside-a-frame-embedded-in-a-canvas", "title": "How to use place inside a frame embedded in a canvas?", "body": "<p>I am using labels to display data. However I have so many labels positioned below each other that I cant fit them all on the same window. I wish to use a scroll bar to scroll through the labels. However as I have read this is not so simple. As I understand, my best bet is to use a frame to gather all of my labels, and then insert the frame into a canvas, that can then be used in parallel with the scrollbar, although I am having trouble doing so. \nThe function that I am using to create my labels is</p>\n\n<pre><code>def Tab(root, y):\n    #Print the team\n    playerTeam = Label(root, bg = \"white\", text = \"Hello\")\n    playerTeam.config(height = 1, width = 13)\n    playerTeam.place(x=20,y=y) \n</code></pre>\n\n<p>I have attempted to add the following code in conjunction with my function</p>\n\n<pre><code>def onFrameConfigure(canvas):\n    '''Reset the scroll region to encompass the inner frame'''\n    canvas.configure(scrollregion=canvas.bbox(\"all\"))\n\nroot = tk.Tk()\nroot.geometry(\"400x400\")\ncanvas = tk.Canvas(root, borderwidth=0, background=\"#ffffff\")\nframe = tk.Frame(canvas, background=\"#ffffff\")\nvsb = tk.Scrollbar(root, orient=\"vertical\", command=canvas.yview)\ncanvas.configure(yscrollcommand=vsb.set)\n\nvsb.pack(side=\"right\", fill=\"y\")\ncanvas.pack(side=\"left\", fill=\"both\", expand=True)\ncanvas.create_window((4,4), window=frame, anchor=\"nw\")\n\nframe.bind(\"&lt;Configure&gt;\", lambda event, canvas=canvas: onFrameConfigure(canvas))\n\nTab(frame, 20)\n</code></pre>\n\n<p>When ran, a blank window is produced. \nHowever, when .grid is used instead of .place, in Tab() It works correctly, and the label is shown on the window. Although, when I call Tab() multiple times, the labels go off of the window and the ability to scroll down is not available.</p>\n\n<p>How can I get the .place function to work correctly.\nAnd secondly how can I get the scroll bar to work correctly.\nThanks</p>\n"}, {"tags": ["python", "string", "python-2.7", "csv", "numbers"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1478724214, "post_id": 40515661, "comment_id": 68272988, "body": "How are you reading the file?"}, {"owner": {"reputation": 21, "user_id": 7138299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74c5db03c088d7b9444995b23cc0cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Maebh Power", "link": "https://stackoverflow.com/users/7138299/maebh-power"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1478724684, "post_id": 40515661, "comment_id": 68273212, "body": "<code>file = [] for line in open(&#39;project.csv&#39;):     our_data = line.split(&quot;,&quot;)      data.append(our_data)</code>"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1478724780, "post_id": 40515661, "comment_id": 68273257, "body": "Could you add that to your question. It would make things easier for everyone who may be trying to help you."}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 7079892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3641874cdfed343275c3b0c53a06b2?s=128&d=identicon&r=PG&f=1", "display_name": "hhy", "link": "https://stackoverflow.com/users/7079892/hhy"}, "is_accepted": false, "score": 0, "last_activity_date": 1478725558, "creation_date": 1478725558, "answer_id": 40516016, "question_id": 40515661, "link": "https://stackoverflow.com/questions/40515661/cannot-convert-string-to-float/40516016#40516016", "title": "Cannot Convert String To Float", "body": "<p>The original file contains the quotes and the break line (\\n), but you are only trying to get rid of the break line (but still not done yet). First you need to extract the string(the quotes and the numbers) from the output of <code>split()</code>, second you need to get rid of the quotes, then use float(...) to convert them into floats:</p>\n\n<pre><code>for line in open('project.csv'):\n    our_data = line.split(\",\")\n    print our_data\n    our_data = our_data[0][1:-1]\n    print our_data\n    print float(our_data)\n</code></pre>\n\n<p>Will give you the output:</p>\n\n<pre><code>[\"'838.5'\", '\\n']\n838.5\n838.5\n[\"'830.090027'\", '\\n']\n830.090027\n830.090027\n[\"'820'\", '\\n']\n820\n820.0\n[\"'827.559998'\", '\\n']\n827.559998\n827.559998\n[\"'822.880005'\"]\n822.880005\n822.880005\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3784502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd4bb23539f6028cd3262f67059516e5?s=128&d=identicon&r=PG&f=1", "display_name": "adamrp", "link": "https://stackoverflow.com/users/3784502/adamrp"}, "is_accepted": false, "score": 1, "last_activity_date": 1478726199, "creation_date": 1478726199, "answer_id": 40516173, "question_id": 40515661, "link": "https://stackoverflow.com/questions/40515661/cannot-convert-string-to-float/40516173#40516173", "title": "Cannot Convert String To Float", "body": "<p>Always more than one way to skin a cat, but here's what I'd do:</p>\n\n<pre><code># Read the entire contents of the file into a string (`numbers`).\n# This includes newline characters and single-quotes.\nwith open('project.csv') as infile:\n    numbers = infile.read()\n\n# Then remove the newline characters and single-quotes\n# (replace each with the empty string, thus removing them)\n# resulting in a string with numbers separated by commas\n# e.g., `123.3,45.9,39.1`\nnumbers = numbers.replace(\"'\",\"\").replace(\"\\n\",\"\")\n\n# Then create a new list by splitting the string on comma\n# and converting each individual item to a float\nnumbers = [float(num) for num in numbers.split(',')]\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>If the file is really big, you might want to iterate line-by-line rather than read the whole file in.</p></li>\n<li><p>If the input file might contain formatting errors, you'd have to be more careful to avoid unanticipated exceptions</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 0, "last_activity_date": 1478726268, "creation_date": 1478726268, "answer_id": 40516185, "question_id": 40515661, "link": "https://stackoverflow.com/questions/40515661/cannot-convert-string-to-float/40516185#40516185", "title": "Cannot Convert String To Float", "body": "<p>You seem to have some confusion about how to properly open and split up your file. This should work. Your problem is that your reading each line from the file and then trying to split it. What your actual appending to <code>data</code> is something like this:</p>\n\n<p><code>['838.5', ',']</code></p>\n\n<p>And you then try to convert this to a float, which of course means Python will raise an error. Instead, read in your entire file, and then split it up. Filter out anything that is not a number, and then convert those to floats:</p>\n\n<pre><code>with open('project.csv') as file:\n    file = file.readlines()\n\nfile = [el[1:-1] for line in file for el in line.split(',')]\nfloats = [float(el) for el in file if el]\n</code></pre>\n\n<p><strong>Value of <code>floats</code>:</strong></p>\n\n<pre><code>[838.5, 830.090027, 820.0, 827.559998, 822.880005]\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7138299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a74c5db03c088d7b9444995b23cc0cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Maebh Power", "link": "https://stackoverflow.com/users/7138299/maebh-power"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12267, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1478726268, "creation_date": 1478724068, "last_edit_date": 1478724901, "question_id": 40515661, "link": "https://stackoverflow.com/questions/40515661/cannot-convert-string-to-float", "title": "Cannot Convert String To Float", "body": "<p>I have a csv file with the following values in string form:</p>\n\n<pre><code>'838.5',\n'830.090027',\n'820',\n'827.559998',\n'822.880005'\n</code></pre>\n\n<p>And am reading the file like this:</p>\n\n<pre><code>file = []\nfor line in open('project.csv'):\n    our_data = line.split(\",\")\n\n    data.append(our_data)\n</code></pre>\n\n<p>I have tried to convert these to floats in the following way: </p>\n\n<pre><code>data = [float(x) for x in file]\n</code></pre>\n\n<p>But I get this error when I run the program:</p>\n\n<p>ValueError: could not convert string to float: .</p>\n\n<p>How can I solve this problem without having to edit the csv file? </p>\n"}, {"tags": ["python", "search", "filter", "beautifulsoup", "bs4"], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 6361540, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f353596d150e7a1945eb6aa76481eae3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6361540/lucas"}, "edited": false, "score": 0, "creation_date": 1478726172, "post_id": 40515690, "comment_id": 68273961, "body": "Thank you, but now I get &quot;    [&#39;com.facebook.katana&#39;, &#39;com.facebook.orca&#39;, &#39;com.facebook.Mentions&#39;, &#39;com.htc.sense.socialnetwork.facebook&#39;, &#39;com.twitter.android&#39;, &#39;com.instagram.android&#39;    &quot;"}, {"owner": {"reputation": 144, "user_id": 6361540, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f353596d150e7a1945eb6aa76481eae3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6361540/lucas"}, "edited": false, "score": 0, "creation_date": 1478726188, "post_id": 40515690, "comment_id": 68273968, "body": "How do I filter this now? I can&#39;t use split there"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1478724182, "creation_date": 1478724182, "answer_id": 40515690, "question_id": 40515650, "link": "https://stackoverflow.com/questions/40515650/python-filter-package-name-from-googleplay-output/40515690#40515690", "title": "Python filter package name from GooglePlay output", "body": "<p>From what I understand, you can/should get the value of the <code>data-docid</code> attribute:</p>\n\n<pre><code>[item.get(\"data-docid\", \"n/a\") for item in search]\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 6361540, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f353596d150e7a1945eb6aa76481eae3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6361540/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478724182, "creation_date": 1478724046, "question_id": 40515650, "link": "https://stackoverflow.com/questions/40515650/python-filter-package-name-from-googleplay-output", "title": "Python filter package name from GooglePlay output", "body": "<p>I try to filter the package name from a search in GooglePlay. So the user types in \"Facebook\" and my script recognize the package name.\nI try to do this with BeautifulSoup4. I think it is the best solution for this.</p>\n\n<p>So.. \nhere's my code I tried</p>\n\n<pre><code>br = mechanize.Browser()\nbr.set_handle_robots(False)\nbr.addheaders = [('User-agent', 'chrome')]\n\nterm = \"faceboook\"\nquery = \"http://play.google.com/store/search?q=\"+term\n\nhtmltext = br.open(query).read()\n\nsoup = BeautifulSoup(htmltext)\n\nsearch = soup.findAll(\"div\", class_=\"card-content id-track-click id-track-impression\")\n\nprint search\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>[&lt;div class=\"card-content id-track-click id-track-impression\" data-docid=\"com.facebook.katana\" (and so on)\n</code></pre>\n\n<p>How do I get ONLY the package name? I really don't know how. I already read some documentations about BeautifulSoup but I srsly don't understand how I use this expanded.</p>\n\n<p>Thank you in advance and sry for the bad english!</p>\n"}, {"tags": ["python", "tensorflow", "tensorflow-serving"], "comments": [{"owner": {"reputation": 1627, "user_id": 7119965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689e0b4bb6c0ac5173d21bf0ff28e86e?s=128&d=identicon&r=PG&f=1", "display_name": "drpng", "link": "https://stackoverflow.com/users/7119965/drpng"}, "edited": false, "score": 0, "creation_date": 1478752423, "post_id": 40515646, "comment_id": 68281312, "body": "Yes, you can ignore that warning for now. The prediction API is a raw API where you feed in one or more tensor and get an output. So you have to run that part of the client which makes it a tensor, so yes, including the parameterization."}, {"owner": {"reputation": 31, "user_id": 7082658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/242efd8cde6463a91cc65c195949003f?s=128&d=identicon&r=PG&f=1", "display_name": "fritz v", "link": "https://stackoverflow.com/users/7082658/fritz-v"}, "reply_to_user": {"reputation": 1627, "user_id": 7119965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689e0b4bb6c0ac5173d21bf0ff28e86e?s=128&d=identicon&r=PG&f=1", "display_name": "drpng", "link": "https://stackoverflow.com/users/7119965/drpng"}, "edited": false, "score": 0, "creation_date": 1478803854, "post_id": 40515646, "comment_id": 68309533, "body": "Thanks for the answer. I now have an export and client running, but results still looks wrong. I am sending just one proto created from a 2d array of strings (from a pandas df) as an input. Or should I send one proto for every feature column?"}, {"owner": {"reputation": 1627, "user_id": 7119965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689e0b4bb6c0ac5173d21bf0ff28e86e?s=128&d=identicon&r=PG&f=1", "display_name": "drpng", "link": "https://stackoverflow.com/users/7119965/drpng"}, "edited": false, "score": 0, "creation_date": 1478808668, "post_id": 40515646, "comment_id": 68311843, "body": "You should send the whole tensor for a single example in one shot. There&#39;s no really good example of how to test a model side-by-side, so you have to more or less go by trial and error. I would print input/output values to debug."}, {"owner": {"reputation": 31, "user_id": 7082658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/242efd8cde6463a91cc65c195949003f?s=128&d=identicon&r=PG&f=1", "display_name": "fritz v", "link": "https://stackoverflow.com/users/7082658/fritz-v"}, "reply_to_user": {"reputation": 1627, "user_id": 7119965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689e0b4bb6c0ac5173d21bf0ff28e86e?s=128&d=identicon&r=PG&f=1", "display_name": "drpng", "link": "https://stackoverflow.com/users/7119965/drpng"}, "edited": false, "score": 0, "creation_date": 1478813104, "post_id": 40515646, "comment_id": 68314023, "body": "Ok got that. I also just realized that I need to somehow transform the input data (that is a dict of tensors from the input_fn used in the fit method) to a single tensor. I looked at the python predict method and it seems like feature_column_ops.input_from_feature_columns will do this. Or is there a better approach?"}, {"owner": {"reputation": 1627, "user_id": 7119965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689e0b4bb6c0ac5173d21bf0ff28e86e?s=128&d=identicon&r=PG&f=1", "display_name": "drpng", "link": "https://stackoverflow.com/users/7119965/drpng"}, "edited": false, "score": 0, "creation_date": 1478813263, "post_id": 40515646, "comment_id": 68314093, "body": "Sounds reasonable to me."}, {"owner": {"reputation": 31, "user_id": 7082658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/242efd8cde6463a91cc65c195949003f?s=128&d=identicon&r=PG&f=1", "display_name": "fritz v", "link": "https://stackoverflow.com/users/7082658/fritz-v"}, "reply_to_user": {"reputation": 1627, "user_id": 7119965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689e0b4bb6c0ac5173d21bf0ff28e86e?s=128&d=identicon&r=PG&f=1", "display_name": "drpng", "link": "https://stackoverflow.com/users/7119965/drpng"}, "edited": false, "score": 0, "creation_date": 1478813820, "post_id": 40515646, "comment_id": 68314355, "body": "Another question: Does predict_impl.cc build the whole graph - including the parts that handle high level feature columns or only the core network? If the latter, then I will have to run the parts of the graph that create the network inputs in the client - losing a lot of the scale that serving is supposed to provide. Correct?"}, {"owner": {"reputation": 1627, "user_id": 7119965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689e0b4bb6c0ac5173d21bf0ff28e86e?s=128&d=identicon&r=PG&f=1", "display_name": "drpng", "link": "https://stackoverflow.com/users/7119965/drpng"}, "edited": false, "score": 0, "creation_date": 1478816273, "post_id": 40515646, "comment_id": 68315357, "body": "The model exporter exports the whole graph (if you ask it to), or whatever is required to run inference, but the problem is mapping from high-level wrappers to the low-level operations to figure out exactly what you want. You&#39;d have to traverse down the code to see what they wrappers actually do."}, {"owner": {"reputation": 31, "user_id": 7082658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/242efd8cde6463a91cc65c195949003f?s=128&d=identicon&r=PG&f=1", "display_name": "fritz v", "link": "https://stackoverflow.com/users/7082658/fritz-v"}, "reply_to_user": {"reputation": 1627, "user_id": 7119965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689e0b4bb6c0ac5173d21bf0ff28e86e?s=128&d=identicon&r=PG&f=1", "display_name": "drpng", "link": "https://stackoverflow.com/users/7119965/drpng"}, "edited": false, "score": 0, "creation_date": 1479051734, "post_id": 40515646, "comment_id": 68386630, "body": "OK after extensive code traversal I have come to the conclusion that for now the use of tensorflow serving precludes the use of fancy feature column as created in the input_fn parameter  of the estimators fit/evaluate/predict methods because the graph needs to be built every time you provide inputs via the input_fn parameter and I dont see how that can work in tf serving. I will have to write my own code to replace the functionality of the feature columns (categoricals/embeddings) and provide inputs to the estimator via the &#39;x&#39; and &#39;y&#39; parameters of fit/evaluate/predict."}, {"owner": {"reputation": 1627, "user_id": 7119965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689e0b4bb6c0ac5173d21bf0ff28e86e?s=128&d=identicon&r=PG&f=1", "display_name": "drpng", "link": "https://stackoverflow.com/users/7119965/drpng"}, "edited": false, "score": 0, "creation_date": 1479053984, "post_id": 40515646, "comment_id": 68387386, "body": "Could you file an issue on our <a href=\"https://www.github.com/tensorflow/tensorflow/issues\" rel=\"nofollow noreferrer\">github</a> page to track a feature requiest?"}, {"owner": {"reputation": 283, "user_id": 5685754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/845193692260144/picture?type=large", "display_name": "Xiaoyu Chen", "link": "https://stackoverflow.com/users/5685754/xiaoyu-chen"}, "edited": false, "score": 0, "creation_date": 1484643697, "post_id": 40515646, "comment_id": 70581688, "body": "I have read your client code so should I replace &#39;tf.contrib.util.make_tensor_proto(x_values, shape=x_values.shape)&#39; by &#39;feature_column_ops.input_from_feature_columns&#39; to create a tensor?"}], "owner": {"reputation": 31, "user_id": 7082658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/242efd8cde6463a91cc65c195949003f?s=128&d=identicon&r=PG&f=1", "display_name": "fritz v", "link": "https://stackoverflow.com/users/7082658/fritz-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 742, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1531393459, "creation_date": 1478724027, "last_edit_date": 1531393459, "question_id": 40515646, "link": "https://stackoverflow.com/questions/40515646/exporting-tensorflow-contrib-learn-export-to-export-to-tensorfow-serving", "title": "Exporting tensorflow contrib.learn export to export to tensorfow_serving", "body": "<p>I am trying to export a an instance of <code>tf.contrib.learn.DNNLinearCombinedClassifier</code> for tensorflow serving. When running the following code:</p>\n\n<pre><code>estimator.export(\nexport_path,\nsignature_fn=tf.contrib.learn.utils.export.classification_signature_fn)\n</code></pre>\n\n<p>I get the following warning: </p>\n\n<blockquote>\n  <p>WARNING:tensorflow:Calling export (from\n  tensorflow.contrib.learn.python.learn.estimators.estimator) with\n  use_deprecated_input_fn=True is deprecated and will be removed after\n  2016-09-23.   Instructions for updating: The signature of the input_fn\n  accepted by export is changing to be consistent with what's used by\n  tf.Learn Estimator's train/evaluate. input_fn and input_feature_key\n  will become required args, and use_deprecated_input_fn will default to\n  False and be removed altogether.</p>\n</blockquote>\n\n<p>The question is, can I ignore this warning for now? Another question, how would I write the code for the client? How do I prepare the protobuf correctly?</p>\n\n<p>I see that for the mnist client they prepare the <code>protobuf</code> as follows:</p>\n\n<pre><code>request = predict_pb2.PredictRequest()\nrequest.model_spec.name = 'mnist'\nimage, label = test_data_set.next_batch(1)\nrequest.inputs['images'].CopyFrom(\n    tf.contrib.util.make_tensor_proto(image[0], shape=[1, image[0].size]))\n</code></pre>\n\n<p>How would I do the same for feature columns used in a <code>contrib.learn</code> estimator? For example, if the feature columns are as follows?</p>\n\n<pre><code>  country = sparse_column_with_vocabulary_file(\"country\", VOCAB_FILE)\n  age = real_valued_column(\"age\")\n  click_bucket = bucketized_column(real_valued_column(\"historical_click_ratio\"),\n                                   boundaries=[i/10. for i in range(10)])\n  country_x_click = crossed_column([country, click_bucket], 10)\n  feature_columns = set([age, click_bucket, country_x_click])\n</code></pre>\n\n<p>...and the <code>input_fn</code> from one of the tutorial such as <a href=\"https://www.tensorflow.org/versions/r0.11/tutorials/wide/index.html\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/versions/r0.11/tutorials/wide/index.html</a> will provide the actual data to send from the client</p>\n\n<p>Update:</p>\n\n<p>I got an export/client combination running, but the results look wrong. Part of the export code is as follows:</p>\n\n<pre><code>def my_classification_signature_fn(examples, unused_features, predictions):\n  \"\"\"Creates classification signature from given examples and predictions.\n  Args:\n    examples: `Tensor`.\n    unused_features: `dict` of `Tensor`s.\n    predictions: `Tensor` or dict of tensors that contains the classes tensor\n      as in {'classes': `Tensor`}.\n  Returns:\n    Tuple of default classification signature and empty named signatures.\n  Raises:\n    ValueError: If examples is `None`.\n  \"\"\"\n  if examples is None:\n    raise ValueError('examples cannot be None when using this signature fn.')\n\n  if isinstance(predictions, dict):\n    default_signature = exporter.classification_signature(\n        examples, classes_tensor=predictions['classes'])\n  else:\n    print examples\n    print predictions\n    default_signature = exporter.classification_signature(\n        examples, classes_tensor=predictions)\n  named_graph_signatures={\n        'inputs': exporter.generic_signature({'x_values': examples}),\n        'outputs': exporter.generic_signature({'preds': predictions})}    \n  return default_signature, named_graph_signatures\n\ndef export_input_fn(df,feature_defs,batch_size):\n    input_features = input_fn(df, feature_defs)\n    input_features[\"input_feature_dummy\"] = tf.constant(np.array([[\"__SOME_VAL__\" for __ in range(len(df.columns))] for _ in range(batch_size) ]),\n                                      dtype=tf.string,\n                                      shape=[batch_size, len(df.columns)])\n    return input_features,None\n\nmodel.export(\n    \"export_8\",\n    input_fn=lambda : export_input_fn(extdf,training_run_data[\"features\"],20),\n    input_feature_key=\"input_feature_dummy\",\n    signature_fn=my_classification_signature_fn,\n    use_deprecated_input_fn=False)\n</code></pre>\n\n<p>And part of the client code is as follows:</p>\n\n<pre><code>pred_df = pd.read_csv(\"{}/client_test.csv\".format(work_dir)).sort_index(axis=1)\nhost, port = hostport.split(':')\nchannel = implementations.insecure_channel(host, int(port))\nstub = prediction_service_pb2.beta_create_PredictionService_stub(channel)\nresult_counter = _ResultCounter(num_tests, concurrency)\n\n\nx_values = numpy.array([[\"__SOME_VAL__\" for __ in range(len(pred_df.columns))] for _ in range(20)])\nlabels = pred_df[\"__label\"].values\ninput_values = pred_df.astype('str').values\ninput_size = min(20, input_values.shape[0])\nx_values[0:input_size] = input_values[0:input_size]\n\nlabels_test = numpy.zeros(20)\nlabels_test[0:input_size] = labels[0:input_size]\n\nrequest = predict_pb2.PredictRequest()\nrequest.model_spec.name = 'capture_process'\n\nrequest.inputs['x_values'].CopyFrom(\n    tf.contrib.util.make_tensor_proto(x_values, shape=x_values.shape))\n\n\nresult_counter.throttle()\nresult_future = stub.Predict.future(request, 5.0)  # 5 seconds\n\nresult_future.add_done_callback(\n    _create_rpc_callback(labels_test, result_counter))\n</code></pre>\n\n<p>As you can see I am trying to send all the input columns extracted from a pandas dataframe as one tensor proto called <code>x_values</code>. Is this correct or should I create an input for every feature column?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1478724186, "post_id": 40515610, "comment_id": 68272975, "body": "Are your dates strings? if so they won&#39;t match you need to convert to datetime and then merge <code>df2[&#39;Low_Date&#39;] = pd.to_datetime(df2[&#39;Low_Date&#39;]</code> and likewise for the other df"}, {"owner": {"reputation": 43, "user_id": 7049485, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/591f8d0f9bb087823ed7ece4dd78fef7?s=128&d=identicon&r=PG&f=1", "display_name": "sschade", "link": "https://stackoverflow.com/users/7049485/sschade"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1478724459, "post_id": 40515610, "comment_id": 68273114, "body": "Oops!  This fixed it.  Thank you!"}, {"owner": {"reputation": 9572, "user_id": 2543372, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/8814f53d616260c4971fd77f8b3f54a1?s=128&d=identicon&r=PG", "display_name": "Julien Marrec", "link": "https://stackoverflow.com/users/2543372/julien-marrec"}, "edited": false, "score": 0, "creation_date": 1478732136, "post_id": 40515610, "comment_id": 68276395, "body": "Should one of you post that as an answer, maybe including how to to transform the dates (<code>pd.to_datetime</code>), so we can mark the thread as accepted?"}], "owner": {"reputation": 43, "user_id": 7049485, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/591f8d0f9bb087823ed7ece4dd78fef7?s=128&d=identicon&r=PG&f=1", "display_name": "sschade", "link": "https://stackoverflow.com/users/7049485/sschade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478723892, "creation_date": 1478723892, "question_id": 40515610, "link": "https://stackoverflow.com/questions/40515610/merge-on-date-pandas-dataframe", "title": "Merge on Date Pandas DataFrame", "body": "<p>Df1  </p>\n\n<pre><code>Date\n2016-10-02\n2016-08-22\n2016-09-16\n</code></pre>\n\n<p>Df2  </p>\n\n<pre><code>Low_Date        Week\n10/2/2016       Week 1\n07/22/2016      Week 2\n09/16/2016      Week 3\n08/22/2016      Week 4\n11/16/2016      Week 13\n</code></pre>\n\n<p>All columns are dtype: object</p>\n\n<p>I'd like to end up with the following in Df1:  </p>\n\n<pre><code>Date        Week\n2016-10-02  Week 1\n2016-08-22  Week 4\n2016-09-16  Week 3\n</code></pre>\n\n<p>I've tried: </p>\n\n<pre><code>Df1 = pd.merge(Df1,Df2,left_on='Date',right_on='Low_Date',right_index=False)\n</code></pre>\n\n<p>However this returns an empty dataframe.  Is it something to do with how the dates are structured?  I don't particular care how they are structured, just want the week number.  Any suggestions?</p>\n"}, {"tags": ["python", "django", "rest", "django-rest-framework"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1478724416, "post_id": 40515609, "comment_id": 68273088, "body": "Please provide the code for your urls and your views.  Are you using viewsets?"}, {"owner": {"reputation": 782, "user_id": 881392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FZ7WM.jpg?s=128&g=1", "display_name": "brocksamson", "link": "https://stackoverflow.com/users/881392/brocksamson"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1478724969, "post_id": 40515609, "comment_id": 68273361, "body": "Added code in question..."}], "answers": [{"comments": [{"owner": {"reputation": 782, "user_id": 881392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FZ7WM.jpg?s=128&g=1", "display_name": "brocksamson", "link": "https://stackoverflow.com/users/881392/brocksamson"}, "edited": false, "score": 0, "creation_date": 1478726957, "post_id": 40516033, "comment_id": 68274349, "body": "Nice find, I&#39;ve confirmed that adding that code back into place does enable the HEAD route.  I&#39;ve accepted your answer :).  Since we&#39;ve already subclassed the ListModelMixin for other reasons, I&#39;m able to simply add a head method into that subclass to resolve the issue."}, {"owner": {"reputation": 2655, "user_id": 3727348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cVZF9.png?s=128&g=1", "display_name": "Taras Matsyk", "link": "https://stackoverflow.com/users/3727348/taras-matsyk"}, "edited": false, "score": 0, "creation_date": 1484926743, "post_id": 40516033, "comment_id": 70725982, "body": "however, it does not work for django 1.6 and upper. Was it done intentionally?"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 5, "last_activity_date": 1478727431, "last_edit_date": 1478727431, "creation_date": 1478725619, "answer_id": 40516033, "question_id": 40515609, "link": "https://stackoverflow.com/questions/40515609/head-method-not-allowed-after-upgrading-to-django-rest-framework-3-5-3/40516033#40516033", "title": "HEAD method not allowed after upgrading to django-rest-framework 3.5.3", "body": "<p>You were apparently relying on an old behavior which was removed in release 3.5.0.  </p>\n\n<pre><code># Patch this in as it's otherwise only present from 1.5 onwards\nif hasattr(self, 'get') and not hasattr(self, 'head'):\n    self.head = self.get\n</code></pre>\n\n<p>Here is the related <a href=\"https://github.com/tomchristie/django-rest-framework/commit/b82ec540ad447dcf703a9b21e9e94976109fd175\" rel=\"nofollow noreferrer\">commit</a> and <a href=\"https://github.com/tomchristie/django-rest-framework/pull/4513\" rel=\"nofollow noreferrer\">github issue</a>.  </p>\n\n<p><code>DefaultRouter</code> does not include a HEAD route.  You can add it into the <code>routes</code>, or specify it explictly using <code>UserNameView.as_view(actions={'head': ...})</code></p>\n"}], "owner": {"reputation": 782, "user_id": 881392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FZ7WM.jpg?s=128&g=1", "display_name": "brocksamson", "link": "https://stackoverflow.com/users/881392/brocksamson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1394, "favorite_count": 0, "accepted_answer_id": 40516033, "answer_count": 1, "score": 6, "last_activity_date": 1478727558, "creation_date": 1478723870, "last_edit_date": 1478727558, "question_id": 40515609, "link": "https://stackoverflow.com/questions/40515609/head-method-not-allowed-after-upgrading-to-django-rest-framework-3-5-3", "title": "HEAD method not allowed after upgrading to django-rest-framework 3.5.3", "body": "<p>We are upgrading django-rest-framework from 3.1.3 to 3.5.3.  After the upgrade all of our ModelViewSet and viewsets.GenericViewSet views that utilize DefaultRouter to generate the urls no longer allow HEAD method calls.  I've searched through the release notes and docs and haven't been able to find any setting or change that caused HEAD to stop being allowed.</p>\n\n<p>I'm able to resolve this issue by subclassing the DefaultRouter and altering the route defaults, but I don't think this is the best or correct solution.  From reading within django-rest-framework issues and documentation, it appears that django-rest-framework should handle HEAD and OPTIONS methods automatically.</p>\n\n<p>@detail_route, @list_route, and views derived from ApiView which allow the GET method are automatically gaining the HEAD and OPTION methods.</p>\n\n<p>Why has the HEAD method disappeared after this upgrade and what is the correct method of ensuring HEAD methods are allowed on our routes?</p>\n\n<p>Our route and ModelViewSet definitions are very standard, here is a non working route:</p>\n\n<pre><code>from rest_framework.routers import DefaultRouter\nfrom user_profile import views\n\nrouter = DefaultRouter(trailing_slash=False)\nrouter.register(r'user_names', views.UserNameView)\n\nurlpatterns = router.urls\n</code></pre>\n\n<p>And the view:</p>\n\n<pre><code>class UserNameView(mixins.ListModelMixin,\n        mixins.RetrieveModelMixin,\n        viewsets.GenericViewSet):\n    queryset = User.objects.only(\n        \"id\", \"first_name\", \"last_name\", \"email\",\n        \"mobile_phone\", \"photo\", \"is_active\", \"date_joined\"\n    ).select_related(\"photo\").all()\n    serializer_class = serializers.UserNameSerializer\n</code></pre>\n\n<p>Postman response to a HEAD call:</p>\n\n<pre><code>Status: 405 Method Not Allowed\nAllow \u2192GET, OPTIONS\nContent-Type \u2192application/json\nDate \u2192Wed, 09 Nov 2016 20:50:41 GMT\nServer \u2192WSGIServer/0.1 Python/2.7.12\nVary \u2192Cookie\nX-Frame-Options \u2192SAMEORIGIN\nx-xss-protection \u21921; mode=block\n</code></pre>\n"}, {"tags": ["python", "sql-server", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 4681802, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d9c5fa76217ee830a60e2a639b909917?s=128&d=identicon&r=PG&f=1", "display_name": "NLMDEJ", "link": "https://stackoverflow.com/users/4681802/nlmdej"}, "is_accepted": false, "score": 0, "last_activity_date": 1478791642, "creation_date": 1478791642, "answer_id": 40531220, "question_id": 40515584, "link": "https://stackoverflow.com/questions/40515584/sqlalchemy-df-to-sql-mssql/40531220#40531220", "title": "SQLAlchemy df.to_sql MSSQL", "body": "<p>It seems as if I have found the problem(s):</p>\n\n<ol>\n<li>The \"Create Table\" function is unneeded as the df.to_sql creates the table</li>\n<li>Instead of the \"+\" in the Driver name, I was able to replace them with %20</li>\n</ol>\n\n<p>This worked for me.</p>\n"}], "owner": {"reputation": 321, "user_id": 4681802, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d9c5fa76217ee830a60e2a639b909917?s=128&d=identicon&r=PG&f=1", "display_name": "NLMDEJ", "link": "https://stackoverflow.com/users/4681802/nlmdej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 518, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478791642, "creation_date": 1478723800, "question_id": 40515584, "link": "https://stackoverflow.com/questions/40515584/sqlalchemy-df-to-sql-mssql", "title": "SQLAlchemy df.to_sql MSSQL", "body": "<p>I am trying to move data from a database I own to a database I only have read/write permissions on (as a temp table). However, I get an error. Please see the below code:</p>\n\n<pre><code>import pandas as pd\nimport pyodbc\nimport sqlalchemy\n\ncon = pyodbc.connect(r'Driver={SQL Server};Server=MYServer;Database=DB_People;Trusted_Connection=yes;)\n\nsSQL = \"SELECT * FROM tbl_People;\"\n\ndf = pd.read_sql(sSQL, con)\n\ncon.close()\n\ncon = pyodbc.connect(r'Driver={SQL Server};Server=NOT_MyServer;Database=DB_People;Trusted_Connection=yes;)\n\nsSQL = \"CREATE TABLE [##People Table] (p_Name varchar(25), p_DOB char(10));\"\n\ncon.execute(sSQL)\n\ncon.committ()\n\nengine = sqlalchemy.create_engine('mssql://NOT_MyServer/DB_People?Driver=SQL+Server+Native+Client+11.0?trusted_connection=yes')\n\ndf.to_sql(\"##People Table\")\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>DBAPIError: (pyodbc.Error) ('IM002', '[IM002] [Microsoft][ODBC Driver Manager] Data source name not found and no default driver specified (0) (SQLDriverConnect)')\n</code></pre>\n\n<p>Any clues as to what the issue is? I specified a Driver in my connection and I know the Temp table exists because when I connect via SSMS I can query the table (although there are no records at this point.</p>\n\n<p>I </p>\n"}, {"tags": ["python", "python-2.7", "methods", "import", "self"], "comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1478723782, "post_id": 40515540, "comment_id": 68272763, "body": "<code>from Y import Y-class</code> that is not valid syntax. Please copy paste your code properly."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1478723854, "post_id": 40515540, "comment_id": 68272816, "body": "@AlexHall I&#39;m pretty sure that is not a copy and paste error."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1478723952, "post_id": 40515540, "comment_id": 68272863, "body": "<code>from Y import Yclass</code> followed by the line <code>txtCorpus</code> is still definitely wrong."}, {"owner": {"reputation": 57, "user_id": 6264592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YhXyaXVRSM0/AAAAAAAAAAI/AAAAAAAABSo/rGAYA3N0phY/photo.jpg?sz=128", "display_name": "Leandro Santos", "link": "https://stackoverflow.com/users/6264592/leandro-santos"}, "edited": false, "score": 0, "creation_date": 1478724134, "post_id": 40515540, "comment_id": 68272946, "body": "<code>from Y import PreProcessing</code> I used it this way to try to leave it generically. It was not a copy and paste error"}, {"owner": {"reputation": 57, "user_id": 6264592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YhXyaXVRSM0/AAAAAAAAAAI/AAAAAAAABSo/rGAYA3N0phY/photo.jpg?sz=128", "display_name": "Leandro Santos", "link": "https://stackoverflow.com/users/6264592/leandro-santos"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1478731718, "post_id": 40515540, "comment_id": 68276225, "body": "@AlexHall I have edited so as not to generate further confusion."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1478731903, "post_id": 40515540, "comment_id": 68276308, "body": "@LeandroS.Matos it&#39;s not complicated. I should be able to copy the code you put here into files and see the same errors you posted. Try it now. You won&#39;t get those errors. You&#39;ll get a NameError for having <code>txtCorpus</code> just sitting in a line on its own. Where did the <code>class</code> declaration go?"}, {"owner": {"reputation": 57, "user_id": 6264592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YhXyaXVRSM0/AAAAAAAAAAI/AAAAAAAABSo/rGAYA3N0phY/photo.jpg?sz=128", "display_name": "Leandro Santos", "link": "https://stackoverflow.com/users/6264592/leandro-santos"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1478733782, "post_id": 40515540, "comment_id": 68276992, "body": "@AlexHall Variable text Corpus is a specific variable that receives a text file. You can check here <a href=\"http://pastebin.com/bXkBLFqZ\" rel=\"nofollow noreferrer\">Script X</a> and here <a href=\"http://pastebin.com/ifd0bBGF\" rel=\"nofollow noreferrer\">Script Y</a>. The complete code. I tried some solutions that appeared below, but I still have an error in specific. If you can, check it to see more detail.   Edit:  I used the name of the scripts I put here in the post, but the name of the class is another, only, to make the subject more global  Edit 2: The code is on my mother language, sorry."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 6264592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YhXyaXVRSM0/AAAAAAAAAAI/AAAAAAAABSo/rGAYA3N0phY/photo.jpg?sz=128", "display_name": "Leandro Santos", "link": "https://stackoverflow.com/users/6264592/leandro-santos"}, "edited": false, "score": 0, "creation_date": 1478724933, "post_id": 40515606, "comment_id": 68273341, "body": "Ok. I change the  <code>def initial_processing(self):</code>  to  <code>def initial_processing(self,text):</code>  So I invoked the method <code>myCorpus = instance.initial_processing(txtCorpus)</code> and  I received this error: <code>return self.__text AttributeError: PreProcessing instance has no attribute &#39;_PreProcessing__text&#39; </code>"}], "tags": [], "owner": {"reputation": 4567, "user_id": 1318734, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/S3JJ2.gif?s=128&g=1", "display_name": "rofls", "link": "https://stackoverflow.com/users/1318734/rofls"}, "is_accepted": false, "score": 0, "last_activity_date": 1478723862, "creation_date": 1478723862, "answer_id": 40515606, "question_id": 40515540, "link": "https://stackoverflow.com/questions/40515540/python-2-7-how-to-call-class-method-from-imported-module-self-argument/40515606#40515606", "title": "Python 2.7 - How to call class method from imported module? \u201cSelf\u201d argument", "body": "<p>You don't include a complete exampl, but the error you're seeing here <code>TypeError: initial_processing() takes exactly 1 argument (2 given)</code> is because you define <code>initial_processing</code> as such:</p>\n\n<pre><code>def initial_processing(self):\n</code></pre>\n\n<p>Which only takes 1 argument (the class instance). Then, you pass it two arguments (the <code>instance</code>, and <code>txtCorpus</code>):</p>\n\n<pre><code>myCorpus = instance.initial_processing(txtCorpus)\n</code></pre>\n\n<p>Think of class methods like this:</p>\n\n<pre><code>instance.initial_processing(txtCorpus)\n# equivalent to\ninitial_processing(instance, txtCorpus)\n</code></pre>\n\n<p>So you pass 2 arguments but only define the method to process 1. Hence, you need to define it to take two arguments:</p>\n\n<pre><code>def initial_processing(self, txt):\n# code here\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 6264592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YhXyaXVRSM0/AAAAAAAAAAI/AAAAAAAABSo/rGAYA3N0phY/photo.jpg?sz=128", "display_name": "Leandro Santos", "link": "https://stackoverflow.com/users/6264592/leandro-santos"}, "edited": false, "score": 0, "creation_date": 1478726208, "post_id": 40515629, "comment_id": 68273973, "body": "Ok. I change the <code>def initial_processing(self):</code> to def <code>initial_processing(self,text):</code> So I invoked the method <code>myCorpus = instance.initial_processing(txtCorpus)</code> and I received this <code>error: return self.__text AttributeError: PreProcessing instance has no attribute &#39;_PreProcessing__text&#39;</code>"}, {"owner": {"reputation": 2134, "user_id": 2141391, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/89ac403a5be7d6a57405337f5d809b41?s=128&d=identicon&r=PG", "display_name": "user108471", "link": "https://stackoverflow.com/users/2141391/user108471"}, "reply_to_user": {"reputation": 57, "user_id": 6264592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YhXyaXVRSM0/AAAAAAAAAAI/AAAAAAAABSo/rGAYA3N0phY/photo.jpg?sz=128", "display_name": "Leandro Santos", "link": "https://stackoverflow.com/users/6264592/leandro-santos"}, "edited": false, "score": 0, "creation_date": 1478813529, "post_id": 40515629, "comment_id": 68314231, "body": "@LeandroS.Matos It sounds like you never created the instance variable <code>__text</code>. Try doing so in your constructor, like by adding the <code>__init__</code> method I just edited my answer with."}], "tags": [], "owner": {"reputation": 2134, "user_id": 2141391, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/89ac403a5be7d6a57405337f5d809b41?s=128&d=identicon&r=PG", "display_name": "user108471", "link": "https://stackoverflow.com/users/2141391/user108471"}, "is_accepted": false, "score": 0, "last_activity_date": 1478813473, "last_edit_date": 1478813473, "creation_date": 1478723974, "answer_id": 40515629, "question_id": 40515540, "link": "https://stackoverflow.com/questions/40515540/python-2-7-how-to-call-class-method-from-imported-module-self-argument/40515629#40515629", "title": "Python 2.7 - How to call class method from imported module? \u201cSelf\u201d argument", "body": "<p>Looks like the issue is that your function is not a part of the class you think it is. You should indent it so that it is a part of the class, and add an argument for it to accept (the txtCorpus).</p>\n\n<pre><code>class PreProcessing():\n     def __init__(self):\n         self.__text = None\n\n     @property\n     def text(self):\n        return self.__text\n\n     @text.setter\n     def text(self, text):\n         self.__text = text\n\n     tokens = None # Not sure what this is for...?\n     def initial_processing(self, txt):\n          #Operations\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1371, "user_id": 5798435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46e85c028ee4f738679c57821206d870?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Ingham", "link": "https://stackoverflow.com/users/5798435/mukesh-ingham"}, "is_accepted": false, "score": 0, "last_activity_date": 1478724298, "last_edit_date": 1478724298, "creation_date": 1478723983, "answer_id": 40515631, "question_id": 40515540, "link": "https://stackoverflow.com/questions/40515540/python-2-7-how-to-call-class-method-from-imported-module-self-argument/40515631#40515631", "title": "Python 2.7 - How to call class method from imported module? \u201cSelf\u201d argument", "body": "<p>The error is that when defining you need to put in 2 arguments, one for self and one for txtCorput</p>\n\n<pre><code>def initial_processing(self, txt):\n  # Operations\n</code></pre>\n\n<p>Y file:</p>\n\n<pre><code>class PreProcessing():\n     @property\n     def text(self):\n        return self.__text\n\n     @text.setter\n     def text(self, text):\n         self.__text = text\n\n  tokens = None\n  def initial_processing(self, corpus):\n    # Operations\n</code></pre>\n\n<p>There is nothing wrong with your X script (except that you are importing Yclass not PreProcessing ^^)</p>\n"}], "owner": {"reputation": 57, "user_id": 6264592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YhXyaXVRSM0/AAAAAAAAAAI/AAAAAAAABSo/rGAYA3N0phY/photo.jpg?sz=128", "display_name": "Leandro Santos", "link": "https://stackoverflow.com/users/6264592/leandro-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 706, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1478813473, "creation_date": 1478723616, "last_edit_date": 1495541622, "question_id": 40515540, "link": "https://stackoverflow.com/questions/40515540/python-2-7-how-to-call-class-method-from-imported-module-self-argument", "title": "Python 2.7 - How to call class method from imported module? \u201cSelf\u201d argument", "body": "<p>I've been looking here in the forum to try to find an answer and the most similar I found was this: <a href=\"https://stackoverflow.com/questions/31233691/python-how-to-call-class-method-from-imported-module-self-argument-issue\">Python: How to call class method from imported module? \u201cSelf\u201d argument issue</a> . But it does not solve my problem.</p>\n\n<p>I have 2 script: 1- X and 2-Y. I need to import some def () from Y to X and here's my code where I import and instantiate:</p>\n\n<p>X Script -  it I have a variable called <code>txtCorpus</code> which is the one I intend to manipulate</p>\n\n<pre><code>import Y\nfrom Y import PreProcessing\ntxtCorpus\ndef status_processing(txtCorpus):\n    instance = PreProcessing() #Here is where to instantiate the class contained within the Y script and where it has some defs that I need\n    myCorpus = instance.initial_processing(txtCorpus)\n#After some other lines of operation ...\nif __name__ == \"__main__\":\n    status_processing(txtCorpus)\n</code></pre>\n\n<p>Now the Script Y</p>\n\n<pre><code>class PreProcessing():\n     @property\n     def text(self):\n        return self.__text\n\n     @text.setter\n     def text(self, text):\n         self.__text = text\n\ntokens = None\ndef initial_processing(self):\n#Operations\n</code></pre>\n\n<p>When I execute the way it is there, the following error is shown:</p>\n\n<pre><code>TypeError: initial_processing() takes exactly 1 argument (2 given)\n</code></pre>\n\n<p>When I do this <code>myCorpus = instance.initial_processing()</code> , the following error is shown:</p>\n\n<pre><code>AttributeError: PreProcessing instance has no attribute '_PreProcessing__text'\n</code></pre>\n\n<p>What is the way I have to instantiate for the code to work when I pass <code>txtCorpus</code> as a parameter?</p>\n"}, {"tags": ["python", "regex", "python-2.7", "error-handling"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1478723629, "post_id": 40515515, "comment_id": 68272676, "body": "&quot;+&quot; is a meta-character; you need to escape it with a backslash."}, {"owner": {"reputation": 2134, "user_id": 6107054, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5d3d2798d6e68fa3d2b0c3af524d9345?s=128&d=identicon&r=PG&f=1", "display_name": "aberger", "link": "https://stackoverflow.com/users/6107054/aberger"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1478723749, "post_id": 40515515, "comment_id": 68272739, "body": "Sorry, I was not specific enough. I am doing this substitution with many pairs of strings that I do not know beforehand. I am looking for a general solution for this. I will add an edit."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1478723776, "post_id": 40515515, "comment_id": 68272759, "body": "The solution is in the linked thread. Use <code>re.escape</code>. <code>re.sub(re.escape(&#39;++&#39;), &#39;C++&#39;, &#39;replace ++ in string&#39;)</code>. Or if the replacements are literal, use <code>str.replace</code> (<code>s = s.replace(&#39;++&#39;, &#39;C++&#39;)</code>)."}, {"owner": {"reputation": 2134, "user_id": 6107054, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5d3d2798d6e68fa3d2b0c3af524d9345?s=128&d=identicon&r=PG&f=1", "display_name": "aberger", "link": "https://stackoverflow.com/users/6107054/aberger"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1478724662, "post_id": 40515515, "comment_id": 68273206, "body": "@WiktorStribi\u017cew Do you know about the performance of re.escape()? My example was pretty trivial, but i&#39;ll need to do this on about 10GB of text data for hundreds of thousands, likely millions, of pairs."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1478724744, "post_id": 40515515, "comment_id": 68273236, "body": "Again, if you deal with <i>literal text replacements</i>, use <code>str.replace</code>. It will be the most efficient. Else, you just have to use <code>re.escape</code>."}], "owner": {"reputation": 2134, "user_id": 6107054, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5d3d2798d6e68fa3d2b0c3af524d9345?s=128&d=identicon&r=PG&f=1", "display_name": "aberger", "link": "https://stackoverflow.com/users/6107054/aberger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1478723699, "answer_count": 0, "score": 0, "last_activity_date": 1478723827, "creation_date": 1478723521, "last_edit_date": 1478723827, "question_id": 40515515, "link": "https://stackoverflow.com/questions/40515515/except-error-nothing-to-repeat-or-error-multiple-repeat-in-try-except-bloc", "closed_reason": "Duplicate", "title": "Except &quot;error: nothing to repeat&quot; or &quot;error: multiple repeat&quot; in try/except block", "body": "<p><strong>EDIT:</strong> I am handling hundreds of thousands of pairs of strings for a substitution. Some turn out to have special characters in them and I need to handle these solutions on the fly when they occur.</p>\n\n<p>When I try</p>\n\n<pre><code>re.sub('++', 'C++', 'replace ++ in string')\n</code></pre>\n\n<p>I get the error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;pyshell#202&gt;\", line 1, in &lt;module&gt;\n    re.sub(r'++', 'C++', 'replace ++ in string')\n  File \"C:\\Users\\Me\\AppData\\Local\\Continuum\\Anaconda2\\lib\\re.py\", line 155, in sub\n    return _compile(pattern, flags).sub(repl, string, count)\n  File \"C:\\Users\\Me\\AppData\\Local\\Continuum\\Anaconda2\\lib\\re.py\", line 251, in _compile\n    raise error, v # invalid expression\nerror: nothing to repeat\n</code></pre>\n\n<p>Is there a way to specify that I am looking for this error specifically in a try/except block? Something like <code>except \"NothingToRepeatError\":</code> </p>\n\n<p>I mentioned multiple repeat error in the title as well because I came across it while trying to solve the nothing to repeat error.</p>\n"}, {"tags": ["python", "list", "nested-lists"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7122512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txdGY.jpg?s=128&g=1", "display_name": "Elias M", "link": "https://stackoverflow.com/users/7122512/elias-m"}, "edited": false, "score": 0, "creation_date": 1478737765, "post_id": 40515838, "comment_id": 68278125, "body": "Wow, well, yeah, I&#39;m dumb, I should have thought about that. I always try to do stuff I don&#39;t know about and don&#39;t think about the simplest stuff... Anyway, thank you very much for your help !! Have a nice day !"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1478724803, "creation_date": 1478724803, "answer_id": 40515838, "question_id": 40515484, "link": "https://stackoverflow.com/questions/40515484/need-to-update-place-of-item-in-nested-list-python/40515838#40515838", "title": "Need to update place of item in nested list python", "body": "<p>It is very simple. You have to write a <code>for loop</code> and move the position of item from <code>[i][i]</code> to <code>[i][i+1]</code> and then <code>[i][i+1]</code> to <code>[i+1][i+1]</code>. Let's see with example. Initially our string is like this:</p>\n\n<pre><code>my_list = [['Here', '', ''], ['', '', ''], ['', '', '']]\n</code></pre>\n\n<p>And here is our loop:</p>\n\n<pre><code>for i in range(len(my_list) -1 ):\n    my_list[i][i+1], my_list[i][i] = my_list[i][i], my_list[i][i+1]\n    print 'New position ---&gt;', my_list\n    my_list[i][i+1], my_list[i+1][i+1] = my_list[i+1][i+1], my_list[i][i+1]\n    print 'New position ---&gt;', my_list\n</code></pre>\n\n<p>which will print the list in one line. For your clarity, I will illustrate it line 3x3 matrix.</p>\n\n<pre><code>#Initially, position = 0, 0\n[['Here', '', ''], \n ['', '', ''], \n ['', '', '']]\n\n# for i = 0, first print, position = 0, 1\n[['', 'Here', ''], \n ['', '', ''], \n ['', '', '']]\n\n# for i=0, second print, position = 1, 1\n[['', '', ''], \n ['', 'Here', ''], \n ['', '', '']]\n\n# for i=1, first print, position = 1, 2\n[['', '', ''], \n ['', '', 'Here'], \n ['', '', '']]\n\n# for i=1, second print, position = 2, 2\n[['', '', ''], \n ['', '', ''],\n ['', '', 'Here']] \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7122512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/txdGY.jpg?s=128&g=1", "display_name": "Elias M", "link": "https://stackoverflow.com/users/7122512/elias-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478726851, "creation_date": 1478723404, "last_edit_date": 1478726851, "question_id": 40515484, "link": "https://stackoverflow.com/questions/40515484/need-to-update-place-of-item-in-nested-list-python", "title": "Need to update place of item in nested list python", "body": "<p>I have this nested list. The item at <code>[0][0]</code> is special and called <code>\"h\"</code>. I'd like <code>\"h\"</code> to be updated so it gives the illusion that it \"moves\" across the lists from <strong>one</strong> item to the other at a time (example, it could move from <code>[0][0]</code> to <code>[0][1]</code>, then from <code>[0][1]</code> to <code>[1][1]</code>, but not from <code>[1][1]</code> to <code>[3][5]</code>) \nI'm trying to build a function that would do the job for any possible pair of numbers in my nested list (6 lists of 6 items, so the max would be [6][6])\nHowever, I can't find a way to put a \"neutral item\" in my function. I've tried something like this (so it goes from <code>[0][0]</code> to <code>[0][1]</code> etc):</p>\n\n<pre><code>for sublist in list:\n        for item in sublist:\n            h=list[n][n+1]\n</code></pre>\n\n<p>so that wherever h is, the function updates its position accordingly. But Python tells me that <em>n</em> cannot be used because it's a string. </p>\n\n<p>What could I potentially do? Is a function the right tool? Should I use something else?</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 2, "creation_date": 1478723412, "post_id": 40515482, "comment_id": 68272566, "body": "Please, <b>put all relevant code in your question</b>. I it hard to read the code in your picture(for me at least)."}, {"owner": {"reputation": 80, "user_id": 6647782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1749422841937097/picture?type=large", "display_name": "Michael Zeng", "link": "https://stackoverflow.com/users/6647782/michael-zeng"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1478723803, "post_id": 40515482, "comment_id": 68272776, "body": "i just added the rest. thanks for telling me."}], "answers": [{"comments": [{"owner": {"reputation": 80, "user_id": 6647782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1749422841937097/picture?type=large", "display_name": "Michael Zeng", "link": "https://stackoverflow.com/users/6647782/michael-zeng"}, "edited": false, "score": 0, "creation_date": 1478728491, "post_id": 40515575, "comment_id": 68275006, "body": "when the turtle starts to go backward, does it follow this order of the code? after move backward for 15, does it first turn right 20 degree, turn left 40 degree, and then turn right 20 degree, wait, isnn&#39;t it back to where it was pointing at? then how does it draw the first branch by moving forward 15?"}, {"owner": {"reputation": 79096, "user_id": 865874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ACMnN.png?s=128&g=1", "display_name": "rodrigo", "link": "https://stackoverflow.com/users/865874/rodrigo"}, "reply_to_user": {"reputation": 80, "user_id": 6647782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1749422841937097/picture?type=large", "display_name": "Michael Zeng", "link": "https://stackoverflow.com/users/6647782/michael-zeng"}, "edited": false, "score": 0, "creation_date": 1478728630, "post_id": 40515575, "comment_id": 68275066, "body": "@MichaelZeng: The order of the code? The code is always run in order, top to bottom. When you call a function, the turtle remembers the position in code and when the function ends, it continues from that position."}, {"owner": {"reputation": 80, "user_id": 6647782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1749422841937097/picture?type=large", "display_name": "Michael Zeng", "link": "https://stackoverflow.com/users/6647782/michael-zeng"}, "edited": false, "score": 0, "creation_date": 1478729462, "post_id": 40515575, "comment_id": 68275374, "body": "i am still confused. when the turtle reaches the end by moving forward 15, then it turns to the right for 20 degree, and because 15-15 is &lt;5, so the tree(branchLen-15,t) will not be executed. Then, the turtle turns to the left for 40 degree, and again, the following the tree(branchLen-15,t) will not be executed will not be executed. the turtle then turn to the right for 20 degree, when it reaches the bottom line the turtle move backward 15. if the code is ran in order from top to bottom, the turtle then move forward 15 and repeat. isn&#39;t it the turtle will keep moving back and forth?"}, {"owner": {"reputation": 79096, "user_id": 865874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ACMnN.png?s=128&g=1", "display_name": "rodrigo", "link": "https://stackoverflow.com/users/865874/rodrigo"}, "reply_to_user": {"reputation": 80, "user_id": 6647782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1749422841937097/picture?type=large", "display_name": "Michael Zeng", "link": "https://stackoverflow.com/users/6647782/michael-zeng"}, "edited": false, "score": 0, "creation_date": 1478730755, "post_id": 40515575, "comment_id": 68275863, "body": "@MichaelZeng &quot;...and repeat.&quot; Here is the cofusion. There are no loops in this code so no repetition. After moving back the function just finishes and goes back to the calling function."}], "tags": [], "owner": {"reputation": 79096, "user_id": 865874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ACMnN.png?s=128&g=1", "display_name": "rodrigo", "link": "https://stackoverflow.com/users/865874/rodrigo"}, "is_accepted": true, "score": 1, "last_activity_date": 1478723785, "creation_date": 1478723785, "answer_id": 40515575, "question_id": 40515482, "link": "https://stackoverflow.com/questions/40515482/can-someone-explain-to-me-how-does-this-recursion-program-work/40515575#40515575", "title": "Can someone explain to me how does this recursion program work?", "body": "<p>The key to get a successful recursive drawing with the Turtle is to leave the little turtle just at the same place where you found it. That way, you can call several functions one after the other and they will fit seamlessly.</p>\n\n<p>In your specific code:</p>\n\n<p>t.forward(branchLen)</p>\n\n<p>It draws the branch.</p>\n\n<pre><code>t.right(20)\n</code></pre>\n\n<p>It rotates to the right to prepare for the first sub-branch.</p>\n\n<pre><code>tree(branchLen-15,t)\n</code></pre>\n\n<p>Draws a smaller sub-branch. Remember that upon returning from this sub-branch the turtle will be at the same place.</p>\n\n<pre><code>t.left(40)\n</code></pre>\n\n<p>It rolls back the previous turn (20) and rotates to the left (+20) to prepare for the second sub-branch.</p>\n\n<pre><code>tree(branchLen-15,t)\n</code></pre>\n\n<p>Draws the second sub-branch.</p>\n\n<pre><code>t.right(20)\nt.backward(branchLen)\n</code></pre>\n\n<p>And these two lines are the key. The first one undoes the rotation so that the turtle is looking forward. The second line moves back to the starting point.</p>\n"}], "owner": {"reputation": 80, "user_id": 6647782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1749422841937097/picture?type=large", "display_name": "Michael Zeng", "link": "https://stackoverflow.com/users/6647782/michael-zeng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 40515575, "answer_count": 1, "score": 0, "last_activity_date": 1478725060, "creation_date": 1478723392, "last_edit_date": 1478725060, "question_id": 40515482, "link": "https://stackoverflow.com/questions/40515482/can-someone-explain-to-me-how-does-this-recursion-program-work", "title": "Can someone explain to me how does this recursion program work?", "body": "<p><img src=\"https://i.stack.imgur.com/mnQE8.png\" alt=\"enter image description here\"></p>\n\n<p>I understand that the cursor first make a 90 degree turn to the left, then goes backward 100, and that where the recursion begins.</p>\n\n<p>However, base on the order of the code in the tree function, the cursor will go forward 75, turn right 20 degree, then the recursion occur again and forward 75-15. This will happen 5 times with the last one only forward 10. Then the cursor will make the backward 10, then turn to the left for 40 degree, and so on.</p>\n\n<p>This is where I got confused. </p>\n\n<pre><code>    def tree(branchLen,t)\n    if (branchLen&gt;5): \n    t.forward(branchLen)\n    t.right(20)\n    tree(branchLen-15,t)\n    t.left(40)\n    tree(branchLen-15,t)\n    t.right(20)\n    t.backward(branchLen)\n\ndef main():\n    t = turtle.Turtle()\n    myWin = turtle.Screen()\n    t.left(90)\n    t.up()\n    t.backward(100)\n    t.down()\n    t.color(\"green\")\n    tree(75,t)\n    myWin.exitonclick()\n</code></pre>\n\n<p>the program seems to jump into the last line of code then the middle one, then move forward 10, and so on, i just could not figure out how to follow the codes for the action they make. I undestand the graoh with one recursion, but this one really gives me headache.</p>\n"}, {"tags": ["python", "csv", "datetime", "pandas"], "comments": [{"owner": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "edited": false, "score": 0, "creation_date": 1478723608, "post_id": 40515476, "comment_id": 68272667, "body": "Can you update your question with more examples in your CSV file and some code on how you read it?"}, {"owner": {"reputation": 651, "user_id": 7049687, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207887708890701/picture?type=large", "display_name": "Franklin Harvey", "link": "https://stackoverflow.com/users/7049687/franklin-harvey"}, "reply_to_user": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "edited": false, "score": 0, "creation_date": 1478723875, "post_id": 40515476, "comment_id": 68272830, "body": "@kiran.koduru does that update help?"}, {"owner": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "edited": false, "score": 0, "creation_date": 1478723905, "post_id": 40515476, "comment_id": 68272840, "body": "So you want to write this information to a new CSV file? I am new to pandas myself but do you want to create a <code>Dataframe</code> object with the rows?"}], "answers": [{"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1478724857, "post_id": 40515754, "comment_id": 68273302, "body": "you beat me to it."}, {"owner": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "edited": false, "score": 1, "creation_date": 1478724968, "post_id": 40515754, "comment_id": 68273360, "body": "Damn! Arguments in <code>Dataframes</code> I did not know existed."}, {"owner": {"reputation": 651, "user_id": 7049687, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207887708890701/picture?type=large", "display_name": "Franklin Harvey", "link": "https://stackoverflow.com/users/7049687/franklin-harvey"}, "edited": false, "score": 0, "creation_date": 1478725109, "post_id": 40515754, "comment_id": 68273447, "body": "and to pass a whole CSV file, just replace &quot;StringIO()&quot; with the name of the CSV? @Psidom"}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1478725190, "post_id": 40515754, "comment_id": 68273485, "body": "Yes. That&#39;s where the file name should go."}, {"owner": {"reputation": 651, "user_id": 7049687, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207887708890701/picture?type=large", "display_name": "Franklin Harvey", "link": "https://stackoverflow.com/users/7049687/franklin-harvey"}, "edited": false, "score": 0, "creation_date": 1478725932, "post_id": 40515754, "comment_id": 68273859, "body": "can you briefly explain the &quot;lambda&quot; in the &quot;date_parser&quot; line? @Psidom"}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 3, "last_activity_date": 1478726334, "last_edit_date": 1478726334, "creation_date": 1478724420, "answer_id": 40515754, "question_id": 40515476, "link": "https://stackoverflow.com/questions/40515476/python-replace-multiple-date-columns-with-datetime/40515754#40515754", "title": "Python replace multiple date columns with datetime", "body": "<p>You can specify the <code>parse_dates</code> parameter as the indices of the date time related columns and write a customized <code>date_parser</code> function to convert the multiple columns as a datetime column. Specify the <code>index_col</code> if you want it to be the index:</p>\n\n<pre><code>import pandas as pd   \nfrom io import StringIO   \npd.read_csv(StringIO(\"\"\"\n\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Direct\",\"Diffuse\",\"D_Global\",\"D_IR\",\"U_Global\",\"U_IR\",\"Zenith\"\n2015,4,1,0,1,17.59,13.27,-999.00,158.94,10.75,178.97,88.700\n2015,4,1,0,2,20.23,12.67,-999.00,159.45,10.68,178.99,88.726\n2015,4,1,0,3,20.90,12.42,-999.00,159.77,10.55,179.03,88.752\n2015,4,1,0,4,16.38,11.93,-999.00,160.68,10.47,179.45,88.777\"\"\"), \n            sep = \",\", \n            parse_dates={'Date': [0,1,2,3,4]}, \n            date_parser = lambda x: pd.to_datetime(x, format=\"%Y %m %d %H %M\"), \n            index_col = ['Date'])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/L2tuc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2tuc.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Update</em>: \nThe way <code>date_parser</code> function works according to <code>pd.read_csv()</code> docs:</p>\n\n<blockquote>\n  <p>1) Pass one or more arrays\n      (as defined by parse_dates) as arguments; 2) concatenate (row-wise) the\n      string values from the columns defined by parse_dates into a single array\n      and pass that; and 3) call date_parser once for each row using one or more\n      strings (corresponding to the columns defined by parse_dates) as arguments.</p>\n</blockquote>\n\n<p>There are multiple ways this parameter can be used depending on how your customized date parser function is written, in the case given above, for instance, the second option is used, for every row, columns 0-4 are concatenated as strings separated by a whitespace and passed to <code>pd.to_datetime()</code> function and so a format of <code>%Y %m %d %H %M</code> works here.</p>\n"}], "owner": {"reputation": 651, "user_id": 7049687, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207887708890701/picture?type=large", "display_name": "Franklin Harvey", "link": "https://stackoverflow.com/users/7049687/franklin-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "accepted_answer_id": 40515754, "answer_count": 1, "score": 1, "last_activity_date": 1478726334, "creation_date": 1478723365, "last_edit_date": 1478723840, "question_id": 40515476, "link": "https://stackoverflow.com/questions/40515476/python-replace-multiple-date-columns-with-datetime", "title": "Python replace multiple date columns with datetime", "body": "<p>I have csv files with multiple headers:</p>\n\n<pre><code>Year', 'Month', 'Day', 'Hour', 'Minute' --other headers--\n</code></pre>\n\n<p>I would like to downsize these with datetime. Right now I'm doing:</p>\n\n<pre><code>date = datetime(year=int(d[0]), month=int(d[1]), day=int(d[2]]), hour=int(d[3]]), minute=int(d[4]]))\n</code></pre>\n\n<p>But how do I actually delete those columns and put the date column before all other columns? I eventually want the \"date\" to be the index in a pandas dataframe.</p>\n\n<p>UPDATE:\nThe first five rows of one of my CSV's is:</p>\n\n<pre><code>\"Year\",\"Month\",\"Day\",\"Hour\",\"Minute\",\"Direct\",\"Diffuse\",\"D_Global\",\"D_IR\",\"U_Global\",\"U_IR\",\"Zenith\"\n2015,4,1,0,1,17.59,13.27,-999.00,158.94,10.75,178.97,88.700\n2015,4,1,0,2,20.23,12.67,-999.00,159.45,10.68,178.99,88.726\n2015,4,1,0,3,20.90,12.42,-999.00,159.77,10.55,179.03,88.752\n2015,4,1,0,4,16.38,11.93,-999.00,160.68,10.47,179.45,88.777\n</code></pre>\n\n<p>I would like to have</p>\n\n<pre><code>\"Date\",\"Direct\",\"Diffuse\",\"D_Global\",\"D_IR\",\"U_Global\",\"U_IR\",\"Zenith\"\nDATETIMEOBJECT,17.59,13.27,-999.00,158.94,10.75,178.97,88.700\nDATETIMEOBJECT,20.23,12.67,-999.00,159.45,10.68,178.99,88.726\nDATETIMEOBJECT,20.90,12.42,-999.00,159.77,10.55,179.03,88.752\nDATETIMEOBJECT,16.38,11.93,-999.00,160.68,10.47,179.45,88.777\n</code></pre>\n"}, {"tags": ["python", "django", "file-browser", "django-filebrowser"], "answers": [{"tags": [], "owner": {"reputation": 281, "user_id": 3750463, "user_type": "registered", "profile_image": "https://graph.facebook.com/1517628519/picture?type=large", "display_name": "Marco Ferrantini", "link": "https://stackoverflow.com/users/3750463/marco-ferrantini"}, "is_accepted": false, "score": 0, "last_activity_date": 1478731625, "creation_date": 1478731625, "answer_id": 40517274, "question_id": 40515422, "link": "https://stackoverflow.com/questions/40515422/missing-leading-slash-on-images-uploaded-with-django-filebrowser/40517274#40517274", "title": "Missing leading slash on images uploaded with Django Filebrowser", "body": "<p>Finally I've got the point. It's enough to set explicitly <code>MEDIA_ROOT</code> and <code>MEDIA_URL</code>:</p>\n\n<pre><code>MEDIA_URL = '/media/'\nMEDIA_ROOT = os.path.join(BASE_DIR, 'media/')\n</code></pre>\n\n<p>Now Filebrowser will search for <code>\"uploads/\"</code> and <code>\"_versions/\"</code> folders in this new parent one, so <code>\"/media\"</code> needs to be served accordingly.</p>\n"}], "owner": {"reputation": 281, "user_id": 3750463, "user_type": "registered", "profile_image": "https://graph.facebook.com/1517628519/picture?type=large", "display_name": "Marco Ferrantini", "link": "https://stackoverflow.com/users/3750463/marco-ferrantini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478731625, "creation_date": 1478723177, "question_id": 40515422, "link": "https://stackoverflow.com/questions/40515422/missing-leading-slash-on-images-uploaded-with-django-filebrowser", "title": "Missing leading slash on images uploaded with Django Filebrowser", "body": "<p>I'm having an issue with Django-Filebrowser when I try to upload an image. I'm using the following versions: <strong>Django 1.8.7</strong>, <strong>Filebrowser 3.6.4</strong> and <strong>Python 2.7</strong>.</p>\n\n<p>When I try to upload an image, everything works as expected, and the uploaded files are placed in the right folder without any problem; but the resultant file url doesn't have any leading slash necessary to serve properly the file.</p>\n\n<p>For example, if I try to upload \"test.jpg\", the final image url will be \"uploads/test.jpg\" and \"_versions/test_xxx.jpg\" that actually creates issues even in the Filebrowser panel, since the resulting request will be issued to <code>http://localhost:8000/admin/filebrowser/browse/uploads/test.jpg</code> and <code>http://localhost:8000/admin/filebrowser/browse/_versions/test.jpg</code> rather than <code>http://localhost:8000/uploads/test.jpg</code> and <code>http://localhost:8000/_versions/test.jpg</code> that the server would serve properly.</p>\n\n<p>(Note that the Filebrowser panel url is <code>http://localhost:8000/admin/filebrowser/</code>)</p>\n\n<p>Here's my settings:</p>\n\n<p><strong>urls.py:</strong></p>\n\n<pre><code>urlpatterns = [\n    url(r'^admin/filebrowser/', include(site.urls)),\n    url(r'^admin/', include(admin.site.urls)),\n\n    url(r'^', include('pages.urls')),\n    url(r'^blog/', include('articles.urls')),\n\n    url(r'^tinymce/', include('tinymce.urls')),\n    url(r'^grappelli/', include('grappelli.urls')),\n]\n</code></pre>\n\n<p><strong>settings.py</strong></p>\n\n<pre><code>FILEBROWSER_DIRECTORY = 'uploads/'\nFILEBROWSER_VERSIONS_BASEDIR = '_versions/'\n</code></pre>\n\n<p>Add a leading slash to the <code>FILEBROWSER_DIRECTORY</code> would trigger a SouspiciusFileOperation error since '/uploads/' is located outside the project folder.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "login"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1478722822, "post_id": 40515316, "comment_id": 68272262, "body": "We have no idea if it&#39;s wrong, you need to tell us. You should take the time to read the rules <a href=\"https://stackoverflow.com/help\">help center</a>, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and <a href=\"https://stackoverflow.com/tour\">faq</a>."}, {"owner": {"reputation": 15, "user_id": 7138066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd2363d9e9d22c6f50c18a03bbb5826?s=128&d=identicon&r=PG&f=1", "display_name": "Loading...", "link": "https://stackoverflow.com/users/7138066/loading"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1478723238, "post_id": 40515316, "comment_id": 68272490, "body": "I have said that it is wrong, i was just asking if anyone could fix the code so that it saves the user details into a notepad file?"}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1478723587, "post_id": 40515316, "comment_id": 68272655, "body": "Yes, but you haven&#39;t told us WHAT is wrong. Does it not save the names? Does it throw an error? Is the formatting wrong? Did your teacher not accept it for homework? We have no idea."}], "answers": [{"tags": [], "owner": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "is_accepted": false, "score": 1, "last_activity_date": 1478723295, "creation_date": 1478723295, "answer_id": 40515458, "question_id": 40515316, "link": "https://stackoverflow.com/questions/40515316/saving-user-details-into-a-file-in-a-login-system/40515458#40515458", "title": "Saving user details into a file in a login system?", "body": "<p>For the file you need to read all lines instead of line so use <code>openfile.readlines()</code> to check <code>if login in UserData</code>. And whenever you create a new user you need to append the new user into your file instead of overwriting the existing data in your file. So instead of using <code>open('UserInfo.txt', 'w')</code> you need to open with <code>a</code> mode like <code>open('UserInfo.txt', 'a')</code> which will append new data to the end of the file.</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 7138066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd2363d9e9d22c6f50c18a03bbb5826?s=128&d=identicon&r=PG&f=1", "display_name": "Loading...", "link": "https://stackoverflow.com/users/7138066/loading"}, "edited": false, "score": 0, "creation_date": 1478724007, "post_id": 40515478, "comment_id": 68272893, "body": "Thank you, this seems to have fixed it."}, {"owner": {"reputation": 1371, "user_id": 5798435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46e85c028ee4f738679c57821206d870?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Ingham", "link": "https://stackoverflow.com/users/5798435/mukesh-ingham"}, "reply_to_user": {"reputation": 15, "user_id": 7138066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd2363d9e9d22c6f50c18a03bbb5826?s=128&d=identicon&r=PG&f=1", "display_name": "Loading...", "link": "https://stackoverflow.com/users/7138066/loading"}, "edited": false, "score": 0, "creation_date": 1478724110, "post_id": 40515478, "comment_id": 68272939, "body": "@Sam no problem  ^^"}], "tags": [], "owner": {"reputation": 1371, "user_id": 5798435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46e85c028ee4f738679c57821206d870?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Ingham", "link": "https://stackoverflow.com/users/5798435/mukesh-ingham"}, "is_accepted": true, "score": 1, "last_activity_date": 1478723375, "creation_date": 1478723375, "answer_id": 40515478, "question_id": 40515316, "link": "https://stackoverflow.com/questions/40515316/saving-user-details-into-a-file-in-a-login-system/40515478#40515478", "title": "Saving user details into a file in a login system?", "body": "<p>You should really be putting the error message up but I think I have spotted what is wrong. In <code>newUser()</code> you are opening <code>'UserInfo'</code> not <code>'UserInfo.txt'</code> also open in a mode not w mode. So write <code>open('UserInfo.txt', 'a')</code></p>\n\n<p>You also need to read all the lines not just one line <code>openfile.readlines()</code>\nAlso remember to close the file after you open it in read mode or else it wont let you write to it:</p>\n\n<pre><code>openfile = open(filename, \"r\")   \nUserData = openfile.readline()  \nopenfile.close();\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7138066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd2363d9e9d22c6f50c18a03bbb5826?s=128&d=identicon&r=PG&f=1", "display_name": "Loading...", "link": "https://stackoverflow.com/users/7138066/loading"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1242, "favorite_count": 0, "accepted_answer_id": 40515478, "answer_count": 2, "score": -1, "last_activity_date": 1562487871, "creation_date": 1478722759, "question_id": 40515316, "link": "https://stackoverflow.com/questions/40515316/saving-user-details-into-a-file-in-a-login-system", "title": "Saving user details into a file in a login system?", "body": "<p>I am producing a turn based game for a project and would like to create a user login system that saves the user's login username and password into a file in the game folder location. I would hope to then use the notepad file to check if there is already an account with that username when new users try to create a login.</p>\n\n<p>In this code i attempted this but it is wrong?!</p>\n\n<pre><code>filename = 'UserInfo.txt' \nopenfile = open(filename, \"r\")                                                          \nUserData = openfile.readline()  \ndef displayMenu():\n    print (UserData)\n    status = input(\"Are you a registered user? y/n? \")  \n    if status == \"y\":\n        oldUser()\n    elif status == \"n\":\n        newUser()\n\ndef newUser():\n    createLogin = input(\"Create login name: \")\n\n    if createLogin in UserData:\n        print (\"Login name already exist!\")\n    else:\n        createPassw = input(\"Create password: \")\n        UserData[createLogin] = open('UserInfo','w')\n        print(\"User created!\")     \ndef oldUser():\n    login = input(\"Enter login name: \")\n    passw = input(\"Enter password: \")\n    if login in UserData and UserData[login] == passw: \n        print (\"Login successful!\")\n    else:\n        print (\"User doesn't exist or wrong password\")\ndisplayMenu()\n</code></pre>\n"}, {"tags": ["python", "arguments", "styles", "wxpython", "frame"], "comments": [{"owner": {"reputation": 2670, "user_id": 2682863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/840d9fa30bb7e296d9aeb0abc50f204a?s=128&d=identicon&r=PG&f=1", "display_name": "user2682863", "link": "https://stackoverflow.com/users/2682863/user2682863"}, "edited": false, "score": 1, "creation_date": 1478722833, "post_id": 40515292, "comment_id": 68272266, "body": "pycharm is great for this <a href=\"https://www.jetbrains.com/pycharm\" rel=\"nofollow noreferrer\">jetbrains.com/pycharm</a>, you can jump directly to the source code which usually has comments detailing the arguments"}, {"owner": {"reputation": 178, "user_id": 6625769, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8f8c3eb6b9130fd1c8c103e3c868e0f?s=128&d=identicon&r=PG&f=1", "display_name": "Nadni", "link": "https://stackoverflow.com/users/6625769/nadni"}, "reply_to_user": {"reputation": 2670, "user_id": 2682863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/840d9fa30bb7e296d9aeb0abc50f204a?s=128&d=identicon&r=PG&f=1", "display_name": "user2682863", "link": "https://stackoverflow.com/users/2682863/user2682863"}, "edited": false, "score": 0, "creation_date": 1478723100, "post_id": 40515292, "comment_id": 68272419, "body": "Thanks, I already use PyCharm luckilly, could you please guide me through the process of opening the source code of a specific library? I am pretty new to both PyCharm and programming"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1478723132, "post_id": 40515292, "comment_id": 68272436, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/on-topic\">on topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> apply here. StackOverflow is not a coding or tutorial service."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1478723298, "post_id": 40515292, "comment_id": 68272519, "body": "<a href=\"https://wxpython.org/Phoenix/docs/html/wx.Frame.html#styles-window-styles\" rel=\"nofollow noreferrer\">wxpython.org/Phoenix/docs/html/&hellip;</a>"}, {"owner": {"reputation": 2670, "user_id": 2682863, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/840d9fa30bb7e296d9aeb0abc50f204a?s=128&d=identicon&r=PG&f=1", "display_name": "user2682863", "link": "https://stackoverflow.com/users/2682863/user2682863"}, "edited": false, "score": 0, "creation_date": 1478723619, "post_id": 40515292, "comment_id": 68272670, "body": "ctrl-b will jump you to the source and is usually the quickest way to see what arguments are accepted, as mentioned above the docs are also a good resource"}], "answers": [{"tags": [], "owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "is_accepted": true, "score": 4, "last_activity_date": 1478807066, "creation_date": 1478807066, "answer_id": 40535778, "question_id": 40515292, "link": "https://stackoverflow.com/questions/40515292/where-can-i-find-a-list-of-all-the-possible-arguments-of-a-wxpython-function/40535778#40535778", "title": "Where can I find a list of all the possible arguments of a wxPython function?", "body": "<p>There is a neat little styles and event hunter script that was released a few years ago that you can use:</p>\n\n<ul>\n<li><a href=\"http://www.blog.pythonlibrary.org/2011/07/25/wxpython-windows-styles-and-events-hunter/\" rel=\"nofollow noreferrer\">http://www.blog.pythonlibrary.org/2011/07/25/wxpython-windows-styles-and-events-hunter/</a></li>\n<li><a href=\"https://groups.google.com/forum/#!topic/wxpython-dev/fBlHe7ytTvQ\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/wxpython-dev/fBlHe7ytTvQ</a></li>\n</ul>\n\n<p>There's also a thread on the wxPython Google group that mentions that this utility is now a part of the wxPython demo:</p>\n\n<ul>\n<li><a href=\"https://groups.google.com/forum/#!topic/wxpython-users/c8a-I8Q7eFY\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/wxpython-users/c8a-I8Q7eFY</a></li>\n</ul>\n\n<p>Of course, the wxPython documentation will also give you this information too, once you figure out how to navigate it:</p>\n\n<ul>\n<li><a href=\"https://wxpython.org/Phoenix/docs/html/wx.Frame.html#styles-window-styles\" rel=\"nofollow noreferrer\">https://wxpython.org/Phoenix/docs/html/wx.Frame.html#styles-window-styles</a></li>\n</ul>\n"}], "owner": {"reputation": 178, "user_id": 6625769, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8f8c3eb6b9130fd1c8c103e3c868e0f?s=128&d=identicon&r=PG&f=1", "display_name": "Nadni", "link": "https://stackoverflow.com/users/6625769/nadni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 40535778, "answer_count": 1, "score": 0, "last_activity_date": 1478895471, "creation_date": 1478722640, "last_edit_date": 1478895471, "question_id": 40515292, "link": "https://stackoverflow.com/questions/40515292/where-can-i-find-a-list-of-all-the-possible-arguments-of-a-wxpython-function", "title": "Where can I find a list of all the possible arguments of a wxPython function?", "body": "<p>I am using the library wxPython and I find it really hard to find all the possible arguments of its built in functions (I can easily find the parameters in the documentation, but not the arguments). In particular i would like to know what I can specify in the \"style\" parameter when I initialize a frame:</p>\n\n<pre><code>class main_window(wx.Frame):\n\n    def __init__(self, *args, **kwargs):\n        wx.Frame.__init__(self, size=(x, y), style=???????, *args, **kwargs)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "macos-sierra"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 4, "creation_date": 1478722752, "post_id": 40515278, "comment_id": 68272223, "body": "I would advise against doing this.  Make a symlink for python3, and leave the system default version alone."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 6, "creation_date": 1478722812, "post_id": 40515278, "comment_id": 68272253, "body": "It&#39;s just one more character to type <code>python3</code>"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 4, "creation_date": 1478722846, "post_id": 40515278, "comment_id": 68272275, "body": "Use virtualenv or something like that, so you don&#39;t mess with the default interpreter (you may even break your system if some tools depend on 2.7)."}, {"owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 2, "creation_date": 1478723704, "post_id": 40515278, "comment_id": 68272717, "body": "I double @PauloScardine . I&#39;d rather install a virtualenv with Python 3.5 and make it load automatically when firing a terminal session"}, {"owner": {"reputation": 7629, "user_id": 2335820, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sLTHB.jpg?s=128&g=1", "display_name": "Kimmo Hintikka", "link": "https://stackoverflow.com/users/2335820/kimmo-hintikka"}, "edited": false, "score": 0, "creation_date": 1478723805, "post_id": 40515278, "comment_id": 68272777, "body": "From experience don&#39;t do that. Did a similar thing on mac with Ruby ended up rolling back the whole machine with the time machine backup. If you do at least name it to something else then python."}], "answers": [{"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1478726480, "post_id": 40515496, "comment_id": 68274114, "body": "... which is handled in a previous comment."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1478726598, "post_id": 40515496, "comment_id": 68274164, "body": "True. But I think most popular *nix environments already come with a <code>python3</code>, usually pointing to a python 3.4 interpreter. It&#39;s been a while since I&#39;ve used Mac OS, although, I might be returning to it soon."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 3, "last_activity_date": 1478723452, "creation_date": 1478723452, "answer_id": 40515496, "question_id": 40515278, "link": "https://stackoverflow.com/questions/40515278/how-to-use-python-3-5-as-default-python-interpreter/40515496#40515496", "title": "How to use Python 3.5 as default python interpreter", "body": "<p>I believe that your surprise comes from the shell searching /usr/bin before it tries your PATH.  You really do <em>not</em> want to mess with that part, but you can work around it with a simple alias.  Something like</p>\n\n<pre><code>alias python='/Library/Frameworks/Python.framework/Versions/3.5/bin/python'\n</code></pre>\n\n<p>... should do the trick.  However, I recommend that you choose a name other than <strong>python</strong>, such as <strong>pyth</strong> or <strong>py3</strong>.</p>\n"}], "owner": {"reputation": 1717, "user_id": 616349, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ccdfb44b091f8bd3fc677150392321f7?s=128&d=identicon&r=PG", "display_name": "E. Jaep", "link": "https://stackoverflow.com/users/616349/e-jaep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 1, "accepted_answer_id": 40515496, "answer_count": 1, "score": 0, "last_activity_date": 1478723452, "creation_date": 1478722612, "question_id": 40515278, "link": "https://stackoverflow.com/questions/40515278/how-to-use-python-3-5-as-default-python-interpreter", "title": "How to use Python 3.5 as default python interpreter", "body": "<p>I just installed Python 3.5 on my Mac OS Sierra and update my .bash_profile file:</p>\n\n<pre><code>MacBook:~ admin$ more .bash_profile\n\n# Setting PATH for Python 3.5\n# The original version is saved in .bash_profile.pysave\nPATH=\"/Library/Frameworks/Python.framework/Versions/3.5/bin:${PATH}\"\nexport PATH\n</code></pre>\n\n<p>When I check if the PATH is correctly set, I have the below output:</p>\n\n<pre><code>MacBook:~ admin$ echo \"$PATH\"\n/Library/Frameworks/Python.framework/Versions/3.5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/share/dotnet\n</code></pre>\n\n<p>However, when I run Python from a terminal, Python 2.7 is still executed:</p>\n\n<pre><code>MacBook:~ admin$ python --version Python 2.7.12\nMacBook:~ admin$ which python /usr/local/bin/python\n</code></pre>\n\n<p>How can I use Python 3.5 by default?</p>\n"}, {"tags": ["python", "datetime", "timedelta"], "comments": [{"owner": {"reputation": 5032, "user_id": 1496453, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/zHJ5F.jpg?s=128&g=1", "display_name": "Sandy Gifford", "link": "https://stackoverflow.com/users/1496453/sandy-gifford"}, "edited": false, "score": 2, "creation_date": 1478727977, "post_id": 40515220, "comment_id": 68274792, "body": "Hello, welcome to StackOverflow! Have you reviewed the guidelines for <a href=\"http://stackoverflow.com/help/how-to-ask\">asking a good question</a>?  What have you tried so far?  Can you reduce your code (including what you&#39;ve tried) to it&#39;s smallest reproducible unit?  As is, this question reads a bit like &quot;can you do my homework for me?&quot;.  If you can show that you&#39;ve started, and identify exactly where you&#39;ve had trouble, you&#39;re much more likely to get answers."}], "answers": [{"tags": [], "owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "is_accepted": false, "score": 2, "last_activity_date": 1478723144, "creation_date": 1478723144, "answer_id": 40515414, "question_id": 40515220, "link": "https://stackoverflow.com/questions/40515220/birthday-finder-project-python/40515414#40515414", "title": "Birthday Finder Project - Python", "body": "<p>Here's a basic example with an arbitrary date:</p>\n\n<pre><code>&gt;&gt;&gt; import datetime as dt\n&gt;&gt;&gt; diff = dt.datetime(2017, 1, 1) - dt.datetime.now()\n&gt;&gt;&gt; diff.days\n52\n&gt;&gt;&gt; \n</code></pre>\n\n<p>In your case, diff would be something along these lines:</p>\n\n<pre><code>diff = dt.datetime(birthyear+1, int(birthdate[0:2]), birthday) - now\n                                            # ^^^ your birthmonth\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 259, "user_id": 5631039, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/03a7c72afaaea1bc33f12d411265d8b0?s=128&d=identicon&r=PG&f=1", "display_name": "gel", "link": "https://stackoverflow.com/users/5631039/gel"}, "is_accepted": false, "score": 0, "last_activity_date": 1478723246, "creation_date": 1478723246, "answer_id": 40515439, "question_id": 40515220, "link": "https://stackoverflow.com/questions/40515220/birthday-finder-project-python/40515439#40515439", "title": "Birthday Finder Project - Python", "body": "<p>This works, not the best solution. </p>\n\n<pre><code>from datetime import date\n\n\nborn = '06151995'\nyearInt = int(born[-4:])\ndayInt = int(born[2:4])\nmonthInt = int(born[0:2])\n\nd0 = date(yearInt, monthInt, dayInt)\nd1 = date(yearInt + 100, monthInt, dayInt)\ndelta = d1 - d0\n\nprint delta.days\n</code></pre>\n\n<p>EDIT:\nThis is how many days since they were born tho. </p>\n"}, {"tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1478725029, "creation_date": 1478725029, "answer_id": 40515895, "question_id": 40515220, "link": "https://stackoverflow.com/questions/40515220/birthday-finder-project-python/40515895#40515895", "title": "Birthday Finder Project - Python", "body": "<p>A couple of suggestions,   </p>\n\n<pre><code>birthday = int(birthdate[2:3]) \n</code></pre>\n\n<p>is only slicing one digit from the <code>birthdate</code> string input, should probably include 2 digit days:   </p>\n\n<pre><code>birthday = int(birthdate[2:4]\n</code></pre>\n\n<p>Similarly, you'll need a birthmonth to determine number of days until next birthday:   </p>\n\n<pre><code>birthmonth = int(birthdate[0:2])\n</code></pre>\n\n<p>Now you've got all the components necessary to calculate the days until the next birthday:</p>\n\n<pre><code>days_til_next_bd = datetime(current_year+1, birthmonth, birthday) - datetime.now()\nprint (\"%s days until your next birthday.\" % days_til_next_bd.days)\n</code></pre>\n\n<p>Demo:</p>\n\n<blockquote>\n  <p>What day is your birthday? (MMDDYYYY)<br>\n  09112001<br>\n  You will be 100 in 85 years.<br>\n  305 days until your next birthday.</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 7138178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f3ee7a726407c5f549a7c95251145f?s=128&d=identicon&r=PG&f=1", "display_name": "David Drinnan", "link": "https://stackoverflow.com/users/7138178/david-drinnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1943, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1478725029, "creation_date": 1478722425, "question_id": 40515220, "link": "https://stackoverflow.com/questions/40515220/birthday-finder-project-python", "title": "Birthday Finder Project - Python", "body": "<p>For my school project, I have to make a python script that tells the user how many years until they reach the age of 100, and how many days until their next birthday. I have figured the first problem, but I have no idea how to address the second part of this project. In summary: How do I get the days until the users next birthday on Python (3.2).\nThis is what I have so far:</p>\n\n<pre><code>from datetime import datetime\n\nname = input(\"What's your name?\")\nprint(\"Nice to meet you %s.\" % (name))\nprint(\"What day is your birthday? (MMDDYYYY)\")\nbirthdate = input()\nbirthday = int(birthdate[2:3])\nbirthyear = int(birthdate[4:])\nprint (birthyear)\nnow = datetime.now()\ncurrent_year = now.year\ncurrent_month = now.month\ncurrent_day = now.day\ncurrentAge = current_year - birthyear\nage = current_year - birthyear\nprint (now)\nprint (age)\nyear_till_100 = str(100 - currentAge)\nprint (\"You will be 100 in %s years.\" % (year_till_100))\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1478722454, "post_id": 40515204, "comment_id": 68272086, "body": "Your indentation is wrong... I suspect the 3 lines of code before the <code>elif</code> need to be indented. Or the whole <code>elif</code> block needs to be dedented."}, {"owner": {"reputation": 1639, "user_id": 3030010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c97ca617bb8ebf436f2131091f8d3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3030010", "link": "https://stackoverflow.com/users/3030010/user3030010"}, "edited": false, "score": 1, "creation_date": 1478722479, "post_id": 40515204, "comment_id": 68272098, "body": "Your <code>elif</code> statement doesn&#39;t seem to be connected to any <code>if</code> statement. Maybe you meant to indent the three lines before it?"}, {"owner": {"reputation": 356, "user_id": 5630261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/O10m1.jpg?s=128&g=1", "display_name": "Seanosapien", "link": "https://stackoverflow.com/users/5630261/seanosapien"}, "edited": false, "score": 0, "creation_date": 1478722513, "post_id": 40515204, "comment_id": 68272112, "body": "I literally just figured it out after I posted the question. Newbie error. Thanks all."}], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 5630261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/O10m1.jpg?s=128&g=1", "display_name": "Seanosapien", "link": "https://stackoverflow.com/users/5630261/seanosapien"}, "edited": false, "score": 0, "creation_date": 1478722742, "post_id": 40515238, "comment_id": 68272220, "body": "Thanks. I&#39;ve been writing this program for two days. 600+ lines have the eyes gone weird. Time for a tea break."}, {"owner": {"reputation": 3991, "user_id": 365837, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZnI9W.png?s=128&g=1", "display_name": "Rok Povsic", "link": "https://stackoverflow.com/users/365837/rok-povsic"}, "reply_to_user": {"reputation": 356, "user_id": 5630261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/O10m1.jpg?s=128&g=1", "display_name": "Seanosapien", "link": "https://stackoverflow.com/users/5630261/seanosapien"}, "edited": false, "score": 0, "creation_date": 1478722820, "post_id": 40515238, "comment_id": 68272258, "body": "You get used to things like that and notice them immediately, after some time."}, {"owner": {"reputation": 356, "user_id": 5630261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/O10m1.jpg?s=128&g=1", "display_name": "Seanosapien", "link": "https://stackoverflow.com/users/5630261/seanosapien"}, "edited": false, "score": 0, "creation_date": 1478722973, "post_id": 40515238, "comment_id": 68272340, "body": "Thanks again @yper."}], "tags": [], "owner": {"reputation": 3991, "user_id": 365837, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZnI9W.png?s=128&g=1", "display_name": "Rok Povsic", "link": "https://stackoverflow.com/users/365837/rok-povsic"}, "is_accepted": true, "score": 2, "last_activity_date": 1478722493, "creation_date": 1478722493, "answer_id": 40515238, "question_id": 40515204, "link": "https://stackoverflow.com/questions/40515204/syntax-errors-for-elif-statement-in-python/40515238#40515238", "title": "Syntax errors for elif statement in Python...?", "body": "<p>The <code>elif</code> block has to be on the same position, vertically, as the <code>if</code> block above it. That means all the code under <code>elif</code>, including <code>elif</code> should be moved by one Tab to the left.</p>\n"}, {"comments": [{"owner": {"reputation": 356, "user_id": 5630261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/O10m1.jpg?s=128&g=1", "display_name": "Seanosapien", "link": "https://stackoverflow.com/users/5630261/seanosapien"}, "edited": false, "score": 0, "creation_date": 1478722792, "post_id": 40515251, "comment_id": 68272243, "body": "Thanks @maki. Sorted."}], "tags": [], "owner": {"reputation": 411, "user_id": 1508736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed854cf693c642b335a6edc1ff0eab1c?s=128&d=identicon&r=PG", "display_name": "maki", "link": "https://stackoverflow.com/users/1508736/maki"}, "is_accepted": false, "score": 2, "last_activity_date": 1478722549, "creation_date": 1478722549, "answer_id": 40515251, "question_id": 40515204, "link": "https://stackoverflow.com/questions/40515204/syntax-errors-for-elif-statement-in-python/40515251#40515251", "title": "Syntax errors for elif statement in Python...?", "body": "<p>Your problem is here:</p>\n\n<pre><code>print(\"Highest rainfall in a single day for Cork: \" + str(highestRain) + \" mm\")\ncorkRain.close()\nback2main = raw_input(\"Return to Main Menu? (y/n):\")\n</code></pre>\n\n<p>These lines should be one more level indented if you want them to be under the first if.</p>\n\n<p>On execution is interpreted as out of the previous scope, and either next one is \"if\" instead of \"elif\" or if you want to belong to previous if it should be one indentation right.</p>\n"}, {"comments": [{"owner": {"reputation": 356, "user_id": 5630261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/O10m1.jpg?s=128&g=1", "display_name": "Seanosapien", "link": "https://stackoverflow.com/users/5630261/seanosapien"}, "edited": false, "score": 0, "creation_date": 1478725768, "post_id": 40515412, "comment_id": 68273770, "body": "Cheers!! Yes. The lines below aren&#39;t in the correct order. I managed to get everything running smoothly after a quick break. Thanks for the tip on the multiple print() statements."}], "tags": [], "owner": {"reputation": 41, "user_id": 6710083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7582193e15bb1e0df84ba9e6facaf04?s=128&d=identicon&r=PG&f=1", "display_name": "Dakota Dutko", "link": "https://stackoverflow.com/users/6710083/dakota-dutko"}, "is_accepted": false, "score": 2, "last_activity_date": 1478723127, "creation_date": 1478723127, "answer_id": 40515412, "question_id": 40515204, "link": "https://stackoverflow.com/questions/40515204/syntax-errors-for-elif-statement-in-python/40515412#40515412", "title": "Syntax errors for elif statement in Python...?", "body": "<p>I would recommend trying this:</p>\n\n<pre><code>def main():\n\n    back2main = \"y\"\n\n    while back2main == \"y\":\n\n        print(\"Main Menu\\n1.)Highest Rainfall in one Day\\n2.)Wettest Location in Ireland\\n3.)Average Monthly Raindays\\n4.)[Construct Unique Query]\\n5.)Exit\")\n        choice = input(\"Please select one of options 1:5 above:\")\n\n        if choice == 1:\n\n            print(\"1.)Cork\\n2.)Belfast\\n3.)Dublin\\n4.)Galway\\n5.)Limerick\")\n            region = input(\"Please enter a city from the numbered list above:\")\n\n            if region == 1:\n\n                corkRain = open(\"CorkRainfall.txt\",\"r\")\n\n                highestRain = 0.0\n\n                for line in corkRain:\n                    data = line.split(\" \")\n                    if float(data[3]) &gt; highestRain:\n                        highestRain = float(data[3])\n\n\n\n            elif region == 2:\n\n                belfastRain = open(\"BelfastRainfall.txt\",\"r\")\n\n                highestRain = 0.0\n\n                for line in belfastRain:\n                    data = line.split(\" \")\n                    if float(data[3]) &gt; highestRain:\n                        highestRain = float(data[3])\n\n            print(\"Highest rainfall in a single day for Cork: \" + str(highestRain) + \" mm\")\n\n            corkRain.close()\n\n            back2main = raw_input(\"Return to Main Menu? (y/n):\")\n\n            print(\"Highest rainfall in a single day in Belfast: \") + str(highestRain)\n</code></pre>\n\n<p>You can replace the multiple print statements with new line breaks (The \\n) and all of the code below the first line needed to be indented. Also, the elif was breaking because of the lines: </p>\n\n<pre><code>print(\"highest rainfall...\ncorkRain.close()\nback 2main = ...\n</code></pre>\n"}], "owner": {"reputation": 356, "user_id": 5630261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/O10m1.jpg?s=128&g=1", "display_name": "Seanosapien", "link": "https://stackoverflow.com/users/5630261/seanosapien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 40515238, "answer_count": 3, "score": 1, "last_activity_date": 1478723127, "creation_date": 1478722376, "question_id": 40515204, "link": "https://stackoverflow.com/questions/40515204/syntax-errors-for-elif-statement-in-python", "title": "Syntax errors for elif statement in Python...?", "body": "<p>I am getting a syntax error every time I run this code. I don't understand why as elsewhere in my script, I use the same structure and it works fine. </p>\n\n<p>I get a syntax error for the elif region == 2: line first. Then, I get a load of indentation errors. I've played around with the indentations to no avail. Here's hoping someone can spot the problem.</p>\n\n<p>Thanks in advance.</p>\n\n<pre><code>def main():\n\nback2main = \"y\"\n\nwhile back2main == \"y\":\n\n    print(\"Main Menu\");print(\"1.)Highest Rainfall in one Day\");print(\"2.)Wettest Location in Ireland\");print(\"3.)Average Monthly Raindays\");print(\"4.)[Construct Unique Query]\");print(\"5.)Exit\")\n    choice = input(\"Please select one of options 1:5 above:\")\n\n    if choice == 1:\n\n        print(\"1.)Cork\");print(\"2.)Belfast\");print(\"3.)Dublin\");print(\"4.)Galway\");print(\"5.)Limerick\")\n        region = input(\"Please enter a city from the numbered list above:\")\n\n        if region == 1:\n\n            corkRain = open(\"CorkRainfall.txt\",\"r\")\n\n            highestRain = 0.0\n\n            for line in corkRain:\n                data = line.split(\" \")\n                if float(data[3]) &gt; highestRain:\n                    highestRain = float(data[3])\n\n        print(\"Highest rainfall in a single day for Cork: \" + str(highestRain) + \" mm\")\n\n        corkRain.close()\n\n        back2main = raw_input(\"Return to Main Menu? (y/n):\")\n\n        elif region == 2:\n\n            belfastRain = open(\"BelfastRainfall.txt\",\"r\")\n\n            highestRain = 0.0\n\n            for line in belfastRain:\n                data = line.split(\" \")\n                if float(data[3]) &gt; highestRain:\n                    highestRain = float(data[3])\n\n        print(\"Highest rainfall in a single day in Belfast: \") + str(highestRain)\n</code></pre>\n"}, {"tags": ["python", "csv", "ubuntu", "pandas", "ram"], "comments": [{"owner": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "edited": false, "score": 1, "creation_date": 1478722581, "post_id": 40515194, "comment_id": 68272141, "body": "Can you paste code to accompany your question?"}, {"owner": {"reputation": 80, "user_id": 6823486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a7c952bec41411bd0d0267d025b6374?s=128&d=identicon&r=PG&f=1", "display_name": "Bharath", "link": "https://stackoverflow.com/users/6823486/bharath"}, "edited": false, "score": 0, "creation_date": 1478723297, "post_id": 40515194, "comment_id": 68272518, "body": "These SO threads maybe helpful <a href=\"http://stackoverflow.com/questions/19590966/memory-error-with-large-data-sets-for-pandas-concat-and-numpy-append\" title=\"memory error with large data sets for pandas concat and numpy append\">stackoverflow.com/questions/19590966/&hellip;</a> <a href=\"http://stackoverflow.com/questions/17557074/memory-error-when-using-pandas-read-csv\" title=\"memory error when using pandas read csv\">stackoverflow.com/questions/17557074/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "edited": false, "score": 0, "creation_date": 1478722983, "post_id": 40515264, "comment_id": 68272348, "body": "your first is horribly inefficient add the note: <a href=\"http://pandas.pydata.org/pandas-docs/stable/merging.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/merging.html</a>"}, {"owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "edited": false, "score": 1, "creation_date": 1478723348, "post_id": 40515264, "comment_id": 68272537, "body": "every loop iteration you were making a copy of a bigger and bigger frame; instead append to a list and call concat once (as the current example does)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1478723128, "last_edit_date": 1478723128, "creation_date": 1478722577, "answer_id": 40515264, "question_id": 40515194, "link": "https://stackoverflow.com/questions/40515194/memory-error-while-loading-csv-file/40515264#40515264", "title": "memory error while loading csv file?", "body": "<p>try to make use of <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\">chunksize</a> parameter:</p>\n\n<pre><code>df = pd.concat((chunk for chunk in pd.read_csv('/path/to/file.csv', chunksize=10**4)),\n               ignore_index=True)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 5950399, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KzAOjNw2Dtc/AAAAAAAAAAI/AAAAAAAAAAA/U-4acSUq1o4/photo.jpg?sz=128", "display_name": "Abdullah Shobi", "link": "https://stackoverflow.com/users/5950399/abdullah-shobi"}, "edited": false, "score": 0, "creation_date": 1478841604, "post_id": 40515352, "comment_id": 68322059, "body": "yes .it was because of dtypes , and i converted some columns dtype as i was loading . thanks."}, {"owner": {"reputation": 35, "user_id": 5950399, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KzAOjNw2Dtc/AAAAAAAAAAI/AAAAAAAAAAA/U-4acSUq1o4/photo.jpg?sz=128", "display_name": "Abdullah Shobi", "link": "https://stackoverflow.com/users/5950399/abdullah-shobi"}, "edited": false, "score": 0, "creation_date": 1479280474, "post_id": 40515352, "comment_id": 68485519, "body": "i have tried to upvote , but it is not displayed publicly because i have less than 15 reputation ;)"}], "tags": [], "owner": {"reputation": 2950, "user_id": 3405554, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ejRLl.jpg?s=128&g=1", "display_name": "harshil9968", "link": "https://stackoverflow.com/users/3405554/harshil9968"}, "is_accepted": true, "score": 3, "last_activity_date": 1478722875, "creation_date": 1478722875, "answer_id": 40515352, "question_id": 40515194, "link": "https://stackoverflow.com/questions/40515194/memory-error-while-loading-csv-file/40515352#40515352", "title": "memory error while loading csv file?", "body": "<p>The reason you get this low_memory warning might be because guessing dtypes for each column is very memory demanding. Pandas tries to determine what dtype to set by analyzing the data in each column.</p>\n\n<p>In case using 32-bit system :\nMemory errors happens a lot with python when using the 32bit version in Windows. This is because 32bit processes only gets 2GB of memory to play with by default.</p>\n\n<p>Try this : </p>\n\n<pre><code>tp = pd.read_csv('file_name.csv', header=None, chunksize=1000)\ndf = pd.concat(tp, ignore_index=True)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5950399, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KzAOjNw2Dtc/AAAAAAAAAAI/AAAAAAAAAAA/U-4acSUq1o4/photo.jpg?sz=128", "display_name": "Abdullah Shobi", "link": "https://stackoverflow.com/users/5950399/abdullah-shobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4145, "favorite_count": 1, "accepted_answer_id": 40515352, "answer_count": 2, "score": 2, "last_activity_date": 1478723128, "creation_date": 1478722348, "question_id": 40515194, "link": "https://stackoverflow.com/questions/40515194/memory-error-while-loading-csv-file", "title": "memory error while loading csv file?", "body": "<p>i have a Ubuntu laptop with 8 GB ram .and also have a 2 GB CSV file but when i use pandas method <em>read_csv</em> to load my data the ram is completely filled while there was 7 GB ram free  .\nhow does 2 GB file fill 7 GB ram ?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 8999, "user_id": 1776367, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7f7a6976a1a6ff950fb42c11059f93d?s=128&d=identicon&r=PG", "display_name": "nozzleman", "link": "https://stackoverflow.com/users/1776367/nozzleman"}, "edited": false, "score": 0, "creation_date": 1478771528, "post_id": 40515072, "comment_id": 68289367, "body": "does any of the answers solve your problem? If so, please mark it as answer (green checkmark below votes)..."}, {"owner": {"reputation": 231, "user_id": 2116023, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q0I5M.png?s=128&g=1", "display_name": "braymp", "link": "https://stackoverflow.com/users/2116023/braymp"}, "reply_to_user": {"reputation": 8999, "user_id": 1776367, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7f7a6976a1a6ff950fb42c11059f93d?s=128&d=identicon&r=PG", "display_name": "nozzleman", "link": "https://stackoverflow.com/users/1776367/nozzleman"}, "edited": false, "score": 0, "creation_date": 1478792100, "post_id": 40515072, "comment_id": 68302688, "body": "I didn&#39;t mention that I need a single regex to cover this; i&#39;ve updated the text accordingly. Hence, since @jasonharper indicates it&#39;s not doable, that&#39;s my accepted answer."}, {"owner": {"reputation": 231, "user_id": 2116023, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q0I5M.png?s=128&g=1", "display_name": "braymp", "link": "https://stackoverflow.com/users/2116023/braymp"}, "reply_to_user": {"reputation": 8999, "user_id": 1776367, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7f7a6976a1a6ff950fb42c11059f93d?s=128&d=identicon&r=PG", "display_name": "nozzleman", "link": "https://stackoverflow.com/users/1776367/nozzleman"}, "edited": false, "score": 0, "creation_date": 1478792491, "post_id": 40515072, "comment_id": 68302949, "body": "Is it possible to use positive lookbehind and positive lookahead to do the job? E.g., <a href=\"http://stackoverflow.com/questions/277547/regular-expression-to-skip-character-in-capture-group\" title=\"regular expression to skip character in capture group\">stackoverflow.com/questions/277547/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1478723461, "last_edit_date": 1478723461, "creation_date": 1478722409, "answer_id": 40515213, "question_id": 40515072, "link": "https://stackoverflow.com/questions/40515072/single-regular-expression-in-python-with-named-groups-for-interleaved-text/40515213#40515213", "title": "Single regular expression in Python with named groups for interleaved text", "body": "<p>You may do it in two steps using <code>re.findall()</code> as:</p>\n\n<p><em>Step 1</em>: Extract substring from the main string following your pattern as:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n\n&gt;&gt;&gt; my_file = 'CM00626141_H12.d4_T0001F003L01A02Z03C02.tif'\n&gt;&gt;&gt; my_content = re.findall(r'_([A-H])(0[0-9]|1[0-2])\\.([a-d])([1-4])_', my_file)\n# where content of my_content is: [('H', '12', 'd', '4')]\n</code></pre>\n\n<p><em>Step 2</em>: Join tuples to get the value of <code>row</code> and <code>column</code>:</p>\n\n<pre><code>&gt;&gt;&gt; row = \".\".join(my_content[0][::2])\n&gt;&gt;&gt; row\n'H.d'\n\n&gt;&gt;&gt; column = \".\".join(my_content[0][1::2])\n&gt;&gt;&gt; column\n'12.4'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 231, "user_id": 2116023, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q0I5M.png?s=128&g=1", "display_name": "braymp", "link": "https://stackoverflow.com/users/2116023/braymp"}, "edited": false, "score": 0, "creation_date": 1478792214, "post_id": 40515226, "comment_id": 68302761, "body": "Accepting this answer, since it addressed a constraint which I forgot to include in the OP. OP edited accordingly."}], "tags": [], "owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "is_accepted": true, "score": 1, "last_activity_date": 1478722439, "creation_date": 1478722439, "answer_id": 40515226, "question_id": 40515072, "link": "https://stackoverflow.com/questions/40515072/single-regular-expression-in-python-with-named-groups-for-interleaved-text/40515226#40515226", "title": "Single regular expression in Python with named groups for interleaved text", "body": "<p>Regexp capturing groups (whether numbered or named) do not actually capture text - they capture starting/ending indices within the original text.  Thus, it is impossible for them to capture non-contiguous text.  Probably the best thing to do here is have four separate groups, and combine them into your two desired values manually.</p>\n"}, {"tags": [], "owner": {"reputation": 2134, "user_id": 2141391, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/89ac403a5be7d6a57405337f5d809b41?s=128&d=identicon&r=PG", "display_name": "user108471", "link": "https://stackoverflow.com/users/2141391/user108471"}, "is_accepted": false, "score": 0, "last_activity_date": 1478723353, "last_edit_date": 1478723353, "creation_date": 1478722631, "answer_id": 40515284, "question_id": 40515072, "link": "https://stackoverflow.com/questions/40515072/single-regular-expression-in-python-with-named-groups-for-interleaved-text/40515284#40515284", "title": "Single regular expression in Python with named groups for interleaved text", "body": "<p>I do not believe there is any way to capture everything you want in exactly two named capture groups and one regex call. The most straightforward way I see is to do the following:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; source = 'CM00626141_H12.d4_T0001F003L01A02Z03C02.tif'\n&gt;&gt;&gt; match = re.search(r'_([A-H])(0[0-9]|1[0-2])\\.([a-d])([1-4])_', source)\n&gt;&gt;&gt; row, column = '.'.join(match.groups()[0::2]), '.'.join(match.groups()[1::2])\n&gt;&gt;&gt; row\n'H.d'\n&gt;&gt;&gt; column\n'12.4'\n</code></pre>\n\n<p>Alternatively, you might find it more appealing to handle the parsing almost completely in the regex:</p>\n\n<pre><code>&gt;&gt;&gt; row, column = re.sub(\n        r'^.*_([A-H])(0[0-9]|1[0-2])\\.([a-d])([1-4])_.*$',\n        r'\\1.\\3,\\2.\\4',\n        source).split(',')\n&gt;&gt;&gt; row, column\n('H.d', '12.4')\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 2116023, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q0I5M.png?s=128&g=1", "display_name": "braymp", "link": "https://stackoverflow.com/users/2116023/braymp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 40515226, "answer_count": 3, "score": 1, "last_activity_date": 1478792007, "creation_date": 1478721823, "last_edit_date": 1478792007, "question_id": 40515072, "link": "https://stackoverflow.com/questions/40515072/single-regular-expression-in-python-with-named-groups-for-interleaved-text", "title": "Single regular expression in Python with named groups for interleaved text", "body": "<p>I would like to create a single regular expression in Python that extracts two interleaved portions of text from a filename as named groups. An example filename is given below:</p>\n\n<pre><code>CM00626141_H12.d4_T0001F003L01A02Z03C02.tif\n</code></pre>\n\n<p>The part of the filename I'd like to extract is contained between the underscores, and consists of the following:</p>\n\n<ul>\n<li>An uppercase letter: <code>[A-H]</code></li>\n<li>A zero-padded two-digit number: <code>01</code> to <code>12</code></li>\n<li>A period</li>\n<li>A lowercase letter: <code>[a-d]</code></li>\n<li>A single digit: <code>1</code> to <code>4</code></li>\n</ul>\n\n<p>For the example above, I would like one group ('Row') to contain <code>H.d</code>, and the other group ('Column') to contain <code>12.4</code>. However, I don't know how to do this this when the text is separated as it is here.</p>\n\n<p>EDIT: A constraint which I omitted: it needs to be a single regex to handle the string. I've updated the text/title to reflect this point.</p>\n"}, {"tags": ["python", "scipy", "differential-equations", "odeint"], "comments": [{"owner": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 0, "creation_date": 1478725277, "post_id": 40515064, "comment_id": 68273542, "body": "Great job in clarity and specificity for your first question. I can&#39;t help on this question; I was just reviewing it for quality, but you may want to post some code. See <a href=\"http://stackoverflow.com/help/mcve\">here</a>."}, {"owner": {"reputation": 28915, "user_id": 108184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f11d5dec13b8e2d9abe53f4b66192e9?s=128&d=identicon&r=PG", "display_name": "pv.", "link": "https://stackoverflow.com/users/108184/pv"}, "edited": false, "score": 0, "creation_date": 1478807110, "post_id": 40515064, "comment_id": 68311116, "body": "Odeint chooses its steps automatically, based on controlling the error estimate in the solution. &quot;Excess work&quot; means getting small error required too many steps, so the solution may not satisfy the accuracy you required. The time points you specify are only used for deciding at what points to report the results. The step control, required accuracy, and what is &quot;excess work&quot; is determined by the hmax, hmin, mxstep etc. options of the function."}], "owner": {"reputation": 1, "user_id": 7050111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a867d599b8de5d4b986805406dc7ec3?s=128&d=identicon&r=PG&f=1", "display_name": "SZim", "link": "https://stackoverflow.com/users/7050111/szim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 596, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478737776, "creation_date": 1478721807, "last_edit_date": 1478737776, "question_id": 40515064, "link": "https://stackoverflow.com/questions/40515064/scipy-integrate-odeint-fails-depending-on-time-steps", "title": "scipy.integrate.odeint fails depending on time steps", "body": "<p>I use python for scientific applications, esp. for solving differential equations. I\u00b4ve already used the <code>odeint</code> function successfully on simple equation systems.</p>\n\n<p>Right now my goal is to solve a rather complex system of over 300 equations. At this point the <code>odeint</code> functions give me reasonable results as long as the time steps in the <code>t-array</code> are equal or smaller than 1e-3. But I need bigger time steps since the system has to be integrated over several thousand seconds. Bigger time steps yield the \"excess work done..\" error. </p>\n\n<p>Does anyone have experience with <code>odeint</code> and can tell me, why this is the case, although the <code>odeint</code> function seems to choose its time steps automatically and then displays the results that match the time steps given by me? </p>\n\n<p>I simply don\u00b4t understand why this happens. I think I can work around the problem by integrating multiple times, but maybe someone knows a better solution. I apologize in advance in the case there already is a solution elsewhere and I haven\u00b4t seen it.</p>\n"}, {"tags": ["python", "bioinformatics", "consensus", "rosalind"], "comments": [{"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 1, "creation_date": 1478722384, "post_id": 40515061, "comment_id": 68272057, "body": "So, what is the problem? You haven&#39;t explained what doesn&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 6927146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be636162a9b7cb2db3b6b7fad0dc54ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sank Finatra", "link": "https://stackoverflow.com/users/6927146/sank-finatra"}, "edited": false, "score": 0, "creation_date": 1478811395, "post_id": 40515876, "comment_id": 68313207, "body": "These are good suggestions but unfortunately I still get an incorrect answer. After browsing the Rosalind community&#39;s ideas I think the problem is some error formatting the output or hidden newlines."}, {"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "reply_to_user": {"reputation": 144, "user_id": 6927146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be636162a9b7cb2db3b6b7fad0dc54ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sank Finatra", "link": "https://stackoverflow.com/users/6927146/sank-finatra"}, "edited": false, "score": 0, "creation_date": 1478818841, "post_id": 40515876, "comment_id": 68316411, "body": "@SankFinatra: your formatting is fine, no hidden newlines, I updated the answer accordingly."}, {"owner": {"reputation": 144, "user_id": 6927146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be636162a9b7cb2db3b6b7fad0dc54ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sank Finatra", "link": "https://stackoverflow.com/users/6927146/sank-finatra"}, "edited": false, "score": 0, "creation_date": 1478899467, "post_id": 40515876, "comment_id": 68350953, "body": "@Maxmilian Peters: I now see I was incorrectly building my &#39;seqs&#39; lists. I implemented your suggested changes but still am getting incorrect answers for some reason"}, {"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "reply_to_user": {"reputation": 144, "user_id": 6927146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be636162a9b7cb2db3b6b7fad0dc54ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sank Finatra", "link": "https://stackoverflow.com/users/6927146/sank-finatra"}, "edited": false, "score": 0, "creation_date": 1478899871, "post_id": 40515876, "comment_id": 68351088, "body": "that&#39;s weird, I compared your results with the modified with a working solution and the results were identical. Make sure there are no additional spaces or copy&amp;paste artifacts, Rosalind is quite picky about those things."}], "tags": [], "owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "is_accepted": false, "score": 0, "last_activity_date": 1478818830, "last_edit_date": 1478818830, "creation_date": 1478724963, "answer_id": 40515876, "question_id": 40515061, "link": "https://stackoverflow.com/questions/40515061/rosalind-consensus-and-profile/40515876#40515876", "title": "Rosalind Consensus and Profile", "body": "<ul>\n<li><p>There is a mistake in the following line:</p>\n\n<p>n = range(len(seqs[0])+1)</p></li>\n</ul>\n\n<p>which results in a sequence which is too long (filled with an extra <code>A</code> and 4 times <code>0</code>). Remove <code>+1</code> and it should work.</p>\n\n<ul>\n<li>In addition you have two spaces in your output, remove the space after <code>:</code> in your print statements.</li>\n<li>If you fix those two lines, it will work for the example but will fail for sequences longer than one line (like in it the real example). </li>\n</ul>\n\n<p>Try merging the lines with something like the snipped below:</p>\n\n<pre><code>new_seqs = list()\nfor s in seqs:\n    if s.startswith('&gt;'):\n        new_seqs.append('')\n    else:\n        new_seqs[-1]+=s\nseqs = new_seqs\n</code></pre>\n\n<p>and try it again.</p>\n"}], "owner": {"reputation": 144, "user_id": 6927146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be636162a9b7cb2db3b6b7fad0dc54ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sank Finatra", "link": "https://stackoverflow.com/users/6927146/sank-finatra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 547, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478818830, "creation_date": 1478721793, "question_id": 40515061, "link": "https://stackoverflow.com/questions/40515061/rosalind-consensus-and-profile", "title": "Rosalind Consensus and Profile", "body": "<p>I am trying to solve the question from here <a href=\"http://rosalind.info/problems/cons/\" rel=\"nofollow noreferrer\">http://rosalind.info/problems/cons/</a></p>\n\n<p>My script fills the counter lists and outputs a consensus string of equal length. I don't think there are math or index errors going on and have run into a wall. My code:</p>\n\n<pre><code> with open('C:/users/steph/downloads/rosalind_cons (3).txt') as f:\n    seqs = f.read().splitlines()\n\n#remove all objects that are not sequences of interest\nfor s in seqs:\n    if s[0] == '&gt;':\n        seqs.remove(s)\n\nn = range(len(seqs[0])+1)\n\n#lists to store counts for each nucleotide\nA, C, G, T = [0 for i in n], [0 for i in n], [0 for i in n], [0 for i in n]\n\n#see what nucleotide is at each index and augment the \n#same index of the respective list\ndef counter(Q):\n    for q in Q:\n        for k in range(len(q)):\n            if q[k] == 'A':\n                A[k] += 1\n            elif q[k] == 'C':\n                C[k] += 1\n            elif q[k] == 'G':\n                G[k] += 1\n            elif q[k] == 'T':\n                T[k] += 1\ncounter(seqs)\n\n#find the max of all the counter lists at every index \n#and add the respective nucleotide to the consensus sequence\ndef consensus(a,t,c,g):\n        consensus = ''\n        for k in range(len(a)):\n            if (a[k] &gt; t[k]) and (a[k]&gt;c[k]) and (a[k]&gt;g[k]):\n                consensus = consensus+\"A\"\n            elif (t[k] &gt; a[k]) and (t[k]&gt;c[k]) and (t[k]&gt;g[k]):\n                consensus = consensus+ 'T'\n            elif (c[k] &gt; t[k]) and (c[k]&gt;a[k]) and (c[k]&gt;g[k]):\n                consensus = consensus+ 'C'\n            elif (g[k] &gt; t[k]) and (g[k]&gt;c[k]) and (g[k]&gt;a[k]):\n                consensus = consensus+ 'G'\n            #ensure a nucleotide is added to consensus sequence\n            #when more than one index has the max value\n            else:\n                if max(a[k],c[k],t[k],g[k]) in a:\n                    consensus = consensus + 'A'\n                elif max(a[k],c[k],t[k],g[k]) in c:\n                    consensus = consensus + 'C'\n                elif max(a[k],c[k],t[k],g[k]) in t:\n                    consensus = consensus + 'T'\n                elif max(a[k],c[k],t[k],g[k]) in g:\n                    consensus = consensus + 'G'\n        print(consensus)\n        #debugging, ignore this --&gt; print('len(consensus)',len(consensus))\nconsensus(A,T,C,G)\n\n#debugging, ignore this --&gt; print('len(A)',len(A))\n\nprint('A: ',*A, sep=' ')\nprint('C: ',*C, sep=' ')\nprint('G: ',*G, sep=' ')\nprint('T: ',*T, sep=' ')\n</code></pre>\n\n<p>Thank you for your time</p>\n"}, {"tags": ["python", "django", "django-models", "django-forms", "django-crispy-forms"], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 6705888, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b3c254c816a1562b92ed2ba9ff483482?s=128&d=identicon&r=PG&f=1", "display_name": "Hansong Li", "link": "https://stackoverflow.com/users/6705888/hansong-li"}, "edited": false, "score": 0, "creation_date": 1478723513, "post_id": 40515171, "comment_id": 68272619, "body": "ummm thanks but I know how to define those relationship. Instead, I am wondering about implementing inline formset."}], "tags": [], "owner": {"reputation": 415, "user_id": 2135422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jKjio.jpg?s=128&g=1", "display_name": "lauralacarra", "link": "https://stackoverflow.com/users/2135422/lauralacarra"}, "is_accepted": false, "score": 0, "last_activity_date": 1478722254, "creation_date": 1478722254, "answer_id": 40515171, "question_id": 40514949, "link": "https://stackoverflow.com/questions/40514949/django-how-to-include-inline-formset-for-a-foreign-key-in-a-model-form-with-cri/40515171#40515171", "title": "django: how to include inline formset for a foreign key in a model form with crispy form", "body": "<p>I guess you are looking for this, <a href=\"https://docs.djangoproject.com/es/1.10/topics/db/examples/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/es/1.10/topics/db/examples/</a></p>\n\n<p>Here you find examples of model relationship API usage:</p>\n\n<p><strong>Many-to-many relationships</strong></p>\n\n<p><strong>Many-to-one relationships</strong></p>\n\n<p><strong>One-to-one relationships</strong></p>\n"}], "owner": {"reputation": 357, "user_id": 6705888, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b3c254c816a1562b92ed2ba9ff483482?s=128&d=identicon&r=PG&f=1", "display_name": "Hansong Li", "link": "https://stackoverflow.com/users/6705888/hansong-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 554, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478725280, "creation_date": 1478721356, "last_edit_date": 1478725280, "question_id": 40514949, "link": "https://stackoverflow.com/questions/40514949/django-how-to-include-inline-formset-for-a-foreign-key-in-a-model-form-with-cri", "title": "django: how to include inline formset for a foreign key in a model form with crispy form", "body": "<p>For example, I have the following models:</p>\n\n<pre><code>class Project(models.Model):\n    description = models.CharField(max_length = 200, null=True)\n    login_date =  models.DateField(null=True)\n    login_by = models.CharField(max_length = 200, null=True)\n    notes= models.CharField(max_length = 200, null=True)\n\nclass Sample(models.Model):\n    project = models.ForeignKey(Project, on_delete = models.CASCADE, null=True)\n    serial_number = models.CharField(max_length = 200, null=True)\n    location = models.CharField(max_length = 200)    \n\nclass ProjectForm(ModelForm):\n    login_date=forms.DateField(widget=DateWidget(attrs={'id':\"login_sample\"}, usel10n = True, bootstrap_version=3), initial=datetime.date.today)\n    in_notes = forms.CharField(widget=forms.Textarea)\n\n\n    helper = FormHelper()\n    helper.layout = Layout(\n        Div(\n            'description',\n            'login_date',\n            'login_by',\n            'in_notes',\n            ButtonHolder(\n                HTML(\"&lt;button type='submit' class='save btn btn-default' name = 'projectform'&gt;Save&lt;/button&gt;\"),\n            ), \n        )\n    )\n\n    class Meta:\n        model = Project\n        fields = ['description', 'login_date','login_by',\n        'in_shipping_method_tracking_number','in_notes']\n\nclass SampleDetailForm(ModelForm):\n    helper = FormHelper()\n    helper.layout = Layout(\n        Div(\n            'serial_number',\n            'location',\n            ButtonHolder(\n                HTML(\"&lt;button type='submit' class='save btn btn-default' name = 'sampleform'&gt;Save&lt;/button&gt;\"),\n            ),\n        )\n    )\n\n    class Meta:\n        model = Sample\n        fields = ['octa_number', 'serial_number', 'pctest_number', 'location',]\n</code></pre>\n\n<p>This is how currently I set up models and forms.</p>\n\n<p>I am wondering how could I make a ProjectForm that not only have field of its own, but also a inline formset of SampleForm, where multiple samples could be added/deleted within the model form, just like what we have in admin site. I also would be grateful to know how should I handle the saving in view, and rendering in template.</p>\n\n<p>TIA</p>\n"}, {"tags": ["python", "checkbox", "tkinter"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478724152, "post_id": 40514944, "comment_id": 68272960, "body": "you can&#39;t use one <code>IntVar</code> with all <code>Checkbutton</code>. Every <code>Checkbutton</code> needs own <code>IntVar</code> - you can keep them on list . Or assign every <code>Checkbutton</code> to variable and keep those variables on list - then you will no need <code>IntVar</code>."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478724348, "post_id": 40514944, "comment_id": 68273061, "body": "you can find examples how to use <code>Canvas</code> to scroll <code>Frame</code>. And then you can put checkboxes in <code>Frame</code>."}, {"owner": {"reputation": 1184, "user_id": 3813234, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edf12385cb0b3f82208d4cf264e7a6e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3813234", "link": "https://stackoverflow.com/users/3813234/user3813234"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478725400, "post_id": 40514944, "comment_id": 68273599, "body": "@furas I got the part with the checkboxes. Could you help me with the scrollbar? See my update."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478725685, "post_id": 40514944, "comment_id": 68273726, "body": "you can find complet example for <code>Frame</code> event on SO - as I remember you have to use <code>create_window</code> to add Frame to Canvas."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1478726670, "post_id": 40514944, "comment_id": 68274200, "body": "<a href=\"http://stackoverflow.com/a/3092341/1832058\">stackoverflow.com/a/3092341/1832058</a>"}, {"owner": {"reputation": 1184, "user_id": 3813234, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edf12385cb0b3f82208d4cf264e7a6e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3813234", "link": "https://stackoverflow.com/users/3813234/user3813234"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1478727211, "post_id": 40514944, "comment_id": 68274452, "body": "aaah perfect, thats exactly what I was missing! Thanks a lot, works fine now!"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1478727780, "post_id": 40514944, "comment_id": 68274715, "body": "your code won&#39;t run as posted -- it has indentation problems."}, {"owner": {"reputation": 1184, "user_id": 3813234, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edf12385cb0b3f82208d4cf264e7a6e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3813234", "link": "https://stackoverflow.com/users/3813234/user3813234"}, "edited": false, "score": 0, "creation_date": 1478728509, "post_id": 40514944, "comment_id": 68275013, "body": "yeah, but thats just the formatting here"}], "owner": {"reputation": 1184, "user_id": 3813234, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edf12385cb0b3f82208d4cf264e7a6e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3813234", "link": "https://stackoverflow.com/users/3813234/user3813234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 865, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478725368, "creation_date": 1478721334, "last_edit_date": 1478725368, "question_id": 40514944, "link": "https://stackoverflow.com/questions/40514944/tkinter-dynamically-add-checkboxes-to-grid-and-read-values-individually", "title": "tkinter: dynamically add checkboxes to grid and read values individually", "body": "<p>I would like to dynamically add checkboxes to a tkinter grid and then have the user check some of them and afterwards see, which checkboxes were checked.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>    top = tkinter.Tk()\n    var2 = tkinter.IntVar()\n    main()\n    top.mainloop()\n\n# in main\n for feat in feats:\n                counter += 1\n\n                tkinter.Checkbutton(top, text=str(merkmal) + \" ist \" + \n\nstr(label), command=lambda: testResult(),\n                                             variable=var2).grid(row=counter, sticky=\"W\")\n\n   # callback\n    def testResult():\n        print(var2)\n</code></pre>\n\n<p>Two problems:</p>\n\n<p>a) I need a vertical and horizontal scrollbar on my grid</p>\n\n<p>I have looked at other posts and seen that I need to add a canvas and then add the scrollbar to the canvas but I havent gotten it to work. Here's my attempt:</p>\n\n<pre><code>w = tkinter.Canvas(top)\n    scrollbar = tkinter.Scrollbar(top, orient=\"vertical\",command=w.yview)\n    scrollbar.grid(row=0,column=1,sticky='ns')\n\n    w.config(yscrollcommand=scrollbar.set, xscrollcommand=scrollbar.set)\n    w.grid(row=0,column=0,sticky='nsew')\n</code></pre>\n\n<p>and then addind the checkboxes to <code>w</code> instead of <code>top</code>. The vertical scrollbar shows, but I cant scroll.</p>\n\n<p>b) When I check one of the boxes, all of them get checked. How can I make it so that each checkbox can be checked individually?</p>\n\n<p>I am new to tkinter and really don't have to learn too much into it, just need this to work somehow.</p>\n\n<p>Thanks for any help!</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>canvas = tkinter.Canvas(top, bg='#FFFF12', width=300, height=900, scrollregion=(0, 0, 900, 900))\nhbar = tkinter.Scrollbar(top, orient=\"horizontal\")\nhbar.pack(side=\"bottom\", fill=\"x\")\nhbar.config(command=canvas.xview)\nvbar = tkinter.Scrollbar(top, orient=\"vertical\")\nvbar.pack(side=\"right\", fill=\"y\")\nvbar.config(command=canvas.yview)\ncanvas.config(xscrollcommand=hbar.set, yscrollcommand=vbar.set)\ncanvas.pack(side=\"left\", expand=True, fill=\"both\")\n</code></pre>\n\n<p>It shows the scrollbar, the vertical scrollbar moves a bit, but the content doesnt move. When I attach everything to a frame, then the scrollbar doesnt move either.</p>\n"}, {"tags": ["python", "matplotlib", "boxplot", "seaborn"], "answers": [{"comments": [{"owner": {"reputation": 2135, "user_id": 3696204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fJLCn.jpg?s=128&g=1", "display_name": "rocksNwaves", "link": "https://stackoverflow.com/users/3696204/rocksnwaves"}, "edited": false, "score": 2, "creation_date": 1585291546, "post_id": 40518789, "comment_id": 107712969, "body": "I&#39;m trying to figure out how to apply this. It would be amazing if I could make this work on my own data. I want to sort by median value. It&#39;s a shame this functionality isn&#39;t built into the library."}], "tags": [], "owner": {"reputation": 1797, "user_id": 1115277, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1cac16c4810b19ce83f367e391eea801?s=128&d=identicon&r=PG", "display_name": "amaatouq", "link": "https://stackoverflow.com/users/1115277/amaatouq"}, "is_accepted": true, "score": 21, "last_activity_date": 1618646045, "last_edit_date": 1618646045, "creation_date": 1478742253, "answer_id": 40518789, "question_id": 40514921, "link": "https://stackoverflow.com/questions/40514921/ordering-boxplot-x-axis-in-seaborn/40518789#40518789", "title": "Ordering boxplot x-axis in seaborn", "body": "<p>I figured out the answer:</p>\n<pre><code>grouped = round_data[round_data.batch==i].groupby('username')\nusers_sorted_average = (\n    pd.DataFrame({col: vals['absolute_error'] for col, vals in grouped})\n    .mean()\n    .sort_values(ascending=True)\n)\n</code></pre>\n<p>Passing <code>users_sorted_average </code> for the &quot;order&quot; parameter in the seaborn plot function would give the desired behavior:</p>\n<pre><code>ax = sns.boxplot(\n    x='username', \n    y='error', \n    data=round_data, \n    whis=np.inf,\n    ax=ax,\n    color=c,\n    order=users_sorted_average.index,\n)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/r3INe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3INe.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 1797, "user_id": 1115277, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1cac16c4810b19ce83f367e391eea801?s=128&d=identicon&r=PG", "display_name": "amaatouq", "link": "https://stackoverflow.com/users/1115277/amaatouq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20704, "favorite_count": 5, "accepted_answer_id": 40518789, "answer_count": 1, "score": 15, "last_activity_date": 1618646120, "creation_date": 1478721258, "last_edit_date": 1618646120, "question_id": 40514921, "link": "https://stackoverflow.com/questions/40514921/ordering-boxplot-x-axis-in-seaborn", "title": "Ordering boxplot x-axis in seaborn", "body": "<p>My dataframe <code>round_data</code> looks like this:</p>\n<pre><code>      error                         username                    task_path\n0      0.02  n49vq14uhvy93i5uw33tf7s1ei07vngozrzlsr6q6cnh8w...    39.png\n1      0.10  n49vq14uhvy93i5uw33tf7s1ei07vngozrzlsr6q6cnh8w...    45.png\n2      0.15  n49vq14uhvy93i5uw33tf7s1ei07vngozrzlsr6q6cnh8w...    44.png\n3     0.25  xdoaztndsxoxk3wycpxxkhaiew3lrsou3eafx3em58uqth...    43.png\n...     ...                                                ...       ...\n1170  -0.11  9qrz4829q27cu3pskups0vir0ftepql7ynpn6in9hxx3ux...    33.png\n1171   0.15  9qrz4829q27cu3pskups0vir0ftepql7ynpn6in9hxx3ux...    34.png\n\n\n[1198 rows x 3 columns]\n</code></pre>\n<p>I want to have a boxplot showing the error of each user sorted by their average performance. What I have is:</p>\n<pre><code>ax = sns.boxplot(\n    x='username', \n    y='error', \n    data=round_data,\n    whis=np.inf,\n    color='c',\n    ax=ax\n)\n</code></pre>\n<p>which results into this plot:\n<a href=\"https://i.stack.imgur.com/5yY0w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5yY0w.png\" alt=\"boxplot\" /></a></p>\n<p>How can I sort the x-axis (i.e., users) by mean error?</p>\n"}, {"tags": ["python", "neo4j", "graph-databases"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6819658, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9731c7b30fa454822e5eeaf0595b842?s=128&d=identicon&r=PG&f=1", "display_name": "Inanc Arin", "link": "https://stackoverflow.com/users/6819658/inanc-arin"}, "edited": false, "score": 0, "creation_date": 1478806013, "post_id": 40517525, "comment_id": 68310615, "body": "Omg, you were right! It worked like a charm! It did not hang and just took 28 minutes to insert all nodes and relations. Thanks a lot!"}], "tags": [], "owner": {"reputation": 57206, "user_id": 974731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG", "display_name": "cybersam", "link": "https://stackoverflow.com/users/974731/cybersam"}, "is_accepted": true, "score": 1, "last_activity_date": 1478732891, "creation_date": 1478732891, "answer_id": 40517525, "question_id": 40514890, "link": "https://stackoverflow.com/questions/40514890/hangs-while-importing-data-into-neo4j-with-python/40517525#40517525", "title": "Hangs while importing data into Neo4j with python", "body": "<p>Every call to <code>session.run()</code> does the following:</p>\n\n<ul>\n<li>Start a transaction.</li>\n<li>Perform the Cypher statement passed to <code>run()</code>.</li>\n<li>Commit (or rollback) the transaction.</li>\n</ul>\n\n<p>In your case, you are actually making <em>two</em> <code>session.run()</code> calls per input line. Not only that, but the Cypher statement in the second call has to <code>MATCH</code> the <code>Artist</code> node that was obtained by the Cypher in the first call.</p>\n\n<p>Since your input file has 17.5 million lines, this means you are creating/committing/closing 35 million transactions. In addition, you are performing 17.5 million unnecessary <code>MATCH</code> operations. This is <em>extremely</em> expensive, and may also be responsible for making driver stumble at times.</p>\n\n<p>Suggestions:</p>\n\n<ol>\n<li><p>You should batch multiple operations within the same transaction. For example, if you batched 10K operations within each transaction, 17.5 million input rows would only require 1750 transactions.</p></li>\n<li><p>You should combine the two Cypher statements into one.</p></li>\n</ol>\n\n<p>For example, you should get better results if you changed your code so that it:</p>\n\n<ul>\n<li><p>generates a <code>list</code> array parameter with each batch of 10K elements, which (if pretty printed) would look like this:</p>\n\n<pre><code>{\"list\": \n  [\n    {\"id\": 1, \"name\": 'aaa', \"plays\": 3},\n    {\"id\": 2, \"name\": 'bbb', \"plays\": 2},\n    {\"id\": 3, \"name\": 'ccc', \"plays\": 3},\n    ...\n    {\"id\": 10000, \"name\": 'xyz', \"plays\": 7}\n  ]\n}\n</code></pre></li>\n<li><p>uses the following Cypher statement:</p>\n\n<pre><code>UNWIND {list} AS d\nMATCH (p:Person {user_id: d.id})\nMERGE (a:Artist {artist_name: d.name})\nMERGE (p)-[:LIKES {times: d.plays}]-&gt;(a)\n</code></pre></li>\n<li><p>calls <code>session.run()</code> (once per 10K input lines) with the above Cypher statement and parameter.</p></li>\n</ul>\n"}], "owner": {"reputation": 45, "user_id": 6819658, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9731c7b30fa454822e5eeaf0595b842?s=128&d=identicon&r=PG&f=1", "display_name": "Inanc Arin", "link": "https://stackoverflow.com/users/6819658/inanc-arin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 1, "accepted_answer_id": 40517525, "answer_count": 1, "score": 2, "last_activity_date": 1478732891, "creation_date": 1478721148, "question_id": 40514890, "link": "https://stackoverflow.com/questions/40514890/hangs-while-importing-data-into-neo4j-with-python", "title": "Hangs while importing data into Neo4j with python", "body": "<p>I am trying to import <a href=\"http://ocelma.net/MusicRecommendationDataset/lastfm-360K.html\" rel=\"nofollow noreferrer\">lastfm360K</a> database into Neo4j database. I firstly insert all users as node without any problem with following code</p>\n\n<pre><code>import re\nfrom datetime import datetime\nfrom elasticsearch import Elasticsearch\nimport certifi\nfrom neo4j.v1 import GraphDatabase, basic_auth\n\ndriver = GraphDatabase.driver(\"bolt://localhost\", auth=basic_auth(\"neo4j\", \"pass\"))\nsession = driver.session()\n\nwith open(\"/Users/inanc/Documents/Software/lastfm-dataset-360K/usersha1-profile.tsv\" , 'r') as userFile:\n    #first_line = userFile.readline()\n    linenum = 0\n    for line in userFile:\n        linenum = linenum + 1\n        if linenum % 1000 == 0:\n            print(linenum)\n        lineStrip = line.rstrip().split(\"\\t\")\n        tempDict = {}\n        tempDict[\"user_id\"] = lineStrip[0]\n        if len(lineStrip) &gt; 1:\n            tempDict[\"gender\"] = lineStrip[1]\n            if lineStrip[2] != \"\":\n                tempDict[\"age\"] = int(lineStrip[2])\n            tempDict[\"country\"] = lineStrip[3]\n            tempDict[\"signup\"] = lineStrip[4]\n        session.run(\"CREATE (a:Person {dict})\", {\"dict\": tempDict})\n\n\nsession.close()\n</code></pre>\n\n<p>And then I want to add Artist nodes and relations with users as follows</p>\n\n<pre><code>import re\nfrom datetime import datetime\nfrom elasticsearch import Elasticsearch\nimport certifi\nfrom neo4j.v1 import GraphDatabase, basic_auth\n\ndriver = GraphDatabase.driver(\"bolt://localhost\", auth=basic_auth(\"neo4j\", \"pass\"))\nsession = driver.session()\n\nlinenum = 0\nwith open(\"/Users/inanc/Documents/Software/lastfm-dataset-360K/usersha1-artmbid-artname-plays.tsv\" , 'r') as songFile:\n    for line in songFile:\n        linenum = linenum + 1\n        if linenum % 10000 == 0:\n            print(linenum)\n        lineStrip = line.rstrip().split(\"\\t\")\n        if len(lineStrip) == 4:\n            #print(line)\n            user_id = lineStrip[0]\n            musicbrainz_artistid = lineStrip[1]\n            artist_name = lineStrip[2]\n            plays = 1\n            if lineStrip[3] != \"\":\n                plays = int(lineStrip[3])\n\n            session.run(\"MERGE (a:Artist {artist_name: {artist_name}})\", {\"artist_name\": artist_name})\n            session.run(\"MATCH (p:Person {user_id: {user_id}}), (a:Artist {artist_name: {artist_name}}) CREATE (p)-[:LIKES {times: {plays}}]-&gt;(a)\", {\"user_id\": user_id, \"artist_name\": artist_name, \"plays\": plays})\n\nsession.close()\n</code></pre>\n\n<p>It starts doing it without any error (it is very slow by the way, it took hours), but after sometime it hangs at somepoint (for example after a few million lines). Even my python script hangs, I am still able to query through browser. </p>\n\n<p>My only constrains are </p>\n\n<pre><code>create constraint on (p:Person) assert p.user_id is unique;\ncreate constraint on (a:Artist) assert a.artist_name is unique;\n</code></pre>\n\n<p>I am using neo4j 3.0.7 on a Macbook with 8GB ram. I am also using the officially supported python <a href=\"https://neo4j.com/developer/python/\" rel=\"nofollow noreferrer\">driver</a> by neo4j.</p>\n\n<p>Any help will be appreciated!</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "edited": false, "score": 1, "creation_date": 1478721116, "post_id": 40514865, "comment_id": 68271452, "body": "Maybe try using tabs (<code>\\t</code>) instead of spaces?"}, {"owner": {"reputation": 148, "user_id": 6835952, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/m2nVG.jpg?s=128&g=1", "display_name": "Pyth0nicPenguin", "link": "https://stackoverflow.com/users/6835952/pyth0nicpenguin"}, "reply_to_user": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "edited": false, "score": 0, "creation_date": 1478721301, "post_id": 40514865, "comment_id": 68271547, "body": "@JF That didn&#39;t work, thanks for the idea though!"}, {"owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "edited": false, "score": 0, "creation_date": 1478721562, "post_id": 40514865, "comment_id": 68271661, "body": "just get rid of the .strip()"}, {"owner": {"reputation": 627, "user_id": 4391697, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-Z-sILYu1kSE/AAAAAAAAAAI/AAAAAAAAABA/UFtvh2xE5kI/photo.jpg?sz=128", "display_name": "Siva Shanmugam", "link": "https://stackoverflow.com/users/4391697/siva-shanmugam"}, "edited": false, "score": 0, "creation_date": 1478721635, "post_id": 40514865, "comment_id": 68271697, "body": "@Pyth0nicPenguin Try using fixed column size. For eg. Col1 may go upto 100 or 1000. Using <a href=\"http://stackoverflow.com/questions/10837017/how-do-i-make-a-fixed-size-formatted-string-in-python\" title=\"how do i make a fixed size formatted string in python\">stackoverflow.com/questions/10837017/&hellip;</a>"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1478721712, "post_id": 40514865, "comment_id": 68271737, "body": "Do you want it left or right justified?"}, {"owner": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "edited": false, "score": 0, "creation_date": 1478793581, "post_id": 40514865, "comment_id": 68303686, "body": "@Pyth0nicPenguin At your discretion please accept the answer that may have worked for you"}, {"owner": {"reputation": 148, "user_id": 6835952, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/m2nVG.jpg?s=128&g=1", "display_name": "Pyth0nicPenguin", "link": "https://stackoverflow.com/users/6835952/pyth0nicpenguin"}, "reply_to_user": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "edited": false, "score": 0, "creation_date": 1478794816, "post_id": 40514865, "comment_id": 68304489, "body": "@kiran.koduru None of them worked."}, {"owner": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "edited": false, "score": 0, "creation_date": 1478796112, "post_id": 40514865, "comment_id": 68305353, "body": "@Pyth0nicPenguin what was your expected output? Did you follow the concept of left adjusting and right adjusting strings with spaces?"}, {"owner": {"reputation": 148, "user_id": 6835952, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/m2nVG.jpg?s=128&g=1", "display_name": "Pyth0nicPenguin", "link": "https://stackoverflow.com/users/6835952/pyth0nicpenguin"}, "reply_to_user": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "edited": false, "score": 0, "creation_date": 1478799110, "post_id": 40514865, "comment_id": 68307150, "body": "@kiran.koduru I&#39;ve tried everything, followed the left and right adjustments, tried all the answers, and for some reason it still fails for me when I submit the code."}], "answers": [{"tags": [], "owner": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "is_accepted": true, "score": 2, "last_activity_date": 1478721476, "creation_date": 1478721476, "answer_id": 40514981, "question_id": 40514865, "link": "https://stackoverflow.com/questions/40514865/multiplication-table-format/40514981#40514981", "title": "Multiplication table format", "body": "<p>You can left adjust string with spaces with <code>{:&lt;6}</code></p>\n\n<pre><code>for row in range(1, 20+1):\n    table = ''\n    for column in range(1, 20+1):\n        table += '{:&lt;6} '.format(row * column)\n    print table.strip()\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>1      2      3      4      5      6      7      8      9      10     11     12     13     14     15     16     17     18     19     20\n2      4      6      8      10     12     14     16     18     20     22     24     26     28     30     32     34     36     38     40\n3      6      9      12     15     18     21     24     27     30     33     36     39     42     45     48     51     54     57     60\n4      8      12     16     20     24     28     32     36     40     44     48     52     56     60     64     68     72     76     80\n5      10     15     20     25     30     35     40     45     50     55     60     65     70     75     80     85     90     95     100\n6      12     18     24     30     36     42     48     54     60     66     72     78     84     90     96     102    108    114    120\n7      14     21     28     35     42     49     56     63     70     77     84     91     98     105    112    119    126    133    140\n8      16     24     32     40     48     56     64     72     80     88     96     104    112    120    128    136    144    152    160\n9      18     27     36     45     54     63     72     81     90     99     108    117    126    135    144    153    162    171    180\n10     20     30     40     50     60     70     80     90     100    110    120    130    140    150    160    170    180    190    200\n11     22     33     44     55     66     77     88     99     110    121    132    143    154    165    176    187    198    209    220\n12     24     36     48     60     72     84     96     108    120    132    144    156    168    180    192    204    216    228    240\n13     26     39     52     65     78     91     104    117    130    143    156    169    182    195    208    221    234    247    260\n14     28     42     56     70     84     98     112    126    140    154    168    182    196    210    224    238    252    266    280\n15     30     45     60     75     90     105    120    135    150    165    180    195    210    225    240    255    270    285    300\n16     32     48     64     80     96     112    128    144    160    176    192    208    224    240    256    272    288    304    320\n17     34     51     68     85     102    119    136    153    170    187    204    221    238    255    272    289    306    323    340\n18     36     54     72     90     108    126    144    162    180    198    216    234    252    270    288    306    324    342    360\n19     38     57     76     95     114    133    152    171    190    209    228    247    266    285    304    323    342    361    380\n20     40     60     80     100    120    140    160    180    200    220    240    260    280    300    320    340    360    380    400\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "is_accepted": false, "score": 1, "last_activity_date": 1478722207, "last_edit_date": 1478722207, "creation_date": 1478721822, "answer_id": 40515071, "question_id": 40514865, "link": "https://stackoverflow.com/questions/40514865/multiplication-table-format/40515071#40515071", "title": "Multiplication table format", "body": "<p>So a simple way of doing this is using generators (I find it more readable right justified):</p>\n\n<pre><code>&gt;&gt;&gt; n = 10\n&gt;&gt;&gt; print('\\n'.join(''.join(format(i*j, ' &gt;4') for i in range(1, n+1)) for j in range(1, n+1)))\n   1   2   3   4   5   6   7   8   9  10\n   2   4   6   8  10  12  14  16  18  20\n   3   6   9  12  15  18  21  24  27  30\n   4   8  12  16  20  24  28  32  36  40\n   5  10  15  20  25  30  35  40  45  50\n   6  12  18  24  30  36  42  48  54  60\n   7  14  21  28  35  42  49  56  63  70\n   8  16  24  32  40  48  56  64  72  80\n   9  18  27  36  45  54  63  72  81  90\n  10  20  30  40  50  60  70  80  90 100\n</code></pre>\n\n<p>If you need to work out the maximum width dynamically then you can use <code>math.log10()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import math\n&gt;&gt;&gt; n = 9\n&gt;&gt;&gt; w = int(math.log10(n**2))+1\n&gt;&gt;&gt; print('\\n'.join(' '.join(format(i*j, ' &gt;'+str(w)) for i in range(1, n+1)) for j in range(1, n+1)))\n 1  2  3  4  5  6  7  8  9\n 2  4  6  8 10 12 14 16 18\n 3  6  9 12 15 18 21 24 27\n 4  8 12 16 20 24 28 32 36\n 5 10 15 20 25 30 35 40 45\n 6 12 18 24 30 36 42 48 54\n 7 14 21 28 35 42 49 56 63\n 8 16 24 32 40 48 56 64 72\n 9 18 27 36 45 54 63 72 81\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 411, "user_id": 1508736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed854cf693c642b335a6edc1ff0eab1c?s=128&d=identicon&r=PG", "display_name": "maki", "link": "https://stackoverflow.com/users/1508736/maki"}, "is_accepted": false, "score": 0, "last_activity_date": 1478722173, "creation_date": 1478722173, "answer_id": 40515156, "question_id": 40514865, "link": "https://stackoverflow.com/questions/40514865/multiplication-table-format/40515156#40515156", "title": "Multiplication table format", "body": "<p>Your code example is not working due to the last \"strip\", which is removing whitespace through the left and shifting your results.</p>\n\n<p>Just removing the strip:</p>\n\n<pre><code>if __name__ == '__main__':\n    for row in range(1, 20+1):\n        table = ''\n        for column in range(1, 20+1):\n            table += '{:4} '.format(row * column)\n        print(table)\n\n   1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16   17   18   19   20\n   2    4    6    8   10   12   14   16   18   20   22   24   26   28   30   32   34   36   38   40\n   3    6    9   12   15   18   21   24   27   30   33   36   39   42   45   48   51   54   57   60\n   4    8   12   16   20   24   28   32   36   40   44   48   52   56   60   64   68   72   76   80\n   5   10   15   20   25   30   35   40   45   50   55   60   65   70   75   80   85   90   95  100\n   6   12   18   24   30   36   42   48   54   60   66   72   78   84   90   96  102  108  114  120\n   7   14   21   28   35   42   49   56   63   70   77   84   91   98  105  112  119  126  133  140\n   8   16   24   32   40   48   56   64   72   80   88   96  104  112  120  128  136  144  152  160\n   9   18   27   36   45   54   63   72   81   90   99  108  117  126  135  144  153  162  171  180\n  10   20   30   40   50   60   70   80   90  100  110  120  130  140  150  160  170  180  190  200\n  11   22   33   44   55   66   77   88   99  110  121  132  143  154  165  176  187  198  209  220\n  12   24   36   48   60   72   84   96  108  120  132  144  156  168  180  192  204  216  228  240\n  13   26   39   52   65   78   91  104  117  130  143  156  169  182  195  208  221  234  247  260\n  14   28   42   56   70   84   98  112  126  140  154  168  182  196  210  224  238  252  266  280\n  15   30   45   60   75   90  105  120  135  150  165  180  195  210  225  240  255  270  285  300\n  16   32   48   64   80   96  112  128  144  160  176  192  208  224  240  256  272  288  304  320\n  17   34   51   68   85  102  119  136  153  170  187  204  221  238  255  272  289  306  323  340\n  18   36   54   72   90  108  126  144  162  180  198  216  234  252  270  288  306  324  342  360\n  19   38   57   76   95  114  133  152  171  190  209  228  247  266  285  304  323  342  361  380\n  20   40   60   80  100  120  140  160  180  200  220  240  260  280  300  320  340  360  380  400\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": false, "score": 0, "last_activity_date": 1478722473, "creation_date": 1478722473, "answer_id": 40515234, "question_id": 40514865, "link": "https://stackoverflow.com/questions/40514865/multiplication-table-format/40515234#40515234", "title": "Multiplication table format", "body": "<p>Another possible approach would be to use list comprehensions as follows:</p>\n\n<pre><code>for row in [['{:4}'.format(row * col) for col in range(1, 21)] for row in range(1, 21)]:\n    print ''.join(row)\n</code></pre>\n\n<p>This would give you the following output:</p>\n\n<pre><code>   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20\n   2   4   6   8  10  12  14  16  18  20  22  24  26  28  30  32  34  36  38  40\n   3   6   9  12  15  18  21  24  27  30  33  36  39  42  45  48  51  54  57  60\n   4   8  12  16  20  24  28  32  36  40  44  48  52  56  60  64  68  72  76  80\n   5  10  15  20  25  30  35  40  45  50  55  60  65  70  75  80  85  90  95 100\n   6  12  18  24  30  36  42  48  54  60  66  72  78  84  90  96 102 108 114 120\n   7  14  21  28  35  42  49  56  63  70  77  84  91  98 105 112 119 126 133 140\n   8  16  24  32  40  48  56  64  72  80  88  96 104 112 120 128 136 144 152 160\n   9  18  27  36  45  54  63  72  81  90  99 108 117 126 135 144 153 162 171 180\n  10  20  30  40  50  60  70  80  90 100 110 120 130 140 150 160 170 180 190 200\n  11  22  33  44  55  66  77  88  99 110 121 132 143 154 165 176 187 198 209 220\n  12  24  36  48  60  72  84  96 108 120 132 144 156 168 180 192 204 216 228 240\n  13  26  39  52  65  78  91 104 117 130 143 156 169 182 195 208 221 234 247 260\n  14  28  42  56  70  84  98 112 126 140 154 168 182 196 210 224 238 252 266 280\n  15  30  45  60  75  90 105 120 135 150 165 180 195 210 225 240 255 270 285 300\n  16  32  48  64  80  96 112 128 144 160 176 192 208 224 240 256 272 288 304 320\n  17  34  51  68  85 102 119 136 153 170 187 204 221 238 255 272 289 306 323 340\n  18  36  54  72  90 108 126 144 162 180 198 216 234 252 270 288 306 324 342 360\n  19  38  57  76  95 114 133 152 171 190 209 228 247 266 285 304 323 342 361 380\n  20  40  60  80 100 120 140 160 180 200 220 240 260 280 300 320 340 360 380 400\n</code></pre>\n"}], "owner": {"reputation": 148, "user_id": 6835952, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/m2nVG.jpg?s=128&g=1", "display_name": "Pyth0nicPenguin", "link": "https://stackoverflow.com/users/6835952/pyth0nicpenguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 40514981, "answer_count": 4, "score": 0, "last_activity_date": 1478722473, "creation_date": 1478721041, "question_id": 40514865, "link": "https://stackoverflow.com/questions/40514865/multiplication-table-format", "title": "Multiplication table format", "body": "<p>I've created a simple script that will make a multiplication table and output it. It works and is pretty cool but I would like to know if there's a way I could fix it for when it goes higher then 10. After 10 (on the row) it will be a whitespace off of the rest of the table, how can I fix this little format issue?</p>\n\n<pre><code>if __name__ == '__main__':\n    for row in range(1, 20+1):\n        table = ''\n        for column in range(1, 20+1):\n            table += '{:4} '.format(row * column)\n        print(table.strip())\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16   17   18   19   20\n2    4    6    8   10   12   14   16   18   20   22   24   26   28   30   32   34   36   38   40\n3    6    9   12   15   18   21   24   27   30   33   36   39   42   45   48   51   54   57   60\n4    8   12   16   20   24   28   32   36   40   44   48   52   56   60   64   68   72   76   80\n5   10   15   20   25   30   35   40   45   50   55   60   65   70   75   80   85   90   95  100\n6   12   18   24   30   36   42   48   54   60   66   72   78   84   90   96  102  108  114  120\n7   14   21   28   35   42   49   56   63   70   77   84   91   98  105  112  119  126  133  140\n8   16   24   32   40   48   56   64   72   80   88   96  104  112  120  128  136  144  152  160\n9   18   27   36   45   54   63   72   81   90   99  108  117  126  135  144  153  162  171  180\n10   20   30   40   50   60   70   80   90  100  110  120  130  140  150  160  170  180  190  200\n11   22   33   44   55   66   77   88   99  110  121  132  143  154  165  176  187  198  209  220\n12   24   36   48   60   72   84   96  108  120  132  144  156  168  180  192  204  216  228  240\n13   26   39   52   65   78   91  104  117  130  143  156  169  182  195  208  221  234  247  260\n14   28   42   56   70   84   98  112  126  140  154  168  182  196  210  224  238  252  266  280\n15   30   45   60   75   90  105  120  135  150  165  180  195  210  225  240  255  270  285  300\n16   32   48   64   80   96  112  128  144  160  176  192  208  224  240  256  272  288  304  320\n17   34   51   68   85  102  119  136  153  170  187  204  221  238  255  272  289  306  323  340\n18   36   54   72   90  108  126  144  162  180  198  216  234  252  270  288  306  324  342  360\n19   38   57   76   95  114  133  152  171  190  209  228  247  266  285  304  323  342  361  380\n20   40   60   80  100  120  140  160  180  200  220  240  260  280  300  320  340  360  380  400\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1478721232, "post_id": 40514864, "comment_id": 68271512, "body": "Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: How to create a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 1, "creation_date": 1478721277, "post_id": 40514864, "comment_id": 68271536, "body": "Please provide sample input and desired output. As it is not clear what you desire."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1478722068, "post_id": 40514864, "comment_id": 68271904, "body": "What is the &quot;term variable?&quot; You can&#39;t expect people to guess about what you are referring to."}], "answers": [{"tags": [], "owner": {"reputation": 200, "user_id": 5696906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b12ba6b9821235e4fd04ab503b00b96?s=128&d=identicon&r=PG&f=1", "display_name": "Wiredo", "link": "https://stackoverflow.com/users/5696906/wiredo"}, "is_accepted": false, "score": 0, "last_activity_date": 1478724155, "creation_date": 1478724155, "answer_id": 40515681, "question_id": 40514864, "link": "https://stackoverflow.com/questions/40514864/identifying-multiple-keywords-in-a-sentence-using-python/40515681#40515681", "title": "Identifying multiple keywords in a sentence using python", "body": "<p>Your question is not really clear but from what I understand you probably will need some sort of regex like ^hello(.*)</p>\n"}], "owner": {"reputation": 1, "user_id": 7138113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80b6f1ae2a2c4214bd2fd326a5d68fc1?s=128&d=identicon&r=PG&f=1", "display_name": "Fishlegs", "link": "https://stackoverflow.com/users/7138113/fishlegs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1582473153, "creation_date": 1478721041, "last_edit_date": 1582473153, "question_id": 40514864, "link": "https://stackoverflow.com/questions/40514864/identifying-multiple-keywords-in-a-sentence-using-python", "title": "Identifying multiple keywords in a sentence using python", "body": "<p>I have seen that using the \"term\" variable you can identify keywords in a sentence, but I was wondering if there was a way to have it check for multiple things using the term rule. For example if you were looking for hello it would pick up on <strong>hello! hello. hello?</strong> etc. Any way of doing this all in one go or would I have to split it up?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 4, "last_activity_date": 1478721104, "creation_date": 1478721104, "answer_id": 40514878, "question_id": 40514829, "link": "https://stackoverflow.com/questions/40514829/different-class-instances-use-same-memory-location/40514878#40514878", "title": "Different class instances use same memory location", "body": "<p>In your first 2 examples, once the call to <code>print</code> has finished, the object no longer has a reference, and so can be re-used the next time that type of object is created. </p>\n\n<p>In the second, all of the instances have references at the same time, and thus must be distinct.</p>\n\n<p>I wouldn't <em>rely</em> on this behavior, though: for example, there might be other unreferenced instances of that object lying about.</p>\n"}, {"tags": [], "owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "is_accepted": false, "score": 3, "last_activity_date": 1478721137, "creation_date": 1478721137, "answer_id": 40514887, "question_id": 40514829, "link": "https://stackoverflow.com/questions/40514829/different-class-instances-use-same-memory-location/40514887#40514887", "title": "Different class instances use same memory location", "body": "<p>When an object doesn't exist any more, its location is available for reuse immediately.<br>\nSince Python objects are reference-counted, they disappear as soon as nothing refers to them.</p>\n\n<p>If things worked the way you expect, you could run out of memory rather quickly.</p>\n"}, {"tags": [], "owner": {"reputation": 727, "user_id": 7120903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QDvo0.jpg?s=128&g=1", "display_name": "Mark Hannel", "link": "https://stackoverflow.com/users/7120903/mark-hannel"}, "is_accepted": true, "score": 8, "last_activity_date": 1571236412, "last_edit_date": 1571236412, "creation_date": 1478724448, "answer_id": 40515760, "question_id": 40514829, "link": "https://stackoverflow.com/questions/40514829/different-class-instances-use-same-memory-location/40515760#40515760", "title": "Different class instances use same memory location", "body": "<p>Your question concerns how Python allocates memory. <strong>tldr;</strong> Python uses a heap to store memory. When a resource is freed, it goes to the top of the heap.</p>\n\n<h1>Detailed Answer</h1>\n\n<p>Python has to allocate memory to create an instance of an object. For memory efficiency, the <a href=\"https://docs.python.org/3/c-api/memory.html\" rel=\"nofollow noreferrer\">Python memory manager</a> has a heap of memory locations available to give or reserve for the instantiation of objects. Using some of your examples, you can see how this works in practice.</p>\n\n<h1>Example #1</h1>\n\n<pre><code>&gt;&gt;&gt; for i in range(3):\n...     print(DemoClass())\n... \n&lt;test.DemoClass instance at 0x288b248&gt;\n&lt;test.DemoClass instance at 0x288b248&gt;\n&lt;test.DemoClass instance at 0x288b248&gt;\n</code></pre>\n\n<p>During the first iteration of the <code>for</code> loop, python uses the first available address in its current heap, namely <code>&lt;0x288b248&gt;</code>, to create an instance of <code>DemoClass</code> for the <code>print</code> call. Once the <code>print</code> command has finished, the memory address is freed and returns to the <strong>top of the heap</strong>. During the next iteration of the loop, python utilizes the first available memory address, which again is address <code>&lt;0x288b248&gt;</code>. Etc.</p>\n\n<h1>Example #2</h1>\n\n<pre><code>&gt;&gt;&gt; for j in [DemoClass() for i in range(3)]:\n...     print(j)\n... \n&lt;test.DemoClass instance at 0x288bcf8&gt;\n&lt;test.DemoClass instance at 0x288b290&gt;\n&lt;test.DemoClass instance at 0x288b638&gt;\n</code></pre>\n\n<p>Here python generates a list that it will then iterate through. The creation of the list requires that a <strong>new</strong> instance of DemoClass be created for each element. This will take the top three addresses off the heap. After the loop is done, the list is freed from memory and if we again make a call to <code>print(DemoClass)</code> we will find that the python is again reusing memory.</p>\n\n<pre><code>&gt;&gt;&gt; print DemoClass()\n&lt;test.DemoClass instance at 0x288bcf8&gt;\n</code></pre>\n\n<h1>Example 3 (My Example of Alternating Memory Allocation)</h1>\n\n<pre><code>&gt;&gt;&gt; for i in range(4):\n...     Demo = DemoClass()\n...     print(Demo)\n... \n&lt;test.DemoClass instance at 0x288bcf8&gt;\n&lt;test.DemoClass instance at 0x288b290&gt;\n&lt;test.DemoClass instance at 0x288bcf8&gt;\n&lt;test.DemoClass instance at 0x288b290&gt;\n</code></pre>\n\n<p>In this example, each time <code>Demo</code> is instantiated as an instance of <code>DemoClass</code>, a segment of memory is assigned to <code>Demo</code>. However, the call to <code>print(Demo)</code> does <strong>not</strong> free the memory assigned to <code>Demo</code>. At the beginning of the next loop, a new segment of memory is allocated to <code>Demo</code> and then <code>Demo</code> is <strong>overwritten</strong>, at which point it's original memory address returns to the top of the heap. The memory address used for <code>Demo</code> then alternates between two memory addresses.</p>\n"}], "owner": {"reputation": 184, "user_id": 2665196, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c614f94c429ad721e506e2f02028df44?s=128&d=identicon&r=PG&f=1", "display_name": "Mario Geuenich", "link": "https://stackoverflow.com/users/2665196/mario-geuenich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2390, "favorite_count": 3, "accepted_answer_id": 40515760, "answer_count": 3, "score": 5, "last_activity_date": 1571236412, "creation_date": 1478720863, "question_id": 40514829, "link": "https://stackoverflow.com/questions/40514829/different-class-instances-use-same-memory-location", "title": "Different class instances use same memory location", "body": "<p>I was playing around with the <code>pickle</code> library, when I noticed that sometimes, different class instances are at the same memory location.</p>\n\n<p>Both of the below examples are showcasing said behaviour:</p>\n\n<pre><code>class DemoClass:\n    def __init__(self):\n        self.name = 'demoName'\n\n#example 1\nfor i in range(3):\n    print (DemoClass())\n\n#example 2\n[print(DemoClass()) for i in range(3)]\n\n#Output for both example 1 and example 2\n#Note that the memory locations are identical in the output\n&lt;__main__.DemoClass object at 0x00CEE610&gt;\n&lt;__main__.DemoClass object at 0x00CEE610&gt;\n&lt;__main__.DemoClass object at 0x00CEE610&gt;\n</code></pre>\n\n<p>This was quite startling to me, so maybe you could <strong>explain why this occurs</strong>.</p>\n\n<p>The way in which the program acts as I would expect it to is as follows.</p>\n\n<pre><code>demo = [DemoClass() for i in range(3)]\nfor i in demo:\n    print (i)\n\n#Output\n&lt;__main__.DemoClass object at 0x01F7E630&gt;\n&lt;__main__.DemoClass object at 0x01F7ED30&gt;\n&lt;__main__.DemoClass object at 0x01F7E670&gt;\n</code></pre>\n"}]