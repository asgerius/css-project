[{"tags": ["python", "performance", "python-asyncio", "aiohttp"], "answers": [{"comments": [{"owner": {"reputation": 56, "user_id": 9291840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0abBV.jpg?s=128&g=1", "display_name": "saladzic", "link": "https://stackoverflow.com/users/9291840/saladzic"}, "edited": false, "score": 0, "creation_date": 1519066567, "post_id": 48802330, "comment_id": 84748845, "body": "Firstly, thank you for your help. But when I try it, I just get the message &quot;Session closed&quot; or something like &quot; Cannot connect to host xyz.xyz:80 ssl:False [getaddrinfo failed]&quot;"}, {"owner": {"reputation": 56, "user_id": 9291840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0abBV.jpg?s=128&g=1", "display_name": "saladzic", "link": "https://stackoverflow.com/users/9291840/saladzic"}, "edited": false, "score": 0, "creation_date": 1519071746, "post_id": 48802330, "comment_id": 84751059, "body": "When I insert instead of the domain variable in &quot;bound_fetch(sem, &#39;http://&#39; + domain, session))&quot; just &quot;google.de&quot;, then the request amount ist exploding. I think it&#39;s because my code hangs on a domain, if it&#39;s invalid. But how can I prevent this?"}], "tags": [], "owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "is_accepted": false, "score": 2, "last_activity_date": 1518776156, "last_edit_date": 1518776156, "creation_date": 1518681239, "answer_id": 48802330, "question_id": 48798156, "link": "https://stackoverflow.com/questions/48798156/python-aiohttp-with-asyncio-sends-requests-very-slowly/48802330#48802330", "title": "Python aiohttp (with asyncio) sends requests very slowly", "body": "<p>It's hard to tell what is going wrong without actually debugging the code, but one potential problem is that file processing is serialized. In other words, the code never processes the next file until all the requests from the current file have <em>finished</em>. If there are many files and one of them is slow, this could be a problem.</p>\n\n<p>To change this, define <code>run</code> along these lines:</p>\n\n<pre><code>async def run():\n    os.chdir(work_dir)\n    async with ClientSession() as session:\n        sem = asyncio.Semaphore(40000)\n        seen = set()\n        pending_tasks = set()\n        for f in glob.glob(\"cdx-*\"):\n            print(\"Opening: \" + f)\n            with open(f) as infile:\n                lines = list(infile)\n            for line in lines:\n                domain = re.search(r'://(.*?)/', line).group(1)\n                domain = domain.lower()\n                if domain in seen:\n                    continue\n                seen.add(domain)\n                task = asyncio.ensure_future(bound_fetch(sem, 'http://' + domain, session))\n                pending_tasks.add(task)\n                # ensure that each task removes itself from the pending set\n                # when done, so that the set doesn't grow without bounds\n                task.add_done_callback(pending_tasks.remove)\n        # await the remaining tasks\n        await asyncio.wait(pending_tasks)\n</code></pre>\n\n<p>Another important thing: silencing all exceptions in <code>fetch()</code> is bad practice because there is no indication that something has started going wrong (due to either a bug or a simple typo). This might well be the reason your script becomes \"slow\" after a while - <code>fetch</code> is raising exceptions and you're never seeing them. Instead of <code>pass</code>, use something like <code>print(f'failed to get {url}: {e}')</code> where <code>e</code> is the object you get from <code>except Exception as e</code>.</p>\n\n<p>Several additional remarks:</p>\n\n<ul>\n<li>There is almost never a need to <code>del</code> local variables in Python; the garbage collector does that automatically.</li>\n<li>You needn't <code>close()</code> a file opened using a <code>with</code> statement. <code>with</code> is designed specifically to do such closing automatically for you.</li>\n<li>The code added domains to a <code>seen</code> set, but also processed an already seen domain. This version skips the domain for which it had already spawned a task.</li>\n<li>You can create a single <code>ClientSession</code> and use it for the entire run.</li>\n</ul>\n"}], "owner": {"reputation": 56, "user_id": 9291840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0abBV.jpg?s=128&g=1", "display_name": "saladzic", "link": "https://stackoverflow.com/users/9291840/saladzic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1518776156, "creation_date": 1518652667, "question_id": 48798156, "link": "https://stackoverflow.com/questions/48798156/python-aiohttp-with-asyncio-sends-requests-very-slowly", "title": "Python aiohttp (with asyncio) sends requests very slowly", "body": "<p><strong>Situation:</strong>\nI am trying to send a HTTP request to all listed domains in a specific file I already downloaded and get the destination URL, I was forwarded to.</p>\n\n<p><strong>Problem:</strong> Well I have followed a <a href=\"https://pawelmhm.github.io/asyncio/python/aiohttp/2016/04/22/asyncio-aiohttp.html\" rel=\"nofollow noreferrer\">tutorial</a> and I get many less responses than expected. It's around 100 responses per second, but in the tutorial there are 100,000 responses per minute listed. \nThe script gets also slower and slower after a couple of seconds, so that I just get 1 response every 5 seconds.</p>\n\n<p><strong>Already tried:</strong> Firstly I thought that this problem is because I ran that on a Windows server. Well after I tried the script on my computer, I recognized that it was just a little bit faster, but not much more. On an other Linux server it was the same like on my computer (Unix, macOS).</p>\n\n<p><strong>Code:</strong> <a href=\"https://pastebin.com/WjLegw7K\" rel=\"nofollow noreferrer\">https://pastebin.com/WjLegw7K</a></p>\n\n<pre><code>work_dir = os.path.dirname(__file__)\n\nasync def fetch(url, session):\n    try:\n        async with session.get(url, ssl=False) as response:\n            if response.status == 200:\n                delay = response.headers.get(\"DELAY\")\n                date = response.headers.get(\"DATE\")\n                print(\"{}:{} with delay {}\".format(date, response.url, delay))\n                return await response.read()\n    except Exception:\n        pass\n\nasync def bound_fetch(sem, url, session):\n    # Getter function with semaphore.\n    async with sem:\n        await fetch(url, session)\n\n\nasync def run():\n    os.chdir(work_dir)\n    for file in glob.glob(\"cdx-*\"):\n        print(\"Opening: \" + file)\n        opened_file = file\n        tasks = []\n        # create instance of Semaphore\n        sem = asyncio.Semaphore(40000)\n        with open(work_dir + '/' + file) as infile:\n            seen = set()\n            async with ClientSession() as session:\n                for line in infile:\n                    regex = re.compile(r'://(.*?)/')\n                    domain = regex.search(line).group(1)\n                    domain = domain.lower()\n\n                    if domain not in seen:\n                        seen.add(domain)\n\n                        task = asyncio.ensure_future(bound_fetch(sem, 'http://' + domain, session))\n                        tasks.append(task)\n\n                    del line\n                responses = asyncio.gather(*tasks)\n                await responses\n            infile.close()\n            del seen\n            del file\n\n\nloop = asyncio.get_event_loop()\n\nfuture = asyncio.ensure_future(run())\nloop.run_until_complete(future)\n</code></pre>\n\n<p>I really don't know how to fix that issue. Especially because I'm very new to Python... but I have to get it to work somehow :(</p>\n"}, {"tags": ["python", "python-3.x", "python-3.5", "python-3.6", "python-trio"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1518658751, "post_id": 48798144, "comment_id": 84600486, "body": "Sounds like a classic use for a context manager.  You&#39;ll probably want an <a href=\"https://www.python.org/dev/peps/pep-0492/#asynchronous-context-managers-and-async-with\" rel=\"nofollow noreferrer\">asynchronous context manager</a>.  It looks like a decorator a la <code>contextlib.contextmanager</code> might be in 3.7, but there isn&#39;t a stable release of that yet. You might also want to look at <a href=\"https://stackoverflow.com/questions/37433157/asynchronous-context-manager\">this question</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3509, "user_id": 2146346, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cd4c78ddc22b176b89908e5c49891f51?s=128&d=identicon&r=PG", "display_name": "Nar\u016bnasK", "link": "https://stackoverflow.com/users/2146346/nar%c5%abnask"}, "edited": false, "score": 0, "creation_date": 1518777267, "post_id": 48801439, "comment_id": 84653172, "body": "Thanks, that explains a lot. I&#39;ve implemented other <code>thread</code> only class, where <code>sender</code> and <code>receiver</code> run in the separate threads. Using similar <code>Event.set()</code> and <code>Event.wait()</code> choreography I can send the final <code>Logoff</code> no problem, as <code>KeyboardInterrupt</code> affects only the master thread, but not its children. Given that I do not seek massive concurrency but rather run a few tasks in parallel, I suppose I would be better if I stick to threads, rather than try to catch random exceptions in each <code>coroutine</code>?"}, {"owner": {"reputation": 3509, "user_id": 2146346, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cd4c78ddc22b176b89908e5c49891f51?s=128&d=identicon&r=PG", "display_name": "Nar\u016bnasK", "link": "https://stackoverflow.com/users/2146346/nar%c5%abnask"}, "edited": false, "score": 0, "creation_date": 1518777689, "post_id": 48801439, "comment_id": 84653429, "body": "Regarding <code>trio.run(trio.sleep, 1)</code>, I know it&#39;s a sign of bad style or perhaps gargantuan laziness, but I needed something to &quot;sleep&quot; in there and was reluctant to scroll all the way up and import <code>time.sleep</code>. It&#39;s there <i>not because</i> I&#39;ve tried to insert <code>checkpoint</code> or do something concurrently."}, {"owner": {"reputation": 8900, "user_id": 1925449, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97c543aca1ac7bbcfb5279d0300c8330?s=128&d=identicon&r=PG", "display_name": "Nathaniel J. Smith", "link": "https://stackoverflow.com/users/1925449/nathaniel-j-smith"}, "reply_to_user": {"reputation": 3509, "user_id": 2146346, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cd4c78ddc22b176b89908e5c49891f51?s=128&d=identicon&r=PG", "display_name": "Nar\u016bnasK", "link": "https://stackoverflow.com/users/2146346/nar%c5%abnask"}, "edited": false, "score": 1, "creation_date": 1519000863, "post_id": 48801439, "comment_id": 84719803, "body": "@Nar\u016bnasK My <code>_control_c_watcher</code> example shows you how to make sure that control-C is always delivered to a single task, so it acts similar to the threads case. Threads also create a lot of other challenges, so I wouldn&#39;t choose just based on control-C handling, but of course you should use whatever works for you. One thing to consider though: there&#39;s no way to cancel a thread, so how are you going to wake up the receive thread when you want to exit?"}, {"owner": {"reputation": 8900, "user_id": 1925449, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97c543aca1ac7bbcfb5279d0300c8330?s=128&d=identicon&r=PG", "display_name": "Nathaniel J. Smith", "link": "https://stackoverflow.com/users/1925449/nathaniel-j-smith"}, "reply_to_user": {"reputation": 3509, "user_id": 2146346, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cd4c78ddc22b176b89908e5c49891f51?s=128&d=identicon&r=PG", "display_name": "Nar\u016bnasK", "link": "https://stackoverflow.com/users/2146346/nar%c5%abnask"}, "edited": false, "score": 2, "creation_date": 1519001080, "post_id": 48801439, "comment_id": 84719840, "body": "And regarding the multiple calls to <code>trio.run</code>: I wasn&#39;t responding to the sleep in particular. Even without that, it&#39;s already unusual to be calling <code>trio.run</code> multiple times in a loop, and it&#39;s not supported to be creating trio objects or calling <code>trio.Event.set</code> from outside a call to <code>trio.run</code>. I&#39;m suggesting you write <code>async def main(): tst = test(); await tst.connect()</code> and then do <code>trio.run(main)</code> as the very first call when your program starts executing."}], "tags": [], "owner": {"reputation": 8900, "user_id": 1925449, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97c543aca1ac7bbcfb5279d0300c8330?s=128&d=identicon&r=PG", "display_name": "Nathaniel J. Smith", "link": "https://stackoverflow.com/users/1925449/nathaniel-j-smith"}, "is_accepted": true, "score": 6, "last_activity_date": 1518677643, "creation_date": 1518677643, "answer_id": 48801439, "question_id": 48798144, "link": "https://stackoverflow.com/questions/48798144/how-to-clean-up-connections-after-keyboardinterrupt-in-python-trio/48801439#48801439", "title": "How to clean up connections after KeyboardInterrupt in python-trio", "body": "<p>Here your call tree looks something like:</p>\n\n<pre><code>connect\n|\n+- _connect*\n   |\n   +- _watchdog*\n   |\n   +- _sender*\n   |\n   +- _receiver*\n</code></pre>\n\n<p>The <code>*</code>s indicate the 4 trio tasks. The <code>_connect</code> task is sitting at the end of the nursery block, waiting for the child tasks to complete. The <code>_watchdog</code> task is blocked in <code>await self._end_session.wait()</code>, the <code>_sender</code> task is blocked in <code>await q.get()</code>, and the <code>_receiver</code> task is blocked in <code>await client_stream.receive_some(...)</code>.</p>\n\n<p>When you hit control-C, then the standard Python semantics are that whatever bit of Python code is running suddenly raises <code>KeyboardInterrupt</code>. In this case, you have 4 different tasks running, so one of those blocked operations gets picked at random [1], and raises a <code>KeyboardInterrupt</code>. This means a few different things might happen:</p>\n\n<ul>\n<li><p>If <code>_watchdog</code>'s <code>wait</code> call raises <code>KeyboardInterrupt</code>, then the <code>_watchdog</code> method immediately exits, so it never even tries to send <code>logout</code>. Then as part of unwinding the stack, trio cancels all the other tasks, and once they've exited then the <code>KeyboardInterrupt</code> keeps propagating up until it reaches your <code>finally</code> block in <code>connect</code>. At this point you try to notify the watchdog task using <code>self._end_session.set()</code>, but it's not running anymore, so it doesn't notice.</p></li>\n<li><p>If <code>_sender</code>'s <code>q.get()</code> call raises <code>KeyboardInterrupt</code>, then the <code>_sender</code> method immediately exits, so even if the <code>_watchdog</code> did ask it to send a logoff message, it won't be there to notice. And in any case, trio then proceeds to cancel the watchdog and receiver tasks anyway, and things proceed as above.</p></li>\n<li><p>If <code>_receiver</code>'s <code>receive_all</code> call raises <code>KeyboardInterrupt</code>... same thing happens.</p></li>\n<li><p>Minor subtlety: <code>_connect</code> can also receive the <code>KeyboardInterrupt</code>, which does the same thing: cancels all the children, and then waits for them to stop before allowing the <code>KeyboardInterrupt</code> to keep propagating.</p></li>\n</ul>\n\n<p>If you want to reliably catch control-C and then do something with it, then this business of it being raised at some random point is quite a nuisance. The simplest way to do this is to use <a href=\"https://trio.readthedocs.io/en/latest/reference-io.html#signals\" rel=\"noreferrer\">Trio's support for catching signals</a> to catch the <code>signal.SIGINT</code> signal, which is the thing that Python normally converts into a <code>KeyboardInterrupt</code>. (The \"INT\" stands for \"interrupt\".) Something like:</p>\n\n<pre><code>async def _control_c_watcher(self):\n    # This API is currently a little cumbersome, sorry, see\n    # https://github.com/python-trio/trio/issues/354\n    with trio.catch_signals({signal.SIGINT}) as batched_signal_aiter:\n        async for _ in batched_signal_aiter:\n            self._end_session.set()\n            # We exit the loop, restoring the normal behavior of\n            # control-C. This way hitting control-C once will try to\n            # do a polite shutdown, but if that gets stuck the user\n            # can hit control-C again to raise KeyboardInterrupt and\n            # force things to exit.\n            break\n</code></pre>\n\n<p>and then start this running alongside your other tasks.</p>\n\n<p>You also have the problem that in your <code>_watchdog</code> method, it puts the <code>logoff</code> request into the queue \u2013 thus scheduling a message to be sent later, by the <code>_sender</code> task \u2013 and then immediately cancels all the tasks, so that the <code>_sender</code> task probably won't get a chance to see the message and react to it! In general, I find my code works nicer when I use tasks only when necessary. Instead of having a sender task and then putting messages in a queue when you want to send them, why not have the code that wants to send a message call <code>stream.send_all</code> directly? The one thing you have to watch out for is if you have multiple tasks that might send things simultaneously, you might want to use a <code>trio.Lock()</code> to make sure they don't bump into each other by calling <code>send_all</code> at the same time:</p>\n\n<pre><code>async def send_all(self, data):\n    async with self.send_lock:\n        await self.send_stream.send_all(data)\n\nasync def do_logoff(self):\n    # First send the message\n    await self.send_all(b\"Logoff\\r\\n\\r\\n\")\n    # And then, *after* the message has been sent, cancel the tasks\n    self.nursery.cancel()\n</code></pre>\n\n<p>If you do it this way, you might be able to get rid of the watchdog task and the <code>_end_session</code> event entirely.</p>\n\n<p>A few other notes about your code while I'm here:</p>\n\n<ul>\n<li><p>Calling <code>trio.run</code> multiple times like this is unusual. The normal style is to call it once at the top of your program, and put all your real code inside it. Once you exit <code>trio.run</code>, all of trio's state is lost, you're definitely not running any concurrent tasks (so there's no way anything could <em>possibly</em> be listening and notice your call to <code>_end_session.set()</code>!). And in general, almost all Trio functions assume that you're already inside a call to <code>trio.run</code>. It turns out that right now you can call <code>trio.Queue()</code> before starting trio without getting an exception, but that's basically just a coincidence.</p></li>\n<li><p>The use of shielding inside <code>_sender</code> looks odd to me. Shielding is generally an advanced feature that you <em>almost never</em> want to use, and I don't think this is an exception.</p></li>\n</ul>\n\n<p>Hope that helps! And if you want to talk more about style/design issues like this but are worried they might be too vague for stack overflow (\"is this program designed well?\"), then feel free to drop by the <a href=\"https://gitter.im/python-trio/general\" rel=\"noreferrer\">trio chat channel</a>.</p>\n\n<hr>\n\n<p>[1] Well, actually trio probably picks the main task for various reasons, but that's not guaranteed and in any case it doesn't make a difference here.</p>\n"}], "owner": {"reputation": 3509, "user_id": 2146346, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cd4c78ddc22b176b89908e5c49891f51?s=128&d=identicon&r=PG", "display_name": "Nar\u016bnasK", "link": "https://stackoverflow.com/users/2146346/nar%c5%abnask"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 1, "accepted_answer_id": 48801439, "answer_count": 1, "score": 3, "last_activity_date": 1518677643, "creation_date": 1518652568, "last_edit_date": 1518658912, "question_id": 48798144, "link": "https://stackoverflow.com/questions/48798144/how-to-clean-up-connections-after-keyboardinterrupt-in-python-trio", "title": "How to clean up connections after KeyboardInterrupt in python-trio", "body": "<p>My class when is connected to the server should immediately send <em>sign in</em> string, afterwards when the session is over it should send out the <em>sign out</em> string and clean up the sockets. Below is my code.</p>\n\n<pre><code>import trio\n\nclass test:\n\n    _buffer = 8192\n    _max_retry = 4\n\n    def __init__(self, host='127.0.0.1', port=12345, usr='user', pwd='secret'):\n        self.host = str(host)\n        self.port = int(port)\n        self.usr = str(usr)\n        self.pwd = str(pwd)\n        self._nl = b'\\r\\n'\n        self._attempt = 0\n        self._queue = trio.Queue(30)\n        self._connected = trio.Event()\n        self._end_session = trio.Event()\n\n    @property\n    def connected(self):\n        return self._connected.is_set()\n\n    async def _sender(self, client_stream, nursery):\n        print('## sender: started!')\n        q = self._queue\n        while True:\n            cmd = await q.get()\n            print('## sending to the server:\\n{!r}\\n'.format(cmd))\n            if self._end_session.is_set():\n                nursery.cancel_scope.shield = True\n                with trio.move_on_after(1):\n                    await client_stream.send_all(cmd)\n                nursery.cancel_scope.shield = False\n            await client_stream.send_all(cmd)\n\n    async def _receiver(self, client_stream, nursery):\n        print('## receiver: started!')\n        buff = self._buffer\n        while True:\n            data = await client_stream.receive_some(buff)\n            if not data:\n                print('## receiver: connection closed')\n                self._end_session.set()\n                break\n            print('## got data from the server:\\n{!r}'.format(data))\n\n    async def _watchdog(self, nursery):\n        await self._end_session.wait()\n        await self._queue.put(self._logoff)\n        self._connected.clear()\n        nursery.cancel_scope.cancel()\n\n    @property\n    def _login(self, *a, **kw):\n        nl = self._nl\n        usr, pwd = self.usr, self.pwd\n        return nl.join(x.encode() for x in ['Login', usr,pwd]) + 2*nl\n\n    @property\n    def _logoff(self, *a, **kw):\n        nl = self._nl\n        return nl.join(x.encode() for x in ['Logoff']) + 2*nl\n\n    async def _connect(self):\n        host, port = self.host, self.port\n        print('## connecting to {}:{}'.format(host, port))\n        try:\n            client_stream = await trio.open_tcp_stream(host, port)\n        except OSError as err:\n            print('##', err)\n        else:\n            async with client_stream:\n                self._end_session.clear()\n                self._connected.set()\n                self._attempt = 0\n                # Sign in as soon as connected\n                await self._queue.put(self._login)\n                async with trio.open_nursery() as nursery:\n                    print(\"## spawning watchdog...\")\n                    nursery.start_soon(self._watchdog, nursery)\n                    print(\"## spawning sender...\")\n                    nursery.start_soon(self._sender, client_stream, nursery)\n                    print(\"## spawning receiver...\")\n                    nursery.start_soon(self._receiver, client_stream, nursery)\n\n    def connect(self):\n        while self._attempt &lt;= self._max_retry:\n            try:\n                trio.run(self._connect)\n                trio.run(trio.sleep, 1)\n                self._attempt += 1\n            except KeyboardInterrupt:\n                self._end_session.set()\n                print('Bye bye...')\n                break\n\ntst = test()\ntst.connect()\n</code></pre>\n\n<p>My logic doesn't quite work. Well it works if I kill the <code>netcat</code> listener, so then my session looks like the following:</p>\n\n<pre><code>## connecting to 127.0.0.1:12345\n## spawning watchdog...\n## spawning sender...\n## spawning receiver...\n## receiver: started!\n## sender: started!\n## sending to the server:\nb'Login\\r\\nuser\\r\\nsecret\\r\\n\\r\\n'\n\n## receiver: connection closed\n## sending to the server:\nb'Logoff\\r\\n\\r\\n'\n</code></pre>\n\n<p>Note that <code>Logoff</code> string has been sent out, although it doesn't make sense in here as connection is already broken by that time.</p>\n\n<p>However my goal is to <code>Logoff</code> when user <code>KeyboardInterrupt</code>. In this case my session looks similar to this:</p>\n\n<pre><code>## connecting to 127.0.0.1:12345\n## spawning watchdog...\n## spawning sender...\n## spawning receiver...\n## receiver: started!\n## sender: started!\n## sending to the server:\nb'Login\\r\\nuser\\r\\nsecret\\r\\n\\r\\n'\n\nBye bye...\n</code></pre>\n\n<p>Note that <code>Logoff</code> hasn't been sent off.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "shebang"], "owner": {"reputation": 25, "user_id": 9362527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VOm6X.jpg?s=128&g=1", "display_name": "FiveBlue", "link": "https://stackoverflow.com/users/9362527/fiveblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518654107, "creation_date": 1518652535, "last_edit_date": 1518654107, "question_id": 48798140, "link": "https://stackoverflow.com/questions/48798140/after-python2-upgrade-windows-launcher-no-longer-runs-python3-reads-shebang-l", "title": "After Python2 upgrade, windows launcher no longer runs Python3 / reads shebang line", "body": "<p>Python 2.7.4 has been on my Windows 7 box for a while.  All good.  About\ntwo weeks ago I installed 3.6.4, also all good.  I was able to control which \nversion ran using the hash-bang first line:</p>\n\n<pre><code>#!/bin/Python27/python \nor:  \n#!/bin/Python36/python  \n</code></pre>\n\n<p>All my files are named with a .py extension:  script.py</p>\n\n<p>This morning I upgraded 2.7.4 to 2.7.13.  Now Python2 runs always, regardless\nof what I put in the first line of my script, including swapping slashes to\nWindows convention and prepending C, C:, \\C, \\C: to the path.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 2375146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/52aac1cad762c095d52509ca1a409810?s=128&d=identicon&r=PG", "display_name": "Magrias", "link": "https://stackoverflow.com/users/2375146/magrias"}, "edited": false, "score": 0, "creation_date": 1518669680, "post_id": 48799797, "comment_id": 84602823, "body": "You may be right about this code, but after making this change I&#39;m still receiving the <code>&#39;str&#39; object has no attribute &#39;pk&#39;</code> error, so it&#39;s not the cause of the main error here. That said, if I try the <code>many=False</code> version, I&#39;m now getting <code>string indices must be integers</code> instead of <code>&#39;str&#39; object has no attribute &#39;schedule_time&#39;</code>"}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "reply_to_user": {"reputation": 245, "user_id": 2375146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/52aac1cad762c095d52509ca1a409810?s=128&d=identicon&r=PG", "display_name": "Magrias", "link": "https://stackoverflow.com/users/2375146/magrias"}, "edited": false, "score": 1, "creation_date": 1518669978, "post_id": 48799797, "comment_id": 84602894, "body": "add your traceback in question section"}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "reply_to_user": {"reputation": 245, "user_id": 2375146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/52aac1cad762c095d52509ca1a409810?s=128&d=identicon&r=PG", "display_name": "Magrias", "link": "https://stackoverflow.com/users/2375146/magrias"}, "edited": false, "score": 1, "creation_date": 1518672232, "post_id": 48799797, "comment_id": 84603511, "body": "I think <code>line Number 45 in &#47;radio_switching&#47;views.py</code> causing the exception. Can you add those related lines too?"}, {"owner": {"reputation": 245, "user_id": 2375146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/52aac1cad762c095d52509ca1a409810?s=128&d=identicon&r=PG", "display_name": "Magrias", "link": "https://stackoverflow.com/users/2375146/magrias"}, "edited": false, "score": 0, "creation_date": 1518728994, "post_id": 48799797, "comment_id": 84636475, "body": "That line is <code>for stream in serializer.data:</code> which gives me a better idea of what is going wrong now. I guess <code>serializer.data</code> isn&#39;t returning an array, but a string, and the iterator is having trouble iterating over it. I will investigate further."}], "tags": [], "owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "is_accepted": false, "score": 0, "last_activity_date": 1518672672, "last_edit_date": 1518672672, "creation_date": 1518667484, "answer_id": 48799797, "question_id": 48798095, "link": "https://stackoverflow.com/questions/48798095/drf-str-object-has-no-attribute-pk/48799797#48799797", "title": "DRF - &#39;str&#39; object has no attribute &#39;pk&#39;", "body": "<p>replace your <code>views.py</code> by this snippet,<br></p>\n\n<pre><code>class SwitchStreamView(views.APIView):\n    \"\"\"\n    A custom endpoint for switching inputs of radio streams\n    \"\"\"\n    queryset = RadioStream.objects.all()\n\n    def post(self, request, format=None):\n        serializer = serializers.RadioSwitchSerializer(data=request.data, many=True)\n        serializer.is_valid()\n        for stream in serializer.data:\n            if 'schedule_time' not in stream:\n                tasks.switch_stream(stream['mnemonic'], stream['current_input'])\n            else:\n                tasks.schedule_switch(stream['mnemonic'], stream['current_input'], stream['schedule_time'])\n        return HttpResponse('')\n</code></pre>\n\n<p><br><br>\nThe reason for the error is, you are trying to access a <code>python dict</code> using <code>dot operator</code>. To access dictionary elements, you can use the familiar square brackets along with the key to obtaining it's value. Here is the <a href=\"https://docs.python.org/3.6/tutorial/datastructures.html#dictionaries\" rel=\"nofollow noreferrer\">official doc</a>\n<br><br>\n<strong>EDIT</strong><br>\n<code>AttributeError: 'str' object has no attribute 'pk'</code> this error because, somewhere you trying to access <code>.pk</code> from a <code>str</code> object<br>\n<strong>Reproducing the error</strong><br></p>\n\n<pre><code>In [7]: my_str = 'this is just a string'\n\nIn [8]: my_str.pk\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-8-5bc39c990550&gt; in &lt;module&gt;()\n----&gt; 1 my_str.pk\n\nAttributeError: 'str' object has no attribute 'pk'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 245, "user_id": 2375146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/52aac1cad762c095d52509ca1a409810?s=128&d=identicon&r=PG", "display_name": "Magrias", "link": "https://stackoverflow.com/users/2375146/magrias"}, "is_accepted": true, "score": 0, "last_activity_date": 1518750966, "creation_date": 1518750966, "answer_id": 48819577, "question_id": 48798095, "link": "https://stackoverflow.com/questions/48798095/drf-str-object-has-no-attribute-pk/48819577#48819577", "title": "DRF - &#39;str&#39; object has no attribute &#39;pk&#39;", "body": "<p>There were a few issues, but it turns out the root issue was that <code>serlializer.data</code> was for whatever reason returning a string and not an array of objects. I ended up replacing the <code>ModelSerializer</code> with a regular <code>Serializer</code> here:</p>\n\n<pre><code>class RadioSwitchSerializer(serializers.Serializer):\n    mnemonic = serializers.CharField(max_length=20)\n    new_input = serializers.CharField(max_length=20)\n    schedule_time = serializers.DateTimeField(allow_null=True)\n</code></pre>\n\n<p>As per Jerin's answer, I also fixed up the lines accessing the <code>stream</code> dictionary to use square brackets rather than the dot operator. These two things have fixed the issue.</p>\n"}], "owner": {"reputation": 245, "user_id": 2375146, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/52aac1cad762c095d52509ca1a409810?s=128&d=identicon&r=PG", "display_name": "Magrias", "link": "https://stackoverflow.com/users/2375146/magrias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5292, "favorite_count": 0, "accepted_answer_id": 48819577, "answer_count": 2, "score": 1, "last_activity_date": 1518750966, "creation_date": 1518652261, "last_edit_date": 1518670492, "question_id": 48798095, "link": "https://stackoverflow.com/questions/48798095/drf-str-object-has-no-attribute-pk", "title": "DRF - &#39;str&#39; object has no attribute &#39;pk&#39;", "body": "<p>I've got a front-end that sends JSON to the back-end to switch the input of a digital audio stream, with an optional time component to schedule the switch for the future. Here are the components of making this work:  </p>\n\n<p>from <code>views.py</code>:</p>\n\n<pre><code>class SwitchStreamView(views.APIView):\n    \"\"\"\n    A custom endpoint for switching inputs of radio streams\n    \"\"\"\n    queryset = RadioStream.objects.all()\n\n    def post(self, request, format=None):\n        serializer = serializers.RadioSwitchSerializer(data=request.data, many=True)\n        serializer.is_valid()\n        for stream in serializer.data:\n            if stream.schedule_time is None:\n                tasks.switch_stream(stream.mnemonic, stream.current_input)\n            else:\n                tasks.schedule_switch(stream.mnemonic, stream.current_input, stream.schedule_time)\n        return HttpResponse('')\n</code></pre>\n\n<p>from <code>serializers.py</code>:</p>\n\n<pre><code>class RadioSwitchSerializer(serializers.ModelSerializer):\n    schedule_time = serializers.SerializerMethodField()\n\n    def get_schedule_time(self, obj):\n        return obj.get('schedule_time', None)\n\n    class Meta:\n        model = RadioStream\n        fields = ('mnemonic', 'current_input', 'schedule_time')\n</code></pre>\n\n<p>The issue I'm having is that however I try and send a test JSON snippet, I'm getting errors. With this setup, sending</p>\n\n<pre><code>[\n    {\n        \"mnemonic\": \"TEST\",\n        \"current_input\": \"TEST\"\n    }\n]\n</code></pre>\n\n<p>results in the error <code>'str' object has no attribute 'pk'</code>, but if I change <code>RadioSwitchSerializer(data=request.data, many=True)</code> to <code>many=False</code>, and send</p>\n\n<pre><code>{\n    \"mnemonic\": \"TEST\",\n    \"current_input\": \"TEST\"\n}\n</code></pre>\n\n<p>I get the response <code>'str' object has no attribute 'schedule_time'</code> instead.</p>\n\n<p>My plan was to use <code>mnemonic</code> to identify the stream, and <code>current_input</code> to identify which input to switch it to. My questions are; Why is this not working, and should I be using a non-Model serializer for this custom action instead of trying to fit the action into the existing fields of the model?</p>\n\n<p>Edit: Here is the traceback</p>\n\n<pre><code>Internal Server Error: /api/switch/\nTraceback (most recent call last):\n  File \"...\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 35, in inner\n    response = get_response(request)\n  File \"...\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 128, in _get_response\n    response = self.process_exception_by_middleware(e, request)\n  File \"...\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 126, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"...\\lib\\site-packages\\django\\views\\decorators\\csrf.py\", line 54, in wrapped_view\n    return view_func(*args, **kwargs)\n  File \"...\\lib\\site-packages\\django\\views\\generic\\base.py\", line 69, in view\n    return self.dispatch(request, *args, **kwargs)\n  File \"...\\lib\\site-packages\\rest_framework\\views.py\", line 489, in dispatch\n    response = self.handle_exception(exc)\n  File \"...\\lib\\site-packages\\rest_framework\\views.py\", line 449, in handle_exception\n    self.raise_uncaught_exception(exc)\n  File \"...\\lib\\site-packages\\rest_framework\\views.py\", line 486, in dispatch\n    response = handler(request, *args, **kwargs)\n  File \"...\\radio_switching\\views.py\", line 45, in post\n    for stream in serializer.data:\n  File \"...\\lib\\site-packages\\rest_framework\\serializers.py\", line 738, in data\n    ret = super(ListSerializer, self).data\n  File \"...\\lib\\site-packages\\rest_framework\\serializers.py\", line 266, in data\n    self._data = self.get_initial()\n  File \"...\\lib\\site-packages\\rest_framework\\serializers.py\", line 573, in get_initial\n    return self.to_representation(self.initial_data)\n  File \"...\\lib\\site-packages\\rest_framework\\serializers.py\", line 656, in to_representation\n    self.child.to_representation(item) for item in iterable\n  File \"...\\lib\\site-packages\\rest_framework\\serializers.py\", line 656, in &lt;listcomp&gt;\n    self.child.to_representation(item) for item in iterable\n  File \"...\\lib\\site-packages\\rest_framework\\serializers.py\", line 500, in to_representation\n    ret[field.field_name] = field.to_representation(attribute)\n  File \"...\\lib\\site-packages\\rest_framework\\relations.py\", line 259, in to_representation\n    return value.pk\nAttributeError: 'str' object has no attribute 'pk'\n</code></pre>\n"}, {"tags": ["python", "string", "list"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 2, "creation_date": 1518652749, "post_id": 48798093, "comment_id": 84598910, "body": "Duplicate? <a href=\"https://stackoverflow.com/questions/19493599/converting-a-string-representation-of-a-list-in-python-to-a-list-object\" title=\"converting a string representation of a list in python to a list object\">stackoverflow.com/questions/19493599/&hellip;</a>"}, {"owner": {"reputation": 1534, "user_id": 6619424, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/52542029d07d6ca5d28ab46c837cb2bd?s=128&d=identicon&r=PG&f=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/6619424/arun"}, "edited": false, "score": 0, "creation_date": 1518670430, "post_id": 48798093, "comment_id": 84603015, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19493599/converting-a-string-representation-of-a-list-in-python-to-a-list-object\">Converting a string representation of a list in python to a list object</a>"}], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 0, "last_activity_date": 1518652348, "creation_date": 1518652348, "answer_id": 48798108, "question_id": 48798093, "link": "https://stackoverflow.com/questions/48798093/list-of-list-in-string-format-want-to-convert-to-list-of-list-python/48798108#48798108", "title": "List of list in string format, want to convert to list of list (Python)", "body": "<p>Use <a href=\"https://docs.python.org/3/library/ast.html\" rel=\"nofollow noreferrer\"><code>ast.literal_eval</code></a>:</p>\n\n<pre><code>import ast\n\nsoc = '[[\"hello\",\"world\"],[\"foo\",\"bar\"]]'\n\nast.literal_eval(soc)\n\n# [['hello', 'world'], ['foo', 'bar']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1518652929, "creation_date": 1518652929, "answer_id": 48798203, "question_id": 48798093, "link": "https://stackoverflow.com/questions/48798093/list-of-list-in-string-format-want-to-convert-to-list-of-list-python/48798203#48798203", "title": "List of list in string format, want to convert to list of list (Python)", "body": "<p>You could use <a href=\"https://docs.python.org/3/library/json.html#json.loads\" rel=\"nofollow noreferrer\"><code>json.loads</code></a></p>\n\n<pre><code>&gt;&gt;&gt; import json\n&gt;&gt;&gt; json.loads(soc)\n[['hello', 'world'], ['foo', 'bar']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "is_accepted": false, "score": 0, "last_activity_date": 1518670021, "creation_date": 1518670021, "answer_id": 48800108, "question_id": 48798093, "link": "https://stackoverflow.com/questions/48798093/list-of-list-in-string-format-want-to-convert-to-list-of-list-python/48800108#48800108", "title": "List of list in string format, want to convert to list of list (Python)", "body": "<p>why not the builtin <code>eval</code> function</p>\n\n<pre><code>soc = eval('[[\"hello\",\"world\"],[\"foo\",\"bar\"]]')\ntype(soc)\nOut[5]: list\n\nsoc\nOut[6]: [['hello', 'world'], ['foo', 'bar']]\n\nsoc[1][0]\nOut[7]: 'foo'\n</code></pre>\n\n<p>and now for the expected objections about 'safety'...</p>\n"}], "owner": {"reputation": 33, "user_id": 6622579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6196eacf7f34061ffb12bcd86b8eaa8?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/6622579/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 48798108, "answer_count": 3, "score": -1, "last_activity_date": 1518670021, "creation_date": 1518652260, "question_id": 48798093, "link": "https://stackoverflow.com/questions/48798093/list-of-list-in-string-format-want-to-convert-to-list-of-list-python", "title": "List of list in string format, want to convert to list of list (Python)", "body": "<p>I'm receiving a message that is a list of lists but is recognized as a string in Python. I can't figure out how to get Python to interpret the string as a list of lists, is there a simple way to do this? An example of the format I'm dealing with is shown below:</p>\n\n<pre><code>&gt;&gt;soc = '[[\"hello\",\"world\"],[\"foo\",\"bar\"]]'\n&gt;&gt;type(soc)\n&lt;type 'str'&gt;\n</code></pre>\n\n<p>I want to convert this string into an unaltered list of lists:</p>\n\n<pre><code>&gt;&gt;soc\n[[\"hello\",\"world\"],[\"foo\",\"bar\"]]\n&gt;&gt;type(soc)\n&lt;type 'list'&gt;\n</code></pre>\n\n<p>I'd appreciate any help offered, thanks!</p>\n"}, {"tags": ["python", "numpy", "terminal", "scripting", "pythonpath"], "comments": [{"owner": {"reputation": 8886, "user_id": 866930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4d18c82ab14aa57718bb3343876d53?s=128&d=identicon&r=PG", "display_name": "jrd1", "link": "https://stackoverflow.com/users/866930/jrd1"}, "edited": false, "score": 0, "creation_date": 1518652377, "post_id": 48798086, "comment_id": 84598803, "body": "You may be accidentally referring to a different Python installation. Try modifying this line <code>#!&#47;usr&#47;bin&#47;python</code> to <code>#!&#47;usr&#47;bin&#47;env python</code>."}, {"owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1518652542, "post_id": 48798086, "comment_id": 84598847, "body": "Use &#39;python inter.py&#39; to launch. In this way, you even don&#39;t need to set it executable."}, {"owner": {"reputation": 8886, "user_id": 866930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4d18c82ab14aa57718bb3343876d53?s=128&d=identicon&r=PG", "display_name": "jrd1", "link": "https://stackoverflow.com/users/866930/jrd1"}, "reply_to_user": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1518652850, "post_id": 48798086, "comment_id": 84598942, "body": "@liliscent: that&#39;s true, but it&#39;s not programmable. How would the OP be able to use that in a more general case to automate some task?"}], "answers": [{"tags": [], "owner": {"reputation": 8886, "user_id": 866930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4d18c82ab14aa57718bb3343876d53?s=128&d=identicon&r=PG", "display_name": "jrd1", "link": "https://stackoverflow.com/users/866930/jrd1"}, "is_accepted": true, "score": 1, "last_activity_date": 1518652523, "creation_date": 1518652523, "answer_id": 48798139, "question_id": 48798086, "link": "https://stackoverflow.com/questions/48798086/python-numpy-found-in-cmd-line-but-not-in-script/48798139#48798139", "title": "Python numpy found in cmd line but not in script", "body": "<p><strong>You may be accidentally referring to a different Python installation.</strong></p>\n\n<p>Try modifying this line <code>#!/usr/bin/python</code> to <code>#!/usr/bin/env python</code>. That is, it's likely that the Python your script is referring to is different than the one that's in your <code>$PATH</code>. You can confirm this by using comparing the script's Python (<code>/usr/bin/python</code>) against the result of this command: <code>which python</code>.</p>\n\n<p><strong>In this case we use <code>env</code> to ensure that the Python interpreter used by the script is the one accessible in your <code>$PATH</code>.</strong></p>\n"}], "owner": {"reputation": 1418, "user_id": 2200539, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4d40b9e95262cf1e28d10442ddc7db42?s=128&d=identicon&r=PG", "display_name": "Gert Gottschalk", "link": "https://stackoverflow.com/users/2200539/gert-gottschalk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 48798139, "answer_count": 1, "score": 1, "last_activity_date": 1518652777, "creation_date": 1518652237, "last_edit_date": 1518652777, "question_id": 48798086, "link": "https://stackoverflow.com/questions/48798086/python-numpy-found-in-cmd-line-but-not-in-script", "title": "Python numpy found in cmd line but not in script", "body": "<p>When I launch python from the command line and import numpy it works fine. When I run the same code as a script it fails. This is on a centos box under corporate IT management (nothing I can install myself) I'm probably just missing something in my .cshrc, but what ??</p>\n\n<p><strong>From cmd line:</strong></p>\n\n<pre><code>% python\nPython 2.7.11 (default, Oct  7 2016, 09:54:56)\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-11)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import os.path\n&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; import matplotlib.pyplot as plt\n&gt;&gt;&gt; import argparse\n&gt;&gt;&gt; from scipy.interpolate import interp1d\n&gt;&gt;&gt; \n</code></pre>\n\n<p><strong>Same as script:</strong></p>\n\n<pre><code>#! /usr/bin/python \n\nimport os.path\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport argparse\nfrom scipy.interpolate import interp1d\n</code></pre>\n\n<p><strong>Gives following error:</strong></p>\n\n<pre><code>% ./inter.py\nTraceback (most recent call last):\n  File \"./inter.py\", line 4, in &lt;module&gt;\n    import numpy as np\nImportError: No module named numpy\n</code></pre>\n\n<p>Your feedback is appreciated.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 135, "user_id": 7278055, "user_type": "registered", "profile_image": "https://graph.facebook.com/1776500692613460/picture?type=large", "display_name": "Kim G Pham", "link": "https://stackoverflow.com/users/7278055/kim-g-pham"}, "edited": false, "score": 0, "creation_date": 1518652438, "post_id": 48798056, "comment_id": 84598817, "body": "Notice the portion &quot;\u0421&#39;,&#39;\u041c&quot; where there are single quotes instead of double quotes"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1518652698, "post_id": 48798056, "comment_id": 84598891, "body": "voting to close as typo. In the future, please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 2724914, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001168396439/picture?type=large", "display_name": "Aflah Bhari", "link": "https://stackoverflow.com/users/2724914/aflah-bhari"}, "edited": false, "score": 2, "creation_date": 1518652401, "post_id": 48798083, "comment_id": 84598808, "body": "There&#39;s a few of these scattered throughout the array, well mostly on the bottom line anyway."}], "tags": [], "owner": {"reputation": 3207, "user_id": 8079103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tWyyz.jpg?s=128&g=1", "display_name": "G_M", "link": "https://stackoverflow.com/users/8079103/g-m"}, "is_accepted": false, "score": 3, "last_activity_date": 1518653031, "last_edit_date": 1518653031, "creation_date": 1518652214, "answer_id": 48798083, "question_id": 48798056, "link": "https://stackoverflow.com/questions/48798056/unexpected-eol-with-two-lines-of-code/48798083#48798083", "title": "Unexpected EOL with two lines of code", "body": "<p>The problem is inconsistent quotes around some of the characters.</p>\n\n<p>One example is the <code>M</code> which has a single quote on the left and a double quote on the right:</p>\n\n<p><code>'\u041c\",\"\u0418\",\"\u0422\",\"\u042c\",\"\u0411\",\"\u042e\"]</code></p>\n\n<p>In a case like this where each string in the list is only a single character long, it could be better to use <code>list</code> like so:</p>\n\n<pre><code>&gt;&gt;&gt; rlist = [\n...     \"\u0451\", \"\u0439\", \"\u0446\", \"\u0443\", \"\u043a\", \"\u0435\", \"\u043d\", \"\u0433\", \"\u0448\", \"\u0449\", \"\u0437\", \"\u0445\", \"\u044a\", \"\u0444\", \"\u044b\",\n...     \"\u0432\", \"\u0430\", \"\u043f\", \"\u0440\", \"\u043e\", \"\u043b\", \"\u0434\", \"\u0436\", \"\u044d\", \"\u044f\", \"\u0447\", \"\u0441\", \"\u043c\", \"\u0438\", \"\u0442\",\n...     \"\u044c\", \"\u0431\", \"\u044e\", \"\u0401\", \"\u0419\", \"\u0426\", \"\u0423\", \"\u041a\", \"\u0415\", \"\u041d\", \"\u0413\", \"\u0428\", \"\u0429\", \"\u0417\", \"\u0425\",\n...     \"\u042a\", \"\u0424\", \"\u042b\", \"\u0412\", \"\u0410\", \"\u041f\", \"\u0420\", \"\u041e\", \"\u041b\", \"\u0414\", \"\u0416\", \"\u042d\", \"\u042f\", \"\u0427\", \"\u0421\",\n...     \"\u041c\", \"\u0418\", \"\u0422\", \"\u042c\", \"\u0411\", \"\u042e\"\n... ]\n&gt;&gt;&gt; rlist_2 = list('\u0451\u0439\u0446\u0443\u043a\u0435\u043d\u0433\u0448\u0449\u0437\u0445\u044a\u0444\u044b\u0432\u0430\u043f\u0440\u043e\u043b\u0434\u0436\u044d\u044f\u0447\u0441\u043c\u0438\u0442\u044c\u0431\u044e\u0401\u0419\u0426\u0423\u041a\u0415\u041d\u0413\u0428\u0429\u0417\u0425\u042a\u0424\u042b\u0412\u0410\u041f\u0420\u041e\u041b\u0414\u0416\u042d\u042f\u0427\u0421\u041c\u0418\u0422\u042c\u0411\u042e')\n&gt;&gt;&gt; rlist == rlist_2\nTrue\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 9340418, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2kfcK.jpg?s=128&g=1", "display_name": "Salzig Katze", "link": "https://stackoverflow.com/users/9340418/salzig-katze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518653031, "creation_date": 1518652077, "last_edit_date": 1518652645, "question_id": 48798056, "link": "https://stackoverflow.com/questions/48798056/unexpected-eol-with-two-lines-of-code", "title": "Unexpected EOL with two lines of code", "body": "<p>here is code:</p>\n\n<pre><code>rlist=[\"\u0451\",\"\u0439\",\"\u0446\",\"\u0443\",\"\u043a\",\"\u0435\",\"\u043d\",\"\u0433\",\"\u0448\",\"\u0449\",\"\u0437\",\"\u0445\",'\u044a\",\"\u0444\",\"\u044b\",\"\u0432\",\"\u0430',\"\u043f','\u0440\",\"\u043e\",\"\u043b\",\"\u0434\",\"\u0436\",\"\u044d\",\"\u044f\",\"\u0447\",\"\u0441\",\"\u043c\",\"\u0438\",\"\u0442\",\"\u044c\",\"\u0431\",\"\u044e\",\"\u0401\",\"\u0419\",\"\u0426\",\"\u0423\",\"\u041a\",\"\u0415\",\"\u041d\",\"\u0413\",\"\u0428\",\"\u0429\",\"\u0417\",\"\u0425\",\"\u042a\",\"\u0424\",\"\u042b\",'\u0412\",\"\u0410\",\"\u041f\",\"\u0420\",\"\u041e\",\"\u041b\",\"\u0414','\u0416\",\"\u042d\",\"\u042f\",\"\u0427\",\"\u0421','\u041c\",\"\u0418\",\"\u0422\",\"\u042c\",\"\u0411\",\"\u042e\"]\n\nprint(rlist)\n</code></pre>\n\n<p>here is error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"python\", line 1\n    rlist=[\"\u0451\",\"\u0439\",\"\u0446\",\"\u0443\",\"\u043a\",\"\u0435\",\"\u043d\",\"\u0433\",\"\u0448\",\"\u0449\",\"\u0437\",\"\u0445\",'\u044a\",\"\u0444\",\"\u044b\",\"\u0432\",\"\u0430',\"\u043f','\u0440\",\"\u043e\",\"\u043b\",\"\u0434\",\"\u0436\",\"\u044d\",\"\u044f\",\"\u0447\",\"\u0441\",\"\u043c\",\"\u0438\",\"\u0442\",\"\u044c\",\"\u0431\",\"\u044e\",\"\u0401\",\"\u0419\",\"\u0426\",\"\u0423\",\"\u041a\",\"\u0415\",\"\u041d\",\"\u0413\",\"\u0428\",\"\u0429\",\"\u0417\",\"\u0425\",\"\u042a\",\"\u0424\",\"\u042b\",'\u0412\",\"\u0410\",\"\u041f\",\"\u0420\",\"\u041e\",\"\u041b\",\"\u0414','\u0416\",\"\u042d\",\"\u042f\",\"\u0427\",\"\u0421','\u041c\",\"\u0418\",\"\u0422\",\"\u042c\",\"\u0411\",\"\u042e\"]\n                                                                                                                                                                                                                                                                                  ^\nSyntaxError: EOL while scanning string literal\n</code></pre>\n\n<p>I am using an online interpreter so if this does not compile on your side, I am sorry</p>\n"}, {"tags": ["python", "python-2.7", "asynchronous", "concurrent.futures", "requests-futures"], "owner": {"reputation": 4716, "user_id": 1580610, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eMtFG.jpg?s=128&g=1", "display_name": "Vinnie James", "link": "https://stackoverflow.com/users/1580610/vinnie-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518652025, "creation_date": 1518652025, "question_id": 48798047, "link": "https://stackoverflow.com/questions/48798047/concurrent-futures-best-settings-for-multiple-async-requests", "title": "Concurrent Futures: Best Settings for Multiple Async Requests?", "body": "<p>I'm wanting to optimize a script to make as many network requests as possible. I see the <a href=\"https://pythonhosted.org/futures/#concurrent.futures.ProcessPoolExecutor\" rel=\"nofollow noreferrer\"><code>max_workers</code></a> is maybe limited to the number of cores on the machine. Does this mean if this script is run on an EC2 machine, for example <a href=\"https://aws.amazon.com/ec2/instance-types/t2/\" rel=\"nofollow noreferrer\">t2.2xlarge</a> with 8 vCPUs then the script will effectively be limited to 8, eg <code>WORKERS = 8</code>?</p>\n\n<p>If so, is there a better way to make more than 8 requests at a time?</p>\n\n<p>Example:</p>\n\n<pre><code>WORKERS = 16 # should this be limited to 8?\n\ndef make_req_futures(url_list):\n    # We can use a with statement to ensure threads are cleaned up promptly\n    with concurrent.futures.ThreadPoolExecutor(max_workers=WORKERS) as executor:\n        # Start the load operations and mark each future with its URL\n        future_to_url = {executor.submit(load_url, url, 60): url for url in url_list}\n        for future in concurrent.futures.as_completed(future_to_url):\n            url = future_to_url[future]\n\n            try:\n                print(\"getting: \", url)\n                data = future.result()\n            except Exception as exc:\n                failed_urls.append([url, exc])\n                print('%r generated an exception: %s' % (url, exc))\n            else:\n                success_urls.append(url)\n                print('\"%s\" fetched in %ss' % (url,(time.time() - start)))\n    print(\"Elapsed Time: %ss\" % (time.time() - start))\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "edited": false, "score": 0, "creation_date": 1518656492, "post_id": 48798509, "comment_id": 84599933, "body": "I tried it both ways, but every time I get &quot;none&quot; as a result."}, {"owner": {"reputation": 15859, "user_id": 975114, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9cca3ab47e2685d05b75880de0faee63?s=128&d=identicon&r=PG", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/975114/amit-verma"}, "reply_to_user": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "edited": false, "score": 0, "creation_date": 1518664747, "post_id": 48798509, "comment_id": 84601774, "body": "Try if you are able to get any other attribute. Seems to be straightforward, not sure why it doesn&#39;t return the value."}], "tags": [], "owner": {"reputation": 15859, "user_id": 975114, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9cca3ab47e2685d05b75880de0faee63?s=128&d=identicon&r=PG", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/975114/amit-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1518655131, "creation_date": 1518655131, "answer_id": 48798509, "question_id": 48798020, "link": "https://stackoverflow.com/questions/48798020/how-to-grab-child-attribute-using-selenium-webdriver-with-python/48798509#48798509", "title": "How to grab child attribute using Selenium Webdriver with Python?", "body": "<p>One of the options is regex match if <code>id</code> will always uniquely start with <code>lbl-</code></p>\n\n<pre><code>browser.find_element_by_css_selector(\"ion-label[id^='lbl-']\").get_attribute(\"producttypeid\")\n</code></pre>\n\n<p>Another option is to use the child </p>\n\n<pre><code>browser.find_element_by_css_selector(\".input-wrapper &gt; ion-label\").get_attribute(\"producttypeid\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 0, "last_activity_date": 1518669059, "creation_date": 1518669059, "answer_id": 48799975, "question_id": 48798020, "link": "https://stackoverflow.com/questions/48798020/how-to-grab-child-attribute-using-selenium-webdriver-with-python/48799975#48799975", "title": "How to grab child attribute using Selenium Webdriver with Python?", "body": "<p>As per the HTML if you want to extract the <code>producttypeid</code> attribute of the child you can write a function as follows :</p>\n\n<pre><code>def get_producttypeid(myString):\n        print(driver.find_elements_by_xpath(\"//div[@class='producttypeid']/ion-label[@class='label label-md' and starts-with(@id,'lbl-')][.='\" + myString + \"']\").get_attribute(\"producttypeid\"))\n</code></pre>\n\n<p>Now, from you can call the <code>get_producttypeid()</code> method with the required item description e.g. <strong>Item 1</strong> to retrieve the <code>producttypeid</code> attribute as follows :</p>\n\n<pre><code>get_producttypeid(\"Item 1\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1361, "user_id": 3347128, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/WAEso.png?s=128&g=1", "display_name": "Alichino", "link": "https://stackoverflow.com/users/3347128/alichino"}, "is_accepted": false, "score": 0, "last_activity_date": 1518702219, "creation_date": 1518702219, "answer_id": 48808732, "question_id": 48798020, "link": "https://stackoverflow.com/questions/48798020/how-to-grab-child-attribute-using-selenium-webdriver-with-python/48808732#48808732", "title": "How to grab child attribute using Selenium Webdriver with Python?", "body": "<p>How about:</p>\n\n<pre><code>element = browser.find_element_by_xpath(\"//*[contains(@id, 'lbl') and contains(text(), 'Item 1')]\").get_attribute(\"producttypeid\")\n</code></pre>\n"}], "owner": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 555, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1518702219, "creation_date": 1518651814, "last_edit_date": 1518667298, "question_id": 48798020, "link": "https://stackoverflow.com/questions/48798020/how-to-grab-child-attribute-using-selenium-webdriver-with-python", "title": "How to grab child attribute using Selenium Webdriver with Python?", "body": "<p>I am trying to grab an attribute of a child. I inspect my element in Chrome, and see the following code for it:</p>\n\n<pre><code>&lt;div class=\"input-wrapper\"&gt;\n  &lt;ion-label style=\"text-overflow: ellipsis; display; block; overflow: hidden;white-space: nowrap;\" class=\"label label-md\" id=\"lbl-80\" producttypeid=\"39553\"&gt;Item 1&lt;/ion-label&gt;\n</code></pre>\n\n<p>The attribute that I need is \"producttypeid\".</p>\n\n<p>When I right click on the first row and choose its selector the following command gives me nothing:\n  <code>browser.find_element_by_css_selector(\"cssFromChrome\").get_attribute(\"producttypeid\")</code></p>\n\n<p>When I right click on the second row and choose its selector, the selector that I get is <code>#lbl-80</code> which is not good for me since it is dynamic, and I need something static to grab that element. </p>\n\n<p>What else can I try to grab that attribute?</p>\n"}, {"tags": ["python", "command-line", "anaconda"], "answers": [{"comments": [{"owner": {"reputation": 4310, "user_id": 3633250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001152695429/picture?type=large", "display_name": "Maksim Khaitovich", "link": "https://stackoverflow.com/users/3633250/maksim-khaitovich"}, "edited": false, "score": 0, "creation_date": 1518652666, "post_id": 48798061, "comment_id": 84598880, "body": "Can we be sure that the <b>init</b> part won&#39;t be messed up? I mean will <b>init</b> be called each time I call timesearch.main?"}, {"owner": {"reputation": 768, "user_id": 1038386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOhSk.jpg?s=128&g=1", "display_name": "Meehow", "link": "https://stackoverflow.com/users/1038386/meehow"}, "reply_to_user": {"reputation": 4310, "user_id": 3633250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001152695429/picture?type=large", "display_name": "Maksim Khaitovich", "link": "https://stackoverflow.com/users/3633250/maksim-khaitovich"}, "edited": false, "score": 1, "creation_date": 1518653215, "post_id": 48798061, "comment_id": 84599047, "body": "What do you mean by init part? Is it the part outside the function body? I believe you don&#39;t need to create new <code>ArgumentParser</code> every time you call main function."}], "tags": [], "owner": {"reputation": 768, "user_id": 1038386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOhSk.jpg?s=128&g=1", "display_name": "Meehow", "link": "https://stackoverflow.com/users/1038386/meehow"}, "is_accepted": true, "score": 1, "last_activity_date": 1518652208, "last_edit_date": 1518652208, "creation_date": 1518652094, "answer_id": 48798061, "question_id": 48797972, "link": "https://stackoverflow.com/questions/48797972/python-run-another-python-script-with-current-environment-passing-the-argument/48798061#48798061", "title": "Python - run another python script with current environment passing the arguments over and getting the printed print output", "body": "<p>I wouldn't call python script with os.system. There is basically one function which you need to use: <code>main(sys.argv[1:])</code> </p>\n\n<p><a href=\"https://github.com/voussoir/timesearch/blob/master/timesearch/__init__.py#L435\" rel=\"nofollow noreferrer\"><code>https://github.com/voussoir/timesearch/blob/master/timesearch/__init__.py#L435</code></a>.</p>\n"}], "owner": {"reputation": 4310, "user_id": 3633250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001152695429/picture?type=large", "display_name": "Maksim Khaitovich", "link": "https://stackoverflow.com/users/3633250/maksim-khaitovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 48798061, "answer_count": 1, "score": 0, "last_activity_date": 1518652208, "creation_date": 1518651416, "question_id": 48797972, "link": "https://stackoverflow.com/questions/48797972/python-run-another-python-script-with-current-environment-passing-the-argument", "title": "Python - run another python script with current environment passing the arguments over and getting the printed print output", "body": "<p>A little bit of an ugly question, but I didn't find existing SO posts which cover it.</p>\n\n<p>Right now I need to use an existing python tool available on this <a href=\"https://github.com/voussoir/timesearch\" rel=\"nofollow noreferrer\">github</a></p>\n\n<p>This is a rather big piece of code with a lot of dependencies which I don't want to mess with. In a nutshell one can run its module by passing the command line arguments, for example:</p>\n\n<pre><code>timesearch.py timesearch -r \"subreddit1\" -l \"1466812800\" -up \"1498348800\"\n</code></pre>\n\n<p>Now, I need to run this tool a bunch of times using a <code>for</code> loop, passing over different argument values each time. The tool also prints out some output into command line when you run it - and I would like to intercept and print it out from my python script as well. Finally, I need to ensure that before I move on in my loop and run the tool another time that current execution of the <code>timesearch</code> tool is completed.</p>\n\n<p>One side note here - I do need to ensure that the timesearch is executed using same environment which I use to run my main script with for loop.</p>\n\n<p>I am trying to understand what is the best way to do it.</p>\n\n<p>If I just go for this it doesn't work:</p>\n\n<pre><code>import os\n#for loop will go here\nos.system('python timesearch.py timesearch -r \"ethereum\" -l \"1466812800\" -up \"1498348800\"')\n</code></pre>\n\n<p>It fails due to several reasons - it doesn't use the environment in which I am writing my script with a loop, it also doesn't capture the print output of timesearch.</p>\n\n<p>Any advice on how to achieve it?</p>\n\n<p>Just to highlight - I can't just go and pull function I need in timesearch, since it calls the <code>__init__</code> to set up some things based on the arguments you pass.</p>\n"}, {"tags": ["python", "python-sphinx"], "comments": [{"owner": {"reputation": 9881, "user_id": 2214933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IrPyi.jpg?s=128&g=1", "display_name": "Steve Piercy", "link": "https://stackoverflow.com/users/2214933/steve-piercy"}, "edited": false, "score": 3, "creation_date": 1518654662, "post_id": 48797914, "comment_id": 84599438, "body": "Did you <code>make clean</code> to clear out any cached files after making the configuration change?"}, {"owner": {"reputation": 743, "user_id": 1965736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8c672cbc98529109ba7f6187beb6541?s=128&d=identicon&r=PG", "display_name": "philngo", "link": "https://stackoverflow.com/users/1965736/philngo"}, "reply_to_user": {"reputation": 9881, "user_id": 2214933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IrPyi.jpg?s=128&g=1", "display_name": "Steve Piercy", "link": "https://stackoverflow.com/users/2214933/steve-piercy"}, "edited": false, "score": 1, "creation_date": 1518654866, "post_id": 48797914, "comment_id": 84599485, "body": "Good call! That did it."}], "owner": {"reputation": 743, "user_id": 1965736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8c672cbc98529109ba7f6187beb6541?s=128&d=identicon&r=PG", "display_name": "philngo", "link": "https://stackoverflow.com/users/1965736/philngo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518653533, "creation_date": 1518650973, "last_edit_date": 1518653533, "question_id": 48797914, "link": "https://stackoverflow.com/questions/48797914/intersphinx-links-to-python-2-docs-even-with-python-3-in-intersphinx-mapping", "title": "Intersphinx links to python 2 docs even with python 3 in intersphinx_mapping", "body": "<p>I am building docs with sphinx (Sphinx==1.7.0) using the intersphinx extension. I noticed that it was linking to python 2 docs by default, but I preferred linking to python 3 docs, so I changed the <code>intersphinx_mapping</code> in my conf.py to the following:</p>\n\n<pre><code># conf.py\n...\nintersphinx_mapping = {\n    'python': ('https://docs.python.org/3/': None),\n}\n...\n</code></pre>\n\n<p>However, when I make references in my source files to python objects, I see that these still link by default to python 2. I can fix this if I prefix <code>str</code> so that it reads <code>python:str</code> (as described in the <a href=\"http://www.sphinx-doc.org/en/stable/ext/intersphinx.html\" rel=\"nofollow noreferrer\">docs</a>), which explicitly indicates which intersphinx mapping to use. For example:</p>\n\n<pre><code># index.rst\n:any:`str`         # surprisingly, this links to https://docs.python.org/2/library/functions.html#str\n:any:`python:str`  # as expected, this links to https://docs.python.org/3/library/stdtypes.html#str\n</code></pre>\n\n<p>For reference, this is what the docs say:</p>\n\n<blockquote>\n  <p>When using the \u201cnew\u201d format (see below), you can even force lookup in a foreign set by prefixing the link target appropriately. A link like :ref:<code>comparison manual &lt;python:comparisons&gt;</code> will then link to the label \u201ccomparisons\u201d in the doc set \u201cpython\u201d, if it exists.</p>\n</blockquote>\n\n<p>My question is this: how can I make the default, unqualified intersphinx links point to python 3 docs instead of python 2 docs?</p>\n"}, {"tags": ["python", "datetime", "converter"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 6184036, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/9ca6b43903483d2f6602af8d8275fb84?s=128&d=identicon&r=PG&f=1", "display_name": "Kon Kyri", "link": "https://stackoverflow.com/users/6184036/kon-kyri"}, "edited": false, "score": 0, "creation_date": 1518685206, "post_id": 48798230, "comment_id": 84609245, "body": "Thanks a lot!It works perfectly.Its exactly what i &#39;ve been searching for."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 1, "last_activity_date": 1518653141, "creation_date": 1518653141, "answer_id": 48798230, "question_id": 48797909, "link": "https://stackoverflow.com/questions/48797909/convert-datetime-in-epoch-python/48798230#48798230", "title": "Convert Datetime in Epoch-Python", "body": "<p>This is one way:</p>\n\n<pre><code>import pandas as pd\n\nbase = '1970-01-01'\nx = '2018-02-14T22:15:00.232029+01:00'\n\n(pd.to_datetime(x) - pd.to_datetime(base)).total_seconds()\n\n# 1518642900.232029\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30101, "user_id": 783412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/895a112c66d93cefcd06d2cf371219e6?s=128&d=identicon&r=PG", "display_name": "hd1", "link": "https://stackoverflow.com/users/783412/hd1"}, "is_accepted": false, "score": 1, "last_activity_date": 1518655437, "creation_date": 1518655437, "answer_id": 48798550, "question_id": 48797909, "link": "https://stackoverflow.com/questions/48797909/convert-datetime-in-epoch-python/48798550#48798550", "title": "Convert Datetime in Epoch-Python", "body": "<p>Without using any external libraries:</p>\n\n<pre><code>&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; datetime.datetime.now().strftime('%s.%f')\n'1518655350.410295'\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 6184036, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/9ca6b43903483d2f6602af8d8275fb84?s=128&d=identicon&r=PG&f=1", "display_name": "Kon Kyri", "link": "https://stackoverflow.com/users/6184036/kon-kyri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1051, "favorite_count": 0, "accepted_answer_id": 48798230, "answer_count": 2, "score": 2, "last_activity_date": 1518655437, "creation_date": 1518650920, "last_edit_date": 1518653568, "question_id": 48797909, "link": "https://stackoverflow.com/questions/48797909/convert-datetime-in-epoch-python", "title": "Convert Datetime in Epoch-Python", "body": "<p>I want to convert a <code>datetime</code> into epoch.</p>\n\n<p>For example, I have <code>datetime</code> in this format: <code>2018-02-14T22:15:00.232029+01:00</code>.</p>\n\n<p>How can I convert it into epoch? I get a lot of errors when i try to use <code>datetime</code> or <code>timestamp</code> in python,because of my datetime's format. Any ideas?</p>\n"}, {"tags": ["python", "api", "assert"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 7788462, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5146ac6315c6de7db31680fef2b44c03?s=128&d=identicon&r=PG&f=1", "display_name": "Sel_Python", "link": "https://stackoverflow.com/users/7788462/sel-python"}, "edited": false, "score": 0, "creation_date": 1518715880, "post_id": 48798029, "comment_id": 84629677, "body": "Thanks jp_data_analysis. I used your solution and expanded it to test &#39;name&#39; and &#39;Number as below. How can I use asset??  for dbitems in Db:     matchid=dbitems[0].lower() in {Apiitems[&#39;Id&#39;].lower() for Apiitems in Api}     matchname=dbitems[1] in {Apiitems[&#39;name&#39;] for Apiitems in Api}     matchnumber=dbitems[2] in {Apiitems[&#39;Number&#39;] for Apiitems in Api}"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 151, "user_id": 7788462, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5146ac6315c6de7db31680fef2b44c03?s=128&d=identicon&r=PG&f=1", "display_name": "Sel_Python", "link": "https://stackoverflow.com/users/7788462/sel-python"}, "edited": false, "score": 0, "creation_date": 1518719283, "post_id": 48798029, "comment_id": 84631539, "body": "@Sel_Python, sorry I can&#39;t read your code, or understand what you mean. What is asset? Feel free to ask a new question if this specific answer doesn&#39;t help."}, {"owner": {"reputation": 151, "user_id": 7788462, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5146ac6315c6de7db31680fef2b44c03?s=128&d=identicon&r=PG&f=1", "display_name": "Sel_Python", "link": "https://stackoverflow.com/users/7788462/sel-python"}, "edited": false, "score": 0, "creation_date": 1518737391, "post_id": 48798029, "comment_id": 84639862, "body": "Sorry, meant to say &#39;assert&#39;. I am not able to figure out a way to show my code in a readable format. selecting my code and pressing &#39;ctrl+K&#39; and saving is not working in the comment.       for dbitems in Db:         matchid=dbitems[0].lower() in {Apiitems[&#39;Id&#39;].lower() for Apiitems in          Api}         matchname=dbitems[1] in {Apiitems[&#39;name&#39;] for Apiitems in Api}        matchnumber=dbitems[2] in {Apiitems[&#39;Number&#39;] for Apiitems in Api}       assert all(matchid==matchname==matchnumber), print (&quot;DB Values      and API values matched&quot;)"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 151, "user_id": 7788462, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5146ac6315c6de7db31680fef2b44c03?s=128&d=identicon&r=PG&f=1", "display_name": "Sel_Python", "link": "https://stackoverflow.com/users/7788462/sel-python"}, "edited": false, "score": 0, "creation_date": 1518738046, "post_id": 48798029, "comment_id": 84640056, "body": "@Sel_Python, have a look at <a href=\"https://meta.stackexchange.com/help/formatting\">meta.stackexchange.com/help/formatting</a>"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1518651897, "creation_date": 1518651897, "answer_id": 48798029, "question_id": 48797892, "link": "https://stackoverflow.com/questions/48797892/using-assert-on-different-datatypes-for-api-testing/48798029#48798029", "title": "using assert on different datatypes for API testing", "body": "<p>This is one way:</p>\n\n<pre><code>Db = [('D967E735-070D-48F9-A3BB-D00766D39F57', 'test1', '51-00401'),\n      ('94F903D1-2EE7-4BD2-A0C6-B464D9F2939C', 'test4', '51-00404'),\n      ('FE0CC34C-BA6A-4123-B72C-617ADC0A93E7', 'test10', '51-00409')]\n\nApi = [{'Id': 'd967e735-070d-48f9-a3bb-d00766d39f57', 'name': 'test1', 'Number': '51-00401'},\n       {'Id': '94f903d1-2ee7-4bd2-a0c6-b464d9f2939c', 'name': 'test4', 'Number': '51-00404'},\n       {'Id': 'fe0cc34c-ba6a-4123-b72c-617adc0a93e7', 'name': 'test10', 'Number': '51-00409'}]\n\nfor i in Db:\n    match = i[0].lower() in {d['Id'].lower() for d in Api}\n    print(i[0], match)\n\n# D967E735-070D-48F9-A3BB-D00766D39F57 True\n# 94F903D1-2EE7-4BD2-A0C6-B464D9F2939C True\n# FE0CC34C-BA6A-4123-B72C-617ADC0A93E7 True\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 7788462, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5146ac6315c6de7db31680fef2b44c03?s=128&d=identicon&r=PG&f=1", "display_name": "Sel_Python", "link": "https://stackoverflow.com/users/7788462/sel-python"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518651897, "creation_date": 1518650817, "last_edit_date": 1518651712, "question_id": 48797892, "link": "https://stackoverflow.com/questions/48797892/using-assert-on-different-datatypes-for-api-testing", "title": "using assert on different datatypes for API testing", "body": "<p>I have 2 sets of data one returned from database and one from API response.\nOne returned from database is a list of tuples (variable Db).\nOne returned from API response is a list of dictionary  (variable Api)</p>\n\n<p>Is there a way to check if each tuple element in Db matches dictionary element in Api. I tried through multiple for loops but it did not work.\nI would like to know if there is an elegant way (may be assert) to do this.</p>\n\n<pre><code>Db=[('D967E735-070D-48F9-A3BB-D00766D39F57', 'test1', '51-00401'),\n    ('94F903D1-2EE7-4BD2-A0C6-B464D9F2939C', 'test4', '51-00404'),\n    ('FE0CC34C-BA6A-4123-B72C-617ADC0A93E7', 'test10', '51-00409')]\n\nApi=[{'Id': 'd967e735-070d-48f9-a3bb-d00766d39f57',\n  'name': 'test1',\n  'Number': '51-00401'},\n {'Id': '94f903d1-2ee7-4bd2-a0c6-b464d9f2939c',\n  'name': 'test4',\n  'Number': '51-00404'},\n {'Id': 'fe0cc34c-ba6a-4123-b72c-617adc0a93e7',\n  'name': 'test10',\n  'Number': '51-00409'}]\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1518652234, "post_id": 48797880, "comment_id": 84598769, "body": "Share your underlying dataframe (e.g. <code>df.to_dict()</code>). Also have a read through: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 93, "user_id": 8679484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f7b5c2398d62eba001e7bb97c970d358?s=128&d=identicon&r=PG&f=1", "display_name": "pacificdune", "link": "https://stackoverflow.com/users/8679484/pacificdune"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1518795599, "post_id": 48797880, "comment_id": 84664219, "body": "Thank you.  Difficult to do since it contains data that I can not share publicly, but your response does give some insight that what I am doing seems correct, and there is something strange in the underlying DF that is causing the unexpected behavior.  I had hoped that my question would reach people who have seen a similar response when working with filtering a DF, bit apparently it has not."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 8679484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f7b5c2398d62eba001e7bb97c970d358?s=128&d=identicon&r=PG&f=1", "display_name": "pacificdune", "link": "https://stackoverflow.com/users/8679484/pacificdune"}, "edited": false, "score": 0, "creation_date": 1518710235, "post_id": 48798177, "comment_id": 84626023, "body": "Thanks, but I think you misunderstood my question.  I made some edits for clarification."}], "tags": [], "owner": {"reputation": 1028, "user_id": 5025510, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Qjl75.jpg?s=128&g=1", "display_name": "Indominus", "link": "https://stackoverflow.com/users/5025510/indominus"}, "is_accepted": false, "score": 0, "last_activity_date": 1518652785, "creation_date": 1518652785, "answer_id": 48798177, "question_id": 48797880, "link": "https://stackoverflow.com/questions/48797880/unexpected-result-when-filtering-pandas-df-row/48798177#48798177", "title": "Unexpected Result When Filtering PANDAS DF Row", "body": "<p><code>('Color', 'Shape', 'Data')</code> is NOT your column names, but your first row of <strong>data</strong>, otherwise there wouldn't an index 0 assigned to this row. Since DF has no column named 'Color', <code>DF['Color'] == 'Blue'</code> doesn't filter out anything, and therefore it would return all records.</p>\n\n<p>If you imported your data from a csv or Excel sheet, I'd suggest you specify using the first row of your file as column names.</p>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 8679484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f7b5c2398d62eba001e7bb97c970d358?s=128&d=identicon&r=PG&f=1", "display_name": "pacificdune", "link": "https://stackoverflow.com/users/8679484/pacificdune"}, "edited": false, "score": 0, "creation_date": 1518710222, "post_id": 48798814, "comment_id": 84626006, "body": "Thanks, but I think you misunderstood my question.  I made some edits for clarification."}], "tags": [], "owner": {"reputation": 521, "user_id": 8624538, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ed12631d92aa6e386fd69811b7c99b8a?s=128&d=identicon&r=PG&f=1", "display_name": "Humi", "link": "https://stackoverflow.com/users/8624538/humi"}, "is_accepted": false, "score": 0, "last_activity_date": 1518658524, "last_edit_date": 1518658524, "creation_date": 1518657765, "answer_id": 48798814, "question_id": 48797880, "link": "https://stackoverflow.com/questions/48797880/unexpected-result-when-filtering-pandas-df-row/48798814#48798814", "title": "Unexpected Result When Filtering PANDAS DF Row", "body": "<p>You are missing DF.loc so you are getting unneccessary rows. </p>\n\n<p>Make first row as column header:</p>\n\n<pre><code>               DF=DF.rename(columns=DF.iloc[0].drop(DF.index[0])\n</code></pre>\n\n<p>Then use the below to get just the rows where color is blue :</p>\n\n<pre><code>               FDF=DF.loc[DF['Color'] =='Blue']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 8679484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f7b5c2398d62eba001e7bb97c970d358?s=128&d=identicon&r=PG&f=1", "display_name": "pacificdune", "link": "https://stackoverflow.com/users/8679484/pacificdune"}, "edited": false, "score": 0, "creation_date": 1518710228, "post_id": 48806736, "comment_id": 84626014, "body": "Thanks, but I think you misunderstood my question.  I made some edits for clarification."}], "tags": [], "owner": {"reputation": 413, "user_id": 8003453, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/352d12de578b5039285a2c7071c75c53?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash Clinton", "link": "https://stackoverflow.com/users/8003453/avinash-clinton"}, "is_accepted": false, "score": 0, "last_activity_date": 1518695870, "creation_date": 1518695870, "answer_id": 48806736, "question_id": 48797880, "link": "https://stackoverflow.com/questions/48797880/unexpected-result-when-filtering-pandas-df-row/48806736#48806736", "title": "Unexpected Result When Filtering PANDAS DF Row", "body": "<p>You're trying to filter by a column name which does not exists. First make your first row as column header :</p>\n\n<pre><code>DF.columns = DF.iloc[0]\nDF.reindex(DF.index.drop(0))\n</code></pre>\n\n<p>Now filter using</p>\n\n<pre><code>FDF = DF[DF['Color'] == 'Blue']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 8679484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f7b5c2398d62eba001e7bb97c970d358?s=128&d=identicon&r=PG&f=1", "display_name": "pacificdune", "link": "https://stackoverflow.com/users/8679484/pacificdune"}, "is_accepted": false, "score": 0, "last_activity_date": 1519167093, "creation_date": 1519167093, "answer_id": 48895508, "question_id": 48797880, "link": "https://stackoverflow.com/questions/48797880/unexpected-result-when-filtering-pandas-df-row/48895508#48895508", "title": "Unexpected Result When Filtering PANDAS DF Row", "body": "<p>Not sure I understand the negative ratings on this question.  However, I was able to work around the issue by assigning a new index and renaming the columns.</p>\n"}], "owner": {"reputation": 93, "user_id": 8679484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f7b5c2398d62eba001e7bb97c970d358?s=128&d=identicon&r=PG&f=1", "display_name": "pacificdune", "link": "https://stackoverflow.com/users/8679484/pacificdune"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1519167093, "creation_date": 1518650736, "last_edit_date": 1518710175, "question_id": 48797880, "link": "https://stackoverflow.com/questions/48797880/unexpected-result-when-filtering-pandas-df-row", "title": "Unexpected Result When Filtering PANDAS DF Row", "body": "<p>I typically filter a pandas DataFrame using the following syntax:</p>\n\n<pre><code>FDF = DF[DF['Color'] == 'Blue']\n</code></pre>\n\n<p>I expect to see a result where FDF, which is my filtered DataFrame returns just the rows where the color column is set to blue.  Instead, I get something like this.  Funny thing is, the program used to worked as expected, but stopped working after I upgraded my operating system and re-installed Python and all of the libraries.  Also, it does not do this on all of my DataFrames.  Any ideas?</p>\n\n<pre><code>0    Color    Shape    Data \n1    NaN      NaN      NaN       \n2    NaN      NaN      NaN        \n3    NaN      NaN      NaN         \n4    Blue     NaN      NaN        \n5    NaN      NaN      NaN         \n6    NaN      NaN      NaN   \n</code></pre>\n\n<p>Edit:  I think the first 3 responses misunderstood the question.  I am showing the result, not the original DF.  My original DF looks like this:</p>\n\n<pre><code>     Color    Shape       Data  \n0    Green    square      Y\n1    Red      triangle    N\n2    Red      circle      Y\n3    Blue     circle      N\n4    Green    square      N\n5    Red      triangle    N\n</code></pre>\n\n<p>The result I am expecting is:</p>\n\n<pre><code>     Color    Shape       Data       \n3    Blue     circle      N     \n</code></pre>\n"}, {"tags": ["python", "c", "python-3.x", "python-c-api", "python-extensions"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1518650748, "post_id": 48797834, "comment_id": 84598374, "body": "Are you trying to replicate the behavior of a C function that takes a <code>something *pointer</code> and assigns to <code>*pointer</code>? That&#39;s not something Python supports."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1518651550, "post_id": 48797834, "comment_id": 84598608, "body": "I tried to answer as best I could, but the lack of details here makes me suspect <a href=\"https://meta.stackexchange.com/q/66377/322040\">an XY problem</a>; in general, you shouldn&#39;t have resource allocating functions that are also returning other values (if they fail, they raise exceptions), because it becomes quite difficult to properly manage the resources properly (you&#39;d have to unpack, then use a <code>with</code> to ensure proper closure). Can you provide more details?"}, {"owner": {"reputation": 23, "user_id": 9362491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab77dae915827ac58a914503757c5ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Lofstead", "link": "https://stackoverflow.com/users/9362491/jay-lofstead"}, "edited": false, "score": 0, "creation_date": 1518707303, "post_id": 48797834, "comment_id": 84624050, "body": "The file handle is a good example. In C, it would be FILE *. I want to pass one back so I was expecting that I could update the reference passed in with a new value (assuming a FILE ** is passed in in the form of a uint64_t * that I would cast back and forth in the C code assuming that the Python programmer doesn&#39;t munge it). It seems that this isn&#39;t the right thing to do nor really possible without writing all but broken code or code that is flaky at best."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9362491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab77dae915827ac58a914503757c5ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Lofstead", "link": "https://stackoverflow.com/users/9362491/jay-lofstead"}, "edited": false, "score": 0, "creation_date": 1518707114, "post_id": 48797925, "comment_id": 84623905, "body": "Thanks. This explains why I can&#39;t figure it out."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 2, "last_activity_date": 1518651385, "last_edit_date": 1518651385, "creation_date": 1518651049, "answer_id": 48797925, "question_id": 48797834, "link": "https://stackoverflow.com/questions/48797834/how-to-change-function-parameter-values-in-a-python-3-c-extension/48797925#48797925", "title": "How to change function parameter values in a Python 3 C extension?", "body": "<p>You can't change what the caller's parameter refers to in the caller, all you can do is perform mutations of the object itself using its API. Basically, you received a <em>copy</em> of the caller's pointer, <em>not</em> a C++-style <em>reference</em> (nor a C-style double pointer that would give you access to a pointer declared in the caller), so you can't reassign the argument in the caller.</p>\n\n<p>In general, you don't <em>want</em> to try to perfectly reproduce C APIs (I'm assuming your C API uses double-pointers to allow reassigning the value in the caller?) in Python APIs. That's how PHP operates, and it makes for terribly inconsistent APIs that often take no advantage of being in a high level language.</p>\n\n<p>This case is doubly-fraught because, when used properly with <code>with</code> statements, file-like objects actually have multiple references (not C++ meaning) to them, the named variable (that was passed to your function) and one or more hidden references held inside the interpreter (to ensure the <code>with</code> statement has a consistent <code>__exit__</code> to call, even if the caller deletes their own binding for the object). Even if you could somehow reassign the caller's argument, the <code>with</code> statement would still refer to the original file object, and it wouldn't be obvious to the caller that they needed to <code>close</code> (implicitly using <code>with</code> or explicitly calling <code>close</code>) the result again because your function replaced their object.</p>\n\n<p>Return multiple results (<a href=\"https://docs.python.org/3/c-api/arg.html#c.Py_BuildValue\" rel=\"nofollow noreferrer\"><code>Py_BuildValue</code> makes this easy</a>), and the caller can replace their value if they want to.</p>\n"}], "owner": {"reputation": 23, "user_id": 9362491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab77dae915827ac58a914503757c5ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Lofstead", "link": "https://stackoverflow.com/users/9362491/jay-lofstead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 48797925, "answer_count": 1, "score": 2, "last_activity_date": 1536941162, "creation_date": 1518650404, "last_edit_date": 1536941162, "question_id": 48797834, "link": "https://stackoverflow.com/questions/48797834/how-to-change-function-parameter-values-in-a-python-3-c-extension", "title": "How to change function parameter values in a Python 3 C extension?", "body": "<p>I can't figure out how to change the value of a parameter passed from Python to C. </p>\n\n<pre><code>PyArg_ParseTuple (args, \"Os\", &amp;file_handle, &amp;filename)\n</code></pre>\n\n<p>will let me get file_handle as a <code>PyObject *</code>. Is there a way to change the value <code>file_handle</code> represents? I know I can return multiple values to a Python function call, but that isn't what I want to do in this case. Just for consistency with the C API I am making a module to represent.</p>\n"}, {"tags": ["python", "web-scraping", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1518720486, "post_id": 48798889, "comment_id": 84632211, "body": "Add this code leave my csv empty. I get a key error on both winner and loser   File &quot;/Library/Frameworks/Python.framework/Versions/3.6/lib/pytho&zwnj;&#8203;n3.6/site-packages/s&zwnj;&#8203;crapy/item.py&quot;, line 59, in <b>getitem</b>     return self._values[key] KeyError: &#39;loser&#39;"}, {"owner": {"reputation": 482, "user_id": 9270398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GTiXH.jpg?s=128&g=1", "display_name": "just_be_happy", "link": "https://stackoverflow.com/users/9270398/just-be-happy"}, "reply_to_user": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1518739559, "post_id": 48798889, "comment_id": 84640446, "body": "could you please show me your codes in items.py? Thanks."}, {"owner": {"reputation": 482, "user_id": 9270398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GTiXH.jpg?s=128&g=1", "display_name": "just_be_happy", "link": "https://stackoverflow.com/users/9270398/just-be-happy"}, "reply_to_user": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1518742195, "post_id": 48798889, "comment_id": 84641069, "body": "I&#39;ve edited the answer. This one should be ok. The error means the value of the &#39;loser&#39; key doesn&#39;t exist, and by using get(), we can get None even if it happened."}, {"owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1518742897, "post_id": 48798889, "comment_id": 84641249, "body": "This is really weird. It&#39;s dropping all rows instead of blanks {&#39;loser&#39;: &#39;Haddad Maia B / Stefani L&#39;} 2018-02-16 01:00:53 [scrapy.core.scraper] WARNING: Dropped: This one is empty"}, {"owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1518743328, "post_id": 48798889, "comment_id": 84641337, "body": "maybe this is a better error File &quot;/Users/mac/PycharmProjects/scrapyfundamentals/scrapejs/scra&zwnj;&#8203;pejs/scrapejs/pipeli&zwnj;&#8203;nes.py&quot;, line 20, in process_item     if not item(&#39;loser&#39;): TypeError: &#39;SofascoreItem&#39; object is not callable"}, {"owner": {"reputation": 482, "user_id": 9270398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GTiXH.jpg?s=128&g=1", "display_name": "just_be_happy", "link": "https://stackoverflow.com/users/9270398/just-be-happy"}, "reply_to_user": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1518743819, "post_id": 48798889, "comment_id": 84641469, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/165258/discussion-between-la-vie-est-belle-and-tomoc4\">continue this discussion in chat</a>."}, {"owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1518743975, "post_id": 48798889, "comment_id": 84641525, "body": "Same output as original."}, {"owner": {"reputation": 482, "user_id": 9270398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GTiXH.jpg?s=128&g=1", "display_name": "just_be_happy", "link": "https://stackoverflow.com/users/9270398/just-be-happy"}, "reply_to_user": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1518744404, "post_id": 48798889, "comment_id": 84641617, "body": "maybe something is wrong with  self.exporter.export_item(item)"}, {"owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "edited": false, "score": 0, "creation_date": 1519006896, "post_id": 48798889, "comment_id": 84720894, "body": "if might help looking at my other question. Strange behaviour with json output too"}], "tags": [], "owner": {"reputation": 482, "user_id": 9270398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GTiXH.jpg?s=128&g=1", "display_name": "just_be_happy", "link": "https://stackoverflow.com/users/9270398/just-be-happy"}, "is_accepted": false, "score": 0, "last_activity_date": 1519014341, "last_edit_date": 1519014341, "creation_date": 1518658626, "answer_id": 48798889, "question_id": 48797819, "link": "https://stackoverflow.com/questions/48797819/scrapy-output-is-showing-empty-rows-per-column/48798889#48798889", "title": "Scrapy output is showing empty rows per column", "body": "<p>Check this one, the problem is located: <a href=\"https://stackoverflow.com/a/48859488/9270398\">https://stackoverflow.com/a/48859488/9270398</a></p>\n"}], "owner": {"reputation": 248, "user_id": 6353522, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3d0c77c0601ede6bb14e353ed51daf0?s=128&d=identicon&r=PG&f=1", "display_name": "tomoc4", "link": "https://stackoverflow.com/users/6353522/tomoc4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 422, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519014341, "creation_date": 1518650306, "last_edit_date": 1518741200, "question_id": 48797819, "link": "https://stackoverflow.com/questions/48797819/scrapy-output-is-showing-empty-rows-per-column", "title": "Scrapy output is showing empty rows per column", "body": "<p>my output is as follows</p>\n\n<pre><code>0 winner  loser\n1 winner1\n2       loser1\n3 winner2\n4       loser2\n5 winner3\n6       loser3\n</code></pre>\n\n<p>how do I remove the empty cells so that winner and loser values are on the same row? I've tried to locate add new line parameters to pipelines but have no luck. Is there any way to over-ride pipelines to only write if item has a value to the row so the output can be on the same row?</p>\n\n<pre><code>spider.py\n\n\nimport scrapy\nfrom scrapy_splash import SplashRequest\nfrom scrapejs.items import SofascoreItemLoader\nfrom scrapy import Spider\nimport scrapy\nimport json\nfrom scrapy.http import Request, FormRequest\n\n\nclass MySpider(scrapy.Spider):\n    name = \"jsscraper\"\n\nstart_urls = [\"https://www.sofascore.com/tennis/2018-02-07\"]\n\ndef start_requests(self):\n    for url in self.start_urls:\n        yield SplashRequest(url=url,\n                            callback=self.parse,\n                            endpoint='render.html',\n                            args={'wait':3.5})\n\ndef parse(self, response):\n        for row in response.css('.event-team'):\n                il = SofascoreItemLoader(selector=row)\n                il.add_css('winner' , '.event-team:nth-\n                 child(2)::text')\n                il.add_css('loser' , '.event-team:nth-\n                child(1)::text')\n\n                yield il.load_item()\n\n  pipline.py\n  from scrapy.exporters import CsvItemExporter\n\n\n  class ScrapejsPipeline(object):\n     def process_item(self, item, spider):\n      return item\n\n class CsvPipeline(object):\n    def __init__(self):\n      self.file = open(\"quotedata2.csv\", 'w+b')\n    self.exporter = CsvItemExporter(self.file, str)\n    self.exporter.start_exporting()\n\ndef close_spider(self, spider):\n    self.exporter.finish_exporting()\n    self.file.close()\n\ndef process_item(self, item, spider):\n    self.exporter.export_item(item)\n    return item\n</code></pre>\n\n<p>items.py</p>\n\n<pre><code>import scrapy\n\nfrom scrapy.loader import ItemLoader\nfrom scrapy.loader.processors import TakeFirst, MapCompose,\nfrom operator import methodcaller\nfrom scrapy import Spider, Request, Selector\n\nclass SofascoreItem(scrapy.Item):\n    loser = scrapy.Field()\n    winner = scrapy.Field()\n    #date = scrapy.Field()\n\n\n\nclass SofascoreItemLoader(ItemLoader):\n    default_item_class = SofascoreItem\n    default_input_processor = MapCompose(methodcaller('strip'))\n    default_output_processor = TakeFirst()\n</code></pre>\n"}, {"tags": ["python", "regex", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1518650432, "post_id": 48797784, "comment_id": 84598279, "body": "how did your attempt at this go?"}, {"owner": {"reputation": 231, "user_id": 7621018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1767736509918821/picture?type=large", "display_name": "Venkatesh Malhotra", "link": "https://stackoverflow.com/users/7621018/venkatesh-malhotra"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1518650701, "post_id": 48797784, "comment_id": 84598357, "body": "To start off with, I am not able to dynamically create substrings of length four or more for every <b>club</b> value."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1518650773, "post_id": 48797784, "comment_id": 84598379, "body": "Also, what&#39;s your expected output?"}, {"owner": {"reputation": 4200, "user_id": 3104974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0bf327f4729e0af1e6bf0582391fad75?s=128&d=identicon&r=PG&f=1", "display_name": "ascripter", "link": "https://stackoverflow.com/users/3104974/ascripter"}, "edited": false, "score": 0, "creation_date": 1518651043, "post_id": 48797784, "comment_id": 84598459, "body": "Sidenote: The German soccer club is <code>bayer_leverkusen</code> which has nothing to do with Bayern (=Bavaria) :)"}, {"owner": {"reputation": 231, "user_id": 7621018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1767736509918821/picture?type=large", "display_name": "Venkatesh Malhotra", "link": "https://stackoverflow.com/users/7621018/venkatesh-malhotra"}, "edited": false, "score": 0, "creation_date": 1518651103, "post_id": 48797784, "comment_id": 84598483, "body": "Added expected output in the question"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1518652153, "post_id": 48797784, "comment_id": 84598746, "body": "This problem could yield multiple sets of clubs. E.g. one set of clubs share &#39;abcd&#39;, another set of clubs share &#39;efgh&#39;, another set of clubs share &#39;cdef&#39;. These sets of clubs may not even be mutually exclusive. Can you be more concrete with how you identify the clubs?"}, {"owner": {"reputation": 231, "user_id": 7621018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1767736509918821/picture?type=large", "display_name": "Venkatesh Malhotra", "link": "https://stackoverflow.com/users/7621018/venkatesh-malhotra"}, "edited": false, "score": 0, "creation_date": 1518652490, "post_id": 48797784, "comment_id": 84598832, "body": "The set of clubs could not be mutually exclusive. I will try to explain briefly: I want to iterate each value of club starting from index 0. for eq <b>bayern</b> should get compared with every substring of 4 or more characters resulting from other values in column <b>club</b>. Next for, <b>bayern_leverkusen</b>, the same procedure should be followed."}], "answers": [{"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1518652047, "post_id": 48798009, "comment_id": 84598723, "body": "I see result includes mancity. Also, I think you need to replace <code>first</code> with <code>first_index</code> / <code>second</code> with <code>second_index</code>."}, {"owner": {"reputation": 231, "user_id": 7621018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1767736509918821/picture?type=large", "display_name": "Venkatesh Malhotra", "link": "https://stackoverflow.com/users/7621018/venkatesh-malhotra"}, "edited": false, "score": 0, "creation_date": 1518653143, "post_id": 48798009, "comment_id": 84599019, "body": "Alright, if i change the statement  <code>if club1[start:start+3] in club2</code> to if <code>club1[start:start+4] in club2:</code>, i am getting desired output. Thank you both of you."}], "tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": true, "score": 0, "last_activity_date": 1518651750, "creation_date": 1518651750, "answer_id": 48798009, "question_id": 48797784, "link": "https://stackoverflow.com/questions/48797784/conditional-string-matching-in-pandas/48798009#48798009", "title": "Conditional String matching in pandas", "body": "<pre><code>import itertools\nimport pandas as pd\nselector = pd.Series(False,index = a.index)\nfor first_index,second_index in itertools.combinations(a.index,2):\n    club1 = a['club'][first_index]\n    club2 = a['club'][second_index]\n    for start in range(len(club1)-3):\n        if club1[start:start+3] in club2:\n            selector[first] = True\n            selector[second] = True\n            break\nnew_df = a.loc[selector]\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 7621018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1767736509918821/picture?type=large", "display_name": "Venkatesh Malhotra", "link": "https://stackoverflow.com/users/7621018/venkatesh-malhotra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 48798009, "answer_count": 1, "score": -1, "last_activity_date": 1518651750, "creation_date": 1518650046, "last_edit_date": 1518651048, "question_id": 48797784, "link": "https://stackoverflow.com/questions/48797784/conditional-string-matching-in-pandas", "title": "Conditional String matching in pandas", "body": "<p>I have the following dataframe <code>a</code></p>\n\n<pre><code>  a=pd.DataFrame([[1,'bayern'],[2,'bayern_leverkusen'],[3,'Chelsea'],\n                  [4,'manunited'],[5,'westhamunited'],[6,'mancity']]\n                  ,columns=['no','club'])\n</code></pre>\n\n<p>I would like to iterate column <code>club</code> in such a way that every values in <code>club</code> iterates with all the other values in <code>club</code> and select only those where there is matching of 4 or more consecutive characters.</p>\n\n<p>For eq <code>bayern</code> and <code>bayern_leverkusen</code> should be filtered because they contain same substring <strong><em>bayern</em></strong>. Similarily, <code>manunited</code> and <code>westhamunited</code> should be filtered because they contain they contain same substring <strong><em>united</em></strong>. </p>\n\n<p><strong><code>mancity</code> should not be filtered because the matching substring <code>man</code> is only 3.</strong></p>\n\n<p>Expected Output:</p>\n\n<pre><code>     no    club\n 0   1    bayern    \n 1   2    bayern_leverkusen\n 3   4    manunited\n 4   5    westhamunited\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "limesurvey"], "comments": [{"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 2, "creation_date": 1518650354, "post_id": 48797775, "comment_id": 84598250, "body": "Please do not post images of code. Instead provide a <a href=\"https://stackoverflow.com/help/mcve\"><b>Minimal, Complete, Verifiable</b> Example</a>."}, {"owner": {"reputation": 1718, "user_id": 122630, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0AjGA.jpg?s=128&g=1", "display_name": "Brad Rhoads", "link": "https://stackoverflow.com/users/122630/brad-rhoads"}, "reply_to_user": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 0, "creation_date": 1518820652, "post_id": 48797775, "comment_id": 84676446, "body": "I realized that I can request CSV instead JSON from Lime Survey. Made things much easier."}], "answers": [{"comments": [{"owner": {"reputation": 1718, "user_id": 122630, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0AjGA.jpg?s=128&g=1", "display_name": "Brad Rhoads", "link": "https://stackoverflow.com/users/122630/brad-rhoads"}, "edited": false, "score": 0, "creation_date": 1518696408, "post_id": 48797911, "comment_id": 84616414, "body": "This looks like a possible solution. But I&#39;d prefer a pure python solution."}, {"owner": {"reputation": 26, "user_id": 8738030, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155990415482638/picture?type=large", "display_name": "Vignesh Sethuraman", "link": "https://stackoverflow.com/users/8738030/vignesh-sethuraman"}, "reply_to_user": {"reputation": 1718, "user_id": 122630, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0AjGA.jpg?s=128&g=1", "display_name": "Brad Rhoads", "link": "https://stackoverflow.com/users/122630/brad-rhoads"}, "edited": false, "score": 0, "creation_date": 1518715484, "post_id": 48797911, "comment_id": 84629418, "body": "You could use the same using the in-built json library in Python too. Since, your data is wrapped inside an index, you might have to iterate through all keys to extract the required fields. See here for ref -  <a href=\"https://stackoverflow.com/questions/26954716/parse-an-entire-json-object-looking-for-a-key-in-python\" title=\"parse an entire json object looking for a key in python\">stackoverflow.com/questions/26954716/&hellip;</a>  jQ library will help you cut down on the extra lines of code and will be straight forward."}], "tags": [], "owner": {"reputation": 26, "user_id": 8738030, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155990415482638/picture?type=large", "display_name": "Vignesh Sethuraman", "link": "https://stackoverflow.com/users/8738030/vignesh-sethuraman"}, "is_accepted": true, "score": 1, "last_activity_date": 1518650949, "creation_date": 1518650949, "answer_id": 48797911, "question_id": 48797775, "link": "https://stackoverflow.com/questions/48797775/how-to-select-columns-of-data-from-a-dataframe/48797911#48797911", "title": "How to select columns of data from a DataFrame", "body": "<p>Check out jq - <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow noreferrer\">https://stedolan.github.io/jq/</a></p>\n\n<p>You can pass your df ['responses'] json to jq and extract the required field and create that as a separate df column.</p>\n\n<p>And then you can get the average of the columns from the df.</p>\n"}], "owner": {"reputation": 1718, "user_id": 122630, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0AjGA.jpg?s=128&g=1", "display_name": "Brad Rhoads", "link": "https://stackoverflow.com/users/122630/brad-rhoads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 48797911, "answer_count": 1, "score": 0, "last_activity_date": 1518650949, "creation_date": 1518649985, "question_id": 48797775, "link": "https://stackoverflow.com/questions/48797775/how-to-select-columns-of-data-from-a-dataframe", "title": "How to select columns of data from a DataFrame", "body": "<p><strong>I'm retrieving survey results from Lime Survey via its API (Remote Control):</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/w08hw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w08hw.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>And I manage to get it into a DataFrame. But it's just 1 column per row:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/6dEgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6dEgN.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>The data looks like this.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/NEzo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NEzo5.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I want to be able to do is get averages of the data by question and category. From the example below, q10[wor1], q10[wor2], . . ., q10[wor7] give the 7 questions that are part of category q10.</p>\n\n<p>How to first select all the data for wor1, wor2, ..., wor7, separately, so that I can do stats on each of those individual questions.</p>\n\n<p>Then how do I select all data for q10* so that I can do stats for the entire group?</p>\n\n<p>Even without trying to separate the category from the question, I haven't been able to select just all the 'q10[wor1]' data.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "scikit-learn", "dask"], "comments": [{"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 0, "creation_date": 1559747665, "post_id": 48797747, "comment_id": 99518261, "body": "I&#39;m not sure you can pass a dask dataframe to scikit-learn. Have you try to use <code>dask_ml</code> as explained in this <a href=\"https://examples.dask.org/machine-learning.html\" rel=\"nofollow noreferrer\">documentation</a>?"}], "owner": {"reputation": 607, "user_id": 3433625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QEo7m.png?s=128&g=1", "display_name": "shellcat_zero", "link": "https://stackoverflow.com/users/3433625/shellcat-zero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 705, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1559660305, "creation_date": 1518649823, "last_edit_date": 1518653484, "question_id": 48797747, "link": "https://stackoverflow.com/questions/48797747/dask-client-map-returns-keyerror-on-dask-dataframe", "title": "Dask client.map returns KeyError on dask dataframe", "body": "<p>I'm trying to create an updated example of random forest classification using python dask, as originally described <a href=\"http://matthewrocklin.com/blog/work/2016/04/20/dask-distributed-part-5\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>When I attempt to pass a training set to the Client.map function, it's throwing a KeyError and I'm not sure what I'm doing wrong based on the error message.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>from sklearn.ensemble import RandomForestClassifier\nfrom sklearn.model_selection import train_test_split\n\nfrom distributed import Client, progress, wait\nc = Client('127.0.0.1:8786')\nc\n\ncolumns = ['trip_distance', 'pickup_longitude', 'pickup_latitude', \n           'dropoff_longitude', 'dropoff_latitude', 'payment_type', \n           'fare_amount', 'mta_tax', 'tip_amount', 'tolls_amount']\n\nimport dask.dataframe as dd\n\ndfs = dd.read_csv('s3://dask-data/nyc-taxi/2015/*.csv', \n                 parse_dates=['tpep_pickup_datetime', 'tpep_dropoff_datetime'],\n                 storage_options={'anon': True})\ndfs = c.persist(dfs)\nprogress(dfs)\n\ndef fit(df):\n    est = RandomForestClassifier(n_estimators=4)\n    est.fit(df[columns], df.passenger_count)\n    return est\n\ntrain, test = dfs.random_split([0.7, 0.3])\n\nestimators = c.map(fit, train)\nprogress(estimators, complete=False)\n</code></pre>\n\n<p>which throws the error:</p>\n\n<pre><code>KeyError                                  Traceback (most recent call last)\n/opt/anaconda/lib/python3.5/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance)\n   2524             try:\n-&gt; 2525                 return self._engine.get_loc(key)\n   2526             except KeyError:\n\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc()\n\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc()\n\npandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()\n\npandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()\n\nKeyError: 0\n\nDuring handling of the above exception, another exception occurred:\n\nKeyError                                  Traceback (most recent call last)\n&lt;ipython-input-61-9846f819ffca&gt; in &lt;module&gt;()\n      8 train, test = dfs.random_split([0.7, 0.3])\n      9 \n---&gt; 10 estimators = c.map(fit, train)\n     11 progress(estimators, complete=False)\n\n/opt/anaconda/lib/python3.5/site-packages/distributed/client.py in map(self, func, *iterables, **kwargs)\n   1243             raise ValueError(\"Only use allow_other_workers= if using workers=\")\n   1244 \n-&gt; 1245         iterables = list(zip(*zip(*iterables)))\n   1246         if isinstance(key, list):\n   1247             keys = key\n\n/opt/anaconda/lib/python3.5/site-packages/dask/dataframe/core.py in __getitem__(self, key)\n   2284 \n   2285             # error is raised from pandas\n-&gt; 2286             meta = self._meta[_extract_meta(key)]\n   2287             dsk = dict(((name, i), (operator.getitem, (self._name, i), key))\n   2288                        for i in range(self.npartitions))\n\n/opt/anaconda/lib/python3.5/site-packages/pandas/core/frame.py in __getitem__(self, key)\n   2137             return self._getitem_multilevel(key)\n   2138         else:\n-&gt; 2139             return self._getitem_column(key)\n   2140 \n   2141     def _getitem_column(self, key):\n\n/opt/anaconda/lib/python3.5/site-packages/pandas/core/frame.py in _getitem_column(self, key)\n   2144         # get column\n   2145         if self.columns.is_unique:\n-&gt; 2146             return self._get_item_cache(key)\n   2147 \n   2148         # duplicate columns &amp; possible reduce dimensionality\n\n/opt/anaconda/lib/python3.5/site-packages/pandas/core/generic.py in _get_item_cache(self, item)\n   1840         res = cache.get(item)\n   1841         if res is None:\n-&gt; 1842             values = self._data.get(item)\n   1843             res = self._box_item_values(item, values)\n   1844             cache[item] = res\n\n/opt/anaconda/lib/python3.5/site-packages/pandas/core/internals.py in get(self, item, fastpath)\n   3841 \n   3842             if not isna(item):\n-&gt; 3843                 loc = self.items.get_loc(item)\n   3844             else:\n   3845                 indexer = np.arange(len(self.items))[isna(self.items)]\n\n/opt/anaconda/lib/python3.5/site-packages/pandas/core/indexes/base.py in get_loc(self, key, method, tolerance)\n   2525                 return self._engine.get_loc(key)\n   2526             except KeyError:\n-&gt; 2527                 return self._engine.get_loc(self._maybe_cast_indexer(key))\n   2528 \n   2529         indexer = self.get_indexer([key], method=method, tolerance=tolerance)\n\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc()\n\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc()\n\npandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()\n\npandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()\n\nKeyError: 0\n</code></pre>\n\n<p>Based on the error output, the error appears to be getting triggered at the <code>estimators = c.map(fit, train)</code> statement, suggesting that <code>def fit(df):</code> probably needs to be modified so that the dask dataframe can be properly passed to <code>est.fit()</code>, but I am not sure how.</p>\n"}, {"tags": ["python", "matplotlib", "graph"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1518649605, "post_id": 48797712, "comment_id": 84597984, "body": "The thetas should be in <i>radians</i> not <i>degrees</i>."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 3, "creation_date": 1518649651, "post_id": 48797712, "comment_id": 84598008, "body": "As far as I know the StackOverflow policy is that urgency of the asker is not really a factor, that is sometimes sad, but the idea is basically that problems of one person can help the next one."}, {"owner": {"reputation": 13, "user_id": 8925961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c8106fa4c45edd75e54cd6c15942ba4?s=128&d=identicon&r=PG&f=1", "display_name": "Curious", "link": "https://stackoverflow.com/users/8925961/curious"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1518649892, "post_id": 48797712, "comment_id": 84598104, "body": "I did not know that, @WillemVanOnsem , I am new to Stackoverflow, but thanks for the information!"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8925961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c8106fa4c45edd75e54cd6c15942ba4?s=128&d=identicon&r=PG&f=1", "display_name": "Curious", "link": "https://stackoverflow.com/users/8925961/curious"}, "edited": false, "score": 0, "creation_date": 1518693900, "post_id": 48798885, "comment_id": 84614812, "body": "That is what I was missing, thank you @ImportanceOfBeingErnest ! Since I agree that this probably is not a question that will be useful to others, should I delete it?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1518695044, "post_id": 48798885, "comment_id": 84615541, "body": "Whether or not a question is useful for others cannot be verified a priori. It can be falsified, if the question does not allow for the problem to be clear. Here the problem is clear and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is provided. Potentially someone wanting to plot the length of days with matplotlib in the future, might indeed find the question useful. The question is also not due to a typographical error, but rather the wrong units used in the maths. So this is definitely an edge case. Feel free to discuss this on meta if needed."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 0, "last_activity_date": 1518658605, "creation_date": 1518658605, "answer_id": 48798885, "question_id": 48797712, "link": "https://stackoverflow.com/questions/48797712/graph-not-looking-how-it-should-python/48798885#48798885", "title": "Graph not looking how it should Python", "body": "<p>It seems that unit of time in the equation is hours. So <code>ts</code> must be in units of hours:</p>\n\n<pre><code>ts = np.linspace(0, 365, 100)*24\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8925961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c8106fa4c45edd75e54cd6c15942ba4?s=128&d=identicon&r=PG&f=1", "display_name": "Curious", "link": "https://stackoverflow.com/users/8925961/curious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 48798885, "answer_count": 1, "score": 0, "last_activity_date": 1518658605, "creation_date": 1518649562, "last_edit_date": 1518651082, "question_id": 48797712, "link": "https://stackoverflow.com/questions/48797712/graph-not-looking-how-it-should-python", "title": "Graph not looking how it should Python", "body": "<p>So I am trying to reconstruct this graph of the day lenght depending on the day of the year:</p>\n\n<p><img src=\"https://i.stack.imgur.com/HEMXT.png\" alt=\"Graph of the day lenght depending on the day of the year\"></p>\n\n<p>The graph follows the formula</p>\n\n<p><img src=\"https://i.stack.imgur.com/i2f9h.png\" alt=\"Formula\"></p>\n\n<p>The function depends on day of the year t and little theta which is latitude. Other informations are given: big THETA is inclination of the earth's axis which is 23.4\u00b0, T_24 is lenght of the day which is 24 hours, T_365 lenght of the year which (in days) is 365*24. t0 is the first day of the spring and that is 79 days *24 hours.</p>\n\n<p>We define chi seperately</p>\n\n<p><img src=\"https://i.stack.imgur.com/MEFy7.png\" alt=\"chi\"></p>\n\n<p>because of this dependence</p>\n\n<p><img src=\"https://i.stack.imgur.com/DnwCh.png\" alt=\"because of this dependence\"></p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nfrom scipy import *\n\nTHETA=np.radians(23.4)\nT24=24\nT365=365*24\nt0=79*24\n\nts = np.linspace(0, 365, 100)\nthetas = np.linspace(-90, 90, 100)\nt, theta = np.meshgrid(ts, thetas)\n\nz=T24*(1-arccos(tan(np.radians(theta))*sin(THETA)*sin(2*pi*(t-t0)/T365)/sqrt(1-(sin(THETA))**2*(sin(2*pi*(t-t0)/T365))**2))/pi)\n\nCS = plt.contour(t, theta, z)\n</code></pre>\n\n<p>I still haven't included the distinction of chi because I encountered problems even earlier. So, the problem is that the graph is not looking how it should, I only get 7 horizontal lines.</p>\n"}, {"tags": ["python", "multithreading", "numpy"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1518649488, "post_id": 48797695, "comment_id": 84597944, "body": "You can use <code>top</code> on a Linux system, and look how much CPU it uses. If it is more than 100%, then it uses two or more cores."}, {"owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1518649651, "post_id": 48797695, "comment_id": 84598010, "body": "Try some computation intensive call, like huge SVD. Normally <code>numpy</code> will use many threads to compute."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 0, "creation_date": 1518660532, "post_id": 48797695, "comment_id": 84600869, "body": "@Alex As far as i know, ubuntu ships multithreaded/openmp-based BLAS for years now. Even more for anaconda&#39;s MKL. So for many users: multithreading is on by default."}, {"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 1, "creation_date": 1518664437, "post_id": 48797695, "comment_id": 84601715, "body": "@sascha interesting - thanks! Here&#39;s <a href=\"http://scipy.github.io/old-wiki/pages/ParallelProgramming\" rel=\"nofollow noreferrer\">a relevant link</a> to some old Scipy docs."}], "owner": {"reputation": 21, "user_id": 9362296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f03d0f987b86d4e2ddc3c199e8c8eaf9?s=128&d=identicon&r=PG&f=1", "display_name": "gesouth81", "link": "https://stackoverflow.com/users/9362296/gesouth81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518649442, "creation_date": 1518649442, "question_id": 48797695, "link": "https://stackoverflow.com/questions/48797695/how-can-i-tell-if-numpy-is-using-threads", "title": "How can I tell if numpy is using threads?", "body": "<p>I wan't to know if numpy is using threads over the available cores on my system. I know MATLAB does this under the hood. But is there any sure fire way I can find out if numpy is running threaded. My understanding is that it can, as Pythons GIL no longer applies. Is there anyway I can interrogate numpy either statically or at run-time to find whats going on?</p>\n"}, {"tags": ["python", "input", "while-loop", "exit", "break"], "comments": [{"owner": {"reputation": 844, "user_id": 1431067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a78d2b6cd5e548af1227ad6600830252?s=128&d=identicon&r=PG", "display_name": "unicorn2", "link": "https://stackoverflow.com/users/1431067/unicorn2"}, "edited": false, "score": 0, "creation_date": 1518651393, "post_id": 48797648, "comment_id": 84598571, "body": "What is the error that you are getting?"}, {"owner": {"reputation": 41, "user_id": 9362433, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211079024118846/picture?type=large", "display_name": "Sherry Lin", "link": "https://stackoverflow.com/users/9362433/sherry-lin"}, "reply_to_user": {"reputation": 844, "user_id": 1431067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a78d2b6cd5e548af1227ad6600830252?s=128&d=identicon&r=PG", "display_name": "unicorn2", "link": "https://stackoverflow.com/users/1431067/unicorn2"}, "edited": false, "score": 0, "creation_date": 1518651441, "post_id": 48797648, "comment_id": 84598586, "body": "Guess a number from 1 to 9: Exit     Traceback (most recent call last):       File &quot;C:/Users/Sherry/Desktop/1.py&quot;, line 7, in &lt;module&gt;         guess = int(input(&quot;Guess a number from 1 to 9: &quot;))     ValueError: invalid literal for int() with base 10: &#39;Exit&#39;     &gt;&gt;&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 9362433, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211079024118846/picture?type=large", "display_name": "Sherry Lin", "link": "https://stackoverflow.com/users/9362433/sherry-lin"}, "edited": false, "score": 0, "creation_date": 1518655785, "post_id": 48798118, "comment_id": 84599733, "body": "I tried that and it just causes the other lines to not work because the other lines require a number input"}], "tags": [], "owner": {"reputation": 844, "user_id": 1431067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a78d2b6cd5e548af1227ad6600830252?s=128&d=identicon&r=PG", "display_name": "unicorn2", "link": "https://stackoverflow.com/users/1431067/unicorn2"}, "is_accepted": false, "score": 2, "last_activity_date": 1518764234, "last_edit_date": 1518764234, "creation_date": 1518652407, "answer_id": 48798118, "question_id": 48797648, "link": "https://stackoverflow.com/questions/48797648/user-input-exit-to-break-while-loop/48798118#48798118", "title": "User input Exit to break while loop", "body": "<p>You are trying the parse the string 'Exit' to an integer. \nYou can add a try/except around the casting line and handle invalid input.</p>\n\n<pre><code>import random\n\nnum = random.randint(1,9)\ntries = 1\nguess = 0\n\nguess = input(\"Guess a number from 1 to 9: \")\n\ntry:\n  guess = int(guess) // try to cast the guess to a int\n  while guess != num:\n    if guess == num:\n        tries = tries + 1\n        break\n    elif guess &gt; num:\n        guess = int(input(\"Too high! Guess again: \"))\n        tries = tries + 1\n        continue\n    else:\n        guess = int(input(\"Too low! Guess again: \"))\n        tries = tries + 1\n        continue\n\n  print(\"Exactly right!\")\n  print(\"You guessed \" + str(tries) + \" times.\")    \n\nexcept ValueError: \n    if guess == str('Exit'):\n      print(\"Good bye\")\n    else:  \n      print(\"Invalid input\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8191, "user_id": 8881141, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C3ydX.jpg?s=128&g=1", "display_name": "Mr. T", "link": "https://stackoverflow.com/users/8881141/mr-t"}, "is_accepted": false, "score": 2, "last_activity_date": 1518707266, "creation_date": 1518707266, "answer_id": 48810344, "question_id": 48797648, "link": "https://stackoverflow.com/questions/48797648/user-input-exit-to-break-while-loop/48810344#48810344", "title": "User input Exit to break while loop", "body": "<p>The easiest solution is probably to create a function that gets the displayed message as an input and returns the user input after testing that it fulfils your criteria:</p>\n\n<pre><code>def guess_input(input_message):\n    flag = False\n    #endless loop until we are satisfied with the input\n    while True:\n        #asking for user input\n        guess = input(input_message)\n        #testing, if input was x or exit no matter if upper or lower case\n        if guess.lower() == \"x\" or guess.lower() == \"exit\":\n            #return string \"x\" as a sign that the user wants to quit\n            return \"x\"\n        #try to convert the input into a number\n        try:\n            guess = int(guess)\n            #it was a number, but not between 1 and 9\n            if guess &gt; 9 or guess &lt; 1:\n                #flag showing an illegal input\n                flag = True\n            else:\n                #yes input as expected a number, break out of while loop\n                break\n        except:\n            #input is not an integer number\n            flag = True\n\n        #not the input, we would like to see\n        if flag:\n            #give feedback\n            print(\"Sorry, I didn't get that.\")\n            #and change the message displayed during the input routine\n            input_message = \"I can only accept numbers from 1 to 9 (or X for eXit): \"\n            continue\n    #give back the guessed number\n    return guess\n</code></pre>\n\n<p>You can call this from within your main program like</p>\n\n<pre><code>#the first guess\nguess = guess_input(\"Guess a number from 1 to 9: \")\n</code></pre>\n\n<p>or  </p>\n\n<pre><code>#giving feedback from previous input and asking for the next guess\nguess = guess_input(\"Too high! Guess again (or X to eXit): \")\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9362433, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211079024118846/picture?type=large", "display_name": "Sherry Lin", "link": "https://stackoverflow.com/users/9362433/sherry-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5577, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1518764234, "creation_date": 1518649155, "last_edit_date": 1518657979, "question_id": 48797648, "link": "https://stackoverflow.com/questions/48797648/user-input-exit-to-break-while-loop", "title": "User input Exit to break while loop", "body": "<p>I'm doing an assignment for the computer to generate a random number and have the user input their guess. The problem is I'm supposed to give the user an option to input 'Exit' and it will break the While loop. What am I doing wrong? I'm running it and it says there's something wrong with the line guess = int(input(\"Guess a number from 1 to 9: \"))</p>\n\n<pre><code>import random\n\nnum = random.randint(1,10)\ntries = 1\nguess = 0\n\nguess = int(input(\"Guess a number from 1 to 9: \"))\n\nwhile guess != num:\n    if guess == num:\n        tries = tries + 1\n        break\n    elif guess == str('Exit'):\n        break\n    elif guess &gt; num:\n        guess = int(input(\"Too high! Guess again: \"))\n        tries = tries + 1\n        continue\n    else:\n        guess = int(input(\"Too low! Guess again: \"))\n        tries = tries + 1\n        continue\n\nprint(\"Exactly right!\")\nprint(\"You guessed \" + str(tries) + \" times.\")\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-3.x", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "is_accepted": true, "score": 3, "last_activity_date": 1518649216, "creation_date": 1518649216, "answer_id": 48797658, "question_id": 48797606, "link": "https://stackoverflow.com/questions/48797606/setting-numpy-array-values-to-nan-based-on-condition/48797658#48797658", "title": "Setting numpy array values to NaN based on condition", "body": "<p><code>np.nan</code> is a float so you need to convert <code>array</code> to float before doing the <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/user/basics.indexing.html#boolean-or-mask-index-arrays\" rel=\"nofollow noreferrer\">boolean masking</a>.</p>\n\n<pre><code>isinstance(np.nan, float)  # True\n\narray = array.astype(float)\narray[array &lt; 0] = np.nan\narray\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>array([[nan,  1., nan,  1.],\n       [ 1., nan, nan,  1.],\n       [ 1., nan, nan, nan]])\n</code></pre>\n"}], "owner": {"reputation": 388, "user_id": 9170199, "user_type": "registered", "profile_image": "https://graph.facebook.com/1179686118828793/picture?type=large", "display_name": "Max Collier", "link": "https://stackoverflow.com/users/9170199/max-collier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2740, "favorite_count": 0, "accepted_answer_id": 48797658, "answer_count": 1, "score": 2, "last_activity_date": 1571266767, "creation_date": 1518648971, "last_edit_date": 1571266767, "question_id": 48797606, "link": "https://stackoverflow.com/questions/48797606/setting-numpy-array-values-to-nan-based-on-condition", "title": "Setting numpy array values to NaN based on condition", "body": "<p>I'm working with a dataset where non existent values show up as a negative number. I want to convert these values to np.nan values but I can't figure out how. The condition for this is <code>(array &lt; 0)</code>.</p>\n\n<p>An example of what would happen to the array would be:</p>\n\n<pre><code>import numpy as np\n\narray = np.array([[-1,  1, -1,  1],\n                  [ 1, -1, -1,  1],\n                  [ 1, -1, -1, -1]])\n</code></pre>\n\n<p>To then be converted to:</p>\n\n<pre><code>np.array([[np.nan,      1, np.nan,      1],\n          [     1, np.nan, np.nan,      1],\n          [     1, np.nan, np.nan, np.nan]])\n</code></pre>\n\n<p>Cheers</p>\n"}, {"tags": ["python", "seaborn"], "comments": [{"owner": {"reputation": 601, "user_id": 1515825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b695109839caf7225d859a3a70a41e3d?s=128&d=identicon&r=PG", "display_name": "Borian", "link": "https://stackoverflow.com/users/1515825/borian"}, "edited": false, "score": 1, "creation_date": 1518652938, "post_id": 48797583, "comment_id": 84598966, "body": "it may be helpful to post some initial code you already tried."}], "owner": {"reputation": 31, "user_id": 9362391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nLqKM.jpg?s=128&g=1", "display_name": "josefrangl", "link": "https://stackoverflow.com/users/9362391/josefrangl"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 2, "closed_date": 1518658329, "answer_count": 0, "score": 3, "last_activity_date": 1518659729, "creation_date": 1518648870, "last_edit_date": 1518654313, "question_id": 48797583, "link": "https://stackoverflow.com/questions/48797583/how-to-indicate-p-value-in-seaborn-density-plot", "closed_reason": "Duplicate", "title": "How to indicate p-value in Seaborn density plot?", "body": "<p><a href=\"https://i.stack.imgur.com/u83fT.jpg\" rel=\"nofollow noreferrer\">Density Plot from ggplot in r with p-value indicator</a></p>\n\n<p>I want to make a report with a density plot with a line indicating the p value (or any other arbitrary value), something similar to the image shown above.</p>\n\n<p>However I haven't been able to find a way to do this in Python/Seaborn.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "list", "string-formatting", "enumerate"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1518649061, "post_id": 48797580, "comment_id": 84597780, "body": "Out of interest, <i>why</i> can&#39;t you use any libraries? (Not that they are required.)"}, {"owner": {"reputation": 53, "user_id": 9248483, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/35d1c25eaadd9dd259cd5c2986945bc1?s=128&d=identicon&r=PG&f=1", "display_name": "user9248483", "link": "https://stackoverflow.com/users/9248483/user9248483"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1518649340, "post_id": 48797580, "comment_id": 84597884, "body": "yeah not allowed"}], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 3, "last_activity_date": 1518649127, "creation_date": 1518649127, "answer_id": 48797645, "question_id": 48797580, "link": "https://stackoverflow.com/questions/48797580/how-to-add-line-numbers-in-a-list/48797645#48797645", "title": "How to add line numbers in a list?", "body": "<p>Note the following:</p>\n\n<ul>\n<li><code>enumerate</code> is an in-built counter, you don't need to increment it yourself.</li>\n<li>Your indentation was incorrect, so <code>print</code> was not being applied within the loop.</li>\n<li><code>enumerate</code> has an optional <code>start</code> parameter, so you can start from 1 instead of 0.</li>\n</ul>\n\n<p>This is one solution.</p>\n\n<pre><code>list1 = ['John', 'Maria',',','and','Danny', 'are','#','1','surfers','.']\n\nfor count, a in enumerate(list1, 1):\n    print(\"{0}. {1}\".format(count, a))\n\n# 1. John\n# 2. Maria\n# 3. ,\n# 4. and\n# 5. Danny\n# 6. are\n# 7. #\n# 8. 1\n# 9. surfers\n# 10. .\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 384, "user_id": 9357409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0d1f8733f1a16dd8fc703f2ddcbff83?s=128&d=identicon&r=PG&f=1", "display_name": "Reece Stevens", "link": "https://stackoverflow.com/users/9357409/reece-stevens"}, "is_accepted": false, "score": 1, "last_activity_date": 1518649168, "creation_date": 1518649168, "answer_id": 48797649, "question_id": 48797580, "link": "https://stackoverflow.com/questions/48797580/how-to-add-line-numbers-in-a-list/48797649#48797649", "title": "How to add line numbers in a list?", "body": "<p><code>enumerate</code> will produce a tuple, where the first value is the index in the loop. It starts counting at zero, so you will need to increase count by 1 if you want to start the list at one.</p>\n\n<pre><code>list1 = ['John', 'Maria',',','and','Danny', 'are','#','1','surfers','.']\n\nfor count, a in enumerate(list1):\n    print(\"{}. {}\".format(count+1, a))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8886, "user_id": 866930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4d18c82ab14aa57718bb3343876d53?s=128&d=identicon&r=PG", "display_name": "jrd1", "link": "https://stackoverflow.com/users/866930/jrd1"}, "is_accepted": false, "score": 1, "last_activity_date": 1518649187, "creation_date": 1518649187, "answer_id": 48797655, "question_id": 48797580, "link": "https://stackoverflow.com/questions/48797580/how-to-add-line-numbers-in-a-list/48797655#48797655", "title": "How to add line numbers in a list?", "body": "<p>You almost have it. Try this:</p>\n\n<pre><code>for index, a in enumerate(list1):\n    print('%-1d. %s' % (index + 1, a)\n</code></pre>\n\n<p>This prints:</p>\n\n<blockquote>\n  <ol>\n  <li>John</li>\n  <li>Maria</li>\n  <li>,</li>\n  <li>and</li>\n  <li>Danny</li>\n  <li>are</li>\n  <li>#</li>\n  <li>1</li>\n  <li>surfers</li>\n  <li>.</li>\n  </ol>\n</blockquote>\n\n<p>As desired. <strong>Note the <code>+1</code> since the indices returned by enumerate are zero-indexed!</strong></p>\n"}, {"tags": [], "owner": {"reputation": 1028, "user_id": 5025510, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Qjl75.jpg?s=128&g=1", "display_name": "Indominus", "link": "https://stackoverflow.com/users/5025510/indominus"}, "is_accepted": false, "score": 1, "last_activity_date": 1518650728, "creation_date": 1518650728, "answer_id": 48797879, "question_id": 48797580, "link": "https://stackoverflow.com/questions/48797580/how-to-add-line-numbers-in-a-list/48797879#48797879", "title": "How to add line numbers in a list?", "body": "<p>Use <code>zip</code> to put two lists together for <em>list comprehension</em></p>\n\n<pre><code>list1 = ['John', 'Maria',',','and','Danny', 'are','#','1','surfers','.']\nn = len(list1)\nnumbered_list_str = '\\n'.join([str(i) + '. ' + x for i, x in zip(range(1, n+1), list1)])\nprint(numbered_list_str)\n</code></pre>\n\n<blockquote>\n  <ol>\n  <li>John</li>\n  <li>Maria</li>\n  <li>,</li>\n  <li>and</li>\n  <li>Danny</li>\n  <li>are</li>\n  <li>#</li>\n  <li>1</li>\n  <li>surfers</li>\n  <li>.</li>\n  </ol>\n</blockquote>\n"}], "owner": {"reputation": 53, "user_id": 9248483, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/35d1c25eaadd9dd259cd5c2986945bc1?s=128&d=identicon&r=PG&f=1", "display_name": "user9248483", "link": "https://stackoverflow.com/users/9248483/user9248483"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 48797645, "answer_count": 4, "score": 0, "last_activity_date": 1520381982, "creation_date": 1518648859, "last_edit_date": 1520381982, "question_id": 48797580, "link": "https://stackoverflow.com/questions/48797580/how-to-add-line-numbers-in-a-list", "title": "How to add line numbers in a list?", "body": "<p>I have a list and I want to add count numbers.</p>\n\n<pre><code>list1 = ['John', 'Maria',',','and','Danny', 'are','#','1','surfers','.']\n</code></pre>\n\n<p>I want my output to look like.</p>\n\n<blockquote>\n  <ol>\n  <li>John</li>\n  <li>Maria</li>\n  <li>,</li>\n  <li>and</li>\n  <li>Danny</li>\n  <li>are</li>\n  <li>#</li>\n  <li>1</li>\n  <li>surfers</li>\n  <li>.</li>\n  </ol>\n</blockquote>\n\n<p>My code looks like this. I cannot use any libraries.</p>\n\n<pre><code>count = 1\nfor count,a in enumerate(list1):\n     count += 1\nprint(\"{0}{1}\".format(count, a)) \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518649334, "post_id": 48797564, "comment_id": 84597880, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518649640, "post_id": 48797564, "comment_id": 84598002, "body": "It sounds like your problem is independent of the GUI.  If so, then get that code out of your posting (this is part of the MCVE process).  You&#39;re not clear about the correspondence between your variable names and the noun phrases you use; without a self-consistent example, it&#39;s hard to figure out what you&#39;re trying to do, since your words keep changing focus."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518649720, "post_id": 48797564, "comment_id": 84598035, "body": "As a kick-start, I think that part of your problem is likely that you haven&#39;t learned to identify one choice appearing in a group.  Perhaps something like <code>if single_answer in correct_answers</code> will help you clarify the remaining problem?"}], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 8210915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f39490ab6f93c43edcba9cba5ade15?s=128&d=identicon&r=PG&f=1", "display_name": "Originalang", "link": "https://stackoverflow.com/users/8210915/originalang"}, "is_accepted": false, "score": 0, "last_activity_date": 1518650642, "creation_date": 1518650642, "answer_id": 48797860, "question_id": 48797564, "link": "https://stackoverflow.com/questions/48797564/how-do-i-check-if-i-have-the-same-variable-inside-two-arrays-python-tkinter/48797860#48797860", "title": "how do I check if I have the same variable inside two arrays, python, tkinter", "body": "<p>If I understand your question correctly, and all you want to do is check whether the answer exists in the other array, you could use a for loop with an if statement:</p>\n\n<pre><code>for ans in answers:\n    if ans in correctanswers:\n        wins += 1\n    else:\n        loses += 1\n</code></pre>\n\n<p>If both arrays are of the same length, and the index in 'answer' corresponds with the index in 'correctanswer', you can use range():</p>\n\n<pre><code>for i in range(len(answers)):\n    if answers[i] == correctanswers[i]:\n        wins += 1\n    else:\n        loses += 1\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7082877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f638A.jpg?s=128&g=1", "display_name": "thetriplelanguageuser", "link": "https://stackoverflow.com/users/7082877/thetriplelanguageuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518652887, "creation_date": 1518648766, "last_edit_date": 1518652887, "question_id": 48797564, "link": "https://stackoverflow.com/questions/48797564/how-do-i-check-if-i-have-the-same-variable-inside-two-arrays-python-tkinter", "title": "how do I check if I have the same variable inside two arrays, python, tkinter", "body": "<p>I am trying to make a 20 questions game and I'm having trouble getting it to check if I have a certain variable inside of two different arrays. </p>\n\n<p>Example:</p>\n\n<pre><code>wins = 0\n\nloses = 0\ndef updateQandA(*args):\nglobal wins, loses, answers, correctanswers\nif correctanswers != answers:\n    loses += 1\n    if correctanswers == answers:\n        wins += 1\nanswers = [Answers4, Answers8, Answers12\n</code></pre>\n\n<p>These variable do exist in my code:</p>\n\n<pre><code>correctanswers = [A2, A5,A10, A15, A20, A24, A25]\nanswers1 = OptionMenu(root, var, *Answers4, command = updateQandA).grid()\n</code></pre>\n\n<p>There are two arrays with a menu button and 4 options. One of the options in this option menu is A2. What is happening is that no matter what I pick, it just adds one to <code>loses</code>. The goal is to get it to where it recognizes that there is a correct answer in one of the 4 options and when I choose the correct answer, it adds one to <code>wins</code>. </p>\n"}, {"tags": ["python", "pandas", "oop"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 5, "creation_date": 1518648788, "post_id": 48797553, "comment_id": 84597669, "body": "<code>copy = self</code> is not a copy."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518648882, "post_id": 48797553, "comment_id": 84597714, "body": "What is <code>f&quot;A + {0}&quot;</code>?  A typo?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1518648981, "post_id": 48797553, "comment_id": 84597753, "body": "...hey, yeah, <code>f&quot;A + {0}&quot;.format(other)</code> doesn&#39;t make sense. That does string formatting with an f-string, and then calls <code>format</code> on the result. That should actually fail, because there&#39;s no formatting placeholder left for <code>format</code> after f-string processing."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1518649154, "post_id": 48797553, "comment_id": 84597813, "body": "Apparently the <code>format</code> argument gets ignored. I could have sworn that only happened for keyword arguments."}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1518651067, "post_id": 48797553, "comment_id": 84598472, "body": "I updated my question to fix the typo - this example was working but the typo only existed in my reproduction code above. Since this was still happening in the original code, I ended up fixing it by doing <code>new = copy(self)</code> and <code>new.data = copy(self.data)</code>. Sub-optimal but functional"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1518652618, "post_id": 48797553, "comment_id": 84598866, "body": "@rgk: If this code has a different bug from your real bug, post a new question with a revised example that exhibits the same bug as your real code."}], "answers": [{"comments": [{"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1518649011, "post_id": 48797577, "comment_id": 84597762, "body": "Thanks for the response - I just tried <code>copy = deepcopy(self)</code> and <code>one</code> is still being modified."}], "tags": [], "owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "is_accepted": false, "score": -2, "last_activity_date": 1518648848, "creation_date": 1518648848, "answer_id": 48797577, "question_id": 48797553, "link": "https://stackoverflow.com/questions/48797553/changes-to-copies-of-object-mutate-original-object/48797577#48797577", "title": "Changes to copies of object mutate original object", "body": "<p>Did you <code>deepcopy</code>?</p>\n\n<pre><code>from copy import deepcopy\ndupe=deepcopy(thing)\n#now thing and dupe are two separate objects\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1518649654, "post_id": 48797675, "comment_id": 84598011, "body": "I&#39;m not sure whether this question qualifies for a typo close, particularly whether the problem was actually a typo and whether it fits &quot;unlikely to help future readers&quot;, but I felt the f-string/format interaction warranted an answer."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1518649338, "creation_date": 1518649338, "answer_id": 48797675, "question_id": 48797553, "link": "https://stackoverflow.com/questions/48797553/changes-to-copies-of-object-mutate-original-object/48797675#48797675", "title": "Changes to copies of object mutate original object", "body": "<p>Surprisingly, while <code>copy = self</code> isn't a copy, your bug doesn't actually have anything to do with that. I don't think you even need a copy there.</p>\n\n<p>Your bug is due to double-formatting a string:</p>\n\n<pre><code>f\"A + {0}\".format(other)\n</code></pre>\n\n<p><code>f\"A + {0}\"</code> is an f-string. Unlike <code>format</code>, it evaluates the text <code>0</code> as a Python expression and substitutes the string representation of the resulting object into the resulting string, producing <code>\"A + 0\"</code>. Calling <code>format</code> on that doesn't do anything, since there's no format placeholder left. You end up calling</p>\n\n<pre><code>copy.data.eval(\"A + 0\")\n</code></pre>\n\n<p>instead of adding what you wanted to add.</p>\n"}], "owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1518650165, "creation_date": 1518648704, "last_edit_date": 1518650165, "question_id": 48797553, "link": "https://stackoverflow.com/questions/48797553/changes-to-copies-of-object-mutate-original-object", "title": "Changes to copies of object mutate original object", "body": "<p>I have a class within which there is a DataFrame type property. I want to be able to perform arithmetic on the objects using the built-ins while keeping the original objects immutable. Unfortunately, the operations seem to be mutating the original objects as well. Here's an example:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\nclass Container:\n\n    def __init__(self):\n        self.data = pd.DataFrame()\n\n    def generate(self):\n        self.data = pd.DataFrame(np.random.randint(0,100,size=(100, 1)), columns=['A'])\n        return self\n\n    def __add__(self, other):\n        copy = self\n        new = Container()\n        new.data['A'] = copy.data.eval(f\"A + {0}\".format(other))\n\n        return new\n\n\none = Container().generate()\ntwo = one + 1\n\nprint(one.data == two.data)\n</code></pre>\n\n<p>I think the problem is the <code>copy = self</code> line, but I can't seem to preserve the original object even using the copy() method. </p>\n\n<p>How do I make sure the original object doesn't change when a new one is created from it?</p>\n"}, {"tags": ["python", "api", "encoding", "gmail", "quoted-printable"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 1722084, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/595b591fc2146e42ba8315b58a08931f?s=128&d=identicon&r=PG", "display_name": "DaSarfyCode", "link": "https://stackoverflow.com/users/1722084/dasarfycode"}, "edited": false, "score": 0, "creation_date": 1555079783, "post_id": 51506422, "comment_id": 97996785, "body": "I spent a whole day trying to solve this. Thanks a lot! This should be covered by Google in their documentation."}], "tags": [], "owner": {"reputation": 95, "user_id": 10129894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f758b4be6e5320413df36aec774a249?s=128&d=identicon&r=PG&f=1", "display_name": "Tuppitappi", "link": "https://stackoverflow.com/users/10129894/tuppitappi"}, "is_accepted": false, "score": 4, "last_activity_date": 1532461424, "creation_date": 1532461424, "answer_id": 51506422, "question_id": 48797523, "link": "https://stackoverflow.com/questions/48797523/gmail-api-python-encode-decode-error/51506422#51506422", "title": "Gmail api python encode/decode error", "body": "<p>After hours of struggling with the same problem myself, I finally found the solution (at least for my case). Even through the thread is old, I'm posting it here so that others may find it later. Here it goes:</p>\n\n<pre><code># Get your message\nmessage = service.users().messages().get(userId=user_id, id=msg_id, format='full').execute()\n\n# Get the right body data item (this part was my Heureka-moment as there are several 'data' keys)\ncontent = message['payload']['parts'][0]['parts'][1]['body']['data']\n\n# Encode\nmsg_body = base64.urlsafe_b64decode(content).decode('utf-8')\n</code></pre>\n\n<p>This sequence got the de/encoding working for me. There are as many different solution suggestions out there as there are threads about the decoding/encoding issues with base64 and Google Gmail API but it seems that each case is unique. Hope this solution also helps you!</p>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 7492483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gzsvz.png?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/7492483/patrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1583691591, "creation_date": 1583691591, "answer_id": 60590622, "question_id": 48797523, "link": "https://stackoverflow.com/questions/48797523/gmail-api-python-encode-decode-error/60590622#60590622", "title": "Gmail api python encode/decode error", "body": "<p>Thanks Tuppitappi. The Gmail API doc for Python could be a bit clearer. The above solutions works for me too. I could retrieve the content the following way:</p>\n\n<pre><code> msgs = message['payload']['parts']\n msg = msgs[1]['body']['data']\n</code></pre>\n\n<p>The MessagePart may consist of different parts:</p>\n\n<pre><code>\"parts\": [\n      {\n        \"partId\": \"0\",\n        \"mimeType\": \"text/plain\",\n        \"filename\": \"\",\n        \"headers\": [\n          { \"name\": \"Content-type\", \"value\": \"text/plain;charset=utf-8\" },\n          { \"name\": \"Content-Transfer-Encoding\", \"value\": \"quoted-printable\" }\n        ],\n        \"body\": {\n          \"size\": 1887,\n          \"data\": \"ascii string to be decoded\"\n        }\n      },\n      {\n        \"partId\": \"1\",\n        \"mimeType\": \"text/html\",\n        \"filename\": \"\",\n        \"headers\": [\n          { \"name\": \"Content-type\", \"value\": \"text/html;charset=utf-8\" },\n          { \"name\": \"Content-Transfer-Encoding\", \"value\": \"quoted-printable\" }\n        ],\n        \"body\": {\n          \"size\": 66970,\n          \"data\": \"longer ascii string to be decoded\"\n        }\n      }\n    ]\n</code></pre>\n\n<p>Extract from the <a href=\"https://developers.google.com/gmail/api/v1/reference/users/messages\" rel=\"nofollow noreferrer\">Doc</a> for the full payload:</p>\n\n<pre><code>Resource representations An email message.\n\n{   \"id\": string,   \"threadId\": string,   \"labelIds\": [\n    string   ],   \"snippet\": string,   \"historyId\": unsigned long,   \"internalDate\": long,   \"payload\": {\n    \"partId\": string,\n    \"mimeType\": string,\n    \"filename\": string,\n    \"headers\": [\n      {\n        \"name\": string,\n        \"value\": string\n      }\n    ],\n    \"body\": users.messages.attachments Resource,\n    \"parts\": [\n      (MessagePart)\n    ]   },   \"sizeEstimate\": integer,   \"raw\": bytes }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4685235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6f7e0da081778b9839215e25693b7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Bar6", "link": "https://stackoverflow.com/users/4685235/bar6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1037, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1583691591, "creation_date": 1518648559, "question_id": 48797523, "link": "https://stackoverflow.com/questions/48797523/gmail-api-python-encode-decode-error", "title": "Gmail api python encode/decode error", "body": "<p>I have a problem. I am trying to read emails from gmail using the gmail api. I followed the instructions from here <a href=\"https://developers.google.com/gmail/api/v1/reference/users/messages/get\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/api/v1/reference/users/messages/get</a></p>\n\n<p>I made a few changes to run it on python 3, so I ended up with the following code:</p>\n\n<pre><code>def GetMimeMessage(service, user_id, msg_id):\ntry:\n  message = service.users().messages().get(userId=user_id, id=msg_id,\n                                         format='raw').execute()\n\n  print ('Message snippet: %s' % message['snippet'])\n  msg_str = base64.urlsafe_b64decode(message['raw'].encode('utf8'))\n  mime_msg = email.message_from_bytes(msg_str)\n  print(mime_msg)\n\n  return mime_msg\nexcept errors.HttpError as error:\n  print ('An error occurred: %s' % error)\n</code></pre>\n\n<p>Now the output is very close to what I would love to have, but there is a problem that the Hungarian accented characters in the output are weird:\n<code>G=C3=A1bor</code> instead of <code>G\u00e1bor</code></p>\n\n<p>And also the html tags are kind broken:</p>\n\n<pre><code>Follow us:          =09=09=09=09=09=09=09=09=09&lt;a href=3D\"http=\n</code></pre>\n\n<p>I have already figured out that this is related to fact how the message is encoded, see header of the email:</p>\n\n<pre><code>Content-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: quoted-printable\n</code></pre>\n\n<p>The problem is, that I can't seem to find a way to decode it properly. Ever help is appreciated.</p>\n"}, {"tags": ["python", "python-c-api"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1518648837, "post_id": 48797498, "comment_id": 84597691, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2220699/whats-the-difference-between-eval-exec-and-compile-in-python\">What&#39;s the difference between eval, exec, and compile in Python?</a>"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1518649060, "post_id": 48797498, "comment_id": 84597779, "body": "tl;dr: the console only shows non-<code>None</code> results. <code>exec</code> always returns <code>None</code>. <code>eval</code>ing <code>exec</code> is still <code>None</code>."}], "answers": [{"tags": [], "owner": {"reputation": 17753, "user_id": 1342082, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1ef12d2cf78f28d7a1e76c8fc60978c8?s=128&d=identicon&r=PG", "display_name": "Kevin Ushey", "link": "https://stackoverflow.com/users/1342082/kevin-ushey"}, "is_accepted": false, "score": 0, "last_activity_date": 1518650142, "creation_date": 1518650142, "answer_id": 48797796, "question_id": 48797498, "link": "https://stackoverflow.com/questions/48797498/enable-auto-printing-of-evaluated-statements-in-python/48797796#48797796", "title": "Enable auto-printing of evaluated statements in Python?", "body": "<p>This is discussed in some detail at <a href=\"https://stackoverflow.com/a/29456463/1342082\">https://stackoverflow.com/a/29456463/1342082</a>. In particular:</p>\n\n<blockquote>\n  <p>'single' is a limited form of 'exec' which accepts a source code containing a single statement (or multiple statements separated by ;) if the last statement is an expression statement, the resulting bytecode also prints the repr of the value of that expression to the standard output(!).</p>\n</blockquote>\n\n<p>So a pattern of this form will work:</p>\n\n<pre><code>&gt;&gt;&gt; code = compile('x = 1; x', '&lt;string&gt;', 'single')\n&gt;&gt;&gt; eval(code)\n1\n&gt;&gt;&gt; |\n</code></pre>\n\n<p>And also see the documentation described at <a href=\"https://docs.python.org/3/library/functions.html#eval\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/functions.html#eval</a>.</p>\n"}], "owner": {"reputation": 17753, "user_id": 1342082, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1ef12d2cf78f28d7a1e76c8fc60978c8?s=128&d=identicon&r=PG", "display_name": "Kevin Ushey", "link": "https://stackoverflow.com/users/1342082/kevin-ushey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1518650142, "creation_date": 1518648444, "question_id": 48797498, "link": "https://stackoverflow.com/questions/48797498/enable-auto-printing-of-evaluated-statements-in-python", "title": "Enable auto-printing of evaluated statements in Python?", "body": "<p>When running a Python REPL, top-level statements sent to the console get auto-printed. For example, with:</p>\n\n<pre><code>&gt;&gt;&gt; x = 1\n&gt;&gt;&gt; x\n1\n&gt;&gt;&gt; |\n</code></pre>\n\n<p>The second line evaluating <code>x</code> caused the value to be 'auto-printed' However, we don't get the same behavior when <code>x</code> is evaluated in other contexts -- for example, if we use <code>exec</code>:</p>\n\n<pre><code>&gt;&gt;&gt; exec('x')\n&gt;&gt;&gt; |\n</code></pre>\n\n<p>Similarly, with <code>eval()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; code = compile('x = 1; x', '&lt;string&gt;', 'exec')\n&gt;&gt;&gt; eval(code)\n&gt;&gt;&gt; |\n</code></pre>\n\n<p>Is there a way to ask Python to auto-print statements run in this way, as it does at the top level of the REPL?</p>\n\n<p>While this question describes Python code directly, I'd also love to know whether it's possible to accomplish this using the Python C API (e.g. with <code>PyRun_SimpleStringFlags()</code>).</p>\n"}, {"tags": ["python", "pygame", "macos-sierra"], "comments": [{"owner": {"reputation": 3907, "user_id": 8306666, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2f20237f2695cc2f6951fb562493cd7f?s=128&d=identicon&r=PG&f=1", "display_name": "Nazim Kerimbekov", "link": "https://stackoverflow.com/users/8306666/nazim-kerimbekov"}, "edited": false, "score": 0, "creation_date": 1518648883, "post_id": 48797491, "comment_id": 84597717, "body": "by &quot;Ideally, I would want rid of 3.6.3 and have 3.6.4&quot; are you talking about delete python 3.6.3 and keeping 3.6.4 or deleting pygame from python 3.6.3 and keeping it on 3.6.4?"}, {"owner": {"reputation": 31, "user_id": 9291394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5cDT.jpg?s=128&g=1", "display_name": "Bruce Pouncey", "link": "https://stackoverflow.com/users/9291394/bruce-pouncey"}, "reply_to_user": {"reputation": 3907, "user_id": 8306666, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2f20237f2695cc2f6951fb562493cd7f?s=128&d=identicon&r=PG&f=1", "display_name": "Nazim Kerimbekov", "link": "https://stackoverflow.com/users/8306666/nazim-kerimbekov"}, "edited": false, "score": 0, "creation_date": 1518651850, "post_id": 48797491, "comment_id": 84598680, "body": "Deleting 3.6.3 and keeping 3.6.4 with pygame, but fixing the Warning Tcl/Tk error that i have on 3.6.4."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1518654188, "post_id": 48797491, "comment_id": 84599306, "body": "you need to use conda to install pygame in your anaconda environment. <code>conda install pygame</code>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9291394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5cDT.jpg?s=128&g=1", "display_name": "Bruce Pouncey", "link": "https://stackoverflow.com/users/9291394/bruce-pouncey"}, "edited": false, "score": 0, "creation_date": 1518651930, "post_id": 48797671, "comment_id": 84598696, "body": "Thank you looks great i will look into this."}, {"owner": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "edited": false, "score": 0, "creation_date": 1518654259, "post_id": 48797671, "comment_id": 84599325, "body": "Yes, conda is an option as well. I personally just find pyenv to be easier to install and more lightweight (if all you really care about is python versions and virtual environments)."}], "tags": [], "owner": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "is_accepted": false, "score": 0, "last_activity_date": 1518649282, "creation_date": 1518649282, "answer_id": 48797671, "question_id": 48797491, "link": "https://stackoverflow.com/questions/48797491/it-seems-i-have-2-versions-os-python-3-installed-ideally-i-would-want-to-use-3/48797671#48797671", "title": "It seems I have 2 versions os python 3 installed. Ideally I Would want to use 3.6.4 for pygame but I have Tcl/Tk error(how do i fix this?)", "body": "<p>I would highly suggest setting up <a href=\"https://github.com/pyenv/pyenv\" rel=\"nofollow noreferrer\">pyenv</a> to manage your python versions and virtual environments.</p>\n"}], "owner": {"reputation": 31, "user_id": 9291394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5cDT.jpg?s=128&g=1", "display_name": "Bruce Pouncey", "link": "https://stackoverflow.com/users/9291394/bruce-pouncey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518653985, "creation_date": 1518648415, "last_edit_date": 1518653985, "question_id": 48797491, "link": "https://stackoverflow.com/questions/48797491/it-seems-i-have-2-versions-os-python-3-installed-ideally-i-would-want-to-use-3", "title": "It seems I have 2 versions os python 3 installed. Ideally I Would want to use 3.6.4 for pygame but I have Tcl/Tk error(how do i fix this?)", "body": "<p>I want to use 3.6.4 for writing my code but it has Tcl/Tk may be unstable. Note the 3.6.3 I call from my terminal and the 3.6.4 id downloaded from python.org.</p>\n\n<p>Ideally, I would want rid of 3.6.3 and have 3.6.4 but without the \"Tcl/Tk may be unstable error\"</p>\n\n<p>I'm using Mac Osx Sierra.</p>\n\n<p>Here is what I am referring to:\n<a href=\"https://i.stack.imgur.com/lvmUm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lvmUm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1518648169, "post_id": 48797409, "comment_id": 84597441, "body": "When the <code>.*</code> in <code>.*,</code> matches anything, it matches <i>anything</i>, not &quot;anything except commas&quot;. <code>*</code> is greedy by default."}], "answers": [{"tags": [], "owner": {"reputation": 384, "user_id": 9357409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0d1f8733f1a16dd8fc703f2ddcbff83?s=128&d=identicon&r=PG&f=1", "display_name": "Reece Stevens", "link": "https://stackoverflow.com/users/9357409/reece-stevens"}, "is_accepted": true, "score": 2, "last_activity_date": 1518648338, "creation_date": 1518648338, "answer_id": 48797473, "question_id": 48797409, "link": "https://stackoverflow.com/questions/48797409/the-difference-between-and-in-regular-expression-using-python/48797473#48797473", "title": "The difference between ( [^,]*) and (.*,) in regular expression? Using python", "body": "<p>In the first instance:</p>\n\n<pre><code>dict_form = re.compile(r'(&amp;[a-zA-Z]*:)(.*),')\n</code></pre>\n\n<p>the <code>(.*)</code> operator is <em>greedy</em>. This means it will match everything up to the last comma, which is why you see the match extend up to <code>&amp;c:14</code>.</p>\n\n<p>In the second instance, by excluding the comma, you are forcing the match to be bound by a comma-- it's like saying \"match everything until we hit a comma\". This will cause the matching behavior you were expecting in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 761, "user_id": 1132603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e119a6578046f5bd108773919d8f2904?s=128&d=identicon&r=PG", "display_name": "Totoro", "link": "https://stackoverflow.com/users/1132603/totoro"}, "is_accepted": false, "score": 1, "last_activity_date": 1518648972, "creation_date": 1518648972, "answer_id": 48797607, "question_id": 48797409, "link": "https://stackoverflow.com/questions/48797409/the-difference-between-and-in-regular-expression-using-python/48797607#48797607", "title": "The difference between ( [^,]*) and (.*,) in regular expression? Using python", "body": "<p>as have been said the <code>.*</code> will be greedy and try to match as much as possible, to make it non-greedy use the question mark (<code>?</code>) as in <code>.*?</code>.  In your code:</p>\n\n<pre><code>dict_form = re.compile(r'(&amp;[a-zA-Z]*:)(.*?),')\nresult = dict_form.findall(s)\nprint(result) \n</code></pre>\n\n<p>Another maybe easier solution is to just use string splits instead of regex:</p>\n\n<pre><code>result = [_s.split(':') for _s in s.split(',')]\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 8143506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a0a01c209ea3b4ebb19c30ae634482f?s=128&d=identicon&r=PG&f=1", "display_name": "tmsmJ", "link": "https://stackoverflow.com/users/8143506/tmsmj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1138, "favorite_count": 1, "accepted_answer_id": 48797473, "answer_count": 2, "score": 1, "last_activity_date": 1518648972, "creation_date": 1518647989, "question_id": 48797409, "link": "https://stackoverflow.com/questions/48797409/the-difference-between-and-in-regular-expression-using-python", "title": "The difference between ( [^,]*) and (.*,) in regular expression? Using python", "body": "<p>When I tried to transform the string into a dict-like form, I met this problem</p>\n\n<pre><code>s = '&amp;a: 12, &amp;b:13, &amp;c:14, &amp;d: 15' # the string I want to convert\n</code></pre>\n\n<p>Before converting it, I tried to find all the matched results at first so I used </p>\n\n<pre><code>dict_form = re.compile(r'(&amp;[a-zA-Z]*:)(.*),')\nresult = dict_form.findall(s)\nprint(result) # [('&amp;a:', ' 12, &amp;b:13, &amp;c:14')]\n</code></pre>\n\n<p>It's quite unexpected, and a little bit messy</p>\n\n<p>But when I tried another way to match the string:</p>\n\n<pre><code>dict_form1 = re.compile(r'(&amp;[a-zA-Z]*:)([^,]*)')\nresult = dict_form1.findall(s)\nprint(result) # [('&amp;a:', ' 12'), ('&amp;b:', '13'), ('&amp;c:', '14'), ('&amp;d:', ' 15')]\n</code></pre>\n\n<p>This time, I get a better one with key and item separately stored in a tuple.</p>\n\n<p>The only difference I made was (.<em>), into [^,]</em></p>\n\n<p>The first one I thought was to find anything until it matches a comma\nThe second one I thought was to find anything but comma</p>\n\n<p>What's the difference?</p>\n"}, {"tags": ["python", "function", "arguments"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1518647793, "post_id": 48797352, "comment_id": 84597281, "body": "This is code directly from CodeAcademy?"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1518647805, "post_id": 48797352, "comment_id": 84597285, "body": "Yeah that is a bit confusing. It&#39;s probably just a typo. The code probably <i>was</i> suppose to read: <code>for row in board_in</code>."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1518647957, "post_id": 48797352, "comment_id": 84597345, "body": "@ChristianDean kinda a bad stage of someone&#39;s coding journey for such a typo to exist, especially with Python being a huge starting language. I wonder if it can be reported."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1518647987, "post_id": 48797352, "comment_id": 84597355, "body": "It is indeed not used. This is bad code. It instead uses the global name <code>board</code>."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1518648036, "post_id": 48797352, "comment_id": 84597383, "body": "Yeah, that does suck being a beginner @roganjosh. If this came <i>straight</i> from Codecademy, I might see if I can let them know."}, {"owner": {"reputation": 3, "user_id": 9362374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fffe27ef6a2edb07bd773244d1f5711a?s=128&d=identicon&r=PG&f=1", "display_name": "W Toe", "link": "https://stackoverflow.com/users/9362374/w-toe"}, "edited": false, "score": 0, "creation_date": 1518651564, "post_id": 48797352, "comment_id": 84598612, "body": "Yes this is from Codecademy."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9362374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fffe27ef6a2edb07bd773244d1f5711a?s=128&d=identicon&r=PG&f=1", "display_name": "W Toe", "link": "https://stackoverflow.com/users/9362374/w-toe"}, "edited": false, "score": 0, "creation_date": 1518649910, "post_id": 48797444, "comment_id": 84598115, "body": "Great thank you and for the fast response. I thought it was redundant too but I&#39;m still a noob so wasn&#39;t sure :)"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 2, "last_activity_date": 1518648746, "last_edit_date": 1518648746, "creation_date": 1518648190, "answer_id": 48797444, "question_id": 48797352, "link": "https://stackoverflow.com/questions/48797352/python-loop-functions-arguments/48797444#48797444", "title": "Python loop functions arguments", "body": "<p>The <code>board_in</code> paramater is completely unused. You have found bad code, that <em>perhaps</em> meant to use that parameter, but someone made an error and forgot to use it.</p>\n\n<p>The function body instead uses the global name <code>board</code> (the same name that is also passed in as an argument to the function call). This is why the code happens to work, but it <em>won't</em> work as intended when you pass in something completely different:</p>\n\n<pre><code>&gt;&gt;&gt; print_board(None)\n['O', 'O', 'O', 'O', 'O']\n['O', 'O', 'O', 'O', 'O']\n['O', 'O', 'O', 'O', 'O']\n['O', 'O', 'O', 'O', 'O']\n['O', 'O', 'O', 'O', 'O']\n&gt;&gt;&gt; print_board(\"This argument is ignored, so it doesn't matter what you pass in\")\n['O', 'O', 'O', 'O', 'O']\n['O', 'O', 'O', 'O', 'O']\n['O', 'O', 'O', 'O', 'O']\n['O', 'O', 'O', 'O', 'O']\n['O', 'O', 'O', 'O', 'O']\n&gt;&gt;&gt; board = [['A new value', 'for the board global'], ['means the output', 'changes']]\n&gt;&gt;&gt; print_board(2 + 2)\n['A new value', 'for the board global']\n['means the output', 'changes']\n</code></pre>\n\n<p>It'll continue to print the <code>board</code> list when you pass in something completely different, like <code>print_board(None)</code>. And it will fail with a <code>NameError</code> when you use <code>del board</code> before calling the function (and passing in something else):</p>\n\n<pre><code>&gt;&gt;&gt; del board  # remove the global altogether\n&gt;&gt;&gt; print_board({'foo', 'bar', 'baz'})\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;stdin&gt;\", line 2, in print_board\nNameError: global name 'board' is not defined\n</code></pre>\n\n<p>I suspect that the <em>intended</em> implementation was:</p>\n\n<pre><code>def print_board(board_in):\n    for row in board_in:\n        print row\n</code></pre>\n\n<p>Now <code>board_in</code> is actually being used.</p>\n"}], "owner": {"reputation": 3, "user_id": 9362374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fffe27ef6a2edb07bd773244d1f5711a?s=128&d=identicon&r=PG&f=1", "display_name": "W Toe", "link": "https://stackoverflow.com/users/9362374/w-toe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 48797444, "answer_count": 1, "score": 0, "last_activity_date": 1518652726, "creation_date": 1518647742, "last_edit_date": 1518652726, "question_id": 48797352, "link": "https://stackoverflow.com/questions/48797352/python-loop-functions-arguments", "title": "Python loop functions arguments", "body": "<p>I'm new and just started learning Python from codeacademy. In the function below, I can't understand why the print_board function uses the argument board_in but board_in is not referred anywhere at all?</p>\n\n<pre><code>board = []\n\nfor i in range(5):\n  board.append([\"O\"] * 5)\n\ndef print_board(board_in):\n  for row in board:\n    print row\n\nprint_board(board)\n</code></pre>\n"}, {"tags": ["python", "selenium-webdriver", "chrome-web-driver"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1518647612, "post_id": 48797295, "comment_id": 84597208, "body": "Does the form field have javascript that limits the input to alphanumeric characters only?"}, {"owner": {"reputation": 61, "user_id": 7829755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/981f3bab0483d8cf3e819cbc6c6fd05a?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7829755/charles"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1518647957, "post_id": 48797295, "comment_id": 84597343, "body": "No, it does not. It is possible to write &quot;charles~18&quot; manually through the browser interface."}, {"owner": {"reputation": 1013, "user_id": 4014685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xwFkp.png?s=128&g=1", "display_name": "havanagrawal", "link": "https://stackoverflow.com/users/4014685/havanagrawal"}, "edited": false, "score": 0, "creation_date": 1518649183, "post_id": 48797295, "comment_id": 84597827, "body": "Did you try using u&#39;charles~18&#39; , i.e. explicitly specify the unicode-ness of the string?"}, {"owner": {"reputation": 61, "user_id": 7829755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/981f3bab0483d8cf3e819cbc6c6fd05a?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7829755/charles"}, "edited": false, "score": 0, "creation_date": 1518649783, "post_id": 48797295, "comment_id": 84598058, "body": "I&#39;ve just tried using u&#39;charles~18&#39; and it still not working.. :/"}, {"owner": {"reputation": 862, "user_id": 9192223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/petG2.jpg?s=128&g=1", "display_name": "hiren", "link": "https://stackoverflow.com/users/9192223/hiren"}, "edited": false, "score": 1, "creation_date": 1518670041, "post_id": 48797295, "comment_id": 84602913, "body": "Try this: <code>browser.find_element_by_id(&quot;username&quot;).send_keys(&#39;charles{~}&zwnj;&#8203;18&#39;) </code>"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1518673566, "post_id": 48797295, "comment_id": 84603932, "body": "Can you share the relevant HTML please?"}], "answers": [{"comments": [{"owner": {"reputation": 882, "user_id": 1250626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33ec7575aa5505018faa44c0ffafa360?s=128&d=identicon&r=PG", "display_name": "Sielu", "link": "https://stackoverflow.com/users/1250626/sielu"}, "edited": false, "score": 0, "creation_date": 1606299205, "post_id": 55816558, "comment_id": 114920244, "body": "I know that this question is about Phyton, but I had exactly the same issue on .NET Core. Sending unicode did not help, so I had to use javascript on the browser directly (as @hiren sudgested in other comment). For anyone interested:  public static void JsSetValue(IWebDriver driver, IWebElement element, string text)         {             var jse = (IJavaScriptExecutor)driver;             jse.ExecuteScript(&quot;arguments[0].value=arguments[1];&quot;, element, text);         }"}], "tags": [], "owner": {"reputation": 99, "user_id": 2405711, "user_type": "registered", "profile_image": "https://graph.facebook.com/569581031/picture?type=large", "display_name": "Mithun Mandal", "link": "https://stackoverflow.com/users/2405711/mithun-mandal"}, "is_accepted": false, "score": 1, "last_activity_date": 1556040625, "creation_date": 1556040625, "answer_id": 55816558, "question_id": 48797295, "link": "https://stackoverflow.com/questions/48797295/python-selenium-is-not-sending-tilde-character-to-the-input-field/55816558#55816558", "title": "Python/ Selenium is not sending tilde character (~) to the input field", "body": "<p>As per documentation you can call multiple time <strong>send_keys</strong> method.</p>\n\n<p>Try this.\n1. split url by ~\n2. send every fragmentation one by one.\n3. only for ~ just send its unicode '\\ue07E'</p>\n\n<p>However this is not specify anywhere. but 7E is unicode for ~\nspecial key mapping for selenium is <a href=\"https://seleniumhq.github.io/selenium/docs/api/py/webdriver/selenium.webdriver.common.keys.html\" rel=\"nofollow noreferrer\">here</a>. Hope this help. </p>\n\n<p>Java doc for selenium key is <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/Keys.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 61, "user_id": 7829755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/981f3bab0483d8cf3e819cbc6c6fd05a?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7829755/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1556040625, "creation_date": 1518647368, "question_id": 48797295, "link": "https://stackoverflow.com/questions/48797295/python-selenium-is-not-sending-tilde-character-to-the-input-field", "title": "Python/ Selenium is not sending tilde character (~) to the input field", "body": "<p>I'm trying to use Python/ Selenium/ Webdriver to automatically fill an input field in my Chrome webpage. However, I am not able to use \"send_keys\" to fill out the tilde character.</p>\n\n<p>Here is what I've tried so far:</p>\n\n<pre><code>import os\nimport sys\nfrom selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.support.ui import Select\n\nbrowser = webdriver.Chrome(executable_path=r\"chromedriver.exe\")\n\nbrowser.get(\"https://mywebpageaddress\")\n\nbrowser.find_element_by_id(\"username\").send_keys('charles~18')\n</code></pre>\n\n<p>But the \"~\" tilde is not appearing on the field.</p>\n\n<p>It is filled just as \"charles18\" instead of \"charles~18\"</p>\n\n<p>Any help? Thanks!</p>\n"}, {"tags": ["python", "function", "variables"], "comments": [{"owner": {"reputation": 209, "user_id": 9340910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a82d0ac2c17959c7b1d4b92818b0291?s=128&d=identicon&r=PG&f=1", "display_name": "JDSchenck", "link": "https://stackoverflow.com/users/9340910/jdschenck"}, "edited": false, "score": 0, "creation_date": 1518647530, "post_id": 48797293, "comment_id": 84597174, "body": "why did you stop going? you had a good start there.."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1518647574, "post_id": 48797293, "comment_id": 84597192, "body": "I would avoid global variables if possible. But just keep going till you break something, then come post the issue if needed"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1518647771, "post_id": 48797293, "comment_id": 84597270, "body": "<a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">&quot;Can Someone Help Me?&quot; is not a valid SO question</a>.  This usually suggests that what you need is half an hour with a local tutor or walk through a tutorial, rather than Stack Overflow."}, {"owner": {"reputation": 859, "user_id": 8513103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d298d3271438be46aaff29495445a827?s=128&d=identicon&r=PG&f=1", "display_name": "sKwa", "link": "https://stackoverflow.com/users/8513103/skwa"}, "edited": false, "score": 0, "creation_date": 1518647775, "post_id": 48797293, "comment_id": 84597272, "body": "also you can avoid division if units are [<code>kg</code>, <code>cm</code>, <code>year</code>], because <code>x &#47; 1 = x</code>, so function looks: <code>10.0*m + 6.25*h - 5.0*a + s</code>"}], "answers": [{"comments": [{"owner": {"reputation": 859, "user_id": 8513103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d298d3271438be46aaff29495445a827?s=128&d=identicon&r=PG&f=1", "display_name": "sKwa", "link": "https://stackoverflow.com/users/8513103/skwa"}, "edited": false, "score": 1, "creation_date": 1518648722, "post_id": 48797425, "comment_id": 84597639, "body": "i would recommend to do <code>sex = 5 if sex.lower() == &#39;male&#39; else -161</code>"}, {"owner": {"reputation": 125, "user_id": 8849349, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ef474b352336d2b7db9f6577b4dd69cf?s=128&d=identicon&r=PG&f=1", "display_name": "Yungpythonnoob", "link": "https://stackoverflow.com/users/8849349/yungpythonnoob"}, "edited": false, "score": 0, "creation_date": 1518712625, "post_id": 48797425, "comment_id": 84627679, "body": "could you put that line sex = 5 if sex==&quot;male&quot; else -161 into an else/if format? I do not understand how that single line works."}, {"owner": {"reputation": 125, "user_id": 8849349, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ef474b352336d2b7db9f6577b4dd69cf?s=128&d=identicon&r=PG&f=1", "display_name": "Yungpythonnoob", "link": "https://stackoverflow.com/users/8849349/yungpythonnoob"}, "edited": false, "score": 0, "creation_date": 1518722546, "post_id": 48797425, "comment_id": 84633255, "body": "@nikitaZakharov"}, {"owner": {"reputation": 61, "user_id": 9076324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b5f1a0a81b7faed229d457e2d284a5?s=128&d=identicon&r=PG&f=1", "display_name": "NikitaZakharov", "link": "https://stackoverflow.com/users/9076324/nikitazakharov"}, "edited": false, "score": 0, "creation_date": 1518727916, "post_id": 48797425, "comment_id": 84635946, "body": "Check my answer"}], "tags": [], "owner": {"reputation": 61, "user_id": 9076324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b5f1a0a81b7faed229d457e2d284a5?s=128&d=identicon&r=PG&f=1", "display_name": "NikitaZakharov", "link": "https://stackoverflow.com/users/9076324/nikitazakharov"}, "is_accepted": true, "score": 2, "last_activity_date": 1518728087, "last_edit_date": 1518728087, "creation_date": 1518648103, "answer_id": 48797425, "question_id": 48797293, "link": "https://stackoverflow.com/questions/48797293/using-multiple-functions-to-mimic-a-formula/48797425#48797425", "title": "Using multiple functions to mimic a formula?", "body": "<p>First of all you have defined function <code>st_jeor</code> that takes necessary arguments to use this formula. It's ok. <br>\nYou don't have to use <code>global</code> in this case. <br>\nYou don't have to convert arguments if you pass them using correct units.</p>\n\n<p>You just write formula using given arguments.</p>\n\n<pre><code>def st_jeor(mass, height, age, sex):\n    # it's better to use ternary operator in this case\n    sex = 5 if sex == 'male' else -161\n    # just put given parameters and calculate result\n    p = 10 * mass + 6.25 * height - 5.0 * age + sex\n    return p\n</code></pre>\n\n<p>Ternary operator</p>\n\n<pre><code>sex = 5 if sex == 'male' else -161\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>if sex == 'male':\n    sex = 5\nelse:\n    sex = -161\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 8849349, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ef474b352336d2b7db9f6577b4dd69cf?s=128&d=identicon&r=PG&f=1", "display_name": "Yungpythonnoob", "link": "https://stackoverflow.com/users/8849349/yungpythonnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "closed_date": 1518652940, "accepted_answer_id": 48797425, "answer_count": 1, "score": -3, "last_activity_date": 1518728087, "creation_date": 1518647351, "question_id": 48797293, "link": "https://stackoverflow.com/questions/48797293/using-multiple-functions-to-mimic-a-formula", "closed_reason": "Needs more focus", "title": "Using multiple functions to mimic a formula?", "body": "<p>I am attempting to write a filenamed bmr.py with a function named st_jeor which, if given (mass, height, age, sex), returns Mifflin St Jeor estimate of the basal metabolic rate, an estimate of the Calories consumed to keep the body alive. Assume mass is given in kilograms, height in centimeters, age in years, and sex is either \"male\" or \"female\".</p>\n\n<p>S is +5 if sex is \"male\" and \u2212161 if it is \"female\"; m, h, and a represent mass, height, and age respectively.<a href=\"https://i.stack.imgur.com/gTAGC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gTAGC.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is what I started with:</p>\n\n<pre><code>def st_jeor(mass, height, age, sex):\n    global mass\n    global height\n    global age\n    mass = (10.00*mass/1\n    height =\n    age =\n\n    def sex(s):\n        if sex == 'male':\n            return 5\n        else:\n            return -161\n</code></pre>\n\n<p>Anyone have suggestions on what route I should be taking? Think I am confusing myself.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1518647532, "post_id": 48797290, "comment_id": 84597175, "body": "Show us what you&#39;ve tried"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518647876, "post_id": 48797290, "comment_id": 84597309, "body": "Show the desired result, the code you&#39;ve written, and the problem you get from that code."}, {"owner": {"reputation": 321, "user_id": 8717507, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-ypOvYN8TpUo/AAAAAAAAAAI/AAAAAAAAABw/ejXMZv6nabA/photo.jpg?sz=128", "display_name": "Martin Bouhier", "link": "https://stackoverflow.com/users/8717507/martin-bouhier"}, "reply_to_user": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1518647880, "post_id": 48797290, "comment_id": 84597310, "body": "the code is so long. I said before that I tried with <code>&#39;{}&#39;.format(url[1]), &#39;{}&#39;.format(url[2]), &#39;{}&#39;.format(url[3]), &#39;{}&#39;.format(url[4]), &#39;{}&#39;.format(url[5]), &#39;{}&#39;.format(url[6]), &#39;{}&#39;.format(url[7])</code> in seven diferentes <code>data</code> but the script is so long in this way @donkopotamus"}, {"owner": {"reputation": 321, "user_id": 8717507, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-ypOvYN8TpUo/AAAAAAAAAAI/AAAAAAAAABw/ejXMZv6nabA/photo.jpg?sz=128", "display_name": "Martin Bouhier", "link": "https://stackoverflow.com/users/8717507/martin-bouhier"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518648311, "post_id": 48797290, "comment_id": 84597499, "body": "I just edited @Prune"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518648738, "post_id": 48797290, "comment_id": 84597644, "body": "Why do you need seven dictionaries with independent names?  A list of dictionaries would make this trivial."}, {"owner": {"reputation": 321, "user_id": 8717507, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-ypOvYN8TpUo/AAAAAAAAAAI/AAAAAAAAABw/ejXMZv6nabA/photo.jpg?sz=128", "display_name": "Martin Bouhier", "link": "https://stackoverflow.com/users/8717507/martin-bouhier"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518648927, "post_id": 48797290, "comment_id": 84597732, "body": "I edited again. please check it @Prune"}, {"owner": {"reputation": 321, "user_id": 8717507, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-ypOvYN8TpUo/AAAAAAAAAAI/AAAAAAAAABw/ejXMZv6nabA/photo.jpg?sz=128", "display_name": "Martin Bouhier", "link": "https://stackoverflow.com/users/8717507/martin-bouhier"}, "reply_to_user": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1518648939, "post_id": 48797290, "comment_id": 84597734, "body": "I edited again. please check it @donkopotamus"}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1518649093, "creation_date": 1518649093, "answer_id": 48797636, "question_id": 48797290, "link": "https://stackoverflow.com/questions/48797290/integrate-values-from-a-list-into-diccionary/48797636#48797636", "title": "integrate values from a list into diccionary", "body": "<p>The problem is your <code>for</code> syntax.  What do you mean by <code>url[0,1,2,3,4,5,6,7]</code>?  You've given a sequence of seven values as if they're a subscript.  Perhaps you mean simply</p>\n\n<pre><code>for item in url:\n</code></pre>\n\n<p>This will walk <code>item</code> through each of the values in <code>url</code>, in turn.</p>\n"}], "owner": {"reputation": 321, "user_id": 8717507, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-ypOvYN8TpUo/AAAAAAAAAAI/AAAAAAAAABw/ejXMZv6nabA/photo.jpg?sz=128", "display_name": "Martin Bouhier", "link": "https://stackoverflow.com/users/8717507/martin-bouhier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1518649093, "creation_date": 1518647313, "last_edit_date": 1518648908, "question_id": 48797290, "link": "https://stackoverflow.com/questions/48797290/integrate-values-from-a-list-into-diccionary", "title": "integrate values from a list into diccionary", "body": "<p>I'm looking to do something similar to this: for each url item except item 0:</p>\n\n<pre><code>url = ['a.com', 1, 2, 3, 4, 5, 6, 7]\nfor item in url[0,1,2,3,4,5,6,7]:\n    data ={\n        \"adSize\": {\"id\":'{}'.format(item) }\n        }\n</code></pre>\n\n<p>but in this way I have an error: <code>TypeError: list indices must be integers, not tuple</code></p>\n"}, {"tags": ["python", "amazon-ec2", "ssh", "paramiko"], "comments": [{"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1518650636, "post_id": 48797272, "comment_id": 84598343, "body": "you sure you&#39;re using the correct algo to encrypt the key? also another viable solution is to use the <code>ssm</code> client from <code>boto3</code>"}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1518676911, "post_id": 48797272, "comment_id": 84605184, "body": "Show us <a href=\"https://stackoverflow.com/q/27587716/850848\">paramiko log file</a> + Are you running your Python code on the same machine, where you <i>&quot;use the key to SSH directly from my laptop with no issues&quot;</i>? + Show us <code>ssh -v</code> of that too."}, {"owner": {"reputation": 135, "user_id": 8185159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ad175e155465a1bf29f1c5471f92d1?s=128&d=identicon&r=PG&f=1", "display_name": "kavise", "link": "https://stackoverflow.com/users/8185159/kavise"}, "edited": false, "score": 0, "creation_date": 1518720058, "post_id": 48797272, "comment_id": 84631991, "body": "thanks for feedback: Yes same laptop but I connected using Putty (had to convert key for Putty, but using original for Python) I added log output. I am on a Windows 10 laptop. I am using the private key that we created and use to launch our ec2 linux instances. The keys that Amazon EC2 uses are 2048-bit SSH-2 RSA keys."}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1518763625, "post_id": 48797272, "comment_id": 84646182, "body": "So use <code>plink</code> from PuTTY package instead of <code>ssh</code>: <code>plink -v sessionname</code>"}], "owner": {"reputation": 135, "user_id": 8185159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ad175e155465a1bf29f1c5471f92d1?s=128&d=identicon&r=PG&f=1", "display_name": "kavise", "link": "https://stackoverflow.com/users/8185159/kavise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1362, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1518719794, "creation_date": 1518647234, "last_edit_date": 1518719794, "question_id": 48797272, "link": "https://stackoverflow.com/questions/48797272/python-paramiko-ssh-to-aws-ec2-key-authentication-fails", "title": "Python paramiko SSH to AWS EC2 key authentication fails", "body": "<p>I\u2019m getting the following error when trying to use paramiko to ssh to an instance in EC2. The pem file is not corrupted. I did use the key to SSH directly from my laptop with no issues. I also tried including the parameter passphrase = None, but still got the same error. I\u2019m pretty new to Python and I\u2019ve never used paramiko before so I\u2019m not sure what else I can do to troubleshoot. Can anyone offer any suggestions? Thanks much for any help. </p>\n\n<pre><code>import boto3\nimport paramiko\n\ncert = paramiko.RSAKey.from_private_key_file(\"C:\\\\data\\\\aws-key.pem\")\nc = paramiko.SSHClient()\n\nc.set_missing_host_key_policy(paramiko.AutoAddPolicy())\nprint \"connecting...\"\nc.connect( hostname = \"10.28.73.174\", username = \"ec2-user\", pkey = cert,)\nprint \"connected!!!\"\nstdin, stdout, stderr = ssh.exec_command('ls')\nprint stdout.readlines()\nc.close()\n\nconnecting...\nTraceback (most recent call last):\nFile \"k_ssh_to_ec2_instance.py\", line 35, in &lt;module&gt;\nc.connect( hostname = \"10.28.73.174\", username = \"ec2-user\", pkey = cert,)\nFile \"C:\\Python27\\lib\\site-packages\\paramiko\\client.py\", line 424, in \nconnect passphrase,\nFile \"C:\\Python27\\lib\\site-packages\\paramiko\\client.py\", line 714, in _auth \nraise saved_exception\nparamiko.ssh_exception.AuthenticationException: Authentication failed.\n\nfrom log\nDEB [20180215-09:46:11.342] thr=1   paramiko.transport: starting thread \n(client mode): 0x37e9e50L\nDEB [20180215-09:46:11.345] thr=1   paramiko.transport: Local \nversion/idstring: SSH-2.0-paramiko_2.4.0\nDEB [20180215-09:46:11.480] thr=1   paramiko.transport: Remote \nversion/idstring: SSH-2.0-OpenSSH_6.6.1\nINF [20180215-09:46:11.480] thr=1   paramiko.transport: Connected (version \n2.0, client OpenSSH_6.6.1)\nDEB [20180215-09:46:11.622] thr=1   paramiko.transport: kex algos:\n[u'curve25519-sha256@libssh.org', u'ecdh-...\nDEB [20180215-09:46:11.628] thr=1   paramiko.transport: Kex agreed: ecdh-\nsha2-nistp256\nDEB [20180215-09:46:11.628] thr=1   paramiko.transport: HostKey agreed: ssh-\ned25519\nDEB [20180215-09:46:11.628] thr=1   paramiko.transport: Cipher agreed: \naes128-ctr\nDEB [20180215-09:46:11.628] thr=1   paramiko.transport: MAC agreed: hmac-\nsha2-256\nDEB [20180215-09:46:11.630] thr=1   paramiko.transport: Compression agreed: \nnone\nDEB [20180215-09:46:11.780] thr=1   paramiko.transport: kex engine \nKexNistp256 specified hash_algo &lt;built-in function openssl_sha256&gt;\nDEB [20180215-09:46:11.782] thr=1   paramiko.transport: Switch to new keys \n...\nDEB [20180215-09:46:11.809] thr=2   paramiko.transport: Adding ssh-ed25519 \nhost key for 10.28.73.174: 49a9f7afbe7ccfa4f437524af27515e2\nDEB [20180215-09:46:11.809] thr=2   paramiko.transport: Trying SSH key \n59e06bbe38bb69d943d0d301fcbf3e39\nDEB [20180215-09:46:11.997] thr=1   paramiko.transport: userauth is OK\nINF [20180215-09:46:12.158] thr=1   paramiko.transport: Authentication \n(publickey) failed.\nDEB [20180215-09:46:12.259] thr=1   paramiko.transport: EOF in transport \nthread\n</code></pre>\n"}, {"tags": ["python", "pandas", "pandas-groupby"], "owner": {"reputation": 831, "user_id": 862907, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b7c68989f3a0b631567c252f86d9fc67?s=128&d=identicon&r=PG", "display_name": "nidkil", "link": "https://stackoverflow.com/users/862907/nidkil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1518652369, "creation_date": 1518646875, "last_edit_date": 1518652369, "question_id": 48797190, "link": "https://stackoverflow.com/questions/48797190/populate-column-based-on-previous-row-with-a-twist", "title": "Populate column based on previous row with a twist", "body": "<p>I'm struggling with a Pandas problem. I have the following data.</p>\n\n<pre><code>+--------+------+---------+---------+-------------+-------------+--------------+------------+-------------+------------+----------+\n| symbol | side | status  | origQty | executedQty |     qty     | availableQty |   price    | boughtValue | soldValue  | dcaLevel |\n+--------+------+---------+---------+-------------+-------------+--------------+------------+-------------+------------+----------+\n| DGDBTC | BUY  | FILLED  |   0.125 |  0.12500000 |  0.12500000 |   0.12500000 | 0.02000700 |  0.00250088 |            |          |\n| DGDBTC | BUY  | FILLED  |   0.125 |  0.12500000 |  0.12500000 |   0.25000000 | 0.01960100 |  0.00245013 |            |          |\n| DGDBTC | SELL | FILLED  |    0.25 |  0.25000000 | -0.25000000 |   0.00000000 | 0.02005900 |             | 0.00501475 |          |\n| DGDBTC | BUY  | FILLED  |   0.113 |  0.11300000 |  0.11300000 |   0.11300000 | 0.02203000 |  0.00248939 |            |          |\n| DGDBTC | BUY  | FILLED  |   0.113 |  0.11300000 |  0.11300000 |   0.22600000 | 0.02160300 |  0.00244114 |            |          |\n| DGDBTC | BUY  | EXPIRED |   0.226 |  0.00000000 |  0.00000000 |              | 0.02125500 |             |            |          |\n| DGDBTC | BUY  | PARTIAL |   0.226 |  0.15800000 |  0.15800000 |   0.38400000 | 0.02126100 |             |            |          |\n| DGDBTC | SELL | EXPIRED |   0.384 |  0.00000000 |  0.00000000 |              | 0.02196600 |             |            |          |\n| DGDBTC | SELL | EXPIRED |   0.384 |  0.00000000 |  0.00000000 |              | 0.02214300 |             |            |          |\n| DGDBTC | SELL | EXPIRED |   0.384 |  0.00000000 |  0.00000000 |              | 0.02189900 |             |            |          |\n| DGDBTC | BUY  | FILLED  |   0.384 |  0.38400000 |  0.38400000 |   0.76800000 | 0.02082900 |  0.00799834 |            |          |\n| DGDBTC | BUY  | FILLED  |   0.768 |  0.76800000 |  0.76800000 |   1.53600000 | 0.01984300 |  0.01523942 |            |          |\n| DGDBTC | SELL | EXPIRED |   1.536 |  0.00000000 |  0.00000000 |              | 0.02074400 |             |            |          |\n| DGDBTC | SELL | EXPIRED |   1.536 |  0.00000000 |  0.00000000 |              | 0.02094100 |             |            |          |\n| DGDBTC | SELL | EXPIRED |   1.536 |  0.00000000 |  0.00000000 |              | 0.02076800 |             |            |          |\n| DGDBTC | SELL | PARTIAL |   1.536 |  0.30300000 | -0.30300000 |   1.23300000 | 0.02065000 |             |            |          |\n| DGDBTC | SELL | FILLED  |   1.233 |  1.23300000 | -1.23300000 |   0.00000000 | 0.02070000 |             | 0.02552310 |          |\n+--------+------+---------+---------+-------------+-------------+--------------+------------+-------------+------------+----------+\n</code></pre>\n\n<p>This a subset of the data group by symbol. For each symbol I want to populate the last column with a value that complies with the following rules:</p>\n\n<ol>\n<li>Each buy order (side=BUY) in a series has the value zero (0). </li>\n<li>For each consecutive buy order the value is increased by\none (1).</li>\n<li>When a sell order (side=SELL) is reached it marks a new buy order serie. </li>\n<li>Rows with status EXPIRED are skipped.</li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>+--------+------+---------+---------+-------------+-------------+--------------+------------+-------------+------------+----------+\n| symbol | side | status  | origQty | executedQty |     qty     | availableQty |   price    | boughtValue | soldValue  | dcaLevel |\n+--------+------+---------+---------+-------------+-------------+--------------+------------+-------------+------------+----------+\n| DGDBTC | BUY  | FILLED  |   0.125 |  0.12500000 |  0.12500000 |   0.12500000 | 0.02000700 |  0.00250088 |            |        0 |\n| DGDBTC | BUY  | FILLED  |   0.125 |  0.12500000 |  0.12500000 |   0.25000000 | 0.01960100 |  0.00245013 |            |        1 |\n| DGDBTC | SELL | FILLED  |    0.25 |  0.25000000 | -0.25000000 |   0.00000000 | 0.02005900 |             | 0.00501475 |          |\n| DGDBTC | BUY  | FILLED  |   0.113 |  0.11300000 |  0.11300000 |   0.11300000 | 0.02203000 |  0.00248939 |            |        0 |\n| DGDBTC | BUY  | FILLED  |   0.113 |  0.11300000 |  0.11300000 |   0.22600000 | 0.02160300 |  0.00244114 |            |        1 |\n| DGDBTC | BUY  | EXPIRED |   0.226 |  0.00000000 |  0.00000000 |              | 0.02125500 |             |            |          |\n| DGDBTC | BUY  | PARTIAL |   0.226 |  0.15800000 |  0.15800000 |   0.38400000 | 0.02126100 |             |            |        2 |\n| DGDBTC | SELL | EXPIRED |   0.384 |  0.00000000 |  0.00000000 |              | 0.02196600 |             |            |          |\n| DGDBTC | SELL | EXPIRED |   0.384 |  0.00000000 |  0.00000000 |              | 0.02214300 |             |            |          |\n| DGDBTC | SELL | EXPIRED |   0.384 |  0.00000000 |  0.00000000 |              | 0.02189900 |             |            |          |\n| DGDBTC | BUY  | FILLED  |   0.384 |  0.38400000 |  0.38400000 |   0.76800000 | 0.02082900 |  0.00799834 |            |        3 |\n| DGDBTC | BUY  | FILLED  |   0.768 |  0.76800000 |  0.76800000 |   1.53600000 | 0.01984300 |  0.01523942 |            |        4 |\n| DGDBTC | SELL | EXPIRED |   1.536 |  0.00000000 |  0.00000000 |              | 0.02074400 |             |            |          |\n| DGDBTC | SELL | EXPIRED |   1.536 |  0.00000000 |  0.00000000 |              | 0.02094100 |             |            |          |\n| DGDBTC | SELL | EXPIRED |   1.536 |  0.00000000 |  0.00000000 |              | 0.02076800 |             |            |          |\n| DGDBTC | SELL | PARTIAL |   1.536 |  0.30300000 | -0.30300000 |   1.23300000 | 0.02065000 |             |            |          |\n| DGDBTC | SELL | FILLED  |   1.233 |  1.23300000 | -1.23300000 |   0.00000000 | 0.02070000 |             | 0.02552310 |          |\n+--------+------+---------+---------+-------------+-------------+--------------+------------+-------------+------------+----------+\n</code></pre>\n\n<p>I have tried the following two ways.</p>\n\n<pre><code>merged_df['dcaLevel'] = merged_df[(merged_df['side'] == 'BUY') &amp; (merged_df['status'].isin(['FILLED', 'PARTIAL']))].groupby(['symbol'])['dcaLevel'].apply(lambda x: x.shift(1) + 1)\n</code></pre>\n\n<p>This way throws an error.</p>\n\n<pre><code>merged_df['dcaLevel'] = merged_df[(merged_df['side'] == 'BUY') &amp; (merged_df['status'].isin(['FILLED', 'PARTIAL']))].groupby(['symbol'])['dcaLevel'].apply(lambda x: 0 if x.shift(1) else x.shift(1) + 1)\n</code></pre>\n\n<p>I tried the following alternative approach.</p>\n\n<pre><code>symbol_df = merged_df.loc[merged_df['symbol'] == 'DGDBTC']\ntmp_df = symbol_df[(symbol_df['side'] == 'BUY') &amp; (symbol_df['status'].isin(['FILLED', 'PARTIAL']))]\ntmp_df['dcaLevel'] = np.where(tmp_df['availableQty'] &lt; tmp_df['availableQty'].shift(1), 0, tmp_df['dcaLevel'].shift(1) + 1)\n</code></pre>\n\n<p>It works on some rows and not on others and the first buy order in a serie remains NaN.</p>\n\n<p>I have coded the following which does work, but I'm sure there is an easier way to do this with Pandas.</p>\n\n<pre><code>merged_df['dcaLevel'] = np.NaN\ngrouped = merged_df[merged_df['status'].isin(['FILLED', 'PARTIAL'])].groupby(['symbol'])\ncol_idx = merged_df.columns.get_loc('dcaLevel')\nfor name, group in grouped:\n    first = True\n    for index, row in group.iterrows():\n        if row['side'] == 'SELL':\n            first = True\n            dca_level = np.NaN\n        else:\n            if first:\n                first = False\n                dca_level = 0\n            else:\n                dca_level = dca_level + 1\n            merged_df.iloc[index, col_idx] = dca_level\nmerged_df[merged_df['symbol'] == 'DGDBTC']\n</code></pre>\n\n<p>I hope someone can help solve this problem.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1518647776, "post_id": 48797183, "comment_id": 84597273, "body": "type1, type2 and type3 are not of the same length - do you want to have NaN&#39;s for missing values?"}, {"owner": {"reputation": 6592, "user_id": 3711219, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5fpS9.png?s=128&g=1", "display_name": "Claudiu Creanga", "link": "https://stackoverflow.com/users/3711219/claudiu-creanga"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1518647834, "post_id": 48797183, "comment_id": 84597297, "body": "@MaxU yes, they are not of the same length. So I&#39;ll have to have NaNs"}], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 6592, "user_id": 3711219, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5fpS9.png?s=128&g=1", "display_name": "Claudiu Creanga", "link": "https://stackoverflow.com/users/3711219/claudiu-creanga"}, "edited": false, "score": 0, "creation_date": 1518648315, "post_id": 48797398, "comment_id": 84597500, "body": "@ClaudiuCreanga yw~ :-) happy coding, would you like accept it :-)"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1518648338, "post_id": 48797398, "comment_id": 84597512, "body": "This is clever!"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 5, "last_activity_date": 1518647960, "creation_date": 1518647960, "answer_id": 48797398, "question_id": 48797183, "link": "https://stackoverflow.com/questions/48797183/unlist-multiple-columns-into-rows-with-pandas/48797398#48797398", "title": "Unlist multiple columns into rows with pandas", "body": "<p>I am using for loop here <code>.apply(pd.Series).stack</code> is the key </p>\n\n<pre><code>df=df.T\nl=[df[x].apply(pd.Series).stack() for x in df.columns]\n\ns=pd.concat(l,1).reset_index(level=1,drop=True)\ns.columns=df.columns\n\ns\nOut[347]: \n  type1      type2  type3\nA    32   0.133333    3.0\nA    21   0.366667    9.0\nA    43   0.100000    5.0\nA    43   0.300000    1.0\nA    43   0.166667    6.0\nA    43   0.033333    2.0\nA    43   0.200000    NaN\nA    43   0.066667    NaN\nB    43   0.233333   10.0\nB    43   0.266667    6.0\nB    43   0.300000   17.0\nB    43   0.566667    7.0\nB    43   0.166667    8.0\nB   NaN   0.266667    9.0\nB   NaN        NaN   17.0\nB   NaN        NaN    5.0\nB   NaN        NaN    8.0\nC    43   5.233333  183.0\nC    43   6.100000  162.0\nC    43   5.400000   97.0\nC    43   3.233333  522.0\nC    43  17.400000  167.0\nC    43   5.566667  313.0\nC   NaN  10.433333   63.0\nC   NaN   2.100000    NaN\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1518648574, "post_id": 48797481, "comment_id": 84597591, "body": "Very interesting solution! +1"}], "tags": [], "owner": {"reputation": 4200, "user_id": 3104974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0bf327f4729e0af1e6bf0582391fad75?s=128&d=identicon&r=PG&f=1", "display_name": "ascripter", "link": "https://stackoverflow.com/users/3104974/ascripter"}, "is_accepted": false, "score": 3, "last_activity_date": 1518648853, "last_edit_date": 1518648853, "creation_date": 1518648390, "answer_id": 48797481, "question_id": 48797183, "link": "https://stackoverflow.com/questions/48797183/unlist-multiple-columns-into-rows-with-pandas/48797481#48797481", "title": "Unlist multiple columns into rows with pandas", "body": "<p>There is no unambiguous solution since the lists are not of equal length. So first you should take care of that, maybe by padding with zeros:</p>\n\n<pre><code># assuming 'data' is your dict\nfor x in data:    \n    max_length = max([len(data[x][y]) for y in data[x]])    \n    for y in data[x]:\n        data[x][y] += [np.nan] * (max_length - len(data[x][y]))\n</code></pre>\n\n<p>Then you can import with a Panel and play around with indices and sorting until you get what you want :)</p>\n\n<pre><code>df = pd.Panel.from_dict(data).to_frame(filter_observations=False).stack().unstack(1).swaplevel(0, 1).sort_index()\n\nminor   type1      type2 type3\n  major                       \nA 0        32   0.133333     3\n  1        21   0.366667     9\n  2        43        0.1     5\n  3        43        0.3     1\n  4        43   0.166667     6\n  5        43  0.0333333     2\n  6        43        0.2   NaN\n  7        43  0.0666667   NaN\nB 0        43   0.233333    10\n  1        43   0.266667     6\n  2        43        0.3    17\n  3        43   0.566667     7\n  4        43   0.166667     8\n  5       NaN   0.266667     9\n  6       NaN        NaN    17\n  7       NaN        NaN     5\n  8       NaN        NaN     8\nC 0        43    5.23333   183\n  1        43        6.1   162\n  2        43        5.4    97\n  3        43    3.23333   522\n  4        43       17.4   167\n  5        43    5.56667   313\n  6       NaN    10.4333    63\n  7       NaN        2.1   NaN\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3286, "user_id": 7619676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a7e32a3b0f08448f8e6099681622dd8?s=128&d=identicon&r=PG&f=1", "display_name": "ZaxR", "link": "https://stackoverflow.com/users/7619676/zaxr"}, "is_accepted": false, "score": 2, "last_activity_date": 1518652273, "last_edit_date": 1518652273, "creation_date": 1518651970, "answer_id": 48798040, "question_id": 48797183, "link": "https://stackoverflow.com/questions/48797183/unlist-multiple-columns-into-rows-with-pandas/48798040#48798040", "title": "Unlist multiple columns into rows with pandas", "body": "<p>Awesome, creative answers by both Wen and ascripter. ascripter's answer is the fastest though it's worth noting that <a href=\"https://pandas.pydata.org/pandas-docs/stable/dsintro.html#dsintro-deprecate-panel\" rel=\"nofollow noreferrer\">Panel is deprecated</a> and will be removed in a future version. See the link above for alternatives.</p>\n\n<p>Building on Wen's code, it can be sped up by using values.tolist() instead of apply():</p>\n\n<pre><code>In[1]\ndf = pd.DataFrame.from_dict(data).transpose()\n\ndef my_test(df):\n    l = [pd.DataFrame(df[col].values.tolist(), index=df.index).stack() for col in df.columns]\n    df2 = pd.concat(l, axis=1).reset_index(level=1, drop=True)\n    df2.columns = df.columns\n    return df2\n\ndef wen_test(df):\n    l=[df[x].apply(pd.Series).stack() for x in df.columns]\n    s=pd.concat(l,1).reset_index(level=1,drop=True)\n    s.columns=df.columns\n    return s\n\n%timeit my_test(df)\n%timeit wen_test(df) \n\nOut[1]\n100 loops, best of 3: 13.2 ms per loop\n100 loops, best of 3: 15.7 ms per loop\n</code></pre>\n"}], "owner": {"reputation": 6592, "user_id": 3711219, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5fpS9.png?s=128&g=1", "display_name": "Claudiu Creanga", "link": "https://stackoverflow.com/users/3711219/claudiu-creanga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3109, "favorite_count": 2, "accepted_answer_id": 48797398, "answer_count": 3, "score": 4, "last_activity_date": 1518652273, "creation_date": 1518646830, "last_edit_date": 1518647276, "question_id": 48797183, "link": "https://stackoverflow.com/questions/48797183/unlist-multiple-columns-into-rows-with-pandas", "title": "Unlist multiple columns into rows with pandas", "body": "<p>I have a json file like this:</p>\n\n<pre><code>{\n  \"A\": {\n    \"type1\": [\n      2,\n      26,\n      288,\n      ...\n     ],\n     \"type2\": [\n      2,\n      3,\n      5,\n      ...\n     ],\n     \"type3\": [\n      23,\n      26,\n      288,\n      ...\n     ]\n  },\n  \"B\": {\n    \"type1\": [\n      2,\n      26,\n      288,\n      ...\n     ],\n     \"type2\": [\n      2,\n      3,\n      5,\n      ...\n     ],\n     \"type3\": [\n      23,\n      26,\n      288,\n      ...\n     ]\n  },\n...\n  \"K\": {\n    \"type1\": [\n      2,\n      26,\n      288,\n      ...\n     ],\n     \"type2\": [\n      2,\n      3,\n      5,\n      ...\n     ],\n     \"type3\": [\n      23,\n      26,\n      288,\n      ...\n     ]\n  }\n}\n</code></pre>\n\n<p>Here is a sample dictionary of it for replication (I have about 20 columns from A to J, but only 3 types: type1,type2,type3):</p>\n\n<pre><code>pd.DataFrame({'A': {'type1': ['32',\n   '21',\n   '43',\n   '43',\n   '43',\n   '43',\n   '43',\n   '43'],\n  'type2': [\n   0.133333333333333,\n   0.36666666666666703,\n   0.1,\n   0.30000000000000004,\n   0.16666666666666702,\n   0.033333333333333,\n   0.2,\n   0.066666666666666],\n  'type3': [\n   3,\n   9,\n   5,\n   1,\n   6,\n   2]},\n 'B': {'type1': [\n   '43',\n   '43',\n   '43',\n   '43',\n   '43'],\n  'type2': [\n   0.23333333333333303,\n   0.266666666666667,\n   0.30000000000000004,\n   0.5666666666666671,\n   0.16666666666666702,\n   0.266666666666667],\n  'type3': [\n   10,\n   6,\n   17,\n   7,\n   8,\n   9,\n   17,\n   5,\n   8]},\n 'C': {'type1': [\n   '43',\n   '43',\n   '43',\n   '43',\n   '43',\n   '43'],\n  'type2': [\n   5.23333333333333,\n   6.1,\n   5.4,\n   3.23333333333333,\n   17.4,\n   5.56666666666667,\n   10.4333333333333,\n   2.1],\n  'type3': [\n   183,\n   162,\n   97,\n   522,\n   167,\n   313,\n   63]},\n })\n</code></pre>\n\n<p>which gives a df like this:\n<a href=\"https://i.stack.imgur.com/DWbUf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWbUf.png\" alt=\"enter image description here\"></a></p>\n\n<p>My df should look like this in the end:</p>\n\n<pre><code>  type1  type2  type3\nA 32     0.13    3\nA 21     0.36    9\nA\n........\nB\n........\nC\n........\nJ\n</code></pre>\n\n<p>So I transposed it:\n<a href=\"https://i.stack.imgur.com/flkhI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/flkhI.png\" alt=\"enter image description here\"></a>\nBut then I'm unsure how to unpack those lists. Every time I try I end up with some loops:</p>\n\n<pre><code>for x in df.index:\n    for y in df.loc[x][\"type1\"]:\n        df.iloc[index] = df.append({\"index\": x, \"type\": y}, ignore_index=True)\n        index += 1\n</code></pre>\n\n<p>and it is obviously not the way to go.</p>\n\n<p>I was wondering if there is a easier way, maybe as I load the json?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1518646824, "post_id": 48797161, "comment_id": 84596857, "body": "<code>list += [&quot;test1&quot;]</code> will do the latter thing you wanted"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1518647171, "post_id": 48797161, "comment_id": 84596997, "body": "<code>+=</code> is basically <code>list.extend()</code> with re-assignment. It is <i>not a concatenation</i>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1518647246, "post_id": 48797161, "comment_id": 84597034, "body": "Concatenation with <code>+</code> only works if the right-hand side is a list too. <code>list.extend()</code> takes <i>any iterable</i>. A string is an iterable of separate characters, so you get each character of your input string added."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1518647297, "post_id": 48797161, "comment_id": 84597062, "body": "If you want to append a single element in-place, use <code>list.append()</code>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1518647426, "post_id": 48797161, "comment_id": 84597126, "body": "@JoshuaTaylor: well, <code>list_a + list_b</code> produces a new list with the elements combined. <code>list_a.extend(list_b)</code> is the in-line equivalent of that operation, which is why <code>list_a += list_b</code> is essentially the same (but with additional re-assignment back to <code>list_a</code>). Because <code>list.extend()</code> accepts <i>any iterable</i> that also means that <code>+=</code> is a little more flexible than concatenation (but it is not hard to just use <code>list_a + list(object_b)</code>)"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1518647489, "post_id": 48797161, "comment_id": 84597162, "body": "@Mark_M: why the <code>str.split()</code>? Just to create a list with a single element? No, use <code>list_a + [&#39;hello&#39;]</code> instead, explicitly put your string into a list with one element."}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1518647492, "post_id": 48797161, "comment_id": 84597164, "body": "To support what Martijn said, source code of <a href=\"https://github.com/python/cpython/blob/master/Objects/listobject.c#L465\" rel=\"nofollow noreferrer\">list concatenation</a> and <a href=\"https://github.com/python/cpython/blob/master/Objects/listobject.c#L816\" rel=\"nofollow noreferrer\">extend</a>"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1518647543, "post_id": 48797161, "comment_id": 84597181, "body": "You&#39;re right @MartijnPieters - that&#39;s better."}], "owner": {"reputation": 518, "user_id": 1171446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3537b17fc33775ad9ec4e969cbd320bd?s=128&d=identicon&r=PG", "display_name": "Francois", "link": "https://stackoverflow.com/users/1171446/francois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "closed_date": 1518647183, "answer_count": 0, "score": 6, "last_activity_date": 1518646958, "creation_date": 1518646681, "question_id": 48797161, "link": "https://stackoverflow.com/questions/48797161/difference-between-and-with-python-lists", "closed_reason": "Duplicate", "title": "Difference between + and += with python lists", "body": "<p>I've been toying a bit with python lists and I find the following a bit strange.</p>\n\n<pre><code>list = [\"test\"]\nlist + \"test1\" \nTraceback (most recent call last):\n    File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: can only concatenate list (not \"str\") to list\n\nlist += \"test1\"\nprint(list)\n['test', 't', 'e', 's', 't', '1']\n</code></pre>\n\n<p>Can somebody help me understand why the += works but the + doesn't?</p>\n\n<p>Also, I would have expected \"test1\" to be appended as a single element. Why one element per letters?</p>\n"}, {"tags": ["python", "regex", "pandas"], "comments": [{"owner": {"reputation": 3286, "user_id": 7619676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a7e32a3b0f08448f8e6099681622dd8?s=128&d=identicon&r=PG&f=1", "display_name": "ZaxR", "link": "https://stackoverflow.com/users/7619676/zaxr"}, "edited": false, "score": 0, "creation_date": 1518646764, "post_id": 48797147, "comment_id": 84596820, "body": "Please post a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 21613, "user_id": 580346, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ba17945a06aac247b06548d5afe341e8?s=128&d=identicon&r=PG", "display_name": "mrzasa", "link": "https://stackoverflow.com/users/580346/mrzasa"}, "edited": false, "score": 0, "creation_date": 1518646782, "post_id": 48797147, "comment_id": 84596827, "body": "Have you tried <code>^0+$</code>? If you could provide more details about the example (e.g. datatype where you store those strings) we may provide sth more complex (with python code)"}, {"owner": {"reputation": 189, "user_id": 7070489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/473cbb10b22c4529f2e32b659ebc2158?s=128&d=identicon&r=PG&f=1", "display_name": "relay", "link": "https://stackoverflow.com/users/7070489/relay"}, "edited": false, "score": 0, "creation_date": 1518646991, "post_id": 48797147, "comment_id": 84596920, "body": "Maybe you can try <code>df[~(df[&#39;pin&#39;].str.contains(&#39;^0+$&#39;))]</code>."}, {"owner": {"reputation": 1062, "user_id": 3111973, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b2e7756c869ff4ee57190680555d65de?s=128&d=identicon&r=PG", "display_name": "svenkatesh", "link": "https://stackoverflow.com/users/3111973/svenkatesh"}, "edited": false, "score": 0, "creation_date": 1518647218, "post_id": 48797147, "comment_id": 84597021, "body": "Thanks - I&#39;ve edited my question with some more details about the example."}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 7070489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/473cbb10b22c4529f2e32b659ebc2158?s=128&d=identicon&r=PG&f=1", "display_name": "relay", "link": "https://stackoverflow.com/users/7070489/relay"}, "is_accepted": false, "score": 3, "last_activity_date": 1518647130, "creation_date": 1518647130, "answer_id": 48797244, "question_id": 48797147, "link": "https://stackoverflow.com/questions/48797147/drop-string-that-is-all-zeros-pandas-python/48797244#48797244", "title": "Drop string that is all zeros - pandas python", "body": "<p>This should work if I understood your problem correctly:</p>\n\n<pre><code>df = pd.DataFrame()\ndf['pin'] = [\"00000\",\"F4923\",\"'222R\",\"0\",\"00001\"]\nndf = df[~(df['pin'].str.contains('^0+$'))]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "is_accepted": true, "score": 3, "last_activity_date": 1518647139, "creation_date": 1518647139, "answer_id": 48797249, "question_id": 48797147, "link": "https://stackoverflow.com/questions/48797147/drop-string-that-is-all-zeros-pandas-python/48797249#48797249", "title": "Drop string that is all zeros - pandas python", "body": "<p>You can use pd.to_numeric:</p>\n\n<pre><code>df.loc[pd.to_numeric(df.pin,errors='coerce').ne(0)]\nOut[278]: \n     pin\n1  F4923\n2  '222R\n4  00001\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": false, "score": 2, "last_activity_date": 1518647155, "creation_date": 1518647155, "answer_id": 48797252, "question_id": 48797147, "link": "https://stackoverflow.com/questions/48797147/drop-string-that-is-all-zeros-pandas-python/48797252#48797252", "title": "Drop string that is all zeros - pandas python", "body": "<p>You can use str.contains</p>\n\n<pre><code>df = df[df.upin.str.contains('[^0]')]\n</code></pre>\n\n<p>You get</p>\n\n<pre><code>    upin\n0   'H8409\n1   'H8409\n2   .31961\n3   .31961\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 3111973, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b2e7756c869ff4ee57190680555d65de?s=128&d=identicon&r=PG", "display_name": "svenkatesh", "link": "https://stackoverflow.com/users/3111973/svenkatesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 48797249, "answer_count": 3, "score": 1, "last_activity_date": 1518647859, "creation_date": 1518646622, "last_edit_date": 1518647145, "question_id": 48797147, "link": "https://stackoverflow.com/questions/48797147/drop-string-that-is-all-zeros-pandas-python", "title": "Drop string that is all zeros - pandas python", "body": "<p>I have a dataframe of strings that looks like this: </p>\n\n<pre><code>In [58]: d['upin'].head()\nOut[58]:\n0    'H8409  \n1    'H8409\n2    .31961\n3    .31961\n4    000000\nName: upin, dtype: object\n</code></pre>\n\n<p>I want to drop the rows that have only zeros, i.e. the last row in this example. I haven't found a nice regexp way of doing this, and I'm not sure what else to try. </p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 1, "creation_date": 1518703849, "post_id": 48797063, "comment_id": 84621643, "body": "I don&#39;t think you should be using python-3.x exclusively unless the issue is python3 specific. You&#39;re needlessly narrowing down your audience. Edited."}], "answers": [{"comments": [{"owner": {"reputation": 2405, "user_id": 5510499, "user_type": "registered", "profile_image": "https://graph.facebook.com/1485770455086201/picture?type=large", "display_name": "Vadim Shkaberda", "link": "https://stackoverflow.com/users/5510499/vadim-shkaberda"}, "edited": false, "score": 0, "creation_date": 1562598061, "post_id": 48809249, "comment_id": 100415615, "body": "I believe, <code>self.labels.append(list())</code> in <code>_display_labels</code> is excessive, isn&#39;t it?"}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "reply_to_user": {"reputation": 2405, "user_id": 5510499, "user_type": "registered", "profile_image": "https://graph.facebook.com/1485770455086201/picture?type=large", "display_name": "Vadim Shkaberda", "link": "https://stackoverflow.com/users/5510499/vadim-shkaberda"}, "edited": false, "score": 0, "creation_date": 1562674064, "post_id": 48809249, "comment_id": 100442873, "body": "@VadimShkaberda Yes I think so. Thanks, I removed it."}], "tags": [], "owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "is_accepted": false, "score": 2, "last_activity_date": 1562674074, "last_edit_date": 1562674074, "creation_date": 1518703806, "answer_id": 48809249, "question_id": 48797063, "link": "https://stackoverflow.com/questions/48797063/a-widget-for-a-list-or-table-with-pictures-in-the-cells-in-tkinter/48809249#48809249", "title": "A widget for a list or table with pictures in the cells in Tkinter", "body": "<p>One could create a grid class using <code>Label</code>s to show integers, strings, and images:</p>\n\n<pre><code>try:                        # In order to be able to import tkinter for\n    import tkinter as tk    # either in python 2 or in python 3\nexcept ImportError:\n    import Tkinter as tk\n\n\nclass LabelGrid(tk.Frame):\n    \"\"\"\n    Creates a grid of labels that have their cells populated by content.\n    \"\"\"\n    def __init__(self, master, content=([0, 0], [0, 0]), *args, **kwargs):\n        tk.Frame.__init__(self, master, *args, **kwargs)\n        self.content = content\n        self.content_size = (len(content), len(content[0]))\n        self._create_labels()\n        self._display_labels()\n\n\n    def _create_labels(self):\n        def __put_content_in_label(row, column):\n            content = self.content[row][column]\n            content_type = type(content).__name__\n            if content_type in ('str', 'int'):\n                self.labels[row][column]['text'] = content\n            elif content_type == 'PhotoImage':\n                self.labels[row][column]['image'] = content\n\n\n        self.labels = list()\n        for i in range(self.content_size[0]):\n            self.labels.append(list())\n            for j in range(self.content_size[1]):\n                self.labels[i].append(tk.Label(self))\n                __put_content_in_label(i, j)\n\n\n    def _display_labels(self):\n        for i in range(self.content_size[0]):\n            for j in range(self.content_size[1]):\n                self.labels[i][j].grid(row=i, column=j)\n\n\nif __name__ == '__main__':\n    root = tk.Tk()\n    img = tk.PhotoImage(file=\"13.gif\") # replace with your image\n    label_grid = LabelGrid(root, ([3, img], ['my_string', 7]))\n    label_grid.pack()\n    tk.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562674074, "creation_date": 1518646147, "last_edit_date": 1518703858, "question_id": 48797063, "link": "https://stackoverflow.com/questions/48797063/a-widget-for-a-list-or-table-with-pictures-in-the-cells-in-tkinter", "title": "A widget for a list or table with pictures in the cells in Tkinter", "body": "<p>I need a widget that act like a list with columns. The cells can have values as integers, strings or <strong>pictures</strong>.</p>\n\n<p>The Tkinter own <code>Listbox</code> can not have columns. The <code>Treeview</code> is not able to have pictures as values (except the first column <code>#0</code>).</p>\n\n<p>Are there any Tkinter extensions that could fit my needs? Or how could I create something like this myself?</p>\n\n<p>Some example code that could be used as a basis for a answer.</p>\n\n<pre><code>#!/usr/bin/env python3\n\nfrom tkinter import *\nfrom tkinter import ttk\nfrom PIL import Image\nfrom PIL import ImageTk\n\nif __name__ == '__main__':\n    root = Tk()\n\n    # or a Listbox!!!\n    tree = ttk.Treeview(root,\n                        columns = ('one'))\n    tree.heading('one', text='one')\n    tree.pack()\n\n    tree.img = Image.new(mode='RGBA', size=(10, 20), color='red')\n    tree.img = ImageTk.PhotoImage(tree.img)\n\n    for i in range(50):\n        tree.insert(parent='',\n                   index=END,\n                   image=tree.img,\n                   text='',\n                   values = i)\n\n    root.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "qt", "debugging", "gdb"], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 4774022, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Iz2D1.jpg?s=128&g=1", "display_name": "Kajsa", "link": "https://stackoverflow.com/users/4774022/kajsa"}, "edited": false, "score": 0, "creation_date": 1518691992, "post_id": 48797132, "comment_id": 84613620, "body": "Thanks. I haven&#39;t done any intentional overloading. Do you have any idea what would cause the fault to only appear sometimes and other times the program runs without any faults?"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 199, "user_id": 4774022, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Iz2D1.jpg?s=128&g=1", "display_name": "Kajsa", "link": "https://stackoverflow.com/users/4774022/kajsa"}, "edited": false, "score": 0, "creation_date": 1521126002, "post_id": 48797132, "comment_id": 85607415, "body": "@Kajsa: I can give you an example of how this could happen. Suppose you have the instruction <code>arr[pos] = 123</code>. If you&#39;ve incorrectly provded a value of pos, or have messed it up, then there are two options: The &#39;junk&#39; value is low enough for <code>arr[pos]</code> to be in the part of the memory space you&#39;ve allocated and are allowed to read, in which case things will run (somehow); or it&#39;s outside where you&#39;re allowed to read, and you&#39;ll get a segmentation violation. And the junk value might be different in different runs of your program."}, {"owner": {"reputation": 199, "user_id": 4774022, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Iz2D1.jpg?s=128&g=1", "display_name": "Kajsa", "link": "https://stackoverflow.com/users/4774022/kajsa"}, "edited": false, "score": 0, "creation_date": 1521145114, "post_id": 48797132, "comment_id": 85619109, "body": "I don&#39;t know how it happens, then there wouldn&#39;t be a problem. Also, I run the exact same program, with the exact same values, every time and the error still only occurs about 30% of the time."}], "tags": [], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "is_accepted": true, "score": 1, "last_activity_date": 1518646534, "creation_date": 1518646534, "answer_id": 48797132, "question_id": 48796972, "link": "https://stackoverflow.com/questions/48796972/how-to-read-gdb-output/48797132#48797132", "title": "How to read gdb output", "body": "<p>Well, a hint: What you're seeing is the <strong>call stack</strong>.</p>\n\n<p>As you surely know being a programmer, calling a function (or a method) involves adding that call's context (arguments, local variables, return address) to the area in memory called the stack. </p>\n\n<p>So, you're seeing the calls that your code (and code that's not yours) made - and that had not yet returned - when the segmentation fault happened. As your process got the segfault, it didn't continue executing or \"unwind\" the stack - it just dumped all of the  frames. (And note the frames are listed from deepest to shallowest.)</p>\n\n<p>Luckily for you, most of the stack frames have the name of the function running, so you can better figure out where exactly you accessed memory in a problematic segment. Unfortunately for you, the stack trace doesn't seem to have line numbers (those are all the pairs of <code>??</code>s), so you can't really pinpoint it except to the calls to the function that constitutes the next stack frame in. Also unfortunately for you - it looks like most/all of those names are in-built functions of PyQT or of QT or of just Python, rather than your own functions (though I might be wrong here, especially if you've overloaded) - and this also makes it more difficult for you to figure out where you've caused these segfaults - since you've probably set some values which later case the code that's not yours to make invalid accesses.</p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 4774022, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Iz2D1.jpg?s=128&g=1", "display_name": "Kajsa", "link": "https://stackoverflow.com/users/4774022/kajsa"}, "edited": false, "score": 0, "creation_date": 1519072474, "post_id": 48813907, "comment_id": 84751393, "body": "Can I be sure that the error is the same as the one reported when I&#39;m using <code>Qt4</code> and the report is for <code>Qt5</code>? Also, from some trial and error, I am fairly sure that the error arises when calling <code>QLCDNumber.display()</code>"}, {"owner": {"reputation": 29251, "user_id": 72178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/M3OuM.png?s=128&g=1", "display_name": "ks1322", "link": "https://stackoverflow.com/users/72178/ks1322"}, "reply_to_user": {"reputation": 199, "user_id": 4774022, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Iz2D1.jpg?s=128&g=1", "display_name": "Kajsa", "link": "https://stackoverflow.com/users/4774022/kajsa"}, "edited": false, "score": 1, "creation_date": 1519073774, "post_id": 48813907, "comment_id": 84751905, "body": "Probably. You can also try to reproduce the crash with PyQt5, install debug symbols for libQtGui.so to get line numbers in stack trace or probably to look for other relevant bug reports."}], "tags": [], "owner": {"reputation": 29251, "user_id": 72178, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/M3OuM.png?s=128&g=1", "display_name": "ks1322", "link": "https://stackoverflow.com/users/72178/ks1322"}, "is_accepted": false, "score": 1, "last_activity_date": 1518718860, "creation_date": 1518718860, "answer_id": 48813907, "question_id": 48796972, "link": "https://stackoverflow.com/questions/48796972/how-to-read-gdb-output/48813907#48813907", "title": "How to read gdb output", "body": "<blockquote>\n  <p>Could anyone please give me a hint?</p>\n</blockquote>\n\n<p>When you see crash in third party code like libQtGui.so in this case, it is worth to google top part of stack trace in the hope to find the relevant already reported bug where you can probably find workaround or version number to update to.</p>\n\n<p>In this case googling <code>QWidgetPrivate::syncBackingStore</code> leads to this bug <a href=\"https://bugreports.qt.io/browse/QTBUG-41428\" rel=\"nofollow noreferrer\">https://bugreports.qt.io/browse/QTBUG-41428</a> which is duplicate of another bug <a href=\"https://bugreports.qt.io/browse/QTBUG-41108\" rel=\"nofollow noreferrer\">https://bugreports.qt.io/browse/QTBUG-41108</a>. Though it was reported for Mac OS, it may be relevant to <code>x86_64-linux-gnu</code> as well.</p>\n"}], "owner": {"reputation": 199, "user_id": 4774022, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Iz2D1.jpg?s=128&g=1", "display_name": "Kajsa", "link": "https://stackoverflow.com/users/4774022/kajsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 48797132, "answer_count": 2, "score": 1, "last_activity_date": 1519387936, "creation_date": 1518645657, "last_edit_date": 1519387936, "question_id": 48796972, "link": "https://stackoverflow.com/questions/48796972/how-to-read-gdb-output", "title": "How to read gdb output", "body": "<p>I am writing a program in <code>Python 3.5</code> and using <code>PyQt4</code> for all GUI functions. When I run the program I, sometimes, get a segmentation fault. I looked online for solutions and found <a href=\"https://stackoverflow.com/questions/10035541/what-causes-a-python-segmentation-fault\">this</a>, which uses <code>gdb</code>.</p>\n\n<p>I tried running my program this way but have no idea how to read the output. Could anyone please give me a hint?</p>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>gdb python3\nGNU gdb (Ubuntu 7.11.1-0ubuntu1~16.5) 7.11.1\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n&lt;http://www.gnu.org/software/gdb/bugs/&gt;.\nFind the GDB manual and other documentation resources online at:\n&lt;http://www.gnu.org/software/gdb/documentation/&gt;.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nReading symbols from python3...(no debugging symbols found)...done.\n(gdb) run GUI3.py \nStarting program: /usr/bin/python3 GUI3.py\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n[New Thread 0x7ffff3ad0700 (LWP 26031)]\n[New Thread 0x7ffff12cf700 (LWP 26032)]\n[New Thread 0x7fffeeace700 (LWP 26033)]\n[New Thread 0x7fffd3da2700 (LWP 26034)]\n[New Thread 0x7fffd2042700 (LWP 26035)]\n[New Thread 0x7fffd1841700 (LWP 26036)]\n[New Thread 0x7fffd1040700 (LWP 26037)]\n[New Thread 0x7fffbb952700 (LWP 26038)]\nRun function needs to be implemented\n\nThread 1 \"python3\" received signal SIGSEGV, Segmentation fault.\nQWidgetBackingStore::sync (this=0x1ec5d30) at painting/qbackingstore.cpp:1239\n1239    painting/qbackingstore.cpp: No such file or directory.\n(gdb) backtrace \n#0  QWidgetBackingStore::sync (this=0x1ec5d30) at painting/qbackingstore.cpp:1239\n#1  0x00007fffe0e11c50 in QWidgetPrivate::syncBackingStore (this=0x1907c20)\nat kernel/qwidget.cpp:1894\n#2  0x00007fffe0e249b8 in QWidget::event (this=this@entry=0x1b3b380, event=event@entry=0x20bab70)\nat kernel/qwidget.cpp:8693\n#3  0x00007fffe12089b3 in QMainWindow::event (this=0x1b3b380, event=0x20bab70)\nat widgets/qmainwindow.cpp:1478\n#4  0x00007fffe1cfc28b in ?? ()\n   from /usr/lib/python3/dist-packages/PyQt4/QtGui.cpython-35m-x86_64-linux-gnu.so\n#5  0x00007fffe0dcdfdc in QApplicationPrivate::notify_helper (this=this@entry=0x18f9d70, \nreceiver=receiver@entry=0x1b3b380, e=e@entry=0x20bab70) at kernel/qapplication.cpp:4570\n#6  0x00007fffe0dd4f16 in QApplication::notify (this=0x17de970, receiver=0x1b3b380, e=0x20bab70)\nat kernel/qapplication.cpp:4356\n#7  0x00007fffe1ebc0c6 in ?? ()\n   from /usr/lib/python3/dist-packages/PyQt4/QtGui.cpython-35m-x86_64-linux-gnu.so\n#8  0x00007fffe2eb390d in QCoreApplication::notifyInternal (this=0x17de970, \nreceiver=receiver@entry=0x1b3b380, event=event@entry=0x20bab70)\nat kernel/qcoreapplication.cpp:955\n#9  0x00007fffe2eb73c6 in QCoreApplication::sendEvent (event=0x20bab70, receiver=0x1b3b380)\nat ../../include/QtCore/../../src/corelib/kernel/qcoreapplication.h:231\n#10 QCoreApplicationPrivate::sendPostedEvents (receiver=receiver@entry=0x0, \nevent_type=event_type@entry=0, data=0x18fc490) at kernel/qcoreapplication.cpp:1579\n#11 0x00007fffe2eb76a3 in QCoreApplication::sendPostedEvents (receiver=receiver@entry=0x0, \nevent_type=event_type@entry=0) at kernel/qcoreapplication.cpp:1472\n#12 0x00007fffe2ee413e in QCoreApplication::sendPostedEvents ()\nat ../../include/QtCore/../../src/corelib/kernel/qcoreapplication.h:236\n#13 postEventSourceDispatch (s=0x1900aa0) at kernel/qeventdispatcher_glib.cpp:300\n#14 0x00007fffe2a62197 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#15 0x00007fffe2a623f0 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#16 0x00007fffe2a6249c in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\n#17 0x00007fffe2ee42ae in QEventDispatcherGlib::processEvents (this=0x17be390, flags=...)\nat kernel/qeventdispatcher_glib.cpp:450\n#18 0x00007fffe0e7b616 in QGuiEventDispatcherGlib::processEvents (this=&lt;optimised out&gt;, flags=...)\nat kernel/qguieventdispatcher_glib.cpp:204\n#19 0x00007fffe2eb218f in QEventLoop::processEvents (this=this@entry=0x7fffffffd7d0, flags=...)\nat kernel/qeventloop.cpp:149\n#20 0x00007fffe2eb24f5 in QEventLoop::exec (this=this@entry=0x7fffffffd7d0, flags=...)\nat kernel/qeventloop.cpp:204\n#21 0x00007fffe2eb84b9 in QCoreApplication::exec () at kernel/qcoreapplication.cpp:1227\n#22 0x00007fffe1e6aa2b in ?? ()\n    from /usr/lib/python3/dist-packages/PyQt4/QtGui.cpython-35m-x86_64-linux-gnu.so\n#23 0x00000000004e9b7f in PyCFunction_Call ()\n#24 0x00000000005372f4 in PyEval_EvalFrameEx ()\n#25 0x0000000000540199 in ?? ()\n#26 0x0000000000540e4f in PyEval_EvalCode ()\n#27 0x000000000060c272 in ?? ()\n#28 0x000000000060e71a in PyRun_FileExFlags ()\n#29 0x000000000060ef0c in PyRun_SimpleFileExFlags ()\n#30 0x000000000063fb26 in Py_Main ()\n#31 0x00000000004cfeb1 in main ()\n(gdb) \n</code></pre>\n"}, {"tags": ["python", "python-3.x", "set"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1518645724, "post_id": 48796969, "comment_id": 84596392, "body": "Sure, but you need to code it yourself. Why do you think you need this though?"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 6, "last_activity_date": 1518645942, "creation_date": 1518645942, "answer_id": 48797025, "question_id": 48796969, "link": "https://stackoverflow.com/questions/48796969/removing-quotes-from-python-set-of-strings/48797025#48797025", "title": "Removing quotes from python set of strings", "body": "<p>All Python containers, including sets, use <code>repr()</code> to show their contents; this is meant to be a <em>debugging aid</em>, a developers representation, not something to give to end users.</p>\n\n<p>As such, you'll need to manually format your strings if you want to show the contents without using <code>repr()</code>. For example:</p>\n\n<pre><code>def set_representation(s):\n    return '{{{}}}'.format(', '.join(map(str, s)))\n</code></pre>\n\n<p>maps values to <code>str()</code> before joining them with commas and surrounding the result with <code>{...}</code> braces.</p>\n\n<p>This produces:</p>\n\n<pre><code>&gt;&gt;&gt; s = {'abc', 'def', 'ghi'}\n&gt;&gt;&gt; print(set_representation(s))\n{def, ghi, abc}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 7571399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f71adbd366e729fcf401c9d312bc6a?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/7571399/rick-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1518645952, "creation_date": 1518645952, "answer_id": 48797030, "question_id": 48796969, "link": "https://stackoverflow.com/questions/48796969/removing-quotes-from-python-set-of-strings/48797030#48797030", "title": "Removing quotes from python set of strings", "body": "<p>You could have a loop go through all items in the data structure and print each one exactly as you wish. You can also add them to a string to and print that.</p>\n"}], "owner": {"reputation": 430, "user_id": 8322075, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1525dfaae144b4cdc881a33c52e30abd?s=128&d=identicon&r=PG&f=1", "display_name": "taurus", "link": "https://stackoverflow.com/users/8322075/taurus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 48797025, "answer_count": 2, "score": 1, "last_activity_date": 1518646315, "creation_date": 1518645635, "last_edit_date": 1518646047, "question_id": 48796969, "link": "https://stackoverflow.com/questions/48796969/removing-quotes-from-python-set-of-strings", "title": "Removing quotes from python set of strings", "body": "<p>I am creating an empty set and adding multiple strings to it using the <code>.add()</code> function. When I print out my set, it has this format:</p>\n\n<pre><code>{'abc', 'def', 'ghi'}\n</code></pre>\n\n<p>Is there a way in Python 3 to remove the quotes that surround each string so the set would return </p>\n\n<pre><code>{abc, def, ghi}\n</code></pre>\n"}, {"tags": ["python", "arrays", "dictionary", "aggregation"], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 0, "last_activity_date": 1518650300, "creation_date": 1518650300, "answer_id": 48797817, "question_id": 48796963, "link": "https://stackoverflow.com/questions/48796963/group-results-and-count-instances-in-the-group-python/48797817#48797817", "title": "Group Results and Count Instances in the Group - Python", "body": "<p>Here is one solution, using <code>collections.defaultdict</code>.</p>\n\n<pre><code>from collections import Counter, defaultdict\n\nkafakmessage1 = [{'power': -145.08474576271186, 'freq': 4000000000000}, {'power': -145.38135593220343, 'freq': 4601079784043}, {'power': -146.071186440678, 'freq': 5202159568086}, {'power': -146.864406779661, 'freq': 5803239352129}, {'power': -147.73728813559322, 'freq': 6404319136172}, {'power': -147.9474576271186, 'freq': 7005398920215}, {'power': -148.71016949152542, 'freq': 7606478704259}, {'power': -149.52203389830507, 'freq': 8207558488302}]\nkafakmessage2 = [{'power': -145.08474576271186, 'freq': 4000000000000}, {'power': -145.38135593220343, 'freq': 4601079784043}, {'power': -146.071186440678, 'freq': 5202159568086}, {'power': -146.864406779661, 'freq': 5803239352129}, {'power': -147.73728813559322, 'freq': 6404319136172}, {'power': -147.9474576271186, 'freq': 7005398920215}, {'power': -148.71016949152542, 'freq': 7606478704259}, {'power': -149.52203389830507, 'freq': 8207558488302}]\n\nd_power = defaultdict(int)\nd_occur = defaultdict(int)\n\nfor d in kafakmessage1:\n    freq = str(d['freq'])[:-12]\n    power = int((d['power'])+100)\n    occur = Counter(freq)\n    d_power[freq] += power\n    d_occur[freq] += occur[str(freq)]\n\nfor f in d_power:\n    print(f, d_power[f], d_occur[f])\n\n# 4 -90 2\n# 5 -92 2\n# 6 -47 1\n# 7 -95 2\n# 8 -49 1 \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9094237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83a6d38b5035dcff711533076202a31?s=128&d=identicon&r=PG&f=1", "display_name": "sulli", "link": "https://stackoverflow.com/users/9094237/sulli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 48797817, "answer_count": 1, "score": 0, "last_activity_date": 1518650300, "creation_date": 1518645630, "question_id": 48796963, "link": "https://stackoverflow.com/questions/48796963/group-results-and-count-instances-in-the-group-python", "title": "Group Results and Count Instances in the Group - Python", "body": "<p>I've got a Kafka feed that I'm parsing and writing to a database. As a side piece of information, I need to group results from an array of dictionaries and count the instances in the grouping. I would then need to aggregate the results of each additional message to the final results.</p>\n\n<p>What I have so far:</p>\n\n<pre><code>from collections import Counter\n\nkafakmessage1 = [{'power': -145.08474576271186, 'freq': 4000000000000}, {'power': -145.38135593220343, 'freq': 4601079784043}, {'power': -146.071186440678, 'freq': 5202159568086}, {'power': -146.864406779661, 'freq': 5803239352129}, {'power': -147.73728813559322, 'freq': 6404319136172}, {'power': -147.9474576271186, 'freq': 7005398920215}, {'power': -148.71016949152542, 'freq': 7606478704259}, {'power': -149.52203389830507, 'freq': 8207558488302}]\nkafakmessage2 = [{'power': -145.08474576271186, 'freq': 4000000000000}, {'power': -145.38135593220343, 'freq': 4601079784043}, {'power': -146.071186440678, 'freq': 5202159568086}, {'power': -146.864406779661, 'freq': 5803239352129}, {'power': -147.73728813559322, 'freq': 6404319136172}, {'power': -147.9474576271186, 'freq': 7005398920215}, {'power': -148.71016949152542, 'freq': 7606478704259}, {'power': -149.52203389830507, 'freq': 8207558488302}]\n\nfor d in kafakmessage1:\n    freq = str(d['freq'])[:-12]\n    power = int((d['power'])+100)\n    occur = Counter(freq)\n    print(freq, power, occur)\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre><code>4 -45 Counter({'4': 1})\n4 -45 Counter({'4': 1})\n5 -46 Counter({'5': 1})\n5 -46 Counter({'5': 1})\n6 -47 Counter({'6': 1})\n7 -47 Counter({'7': 1})\n7 -48 Counter({'7': 1})\n8 -49 Counter({'8': 1})\n</code></pre>\n\n<p>What I need:</p>\n\n<pre><code>4 -90 2\n5 -92 2\n6 -47 1\n7 -95 2\n8 -49 1\n</code></pre>\n\n<p>When the outer loop (not in example) consumed the next message (represented by kafkamessage2), the results should be:</p>\n\n<pre><code>4 -180 4\n5 -184 4\n6 -94 2\n7 -190 4\n8 -98 2\n</code></pre>\n\n<p>Thanks for any insights!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 509, "user_id": 8196202, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/16feda6e45056d6bb344d71ab47f33f3?s=128&d=identicon&r=PG&f=1", "display_name": "bwrabbit", "link": "https://stackoverflow.com/users/8196202/bwrabbit"}, "edited": false, "score": 0, "creation_date": 1518645875, "post_id": 48796960, "comment_id": 84596466, "body": "@bwrabbit, glad I could help :)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1518645990, "last_edit_date": 1518645990, "creation_date": 1518645622, "answer_id": 48796960, "question_id": 48796890, "link": "https://stackoverflow.com/questions/48796890/pandas-python-unstack-or-pivot-with-many-columns-as-indices/48796960#48796960", "title": "Pandas &amp; python: unstack or pivot with many columns as indices?", "body": "<pre><code>In [115]: (df.pivot_table(index=['A','B','C'], columns='Property', values='Value',\n     ...:                 aggfunc='first', fill_value='-')\n     ...:    .reset_index()\n     ...:    .rename_axis(None,1))\n     ...:\nOut[115]:\n     A     B   C prop1 prop2 prop9\n0  Bob  b100  X1     a     b     -\n1  Bob  b100  X2     c     -     -\n2  Bob  b100  Y1     a     -     -\n3  Bob  b100   Z     -     -     b\n4  Bob  b200  X1     c     d     -\n</code></pre>\n\n<p>or using <code>unstack</code>:</p>\n\n<pre><code>In [124]: (df.set_index(['A','B','C','Property'])\n     ...:    ['Value'].unstack('Property', fill_value='-')\n     ...:    .reset_index()\n     ...:    .rename_axis(None,1))\n     ...:\nOut[124]:\n     A     B   C prop1 prop2 prop9\n0  Bob  b100  X1     a     b     -\n1  Bob  b100  X2     c     -     -\n2  Bob  b100  Y1     a     -     -\n3  Bob  b100   Z     -     -     b\n4  Bob  b200  X1     c     d     -\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1518648457, "creation_date": 1518648457, "answer_id": 48797500, "question_id": 48796890, "link": "https://stackoverflow.com/questions/48796890/pandas-python-unstack-or-pivot-with-many-columns-as-indices/48797500#48797500", "title": "Pandas &amp; python: unstack or pivot with many columns as indices?", "body": "<p>Here's another solution using <code>pd.get_dummies</code>. Also added some benchmarking for comparison.</p>\n\n<pre><code>import pandas as pd, numpy as np\n\ndef jp(df):\n    df = df.join(pd.get_dummies(df.Property))\n\n    for col in ['prop1', 'prop2', 'prop9']:\n        df[col] = np.where(df[col], df.Value, df[col])\n\n    return df.drop(['Property', 'Value'], 1).groupby(['A', 'B', 'C'])\\\n             .agg(lambda s: next((i for i in s if i), 0)).reset_index()\n\ndef maxu(df):\n    return df.pivot_table(index=['A','B','C'], columns='Property', values='Value', \\\n                          aggfunc='first', fill_value='-').reset_index().rename_axis(None,1)\n\ndef maxu2(df):\n    return df.set_index(['A','B','C','Property'])['Value']\\\n             .unstack('Property', fill_value='-').reset_index().rename_axis(None,1)\n\n%timeit jp(df.copy())     # 14 ms \u00b1 176 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n\n%timeit maxu(df.copy())   # 14.1 ms \u00b1 181 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n\n%timeit maxu2(df.copy())  # 10.4 ms \u00b1 1.98 ms per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n</code></pre>\n"}], "owner": {"reputation": 509, "user_id": 8196202, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/16feda6e45056d6bb344d71ab47f33f3?s=128&d=identicon&r=PG&f=1", "display_name": "bwrabbit", "link": "https://stackoverflow.com/users/8196202/bwrabbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "accepted_answer_id": 48796960, "answer_count": 2, "score": 3, "last_activity_date": 1518648457, "creation_date": 1518645305, "question_id": 48796890, "link": "https://stackoverflow.com/questions/48796890/pandas-python-unstack-or-pivot-with-many-columns-as-indices", "title": "Pandas &amp; python: unstack or pivot with many columns as indices?", "body": "<p>I have a dataframe like the following:</p>\n\n<pre><code>    A     B    C   Property   Value\n1   Bob  b100  X1  prop1      a\n2   Bob  b100  X1  prop2      b\n3   Bob  b100  X2  prop1      c\n4   Bob  b100  Y1  prop1      a\n5   Bob  b100  Z   prop9      b\n6   Bob  b200  X1  prop1      c\n7   Bob  b200  X1  prop2      d\n</code></pre>\n\n<p>How can I use unstack, pivot, or some other method to only unstack the Property and Value columns? </p>\n\n<p>I am trying to obtain the following dataframe:</p>\n\n<pre><code>    A     B    C   prop1  prop2   prop9\n1   Bob  b100  X1  a        b       -\n2   Bob  b100  X2  c        -       -\n3   Bob  b100  Y1  a        a       -\n4   Bob  b100  Z   -        -       b\n5   Bob  b200  X1  c        d       -\n</code></pre>\n"}, {"tags": ["python", "pycharm", "terminology", "term"], "answers": [{"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1518793161, "post_id": 48829061, "comment_id": 84662670, "body": "Duck typing goes beyond type checking, in some sense. The type doesn&#39;t matter <i>at all</i>, as long as it provides the correct behavior. If a function expects an argument to have a <code>foo</code> method, then that argument can have any type at all, as long as it provides <code>foo</code>. It doesn&#39;t, for example, have to have a particular <code>foo</code>-providing ancestor. True run-time type checking would enforce the argument&#39;s type when the function was first called, not when the argument was first used in the body of the function."}], "tags": [], "owner": {"reputation": 383, "user_id": 7050517, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-honYsIWMQEo/AAAAAAAAAAI/AAAAAAAAG_k/8-AjTvhEe1Q/photo.jpg?sz=128", "display_name": "smallpants", "link": "https://stackoverflow.com/users/7050517/smallpants"}, "is_accepted": true, "score": 6, "last_activity_date": 1518792464, "last_edit_date": 1518792464, "creation_date": 1518791943, "answer_id": 48829061, "question_id": 48796813, "link": "https://stackoverflow.com/questions/48796813/what-is-dynamic-dispatch-and-duck-typing/48829061#48829061", "title": "What is dynamic dispatch and duck typing?", "body": "<p>Python uses a duck typing convention. This means that you do not have to specify what type a name is. Unlike in Java, for example, where you must specify explicitly that variable may be type <code>int</code> or <code>Object</code>. Essentially, type checking is done at runtime.</p>\n\n<p>\"If it walks like a duck and it quacks like a duck, then it must be a duck.\"</p>\n\n<p>In Python everything will seem to work until you use try to manipulate an object in a way that it is not designed to. Basically, an object may not have a certain method or attribute that another might, and you won't find this out until Python throws an error upon trying it.</p>\n\n<p>Dynamic Dispatch is the practice of the compiler or environment choosing which version of a polymorphic function to use at runtime. If you have multiple implementations of a method, you can use them in different ways despite the methods having the same or similar properties/attributes. Here's an example:</p>\n\n<pre><code>class Foo:\n   def flush():\n       pass\n\nclass Bar:\n    def flush():\n       pass\n</code></pre>\n\n<p>Both classes have a <code>flush()</code> method but the correct name is chosen at runtime.</p>\n\n<p>Python is not the best example of this process since methods can take multiple parameters and don't have to be reimplemented. Java is a better example, but I'm not fluent enough in it to provide a correct example.</p>\n"}, {"tags": [], "owner": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "is_accepted": false, "score": 4, "last_activity_date": 1518793771, "creation_date": 1518793771, "answer_id": 48829615, "question_id": 48796813, "link": "https://stackoverflow.com/questions/48796813/what-is-dynamic-dispatch-and-duck-typing/48829615#48829615", "title": "What is dynamic dispatch and duck typing?", "body": "<p>The warning means that you're using a variable that PyCharm doesn't recognise, but due to Python's dynamic nature it can't be sure if it's right or you're right.</p>\n\n<p>For example you may have the following code:</p>\n\n<pre><code>class myClass():\n\n    def myfunc(self):\n        print(self.name)\n</code></pre>\n\n<p>PyCharm will probably complain that <code>self.name</code> can't be resolved. However, you may use the class like this:</p>\n\n<pre><code>my_class = myClass()\nmy_class.name = \"Alastair\"\nmy_class.myfunc()\n</code></pre>\n\n<p>which is perfectly valid (albeit brittle).</p>\n\n<p>The message goes on to say that it's more confident about attribute and methods that are less ambiguous. For example:</p>\n\n<pre><code>class myClass():\n    my_instance_var = \"Al\"\n\n    def myfunc(self):\n        print(self.my_instance_var)\n</code></pre>\n\n<p>As <code>my_instance_var</code> is defined in the source code (a class attribute), PyCharm can be confident it exists.</p>\n\n<p>(Don't use class attributes unless you know what you're doing!)</p>\n"}], "owner": {"reputation": 193, "user_id": 7571399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f71adbd366e729fcf401c9d312bc6a?s=128&d=identicon&r=PG&f=1", "display_name": "Rick M.", "link": "https://stackoverflow.com/users/7571399/rick-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20949, "favorite_count": 4, "accepted_answer_id": 48829061, "answer_count": 2, "score": 8, "last_activity_date": 1518793771, "creation_date": 1518644939, "last_edit_date": 1518791260, "question_id": 48796813, "link": "https://stackoverflow.com/questions/48796813/what-is-dynamic-dispatch-and-duck-typing", "title": "What is dynamic dispatch and duck typing?", "body": "<p>When using Pycharm, It often points out an error, saying:</p>\n\n<blockquote>\n  <p>Unresolved reference 'name'. This inspection detects names that should\n  resolve but don't. <em>Due to dynamic dispatch and duck typing</em>, this is\n  possible in a limited but useful number of cases. Top-level and\n  class-level items are supported better than instance items.</p>\n</blockquote>\n\n<p>I've snooped around about this, but most questions and information I find is about preventing the message from being shown. what I want to know is:</p>\n\n<ul>\n<li>What is dynamic dispatch/duck typing?</li>\n<li>What are (or an example of) these \"useful number of cases\"?</li>\n</ul>\n"}, {"tags": ["python", "python-3.x", "tkinter", "widget"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1518647324, "post_id": 48796807, "comment_id": 84597074, "body": "You are creating two windows. One is not empty. Which one are you asking about?"}], "answers": [{"tags": [], "owner": {"reputation": 700, "user_id": 9073951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/byZb5.jpg?s=128&g=1", "display_name": "Moller Rodrigues", "link": "https://stackoverflow.com/users/9073951/moller-rodrigues"}, "is_accepted": true, "score": 4, "last_activity_date": 1518713966, "last_edit_date": 1518713966, "creation_date": 1518652713, "answer_id": 48798167, "question_id": 48796807, "link": "https://stackoverflow.com/questions/48796807/how-to-create-and-display-multiple-widgets-using-a-loop-tkinter/48798167#48798167", "title": "How to create and display multiple widgets using a loop (Tkinter)", "body": "<p>Firstly delete root = Tk() at the top of your code you are creating 2 windows. Secondly, your loop to create the entry and label widgets is not correct therefore they are not displayed  on the frame, so that is your answer for why they wont show. </p>\n\n<p>Try this:</p>\n\n<pre><code>class InputPage(Frame):\n    def __init__(self, parent, controller):\n        Frame.__init__(self,parent)        \n\n        label = Label(self, text=\"Zorgplan input\")\n        label.grid(row=0, column=0, sticky ='n', columnspan =2)\n\n        # i brought your variable in the class for example sake \n\n        namesInput = [\"First:\", \"second:\", \"Third:\", \"Fourth:\", \"Fifth:\"]\n\n        self.entryWidgets = [] # we want to call this in another function so we assign it as self.variableName\n\n        labelWidgets = []\n\n        #LOOP TO CREATE WIDGETS\n        for i in range(0, len(namesInput)):\n            labelWidgets.append(Label(self, text = namesInput[i]))\n            self.entryWidgets.append(Entry(self))\n            labelWidgets[-1].grid(row= i+1, column =0, sticky='e')\n            self.entryWidgets[-1].grid(row= i+1, column = 1, sticky='w')\n\n        submit = Button(self, text = \"Submit\", command = self.getEntries)\n        submit.grid(row = 6, column =0, columnspan =2)\n\n    def getEntries(self):\n        results = []\n\n        for x in self.entryWidgets: # i.e for each widget in entryWidget list\n            results.append(x.get())\n        print(results)\n</code></pre>\n\n<p>Code explanation:</p>\n\n<p>We are iteratively creating widgets to the number of elements within namesInput list. Each time we create a widget we add it to their respective list. E.g for entry widgets we created a list called entryWidgets. We append them to a list so that we can reference them individually later on when we want to do something with them. </p>\n\n<p>Furthermore, i changed pack() to grid(). The grid method is much cleaner and gives us more control over the layout of our window in my opinion. </p>\n\n<p>Note - If you're struggling to understand how i  'grided' the widgets in the way i did, i just drew up a quick sketch of the widgets with co-ordinates representing their row and column and then from there its fairly easy to see how to manipulate the grid settings in the for loop.</p>\n\n<p>Screenshot:\n<a href=\"https://i.stack.imgur.com/AwewG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AwewG.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 427, "user_id": 6752483, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0c5d9458db384e2ce393981f49233bdd?s=128&d=identicon&r=PG&f=1", "display_name": "no-name", "link": "https://stackoverflow.com/users/6752483/no-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3486, "favorite_count": 1, "accepted_answer_id": 48798167, "answer_count": 1, "score": 2, "last_activity_date": 1518713966, "creation_date": 1518644915, "last_edit_date": 1518673564, "question_id": 48796807, "link": "https://stackoverflow.com/questions/48796807/how-to-create-and-display-multiple-widgets-using-a-loop-tkinter", "title": "How to create and display multiple widgets using a loop (Tkinter)", "body": "<p>I am creating a program with two frames in one window. The first has input fields, the second will create a graph. \nI found a way to create input fields dynamically from a list and get their values accordingly, but I can't get them to show on the window. When I run the program it shows an empty window.</p>\n\n<p>What should I do to get the label and input widgets to show on the first frame (InputPage)? I tried changing 'parent' to 'self' but it made no difference. I don't really understand the structure of widgets in multiple frame applications.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>from tkinter import *\n\nnamesInput = [\"first\", \"second\", \"third\", \"fourth\", \"fifth\"]\nentryInput = {}\nlabelInput = {}\n\nroot = Tk()\n\nclass ZorgplanGrafiek(Tk):\n\ndef __init__(self, *args, **kwargs):\n\n    Tk.__init__(self, *args, **kwargs)\n    container = Frame(self)\n\n    container.pack(side=\"top\", fill=\"both\", expand = True)\n\n    container.grid_rowconfigure(0, weight=1)\n    container.grid_columnconfigure(0, weight=1)\n\n    self.frames = {}\n\n    for F in (InputPage, GraphPage):\n\n        frame = F(container, self)\n\n        self.frames[F] = frame\n\n        frame.grid(row=0, column=0, sticky=\"nsew\")\n\n    self.show_frame(InputPage)\n\ndef show_frame(self, cont):\n\n    frame = self.frames[cont]\n    frame.tkraise()\n\n\nclass InputPage(Frame):\n\ndef __init__(self, parent, controller):\n    Frame.__init__(self,parent)        \n    label = Label(self, text=\"Zorgplan input\")\n    label.pack(pady=10,padx=10)        \n\n    i = 0\n    for name in namesInput:\n        e = Entry(self)        \n        entryInput[name] = e\n        lb = Label(self, text=name)\n        labelInput[name] = lb\n        i += 1\n\n    #def print_all_entries():\n     #   for name in namesInput:\n      #      print( entryInput[name].get())\n\n\nclass GraphPage(Frame):\n\ndef __init__(self, parent, controller):\n    Frame.__init__(self, parent)\n    label = Label(self, text=\"The graph will show here\")\n    label.pack(pady=10,padx=10)\n\n    button = Button(self, text=\"Back to Home\",\n                        command=lambda: controller.show_frame(InputPage))\n    button.pack()\n\napp = ZorgplanGrafiek()\napp.mainloop()\n</code></pre>\n"}, {"tags": ["python", "sorting", "dictionary", "runtime", "heap"], "answers": [{"tags": [], "owner": {"reputation": 7629, "user_id": 1119997, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4a485e339c4de35684dfe31dc758041e?s=128&d=identicon&r=PG", "display_name": "tuxdna", "link": "https://stackoverflow.com/users/1119997/tuxdna"}, "is_accepted": false, "score": 0, "last_activity_date": 1518650812, "last_edit_date": 1518650812, "creation_date": 1518645451, "answer_id": 48796928, "question_id": 48796756, "link": "https://stackoverflow.com/questions/48796756/how-does-heapq-nsmallest-work/48796928#48796928", "title": "How does heapq.nsmallest work", "body": "<p><code>heapq</code> uses a a heap ( <code>_heapify_max</code> )</p>\n\n<p>Here is the implementation for <code>heapq.nsmallest</code> - <a href=\"https://github.com/python/cpython/blob/master/Lib/heapq.py#L395\" rel=\"nofollow noreferrer\">https://github.com/python/cpython/blob/master/Lib/heapq.py#L395</a></p>\n\n<p>Also look at:</p>\n\n<ul>\n<li><a href=\"http://code.activestate.com/recipes/577573-compare-algorithms-for-heapqsmallest/\" rel=\"nofollow noreferrer\">http://code.activestate.com/recipes/577573-compare-algorithms-for-heapqsmallest/</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "is_accepted": true, "score": 3, "last_activity_date": 1518729889, "last_edit_date": 1518729889, "creation_date": 1518707185, "answer_id": 48810320, "question_id": 48796756, "link": "https://stackoverflow.com/questions/48796756/how-does-heapq-nsmallest-work/48810320#48810320", "title": "How does heapq.nsmallest work", "body": "<p>The code for heapq.py is available at <a href=\"https://svn.python.org/projects/python/trunk/Lib/heapq.py\" rel=\"nofollow noreferrer\">https://svn.python.org/projects/python/trunk/Lib/heapq.py</a></p>\n\n<p><code>nsmallest</code> uses one of two algorithms. If the number of items to be returned is more than 10% of the total number of items in the heap, then it makes a copy of the list, sorts it, and returns the first k items.</p>\n\n<p>If k is smaller than n/10, then it uses a heap selection algorithm:</p>\n\n<pre><code>Make a copy of the first k items, and sort it\nfor each remaining item in the original heap\n    if the item is smaller than the largest item in the new list\n        replace the largest item with the new item\n        re-sort the new list\n</code></pre>\n\n<p>That whoever wrote this used such an inefficient algorithm is somewhat surprising. In theory at least, <a href=\"https://en.wikipedia.org/wiki/Quickselect\" rel=\"nofollow noreferrer\">Quick select</a>, which is an O(n) algorithm, should be faster than sorting, and much faster than the \"optimized\" algorithm for selecting n/10 items.</p>\n\n<p>I'm not a Python guy, so I can't say for sure, but my experience with other languages indicates that the above should be true for Python as well.</p>\n\n<h2>Update</h2>\n\n<p>The implementation at <a href=\"https://github.com/python/cpython/blob/master/Lib/heapq.py#L395\" rel=\"nofollow noreferrer\">https://github.com/python/cpython/blob/master/Lib/heapq.py#L395</a> works somewhat differently.</p>\n\n<p>If the k is greater than or equal to the number of items in the list, then a sorted list containing all of the elements is returned. Otherwise, it uses a standard heap selection algorithm:</p>\n\n<pre><code>create a max heap from the first k items\nfor each remaining item\n    if the item is smaller than the largest item on the heap\n        remove the largest item from the heap\n        add the new item to the heap\nsort the resulting heap and return\n</code></pre>\n\n<p>The remove/add is combined into a single function called heap_replace.</p>\n\n<p>There's an optimization in there to use the standard comparator if the key is <code>None</code>, but it uses the same basic heap selection algorithm.</p>\n\n<p>This implementation is much more efficient than the other one that I described, although I expect it to be slower than Quickselect in the general case.</p>\n"}], "owner": {"reputation": 2910, "user_id": 2278676, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/169dbb83a1fdfd2cbd1d4efae32912d2?s=128&d=identicon&r=PG", "display_name": "singmotor", "link": "https://stackoverflow.com/users/2278676/singmotor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5270, "favorite_count": 0, "accepted_answer_id": 48810320, "answer_count": 2, "score": 3, "last_activity_date": 1518729889, "creation_date": 1518644721, "question_id": 48796756, "link": "https://stackoverflow.com/questions/48796756/how-does-heapq-nsmallest-work", "title": "How does heapq.nsmallest work", "body": "<p>I'm trying to determine the fastest runtime for getting k (key,value) pairs based on the smallest k keys in a dictionary.\ni.e.:\nfor</p>\n\n<pre><code>mynahs = {40:(1,3),5:(5,6),11:(9,2),2:(6,3),300:(4,4),15:(2,8)}\n\nsmallestK(mynahs,3)\n</code></pre>\n\n<p>would return:</p>\n\n<pre><code>[(2,(6,3)),(5,(5,6)),(11,(9,2))]\n</code></pre>\n\n<p>I've seen a few different ways to do this:<br>\n1. </p>\n\n<pre><code>mylist = list(mynahs.keys())\nmylist.sort\nmylist = mylist[:k]\nreturn [(k, mynahs[k]) for k in mylist]\n</code></pre>\n\n<p>but everyone seems to think heapq is the fastest</p>\n\n<pre><code>cheap = heapq.nsmallest(3, mynahs)\nreturn [(k, mynahs[k]) for k in cheap]\n</code></pre>\n\n<p>How does heapq.nsmallest work and why is it fastest? I have seen <a href=\"https://stackoverflow.com/questions/23038756/how-does-heapq-nlargest-work\">this question</a> and <a href=\"https://stackoverflow.com/questions/12266617/finding-top-k-largest-keys-in-a-dictionary-python\">this one</a>\nI still don't understand. Is heapq using a minheap to get the nsmallest? How does that work? I've also heard about an algorithm called quickselect, is that what it's using?</p>\n\n<p>What's the runtime of it? If the dictionary is constantly changing/updating, is calling heapq.nsmallest each time you need the nsmallest the fastest way to do that?</p>\n"}, {"tags": ["python", "pandas", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 1792, "user_id": 7710904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bcbc9928f1c2afd97cc631e213c2f04?s=128&d=identicon&r=PG", "display_name": "Pdubbs", "link": "https://stackoverflow.com/users/7710904/pdubbs"}, "edited": false, "score": 0, "creation_date": 1518645106, "post_id": 48796799, "comment_id": 84596134, "body": "Unfortunately I have a large number of dates and need to account for leap years. I&#39;d like to preserve calendar date to account for holidays (New Year&#39;s day, Christmas, etc.)"}, {"owner": {"reputation": 3286, "user_id": 7619676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a7e32a3b0f08448f8e6099681622dd8?s=128&d=identicon&r=PG&f=1", "display_name": "ZaxR", "link": "https://stackoverflow.com/users/7619676/zaxr"}, "reply_to_user": {"reputation": 1792, "user_id": 7710904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bcbc9928f1c2afd97cc631e213c2f04?s=128&d=identicon&r=PG", "display_name": "Pdubbs", "link": "https://stackoverflow.com/users/7710904/pdubbs"}, "edited": false, "score": 0, "creation_date": 1518645263, "post_id": 48796799, "comment_id": 84596194, "body": "Gotcha. jp_data_analysis&#39;s answer should work [and be fast] then."}], "tags": [], "owner": {"reputation": 3286, "user_id": 7619676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a7e32a3b0f08448f8e6099681622dd8?s=128&d=identicon&r=PG&f=1", "display_name": "ZaxR", "link": "https://stackoverflow.com/users/7619676/zaxr"}, "is_accepted": false, "score": 0, "last_activity_date": 1518645510, "last_edit_date": 1518645510, "creation_date": 1518644879, "answer_id": 48796799, "question_id": 48796729, "link": "https://stackoverflow.com/questions/48796729/how-to-add-a-year-to-a-column-of-dates-in-pandas/48796799#48796799", "title": "How to add a year to a column of dates in pandas", "body": "<p>Edit: This works if you don't care about leap years, etc. Otherwise see jp_data_analysis's answer.</p>\n\n<p>You can use 365 and <code>unit='d'</code>:</p>\n\n<pre><code>pd.to_timedelta(365, unit='d')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 2, "last_activity_date": 1518645006, "creation_date": 1518645006, "answer_id": 48796827, "question_id": 48796729, "link": "https://stackoverflow.com/questions/48796729/how-to-add-a-year-to-a-column-of-dates-in-pandas/48796827#48796827", "title": "How to add a year to a column of dates in pandas", "body": "<p>You can normalize via <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.dt.normalize.html\" rel=\"nofollow noreferrer\"><code>pd.Series.dt.normalize</code></a>:</p>\n\n<pre><code>dates['date2'] = (dates['date'] +  pd.to_timedelta(1, unit='y')).dt.normalize()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 16, "last_activity_date": 1518645063, "creation_date": 1518645063, "answer_id": 48796841, "question_id": 48796729, "link": "https://stackoverflow.com/questions/48796729/how-to-add-a-year-to-a-column-of-dates-in-pandas/48796841#48796841", "title": "How to add a year to a column of dates in pandas", "body": "<pre><code>In [99]: dates['date'] + pd.offsets.DateOffset(years=1)\nOut[99]:\n0   2018-01-01\n1   2018-01-02\n2   2018-01-03\nName: date, dtype: datetime64[ns]\n</code></pre>\n\n<p>leap year check:</p>\n\n<pre><code>In [100]: pd.to_datetime(['2011-02-28', '2012-02-29']) + pd.offsets.DateOffset(years=1)\nOut[100]: DatetimeIndex(['2012-02-28', '2013-02-28'], dtype='datetime64[ns]', freq=None)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "is_accepted": false, "score": 1, "last_activity_date": 1518645133, "creation_date": 1518645133, "answer_id": 48796856, "question_id": 48796729, "link": "https://stackoverflow.com/questions/48796729/how-to-add-a-year-to-a-column-of-dates-in-pandas/48796856#48796856", "title": "How to add a year to a column of dates in pandas", "body": "<p>Or convert <code>datetime</code> to <code>date</code></p>\n\n<pre><code>dates['date'] = dates['date'].apply(lambda a: a.date())\n</code></pre>\n"}], "owner": {"reputation": 1792, "user_id": 7710904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bcbc9928f1c2afd97cc631e213c2f04?s=128&d=identicon&r=PG", "display_name": "Pdubbs", "link": "https://stackoverflow.com/users/7710904/pdubbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7367, "favorite_count": 2, "accepted_answer_id": 48796841, "answer_count": 4, "score": 10, "last_activity_date": 1518645510, "creation_date": 1518644616, "question_id": 48796729, "link": "https://stackoverflow.com/questions/48796729/how-to-add-a-year-to-a-column-of-dates-in-pandas", "title": "How to add a year to a column of dates in pandas", "body": "<p>I am attempting to add a year to a column of dates in a pandas dataframe, but when I use <code>pd.to_timedelta</code> I get additional hours &amp; minutes. I know I could take the updated time and truncate the hours, but I feel like there must be a way to add a year precisely. My attempt as follows:</p>\n\n<pre><code>import pandas as pd\ndates = pd.DataFrame({'date':['20170101','20170102','20170103']})\ndates['date'] = pd.to_datetime(dates['date'], format='%Y%m%d')\ndates['date2'] = dates['date'] +  pd.to_timedelta(1, unit='y')\ndates\n</code></pre>\n\n<p>yields:</p>\n\n<pre><code>Out[1]: \n    date        date2\n0   2017-01-01  2018-01-01 05:49:12\n1   2017-01-02  2018-01-02 05:49:12\n2   2017-01-03  2018-01-03 05:49:12\n</code></pre>\n\n<p>How can I add a year without adding 05:49:12 HH:mm:ss?</p>\n"}, {"tags": ["python", "excel", "pandas", "format", "xlsxwriter"], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 8705066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a5488df1050ec372db6e17aabf3f48?s=128&d=identicon&r=PG&f=1", "display_name": "smallwat3r", "link": "https://stackoverflow.com/users/8705066/smallwat3r"}, "is_accepted": true, "score": 3, "last_activity_date": 1546443120, "last_edit_date": 1546443120, "creation_date": 1518649974, "answer_id": 48797772, "question_id": 48796718, "link": "https://stackoverflow.com/questions/48796718/how-do-i-save-a-pandas-df-to-excel-sheet-then-format-it/48797772#48797772", "title": "How do I save a pandas df to excel sheet then format it?", "body": "<p>Unfortunately as seen here <a href=\"https://github.com/jmcnamara/XlsxWriter/issues/336\" rel=\"nofollow noreferrer\">https://github.com/jmcnamara/XlsxWriter/issues/336</a> , this is not possible to format <code>date</code> and <code>datetime</code> values with <code>XlsxWriter</code>.    </p>\n\n<p>What you could do instead is add <code>df = df.astype(str)</code> to change your dataframe formats from <code>date</code> / <code>datetime</code> to <code>string</code>.</p>\n\n<pre><code>df = pd.DataFrame(\n    {\n        'Date and time': [\n            datetime(2015, 1, 1, 11, 30, 55),\n            datetime(2015, 1, 2, 1,  20, 33),\n            [ ... ]\n        ],\n        'Dates only': [\n            date(2015, 2, 1),\n            date(2015, 2, 2),\n            [ ... ]\n        ]\n    }\n)\n\ndf = df.astype(str)\n\nwriter = pd.ExcelWriter(\"pandas_datetime_format.xlsx\",\n                        engine='xlsxwriter',\n                        [ ... ])\n\n[ ... ]\n</code></pre>\n\n<p>Outputs :</p>\n\n<p><a href=\"https://i.stack.imgur.com/47eOu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/47eOu.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note that if you want the headers to be overwritten with the new format, add to the beginning of your code:</p>\n\n<pre><code>import pandas.io.formats.excel\npandas.io.formats.excel.header_style = None\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4858188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--KfAmiT4SHs/AAAAAAAAAAI/AAAAAAAAAPc/eYzY6qDYldY/photo.jpg?sz=128", "display_name": "Mo Azim", "link": "https://stackoverflow.com/users/4858188/mo-azim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1147, "favorite_count": 0, "accepted_answer_id": 48797772, "answer_count": 1, "score": 1, "last_activity_date": 1546443120, "creation_date": 1518644554, "question_id": 48796718, "link": "https://stackoverflow.com/questions/48796718/how-do-i-save-a-pandas-df-to-excel-sheet-then-format-it", "title": "How do I save a pandas df to excel sheet then format it?", "body": "<pre><code>import pandas as pd\n\nfrom datetime import datetime, date\n\ndf = pd.DataFrame({'Date and time': [datetime(2015, 1, 1, 11, 30, 55),\n                                 datetime(2015, 1, 2, 1,  20, 33),\n                                 datetime(2015, 1, 3, 11, 10    ),\n                                 datetime(2015, 1, 4, 16, 45, 35),\n                                 datetime(2015, 1, 5, 12, 10, 15)],\n                   'Dates only':    [date(2015, 2, 1),\n                                 date(2015, 2, 2),\n                                 date(2015, 2, 3),\n                                 date(2015, 2, 4),\n                                 date(2015, 2, 5)],\n               })\n\nwriter = pd.ExcelWriter(\"pandas_datetime_format.xlsx\",\n                    engine='xlsxwriter',\n                    datetime_format='mmm d yyyy hh:mm:ss',\n                    date_format='mmmm dd yyyy')\n\ndf.to_excel(writer, sheet_name='Sheet1')\n\nworkbook  = writer.book\nworksheet = writer.sheets['Sheet1']\n\nformat_bc = workbook.add_format({\n    'font_name': 'Arial',\n    'font_size' : 14,\n    'font_color': 'white',\n    'bold': 0,\n    'border': 1,\n    'align': 'left',\n    'valign': 'vcenter',\n    'text_wrap': 1,\n    'fg_color': '#005581'})\nworksheet.set_column('B:C', 20, format_bc)\nwriter.save()\n</code></pre>\n\n<p>The above code was expected to generated a formatted excel sheet, with the columns B and B having blue background and other aspects specified in format_bc.\nInstead I received a file shown in the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YaNSq.png\" rel=\"nofollow noreferrer\">Not formatting the desired cells</a></p>\n\n<p>Is there a way to write a dataframe to an excel sheet with formatting?</p>\n"}, {"tags": ["python", "turtle-graphics"], "comments": [{"owner": {"reputation": 13930, "user_id": 236830, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1d7f93f931421bcf885970cac408ef8c?s=128&d=identicon&r=PG", "display_name": "Davoud Taghawi-Nejad", "link": "https://stackoverflow.com/users/236830/davoud-taghawi-nejad"}, "edited": false, "score": 1, "creation_date": 1518644805, "post_id": 48796697, "comment_id": 84595978, "body": "check out pygame"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644701, "creation_date": 1518644701, "answer_id": 48796750, "question_id": 48796697, "link": "https://stackoverflow.com/questions/48796697/which-object-counts-as-the-camera-in-python/48796750#48796750", "title": "Which object counts as the &#39;camera&#39; in Python?", "body": "<p>There's no camera. Turtle graphics don't have that.</p>\n"}], "owner": {"reputation": 89, "user_id": 9162285, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cf1a56bbed88e4dff5e7a6b405274b15?s=128&d=identicon&r=PG&f=1", "display_name": "The Weird", "link": "https://stackoverflow.com/users/9162285/the-weird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1608500132, "creation_date": 1518644442, "question_id": 48796697, "link": "https://stackoverflow.com/questions/48796697/which-object-counts-as-the-camera-in-python", "title": "Which object counts as the &#39;camera&#39; in Python?", "body": "<p>In python turtle graphics, which object counts as the camera?\nsuch as how in 2D videogames the view of the map follows the player as he \\ she moves around.</p>\n"}, {"tags": ["python", "jupyter-notebook", "jupyter"], "answers": [{"comments": [{"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1518723503, "post_id": 48797558, "comment_id": 84633750, "body": "That&#39;s a good point. I was actually trying on it but when pull the image, and run <code>docker run -d -p 443:8888 -e &quot;PASSWORD=MakeAPassword&quot; ipython&#47;scipyserver</code>. The endpoint <code>https:&#47;&#47;localhost:8888</code> gives me error says <code>SSLError: ...(something here) :wrong version number</code>. Do you have any idea what might be the issue?"}], "tags": [], "owner": {"reputation": 603, "user_id": 5113171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fg6CV.png?s=128&g=1", "display_name": "Milton Arango G", "link": "https://stackoverflow.com/users/5113171/milton-arango-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1518648733, "creation_date": 1518648733, "answer_id": 48797558, "question_id": 48796695, "link": "https://stackoverflow.com/questions/48796695/prevent-user-from-importing-os-module-in-jupyter-notebook/48797558#48797558", "title": "Prevent user from importing os module in jupyter notebook", "body": "<p>You could try to run the jupyter notebook server as a Docker container. That way your environment variables will be isolated from the container. Ipython has an available docker image, so you need to install docker if this approach works for you. </p>\n\n<p><a href=\"https://github.com/ipython/ipython/wiki/Install:-Docker\" rel=\"nofollow noreferrer\">Installing Ipython Docker Image</a></p>\n\n<p>If you need to pass environment variables for the Docker container refer to this question: <a href=\"https://stackoverflow.com/questions/30494050/how-do-i-pass-environment-variables-to-docker-containers\">Passing env variables to docker</a></p>\n"}], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 48797558, "answer_count": 1, "score": 1, "last_activity_date": 1518648733, "creation_date": 1518644427, "question_id": 48796695, "link": "https://stackoverflow.com/questions/48796695/prevent-user-from-importing-os-module-in-jupyter-notebook", "title": "Prevent user from importing os module in jupyter notebook", "body": "<p>I am trying to set up a jupyter notebook server so that a few members can have access and run analysis on it. But there are several API credentials that I stored as the environment variables that I don't want users to have access to. Basically I want to prevent users from importing <code>os</code> module in the notebook, since <code>os.environ</code> list all environment variables on the server. What would be a proper way to do this?</p>\n"}, {"tags": ["python", "django", "orm", "django-queryset", "django-annotate"], "comments": [{"owner": {"reputation": 619, "user_id": 2268460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32ee17a9fa09a85aa49d9c0a0a34ea5?s=128&d=identicon&r=PG", "display_name": "Philip B.", "link": "https://stackoverflow.com/users/2268460/philip-b"}, "edited": false, "score": 0, "creation_date": 1519187799, "post_id": 48796678, "comment_id": 84801909, "body": "I&#39;m having trouble understanding your question. For a set of specific services you want to find the service type that offers exactly these services? Can you maybe add a simple data example that shows what you are looking for? Assume you have 3 services A, B and C. Then assume you have service type 1 - offering A and B - and service type 2 - offering B and C. Do you want to search for a service type that only offers A and B?"}, {"owner": {"reputation": 185, "user_id": 2986923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKcoR.jpg?s=128&g=1", "display_name": "Tapo4ek", "link": "https://stackoverflow.com/users/2986923/tapo4ek"}, "reply_to_user": {"reputation": 619, "user_id": 2268460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32ee17a9fa09a85aa49d9c0a0a34ea5?s=128&d=identicon&r=PG", "display_name": "Philip B.", "link": "https://stackoverflow.com/users/2268460/philip-b"}, "edited": false, "score": 0, "creation_date": 1519490897, "post_id": 48796678, "comment_id": 84936231, "body": "For example i have services, A, B, C and D. And i have 2 service_types ServiceType(AB), that provides services A and B, ServiceType(CD) that provides services C and D. For set of services A and B, queryset must return ServiceType(AB), for set of services B and C, there will be empty queryset, for set of services C and D, ServiceType(CD) will be returned."}], "owner": {"reputation": 185, "user_id": 2986923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKcoR.jpg?s=128&g=1", "display_name": "Tapo4ek", "link": "https://stackoverflow.com/users/2986923/tapo4ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1519533338, "creation_date": 1518644366, "question_id": 48796678, "link": "https://stackoverflow.com/questions/48796678/django-many-to-many-queryset-trouble", "title": "Django many to many queryset trouble", "body": "<p>I have 2 models</p>\n\n<pre><code>class Service(models.Model):\n    name = models.CharField(max_length=100)\n\nclass ServiceType(models.Model):\n    name = models.CharField(max_length=100)\n    services = models.ManyToManyField(Service, related_name='service_types')\n</code></pre>\n\n<p>Now i have a list of services and want to get ServiceType with <strong>only</strong> this services. If not exists, create it.</p>\n\n<p>I don't understand how to build this queryset threw Django ORM.....</p>\n\n<p>queryset like </p>\n\n<pre><code>ServiceType.objects.filter(services__id__in=services.values_list('id', flat=True)).annotate(count=Count('services')).filter(count=services.count())\n</code></pre>\n\n<p>returns all ServiceTypes with needed services and not needed services...</p>\n\n<p>P.S. Sorry for my English</p>\n"}, {"tags": ["python", "pandas", "csv", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 2, "last_activity_date": 1518645077, "creation_date": 1518645077, "answer_id": 48796843, "question_id": 48796635, "link": "https://stackoverflow.com/questions/48796635/extract-specific-string-data-in-csv-data-frame-using-python/48796843#48796843", "title": "Extract specific string data in csv (data frame) using Python", "body": "<p>Base on my experience , when reading from csv, your dict column is string , so We need convert it back firstly by using <code>literal_eval</code> from <code>ast</code>, then we need following steps </p>\n\n<pre><code>s=df.rate.apply(pd.Series).set_index('id').stack().apply(pd.Series)\ns\nOut[289]: \n           interval  pay_rate\nid                           \n101  win       21.0     0.239\n1892 win       35.0     0.769\n153  lose      39.0     0.369\n</code></pre>\n\n<p>Then we need slice out the condition you need </p>\n\n<pre><code>s.loc[(slice(None),'win'),:].interval\nOut[301]: \nid       \n101   win    21.0\n1892  win    35.0\nName: interval, dtype: float64\n</code></pre>\n\n<p>Data :</p>\n\n<pre><code>from ast import literal_eval\n\ndf=pd.DataFrame({'id':[1,2,3],'status':['good','good','bad'],'rate':['{\"id\": 101, \"win\": {\"interval\": 21, \"pay_rate\": 0.239}}','{\"id\": 1892, \"win\": {\"interval\": 35, \"pay_rate\": 0.769}}','{\"id\": 153, \"lose\": {\"interval\": 39, \"pay_rate\": 0.369}}']})\ndf['rate'] = df['rate'].apply(literal_eval)\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 9362220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc71acb0f39975a4368597cf3430f2b?s=128&d=identicon&r=PG&f=1", "display_name": "BigData", "link": "https://stackoverflow.com/users/9362220/bigdata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 48796843, "answer_count": 1, "score": 3, "last_activity_date": 1518645281, "creation_date": 1518644145, "question_id": 48796635, "link": "https://stackoverflow.com/questions/48796635/extract-specific-string-data-in-csv-data-frame-using-python", "title": "Extract specific string data in csv (data frame) using Python", "body": "<p>I used Python to read a CSV file as DataFrame, I don't know how to write a code to extract the number e.g. 21 and 35 behind the word \"interval\", with a condition \"win\".</p>\n\n<pre><code>import pandas as pd\norder = pd.read_csv('C:/Users/Desktop/order.csv')\norder.rate.str.extractall(interval)\n</code></pre>\n\n<p>here is a sample data: </p>\n\n<pre><code>id  status                     rate\n\n1,  good,       {\"id\": 101, \"win\": {\"interval\": 21, \"pay_rate\": 0.239}}\n\n2,  good,       {\"id\": 1892, \"win\": {\"interval\": 35, \"pay_rate\": 0.769}}\n\n3,  bad,        {\"id\": 153, \"lose\": {\"interval\": 39, \"pay_rate\": 0.369}}\n</code></pre>\n"}, {"tags": ["python", "web.py"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1518648556, "post_id": 48796628, "comment_id": 84597582, "body": "Make the <code>POST</code> method&#39;s signature the same as the <code>GET</code> method&#39;s."}], "answers": [{"tags": [], "owner": {"reputation": 3438, "user_id": 2205785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FY5zS.png?s=128&g=1", "display_name": "pbuck", "link": "https://stackoverflow.com/users/2205785/pbuck"}, "is_accepted": true, "score": 0, "last_activity_date": 1519350694, "creation_date": 1519350694, "answer_id": 48939977, "question_id": 48796628, "link": "https://stackoverflow.com/questions/48796628/how-to-handle-get-and-post-needs-different-numbers-of-argument-in-web-py-framewo/48939977#48939977", "title": "How to handle GET and POST needs different numbers of argument in web.py framework", "body": "<p>As suggested in a comment, make POST method's signature the same as GET:</p>\n\n<pre><code>def POST(self, id=None):\n   ...\n</code></pre>\n\n<p>Your issue is due to the fact that your POST request <code>/api/users/1</code> includes the final ID. That means <code>webpy</code> matches the pattern <code>/api/users/(\\d+)$</code>, which is then handled by <code>class User</code>. If you GET that url, it goes to <code>&lt;User&gt;.GET()</code>, if you POST that url, it goes to <code>&lt;Users&gt;.POST()</code>... (<code>DELETE</code> goes to <code>&lt;User&gt;.DELETE()</code>, etc.)</p>\n\n<p>Because the matching pattern includes a regex capture <code>(\\d+)</code>, that matched value will be passed as an additional argument to the function.... whichever function is called.</p>\n\n<p>You can use a non-capturing regex: <code>(?:\\d+)$</code> which will require a match in the URL, but will not cause the matching value to be passed as a argument, so:</p>\n\n<pre><code>url = ('/api/users', 'User',\n       '/api/users/(?:\\d+)$', 'User')\n\nclass User(object):\n    def GET(self, id=None):\n        pass\n    def POST(self):\n        pass\n</code></pre>\n\n<p>Now, <code>/api/users</code> and <code>/api/users/1</code> will go to <code>User</code> class, and get handled by GET or POST depending on the request. Note that because you're no longer capturing the <code>id</code> your <code>GET(self, id=None):</code> still works, but will <strong>always</strong> have None for the id (because it's not captured!)</p>\n\n<p>Most likely, what you want is the simple: make the arguments the same. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9560452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0BnYYinI1i8/AAAAAAAAAAI/AAAAAAAAEt8/eh7A2PpRRBs/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/9560452/niels"}, "is_accepted": false, "score": 0, "last_activity_date": 1522180627, "creation_date": 1522180627, "answer_id": 49521437, "question_id": 48796628, "link": "https://stackoverflow.com/questions/48796628/how-to-handle-get-and-post-needs-different-numbers-of-argument-in-web-py-framewo/49521437#49521437", "title": "How to handle GET and POST needs different numbers of argument in web.py framework", "body": "<p>Or you can use flexible number of arguments:</p>\n\n<pre><code>def GET(*arg):\n    self = arg[0]\n    id = arg[1]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9362122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27d7fbb2d039479afbea3f58a94fa09?s=128&d=identicon&r=PG&f=1", "display_name": "vzer", "link": "https://stackoverflow.com/users/9362122/vzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 48939977, "answer_count": 2, "score": 1, "last_activity_date": 1522180627, "creation_date": 1518644132, "last_edit_date": 1518644735, "question_id": 48796628, "link": "https://stackoverflow.com/questions/48796628/how-to-handle-get-and-post-needs-different-numbers-of-argument-in-web-py-framewo", "title": "How to handle GET and POST needs different numbers of argument in web.py framework", "body": "<p>When develop an restful style API server with web.py micro framework .  i have an issue about multiple URL with a handle class and http method funcation needs defferent arguments. for example\uff1a</p>\n\n<pre><code>URL\uff1a\nurl =['/api/users', 'User',\n        '/api/users/(\\d+)$, 'User']\n\nClass:\nclass User(object):\n    def GET(self, id=None):\n         Pass\n\n    def POST(self):\n        Pass\n</code></pre>\n\n<p>Issues:\nWhen use postman call /api/uses/1 with POST method\nWill happen an exception. How to fix it? </p>\n"}, {"tags": ["python", "numpy", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1518647202, "post_id": 48796619, "comment_id": 84597014, "body": "Could you provide your model definition?"}, {"owner": {"reputation": 7817, "user_id": 4789373, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-f_OQrxbHhFQ/AAAAAAAAAAI/AAAAAAAAABA/NY38t7ooQ5c/photo.jpg?sz=128", "display_name": "FalconUA", "link": "https://stackoverflow.com/users/4789373/falconua"}, "edited": false, "score": 0, "creation_date": 1518652452, "post_id": 48796619, "comment_id": 84598823, "body": "An interesting insight. Please provide more information (maybe more code?) of your training/inference, as well as model definition."}, {"owner": {"reputation": 437, "user_id": 3592550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8d1e36cece7d34399913df030d92d96?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/3592550/alexander"}, "edited": false, "score": 0, "creation_date": 1518656063, "post_id": 48796619, "comment_id": 84599821, "body": "If I use model.predict() on an array with 10000 lines for 1 time, it takes about 0.1 seconds."}, {"owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 1, "creation_date": 1518680481, "post_id": 48796619, "comment_id": 84606781, "body": "Are you using a GPU?"}, {"owner": {"reputation": 437, "user_id": 3592550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8d1e36cece7d34399913df030d92d96?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/3592550/alexander"}, "reply_to_user": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 0, "creation_date": 1519062291, "post_id": 48796619, "comment_id": 84746721, "body": "@MatiasValdenegro No, I&#39;m using CPU only."}, {"owner": {"reputation": 96, "user_id": 7993099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xmAhU.jpg?s=128&g=1", "display_name": "Sahil Shah", "link": "https://stackoverflow.com/users/7993099/sahil-shah"}, "edited": false, "score": 0, "creation_date": 1551220694, "post_id": 48796619, "comment_id": 96559505, "body": "Did you ever find a solution for this?"}, {"owner": {"reputation": 5129, "user_id": 287238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oQJH2.jpg?s=128&g=1", "display_name": "mathtick", "link": "https://stackoverflow.com/users/287238/mathtick"}, "edited": false, "score": 0, "creation_date": 1571694200, "post_id": 48796619, "comment_id": 103318775, "body": "Same boat, seems tf or keras has some start up bloat. Calling a large batch runs almost same time as one sample. Considering mappy some layers to numpy."}], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 3592550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8d1e36cece7d34399913df030d92d96?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/3592550/alexander"}, "edited": false, "score": 0, "creation_date": 1518655564, "post_id": 48798305, "comment_id": 84599672, "body": "As I understand it, the memory leak is only a problem if you create models in a loop. I only use a single model object in the test case."}, {"owner": {"reputation": 571, "user_id": 6343136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ab50f2d4a17a622653927213b478668?s=128&d=identicon&r=PG", "display_name": "troymyname00", "link": "https://stackoverflow.com/users/6343136/troymyname00"}, "reply_to_user": {"reputation": 437, "user_id": 3592550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8d1e36cece7d34399913df030d92d96?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/3592550/alexander"}, "edited": false, "score": 1, "creation_date": 1518742685, "post_id": 48798305, "comment_id": 84641203, "body": "@schoeberl Understood. There might be several ways to make a single model faster, and that would depend on how you&#39;re setting up the model. A quick search led me to this, which I thought might be helpful: <a href=\"https://stackoverflow.com/questions/42184863/how-do-you-make-tensorflow-keras-fast-with-a-tfrecord-dataset\">LINK</a>"}], "tags": [], "owner": {"reputation": 571, "user_id": 6343136, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ab50f2d4a17a622653927213b478668?s=128&d=identicon&r=PG", "display_name": "troymyname00", "link": "https://stackoverflow.com/users/6343136/troymyname00"}, "is_accepted": false, "score": 3, "last_activity_date": 1518653671, "creation_date": 1518653671, "answer_id": 48798305, "question_id": 48796619, "link": "https://stackoverflow.com/questions/48796619/why-is-tf-keras-inference-way-slower-than-numpy-operations/48798305#48798305", "title": "Why is TF Keras inference way slower than Numpy operations?", "body": "<p>Are you running your Keras model (with TensorFlow backend) in a loop? If so, Keras has a memory leak issue identified here: <a href=\"https://github.com/keras-team/keras/issues/2102\" rel=\"nofollow noreferrer\">LINK</a></p>\n\n<p>In this case you have to import the following:</p>\n\n<pre><code>import keras.backend.tensorflow_backend\nimport tensorflow as tf\n\nfrom keras.backend import clear_session\n</code></pre>\n\n<p>Finally, you have to put the following at the end of every iteration of a loop after you're done doing your computations:</p>\n\n<pre><code>clear_session()\nif keras.backend.tensorflow_backend._SESSION:\n    tf.reset_default_graph()\n    keras.backend.tensorflow_backend._SESSION.close()\n    keras.backend.tensorflow_backend._SESSION = None\n</code></pre>\n\n<p>This should help you free up memory at the end of every loop and eventually, make the process faster. I hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 447, "user_id": 2912518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100002020634690/picture?type=large", "display_name": "Ruthvik Vaila", "link": "https://stackoverflow.com/users/2912518/ruthvik-vaila"}, "edited": false, "score": 0, "creation_date": 1576351486, "post_id": 55328253, "comment_id": 104874530, "body": "This saves a tonne of time. Only catch is to make sure that <code>batch_size</code> is not very large or else tensorflow will throw an <code>OOM</code>."}, {"owner": {"reputation": 1913, "user_id": 4294553, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b14938e80f2c10fb9fe654dd9e5fffa8?s=128&d=identicon&r=PG&f=1", "display_name": "tim654321", "link": "https://stackoverflow.com/users/4294553/tim654321"}, "edited": false, "score": 0, "creation_date": 1585219195, "post_id": 55328253, "comment_id": 107686902, "body": "This worked for me when some of the other more complicated solutions like using a compiled/uncompiled model did not."}], "tags": [], "owner": {"reputation": 111, "user_id": 10952884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6f06405434901411a013b7c467ec2c?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Schmickler", "link": "https://stackoverflow.com/users/10952884/simon-schmickler"}, "is_accepted": false, "score": 11, "last_activity_date": 1553460513, "last_edit_date": 1553460513, "creation_date": 1553459275, "answer_id": 55328253, "question_id": 48796619, "link": "https://stackoverflow.com/questions/48796619/why-is-tf-keras-inference-way-slower-than-numpy-operations/55328253#55328253", "title": "Why is TF Keras inference way slower than Numpy operations?", "body": "<p>A little late, but maybe useful for someone:</p>\n\n<p>Replace <code>model.predict(X)</code> with <code>model.predict(X, batch_size=len(X))</code></p>\n\n<p>That should do it.</p>\n"}, {"tags": [], "owner": {"reputation": 2059, "user_id": 9805238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u4HMG.png?s=128&g=1", "display_name": "Hagbard", "link": "https://stackoverflow.com/users/9805238/hagbard"}, "is_accepted": false, "score": 0, "last_activity_date": 1571923888, "creation_date": 1571923888, "answer_id": 58542517, "question_id": 48796619, "link": "https://stackoverflow.com/questions/48796619/why-is-tf-keras-inference-way-slower-than-numpy-operations/58542517#58542517", "title": "Why is TF Keras inference way slower than Numpy operations?", "body": "<p>The <a href=\"https://github.com/keras-team/keras/issues/2102\" rel=\"nofollow noreferrer\">memory leak issue</a> still seems to persist in Keras. The following lines of code mentioned in that issue did the trick for me:</p>\n\n<pre><code>import ... as K\nimport gc\n\nmodel = ....\ndel model\nK.clear_session()\ngc.collect()\n</code></pre>\n"}], "owner": {"reputation": 437, "user_id": 3592550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c8d1e36cece7d34399913df030d92d96?s=128&d=identicon&r=PG&f=1", "display_name": "alexander", "link": "https://stackoverflow.com/users/3592550/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3722, "favorite_count": 5, "answer_count": 3, "score": 15, "last_activity_date": 1571923888, "creation_date": 1518644091, "last_edit_date": 1519352958, "question_id": 48796619, "link": "https://stackoverflow.com/questions/48796619/why-is-tf-keras-inference-way-slower-than-numpy-operations", "title": "Why is TF Keras inference way slower than Numpy operations?", "body": "<p>I'm working on a reinforcement learning model implemented with Keras and Tensorflow. I have to do frequent calls to model.predict() on single inputs.</p>\n\n<p>While testing inference on a simple pretrained model, I noticed that using Keras' model.predict is WAY slower than just using Numpy on stored weights. Why is it that slow and how can I accelerate it? Using pure Numpy is not viable for complex models.</p>\n\n<pre><code>import timeit\nimport numpy as np\nfrom tensorflow.python.keras.models import Sequential\nfrom tensorflow.python.keras.layers import Dense\n\nw = np.array([[-1., 1., 0., 0.], [0., 0., -1., 1.]]).T\nb = np.array([ 15., -15., -21., 21.])\n\nmodel = Sequential()\nmodel.add(Dense(4, input_dim=2, activation='linear'))\nmodel.layers[0].set_weights([w.T, b])\nmodel.compile(loss='mse', optimizer='adam')\n\nstate = np.array([-23.5, 17.8])\n\ndef predict_very_slow():\n    return model.predict(state[np.newaxis])[0]\n\ndef predict_slow():\n    ws = model.layers[0].get_weights()\n    return np.matmul(ws[0].T, state) + ws[1]\n\ndef predict_fast():\n    return np.matmul(w, state) + b\n\nprint(\n    timeit.timeit(predict_very_slow, number=10000),\n    timeit.timeit(predict_slow, number=10000),\n    timeit.timeit(predict_fast, number=10000)\n)\n# 5.168972805004538 1.6963867129435828 0.021918574168087623\n# 5.461319456664639 1.5491559107269515 0.021502970783442876\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6200, "user_id": 1040092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/se31H.jpg?s=128&g=1", "display_name": "Wondercricket", "link": "https://stackoverflow.com/users/1040092/wondercricket"}, "edited": false, "score": 3, "creation_date": 1518644203, "post_id": 48796611, "comment_id": 84595732, "body": "<code>&#39;;&#39;.join([a,b])</code>?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1518644631, "post_id": 48796611, "comment_id": 84595912, "body": "Explanation of your undesired result: your current <code>row</code> line <i>forces</i> Python to use its <code>__str__</code>  (or possibly <code>__repr__</code>, I always confuse these two) function on a list."}, {"owner": {"reputation": 9, "user_id": 9362188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8cT3.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/9362188/steve"}, "edited": false, "score": 0, "creation_date": 1518646795, "post_id": 48796611, "comment_id": 84596836, "body": "Actually, this is also very helpful. The only thing it does that I don&#39;t know how to fix is it strips all the control characters out of a variable that I want to preserve."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 9362188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8cT3.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/9362188/steve"}, "edited": false, "score": 0, "creation_date": 1518646189, "post_id": 48796752, "comment_id": 84596584, "body": "The first one gets me the closest - the only problem is it puts all of the data on one row with out a newline to separate the rows. Adding \\n results in all of the fields on separate rows. The second results in &quot;not all arguments converted during string formatting&quot;. And the third doesn&#39;t give me an error but I&#39;m missing data and everything is all on the same row like the first example."}, {"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "reply_to_user": {"reputation": 9, "user_id": 9362188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8cT3.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/9362188/steve"}, "edited": false, "score": 0, "creation_date": 1518647481, "post_id": 48796752, "comment_id": 84597157, "body": "@Steve The <code>.write</code> of a file object does not magically add new lines, you need to handle that yourself, or alternatively use <code>print &gt;&gt; f, row</code>.  The second alternative works as advertised, make sure you are using <code>(a, b)</code> not <code>[a, b]</code>"}], "tags": [], "owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644704, "creation_date": 1518644704, "answer_id": 48796752, "question_id": 48796611, "link": "https://stackoverflow.com/questions/48796611/python-write-output-separated-by-semi-colon/48796752#48796752", "title": "Python write output separated by semi-colon", "body": "<p>If you want them wrapped in single quotes, <code>'var1'; 'var2'</code>, then use any of</p>\n\n<pre><code>row = \"; \".join(repr(x) for x in [a, b])\n</code></pre>\n\n<p>or</p>\n\n<pre><code>row = \"%r; %r\" % (a, b)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>row = \"{!r}; {!r}\".format(a, b)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9362188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8cT3.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/9362188/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518646814, "creation_date": 1518644051, "last_edit_date": 1518646814, "question_id": 48796611, "link": "https://stackoverflow.com/questions/48796611/python-write-output-separated-by-semi-colon", "title": "Python write output separated by semi-colon", "body": "<p>I'm new to Python and I'm trying to output fields to a text file. I've been able to throw the output to a text file but it's got \"[\" and \"]\" bracketing each row and is separated by commas. </p>\n\n<p>I don't want the enclosing brackets and I have a date field that contains a comma so I need the fields to be separated by semi-colons.</p>\n\n<p>Here's an example of the code that I'm using:</p>\n\n<pre><code>f=open(\"output.txt\",\"a+\")\n\nfor item in x['data']:\n    print \"Variable 1: \" + str(var1) \n    print \"Variable 2: \" + str(var2)\n\n    a=str(var1.strip())\n    b=str(var2.strip())\n\n    row = \"%s\\n\" % [a,b] \n\nf.write(row)\n</code></pre>\n\n<p>My output looks like this:</p>\n\n<pre><code>['var1', 'var2']\n</code></pre>\n\n<p>I want it to look like this:</p>\n\n<pre><code>'var1'; 'var2'\n</code></pre>\n\n<p>Any help would be greatly appreciated. </p>\n"}, {"tags": ["python", "modbus"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1518644305, "post_id": 48796606, "comment_id": 84595772, "body": "Oddly enough when I left work a few hours ago I left with a very similar problem that I can&#39;t work on until tomorrow. I&#39;m curious - if you change <code>read_holding_registers(60, count=3, unit=0x03)</code> to <code>read_holding_registers(10, count=3, unit=0x03)</code> do you still get an error? They might not hold any data but I&#39;m just wondering if the error goes away"}, {"owner": {"reputation": 131, "user_id": 1385810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87eaefd713b85640df842f4e5c096829?s=128&d=identicon&r=PG&f=1", "display_name": "Gordio", "link": "https://stackoverflow.com/users/1385810/gordio"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1518644842, "post_id": 48796606, "comment_id": 84595998, "body": "@roganjosh, yes. I still get an error."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1518646467, "post_id": 48796606, "comment_id": 84596689, "body": "For your issue, I&#39;m not sure I understand specifically what <code>.&#47;modpoll -m enc -p4660 -t4:float -r60 -a3 192.168.1.1:</code> does, but <code>Slave configuration...: address = 3, start reference = 60, count = 1</code> does say <code>count = 1</code>. Presumably not the issue but I noticed it so raised."}, {"owner": {"reputation": 131, "user_id": 1385810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87eaefd713b85640df842f4e5c096829?s=128&d=identicon&r=PG&f=1", "display_name": "Gordio", "link": "https://stackoverflow.com/users/1385810/gordio"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1518647863, "post_id": 48796606, "comment_id": 84597306, "body": "@roganjosh, wow! Interesting behavior. 1) When a parameter is wrong - it raises connection error. 2) Connection not stable, sometimes Error raises with right registers parameters. (maybe problem in my device)"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1518648407, "post_id": 48796606, "comment_id": 84597533, "body": "Then you&#39;re seeing what I have observed today. connection error really doesn&#39;t make much sense, but seems to be a default go-to when something goes wrong. There&#39;s other subtleties I found like <a href=\"https://github.com/riptideio/pymodbus/blob/master/pymodbus/register_read_message.py#L182\" rel=\"nofollow noreferrer\">this</a> - I&#39;m struggling to see how it works properly, but that whole module only does <code>doException(merror.IllegalValue)</code> and <code>self.doException(merror.IllegalAddress)</code> so it&#39;s possible it also results in connection error."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1518652798, "post_id": 48796606, "comment_id": 84598927, "body": "I raised this in chat and it&#39;s possible that we&#39;re facing different issues that are confounded a bit by how exceptions work in the library. I won&#39;t delete my comments but there&#39;s also nothing to say that they give a starting point for your issue sorry."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1518715649, "post_id": 48796606, "comment_id": 84629530, "body": "I fixed my issue today. I can&#39;t read all my populated registers at once (restriction seems to be in PLC, not library) I had to do in blocks of 50 and concatenate the responses. However, what it did show me was that the error can originate as a hex code in the unit, which is received by pymodbus and then used to raise exception. Using <code>result = client.read_holding_registers(60, count=3, unit=0x03)</code> will give you an exception object that you can call <code>dir()</code> on and try to investigate the exception in a lower level; for example, the modbus exception code which can then be searched online."}, {"owner": {"reputation": 131, "user_id": 1385810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87eaefd713b85640df842f4e5c096829?s=128&d=identicon&r=PG&f=1", "display_name": "Gordio", "link": "https://stackoverflow.com/users/1385810/gordio"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1518775855, "post_id": 48796606, "comment_id": 84652247, "body": "@roganjosh I know about codes, and already have validation in my code, but in my case client.read return nothing (exception raised inside pymodbus logic)."}], "owner": {"reputation": 131, "user_id": 1385810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87eaefd713b85640df842f4e5c096829?s=128&d=identicon&r=PG&f=1", "display_name": "Gordio", "link": "https://stackoverflow.com/users/1385810/gordio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 909, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1518644019, "creation_date": 1518644019, "question_id": 48796606, "link": "https://stackoverflow.com/questions/48796606/cant-connect-to-modbus-rtu-over-tcp-what-is-wrong", "title": "Can&#39;t connect to modbus RTU over TCP. What is wrong?", "body": "<p>Prove that device is working: <code>./modpoll -m enc -p4660 -t4:float -r60 -a3 192.168.1.1</code>:</p>\n\n<pre><code>Protocol configuration: Encapsulated RTU over TCP\nSlave configuration...: address = 3, start reference = 60, count = 1\nCommunication.........: 192.168.1.1, port 4660, t/o 1.00 s, poll rate 1000 ms\nData type.............: 32-bit float, output (holding) register table\n\nTRACELOG: Set poll delay 0\nTRACELOG: Set port 4660\nTRACELOG: Open connection to 192.168.1.1\nTRACELOG: Configuration: 1000, 1000, 0\n-- Polling slave... (Ctrl-C to stop)\nTRACELOG: Read multiple floats 3 60\nTRACELOG: Send(6): 03 03 00 3B 00 02 \nTRACELOG: Recv(9): 03 03 04 6E 08 42 F7 35 FF \n[60]: 123.714905\n</code></pre>\n\n<p>And how I try to get the connection with <code>pymodbus</code> library:</p>\n\n<pre><code>from pymodbus.client.sync import ModbusTcpClient\nfrom pymodbus.transaction import ModbusRtuFramer\n\nModbusTcpClient(host='192.168.1.1', port=4660, framer=ModbusRtuFramer, timeout=5)\nclient.connect() # returns True\nclient.read_holding_registers(60, count=3, unit=0x03)\n</code></pre>\n\n<p>And get this result:</p>\n\n<pre><code>pymodbus.exceptions.ConnectionException: Modbus Error: [Connection] 192.168.1.1:4660\nModbus Error: [Connection] 192.168.1.1:4660\n</code></pre>\n\n<p>What I'm doing wrong?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "edited": false, "score": 0, "creation_date": 1518644299, "post_id": 48796604, "comment_id": 84595768, "body": "Why do you call it &quot;the <code>categories</code> column<b>s</b>&quot; when it is actually just a single column in the dataframe?"}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 7070489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/473cbb10b22c4529f2e32b659ebc2158?s=128&d=identicon&r=PG&f=1", "display_name": "relay", "link": "https://stackoverflow.com/users/7070489/relay"}, "is_accepted": false, "score": 0, "last_activity_date": 1518644408, "creation_date": 1518644408, "answer_id": 48796691, "question_id": 48796604, "link": "https://stackoverflow.com/questions/48796604/replace-whole-string-if-it-contains-substring-in-pandas-dataframe/48796691#48796691", "title": "Replace whole string if it contains substring in pandas dataframe", "body": "<p>Maybe you can try something like this: </p>\n\n<pre><code>def selector(x):\n    if 'beverage' in x:\n        return 'Beverages'\n    if 'salty' in x:\n        return 'Salty snack'\n\ndf_a['categories_en'] = df_a['categories'].apply(selector)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1518644914, "post_id": 48796728, "comment_id": 84596040, "body": "This is interesting"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1518644605, "creation_date": 1518644605, "answer_id": 48796728, "question_id": 48796604, "link": "https://stackoverflow.com/questions/48796604/replace-whole-string-if-it-contains-substring-in-pandas-dataframe/48796728#48796728", "title": "Replace whole string if it contains substring in pandas dataframe", "body": "<p>Create following dicts , then using <code>replace</code> </p>\n\n<pre><code>Yourdict2={1:'Beverages',2:'salty'}\nYourdict1={'beverage':1,'salty':2}\ndf_a.categories.replace(Yourdict1,regex=True).map(Yourdict2)\nOut[275]: \n0    Beverages\n1        salty\n2    Beverages\n3    Beverages\n4        salty\nName: categories, dtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "is_accepted": false, "score": 0, "last_activity_date": 1518644667, "creation_date": 1518644667, "answer_id": 48796745, "question_id": 48796604, "link": "https://stackoverflow.com/questions/48796604/replace-whole-string-if-it-contains-substring-in-pandas-dataframe/48796745#48796745", "title": "Replace whole string if it contains substring in pandas dataframe", "body": "<p>Use <code>apply</code> to generate a new <code>categories</code> column. Then assign it to the <code>categories_en</code> column of the dataframe.</p>\n\n<pre><code>def map_categories(cat: str) -&gt; str:\n    if cat.find(\"beverage\") != -1:\n        return \"beverage\"\n    else:\n        return str\nnew_col = df['categories'].apply(map_categories)\ndf['categories_en'] = new_col\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 230, "user_id": 6938066, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/870c9e8629d07f1dc69284d01c6f13e4?s=128&d=identicon&r=PG&f=1", "display_name": "Zoozoo", "link": "https://stackoverflow.com/users/6938066/zoozoo"}, "edited": false, "score": 0, "creation_date": 1518780642, "post_id": 48796777, "comment_id": 84655168, "body": "Hi, Thanks for your suggestion. I tried to create a function     def transformCat(s) so it will check for other strings. Within the function, i have for example, s=df.loc[df.categories_en.str.lower().str.contains(&#39;milk&#39;,na&zwnj;&#8203;=False)] =&#39;Dairies,Milks&#39; return s When I call my function, df[&#39;my_categories&#39;] =df.categories_en.apply(transformCat)    Is this correct?"}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644812, "creation_date": 1518644812, "answer_id": 48796777, "question_id": 48796604, "link": "https://stackoverflow.com/questions/48796604/replace-whole-string-if-it-contains-substring-in-pandas-dataframe/48796777#48796777", "title": "Replace whole string if it contains substring in pandas dataframe", "body": "<p>You can use</p>\n\n<pre><code>df_a.loc[df_a.categories.str.contains('beverage'), 'categories'] = 'beverage'\n\n\n    categories      product_name\n0   beverage        coca-cola\n1   salty snacks    salted pistachios\n2   beverage        fruit juice\n3   beverage        lemon tea\n4   salty crackers  roasted peanuts\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 230, "user_id": 6938066, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/870c9e8629d07f1dc69284d01c6f13e4?s=128&d=identicon&r=PG&f=1", "display_name": "Zoozoo", "link": "https://stackoverflow.com/users/6938066/zoozoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1518807732, "creation_date": 1518807732, "answer_id": 48833282, "question_id": 48796604, "link": "https://stackoverflow.com/questions/48796604/replace-whole-string-if-it-contains-substring-in-pandas-dataframe/48833282#48833282", "title": "Replace whole string if it contains substring in pandas dataframe", "body": "<p>Thanks for all the various solutions to my question. Based on all your inputs, I have come up with this solution, which works.</p>\n\n<pre><code>def transformCat(df):\n\ndf.loc[df.categories_en.str.lower().str.contains('beers|largers|wines|rotwein|biere',na=False)] = 'Alcoholic,Beverages'\ndf.loc[df.categories_en.str.lower().str.contains('cheese',na=False)] = 'Dairies,Cheeses'\ndf.loc[df.categories_en.str.lower().str.contains('yogurts',na=False)] = 'Dairies,Yogurts'\ndf.loc[df.categories_en.str.lower().str.contains(r'sauce.*ketchup|ketchup.*sauce',na=False)] = 'Sauces,Ketchups'\n</code></pre>\n\n<p>Would appreciate any inputs. Thanks all!</p>\n\n<p>PS - I am aware there should be an indent beginning at df.loc, but since i am new to stackoverflow (i will learn, i promise), somehow I cant get the indentation correct. </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11775714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d6de0afdc3feb3e239db91b0836946e?s=128&d=identicon&r=PG&f=1", "display_name": "Xanyar", "link": "https://stackoverflow.com/users/11775714/xanyar"}, "is_accepted": false, "score": 1, "last_activity_date": 1590600331, "last_edit_date": 1590600331, "creation_date": 1590593974, "answer_id": 62047076, "question_id": 48796604, "link": "https://stackoverflow.com/questions/48796604/replace-whole-string-if-it-contains-substring-in-pandas-dataframe/62047076#62047076", "title": "Replace whole string if it contains substring in pandas dataframe", "body": "<p>Use the <code>__contains__()</code> method of Pythons string class:</p>\n\n<pre><code>for a in df_a[\"categories\"]:\nif a.__contains__(\"beverage\"):\n    df_a[\"categories\"].replace(a, \"beverage\", inplace=True)\n</code></pre>\n"}], "owner": {"reputation": 230, "user_id": 6938066, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/870c9e8629d07f1dc69284d01c6f13e4?s=128&d=identicon&r=PG&f=1", "display_name": "Zoozoo", "link": "https://stackoverflow.com/users/6938066/zoozoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3770, "favorite_count": 1, "answer_count": 6, "score": 3, "last_activity_date": 1590600331, "creation_date": 1518644003, "question_id": 48796604, "link": "https://stackoverflow.com/questions/48796604/replace-whole-string-if-it-contains-substring-in-pandas-dataframe", "title": "Replace whole string if it contains substring in pandas dataframe", "body": "<p>I have an sample dataset. </p>\n\n<pre><code>raw_data = {\n    'categories': ['sweet beverage', 'salty snacks', 'beverage,sweet', 'fruit juice,beverage,', 'salty crackers'],\n    'product_name': ['coca-cola', 'salted pistachios', 'fruit juice', 'lemon tea', 'roasted peanuts']}\ndf_a = pd.DataFrame(raw_data)\n</code></pre>\n\n<p>I need to iterate thru the rows in the 'categories' columns, and check if it contains a particular string, in this case, 'beverage', after which i will update the categories to just 'beverage'. This link is the closest i found on stackoverflow, but doesnt tell me how to go thru the whole dataset. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/39768547/replace-whole-string-if-it-contains-substring-in-pandas\">Replace whole string if it contains substring in pandas</a></p>\n\n<p>Here's my sample code. </p>\n\n<pre><code>for index,row in df.iterrows():\n    if row.str.contains('beverage', na=False):\n        df.loc[index,'categories_en'] = 'Beverages' \n    elif row.str.contains('salty',na=False):\n        df.loc[index,'categories_en'] = 'Salty Snack'\n     ....&lt;and other conditions&gt;\n</code></pre>\n\n<p>How can I achive this? Thanks all!</p>\n"}, {"tags": ["python", "numpy", "array-broadcasting"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1518643901, "post_id": 48796525, "comment_id": 84595591, "body": "1 can match with 500 or 5000.  500 does not match 5000. [None,:] is automatic if needed."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9240949"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1518644907, "post_id": 48796525, "comment_id": 84596037, "body": "So I should see it as &quot;column&quot; vectors? the broadcasting? But why then is the [:,None] working in the first, but not the last example?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1518647176, "post_id": 48796525, "comment_id": 84597000, "body": "(m,n)-(m,1), (m,n)-(1,n) are ok. (m,n)-(n,1) is not. (1,n)-(m,1)-&gt;(m,n) also works"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1518648293, "post_id": 48796525, "comment_id": 84597489, "body": "I explain this in more detail in <a href=\"https://stackoverflow.com/a/40268064/901925\">stackoverflow.com/a/40268064/901925</a> and <a href=\"https://stackoverflow.com/a/47277623/901925\">stackoverflow.com/a/47277623/901925</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9240949"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1518649906, "post_id": 48796525, "comment_id": 84598111, "body": "Great! Thannks!"}, {"owner": {"reputation": 1986, "user_id": 7769052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/927e096cd6b4677a479fce6e342fcfc1?s=128&d=identicon&r=PG&f=1", "display_name": "banan3&#39;14", "link": "https://stackoverflow.com/users/7769052/banan314"}, "edited": false, "score": 0, "creation_date": 1552754922, "post_id": 48796525, "comment_id": 97135712, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40267131/how-to-multiply-2-numpy-array-with-different-dimensions\">how to multiply 2 numpy array with different dimensions</a>"}], "owner": {"user_type": "does_not_exist", "display_name": "user9240949"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518644972, "creation_date": 1518643677, "last_edit_date": 1518644972, "question_id": 48796525, "link": "https://stackoverflow.com/questions/48796525/numpy-broadcasting-2d-1d-problems", "title": "Numpy broadcasting 2d-1d problems", "body": "<p>I have three numpy arrays:</p>\n\n<pre><code>X1.shape = (500,)\n\nX2.shape = (5000,)\n\nY.shape = (5000,500)\n</code></pre>\n\n<p>I can run <code>X - X2</code> without a problem.\nBut <code>Y - X1</code> results in:</p>\n\n<blockquote>\n  <p>ValueError: operands could not be broadcast together with shapes (5000,500) (5000,)</p>\n</blockquote>\n\n<p>If I change to <code>Y - X1[:,None]</code> this seems to work while <code>Y - X2[:,None]</code> gives the error: </p>\n\n<blockquote>\n  <p>ValueError: operands could not be broadcast together with shapes (5000,500) (500,1)</p>\n</blockquote>\n\n<p>Please clarify!</p>\n"}, {"tags": ["python", "neural-network", "deep-learning", "pytorch", "autograd"], "comments": [{"owner": {"reputation": 2016, "user_id": 6076729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-4HZYb101vrI/AAAAAAAAAAI/AAAAAAAAHP0/F4XjN3SAfq4/photo.jpg?sz=128", "display_name": "Manuel Lagunas", "link": "https://stackoverflow.com/users/6076729/manuel-lagunas"}, "edited": false, "score": 0, "creation_date": 1518681771, "post_id": 48796469, "comment_id": 84607392, "body": "<a href=\"http://pytorch.org/tutorials/beginner/data_loading_tutorial.html\" rel=\"nofollow noreferrer\">pytorch.org/tutorials/beginner/data_loading_tutorial.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "is_accepted": true, "score": 5, "last_activity_date": 1519288659, "creation_date": 1519288659, "answer_id": 48922863, "question_id": 48796469, "link": "https://stackoverflow.com/questions/48796469/mini-batch-training-for-inputs-of-variable-sizes/48922863#48922863", "title": "Mini batch training for inputs of variable sizes", "body": "<p>Yes. The issue with minibatch training on sequences which have different lengths is that you can't stack sequences of different lengths together.</p>\n\n<p>Normally one would do.</p>\n\n<pre><code>for e in range(epochs):\n    sequences = shuffle(sequences)\n    for mb in range(len(sequences)/mb_size):\n        batch = torch.stack(sequences[mb*mb_size:(mb+1)*mb_size])\n</code></pre>\n\n<p>and then you apply your neural network on your batch. But because your sequences are of different lengths, the <code>torch.stack</code> will fail. So indeed what you have to do is to pad your sequences with zeros so that they all have the same length (at least in a minibatch). So you have 2 options:</p>\n\n<p>1) At the very very beginning, pad all your sequences with initial zeros so that they all have the same length as your longest sequence of all your data. </p>\n\n<p>OR</p>\n\n<p>2) On the fly, for each minibatch, before stacking the sequences together, pad all the sequences that will go into the minibatch with initial zeros so that they all have the same length as the longest sequence of the minibatch. </p>\n"}], "owner": {"reputation": 188, "user_id": 7260404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MCyYn.png?s=128&g=1", "display_name": "Venkat", "link": "https://stackoverflow.com/users/7260404/venkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2675, "favorite_count": 0, "accepted_answer_id": 48922863, "answer_count": 1, "score": 4, "last_activity_date": 1519288680, "creation_date": 1518643412, "last_edit_date": 1519288680, "question_id": 48796469, "link": "https://stackoverflow.com/questions/48796469/mini-batch-training-for-inputs-of-variable-sizes", "title": "Mini batch training for inputs of variable sizes", "body": "<p>I have a list of LongTensors, and another list of labels. I'm new to PyTorch and RNN's so I'm quite confused as to how to implement minibatch training for the data I have. There is much more to this data, but I want to keep it simple, so I can understand only how to implement the minibatch training part. I'm doing multiclass classification based on the final hidden state of an LSTM/GRU trained on variable length inputs. I managed to get it working with batch size 1(basically SGD) but I'm struggling with implementing minibatches.</p>\n\n<p>Do I have to pad the sequences to the maximum size and create a new tensor matrix of larger size which holds all the elements? I mean like this:</p>\n\n<pre><code>inputs = pad(sequences)\ntrain = DataLoader(inputs, batch_size=batch_size, shuffle=True)\nfor i, data in train:\n   #do stuff using LSTM and/or GRU models\n</code></pre>\n\n<p>Is this the accepted way of doing minibatch training on custom data? I couldn't find any tutorials on loading custom data using DataLoader(but I assume that's the way to create batches using pyTorch?)</p>\n\n<p>Another doubt I have is with regards to padding. The reason I'm using LSTM/GRU is because of the variable length of the input. Doesn't padding defeat the purpose? Is padding necessary for minibatch training?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1518643679, "post_id": 48796453, "comment_id": 84595510, "body": "The first step would probably be to use <code>split</code> on the lines in <code>two.txt</code> to get a list. Replace <code>print line;</code> (the semi-colon is not needed, but that&#39;s beside the point) with <code>print line.split(&#39;,&#39;)</code>. You&#39;ll see you get a list, and you could take the 0th index to get the first of the two numbers: <code>print line.split(&#39;,&#39;)[0]</code>. The next part would be to look how to skip the first line. And so forth. Break the problem down into discrete steps or it&#39;s overwhelming."}, {"owner": {"reputation": 593, "user_id": 2779795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32f53bb24e3e7fb1ef1935a5576540a?s=128&d=identicon&r=PG&f=1", "display_name": "huck_cussler", "link": "https://stackoverflow.com/users/2779795/huck-cussler"}, "edited": false, "score": 1, "creation_date": 1518643775, "post_id": 48796453, "comment_id": 84595541, "body": "What version of Python are you using?  Your question is tagged as python-3.x, but <code>print line;</code> is not valid Python 3.x.  It will work in Python 2.x though."}, {"owner": {"reputation": 37, "user_id": 9333088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8552df948069f9ed402f0c722607fa7a?s=128&d=identicon&r=PG&f=1", "display_name": "E.W", "link": "https://stackoverflow.com/users/9333088/e-w"}, "reply_to_user": {"reputation": 593, "user_id": 2779795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32f53bb24e3e7fb1ef1935a5576540a?s=128&d=identicon&r=PG&f=1", "display_name": "huck_cussler", "link": "https://stackoverflow.com/users/2779795/huck-cussler"}, "edited": false, "score": 0, "creation_date": 1518644028, "post_id": 48796453, "comment_id": 84595647, "body": "@huck_cussler 2.7 at the moment, thanks for pointing out! But if there is a deal breaker, something much nicer and easier in 3.x I will just upgrade :)"}, {"owner": {"reputation": 37, "user_id": 9333088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8552df948069f9ed402f0c722607fa7a?s=128&d=identicon&r=PG&f=1", "display_name": "E.W", "link": "https://stackoverflow.com/users/9333088/e-w"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1518644896, "post_id": 48796453, "comment_id": 84596033, "body": "@usr2564301 no, one value per line, thanks for pointing out. Edited my post."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9333088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8552df948069f9ed402f0c722607fa7a?s=128&d=identicon&r=PG&f=1", "display_name": "E.W", "link": "https://stackoverflow.com/users/9333088/e-w"}, "edited": false, "score": 0, "creation_date": 1518644554, "post_id": 48796555, "comment_id": 84595878, "body": "Many thanks, will try it out soon. Could you please see my edit (sorry for the inconvenience) :)"}], "tags": [], "owner": {"reputation": 4102, "user_id": 7908770, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/01c6edec3c808659a8e8f42d4259a4b3?s=128&d=identicon&r=PG&f=1", "display_name": "Adi219", "link": "https://stackoverflow.com/users/7908770/adi219"}, "is_accepted": false, "score": 0, "last_activity_date": 1518643770, "creation_date": 1518643770, "answer_id": 48796555, "question_id": 48796453, "link": "https://stackoverflow.com/questions/48796453/issues-reading-two-text-files-and-calculating-values/48796555#48796555", "title": "Issues reading two text files and calculating values", "body": "<p>Try this:</p>\n\n<pre><code>onearray = []\nfile = open(\"one.txt\", \"r\")\nfor line in file:\n    onearray.append(int(line.replace(\"\\n\", \"\")))\nfile.close()\n\ntwoarray = []\nfile = open(\"two.txt\", \"r\")\nfor line in file:\n    if line != \"Start,End\\n\":\n        twoarray.append(int(line.split(\",\")[0]))\nfile.close()\n\nfor i in range(0, len(onearray)):\n    print(twoarray[i] - onearray[i])\n</code></pre>\n\n<p>It should do the job!</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 9333088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8552df948069f9ed402f0c722607fa7a?s=128&d=identicon&r=PG&f=1", "display_name": "E.W", "link": "https://stackoverflow.com/users/9333088/e-w"}, "edited": false, "score": 0, "creation_date": 1518644562, "post_id": 48796603, "comment_id": 84595885, "body": "Many thanks, will try is out soon. Could you please see my edit (sorry for the inconvenience) :)"}, {"owner": {"reputation": 37, "user_id": 9333088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8552df948069f9ed402f0c722607fa7a?s=128&d=identicon&r=PG&f=1", "display_name": "E.W", "link": "https://stackoverflow.com/users/9333088/e-w"}, "edited": false, "score": 0, "creation_date": 1518645841, "post_id": 48796603, "comment_id": 84596449, "body": "Tested it, got: <code>File &quot;test.py&quot;, line 3 with open(&#39;one.txt&#39;, &#39;r&#39;) as one, open(&#39;two.txt&#39;, &#39;r&#39;) as two:</code> SyntaxError: invalid syntax"}, {"owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "edited": false, "score": 0, "creation_date": 1518646441, "post_id": 48796603, "comment_id": 84596681, "body": "Multiple bindings in <code>with</code> statements is Python3 syntax. For Python2, you could use nested with statements. Or switch over to Python3, because Python2 will be dead soon. ;-)"}, {"owner": {"reputation": 37, "user_id": 9333088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8552df948069f9ed402f0c722607fa7a?s=128&d=identicon&r=PG&f=1", "display_name": "E.W", "link": "https://stackoverflow.com/users/9333088/e-w"}, "edited": false, "score": 0, "creation_date": 1518647363, "post_id": 48796603, "comment_id": 84597094, "body": "@Omni Roger that! Will switch. Many thanks that you could offer your time to help me."}], "tags": [], "owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "is_accepted": true, "score": 1, "last_activity_date": 1518645333, "last_edit_date": 1518645333, "creation_date": 1518643999, "answer_id": 48796603, "question_id": 48796453, "link": "https://stackoverflow.com/questions/48796453/issues-reading-two-text-files-and-calculating-values/48796603#48796603", "title": "Issues reading two text files and calculating values", "body": "<p>Something like this</p>\n\n<pre><code>with open('one.txt', 'r') as one, open('two.txt', 'r') as two:\n    next(two) # skip first line in two.txt\n    for line_one, line_two in zip(one, two):\n        one_a = int(split(line_one, \",\")[0])\n        two_b = int(split(line_two, \" \")[1])\n        print(one_a - two_b)\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9333088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8552df948069f9ed402f0c722607fa7a?s=128&d=identicon&r=PG&f=1", "display_name": "E.W", "link": "https://stackoverflow.com/users/9333088/e-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "accepted_answer_id": 48796603, "answer_count": 2, "score": 0, "last_activity_date": 1518645333, "creation_date": 1518643359, "last_edit_date": 1518644925, "question_id": 48796453, "link": "https://stackoverflow.com/questions/48796453/issues-reading-two-text-files-and-calculating-values", "title": "Issues reading two text files and calculating values", "body": "<p>I have two text files with numbers that I want to do some very easy calculations on (for now). I though I would go with Python. I have two file readers for the two text files:</p>\n\n<pre><code>with open('one.txt', 'r') as one:\n    one_txt = one.readline()\nprint(one_txt)\n\nwith open('two.txt', 'r') as two:\n    two_txt = two.readline()\nprint(two_txt)\n</code></pre>\n\n<p>Now to the fun (and for me hard) part. I would like to loop trough all the numbers in the second text file and then subtract it with the second number in the first text file.</p>\n\n<p>I have done this (extended the coded above):</p>\n\n<pre><code>with open('two.txt') as two_txt:\n   for line in two_txt:\n       print line;\n</code></pre>\n\n<p>I don't know how to proceed now, because I think that the second text file would need to be converted to string in order do make some parsing so I get the numbers I want. The text file (two.txt) looks like this:</p>\n\n<pre><code>Start,End\n2432009028,2432009184,\n2432065385,2432066027,\n2432115011,2432115211,\n2432165329,2432165433,\n2432216134,2432216289,\n2432266528,2432266667,\n</code></pre>\n\n<p>I want to loop trough this, ignore the Start,End (first line) and then once it loops only pick the first values before each comma, the result would be: </p>\n\n<pre><code>2432009028\n2432065385\n2432115011\n2432165329\n2432216134\n2432266528\n</code></pre>\n\n<p>Which I would then subtract with the second value in one.txt (contains numbers only and no Strings what so ever) and print the result.</p>\n\n<p>There are many ways to do string operations and I feel lost, for instance I don't know if the methods to read everything to memory are good or not.</p>\n\n<p>Any examples on how to solve this problem would be very appreciated (I am open to different solutions)!</p>\n\n<p><strong>Edit: Forgot to point out, one.txt has values without any comma, like this:</strong></p>\n\n<pre><code>102582\n205335\n350365\n133565\n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1518647275, "post_id": 48796434, "comment_id": 84597053, "body": "You&#39;re spending a lot of time in the <code>default_display_text</code> function, so you have to handle the events in the for loop. Take a look at <a href=\"https://stackoverflow.com/a/42719689/6220679\">this answer</a>."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9362123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db772d1c832e8cc4166b7a1a71d42978?s=128&d=identicon&r=PG&f=1", "display_name": "TronCrusher", "link": "https://stackoverflow.com/users/9362123/troncrusher"}, "edited": false, "score": 0, "creation_date": 1518644075, "post_id": 48796494, "comment_id": 84595674, "body": "When you say &quot;start your program&quot; do you mean with cmd? Or should I put that at the beginning of my code?"}, {"owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "reply_to_user": {"reputation": 31, "user_id": 9362123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db772d1c832e8cc4166b7a1a71d42978?s=128&d=identicon&r=PG&f=1", "display_name": "TronCrusher", "link": "https://stackoverflow.com/users/9362123/troncrusher"}, "edited": false, "score": 0, "creation_date": 1518644119, "post_id": 48796494, "comment_id": 84595696, "body": "The expression is meant for cmd/shell"}], "tags": [], "owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "is_accepted": false, "score": 0, "last_activity_date": 1518643553, "creation_date": 1518643553, "answer_id": 48796494, "question_id": 48796434, "link": "https://stackoverflow.com/questions/48796434/pygame-freezes-while-displaying-text/48796494#48796494", "title": "Pygame freezes while displaying text", "body": "<p>The <a href=\"https://docs.python.org/3/library/pdb.html\" rel=\"nofollow noreferrer\">Python Debugger</a> is your friend. </p>\n\n<p>Start your program using the syntax</p>\n\n<pre><code>python -m pdb &lt;scriptfile&gt;\n</code></pre>\n\n<p>Enter \"c\" for <em>continue</em> into the cli</p>\n\n<p>As soon as your program seems to freeze, press CTRL+C\nYou should then be able to analyze the current state of the program using the debugger. For instance entering \"where\" into the cli, you should see the current callstack and line number.</p>\n"}], "owner": {"reputation": 31, "user_id": 9362123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db772d1c832e8cc4166b7a1a71d42978?s=128&d=identicon&r=PG&f=1", "display_name": "TronCrusher", "link": "https://stackoverflow.com/users/9362123/troncrusher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518646608, "creation_date": 1518643282, "last_edit_date": 1518646608, "question_id": 48796434, "link": "https://stackoverflow.com/questions/48796434/pygame-freezes-while-displaying-text", "title": "Pygame freezes while displaying text", "body": "<p>I'm creating the base of a game that will have scrolling text and text wrapping when a line of text goes to far on the screen.</p>\n\n<p>Everything works (so far) but at a certain point when using my <code>default_display_text</code> function <code>pygame</code> stops responding. It always stops around the \"broke, slap some fancy words\" part when I use my <code>default_display_text</code> function with greeting as the variable.</p>\n\n<p>I've been able to solve all my other problems with google but this one has got me really stuck! I'll be glad to give any other information and I hope you understand what my code does with help from the comments.</p>\n\n<pre><code>import pygame, math, pygame.display, time, pygame.mouse\nfrom pygame.locals import *\n\npygame.init()\npygame.font.init()\n\ninfoObject = pygame.display.Info()\nwindow_height = infoObject.current_w\nwindow_width = infoObject.current_h\ngameDisplay = pygame.display.set_mode((window_height, window_width), pygame.RESIZABLE)\n\npygame.display.set_caption('Aperture_Game')\npygame.mouse.set_visible(False)\n\nc_font = 'C:\\Windows\\Fonts\\Courier Regular.fon'\n\nbackground = (10,10,10)\nblack = (0,0,0)\nwhite = (255,255,255)\ntext_color =      (39, 167, 216)\n\nclock = pygame.time.Clock()\nloop = True\n\ndefault_font_size = 26\n\ngreeting = \"Greetings! My name is Cave Johnson, CEO of Aperture Science. Our motto here is \\\"If it ain't broke, slap some fancy words on it and sell it for profit!\\\"\"\n\n'''\ndef message_display(text,x,y,font,color,size):\n    fontObj = pygame.font.SysFont(font, size)\n    label = fontObj.render(text, 1, color)\n    gameDisplay.blit(label, (x,y))\n'''\n\ndef default_display_text(string,x,y):\n    text = ''\n    #a tracks i's value.\n    a = 0\n    #newline helps determine when to wrap the text.\n    newline = 0\n    #ref is a reference for when to wrap the text (I only want to wrap text after a space so the wrapping doesn't split words in half).\n    ref = ' '\n    fontObj = pygame.font.SysFont(c_font, default_font_size)\n    text_surface = fontObj.render(text, True, text_color)\n    text_rect = text_surface.get_rect()\n    #this for loop is what displays the text one character at a time and wraps it.\n    for i in range(len(string)):\n        gameDisplay.fill(background)\n\n        if newline == 0:\n            gameDisplay.blit(text_surface, (x,y))\n        #if the text goes to far to the right and a word is complete, I want to start a new line.\n        if pygame.Surface.get_width(text_surface) &gt; 1000:\n            #makes sure that its not in the middle of a word.\n            if string[a] == ref:\n                #making sure its not a double space\n                if string[a+1] != ref:\n                    newline = 1\n                    text = text[a:]\n                else:\n                    newline = 0\n\n        #adds another character of the string to the text variable\n        if newline == 0:\n            text += string[i]\n        # if newline is not 0 then the start of the text is shifted down and all the previous text is deleted.\n        else:\n            y += 25\n            newline = 0\n            text += string[a:a+1]\n            text = text[a:]\n            a = 0\n\n        a += 1\n        pygame.display.update()\n        pygame.time.wait(50)\n\n\n#Just your average main loop\ndef main():\n    loop = True\n    while loop:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                loop = False\n            if event.type == KEYDOWN:\n                if event.key == K_ESCAPE:\n                    loop = False\n\n\n        #add controls here later\n\n        gameDisplay.fill(background)\n\n        default_display_text(greeting, 50, 50)\n\n        pygame.display.update()\n        clock.tick(60)\n\n\n\nmain()\n\npygame.quit()\nquit()\n</code></pre>\n"}, {"tags": ["python", "django", "mezzanine", "django-database"], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 1291530, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syHq5.png?s=128&g=1", "display_name": "nusantara", "link": "https://stackoverflow.com/users/1291530/nusantara"}, "edited": false, "score": 0, "creation_date": 1518649075, "post_id": 48797191, "comment_id": 84597785, "body": "The overriding model was there because otherwise the Django 2.0 project I mentioned would throw a positional error, for some reason. But I just removed it from both projects and they work equally well now. Thank you so much!"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1518646876, "creation_date": 1518646876, "answer_id": 48797191, "question_id": 48796422, "link": "https://stackoverflow.com/questions/48796422/adding-database-to-mezzanine-project-produces-sqlite3-operationalerror-no-such/48797191#48797191", "title": "Adding database to Mezzanine project produces &quot;sqlite3.OperationalError: no such table: django_site&quot;", "body": "<p>Your router hard codes the model to Movies, which not surprisingly means it always matches the food_crud app.  So all db requests are being routed to your sqlite db.</p>\n\n<p>Don't do that; remove that overriding of the <code>model</code> variable.</p>\n"}], "owner": {"reputation": 525, "user_id": 1291530, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syHq5.png?s=128&g=1", "display_name": "nusantara", "link": "https://stackoverflow.com/users/1291530/nusantara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 48797191, "answer_count": 1, "score": 1, "last_activity_date": 1518646876, "creation_date": 1518643244, "last_edit_date": 1518644224, "question_id": 48796422, "link": "https://stackoverflow.com/questions/48796422/adding-database-to-mezzanine-project-produces-sqlite3-operationalerror-no-such", "title": "Adding database to Mezzanine project produces &quot;sqlite3.OperationalError: no such table: django_site&quot;", "body": "<p>I'm trying to add a third-party database to a Mezzanine 4.2.3 project (it uses Django 1.10.8 according to <code>requirements.txt</code>). It's to be used by an app called <code>food_crud</code>. However, it produces this error: <code>sqlite3.OperationalError: no such table: django_site</code>.</p>\n\n<p>Most solutions I've read say to <code>makemigrations</code> and <code>migrate</code>. A few say to add <code>django.contrib.sites</code> to <code>INSTALLED_APPS</code>. I've tried both.</p>\n\n<p>Project directory layout:</p>\n\n<pre><code>180214 food\n- env_food # virtualenv\n- food\n    __init__.py\n    settings.py\n    router.py\n    urls.py\n    views.py\n    wsgi.py\n- food_crud\n    - migrations\n    __init__.py\n    admin.py\n    models.py\n    tests.py\n    views.py\n- static\n    ...\n- theme\n    ...\n__init__.py\nmanage.py\nmovie_data.sql\n</code></pre>\n\n<p>The <code>food_crud</code> app is in <code>INSTALLED_APPS</code>. <code>settings.py</code> also contains the database details:</p>\n\n<pre><code>DATABASES = {\n\"default\": {\n    \"ENGINE\": \"django.db.backends.postgresql_psycopg2\",\n    \"NAME\": \"db_nate\",\n    \"USER\": \"alex\",\n    \"PASSWORD\": \"oh no you did not use password did you\",\n    \"HOST\": \"localhost\",\n    \"PORT\": \"\",\n},\n\"movies\": {\n    \"ENGINE\": \"django.db.backends.sqlite3\",\n    \"NAME\": \"movie_data.sql\",\n}\n}\n\nDATABASE_ROUTERS = ['food.router.FoodRouter']\n</code></pre>\n\n<p>Here's <code>router.py</code>, in the same folder as <code>settings.py</code>:</p>\n\n<pre><code>from food_crud import models\n\nclass FoodRouter(object):\n    def db_for_read(self, model, **hints):\n        model = models.Movies\n\n        if model._meta.app_label == 'food_crud':\n            return 'movies'\n\n        return None\n</code></pre>\n\n<p><code>models.py</code>:</p>\n\n<pre><code>from django.db import models\n\nclass Movies(models.Model):\n    id = models.AutoField(primary_key=True)\n    adult = models.TextField()\n    original_language = models.TextField()\n    original_title = models.TextField()\n    title = models.TextField()\n    overview = models.TextField()\n    release_date = models.DateField()\n    genres = models.TextField()\n    production_countries = models.TextField()\n    videos = models.TextField()\n    images = models.TextField()\n\n    class Meta:\n        app_label = \"food_crud\"\n        db_table = \"movies\"\n        managed = False\n</code></pre>\n\n<p><code>views.py</code>:</p>\n\n<pre><code>from django.views import generic\nfrom .models import Movies\n\nclass MoviesListView(generic.ListView):\n    model = Movies\n    template_name = r'\"/food/theme/templates/food_crud/food_crud.html\"'\n</code></pre>\n\n<p><code>urls.py</code>:</p>\n\n<pre><code>...\nfrom . import views\nfrom food_crud import views as food_crud_views\n\nurlpatterns += [\n    url(\"^$\", views.blog_post_list_index, name=\"home\"),\n    url('food/', food_crud_views.MoviesListView.as_view(), name='food_list'),\n...\n</code></pre>\n\n<p>Traceback:</p>\n\n<pre><code>  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 42, in inner\nresponse = get_response(request)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 249, in _legacy_get_response\nresponse = self._get_response(request)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 178, in _get_response\nresponse = middleware_method(request, callback, callback_args, callback_kwargs)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\mezzanine\\pages\\middleware.py\", line 75, in process_view\nfor_user=request.user, include_login_required=True)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\mezzanine\\pages\\managers.py\", line 68, in with_ascendants_for_slug\npages_for_user = self.published(**kwargs)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\mezzanine\\pages\\managers.py\", line 24, in published\npublished = super(PageManager, self).published(for_user=for_user)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\mezzanine\\core\\managers.py\", line 70, in published\nQ(status=CONTENT_STATUS_PUBLISHED))\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\models\\manager.py\", line 85, in manager_method\nreturn getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\mezzanine\\core\\managers.py\", line 378, in get_queryset\nlookup = {self.__field_name + \"__id__exact\": current_site_id()}\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\mezzanine\\utils\\sites.py\", line 56, in current_site_id\nsite = Site.objects.get(domain__iexact=domain)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\models\\manager.py\", line 85, in manager_method\nreturn getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\models\\query.py\", line 379, in get\nnum = len(clone)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\models\\query.py\", line 238, in __len__\nself._fetch_all()\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\models\\query.py\", line 1087, in _fetch_all\nself._result_cache = list(self.iterator())\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\models\\query.py\", line 54, in __iter__\nresults = compiler.execute_sql()\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py\", line 835, in execute_sql\ncursor.execute(sql, params)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\debug_toolbar\\panels\\sql\\tracking.py\", line 164, in execute\nreturn self._record(self.cursor.execute, sql, params)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\debug_toolbar\\panels\\sql\\tracking.py\", line 106, in _record\nreturn method(sql, params)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\backends\\utils.py\", line 79, in execute\nreturn super(CursorDebugWrapper, self).execute(sql, params)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\backends\\utils.py\", line 64, in execute\nreturn self.cursor.execute(sql, params)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\utils.py\", line 94, in __exit__\nsix.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\utils\\six.py\", line 685, in reraise\nraise value.with_traceback(tb)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\backends\\utils.py\", line 64, in execute\nreturn self.cursor.execute(sql, params)\n  File \"C:\\Users\\alex\\Desktop\\Python\\180214~1\\food\\env_food\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py\", line 337, in execute\nreturn Database.Cursor.execute(self, query, params)\ndjango.db.utils.OperationalError: no such table: django_site\n</code></pre>\n\n<p>This same project directory layout and its various settings, including for the databases, work well with a Django 2.0 project. I duplicated them in this Mezzanine project but with names edited to fit it. What have I missed?</p>\n"}, {"tags": ["python", "django", "angular-formly"], "comments": [{"owner": {"reputation": 2095, "user_id": 2773461, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PJykN.jpg?s=128&g=1", "display_name": "bgarcial", "link": "https://stackoverflow.com/users/2773461/bgarcial"}, "edited": false, "score": 0, "creation_date": 1518647218, "post_id": 48796419, "comment_id": 84597020, "body": "May be this post may be of some orientation support  <a href=\"https://www.codingforentrepreneurs.com/blog/file-upload-with-angular/\" rel=\"nofollow noreferrer\">codingforentrepreneurs.com/blog/file-upload-with-angular</a>"}, {"owner": {"reputation": 2095, "user_id": 2773461, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PJykN.jpg?s=128&g=1", "display_name": "bgarcial", "link": "https://stackoverflow.com/users/2773461/bgarcial"}, "edited": false, "score": 0, "creation_date": 1518647323, "post_id": 48796419, "comment_id": 84597073, "body": "There is some series of Angular  <a href=\"https://www.youtube.com/watch?v=9wc8Gv8X49U&amp;list=PLEsfXFp6DpzQThMU768hTZInWUqfoyTEW\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a> and"}], "owner": {"reputation": 19, "user_id": 8935850, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a34f39052728b3dda14eed606fe93f4d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/8935850/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518658027, "creation_date": 1518643223, "last_edit_date": 1518658027, "question_id": 48796419, "link": "https://stackoverflow.com/questions/48796419/connecting-angular-formly-to-django", "title": "Connecting angular-formly to Django", "body": "<p>I am trying to create a web application using Angular-formly on the front end and a Django framework on the back end. Have a couple of questions regarding this:</p>\n\n<ol>\n<li><p>How do I send data from angular-formly form to Django and there on to mysql database and vice versa? The following is part of my code</p>\n\n<pre><code>{\nkey: 'Rate',\ntype: 'input',\ntemplateOptions: {\n         label: 'Enter Cost!',\n         type: 'text',\n      }\n}\n</code></pre>\n\n<p>How can I access this rate value in my Django code ?</p></li>\n<li><p>How do I create a file upload button using angular formly.</p></li>\n</ol>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "ascii"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518643337, "post_id": 48796374, "comment_id": 84595356, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1518643351, "post_id": 48796374, "comment_id": 84595361, "body": "Please give an example of the expected output. I am afraid you do not fully understand what ASCII is."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1518643373, "post_id": 48796374, "comment_id": 84595376, "body": "The problem is that one replacement will have impact on the second one. For example if the original string is <code>&#39;0&#39;</code>, then after the first replacement it is <code>&#39;048&#39;</code>, so if we then call <code>.replace(&#39;4&#39;, Four)</code>, it will result in <code>&#39;00528&#39;</code>."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518643386, "post_id": 48796374, "comment_id": 84595382, "body": "Among other things, we need to know what you expected as output.  Your code appears to do what you told it: replace a single digit with three digits, all of them string characters."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 1, "creation_date": 1518644414, "post_id": 48796374, "comment_id": 84595822, "body": "Too easy (and probably too advanced for the OP) to add as an answer, but <code>print (&#39;&#39;.join(&#39;%03d&#39; % ord(x) for x in s))</code> works just fine. (Also not intended as a &quot;fix&quot; to OP&#39;s code.)"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1518643917, "post_id": 48796523, "comment_id": 84595600, "body": "Should <code>&#39;&#39;</code> be <code>&#39;0&#39;</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1518644058, "post_id": 48796523, "comment_id": 84595664, "body": "How does using a new variable solve the problem? The problem is that the replacements contain characters that later replacements will process."}], "tags": [], "owner": {"reputation": 1235, "user_id": 736694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a653dd4c531fe67209cee664848722b?s=128&d=identicon&r=PG", "display_name": "Yserbius", "link": "https://stackoverflow.com/users/736694/yserbius"}, "is_accepted": false, "score": 0, "last_activity_date": 1518643670, "creation_date": 1518643670, "answer_id": 48796523, "question_id": 48796374, "link": "https://stackoverflow.com/questions/48796374/ascii-changing-numbers/48796523#48796523", "title": "ASCII Changing Numbers", "body": "<p>You're problem is that you are constantly modifying <code>NewCode</code> so that at each step it continues to modify itself, changing the numbers to their ASCII numbers. Instead of re-using <code>NewCode</code> for each <code>replace</code>statement, use a new variable as a buffer.</p>\n\n<pre><code>Code = '3210'\nNewCode = Code.replace('', Zero) #NewCode is now 321048\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('4', Four) #The '4' near the end of '321048' gets replaced with '052' making NewCode = 32100528\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1518644150, "creation_date": 1518644150, "answer_id": 48796636, "question_id": 48796374, "link": "https://stackoverflow.com/questions/48796374/ascii-changing-numbers/48796636#48796636", "title": "ASCII Changing Numbers", "body": "<p>I would go about it like this, it ensures you don't change the ascii code twice by using a buffer.</p>\n\n<pre><code>Code = raw_input(\"Insert your code here, it converts letters to Binary/ASCII: \\n\\n\")\n\nlst_words = ['Zero', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine']\nlst_numbers = ['048','049','050','051','052','053','054','055','056','057']\n\nfor i in range(10):\n    Code = Code.replace(str(i), lst_words[i])\nprint(Code)\nfor i in range(10):\n    Code = Code.replace(lst_words[i], lst_numbers[i])\nprint(Code)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644277, "creation_date": 1518644277, "answer_id": 48796660, "question_id": 48796374, "link": "https://stackoverflow.com/questions/48796374/ascii-changing-numbers/48796660#48796660", "title": "ASCII Changing Numbers", "body": "<p>What you are trying to do can be accomplished in literally one line without hardcoding the ASCII codes of the characters:</p>\n\n<pre><code>code = '3210' # Do not use initial upper-case letters for variable names!\nnewCode = ''.join('{:03}'.format(ord(n)) for n in code)\n# '051050049048'\n</code></pre>\n\n<p>However, the purpose of your exercise is still unclear. Also mind that '0XY' typically means that 'XY' is written in the octal number system. Therefore, neither X nor Y can be an 8 or a 9.</p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1518644384, "creation_date": 1518644384, "answer_id": 48796683, "question_id": 48796374, "link": "https://stackoverflow.com/questions/48796374/ascii-changing-numbers/48796683#48796683", "title": "ASCII Changing Numbers", "body": "<p>The problem is that the replacement strings contain characters that will be replaced by later <code>.replace()</code> calls.</p>\n\n<p>One solution is to process the input a character at a time, rather than using <code>.replace()</code> on the entire string.</p>\n\n<p>BTW, Python has an <code>ord()</code> function that returns the code for a character, which is normally ASCII.</p>\n\n<pre><code>NewCode = ''\nfor char in Code:\n    NewCode += str(ord(char)).zfill(3)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8762537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7341c1774a6115070e40d50c710fce2?s=128&d=identicon&r=PG&f=1", "display_name": "Gandalf", "link": "https://stackoverflow.com/users/8762537/gandalf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1518644384, "creation_date": 1518643042, "last_edit_date": 1518643270, "question_id": 48796374, "link": "https://stackoverflow.com/questions/48796374/ascii-changing-numbers", "title": "ASCII Changing Numbers", "body": "<p>I\u2019m having a problem in my Python ASCII Code where when I am trying to convert a letter to ASCII it will convert the numbers from the ASCII into more ASCII code. How do I fix this?</p>\n\n<pre><code>Choice = input(\"Now tell us which code language you like to convert this to Binary or ASCII: \\n\")\nCode = input(\"Insert your code here, it converts letters to Binary/ASCII: \\n\\n\")\n\nZero = '048'\nOne = '049'\nTwo = '050'\nThree = '051'\nFour = '052'\nFive = '053'\nSix = '054'\nSeven = '055'\nEight = '056'\nNine = '057'\n\nNewCode = Code.replace('0', Zero)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('1', One)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('2', Two)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('3', Three)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('4', Four)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('5', Five)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('6', Six)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('7', Seven)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('8', Eight)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\nNewCode = NewCode.replace('9', Nine)\nprint(NewCode, '\\n\\n')\ntime.sleep(0.1)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "http", "python-requests"], "comments": [{"owner": {"reputation": 103, "user_id": 7653662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5db493c5d5c963145481c28d9809857?s=128&d=identicon&r=PG&f=1", "display_name": "rasc42", "link": "https://stackoverflow.com/users/7653662/rasc42"}, "edited": false, "score": 0, "creation_date": 1518708447, "post_id": 48796344, "comment_id": 84624823, "body": "It worked when I removed every header key, except Referer and Content-Type, which, as I tested on hurl.it, are the only two necessary headers. Still don&#39;t understand why that happened though."}], "owner": {"reputation": 103, "user_id": 7653662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5db493c5d5c963145481c28d9809857?s=128&d=identicon&r=PG&f=1", "display_name": "rasc42", "link": "https://stackoverflow.com/users/7653662/rasc42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1535416879, "creation_date": 1518642918, "question_id": 48796344, "link": "https://stackoverflow.com/questions/48796344/cannot-get-the-right-response-using-python-requests-post-method", "title": "Cannot get the right response using python requests&#39; post method", "body": "<p>I'm trying to automate the recovery of data from <a href=\"http://www.bmfbovespa.com.br/en_us/services/market-data/historical-data/derivatives-market/file-history/\" rel=\"nofollow noreferrer\">this website</a> (The one I want is \" \nBVBG.086.01 PriceReport\"). Checking with firefox, I found out that the request URL to which the POST is made is \"<a href=\"http://www.bmf.com.br/arquivos1/lum-download_ipn.asp\" rel=\"nofollow noreferrer\">http://www.bmf.com.br/arquivos1/lum-download_ipn.asp</a>\", and the parameters are:</p>\n\n<pre><code>hdnStatus: \"ativo\"\nchkArquivoDownload_ativo    \"28\"\ntxtDataDownload_ativo   \"09/02/2018\"\nimgSubmeter \"Download\"\ntxtDataDownload_externo_ativo   [3]\n    0   \"25/08/2017\"\n    1   \"25/08/2017\"\n    2   \"25/08/2017\"\n</code></pre>\n\n<p>So, if I use hurl.it to make the request, the response is the correct 302 redirect (Pointing to a FTP URL where the requested files are, something like \"Location: /FTP/Temp/10981738/Download.ex_\"). (<a href=\"https://i.stack.imgur.com/5mYUv.png\" rel=\"nofollow noreferrer\">Example of the request here</a>).</p>\n\n<p>So I've tried doing the same with with the following code (Using python's library \"requests\", and I have tried both versions of request_body, trying to put it into the \"data\" parameter of the post method)</p>\n\n<pre><code>request_url = \"http://www.bmf.com.br/arquivos1/lum-download_ipn.asp\"\nrequest_headers = {\n    \"Host\": \"www.bmf.com.br\",\n    \"User-Agent\": \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:54.0) Gecko/20100101 Firefox/54.0\",\n    \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\",\n    \"Accept-Language\": \"en-US,en;q=0.5\",\n    \"Accept-Encoding\": \"gzip, deflate\",\n    \"Referer\": \"http://www.bmf.com.br/arquivos1/lum-arquivos_ipn.asp?idioma=pt-BR&amp;status=ativo\",\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n    \"Content-Length\": \"236\",\n    \"Connection\": \"keep-alive\",\n    \"Upgrade-Insecure-Requests\": \"1\"\n}\n# request_body = \"hdnStatus=ativo&amp;chkArquivoDownload_ativo=28&amp;txtDataDownload_ativo=09/02/2018&amp;imgSubmeter=Download&amp;txtDataDownload_externo_ativo=25/08/2017&amp;txtDataDownload_externo_ativo=25/08/2017&amp;txtDataDownload_externo_ativo=25/08/2017\"\nrequest_body = {\n    \"hdnStatus\" : \"ativo\",\n    \"chkArquivoDownload_ativo\": \"28\",\n    \"txtDataDownload_ativo\": \"09/02/2018\",\n    \"imgSubmeter\": \"Download\",\n    \"txtDataDownload_externo_ativo\": [\"25/08/2017\", \"25/08/2017\", \"25/08/2017\"]\n}\n\nresult_query = post(request_url, request_body, headers=request_headers)\n# result_query = post(request_url, data=request_body, headers=request_headers)\n\nfor red in result_query.history:\n    print(BeautifulSoup(red.content, \"lxml\"))\n    print()\n\nprint(result_query.url)\n</code></pre>\n\n<p>And what I get is the following response:</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;Object moved&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&lt;h1&gt;Object Moved&lt;/h1&gt;This object may be found &lt;a href=\"lumarquivos_ipn.asp\"&gt;here&lt;/a&gt;.&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;html&gt;&lt;head&gt;&lt;title&gt;Object moved&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&lt;h1&gt;Object Moved&lt;/h1&gt;This object may be found &lt;a href=\"/arquivos1/lum-arquivos_ipn.asp?idioma=pt-BR&amp;amp;status=\"&gt;here&lt;/a&gt;.&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;html&gt;&lt;head&gt;&lt;title&gt;Object moved&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&lt;h1&gt;Object Moved&lt;/h1&gt;This object may be found &lt;a href=\"/arquivos1/lum-arquivos_ipn.asp?idioma=pt-BR&amp;amp;status=ativo\"&gt;here&lt;/a&gt;.&lt;/body&gt;\n&lt;/html&gt;\n\nhttp://www.bmf.com.br/arquivos1/lum-arquivos_ipn.asp?idioma=pt-BR&amp;status=ativo\n</code></pre>\n\n<p>And not the one I wanted (Which should point to the location of the file). What am I doing wrong here?</p>\n"}, {"tags": ["python", "tensorflow", "chatbot", "facebook-chatbot"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 5552621, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/jYh79.jpg?s=128&g=1", "display_name": "Glennismade", "link": "https://stackoverflow.com/users/5552621/glennismade"}, "edited": false, "score": 0, "creation_date": 1518652386, "post_id": 48796433, "comment_id": 84598804, "body": "I feel like the accuracy will come. Just trying to get the behaviour down.  I think the problem I&#39;m having is not really understanding the behaviour properly. it&#39;s annoying.   I need to work out how to generate the actual questions, and then take the users response to generate the next question.   looking at this, I need to create a model that gets passed into my LSTMCell and then generates the questions based on that."}], "tags": [], "owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "is_accepted": false, "score": 2, "last_activity_date": 1518643280, "creation_date": 1518643280, "answer_id": 48796433, "question_id": 48796330, "link": "https://stackoverflow.com/questions/48796330/tensorflow-chatbot-questions-generation/48796433#48796433", "title": "Tensorflow chatbot Questions Generation", "body": "<p>Concerning \"creating enough training data\": Here's an explanation how \"the animal game\" generates knowledge through user interaction. Looks like a long-term investment ;-) Maybe you can contact the creators and ask for the data.</p>\n\n<p><a href=\"http://www.animalgame.com/play/faq.php\" rel=\"nofollow noreferrer\">http://www.animalgame.com/play/faq.php</a></p>\n"}], "owner": {"reputation": 117, "user_id": 5552621, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/jYh79.jpg?s=128&g=1", "display_name": "Glennismade", "link": "https://stackoverflow.com/users/5552621/glennismade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1518652588, "creation_date": 1518642878, "last_edit_date": 1518652588, "question_id": 48796330, "link": "https://stackoverflow.com/questions/48796330/tensorflow-chatbot-questions-generation", "title": "Tensorflow chatbot Questions Generation", "body": "<p>What would be a good way to generation questions that a user has to answer in tensor flow??? </p>\n\n<p>for example, the system would ask the user a questions: </p>\n\n<pre><code>1. Is it large \n</code></pre>\n\n<p>and then take a users yes/no response: </p>\n\n<pre><code>Yes \n</code></pre>\n\n<p>account for all answers given and then predict what it is. (think 20 questions) </p>\n\n<p>prediction: </p>\n\n<pre><code>Is it a cat? \n</code></pre>\n\n<p>I am using an LSTM and attempting to get this going. </p>\n\n<p>so, what would be a good method for: </p>\n\n<ol>\n<li>generating enough training data for this? (number of played iterations?) </li>\n<li>generating the questions? </li>\n<li>handing the user responses? </li>\n</ol>\n\n<p>I feel like the accuracy will come. Just trying to get the behaviour down.</p>\n\n<p>I think the problem I'm having is not really understanding the behaviour properly. it's annoying. </p>\n\n<p>I need to work out how to generate the actual questions, and then take the users response to generate the next question. </p>\n\n<p>looking at this, I need to create a <strong>model</strong> that gets passed into my <strong>LSTMCell</strong> and then generates the questions based on that.</p>\n\n<p>Any advice would be good here. </p>\n\n<p>Cheers, \nGlenn </p>\n"}, {"tags": ["python", "pyqt", "pyqt5", "qlistview", "qitemdelegate"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 4764916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-L2TenCQt4sk/AAAAAAAAAAI/AAAAAAAAAcg/ZrTFo9oUP8s/photo.jpg?sz=128", "display_name": "Alex Rideout", "link": "https://stackoverflow.com/users/4764916/alex-rideout"}, "is_accepted": true, "score": 0, "last_activity_date": 1518649650, "creation_date": 1518649650, "answer_id": 48797725, "question_id": 48796317, "link": "https://stackoverflow.com/questions/48796317/pyqt5-allow-selection-of-qlistview-items-while-editing/48797725#48797725", "title": "PyQt5 allow selection of QListView items while editing", "body": "<p>It turns out in my case, the QListView wasn't responding to selection clicks because when you call the edit() function, the state of the viewer changes to \"QAbstractItemView.EditingState\" and in this state, apparently selection is disabled. I just subclassed QListView and added a beginEdit function.</p>\n\n<pre><code>class CustomList(QListView):\n    def __init__(self,parent=None):\n        super().__init__(parent)\n\n    def beginEdit(self,index):\n        state=self.state()\n        self.edit(index)\n        self.setState(state)\n</code></pre>\n\n<p>And then just connected this instead of edit.</p>\n\n<pre><code>dataView=CustomList(self)\ndataView.entered.connect(dataView.beginEdit)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4764916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-L2TenCQt4sk/AAAAAAAAAAI/AAAAAAAAAcg/ZrTFo9oUP8s/photo.jpg?sz=128", "display_name": "Alex Rideout", "link": "https://stackoverflow.com/users/4764916/alex-rideout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 48797725, "answer_count": 1, "score": 0, "last_activity_date": 1520284841, "creation_date": 1518642818, "last_edit_date": 1520284841, "question_id": 48796317, "link": "https://stackoverflow.com/questions/48796317/pyqt5-allow-selection-of-qlistview-items-while-editing", "title": "PyQt5 allow selection of QListView items while editing", "body": "<p>I am trying to get click events (ultimately left, right and double click) to \"pass through\" an editor widget to the underlying QListView so that selections can happen. Figured Event Filters were probably the way to go, but I am a little confused as to where the eventFilter(object,event) function and the installEventFilter() call need to go in order for that to happen.</p>\n\n<p>In my case, I am using a custom delegate class to draw my data in my QListView and am using an editor to update the model based upon cursor positions. I want this to just be constantly active, so I made my QListView active the editor upon entering an item.</p>\n\n<pre><code>dataView=QListView(self)\ndataView.setGeometry(self.rect())\ndataView.setViewMode(1)\ndataView.setMovement(0)\ndataView.setSelectionMode(QAbstractItemView.ExtendedSelection)\ndataView.setMouseTracking(True)\ndataView.entered.connect(dataView.edit)\n\ndelegate=CustomDelegate(self)\ndataModel=QStandardItemModel(self)\n\ndataView.setModel(dataModel)\ndataView.setItemDelegate(delegate)\n</code></pre>\n\n<p>The downside to this is that while your mouse is on an item, it is now covered by the editor widget which I believe is collecting mouse click data thus blocking clicks from selecting the items within the QListView.</p>\n\n<p>In my delegate, I have it create the editor as so and connect signals to update my data (frames) in my model to change the way the delegate displays and to close the editor</p>\n\n<pre><code>def createEditor(self,parent,option,index):\n    editor=TestEditor(parent)\n    editor.editingFinished.connect(self.deleteEditor)\n    editor.updateFrame.connect(self.updateFrames)\n    return editor\n</code></pre>\n\n<p>Where would I create my event filter? In my main where I am generating my QListView? Within a custom QListView? Within my Delegate? Or within my editor widget? And then where would I call the installEventFilter()?</p>\n"}, {"tags": ["python", "matplotlib", "scikit-learn", "regression"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1518644271, "creation_date": 1518644271, "answer_id": 48796657, "question_id": 48796282, "link": "https://stackoverflow.com/questions/48796282/how-to-visualize-dependence-of-model-performance-alpha-with-matplotlib/48796657#48796657", "title": "how to visualize dependence of model performance &amp; alpha with matplotlib?", "body": "<p>you should plot scores, not the result of <code>grid.fit()</code>.</p>\n\n<p>First of all use <code>return_train_score=True</code>:</p>\n\n<pre><code>grid = GridSearchCV(Ridge(normalize=True), param_grid, cv=10, return_train_score=True)\n</code></pre>\n\n<p>then after fitting the model plot it as follows:</p>\n\n<pre><code>plt.semilogx(alphas, grid.cv_results_['mean_train_score'], label='Train')\nplt.semilogx(alphas, grid.cv_results_['mean_test_score'], label='Test')\nplt.legend()\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lsXKz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lsXKz.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 399, "user_id": 4513770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e1768b54630a225f7598d0debe07a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Lin", "link": "https://stackoverflow.com/users/4513770/edward-lin"}, "edited": false, "score": 0, "creation_date": 1518702231, "post_id": 48803361, "comment_id": 84620421, "body": "Thanks a lot, this is helpful. But I am curious that you said &quot;when using grid search, splitting the data to train/test is not necessary for model selection&quot; I didn&#39;t know this so I always split train/test data, do you mind passing some reference?"}, {"owner": {"reputation": 3724, "user_id": 7368203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXNyS.png?s=128&g=1", "display_name": "sgDysregulation", "link": "https://stackoverflow.com/users/7368203/sgdysregulation"}, "reply_to_user": {"reputation": 399, "user_id": 4513770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e1768b54630a225f7598d0debe07a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Lin", "link": "https://stackoverflow.com/users/4513770/edward-lin"}, "edited": false, "score": 0, "creation_date": 1518702656, "post_id": 48803361, "comment_id": 84620750, "body": "You&#39;re welcome. here is a hastily obtained ref <a href=\"http://scikit-learn.org/stable/modules/cross_validation.html#cross-validation\" rel=\"nofollow noreferrer\">scikit-learn cross validation</a> <b><i>A test set should still be held out for final evaluation, but the validation set is no longer needed when doing CV. In the basic approach, called k-fold CV, the training set is split into k smaller sets (other approaches are described below, but generally follow the same principles). The following procedure is followed for each of the k \u201cfolds\u201d:</i></b>"}, {"owner": {"reputation": 3724, "user_id": 7368203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXNyS.png?s=128&g=1", "display_name": "sgDysregulation", "link": "https://stackoverflow.com/users/7368203/sgdysregulation"}, "reply_to_user": {"reputation": 399, "user_id": 4513770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e1768b54630a225f7598d0debe07a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Lin", "link": "https://stackoverflow.com/users/4513770/edward-lin"}, "edited": false, "score": 0, "creation_date": 1518703001, "post_id": 48803361, "comment_id": 84621015, "body": "The reason I raised the point above, is that you&#39;re holding 33% of the data for validation. note the terminology can be confusing. the test score we&#39;re plotting are related to the kfolds and X_test, y_test are not seen when the model is selected by gridsearch. I recommend using different terminology to elevate confusion i.e. <code>X_model_sel, X_val, y_model_sel, y_val = train_test_split(X, y, random_state=0)</code>"}, {"owner": {"reputation": 399, "user_id": 4513770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e1768b54630a225f7598d0debe07a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Lin", "link": "https://stackoverflow.com/users/4513770/edward-lin"}, "edited": false, "score": 1, "creation_date": 1518704138, "post_id": 48803361, "comment_id": 84621840, "body": "Thanks. In fact, I just tried split/no split, and the CV scores varied quite a bit(.61 v.s. .51). I think the reason (in my case) is, when splitting, the gridsearch is doing it only on the 70% of the whole dataset(which means gridsearch does the cv on it by further splitting it into another 70/30%?). While no splitting, gridsearch takes the whole dataset and runs cv on the 70% of the data. Do you agree?"}, {"owner": {"reputation": 3724, "user_id": 7368203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXNyS.png?s=128&g=1", "display_name": "sgDysregulation", "link": "https://stackoverflow.com/users/7368203/sgdysregulation"}, "reply_to_user": {"reputation": 399, "user_id": 4513770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e1768b54630a225f7598d0debe07a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Lin", "link": "https://stackoverflow.com/users/4513770/edward-lin"}, "edited": false, "score": 0, "creation_date": 1518704632, "post_id": 48803361, "comment_id": 84622198, "body": "I agree with minor correction; when using cross validation with cv=10 the data is split into 10 parts i.e. 10% /90% then each part is used for training while the rest used for validation. I recommend setting the grid search parameter <code>grid = GridSearchCV(Ridge(normalize=True), param_grid,                     cv=10, return_train_score=True, verbose=5)</code> you&#39;ll get a better sense of how the grid search works"}, {"owner": {"reputation": 3724, "user_id": 7368203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXNyS.png?s=128&g=1", "display_name": "sgDysregulation", "link": "https://stackoverflow.com/users/7368203/sgdysregulation"}, "reply_to_user": {"reputation": 399, "user_id": 4513770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e1768b54630a225f7598d0debe07a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Lin", "link": "https://stackoverflow.com/users/4513770/edward-lin"}, "edited": false, "score": 0, "creation_date": 1518705392, "post_id": 48803361, "comment_id": 84622692, "body": "PS. the drop in the performance is due to the fact that the function <code>train_test_split</code> shuffles the data by default. shuffling the data usually enhances performance (only for non-temporal data).  so compromise would be to split the data 5%/95% this you&#39;ll take advantage of the shuffling and validate the model on unseen data. i.e. <code>X_model_sel, X_val, y_model_sel, y_val = train_test_split(X, y, test_size=.05,random_state=0)</code>"}, {"owner": {"reputation": 399, "user_id": 4513770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e1768b54630a225f7598d0debe07a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Lin", "link": "https://stackoverflow.com/users/4513770/edward-lin"}, "edited": false, "score": 0, "creation_date": 1518713706, "post_id": 48803361, "comment_id": 84628323, "body": "Thanks! A quick follow-up. When you said &#39;shuffles&#39;, does that mean that the it randomly pick rows out of the whole data set till it fulfill the 95% threshold, instead of drawing rows in any particular order? Also, at the risk of digressing, I want to ask you about <code>Ridge(normalize=True)</code>, which I assume normalize it <code>center</code> plus &#39;scale&#39;. Due to the uncertainty in features, I was thinking perhaps I should only <code>scale</code> considering the directionality problem after <code>center</code>. I fit another <code>Lasso</code> with normalization, and the score is very poor, that makes me consider this."}, {"owner": {"reputation": 3724, "user_id": 7368203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXNyS.png?s=128&g=1", "display_name": "sgDysregulation", "link": "https://stackoverflow.com/users/7368203/sgdysregulation"}, "reply_to_user": {"reputation": 399, "user_id": 4513770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e1768b54630a225f7598d0debe07a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Lin", "link": "https://stackoverflow.com/users/4513770/edward-lin"}, "edited": false, "score": 0, "creation_date": 1518764304, "post_id": 48803361, "comment_id": 84646424, "body": "You&#39;re welcome. re: shuffles:Yes,spoton. re: normalised: X is (preprocessed) normalised by subtracting the mean and dividing by the l2-norm. depending on the nature of the data, you may want to consider other feature scaling techniques. I highly recommend checking <a href=\"http://scikit-learn.org/stable/modules/preprocessing.html#preprocessing\" rel=\"nofollow noreferrer\">this</a>."}], "tags": [], "owner": {"reputation": 3724, "user_id": 7368203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXNyS.png?s=128&g=1", "display_name": "sgDysregulation", "link": "https://stackoverflow.com/users/7368203/sgdysregulation"}, "is_accepted": true, "score": 2, "last_activity_date": 1518685315, "creation_date": 1518685315, "answer_id": 48803361, "question_id": 48796282, "link": "https://stackoverflow.com/questions/48796282/how-to-visualize-dependence-of-model-performance-alpha-with-matplotlib/48803361#48803361", "title": "how to visualize dependence of model performance &amp; alpha with matplotlib?", "body": "<p>When plotting model selection performance resulting from using GridSearch, it's typical to plot the mean and standard deviation of test and training sets of the cross_validation folds.</p>\n\n<p>Also care should be taken to identify which scoring criteria is to be used in the grid search to select the best model. this is typically R-squared for regression.</p>\n\n<p>The grid search returns a dictionary (accessible through <code>.cv_results_</code>) containing the scores for each fold train/test scores as well as the time it took to train/test each fold. Also a summary of that data is included using the mean and the standard deviation. \nPS. in newer version of pandas you'll need to include <code>return_train_score=True</code>\nPS.S. when using grid search, splitting the data to train/test is not necessary for model selection, because the grid search splits the data automatically (cv=10 means that the data is split to 10 folds) </p>\n\n<p>given the above I modified the code to</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nfrom sklearn.linear_model import Ridge\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.datasets import fetch_california_housing\ncal = fetch_california_housing()\nX = cal.data\ny = cal.target\n\n\nparam_grid = {'alpha': np.logspace(-3, 3, 13)}\nprint(param_grid)\ngrid = GridSearchCV(Ridge(normalize=True), param_grid,\n                    cv=10, return_train_score=True, scoring='r2')\ngrid.fit(X, y)\nprint(\"Best cross-validation score: {:.2f}\".format(grid.best_score_))\nprint(\"Best parameters: \", grid.best_params_)\n\n\nalphas = np.logspace(-3, 3, 13)\n\ntrain_scores_mean = grid.cv_results_[\"mean_train_score\"]\ntrain_scores_std = grid.cv_results_[\"std_train_score\"]\ntest_scores_mean = grid.cv_results_[\"mean_test_score\"]\ntest_scores_std = grid.cv_results_[\"std_test_score\"]\n\nplt.figure()\nplt.title('Model')\nplt.xlabel('$\\\\alpha$ (alpha)')\nplt.ylabel('Score')\n# plot train scores\nplt.semilogx(alphas, train_scores_mean, label='Mean Train score',\n             color='navy')\n# create a shaded area between [mean - std, mean + std]\nplt.gca().fill_between(alphas,\n                       train_scores_mean - train_scores_std,\n                       train_scores_mean + train_scores_std,\n                       alpha=0.2,\n                       color='navy')\nplt.semilogx(alphas, test_scores_mean,\n             label='Mean Test score', color='darkorange')\n\n# create a shaded area between [mean - std, mean + std]\nplt.gca().fill_between(alphas,\n                       test_scores_mean - test_scores_std,\n                       test_scores_mean + test_scores_std,\n                       alpha=0.2,\n                       color='darkorange')\n\nplt.legend(loc='best')\nplt.show()\n</code></pre>\n\n<p>The resulting figure is shown below\n<a href=\"https://i.stack.imgur.com/kH34g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kH34g.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 399, "user_id": 4513770, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3e1768b54630a225f7598d0debe07a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Lin", "link": "https://stackoverflow.com/users/4513770/edward-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3549, "favorite_count": 2, "accepted_answer_id": 48803361, "answer_count": 2, "score": 3, "last_activity_date": 1518685315, "creation_date": 1518642657, "last_edit_date": 1518643421, "question_id": 48796282, "link": "https://stackoverflow.com/questions/48796282/how-to-visualize-dependence-of-model-performance-alpha-with-matplotlib", "title": "how to visualize dependence of model performance &amp; alpha with matplotlib?", "body": "<p>I fit a Ridge Regression with GridSearchCV but am having trouble using <code>matplotlib</code> to show the model performance versus regularizer(alpha) </p>\n\n<p>Could anyone please help?</p>\n\n<p>My code:</p>\n\n<pre><code>from sklearn.datasets import fetch_california_housing\ncal=fetch_california_housing()\nX = cal.data\ny = cal.target \n\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, random_state=0)\n\nparam_grid = {'alpha': np.logspace(-3, 3, 13)}\nprint(param_grid)\ngrid = GridSearchCV(Ridge(normalize=True), param_grid, cv=10)\ngrid.fit(X_train, y_train)\nprint(\"Best cross-validation score: {:.2f}\".format(grid.best_score_))\nprint(\"Best parameters: \", grid.best_params_)\n\nimport matplotlib.pyplot as plt\nalphas = np.logspace(-3, 3, 13)\nplt.semilogx(alphas, grid.fit(X_train, y_train), label='Train')\nplt.semilogx(alphas, grid.fit(X_test, y_test), label='Test')\n\nplt.legend(loc='lower left')\nplt.ylim([0, 1.0])\nplt.xlabel('alpha')\nplt.ylabel('performance')\n\n# the error code I got was \"ValueError: x and y must have same first dimension\"\n</code></pre>\n\n<p>Basically, I want to see the something like the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/30n7R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/30n7R.png\" alt=\"change of alpha\"></a></p>\n"}, {"tags": ["python", "python-3.x", "tensorflow", "jupyter-notebook", "jupyter"], "answers": [{"comments": [{"owner": {"reputation": 1946, "user_id": 8828524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z001KmBq-2Y/AAAAAAAAAAI/AAAAAAAAIlU/paK7lD3iHuw/photo.jpg?sz=128", "display_name": "virtualdvid", "link": "https://stackoverflow.com/users/8828524/virtualdvid"}, "edited": false, "score": 0, "creation_date": 1518644152, "post_id": 48796572, "comment_id": 84595713, "body": "I just tried and it showed me: <code>All requested packages already installed.</code>"}, {"owner": {"reputation": 517, "user_id": 8577333, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36efc6abceaa4308e345639f63a60492?s=128&d=identicon&r=PG&f=1", "display_name": "An0n", "link": "https://stackoverflow.com/users/8577333/an0n"}, "reply_to_user": {"reputation": 1946, "user_id": 8828524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z001KmBq-2Y/AAAAAAAAAAI/AAAAAAAAIlU/paK7lD3iHuw/photo.jpg?sz=128", "display_name": "virtualdvid", "link": "https://stackoverflow.com/users/8828524/virtualdvid"}, "edited": false, "score": 0, "creation_date": 1518644697, "post_id": 48796572, "comment_id": 84595935, "body": "Have you also upgraded the kernel? pip install --upgrade ipykernel"}, {"owner": {"reputation": 1946, "user_id": 8828524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z001KmBq-2Y/AAAAAAAAAAI/AAAAAAAAIlU/paK7lD3iHuw/photo.jpg?sz=128", "display_name": "virtualdvid", "link": "https://stackoverflow.com/users/8828524/virtualdvid"}, "edited": false, "score": 0, "creation_date": 1518644808, "post_id": 48796572, "comment_id": 84595983, "body": "Yes I did, I am reading the documentation for <code>argparse</code> to see if there is the problem."}, {"owner": {"reputation": 603, "user_id": 5113171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fg6CV.png?s=128&g=1", "display_name": "Milton Arango G", "link": "https://stackoverflow.com/users/5113171/milton-arango-g"}, "edited": false, "score": 0, "creation_date": 1518649405, "post_id": 48796572, "comment_id": 84597900, "body": "Are you trying to run the premade_estimator.py from a jupyter notebook or are you copying the script contents to a cell in the notebook?"}, {"owner": {"reputation": 1946, "user_id": 8828524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z001KmBq-2Y/AAAAAAAAAAI/AAAAAAAAIlU/paK7lD3iHuw/photo.jpg?sz=128", "display_name": "virtualdvid", "link": "https://stackoverflow.com/users/8828524/virtualdvid"}, "reply_to_user": {"reputation": 603, "user_id": 5113171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fg6CV.png?s=128&g=1", "display_name": "Milton Arango G", "link": "https://stackoverflow.com/users/5113171/milton-arango-g"}, "edited": false, "score": 0, "creation_date": 1518652904, "post_id": 48796572, "comment_id": 84598958, "body": "@MiltonArangoG I am copying the script contents to a cell in a notebook."}], "tags": [], "owner": {"reputation": 517, "user_id": 8577333, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36efc6abceaa4308e345639f63a60492?s=128&d=identicon&r=PG&f=1", "display_name": "An0n", "link": "https://stackoverflow.com/users/8577333/an0n"}, "is_accepted": false, "score": 1, "last_activity_date": 1518643852, "creation_date": 1518643852, "answer_id": 48796572, "question_id": 48796169, "link": "https://stackoverflow.com/questions/48796169/how-to-fix-ipykernel-launcher-py-error-unrecognized-arguments-in-jupyter/48796572#48796572", "title": "How to fix ipykernel_launcher.py: error: unrecognized arguments in jupyter?", "body": "<p>Have you tried :</p>\n\n<pre><code>conda install ipykernel --name Python3\npython -m ipykernel install\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 7337098, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cCSZ4sr6Uto/AAAAAAAAAAI/AAAAAAAAAGc/p1haxf5Zd5I/photo.jpg?sz=128", "display_name": "math_enthusiast", "link": "https://stackoverflow.com/users/7337098/math-enthusiast"}, "edited": false, "score": 1, "creation_date": 1540910447, "post_id": 48798075, "comment_id": 93031952, "body": "Thanks a lot! Encountered the same problem and this post helped me resolve it."}, {"owner": {"reputation": 539, "user_id": 1851492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b97d9081f8a51413ef1866d5d735aeba?s=128&d=identicon&r=PG", "display_name": "allenyllee", "link": "https://stackoverflow.com/users/1851492/allenyllee"}, "edited": false, "score": 3, "creation_date": 1545313911, "post_id": 48798075, "comment_id": 94586961, "body": "Or just use <code>parser.parse_args(args=[])</code>, because <code>parse_args()</code> will pass <code>_sys.argv[1:]</code> as <code>args</code>&#39;s default parameter, replace it with empty list <code>[]</code> solve this problem."}], "tags": [], "owner": {"reputation": 1946, "user_id": 8828524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z001KmBq-2Y/AAAAAAAAAAI/AAAAAAAAIlU/paK7lD3iHuw/photo.jpg?sz=128", "display_name": "virtualdvid", "link": "https://stackoverflow.com/users/8828524/virtualdvid"}, "is_accepted": true, "score": 22, "last_activity_date": 1615545993, "last_edit_date": 1615545993, "creation_date": 1518652157, "answer_id": 48798075, "question_id": 48796169, "link": "https://stackoverflow.com/questions/48796169/how-to-fix-ipykernel-launcher-py-error-unrecognized-arguments-in-jupyter/48798075#48798075", "title": "How to fix ipykernel_launcher.py: error: unrecognized arguments in jupyter?", "body": "<p>I got it! the reason why we get the error is because this code is using <a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"nofollow noreferrer\"><code>argparse</code></a> and this module is used to write user-friendly command-line interfaces, so it seems, it has a conflict with Jupyter Notebook.</p>\n<p>I found the solution in this <a href=\"https://qiita.com/LittleWat/items/6e56857e1f97c842b261\" rel=\"nofollow noreferrer\">page</a>:</p>\n<p>What we have to do is:</p>\n<p>Delete or comment these lines:</p>\n<pre><code>parser = argparse.ArgumentParser()\nparser.add_argument('--batch_size', default=100, type=int, help='batch size')\nparser.add_argument('--train_steps', default=1000, type=int,\n                    help='number of training steps')\n</code></pre>\n<p>and replace <code>args</code></p>\n<pre><code>args = parser.parse_args(argv[1:])\n</code></pre>\n<p>for a dictionary using the library <a href=\"https://pypi.python.org/pypi/easydict/\" rel=\"nofollow noreferrer\"><code>easydict</code></a> in this way:</p>\n<pre><code>args = easydict.EasyDict({\n    &quot;batch_size&quot;: 100,\n    &quot;train_steps&quot;: 1000\n})\n</code></pre>\n<p>With <code>easydict</code> we can access dict values as attributes for the arguments.</p>\n<p><strong>Update</strong></p>\n<p>After all this year diving deeper in python, I found the solution for this question is way more simple (We don't need to use any external library or method). <code>argparse</code> is just one of the many ways to pass arguments to a script in python from the terminal. When I tried to do it in a jupyter notebook obviously that wasn't going to work. We can just replace in the function directly the parameters like:</p>\n<pre><code>funtion(batch_size=100, train_steps=1000)\n</code></pre>\n<p>Now, if we have a long list of parameters for our function, we can use <code>*args</code> or <code>**kargs</code>.</p>\n<p><code>*args</code> pass a tuple as parameters in the function, for this case, in particular, it will be:</p>\n<pre><code>args = (100, 1000)\nfunction(*args)\n</code></pre>\n<p><code>**kargs</code> pass a dictionary as arguments to our function:</p>\n<pre><code>kargs = {&quot;batch_size&quot;: 100,\n        &quot;train_steps&quot;: 1000}\nfunction(**kargs)\n</code></pre>\n<p>just google it and you will find a really good explanation on how to use them both, here one <a href=\"http://book.pythontips.com/en/latest/args_and_kwargs.html\" rel=\"nofollow noreferrer\">documentation</a> that I used to study this.</p>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 8922129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c4f0674d5f47788abfa825286d8e88c?s=128&d=identicon&r=PG&f=1", "display_name": "Badger Titan", "link": "https://stackoverflow.com/users/8922129/badger-titan"}, "is_accepted": false, "score": 39, "last_activity_date": 1579789356, "last_edit_date": 1579789356, "creation_date": 1553465912, "answer_id": 55329134, "question_id": 48796169, "link": "https://stackoverflow.com/questions/48796169/how-to-fix-ipykernel-launcher-py-error-unrecognized-arguments-in-jupyter/55329134#55329134", "title": "How to fix ipykernel_launcher.py: error: unrecognized arguments in jupyter?", "body": "<p>A more elegant solution would be:</p>\n\n<pre><code>args, unknown = parser.parse_known_args()\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>args = parser.parse_args()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 478, "user_id": 10144079, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qG1nhLoCc10/AAAAAAAAAAI/AAAAAAAAACA/7_Ztv_lUDqc/photo.jpg?sz=128", "display_name": "nima farhadi", "link": "https://stackoverflow.com/users/10144079/nima-farhadi"}, "edited": false, "score": 0, "creation_date": 1607441317, "post_id": 56349168, "comment_id": 115269996, "body": ":)) thank U for the simple and funny solution man. It worked for me."}], "tags": [], "owner": {"reputation": 1437, "user_id": 1086346, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/REVSK.jpg?s=128&g=1", "display_name": "pauljohn32", "link": "https://stackoverflow.com/users/1086346/pauljohn32"}, "is_accepted": false, "score": 9, "last_activity_date": 1559072941, "creation_date": 1559072941, "answer_id": 56349168, "question_id": 48796169, "link": "https://stackoverflow.com/questions/48796169/how-to-fix-ipykernel-launcher-py-error-unrecognized-arguments-in-jupyter/56349168#56349168", "title": "How to fix ipykernel_launcher.py: error: unrecognized arguments in jupyter?", "body": "<p>I just ran into this problem today and found a quick, stupid solution is to insert an argument processor for the <code>-f</code> argument that qtconsole/ipython passes though and we did not expect. At end of <code>parser.add_argument</code> I put in: </p>\n\n<pre><code>parser.add_argument(\"-f\", \"--fff\", help=\"a dummy argument to fool ipython\", default=\"1\")\n</code></pre>\n\n<p>I don't use the <code>-f</code> parameter, so there's no loss for me. </p>\n\n<p>I'd rather not re-engineer a larger argument processing framework just because of ipython cropping up in workflow on one particular computer...</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11840320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a1093d1d34971327c77d78968446489?s=128&d=identicon&r=PG&f=1", "display_name": "jd54", "link": "https://stackoverflow.com/users/11840320/jd54"}, "is_accepted": false, "score": 0, "last_activity_date": 1592586948, "last_edit_date": 1592586948, "creation_date": 1592579462, "answer_id": 62473247, "question_id": 48796169, "link": "https://stackoverflow.com/questions/48796169/how-to-fix-ipykernel-launcher-py-error-unrecognized-arguments-in-jupyter/62473247#62473247", "title": "How to fix ipykernel_launcher.py: error: unrecognized arguments in jupyter?", "body": "<p>I got this problem with :</p>\n\n<pre><code>from serial.tools.list_ports import main\nmain()\n</code></pre>\n\n<p>but it's a library from serial import</p>\n\n<p>so i make a copy in my own directory the file from :\n<code>/usr/lib/python3/dist-packages/serial/tools</code></p>\n\n<p>and edit to add :</p>\n\n<pre><code>parser.add_argument(\"-f\", \"--fff\", help=\"a dummy argument to fool ipython\", default=\"1\")\n</code></pre>\n\n<p>as <em>pauljohn32</em> (<a href=\"https://stackoverflow.com/users/1086346/pauljohn32\">https://stackoverflow.com/users/1086346/pauljohn32</a>) did !</p>\n\n<p>now using the new file locally:</p>\n\n<pre><code>from list_ports import main\nmain()\n</code></pre>\n\n<p>it works fine !</p>\n"}], "owner": {"reputation": 1946, "user_id": 8828524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z001KmBq-2Y/AAAAAAAAAAI/AAAAAAAAIlU/paK7lD3iHuw/photo.jpg?sz=128", "display_name": "virtualdvid", "link": "https://stackoverflow.com/users/8828524/virtualdvid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44397, "favorite_count": 10, "accepted_answer_id": 48798075, "answer_count": 5, "score": 17, "last_activity_date": 1615545993, "creation_date": 1518642226, "last_edit_date": 1518652190, "question_id": 48796169, "link": "https://stackoverflow.com/questions/48796169/how-to-fix-ipykernel-launcher-py-error-unrecognized-arguments-in-jupyter", "title": "How to fix ipykernel_launcher.py: error: unrecognized arguments in jupyter?", "body": "<p>I am following this tensorflow <a href=\"https://www.tensorflow.org/get_started/get_started_for_beginners\" rel=\"noreferrer\">tutorial</a> after two days setting up the environment I finally could run <code>premade_estimator.py</code> using cmd</p>\n\n<p><a href=\"https://i.stack.imgur.com/DmlmX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DmlmX.png\" alt=\"\"></a></p>\n\n<p>but when I try to run the same code in a jupyter notebook I am getting this error:</p>\n\n<blockquote>\n<pre><code>usage: ipykernel_launcher.py [-h] [--batch_size BATCH_SIZE]\n                             [--train_steps TRAIN_STEPS]\n\nipykernel_launcher.py: error: unrecognized arguments: -f C:\\Users\\david\\AppData\\Roaming\\jupyter\\runtime\\kernel-4faecb24-6e87-40b4-bf15-5d24520d7130.json\n</code></pre>\n  \n  <p>An exception has occurred, use %tb to see the full traceback.</p>\n\n<pre><code>SystemExit: 2\n\nC:\\Anaconda3\\envs\\python3x\\lib\\site-packages\\IPython\\core\\interactiveshell.py:2918: \nUserWarning: To exit: use 'exit', 'quit', or Ctrl-D. warn(\"To exit: use 'exit', 'quit', or Ctrl-D.\", stacklevel=1)\n</code></pre>\n</blockquote>\n\n<p>I have tried to fix it without success using:</p>\n\n<pre><code>pip install --ignore-installed --upgrade jupyter\n\npip install ipykernel\npython -m ipykernel install\n\nconda install notebook ipykernel\nipython kernelspec install-self\n</code></pre>\n\n<p>Any idea will be appreciate! Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "edited": false, "score": 2, "creation_date": 1518642925, "post_id": 48796147, "comment_id": 84595135, "body": "Have a look at the code of keyboard lib: <a href=\"https://github.com/boppreh/keyboard/blob/master/keyboard/_nixcommon.py\" rel=\"nofollow noreferrer\">github.com/boppreh/keyboard/blob/master/keyboard/_nixcommon.&zwnj;&#8203;py</a>      def ensure_root():         if os.geteuid() != 0:             raise ImportError(&#39;You must be root to use this library on linux.&#39;)  And geteuid retrieves the effective user id      os.geteuid()      Return the current process\u2019s effective user id.  So for some reason in your case geteuid returns a value != 0 Write a test program which returns os.geteuid() and fiddle around until it prompts 0"}, {"owner": {"reputation": 9606, "user_id": 5012099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a24d87840141459cef20b2877bcd9bc?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingTeller", "link": "https://stackoverflow.com/users/5012099/flyingteller"}, "edited": false, "score": 0, "creation_date": 1518642990, "post_id": 48796147, "comment_id": 84595174, "body": "Do you get the exact same error message when you do <code>sudo python KeyboardTest.py</code>?"}, {"owner": {"reputation": 151, "user_id": 9360374, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "vinnie", "link": "https://stackoverflow.com/users/9360374/vinnie"}, "edited": false, "score": 0, "creation_date": 1518667981, "post_id": 48796147, "comment_id": 84602455, "body": "Yes, the same results when I run it as sudo.  and just to be clear the erroro message is the output and the code in the error message is in the &quot;keyboard&quot; library."}, {"owner": {"reputation": 2016, "user_id": 1291544, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7393cf3744b087b3cde87fc26437ea8c?s=128&d=identicon&r=PG", "display_name": "Prokop Hapala", "link": "https://stackoverflow.com/users/1291544/prokop-hapala"}, "edited": false, "score": 1, "creation_date": 1534575807, "post_id": 48796147, "comment_id": 90762756, "body": "I have the same problem ... any solution ?"}], "answers": [{"comments": [{"owner": {"reputation": 394, "user_id": 9926342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSmeA.jpg?s=128&g=1", "display_name": "255.tar.xz", "link": "https://stackoverflow.com/users/9926342/255-tar-xz"}, "edited": false, "score": 3, "creation_date": 1572393501, "post_id": 54044833, "comment_id": 103543329, "body": "Tbh it seems like this would be pretty clear to most people... &quot;you must run as root&quot;... <code>sudo...</code> lol... But I&#39;m wondering if there&#39;s an alternative where it doesn&#39;t force me to run as root on Linux? Preferably one that doesn&#39;t rely on an X server..."}], "tags": [], "owner": {"reputation": 85, "user_id": 5339640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14178e9b6a4100908baca572f126da6d?s=128&d=identicon&r=PG&f=1", "display_name": "MS-87", "link": "https://stackoverflow.com/users/5339640/ms-87"}, "is_accepted": false, "score": 6, "last_activity_date": 1546629714, "creation_date": 1546629714, "answer_id": 54044833, "question_id": 48796147, "link": "https://stackoverflow.com/questions/48796147/import-error-you-must-be-root/54044833#54044833", "title": "Import error: you must be root", "body": "<p>Very late response, but I had your same problem. Just found a solution. You have to be root to run this program! The \"Gotcha\" comes, however, to how you installed the keyboard library...</p>\n\n<p>Make sure when you installed the keyboard library that you did a:</p>\n\n<blockquote>\n  <p>sudo pip3 install keyboard</p>\n</blockquote>\n\n<p>I did not do a sudo and first time I installed it. So what happened is that:</p>\n\n<p>1) you try to run the program without being root</p>\n\n<ul>\n<li>the library DOES exist, but you are not root so you get the issue you got</li>\n</ul>\n\n<p>2) you try to run teh program as root</p>\n\n<ul>\n<li>But pip3 did not install it for a root user, so you get a \"keyboard not recognized\".</li>\n</ul>\n\n<p>hope this helped.</p>\n"}, {"tags": [], "owner": {"reputation": 464, "user_id": 9646203, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6SkShlW6Nn8/AAAAAAAAAAI/AAAAAAAAAlQ/kYDi1wJu0Mg/photo.jpg?sz=128", "display_name": "Saisiva A", "link": "https://stackoverflow.com/users/9646203/saisiva-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1579675131, "creation_date": 1579675131, "answer_id": 59853966, "question_id": 48796147, "link": "https://stackoverflow.com/questions/48796147/import-error-you-must-be-root/59853966#59853966", "title": "Import error: you must be root", "body": "<p><code>$&gt; sudo su</code></p>\n\n<p>Then enter password for the user and run script file</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9387109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YkNbKSVg6nE/AAAAAAAAAAI/AAAAAAAAADI/YLZt1hZ5l0A/photo.jpg?sz=128", "display_name": "Hemant Mayatra", "link": "https://stackoverflow.com/users/9387109/hemant-mayatra"}, "is_accepted": false, "score": -1, "last_activity_date": 1612977798, "creation_date": 1612977798, "answer_id": 66141839, "question_id": 48796147, "link": "https://stackoverflow.com/questions/48796147/import-error-you-must-be-root/66141839#66141839", "title": "Import error: you must be root", "body": "<p>On raspberry pi open terminal and go the code folder.\nType below command</p>\n<p>sudo python filename.py</p>\n<p>that's it. If you try to run code with IDLE it will always show this root related error.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9387109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YkNbKSVg6nE/AAAAAAAAAAI/AAAAAAAAADI/YLZt1hZ5l0A/photo.jpg?sz=128", "display_name": "Hemant Mayatra", "link": "https://stackoverflow.com/users/9387109/hemant-mayatra"}, "is_accepted": false, "score": 0, "last_activity_date": 1612979318, "creation_date": 1612979318, "answer_id": 66142277, "question_id": 48796147, "link": "https://stackoverflow.com/questions/48796147/import-error-you-must-be-root/66142277#66142277", "title": "Import error: you must be root", "body": "<p>Another solution. One thing is we want to run the IDLE as root permission.</p>\n<ol>\n<li>Open terminal. Type command 'sudo idle'. It will create a new window of IDLE which has permission of root.</li>\n<li>Now on that opened IDLE window FILE-&gt; Open -&gt; open the python file that you want to run.</li>\n<li>Now go to Run-&gt; Run Module.</li>\n</ol>\n<p>Now the python script will run with root permission, as by typing 'sudo idle' we run the IDLE with root permissions.</p>\n"}], "owner": {"reputation": 151, "user_id": 9360374, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "vinnie", "link": "https://stackoverflow.com/users/9360374/vinnie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18033, "favorite_count": 2, "answer_count": 4, "score": 15, "last_activity_date": 1612979318, "creation_date": 1518642119, "last_edit_date": 1518652833, "question_id": 48796147, "link": "https://stackoverflow.com/questions/48796147/import-error-you-must-be-root", "title": "Import error: you must be root", "body": "<p>I'm trying to use the keyboard library in python 3 but continue to get an import error. I ran the program in windows in Thonny and It worked fine but I cant run it in the pi. I tried running it both as root and with sudo command with the same results. Below is the code as well as the error.</p>\n\n<pre><code>import keyboard\nimport time\n\nx=0\n\nwhile True:\n    print (x)\n    x=x+1\n    print (\"Press t to end program\")\n    if keyboard.is_pressed('t'):\n        break\n    else:\n        pass\n\nprint(\"I'm done\")\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>0\nPress t to end program\nTraceback (most recent call last):\nFile \"/home/pi/Desktop/Programs/KeyboardTest.py\", line 10, in &lt;module&gt;\nif keyboard.is_pressed('t'):\nFile \"/home/pi/.local/lib/python3.5/site-packages/keyboard/__init__.py\", line 166, in is_pressed\n_listener.start_if_necessary()\nFile \"/home/pi/.local/lib/python3.5/site-packages/keyboard/_generic.py\", line 35, in start_if_necessary\nself.init()\nFile \"/home/pi/.local/lib/python3.5/site-packages/keyboard/__init__.py\", line 116, in init\n_os_keyboard.init()\nFile \"/home/pi/.local/lib/python3.5/site-packages/keyboard/_nixkeyboard.py\", line 110, in init\nbuild_device()\nFile \"/home/pi/.local/lib/python3.5/site-packages/keyboard/_nixkeyboard.py\", line 106, in build_device\nensure_root()\nFile \"/home/pi/.local/lib/python3.5/site-packages/keyboard/_nixcommon.py\", line 165, in ensure_root\nraise ImportError('You must be root to use this library on linux.')\nImportError: You must be root to use this library on linux.\n</code></pre>\n"}, {"tags": ["python", "selenium", "webdriver"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1518645607, "post_id": 48796131, "comment_id": 84596337, "body": "Have you read this? <a href=\"http://selenium-python.readthedocs.io/waits.html\" rel=\"nofollow noreferrer\">selenium-python.readthedocs.io/waits.html</a>"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1518671141, "post_id": 48796131, "comment_id": 84603193, "body": "Please clarify your specific problem or add additional details to highlight exactly what you need. As it&#39;s currently written, it\u2019s hard to tell exactly what you&#39;re asking. See the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page for help clarifying this question."}], "answers": [{"tags": [], "owner": {"reputation": 539, "user_id": 8206275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b90e7f22abd72ddc66a0f9551425a750?s=128&d=identicon&r=PG&f=1", "display_name": "Rescis", "link": "https://stackoverflow.com/users/8206275/rescis"}, "is_accepted": true, "score": -1, "last_activity_date": 1518647489, "creation_date": 1518647489, "answer_id": 48797304, "question_id": 48796131, "link": "https://stackoverflow.com/questions/48796131/python-selenium-how-do-i-tell-selenium-to-wait-until-a-key-is-clickable/48797304#48797304", "title": "Python selenium. How do I tell selenium to wait until a key is clickable?", "body": "<p>There is a method built into the selenium library to do just that:</p>\n\n<pre><code>element = WebDriverWait(driver, [TimeToWait]).until(\nEC.presence_of_element_located((By.ID, \"ElementName\"))\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 8750148, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c3ef496ffa8f040eee8686f3a1ecbc6?s=128&d=identicon&r=PG&f=1", "display_name": "Tree Garen", "link": "https://stackoverflow.com/users/8750148/tree-garen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 48797304, "answer_count": 1, "score": 0, "last_activity_date": 1518647489, "creation_date": 1518642086, "last_edit_date": 1518642765, "question_id": 48796131, "link": "https://stackoverflow.com/questions/48796131/python-selenium-how-do-i-tell-selenium-to-wait-until-a-key-is-clickable", "title": "Python selenium. How do I tell selenium to wait until a key is clickable?", "body": "<p>for example:</p>\n\n<pre><code>driver.find_element_by_css_selector('#yes')\n# wait until it's done loading and then it'll be available to click again\ndriver.find_element_by_css_selector('#yes')\n</code></pre>\n\n<p>this is the loading element when it's not loading. When it's loading display: block</p>\n\n<pre><code>&lt;div id=\"loading\" style=\"display: none;\"&gt;\n</code></pre>\n"}, {"tags": ["python", "r", "linux", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1518822684, "post_id": 48796097, "comment_id": 84677099, "body": "When you run <code>sudo pip install virtualenv</code> you&#39;re running that command as root. What happens if you install virtualenv normally and then <code>install_keras()</code>?"}, {"owner": {"reputation": 2502, "user_id": 5269047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926e7d7267ad62f903848d2dbac3643f?s=128&d=identicon&r=PG&f=1", "display_name": "sm925", "link": "https://stackoverflow.com/users/5269047/sm925"}, "reply_to_user": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1518883088, "post_id": 48796097, "comment_id": 84690362, "body": "It says permission denied if I don&#39;t run it as root."}], "answers": [{"tags": [], "owner": {"reputation": 661, "user_id": 5948056, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208535833893814/picture?type=large", "display_name": "programandoconro", "link": "https://stackoverflow.com/users/5948056/programandoconro"}, "is_accepted": false, "score": 0, "last_activity_date": 1553079772, "creation_date": 1553079772, "answer_id": 55259217, "question_id": 48796097, "link": "https://stackoverflow.com/questions/48796097/error-while-running-keras-from-r-in-linux/55259217#55259217", "title": "error while running keras from R in linux", "body": "<p>I used this on a debian machine and worked fine</p>\n\n<blockquote>\n  <p>sudo apt-get install python-pip python-virualenv</p>\n</blockquote>\n"}], "owner": {"reputation": 2502, "user_id": 5269047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926e7d7267ad62f903848d2dbac3643f?s=128&d=identicon&r=PG&f=1", "display_name": "sm925", "link": "https://stackoverflow.com/users/5269047/sm925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553079772, "creation_date": 1518641980, "question_id": 48796097, "link": "https://stackoverflow.com/questions/48796097/error-while-running-keras-from-r-in-linux", "title": "error while running keras from R in linux", "body": "<p>I installed <code>keras</code> r package in linux. Then tried:</p>\n\n<pre><code>library(keras)\ninstall_keras()\n</code></pre>\n\n<blockquote>\n  <p>Error: Prerequisites for installing TensorFlow not available.\n  Please install the following Python packages before proceeding: pip, virtualenv</p>\n</blockquote>\n\n<p>Then I installed <code>pip</code> and <code>virtual env</code> in linux using:</p>\n\n<pre><code>sudo yum install python-pip\nsudo pip install virtualenv\n</code></pre>\n\n<p>Then again I tried <code>install_keras()</code> and got following error:</p>\n\n<pre><code>Creating virtualenv for TensorFlow at  ~/.virtualenvs/r-tensorflow \nTraceback (most recent call last):\n  File \"/usr/bin/virtualenv\", line 9, in &lt;module&gt;\n    load_entry_point('virtualenv==1.10.1', 'console_scripts', 'virtualenv')()\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 299, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"/usr/lib/python2.6/site-packages/pkg_resources.py\", line 2228, in load_entry_point\n    raise ImportError(\"Entry point %r not found\" % ((group,name),))\n</code></pre>\n\n<blockquote>\n  <p>ImportError: Entry point ('console_scripts', 'virtualenv') not found\n  Error: Error 1 occurred creating virtualenv at ~/.virtualenvs/r-tensorflow</p>\n</blockquote>\n\n<p>How this problem can be solved?</p>\n"}, {"tags": ["python", "qt", "pyqt", "pyqt5", "qwidgetaction"], "answers": [{"comments": [{"owner": {"reputation": 188, "user_id": 8482526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4411439e75afb5239e5f61b1255b4a2?s=128&d=identicon&r=PG", "display_name": "Trap", "link": "https://stackoverflow.com/users/8482526/trap"}, "edited": false, "score": 0, "creation_date": 1518644039, "post_id": 48796437, "comment_id": 84595651, "body": "Oh, I would have thought that Qt would take care of this for me, thanks !"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1518643293, "creation_date": 1518643293, "answer_id": 48796437, "question_id": 48796093, "link": "https://stackoverflow.com/questions/48796093/hiding-qwidgetaction-just-grey-it-out/48796437#48796437", "title": "Hiding QWidgetAction just grey it out", "body": "<p>If you want to hide the <code>QWidgetAction</code> you must hide the associated widget:</p>\n\n<pre><code>def buttonClicked():\n    widgetActions[0].setVisible(not widgetActions[0].isVisible())\n    widgetActions[0].defaultWidget().setVisible(widgetActions[0].isVisible())\n</code></pre>\n"}], "owner": {"reputation": 188, "user_id": 8482526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4411439e75afb5239e5f61b1255b4a2?s=128&d=identicon&r=PG", "display_name": "Trap", "link": "https://stackoverflow.com/users/8482526/trap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 48796437, "answer_count": 1, "score": 0, "last_activity_date": 1518643315, "creation_date": 1518641975, "last_edit_date": 1518643315, "question_id": 48796093, "link": "https://stackoverflow.com/questions/48796093/hiding-qwidgetaction-just-grey-it-out", "title": "Hiding QWidgetAction just grey it out", "body": "<p>I'm trying to build a menu with some QWidgetAction.\nSome of them can be hidden (using setVisible()), depending on the current state of the program.\nWhen I hide a QWidgetAction, it isn't really hidden but seems to only be disabled, and other actions are drawn over it.</p>\n\n<p>Here's a little test script that shows the issue :</p>\n\n<pre><code>from PyQt5 import QtGui, QtWidgets\nimport sys\n\nwidgetActions = []\n\ndef buttonClicked():\n    widgetActions[0].setVisible(not widgetActions[0].isVisible())\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    w = QtWidgets.QMainWindow()\n    w.resize(250, 150)\n    w.move(300, 300)\n    w.setWindowTitle('QWidgetAction bug')\n\n    menuBar = QtWidgets.QMenuBar(w)\n    menu = menuBar.addMenu('Test')\n\n    for i in range(10):\n        widget = QtWidgets.QLabel('XXXXXXXXXXX' if not i else '------------')\n        widgetAction = QtWidgets.QWidgetAction(menuBar)\n        widgetAction.setDefaultWidget(widget)\n        menu.addAction(widgetAction)\n        widgetActions.append(widgetAction)\n\n    button = QtWidgets.QPushButton(QtGui.QIcon(), 'Hide/show first action', w)\n    button.move(20, 50)\n    button.resize(200, 40)\n    button.clicked.connect(buttonClicked)\n    w.show()\n    sys.exit(app.exec())\n</code></pre>\n\n<p>See below the result and how the first QWidgetAction stays visible under another action.\nAm I doing something wrong or am I just hitting a Qt bug ?\nFor information, I'm using Qt-5.9.4 on Linux.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EI47s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EI47s.png\" alt=\"Action visible\"></a>\n<a href=\"https://i.stack.imgur.com/PFaoO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PFaoO.png\" alt=\"First action hidden\"></a></p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 363, "user_id": 8616571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436f05c54b9bf6aee11df6d509814a20?s=128&d=identicon&r=PG&f=1", "display_name": "knowa42", "link": "https://stackoverflow.com/users/8616571/knowa42"}, "edited": false, "score": 0, "creation_date": 1518642059, "post_id": 48796084, "comment_id": 84594661, "body": "Is using <code>filter</code> absolutely necessary in your scenario? If not, you could use  <a href=\"https://docs.python.org/3/library/re.html#re.search\" rel=\"nofollow noreferrer\">re.search</a>"}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "edited": false, "score": 1, "creation_date": 1518642137, "post_id": 48796084, "comment_id": 84594702, "body": "what is your desired output? i&#39;m confused -))"}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1518642138, "post_id": 48796084, "comment_id": 84594703, "body": "What&#39;s the desired output? Is it just the index values?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6510891"}, "edited": false, "score": 0, "creation_date": 1518642726, "post_id": 48796084, "comment_id": 84595040, "body": "Yes, so Bob would be indices 0-2. The apostrophe is not part of the alphabet so it skips to index 4 which is the second &#39;s&#39;, skips the space and goes to index 6 which is &#39;t&#39; . So it would look like string[0],[1],[2],[4],[6]... etc."}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1518642818, "post_id": 48796084, "comment_id": 84595080, "body": "@GregIven can you edit the question and add the desired output? Maybe you&#39;re looking for something like <code>filter(lambda x: x[1] in alphabet, enumerate(s))</code>? Also don&#39;t use <code>string</code> as a variable name as this will conflict with the <code>string</code> module."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6510891"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1518726609, "post_id": 48796084, "comment_id": 84635308, "body": "@pault yes enumerate was exactly what I was looking for. Thanks for pointing out my variable naming faux pas, I changed it to str_ for better naming convention. :)"}], "answers": [{"tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": true, "score": 1, "last_activity_date": 1518642176, "creation_date": 1518642176, "answer_id": 48796157, "question_id": 48796084, "link": "https://stackoverflow.com/questions/48796084/retrieve-indices-of-letters-in-a-string-for-python/48796157#48796157", "title": "Retrieve indices of letters in a string for python", "body": "<p>List comprehension with <code>enumerate</code>:</p>\n\n<pre><code>[i for i, v in enumerate(str_) if v in alphabet]\n</code></pre>\n\n<ul>\n<li><p><code>i</code> is the index, <code>v</code> is the value at corresponding index <code>i</code>, while <code>enumerate</code>-ing over the input string</p></li>\n<li><p><code>if v in alphabet</code> does the membership test; if found, the index is saved</p></li>\n</ul>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>In [58]: import string\n    ...: alphabet = string.ascii_lowercase\n    ...: \n    ...: str_ = \"Bob's tank has a big boom!\"\n    ...: \n\nIn [59]: [i for i, v in enumerate(str_) if v in alphabet]\nOut[59]: [1, 2, 4, 6, 7, 8, 9, 11, 12, 13, 15, 17, 18, 19, 21, 22, 23, 24]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1518642272, "creation_date": 1518642272, "answer_id": 48796188, "question_id": 48796084, "link": "https://stackoverflow.com/questions/48796084/retrieve-indices-of-letters-in-a-string-for-python/48796188#48796188", "title": "Retrieve indices of letters in a string for python", "body": "<p>This gives each permitted letter and respective position as a list of tuples:</p>\n\n<pre><code>import string\n\nalphabet = string.ascii_lowercase\nstring = \"Bob's tank has a big boom!\"\n\n[(j, i) for i, j in enumerate(string) if j in alphabet]\n\n# [('o', 1), ('b', 2), ('s', 4), ('t', 6), ('a', 7), ('n', 8),\n#  ('k', 9), ('h', 11), ('a', 12), ('s', 13), ('a', 15), ('b', 17),\n#  ('i', 18), ('g', 19), ('b', 21), ('o', 22), ('o', 23), ('m', 24)]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6510891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 48796157, "answer_count": 2, "score": 1, "last_activity_date": 1518726501, "creation_date": 1518641920, "last_edit_date": 1518726501, "question_id": 48796084, "link": "https://stackoverflow.com/questions/48796084/retrieve-indices-of-letters-in-a-string-for-python", "title": "Retrieve indices of letters in a string for python", "body": "<p>I have a string: \"Bob's tank has a big boom!\"</p>\n\n<p>I want to use filter to find the indices of where letters of the alphabet appear in the string to save their placement to a list.</p>\n\n<pre><code>import string\nalphabet = string.ascii_lowercase\n\nstr_ = \"Bob's tank has a big boom!\"\n\nlist_index = list(filter(lambda x: x in alphabet, str_))\n</code></pre>\n\n<p>Currently it just collects all the letters, but i'd like to know their index in the object <strong>str_</strong>.</p>\n\n<p><strong>Edit for more clarity</strong></p>\n\n<p>Output should be: </p>\n\n<pre><code>[0,1,2,4,6,7...]\n[B,o,b,s,t,a...]\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1518643202, "post_id": 48796038, "comment_id": 84595286, "body": "have what refreshed? Just the menu?"}, {"owner": {"reputation": 39, "user_id": 8772726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27c934085cb5082ec65e18caa6e18fb4?s=128&d=identicon&r=PG&f=1", "display_name": "alex stq", "link": "https://stackoverflow.com/users/8772726/alex-stq"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1518643446, "post_id": 48796038, "comment_id": 84595408, "body": "yes, i want the menu refreshed"}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1518644151, "creation_date": 1518644151, "answer_id": 48796637, "question_id": 48796038, "link": "https://stackoverflow.com/questions/48796038/python-tkinter-menu-refresh/48796637#48796637", "title": "python tkinter menu refresh", "body": "<p>There's no need to constantly refresh the menu. You can specify a command to run immediately before the menu is displayed with the <code>postcommand</code> option.</p>\n\n<p>Here is a contrived example that uses the current time as an item on the menu. Every time you show the menu it will show a new time.</p>\n\n<pre><code>import tkinter as tk\nimport time\n\ndef updateTimeMenu():\n    time_menu.delete(0, \"end\")\n    time_menu.add_command(label=time.ctime())\n\nroot = tk.Tk()\nroot.geometry(\"400x200\")\n\nmenubar = tk.Menu(root)\nroot.configure(menu=menubar)\n\ntime_menu = tk.Menu(menubar, postcommand=updateTimeMenu,\n                       tearoff=False)\nmenubar.add_cascade(label=\"Time\", menu=time_menu)\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8772726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27c934085cb5082ec65e18caa6e18fb4?s=128&d=identicon&r=PG&f=1", "display_name": "alex stq", "link": "https://stackoverflow.com/users/8772726/alex-stq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 48796637, "answer_count": 1, "score": 1, "last_activity_date": 1518713630, "creation_date": 1518641777, "last_edit_date": 1518713630, "question_id": 48796038, "link": "https://stackoverflow.com/questions/48796038/python-tkinter-menu-refresh", "title": "python tkinter menu refresh", "body": "<p>I have created a <a href=\"/questions/tagged/python\" class=\"post-tag\" title=\"show questions tagged &#39;python&#39;\" rel=\"tag\">python</a> script that connects to my homemade nas with ssh and showing the size, used and available of the hdd in a <a href=\"/questions/tagged/tkinter\" class=\"post-tag\" title=\"show questions tagged &#39;tkinter&#39;\" rel=\"tag\">tkinter</a> menu by sending a command and printing it:</p>\n\n<pre><code>import sys, paramiko\nfrom tkinter import *\nimport os\nimport tkinter as tk\n\nusername = \"user\"\nhostname = \"ip\"\npassword = \"pass\"\ncommand = \"df /dev/sda3 -h\"\nport = 22\n\ntry:\n    client = paramiko.SSHClient()\n    client.load_system_host_keys()\n    client.set_missing_host_key_policy(paramiko.WarningPolicy())\n    client.connect(hostname, port=port, username=username, password=password)\n    stdin, stdout, stderr = client.exec_command(command)\n    output = stdout.read()\n    root = Tk() \n    root.minsize(width=425, height=200)\n    root.maxsize(width=425, height=200)\n    root.configure(background='blue')\n    menubar = Menu(root)\n    root.title(\"NAS storage\")\n    msg = tk.Message(root, text = (\"size\", output[65:69], \"used\", output[72:75], \"available\", output[77:81])) #should output hdd info (size, used, avalable)\n    msg.config(bg='lightgreen', font=('times', 50, 'italic'))\n    msg.pack()\n    tk.mainloop()\n    root.config(menu=menubar)\n    root.mainloop()\nfinally:\n    client.close()\n</code></pre>\n\n<p>It works but I want to have it refreshed every 5 seconds.</p>\n"}, {"tags": ["python", "python-2.7", "whitespace", "filenames"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1518641865, "post_id": 48796035, "comment_id": 84594571, "body": "Did <code>filepath = &#39;&#47;Users&#47;mc_kaiser&#47;Desktop&#47;Foo 020218-021318.csv&#39;</code> not work? (Without the <code>&#39;\\&#39;</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "is_accepted": true, "score": 2, "last_activity_date": 1518641936, "creation_date": 1518641936, "answer_id": 48796087, "question_id": 48796035, "link": "https://stackoverflow.com/questions/48796035/how-to-allow-a-filename-with-whitespace-in-python/48796087#48796087", "title": "How to allow a filename with whitespace in python?", "body": "<p>That <code>\\</code> for escape is only used by shell, not part of the file name. In Python, just use:</p>\n\n<pre><code>filepath = '/Users/mc_kaiser/Desktop/Foo 020218-021318.csv'\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 3071419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11fNf.jpg?s=128&g=1", "display_name": "mc_kaiser", "link": "https://stackoverflow.com/users/3071419/mc-kaiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 48796087, "answer_count": 1, "score": 1, "last_activity_date": 1518709277, "creation_date": 1518641771, "last_edit_date": 1518709277, "question_id": 48796035, "link": "https://stackoverflow.com/questions/48796035/how-to-allow-a-filename-with-whitespace-in-python", "title": "How to allow a filename with whitespace in python?", "body": "<p>I have a script for importing the contents of csv files in to a database. But when I try</p>\n\n<pre><code>filepath = '/Users/mc_kaiser/Desktop/Foo\\ 020218-021318.csv'\ntest = open(filepath)\n</code></pre>\n\n<p>I get an <code>IOError</code>:</p>\n\n<pre><code>IOError: [Errno 2] No such file or directory: '/Users/mc_kaiser/Desktop/Foo\\\\ 020218-021318.csv'\n</code></pre>\n\n<p>I looked at <a href=\"https://stackoverflow.com/q/14852140/3071419\">this SO post</a> and tried some of the answers, but it's Windows specific and didn't answer my question. Thank you!</p>\n"}, {"tags": ["python", "gcc", "linker", "cython"], "comments": [{"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 0, "creation_date": 1518643218, "post_id": 48796014, "comment_id": 84595293, "body": "truly guessing <code>-export-dynamic</code> looks like a suspect?"}, {"owner": {"reputation": 391, "user_id": 4679633, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/81d1abe1c1c8513726909aae90529649?s=128&d=identicon&r=PG&f=1", "display_name": "phlegmax", "link": "https://stackoverflow.com/users/4679633/phlegmax"}, "reply_to_user": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 0, "creation_date": 1518688719, "post_id": 48796014, "comment_id": 84611389, "body": "<code>-export-dynamic</code> is about the &quot;dynamic symbol table&quot; (according to gcc documentation). I don&#39;t know what this is. Anyway, removing this yields an error: <code>&#47;usr&#47;bin&#47;ld: unrecognized option &#39;-Wl,-O1&#39;</code>. gcc won&#39;t recognize the <code>-Wl</code> options anymore. Without these however, I get <code>File format not recognized</code>."}, {"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 0, "creation_date": 1518707970, "post_id": 48796014, "comment_id": 84624505, "body": "I think <code>-Xlinker -export-dynamic</code> isone flag - (XLinker forwards the flag to the linker) try removing as a whole?"}, {"owner": {"reputation": 391, "user_id": 4679633, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/81d1abe1c1c8513726909aae90529649?s=128&d=identicon&r=PG&f=1", "display_name": "phlegmax", "link": "https://stackoverflow.com/users/4679633/phlegmax"}, "reply_to_user": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 0, "creation_date": 1518715819, "post_id": 48796014, "comment_id": 84629640, "body": "Removing these two flags is possible, indeed. It gives a functioning executable. However, adding <code>-static</code> results in a huge number of errors of the type <code>undefined reference to &#39;PyObject_Call&#39;</code>."}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "edited": false, "score": 0, "creation_date": 1518718609, "post_id": 48796014, "comment_id": 84631173, "body": "How is your linker command line looks like? <code>foo.o</code> should come before the libraries for the static linkage."}, {"owner": {"reputation": 391, "user_id": 4679633, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/81d1abe1c1c8513726909aae90529649?s=128&d=identicon&r=PG&f=1", "display_name": "phlegmax", "link": "https://stackoverflow.com/users/4679633/phlegmax"}, "reply_to_user": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "edited": false, "score": 0, "creation_date": 1518779793, "post_id": 48796014, "comment_id": 84654707, "body": "@ead I&#39;m not sure I understand your question. The command I enter is <code>gcc $(python3-config --cflags) $(python3-config --ldflags) -static .&#47;foo.c</code>."}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "edited": false, "score": 0, "creation_date": 1518781708, "post_id": 48796014, "comment_id": 84655713, "body": "gcc is only a front-end which bundles different steps together: code-&gt;assembler-&gt;object-files-&gt;executables. You can see what happens under the hood when you add <code>-v</code> (verbose) to the gcc-command-line."}], "answers": [{"comments": [{"owner": {"reputation": 391, "user_id": 4679633, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/81d1abe1c1c8513726909aae90529649?s=128&d=identicon&r=PG&f=1", "display_name": "phlegmax", "link": "https://stackoverflow.com/users/4679633/phlegmax"}, "edited": false, "score": 0, "creation_date": 1519042656, "post_id": 48836737, "comment_id": 84735099, "body": "Thank you a lot for your detailed and interesting answer. My command line now reads <code>gcc $(python3-config --cflags) -L&#47;usr&#47;lib&#47;python3.5&#47;config-3.5m-x86_64-linux-gnu -L&#47;usr&#47;lib .&#47;foo.c -Wl,-Bstatic -lpython3.5m -Wl,-Bdynamic -lpthread -ldl -lutil -lm -Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions -o foo -Wl,-verbose</code>. However, I still get this huge number of &#39;undefined reference&#39; errors, for instance <code>&#47;usr&#47;lib&#47;python3.5&#47;config-3.5m-x86_64-linux-gnu&#47;libpython3.5&zwnj;&#8203;m.a(zlibmodule.o): In function &#39;PyInit_zlib&#39;: (.text+0x1ad): undefined reference to &#39;zlibVersion&#39;</code>."}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "reply_to_user": {"reputation": 391, "user_id": 4679633, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/81d1abe1c1c8513726909aae90529649?s=128&d=identicon&r=PG&f=1", "display_name": "phlegmax", "link": "https://stackoverflow.com/users/4679633/phlegmax"}, "edited": false, "score": 0, "creation_date": 1519044753, "post_id": 48836737, "comment_id": 84736403, "body": "@phlegmax I don&#39;t know what is went wrong on your system with finding all dependencies. But obviously you need to  add <code>-lzlib</code> to the libraries. Actually, the list of all needed libraries is given in your question (the result of <code>ldd a.out</code>)"}], "tags": [], "owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "is_accepted": true, "score": 10, "last_activity_date": 1519044346, "last_edit_date": 1519044346, "creation_date": 1518827394, "answer_id": 48836737, "question_id": 48796014, "link": "https://stackoverflow.com/questions/48796014/compile-python-code-to-statically-linked-executable-with-cython/48836737#48836737", "title": "Compile Python code to statically linked executable with Cython", "body": "<p>The experienced problems are obviously from the linker (gcc started a linker under the hood, to see it - just start gcc with <code>-v</code> - in verbose mode). So let's start with a short reminder how the linkage process works:</p>\n\n<p>The linker keeps the names of all symbols it needs to resolve. In the beginning it is only the symbol <code>main</code>. What happens, when linker inspects a library?</p>\n\n<ol>\n<li><p>If it is a static library, the linker looks at every object file in this library, and if this object files defines some looked for symbols, the whole object file is included (which means some symbols becomes resolved, but some further new unresolved symbols can be added). Linker might need to pass multiple times over a static library.</p></li>\n<li><p>If it is a shared library, it is viewed by the linker as a library consisting out of a single huge object file (after all, we have to load this library at the run time and don't have to pass multiple times over and over to prune unused symbols): If there is at least one needed symbol the whole library is \"linked\" (not really the linkage happens at the run-time, this is a kind of a dry-run), if not - the whole library is discarded and never looked again at.</p></li>\n</ol>\n\n<p>For example if you link with:</p>\n\n<pre><code>gcc -L/path -lpython3.x &lt;other libs&gt; foo.o \n</code></pre>\n\n<p>you will get a problem, no matter whether <code>python3.x</code> is a shared or a static lib: when the linker sees it, it looks only for the symbol <code>main</code>, but this symbol is not defined in the python-lib, so it the python-lib is discarded and never looked again at. Only when the linker sees the object-file <code>foo.o</code>, it realizes, that the whole Python-Symbols are needed, but now it is already too late.</p>\n\n<p>There is a simple rule to handle this problem: put the object files first! That means:</p>\n\n<pre><code>gcc -L/path  foo.o -lpython3.x &lt;other libs&gt; \n</code></pre>\n\n<p>Now the linker knows what it needs from the python-lib, when it first sees it.</p>\n\n<p>There are other ways to achieve a similar result.</p>\n\n<p>A) Let the linker to reiterate a group of archives as long as at least one new symbol definition was added per sweep:</p>\n\n<pre><code>gcc -L/path --Wl,-start-group -lpython3.x &lt;other libs&gt; foo.o -Wl,-end-group\n</code></pre>\n\n<p>Linker-options <code>-Wl,-start-group</code> and <code>-Wl,-end-group</code> says to linker iterate more than once over this group of archives, so the linker has a second chance (or more) to include symbols. This option can lead to longer linkage time.</p>\n\n<p>B) Switching on the option <code>--no-as-needed</code> will lead to a shared library (and only shared library) being linked in, no matter whether in this library defined symbols are needed or not.</p>\n\n<pre><code>gcc -L/path -Wl,-no-as-needed -lpython3.x -Wl,-as-needed &lt;other libs&gt; foo.o\n</code></pre>\n\n<p>Actually, the default ld-behavior is <code>--no-as-needed</code>, but the gcc-frontend calls ld with option <code>--as-needed</code>, so we can restore the behavior by adding <code>-no-as-needed</code> prior to the python-library and then switch it off again.</p>\n\n<hr>\n\n<p>Now to your problem of statical linking. I don't think it is advisable to use static versions of all standard libraries (all above glibc), what you should probably do is to link only the python-library statically.</p>\n\n<p>The rules of the linkage are simple: per default the linker tries to open a shared version of the library first and than the static version. I.e. for the library <code>libmylib</code> and paths <code>A</code> and <code>B</code>, i.e.</p>\n\n<pre><code> -L/A -L/B lmylib\n</code></pre>\n\n<p>it tries to open libraries in the following order:</p>\n\n<pre><code>A/libmylib.so\nA/libmylib.a\nB/libmylib.so\nB/libmylib.a\n</code></pre>\n\n<p>Thus if the folder <code>A</code> has only a static version, so this static version is used (no matter whether there is a shared version in folder <code>B</code>).</p>\n\n<p>Because it is quite opaque which library is really used - it depends on the setup of your system, usually one would switch on the logging of the linker via <code>-Wl,-verbose</code> to trouble-shoot.</p>\n\n<p>By using the option <code>-Bstatic</code> one can enforce the usage of the static version of a library:</p>\n\n<pre><code>gcc  foo.o -L/path -Wl,-Bstatic -lpython3.x -Wl,-Bdynamic &lt;other libs&gt;  -Wl,-verbose -o foo\n</code></pre>\n\n<p>Notable thing:</p>\n\n<ol>\n<li><code>foo.o</code> is linked before the libraries.</li>\n<li>switch the static-mode off, directly after the python-library, so other libraries are linked dynamically.</li>\n</ol>\n\n<p>And now:</p>\n\n<pre><code> gcc &lt;cflags&gt; L/paths foo.c -Wl,-Bstatic -lpython3.X -Wl,-Bdynamic &lt;other libs&gt; -o foo -Wl,-verbose\n...\nattempt to open path/libpython3.6m.a succeeded\n...\nldd foo shows no dependency on python-lib\n./foo\nIt works!\n</code></pre>\n\n<hr>\n\n<p>And yes, if you link against static <code>glibc</code> (I don't recommend), you will need to delete <code>-Xlinker -export-dynamic</code> from the command line.</p>\n\n<p>The executable compiled without <code>-Xlinker -export-dynamic</code> will not be able to load some of c-extension which depend on this property of the executable to which they are loaded with <code>ldopen</code>.</p>\n"}], "owner": {"reputation": 391, "user_id": 4679633, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/81d1abe1c1c8513726909aae90529649?s=128&d=identicon&r=PG&f=1", "display_name": "phlegmax", "link": "https://stackoverflow.com/users/4679633/phlegmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10372, "favorite_count": 1, "accepted_answer_id": 48836737, "answer_count": 1, "score": 12, "last_activity_date": 1519044346, "creation_date": 1518641716, "last_edit_date": 1518671378, "question_id": 48796014, "link": "https://stackoverflow.com/questions/48796014/compile-python-code-to-statically-linked-executable-with-cython", "title": "Compile Python code to statically linked executable with Cython", "body": "<p>I have a pure Python script that I would like to distribute to systems with unkown Python configuration. Therefore, I would like to compile the Python code to a stand-alone executable.</p>\n\n<p>I run <code>cython --embed ./foo.py</code> without problems giving <code>foo.c</code>. Then, I run</p>\n\n<pre><code>gcc $(python3-config --cflags) $(python3-config --ldflags) ./foo.c\n</code></pre>\n\n<p>where <code>python3-config --cflags</code> gives</p>\n\n<pre><code>-I/usr/include/python3.5m -I/usr/include/python3.5m  -Wno-unused-result -Wsign-compare -g -fdebug-prefix-map=/build/python3.5-MLq5fN/python3.5-3.5.3=. -fstack-protector-strong -Wformat -Werror=format-security  -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes\n</code></pre>\n\n<p>and <code>python3-config --ldflags</code> gives</p>\n\n<pre><code>-L/usr/lib/python3.5/config-3.5m-x86_64-linux-gnu -L/usr/lib -lpython3.5m -lpthread -ldl  -lutil -lm  -Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions\n</code></pre>\n\n<p>This way I obtain a dynamically linked executable that runs without a problem. <code>ldd a.out</code> yields</p>\n\n<pre><code> linux-vdso.so.1 (0x00007ffcd57fd000)\n libpython3.5m.so.1.0 =&gt; /usr/lib/x86_64-linux-gnu/libpython3.5m.so.1.0 (0x00007fda76823000)\n libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007fda76603000)\n libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007fda763fb000)\n libutil.so.1 =&gt; /lib/x86_64-linux-gnu/libutil.so.1 (0x00007fda761f3000)\n libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007fda75eeb000)\n libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fda75b4b000)\n libexpat.so.1 =&gt; /lib/x86_64-linux-gnu/libexpat.so.1 (0x00007fda7591b000)\n libz.so.1 =&gt; /lib/x86_64-linux-gnu/libz.so.1 (0x00007fda756fb000)\n /lib64/ld-linux-x86-64.so.2 (0x00007fda77103000)\n</code></pre>\n\n<p>Now, I try to add the option <code>-static</code> to gcc, but this results in an error:</p>\n\n<pre><code>/usr/bin/ld: dynamic STT_GNU_IFUNC symbol `strcmp' with pointer equality in `/usr/lib/gcc/x86_64-linux-gnu/6/../../../x86_64-linux-gnu/libc.a(strcmp.o)' can not be used when making an executable; recompile with -fPIE and relink with -pie\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>I checked that all shared libraries given by ldd are also installed as static libraries. </p>\n\n<p>So, is this some incompatibility with the options given by python3-config?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9606, "user_id": 5012099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a24d87840141459cef20b2877bcd9bc?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingTeller", "link": "https://stackoverflow.com/users/5012099/flyingteller"}, "edited": false, "score": 0, "creation_date": 1518641966, "post_id": 48796001, "comment_id": 84594613, "body": "Could you point out which problem from projecteuler this is referring to? I am not sure I completely get the idea of what you are trying. Also, could you make your example code a <a href=\"https://stackoverflow.com/help/mcve\">MWE</a>, that would greatly help copying and running it on my machine"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1518642273, "post_id": 48796001, "comment_id": 84594773, "body": "Add some sample input, what it should result in, and what you get now."}, {"owner": {"reputation": 17, "user_id": 9361945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "tlvwtaiwantau", "link": "https://stackoverflow.com/users/9361945/tlvwtaiwantau"}, "edited": false, "score": 0, "creation_date": 1518642412, "post_id": 48796001, "comment_id": 84594843, "body": "The problem I am working on is: Problem 4  A palindromic number reads the same both ways. The largest palindrome made from the product of two 2-digit numbers is 9009 = 91 &#215; 99.  Find the largest palindrome made from the product of two 3-digit numbers."}, {"owner": {"reputation": 423, "user_id": 7782213, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RaQQ_6Zx4LY/AAAAAAAAAAI/AAAAAAAAAAo/C_wAEa046d4/photo.jpg?sz=128", "display_name": "Efron Licht", "link": "https://stackoverflow.com/users/7782213/efron-licht"}, "edited": false, "score": 0, "creation_date": 1518642612, "post_id": 48796001, "comment_id": 84594962, "body": "Are you sure you need to factor numbers to get your answer? Try going backwards."}, {"owner": {"reputation": 17, "user_id": 9361945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "tlvwtaiwantau", "link": "https://stackoverflow.com/users/9361945/tlvwtaiwantau"}, "edited": false, "score": 0, "creation_date": 1518642741, "post_id": 48796001, "comment_id": 84595045, "body": "Sure. When I print the result of twofactorsthreedigits(range(500)), a range within I should not get any numbers, I get [202, 206, 214, 218, 226, 254, 262, 274, 278, 298, 302, 303, 309, 314, 321, 326, 327, 334, 339, 346, 358, 362, 381, 382, 386, 393, 394, 398, 404, 411, 412, 417, 422, 428, 436, 446, 447, 452, 453, 454, 458, 466, 471, 478, 482, 489]. I am also unsure as to how I can change my code to an MWE."}], "answers": [{"comments": [{"owner": {"reputation": 1369, "user_id": 4383396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1279516226/picture?type=large", "display_name": "Grant Williams", "link": "https://stackoverflow.com/users/4383396/grant-williams"}, "edited": false, "score": 0, "creation_date": 1518643939, "post_id": 48796579, "comment_id": 84595609, "body": "You can make this code much faster and there are a few tricks you can do to improve the code (hint think about how multiplying a number by 11 works), but hopefully this can get you started enough to come up with more optimal solution"}, {"owner": {"reputation": 17, "user_id": 9361945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "tlvwtaiwantau", "link": "https://stackoverflow.com/users/9361945/tlvwtaiwantau"}, "edited": false, "score": 0, "creation_date": 1518644676, "post_id": 48796579, "comment_id": 84595929, "body": "Thank you! that definitely makes sense to me! It had just never occurred to me that I could do it this way. I was essentially finding the palindromes in a list, then making the reverse of that list, then finding the palindromes in that new list that fit the criteria and I just ended up with a bit of a mess as you can see. This is much nicer."}], "tags": [], "owner": {"reputation": 1369, "user_id": 4383396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1279516226/picture?type=large", "display_name": "Grant Williams", "link": "https://stackoverflow.com/users/4383396/grant-williams"}, "is_accepted": true, "score": 0, "last_activity_date": 1518643883, "creation_date": 1518643883, "answer_id": 48796579, "question_id": 48796001, "link": "https://stackoverflow.com/questions/48796001/factors-with-3-digits/48796579#48796579", "title": "Factors with 3 digits", "body": "<p>I think you are really over complicating things. </p>\n\n<p>Lets just do this the most basic way possible. Start with a nested loop with the largest values and decrement them. Check if their product is a palindrome and keep track of which palindrome is largest so far.</p>\n\n<p>Example: </p>\n\n<pre><code>bestpalindrome = 0\n\ndef is_palindrome(n):\n    return str(n)[::-1] == str(n)\n\nfor i in range(999, 100, -1):\n    for j in range(999, 100, -1):\n        temp = i*j\n        if (is_palindrome(temp)):\n            if temp &gt; bestpalindrome:\n                bestpalindrome = temp\n\n\nprint(bestpalindrome)\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 9361945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "tlvwtaiwantau", "link": "https://stackoverflow.com/users/9361945/tlvwtaiwantau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 48796579, "answer_count": 1, "score": 1, "last_activity_date": 1518643883, "creation_date": 1518641668, "last_edit_date": 1518643325, "question_id": 48796001, "link": "https://stackoverflow.com/questions/48796001/factors-with-3-digits", "title": "Factors with 3 digits", "body": "<p>I am relatively new to python and I am having a go at the challenges on <a href=\"https://projecteuler.net\" rel=\"nofollow noreferrer\">https://projecteuler.net</a>. Currently, I am having trouble verifying that a number has two corresponding three-digit factors. </p>\n\n<p>My idea is to take the nth number in a list of factors, and take the (len(list) - n)th factor (since these are the corresponding factors) and check that both of these have length 3 and it seems to work for many values. However, when I define another function that appends terms that meet this criteria to a new list, it comes out with a bunch of numbers that do not agree with this, with some not even having a single three digit factor. </p>\n\n<p>An example of what I am looking for would be 10200, as it can be written as 102 x 100 (the product of two three digit integers). My function gives me the values that definitely are true but seems to throw in a lot of other values which are supposed to be false.</p>\n\n<p>Here is what I used to find factors of a number:</p>\n\n<pre><code>def factors(x):\nfactors = []\ncount = 2\nwhile count &lt; x:\n  if x % count == 0:\n    factors.append(count)\n  count = count + 1\nreturn factors\n</code></pre>\n\n<p>Here is my function to find 2 multiples:</p>\n\n<pre><code>def two_multiples(y):\n    count = 0\n    while count &lt; len(str(factors(y))) + 1:\n      for g in factors(y):\n        if len(str(factors(y)[count])) == 3 and len(str(factors(y)[len(factors(y))-count])) == 3:\n          return True\n        count = count + 1\n      return False \n</code></pre>\n\n<p>Here is what I use to find values within lists:</p>\n\n<pre><code>def twofactorsthreedigits(numlist):\n  twofactorsthreedigits = []\n  for z in numlist:\n    if two_multiples(z) == True:\n    twofactorsthreedigits.append(z)\n  return twofactorsthreedigits\n</code></pre>\n\n<p>When I print the result of twofactorsthreedigits(range(500)), a range within I should not get any values, I get </p>\n\n<p>[202, 206, 214, 218, 226, 254, 262, 274, 278, 298, 302, 303, 309, 314, 321, 326, 327, 334, 339, 346, 358, 362, 381, 382, 386, 393, 394, 398, 404, 411, 412, 417, 422, 428, 436, 446, 447, 452, 453, 454, 458, 466, 471, 478, 482, 489]</p>\n\n<p>Certainly to me it looks like I may have overcomplicated the functions but I cant spot where I have gone wrong. I think I have probably made a mistake with one of my while or for loops. I would be exceedingly grateful if anyone could point out any mistakes.</p>\n"}, {"tags": ["python", "autocomplete", "atom-editor"], "comments": [{"owner": {"reputation": 467, "user_id": 5327131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284d4beef39af21d707f9264a9b1934f?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickReagan", "link": "https://stackoverflow.com/users/5327131/patrickreagan"}, "edited": false, "score": 0, "creation_date": 1518643146, "post_id": 48795993, "comment_id": 84595258, "body": "To be more specific on #3:  Besides the package readme, is there another documentation source that I should be looking at?"}, {"owner": {"reputation": 927, "user_id": 6571327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756147890b0d38e495bdec35b0e84ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Kalt", "link": "https://stackoverflow.com/users/6571327/steven-kalt"}, "edited": false, "score": 0, "creation_date": 1530641767, "post_id": 48795993, "comment_id": 89304903, "body": "I&#39;m unable to reproduce your unexpected behavior. On atom 1.27.2 with autocomplete-python 1.10.5 and the file ``` def foo(a, b=1): return a, b def bar(a, b): return a,b ``` complete arguments of <code>foo(</code> fills in <code>a)</code>, while <code>bar(</code> completes to <code>a, b)</code>.  Complete arguments doesn&#39;t work without the cursor within parens.  What versions do you have, and can you give an example python file?"}], "owner": {"reputation": 467, "user_id": 5327131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284d4beef39af21d707f9264a9b1934f?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickReagan", "link": "https://stackoverflow.com/users/5327131/patrickreagan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 491, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538822892, "creation_date": 1518641632, "question_id": 48795993, "link": "https://stackoverflow.com/questions/48795993/atom-autocomplete-python-arguments-more-documentation-prefixes", "title": "Atom autocomplete-python: Arguments? More documentation? Prefixes?", "body": "<p>I'm trying to set up the Atom's autocomplete-python package on my Mac (10.11.6) and have three related questions...</p>\n\n<p><strong>1)</strong> As I type a python keyword, arguments ARE displayed, but how do I make them print to my document?  For example, when I type \"DATABAS\", autocomplete offers this option:</p>\n\n<blockquote>\n  <p>c DATABASES { 'default': { 'ENGINE': 'django.db.backend...</p>\n</blockquote>\n\n<p>Hitting the enter key to select this option only prints the command \"DATABASES\" to my file.  What keystrokes are needed to also print the arguments?  The readme's suggestion of open parenthesis only prints that character, even though my US keyboard setup  seems to be sending the correct Unicode U+0028 with this key. </p>\n\n<ul>\n<li>The package's \"Autocomplete Function Parameters\" is set to \"all\"</li>\n<li>autocomplete-plus is installed, and seems to be functioning: Typing \"open\", enter key and \"(\" adds the arguments for that command.  Adding \"*.none\" to that package's \"File Blacklist\" setting seemed to have no effect on my autocomplete-python question.</li>\n<li>Jas asked <a href=\"https://stackoverflow.com/questions/48468686/in-atom-how-to-auto-complete-function-arguments\">what may be the same question</a> but there are no answers, so I'm trying again with different wording and more research results.</li>\n<li>walles posted <a href=\"https://github.com/autocomplete-python/autocomplete-python/issues/111\" rel=\"nofollow noreferrer\">an issue in 2015</a>, which prompted a package change.  But that new Atom command \"Autocomplete Python: Complete Arguments\" doesn't seem to do anything just after I select the \"DATABASES\" option, nor after I manually select the entire word \"DATABASES\".</li>\n</ul>\n\n<p>What am I missing here?</p>\n\n<p><strong>2)</strong> Is there more documentation for autocomplete-python that I haven't found yet?</p>\n\n<p><strong>3)</strong> autocomplete-python offers prefix letters before the offered options.  (The \"c\" above, apparently meaning \"Command\".)  Has a legend been published for all possible prefixes?  That would help me learn more about python.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "matplotlib", "seaborn"], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 7081659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/10ea8f16dace03bdd95a735d9bf3b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Septimus G", "link": "https://stackoverflow.com/users/7081659/septimus-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1518642256, "creation_date": 1518642256, "answer_id": 48796182, "question_id": 48795977, "link": "https://stackoverflow.com/questions/48795977/python-plot-a-histogram-with-colored-categories/48796182#48796182", "title": "Python: Plot a histogram with colored categories", "body": "<p>I found that matplotlib offers this functionality directly, as illustrated <a href=\"https://matplotlib.org/devdocs/gallery/statistics/histogram_multihist.html\" rel=\"nofollow noreferrer\">here</a>. \nHere is the solution for the iris dataset example:</p>\n\n<pre><code>x = [iris.sepal_length[iris.species==sp_name] for sp_name in ['setosa', 'versicolor', 'virginica']]\nplt.hist(x, 8, density=True, histtype='bar', stacked=True)\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 7081659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/10ea8f16dace03bdd95a735d9bf3b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Septimus G", "link": "https://stackoverflow.com/users/7081659/septimus-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1791, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518642256, "creation_date": 1518641552, "question_id": 48795977, "link": "https://stackoverflow.com/questions/48795977/python-plot-a-histogram-with-colored-categories", "title": "Python: Plot a histogram with colored categories", "body": "<p>Seaborn offers the pairplot utility in which the diagonal will provide a histogram with colored categories. See the second example in the <a href=\"https://seaborn.pydata.org/generated/seaborn.pairplot.html\" rel=\"nofollow noreferrer\">documentation</a>. I am trying to generate a single histogram where the bars are colored by a given category, but so far I have not been able to. Here is what I have tried:</p>\n\n<p>First, I tried to extract the plot, for example:</p>\n\n<pre><code>iris = sns.load_dataset(\"iris\")\ng = sns.pairplot(iris, hue=\"species\")\nax = g.diag_axes[0]\nax.plot()\n</code></pre>\n\n<p>Which does not work, since the <code>ax</code> object behaves as emtpy. Alternatively I have not found any direct way of plotting this type of histogram directly. I tried:</p>\n\n<pre><code> g = sns.pairplot(iris, hue=\"species\", vars=['sepal_length'])\n</code></pre>\n\n<p>Which will generate only one histogram, but the y ticks are not correct, and I am not able to change them. </p>\n"}, {"tags": ["python", "tensorflow", "object-detection"], "comments": [{"owner": {"reputation": 5295, "user_id": 2089899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/JJVOk.jpg?s=128&g=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/2089899/austin"}, "edited": false, "score": 0, "creation_date": 1528748772, "post_id": 48795950, "comment_id": 88616990, "body": "python3 issue probably. In <code>models&#47;research&#47;object_detection&#47;utils&#47;learning_schedules.py</code> change <code>range(num_boundaries)</code> to <code>list(range(num_boundaries))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 7405, "user_id": 448357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2a937e2f64c4fa7c3a0baf9d1b13a52d?s=128&d=identicon&r=PG", "display_name": "Alexander Pacha", "link": "https://stackoverflow.com/users/448357/alexander-pacha"}, "is_accepted": false, "score": 2, "last_activity_date": 1533637360, "creation_date": 1533637360, "answer_id": 51724431, "question_id": 48795950, "link": "https://stackoverflow.com/questions/48795950/tensorflowobject-detection-valueerror-when-try-to-train-with-num-clones-2/51724431#51724431", "title": "[Tensorflow][Object detection] ValueError when try to train with --num_clones=2", "body": "<p>I solved this issue by changing one parameter in my original configuration slightly:</p>\n\n<pre><code>...\ntrain_config: {\n  fine_tune_checkpoint: \"C:/some_path/model.ckpt\"\n  batch_size: 1\n  sync_replicas: true\n  startup_delay_steps: 0\n  replicas_to_aggregate: 8\n  num_steps: 25000\n  ...\n}\n...\n</code></pre>\n\n<p>Changing the parameter <code>replicas_to_aggregate: 1</code>, or setting <code>sync_replicas: false</code> both solves the problem for me, since I was training only on one graphics card and did not have any replicas (as you would have when training on TPU).</p>\n"}, {"tags": [], "owner": {"reputation": 1539, "user_id": 5859283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/caadb9341d16d68d56caf9a874c97832?s=128&d=identicon&r=PG&f=1", "display_name": "4Oh4", "link": "https://stackoverflow.com/users/5859283/4oh4"}, "is_accepted": false, "score": 3, "last_activity_date": 1550597433, "creation_date": 1550597433, "answer_id": 54771885, "question_id": 48795950, "link": "https://stackoverflow.com/questions/48795950/tensorflowobject-detection-valueerror-when-try-to-train-with-num-clones-2/54771885#54771885", "title": "[Tensorflow][Object detection] ValueError when try to train with --num_clones=2", "body": "<p>You don't mention which type of model you are training - if like me you were using the default model from the TensorFlow Object Detection API example (Faster-RCNN-Inception-V2) then <code>num_clones</code> should equal the <code>batch_size</code>. I was using a GPU however, but when I went from one clone to two, I saw a similar error and setting <code>batch_size: 2</code> in the training config file was the solution.</p>\n"}], "owner": {"reputation": 81, "user_id": 9001644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79447b4cf27dbed3103be625a550a801?s=128&d=identicon&r=PG&f=1", "display_name": "KoS", "link": "https://stackoverflow.com/users/9001644/kos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2121, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1550597433, "creation_date": 1518641432, "question_id": 48795950, "link": "https://stackoverflow.com/questions/48795950/tensorflowobject-detection-valueerror-when-try-to-train-with-num-clones-2", "title": "[Tensorflow][Object detection] ValueError when try to train with --num_clones=2", "body": "<p>I wanted to train on multiple CPU so i run this command</p>\n\n<blockquote>\n  <p>C:\\Users\\solution\\Desktop\\Tensorflow\\research>python\n  object_detection/train.py --logtostderr\n  --pipeline_config_path=C:\\Users\\solution\\Desktop\\Tensorflow\\myFolder\\power_drink.config --train_dir=C:\\Users\\solution\\Desktop\\Tensorflow\\research\\object_detection\\train\n  --num_clones=2 --clone_on_cpu=True</p>\n</blockquote>\n\n<p>and i got the following error</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File \"object_detection/train.py\",\n  line 169, in \n      tf.app.run()   File \"C:\\Users\\solution\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\",\n  line 124, in run\n      _sys.exit(main(argv))   File \"object_detection/train.py\", line 165, in main\n      worker_job_name, is_chief, FLAGS.train_dir)   File \"C:\\Users\\solution\\Desktop\\Tensorflow\\research\\object_detection\\trainer.py\",\n  line 246, in train\n      clones = model_deploy.create_clones(deploy_config, model_fn, [input_queue])   File\n  \"C:\\Users\\solution\\Desktop\\Tensorflow\\research\\slim\\deployment\\model_deploy.py\",\n  line 193, in create_clones\n      outputs = model_fn(*args, **kwargs)   File \"C:\\Users\\solution\\Desktop\\Tensorflow\\research\\object_detection\\trainer.py\",\n  line 158, in _create_losses\n      train_config.merge_multiple_label_boxes) ValueError: not enough values to unpack (expected 7, got 0) </p>\n</blockquote>\n\n<p>If i set num_clones to 1 or omitted it, it works normally.\nI also tries setting --ps_tasks=1 which doesn't help</p>\n\n<p>any advice would be appreciated</p>\n"}, {"tags": ["python", "python-3.x", "beautifulsoup"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 1, "creation_date": 1518642580, "post_id": 48795945, "comment_id": 84594945, "body": "It&#39;s a namespace issue. Other similar questions suggest <code>soup.find(&#39;o:p&#39;)</code> ought to work \u2013 can you check that?"}, {"owner": {"reputation": 272, "user_id": 7431886, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3d8326e9514621ee4c7ef71504a4e171?s=128&d=identicon&r=PG&f=1", "display_name": "Mike R", "link": "https://stackoverflow.com/users/7431886/mike-r"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1518642905, "post_id": 48795945, "comment_id": 84595120, "body": "This does work, thank you - how come <code>find</code> and <code>find_all</code> work differently? And better yet, how can I get the behaviour of <code>find_all</code> since that is ultimately what I need?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1518652003, "post_id": 48795945, "comment_id": 84598715, "body": "There is definitely something fishy going on with the HTML parser. See my answer \u2013 found through (admittedly quite random) attempts following various related questions."}], "answers": [{"tags": [], "owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "is_accepted": true, "score": 3, "last_activity_date": 1518651932, "creation_date": 1518651932, "answer_id": 48798034, "question_id": 48795945, "link": "https://stackoverflow.com/questions/48795945/parsing-ms-specific-html-tags-in-beautifulsoup/48798034#48798034", "title": "Parsing MS specific html tags in BeautifulSoup", "body": "<p>It's a namespace issue. Apparently, BeautifulSoup does not consider custom namespaces valid when parsed with <code>\"html5lib\"</code>.</p>\n\n<p>You can work around this with a regular expression, which \u2013 strangely \u2013 <em>does</em> work correctly!</p>\n\n<pre><code>print (soup.find_all(re.compile('o:p')))\n&gt;&gt;&gt; [&lt;o:p&gt;This should go&lt;/o:p&gt;]\n</code></pre>\n\n<p>but the \"proper\" solution is to change the parser to <code>\"lxml-xml\"</code> and introducing <code>o:</code> as a valid namespace.</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\ntextToParse = \"\"\"\n&lt;html xmlns:o='dummy_url'&gt;\n  &lt;head&gt;\n    &lt;title&gt;Something to parse&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;p&gt;&lt;o:p&gt;This should go&lt;/o:p&gt;Paragraph&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\n\nsoup = BeautifulSoup(textToParse, \"lxml-xml\")\n\nbody = soup.find('body')\n\nprint ('this should find nothing')\nfor otag in body.find_all('o'):\n  print(otag)\n\nprint ('this should find o:p')\nfor otag in body.find_all('o:p'):\n  print(otag)\n\n&gt;&gt;&gt;\nthis should find nothing\nthis should find o:p\n&lt;o:p&gt;This should go&lt;/o:p&gt;\n</code></pre>\n"}], "owner": {"reputation": 272, "user_id": 7431886, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3d8326e9514621ee4c7ef71504a4e171?s=128&d=identicon&r=PG&f=1", "display_name": "Mike R", "link": "https://stackoverflow.com/users/7431886/mike-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 0, "accepted_answer_id": 48798034, "answer_count": 1, "score": 2, "last_activity_date": 1518651932, "creation_date": 1518641408, "question_id": 48795945, "link": "https://stackoverflow.com/questions/48795945/parsing-ms-specific-html-tags-in-beautifulsoup", "title": "Parsing MS specific html tags in BeautifulSoup", "body": "<p>When trying to parse an email sent using MS Outlook, I want to be able to strip the annoying Microsoft XML tags that it has added. One such example is the <code>o:p</code> tag. When trying to use Python's BeautifulSoup to parse an email as HTML, it can't seem to find these specialty tags. </p>\n\n<p>For example:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\ntextToParse = \"\"\"\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Something to parse&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;p&gt;&lt;o:p&gt;This should go&lt;/o:p&gt;Paragraph&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\n\nsoup = BeautifulSoup(textToParse, \"html5lib\")\n\nbody = soup.find('body')\n\nfor otag in body.find_all('o'):\n  print(otag)\n\nfor otag in body.find_all('o:p'):\n  print(otag)\n</code></pre>\n\n<p>This will output no text to the console, but if I switched the <code>find_all</code> call to search for <code>p</code> then it would output the <code>p</code> node as expected.</p>\n\n<p>How come these custom tags do not seem to work?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1518641558, "post_id": 48795940, "comment_id": 84594426, "body": "Well you can not optimize it dramatically (different time complexity) since it runs in the amount of output dictionaries."}, {"owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "edited": false, "score": 0, "creation_date": 1518642222, "post_id": 48795940, "comment_id": 84594744, "body": "Do you actually need a list of dicts or would a generator of dicts suffice?"}, {"owner": {"reputation": 3072, "user_id": 6611672, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fa3f99cc3070ae57d877e08f9564ed22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Metz", "link": "https://stackoverflow.com/users/6611672/johnny-metz"}, "reply_to_user": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "edited": false, "score": 0, "creation_date": 1518644659, "post_id": 48795940, "comment_id": 84595923, "body": "@Omni I&#39;ll be using the resulting list <code>data</code> quite a bit so pretty sure a generator wouldn&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 3072, "user_id": 6611672, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fa3f99cc3070ae57d877e08f9564ed22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Metz", "link": "https://stackoverflow.com/users/6611672/johnny-metz"}, "edited": false, "score": 0, "creation_date": 1518644392, "post_id": 48795999, "comment_id": 84595806, "body": "First option (boost with vanilla python) is perfect. Increases readability dramatically as well. Thanks!"}], "tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": true, "score": 5, "last_activity_date": 1518642972, "last_edit_date": 1518642972, "creation_date": 1518641662, "answer_id": 48795999, "question_id": 48795940, "link": "https://stackoverflow.com/questions/48795940/python-create-list-of-combinations-from-two-other-lists/48795999#48795999", "title": "python: create list of combinations from two other lists", "body": "<h1>A note on time complexity</h1>\n\n<p>We can not boost it dramatically (in the sense that we construct an algorithm with different time complexity), since the current algorithm already runs in the number of output dictionaries, and you can not construct a list of <em>k</em> elements in less than <em>O(k)</em>.</p>\n\n<h1>Boost with <em>vanilla</em> Python</h1>\n\n<p>We can however use for instance list comprehension and more effective dictionary construction to boost performance a bit:</p>\n\n<pre><code>[{**d, 'name': name} for d in list_of_dicts for name in names]\n</code></pre>\n\n<p>If we compare this with the original implementation, we get for the following benchmarks:</p>\n\n<pre><code>old: 1.611422804009635\nnew: 1.3899883680278435 (-14%)\n</code></pre>\n\n<p>Benchmark program:</p>\n\n<pre><code>&gt;&gt;&gt; def g():\n...     data = []\n...     for d in list_of_dicts:\n...         for name in names:\n...             new_d = d.copy()\n...             new_d['name'] = name\n...             data.append(new_d)\n...     return data\n... \n&gt;&gt;&gt; def h():\n...     return [{**d, 'name': name} for d in list_of_dicts for name in names]\n... \n&gt;&gt;&gt; timeit.timeit(g)\n1.611422804009635\n&gt;&gt;&gt; timeit.timeit(h)\n1.3899883680278435\n</code></pre>\n\n<h1>Using <em>generators</em> instead of lists</h1>\n\n<p>Frequently when dealing with large input, it is better to use a <em>generator</em>, since that means we never construct a full list of elements, but only calculate the next one when we need it. The advantage is twofold: in case we cut of iterating over a generator earlier, we do not waste cycles on calculating dictionaries that are never used, and furthermore we save on memory, since if the old dictionary is no longer used, the memory it occupied can be reused. The disadvantage is that if all elements are enumerated, there is some overhead that is wasted with the generator <em>protocol</em>. We can easily turn list comprehension into a generator, by using round brackets <code>()</code> instead of square brackets <code>[]</code>:</p>\n\n<pre><code>({**d, 'name': name} for d in list_of_dicts for name in names)\n</code></pre>\n\n<h1>Boost with pandas</h1>\n\n<p>We can also use pandas, if every dictionary contains the <em>same</em> keys. We can construct two dataframes and then join these, like:</p>\n\n<pre><code>from pandas import DataFrame, merge\n\nda = DataFrame(list_of_dicts)\ndb = DataFrame(names)\nda['_tmpkey'] = db['_tmpkey'] = 1\n\nresult = merge(da, db, on='_tmpkey').drop('_tmpkey', axis=1).T.to_dict().values()\n</code></pre>\n\n<p>Pandas will usually work slower for <em>small</em> datasets, but will usually lead to a significant speedup in case the sets are larger.</p>\n"}], "owner": {"reputation": 3072, "user_id": 6611672, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fa3f99cc3070ae57d877e08f9564ed22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Metz", "link": "https://stackoverflow.com/users/6611672/johnny-metz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 48795999, "answer_count": 1, "score": 2, "last_activity_date": 1518642972, "creation_date": 1518641386, "question_id": 48795940, "link": "https://stackoverflow.com/questions/48795940/python-create-list-of-combinations-from-two-other-lists", "title": "python: create list of combinations from two other lists", "body": "<p>I have the following two lists:</p>\n\n<pre><code>list_of_dicts = [\n    {'book': 1, 'title': 'novice'},\n    {'book': 2, 'title': 'novice'},\n    {'book': 3, 'title': 'novice'},\n]\nnames = ['Johnny', 'Mike']\n</code></pre>\n\n<p>I want to create a list of dictionaries representing the combinations of each of these two lists like so:</p>\n\n<pre><code>data = [\n    {'book': 1, 'title': 'novice', name='Johnny'},\n    {'book': 1, 'title': 'novice', name='Mike'},\n    {'book': 2, 'title': 'novice', name='Johnny'},\n    {'book': 2, 'title': 'novice', name='Mike'},\n    {'book': 3, 'title': 'novice', name='Johnny'},\n    {'book': 3, 'title': 'novice', name='Mike'},\n]\n</code></pre>\n\n<p>This is what I have so far but there should be a better way:</p>\n\n<pre><code>data = []\nfor d in list_of_dicts:\n    for name in names:\n        new_d = d.copy()\n        new_d['name'] = name\n        data.append(new_d)\n</code></pre>\n\n<p>The reason I ask is for optimization reasons: the first two lists in my use case can be huge in certain situations.</p>\n"}, {"tags": ["python", "regex", "lookahead"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 1, "creation_date": 1518642202, "post_id": 48795930, "comment_id": 84594731, "body": "Please check this <a href=\"https://regex101.com/r/uGzBqp/1\" rel=\"nofollow noreferrer\">regex101.com/r/uGzBqp/1</a>"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1518642220, "post_id": 48795930, "comment_id": 84594741, "body": "Like this <a href=\"https://regex101.com/r/7rRz81/1\" rel=\"nofollow noreferrer\">regex101.com/r/7rRz81/1</a> ?"}, {"owner": {"reputation": 2218, "user_id": 314922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/37fda62ccc7749266c51eec1c15b8f30?s=128&d=identicon&r=PG", "display_name": "Personman", "link": "https://stackoverflow.com/users/314922/personman"}, "edited": false, "score": 1, "creation_date": 1518642327, "post_id": 48795930, "comment_id": 84594798, "body": "I think this might be your issue: <a href=\"https://stackoverflow.com/a/24123348/314922\">stackoverflow.com/a/24123348/314922</a>"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1518642449, "post_id": 48795930, "comment_id": 84594865, "body": "Are the newline characters desired in the output?"}], "answers": [{"comments": [{"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 1, "creation_date": 1518642847, "post_id": 48796219, "comment_id": 84595095, "body": "<code>(\\()?</code> can just be <code>\\(?</code>, no?"}], "tags": [], "owner": {"reputation": 1371, "user_id": 5798435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46e85c028ee4f738679c57821206d870?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Ingham", "link": "https://stackoverflow.com/users/5798435/mukesh-ingham"}, "is_accepted": false, "score": -1, "last_activity_date": 1518642396, "creation_date": 1518642396, "answer_id": 48796219, "question_id": 48795930, "link": "https://stackoverflow.com/questions/48795930/if-then-lookahead-with-parentheses-in-regex/48796219#48796219", "title": "If-then &amp; lookahead with parentheses in regex", "body": "<p>The if else functionality is technically possible, you just need to think about it in terms of the '|' statement.</p>\n\n<pre><code>^ *from (?P&lt;package&gt;[.\\w]+) +import (\\()?(?(2)(?P&lt;object0&gt;[*, \\n\\w]+)\\)|(?P&lt;object1&gt;[*, \\w]+))\n</code></pre>\n\n<p>If the expression before the | is not matched then select the expression after the |. In effect this is essentially an if then else if you include the if with the then part of the statement.</p>\n"}, {"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": true, "score": 1, "last_activity_date": 1518695197, "last_edit_date": 1518695197, "creation_date": 1518642926, "answer_id": 48796346, "question_id": 48795930, "link": "https://stackoverflow.com/questions/48795930/if-then-lookahead-with-parentheses-in-regex/48796346#48796346", "title": "If-then &amp; lookahead with parentheses in regex", "body": "<p>You could use</p>\n\n<pre><code>import re\n\nrx = re.compile(r'''\n    ^\\ *from\\s+\n    (?P&lt;package_name&gt;[.\\w]+)\\s+\n    import\\s+\n    (\\()?\n    (?(2)\n        (?P&lt;object&gt;[^()]+)\\)\n        |\n        (?P&lt;object2&gt;(?:.+[\\n\\r]?)+)\n    )\n''', re.VERBOSE | re.MULTILINE)\n\ndef aftermatch(group1, group2):\n    group = group1 if group1 else group2\n    objects = [obj.strip() for obj in group.split(',')]\n    return objects\n\npackages = {m.group('package_name'): aftermatch(m.group('object'), m.group('object2'))\n            for m in rx.finditer(data)}\nprint(packages)\n</code></pre>\n\n<p><hr>\nWhich yields for your string <code>imports</code>:</p>\n\n<pre><code>{'.sql.base': ['SchemaVisitor'], 'pandas': ['Series'], '_pytest.config': ['main', 'UsageError', 'cmdline', 'hookspec', 'hookimpl'], '.solvers': ['solve', 'solve_linear_system', 'solve_linear_system_LU', 'solve_undetermined_coeffs', 'nsolve', 'solve_linear', 'checksol', 'det_quick', 'inv_quick', 'check_assumptions'], '.ode': ['checkodesol', 'classify_ode', 'dsolve', 'homogeneous_order']}\n</code></pre>\n\n<p><hr>\nSee a demo for the expression on <a href=\"https://regex101.com/r/7rRz81/1/\" rel=\"nofollow noreferrer\"><strong>regex101.com</strong></a>,  the rest is a dict comprehension with a function called <code>aftermatch()</code> to clean the object part afterwards.</p>\n\n<p><hr>\n<strong>Edit:</strong> For <em>non-sticklers</em>, you could use the newer <a href=\"https://pypi.python.org/pypi/regex/\" rel=\"nofollow noreferrer\"><strong><code>regex</code> module</strong></a> which supports branch resets. Here, you do not need a function anymore:</p>\n\n<pre><code>import regex as re\nrx = re.compile(r'''\n    ^from\\s+\n    (?P&lt;package_name&gt;[.\\w]+)\\s+\n    import\\s+\n    (?|\n        \\((?P&lt;object&gt;[^()]+)\\)\n        |   \n        (?P&lt;object&gt;(?:.+[\\n\\r]?)+)\n    )\n''', re.VERBOSE | re.MULTILINE)\n\npackages = {m.group('package_name'): \n            [obj.strip() for obj in m.group('object').split(',')]\n            for m in rx.finditer(imports)}\nprint(packages)\n</code></pre>\n"}], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 48796346, "answer_count": 2, "score": 1, "last_activity_date": 1518695197, "creation_date": 1518641338, "last_edit_date": 1518645374, "question_id": 48795930, "link": "https://stackoverflow.com/questions/48795930/if-then-lookahead-with-parentheses-in-regex", "title": "If-then &amp; lookahead with parentheses in regex", "body": "<p>I have a small project that involves grepping through .py files and picking out import statements only of the form <code>from &lt;x&gt; import &lt;y&gt;</code>.</p>\n\n<p>In building a regex to capture this, there are two distinct syntaxes involved, best illustrated by example:</p>\n\n<p>Syntax #1 uses parentheses and can have newlines enclosed in those parentheses:</p>\n\n<pre><code>from .sql.base import (\n    SchemaVisitor\n    )\nimport os  # ignore this import\nfrom _pytest.config import (\n    main, UsageError, cmdline,\n    hookspec, hookimpl\n)\n</code></pre>\n\n<p>I can capture this with:</p>\n\n<pre><code>syntax1 = re.compile(r'^ *from (?P&lt;package&gt;[.\\w]+) +import +\\(?(?P&lt;objects&gt;[*, \\n\\w]+)\\)? *$',\n                     flags=re.MULTILINE)\n</code></pre>\n\n<p>Syntax #2 uses line continutation (if needed), and technically has no newlines within the import statement:</p>\n\n<pre><code>from pandas import Series\n\nfrom .solvers import solve, solve_linear_system, solve_linear_system_LU, \\\n    solve_undetermined_coeffs, nsolve, solve_linear, checksol, \\\n    det_quick, inv_quick, check_assumptions\n\nfrom .ode import checkodesol, classify_ode, dsolve, \\\n    homogeneous_order\n</code></pre>\n\n<p>I can capture this with:</p>\n\n<pre><code># Only difference: no `\\n` in &lt;objects&gt; group\nsyntax2 = re.compile(r'^ *from (?P&lt;package&gt;[.\\w]+) +import +(?P&lt;objects&gt;[*, \\w]+) *$',\n                     flags=re.MULTILINE)\n</code></pre>\n\n<p>I would like to condense these into one statement capable of zipping up the named groups all at once.</p>\n\n<p>What it seems like I need here is an <strong>if-then conditional with a positive lookahead.</strong>  Something like:</p>\n\n<pre><code>syntax = re.compile(r'^ *from (?P&lt;package&gt;[.\\w]+) +import +(?(?=\\([^)]+\\))\\((?P&lt;obj1&gt;[*, \\n\\w]+)\\) *$|(?P&lt;obj2&gt;[*, \\w]+) *$)',\n                    flags=re.MULTILINE)\n</code></pre>\n\n<p>This seems to follow the syntax of <code>(?ifthen|else)</code> with a lookahead for the <code>if</code>, i.e.</p>\n\n<pre><code>(?(?=regex)then|else)\n</code></pre>\n\n<p>where:</p>\n\n<ul>\n<li>the <code>if</code> is <code>(?=\\([^)]+\\))</code>: parentheses enclosing some text that is not parentheses</li>\n<li>the <code>then</code> is <code>\\((?P&lt;obj1&gt;[*, \\n\\w]+)\\) *$</code></li>\n<li>the <code>else</code> is <code>(?P&lt;obj2&gt;[*, \\w]+) *$)</code></li>\n</ul>\n\n<p>What do I have wrong here?</p>\n\n<p><strong>Input:</strong></p>\n\n<pre><code>imports = \"\"\"\nfrom .sql.base import (\n    SchemaVisitor\n    )\n\nfrom pandas import Series as ser, DataFrame as df\nfrom NumPy import array\n\nimport os\nimport functools\n\nimport ctypes  # ignore these\n\nfrom _pytest.config import (\n    main, UsageError, cmdline,\n    hookspec, hookimpl\n)\n\nfrom .solvers import solve, solve_linear_system, solve_linear_system_LU, \\\n    solve_undetermined_coeffs, nsolve, solve_linear, checksol, \\\n    det_quick, inv_quick, check_assumptions\n\nfrom .ode import checkodesol, classify_ode, dsolve, \\\n    homogeneous_order\n\"\"\"\n</code></pre>\n\n<p><strong>Desired result:</strong></p>\n\n<pre><code>syntax.findall(imports)\n\n[('.sql.base', '\\n    SchemaVisitor\\n    '),\n ('pandas', 'Series\\n'),\n ('_pytest.config', '\\n    main, UsageError, cmdline,\\n    hookspec, hookimpl\\n'),\n ('.solvers', 'solve, solve_linear_system, solve_linear_system_LU,     solve_undetermined_coeffs, nsolve, solve_linear, checksol,     det_quick, inv_quick, check_assumptions\\n'),\n ('.ode', 'checkodesol, classify_ode, dsolve,     homogeneous_order\\n')]\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "image-processing", "python-imaging-library"], "comments": [{"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1518642182, "post_id": 48795918, "comment_id": 84594724, "body": "Wild guess - try saving as TIFF maybe."}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1518644105, "post_id": 48795918, "comment_id": 84595689, "body": "The vast majority of image formats only handle grey, RGB, sRGB or CMYK colourspaces."}, {"owner": {"reputation": 3907, "user_id": 8306666, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2f20237f2695cc2f6951fb562493cd7f?s=128&d=identicon&r=PG&f=1", "display_name": "Nazim Kerimbekov", "link": "https://stackoverflow.com/users/8306666/nazim-kerimbekov"}, "edited": false, "score": 0, "creation_date": 1518644844, "post_id": 48795918, "comment_id": 84596000, "body": "is HSV a file extension?"}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 1, "creation_date": 1518646269, "post_id": 48795918, "comment_id": 84596616, "body": "If you can modify the <code>mode</code> attirbute of the image, set it to <code>&#39;RGB&#39;</code> and you&#39;ll be able to save. Anyway, saving an HSV image in the JPEG format is not recommended, compression can damage it seriously."}, {"owner": {"reputation": 431, "user_id": 9088032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb2ccce82edb00121e158831f4e762ea?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip Gupta", "link": "https://stackoverflow.com/users/9088032/pradip-gupta"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1518685613, "post_id": 48795918, "comment_id": 84609448, "body": "@YvesDaoust: The Original Image is in &#39;RGB&#39;. I want to convert the image into HSV and save it locally for further display in my webservice."}, {"owner": {"reputation": 431, "user_id": 9088032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb2ccce82edb00121e158831f4e762ea?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip Gupta", "link": "https://stackoverflow.com/users/9088032/pradip-gupta"}, "reply_to_user": {"reputation": 3907, "user_id": 8306666, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2f20237f2695cc2f6951fb562493cd7f?s=128&d=identicon&r=PG&f=1", "display_name": "Nazim Kerimbekov", "link": "https://stackoverflow.com/users/8306666/nazim-kerimbekov"}, "edited": false, "score": 0, "creation_date": 1518685699, "post_id": 48795918, "comment_id": 84609507, "body": "@Fozoro: HSV is a colour space mode, not a file extension. So when you convert a RGB into HSV using PIL, image.mode will give &quot;HSV&quot; as output."}, {"owner": {"reputation": 3907, "user_id": 8306666, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2f20237f2695cc2f6951fb562493cd7f?s=128&d=identicon&r=PG&f=1", "display_name": "Nazim Kerimbekov", "link": "https://stackoverflow.com/users/8306666/nazim-kerimbekov"}, "edited": false, "score": 0, "creation_date": 1518685764, "post_id": 48795918, "comment_id": 84609550, "body": "What is the format that you want the final file to be jpg?"}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1518686922, "post_id": 48795918, "comment_id": 84610220, "body": "@PradipGupta: I did understand and my suggestion remains. But I doubt that your webservice is able to render an HSV image, especially in a JPEG."}, {"owner": {"reputation": 431, "user_id": 9088032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb2ccce82edb00121e158831f4e762ea?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip Gupta", "link": "https://stackoverflow.com/users/9088032/pradip-gupta"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1518769369, "post_id": 48795918, "comment_id": 84648679, "body": "@YvesDaoust: Hi, This is what I did to solve my case: RGB--&gt;HSV (This I had to save) HSV--&gt;Numpy (now all pixel values I have)--&gt;RGB (mode is RGB but pixel values are of HSV, so technically I can use the different channels as HSV)--&gt; then save to disk. Do you think this is good?"}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1518771229, "post_id": 48795918, "comment_id": 84649537, "body": "@PradipGupta: IMO, chances are high that you will get a very disappointing result. Why on Earth do you want to convert to HSV, which is not supported by JPEG ?"}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 7050774, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-DvAWuFV41lw/AAAAAAAAAAI/AAAAAAAAARY/KjJTI7LMXNQ/photo.jpg?sz=128", "display_name": "Connor", "link": "https://stackoverflow.com/users/7050774/connor"}, "is_accepted": false, "score": 1, "last_activity_date": 1544409559, "creation_date": 1544409559, "answer_id": 53698806, "question_id": 48795918, "link": "https://stackoverflow.com/questions/48795918/how-to-save-hsv-converted-image-in-python/53698806#53698806", "title": "How to save HSV converted Image in Python?", "body": "<p>Easy one...save as a numpy array. This works fine, but the file might be pretty big (for me it go about 7 times bigger than the jpeg image). You can numpy's <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.savez_compressed.html\" rel=\"nofollow noreferrer\">savez_compressed </a>\nfunction to cut that in half to about 3-4 times the size of the original image. Not fantastic, but when you are doing image processing you are probably fine.</p>\n"}], "owner": {"reputation": 431, "user_id": 9088032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb2ccce82edb00121e158831f4e762ea?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip Gupta", "link": "https://stackoverflow.com/users/9088032/pradip-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1333, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1544409559, "creation_date": 1518641274, "last_edit_date": 1518648913, "question_id": 48795918, "link": "https://stackoverflow.com/questions/48795918/how-to-save-hsv-converted-image-in-python", "title": "How to save HSV converted Image in Python?", "body": "<p>I am reading an RGB image and converting it into HSV mode using PIL. Now I am trying to save this HSV image but I am getting an error.</p>\n\n<pre><code>filename = r'\\trial_images\\cat.jpg'\nimg = Image.open(filename)\nimg = img.convert('HSV')\ndestination = r'\\demo\\temp.jpg'\nimg.save(destination)\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<pre><code>OSError: cannot write mode HSV as JPEG\n</code></pre>\n\n<p>How can I save my transformed image? Please help</p>\n"}, {"tags": ["python", "machine-learning", "neural-network", "keras", "keras-2"], "comments": [{"owner": {"reputation": 1283, "user_id": 39123, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aaaaf18c8b8b06db93ab848eda85a530?s=128&d=identicon&r=PG", "display_name": "Geoffrey Anderson", "link": "https://stackoverflow.com/users/39123/geoffrey-anderson"}, "edited": false, "score": 0, "creation_date": 1532374904, "post_id": 48795910, "comment_id": 89941315, "body": "Related: <a href=\"https://stackoverflow.com/questions/51486073/in-keras-code-assign-new-values-to-certain-tensor-elements\" title=\"in keras code assign new values to certain tensor elements\">stackoverflow.com/questions/51486073/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4668, "user_id": 5256563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eWfIu.gif?s=128&g=1", "display_name": "FiReTiTi", "link": "https://stackoverflow.com/users/5256563/firetiti"}, "edited": false, "score": 0, "creation_date": 1532549540, "post_id": 51509228, "comment_id": 90022442, "body": "Thank you for your answer, I&#39;ll test it. But since I&#39;ve moved everything to PyTorch, it&#39;s much more practical to design layers."}, {"owner": {"reputation": 466, "user_id": 10167719, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156129713708692/picture?type=large", "display_name": "Andrew Louw", "link": "https://stackoverflow.com/users/10167719/andrew-louw"}, "edited": false, "score": 0, "creation_date": 1596717636, "post_id": 51509228, "comment_id": 111904662, "body": "You can write a binarize layer with the following operations: (x-0.5)/abs(x-0.5) this will be a differentiable layer since all the components are differentiable."}], "tags": [], "owner": {"reputation": 1283, "user_id": 39123, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aaaaf18c8b8b06db93ab848eda85a530?s=128&d=identicon&r=PG", "display_name": "Geoffrey Anderson", "link": "https://stackoverflow.com/users/39123/geoffrey-anderson"}, "is_accepted": false, "score": 3, "last_activity_date": 1532478314, "last_edit_date": 1532478314, "creation_date": 1532477958, "answer_id": 51509228, "question_id": 48795910, "link": "https://stackoverflow.com/questions/48795910/binarize-tensor-in-keras/51509228#51509228", "title": "Binarize tensor in Keras", "body": "<p>The solution for binarizing my logistic Dense layer was to make a custom lambda function in the activation.  (I am working on a semantic hashing autoencoder (Hinton)).  A warning is thrown by Keras but it proved to work anyway.  Earlier attempts threw error due to inability to differentiate a round function in the backpropagation phase's comptuation of the gradient derivative. (It was the old ValueError: None values not supported.) Somehow doing it in the activation instead of as a separate layer was the key here.</p>\n\n<pre><code>encoder_outputs = Dense(units=latent_vector_len, activation=k.layers.Lambda(lambda z: k.backend.round(k.layers.activations.sigmoid(x=z))), kernel_initializer=\"lecun_normal\")(x)\n</code></pre>\n\n<p>The Real outputs normally in range 0 to 1 were transformed into 0 and 1 as shown.</p>\n\n<pre><code># Look it works!\n\ny = encoder_model.predict(x=x_in)\nprint(y)\n&gt;&gt;&gt; [[1. 0. 0. 1. 0. 1. 0. 0.]]\n</code></pre>\n\n<p>In other words this way did not work:</p>\n\n<pre><code>decoder_outputs_bin = k.layers.Lambda(lambda z: k.backend.round(z))(decoder_outputs) # ERR at training time ValueError: None values not supported.\n</code></pre>\n"}], "owner": {"reputation": 4668, "user_id": 5256563, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/eWfIu.gif?s=128&g=1", "display_name": "FiReTiTi", "link": "https://stackoverflow.com/users/5256563/firetiti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1112, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1532478314, "creation_date": 1518641242, "last_edit_date": 1518648594, "question_id": 48795910, "link": "https://stackoverflow.com/questions/48795910/binarize-tensor-in-keras", "title": "Binarize tensor in Keras", "body": "<p>I need to create a loss function for Keras that works with only binary values. In wanted for to transform all the values greater than 0.5 to 1.0, so I did that:</p>\n\n<pre><code>def MyLoss(y_true, y_pred:\n    y_true_f = K.flatten(y_true)\n    y_pred_f = K.flatten(K.cast(K.greater(y_pred, 0.5), 'float32'))\n    #y_pred_f = K.flatten(K.cast(y_pred &gt; 0.5), 'float32')\n    #y_pred_f = K.flatten(y_pred &gt; 0.5)\n    return K.sum(y_true_f * y_pred_f)\n</code></pre>\n\n<p>The code compiles, but later it generates the following error: </p>\n\n<blockquote>\n  <p>ValueError: None values not supported.</p>\n</blockquote>\n\n<p>I also tried the commented lines, same error. If I don't try to modify the values using simply <code>y_pred_f = K.flatten(y_pred)</code>, it runs.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>How can I binarize a tensor?</p>\n"}, {"tags": ["python", "hadoop", "split", "hive", "user-defined-functions"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 2, "creation_date": 1518641127, "post_id": 48795794, "comment_id": 84594223, "body": "Why don&#39;t you use <a href=\"http://www.folkstalk.com/2011/11/string-functions-in-hive.html\" rel=\"nofollow noreferrer\"><code>SUBSTR</code></a>? For example: <code>SELECT SUBSTR(yearmonth,1,3) AS month, SUBSTR(yearmonth,4,3) AS year FROM data</code>"}], "answers": [{"tags": [], "owner": {"reputation": 46235, "user_id": 3431869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b2315fa60f613de9565af031264f31?s=128&d=identicon&r=PG&f=1", "display_name": "Vamsi Prabhala", "link": "https://stackoverflow.com/users/3431869/vamsi-prabhala"}, "is_accepted": true, "score": 4, "last_activity_date": 1518641418, "last_edit_date": 1518641418, "creation_date": 1518641219, "answer_id": 48795905, "question_id": 48795794, "link": "https://stackoverflow.com/questions/48795794/how-to-split-one-column-into-two-in-hive/48795905#48795905", "title": "How to split one column into two in Hive", "body": "<p>Assuming your data format is consistent, you can simply use <code>regexp_extract</code> in Hive without the need for a UDF.</p>\n\n<pre><code>SELECT regexp_extract(yearmonth,([^0-9]+)) as mth,regexp_extract(yearmonth,([0-9]+)) as yr\nFROM data;\n</code></pre>\n\n<p>Or a simple <code>SUBSTRING</code>.</p>\n\n<pre><code>select substring(yearmonth,1,3) as mth,substring(yearmonth,4) as yr\nfrom data\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 8068405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2c8af556c00bc51b66a6e907734f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Che ", "link": "https://stackoverflow.com/users/8068405/che"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 48795905, "answer_count": 1, "score": 0, "last_activity_date": 1518641418, "creation_date": 1518640744, "question_id": 48795794, "link": "https://stackoverflow.com/questions/48795794/how-to-split-one-column-into-two-in-hive", "title": "How to split one column into two in Hive", "body": "<p>In my Hive Table, I have a column called YearMonth which has values like 'Jul1998'. I need to split the string in each row into Month ('Jul') and Year ('1998) and add those separately in new columns in Hive. Unfortunately, my code doesn't do it correctly and adds a NULL instance in every other row like shown below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mnvvr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mnvvr.png\" alt=\"enter image description here\"></a></p>\n\n<p>I took the below steps to get the above output:</p>\n\n<p>Created a split.py file to split the string 'Jul1998' into 'Jul' and '1998</p>\n\n<pre><code>#!/usr/bin/python\nimport sys\n\nfor line in sys.stdin:\n    Month= line[:3]\n    Year = line[3:]\n    print '\\t'.join([Month, Year])\n</code></pre>\n\n<p>Then I go into Hive and add python file into hive directory\nFinally, I used the transform function to split the column and created two new columns.</p>\n\n<pre><code>ADD FILE /home/ec2-user/split.py;\nINSERT OVERWRITE TABLE data\nSELECT TRANSFORM (yearmonth) USING 'split.py' AS (month,year) FROM data;\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1518640695, "post_id": 48795768, "comment_id": 84594022, "body": "What does your dictionary look like?  What do you have so far?"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1518640784, "post_id": 48795768, "comment_id": 84594058, "body": "If your values are hashable, there&#39;s an easy solution using <a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>Counter</code></a>"}, {"owner": {"reputation": 3991, "user_id": 7102925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a0d9702c4397b9df60cdda73489f17d?s=128&d=identicon&r=PG&f=1", "display_name": "layog", "link": "https://stackoverflow.com/users/7102925/layog"}, "edited": false, "score": 0, "creation_date": 1518640846, "post_id": 48795768, "comment_id": 84594082, "body": "Just keep another dictionary mapping value to key"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 2, "creation_date": 1518640850, "post_id": 48795768, "comment_id": 84594083, "body": "Welcome to SO, please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask a good question</a>"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1518641332, "post_id": 48795768, "comment_id": 84594328, "body": "This is a weird problem, since the order of the keys is not determined, hence running the program with the same dictionary twice, could result in <i>totally</i> different output. In the first run other keys can be deleted than in a second run."}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1518641426, "post_id": 48795768, "comment_id": 84594380, "body": "@WillemVanOnsem doesn&#39;t deleting <b>all</b> occurrences make this determinable?"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1518641507, "post_id": 48795768, "comment_id": 84594412, "body": "@AChampion: yes, in that case it is deterministic :)"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1518641946, "post_id": 48795768, "comment_id": 84594605, "body": "@WillemVanOnsem Although no data is shared I think the question is quite clear, or what did I miss?"}], "answers": [{"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": true, "score": 1, "last_activity_date": 1518642815, "last_edit_date": 1518642815, "creation_date": 1518641139, "answer_id": 48795886, "question_id": 48795768, "link": "https://stackoverflow.com/questions/48795768/remove-all-entries-in-dictionary-where-value-appears-more-than-once/48795886#48795886", "title": "Remove all entries in dictionary where value appears more than once", "body": "<p><strong>Using pandas:</strong> <em>just because you can :)</em></p>\n\n<pre><code>import pandas as pd\n\nd = {'a':1,'b':1,'c':2, 'd':'cat','e':'cat','f':'cow'}\n\nnew_d = pd.DataFrame([d]).T.drop_duplicates(keep=False)[0].to_dict()\nprint(new_d)\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>{'c': 2, 'f': 'cow'}\n</code></pre>\n\n<p>And using Collections Counter:</p>\n\n<pre><code>from collections import Counter\n\nd = {'a':1,'b':1,'c':2, 'd':'cat','e':'cat','f':'cow'}\n\nnondup = {k for k,v in Counter(d.values()).items() if v == 1}\nnew_d = {k:v for k,v in d.items() if v in nondup}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9205169, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bu94chypcRM/AAAAAAAAAAI/AAAAAAAAAMY/xCoeQlk-4U8/photo.jpg?sz=128", "display_name": "Richard Cooper", "link": "https://stackoverflow.com/users/9205169/richard-cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1518653742, "accepted_answer_id": 48795886, "answer_count": 1, "score": -3, "last_activity_date": 1518697745, "creation_date": 1518640609, "last_edit_date": 1518697745, "question_id": 48795768, "link": "https://stackoverflow.com/questions/48795768/remove-all-entries-in-dictionary-where-value-appears-more-than-once", "closed_reason": "Needs more focus", "title": "Remove all entries in dictionary where value appears more than once", "body": "<p>I have a dictionary and if a value appears more than once I want to delete all occurrences of the value and the respective keys.</p>\n\n<p>Any help would be much appreciated.</p>\n\n<p>For those curious my dictionary was as follows:</p>\n\n<p>{'Monster 1': 'Modema', 'Monster 2': 'Aninige', 'Monster 3': 'Dolamisme', 'Monster 4': 'Malexo', 'Monster 5': 'Eludisnismu', 'Monster 6': 'Du-Minime', 'Monster 7': 'Anu', 'Monster 8': 'Mu', 'Monster 9': 'Aluligige', 'Monster 10': 'Asmismu', 'Monster 11': 'Aninige', 'Monster 12': 'Dolamisme', 'Monster 13': 'Esmusno', 'Monster 14': 'Asmismu'}</p>\n\n<p>If any two monsters are in the same place (have the same value) then both the monsters and places must be destroyed.</p>\n"}, {"tags": ["python", "excel", "pandas", "csv", "dataframe"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1518647953, "post_id": 48795741, "comment_id": 84597341, "body": "Please run <code>print(a.head())</code> after reading csv or better yet post few rows of <i>newdata.csv</i> where you copy from text editor and post here. This will help us reproduce your issue."}], "answers": [{"tags": [], "owner": {"reputation": 4200, "user_id": 3104974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0bf327f4729e0af1e6bf0582391fad75?s=128&d=identicon&r=PG&f=1", "display_name": "ascripter", "link": "https://stackoverflow.com/users/3104974/ascripter"}, "is_accepted": true, "score": 1, "last_activity_date": 1518642223, "creation_date": 1518642223, "answer_id": 48796167, "question_id": 48795741, "link": "https://stackoverflow.com/questions/48795741/reshape-dataframe-into-long-format-python/48796167#48796167", "title": "reshape dataframe into long format python", "body": "<p>First, read your data</p>\n\n<pre><code>df = pd.read_csv(\"newdata.csv\", encoding = \"ISO-8859-1\")\n</code></pre>\n\n<p>The index of your data is the <code>Country</code>, so let the dataframe know it via <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_index.html\" rel=\"nofollow noreferrer\"><code>set_index()</code></a></p>\n\n<pre><code>df = df.set_index('Country')\n</code></pre>\n\n<p>To stack the colums all together, use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.stack.html\" rel=\"nofollow noreferrer\"><code>stack()</code></a></p>\n\n<pre><code>df = df.stack()\n</code></pre>\n\n<p>By stacking, the DataFrame automatically got a <a href=\"https://pandas.pydata.org/pandas-docs/stable/advanced.html\" rel=\"nofollow noreferrer\">MultiIndex</a> with 2 levels. Finally rename the index. The DataFrame could infer <code>Country</code> as name for the first level, but the second level doesn't have a label yet:</p>\n\n<pre><code>df.index.names = ['Country', 'Year']\n</code></pre>\n\n<p>And now you're ready to export it via <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html\" rel=\"nofollow noreferrer\"><code>to_csv()</code></a>. Give the series a name with the <code>header</code>-argument</p>\n\n<pre><code>df.to_csv(\"Pythonoutput.csv\", header=['CPI'])\n</code></pre>\n\n<p>Putting it all together:</p>\n\n<pre><code>df = pd.read_csv(\"newdata.csv\", encoding = \"ISO-8859-1\").set_index('Country').stack()\ndf.index.names = ['Country', 'Year']\ndf.to_csv(\"Pythonoutput.csv\", header=['CPI'])\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9361953, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "sara r.", "link": "https://stackoverflow.com/users/9361953/sara-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 1, "accepted_answer_id": 48796167, "answer_count": 1, "score": 2, "last_activity_date": 1518647677, "creation_date": 1518640480, "last_edit_date": 1518647677, "question_id": 48795741, "link": "https://stackoverflow.com/questions/48795741/reshape-dataframe-into-long-format-python", "title": "reshape dataframe into long format python", "body": "<p>I am working with a CSV data set called newdata.csv that has the Corruption Perceptions Index ratings for 186 countries from the years 1997 to 2015. Here is a small snapshot of it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wwyle.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wwyle.png\" alt=\"Small snapshot data\"></a></p>\n\n<p>Here, the years stretch out to the right.\nI want to put the data into long format that I can work with in python. to do this, I tried to use the melt function of pandas.This code:</p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv(\"newdata.csv\", encoding = \"ISO-8859-1\")\na = pd.melt(data, id_vars='Country', value_vars=[1997, 1998, 1999, \n2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, \n2012, 2013, 2014, 2015])\n</code></pre>\n\n<p>Then I export it as a new CSV that i can look at in excel, with this code:</p>\n\n<pre><code>a.to_csv('Pythonoutput.csv', sep=',')\n</code></pre>\n\n<p>When I do this, I get the country column and the year column as I want them, but not any of the data. Here is my result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ITAIa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ITAIa.png\" alt=\"enter image description here\"></a>\nHow do I get my CPI values to display downward as well as the years?</p>\n"}, {"tags": ["python", "python-3.x", "editor"], "comments": [{"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1518640894, "post_id": 48795724, "comment_id": 84594115, "body": "Like Python&#39;s integrated IDLE?"}, {"owner": {"reputation": 245, "user_id": 1272085, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bb65918e3ee8ac8b10dfea9575c2067?s=128&d=identicon&r=PG", "display_name": "ToastMan", "link": "https://stackoverflow.com/users/1272085/toastman"}, "reply_to_user": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1518642237, "post_id": 48795724, "comment_id": 84594750, "body": "hehe -2 expected.. no love for the clueless noobie.. also I found this:   <a href=\"https://wiki.python.org/moin/PythonEditors#Windows-Only_Editors\" rel=\"nofollow noreferrer\">wiki.python.org/moin/PythonEditors#Windows-Only_Editors</a>"}, {"owner": {"reputation": 245, "user_id": 1272085, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bb65918e3ee8ac8b10dfea9575c2067?s=128&d=identicon&r=PG", "display_name": "ToastMan", "link": "https://stackoverflow.com/users/1272085/toastman"}, "reply_to_user": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1518642321, "post_id": 48795724, "comment_id": 84594792, "body": "Simon. Have you ever seen Powershell ISE?"}, {"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1518642439, "post_id": 48795724, "comment_id": 84594860, "body": "No it&#39;s more the clarity of your question.  Wait OH you&#39;re after one of those."}, {"owner": {"reputation": 245, "user_id": 1272085, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bb65918e3ee8ac8b10dfea9575c2067?s=128&d=identicon&r=PG", "display_name": "ToastMan", "link": "https://stackoverflow.com/users/1272085/toastman"}, "reply_to_user": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1518642644, "post_id": 48795724, "comment_id": 84594983, "body": "PS ISE interface is separated in 2: Code on the top, exec output on the bottom. You can execute specific lines (or even specific portion of a line) from the code and see the output, best way to learn. <a href=\"https://4sysops.com/wp-content/uploads/2013/10/PowerShell-ISE-tabs.png\" rel=\"nofollow noreferrer\">4sysops.com/wp-content/uploads/2013/10/PowerShell-ISE-tabs.p&zwnj;&#8203;ng</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "reply_to_user": {"reputation": 245, "user_id": 1272085, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bb65918e3ee8ac8b10dfea9575c2067?s=128&d=identicon&r=PG", "display_name": "ToastMan", "link": "https://stackoverflow.com/users/1272085/toastman"}, "edited": false, "score": 0, "creation_date": 1518805956, "post_id": 48796836, "comment_id": 84670046, "body": "@ToastMan  Pleased I was of use.  Sorry some of those images don&#39;t show actual Python code but they do show they give you a feel of what the actual IDLE are like. :-)"}, {"owner": {"reputation": 245, "user_id": 1272085, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bb65918e3ee8ac8b10dfea9575c2067?s=128&d=identicon&r=PG", "display_name": "ToastMan", "link": "https://stackoverflow.com/users/1272085/toastman"}, "edited": false, "score": 0, "creation_date": 1518807014, "post_id": 48796836, "comment_id": 84670553, "body": "It&#39;s a perfect start for me Simon.. I think I will try to go with Notepad++ for now :) thanks again"}, {"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "reply_to_user": {"reputation": 245, "user_id": 1272085, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bb65918e3ee8ac8b10dfea9575c2067?s=128&d=identicon&r=PG", "display_name": "ToastMan", "link": "https://stackoverflow.com/users/1272085/toastman"}, "edited": false, "score": 1, "creation_date": 1518808843, "post_id": 48796836, "comment_id": 84671395, "body": "@ToastMan  I&#39;ve tried it, it&#39;s good.  Sublime Text is OK as well and the Python IDLE is also amazingly good for what it is.  Since it&#39;s already installed you may want to check that out as well (if you have not already)  I wouldn&#39;t go for VS code it&#39;s overrated (unless you need the compiler or C#), but still it&#39;s only in my opinion"}], "tags": [], "owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "is_accepted": true, "score": 1, "last_activity_date": 1518645359, "last_edit_date": 1518645359, "creation_date": 1518645052, "answer_id": 48796836, "question_id": 48795724, "link": "https://stackoverflow.com/questions/48795724/the-powershell-ise-equivalent-for-python-3/48796836#48796836", "title": "The PowerShell ISE equivalent for Python 3", "body": "<p>There are multiple IDLE to choose from:</p>\n\n<p>I'll start with the integrated IDLE:</p>\n\n<p><img src=\"https://upload.wikimedia.org/wikipedia/en/9/9b/Idle_gui.png\"></p>\n\n<p>Good syntax highlighting, preinstalled with Python.  You can open it in any Python file by right clicking and selecting \"Open in IDLE\". Also includes in a separate window an integrated shell that allows running/debugging.  </p>\n\n<p>Notepad++:</p>\n\n<p><img src=\"https://a.fsdn.com/con/app/proj/npppythonscript/screenshots/console.png/1\"></p>\n\n<p>A very powerful text editor.  Supports syntax highlighting for multiple languages, allows you to run your script (may require a little setup) and debug.  Allows multiple windows, debugging, powerful extensions such as colour pallets and auto complete. </p>\n\n<p>Sublime text:</p>\n\n<p><img src=\"https://www.sublimetext.com/screenshots/3.0/windows.png\"></p>\n\n<p>Allows scripts to be run from inbuilt shell includes debugging.  Highly customisable, change background colours, syntax highlighting, autocomplete.  Multiple windows as well as file explorer (shown above) and allows extensions.  It's paid but there is a trial.  Definitely worth a look.</p>\n\n<p>If you want a versatile command line editor (note it does not allow execution) you might want to go with VIM.  It was very popular once... </p>\n\n<p><img src=\"https://files.realpython.com/media/split-layouts.e69dbe4a8c03.png\"></p>\n\n<p>Also there is Notepad but doesn't really do anything. </p>\n\n<h2>Also note that Visual Studio will also work as well as the above. It allows running through an inbuilt shell that allows running/debugging.</h2>\n\n<p>You could also go after a separate Python installation with one included:</p>\n\n<p><img src=\"https://camo.githubusercontent.com/56a3fe8648af7e086f40ea397a01997bd91f7b0c/687474703a2f2f6d617468616c6f70652e636f2e756b2f77702d636f6e74656e742f75706c6f6164732f323031352f30372f696d706f72742d6376322d6f6b2d696e2d616e61636f6e64612d707974686f6e2d322e706e67\"></p>\n\n<p>This is Ipython's Interactive shell.  It offers many features including excellent debugging.</p>\n\n<p>Anaconda is also an option:</p>\n\n<p><img src=\"https://i.stack.imgur.com/rb0pK.png\"></p>\n\n<p>It allows you to debug scripts from the console.</p>\n"}], "owner": {"reputation": 245, "user_id": 1272085, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bb65918e3ee8ac8b10dfea9575c2067?s=128&d=identicon&r=PG", "display_name": "ToastMan", "link": "https://stackoverflow.com/users/1272085/toastman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2195, "favorite_count": 0, "closed_date": 1518685907, "accepted_answer_id": 48796836, "answer_count": 1, "score": 0, "last_activity_date": 1518818640, "creation_date": 1518640394, "last_edit_date": 1518818640, "question_id": 48795724, "link": "https://stackoverflow.com/questions/48795724/the-powershell-ise-equivalent-for-python-3", "closed_reason": "Needs more focus", "title": "The PowerShell ISE equivalent for Python 3", "body": "<p>I'm just starting to learn Python 3 on Windows. I looked and googled but I can't find a GUI tool to write and execute Python code the way I do with PowerShell and the PowerShell ISE app.</p>\n\n<p>Is there such tool for Python? </p>\n\n<p>I found Visual Studio Code but I can't run/execute code with it, or can I?</p>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1518640528, "post_id": 48795723, "comment_id": 84593923, "body": "Use <a href=\"http://flask.pocoo.org/docs/0.12/templating/\" rel=\"nofollow noreferrer\"><b><code>Jinja</code></b></a>"}, {"owner": {"reputation": 4459, "user_id": 6079732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WHuY.jpg?s=128&g=1", "display_name": "abigperson", "link": "https://stackoverflow.com/users/6079732/abigperson"}, "edited": false, "score": 2, "creation_date": 1518640649, "post_id": 48795723, "comment_id": 84593995, "body": "You really need to add more detail than this to your question. Flask comes prepackaged with a templating library <code>Jinja2</code> which you use to render HTML templates. It is also capable of returning json data to AJAX calls... you&#39;ll get more relevant responses if you include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 3971, "user_id": 4683950, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NiTIZ.jpg?s=128&g=1", "display_name": "Espoir Murhabazi", "link": "https://stackoverflow.com/users/4683950/espoir-murhabazi"}, "edited": false, "score": 0, "creation_date": 1518640798, "post_id": 48795723, "comment_id": 84594066, "body": "Render templates"}, {"owner": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "edited": false, "score": 0, "creation_date": 1518641073, "post_id": 48795723, "comment_id": 84594200, "body": "Render templates is clear for me, me send python script data to some template I didn&#39;t find out"}], "answers": [{"comments": [{"owner": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "edited": false, "score": 0, "creation_date": 1518643971, "post_id": 48795904, "comment_id": 84595620, "body": "The list_object is in a script.py, Do I need return the list in the final function and call it as arg in render_template?"}], "tags": [], "owner": {"reputation": 357, "user_id": 7553785, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4eda01f5f426947b210213d8b6471245?s=128&d=identicon&r=PG&f=1", "display_name": "Razmooo", "link": "https://stackoverflow.com/users/7553785/razmooo"}, "is_accepted": false, "score": 1, "last_activity_date": 1518641898, "last_edit_date": 1518641898, "creation_date": 1518641218, "answer_id": 48795904, "question_id": 48795723, "link": "https://stackoverflow.com/questions/48795723/flask-how-to-send-data-from-python-script-to-html/48795904#48795904", "title": "Flask: How to send data from python script to HTML", "body": "<p>You should look in <a href=\"http://jinja.pocoo.org/docs/2.10/\" rel=\"nofollow noreferrer\">http://jinja.pocoo.org/docs/2.10/</a> documentation. It's really simple.</p>\n\n<p>Here is how to do it.</p>\n\n<h2>Python file</h2>\n\n<pre><code>from flask import render_template\n@app.route(\"/\")\ndef index():\n    list_object = [\"Hey\", \"How\", \"Are\", \"You\"]\n    return render_template(\"index.html\", list_to_send=list_object)\n</code></pre>\n\n<h2>HTML file \"index.html\"</h2>\n\n<p>Put this in <code>body</code> tag.</p>\n\n<pre><code>{% for element in list_to_send%}\n    &lt;p&gt;{{element}}&lt;/p&gt;\n{% endfor %}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "edited": false, "score": 0, "creation_date": 1518814095, "post_id": 48797610, "comment_id": 84673842, "body": "Worked! Clear it for me, <code>from &quot;script_name&quot; import &quot;function_name&quot;</code>. Is it?"}, {"owner": {"reputation": 106, "user_id": 7906290, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/827474287403441/picture?type=large", "display_name": "Bogdan Bibina", "link": "https://stackoverflow.com/users/7906290/bogdan-bibina"}, "reply_to_user": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "edited": false, "score": 1, "creation_date": 1518821211, "post_id": 48797610, "comment_id": 84676645, "body": "Yes , is working like this"}], "tags": [], "owner": {"reputation": 106, "user_id": 7906290, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/827474287403441/picture?type=large", "display_name": "Bogdan Bibina", "link": "https://stackoverflow.com/users/7906290/bogdan-bibina"}, "is_accepted": true, "score": 1, "last_activity_date": 1518648980, "creation_date": 1518648980, "answer_id": 48797610, "question_id": 48795723, "link": "https://stackoverflow.com/questions/48795723/flask-how-to-send-data-from-python-script-to-html/48797610#48797610", "title": "Flask: How to send data from python script to HTML", "body": "<p>You want something like this:</p>\n\n<p>script.py</p>\n\n<pre><code>def database():\n try:\n  conn = psycopg2.connect(\"dbname='DataTeste' user='user1' host='localhost' password='123'\")\n except:\n  return \"Impossible to connect to the database, check your code.\"\n\n cur = conn.cursor()\n conn.set_client_encoding('LATIN1')\n cur.execute(\"SELECT * FROM customers\") \n rows = cur.fetchall()\n\n return rows\n</code></pre>\n\n<p>index.py</p>\n\n<pre><code>from flask import render_template\nfrom script import database\n\n@app.route(\"/\")\ndef index():\n    to_send=database()\n    return render_template(\"index.html\", to_send=to_send)\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>{%for i in to_send%}\n&lt;p&gt; {{i[0]}}&lt;/p&gt;\n{%endfor%}\n</code></pre>\n"}], "owner": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3943, "favorite_count": 0, "closed_date": 1518653651, "accepted_answer_id": 48797610, "answer_count": 2, "score": -4, "last_activity_date": 1518648980, "creation_date": 1518640390, "last_edit_date": 1518644672, "question_id": 48795723, "link": "https://stackoverflow.com/questions/48795723/flask-how-to-send-data-from-python-script-to-html", "closed_reason": "Needs more focus", "title": "Flask: How to send data from python script to HTML", "body": "<p>I have a python script returning a list and I would like to send those data to HTML for building a appropriate template.</p>\n\n<p>script.py:</p>\n\n<pre><code>def database():\n try:\n  conn = psycopg2.connect(\"dbname='DataTeste' user='user1' host='localhost' password='123'\")\n except:\n  return \"Impossible to connect to the database, check your code.\"\n\n cur = conn.cursor()\n conn.set_client_encoding('LATIN1')\n cur.execute(\"SELECT * FROM customers\") \n rows = cur.fetchall()\n\n return rows\n</code></pre>\n\n<p>Now I want to receive this script in some template. Anyone can help me with that?</p>\n"}, {"tags": ["python", "loops", "nested-lists"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518640180, "post_id": 48795621, "comment_id": 84593721, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518640276, "post_id": 48795621, "comment_id": 84593785, "body": "In this code, I&#39;m not sure what you want for output: on one hand, you cite needing locations 1 &amp; 3 from each line; in another, you talk about iterating through the other four elements.  Also, from whence comes this <code>pprint</code> command you&#39;re using?  This isn&#39;t a Python built-in.  Once you&#39;ve clarified, I expect we can solve your problem in a couple of minutes."}, {"owner": {"reputation": 3, "user_id": 9361185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4da1e6af67054e912b33334ccc55189?s=128&d=identicon&r=PG&f=1", "display_name": "biddle370018", "link": "https://stackoverflow.com/users/9361185/biddle370018"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518641129, "post_id": 48795621, "comment_id": 84594227, "body": "apologies, as for as pprint it can mostly be disregarded, its just &#39;from pprint import pprint&#39; and helps with the formatting of long things. all I really need is to be able to loop through the nested list and delete unneeded data. every time i attempt this i end up deleting everything or nothing or generating an error."}, {"owner": {"reputation": 3, "user_id": 9361185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4da1e6af67054e912b33334ccc55189?s=128&d=identicon&r=PG&f=1", "display_name": "biddle370018", "link": "https://stackoverflow.com/users/9361185/biddle370018"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1518641675, "post_id": 48795621, "comment_id": 84594492, "body": "I have edited the code and removed pprint as advised as it doesn&#39;t change the output i&#39;m looking for."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9361185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4da1e6af67054e912b33334ccc55189?s=128&d=identicon&r=PG&f=1", "display_name": "biddle370018", "link": "https://stackoverflow.com/users/9361185/biddle370018"}, "edited": false, "score": 0, "creation_date": 1518642254, "post_id": 48796069, "comment_id": 84594759, "body": "Is it really that simple? I knew i was over-thinking. Going to try this soon and  it sounds like this is what i&#39;m looking for. thank you so much."}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "reply_to_user": {"reputation": 3, "user_id": 9361185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4da1e6af67054e912b33334ccc55189?s=128&d=identicon&r=PG&f=1", "display_name": "biddle370018", "link": "https://stackoverflow.com/users/9361185/biddle370018"}, "edited": false, "score": 0, "creation_date": 1518642306, "post_id": 48796069, "comment_id": 84594785, "body": "Great that it helped. BTW, you can <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accept</a> an answer if it solves your problem. Just click on the check mark (\u2713) next to the answer. This will toggle it from grayed-out to filled-in."}, {"owner": {"reputation": 3, "user_id": 9361185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4da1e6af67054e912b33334ccc55189?s=128&d=identicon&r=PG&f=1", "display_name": "biddle370018", "link": "https://stackoverflow.com/users/9361185/biddle370018"}, "edited": false, "score": 0, "creation_date": 1518642455, "post_id": 48796069, "comment_id": 84594868, "body": "Just tried it out and got the exact output I was expecting. much appreciated. answer accepted!"}], "tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": true, "score": 0, "last_activity_date": 1518641886, "creation_date": 1518641886, "answer_id": 48796069, "question_id": 48795621, "link": "https://stackoverflow.com/questions/48795621/trouble-iterating-through-a-nested-list-using-a-for-loop-to-edit-the-inner-lists/48796069#48796069", "title": "Trouble iterating through a nested list using a for loop to edit the inner lists", "body": "<p>Don't append the whole sub-list in the first place but only the two items you want:</p>\n\n<pre><code>nested_list = []\n\nfor index in read_output: \n    inner = index.split()\n    nested_list.append([inner[1], inner[3]]) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 9361185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4da1e6af67054e912b33334ccc55189?s=128&d=identicon&r=PG&f=1", "display_name": "biddle370018", "link": "https://stackoverflow.com/users/9361185/biddle370018"}, "edited": false, "score": 0, "creation_date": 1518644399, "post_id": 48796325, "comment_id": 84595810, "body": "This is also super helpful. The other solution fixed my problem now but this is going to be helpful in making the data more useful and accessable later. thank you!"}, {"owner": {"reputation": 36, "user_id": 9341185, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H2rDk26CyF4/AAAAAAAAAAI/AAAAAAAAC3Q/7zGmnbK4b6k/photo.jpg?sz=128", "display_name": "Christian Velez", "link": "https://stackoverflow.com/users/9341185/christian-velez"}, "reply_to_user": {"reputation": 3, "user_id": 9361185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4da1e6af67054e912b33334ccc55189?s=128&d=identicon&r=PG&f=1", "display_name": "biddle370018", "link": "https://stackoverflow.com/users/9361185/biddle370018"}, "edited": false, "score": 0, "creation_date": 1518671633, "post_id": 48796325, "comment_id": 84603335, "body": "Of course, no problem, and I&#39;m glad it all worked out!"}], "tags": [], "owner": {"reputation": 36, "user_id": 9341185, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-H2rDk26CyF4/AAAAAAAAAAI/AAAAAAAAC3Q/7zGmnbK4b6k/photo.jpg?sz=128", "display_name": "Christian Velez", "link": "https://stackoverflow.com/users/9341185/christian-velez"}, "is_accepted": false, "score": 0, "last_activity_date": 1518642850, "creation_date": 1518642850, "answer_id": 48796325, "question_id": 48795621, "link": "https://stackoverflow.com/questions/48795621/trouble-iterating-through-a-nested-list-using-a-for-loop-to-edit-the-inner-lists/48796325#48796325", "title": "Trouble iterating through a nested list using a for loop to edit the inner lists", "body": "<p>Alright so I hope I'm understanding this correctly, but from what I understand, you're getting your data correctly, which is this:</p>\n\n<pre><code>[['Internet', '10.220.88.1', '135', '0062.ec29.70fe', 'ARPA', \n'FastEthernet4'],\n ['Internet', '10.220.88.40', '144', '001c.c4bf.826a', 'ARPA', \n'FastEthernet4']]\n</code></pre>\n\n<p>So you're correct in seeing that this is actually a list, containing two sub-lists.  We can take advantage of this in our code below.</p>\n\n<pre><code>list = [['Internet', '10.220.88.1', '135', '0062.ec29.70fe', 'ARPA', 'FastEthernet4'],['Internet', '10.220.88.40', '144', '001c.c4bf.826a', 'ARPA', 'FastEthernet4']]\n</code></pre>\n\n<p>So now that we've contained that list, similar to how you did, we can loop through that list.</p>\n\n<pre><code>for item in list:\n    print (\"IP: {0}\\nMac Address:{1}\\n\".format(item[1],item[3]))\n</code></pre>\n\n<p>This gave me the output that I hope you're expecting which is:</p>\n\n<pre><code>IP: 10.220.88.1\nMac Address: 0062.ec29.70fe\n\nIP: 10.220.88.40\nMac Address: 001c.c4bf.826a\n</code></pre>\n\n<p>So what we did is run a loop through the outer list, and since we knew that the IP address was always going to be at index of 1 and 3 of the inner list, we just accessed them through their index.  </p>\n\n<p>You don't need to run another loop through the inner lists since you already have this knowledge of their placement.</p>\n\n<p>To store these addresses you'd probably want to store them in a \ndictionary since you have a key, value pair kind of setup.</p>\n\n<pre><code>address = {}\ncount += 1\nfor item in list:\n    count += 1\n    address[\"list: {0}\".format(count)] = [item[1], item[3]]\n    print (\"IP: {0}\".format(item[1])\n    print (\"Mac Address: {0}\".format(item[3]))\n    print ()\nprint (address)\n</code></pre>\n\n<p>With this we set a count to increase our key name, and with each new list, we saved the two specific values we wanted in another list.\nA good challenge would be to see how you could convert it to a form where your key is the ip and mac and your values are, well the values.\nI thought about doing that but it even boggled my mind a bit and I wanted to get my answer out to you quickly.  Hope this helps!</p>\n"}], "owner": {"reputation": 3, "user_id": 9361185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4da1e6af67054e912b33334ccc55189?s=128&d=identicon&r=PG&f=1", "display_name": "biddle370018", "link": "https://stackoverflow.com/users/9361185/biddle370018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 48796069, "answer_count": 2, "score": -1, "last_activity_date": 1518642850, "creation_date": 1518639906, "last_edit_date": 1518642050, "question_id": 48795621, "link": "https://stackoverflow.com/questions/48795621/trouble-iterating-through-a-nested-list-using-a-for-loop-to-edit-the-inner-lists", "title": "Trouble iterating through a nested list using a for loop to edit the inner lists", "body": "<p>I just can't figure out how to manage some arp tables. The only data that is relevant to me is the ip address and the mac address listed. I don't know if I should, </p>\n\n<ol>\n<li><p>iterate through the <code>nested_list</code>, removing <code>[0, 2, 4, 5]</code></p></li>\n<li><p>iterate through the lists, assigning <code>[1]</code> and <code>[3]</code> to new lists. </p></li>\n</ol>\n\n<p>I have tried both ways and I'm just not getting there. My syntax knowledge is clearly lacking.</p>\n\n<p>Before any of the code you're about to see I start by accessing a file using <code>with</code>/<code>as</code> and use <code>.readlines()</code> to create a list of strings I call <code>read_output</code>.</p>\n\n<p>Here is my code as it stands now:</p>\n\n<pre><code>nested_list = []\n\nfor index in read_output: \n    nested_list.append(index.split()) #this creates the nested list.\n\nprint(nested_list)\n</code></pre>\n\n<p>Which works fine and gives me this output as example:</p>\n\n<pre><code>[['Internet', '10.220.88.1', '135', '0062.ec29.70fe', 'ARPA', 'FastEthernet4'],\n ['Internet', '10.220.88.40', '144', '001c.c4bf.826a', 'ARPA', 'FastEthernet4']]\n</code></pre>\n\n<p>The arp list can be a lot bigger than this but I thought I would save some space for our example. I want to be able to go through the list and add/remove/extract data as I see fit but every time I try I am met with varying degrees of failure.</p>\n\n<p>If i just:</p>\n\n<pre><code>print(nested_list[0][3])\n</code></pre>\n\n<p>I get the expected result of <code>0062.ec29.70fe</code> but when I try to use a second for loop to access every <code>[n][0]</code>, <code>[n][2]</code>, etc., things go horribly awry.</p>\n\n<p>I'm starting with:</p>\n\n<pre><code>for index in read_output:\n    nested_list.append(index.split())\n    for indx in nested_list:\n    # ---&gt;insert some horrible excuse for python here\n</code></pre>\n\n<p>My intended output is taking the nested list above and trimming it down to:</p>\n\n<pre><code>[['10.220.88.1', '0062.ec29.70fe'],\n ['10.220.88.40', '001c.c4bf.826a']]\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "coordinates", "translation"], "comments": [{"owner": {"reputation": 831, "user_id": 1898965, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/67cb42f480d0ca9df4edac4e8c99a88b?s=128&d=identicon&r=PG", "display_name": "Zack Tarr", "link": "https://stackoverflow.com/users/1898965/zack-tarr"}, "edited": false, "score": 1, "creation_date": 1518639862, "post_id": 48795574, "comment_id": 84593539, "body": "What code have you tried so far? Like will need a MCVE <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 2, "creation_date": 1518639891, "post_id": 48795574, "comment_id": 84593554, "body": "Where are your &#39;coordinates&#39; defined?  Don&#39;t confuse array indexing with &#39;coordinates&#39;.  The row/column indices range from 0 to 127; that&#39;s a fixed function of the array shape."}, {"owner": {"reputation": 73, "user_id": 9220545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7XlPS.jpg?s=128&g=1", "display_name": "evambivalence", "link": "https://stackoverflow.com/users/9220545/evambivalence"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1518640441, "post_id": 48795574, "comment_id": 84593882, "body": "@hpaulj Right, that&#39;s what I was worried about.  My first thought was to just rename my indexes to be placed into a x-,y-,z-negative region... such that <code>(0,0)</code> became <code>(-s&#47;2,-s&#47;2)</code>, but this isn&#39;t possible?"}, {"owner": {"reputation": 73, "user_id": 9220545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7XlPS.jpg?s=128&g=1", "display_name": "evambivalence", "link": "https://stackoverflow.com/users/9220545/evambivalence"}, "reply_to_user": {"reputation": 831, "user_id": 1898965, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/67cb42f480d0ca9df4edac4e8c99a88b?s=128&d=identicon&r=PG", "display_name": "Zack Tarr", "link": "https://stackoverflow.com/users/1898965/zack-tarr"}, "edited": false, "score": 0, "creation_date": 1518640834, "post_id": 48795574, "comment_id": 84594080, "body": "@ZackTarr I&#39;ve added some more information above, please let me know if you&#39;d still like me to contribute a random data array and set a permanent seed."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1518641168, "post_id": 48795574, "comment_id": 84594250, "body": "For plotting you can shift coordinates or scales."}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 9220545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7XlPS.jpg?s=128&g=1", "display_name": "evambivalence", "link": "https://stackoverflow.com/users/9220545/evambivalence"}, "is_accepted": true, "score": 0, "last_activity_date": 1521586399, "creation_date": 1521586399, "answer_id": 49395441, "question_id": 48795574, "link": "https://stackoverflow.com/questions/48795574/translating-entire-coordinates-of-array-to-new-origin/49395441#49395441", "title": "Translating entire coordinates of array to new origin", "body": "<p>My initial question was very misleading - my apologies for the confusion. </p>\n\n<p>I've since solved the problem by translating my local array (data cube) within a global array.</p>\n\n<p>To accomplish this, I needed to first plot my data within a larger array (such as a Mayavi scene, which I did). Then, within this scene, I moved my data (eg. using <code>actors</code> in Mayavi) to be centered at the global array's origin.  Pretty simple actually - the point here being that my initial question was flawed; thank you all for the help and advice.</p>\n"}], "owner": {"reputation": 73, "user_id": 9220545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7XlPS.jpg?s=128&g=1", "display_name": "evambivalence", "link": "https://stackoverflow.com/users/9220545/evambivalence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 49395441, "answer_count": 1, "score": -1, "last_activity_date": 1521586399, "creation_date": 1518639728, "last_edit_date": 1518640650, "question_id": 48795574, "link": "https://stackoverflow.com/questions/48795574/translating-entire-coordinates-of-array-to-new-origin", "title": "Translating entire coordinates of array to new origin", "body": "<p>I have a <code>128-length</code> (s) array cube with unique values held at each point inside. At the center of this cube is the meat of the data (representing an object), while on the inner borders of the cube, there are mostly zero values. </p>\n\n<p>I need to shift this entire array such that the meat of the data is actually at the origin <code>(0,0)</code> instead of at <code>(s/2, s/2, s/2)</code>... such that my new coordinate origin is actually at <code>(-s/2, -s/2, -s/2)</code>. What is the best way to tackle this problem?</p>\n\n<hr>\n\n<p><strong>Edit:</strong> Sorry for the lack of data - I'm using a <code>.mrc</code> file. This is all to circumvent a plotting issue in mayaVI using its <code>contour3d</code> method. Perhaps I should be finding a way to translate my plotted object (with mayaVI) instead of translating my raw data array? But aren't these two technically the same thing?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1518639756, "post_id": 48795549, "comment_id": 84593470, "body": "Please post your attempt in the question as well (since if the referenced link dies, then the content is no longer available)."}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1518639782, "post_id": 48795549, "comment_id": 84593492, "body": "I do not think there is CT in the string."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1518639806, "post_id": 48795549, "comment_id": 84593505, "body": "and it seems you are looking for split?"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 1, "creation_date": 1518639818, "post_id": 48795549, "comment_id": 84593515, "body": "You may want to escape <code>.</code> as it&#39;s a special character: <code>\\.</code>"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1518639885, "post_id": 48795549, "comment_id": 84593551, "body": "The only <code>ct</code> on this answer is in my name from the edit."}], "answers": [{"tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": true, "score": 1, "last_activity_date": 1518639794, "creation_date": 1518639794, "answer_id": 48795591, "question_id": 48795549, "link": "https://stackoverflow.com/questions/48795549/regex-capture-only-items-before-ct/48795591#48795591", "title": "Regex capture only items before CT", "body": "<p>With a positive lookahead to match <code>.PX</code> after the desired match:</p>\n\n<pre><code>^.*?(?=\\.PX)\n</code></pre>\n\n<ul>\n<li><p><code>^.*?</code> non-greedily matches everything upto the portion that is followed by <code>.PX</code> (<code>(?=\\.PX)</code>)</p></li>\n<li><p><code>(?=\\.PX)</code> is <em>zero-width</em> positive lookahead, so does not get counted as output, only ensures the existence of <code>.PX</code> afterwards</p></li>\n</ul>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>In [55]: str_ = 'QT620.116T.00.01.0109.PX00.101920130742'\n\nIn [56]: re.search(r'^.*?(?=\\.PX)', str_).group()\nOut[56]: 'QT620.116T.00.01.0109'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 1, "last_activity_date": 1518640182, "creation_date": 1518640182, "answer_id": 48795673, "question_id": 48795549, "link": "https://stackoverflow.com/questions/48795549/regex-capture-only-items-before-ct/48795673#48795673", "title": "Regex capture only items before CT", "body": "<p>Using the newer <a href=\"https://pypi.python.org/pypi/regex/\" rel=\"nofollow noreferrer\"><strong><code>regex</code></strong></a> module, you could use a lookahead to split:</p>\n\n<pre><code>import regex as re\n\nstring = \"QT620.116T.00.01.0109.PX00.101920130742\"\n\n(interesting, _) = re.split(r'(?V1)(?=\\.PX\\d+)', string)\nprint(interesting)\n</code></pre>\n\n<p>Which yields</p>\n\n<pre><code>QT620.116T.00.01.0109\n</code></pre>\n\n<p>The newer behaviour is enabled via <code>(?V1)</code>.</p>\n"}], "owner": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "closed_date": 1518642046, "accepted_answer_id": 48795591, "answer_count": 2, "score": 0, "last_activity_date": 1518640182, "creation_date": 1518639632, "last_edit_date": 1518639766, "question_id": 48795549, "link": "https://stackoverflow.com/questions/48795549/regex-capture-only-items-before-ct", "closed_reason": "Needs details or clarity", "title": "Regex capture only items before CT", "body": "<p>Input</p>\n\n<pre><code>QT620.116T.00.01.0109.PX00.101920130742\n</code></pre>\n\n<p>Required Output:</p>\n\n<pre><code>QT620.116T.00.01.0109\n</code></pre>\n\n<p>My attempt (as seen <a href=\"https://regex101.com/r/EJFzHT/1\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<pre><code>.PX.*\n</code></pre>\n"}, {"tags": ["python", "python-idle"], "answers": [{"comments": [{"owner": {"reputation": 1037, "user_id": 7496549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f18728cabadb34408b51d9109243f195?s=128&d=identicon&r=PG&f=1", "display_name": "Minion Jim", "link": "https://stackoverflow.com/users/7496549/minion-jim"}, "edited": false, "score": 0, "creation_date": 1518640140, "post_id": 48795581, "comment_id": 84593701, "body": "Sorry, I am trying to call a project through IDLE, not just run it generally."}], "tags": [], "owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "is_accepted": false, "score": 0, "last_activity_date": 1518639746, "creation_date": 1518639746, "answer_id": 48795581, "question_id": 48795491, "link": "https://stackoverflow.com/questions/48795491/idle-call-project/48795581#48795581", "title": "IDLE call project", "body": "<p>Yes, and it has nothing to do with the fact that you are in Idle.  Just run it the way you would in the Bash terminal.</p>\n\n<pre><code>import os\nos.system ('python File.py')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "is_accepted": true, "score": 2, "last_activity_date": 1518639820, "creation_date": 1518639820, "answer_id": 48795603, "question_id": 48795491, "link": "https://stackoverflow.com/questions/48795491/idle-call-project/48795603#48795603", "title": "IDLE call project", "body": "<p>You can add a <code>-r</code> parameter (before the script name) when launching IDLE via your <code>os.system()</code> call.</p>\n"}], "owner": {"reputation": 1037, "user_id": 7496549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f18728cabadb34408b51d9109243f195?s=128&d=identicon&r=PG&f=1", "display_name": "Minion Jim", "link": "https://stackoverflow.com/users/7496549/minion-jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 48795603, "answer_count": 2, "score": 1, "last_activity_date": 1518639820, "creation_date": 1518639411, "question_id": 48795491, "link": "https://stackoverflow.com/questions/48795491/idle-call-project", "title": "IDLE call project", "body": "<p>Is there a way of running a project through IDLE from another script. The code below opens the project <code>File.py</code> in the idle interface to be edited. Is there a way of doing this running the program in doing so.</p>\n\n<pre><code>import os\nos.system (path + '\\\\idlelib\\\\idle.bat File.py')\n</code></pre>\n\n<p>This code opens a python shell but doesn't take an argument to run my project.</p>\n\n<pre><code>import idlelib.pyshell\nidlelib.pyshell.main ()\n</code></pre>\n\n<p>Simply, an idle shell window should open running my <code>File.py</code> project.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "gpx"], "answers": [{"tags": [], "owner": {"reputation": 729, "user_id": 2423637, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/011d1ed11bb855c2ff12a598d323ec07?s=128&d=identicon&r=PG", "display_name": "user6972", "link": "https://stackoverflow.com/users/2423637/user6972"}, "is_accepted": true, "score": 2, "last_activity_date": 1571852690, "last_edit_date": 1571852690, "creation_date": 1518730913, "answer_id": 48816776, "question_id": 48795435, "link": "https://stackoverflow.com/questions/48795435/gpxpy-how-to-extract-heart-rate-data-from-gpx-file/48816776#48816776", "title": "gpxpy: How to extract heart rate data from gpx file", "body": "<p>It appears that if any of the extended extensions in the DOM that are complex, the child nodes do not get parsed.</p>\n\n<p>This is a long standing issue apparently with the code:\n<a href=\"https://github.com/tkrajina/gpxpy/issues/73\" rel=\"nofollow noreferrer\">https://github.com/tkrajina/gpxpy/issues/73</a></p>\n\n<p>Edit:\nHere's a practical example, but it depends a bit on your structure.</p>\n\n<p>heart_rate = gpx.tracks[0].segments[0].points[0].extensions[0]['hr']</p>\n"}], "owner": {"reputation": 729, "user_id": 2423637, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/011d1ed11bb855c2ff12a598d323ec07?s=128&d=identicon&r=PG", "display_name": "user6972", "link": "https://stackoverflow.com/users/2423637/user6972"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2558, "favorite_count": 1, "accepted_answer_id": 48816776, "answer_count": 1, "score": 2, "last_activity_date": 1571852690, "creation_date": 1518639104, "last_edit_date": 1518653080, "question_id": 48795435, "link": "https://stackoverflow.com/questions/48795435/gpxpy-how-to-extract-heart-rate-data-from-gpx-file", "title": "gpxpy: How to extract heart rate data from gpx file", "body": "<p><a href=\"https://github.com/tkrajina/gpxpy/pull/22/commits/35b1083394f82a366a2640e7de563f8a7642614c\" rel=\"nofollow noreferrer\">This commit to gpxpy library</a> includes additional parsing for Garmin 1.1 extensions.  However it appears the code has changed a lot since this commit and it appears that extensions are parsed automatically now.</p>\n\n<p>However I've been unable to figure out how to extract heart rate data or other extension data from a gpx file using <a href=\"https://github.com/tkrajina/gpxpy\" rel=\"nofollow noreferrer\">gpxpy</a>.  Has anyone done this with gpxpy?  How is it done?</p>\n\n<hr>\n\n<p>Edit to avoid closing this question:</p>\n\n<p>If you look at the code additions in the commit I linked above, it modifies the TrackPoint class to add \"atemp\" and \"hr\" </p>\n\n<pre><code> class GPXTrackPoint(mod_geo.Location):\n     def __init__(self, latitude, longitude, elevation=None, time=None, symbol=None, comment=None,\n             horizontal_dilution=None, vertical_dilution=None, position_dilution=None, speed=None,\n             name=None, atemp = None, hr = None):\n</code></pre>\n\n<p>Then later in the parser.py you see this routine added</p>\n\n<pre><code>def __parse_track_point_extension(self, node):\n+        atemp_node = self.xml_parser.get_first_child(node, 'atemp')\n+        atemp = mod_utils.to_number(self.xml_parser.get_node_data(atemp_node))\n+\n+        hr_node = self.xml_parser.get_first_child(node, 'hr')\n+        hr = mod_utils.to_number(self.xml_parser.get_node_data(hr_node))\n\n+        extensions = {\"atemp\":atemp, \"hr\":hr}\n+        return extensions\n</code></pre>\n\n<p>However in the current code the structure appears very different from when that original commit was made, but it seems to allow for parsing extensions in a more generic way.  But I'm not proficient enough with python to understand how to get it to parse these tags.  My question is an attempt to understand what I'm missing in how the new code works.  My instinct is to just add a line like this into <a href=\"https://github.com/tkrajina/gpxpy/blob/master/gpxpy/gpx.py\" rel=\"nofollow noreferrer\">the gpx.py code</a> around line 74.</p>\n\n<pre><code>mod_gpxfield.GPXField('heart_rate', 'hr', type=mod_gpxfield.FLOAT_TYPE),\n</code></pre>\n\n<p>However I'm hoping someone experienced can look through the code and see if there's something I'm missing like specifying a list extensions=[hr, atemp] and have them parsed generically when reading the data.  It seems odd that this commit was made in the past, but now the feature has been lost, so I assume I'm missing something.</p>\n\n<p>The portion of the heart rate xml look like this inside the trkpt as <a href=\"https://github.com/tkrajina/gpxpy/blob/master/test_files/gpx1.1_with_all_fields.gpx\" rel=\"nofollow noreferrer\">compared to their test schema</a></p>\n\n<pre><code> &lt;trkpt lat=\"1.6685718186199665069580078125\" lon=\"-101.03414486162364482879638671875\"&gt;\n        &lt;time&gt;2018-02-10T19:24:06.000Z&lt;/time&gt;\n        &lt;extensions&gt;\n          &lt;ns3:TrackPointExtension&gt;\n            &lt;ns3:hr&gt;106&lt;/ns3:hr&gt;\n          &lt;/ns3:TrackPointExtension&gt;\n        &lt;/extensions&gt;\n      &lt;/trkpt&gt;\n</code></pre>\n\n<p>And in their <a href=\"https://github.com/tkrajina/gpxpy/blob/master/test.py\" rel=\"nofollow noreferrer\">test.py</a> you can see them testing their test extensions in their gpx test file:</p>\n\n<pre><code>            &lt;trkpt lat=\"10.1\" lon=\"-20.2\"&gt;\n                &lt;ele&gt;11.1&lt;/ele&gt;\n                &lt;time&gt;2013-01-01T12:00:04&lt;/time&gt;\n                &lt;extensions&gt;\n                    &lt;last&gt;true&lt;/last&gt;\n                &lt;/extensions&gt;\n</code></pre>\n\n<p>Which is testing for the  tag:</p>\n\n<pre><code>self.assertEquals('true',gpx.tracks[0].segments[0].points[0].extensions['last'])\n</code></pre>\n\n<p>And while I don't understand how it was parsed does this mean doing something like this:</p>\n\n<pre><code>hr=gpx.tracks[0].segments[0].points[0].extensions['hr']\n</code></pre>\n\n<p>Would return the data?  Using python debugger, I can't see these loaded into the gpx.tracks data structure.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1461, "user_id": 864442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/01d771042763d3121cb8b90d0adb8de3?s=128&d=identicon&r=PG", "display_name": "Kitcha", "link": "https://stackoverflow.com/users/864442/kitcha"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1518643635, "post_id": 48795395, "comment_id": 84595486, "body": "Sorry. I wanted to type bytes."}], "answers": [{"comments": [{"owner": {"reputation": 1461, "user_id": 864442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/01d771042763d3121cb8b90d0adb8de3?s=128&d=identicon&r=PG", "display_name": "Kitcha", "link": "https://stackoverflow.com/users/864442/kitcha"}, "edited": false, "score": 0, "creation_date": 1518643439, "post_id": 48795546, "comment_id": 84595407, "body": "Awesome! It&#39;s what exactly I wanted."}], "tags": [], "owner": {"reputation": 56, "user_id": 9357689, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tocutoeltuco", "link": "https://stackoverflow.com/users/9357689/tocutoeltuco"}, "is_accepted": true, "score": 2, "last_activity_date": 1518639624, "creation_date": 1518639624, "answer_id": 48795546, "question_id": 48795395, "link": "https://stackoverflow.com/questions/48795395/how-to-convert-string-to-byte-array-and-send-it-over-socket-in-python-3-6/48795546#48795546", "title": "How to convert string to byte array and send it over socket in python 3.6?", "body": "<p>I don't know if this is the best way to do this, but this works:</p>\n\n<pre><code>string1 = \"0001ff438a9b\"\nhexSplits = [string1[index:index + 2] for index in range(0, len(string1), 2)] # split the string every 2 characters\nnormalizedSplits = [int(\"0x\" + hexSplits[index], 16) for index in range(len(hexSplits))] # transform every split to base10 int\nbytes = bytes(normalizedSplits) # join normalizedSplits into bytes variable as bytes\n</code></pre>\n\n<p>Now you can send bytes variable between sockets!</p>\n"}], "owner": {"reputation": 1461, "user_id": 864442, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/01d771042763d3121cb8b90d0adb8de3?s=128&d=identicon&r=PG", "display_name": "Kitcha", "link": "https://stackoverflow.com/users/864442/kitcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 875, "favorite_count": 0, "accepted_answer_id": 48795546, "answer_count": 1, "score": 1, "last_activity_date": 1518643946, "creation_date": 1518638974, "last_edit_date": 1518643584, "question_id": 48795395, "link": "https://stackoverflow.com/questions/48795395/how-to-convert-string-to-byte-array-and-send-it-over-socket-in-python-3-6", "title": "How to convert string to byte array and send it over socket in python 3.6?", "body": "<p>I have a string and would like to send them over the socket. How to send it using python 3.6? </p>\n\n<pre><code>string1 = \"0001ff438a9b\"\n</code></pre>\n\n<p>I would like to convert the sting and send it as <code>bytes 0x00, 0x01,0xff,0x43,0x8a,0x9b</code> over the socket.</p>\n\n<p>It's different from the question marked as duplicate. My actual byte values are stored as string.</p>\n"}, {"tags": ["python", "sockets", "flask"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8733622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7e4d74e974845dcf33f65e43b486ec?s=128&d=identicon&r=PG", "display_name": "Mostly_Yoshi", "link": "https://stackoverflow.com/users/8733622/mostly-yoshi"}, "edited": false, "score": 0, "creation_date": 1518639813, "post_id": 48795531, "comment_id": 84593512, "body": "Sound like a good plan. Unfortunately I cannot +1 because I do not have the rep. Thank you for the suggestion"}, {"owner": {"reputation": 61, "user_id": 8733622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7e4d74e974845dcf33f65e43b486ec?s=128&d=identicon&r=PG", "display_name": "Mostly_Yoshi", "link": "https://stackoverflow.com/users/8733622/mostly-yoshi"}, "edited": false, "score": 0, "creation_date": 1518642624, "post_id": 48795531, "comment_id": 84594969, "body": "It seems that I am now able to get the request to the Flask server using a lower level socket, but am still clueless as to how to receive and display its view function&#39;s return value. Do I need 2 separate sockets in the same function? One to send, the other to receive? How would Flask know which socket to send data back to. Im quite lost"}, {"owner": {"reputation": 61, "user_id": 8733622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7e4d74e974845dcf33f65e43b486ec?s=128&d=identicon&r=PG", "display_name": "Mostly_Yoshi", "link": "https://stackoverflow.com/users/8733622/mostly-yoshi"}, "edited": false, "score": 0, "creation_date": 1518644092, "post_id": 48795531, "comment_id": 84595681, "body": "Disregard that, I got it working! Thank you again. I used your URL mapping in accordance with the MySocket class as per <a href=\"https://docs.python.org/3.6/howto/sockets.html\" rel=\"nofollow noreferrer\">docs.python.org/3.6/howto/sockets.html</a>"}], "tags": [], "owner": {"reputation": 32298, "user_id": 7883, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e2e0b96391e9e1b741114fa507247995?s=128&d=identicon&r=PG", "display_name": "Vasil", "link": "https://stackoverflow.com/users/7883/vasil"}, "is_accepted": false, "score": 0, "last_activity_date": 1518639557, "creation_date": 1518639557, "answer_id": 48795531, "question_id": 48795392, "link": "https://stackoverflow.com/questions/48795392/python-using-socket-to-construct-url-for-external-flask-servers-view-function/48795531#48795531", "title": "Python - Using socket to construct URL for external Flask server&#39;s view function", "body": "<p>If your HTTP client is written in python the simplest solution would be to use a higher level HTTP library like <code>requests</code> or <code>urllib2</code>. If you want to get the path mappings against your Flask app views you could print them by introspecting the <code>app</code> object and export them to json or some other format and use them in your client.</p>\n\n<p>In your sockets example just use <code>GET /?arg=value HTTP/1.1\\nHost : \\r\\n</code>.</p>\n"}], "owner": {"reputation": 61, "user_id": 8733622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7e4d74e974845dcf33f65e43b486ec?s=128&d=identicon&r=PG", "display_name": "Mostly_Yoshi", "link": "https://stackoverflow.com/users/8733622/mostly-yoshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518639557, "creation_date": 1518638950, "question_id": 48795392, "link": "https://stackoverflow.com/questions/48795392/python-using-socket-to-construct-url-for-external-flask-servers-view-function", "title": "Python - Using socket to construct URL for external Flask server&#39;s view function", "body": "<p>I am developing a desktop application that must send a specified url to a Flask application hosted online, and subsequently receive data from the same Flask app. 2 applications communicating back &amp; forth. I am able to make GET and POST requests to this Flask app, but I am unaware of how to construct specific URL's which include arguments for the Flask app to receive via <code>request.args.get()</code></p>\n\n<p>Thus far my ability hasn't been entirely erroneous. I can send a request <code>GET / HTTP/1.1\\nHost : \\r\\n</code> which in turn receives something like <code>b'HTTP/1.0 200 OK\\r\\n'</code></p>\n\n<p>Which is well and good, I got the encoding part down.</p>\n\n<p>Beyond this I am at a loss as the Flask view function needs to acquire an argument <code>arg</code> from a specific url -\n something like <em>myFlaskApp.com/viewfunction?h=arg</em></p>\n\n<p>What would be an at least <em>decent</em> form if not a minimal / pragmatic way of practicing this kind of communication? I haven't much code to show for this one; I would like to leave any stratagem open for debate. I hope you can understand. Thank you!</p>\n\n<p>P.S. +&lt;3 if you also show me how to receive and decode the Flask server's view function return value on my app client. Assumed to be an arbitrary string.</p>\n"}]