[{"tags": ["python", "if-statement", "io", "boolean"], "comments": [{"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "edited": false, "score": 1, "creation_date": 1502324247, "post_id": 45602363, "comment_id": 78164366, "body": "seems like you mix SMA and sma (are these different?) then, you calc distance j to j+1, but that doesn&#39;t cover every case (you have 5 x 4 cases = 20, not just 4)"}, {"owner": {"reputation": 7436, "user_id": 5514476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP6t0.jpg?s=128&g=1", "display_name": "DJK", "link": "https://stackoverflow.com/users/5514476/djk"}, "edited": false, "score": 0, "creation_date": 1502326261, "post_id": 45602363, "comment_id": 78164873, "body": "why do you break the loop if count if greater than 4570? that loop only has four 5 iterations"}, {"owner": {"reputation": 31, "user_id": 7706133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1344545488918204/picture?type=large", "display_name": "dlsj", "link": "https://stackoverflow.com/users/7706133/dlsj"}, "reply_to_user": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "edited": false, "score": 0, "creation_date": 1502423903, "post_id": 45602363, "comment_id": 78212762, "body": "@MrE, in my case, close encounters only happen between adjacent planets. Only 4 cases are possible. However,+1 for catching the sma/SMA thing."}, {"owner": {"reputation": 31, "user_id": 7706133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1344545488918204/picture?type=large", "display_name": "dlsj", "link": "https://stackoverflow.com/users/7706133/dlsj"}, "reply_to_user": {"reputation": 7436, "user_id": 5514476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP6t0.jpg?s=128&g=1", "display_name": "DJK", "link": "https://stackoverflow.com/users/5514476/djk"}, "edited": false, "score": 0, "creation_date": 1502424500, "post_id": 45602363, "comment_id": 78212920, "body": "@djk47463 a bit confused of what you&#39;re asking"}], "answers": [{"tags": [], "owner": {"reputation": 1557, "user_id": 5348393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PrYx.png?s=128&g=1", "display_name": "JoshuaRLi", "link": "https://stackoverflow.com/users/5348393/joshuarli"}, "is_accepted": true, "score": 3, "last_activity_date": 1502324989, "last_edit_date": 1502324989, "creation_date": 1502323337, "answer_id": 45602421, "question_id": 45602363, "link": "https://stackoverflow.com/questions/45602363/using-multiple-booleans-in-an-if-statement-to-decide-which-file-to-write-to/45602421#45602421", "title": "Using multiple booleans in an if statement to decide which file to write to", "body": "<p>It isn't ideal to keep four different files open in a running script. What's more, you haven't opened those files using Python's convenient <code>with</code> context manager, which takes care of cleanly closing opened files among other things. You're also performing open operations every loop iteration - files usually should be opened and closed once as there is a lot of consequential I/O overhead.</p>\n\n<p>As for a cleaner approach, I would conditionally accumulate items/lines in Python data storage objects, then just do a one-off open and write at the end of the script. That way, if something goes awry during the main logic, you don't have files that have been partially written to.</p>\n\n<p>This would be something along the lines of:</p>\n\n<pre><code>create 4 empty lists\n\nfor loop\n    logic to conditionally append lines to be written to the text files to those lists\n\nwith open('data1.txt', 'a+') as f:\n    write contents of list1 to f\n... copy paste for remaining 3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1502324822, "post_id": 45602495, "comment_id": 78164517, "body": "This will open/close the file for every write -- very slow for 4750 operations."}, {"owner": {"reputation": 1557, "user_id": 5348393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PrYx.png?s=128&g=1", "display_name": "JoshuaRLi", "link": "https://stackoverflow.com/users/5348393/joshuarli"}, "edited": false, "score": 0, "creation_date": 1502324888, "post_id": 45602495, "comment_id": 78164532, "body": "Was just going to comment the above. This code is not ideal either."}, {"owner": {"reputation": 41, "user_id": 3808607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PPKlV.jpg?s=128&g=1", "display_name": "Oliver Browne", "link": "https://stackoverflow.com/users/3808607/oliver-browne"}, "edited": false, "score": 1, "creation_date": 1502325667, "post_id": 45602495, "comment_id": 78164738, "body": "I didn&#39;t want to assume the question asker has buckets of ram lying around, and I didn&#39;t know the size of each &quot;data&quot; block they were writing - each planet could represent a couple of megabytes of data, and then you save 4750 of them to a set of lists? you&#39;ll be using swap memory fast, and then its slow either way"}], "tags": [], "owner": {"reputation": 41, "user_id": 3808607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PPKlV.jpg?s=128&g=1", "display_name": "Oliver Browne", "link": "https://stackoverflow.com/users/3808607/oliver-browne"}, "is_accepted": false, "score": 0, "last_activity_date": 1502323949, "creation_date": 1502323949, "answer_id": 45602495, "question_id": 45602363, "link": "https://stackoverflow.com/questions/45602363/using-multiple-booleans-in-an-if-statement-to-decide-which-file-to-write-to/45602495#45602495", "title": "Using multiple booleans in an if statement to decide which file to write to", "body": "<p>I'd probably put the four data files in a list, so you can just do:</p>\n\n<pre><code>filesArray = [data1,data2,data3,data4]\n#insider your for loop:\nif(count &gt; 4750):\n    break\nif(distance &lt;= 0.01):\n    count += 1\n    filesArray[j].write(data)#for whatever your data is\nelse:\n    break\n</code></pre>\n\n<p>It would be even better to do </p>\n\n<pre><code>fileNamesArray = [\"data1.txt\", \"data2.txt\", \"data3.txt\", \"data4.txt\"]\n#inside your for loop:\nif(count &gt; 4750):\n    break\nif(distance &lt;= 0.01):\n    count += 1\n    with open(fileNamesArray[j], \"a\") as dataFile:\n        dataFile.write(data)#for whatever your data is\n</code></pre>\n\n<p>This helps avoid data corruption in case your program crashes for another reason</p>\n\n<p>This also avoids storing every result you get into a list in memory, which I'd guess could be expensive for complex simulations</p>\n\n<p>It does bind your performance to disk speed though, so I guess it's a tradeoff</p>\n"}], "owner": {"reputation": 31, "user_id": 7706133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1344545488918204/picture?type=large", "display_name": "dlsj", "link": "https://stackoverflow.com/users/7706133/dlsj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 45602421, "answer_count": 2, "score": 0, "last_activity_date": 1502424252, "creation_date": 1502322898, "last_edit_date": 1502424252, "question_id": 45602363, "link": "https://stackoverflow.com/questions/45602363/using-multiple-booleans-in-an-if-statement-to-decide-which-file-to-write-to", "title": "Using multiple booleans in an if statement to decide which file to write to", "body": "<p>I'm trying to catch 4570 close encounters between planets, and output the data into certain files, depending on which two planets had the close encounters. I have 5 planets in total, and each planet has a close encounter ONLY with the planet(s) adjacent to it, leaving the possibility of 4 encounters.</p>\n\n<pre><code>data1 = open('data1.txt', 'a+')\ndata2 = open('data2.txt', 'a+')\ndata3 = open('data3.txt', 'a+')\ndata4 = open('data4.txt', 'a+')\n\nfor i in range(0,100000): #range this big since close encounters don't happen every iteration      \n    def P_dist(p1, p2):\n        #function calculating distances between planets\n\n\n    init_SMA = [sim.particles[1].a,sim.particles[2].a,sim.particles[3].a,sim.particles[4].a,sim.particles[5].a]\n\n    try:\n        sim.integrate(10e+9*2*np.pi)\n    except rebound.Encounter as error:\n        print(error)\n\n    for j in range(len(init_SMA)-1):\n        distance = P_dist(j, j+1)\n        if distance &lt;= .01:\n            count+=1\n            if count &gt; 4570:\n                break\n            elif(init_SMA[j] == init_SMA[0] and init_SMA[j+1] == init_SMA[1])\n                #write stuff to data1\n            elif(init_SMA[j] == init_SMA[1] and init_SMA[j+1] == init_SMA[2])\n                #write stuff to data2\n            elif(init_SMA[j] == init_SMA[2] and init_SMA[j+1] == init_SMA[3])\n                #write stuff to data3\n            elif(init_SMA[j] == init_SMA[3] and init_SMA[j+1] == init_SMA[4])\n                #write stuff to data4\n\n#close files\n</code></pre>\n\n<p>Everyone, I apologize. I left out lots of the code that shows the creation of the planetary system. The main for loop is responsible for creating a planetary system, catching a close encounter, writing it to the files, and repeating until 4570 close encounters have occurred.</p>\n"}, {"tags": ["python", "elasticsearch"], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 5792721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf44c783c79ebad8536c53882de00dfc?s=128&d=identicon&r=PG&f=1", "display_name": "James Parker", "link": "https://stackoverflow.com/users/5792721/james-parker"}, "is_accepted": true, "score": 2, "last_activity_date": 1502364270, "last_edit_date": 1502364270, "creation_date": 1502363791, "answer_id": 45612216, "question_id": 45602350, "link": "https://stackoverflow.com/questions/45602350/how-to-read-configurations-to-a-search-analyzer/45612216#45612216", "title": "How to read configurations to a search analyzer?", "body": "<p>The <code>analyze</code> function does not take analyzer as a parameter.\nMore details here: <a href=\"http://elasticsearch-py.readthedocs.io/en/master/api.html#elasticsearch.client.IndicesClient.analyze\" rel=\"nofollow noreferrer\">http://elasticsearch-py.readthedocs.io/en/master/api.html#elasticsearch.client.IndicesClient.analyze</a>.</p>\n\n<p>Instead, you should pass <code>body</code> parameter. Replace the analyze_query function with the one below.</p>\n\n<pre><code>def analyze_query(text, es_conn, index_name, settings_path = config.SETTINGS_PATH):\n\n    with open(settings_path) as json_data:\n        settings = json.load(json_data)[\"settings\"][\"analysis\"]\n\n        filter_settings = settings[\"filter\"]\n        analyzer_settings = settings[\"analyzer\"][\"my_analyzer\"]\n\n        body = {}\n        body[\"text\"] = text\n        body[\"tokenizer\"] = analyzer_settings[\"tokenizer\"]\n        if \"char_filter\" in analyzer_settings:\n          body[\"char_filter\"] = analyzer_settings[\"char_filter\"]\n\n        body[\"filter\"] = [ filter_settings[f] if f in filter_settings else f \\\n            for f in analyzer_settings[\"filter\"]]\n        tokens = es_conn.indices.analyze(\n            index = index_name,\n            body = body)[\"tokens\"]\n\n    return [token_row[\"token\"].encode('utf-8') for token_row in tokens]\n</code></pre>\n\n<p>And good luck with your assignment.</p>\n"}], "owner": {"reputation": 5398, "user_id": 6733064, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bbad917af60dd44536450743c01872c9?s=128&d=identicon&r=PG&f=1", "display_name": "GabrielChu", "link": "https://stackoverflow.com/users/6733064/gabrielchu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 45612216, "answer_count": 1, "score": 1, "last_activity_date": 1502364270, "creation_date": 1502322794, "question_id": 45602350, "link": "https://stackoverflow.com/questions/45602350/how-to-read-configurations-to-a-search-analyzer", "title": "How to read configurations to a search analyzer?", "body": "<p>It seems to me Elasticsearch has <strong>two analyzers</strong>, one is for <strong>index</strong> and the other is for <strong>query</strong>.</p>\n\n<p>I was successfully manage to add the index analyzer to tokenize the documents, but have no clue of adding an analyzer to the search query.</p>\n\n<p>This is a preliminary file I have, written in Python</p>\n\n<pre><code>from elasticsearch import Elasticsearch\nes_conn = Elasticsearch(config.ES_HOSTS)\n\n\ndef analyze_query(text, es_conn, index_name):\n    '''\n        analyzes any text with my_analyzer defined in es_settings.json\n        input:\n            - text: a query text\n            - es_conn: elasticsearch connection\n            - index_name: name of index\n        output:\n            - a list of tokens\n    '''\n\n    tokens = es_conn.indices.analyze(\n        index = index_name,\n        body = {\"text\": text},\n        # how to point the analyzer to the json file???\n        analyzer = 'my_analyzer')[\"tokens\"]\n    return [token_row[\"token\"].encode('utf-8') for token_row in tokens]\n</code></pre>\n\n<p>Got an error</p>\n\n<pre><code>elasticsearch.exceptions.RequestError: TransportError(400, u'illegal_argument_exception', u'[1aVYakX][127.0.0.1:9300][indices:admin/analyze[s]]')\n</code></pre>\n\n<p>The problem occurs in the <code>analyzer = 'my_analyzer'</code> part, I am not sure how to make it points to the json file which defines the Elasticsearch settings.</p>\n\n<p><strong>Addition</strong></p>\n\n<p>the json file</p>\n\n<pre><code>{\n  \"settings\": {\n    \"number_of_shards\": 1,\n    \"analysis\": {\n      \"analyzer\": {\n        \"my_analyzer\": {\n          \"filter\": [\n            \"lowercase\",\n            \"stop\"\n          ],\n          \"char_filter\": [\n            \"html_strip\"\n          ],\n          \"type\": \"custom\",\n          \"tokenizer\": \"uax_url_email\"\n        }\n      }\n    }\n  },\n  \"mappings\": {\n    \"doc\": {\n      \"properties\": {\n        \"filename\": {\n          \"type\": \"keyword\",\n          \"index\": false,\n          \"doc_values\": false\n        },\n        \"path\": {\n          \"type\": \"keyword\",\n          \"index\": false,\n          \"doc_values\": false\n        },\n        \"text\": {\n          \"type\": \"text\",\n          \"analyzer\": \"my_analyzer\",\n          \"search_analyzer\": \"my_analyzer\"\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1502323205, "post_id": 45602322, "comment_id": 78164149, "body": "You could write a class based generator and override the close method."}], "answers": [{"comments": [{"owner": {"reputation": 37636, "user_id": 101999, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ab9e16b1296c16bc63f02f6dff5e3dc6?s=128&d=identicon&r=PG", "display_name": "Thanatos", "link": "https://stackoverflow.com/users/101999/thanatos"}, "edited": false, "score": 0, "creation_date": 1502325451, "post_id": 45602398, "comment_id": 78164676, "body": "This was my sneaking suspicion. That&#39;s a shame, Python."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1502323576, "last_edit_date": 1502323576, "creation_date": 1502323165, "answer_id": 45602398, "question_id": 45602322, "link": "https://stackoverflow.com/questions/45602322/how-do-you-catch-generatorexit-in-a-generator-that-has-yet-been-iterated/45602398#45602398", "title": "How do you catch GeneratorExit in a generator that has yet been iterated?", "body": "<p>You can't. If the generator hasn't been <code>next</code>ed, any <code>try</code> clauses inside the body haven't been entered. <code>close</code> will throw the <code>GeneratorExit</code> at the start of the function, before any exception handling can be set up.</p>\n\n<p>You'll have to change the premises - for example, by introducing a dummy <code>yield</code> and <code>next</code>ing the generator once in advance:</p>\n\n<pre><code>def gen_wrapper():\n    gen_iter = _gen()\n    next(gen_iter)\n    return gen_iter\n\ndef _gen():\n    try:\n        yield\n        ...\n    finally:\n        perform_cleanup()\n\n# Generator returned from gen_wrapper will perform cleanup even if closed immediately.\n</code></pre>\n"}], "owner": {"reputation": 37636, "user_id": 101999, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ab9e16b1296c16bc63f02f6dff5e3dc6?s=128&d=identicon&r=PG", "display_name": "Thanatos", "link": "https://stackoverflow.com/users/101999/thanatos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 45602398, "answer_count": 1, "score": 1, "last_activity_date": 1502323576, "creation_date": 1502322646, "question_id": 45602322, "link": "https://stackoverflow.com/questions/45602322/how-do-you-catch-generatorexit-in-a-generator-that-has-yet-been-iterated", "title": "How do you catch GeneratorExit in a generator that has yet been iterated?", "body": "<p>E.g.,</p>\n\n<pre><code>In [33]: def gener():\n    ...:   try:\n    ...:     print('hi')\n    ...:     yield 1\n    ...:     print('hi 2')\n    ...:     yield 2\n    ...:   except:\n    ...:     print('Closed: {!r}'.format(sys.exc_info()[1]))\n    ...:\n\nIn [34]: gener().close()\n\n# \u2191 No output!\nIn [35]: g = gener()\n\nIn [36]: next(g)\nhi\nOut[36]: 1\n\nIn [37]: g.close()\nClosed: GeneratorExit()\n</code></pre>\n\n<p>Is it not possible to notice the generator's <code>close()</code> call if you haven't stepped into the generator, in Python?</p>\n\n<p>(In my actual use-case, one of the arguments to the generator is a resource that the function returning the generator is passing to the generator, <em>including ownership</em>. I.e.,</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def do_it():\n    resource = acquire()\n    try:\n        return a_generator(resource)()  # pass ownership of the resource\n    except:\n        resource.close()\n</code></pre>\n\n<p>If you close the generator prior to the first iteration, and the generator can't capture that fact, then the resource is leaked.)</p>\n"}, {"tags": ["python", "ansible", "ssh-tunnel", "f5"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8210996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7GtyK.jpg?s=128&g=1", "display_name": "MIke", "link": "https://stackoverflow.com/users/8210996/mike"}, "edited": false, "score": 0, "creation_date": 1502409801, "post_id": 45605803, "comment_id": 78209839, "body": "I commented out the ssh_common_args, removed the connection: local and delegated to Bastion1 and now have a new error        fatal: [F5-LTM1]: UNREACHABLE! =&gt; {     &quot;changed&quot;: false,     &quot;msg&quot;: &quot;Failed to connect to the host via ssh:       mux_client_request_session: out of sequence reply: my id 1 theirs 2\\r\\n&quot;,     &quot;unreachable&quot;: true }"}, {"owner": {"reputation": 3, "user_id": 8210996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7GtyK.jpg?s=128&g=1", "display_name": "MIke", "link": "https://stackoverflow.com/users/8210996/mike"}, "edited": false, "score": 0, "creation_date": 1502668711, "post_id": 45605803, "comment_id": 78289431, "body": "I&#39;m wondering if anyone has even tried this before or if it&#39;s even possible since you need to SSH through an intermediate host in order to communicate using the F5  iControl API??"}, {"owner": {"reputation": 3, "user_id": 8210996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7GtyK.jpg?s=128&g=1", "display_name": "MIke", "link": "https://stackoverflow.com/users/8210996/mike"}, "edited": false, "score": 0, "creation_date": 1503038701, "post_id": 45605803, "comment_id": 78457470, "body": "I just saw something about having bigsuds installed on the jump host which is a shame as I wanted to avoid having to touch the jumphost software."}], "tags": [], "owner": {"reputation": 54590, "user_id": 2795592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbe4bfb6102057764f046f57f161ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Suvorov", "link": "https://stackoverflow.com/users/2795592/konstantin-suvorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1502345761, "creation_date": 1502345761, "answer_id": 45605803, "question_id": 45602306, "link": "https://stackoverflow.com/questions/45602306/using-ansible-to-configure-f5-through-ssh-tunnel/45605803#45605803", "title": "Using Ansible to configure F5 through SSH Tunnel", "body": "<p>I'd guess, you should:</p>\n\n<ul>\n<li>remove <code>connection: local</code></li>\n<li>remove ssh and proxy settings for <code>f5_devices</code> group</li>\n<li>add <code>bastion1</code> host to your inventory</li>\n<li>then <code>delegate_to: bastion1</code></li>\n</ul>\n\n<p>this way Ansible will connect to your bastion host and execute <code>bigip_facts</code> module from there targeting your f5 devices.</p>\n"}], "owner": {"reputation": 3, "user_id": 8210996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7GtyK.jpg?s=128&g=1", "display_name": "MIke", "link": "https://stackoverflow.com/users/8210996/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 753, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1502345761, "creation_date": 1502322545, "last_edit_date": 1502335079, "question_id": 45602306, "link": "https://stackoverflow.com/questions/45602306/using-ansible-to-configure-f5-through-ssh-tunnel", "title": "Using Ansible to configure F5 through SSH Tunnel", "body": "<p>I'm currently having a problem running an Ansible F5 playbook via an SSH Bastion host to configure an F5 Device, not sure where the issue could be at this stage.</p>\n\n<p>BIGSUDS, SUDS, F5-SDK all installed via pip</p>\n\n<p>My Playbook\n--- f5play.yml ----</p>\n\n<pre><code>---\n- hosts: f5_devices\n  gather_facts: false\n  connection: local\n\n  tasks:\n  - name: f5 test\n    bigip_facts:\n      server: \"{{ inventory_hostname }}\"\n      user: \"{{ ansible_user }}\"\n      password: \"{{ ansible_ssh_pass }}\"\n      include: \"interface\"\n      validate_certs: false\n    delegate_to: localhost\n    register: out\n\n  - debug: msg= \"{{ out }}\"\n</code></pre>\n\n<p>I have a \"group_vars\" directory with an \"f5_devices\" directory that contains my vault.yml and vars.yml </p>\n\n<p>vars.yml contains my extra proxy info, to jump through an intermediate ssh host before jumping to the f5, It has been successfully used with this setup before to get to Cisco devices.</p>\n\n<hr>\n\n<p>inventory file = ansible_hosts</p>\n\n<pre><code>[f5_devices]\nF5-LTM1  ansible_user=admin\n</code></pre>\n\n<hr>\n\n<p>--vars.yml--</p>\n\n<pre><code>ansible_ssh_pass: \"{{ vault_ansible_ssh_pass }}\"\nansible_ssh_common_args: '-o ProxyCommand=\"ssh -W %h:%p -v bastion1\" -o \nStrictHostKeyChecking=no'\n</code></pre>\n\n<hr>\n\n<p>ansible-playbook -i ansible_hosts f5play.yml --ask-vault-pass -vvv</p>\n\n<p>UPDATE - added \"delegate_to: localhost\"\nnow, still this error</p>\n\n<pre><code>            \"session\": false,\n            \"state\": \"present\",\n            \"user\": \"admin\",\n            \"validate_certs\": false\n        }\n    },\n    \"msg\": \"received exception: &lt;urlopen error [Errno -2] Name or service \nnot known&gt;\\ntraceback: Traceback (most recent call last):\\n  File \n\\\"/tmp/ansible_cdaERk/ansible_module_bigip_facts.py\\\", line 1664, in main\\n    \nsaved_active_folder = f5.get_active_folder()\\n  File \n\\\"/tmp/ansible_cdaERk/ansible_module_bigip_facts.py\\\", line 148, in \nget_active_folder\\n    return self.api.System.Session.get_active_folder()\\n  \nFile \\\"/home/mike/Proj/ansible/lib/python2.7/site-packages/bigsuds.py\\\", \nline 360, in __getattr__\\n    client = self._client_creator('%s.%s' % \n(self._name, attr))\\n  File \\\"/home/mike/Proj/ansible/lib/python2.7/site-\npackages/bigsuds.py\\\", line 170, in _create_client\\n    raise \nConnectionError(str(e))\\nConnectionError: &lt;urlopen error [Errno -2] Name or \nservice not known&gt;\\n\"\n}\n</code></pre>\n\n<p>I forgot to add, this is running in a virtual environment (virtualenv ansible)</p>\n\n<p>Any help would be 'greatly' appreciated</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1502322337, "post_id": 45602263, "comment_id": 78163951, "body": "What datepicker?"}, {"owner": {"reputation": 1, "user_id": 8301904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f048bce88915c4d17b33e0b2a13cba9f?s=128&d=identicon&r=PG&f=1", "display_name": "belazarFati", "link": "https://stackoverflow.com/users/8301904/belazarfati"}, "reply_to_user": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1502325252, "post_id": 45602263, "comment_id": 78164621, "body": "I meant when I choose the date from the view (it is like calendar)"}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1502325315, "post_id": 45602263, "comment_id": 78164638, "body": "You&#39;re going to have to provide more code. No one can help you as it is. <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 1, "user_id": 8301904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f048bce88915c4d17b33e0b2a13cba9f?s=128&d=identicon&r=PG&f=1", "display_name": "belazarFati", "link": "https://stackoverflow.com/users/8301904/belazarfati"}, "reply_to_user": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1502325597, "post_id": 45602263, "comment_id": 78164710, "body": "the code i provided is what i i guessed as solution, the problem is :when i choose the datetime from my view what I get when I printed it out or when I want to implement it in my code is the datetime -1 hour  thats why I had to add 1 hour before using it"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8301904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f048bce88915c4d17b33e0b2a13cba9f?s=128&d=identicon&r=PG&f=1", "display_name": "belazarFati", "link": "https://stackoverflow.com/users/8301904/belazarfati"}, "edited": false, "score": 0, "creation_date": 1502325309, "post_id": 45602507, "comment_id": 78164635, "body": "thanks for the reply, yes that is perfectly working but if the problem is depending on timezone for example then it may working for me but not somewhere"}, {"owner": {"reputation": 346, "user_id": 8412223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cDbBl.jpg?s=128&g=1", "display_name": "SpazaM", "link": "https://stackoverflow.com/users/8412223/spazam"}, "reply_to_user": {"reputation": 1, "user_id": 8301904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f048bce88915c4d17b33e0b2a13cba9f?s=128&d=identicon&r=PG&f=1", "display_name": "belazarFati", "link": "https://stackoverflow.com/users/8301904/belazarfati"}, "edited": false, "score": 0, "creation_date": 1502347575, "post_id": 45602507, "comment_id": 78171357, "body": "I don&#39;t think someone is understanding your question ... Can you give examples, or explain it better ?"}, {"owner": {"reputation": 1, "user_id": 8301904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f048bce88915c4d17b33e0b2a13cba9f?s=128&d=identicon&r=PG&f=1", "display_name": "belazarFati", "link": "https://stackoverflow.com/users/8301904/belazarfati"}, "edited": false, "score": 0, "creation_date": 1502363035, "post_id": 45602507, "comment_id": 78181958, "body": "when i pick the datetime from my view and when I printed it out or when I implemented it in my codeI get the (datetime -1 hour) thats why I had to add 1 hour before using it, I shouldn&#39;t add this 1hour  in my code , it supposed  to work fine"}, {"owner": {"reputation": 346, "user_id": 8412223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cDbBl.jpg?s=128&g=1", "display_name": "SpazaM", "link": "https://stackoverflow.com/users/8412223/spazam"}, "reply_to_user": {"reputation": 1, "user_id": 8301904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f048bce88915c4d17b33e0b2a13cba9f?s=128&d=identicon&r=PG&f=1", "display_name": "belazarFati", "link": "https://stackoverflow.com/users/8301904/belazarfati"}, "edited": false, "score": 0, "creation_date": 1502366989, "post_id": 45602507, "comment_id": 78184937, "body": "Where are you living ? maybe it is the UTC time and it&#39;s fine,"}, {"owner": {"reputation": 1, "user_id": 8301904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f048bce88915c4d17b33e0b2a13cba9f?s=128&d=identicon&r=PG&f=1", "display_name": "belazarFati", "link": "https://stackoverflow.com/users/8301904/belazarfati"}, "edited": false, "score": 0, "creation_date": 1502410127, "post_id": 45602507, "comment_id": 78209906, "body": "Morroco, I ried Africa/Casablanca  in configuration of administrator&#39;s timezone but it didn&#39;t work"}], "tags": [], "owner": {"reputation": 346, "user_id": 8412223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cDbBl.jpg?s=128&g=1", "display_name": "SpazaM", "link": "https://stackoverflow.com/users/8412223/spazam"}, "is_accepted": false, "score": -1, "last_activity_date": 1502388871, "last_edit_date": 1502388871, "creation_date": 1502324048, "answer_id": 45602507, "question_id": 45602263, "link": "https://stackoverflow.com/questions/45602263/the-datetime-from-the-datepicker-is-always-minus-1-hour-in-odoo-10-python/45602507#45602507", "title": "the datetime from the datepicker is always minus 1 hour in odoo 10, python", "body": "<p>You should check if the datetime returned from the \"view\" is in UTC time,\nin python you can access to current UTC time using this command:</p>\n\n<pre><code>datetime.datetime.utcnow()\n</code></pre>\n\n<p>You should check which timezone you are living in, and see the UTC offset.\nThis <a href=\"https://www.timeanddate.com/time/zone/\" rel=\"nofollow noreferrer\">site</a> allow you to check your timezone.</p>\n\n<p>Anyway this is the standard way to \"play\" with the datetime hours/minutes:</p>\n\n<pre><code>&gt;&gt;&gt; d1 = datetime.datetime.strptime(\"09/08/17 16:30\", \"%m/%d/%y %H:%M\")\n&gt;&gt;&gt; d1_plus_one_hour = d1 + datetime.timedelta(hours=1)\n&gt;&gt;&gt; d1_plus_one_hour\ndatetime.datetime(2017, 9, 8, 17, 30)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8301904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f048bce88915c4d17b33e0b2a13cba9f?s=128&d=identicon&r=PG&f=1", "display_name": "belazarFati", "link": "https://stackoverflow.com/users/8301904/belazarfati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502388871, "creation_date": 1502322231, "last_edit_date": 1502325360, "question_id": 45602263, "link": "https://stackoverflow.com/questions/45602263/the-datetime-from-the-datepicker-is-always-minus-1-hour-in-odoo-10-python", "title": "the datetime from the datepicker is always minus 1 hour in odoo 10, python", "body": "<p>I have got to add 1 hour to my code but I shouldn't be like this</p>\n\n<pre><code>d1= datetime.strptime(record.datetime, DATETIME_FORMAT)+timedelta(hours=1)\n</code></pre>\n"}, {"tags": ["python", "smtp", "smtp-auth"], "comments": [{"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "edited": false, "score": 0, "creation_date": 1502322339, "post_id": 45602225, "comment_id": 78163952, "body": "look at this: <a href=\"https://stackoverflow.com/questions/540976/specify-a-sender-when-sending-mail-with-python-smtplib\" title=\"specify a sender when sending mail with python smtplib\">stackoverflow.com/questions/540976/&hellip;</a>"}, {"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "edited": false, "score": 0, "creation_date": 1502322355, "post_id": 45602225, "comment_id": 78163956, "body": "you can forge the From display name, but you cannot forge the From email."}, {"owner": {"reputation": 11, "user_id": 4382675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3797fd0003b87fe85862648eae2e9453?s=128&d=identicon&r=PG&f=1", "display_name": "dj007", "link": "https://stackoverflow.com/users/4382675/dj007"}, "reply_to_user": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "edited": false, "score": 0, "creation_date": 1502323386, "post_id": 45602225, "comment_id": 78164202, "body": "yeah i tried what&#39;s in that link. I want to forge the from email basically. I want it to be from my school email and not gmail."}], "owner": {"reputation": 11, "user_id": 4382675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3797fd0003b87fe85862648eae2e9453?s=128&d=identicon&r=PG&f=1", "display_name": "dj007", "link": "https://stackoverflow.com/users/4382675/dj007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502321860, "creation_date": 1502321860, "question_id": 45602225, "link": "https://stackoverflow.com/questions/45602225/send-emails-from-python-from-school-email-id-powered-by-gmail", "title": "Send emails from python from school email id powered by gmail", "body": "<p>I know similar questions have been asked already, but this is an exception. \nI'm trying to send mail from my school ID which is powered by google, but smtp.gmail.com authorization fails. </p>\n\n<p>Also the school smtp cluster, says my account is not authorised to use it. </p>\n\n<p>I used an alias from my other gmail ID, but the receiver explicitly sees which ID it is coming from. Is there a way around it ? This is my code : </p>\n\n<pre><code>import smtplib\nfrom email.MIMEMultipart import MIMEMultipart\nfrom email.MIMEText import MIMEText\n\nmsg = MIMEMultipart()\nmsg['From'] = 'me@gmail.com'\nmsg['To'] = 'you@gmail.com'\nmsg['Subject'] = 'simple email in python'\nmessage = 'here is the email'\nmsg.attach(MIMEText(message))\n\nmailserver = smtplib.SMTP(\"SCHOOL SMTP HERE\",587)\n# identify ourselves to smtp gmail client\nmailserver.ehlo()\n# secure our email with tls encryption\nmailserver.starttls()\n# re-identify ourselves as an encrypted connection\nmailserver.ehlo()\nmailserver.login(username, pwd)\n\nmailserver.sendmail(from,to,msg.as_string())\n\nmailserver.quit()\n</code></pre>\n"}, {"tags": ["python", "excel", "hide", "xlsxwriter", "xlwt"], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 7236168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwd0E.png?s=128&g=1", "display_name": "Barmaley", "link": "https://stackoverflow.com/users/7236168/barmaley"}, "is_accepted": false, "score": 2, "last_activity_date": 1503937761, "creation_date": 1503937761, "answer_id": 45923538, "question_id": 45602211, "link": "https://stackoverflow.com/questions/45602211/hiding-unused-remaining-rows-and-specific-amount-of-columns-excel-python/45923538#45923538", "title": "Hiding unused/remaining rows and specific amount of columns excel python", "body": "<p>Now, you have an error because <a href=\"http://xlsxwriter.readthedocs.io/worksheet.html\" rel=\"nofollow noreferrer\">xlsxwriter</a> and <a href=\"http://xlwt.readthedocs.io/en/latest/api.html\" rel=\"nofollow noreferrer\">xlwt</a> worksheet objects haven't <code>set_default_row</code> method. You can read more about <code>woksheet</code> classes by link reference for each-library.</p>\n\n<p>So, you can look into <a href=\"https://groups.google.com/forum/#!forum/python-excel\" rel=\"nofollow noreferrer\">google group</a>, and <code>xlwt</code> examples from this <a href=\"http://www.python-excel.org/\" rel=\"nofollow noreferrer\">site</a> for more information.</p>\n\n<p>You can hide cells in <code>xlsxwriter</code> by this way:</p>\n\n<pre><code>import xlsxwriter\n\nworkbook   = xlsxwriter.Workbook('filename.xlsx')\n\nworksheet = workbook.add_worksheet()\nworksheet.write('C3', \"Abracadabra!\")\nworksheet.set_row(2, 2,[], {'hidden': True})\n\nworkbook.close()\n</code></pre>\n\n<p>or in <code>xlwt</code>:</p>\n\n<pre><code>import xlwt\n\nworkbook = xlwt.Workbook()\nworksheet = workbook.add_sheet('Sheet')\n\nworksheet.write(4, 0, \"Abracadabra!\")\nworksheet.row(4).hidden = 1\n\nworkbook.save('filename.xlsx')\n</code></pre>\n\n<p>In <code>xlwt</code> you also can hid <code>Column</code> objects by this way, but i'm not sure about <code>Cells</code> objects.</p>\n"}], "owner": {"reputation": 33, "user_id": 8435414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/301c91db717850220e77d638ca350668?s=128&d=identicon&r=PG&f=1", "display_name": "newbieintown", "link": "https://stackoverflow.com/users/8435414/newbieintown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1721, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1503937761, "creation_date": 1502321736, "question_id": 45602211, "link": "https://stackoverflow.com/questions/45602211/hiding-unused-remaining-rows-and-specific-amount-of-columns-excel-python", "title": "Hiding unused/remaining rows and specific amount of columns excel python", "body": "<p>So i successfully wrote my first excel file using python and xlwt. Now, i would like to add to my code. I would like for the remaining rows (the unused rows, or a range that i could enter) to be hidden and the same for columns. Is it at all possible to do this with xlwt? If not, is it possible to do it with using xlsxwriter after creating the file with xlwt in the same script? I'm lost as to how to do this. \nOne line that i have that is giving me problems right now:</p>\n\n<pre><code>    My_Sheet = wb.add_sheet(All_Sheets[0,count],cell_overwrite_ok=True)    \n    My_Sheet.set_default_row(hide_unused_rows=True)\n</code></pre>\n\n<p>This gives me the following error: \"AttributeError: 'Worksheet' object has no attribute 'set_default_row' \"</p>\n"}, {"tags": ["python", "list", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 7454, "user_id": 2511718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3jZ8.jpg?s=128&g=1", "display_name": "bgse", "link": "https://stackoverflow.com/users/2511718/bgse"}, "is_accepted": false, "score": 1, "last_activity_date": 1502322316, "creation_date": 1502322316, "answer_id": 45602278, "question_id": 45602175, "link": "https://stackoverflow.com/questions/45602175/find-value-at-youngest-date-in-list/45602278#45602278", "title": "Find value at youngest date in list", "body": "<p>The issue is with your <code>max_date</code>, which you can see by the funky output that the print statement is giving you.</p>\n\n<p>Since you do not get the date properly, the subsequent loop doesn't work as expected either.</p>\n\n<p>An option to make this work would be:</p>\n\n<pre><code>max_date = max(x[0] for x in dates_amount)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 4, "last_activity_date": 1502322677, "last_edit_date": 1502322677, "creation_date": 1502322325, "answer_id": 45602283, "question_id": 45602175, "link": "https://stackoverflow.com/questions/45602175/find-value-at-youngest-date-in-list/45602283#45602283", "title": "Find value at youngest date in list", "body": "<p>Insert some trivial tracing print statements, and you'll see the problem:</p>\n\n<pre><code>print ([x for x in enumerate(dates_amount)])\nmax_date = max(x[:-1] for x in enumerate(dates_amount))\nprint (\"max_date\", max_date)\n</code></pre>\n\n<p>Output:  # newlines inserted to help readability</p>\n\n<pre><code>[(0, [datetime.datetime(2017, 1, 1, 0, 0), '15000.0']), \n (1, [datetime.datetime(2017, 4, 1, 0, 0), '10000.0']),\n (2, [datetime.datetime(2017, 7, 1, 0, 0), '13000.0'])]\nmax_date (2,)\n</code></pre>\n\n<p>Now do you see the problem?  When you <code>enumerate</code> the list, you get tuples of (<em>index</em>, <em>value</em>).  With this representation, x[:-1] is all but the last element, which is the <em>index</em> of the item.  All you've done is to find the largest index in the list, which is simply an indirect way to find <code>len(dates_amount)</code>.</p>\n\n<p>SOLUTION</p>\n\n<p>Get rid of the enumeration.  All you need is</p>\n\n<pre><code>max_date = max(entry[0] for entry in dates_amount)\n</code></pre>\n\n<p>Perhaps even better is to sort with a key field and then grab the last element:</p>\n\n<pre><code>dates_amount.sort(key=lambda entry: entry[0])\nprint (\"Last Amt:\", dates_amount[-1][1])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Last Amt: 13000.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 1, "creation_date": 1502322665, "post_id": 45602290, "comment_id": 78164025, "body": "You could create that dictionary just with <code>dict(dates_amount)</code>."}], "tags": [], "owner": {"reputation": 876, "user_id": 1904913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f077c00629c09e11bb8eb28a9534fba6?s=128&d=identicon&r=PG", "display_name": "honi", "link": "https://stackoverflow.com/users/1904913/honi"}, "is_accepted": false, "score": 2, "last_activity_date": 1502322388, "creation_date": 1502322388, "answer_id": 45602290, "question_id": 45602175, "link": "https://stackoverflow.com/questions/45602175/find-value-at-youngest-date-in-list/45602290#45602290", "title": "Find value at youngest date in list", "body": "<p>You don't want to use a list of lists.  You want to use a dict.  You can transform your list of lists into a dict like so:</p>\n\n<pre><code>d = dict()\nfor l in dates_amount:\n    d[l[0]] = l[1]\n</code></pre>\n\n<p>This will give you <code>d = {datetime.datetime(2017, 1, 1, 0, 0): '15000.0', datetime.datetime(2017, 4, 1, 0, 0): '10000.0', datetime.datetime(2017, 7, 1, 0, 0): '13000.0'}</code></p>\n\n<p>You can then find the maximum dict key with <code>max_key = max(d)</code> and the corresponding value with <code>d[max_key]</code></p>\n"}, {"tags": [], "owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "is_accepted": false, "score": 1, "last_activity_date": 1502323702, "creation_date": 1502323702, "answer_id": 45602462, "question_id": 45602175, "link": "https://stackoverflow.com/questions/45602175/find-value-at-youngest-date-in-list/45602462#45602462", "title": "Find value at youngest date in list", "body": "<p>You can just do:</p>\n\n<pre><code>max_date, max_amount = max(dates_amount)\nprint(\"Last Date: {} \".format(max_date))\nprint(\"Last Amount: {} \".format(max_amount))\n</code></pre>\n\n<p>This uses the fact that list comparisons go element by element. If you prefer to be explicit, you can replace the first line with:</p>\n\n<pre><code>max_date, max_amount = max(dates_amount, key=lambda x: x[0])\n</code></pre>\n"}], "owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 45602283, "answer_count": 4, "score": 0, "last_activity_date": 1502323702, "creation_date": 1502321524, "last_edit_date": 1502322844, "question_id": 45602175, "link": "https://stackoverflow.com/questions/45602175/find-value-at-youngest-date-in-list", "title": "Find value at youngest date in list", "body": "<p>I have this list of dates and amounts</p>\n\n<pre><code>dates_amount = [\n    [datetime.datetime(2017, 1, 1, 0, 0), '15000.0'],\n    [datetime.datetime(2017, 4, 1, 0, 0), '10000.0'],\n    [datetime.datetime(2017, 7, 1, 0, 0), '13000.0']]\n</code></pre>\n\n<p>I am trying to find the youngest date, i.e. the date which is closest from now, and retrieve the 2nd item from that sub-list. For the above example <code>7/1/2017</code> is the closest, so the answer should be <code>13000</code>. I wrote this code but it produces wrong output:</p>\n\n<pre><code>max_date = max(x[:-1] for x in enumerate(dates_amount))\nmax_amount = ''\nfor date,amount in dates_amount:\n    if date == max_date:\n       max_amount = amount\n       break\nprint(\"Last Date: {} \".format(max_date))\nprint(\"Last Amount: {} \".format(max_amount))\n</code></pre>\n\n<p>The output I see is:</p>\n\n<pre><code>Last Date: (2,) \nLast Amount:\n</code></pre>\n\n<p>What is the mistake and how can I correct it?</p>\n"}, {"tags": ["python", "python-3.x", "checkbox", "tkinter", "textbox"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1502327015, "post_id": 45602132, "comment_id": 78165041, "body": "Instead of giving instructions how to simulate your data, you should take the time to rewrite your example so that we don&#39;t have to. Also, you say you&#39;ve tri d lots of things but I don&#39;t see anything that attempts to create a checkbutton."}, {"owner": {"reputation": 47, "user_id": 8116117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VklzZ.png?s=128&g=1", "display_name": "kytexaranort", "link": "https://stackoverflow.com/users/8116117/kytexaranort"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1502378991, "post_id": 45602132, "comment_id": 78194972, "body": "updated the code and statement. l"}, {"owner": {"reputation": 47, "user_id": 8116117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VklzZ.png?s=128&g=1", "display_name": "kytexaranort", "link": "https://stackoverflow.com/users/8116117/kytexaranort"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1502379278, "post_id": 45602132, "comment_id": 78195194, "body": "-let me know if it helps you. Accidentally hit the add comment button before i was done."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1502380031, "post_id": 45602132, "comment_id": 78195728, "body": "It doesn&#39;t help. It still requires an external file, and still doesn&#39;t show any attempt at creating checkboxes.  Why can&#39;t you just hard-code a couple of rows of data? Also, consider removing the option menu and the search box, if all you&#39;re asking about is how to add checkbuttons to a text widget. See the following link for how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 47, "user_id": 8116117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VklzZ.png?s=128&g=1", "display_name": "kytexaranort", "link": "https://stackoverflow.com/users/8116117/kytexaranort"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1502380522, "post_id": 45602132, "comment_id": 78196050, "body": "I gave that specific code to help give the idea as to how my main code is structured but I can can break it all down to just a text box if it helps people. Also I&#39;m still fairly new to Python so how would I hard code searchable data?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1502382895, "post_id": 45602132, "comment_id": 78197556, "body": "Yeah, we don&#39;t particularly care about your main code. We want the smallest amount of code possible that helps to illustrate your actual problem. If you&#39;re asking how to add checkboxes to a text widget, you need a text widget, and some sort of loop that adds data with checkboxes. Not much more. To hard code data, just create a list (or list of lists). <code>data = [[&quot;row 1 col 1&quot;, &quot;row 1 col 2&quot;], [&quot;row 2 col 1&quot;, &quot;row 2 col 2&quot;], ...]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 8116117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VklzZ.png?s=128&g=1", "display_name": "kytexaranort", "link": "https://stackoverflow.com/users/8116117/kytexaranort"}, "edited": false, "score": 0, "creation_date": 1502379950, "post_id": 45617888, "comment_id": 78195651, "body": "This is a very good example that is very informative and it will help me greatly with my next part but how would I get those check boxes into a text box?"}, {"owner": {"reputation": 3878, "user_id": 4528269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e57eeb7fc4c275fd8d64640acbc8fb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Field", "link": "https://stackoverflow.com/users/4528269/ethan-field"}, "reply_to_user": {"reputation": 47, "user_id": 8116117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VklzZ.png?s=128&g=1", "display_name": "kytexaranort", "link": "https://stackoverflow.com/users/8116117/kytexaranort"}, "edited": false, "score": 0, "creation_date": 1502380108, "post_id": 45617888, "comment_id": 78195779, "body": "As in an <code>entry</code> widget?"}, {"owner": {"reputation": 47, "user_id": 8116117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VklzZ.png?s=128&g=1", "display_name": "kytexaranort", "link": "https://stackoverflow.com/users/8116117/kytexaranort"}, "edited": false, "score": 0, "creation_date": 1502380770, "post_id": 45617888, "comment_id": 78196222, "body": "Yeah sorry if I wasn&#39;t very specific. Like for example Im trying to get the checkboxes into a Text feild."}], "tags": [], "owner": {"reputation": 3878, "user_id": 4528269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e57eeb7fc4c275fd8d64640acbc8fb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Field", "link": "https://stackoverflow.com/users/4528269/ethan-field"}, "is_accepted": false, "score": 1, "last_activity_date": 1502380342, "last_edit_date": 1502380342, "creation_date": 1502378994, "answer_id": 45617888, "question_id": 45602132, "link": "https://stackoverflow.com/questions/45602132/inserting-a-checkbox-into-a-text-box-python-3-6/45617888#45617888", "title": "inserting a checkbox into a text box, python 3.6", "body": "<p>The below shows an example of how you can create a number of <code>CheckButtons</code> and then cleanly check which ones have been selected:</p>\n\n<pre><code>from tkinter import * #imports tkinter\n\nroot = Tk() #sets root as the Tk window\n\nexamples = 10 #sets the number of example to create\n\nlabel = [] #empty array for storing labels\ncheckbox = [] #empty array for storing checkboxes\narray = [] #empty array for storing checkbox boolean states\n\nfor i in range(examples): #for loop for creating the contents of the page\n    array.append(BooleanVar()) #adds an empty tk booleans value to array\n    label.append(Label(root, text=\"Example: \"+str(i))) #creates a label\n    label[i].grid(column=0, row=i) #grids the above label\n    checkbox.append(Checkbutton(root, variable=array[i])) #creates a button. the state variable for the button is stored in the next element of the array\n    checkbox[i].grid(column=1, row=i) #grids button\n\ndef command(): #command executed from button below\n    for i in range(examples): #for loop for each example\n        if array[i].get() == True: #checks if the button is ticked (True)\n            print(\"Example \"+str(i)+\" is ticked.\") #prints this if the button is ticked\n        else:\n            print(\"Example \"+str(i)+\" is not ticked.\") #prints this if the button is not ticked\n\nbutton = Button(root, text=\"Ok\", command=command) #creates a button to process the output\n\nbutton.grid() #grids button\n\nroot.mainloop() #starts event loop\n</code></pre>\n\n<p>This creates an array where in each <code>element</code> is tied to the <code>boolean</code> state of the relevant <code>checkbutton</code>. The program then uses a <code>for</code> loop to run through the array and prints the results based on an <code>if</code> loop which checks against the <code>boolean</code> states of each <code>checkbutton</code>.</p>\n\n<p>A similar principle could be applied for what you are looking for although obviously instead of printing a useless statement you'd take some sort of action against your data.</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 8116117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VklzZ.png?s=128&g=1", "display_name": "kytexaranort", "link": "https://stackoverflow.com/users/8116117/kytexaranort"}, "edited": false, "score": 0, "creation_date": 1502900358, "post_id": 45619312, "comment_id": 78395248, "body": "Your method works perfectly, also I have bookmarked those pages and will look through them closely, thank you!"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1502383522, "creation_date": 1502383522, "answer_id": 45619312, "question_id": 45602132, "link": "https://stackoverflow.com/questions/45602132/inserting-a-checkbox-into-a-text-box-python-3-6/45619312#45619312", "title": "inserting a checkbox into a text box, python 3.6", "body": "<p>To insert a checkbutton (or any widget) into a text widget, use the documented method <code>window_create</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>TEXT_BOX.window_create(\"1.0\", window=TEST)\nTEXT_BOX.insert(\"end\", \"&lt;-- a checkbox!\\n\")\n</code></pre>\n\n<p>This is mentioned in the text widget documentation (eg: <code>help(tk.Text)</code>) as well as many popular tutorials:</p>\n\n<ul>\n<li><a href=\"http://effbot.org/tkinterbook/text.htm\" rel=\"nofollow noreferrer\">http://effbot.org/tkinterbook/text.htm</a></li>\n<li><a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/text-methods.html\" rel=\"nofollow noreferrer\">http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/text-methods.html</a></li>\n<li><a href=\"http://www.tkdocs.com/tutorial/text.html\" rel=\"nofollow noreferrer\">http://www.tkdocs.com/tutorial/text.html</a></li>\n</ul>\n"}], "owner": {"reputation": 47, "user_id": 8116117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VklzZ.png?s=128&g=1", "display_name": "kytexaranort", "link": "https://stackoverflow.com/users/8116117/kytexaranort"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1148, "favorite_count": 0, "accepted_answer_id": 45619312, "answer_count": 2, "score": 0, "last_activity_date": 1502900733, "creation_date": 1502321300, "last_edit_date": 1502900733, "question_id": 45602132, "link": "https://stackoverflow.com/questions/45602132/inserting-a-checkbox-into-a-text-box-python-3-6", "title": "inserting a checkbox into a text box, python 3.6", "body": "<p>As the title says I want to have a checkbox inserted into a text box. I have tried and searched ALOT of different ways I could think of and nothing is working. Any help is greatly appreciated!\nI'm not going to list every way I tried otherwise this page would be incredibly long.</p>\n\n<p>The following code is just an example without the checkbox.</p>\n\n<pre><code>import tkinter as tk\nself = tk.Tk()\nTEXT_BOX = tk.Text(self, width = 20, height = 10)\nTEXT_BOX.pack()\napp = self\napp.mainloop()\n</code></pre>\n\n<p>Also this is the checkbox I wanted to use, i just cant figure out how to insert it. </p>\n\n<pre><code>var1 = tk.IntVar()\nTEST = tk.Checkbutton(self, variable = var1)\n</code></pre>\n\n<p>If you know of a better method please let me know.</p>\n\n<p>Solved thanks to Bryan. The working code is;</p>\n\n<pre><code>import tkinter as tk\nself = tk.Tk()\nTEXT_BOX = tk.Text(self, width = 20, height = 10)\nTEXT_BOX.pack()\nvar1 = tk.IntVar()\nTEST = tk.Checkbutton(self, variable = var1)\nTEXT_BOX.window_create(\"1.0\", window = TEST)\nTEXT_BOX.insert(\"end\", \"\\n\")\napp = self\napp.mainloop()\n</code></pre>\n"}, {"tags": ["python", "pygame", "ctypes", "python-3.6"], "answers": [{"tags": [], "owner": {"reputation": 48, "user_id": 8432684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C5Ce8.jpg?s=128&g=1", "display_name": "Technojazz", "link": "https://stackoverflow.com/users/8432684/technojazz"}, "is_accepted": false, "score": 0, "last_activity_date": 1502324427, "creation_date": 1502324427, "answer_id": 45602572, "question_id": 45602087, "link": "https://stackoverflow.com/questions/45602087/how-do-i-replace-the-background-image-when-user-clicks-cancel/45602572#45602572", "title": "How do I replace the background image when user clicks cancel?", "body": "<p>I am not sure if this helps the error(I think it might), but it looks like here:</p>\n\n<pre><code>                    elif result == IDCANCEL:\n                    background_image = pg.image.load(\"answerDoc.png\").convert()\n#above is the piece I do not understand\n                        pg.display.flip()\n</code></pre>\n\n<p>The <code>background_image = pg.image.load(\"answerDoc.png\").convert()</code> is not indented and therefore isn't changed properly. I don't know if this will fix the error, but maybe it will help with something.</p>\n"}], "owner": {"reputation": 33, "user_id": 4668082, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-vYFxVw7xK1c/AAAAAAAAAAI/AAAAAAAAU70/kymZiezBb7w/photo.jpg?sz=128", "display_name": "supahoopa95", "link": "https://stackoverflow.com/users/4668082/supahoopa95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502324427, "creation_date": 1502320954, "last_edit_date": 1502322154, "question_id": 45602087, "link": "https://stackoverflow.com/questions/45602087/how-do-i-replace-the-background-image-when-user-clicks-cancel", "title": "How do I replace the background image when user clicks cancel?", "body": "<p>In my game, I have the option of allowing the user to display the answer to the game by clicking the <strong>cancel button</strong> in the MessawBoxW. However, I have no idea how to replace the background image with the one I currently have. </p>\n\n<p>How do I set an event where when the user clicks <strong>cancel</strong>, the game blits a new picture in the background <strong>over everything?</strong></p>\n\n<p>The below code snippet of my game gives me an error saying </p>\n\n<pre><code>Traceback (most recent call last):\n  File, line 155, in &lt;module&gt;\n    main()\n  File, line 141, in main\n    screen.blit(pg.transform.scale(background_image,event.dict['size']),(0,0))\nUnboundLocalError: local variable 'background_image' referenced before assignment\"\n</code></pre>\n\n\n\n<pre><code>while not done:\n    for event in pg.event.get():\n        if event.type == pg.QUIT:\n            done = True\n        elif event.type == pg.MOUSEBUTTONDOWN:\n            for sprite in all_sprites:\n                if sprite.rect.collidepoint(event.pos):\n                    selected = sprite\n                    print(sprite.rect, \"\\n\")\n                    stored_posX = sprite.rect.left \n                    stored_posY = sprite.rect.top\n                    break   \n        elif event.type == pg.MOUSEBUTTONUP:\n            selected = None    \n            collided_sprites = pg.sprite.spritecollide(sprite, all_sprites, False)\n            print(collided_sprites)\n            while(len(collided_sprites) &gt; 1):\n                if sprite in collided_sprites:\n                    result = Mbox('Error!', 'You cannot place an item over another, retry or cancel to display answer.', 5)\n                    if result == IDRETRY:\n                        collided_sprites[:] = [] #clear the list so that we can check it again for other sprites\n                        update(sprite, stored_posX, stored_posY)\n                    elif result == IDCANCEL:\n                    background_image = pg.image.load(\"answerDoc.png\").convert()\n#above is the piece I do not understand\n                        pg.display.flip()\n\n                        #done = True\n                        break   \n        elif event.type == pg.MOUSEMOTION:\n            if selected:\n                selected.rect.center = event.pos\n        elif event.type==VIDEORESIZE:\n            screen = pg.display.set_mode(event.dict['size'],HWSURFACE|DOUBLEBUF|RESIZABLE)\n            screen.blit(pg.transform.scale(background_image,event.dict['size']),(0,0))\n            pg.display.flip()\n\n            display_coordinates = pg.display.Info()\n            print('current_w = ', display_coordinates.current_w, '\\ncurrent_h = ', display_coordinates.current_h, '\\n')\n\n    all_sprites.update()\n    screen.blit(pg.transform.scale(background_image, (1712,945)), (0,0))\n    all_sprites.draw(screen)\n\n    pg.display.flip()\n    clock.tick(30)\n\nif __name__ == '__main__':\nmain()\npg.quit()\nsys.exit()\n</code></pre>\n"}, {"tags": ["python", "import"], "comments": [{"owner": {"reputation": 7791, "user_id": 7200715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JB53.jpg?s=128&g=1", "display_name": "Arount", "link": "https://stackoverflow.com/users/7200715/arount"}, "edited": false, "score": 1, "creation_date": 1502321668, "post_id": 45602079, "comment_id": 78163781, "body": "<code>import foo</code> will execute all code within <code>.&#47;foo.py</code>. Its really not a good practice, but it will."}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1502321794, "post_id": 45602079, "comment_id": 78163815, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1186789/what-is-the-best-way-to-call-a-python-script-from-another-python-script\">What is the best way to call a Python script from another Python script?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 8113271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa593b8c4b42e7d1bdc0a6c74231cda7?s=128&d=identicon&r=PG&f=1", "display_name": "Jos&#233; Garcia", "link": "https://stackoverflow.com/users/8113271/jos%c3%a9-garcia"}, "is_accepted": false, "score": 0, "last_activity_date": 1502321337, "creation_date": 1502321337, "answer_id": 45602136, "question_id": 45602079, "link": "https://stackoverflow.com/questions/45602079/python-importing-a-script-as-a-module-to-run-it-entirely/45602136#45602136", "title": "Python - Importing a script as a module to run it entirely", "body": "<p>you just have to build a main function where you put what the program is suppoused to do with the functions it has. for example let's say this is <strong>your_module.py</strong></p>\n\n<pre><code>def some_function(arg):\n    return print(arg)\n\ndef main():\n    some_function('This is what the program')\n    some_function('Is suppoused to do')\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>if you import this from your <strong>actual_file.py</strong> it doesn't do anything, and you can use <code>some_function()</code> wherever you want, now, if you want to actually run what <strong>actual_file.py</strong> is suppoused to do, just call <code>main()</code></p>\n"}], "owner": {"reputation": 347, "user_id": 4633301, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dbd090173e1c6b4234f7a795203db332?s=128&d=identicon&r=PG&f=1", "display_name": "Veejay", "link": "https://stackoverflow.com/users/4633301/veejay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502321337, "creation_date": 1502320891, "question_id": 45602079, "link": "https://stackoverflow.com/questions/45602079/python-importing-a-script-as-a-module-to-run-it-entirely", "title": "Python - Importing a script as a module to run it entirely", "body": "<p>I am trying to run python script from another python script. I know that I can go ahead and use os.system(), but it seems like importing the script of interest as a module is better practice. I understand that when imported, I can use the the different functions from the second script. </p>\n\n<p>My question is what if I want to run the entire second script and not just a few functions from within it? How can I run the second script in its entirety at the end of my first script using the import way.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "docker"], "comments": [{"owner": {"reputation": 183, "user_id": 7045148, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6665b4e391583207445d4ecdfe960fa6?s=128&d=identicon&r=PG&f=1", "display_name": "CuriousTechie", "link": "https://stackoverflow.com/users/7045148/curioustechie"}, "reply_to_user": {"reputation": 29577, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MBBRu.jpg?s=128&g=1", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "edited": false, "score": 0, "creation_date": 1502321353, "post_id": 45602073, "comment_id": 78163716, "body": "I do not want to map the volume but just want to access the file content @Anthony Kong"}, {"owner": {"reputation": 29577, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MBBRu.jpg?s=128&g=1", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "edited": false, "score": 1, "creation_date": 1502321482, "post_id": 45602073, "comment_id": 78163743, "body": "Then you can use <code>ADD</code> or <code>COPY</code> command <a href=\"https://stackoverflow.com/questions/24958140/what-is-the-difference-between-the-copy-and-add-commands-in-a-dockerfile\" title=\"what is the difference between the copy and add commands in a dockerfile\">stackoverflow.com/questions/24958140/&hellip;</a>"}, {"owner": {"reputation": 183, "user_id": 7045148, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6665b4e391583207445d4ecdfe960fa6?s=128&d=identicon&r=PG&f=1", "display_name": "CuriousTechie", "link": "https://stackoverflow.com/users/7045148/curioustechie"}, "reply_to_user": {"reputation": 29577, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MBBRu.jpg?s=128&g=1", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "edited": false, "score": 0, "creation_date": 1502322309, "post_id": 45602073, "comment_id": 78163942, "body": "Thanks for the idea but as per my requirement, Is there a possible to use python script to do this after the container is launched"}, {"owner": {"reputation": 29577, "user_id": 58129, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MBBRu.jpg?s=128&g=1", "display_name": "Anthony Kong", "link": "https://stackoverflow.com/users/58129/anthony-kong"}, "edited": false, "score": 0, "creation_date": 1502322677, "post_id": 45602073, "comment_id": 78164027, "body": "So what you are asking is that you want to access the file but you don&#39;t want to use any file access functionality offered by Docker?"}, {"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 3, "creation_date": 1502322999, "post_id": 45602073, "comment_id": 78164099, "body": "You cannot access files on the host from inside a Docker container unless you explicitly expose them using a Docker volume mount.  The whole idea behind Docker containers is to isolate the host as much as possible."}, {"owner": {"reputation": 183, "user_id": 7045148, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6665b4e391583207445d4ecdfe960fa6?s=128&d=identicon&r=PG&f=1", "display_name": "CuriousTechie", "link": "https://stackoverflow.com/users/7045148/curioustechie"}, "edited": false, "score": 0, "creation_date": 1502324264, "post_id": 45602073, "comment_id": 78164368, "body": "Got it. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "is_accepted": true, "score": 2, "last_activity_date": 1502325776, "creation_date": 1502325776, "answer_id": 45602738, "question_id": 45602073, "link": "https://stackoverflow.com/questions/45602073/accessing-host-os-file-from-docker-container-using-python/45602738#45602738", "title": "accessing host os file from docker container using python", "body": "<p>mount the volume where the file is located into a directory in your docker container</p>\n\n<p>you do this by using the <code>-v</code> flag in docker</p>\n\n<p>for example:</p>\n\n<p><code>docker run -v &lt;HOST_FOLDER&gt;:/data &lt;IMAGE&gt;</code></p>\n\n<p>that will mount  to the folder <code>data</code> on the root of your container (<code>/data</code>)</p>\n"}], "owner": {"reputation": 183, "user_id": 7045148, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6665b4e391583207445d4ecdfe960fa6?s=128&d=identicon&r=PG&f=1", "display_name": "CuriousTechie", "link": "https://stackoverflow.com/users/7045148/curioustechie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2114, "favorite_count": 0, "accepted_answer_id": 45602738, "answer_count": 1, "score": 0, "last_activity_date": 1502325776, "creation_date": 1502320852, "last_edit_date": 1502322898, "question_id": 45602073, "link": "https://stackoverflow.com/questions/45602073/accessing-host-os-file-from-docker-container-using-python", "title": "accessing host os file from docker container using python", "body": "<p>I want to capture the content of file which is located in the host os (linus) into a variable from the Docker container using a python script</p>\n\n<p>Can I do this </p>\n\n<pre><code>FILE=\"/home/test/file.txt\"\n#open the file for read-only\nfd = os.open(FILE,os.O_RDONLY)\ncontent = os.read(fd,12)\nprint content\n</code></pre>\n\n<p>ended up with this error</p>\n\n<pre><code>OSError: [Errno 2] No such file or directory: '/home/test/file.txt'\n</code></pre>\n\n<p>Please suggest a way if I am doing it wrong</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "crosstab", "contingency"], "comments": [{"owner": {"reputation": 150, "user_id": 5994464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30ba7b79234da835812b2ab9c9e1bde?s=128&d=identicon&r=PG&f=1", "display_name": "Petergavinkin", "link": "https://stackoverflow.com/users/5994464/petergavinkin"}, "edited": false, "score": 0, "creation_date": 1502321941, "post_id": 45602013, "comment_id": 78163845, "body": "Have you tried passing a &#39;columns&#39; argument as the error message suggests? <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.crosstab.html\" rel=\"nofollow noreferrer\">doc link</a>"}, {"owner": {"reputation": 853, "user_id": 3104352, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7c1625f12a258b53574a45a8258b228a?s=128&d=identicon&r=PG&f=1", "display_name": "user3104352", "link": "https://stackoverflow.com/users/3104352/user3104352"}, "reply_to_user": {"reputation": 150, "user_id": 5994464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30ba7b79234da835812b2ab9c9e1bde?s=128&d=identicon&r=PG&f=1", "display_name": "Petergavinkin", "link": "https://stackoverflow.com/users/5994464/petergavinkin"}, "edited": false, "score": 0, "creation_date": 1502322849, "post_id": 45602013, "comment_id": 78164060, "body": "I used <code>pd.crosstab(index=data[0], columns = [data[1], data[2],...,data[12]])</code>. But something is missing. i have 45222 samples. But total count was so less. It was above 50. I don&#39;t know whether crosstab is an efficient way of creating contingency tables."}, {"owner": {"reputation": 150, "user_id": 5994464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30ba7b79234da835812b2ab9c9e1bde?s=128&d=identicon&r=PG&f=1", "display_name": "Petergavinkin", "link": "https://stackoverflow.com/users/5994464/petergavinkin"}, "edited": false, "score": 0, "creation_date": 1502483346, "post_id": 45602013, "comment_id": 78246012, "body": "Do you want a deeply nested contingency table where you&#39;re looking at each possible combination of column categories, or are you interested in a separate table for each column?"}], "owner": {"reputation": 853, "user_id": 3104352, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7c1625f12a258b53574a45a8258b228a?s=128&d=identicon&r=PG&f=1", "display_name": "user3104352", "link": "https://stackoverflow.com/users/3104352/user3104352"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 640, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1502328773, "creation_date": 1502320368, "last_edit_date": 1502328773, "question_id": 45602013, "link": "https://stackoverflow.com/questions/45602013/create-contingency-table-from-all-data-in-python-pandas", "title": "create contingency table from all data in python pandas", "body": "<p>I have data that has 45222 samples and 13 features. I want to create a contingency table from all data.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndata = np.genfromtxt(trainFile, delimiter=',')\ncontingency = pd.crosstab(data)\n</code></pre>\n\n<p>it throws an error of <code>TypeError: crosstab() missing 1 required positional argument: 'columns'</code>. Do you know any solution for it.</p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1502320771, "post_id": 45601998, "comment_id": 78163581, "body": "The indentation of your code needs to be fixed."}], "answers": [{"tags": [], "owner": {"reputation": 12061, "user_id": 6415268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hHWNQ.png?s=128&g=1", "display_name": "j_4321", "link": "https://stackoverflow.com/users/6415268/j-4321"}, "is_accepted": true, "score": 0, "last_activity_date": 1502355733, "creation_date": 1502355733, "answer_id": 45609075, "question_id": 45601998, "link": "https://stackoverflow.com/questions/45601998/final-coordinates-of-ovals-created-within-class-definition-python-tkinter/45609075#45609075", "title": "Final coordinates of ovals created within class definition (Python, Tkinter)", "body": "<ul>\n<li>To get an item coordinates: <code>canvas.coords(item_id)</code></li>\n<li>To get all your dots ids: <code>canvas.find_withtag('token')</code></li>\n<li>To get the tags of a given item: <code>canvas.itemcget(item_id, 'tags')</code></li>\n</ul>\n\n<p>I have used all of the above in the <code>get_coords</code> function to retrieve the dots coordinates in a dictionary:</p>\n\n<pre><code>    def get_coords(self):  # method inside the Example class\n        tokens = self.canvas.find_withtag('token')\n        coords = {}\n        for token in tokens:\n            coords[self.canvas.itemcget(token, 'tags')] = self.canvas.coords(token)\n        print(coords)  # do whatever you want with the coords\n</code></pre>\n\n<p>Then, to retrieve the coords on window closure, you can do</p>\n\n<pre><code>def quit():\n    ex.get_coords()\n    root.destroy()\n\nroot = tk.Tk()\nroot.protocol('WM_DELETE_WINDOW', quit)\nex = Example(root)\nex.pack(fill=\"both\", expand=True)\n\nroot.mainloop()\n</code></pre>\n\n<p>With <code>root.protocol('WM_DELETE_WINDOW', quit)</code>, the function <code>quit</code> is called when the user closes the window.</p>\n"}], "owner": {"reputation": 3, "user_id": 8442321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sqb6WjXK37g/AAAAAAAAAAI/AAAAAAAAFa0/kIAAy1W__5o/photo.jpg?sz=128", "display_name": "NicolasT", "link": "https://stackoverflow.com/users/8442321/nicolast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 1, "accepted_answer_id": 45609075, "answer_count": 1, "score": 0, "last_activity_date": 1502355733, "creation_date": 1502320319, "last_edit_date": 1502323448, "question_id": 45601998, "link": "https://stackoverflow.com/questions/45601998/final-coordinates-of-ovals-created-within-class-definition-python-tkinter", "title": "Final coordinates of ovals created within class definition (Python, Tkinter)", "body": "<p>As of now my program creates a canvas out of an image and creates 5 colored dots. The user is supposed to drag the dots to where they want them and close out of the tk frame.</p>\n\n<p><strong>What I want to do is save the final coordinates of each dot when they close out of the window.</strong> </p>\n\n<p>I've found threads on class variables and on oval coordinates, but I can't tell how to isolate specific ovals for this when everything is being done within the class definition/while in a loop.</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import *\n\nclass Example(tk.Frame):\n    '''Illustrate how to drag items on a Tkinter canvas'''\n    def __init__(self, parent):\n        tk.Frame.__init__(self, parent)\n\n        # create a canvas\n        self.canvas = tk.Canvas(parent,width=400,height=600)\n        self.canvas.pack(fill=\"both\", expand=True)\n\n        self.canvas.create_image(0,0,anchor='nw',image='Something.gif')\n\n\n        # this data is used to keep track of an \n        # item being dragged\n        self._drag_data = {\"x\": 0, \"y\": 0, \"item\": None}\n\n        # create a couple of movable objects\n        self._create_token((50, 100), \"red\",\"Head\")\n        self._create_token((100, 100), \"red\",\"Feet\")\n        self._create_token((150, 100), \"green\",\"Shoulder\")\n        self._create_token((200, 100), \"green\",\"Elbow\")\n        self._create_token((250, 100), \"green\",\"Wrist\")\n\n        # add bindings for clicking, dragging and releasing over\n        # any object with the \"token\" tag\n        self.canvas.tag_bind(\"token\", \"&lt;ButtonPress-1&gt;\", self.on_token_press)\n        self.canvas.tag_bind(\"token\", \"&lt;ButtonRelease-1&gt;\", self.on_token_release)\n        self.canvas.tag_bind(\"token\", \"&lt;B1-Motion&gt;\", self.on_token_motion)\n\n    def _create_token(self, coord, color, part):\n        '''Create a token at the given coordinate in the given color'''\n        (x,y) = coord\n        self.P=self.canvas.create_oval(x-5, y-5, x+5, y+5, \n                                outline=color, fill=color, tags=(\"token\",part))\n\n\n    def on_token_press(self, event):\n        '''Begining drag of an object'''\n        # record the item and its location\n        self._drag_data[\"item\"] = self.canvas.find_closest(event.x, event.y)[0]\n        self._drag_data[\"x\"] = event.x\n        self._drag_data[\"y\"] = event.y\n\n    def on_token_release(self, event):\n        '''End drag of an object'''\n\n        #  Saving the coordinates should probably go here?\n        #  How to identify which token is being un-clicked    \n        #  so the coordinate can be saved in the appropriate  \n        ###  variable?? I don't know\n\n        # reset the drag information\n        self._drag_data[\"item\"] = None\n        self._drag_data[\"x\"] = 0\n        self._drag_data[\"y\"] = 0\n\n\n    def on_token_motion(self, event):\n        '''Handle dragging of an object'''\n        # compute how much the mouse has moved\n        delta_x = event.x - self._drag_data[\"x\"]\n        delta_y = event.y - self._drag_data[\"y\"]\n        # move the object the appropriate amount\n        self.canvas.move(self._drag_data[\"item\"], delta_x, delta_y)\n        # record the new position\n        self._drag_data[\"x\"] = event.x\n        self._drag_data[\"y\"] = event.y\n\nif __name__ == \"__main__\":\n    root = tk.Tk()\n    Example(root).pack(fill=\"both\", expand=True)\n    root.mainloop()\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "is_accepted": false, "score": 0, "last_activity_date": 1502324635, "last_edit_date": 1502324635, "creation_date": 1502323267, "answer_id": 45602412, "question_id": 45601984, "link": "https://stackoverflow.com/questions/45601984/installing-a-command-line-utility-from-installing-a-python-package/45602412#45602412", "title": "Installing a command line utility from installing a python package", "body": "<p>You can set dependencies on another <em>python</em> package (e.g. using <code>install_requires</code> in your <code>setup.py</code>), but if your code relies on a specific non-Python binary you cannot have that installed automatically as part of the <code>pip install</code> process. </p>\n\n<p>You could create a native package for your operating system, which would allow you to set dependencies on other system packages such that when your Python script was installed with <code>apt</code>/<code>yum</code>/<code>dnf</code>/etc, the necessary binary would be installed as well.</p>\n"}, {"comments": [{"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1502334603, "post_id": 45602774, "comment_id": 78166851, "body": "While you can of course run arbitrary commands in your <code>setup.py</code> script, there is no guarantee that you are running as <code>root</code> and unless you decide  you&#39;re going to write your own os-agnostic package installation tool you&#39;re going to be limited to installing packages only on specific distributions or operating systems."}], "tags": [], "owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "is_accepted": false, "score": 0, "last_activity_date": 1502326126, "creation_date": 1502326126, "answer_id": 45602774, "question_id": 45601984, "link": "https://stackoverflow.com/questions/45601984/installing-a-command-line-utility-from-installing-a-python-package/45602774#45602774", "title": "Installing a command line utility from installing a python package", "body": "<p>I'd suggest you have a look at the pycrypto setup.py script which installs on all sorts of OSs and has dependencies.</p>\n\n<p>In short you need to handle OS versions and install the dependencies with whatever mean is available, mainly the <code>os.system.cmd(&lt;command&gt;)</code> to use the os based command line.</p>\n\n<p>if you have source code, then you can also compile it in your install phase.</p>\n\n<p><a href=\"https://github.com/dlitz/pycrypto/blob/master/setup.py\" rel=\"nofollow noreferrer\">https://github.com/dlitz/pycrypto/blob/master/setup.py</a></p>\n"}], "owner": {"reputation": 31, "user_id": 7420364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607e31d84469a09c00be7725072f6f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Nedved", "link": "https://stackoverflow.com/users/7420364/blake-nedved"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502326126, "creation_date": 1502320243, "question_id": 45601984, "link": "https://stackoverflow.com/questions/45601984/installing-a-command-line-utility-from-installing-a-python-package", "title": "Installing a command line utility from installing a python package", "body": "<p>I am trying to make a python package that relies on a command line utility to work. I am wondering if anyone knows how to make pip install that command line utility when pip installs my package. The only documentation I can seem to find is on dependency_links which looks to be depreciated.</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 0, "creation_date": 1502378740, "post_id": 45602324, "comment_id": 78194766, "body": "Thanks for pointing me to this. Just to be 100% clear - numpy uses a &#39;regular&#39; for-loop to do things like add scalars to arrays and sum them up?"}, {"owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 0, "creation_date": 1502378971, "post_id": 45602324, "comment_id": 78194959, "body": "I think I am close to tying it all together. The sum array method is defined <a href=\"https://github.com/numpy/numpy/blob/master/numpy/core/src/multiarray/calculation.c#L516\" rel=\"nofollow noreferrer\">in calculation.h</a> which calls the <a href=\"https://github.com/numpy/numpy/blob/master/numpy/core/src/multiarray/number.c#L199\" rel=\"nofollow noreferrer\">PyArray_GenericReduceFunction</a>. This uses a <code>NumericOps</code> variable. This is where I am lost. It appears that many methods are set with <code>PyArray_SetNumericOps</code> but I don&#39;t see where that function is called and I don&#39;t know how it links to the for-loops."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 1, "creation_date": 1502385430, "post_id": 45602324, "comment_id": 78199071, "body": "@TedPetrou: It&#39;s not quite as regular as the for loops you&#39;re probably used to, and it&#39;s not always one for loop, but most of the iteration is done with for loops. As for <code>PyArray_SetNumericOps</code>, that happens <a href=\"https://github.com/numpy/numpy/blob/e332ba4314bf874b1c7d17d82a2f1bf1766ece69/numpy/core/src/umath/umathmodule.c#L420\" rel=\"nofollow noreferrer\">here</a>, in the initializer for the <code>numpy.core.umath</code> module."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 1, "creation_date": 1502385581, "post_id": 45602324, "comment_id": 78199171, "body": "(While hunting that down, I found there&#39;s actually a <a href=\"https://github.com/numpy/numpy/blob/260f18c910175bcb6162feb363112929653276aa/numpy/core/src/multiarray/multiarraymodule.c#L2988\" rel=\"nofollow noreferrer\">Python interface</a> <code>numpy.core.multiarray.set_numeric_ops</code> that permits overriding the defaults set by the <code>umath</code> initializer, so if you want to get crazy, you can redefine how basic arithmetic operations behave for ndarrays.)"}, {"owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 0, "creation_date": 1502392223, "post_id": 45602324, "comment_id": 78203026, "body": "Thanks for the help. I&#39;m still not sure of the sequence of <code>PyArray_SetNumericOps</code> getting called to the &#39;reduce&#39; operation getting appended to <code>n_ops.add</code> and finally the for-loops completing the action in <code>loops.c</code>."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 3, "last_activity_date": 1502322652, "creation_date": 1502322652, "answer_id": 45602324, "question_id": 45601964, "link": "https://stackoverflow.com/questions/45601964/source-code-location-and-explanation-of-vectorized-array-operations/45602324#45602324", "title": "Source code location and explanation of vectorized array operations", "body": "<p>Most of that stuff is in <a href=\"https://github.com/numpy/numpy/blob/master/numpy/core/src/umath/loops.c.src\" rel=\"nofollow noreferrer\"><code>numpy/core/src/umath/loops.c.src</code></a>. This is a template file NumPy uses to generate lots and lots of very similar C functions. No BLAS or LAPACK calls are involved.</p>\n"}], "owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 45602324, "answer_count": 1, "score": 3, "last_activity_date": 1502322652, "creation_date": 1502320119, "question_id": 45601964, "link": "https://stackoverflow.com/questions/45601964/source-code-location-and-explanation-of-vectorized-array-operations", "title": "Source code location and explanation of vectorized array operations", "body": "<p>I am trying to locate the NumPy <code>.c</code> file that contains basic vectorized array operations. For instance, I'd like to know what piece of code runs when you do something simple like a scalar addition to an array like <code>a + 5</code> or perform an aggregation like <code>a.sum()</code>. I believe the ndarray object <a href=\"https://github.com/numpy/numpy/blob/master/numpy/core/include/numpy/ndarraytypes.h#L714\" rel=\"nofollow noreferrer\">gets declared here</a>.</p>\n\n<p>I'd also like to know if any of the linear algebra libraries like BLAS or LAPACK are involved with these basic arithmetic operations? Is the code as simple as a for-loop iterating over a C array or is there some magical way that computers do basic operations on contiguous arrays without for-loops?</p>\n"}, {"tags": ["python", "ubuntu", "python-import", "apt-get", "openexr"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 730005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14052c8d2178f6cdab1898674a0ee0cd?s=128&d=identicon&r=PG", "display_name": "weblucas", "link": "https://stackoverflow.com/users/730005/weblucas"}, "is_accepted": false, "score": 1, "last_activity_date": 1504252074, "creation_date": 1504252074, "answer_id": 45995515, "question_id": 45601949, "link": "https://stackoverflow.com/questions/45601949/install-openexr-in-python-doesnt-work/45995515#45995515", "title": "Install openexr in python doesn&#39;t work", "body": "<p>openexr is only the c++ implementation. You need the py-openexr to be able to use in python. You can find how to install on this link</p>\n\n<p><a href=\"http://excamera.com/sphinx/articles-openexr.html\" rel=\"nofollow noreferrer\">http://excamera.com/sphinx/articles-openexr.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 5262701, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XVtDAZeSXLw/AAAAAAAAAAI/AAAAAAAAipg/BzZk_Bpob7Q/photo.jpg?sz=128", "display_name": "silicontrip", "link": "https://stackoverflow.com/users/5262701/silicontrip"}, "is_accepted": false, "score": 13, "last_activity_date": 1518394532, "creation_date": 1518394532, "answer_id": 48737877, "question_id": 45601949, "link": "https://stackoverflow.com/questions/45601949/install-openexr-in-python-doesnt-work/48737877#48737877", "title": "Install openexr in python doesn&#39;t work", "body": "<p>You need to install the apt package \"libopenexr-dev\" this will resolve the pip issue.</p>\n\n<p>I didn't have this issue on the mac, a \"brew install openexr\" must've installed the headers also.</p>\n"}, {"comments": [{"owner": {"reputation": 2738, "user_id": 1841143, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Psihe.jpg?s=128&g=1", "display_name": "Haozhe Xie", "link": "https://stackoverflow.com/users/1841143/haozhe-xie"}, "edited": false, "score": 0, "creation_date": 1552805449, "post_id": 49891795, "comment_id": 97145563, "body": "It works for solving the error: <code>&#47;usr&#47;bin&#47;ld: cannot find -lz</code>."}], "tags": [], "owner": {"reputation": 21, "user_id": 9662315, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/0905838dc82b09bb570fb98361365ab0?s=128&d=identicon&r=PG", "display_name": "kde", "link": "https://stackoverflow.com/users/9662315/kde"}, "is_accepted": false, "score": 2, "last_activity_date": 1524029582, "last_edit_date": 1524029582, "creation_date": 1524029237, "answer_id": 49891795, "question_id": 45601949, "link": "https://stackoverflow.com/questions/45601949/install-openexr-in-python-doesnt-work/49891795#49891795", "title": "Install openexr in python doesn&#39;t work", "body": "<p>You first need to install <strong>zlib</strong> by:</p>\n\n<pre><code>$ sudo apt-get install zlib1g-dev\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2776, "user_id": 4917686, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GzLa2.png?s=128&g=1", "display_name": "Jo&#227;o Cartucho", "link": "https://stackoverflow.com/users/4917686/jo%c3%a3o-cartucho"}, "is_accepted": false, "score": 8, "last_activity_date": 1590390446, "last_edit_date": 1590390446, "creation_date": 1553533910, "answer_id": 55343147, "question_id": 45601949, "link": "https://stackoverflow.com/questions/45601949/install-openexr-in-python-doesnt-work/55343147#55343147", "title": "Install openexr in python doesn&#39;t work", "body": "<p>Works as recently as Ubuntu 18.04:</p>\n\n<pre><code>sudo apt-get install libopenexr-dev\nsudo apt-get install openexr\n</code></pre>\n\n<p><code>pip install OpenEXR --user</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12496617, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA7_YFT6A25RLyHzMozIhIefPAjjS6EgKEC1soL=k-s128", "display_name": "AASHA UPPERLA", "link": "https://stackoverflow.com/users/12496617/aasha-upperla"}, "is_accepted": false, "score": 0, "last_activity_date": 1575736691, "last_edit_date": 1575736691, "creation_date": 1575730376, "answer_id": 59227207, "question_id": 45601949, "link": "https://stackoverflow.com/questions/45601949/install-openexr-in-python-doesnt-work/59227207#59227207", "title": "Install openexr in python doesn&#39;t work", "body": "<p>I solved it using this:</p>\n\n<pre><code>sudo apt-get install openexr,\nsudo apt-get install libopenexr-dev,\npip install openexr\n</code></pre>\n"}], "owner": {"reputation": 967, "user_id": 1599348, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/e2vnu.jpg?s=128&g=1", "display_name": "programmingIsFun", "link": "https://stackoverflow.com/users/1599348/programmingisfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9612, "favorite_count": 4, "answer_count": 5, "score": 12, "last_activity_date": 1590390446, "creation_date": 1502320044, "last_edit_date": 1513785171, "question_id": 45601949, "link": "https://stackoverflow.com/questions/45601949/install-openexr-in-python-doesnt-work", "title": "Install openexr in python doesn&#39;t work", "body": "<p>I have successfully installed <em>openexr</em> using <code>pip install openexr</code> on my mac, but the same command fails on Ubuntu:</p>\n\n<pre><code>OpenEXR.cpp:9:22: fatal error: ImathBox.h: No such file or directory\n  compilation terminated.\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n\n  ----------------------------------------\n  Failed building wheel for openex\n</code></pre>\n\n<p>I tried using <code>apt-get install openexr</code> which seems like to install without an error but then when I try to <code>import OpenEXR</code> in python, it doesn't work. </p>\n\n<p>Does anyone know why?</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8389553, "user_type": "registered", "profile_image": "https://graph.facebook.com/1267071580085970/picture?type=large", "display_name": "Quchan  Lee", "link": "https://stackoverflow.com/users/8389553/quchan-lee"}, "edited": false, "score": 0, "creation_date": 1502342988, "post_id": 45602034, "comment_id": 78169224, "body": "thank you so much! that makes sense"}], "tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": true, "score": 0, "last_activity_date": 1502320510, "creation_date": 1502320510, "answer_id": 45602034, "question_id": 45601946, "link": "https://stackoverflow.com/questions/45601946/python-the-form-of-key-in-heaps-nsmallest/45602034#45602034", "title": "python: the form of key in heaps.nsmallest", "body": "<p>Well, actually, <code>s</code> <strong>is</strong> defined, just not in a way you are used to define things. Look closer to this expresion:</p>\n\n<pre><code>key=lambda s: s['price']\n</code></pre>\n\n<p>As you can see, <code>s</code> is defined you after <code>lambda</code>, in the part <code>lambda s:</code>. An expression that won't work would be:</p>\n\n<pre><code>key=lambda s: a['price']\n</code></pre>\n\n<p>as you can see, now <code>a</code> is not defined. You only have to understand that the function <code>heapq.nsmallest</code> takes three parameters, and the last one is a function (in this case a lambda function), and in this case, takes a dictionary and get a specific key.</p>\n"}], "owner": {"reputation": 13, "user_id": 8389553, "user_type": "registered", "profile_image": "https://graph.facebook.com/1267071580085970/picture?type=large", "display_name": "Quchan  Lee", "link": "https://stackoverflow.com/users/8389553/quchan-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "closed_date": 1502320778, "accepted_answer_id": 45602034, "answer_count": 1, "score": 1, "last_activity_date": 1502320694, "creation_date": 1502320020, "last_edit_date": 1502320694, "question_id": 45601946, "link": "https://stackoverflow.com/questions/45601946/python-the-form-of-key-in-heaps-nsmallest", "closed_reason": "Duplicate", "title": "python: the form of key in heaps.nsmallest", "body": "<p>when I study python cookbook, there raised a question really puzzle me:</p>\n\n<pre><code>portfolio = [\n       {'name': 'IBM', 'shares': 100, 'price': 91.1},\n       {'name': 'AAPL', 'shares': 50, 'price': 543.22},\n       {'name': 'FB', 'shares': 200, 'price': 21.09},\n       {'name': 'HPQ', 'shares': 35, 'price': 31.75},\n       {'name': 'YHOO', 'shares': 45, 'price': 16.35},\n       {'name': 'ACME', 'shares': 75, 'price': 115.65}\n]\n\n    cheap = heapq.nsmallest(3, portfolio, key=lambda s: s['price'])\n</code></pre>\n\n<p>here we can see the 's' is not defined, but how it can work? what should I do if I don't want to use lambda?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8430500, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10214033972513055/picture?type=large", "display_name": "Steven Garboden", "link": "https://stackoverflow.com/users/8430500/steven-garboden"}, "edited": false, "score": 0, "creation_date": 1502322876, "post_id": 45602093, "comment_id": 78164066, "body": "Thanks for chiming in! I think that is very close to what I want. it seems to be getting tripped up on split(&#39; &#39;,1). It produced a long list of what I want to split in city_state_zip if I went hospitals_complete.city_state_zip.values.tolist(). I I just want to split each now into new columns now. Does that make sense?"}, {"owner": {"reputation": 57, "user_id": 8430500, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10214033972513055/picture?type=large", "display_name": "Steven Garboden", "link": "https://stackoverflow.com/users/8430500/steven-garboden"}, "edited": false, "score": 0, "creation_date": 1502323241, "post_id": 45602093, "comment_id": 78164155, "body": "I still need to preserve the original columns too."}, {"owner": {"reputation": 57, "user_id": 8430500, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10214033972513055/picture?type=large", "display_name": "Steven Garboden", "link": "https://stackoverflow.com/users/8430500/steven-garboden"}, "edited": false, "score": 0, "creation_date": 1502326751, "post_id": 45602093, "comment_id": 78164993, "body": "I take that back! It worked. I just needed to split on &#39;,&#39; vs &#39; &#39;, 1 because that broke up some of longer named cities so I ended up with 4 columns instead of 3. Thanks!"}, {"owner": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "reply_to_user": {"reputation": 57, "user_id": 8430500, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10214033972513055/picture?type=large", "display_name": "Steven Garboden", "link": "https://stackoverflow.com/users/8430500/steven-garboden"}, "edited": false, "score": 0, "creation_date": 1502327491, "post_id": 45602093, "comment_id": 78165164, "body": "@StevenGarboden sorry for late. See my updated answer! Glad to help!"}], "tags": [], "owner": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1502327272, "last_edit_date": 1502327272, "creation_date": 1502320975, "answer_id": 45602093, "question_id": 45601932, "link": "https://stackoverflow.com/questions/45601932/split-a-dataframe-column-into-equal-parts/45602093#45602093", "title": "split a dataframe column into equal parts", "body": "<p>You can try something like this, </p>\n\n<pre><code>df = pd.DataFrame({'Name' : ('john','doe','smith'), 'address_1' : (105,305,505), 'address_2' : ('path','lane','route'),\\\n           'city_state_zip': ('Sahuarita, AZ, 85629', 'Sahuarita1, AZ1, 75629', 'Sahuarita2, AZ2, 65629')})\n</code></pre>\n\n<p><code>df</code></p>\n\n<pre><code>        Name    address_1   address_2   city_state_zip\n0        john   105             path    Sahuarita, AZ, 85629\n1        doe    305             lane    Sahuarita1, AZ1, 75629\n2        smith  505             route   Sahuarita2, AZ2, 65629\n</code></pre>\n\n<p>and then try,</p>\n\n<pre><code>df[\"col1\"],df[\"col2\"],df[\"col3\"] = zip(*df[\"city_state_zip\"].str.split().tolist())\n</code></pre>\n\n<p>the output <code>df</code> will be</p>\n\n<pre><code>       Name address_1   address_2   city_state_zip      col1     col2     col3\n    0   john    105     path    Sahuarita, AZ,85629     Sahuarita   AZ     85629\n    1   doe 3   05      lane    Sahuarita1, AZ1,5629    Sahuarita1  AZ1    75629\n    2   smith   505     route   Sahuarita2, AZ2,65629   Sahuarita2  AZ2    65629\n</code></pre>\n\n<p>This should give what are you looking for.</p>\n"}], "owner": {"reputation": 57, "user_id": 8430500, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10214033972513055/picture?type=large", "display_name": "Steven Garboden", "link": "https://stackoverflow.com/users/8430500/steven-garboden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 45602093, "answer_count": 1, "score": 1, "last_activity_date": 1502331447, "creation_date": 1502319934, "last_edit_date": 1502331447, "question_id": 45601932, "link": "https://stackoverflow.com/questions/45601932/split-a-dataframe-column-into-equal-parts", "title": "split a dataframe column into equal parts", "body": "<p>I want to break this column into three components: city, state, zip. I was considering something like this: <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.split.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.split.html</a>. However, I think the column needs to be a series first? Any help would be great.</p>\n\n<pre><code>import pandas as pd\nsuite_list\nhospital_list =pd.DataFrame(suite_list, columns=['name', 'address_1', 'address_2', 'city_state_zip', 'phone'])\n</code></pre>\n\n<p><code>city_state_zip</code> example = Sahuarita, AZ, 85629. I want 'Sahuarite', 'AZ,' '85629' to show up as individual columns in the DataFrame. </p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "comments": [{"owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "edited": false, "score": 0, "creation_date": 1502319903, "post_id": 45601897, "comment_id": 78163329, "body": "What do you mean by &quot;the size of the model&quot;?"}, {"owner": {"reputation": 408, "user_id": 4961390, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b038016debd98b371a87814d983caded?s=128&d=identicon&r=PG&f=1", "display_name": "Nijan", "link": "https://stackoverflow.com/users/4961390/nijan"}, "reply_to_user": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "edited": false, "score": 0, "creation_date": 1502320549, "post_id": 45601897, "comment_id": 78163511, "body": "For example, Amazon ML sets the limit of Model Size to be between 1 MB to 1GB."}, {"owner": {"reputation": 150, "user_id": 5994464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30ba7b79234da835812b2ab9c9e1bde?s=128&d=identicon&r=PG&f=1", "display_name": "Petergavinkin", "link": "https://stackoverflow.com/users/5994464/petergavinkin"}, "edited": false, "score": 3, "creation_date": 1502322194, "post_id": 45601897, "comment_id": 78163912, "body": "<code>sys.getsizeof()</code> would return the size of only that object in memory. If there are references to other objects, it won&#39;t take into account the size of those objects, so there&#39;s a real risk of underestimating size. See <a href=\"https://docs.python.org/3/library/sys.html\" rel=\"nofollow noreferrer\">getsizeof documentation</a>"}, {"owner": {"reputation": 408, "user_id": 4961390, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b038016debd98b371a87814d983caded?s=128&d=identicon&r=PG&f=1", "display_name": "Nijan", "link": "https://stackoverflow.com/users/4961390/nijan"}, "edited": false, "score": 0, "creation_date": 1502323409, "post_id": 45601897, "comment_id": 78164211, "body": "I did some testing, and it doesn&#39;t work. I have added more information to the question as well."}, {"owner": {"reputation": 408, "user_id": 4961390, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b038016debd98b371a87814d983caded?s=128&d=identicon&r=PG&f=1", "display_name": "Nijan", "link": "https://stackoverflow.com/users/4961390/nijan"}, "edited": false, "score": 0, "creation_date": 1504476644, "post_id": 45601897, "comment_id": 79016486, "body": "I have added the response."}, {"owner": {"reputation": 362, "user_id": 1563247, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7190fe3f19506912a711e0e7264a8a29?s=128&d=identicon&r=PG", "display_name": "user1563247", "link": "https://stackoverflow.com/users/1563247/user1563247"}, "edited": false, "score": 0, "creation_date": 1610734291, "post_id": 45601897, "comment_id": 116234895, "body": "I know this is old, but I think it is n_estimators * (2^max_depth-1) =  number of bytes."}], "answers": [{"tags": [], "owner": {"reputation": 408, "user_id": 4961390, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b038016debd98b371a87814d983caded?s=128&d=identicon&r=PG&f=1", "display_name": "Nijan", "link": "https://stackoverflow.com/users/4961390/nijan"}, "is_accepted": false, "score": 1, "last_activity_date": 1502324017, "creation_date": 1502324017, "answer_id": 45602504, "question_id": 45601897, "link": "https://stackoverflow.com/questions/45601897/how-to-calculate-the-actual-size-of-a-fit-trained-model-in-sklearn/45602504#45602504", "title": "How to calculate the actual size of a .fit()-trained model in sklearn?", "body": "<p>A way to do it is to dump the model in a file using joblib.dump and then calculate the file size. </p>\n\n<p>Based on the previous example, you would use: </p>\n\n<blockquote>\n  <p>joblib.dump(clf, fname) <br>\n  os.path.getsize(fname) </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 7041650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8cbcc21d10332c24f6f8dc942c986cf?s=128&d=identicon&r=PG&f=1", "display_name": "dronevil2", "link": "https://stackoverflow.com/users/7041650/dronevil2"}, "is_accepted": false, "score": 10, "last_activity_date": 1525333424, "creation_date": 1525333424, "answer_id": 50149528, "question_id": 45601897, "link": "https://stackoverflow.com/questions/45601897/how-to-calculate-the-actual-size-of-a-fit-trained-model-in-sklearn/50149528#50149528", "title": "How to calculate the actual size of a .fit()-trained model in sklearn?", "body": "<p>Along the same lines as Nijan's answer, you can also do it without having to save the model, using pickle:</p>\n\n<pre><code>import pickle\nimport sys\n\np = pickle.dumps(clf)\nprint(sys.getsizeof(p))\n</code></pre>\n\n<p>It will return the size in bytes.</p>\n"}], "owner": {"reputation": 408, "user_id": 4961390, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b038016debd98b371a87814d983caded?s=128&d=identicon&r=PG&f=1", "display_name": "Nijan", "link": "https://stackoverflow.com/users/4961390/nijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3253, "favorite_count": 5, "answer_count": 2, "score": 6, "last_activity_date": 1525333424, "creation_date": 1502319607, "last_edit_date": 1502335339, "question_id": 45601897, "link": "https://stackoverflow.com/questions/45601897/how-to-calculate-the-actual-size-of-a-fit-trained-model-in-sklearn", "title": "How to calculate the actual size of a .fit()-trained model in sklearn?", "body": "<p>Is it possible to calculate the size of a model ( let's say a Random Forest classifier ) in scikit-learn?  </p>\n\n<p>For example:</p>\n\n<blockquote>\n<pre><code>  from sklearn.ensemble import RandomForestClassifier\n  clf = RandomForestClassifier(n_jobs=-1, n_estimators=10000, min_samples_leaf=50)\n  clf.fit(self.X_train, self.y_train)\n</code></pre>\n</blockquote>\n\n<p>Can I determine the size of <strong><code>clf</code></strong>?</p>\n"}, {"tags": ["python", "sorting"], "comments": [{"owner": {"reputation": 2032, "user_id": 5199418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nLvUH.jpg?s=128&g=1", "display_name": "h0r53", "link": "https://stackoverflow.com/users/5199418/h0r53"}, "edited": false, "score": 0, "creation_date": 1502319773, "post_id": 45601872, "comment_id": 78163281, "body": "Sounds like you want the closest value that is less than your index. IE: the closest value to 1 is 0, and the closest value to 0 is 11, based on your range. In that case, the index of the closest value should be something like &quot;value - 1 % 12&quot;."}, {"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 0, "creation_date": 1502319875, "post_id": 45601872, "comment_id": 78163319, "body": "Is 11 as close to 0 as 13 is?"}], "answers": [{"tags": [], "owner": {"reputation": 2032, "user_id": 5199418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nLvUH.jpg?s=128&g=1", "display_name": "h0r53", "link": "https://stackoverflow.com/users/5199418/h0r53"}, "is_accepted": true, "score": 2, "last_activity_date": 1502319962, "creation_date": 1502319962, "answer_id": 45601937, "question_id": 45601872, "link": "https://stackoverflow.com/questions/45601872/python-get-closest-integer-value-sorted-by-musical-notation/45601937#45601937", "title": "Python - get closest integer value sorted by musical notation", "body": "<p>It sounds like you want the closest value that is <strong>less</strong> than your index. IE: the closest value to 1 is 0, and the closest value to 0 is 11, and so on (based on your range [0-11]).</p>\n\n<p>Try this:</p>\n\n<pre><code>closest_value = (value - 1) % 12\n</code></pre>\n\n<p>You should be able to use the result as an index to your notation_values so you can determine the corresponding musical note.</p>\n"}], "owner": {"reputation": 7995, "user_id": 3451339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HPuzK.png?s=128&g=1", "display_name": "8-Bit Borges", "link": "https://stackoverflow.com/users/3451339/8-bit-borges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 45601937, "answer_count": 1, "score": 1, "last_activity_date": 1502319962, "creation_date": 1502319467, "question_id": 45601872, "link": "https://stackoverflow.com/questions/45601872/python-get-closest-integer-value-sorted-by-musical-notation", "title": "Python - get closest integer value sorted by musical notation", "body": "<p>given a list of integers</p>\n\n<pre><code>values = [7, 9, 10, 11]\n</code></pre>\n\n<p>If I want to find the closest value to</p>\n\n<pre><code>value = 0\n</code></pre>\n\n<p>I could simply use</p>\n\n<pre><code>closest_value = min(values, key=lambda x:abs(x-value))\n</code></pre>\n\n<p>and get</p>\n\n<pre><code>[out]: 7\n</code></pre>\n\n<p>however, in my case <code>values</code> correspond to integers of musical notation, like so:</p>\n\n<pre><code>notation_values = {'C':0, 'C#':1, 'D':2, 'Eb':3, 'E':4, 'F':5, 'F#':6, 'G':7, 'Ab':8, 'A':9, 'Bb':10, 'B':11}\n</code></pre>\n\n<p>in which case, <code>0</code> is closer to <code>11</code>, because, <code>12</code> would be <code>'C'</code> again, only an octave higher.</p>\n\n<p>how do I get the closest integer to <code>value</code> according to this logic?</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 744, "user_id": 6212261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2da5314261d2a9fe23df9c64c24850c1?s=128&d=identicon&r=PG&f=1", "display_name": "ChristianFigueroa", "link": "https://stackoverflow.com/users/6212261/christianfigueroa"}, "is_accepted": false, "score": 1, "last_activity_date": 1502326007, "creation_date": 1502326007, "answer_id": 45602758, "question_id": 45601862, "link": "https://stackoverflow.com/questions/45601862/replace-method-in-class-with-reference-to-itself/45602758#45602758", "title": "Replace Method in Class with Reference to Itself", "body": "<p>You can still get a reference to <code>Tester</code> using the <code>__class__</code> attribute of the instance. So inside, <code>some_method_here</code>, you could call <code>super(self.__class__, self).run()</code> and then run your own code. That way, whenever <code>run</code> is called on that specific object, it'll still execute all the code in <code>Tester.run</code> plus anything you add in your function.</p>\n\n<pre><code>def some_method_here(self):\n    # execute all your code ...\n    print '200 instead but do not print 100'\n    super(self.__class__, self).run()\n</code></pre>\n\n<p>In your example though, when it calls <code>super</code>, it will still print <code>100</code> since you are executing <code>Tester.run</code> after your own code.</p>\n\n<p>i.e. You'll see</p>\n\n<pre><code>200 instead but do not print 100\n100\n</code></pre>\n\n<p>in the log.</p>\n\n<p>If you only wanted it to print the 200 line (i.e. not execute the code in <code>Tester.run</code>), don't call <code>super</code> in the first place.</p>\n\n<p>Also, <code>super</code> only works when calling it on classes that inherit from <code>object</code> so be mindful of that. If <code>Tester</code> doesn't inherit from object, you can't call <code>super</code> on it.</p>\n\n<p><br>\nJust a side note, you can't directly assign a method using <code>tester.run = some_method_here</code> because <code>some_method_here</code> won't receive a <code>self</code> argument. You would have to do <code>tester.run = types.MethodType(some_method_here, tester)</code> using the <code>types</code> module.</p>\n"}, {"tags": [], "owner": {"reputation": 839, "user_id": 5040443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IUNhH.jpg?s=128&g=1", "display_name": "MatTheWhale", "link": "https://stackoverflow.com/users/5040443/matthewhale"}, "is_accepted": false, "score": 1, "last_activity_date": 1502326834, "creation_date": 1502326834, "answer_id": 45602849, "question_id": 45601862, "link": "https://stackoverflow.com/questions/45601862/replace-method-in-class-with-reference-to-itself/45602849#45602849", "title": "Replace Method in Class with Reference to Itself", "body": "<p>In your <code>some_method_here</code>, add a parameter <code>tester</code> that you will use in the <code>super()</code> call:</p>\n\n<pre><code>def some_method_here(tester):\n    print '200 instead but do not print 100'\n    super(type(tester), tester).run()\n</code></pre>\n\n<p>Then to get a callable with the right <code>tester</code> parameter plugged in, make a partial:</p>\n\n<pre><code>from functools import partial\n\ntester = factory.GetTester()\n\ntester_method_here = partial(some_method_here, type=tester)\n\ntester.run = tester_method_here\n</code></pre>\n"}], "owner": {"reputation": 882, "user_id": 2062269, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e1dcb013b32188a84b026038fd4c4deb?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/2062269/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1502326834, "creation_date": 1502319417, "question_id": 45601862, "link": "https://stackoverflow.com/questions/45601862/replace-method-in-class-with-reference-to-itself", "title": "Replace Method in Class with Reference to Itself", "body": "<p>Assuming I can't modify or directly import a class (defined in module A) in a different module (B) say:</p>\n\n<p>Part of module A:</p>\n\n<pre><code>class Tester(ParentHere):\n\n   def run():\n      print 100\n      super(Tester, self).run()\n</code></pre>\n\n<p>How do I overwrite the <code>run()</code> method if I have access to the object?</p>\n\n<p>For example I have, </p>\n\n<p>Part of module B:</p>\n\n<pre><code>tester = factory.GetTester()\ntester.run = some_method_here\n</code></pre>\n\n<p>How do I define <code>some_method_here</code> here to still call the parent class with <code>super(Tester, self).run()</code> if I can't directly import the <code>Tester</code> class or modify its original definition in module A?</p>\n\n<p>For example:</p>\n\n<pre><code>def some_method_here():\n    print '200 instead but do not print 100'\n    super(Tester, self).run()\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe"], "comments": [{"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1502319959, "post_id": 45601825, "comment_id": 78163344, "body": "Does each id always have 2 values ?"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1502319998, "post_id": 45601825, "comment_id": 78163354, "body": "Also are you basically taking the mean or is it a placeholder function?"}, {"owner": {"reputation": 37, "user_id": 8441987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f79489003cf330dbdae6d2333afd15b?s=128&d=identicon&r=PG&f=1", "display_name": "Ankie", "link": "https://stackoverflow.com/users/8441987/ankie"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1502320343, "post_id": 45601825, "comment_id": 78163447, "body": "@ayhan Yes, each id has two values each for x and y"}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1502321279, "post_id": 45601825, "comment_id": 78163700, "body": "I was able to get your desired values with <code>df.apply(lambda x: find_mpt(x[0], x[2], x[1], x[3]))</code>, but I don&#39;t know how you would go about inserting them into the dataframe without creating a new dataframe."}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1502321452, "post_id": 45601825, "comment_id": 78163735, "body": "I&#39;d do <code>pd.concat((df, df.groupby(&#39;id&#39;, as_index=False).mean())).sort_values([&#39;id&#39;, &#39;x&#39;])</code> to get this output but I am making a few assumptions: 1) you want the mean, 2) you want to sort the id, 3) you have no negative values (so when sorting by x the average will be in the middle)"}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1502322202, "post_id": 45601825, "comment_id": 78163914, "body": "@ayhan Nice solution, but the index is all messed up. Is there any way to fix that?"}, {"owner": {"reputation": 37, "user_id": 8441987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f79489003cf330dbdae6d2333afd15b?s=128&d=identicon&r=PG&f=1", "display_name": "Ankie", "link": "https://stackoverflow.com/users/8441987/ankie"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1502335208, "post_id": 45601825, "comment_id": 78167002, "body": "@ayhan Thank you"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "reply_to_user": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1502352620, "post_id": 45601825, "comment_id": 78174543, "body": "@CoryMadden Yeah, <code>reset_index(drop=True)</code>  like Uvar did in their answer."}], "answers": [{"tags": [], "owner": {"reputation": 3102, "user_id": 5212031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbccafc3ff04779a5e90bac1c4d29ea9?s=128&d=identicon&r=PG", "display_name": "Uvar", "link": "https://stackoverflow.com/users/5212031/uvar"}, "is_accepted": true, "score": 1, "last_activity_date": 1502322199, "creation_date": 1502322199, "answer_id": 45602257, "question_id": 45601825, "link": "https://stackoverflow.com/questions/45601825/how-to-apply-a-function-to-pandas-columns-using-groupby/45602257#45602257", "title": "How to apply a function to pandas columns using groupby?", "body": "<p>It is possible to specify your aggregation method. Based on the defined function, I'll take it that you want to add the mean of x and y to your df. As there are only two endpoints involved, it simplifies the procedure.</p>\n\n<pre><code>df2 = df.groupby('id').agg('mean').reset_index()\ndf_final = pd.concat((df, df2)).sort_values(['id', 'y']).reset_index(drop=True)\nprint(df_final)\n\n   id      x     y\n0   1  0.80000  1.90\n1   1  0.84165  1.95\n2   1  0.88330  2.00\n3   2  1.00000  2.14\n4   2  1.15000  2.32\n5   2  1.30000  2.50\n</code></pre>\n\n<p>And yes, this could also have been achieved in a one-liner.</p>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 0, "last_activity_date": 1502330304, "creation_date": 1502330304, "answer_id": 45603231, "question_id": 45601825, "link": "https://stackoverflow.com/questions/45601825/how-to-apply-a-function-to-pandas-columns-using-groupby/45603231#45603231", "title": "How to apply a function to pandas columns using groupby?", "body": "<p>This is calculated by self function,</p>\n\n<pre><code>def find_mpt(x):\n    ret = np.mean(x)\n    return ret\n\npd.concat([df2,df2.groupby('id',as_index=False).apply(lambda x:find_mpt(x))],axis=0).sort_values(['id','y'])\n\n\nOut[26]: \n    id        x     y\n0  1.0  0.80000  1.90\n0  1.0  0.84165  1.95\n1  1.0  0.88330  2.00\n2  2.0  1.00000  2.14\n1  2.0  1.15000  2.32\n3  2.0  1.30000  2.50\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 8441987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f79489003cf330dbdae6d2333afd15b?s=128&d=identicon&r=PG&f=1", "display_name": "Ankie", "link": "https://stackoverflow.com/users/8441987/ankie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 45602257, "answer_count": 2, "score": 1, "last_activity_date": 1502398729, "creation_date": 1502319101, "last_edit_date": 1502398729, "question_id": 45601825, "link": "https://stackoverflow.com/questions/45601825/how-to-apply-a-function-to-pandas-columns-using-groupby", "title": "How to apply a function to pandas columns using groupby?", "body": "<p>Working on data frame, which contains segments( with two endpoints ), I have to find mid points for each segment, and finally <strong>insert</strong> a row in the df with the mid point coordinates between the two end point rows.</p>\n\n<p>Below is the df:</p>\n\n<pre><code>   id         x          y\n0   1    0.8000       1.90\n1   1    0.8833       2.00\n2   2    1.0000       2.14\n3   2    1.3000       2.50\n</code></pre>\n\n<p>Points with the same <strong>id</strong> are the end points of the same segment.</p>\n\n<p>Have created the following simple func (basically calculatingd Mean) :</p>\n\n<pre><code>def find_mpt(x1, y1, x2, y2):\n    x, y = ( x1 + x2) / 2 , (y1 + y2) / 2\n    return x, y\n</code></pre>\n\n<p>Want to apply the func to entire df, and <strong>insert the resultant rows specifically between the end point rows</strong>, as following:</p>\n\n<pre><code>   id         x          y\n0   1    0.8000       1.90\n1   1    0.8416       1.95  #new row \n2   1    0.8833       2.00\n3   2    1.0000       2.14\n4   2    1.1500       2.32  #new row       \n5   2    1.3000       2.50\n</code></pre>\n\n<p>Maybe I can use df.groupby(['id']) and then apply the function, but still have no idea how to insert rows at those specific locations.</p>\n"}, {"tags": ["python", "scikit-learn", "data-science"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1502318942, "post_id": 45601788, "comment_id": 78163022, "body": "Sample data?  How do you want to define your similarity measure?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502319089, "post_id": 45601788, "comment_id": 78163057, "body": "How are you defining &quot;similarity&quot;?"}, {"owner": {"reputation": 401, "user_id": 6580766, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/01ba193c4ac6bc61aaaf8ae0ddc2fd03?s=128&d=identicon&r=PG&f=1", "display_name": "christfan868", "link": "https://stackoverflow.com/users/6580766/christfan868"}, "edited": false, "score": 0, "creation_date": 1502319897, "post_id": 45601788, "comment_id": 78163324, "body": "I&#39;m thinking of similarity in terms of a distance measure. Something like Cosine or Euclidean distance."}, {"owner": {"reputation": 3102, "user_id": 5212031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbccafc3ff04779a5e90bac1c4d29ea9?s=128&d=identicon&r=PG", "display_name": "Uvar", "link": "https://stackoverflow.com/users/5212031/uvar"}, "edited": false, "score": 0, "creation_date": 1502322522, "post_id": 45601788, "comment_id": 78163989, "body": "<code>df.T.corrwith(df2.T)</code> somewhat along the lines of what you are looking for?"}, {"owner": {"reputation": 401, "user_id": 6580766, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/01ba193c4ac6bc61aaaf8ae0ddc2fd03?s=128&d=identicon&r=PG&f=1", "display_name": "christfan868", "link": "https://stackoverflow.com/users/6580766/christfan868"}, "edited": false, "score": 0, "creation_date": 1502356908, "post_id": 45601788, "comment_id": 78177650, "body": "No. Not quite. Thanks for suggesting it though."}], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 6580766, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/01ba193c4ac6bc61aaaf8ae0ddc2fd03?s=128&d=identicon&r=PG&f=1", "display_name": "christfan868", "link": "https://stackoverflow.com/users/6580766/christfan868"}, "edited": false, "score": 1, "creation_date": 1502809445, "post_id": 45645841, "comment_id": 78349439, "body": "That you so much AChervony, the <i>np.linalg.norm()</i> function was quite useful. It can also use be used as a function for calculating Euclidean distance apparently.   I learnt even more by looking at this thread: <a href=\"https://stackoverflow.com/questions/32141856/is-norm-equivalent-to-euclidean-distance\" title=\"is norm equivalent to euclidean distance\">stackoverflow.com/questions/32141856/&hellip;</a>"}], "tags": [], "owner": {"reputation": 603, "user_id": 8034742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bef4062a928df210f8834c8a9040278?s=128&d=identicon&r=PG&f=1", "display_name": "AChervony", "link": "https://stackoverflow.com/users/8034742/achervony"}, "is_accepted": true, "score": 1, "last_activity_date": 1502503994, "last_edit_date": 1502503994, "creation_date": 1502503474, "answer_id": 45645841, "question_id": 45601788, "link": "https://stackoverflow.com/questions/45601788/object-similarity-pandas-and-scikit-learn/45645841#45645841", "title": "Object Similarity Pandas and Scikit Learn", "body": "<p>My understanding of your question: you have two data frames, hopfully of the same column count. You want to rate first data frame's, the subject data frame, members by how close, i.e. similar, they are to any of the members of the target data frame.</p>\n\n<p>I am not aware of a built in method. \nIt is probably not the most efficient way but here is how I'd approach:</p>\n\n<pre><code>#! /usr/bin/python3\n\nimport pandas as pd\nimport numpy as np\nimport pprint\npp = pprint.PrettyPrinter(indent=4)\n\n# Simulate data\ndf_subject = pd.DataFrame(np.random.randint(0,100,size=(100, 4)), columns=list('ABCD')) # This is the one we're iterating to check similarity to target.\ndf_target = pd.DataFrame(np.random.randint(0,100,size=(100, 4)), columns=list('ABCD')) # This is the one we're checking distance to\n\n# This will hold the min dstances.\ndistances=[]\n# Loop to iterate over subject DF\nfor ix1,subject in df_subject.iterrows():\n    distances_cur=[]\n    # Loop to iterate over target DF\n    for ix2,target in df_target.iterrows():\n        distances_cur.append(np.linalg.norm(target-subject))\n    # Get the minimum distance for the subject set member.\n    distances.append(min(distances_cur))\n\n# Distances to df\ndistances=pd.DataFrame(distances)\n# Normalize.\ndistances=0.5-(distances-distances.mean(axis=0))/distances.max(axis=0)\n\n# Column index joining, ordering and beautification.\nProximity_Ratings_name='Proximity Ratings'\ndistances=distances.rename(columns={0: Proximity_Ratings_name})\ndf_subject=df_subject.join(distances)\npp.pprint(df_subject.sort_values(Proximity_Ratings_name,ascending=False))\n</code></pre>\n\n<p>It should yeild something like the table below. Higher rating means there's a similar member in the target data frame:</p>\n\n<pre><code>     A   B   C   D  Proximity Ratings\n55  86  21  91  78           0.941537\n38  91  31  35  95           0.901638\n43  49  89  49   6           0.878030\n98  28  98  98  36           0.813685\n77  67  23  78  84           0.809324\n35  52  16  36  58           0.802223\n54   2  25  61  44           0.788591\n95  76   3  60  46           0.766896\n5   55  39  88  37           0.756049\n52  79  71  90  70           0.752520\n66  52  27  82  82           0.751353\n41  45  67  55  33           0.739919\n76  12  93  50  62           0.720323\n94  99  84  39  63           0.716123\n26  62   6  97  60           0.715081\n40  64  50  37  27           0.714042\n68  70  21   8  82           0.698824\n47  90  54  60  65           0.676680\n7   85  95  45  71           0.672036\n2   14  68  50   6           0.661113\n34  62  63  83  29           0.659322\n8   87  90  28  74           0.647873\n75  14  61  27  68           0.633370\n60   9  91  42  40           0.630030\n4   46  46  52  35           0.621792\n81  94  19  82  44           0.614510\n73  67  27  34  92           0.608137\n30  92  64  93  51           0.608137\n11  52  25  93  50           0.605770\n51  17  48  57  52           0.604984\n..  ..  ..  ..  ..                ...\n64  28  56   0   9           0.397054\n18  52  84  36  79           0.396518\n99  41   5  32  34           0.388519\n27  19  54  43  94           0.382714\n92  69  56  73  93           0.382714\n59   1  29  46  16           0.374878\n58   2  36   8  96           0.362525\n69  58  92  16  48           0.361505\n31  27  57  80  35           0.349887\n10  59  23  47  24           0.345891\n96  41  77  76  33           0.345891\n78  42  71  87  65           0.344398\n93  12  31   6  27           0.329152\n23   6   5  10  42           0.320445\n14  44   6  43  29           0.319964\n6   81  51  44  15           0.311840\n3   17  60  13  22           0.293066\n70  28  40  22  82           0.251549\n36  95  72  35   5           0.249354\n49  78  10  30  18           0.242370\n17  79  69  57  96           0.225168\n46  42  95  86  81           0.224742\n84  58  81  59  86           0.221346\n9    9  62   8  30           0.211659\n72  11  51  74   8           0.159265\n90  74  26  80   1           0.138993\n20  90   4   6   5           0.117652\n50   3  12   5  53           0.077088\n42  90  76  42   1           0.075284\n45  94  46  88  14           0.054244\n</code></pre>\n\n<p>Hope I understand correctly. Don't use if performance matters, I'm sure there's an algebraic  way to approach this (Multiply matrices) that would run way faster.</p>\n"}], "owner": {"reputation": 401, "user_id": 6580766, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/01ba193c4ac6bc61aaaf8ae0ddc2fd03?s=128&d=identicon&r=PG&f=1", "display_name": "christfan868", "link": "https://stackoverflow.com/users/6580766/christfan868"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 45645841, "answer_count": 1, "score": 1, "last_activity_date": 1502503994, "creation_date": 1502318896, "question_id": 45601788, "link": "https://stackoverflow.com/questions/45601788/object-similarity-pandas-and-scikit-learn", "title": "Object Similarity Pandas and Scikit Learn", "body": "<p>Is there a way to find to find and rank rows in a Pandas Dataframe by their similarity to a row from another Dataframe?</p>\n"}, {"tags": ["python", "opencv", "computer-vision", "scikit-image"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1502322086, "post_id": 45601783, "comment_id": 78163884, "body": "Is the indentiation of the last line correct? I mean, don&#39;t you want to save each image? | Also note that <code>cv2.imread</code> can fail, and you don&#39;t seem to account for that possibility."}, {"owner": {"reputation": 11476, "user_id": 2790047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c5a7631a67903295da25dabb94e1f51b?s=128&d=identicon&r=PG", "display_name": "jodag", "link": "https://stackoverflow.com/users/2790047/jodag"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1502333644, "post_id": 45601783, "comment_id": 78166645, "body": "What is the purpose of <code>image = cv.fromarray(image) </code>? Also I agree with @DanMa\u0161ek, the indentation means you will only attempt to save the last image. Also, <code>cv.SaveImage</code> is legacy, you should use <code>cv2.imwrite</code>"}, {"owner": {"reputation": 23, "user_id": 8442289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a5274261ba4a807b2d139f5dfb97352a?s=128&d=identicon&r=PG&f=1", "display_name": "Nord112", "link": "https://stackoverflow.com/users/8442289/nord112"}, "edited": false, "score": 0, "creation_date": 1502356003, "post_id": 45601783, "comment_id": 78176940, "body": "Thanks for comments guys. You are correct, fixed the indentation. The image = cv.fromarray(image) was meant to transform the data to a format that was saveable, I see now that it is an array in any case and should not matter. When running the code now (with cv2.imwrite) it does not save the images, it creates one file with no information in it."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1502363257, "post_id": 45601783, "comment_id": 78182101, "body": "@Nord112 Please <a href=\"https://stackoverflow.com/posts/45601783/edit\">edit</a> your question and add any corrections you&#39;ve made. Note that <code>num</code> is set to 0, and then you never increment it, yet you use it in each iteration to generate an output filename."}], "owner": {"reputation": 23, "user_id": 8442289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a5274261ba4a807b2d139f5dfb97352a?s=128&d=identicon&r=PG&f=1", "display_name": "Nord112", "link": "https://stackoverflow.com/users/8442289/nord112"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502318883, "creation_date": 1502318883, "question_id": 45601783, "link": "https://stackoverflow.com/questions/45601783/gabor-filter-application-to-list-of-images", "title": "Gabor filter application to list of images", "body": "<p>trying to apply a gabor filter to a list of images using skimage, and save the images in a directory. The filter gets applied fine, but I cant save the now transformed images. Here is my code</p>\n\n<pre><code>num = 0\nimagePaths = list(paths.list_images(\"../Desktop/Positive\"))\nfor (i, imagePath) in enumerate(imagePaths):\n    image = cv2.imread(imagePath)\n    image = rgb2gray(image)  \n    image = gabor(image, frequency=0.45, theta=.90)\n    image = image=(np.array(image))\n    image = gray2rgb(image)\n    image = cv.fromarray(image)    \ncv.SaveImage('pic'+str(num)+'.jpg', image)\n</code></pre>\n\n<p>The error I get is as follows: </p>\n\n<hr>\n\n<p>error Traceback (most recent call last)\n in ()\n14 cv.SaveImage('pic'+str(num)+'.jpg', image)</p>\n\n<p>error: image.channels() == 1 || image.channels() == 3 || image.channels() == 4</p>\n\n<hr>\n\n<p>Is this happening because its trying to save all channels in all images as one? Thanks for any answers!</p>\n"}, {"tags": ["python", "python-3.x", "statsmodels"], "comments": [{"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1502319158, "post_id": 45601725, "comment_id": 78163077, "body": "two of the three shouldn&#39;t work. So what&#39;s the question?"}, {"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1502319329, "post_id": 45601725, "comment_id": 78163132, "body": "A general explanation about the dual import structure in statsmodels is here <a href=\"http://www.statsmodels.org/dev/importpaths.html\" rel=\"nofollow noreferrer\">statsmodels.org/dev/importpaths.html</a>"}, {"owner": {"reputation": 1, "user_id": 8442295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa47614bad588d0d7fbe6cf7fcbdeaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8442295", "link": "https://stackoverflow.com/users/8442295/user8442295"}, "reply_to_user": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1502324383, "post_id": 45601725, "comment_id": 78164397, "body": "@user333700 all of them work!"}, {"owner": {"reputation": 1, "user_id": 8442295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa47614bad588d0d7fbe6cf7fcbdeaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8442295", "link": "https://stackoverflow.com/users/8442295/user8442295"}, "reply_to_user": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1502324802, "post_id": 45601725, "comment_id": 78164509, "body": "thank you for the second comment"}, {"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1502324806, "post_id": 45601725, "comment_id": 78164511, "body": "import statsmodels.tsa; statsmodels.tsa.SARIMAX raises an AttributeError"}, {"owner": {"reputation": 1, "user_id": 8442295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa47614bad588d0d7fbe6cf7fcbdeaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8442295", "link": "https://stackoverflow.com/users/8442295/user8442295"}, "reply_to_user": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1502324959, "post_id": 45601725, "comment_id": 78164546, "body": "not on my computer!"}, {"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1502325846, "post_id": 45601725, "comment_id": 78164781, "body": "What statsmodels version do you have installed? <code>statsmodels.tsa.__init__.py</code> is NOT supposed to have any imports and should raise the AttributeError. Only the <code>api.py</code> modules include all the imports."}, {"owner": {"reputation": 1, "user_id": 8442295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa47614bad588d0d7fbe6cf7fcbdeaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8442295", "link": "https://stackoverflow.com/users/8442295/user8442295"}, "reply_to_user": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1502839103, "post_id": 45601725, "comment_id": 78364081, "body": "statsmodels==0.8.0"}], "owner": {"reputation": 1, "user_id": 8442295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaa47614bad588d0d7fbe6cf7fcbdeaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8442295", "link": "https://stackoverflow.com/users/8442295/user8442295"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502324614, "creation_date": 1502318571, "last_edit_date": 1502324614, "question_id": 45601725, "link": "https://stackoverflow.com/questions/45601725/fitting-a-sarimax-model-into-the-data-using-statsmodels-in-python3-6", "title": "fitting a sarimax model into the data using statsmodels in python3.6", "body": "<p>Does anyone know what are the differences between using the following commands in <code>statsmodels</code> in python for fitting a SARIMAX model?</p>\n\n<pre><code>statsmodels.tsa.statespace.SARIMAX(data, order, .....)\nstatsmodels.tsa.statespace.sarimax.SARIMAX(data, order, ....)\nstatsmodels.tsa.SARIMAX(data, order, ....)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "airflow"], "comments": [{"owner": {"reputation": 2043, "user_id": 1451653, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35b633a1a3858414c8a89b666a8d6d44?s=128&d=identicon&r=PG", "display_name": "Chengzhi", "link": "https://stackoverflow.com/users/1451653/chengzhi"}, "edited": false, "score": 0, "creation_date": 1502330878, "post_id": 45601714, "comment_id": 78165949, "body": "I found the issue is actually with one of the task passed complex object, you can find more <a href=\"https://groups.google.com/forum/#!topic/airbnb_airflow/WhfoNC5xLOs\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!topic/airbnb_airflow/WhfoNC5xLOs</a>"}, {"owner": {"reputation": 2043, "user_id": 1451653, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35b633a1a3858414c8a89b666a8d6d44?s=128&d=identicon&r=PG", "display_name": "Chengzhi", "link": "https://stackoverflow.com/users/1451653/chengzhi"}, "reply_to_user": {"reputation": 453, "user_id": 2395507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1617b209d16b6f5a13d13e79ea977f1d?s=128&d=identicon&r=PG", "display_name": "Ted", "link": "https://stackoverflow.com/users/2395507/ted"}, "edited": false, "score": 0, "creation_date": 1529795240, "post_id": 45601714, "comment_id": 89004912, "body": "@Ted, I think after version 1.8.1 they suggest be specific about your start_date"}], "owner": {"reputation": 2043, "user_id": 1451653, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35b633a1a3858414c8a89b666a8d6d44?s=128&d=identicon&r=PG", "display_name": "Chengzhi", "link": "https://stackoverflow.com/users/1451653/chengzhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 686, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502318534, "creation_date": 1502318534, "question_id": 45601714, "link": "https://stackoverflow.com/questions/45601714/airflow-python-typeerror-cannot-deepcopy-this-pattern-object", "title": "Airflow Python TypeError: cannot deepcopy this pattern object", "body": "<p>I am using Airflow with Python 2.7, I tried to clear the Airflow tasks and rerun some of them, when I hit clear, I got the following error. For the task in other DAG it works fine. Does anyone know what's going on here and can provide their suggestions, thanks!</p>\n\n<pre><code>Most Recent Traceback (most recent call last):\n  File \"/usr/local/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/usr/local/lib/python2.7/copy.py\", line 174, in deepcopy\n    y = copier(memo)\nTypeError: cannot deepcopy this pattern object\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 6824, "user_id": 3202093, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004496564514/picture?type=large", "display_name": "sp2danny", "link": "https://stackoverflow.com/users/3202093/sp2danny"}, "edited": false, "score": 0, "creation_date": 1507214737, "post_id": 45601712, "comment_id": 80130196, "body": "did you solve it eventually? I&#39;m having a similar problem."}], "owner": {"reputation": 31, "user_id": 4643877, "user_type": "registered", "profile_image": "https://graph.facebook.com/788149847926117/picture?type=large", "display_name": "Cyril Prosvirov", "link": "https://stackoverflow.com/users/4643877/cyril-prosvirov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 672, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502318510, "creation_date": 1502318510, "question_id": 45601712, "link": "https://stackoverflow.com/questions/45601712/sending-post-request-to-the-server-inside-docker", "title": "Sending POST request to the server inside docker", "body": "<p>I'm trying to make a webserver application on django running inside docker container alongside celery. \nHere is my docker-compose.yml:</p>\n\n<pre><code>    version: '2'\nservices:\n  app:\n    restart: always\n    build: .\n    volumes:\n      - .:/myapp\n      - /etc/myapp:/etc/myapp\n      - /opt/myapp/static:/myapp/collected_static\n      - /opt/myapp/media:/myapp/media\n      - /opt/myapp/datasets:/myapp/datasets\n    ports:\n      - \"8080:8080\"\n    links:\n      - db\n      - redis\n    command: ./deploy/docker_entry.sh\n    environment:\n      - PYTHONUNBUFFERED=0\n    tty: true\n  db:\n    restart: always\n    image: postgres:latest\n    environment:\n      POSTGRES_USER: myapp\n      POSTGRES_PASSWORD: myapp\n      POSTGRES_DB: myapp\n    volumes_from:\n      - data\n    ports:\n      - \"5432\"\n  data:\n    image: busybox:latest\n    volumes:\n      - /var/lib/postgres\n    command: \"true\"\n  redis:\n    image: redis:latest\n    hostname: redis\n  worker:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    command: ./deploy/run_celery.sh\n    volumes:\n      - .:/myapp\n      - .:/app\n      - /etc/myapp:/etc/myapp\n      - /opt/myapp/media:/myapp/media\n    links:\n      - db\n      - redis\n</code></pre>\n\n<p>My Dockerfile:\n        FROM python:3.6</p>\n\n<pre><code>    RUN pip3 install -U pip setuptools\n    RUN pip3 install uwsgi\n\n    ADD . /myapp\n\n    ENV DJANGO_SETTINGS_MODULE app.settings\n\n    # Install R for rpy2\n    RUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9\n    RUN apt-get update\n    RUN apt-get install -y r-base\n\n    RUN pip3 install -r /pandora/requirements.txt\n\n    EXPOSE 8080\n    EXPOSE 8000\n    EXPOSE 80\n\n    WORKDIR /myapp\n</code></pre>\n\n<p>The problem is, that Im not able to send POST request from my frontend on ReactJS. Consider the following function:</p>\n\n<pre><code>            $.ajax({\n        method: 'POST',\n        url: '/myapp/upload_user_sample/',\n        data: data,\n        processData: false,\n        contentType: 'multipart/form-data',                    \n        success: function (response) {\n            console.log(response);\n        }\n    })\n</code></pre>\n\n<p>When you send request, server is not able to see it in views.py. \nIf you change 'POST' to 'GET' you are able to get this request in views.py, but you're not able to get the data. How could I fix it?\nviews.py:</p>\n\n<pre><code>   @login_required\n   def upload_user_sample(request):\n        log.debug(\"{}\".format(request.method))\n        if request.method == 'POST':\n            user = User.objects.get(id=request.user.id)\n            sample = UserSample()\n            sample.user = user\n</code></pre>\n"}, {"tags": ["python", "graph", "networkx"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 4717138, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-zaY8BEZ7a1c/AAAAAAAAAAI/AAAAAAAAACQ/sHSqDtyTsW8/photo.jpg?sz=128", "display_name": "witcheR", "link": "https://stackoverflow.com/users/4717138/witcher"}, "edited": false, "score": 0, "creation_date": 1502322519, "post_id": 45601960, "comment_id": 78163988, "body": "How would I have &quot;Survival&quot; and the rest of the targets represented as a node, some form of cast? The same code on string targets didn&#39;t iterate over the string character by character beforehand"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 89, "user_id": 4717138, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-zaY8BEZ7a1c/AAAAAAAAAAI/AAAAAAAAACQ/sHSqDtyTsW8/photo.jpg?sz=128", "display_name": "witcheR", "link": "https://stackoverflow.com/users/4717138/witcher"}, "edited": false, "score": 0, "creation_date": 1502332698, "post_id": 45601960, "comment_id": 78166425, "body": "So if you run the code where <code>outputs</code> is a list of targets, it will iterate through each.  But if you send it where <code>outputs</code> is a single output, which is a string, it will assume you want to iterate through the string.  The way to iterate through a string is character by character.  You can get around it if you ensure that <code>sigFluxCalc</code> is sent something that looks like a list of outputs rather than a single output.  One way to do this is simply to send it <code>[output]</code>.  (see the edit)"}, {"owner": {"reputation": 89, "user_id": 4717138, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-zaY8BEZ7a1c/AAAAAAAAAAI/AAAAAAAAACQ/sHSqDtyTsW8/photo.jpg?sz=128", "display_name": "witcheR", "link": "https://stackoverflow.com/users/4717138/witcher"}, "edited": false, "score": 0, "creation_date": 1502372142, "post_id": 45601960, "comment_id": 78189237, "body": "Seems like that worked, thanks. This is the output I get now: <a href=\"https://pastebin.com/XvL2tThY\" rel=\"nofollow noreferrer\">pastebin.com/XvL2tThY</a>"}, {"owner": {"reputation": 89, "user_id": 4717138, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-zaY8BEZ7a1c/AAAAAAAAAAI/AAAAAAAAACQ/sHSqDtyTsW8/photo.jpg?sz=128", "display_name": "witcheR", "link": "https://stackoverflow.com/users/4717138/witcher"}, "edited": false, "score": 0, "creation_date": 1502372241, "post_id": 45601960, "comment_id": 78189342, "body": "My only worry here is the SigFlux value of 0.0 for cIAP, which should be impossible if you look at the formula, where the numerator is the paths + loops, and the node DEFINITELY has some positive value for those. This bad output is making me think the rest could have incorrect values too. Here&#39;s the reference drawing of the network so you can understand why cIAP sigFlux shouldn&#39;t be zero: <a href=\"http://journals.plos.org/ploscompbiol/article/figure/image?size=large&amp;id=10.1371/journal.pcbi.1000702.g001\" rel=\"nofollow noreferrer\">journals.plos.org/ploscompbiol/article/figure/&hellip;</a>"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 89, "user_id": 4717138, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-zaY8BEZ7a1c/AAAAAAAAAAI/AAAAAAAAACQ/sHSqDtyTsW8/photo.jpg?sz=128", "display_name": "witcheR", "link": "https://stackoverflow.com/users/4717138/witcher"}, "edited": false, "score": 0, "creation_date": 1502379886, "post_id": 45601960, "comment_id": 78195614, "body": "I think this might be a font issue.  clAP gets zero for me, but cIAP does not.  That is, lower case <code>L</code> and upper case <code>i</code> look the same in many fonts.  Does this explain your observations?"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 89, "user_id": 4717138, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-zaY8BEZ7a1c/AAAAAAAAAAI/AAAAAAAAACQ/sHSqDtyTsW8/photo.jpg?sz=128", "display_name": "witcheR", "link": "https://stackoverflow.com/users/4717138/witcher"}, "edited": false, "score": 0, "creation_date": 1502380112, "post_id": 45601960, "comment_id": 78195786, "body": "I&#39;m almost certain that&#39;s it.  You&#39;ve put <code>clAP</code> as a molecule (lower case <code>L</code>), but never as an edge, and you didn&#39;t use <code>cIAP</code> (upper case <code>i</code>) as a molecule, but only in the edges.  So networkx created the little L molecule, and then also added the big i node when the edges were created."}, {"owner": {"reputation": 89, "user_id": 4717138, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-zaY8BEZ7a1c/AAAAAAAAAAI/AAAAAAAAACQ/sHSqDtyTsW8/photo.jpg?sz=128", "display_name": "witcheR", "link": "https://stackoverflow.com/users/4717138/witcher"}, "edited": false, "score": 0, "creation_date": 1502385987, "post_id": 45601960, "comment_id": 78199428, "body": "Thought to Ctrl+F for clAP with a lowercase just as I saw your comment, and you were right it was the node named that. Thanks for all your help across everything, you&#39;re a lifesaver."}], "tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": true, "score": 2, "last_activity_date": 1551616634, "last_edit_date": 1551616634, "creation_date": 1502320092, "answer_id": 45601960, "question_id": 45601709, "link": "https://stackoverflow.com/questions/45601709/python-missing-node-error-with-networkx/45601960#45601960", "title": "python - missing node error with networkX", "body": "<p>Your code has this line:</p>\n\n<pre><code>for input, output in itertools.product(inputs, outputs)\n</code></pre>\n\n<p>but when this is called, <code>outputs</code> is the string <code>'Survival'</code>.  So it iterates over all values in '<code>Survival'</code>, namely: <code>'S'</code>, <code>'u'</code>, ...</p>\n\n<p>You can get around this either by editing the function, or by changing the arguments sent to the function.  So replacing <code>sigFluxCalc(G, node, sources, output)</code> by <code>sigFluxCalc(G, node, sources, [output])</code> would work.</p>\n\n<hr>\n\n<p>As a note, I think this line of your code:</p>\n\n<pre><code>if(node != \"Survival\" or node != \"NonACD\" or node != \"Apoptosis\"):\n</code></pre>\n\n<p>would read better as:</p>\n\n<pre><code>if node not in targets:\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 4717138, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-zaY8BEZ7a1c/AAAAAAAAAAI/AAAAAAAAACQ/sHSqDtyTsW8/photo.jpg?sz=128", "display_name": "witcheR", "link": "https://stackoverflow.com/users/4717138/witcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1683, "favorite_count": 0, "accepted_answer_id": 45601960, "answer_count": 1, "score": 1, "last_activity_date": 1551616634, "creation_date": 1502318497, "question_id": 45601709, "link": "https://stackoverflow.com/questions/45601709/python-missing-node-error-with-networkx", "title": "python - missing node error with networkX", "body": "<p>I have a few functions I use to calculate some values off of a networkX graph, here's the code for them:</p>\n\n<pre><code>def signal_path_counter(G, node, inputs, outputs):\n    c = 0\n    paths = []\n    for input, output in itertools.product(inputs, outputs):\n        for path in all_simple_paths(G, input, output):\n            if node in path:\n                c += 1\n    return c\n\ndef feedback_loop_counter(G, node):\n    neighbors = G.neighbors(node)\n    cycles = []\n    for neighbor in neighbors:\n        path = all_simple_paths(G, neighbor, node)\n        if path not in cycles:\n            cycles.append(path)\n    return len(cycles)\n\ndef sigFluxCalc(G, node, inputs, outputs):\n    numerator = signal_path_counter(G, node, inputs, outputs) + \n    feedback_loop_counter(G, node)\n    denominator = 0\n    for n in G.nodes():\n        temp = signal_path_counter(G, n, inputs, outputs) + feedback_loop_counter(G, n)\n        denominator += temp\n    return numerator/denominator\n</code></pre>\n\n<p>This is my input graph:</p>\n\n<pre><code>molecules = [\"TNF\", \"RIP1\", \"FASL\", \"clAP\", \"CASP8\", \"ROS\", \"MPT\", \"MOMP\", \n\"NFkB\", \"ATP\", \"CASP3\", \"Survival\", \"NonACD\", \"Apoptosis\"]\nTNF = [(\"TNF\", \"RIP1\"), (\"TNF\", \"CASP8\")]\nFASL = [(\"FASL\", \"RIP1\"), (\"FASL\", \"CASP8\")]\nRIP1 = [(\"RIP1\", \"NFkB\"), (\"RIP1\", \"ROS\")]\nCASP8 = [(\"CASP8\", \"RIP1\"), (\"CASP8\", \"MOMP\")]\ncIAP = [(\"cIAP\", \"cIAP\"), (\"cIAP\", \"NFkB\")]\nNFkB = [(\"NFkB\", \"cIAP\"),(\"NFkB\", \"Survival\"), (\"NFkB\", \"ROS\"), (\"NFkB\", \"CASP8\"), (\"NFkB\", \"MOMP\"), (\"NFkB\", \"MPT\"), (\"NFkB\", \"CASP3\")]\nROS = [(\"ROS\", \"MPT\")]\nMPT = [(\"MPT\", \"MOMP\"), (\"MPT\", \"ATP\"), (\"MPT\", \"ROS\")]\nMOMP = [(\"MOMP\", \"cIAP\"), (\"MOMP\", \"CASP3\")]\nATP = [(\"ATP\", \"NonACD\"), (\"ATP\", \"CASP3\")]\nCASP3 = [(\"CASP3\", \"Apoptosis\"), (\"CASP3\", \"NFkB\"), (\"CASP3\", \"CASP8\")]\nedges = TNF + FASL + RIP1 + CASP8 + cIAP + NFkB + ROS + MPT + MOMP + ATP + CASP3\nG.add_nodes_from(molecules)\nG.add_edges_from(edges)\nsources = [\"TNF\", \"FASL\"]\ntargets = [\"Survival\", \"NonACD\", \"Apoptosis\"]\n</code></pre>\n\n<p>If you can't tell, this is a network that represents a human cell. I'm trying to use the functions on the graph to calculate the \"SigFlux\" for every node in the network once for every output (so 3 times). This is my code which is supposed to do that:</p>\n\n<pre><code>for output in targets:\n    print(\"SigFlux calculations for \" + output + \" as output:\")\n    for node in G.nodes():\n        if(node != \"Survival\" or node != \"NonACD\" or node != \"Apoptosis\"):\n            print(node + \": \" + str(sigFluxCalc(G, node, sources, output)))\n</code></pre>\n\n<p>However, I get this error when running the script:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\witcher\\Desktop\\Python Scripts\\nx testing.py\", line 200, in &lt;module&gt;\n    print(node + \": \" + str(sigFluxCalc(G, node, sources, output)))\n  File \"C:\\Users\\witcher\\Desktop\\Python Scripts\\nx testing.py\", line 144, in sigFluxCalc\n    numerator = signal_path_counter(G, node, inputs, outputs) + feedback_loop_counter(G, node)\n  File \"C:\\Users\\witcher\\Desktop\\Python Scripts\\nx testing.py\", line 129, in signal_path_counter\n    for path in all_simple_paths(G, input, output):\n  File \"C:\\Users\\witcher\\Desktop\\Python Scripts\\nx testing.py\", line 69, in all_simple_paths\n    raise nx.NetworkXError('target node %s not in graph'%target)\nnetworkx.exception.NetworkXError: target node S not in graph\n</code></pre>\n\n<p>Can't wrap my head around what the issue is. The full script if you want to run it yourself: <a href=\"https://pastebin.com/jBeX7EHs\" rel=\"nofollow noreferrer\">https://pastebin.com/jBeX7EHs</a></p>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 0, "creation_date": 1502318418, "post_id": 45601680, "comment_id": 78162816, "body": "Please post the html as text and not as image, it helps everyone trying to help!"}, {"owner": {"reputation": 87, "user_id": 5923200, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cd1e3bcc73768f97340f9e8fe4f640d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dina Benyamin", "link": "https://stackoverflow.com/users/5923200/dina-benyamin"}, "reply_to_user": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 0, "creation_date": 1502318513, "post_id": 45601680, "comment_id": 78162850, "body": "@Vin&#237;ciusAguiar You&#39;re right, doing it right now!"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5923200, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cd1e3bcc73768f97340f9e8fe4f640d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dina Benyamin", "link": "https://stackoverflow.com/users/5923200/dina-benyamin"}, "edited": false, "score": 0, "creation_date": 1502319473, "post_id": 45601721, "comment_id": 78163184, "body": "This is not the only occurrence, since this class is in every class &quot;chat-message&quot;. Do you know of any other solution, then?"}, {"owner": {"reputation": 87, "user_id": 5923200, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cd1e3bcc73768f97340f9e8fe4f640d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dina Benyamin", "link": "https://stackoverflow.com/users/5923200/dina-benyamin"}, "edited": false, "score": 0, "creation_date": 1502320419, "post_id": 45601721, "comment_id": 78163466, "body": "I added the related HTML code. Every div with class &quot;chat-message&quot; has also the attribute class=&quot;chat-message-content selectable&quot;, so it&#39;s not the only occurrence. I&#39;ve tried what you suggested but this didn&#39;t work. Any idea what do I do?"}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 87, "user_id": 5923200, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cd1e3bcc73768f97340f9e8fe4f640d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dina Benyamin", "link": "https://stackoverflow.com/users/5923200/dina-benyamin"}, "edited": false, "score": 0, "creation_date": 1502320646, "post_id": 45601721, "comment_id": 78163545, "body": "&quot;but this didn&#39;t work&quot; - What happened, exactly? I runned the line of code with the above html and it returned me the expected output: <code>&#39;\\nsome text\\n&#39;</code>.  &quot;Every div with class &quot;chat-message&quot; has also the attribute class=&quot;chat-message-content selectable&quot;&quot; - That was not possible to see with the given example, if you have no specific characteristic to differentiate your desired tag from the other <b>at all</b>, then of course it&#39;s gonna be a hard time to do that."}], "tags": [], "owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "is_accepted": false, "score": 1, "last_activity_date": 1502318895, "last_edit_date": 1502318895, "creation_date": 1502318559, "answer_id": 45601721, "question_id": 45601680, "link": "https://stackoverflow.com/questions/45601680/using-beautifulsoup-to-extract-specific-nested-div/45601721#45601721", "title": "Using BeautifulSoup to extract specific nested div", "body": "<p>Using <code>lxml</code> parser (i.e. <code>soup = BeautifulSoup(data, 'lxml')</code>) you can use <code>.find</code> with multiple classes just as simple as single classes to find nested divs:</p>\n\n<pre><code>soup.find('div',{'class':'chat-message-content selectable'}).text\n</code></pre>\n\n<p>The line above should work for you as long as the occurence of that class is the only one in the html.</p>\n"}], "owner": {"reputation": 87, "user_id": 5923200, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cd1e3bcc73768f97340f9e8fe4f640d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dina Benyamin", "link": "https://stackoverflow.com/users/5923200/dina-benyamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1344, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1502320299, "creation_date": 1502318338, "last_edit_date": 1502320299, "question_id": 45601680, "link": "https://stackoverflow.com/questions/45601680/using-beautifulsoup-to-extract-specific-nested-div", "title": "Using BeautifulSoup to extract specific nested div", "body": "<p>I have this HTML code which I'm creating the script for:\n<a href=\"https://imgur.com/a/dPNYI\" rel=\"nofollow noreferrer\">http://imgur.com/a/dPNYI</a><br>\nI would like to extract the highlighted text (\"some text\") and print it.<br><br>\nI tried going through every nested div in the way to the div I needed, like this:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nurl = \"the url this is from\"\nr = requests.get(url)\n\nfor div in soup.find_all(\"div\", {\"id\": \"main\"}):\n    for div2 in div.find_all(\"div\", {\"id\": \"app\"}):\n        for div3 in div2.find_all(\"div\", {\"id\": \"right-sidebar\"}):\n            for div4 in div3.find_all(\"div\", {\"id\": \"chat\"}):\n                for div5 in div4.find_all(\"div\", {\"id\": \"chat-messages\"}):\n                    for div6 in div5.find_all(\"div\", {\"class\": \"chat-message\"}):\n                        for div7 in div6.find_all(\"div\", {\"class\": \"chat-message-content selectable\"}):\n                            print(div7.text.strip())\n</code></pre>\n\n<p>I implemented what I've seen in guides and similar questions online, but I bet this is not even close and there must be a much easier way.<br>This doesn't work. It doesn't print anything, and I'm a bit lost. How can I print the highlighted line (which is essentially the very first div child of the div with the id \"chat-messages\")?</p>\n\n<p>HTML CODE:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;\n    &lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div id=\"main\"&gt;\n        &lt;div data-reactroot=\"\" id=\"app\"&gt;\n            &lt;div class=\"top-bar-authenticated\" id=\"top-bar\"&gt;\n            &lt;/div&gt;\n\n\n            &lt;div class=\"closed\" id=\"navigation-bar\"&gt;\n            &lt;/div&gt;\n\n\n            &lt;div id=\"right-sidebar\"&gt;\n                &lt;div id=\"chat\"&gt;\n                    &lt;div id=\"chat-head\"&gt;\n                    &lt;/div&gt;\n\n\n                    &lt;div id=\"chat-title\"&gt;\n                    &lt;/div&gt;\n\n\n                    &lt;div id=\"chat-messages\"&gt;\n                        &lt;div class=\"chat-message\"&gt;\n                            &lt;div class=\"chat-message-avatar\" style=\"background-image: url(&amp;quot;https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/65/657dcec97cc00bc378629930ecae1776c0d981e0.jpg&amp;quot;);\"&gt;\n                            &lt;/div&gt;\n                            &lt;a class=\"chat-message-username clickable\"&gt;\n                            &lt;div class=\"iron-color\"&gt;\n                                aloe\n                            &lt;/div&gt;&lt;/a&gt;\n\n                            &lt;div class=\"chat-message-content selectable\"&gt;\n                                &lt;!-- react-text: 2532 --&gt;some text&lt;!-- /react-text --&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n\n\n                        &lt;div class=\"chat-message\"&gt;\n                        &lt;/div&gt;\n\n\n                        &lt;div class=\"chat-message\"&gt;\n                        &lt;/div&gt;\n\n\n                        &lt;div class=\"chat-message\"&gt;\n                        &lt;/div&gt;\n\n\n                        &lt;div class=\"chat-message\"&gt;\n                        &lt;/div&gt;\n\n\n                        &lt;div class=\"chat-message\"&gt;\n                        &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "performance", "python-3.5", "python-3.6", "cpython"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1502318830, "post_id": 45601663, "comment_id": 78162984, "body": "Hm, maybe it depends on the function? for example, <code>str</code> seems to still be faster with <code>map</code>, so <code>timeit.timeit(&quot;list(map(str, range(100000)))&quot;, number=1000)</code> gave me <code>18.98376033702516</code> and <code>timeit.timeit(&quot;[str(i) for i in range(100000)]&quot;, number=1000)</code> gave me <code>24.40201253897976</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502318989, "post_id": 45601663, "comment_id": 78163028, "body": "That pattern holds for <code>int</code> and <code>float</code> ... and that pretty much exhausts my use-cases for <code>list(map(...))</code> over list-comprehensions ;)"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502319300, "post_id": 45601663, "comment_id": 78163122, "body": "@juanpa.arrivillaga I can confirm your observations. However I can also see a decline in performance with <code>map</code> and increase in performance for the comprehension for other methods, e.g. <code>a = [&#39; {}&#39;.format(i) for i in range(100000)]</code> while timing <code>list(map(str.strip, a))</code> vs. <code>[i.strip() for i in a]</code> (although <code>map</code> is still faster there)"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1502321286, "post_id": 45601663, "comment_id": 78163702, "body": "@poke I thought it was the &quot;fairest&quot; comparison possible because the <code>COMPARE_OP</code> bytecode is the fastest way from within Python code to call the <code>__lt__</code> method which is what <code>map</code> (in this case) also calls. Both ways actually avoid (most of) the function call overhead this way."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1502322056, "post_id": 45601663, "comment_id": 78163874, "body": "Possible candidates for the <code>map</code> slowdown include a change to <code>map.__next__</code> that doesn&#39;t pay off when the mapped function is <code>(5).__lt__</code>. (<a href=\"https://github.com/python/cpython/blob/3.5/Python/bltinmodule.c#L1168\" rel=\"nofollow noreferrer\">3.5 version</a>, <a href=\"https://github.com/python/cpython/blob/3.6/Python/bltinmodule.c#L1186\" rel=\"nofollow noreferrer\">3.6 version</a>) The difference is small enough that finding the true cause and <i>verifying</i> that that&#39;s the cause could be difficult."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1502332121, "post_id": 45601663, "comment_id": 78166280, "body": "I have added additional tests to my answer that, I believe, show that evaluation of <code>f = (5).__lt__</code> is slower in Python 3.6 compared to Python 3.5."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1502348058, "post_id": 45601663, "comment_id": 78171658, "body": "@user2357112 You cannot infer that \u201cmap got slower\u201d from this test. You can say that \u201cthis particular test got slower compared to this particular list comprehension\u201d which can be caused by a large number of reasons though, one being that <code>map</code> got slower but equally likely is that list comprehensions in general got faster. Since both do very different things, you cannot attribute the difference to just <code>map</code>. \u2013 In fact my own tests show that in general the execution time got faster (at least for me), and OP\u2019s list comprehension just got a lot faster compared to other comprehensions."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 1, "creation_date": 1502414445, "post_id": 45601663, "comment_id": 78210801, "body": "@poke: I&#39;m not asserting that <code>map</code> itself must have gotten slower. Language is ambiguous; my reference to &quot;the <code>map</code> slowdown&quot; was not intended to claim that <code>map</code> itself is the culprit, just like if I was talking about &quot;my computer slowing down&quot;, I wouldn&#39;t be claiming that my physical hardware must be responsible. (The snippet using <code>map</code> did run slower in absolute terms in MSeifert&#39;s Python 3.6 timings, so an explanation only in terms of list comprehension improvements wouldn&#39;t be satisfying.)"}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1502321560, "post_id": 45602037, "comment_id": 78163762, "body": "The question is about why the performance comparison changed between 3.5 and 3.6. Whether it&#39;s &quot;fair&quot; to do the comparison doesn&#39;t matter."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1502322422, "post_id": 45602037, "comment_id": 78163965, "body": "@user2357112 No. @MSeifert says: <i>&quot;... [I] noticed that the <b>relative performance</b> (compared to a similar list comprehension) <b>drastically changed</b> between Python 3.5 and 3.6&quot;</i> My experiment shows that <i>when using identical functions</i> (=fair comparison) <b>relative performance</b> between <code>map</code> and list comprehension did not change from Python 3.5 and 3.6 (at least not <b>drastically</b>) which is what OP stating has changed."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1502322908, "post_id": 45602037, "comment_id": 78164071, "body": "While I agree that the difference is not drastic (and disagree with your judgment of fairness), this doesn&#39;t answer the question."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1502332099, "post_id": 45602037, "comment_id": 78166270, "body": "@user2357112 I have added additional tests that, I believe, show that evaluation of <code>f = (5).__lt__</code> is slower in Python 3.6 compared to Python 3.5."}], "tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": false, "score": 0, "last_activity_date": 1502334075, "last_edit_date": 1502334075, "creation_date": 1502320567, "answer_id": 45602037, "question_id": 45601663, "link": "https://stackoverflow.com/questions/45601663/python-3-5-vs-3-6-what-made-map-slower-compared-to-comprehensions/45602037#45602037", "title": "Python 3.5 vs. 3.6 what made &quot;map&quot; slower compared to comprehensions", "body": "<p>I think a fair comparison would involve using the same function. In the case of your example, when comparison is fair, <code>map</code> still wins:</p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; print(sys.version)\n3.6.2 |Continuum Analytics, Inc.| (default, Jul 20 2017, 13:14:59) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]\n&gt;&gt;&gt; import random\n&gt;&gt;&gt; lst = [random.randint(0, 10) for _ in range(100000)]\n&gt;&gt;&gt; assert list(map((5).__lt__, lst)) == [5 &lt; i for i in lst]\n&gt;&gt;&gt; f = (5).__lt__\n&gt;&gt;&gt; %timeit list(map(f, lst))\n4.63 ms \u00b1 110 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n&gt;&gt;&gt; %timeit [f(i) for i in lst]\n9.17 ms \u00b1 177 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n</code></pre>\n\n<p>While in Python 3.5 (at least on my system) <code>map</code> is faster than in Python 3.6, so is list comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; print(sys.version)\n3.5.3 |Continuum Analytics, Inc.| (default, Mar  6 2017, 12:15:08) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]\n&gt;&gt;&gt; %timeit list(map(f, lst))\n100 loops, best of 3: 4.36 ms per loop\n&gt;&gt;&gt; %timeit [f(i) for i in lst]\n100 loops, best of 3: 8.12 ms per loop\n</code></pre>\n\n<p>Still, when using the same function, <code>map</code> is ~2x faster than list comprehension in both Python 3.5 and 3.6.</p>\n\n<h2>EDIT (Response to @user2357112 comments):</h2>\n\n<p>It is my opinion that performing \"fair\" comparisons is important in answering OP's question: <em>\"My question is what happened in this case that made the list-comprehension faster and the map solution slower?\"</em> (last paragraph). However, in the first paragraph, @MSeifert says: <em>\"... [I] noticed that the relative performance (<strong>compared to a similar list comprehension</strong>) drastically changed between Python 3.5 and 3.6\"</em> That is, the comparison is between a <code>map</code> and <code>list comprehension</code>. Yet, @MSeifert tests are set-up as follows:</p>\n\n<pre><code>timig_map_35 = Timing(list(map(f, lst)))\ntiming_list_35 = Timing([g(i) for i in lst])\n</code></pre>\n\n<p>This kind of testing makes it difficult to find the cause of timing differences: are they because list comprehension became faster in 3.6 or map became slower in 3.6 or <code>f(i)</code> is slower in 3.6 or <code>g(i)</code> is faster in 3.6...</p>\n\n<p>Therefore, I proposed to introduce <code>f = (5).__lt__</code> and use the same function in both <code>map</code> and list comprehension tests. I have also modified @MSeifert test by increasing the number of elements in the list and redusing number of \"loops\" in the <code>timeit</code>:</p>\n\n<pre><code>import random\nlst = [random.randint(0, 10) for _ in range(1000000)] # 10x more elements\nf = (5).__lt__\n%timeit -n1 -r1000 list(map(f, lst)) # f = (5).__lt__\n%timeit -n1 -r1000 [f(i) for i in lst] # f(i) = (5).__lt__(i)\n%timeit -n1 -r1000 [5 &lt; i for i in lst] # g(i) = 5 &lt; i\n%timeit -n1 -r1000 [1 for _ in lst] # h(i) = 1\n</code></pre>\n\n<p>In Python 3.6 I get:</p>\n\n<pre><code>43.5 ms \u00b1 1.79 ms per loop (mean \u00b1 std. dev. of 1000 runs, 1 loop each)\n82.2 ms \u00b1 2.39 ms per loop (mean \u00b1 std. dev. of 1000 runs, 1 loop each)\n43.6 ms \u00b1 1.64 ms per loop (mean \u00b1 std. dev. of 1000 runs, 1 loop each)\n23.8 ms \u00b1 1.27 ms per loop (mean \u00b1 std. dev. of 1000 runs, 1 loop each)\n</code></pre>\n\n<p>In Python 3.5 I get:</p>\n\n<pre><code>1 loop, best of 1000: 43.7 ms per loop\n1 loop, best of 1000: 78.9 ms per loop\n1 loop, best of 1000: 46 ms per loop\n1 loop, best of 1000: 26.8 ms per loop\n</code></pre>\n\n<p>In my opinion this shows that list comprehension is slightly faster in 3.6 than in 3.5 except when <code>f</code> is used. Therefore, it is difficult to conclude that it is the <code>map</code> that is slower in Python 3.6 or is first <code>timeit</code> above is slower because of the call to <code>f</code> being slower. Therefore I performed two more tests:</p>\n\n<pre><code>%timeit -n1 -r1000 list(map(abs, lst))\n%timeit -n1 -r1000 [abs(i) for i in lst]\n%timeit -n1000000 -r1000 f(1)\n</code></pre>\n\n<p>In Python 3.6 I get:</p>\n\n<pre><code>25.8 ms \u00b1 1.42 ms per loop (mean \u00b1 std. dev. of 1000 runs, 1 loop each)\n67.1 ms \u00b1 2.07 ms per loop (mean \u00b1 std. dev. of 1000 runs, 1 loop each)\n64.7 ns \u00b1 2.22 ns per loop (mean \u00b1 std. dev. of 1000 runs, 1000000 loops each)\n</code></pre>\n\n<p>In Python 3.5 I get:</p>\n\n<pre><code>1 loop, best of 1000: 38.3 ms per loop\n1 loop, best of 1000: 56.4 ms per loop\n1000000 loops, best of 1000: 59.6 ns per loop\n</code></pre>\n\n<p>This shows that <code>map</code> <em>can be</em> <strong>significantly faster</strong> than list comprehension for some functions: specifically, for <code>abs(x)</code> relative performance of <code>map</code> versus \"list comprehension\" in Python 3.6 is <code>67.1/25.8 = 2.60</code> while in Python 3.5 it is <code>56.4/38.3 = 1.47</code>. Therefore it is interesting to know why @MSeifert test shows that <code>map</code> is slower in Python 3.6. My last test above shows timing test for <code>f(1)</code> \"alone\". I am not sure how valid this test is (unfortunately) - I wanted to avoid using <code>map</code> or <code>[for]</code> to eliminate one variable - but it shows that in Python 3.6 <code>f = (5).__lt__</code> became slower than in Python 3.5. Therefore I conclude that it is the particular form of the function <code>f</code> (<code>(5).__lt__</code>) whose evaluation slowed and not the <code>map</code> function. I know this last \"alone\" test is likely a bad test, however, the fact that <code>map</code> is very fast (relatively or absolutely) when used with <code>abs</code> shows that the problem is in <code>f</code> and not in <code>map</code>.</p>\n\n<p>NOTE: Python 3.5 uses IPython 5.3.0 and Python 3.6 uses IPython 6.1.0.</p>\n"}, {"comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1502362853, "post_id": 45610320, "comment_id": 78181846, "body": "You raise good points for the general case (much appreciated!). However I still don&#39;t know what&#39;s the reason that made <code>map</code> ~20% slower and the comprehension ~20% faster <i>in my case</i>. Note that the comparison was intentionally not &quot;fair&quot; (except for the seeding issue - I overlooked that - but it gives the same results if I use <code>pickle</code> to use the same list in both versions). It compared the &quot;fastest&quot; way to solve the problem with <code>map</code> with the fastest way to solve the problem with a list comprehension. :)"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 2, "creation_date": 1502400652, "post_id": 45610320, "comment_id": 78207129, "body": "@MSeifert If you look at my test results, you will see that <code>map</code>&#39;s performance has increased (from Python 3.5 to 3.6) by <code>100*(4.66655-4.5997)&#47;4.5997 = 1.4%</code> and list comprehension&#39;s performance has increased by <code>100*(4.9465-4.57)&#47;4.57=8.2%</code>. So, <code>map</code>&#39;s performance is virtually unchanged (within errors) and list compr. performance had a <i>very modest</i> increase almost bringing it to the same speed as <code>map</code> (within errors). I certainly do not see a 20% decrease in <code>map</code>&#39;s performance when tests are &quot;enhanced&quot; (use <code>timeit</code>, identical data arrays, increase size of data, etc.) as described above."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1532930696, "post_id": 45610320, "comment_id": 90140788, "body": "@user8371915 Thanks!"}], "tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": false, "score": 5, "last_activity_date": 1502358760, "creation_date": 1502358760, "answer_id": 45610320, "question_id": 45601663, "link": "https://stackoverflow.com/questions/45601663/python-3-5-vs-3-6-what-made-map-slower-compared-to-comprehensions/45610320#45610320", "title": "Python 3.5 vs. 3.6 what made &quot;map&quot; slower compared to comprehensions", "body": "<p>I think a fair comparison involves using the same function and same testing conditions in Python 3.5 and 3.6 as well as when comparing <code>map</code> to list comprehension in a chosen Python version.</p>\n\n<p>In my initial answer I have performed multiple tests that showed that <code>map</code> was still faster by a factor of about two in both versions of Python when compared to list comprehension. However some results were not conclusive and so I performed some more tests.</p>\n\n<p>First let me cite some of your points stated in the question:</p>\n\n<blockquote>\n  <p><em>\"... [I] noticed that the relative performance [of <code>map</code>] (compared to a similar list comprehension) <strong>drastically</strong> changed between Python 3.5 and 3.6\"</em></p>\n</blockquote>\n\n<p>You also ask:</p>\n\n<blockquote>\n  <p><em>\"My question is what happened in this case that made the list-comprehension faster and the map solution slower?\"</em></p>\n</blockquote>\n\n<p>It is not very clear if you mean that map is slower than list comprehension in Python 3.6 or if you mean that map is slower in Python 3.6 than in 3.5 and list comprehension's performance has increased (albeit not necessarily to the level of beating <code>map</code>).</p>\n\n<p>Based on more extensive tests that I have performed after my first answer to this question, I think I have an idea of what is going on.</p>\n\n<p>However, first let's create conditions for \"fair\" comparisons. For this we need to:</p>\n\n<ol>\n<li><p>Compare performance of <code>map</code> in different Python versions using the same function;</p></li>\n<li><p>Compare performance of <code>map</code> to list comprehension in the same version using same function;</p></li>\n<li><p>Run the tests on same data;</p></li>\n<li><p>Minimize contribution from timing functions.</p></li>\n</ol>\n\n<p>Here is version information about my system:</p>\n\n<pre><code>Python 3.5.3 |Continuum Analytics, Inc.| (default, Mar  6 2017, 12:15:08) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwin\nIPython 5.3.0 -- An enhanced Interactive Python.\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Python 3.6.2 |Continuum Analytics, Inc.| (default, Jul 20 2017, 13:14:59) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] on darwin\nIPython 6.1.0 -- An enhanced Interactive Python. Type '?' for help.\n</code></pre>\n\n<p>Let's first address the issue of \"same data\". Unfortunately because you effectively are using <code>seed(None)</code>, each data set <code>lst</code> is different on each of the two versions of Python. This probably contributes to the difference in performance seen on two Python versions. One fix would be to set, e.g., <code>random.seed(0)</code> (or something like that). I chose to create the list once and save it using <code>numpy.save()</code> and then load it in each version. This is especially important because I chose to modify your tests slightly (number of \"loops\" and \"repeats\") and I have increased the length of your dataset to 100,000,000:</p>\n\n<pre><code>import numpy as np\nimport random\nlst = [random.randint(0, 10) for _ in range(100000000)]\nnp.save('lst', lst, allow_pickle=False)\n</code></pre>\n\n<p>Second, let's use <code>timeit</code> module instead of IPython's magic command <code>%timeit</code>. The reason for doing this comes from the following test performed in Python 3.5:</p>\n\n<pre><code>In [11]: f = (5).__lt__\nIn [12]: %timeit -n1 -r20 [f(i) for i in lst]\n1 loop, best of 20: 9.01 s per loop\n</code></pre>\n\n<p>Compare this to the result of <code>timeit</code> in same version of Python:</p>\n\n<pre><code>&gt;&gt;&gt; t = timeit.repeat('[f(i) for i in lst]', setup=\"f = (5).__lt__;\n... import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, \n... number=1); print(min(t), max(t), np.mean(t), np.std(t))\n7.442819457995938 7.703615028003696 7.5105415405 0.0550515642854\n</code></pre>\n\n<p>For unknown to me reasons, IPython's magic <code>%timeit</code> is adding some time compared to <code>timeit</code> package. Therefore, I will use <code>timeit</code> exclusively in my testing.</p>\n\n<p>NOTE: In the discussions that follows I will use only minimum timing (<code>min(t)</code>).</p>\n\n<h2>Tests in Python 3.5.3:</h2>\n\n<h3>Group 1: map and list comprehension tests</h3>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; import timeit\n\n&gt;&gt;&gt; t = timeit.repeat('list(map(f, lst))', setup=\"f = (5).__lt__; import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n4.666553302988177 4.811194089008495 4.72791638025 0.041115884397\n\n&gt;&gt;&gt; t = timeit.repeat('[f(i) for i in lst]', setup=\"f = (5).__lt__; import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n7.442819457995938 7.703615028003696 7.5105415405 0.0550515642854\n\n&gt;&gt;&gt; t = timeit.repeat('[5 &lt; i for i in lst]', setup=\"import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n4.94656751700677 5.07807950800634 5.00670203845 0.0340474956945\n\n&gt;&gt;&gt; t = timeit.repeat('list(map(abs, lst))', setup=\"import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n4.167273573024431 4.320013975986512 4.2408865186 0.0378852782878\n\n&gt;&gt;&gt; t = timeit.repeat('[abs(i) for i in lst]', setup=\"import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n5.664627838006709 5.837686392012984 5.71560354655 0.0456700607748\n</code></pre>\n\n<p>Notice how second test (list comprehension using <code>f(i)</code>) is significantly slower than third test (list comprehension using <code>5 &lt; i</code>) indicating that <code>f = (5).__lt__</code> is not identical (or almost identical) to <code>5 &lt; i</code> from the code perspective.</p>\n\n<h3>Group 2: \"individual\" function tests</h3>\n\n<pre><code>&gt;&gt;&gt; t = timeit.repeat('f(1)', setup=\"f = (5).__lt__\", repeat=20, number=1000000); print(min(t), max(t), np.mean(t), np.std(t))\n0.052280781004810706 0.05500587198184803 0.0531139718529 0.000877649561967\n\n&gt;&gt;&gt; t = timeit.repeat('5 &lt; 1', repeat=20, number=1000000); print(min(t), max(t), np.mean(t), np.std(t))\n0.030931947025237605 0.033691533986711875 0.0314959864045 0.000633274658428\n\n&gt;&gt;&gt; t = timeit.repeat('abs(1)', repeat=20, number=1000000); print(min(t), max(t), np.mean(t), np.std(t))\n0.04685414198320359 0.05405496899038553 0.0483296330043 0.00162837880358\n</code></pre>\n\n<p>Notice how again first test (of <code>f(1)</code>) is significantly slower than second test (of <code>5 &lt; 1</code>) further supporting that <code>f = (5).__lt__</code> is not identical (or almost identical) to <code>5 &lt; i</code> from the code perspective.</p>\n\n<h2>Tests in Python 3.6.2:</h2>\n\n<h3>Group 1: map and list comprehension tests</h3>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; import timeit\n\n&gt;&gt;&gt; t = timeit.repeat('list(map(f, lst))', setup=\"f = (5).__lt__; import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n4.599696700985078 4.743880658003036 4.6631793691 0.0425774678203\n\n&gt;&gt;&gt; t = timeit.repeat('[f(i) for i in lst]', setup=\"f = (5).__lt__; import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n7.316072431014618 7.572676292009419 7.3837024617 0.0574811241553\n\n&gt;&gt;&gt; t = timeit.repeat('[5 &lt; i for i in lst]', setup=\"import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n4.570452399988426 4.679144663008628 4.61264215875 0.0265541828693\n\n&gt;&gt;&gt; t = timeit.repeat('list(map(abs, lst))', setup=\"import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n2.742673939006636 2.8282236389932223 2.78504617405 0.0260357089928\n\n&gt;&gt;&gt; t = timeit.repeat('[abs(i) for i in lst]', setup=\"import numpy; lst = numpy.load('lst.npy').tolist()\", repeat=20, number=1); print(min(t), max(t), np.mean(t), np.std(t))\n6.2177103200228885 6.428813881997485 6.28722427145 0.0493010620999\n</code></pre>\n\n<h3>Group 2: \"individual\" function tests</h3>\n\n<pre><code>&gt;&gt;&gt; t = timeit.repeat('f(1)', setup=\"f = (5).__lt__\", repeat=20, number=1000000); print(min(t), max(t), np.mean(t), np.std(t))\n0.051936342992121354 0.05764096099301241 0.0532974587506 0.00117079475737\n\n&gt;&gt;&gt; t = timeit.repeat('5 &lt; 1', repeat=20, number=1000000); print(min(t), max(t), np.mean(t), np.std(t))\n0.02675032999832183 0.032919151999522 0.0285137565021 0.00156522182488\n\n&gt;&gt;&gt; t = timeit.repeat('abs(1)', repeat=20, number=1000000); print(min(t), max(t), np.mean(t), np.std(t))\n0.047831349016632885 0.0531779529992491 0.0482893927969 0.00112825297875\n</code></pre>\n\n<p>Notice how again first test (of <code>f(1)</code>) is significantly slower than second test (of <code>5 &lt; 1</code>) further supporting that <code>f = (5).__lt__</code> is not identical (or almost identical) to <code>5 &lt; i</code> from the code perspective.</p>\n\n<h2>Discussion</h2>\n\n<p>I do not know how reliable are these timing tests and it is also difficult to separate all factors that contribute to these timing results. However we can notice from the \"Group 2\" of tests that the only \"individual\" test that significantly changed its timing is the test of <code>5 &lt; 1</code>: it went down to 0.0268s in Python 3.6 from 0.0309s in Python 3.5. This makes the list comprehension test in Python 3.6 that uses <code>5 &lt; i</code> to run faster than a similar test in Python 3.5. However, this does not mean that list comprehension become faster in Python 3.6. </p>\n\n<p>Let's compare <em>relative</em> performance of <code>map</code> to list comprehension for the same function in the same Python version. Then we get in Python 3.5: <code>r(f) = 7.4428/4.6666 = 1.595</code>, <code>r(abs) = 5.665/4.167 = 1.359</code> and in Python 3.6: <code>r(f) = 7.316/4.5997 = 1.591</code>, <code>r(abs) = 6.218/2.743 = 2.267</code>. Based on these relative performances we can see that in Python 3.6 performance of the <code>map</code> relative to the performance of list comprehension is at least the same as in Python 3.5 for the <code>f = (5).__lt__</code> function and this ratio has even improved for a function such as <code>abs()</code> in Python 3.6.</p>\n\n<p>In any case, I believe that there is no evidence that list comprehension became faster in Python 3.6 neither in the relative nor in the absolute sense. The only performance improvement is for <code>[5 &lt; i for i in lst]</code> test but that is because <code>5 &lt; i</code> itself became faster in Python 3.6 and not due to the list comprehension itself being faster.</p>\n"}], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 6, "answer_count": 2, "score": 10, "last_activity_date": 1532453777, "creation_date": 1502318249, "question_id": 45601663, "link": "https://stackoverflow.com/questions/45601663/python-3-5-vs-3-6-what-made-map-slower-compared-to-comprehensions", "title": "Python 3.5 vs. 3.6 what made &quot;map&quot; slower compared to comprehensions", "body": "<p>I sometimes used <code>map</code> if there was a function/method that was written in C to get a bit extra performance. However I recently revisited some of my benchmarks and noticed that the relative performance (compared to a similar list comprehension) drastically changed between Python 3.5 and 3.6.</p>\n\n<p>That's not the actual code but just a minimal sample that illustrates the difference:</p>\n\n<pre><code>import random\n\nlst = [random.randint(0, 10) for _ in range(100000)]\nassert list(map((5).__lt__, lst)) == [5 &lt; i for i in lst]\n%timeit list(map((5).__lt__, lst))\n%timeit [5 &lt; i for i in lst]\n</code></pre>\n\n<p>I realize that it's not a good idea to use <code>(5).__lt__</code> but I couldn't come up with a useful example right now.</p>\n\n<p>The timings on Python-3.5 were in favor of the <code>map</code> approach:</p>\n\n<pre><code>15.1 ms \u00b1 5.64 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n16.7 ms \u00b1 35.6 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n</code></pre>\n\n<p>While the Python-3.6 timings actually show that the comprehension is faster:</p>\n\n<pre><code>17.9 ms \u00b1 755 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n14.3 ms \u00b1 128 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n</code></pre>\n\n<p>My question is what happened in this case that made the list-comprehension faster and the <code>map</code> solution slower? I realize the difference isn't that much, it just made me curious because that was one of the \"tricks\" I sometimes (actually seldom) used in performance critical codes.</p>\n"}, {"tags": ["python", "keras"], "answers": [{"comments": [{"owner": {"reputation": 5364, "user_id": 1274613, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/12AGK.png?s=128&g=1", "display_name": "Anaphory", "link": "https://stackoverflow.com/users/1274613/anaphory"}, "edited": false, "score": 0, "creation_date": 1544302754, "post_id": 45644333, "comment_id": 94230253, "body": "What is the reason to wrap that into a <code>K.function</code> insteald of taking <code>top_k_decoded[0]</code> inside a Lambda layer?"}], "tags": [], "owner": {"reputation": 1119, "user_id": 7403220, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bjw8YOnUR10/AAAAAAAAAAI/AAAAAAAALRk/GrGq_vVktHA/photo.jpg?sz=128", "display_name": "Alexander Svetkin", "link": "https://stackoverflow.com/users/7403220/alexander-svetkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1502488744, "creation_date": 1502488744, "answer_id": 45644333, "question_id": 45601597, "link": "https://stackoverflow.com/questions/45601597/keras-using-lambda-layers-error-with-k-ctc-decode/45644333#45644333", "title": "Keras using Lambda layers error with K.ctc_decode", "body": "<p>One tricky part is that <code>K.ctc_decode</code> returns tuple of single list of tensors, not a single tensor, so you can't create a layer straightforwardly. Instead try creating a decoder with <code>K.function</code>:</p>\n\n<pre><code>top_k_decoded, _ = K.ctc_decode(y_pred, input_lengths)\ndecoder = K.function([input_data, input_lengths], [top_k_decoded[0]])\n</code></pre>\n\n<p>Later you can call your decoder:</p>\n\n<pre><code>decoded_sequences = decoder([test_input_data, test_input_lengths])\n</code></pre>\n\n<p>You may need some reshaping, as <code>K.ctc_decoder</code> requires lengths to have shape like (samples), while the lengths tensor was of shape (samples, 1).</p>\n"}], "owner": {"reputation": 864, "user_id": 738515, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a13fe2407913bd42dda61999ad52b8e2?s=128&d=identicon&r=PG", "display_name": "robmsmt", "link": "https://stackoverflow.com/users/738515/robmsmt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2155, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1502488744, "creation_date": 1502317875, "last_edit_date": 1502318349, "question_id": 45601597, "link": "https://stackoverflow.com/questions/45601597/keras-using-lambda-layers-error-with-k-ctc-decode", "title": "Keras using Lambda layers error with K.ctc_decode", "body": "<p>It appears that Keras has done alot of the heavy lifting for you when it comes to the CTC function. However I am finding it tricky to build a decode function which I don't want to run as part of my neural network. I have a custom function that is executed on epoch end which I then iterate through all my test data and evaluate the metrics, I am currently doing this by hand but want to make use of the k.ctc_decode function (both greedy and beam) however I am finding it hard to access and incorporate into my custom function.</p>\n\n<p>I have a model:</p>\n\n<pre><code> # Define CTC loss\n    def ctc_lambda_func(args):\n        y_pred, labels, input_length, label_length = args\n        return K.ctc_batch_cost(labels, y_pred, input_length, label_length)\n\ndef ctc_decode(args):\n     y_pred, input_length =args\n     seq_len = tf.squeeze(input_length,axis=1)\n\n     return K.ctc_decode(y_pred=y_pred, input_length=seq_len, greedy=True, beam_width=100, top_paths=1)\n\ninput_data = Input(name='the_input', shape=(None,mfcc_features))  \nx = TimeDistributed(Dense(fc_size, name='fc1', activation='relu'))(input_data) \ny_pred = TimeDistributed(Dense(num_classes, name=\"y_pred\", activation=\"softmax\"))(x)\n\nlabels = Input(name='the_labels', shape=[None,], dtype='int32')\ninput_length = Input(name='input_length', shape=[1], dtype='int32')\nlabel_length = Input(name='label_length', shape=[1], dtype='int32')\n\nloss_out = Lambda(ctc_lambda_func, output_shape=(1,), name='ctc')([y_pred,labels,input_length,label_length])\n\ndec = Lambda(ctc_decode, output_shape=[None,], name='decoder')([y_pred,input_length])\n\nmodel = Model(inputs=[input_data, labels, input_length, label_length], outputs=[loss_out])\n\n\n\niterate = K.function([input_data, K.learning_phase()], [y_pred])\ndecode = K.function([y_pred, input_length], [dec])\n</code></pre>\n\n<p>Current error is:</p>\n\n<blockquote>\n  <p>dec = Lambda(ctc_decode, name='decoder')([y_pred,input_length])   File\n  \"/home/rob/py27/local/lib/python2.7/site-packages/keras/engine/topology.py\",\n  line 604, in <strong>call</strong>\n      output_shape = self.compute_output_shape(input_shape)   File \"/home/rob/py27/local/lib/python2.7/site-packages/keras/layers/core.py\",\n  line 631, in compute_output_shape\n      return K.int_shape(x)   File \"/home/rob/py27/local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\",\n  line 451, in int_shape\n      shape = x.get_shape() AttributeError: 'tuple' object has no attribute 'get_shape'</p>\n</blockquote>\n\n<p>Any ideas how I can do this?</p>\n"}, {"tags": ["python", "azure", "oauth-2.0", "azure-active-directory", "azure-ad-graph-api"], "comments": [{"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 1, "creation_date": 1502319003, "post_id": 45601581, "comment_id": 78163033, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29102820/azure-active-directory-oauth-resource-owner-password-credentials-flow\">Azure Active Directory OAuth Resource Owner Password Credentials Flow</a>"}, {"owner": {"reputation": 181, "user_id": 6776246, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/48418a901c45e806f2834a7ba3109cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6776246/raj"}, "reply_to_user": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 0, "creation_date": 1502319745, "post_id": 45601581, "comment_id": 78163273, "body": "@ShawnTabrizi this is a different case. I&#39;m trying to authenticate to Graph API (v1.0 and beta) and not Azure AD API. Also, I&#39;m looking for something in Python."}, {"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 0, "creation_date": 1502321666, "post_id": 45601581, "comment_id": 78163780, "body": "It doesn&#39;t matter which endpoint you are trying to authenticate to, the flow you are looking for is the Resource Owner Password Credentials, and likely you will need to implement this using pure  REST calls, which is documented."}, {"owner": {"reputation": 181, "user_id": 6776246, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/48418a901c45e806f2834a7ba3109cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6776246/raj"}, "reply_to_user": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 0, "creation_date": 1502323472, "post_id": 45601581, "comment_id": 78164223, "body": "@ShawnTabrizi also, that is in C#, of which I pretty much have no knowledge :("}, {"owner": {"reputation": 584, "user_id": 997491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1ea868c2622e8fc7f977053f4e3c1?s=128&d=identicon&r=PG", "display_name": "Doug Mahugh", "link": "https://stackoverflow.com/users/997491/doug-mahugh"}, "edited": false, "score": 0, "creation_date": 1510778951, "post_id": 45601581, "comment_id": 81584900, "body": "@Raj, here are some options for Python authentication to Microsoft Graph which may be helpful: <a href=\"https://github.com/microsoftgraph/python-sample-auth/blob/master/README.md\" rel=\"nofollow noreferrer\">github.com/microsoftgraph/python-sample-auth/blob/master/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 501, "user_id": 442771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ywUtz.jpg?s=128&g=1", "display_name": "Bernd", "link": "https://stackoverflow.com/users/442771/bernd"}, "is_accepted": false, "score": 0, "last_activity_date": 1518026761, "last_edit_date": 1518026761, "creation_date": 1518016446, "answer_id": 48667179, "question_id": 45601581, "link": "https://stackoverflow.com/questions/45601581/microsoft-graph-authentication/48667179#48667179", "title": "Microsoft Graph Authentication", "body": "<p>You need an Azure AD application to be able to authenticate with Graph API. A native Azure AD app and the flow and considerations described here work for ADAL.net. I use it to provision Microsoft Teams unattended: <a href=\"http://www.cloudidentity.com/blog/2014/07/08/using-adal-net-to-authenticate-users-via-usernamepassword/\" rel=\"nofollow noreferrer\">http://www.cloudidentity.com/blog/2014/07/08/using-adal-net-to-authenticate-users-via-usernamepassword/</a></p>\n\n<p>I guess for Python you should have a look at ADAL for Python: <a href=\"https://github.com/introp-software/azure-activedirectory-library-for-python-old/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/introp-software/azure-activedirectory-library-for-python-old/blob/master/README.md</a></p>\n\n<p>I think that the username/password auth is only possible with a native Azure AD app and not the web/web api types.</p>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 1792554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4KXK.jpg?s=128&g=1", "display_name": "Ben Menesi", "link": "https://stackoverflow.com/users/1792554/ben-menesi"}, "is_accepted": false, "score": 2, "last_activity_date": 1610012056, "last_edit_date": 1610012056, "creation_date": 1523013098, "answer_id": 49691492, "question_id": 45601581, "link": "https://stackoverflow.com/questions/45601581/microsoft-graph-authentication/49691492#49691492", "title": "Microsoft Graph Authentication", "body": "<p>Yes, this is possible - but keep in mind that there are two Azure AD endpoints for application registration!</p>\n<p>Try registering an application on the AAD V2.0 endpoint (apps.dev.microsoft.com), and then use a 'password' grant_type in your request.</p>\n<p>Here are the steps you need:</p>\n<ul>\n<li>Register your app on the AAD v2.0 endpoint, and generate a password (take\nnote of this)</li>\n<li>Assign your required permissions (in this case, delegated)</li>\n<li>As a callback URL I'd suggest using postman's Oauth2 callback URL first so you can debug what you're doing: <a href=\"https://www.getpostman.com/oauth2/callback\" rel=\"nofollow noreferrer\">https://www.getpostman.com/oauth2/callback</a></li>\n<li>Important! If any of those permissions require admin consent, you MUST consent to them first to make the app available. This requires the admin user to sign in once.</li>\n</ul>\n<p>Once consent has been given, here's a what your request needs to get a bearer token as a prototype:</p>\n<pre><code>    POST https://login.microsoftonline.com/common/oauth2/token\n    Request body (application/x-www-form-urlencoded): \n    grant_type=[password]\n    username=[user email address]\n    password=[user password]\n    resource=https://graph.microsoft.com\n    client_id=[your newly registered application ID] \n    client_secret=[application password you noted during registration] \n</code></pre>\n<p>If successful, you'll get the bearer &amp; refresh token as a response.</p>\n<p><a href=\"https://i.stack.imgur.com/9vnT4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9vnT4.jpg\" alt=\"Successful password grant authentication response\" /></a>\nHope this helps,</p>\n<p>Ben</p>\n"}, {"tags": [], "owner": {"reputation": 437, "user_id": 8646727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1f0f714f6043f8c027d0ad50eb883a2?s=128&d=identicon&r=PG&f=1", "display_name": "knobi", "link": "https://stackoverflow.com/users/8646727/knobi"}, "is_accepted": false, "score": 2, "last_activity_date": 1579768956, "creation_date": 1579768956, "answer_id": 59874434, "question_id": 45601581, "link": "https://stackoverflow.com/questions/45601581/microsoft-graph-authentication/59874434#59874434", "title": "Microsoft Graph Authentication", "body": "<p>Assuming you have registered and configured (api permissions) your azure app and you have copied the apps \"client id\" and \"client secret\" you can define a class that holds your session.\nThe following code works for my app:</p>\n\n<pre><code>import json\nimport requests\nfrom requests_oauthlib import OAuth2Session\nfrom oauthlib.oauth2 import BackendApplicationClient\n\n\nclass SharepointSession(object):\n    \"\"\" Base Class without credentials, use real credentials in derived Classes\n    or instances\n    \"\"\"\n    api_uri = \"https://graph.microsoft.com\"\n    api_version = \"v1.0\"\n    scope = [\"https://graph.microsoft.com/.default\"]\n    directory_id = \"\"  # - tenant id\n    token_url = \"https://login.microsoftonline.com/{}/oauth2/v2.0/token\"\n    sites_url = \"{}/{}/sites\".format(api_uri, api_version)\n    site = document_name = app_name = client_id = client_secret = \"\"\n    site_id = None\n    doc_id = None\n\n    def __init__(self):\n        \"\"\"  \"\"\"\n\n    def getTokenizedSession(self):\n        \"\"\"\n        OAuth2 to get access token\n        First set up a backend client, mind to set grant_type\n        build a OAuth2 Session with the client\n        get access token\n\n        Mind: python 3.x oauthlib requires scope params on more calls than py 2.x\n        \"\"\"\n        client = BackendApplicationClient(\n            client_id=self.client_id, scope=self.scope, grant_type=\"client_credentials\")\n\n        session = OAuth2Session(client=client, scope=self.scope)\n        # fill access token\n        token = session.fetch_token(token_url=self.token_url.format(self.directory_id),\n                                    client_id=self.client_id,\n                                    scope=self.scope,\n                                    client_secret=self.client_secret)\n        self.session = session\n        self.token = token\n        return session, token\n\n    def getSiteId(self):\n        # get the site id\n        ae = \"{}/myonline.sharepoint.com:/sites/{}:\".format(\n            self.sites_url, self.site)\n        rt = self.session.get(ae)\n        response = json.loads(rt.text)\n        self.site_id = response.get(\"id\")\n        return self.site_id\n\n    def someOtherMethod(self):\n        \"\"\"         ...             \"\"\"\n</code></pre>\n\n<p>Now you can instantiate the session class with the credentials copied from your azure app registration i.e. \"directory id\" (same as tenant id), \"client id\" and \"client secret\"\nlike this:</p>\n\n<pre><code>mysp_session = SharepointSession()\nmysp_session.directory_id = \"XXXXXXXX-XXXX-YYYY-ZZZZ-XXXXXXXXX\"\nmysp_session.site = \"MySitename\"\nmysp_session.document_name = \"Testlist\"\nmysp_session.client_id = r\"xxxxxxxxxxxxxxxxxxxxxxx\"\nmysp_session.client_secret = r\"xxxxxxxxxxxxxxxxxxxxxxx\"\n\n# connect \nsession, token = mysp_session.getTokenizedSession()\n\n# do your business logic\nmysp_session.getSiteId()\n....\nmysp_session.someOtherMethod()\n</code></pre>\n\n<p>hope that helps</p>\n"}], "owner": {"reputation": 181, "user_id": 6776246, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/48418a901c45e806f2834a7ba3109cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6776246/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1250, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1610012056, "creation_date": 1502317720, "last_edit_date": 1502385991, "question_id": 45601581, "link": "https://stackoverflow.com/questions/45601581/microsoft-graph-authentication", "title": "Microsoft Graph Authentication", "body": "<p>I\u2019m building an application in Python which can retrieve data from Azure AD. This data can require either Application permissions or Delegated permissions. I had a success retrieving data which needs only Application permissions. However, in order to retrieve data which needs delegated permission, I am trying to use OAuth2. Is it possible to get authenticated with Microsoft Graph using OAuth2 but not having the user sign in using the web page, but instead supplying the user credentials through the Python script itself?</p>\n\n<p>Note: I want to use Microsoft Graph API (v1.0 and beta) and not Azure AD Graph API.</p>\n"}, {"tags": ["python", "try-catch"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1502317511, "post_id": 45601516, "comment_id": 78162537, "body": "Try-except statements don&#39;t automatically repeat anything. If you have a <code>while</code> loop wrapped around this or something, your <code>while</code> loop is going to repeat the whole loop body."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8442237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2051eeb37961db5d01898730886abc12?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/8442237/ali"}, "edited": false, "score": 0, "creation_date": 1502470359, "post_id": 45601575, "comment_id": 78239870, "body": "Thank you. I mistakenly thought the try/except worked like a loop on its own. Rookie mistake. This was included in a while loop, but I did not want to type it on my phone. I did not know about the Else option, thank you. I see my original post was not formatted correctly when I entered my code. What is the correct procedure to enter code and maintain indentation?"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 1, "user_id": 8442237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2051eeb37961db5d01898730886abc12?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/8442237/ali"}, "edited": false, "score": 0, "creation_date": 1502470781, "post_id": 45601575, "comment_id": 78240084, "body": "@Ali Highlight the all of the code you wish to indent. Then press the <code>{}</code> button in edit header, or use the shortcut keys <code>ctrl+k</code>."}], "tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 1, "last_activity_date": 1502318033, "last_edit_date": 1502318033, "creation_date": 1502317697, "answer_id": 45601575, "question_id": 45601516, "link": "https://stackoverflow.com/questions/45601516/python-instructions-outside-try-except/45601575#45601575", "title": "Python instructions outside Try: Except:", "body": "<p>You need to use the <code>else</code> clause of the <code>try/except</code> statement if you only want to increment <code>count</code> if an exception was <em>not</em> raised. <a href=\"https://docs.python.org/3/tutorial/errors.html#handling-exceptions\" rel=\"nofollow noreferrer\">From the documentation section <em>8.3 Handling Exceptions</em></a>:</p>\n\n<blockquote>\n  <p>The try ... except statement has an optional else clause, which, when present, must follow all except clauses. It is useful for code that must be executed if the try clause does not raise an exception.</p>\n</blockquote>\n\n<pre><code>try:\n    total += int(number)\nexcept ValueError:\n    print('Bad input')\nelse:\n    count += 1\n</code></pre>\n\n<p>As you can see from above, I changed your bare except statement to catch a specific exception type <code>ValueError</code>, since that's will <code>int</code> will raise if it can't convert it's argument to an <code>int</code>. If you want to catch a different exception, change <code>ValueError</code>, but don't use a bare <code>except</code> clause, as it can mask important exceptions. </p>\n\n<p>Also as said in the comments, a <code>try/except</code> statement <em>does not</em> execute it's body multiple times. You need a loop if you want that behavior.</p>\n"}, {"tags": [], "owner": {"reputation": 4809, "user_id": 7915557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d36b37bf47edc3bf62574d8ab88870f9?s=128&d=identicon&r=PG&f=1", "display_name": "OLIVER.KOO", "link": "https://stackoverflow.com/users/7915557/oliver-koo"}, "is_accepted": false, "score": 0, "last_activity_date": 1502317759, "creation_date": 1502317759, "answer_id": 45601583, "question_id": 45601516, "link": "https://stackoverflow.com/questions/45601516/python-instructions-outside-try-except/45601583#45601583", "title": "Python instructions outside Try: Except:", "body": "<p>when you enter characters and the exception is thrown. the line <code>count = count + 1</code> still gets executed regardless. Because <code>count = count + 1</code> is not under <code>else:</code> That is why the count still gets incremented.\nAlso, realize that try-except statements don't repeat itself. </p>\n"}], "owner": {"reputation": 1, "user_id": 8442237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2051eeb37961db5d01898730886abc12?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/8442237/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502318033, "creation_date": 1502317267, "last_edit_date": 1502317418, "question_id": 45601516, "link": "https://stackoverflow.com/questions/45601516/python-instructions-outside-try-except", "title": "Python instructions outside Try: Except:", "body": "<p>I have a single line inside a Try/Except block, but another line outside this block is being executed when there is an exception. I'm on my phone so I'll just enter a few lines</p>\n\n<pre><code>try:\n    total=total+int(number)\nexcept:\n    print('Bad input')\ncount = count + 1\n</code></pre>\n\n<p>When I enter a number, the count gets incremented as expected. If a character is entered, the exception is caught, but the count still gets incremented. I thought only the lines within the try/except block were repeated if there was an exception.</p>\n"}, {"tags": ["python", "python-2.7", "super", "pylint"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1502317331, "post_id": 45601477, "comment_id": 78162479, "body": "Why does <code>SpecificError</code> have its own <code>__init__</code>? You could just delete that method entirely and use the inherited implementation. (Unlike some other languages, <code>__init__</code> is inherited like any other method in Python.)"}, {"owner": {"reputation": 206, "user_id": 8217247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e94d8941c3246d6b004e33dc67e33c8?s=128&d=identicon&r=PG&f=1", "display_name": "mugwump", "link": "https://stackoverflow.com/users/8217247/mugwump"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1502317671, "post_id": 45601477, "comment_id": 78162597, "body": "So would the best practice then be to omit the <code>__init__</code> entirely leaving only the docstring or replace it with <code>pass</code>?"}, {"owner": {"reputation": 16143, "user_id": 3357935, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jaomO.png?s=128&g=1", "display_name": "Stevoisiak", "link": "https://stackoverflow.com/users/3357935/stevoisiak"}, "edited": false, "score": 0, "creation_date": 1529944338, "post_id": 45601477, "comment_id": 89048461, "body": "Related: <a href=\"https://github.com/PyCQA/pylint/issues/1567\" rel=\"nofollow noreferrer\">Pylint issues useless-super-delegation instead of useless-constructor</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3005, "user_id": 1932405, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6c85e4fbfd9aec77657f32fba00ecb3a?s=128&d=identicon&r=PG&f=1", "display_name": "Har", "link": "https://stackoverflow.com/users/1932405/har"}, "edited": false, "score": 0, "creation_date": 1528812547, "post_id": 50017312, "comment_id": 88643646, "body": "However by doing that I doubt that the class types will be correct under all scenarios. I wonder if isinstance and friends would work"}], "tags": [], "owner": {"reputation": 574, "user_id": 3846716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3caf826a0d5e0997c4324ab3acb9e66?s=128&d=identicon&r=PG&f=1", "display_name": "Mathieu Nohet", "link": "https://stackoverflow.com/users/3846716/mathieu-nohet"}, "is_accepted": false, "score": 24, "last_activity_date": 1532720345, "last_edit_date": 1532720345, "creation_date": 1524644371, "answer_id": 50017312, "question_id": 45601477, "link": "https://stackoverflow.com/questions/45601477/pylint-warning-for-useless-super-delegation/50017312#50017312", "title": "Pylint warning for &quot;useless super delegation&quot;", "body": "<p>If you call the <code>SpecificError</code> class it will look for an <code>__init__</code>. If it doesn't exist it will call the parent's <code>__init__</code>. There is no need to add an <code>__init__</code> here, since it's exactly the same like the parent class. It is basically code duplication.</p>\n\n<p>You should do:</p>\n\n<pre><code>class SpecificError(MyProjectExceptions):\n    \"\"\"Raise when a specific error occurs.\"\"\"\n    pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16143, "user_id": 3357935, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jaomO.png?s=128&g=1", "display_name": "Stevoisiak", "link": "https://stackoverflow.com/users/3357935/stevoisiak"}, "is_accepted": false, "score": 7, "last_activity_date": 1532688119, "last_edit_date": 1532688119, "creation_date": 1529955120, "answer_id": 51030674, "question_id": 45601477, "link": "https://stackoverflow.com/questions/45601477/pylint-warning-for-useless-super-delegation/51030674#51030674", "title": "Pylint warning for &quot;useless super delegation&quot;", "body": "<p>As <a href=\"https://stackoverflow.com/a/50017312/3357935\">Mathieu mentioned</a>, you don't need to override <code>__init__</code> with a call to <code>super()</code>:</p>\n\n<pre><code>class SpecificError(MyProjectExceptions):\n   \"\"\"Raise when a specific error occurs.\"\"\"\n   pass\n</code></pre>\n\n<p>Pylint's developers explain <code>useless-super-delegation</code> in a bit more depth on the <a href=\"http://pylint.pycqa.org/en/latest/whatsnew/1.7.html\" rel=\"noreferrer\">Pylint changelog</a>:</p>\n\n<blockquote>\n  <p><code>useless-super-delegation</code> [is] used whenever we can detect that an\n  overridden method is useless, relying on <code>super()</code> delegation to do the\n  same thing as another method from the MRO.</p>\n  \n  <p>For instance, in this example, the first two methods are useless,\n  since they do the exact same thing as the methods from the base\n  classes, while the next two methods are not, since they do some extra\n  operations with the passed arguments.</p>\n\n<pre><code>class Impl(Base):\n\n    def __init__(self, param1, param2):\n        super(Impl, self).__init__(param1, param2)\n\n    def useless(self, first, second):\n        return super(Impl, self).useless(first, second)\n\n    def not_useless(self, first, **kwargs):\n        debug = kwargs.pop('debug', False)\n        if debug:\n            ...\n        return super(Impl, self).not_useless(first, **kwargs)\n\n    def not_useless_1(self, first, *args):\n        return super(Impl, self).not_useless_1(first + some_value, *args)\n</code></pre>\n  \n  <p><sup><a href=\"http://pylint.pycqa.org/en/latest/whatsnew/1.7.html\" rel=\"noreferrer\">What's New In Pylint 1.7</a></sup></p>\n</blockquote>\n\n<p>The warning's creator further explains in a <a href=\"https://github.com/PyCQA/pylint/commit/c48d948c06d31fa8bfa68badda04f081be7fcf4a\" rel=\"noreferrer\">commit message</a>:</p>\n\n<blockquote>\n  <p>This is used whenever pylint can detect than an overridden method is\n  useless, relying on <code>super()</code> delegation to implement the same thing as\n  another method from <a href=\"https://www.python.org/download/releases/2.3/mro\" rel=\"noreferrer\">MRO</a>. In this case, it is enough to not implement\n  the given method and let it be propagated to the another implementation\n  from the MRO.</p>\n</blockquote>\n\n<p>For the original issue report, see <a href=\"https://github.com/PyCQA/pylint/issues/839\" rel=\"noreferrer\"><em>#839 - Pylint rule against people overriding a method just to call super</em></a>.</p>\n"}], "owner": {"reputation": 206, "user_id": 8217247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e94d8941c3246d6b004e33dc67e33c8?s=128&d=identicon&r=PG&f=1", "display_name": "mugwump", "link": "https://stackoverflow.com/users/8217247/mugwump"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11485, "favorite_count": 1, "answer_count": 2, "score": 13, "last_activity_date": 1532720345, "creation_date": 1502317026, "last_edit_date": 1532720318, "question_id": 45601477, "link": "https://stackoverflow.com/questions/45601477/pylint-warning-for-useless-super-delegation", "title": "Pylint warning for &quot;useless super delegation&quot;", "body": "<p>Pylint raises the warning: <code>Useless super delegation in method '__init__' (useless-super-delegation)</code> for the <code>SpecificError</code> class below.</p>\n\n<pre><code>class MyProjectExceptions(Exception):\n    \"\"\"The base class for all my project's exceptions.\"\"\"\n    def __init__(self, message, func):\n        super(MyProjectExceptions, self).__init__(message)  # Normal exception handling\n        self.func = func  # Error origin for logging\n\nclass SpecificError(MyProjectExceptions):\n    \"\"\"Raise when a specific error occurs.\"\"\"\n    def __init__(self, message, func):\n        super(SpecificError, self).__init__(message, func)\n</code></pre>\n\n<p>What is the correct way to pass the parameters to the superclass here?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1502317450, "post_id": 45601429, "comment_id": 78162517, "body": "Do you want to sum the upvotes for an <i>author</i>?"}, {"owner": {"reputation": 868, "user_id": 8398505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e68440257a73de217ac3529653e000ad?s=128&d=identicon&r=PG&f=1", "display_name": "Dror Av.", "link": "https://stackoverflow.com/users/8398505/dror-av"}, "edited": false, "score": 1, "creation_date": 1502317518, "post_id": 45601429, "comment_id": 78162541, "body": "I&#39;m sorry, this thing is just unreadable, it&#39;s not &quot;slightly un-pythonic&quot; it&#39;s the devils work. Can&#39;t you at least give meaningful names and such? make our life easier while trying to help?"}, {"owner": {"reputation": 31, "user_id": 8420220, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hMsYlskkzLU/AAAAAAAAAAI/AAAAAAAAF4A/zVsHaVNrVlI/photo.jpg?sz=128", "display_name": "Hayton Lam", "link": "https://stackoverflow.com/users/8420220/hayton-lam"}, "reply_to_user": {"reputation": 868, "user_id": 8398505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e68440257a73de217ac3529653e000ad?s=128&d=identicon&r=PG&f=1", "display_name": "Dror Av.", "link": "https://stackoverflow.com/users/8398505/dror-av"}, "edited": false, "score": 0, "creation_date": 1502318418, "post_id": 45601429, "comment_id": 78162817, "body": "@droravr Sorry! I changed the variables to more understandable names."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1502319850, "post_id": 45601429, "comment_id": 78163310, "body": "Iterate over the posts and keep the data in a dictionary of <code>author:upvote</code> pairs, adding upvotes during the iteration.  You will have to account for missing keys with the dictionary get method or testing first or catching the KeyError or using a collections dictionary container. When the posts are finished iterate over the dictionary items and construct tuples by adding the appropriate <i>evilness</i>."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1502320022, "post_id": 45601429, "comment_id": 78163366, "body": "<a href=\"https://docs.python.org/3/howto/sorting.html\" rel=\"nofollow noreferrer\">docs.python.org/3/howto/sorting.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16137, "user_id": 2026508, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d76e464967fe7ab0b42754ae5401d3ba?s=128&d=identicon&r=PG&f=1", "display_name": "jmunsch", "link": "https://stackoverflow.com/users/2026508/jmunsch"}, "is_accepted": false, "score": 0, "last_activity_date": 1502318075, "creation_date": 1502318075, "answer_id": 45601633, "question_id": 45601429, "link": "https://stackoverflow.com/questions/45601429/python-checking-duplicates-in-a-list-and-adding-duplicates-together-to-update/45601633#45601633", "title": "Python - Checking duplicates in a list and adding duplicates together to update the list with the summed value", "body": "<p>I do not understand what you are asking, because the logic isn't very clear. </p>\n\n<p>However, the aggregation can be done like so:</p>\n\n<pre><code>some_pages = [\n        {\n            'title': 'Invade Manhatten, anyone?',\n            'tags': ['world-domination', 'hangout'],\n            'posts': [\n                {\n                    'author': 'Mr. Sinister',\n                    'content': \"I'm thinking 9 pm?\",\n                    'upvotes': 2,\n                },\n                {\n                    'author': 'Mr. Sinister',\n                    'content': \"Sounds fun!\",\n                    'upvotes': 0,\n                },\n                {\n                    'author': 'Mr. Sinister',\n                    'content': \"I'm in!\",\n                    'upvotes': 0,\n                },\n            ],\n        }\n    ]\n\nauthor_aggregation = {}\nfor pages in some_pages:\n    for post in pages.get('posts', []):\n        a = post.get('author')\n        v = post.get('upvotes')\n        c = post.get('content')\n        if a in author_aggregation:\n            author_aggregation.update({a: {'upvotes': author_aggregation[a]['upvotes'] += v, 'content': author_aggregation[a]['content'].append(c)}})\n        else:\n            author_aggregation[a] = {'upvotes': v, 'content': [c]}\n</code></pre>\n\n<h1>Related:</h1>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18066269/group-by-and-aggregate-the-values-of-a-list-of-dictionaries-in-python\">Group by and aggregate the values of a list of dictionaries in Python</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 868, "user_id": 8398505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e68440257a73de217ac3529653e000ad?s=128&d=identicon&r=PG&f=1", "display_name": "Dror Av.", "link": "https://stackoverflow.com/users/8398505/dror-av"}, "is_accepted": false, "score": 0, "last_activity_date": 1502318849, "last_edit_date": 1502318849, "creation_date": 1502318523, "answer_id": 45601713, "question_id": 45601429, "link": "https://stackoverflow.com/questions/45601429/python-checking-duplicates-in-a-list-and-adding-duplicates-together-to-update/45601713#45601713", "title": "Python - Checking duplicates in a list and adding duplicates together to update the list with the summed value", "body": "<p>This might work, it ignores content (can be added as well if needed), only takes upvotes and author. It also uses a dictionary and not a list:</p>\n\n<pre><code>authors = dict()\n\nfor post in x[0]['posts']:\n    try:\n        authors[post['author']] += post['upvotes']\n\n    except KeyError:\n        authors[post['author']] = post['upvotes']\n\nfor k, upvotes in authors.iteritems():\n    if upvotes == 0:\n        authors[k] = (upvotes, \"Insignificantly Evil\")\n\n    elif upvotes &lt; 20:\n        authors[k] = (upvotes, \"Cautioiusly Evil\")\n\n    elif upvotes &lt; 100:\n        authors[k] = (upvotes, \"Justifiably Evil\")\n\n    elif upvotes &lt;= 500:\n        authors[k] = (upvotes, \"Wickedly Evil\")\n\n    elif upvotes &gt; 500:\n        authors[k] = (upvotes, \"Diabolically Evil\")\n\nprint authors\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>{'Mr. Sinister': (2, 'Cautioiusly Evil')}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>{'Mr. Sinister': (4, 'Cautioiusly Evil'), 'Loki': (22, 'Justifiably Evil')}\n</code></pre>\n\n<p>For the 2nd example.</p>\n"}, {"comments": [{"owner": {"reputation": 868, "user_id": 8398505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e68440257a73de217ac3529653e000ad?s=128&d=identicon&r=PG&f=1", "display_name": "Dror Av.", "link": "https://stackoverflow.com/users/8398505/dror-av"}, "edited": false, "score": 0, "creation_date": 1502319240, "post_id": 45601817, "comment_id": 78163106, "body": "Your code doesn&#39;t count all the votes of the same poster. It will just take the votes from the first post of each author."}], "tags": [], "owner": {"reputation": 7592, "user_id": 840582, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/R97cw.png?s=128&g=1", "display_name": "Chen A.", "link": "https://stackoverflow.com/users/840582/chen-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1502319717, "last_edit_date": 1502319717, "creation_date": 1502319048, "answer_id": 45601817, "question_id": 45601429, "link": "https://stackoverflow.com/questions/45601429/python-checking-duplicates-in-a-list-and-adding-duplicates-together-to-update/45601817#45601817", "title": "Python - Checking duplicates in a list and adding duplicates together to update the list with the summed value", "body": "<p>This code works, hopefully it is readable enough so you can adapt it</p>\n\n<pre><code>x = in[0]  # returns a dict from your input\n\nfor post in x.get('posts'):\n        author = post.get('author')\n        if author not in d.keys():\n            d[author] = post\n        else:\n            d.get('author')['upvotes'] += post.get('upvotes')\n</code></pre>\n\n<p>This will return a dict without duplicate authors and won't update the score if it is already there.</p>\n\n<p>I tried it on your data and it worked</p>\n\n<blockquote>\n  <p>d\n  {'Mr. Sinister': {'content': \"I'm thinking 9 pm?\", 'upvotes': 2, 'author': 'Mr. Sinister'}}</p>\n</blockquote>\n"}], "owner": {"reputation": 31, "user_id": 8420220, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hMsYlskkzLU/AAAAAAAAAAI/AAAAAAAAF4A/zVsHaVNrVlI/photo.jpg?sz=128", "display_name": "Hayton Lam", "link": "https://stackoverflow.com/users/8420220/hayton-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1502319717, "creation_date": 1502316785, "last_edit_date": 1502318356, "question_id": 45601429, "link": "https://stackoverflow.com/questions/45601429/python-checking-duplicates-in-a-list-and-adding-duplicates-together-to-update", "title": "Python - Checking duplicates in a list and adding duplicates together to update the list with the summed value", "body": "<p>The objective of my problem is to read in a thread post such as this:</p>\n\n<pre><code>([\n{\n    'title': 'Invade Manhatten, anyone?',\n    'tags': ['world-domination', 'hangout'],\n    'posts': [\n        {\n            'author': 'Mr. Sinister',\n            'content': \"I'm thinking 9 pm?\",\n            'upvotes': 2,\n        },\n        {\n            'author': 'Mystique',\n            'content': \"Sounds fun!\",\n            'upvotes': 0,\n        },\n        {\n            'author': 'Magneto',\n            'content': \"I'm in!\",\n            'upvotes': 0,\n        },\n    ],\n}\n</code></pre>\n\n<p>]))</p>\n\n<p>And create a definition to output this:</p>\n\n<pre><code>[('Mr. Sinister', '2', 'Cautioiusly Evil'), ('Magneto', '0', 'Insignificantly Evil'), ('Mystique', '0', 'Insignificantly Evil')]\n</code></pre>\n\n<p>Where the list is sorted from highest upvotes to lowest upvotes, with ties broken alphabetically.</p>\n\n<p>However, when I was given this thread:</p>\n\n<pre><code>([\n{\n    'title': 'Invade Manhatten, anyone?',\n    'tags': ['world-domination', 'hangout'],\n    'posts': [\n        {\n            'author': 'Mr. Sinister',\n            'content': \"I'm thinking 9 pm?\",\n            'upvotes': 2,\n        },\n        {\n            'author': 'Mr. Sinister',\n            'content': \"Sounds fun!\",\n            'upvotes': 0,\n        },\n        {\n            'author': 'Mr. Sinister',\n            'content': \"I'm in!\",\n            'upvotes': 0,\n        },\n    ],\n}\n</code></pre>\n\n<p>]))</p>\n\n<p>Where the author posts multiple times, my program outputs:</p>\n\n<pre><code>[('Mr. Sinister', '2', 'Cautioiusly Evil'), ('Mr. Sinister', '0', 'Insignificantly Evil'), ('Mr. Sinister', '0', 'Insignificantly Evil')]\n</code></pre>\n\n<p>My program prints each individual post rather than combining the results like this:</p>\n\n<pre><code>[('Mr. Sinister', 2, 'Cautiously Evil')]\n</code></pre>\n\n<p>Just to clarify, if the thread was:</p>\n\n<pre><code>([\n{\n    'title': 'Invade Manhatten, anyone?',\n    'tags': ['world-domination', 'hangout'],\n    'posts': [\n        {\n            'author': 'Mr. Sinister',\n            'content': \"I'm thinking 9 pm?\",\n            'upvotes': 2,\n        },\n        {\n            'author': 'Loki',\n            'content': \"Sounds fun!\",\n            'upvotes': 2,\n        },\n        {\n            'author': 'Mr. Sinister',\n            'content': \"I'm in!\",\n            'upvotes': 2,\n        },\n        {\n            'author': 'Loki',\n            'content': \"I'm in it!\",\n            'upvotes': 20,\n        },\n\n    ],\n}\n</code></pre>\n\n<p>]))</p>\n\n<p>It should input:</p>\n\n<pre><code>[('Loki', 22, 'Justifiably Evil'), ('Mr. Sinister', 4, 'Cautiously Evil')]\n</code></pre>\n\n<p>My code for this is here:</p>\n\n<pre><code>  def author_rankings(thread_list):\n# TODO: Determine (author, upvotes, ranking) over all threads.\ncounterA = 0\ncounterB=2\n\nlistA = []\nFinal = []\nDouble = {}\nfor i in thread_list[0]['posts']:\n    for ii in i:\n        if ii == 'content':\n            null = 1\n        else:\n            b = str(i[ii])\n            if b in Double:\n              Double[b]\n            a = b\n            if a.isdigit():\n              a = int(a)\n            listA.append(a)\nbel=[]\nfor qq in listA:\n    if counterA == counterB:\n        bel = []\n        counterB+=2\n    if counterA%2 ==0:\n         bel.append(qq)\n         counterA+=1\n    else:\n       bel.append(qq)\n       qq = int(qq)\n       if qq == 0:\n           bel.append('Insignificantly Evil')\n\n     elif qq &lt; 20:\n          bel.append('Cautiously Evil')\n\n\n     elif qq &lt; 100:\n          bel.append('Justifiably Evil')\n\n     elif qq &lt; 500:\n           bel.append('Wickedly Evil')\n\n     elif qq &gt;= 500:\n          bel.append('Diabolically Evil')\n\n     counterA+=1\n\n\n\n     tuuple = tuple(bel)\n     Final.append(tuuple)\n\n\n\nFinal.sort()      \n\nFinal.sort(key=lambda tup: -tup[1])\n</code></pre>\n\n<p>I know I code slightly un-pythonic/ hard to read. Sorry for the inconvenience.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1502316792, "post_id": 45601392, "comment_id": 78162288, "body": "You can use an ordered dict. <code>collections.OrderedDict</code>."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1502317064, "post_id": 45601392, "comment_id": 78162385, "body": "What is your question?"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1502317085, "post_id": 45601392, "comment_id": 78162393, "body": "<a href=\"https://docs.python.org/3/howto/sorting.html\" rel=\"nofollow noreferrer\">docs.python.org/3/howto/sorting.html</a>"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 1, "creation_date": 1502318063, "post_id": 45601392, "comment_id": 78162716, "body": "You seem to be confusing the Python list with the dictionary. Read up on both of them in a tutorial and see if that helps."}], "owner": {"reputation": 1, "user_id": 8442196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94885b01c4c963644f9448202e971107?s=128&d=identicon&r=PG&f=1", "display_name": "NeoProf", "link": "https://stackoverflow.com/users/8442196/neoprof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502316571, "creation_date": 1502316571, "question_id": 45601392, "link": "https://stackoverflow.com/questions/45601392/python-dictonary-or-list-with-stringint-data-structure-with-sorting", "title": "Python Dictonary or List with String|Int data structure with sorting", "body": "<p>I need some sort of way to be able to append keys &amp; data to a list to then manipulate that data. I then need to sort the list descending and be able to print off both the key and the value.</p>\n\n<pre><code>list = []\ngoal scored by team:\n (check key England isn't in list)\n  list.append(\"England\", 0)\n else\n  list[\"England\"] = list[\"England\"] + 1\n\n (check key England isn't in list)\n  list.append(\"Scotland\", 0)\n else\n  list[\"Scotland\"] = list[\"Scotland\"] + 1\n\nsortdescend(list)\n\nprint(list[0])\n&gt; \"Germany\", 25\nprint(list[1])\n&gt; \"England\", 10\nprint(list[2])\n&gt; \"France\", 8\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8442188"}, "edited": false, "score": 0, "creation_date": 1502317686, "post_id": 45601418, "comment_id": 78162602, "body": "Thanks mate, I&#39;ve been trying to solve it for couple hours with different modules. Damn these parentheses or semicolons :D"}], "tags": [], "owner": {"reputation": 2942, "user_id": 8436941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQTSZ.png?s=128&g=1", "display_name": "ContinuousLoad", "link": "https://stackoverflow.com/users/8436941/continuousload"}, "is_accepted": true, "score": 1, "last_activity_date": 1502316739, "creation_date": 1502316739, "answer_id": 45601418, "question_id": 45601364, "link": "https://stackoverflow.com/questions/45601364/django-tdd-httprequest-has-no-attribute-post/45601418#45601418", "title": "Django - TDD: &#39;HttpRequest&#39; has no attribute &#39;POST&#39;", "body": "<p>You forgot the parentheses after <code>HttpRequest</code> :)</p>\n\n<p>That's why django is saying <code>HttpRequest has no attribute 'POST'</code></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8442188"}, "edited": false, "score": 0, "creation_date": 1502317901, "post_id": 45601445, "comment_id": 78162666, "body": "Thanks, I&#39;m definitely gonna look into that. So far I&#39;m following a book and learning TDD"}], "tags": [], "owner": {"reputation": 2759, "user_id": 2217516, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a535610ddfa849990fc141d4ac5600fe?s=128&d=identicon&r=PG", "display_name": "Robert Townley", "link": "https://stackoverflow.com/users/2217516/robert-townley"}, "is_accepted": false, "score": 0, "last_activity_date": 1502316849, "creation_date": 1502316849, "answer_id": 45601445, "question_id": 45601364, "link": "https://stackoverflow.com/questions/45601364/django-tdd-httprequest-has-no-attribute-post/45601445#45601445", "title": "Django - TDD: &#39;HttpRequest&#39; has no attribute &#39;POST&#39;", "body": "<p>When testing, if you need a request object, you can also use the request factory to generate one</p>\n\n<p>Reference from the docs:\n<a href=\"https://docs.djangoproject.com/en/1.11/topics/testing/advanced/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.11/topics/testing/advanced/</a></p>\n\n<pre><code>from django.contrib.auth.models import AnonymousUser, User\nfrom django.test import TestCase, RequestFactory\n\nfrom .views import MyView, my_view\n\nclass SimpleTest(TestCase):\n    def setUp(self):\n        # Every test needs access to the request factory.\n        self.factory = RequestFactory()\n        self.user = User.objects.create_user(\n            username='jacob', email='jacob@\u2026', password='top_secret')\n\n    def test_details(self):\n        # Create an instance of a GET request.\n        request = self.factory.get('/customer/details')\n\n        # Recall that middleware are not supported. You can simulate a\n        # logged-in user by setting request.user manually.\n        request.user = self.user\n\n        # Or you can simulate an anonymous user by setting request.user to\n        # an AnonymousUser instance.\n        request.user = AnonymousUser()\n\n        # Test my_view() as if it were deployed at /customer/details\n        response = my_view(request)\n        # Use this syntax for class-based views.\n        response = MyView.as_view()(request)\n        self.assertEqual(response.status_code, 200)\n</code></pre>\n\n<p>In your case, your test could look like this:</p>\n\n<pre><code>from django.test import RequestFactory\n\n...\n\ndef test_home_page_can_save_POST_request(self):\n    factory = RequestFactory()\n    response = factory.post('PATH_TO_YOUR_VIEW', data={\n        'item_text': 'A new list item',\n    })\n    self.assertIn('A new list item', response.content.decode())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 587, "user_id": 1445730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ac05791be307f267c15c7c0f8be1176?s=128&d=identicon&r=PG", "display_name": "Goran", "link": "https://stackoverflow.com/users/1445730/goran"}, "is_accepted": false, "score": 0, "last_activity_date": 1502317107, "creation_date": 1502317107, "answer_id": 45601486, "question_id": 45601364, "link": "https://stackoverflow.com/questions/45601364/django-tdd-httprequest-has-no-attribute-post/45601486#45601486", "title": "Django - TDD: &#39;HttpRequest&#39; has no attribute &#39;POST&#39;", "body": "<p>You should consider using <a href=\"https://docs.djangoproject.com/en/1.11/topics/testing/advanced/#the-request-factory\" rel=\"nofollow noreferrer\">RequestFactory</a> for your test cases.</p>\n\n<p>Example from the docs:</p>\n\n<pre><code>from django.contrib.auth.models import AnonymousUser, User\nfrom django.test import TestCase, RequestFactory\n\nfrom .views import MyView, my_view\n\nclass SimpleTest(TestCase):\n    def setUp(self):\n        # Every test needs access to the request factory.\n        self.factory = RequestFactory()\n        self.user = User.objects.create_user(\n            username='jacob', email='jacob@\u2026', password='top_secret')\n\n    def test_details(self):\n        # Create an instance of a GET request.\n        request = self.factory.get('/customer/details')\n\n        # Recall that middleware are not supported. You can simulate a\n        # logged-in user by setting request.user manually.\n        request.user = self.user\n\n        # Or you can simulate an anonymous user by setting request.user to\n        # an AnonymousUser instance.\n        request.user = AnonymousUser()\n\n        # Test my_view() as if it were deployed at /customer/details\n        response = my_view(request)\n        # Use this syntax for class-based views.\n        response = MyView.as_view()(request)\n        self.assertEqual(response.status_code, 200)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10398528, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZMdoRZkFeRo/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW1iSEVYgposEal6_Ac6Xp1AoOJyw/mo/photo.jpg?sz=128", "display_name": "Jose Marquez", "link": "https://stackoverflow.com/users/10398528/jose-marquez"}, "is_accepted": false, "score": 0, "last_activity_date": 1537560587, "creation_date": 1537560587, "answer_id": 52450512, "question_id": 45601364, "link": "https://stackoverflow.com/questions/45601364/django-tdd-httprequest-has-no-attribute-post/52450512#52450512", "title": "Django - TDD: &#39;HttpRequest&#39; has no attribute &#39;POST&#39;", "body": "<p>I have two solution.</p>\n\n<p>1.- Create request object with RequestFactory and calling at views.</p>\n\n<pre><code>def test_home_page_can_save_a_POST_request(self):\n    request = self.factory.post(\"/\", data={'item_text': 'A new list item',})\n    response = home_page(request)\n    self.assertIn('A new list item', response.content.decode())\n</code></pre>\n\n<p>2.- Or use the response of RequestFactory().</p>\n\n<pre><code>  def test_home_page_can_save_a_POST_request(self):\n        response = self.factory.post(\"/\", data={'item_text': 'A new list item',})\n        self.assertIn('A new list item', response.readlines()[3].decode())\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8442188"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1291, "favorite_count": 0, "accepted_answer_id": 45601418, "answer_count": 4, "score": 0, "last_activity_date": 1537560587, "creation_date": 1502316404, "question_id": 45601364, "link": "https://stackoverflow.com/questions/45601364/django-tdd-httprequest-has-no-attribute-post", "title": "Django - TDD: &#39;HttpRequest&#39; has no attribute &#39;POST&#39;", "body": "<p>So I'm doing TDD with Django and I'm stuck on the following problem.</p>\n\n<p>Test method for class from TestCase</p>\n\n<pre><code>def test_home_page_can_save_POST_request(self):\n    request = HttpRequest\n    request.method = 'POST'\n    request.POST['item_text'] = 'A new list item'\n\n    response = home_page(request)\n\n    self.assertIn('A new list item', response.content.decode())\n</code></pre>\n\n<p>And I'm getting error as:</p>\n\n<pre><code>request.POST['item_text'] = 'A new list item'\nAttributeError: type object 'HttpRequest' has no attribute 'POST'\n</code></pre>\n\n<p>But HttpRequest has the attribute 'POST' as per Django docs. </p>\n\n<p>Thansk guys!</p>\n"}, {"tags": ["python", "mocking", "pytest"], "answers": [{"tags": [], "owner": {"reputation": 1968, "user_id": 4378118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8D5PM.jpg?s=128&g=1", "display_name": "Enrique Saez", "link": "https://stackoverflow.com/users/4378118/enrique-saez"}, "is_accepted": true, "score": 1, "last_activity_date": 1502378083, "creation_date": 1502378083, "answer_id": 45617571, "question_id": 45601325, "link": "https://stackoverflow.com/questions/45601325/patching-the-same-module-for-every-test/45617571#45617571", "title": "Patching the same module for every test", "body": "<p>yes there is, take a look at <a href=\"https://docs.pytest.org/en/latest/unittest.html#using-autouse-fixtures-and-accessing-other-fixtures\" rel=\"nofollow noreferrer\">autouse fixtures</a> in the official pytest docs</p>\n"}], "owner": {"reputation": 1201, "user_id": 1636566, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9ef97691db2d12b92e3cc6766205a852?s=128&d=identicon&r=PG", "display_name": "nhtrnm", "link": "https://stackoverflow.com/users/1636566/nhtrnm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 45617571, "answer_count": 1, "score": 0, "last_activity_date": 1502378083, "creation_date": 1502316216, "question_id": 45601325, "link": "https://stackoverflow.com/questions/45601325/patching-the-same-module-for-every-test", "title": "Patching the same module for every test", "body": "<p>If I have multiple tests that patch the same module, is there a way to not have to patch it in every test (namely, factor it out)?</p>\n\n<pre><code>def test_1(mocker):\n    mocker.patch.object(module, 'method')\n    # run test\n\ndef test_2(mocker):\n    mocker.patch.object(module, 'method')\n    # run test\n\ndef test_3(mocker):\n    mocker.patch.object(module, 'method')\n    # run test\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "webdriver", "automated-tests"], "comments": [{"owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "edited": false, "score": 0, "creation_date": 1502318252, "post_id": 45601319, "comment_id": 78162768, "body": "What data are you trying to extract?"}, {"owner": {"reputation": 159, "user_id": 4469538, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dNtch.png?s=128&g=1", "display_name": "lvcpp", "link": "https://stackoverflow.com/users/4469538/lvcpp"}, "reply_to_user": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "edited": false, "score": 0, "creation_date": 1502318791, "post_id": 45601319, "comment_id": 78162966, "body": "@Dan-Dev open <a href=\"https://officialrecords.broward.org/AcclaimWeb/search/SearchTypeName\" rel=\"nofollow noreferrer\">officialrecords.broward.org/AcclaimWeb/search/SearchTypeName</a> or <a href=\"https://officialrecords.broward.org/AcclaimWeb/search/SearchTypeDocType\" rel=\"nofollow noreferrer\">officialrecords.broward.org/AcclaimWeb/search/SearchTypeDocT&zwnj;&#8203;ype</a> and see,"}], "answers": [{"tags": [], "owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1502319063, "creation_date": 1502319063, "answer_id": 45601821, "question_id": 45601319, "link": "https://stackoverflow.com/questions/45601319/extract-the-text-using-selenium-webdriver-when-page-source-is-not-shown-fully/45601821#45601821", "title": "extract the text using Selenium WebDriver when page source is not shown fully", "body": "<p>Two things I got an error: </p>\n\n<pre><code>selenium.common.exceptions.ElementNotVisibleException: Message: element not visible\n</code></pre>\n\n<p>I added two lines of code around your existing line like this to fix it:</p>\n\n<pre><code>...\ndriver.execute_script(\"return arguments[0].scrollIntoView();\", driver.find_element_by_id(\"btnSearch\"))\ndriver.find_element_by_id(\"btnSearch\").click()\nsleep(10) # maybe it doesn't need this long\n....\n</code></pre>\n\n<p>Also it looks to me like the class t-state-selected is not applied to an element until it is clicked so I changed:</p>\n\n<pre><code>Row = soup.findAll(\"tr\", { \"class\" : \"t-state-selected\" })[0].findAll(\"td\")\n</code></pre>\n\n<p>to </p>\n\n<pre><code>Row = soup.findAll(\"tr\")[1].findAll(\"td\")\n</code></pre>\n\n<p>Now it outputs:</p>\n\n<pre><code>JOHNSON,BRIAN S\n08/01/2017 02:05:25\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4469538, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dNtch.png?s=128&g=1", "display_name": "lvcpp", "link": "https://stackoverflow.com/users/4469538/lvcpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 1, "accepted_answer_id": 45601821, "answer_count": 1, "score": 0, "last_activity_date": 1502319172, "creation_date": 1502316162, "last_edit_date": 1502319172, "question_id": 45601319, "link": "https://stackoverflow.com/questions/45601319/extract-the-text-using-selenium-webdriver-when-page-source-is-not-shown-fully", "title": "extract the text using Selenium WebDriver when page source is not shown fully", "body": "<p>How to extract the text using Selenium WebDriver when page source is not shown fully? \nor </p>\n\n<p>how do you deal with it using your tools?</p>\n\n<p>It looks like this site have blocked the extracting the fields manually, </p>\n\n<p>and only allows to manually download preprocessed CSV file.</p>\n\n<p>When I try to check the searched data in Page Source (Ctrl+U or Strg+U) I do not see the table.</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nfrom bs4 import BeautifulSoup\nfrom time import sleep\n\n# driver = webdriver.PhantomJS()\ndriver = webdriver.Chrome()\n\ndriverurl = \"https://officialrecords.broward.org/AcclaimWeb\"\n\ndriver.get(driverurl)\ndriver.find_element_by_id(\"btnButton\").click()\n\nName = \"John\"\nDocType = \"DEED TRANSFERS OF REAL PROPERTY (D)\"\nRecordDate = \"8/1/2017\"\n\ndriver.find_element_by_id(\"SearchOnName\").send_keys(Name)\n\ndriver.find_element_by_id(\"DocTypesDisplay-input\").clear()\nsleep(1)\ndriver.find_element_by_id(\"DocTypesDisplay-input\").send_keys(DocType)\n\ndriver.find_element_by_id(\"RecordDateFrom\").clear()\ndriver.find_element_by_id(\"RecordDateFrom\").send_keys(RecordDate)\ndriver.find_element_by_id(\"RecordDateTo\").clear()\ndriver.find_element_by_id(\"RecordDateTo\").send_keys(RecordDate)\n\ndriver.find_element_by_id(\"btnSearch\").click()\n\nhtml = driver.page_source \nsoup = BeautifulSoup(html, \"lxml\")\n\nRow = soup.findAll(\"tr\", { \"class\" : \"t-state-selected\" })[0].findAll(\"td\")\nSearchedName = Row[1].get_text()\nRecordDate   = Row[5].get_text()\nprint SearchedName\nprint RecordDate\n\n# driver.close()\n</code></pre>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File \"test.py\", line 34, in\n  \n      Row = soup.findAll(\"tr\", { \"class\" : \"t-state-selected\" })[0].findAll(\"td\") IndexError: list index out of range</p>\n</blockquote>\n\n<p>really the list has more elements</p>\n\n<p>I would like to automate saving the generated CSV files, or write a bot to go through all the rows and save to my csv file.</p>\n\n<p>I simplified the question and ask only how to extract any 1-2 fields from the 1 st row.</p>\n\n<p>open <a href=\"https://officialrecords.broward.org/AcclaimWeb/search/SearchTypeName\" rel=\"nofollow noreferrer\">https://officialrecords.broward.org/AcclaimWeb/search/SearchTypeName</a> </p>\n\n<p>or </p>\n\n<p><a href=\"https://officialrecords.broward.org/AcclaimWeb/search/SearchTypeDocT\" rel=\"nofollow noreferrer\">https://officialrecords.broward.org/AcclaimWeb/search/SearchTypeDocT</a>\u200c\u200bype </p>\n\n<p>and see.</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-s3", "boto3"], "answers": [{"comments": [{"owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 0, "creation_date": 1502318040, "post_id": 45601582, "comment_id": 78162707, "body": "Ooh! Nice way to ignore zero-length files!"}, {"owner": {"reputation": 12191, "user_id": 237696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cUqoH.jpg?s=128&g=1", "display_name": "mr-sk", "link": "https://stackoverflow.com/users/237696/mr-sk"}, "edited": false, "score": 0, "creation_date": 1502326396, "post_id": 45601582, "comment_id": 78164907, "body": "Thanks but this gets all the files, where as there are scattered files and other directories I don&#39;t want to get...how to do that?"}, {"owner": {"reputation": 42040, "user_id": 4237701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OeLef.jpg?s=128&g=1", "display_name": "helloV", "link": "https://stackoverflow.com/users/4237701/hellov"}, "reply_to_user": {"reputation": 12191, "user_id": 237696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cUqoH.jpg?s=128&g=1", "display_name": "mr-sk", "link": "https://stackoverflow.com/users/237696/mr-sk"}, "edited": false, "score": 0, "creation_date": 1502327640, "post_id": 45601582, "comment_id": 78165189, "body": "@mr-sk see my update. You can use <code>filter</code> for a specific folder."}, {"owner": {"reputation": 183, "user_id": 7189254, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-peSXg74J2EU/AAAAAAAAAAI/AAAAAAAAAAs/OO8hQZFdAZg/photo.jpg?sz=128", "display_name": "Victor Kironde", "link": "https://stackoverflow.com/users/7189254/victor-kironde"}, "edited": false, "score": 0, "creation_date": 1552050059, "post_id": 45601582, "comment_id": 96875391, "body": "How can you list nested directories and not the files they have?"}], "tags": [], "owner": {"reputation": 42040, "user_id": 4237701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OeLef.jpg?s=128&g=1", "display_name": "helloV", "link": "https://stackoverflow.com/users/4237701/hellov"}, "is_accepted": true, "score": 10, "last_activity_date": 1502327611, "last_edit_date": 1502327611, "creation_date": 1502317740, "answer_id": 45601582, "question_id": 45601305, "link": "https://stackoverflow.com/questions/45601305/get-full-path-to-files-in-s3-using-boto3-nested-keys/45601582#45601582", "title": "Get full path to files in S3 using Boto3 nested keys", "body": "<pre><code>s3 = boto3.client('s3')\n</code></pre>\n\n<p>You can list all objects by calling <code>list_objects</code></p>\n\n<pre><code>objs = s3.list_objects(Bucket='mybucket')['Contents']\n</code></pre>\n\n<p>Using list comprehension, get the object names ignoring folders (which has a size of 0)</p>\n\n<pre><code>[obj['Key'] for obj in objs if obj['Size']]\n</code></pre>\n\n<p><strong>Or</strong>:</p>\n\n<pre><code>s3 = boto3.resource('s3')\nbucket = s3.Bucket('mybucket')\n[key.key for key in bucket.objects.all() if key.size]\n</code></pre>\n\n<p>If you want to list the objects with certain prefix:</p>\n\n<pre><code># S3 list all keys with the prefix 'photos/'\ns3 = boto3.resource('s3')\nbucket = s3.Bucket('production')\n  for obj in bucket.objects.filter(Prefix='2017-01-01/'):\n    if obj.size: print obj.key\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12191, "user_id": 237696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cUqoH.jpg?s=128&g=1", "display_name": "mr-sk", "link": "https://stackoverflow.com/users/237696/mr-sk"}, "edited": false, "score": 0, "creation_date": 1502325608, "post_id": 45601623, "comment_id": 78164715, "body": "There are other files in here I want to avoid. This will print them all. How do I limit it to the &quot;dt&quot; directories?"}, {"owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "reply_to_user": {"reputation": 12191, "user_id": 237696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cUqoH.jpg?s=128&g=1", "display_name": "mr-sk", "link": "https://stackoverflow.com/users/237696/mr-sk"}, "edited": false, "score": 0, "creation_date": 1502327146, "post_id": 45601623, "comment_id": 78165064, "body": "How about an <code>if</code> statement? <code>if key.key.startswith(&#39;production&#47;dt=&#39;): print key.key</code>"}], "tags": [], "owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "is_accepted": false, "score": 2, "last_activity_date": 1502318003, "creation_date": 1502318003, "answer_id": 45601623, "question_id": 45601305, "link": "https://stackoverflow.com/questions/45601305/get-full-path-to-files-in-s3-using-boto3-nested-keys/45601623#45601623", "title": "Get full path to files in S3 using Boto3 nested keys", "body": "<p>When a list of objects is retrieved from Amazon S3, they Key of the object is always its full path:</p>\n\n<pre><code>import boto3\ns3 = boto3.resource('s3')\nfor key in bucket.objects.all():\n  print key.key\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>production/dt=2017-01-01/file1.json\nproduction/dt=2017-01-01/file2.json\nproduction/dt=2017-05-01/file1.json\nproduction/dt=2017-05-01/file2.json\n</code></pre>\n"}], "owner": {"reputation": 12191, "user_id": 237696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cUqoH.jpg?s=128&g=1", "display_name": "mr-sk", "link": "https://stackoverflow.com/users/237696/mr-sk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7542, "favorite_count": 0, "accepted_answer_id": 45601582, "answer_count": 2, "score": 4, "last_activity_date": 1502327611, "creation_date": 1502316090, "question_id": 45601305, "link": "https://stackoverflow.com/questions/45601305/get-full-path-to-files-in-s3-using-boto3-nested-keys", "title": "Get full path to files in S3 using Boto3 nested keys", "body": "<p>My bucket structure is as follows:</p>\n\n<pre><code>bucket\n    production\n        dt=2017-01-01\n            file1.json\n        ...\n        dt=2017-05-01\n            file2.json\n</code></pre>\n\n<p>What I'm looking to do is get the full path to file1.json, file2.json, so I can download them. </p>\n\n<p>I'm struggling to do this is python. Any help is appreciated. TIA. </p>\n"}, {"tags": ["python", "c", "linux", "bluetooth", "bluez"], "comments": [{"owner": {"reputation": 900, "user_id": 3930651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eqI1G.jpg?s=128&g=1", "display_name": "vookimedlo", "link": "https://stackoverflow.com/users/3930651/vookimedlo"}, "edited": false, "score": 0, "creation_date": 1502394485, "post_id": 45601302, "comment_id": 78204211, "body": "If I remember well, BlueZ uses the socket abstraction, so I would say that the file descriptor is the opened socket."}], "answers": [{"tags": [], "owner": {"reputation": 1198, "user_id": 2857080, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5d0f4f0ae12b79d0ade03125b433da59?s=128&d=identicon&r=PG&f=1", "display_name": "zeus_masta_funk", "link": "https://stackoverflow.com/users/2857080/zeus-masta-funk"}, "is_accepted": true, "score": 1, "last_activity_date": 1502483864, "creation_date": 1502483864, "answer_id": 45643410, "question_id": 45601302, "link": "https://stackoverflow.com/questions/45601302/operate-on-bluez-provided-file-descriptor-in-c/45643410#45643410", "title": "Operate on BlueZ provided file descriptor in C", "body": "<p>My issue ended up being with the <code>gdbus-codegen</code> tool I was using. When using that tool, each fd parameter is actually an index to a <code>GUnixFDList</code> (documentation on that object <a href=\"https://developer.gnome.org/gio/stable/GUnixFDList.html\" rel=\"nofollow noreferrer\">here</a>). In order to have the <code>GUnixFDList</code> passed with the method <code>NewConnection</code>, I had to annotate the method in xml as <code>org.gtk.GDBus.C.UnixFD</code>. Annotation documentation can be found <a href=\"https://developer.gnome.org/gio/stable/gdbus-codegen.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1198, "user_id": 2857080, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5d0f4f0ae12b79d0ade03125b433da59?s=128&d=identicon&r=PG&f=1", "display_name": "zeus_masta_funk", "link": "https://stackoverflow.com/users/2857080/zeus-masta-funk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 1, "accepted_answer_id": 45643410, "answer_count": 1, "score": 1, "last_activity_date": 1502483864, "creation_date": 1502316071, "last_edit_date": 1502330841, "question_id": 45601302, "link": "https://stackoverflow.com/questions/45601302/operate-on-bluez-provided-file-descriptor-in-c", "title": "Operate on BlueZ provided file descriptor in C", "body": "<p>I am attempting to work with the <code>org.bluez.Profile1</code> in <code>BlueZ 5.44</code>. When connecting with a new device via the <code>NewConnection</code> DBus method, we get a file descriptor to work with. I am fairly confused on what state this file descriptor is in, and what I need to do in order to read/write from it. Simply calling <code>read</code>/<code>write</code> does not behave as expected for me.</p>\n\n<p>In the file <a href=\"https://git.kernel.org/pub/scm/bluetooth/bluez.git/tree/test/test-profile?h=5.44\" rel=\"nofollow noreferrer\">test/test-profile</a>, I see this line of python code:</p>\n\n<pre><code>self.fd = fd.take()\n</code></pre>\n\n<p>I am struggling to find the Linux C equivalent to the <code>take</code> method. Any advice on how to configure this fd in C code so I can read/write with the fd would be very helpful!</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "django", "django-models", "django-templates", "django-admin"], "comments": [{"owner": {"reputation": 10469, "user_id": 2231182, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2cXsw.png?s=128&g=1", "display_name": "nik_m", "link": "https://stackoverflow.com/users/2231182/nik-m"}, "edited": false, "score": 0, "creation_date": 1502336578, "post_id": 45601277, "comment_id": 78167317, "body": "The only way to do that is by using Javascript or even better jQuery that Django Admin <a href=\"https://docs.djangoproject.com/en/dev/ref/contrib/admin/javascript/\" rel=\"nofollow noreferrer\">already provides</a> for you."}], "answers": [{"comments": [{"owner": {"reputation": 2508, "user_id": 5972289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nUfQwKbN2U8/AAAAAAAAAAI/AAAAAAAAAL4/IJWlZADbQPk/photo.jpg?sz=128", "display_name": "brainLoop", "link": "https://stackoverflow.com/users/5972289/brainloop"}, "edited": false, "score": 0, "creation_date": 1547975667, "post_id": 45605320, "comment_id": 95372251, "body": "can you link your answer with some sources?"}, {"owner": {"reputation": 590, "user_id": 3174962, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/KfEvs.jpg?s=128&g=1", "display_name": "Swapnil Sawant", "link": "https://stackoverflow.com/users/3174962/swapnil-sawant"}, "edited": false, "score": 0, "creation_date": 1614263451, "post_id": 45605320, "comment_id": 117337065, "body": "Link to media form <a href=\"https://docs.djangoproject.com/en/3.1/topics/forms/media/#form-asset-paths\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/3.1/topics/forms/media/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2271, "user_id": 5518973, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9824d721cd7ac2214e60f6e242cffb62?s=128&d=identicon&r=PG&f=1", "display_name": "Aniket Pawar", "link": "https://stackoverflow.com/users/5518973/aniket-pawar"}, "is_accepted": false, "score": 6, "last_activity_date": 1614327284, "last_edit_date": 1614327284, "creation_date": 1502343737, "answer_id": 45605320, "question_id": 45601277, "link": "https://stackoverflow.com/questions/45601277/showing-alert-message-before-saving-model-in-django-admin/45605320#45605320", "title": "Showing Alert Message Before Saving Model in Django Admin", "body": "<p>If you explored the django admin then you can see that django uses <a href=\"https://github.com/django/django/blob/master/django/contrib/admin/templates/admin/submit_line.html\" rel=\"nofollow noreferrer\">submit_line.html</a> for rendering the save ( save &amp; continue ) buttons.</p>\n<p>There are multiple ways to do it,</p>\n<p>1 ) If you want app wise alerts, then in your <code>admin.py</code> file include the custom js file with admin media option,</p>\n<pre><code>@admin.register(Model)\nclass ModelAdmin(admin.ModelAdmin):\n   class Media:\n        js = (\n            'js/myscript.js',  # project's static folder ( /static/js/myscript.js )\n        )\n</code></pre>\n<p>In your <code>myscript.js</code> write,</p>\n<pre><code>window.addEventListener(&quot;load&quot;, function () {\n(function ($) {\n    $('form').submit(function () {\n        var c = confirm(&quot;continue submitting ?&quot;);\n        return c;\n    });\n\n\n})(django.jQuery);\n</code></pre>\n<p>});\n2 ) If you want alerts for all the forms in admin just inherit <a href=\"https://github.com/django/django/blob/master/django/contrib/admin/templates/admin/submit_line.html\" rel=\"nofollow noreferrer\">submit_line.html</a> in <code>templates/admin/submit_line.html</code> directory and simply write,</p>\n<pre><code>&lt;script&gt;\n    $(document).ready(function(){\n        $('form').submit(function() {\n            var c = confirm(&quot;continue submitting ?&quot;);\n            return c;\n        });\n    })\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3331, "user_id": 2207154, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7aa69b76fccb8e819a1de0887437ddc9?s=128&d=identicon&r=PG&f=1", "display_name": "Daniil Mashkin", "link": "https://stackoverflow.com/users/2207154/daniil-mashkin"}, "is_accepted": false, "score": 4, "last_activity_date": 1528808122, "creation_date": 1528808122, "answer_id": 50817791, "question_id": 45601277, "link": "https://stackoverflow.com/questions/45601277/showing-alert-message-before-saving-model-in-django-admin/50817791#50817791", "title": "Showing Alert Message Before Saving Model in Django Admin", "body": "<blockquote>\n  <p>But how do I show an alert when the user clicks save button in Django\n  Admin? Is there a way to do that?</p>\n</blockquote>\n\n<p>It's called <a href=\"https://docs.djangoproject.com/en/2.0/ref/forms/validation/\" rel=\"nofollow noreferrer\">validation</a>. Django best practice is making validation on the server and this way described <a href=\"https://docs.djangoproject.com/en/2.0/ref/contrib/admin/#adding-custom-validation-to-the-admin\" rel=\"nofollow noreferrer\">in the docs</a>.</p>\n\n<p>You need to do following steps:</p>\n\n<ol>\n<li>Set <code>form</code> in you admin model.</li>\n<li>Define <code>clean_name</code> method in your new form, where <code>name</code> is a name of the field which you want to check. You can also overwrite whole <a href=\"https://docs.djangoproject.com/en/2.0/ref/forms/validation/#cleaning-and-validating-fields-that-depend-on-each-other\" rel=\"nofollow noreferrer\">clean</a>. </li>\n<li>If there's a error then raise a <code>ValidationError</code> to send message to the user. If you raise exception in <code>clean_name</code> method <code>name</code> field will be highlighted in an interface.</li>\n</ol>\n\n<hr>\n\n<pre><code>from django.core.exceptions import ValidationError\nfrom django import forms\nfrom django.contrib import admin\n\n\nclass ArticleAdmin(admin.ModelAdmin):\n    form = MyArticleAdminForm\n\n\nclass MyArticleAdminForm(forms.ModelForm):\n    def clean_name(self):\n        if some_condition:\n            raise ValidationError(\"Message which you want to show to the user\")\n        return self.cleaned_data[\"name\"]\n</code></pre>\n"}], "owner": {"reputation": 3930, "user_id": 855151, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fd2935a0eef3014247dcd8d64b7d0527?s=128&d=identicon&r=PG", "display_name": "Hasan Iqbal", "link": "https://stackoverflow.com/users/855151/hasan-iqbal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4330, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1614327284, "creation_date": 1502315917, "question_id": 45601277, "link": "https://stackoverflow.com/questions/45601277/showing-alert-message-before-saving-model-in-django-admin", "title": "Showing Alert Message Before Saving Model in Django Admin", "body": "<p>There are ways to show a message <strong>after</strong> a model has been saved in the database or if there is any error while saving. But how do I show an alert when the user clicks <strong>save</strong> button in Django Admin? Is there a way to do that?</p>\n"}, {"tags": ["python", "sockets", "messaging"], "comments": [{"owner": {"reputation": 2966, "user_id": 3022310, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7f10ec2b45320ee843e539d705c31d08?s=128&d=identicon&r=PG", "display_name": "turbulencetoo", "link": "https://stackoverflow.com/users/3022310/turbulencetoo"}, "edited": false, "score": 0, "creation_date": 1502315946, "post_id": 45601192, "comment_id": 78161938, "body": "If the computer is on the World Wide Web then to some extent it <i>is</i> on your network, it just likely doesn&#39;t have a public-facing IP address that you can talk to."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1502315958, "post_id": 45601192, "comment_id": 78161944, "body": "Chances are source and/or destination network are behind NAT. There are two ways to communicate in this case: either use a central server with a public address in order to relay messages between clients (like IRC does) or set port forward in every NAT firewall to allow communication. There are higher level libraries to deal with network communication, dealing with plain sockets is painful, check out tornado or twisted."}], "answers": [{"comments": [{"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1502316428, "post_id": 45601284, "comment_id": 78162153, "body": "This answer is factually correct, but could be just a comment as well."}, {"owner": {"reputation": 1, "user_id": 7668556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xRf2.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7668556/max"}, "edited": false, "score": 0, "creation_date": 1502318034, "post_id": 45601284, "comment_id": 78162706, "body": "How do you get a non-internal IP address?"}, {"owner": {"reputation": 1, "user_id": 7668556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xRf2.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7668556/max"}, "edited": false, "score": 0, "creation_date": 1502319115, "post_id": 45601284, "comment_id": 78163062, "body": "If it should work from anywhere than why does it say on the website that it will only work on your network?"}, {"owner": {"reputation": 441, "user_id": 1366734, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/zL3jU.jpg?s=128&g=1", "display_name": "Keir", "link": "https://stackoverflow.com/users/1366734/keir"}, "edited": false, "score": 0, "creation_date": 1502409310, "post_id": 45601284, "comment_id": 78209729, "body": "Certain IP ranges are restricted to internal address. They are     addresses: 10.x.x.x   172.16.somethingIforget    192.168.x.x, An external address will neot begin with those numbers. You still need to look at you firewall."}], "tags": [], "owner": {"reputation": 441, "user_id": 1366734, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/zL3jU.jpg?s=128&g=1", "display_name": "Keir", "link": "https://stackoverflow.com/users/1366734/keir"}, "is_accepted": false, "score": 0, "last_activity_date": 1502315943, "creation_date": 1502315943, "answer_id": 45601284, "question_id": 45601192, "link": "https://stackoverflow.com/questions/45601192/send-messages-to-a-computer-off-network-python/45601284#45601284", "title": "send messages to a computer off network python", "body": "<p>The code should work.\nCan you use ping to confirm the destination.\nIf you computer is on an internal network external machines may be only seeing your NAT address, that is an address that you internal network presents to the outside world. Also the computer you are trying to send to would need to have and external IP, that is not an address reserved for internal networks.\nIdeally both computer you are wanting to chat with would have non internal IPs.</p>\n"}, {"comments": [{"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1502316588, "post_id": 45601358, "comment_id": 78162207, "body": "I don&#39;t think this matters. Most networks use many-to-one NAT (source NAT) and there is no way to connect both UDP and TCP from the public network unless you set up port forwarding in the firewall. The &quot;blocking&quot; is a natural side effect of source NAT."}, {"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1502463161, "post_id": 45601358, "comment_id": 78235623, "body": "Yeah, also I think I got confused with UDP multicast.  Usually regular UDP gets routed just fine I guess (besides NAT issues)"}], "tags": [], "owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "is_accepted": false, "score": -1, "last_activity_date": 1502316370, "creation_date": 1502316370, "answer_id": 45601358, "question_id": 45601192, "link": "https://stackoverflow.com/questions/45601192/send-messages-to-a-computer-off-network-python/45601358#45601358", "title": "send messages to a computer off network python", "body": "<p>That code recipe uses datagram sockets (UDP protocol), often these are blocked by a gateway/proxy/firewall. You may have to switch to using TCP instead.</p>\n"}], "owner": {"reputation": 1, "user_id": 7668556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6xRf2.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7668556/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1502316370, "creation_date": 1502315523, "question_id": 45601192, "link": "https://stackoverflow.com/questions/45601192/send-messages-to-a-computer-off-network-python", "title": "send messages to a computer off network python", "body": "<p>I am writing a messaging software based off of the code at this link:</p>\n\n<p><a href=\"http://code.activestate.com/recipes/578802-send-messages-between-computers/\" rel=\"nofollow noreferrer\">http://code.activestate.com/recipes/578802-send-messages-between-computers/</a></p>\n\n<p>I love this code and it works well, but it will not let me send messages to computers that are not on my network.  I was wondering if there is a way that I could modify this code, so that I could send a message to a computer anywhere.</p>\n\n<p>Any help or advice would be great.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 868, "user_id": 8398505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e68440257a73de217ac3529653e000ad?s=128&d=identicon&r=PG&f=1", "display_name": "Dror Av.", "link": "https://stackoverflow.com/users/8398505/dror-av"}, "edited": false, "score": 0, "creation_date": 1502316422, "post_id": 45601186, "comment_id": 78162151, "body": "Are the file names like the list? i.e. - <code>&quot;1&quot;, &quot;1_NEW&quot;, &quot;2&quot;, &quot;3&quot;, &quot;3_RE&quot;</code>? and are they all in the same parent directory?"}, {"owner": {"reputation": 1343, "user_id": 1045755, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/39a2a705859bb09d0151bc4652a74bb6?s=128&d=identicon&r=PG", "display_name": "Denver Dang", "link": "https://stackoverflow.com/users/1045755/denver-dang"}, "reply_to_user": {"reputation": 868, "user_id": 8398505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e68440257a73de217ac3529653e000ad?s=128&d=identicon&r=PG&f=1", "display_name": "Dror Av.", "link": "https://stackoverflow.com/users/8398505/dror-av"}, "edited": false, "score": 0, "creation_date": 1502316636, "post_id": 45601186, "comment_id": 78162228, "body": "I have a directory filled with +1000 folders with different names. In all of these folders there are a .txt file (like the one above) that has the same name. And all these folder names I have in a list like shown. And the list value for each folder is what I want to change the &quot;Patient Name&quot; and &quot;Patient ID&quot; into."}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1502317200, "post_id": 45601186, "comment_id": 78162437, "body": "Of course it can be done, but may I ask how you ended up with this structure in the first place? It would be more efficient putting them in a json, csv or if very large a database?"}, {"owner": {"reputation": 1343, "user_id": 1045755, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/39a2a705859bb09d0151bc4652a74bb6?s=128&d=identicon&r=PG", "display_name": "Denver Dang", "link": "https://stackoverflow.com/users/1045755/denver-dang"}, "edited": false, "score": 0, "creation_date": 1502317533, "post_id": 45601186, "comment_id": 78162546, "body": "Well, besides that one thing in the top, where I want to change the names, there are also approximately 1.3 mio. line of data for EACH file. And the program that extracted the data, well, that did it as individual .txt files for each case/patient. So maybe not optimal, but that was the way things turned out :)"}], "answers": [{"comments": [{"owner": {"reputation": 1343, "user_id": 1045755, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/39a2a705859bb09d0151bc4652a74bb6?s=128&d=identicon&r=PG", "display_name": "Denver Dang", "link": "https://stackoverflow.com/users/1045755/denver-dang"}, "edited": false, "score": 0, "creation_date": 1502319158, "post_id": 45601747, "comment_id": 78163078, "body": "Wow, that really did the trick. And yes, it did overwrite. But that is totally fine. Thank you so much."}], "tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": true, "score": 1, "last_activity_date": 1502318667, "creation_date": 1502318667, "answer_id": 45601747, "question_id": 45601186, "link": "https://stackoverflow.com/questions/45601186/replace-variable-text-after-fixed-text/45601747#45601747", "title": "Replace variable text after fixed text", "body": "<p>Fair enough, here is a code example you could use:</p>\n\n<blockquote>\n  <p>Be warned though as this could overwrite files (try with one file)</p>\n</blockquote>\n\n<pre><code>for file in [\"1\"]:\n\n    # Read file\n    with open(\"{0}/{0}.txt\".format(file)) as f:\n        filecontent = [i.strip(\"\\n\") for i in f.readlines()]    \n\n    # Update first and second row\n    filecontent[0] = filecontent[0].split(\":\")[0] + \": {}\".format(file)\n    filecontent[1] = filecontent[1].split(\":\")[0] + \": {}\".format(file)\n\n    # Ovewrite old file and write\n    with open(\"{0}/{0}.txt\".format(file), \"w\") as f:\n        string = '\\n'.join(filecontent)\n        f.write(string)\n        # print(string)\n</code></pre>\n"}], "owner": {"reputation": 1343, "user_id": 1045755, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/39a2a705859bb09d0151bc4652a74bb6?s=128&d=identicon&r=PG", "display_name": "Denver Dang", "link": "https://stackoverflow.com/users/1045755/denver-dang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 45601747, "answer_count": 1, "score": 0, "last_activity_date": 1502318667, "creation_date": 1502315498, "last_edit_date": 1502316958, "question_id": 45601186, "link": "https://stackoverflow.com/questions/45601186/replace-variable-text-after-fixed-text", "title": "Replace variable text after fixed text", "body": "<p>So I have a .txt file that looks similar to this:</p>\n\n<pre><code>Patient Name         : John Don, 9989\nPatient ID           : 9989\nComment              : Summation\nDate                 : 09.08.2017\nExported by          : Denver\nType                 : DVH\nDescription          : Some random text\n</code></pre>\n\n<p>I also have another list with names that I want to use instead.</p>\n\n<p>So basically, I have several of these .txt files in different folders named by the same names as I would have in my list, fx:</p>\n\n<pre><code>name_list = [\"1\", \"1_NEW\", \"2\", \"3\", \"3_RE\"]\n</code></pre>\n\n<p>The thing I would like to do is to change the value of the <code>Patient name</code> and <code>Patient ID</code> to whatever is in the list.</p>\n\n<p>So for example, for the for the first element in the list it opens the folder with the same name, and then open the .txt file in that folder (same name always), read the .txt file, and change the values AFTER the <code>Patient name</code> and <code>Patient ID</code> to the value of the list. So for the first one I would end up with:</p>\n\n<pre><code>Patient Name         : 1\nPatient ID           : 1\nComment              : Summation\nDate                 : 09.08.2017\nExported by          : Denver\nType                 : DVH\nDescription          : Some random text\n</code></pre>\n\n<p>Can this be done?</p>\n"}, {"tags": ["python", "treeview", "gtk", "pygobject"], "comments": [{"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 1, "creation_date": 1502318203, "post_id": 45601176, "comment_id": 78162755, "body": "How do you wish to edit it? Editing the column title in place is difficult, in Gtk3 almost impossible. Now if you would open a dialog and grab the text out of a entry, you can update the column title with GtkTreeViewColumn.set_title(&#39;new title name&#39;)."}, {"owner": {"reputation": 106, "user_id": 491430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6bdc83ec86f86d785383dfb1bd7ff5?s=128&d=identicon&r=PG", "display_name": "ali65", "link": "https://stackoverflow.com/users/491430/ali65"}, "reply_to_user": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502475836, "post_id": 45601176, "comment_id": 78242685, "body": "In place editing is not the goal here. The provided example for making cells of the table editable does not have it in place either, when a cell on the table is double-clicked, above the cell a text entry pops up. The same method I wish to have, for the titles of the columns."}, {"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502502089, "post_id": 45601176, "comment_id": 78250597, "body": "Could I see the current code you have? This will give me a starting point."}, {"owner": {"reputation": 106, "user_id": 491430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6bdc83ec86f86d785383dfb1bd7ff5?s=128&d=identicon&r=PG", "display_name": "ali65", "link": "https://stackoverflow.com/users/491430/ali65"}, "reply_to_user": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502988167, "post_id": 45601176, "comment_id": 78439028, "body": "I have realized that in my project the column title editing is not really a requirement, rather I want the user to choose the title from a fixed number of options. After this realization, my solution was presenting another TreeTable with the options and the user drag-and-drop one option from the option table and sets the title of the column where the options was dropped. Dear Nerd thanks for trying to help."}], "owner": {"reputation": 106, "user_id": 491430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6bdc83ec86f86d785383dfb1bd7ff5?s=128&d=identicon&r=PG", "display_name": "ali65", "link": "https://stackoverflow.com/users/491430/ali65"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502315466, "creation_date": 1502315466, "question_id": 45601176, "link": "https://stackoverflow.com/questions/45601176/how-could-i-make-the-title-of-a-treeview-column-editable", "title": "How could I make the title of a TreeView Column editable?", "body": "<p>I based on <a href=\"http://python-gtk-3-tutorial.readthedocs.io/en/latest/cellrenderers.html\" rel=\"nofollow noreferrer\">editable cell example</a>, I was able to figure out how to make cells of a column in a table (implemented by TreeView) editable.</p>\n\n<p>But, how could I make the title of the column editable?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 1, "creation_date": 1502315463, "post_id": 45601148, "comment_id": 78161739, "body": "Show your code or no one will help you"}, {"owner": {"reputation": 337, "user_id": 6162092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/5mqvC.jpg?s=128&g=1", "display_name": "SCramphorn", "link": "https://stackoverflow.com/users/6162092/scramphorn"}, "edited": false, "score": 0, "creation_date": 1502315488, "post_id": 45601148, "comment_id": 78161746, "body": "We are not here to answer your assignments. Edit: What have you tried so far?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1502315539, "post_id": 45601148, "comment_id": 78161767, "body": "What&#39;s the closest you got in that hour? Show code and output."}, {"owner": {"reputation": 9, "user_id": 8442177, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101360677074254/picture?type=large", "display_name": "Bryan", "link": "https://stackoverflow.com/users/8442177/bryan"}, "edited": false, "score": 0, "creation_date": 1502315547, "post_id": 45601148, "comment_id": 78161769, "body": "What i have done so far is this &gt;&gt;&gt; x = &quot;-&quot; &gt;&gt;&gt; for i in range(3): \tfor n in range(3): \t\tfor x in range(3): \t\t\tprint x,"}, {"owner": {"reputation": 61, "user_id": 8286516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb2844fd6e0b6c6bffe7dd774b31fb6?s=128&d=identicon&r=PG&f=1", "display_name": "jmoon", "link": "https://stackoverflow.com/users/8286516/jmoon"}, "edited": false, "score": 1, "creation_date": 1502315749, "post_id": 45601148, "comment_id": 78161858, "body": "What output are you getting? Also, is there any reason for you to be using three loops? At most you should only need two."}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 6162092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/5mqvC.jpg?s=128&g=1", "display_name": "SCramphorn", "link": "https://stackoverflow.com/users/6162092/scramphorn"}, "edited": false, "score": 1, "creation_date": 1502315688, "post_id": 45601225, "comment_id": 78161825, "body": "are you taking the micky?! <code>21&#47;7</code> why not <code>3</code> ?"}, {"owner": {"reputation": 61, "user_id": 8286516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbb2844fd6e0b6c6bffe7dd774b31fb6?s=128&d=identicon&r=PG&f=1", "display_name": "jmoon", "link": "https://stackoverflow.com/users/8286516/jmoon"}, "edited": false, "score": 0, "creation_date": 1502315992, "post_id": 45601225, "comment_id": 78161959, "body": "&gt;.&gt; this is amusingly hilarious, also does the job painfully"}, {"owner": {"reputation": 337, "user_id": 6162092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/5mqvC.jpg?s=128&g=1", "display_name": "SCramphorn", "link": "https://stackoverflow.com/users/6162092/scramphorn"}, "edited": false, "score": 0, "creation_date": 1502316017, "post_id": 45601225, "comment_id": 78161972, "body": "You may as well go the whole hog with <code>838.5 &#47; 279.5</code>"}, {"owner": {"reputation": 337, "user_id": 6162092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/5mqvC.jpg?s=128&g=1", "display_name": "SCramphorn", "link": "https://stackoverflow.com/users/6162092/scramphorn"}, "edited": false, "score": 0, "creation_date": 1502316055, "post_id": 45601225, "comment_id": 78161992, "body": "I think I will always do this now in any answers. Thank you"}], "tags": [], "owner": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "is_accepted": false, "score": 2, "last_activity_date": 1502315649, "creation_date": 1502315649, "answer_id": 45601225, "question_id": 45601148, "link": "https://stackoverflow.com/questions/45601148/printing-a-simple-matrix-in-python-using-nested-for-loops/45601225#45601225", "title": "Printing a simple matrix in python using nested for loops", "body": "<pre><code>for i in range(21/7):\n   print ' '.join(['-' for _ in range(264/88)])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "reply_to_user": {"reputation": 9, "user_id": 8442177, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101360677074254/picture?type=large", "display_name": "Bryan", "link": "https://stackoverflow.com/users/8442177/bryan"}, "edited": false, "score": 1, "creation_date": 1502316493, "post_id": 45601230, "comment_id": 78162173, "body": "@Bryan see my edit. The print statement in python 2 and 3 has a bit different format, so I added the python 2 version as well."}], "tags": [], "owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "is_accepted": false, "score": 1, "last_activity_date": 1502316443, "last_edit_date": 1502316443, "creation_date": 1502315700, "answer_id": 45601230, "question_id": 45601148, "link": "https://stackoverflow.com/questions/45601148/printing-a-simple-matrix-in-python-using-nested-for-loops/45601230#45601230", "title": "Printing a simple matrix in python using nested for loops", "body": "<p>In your code, <code>x</code> is defined to be <code>-</code>, so you shouldn't enumerate over it.\nI edited your code to produce a working version. </p>\n\n<p>Note that in the internal loop you need to put spaces between the <code>-</code>, while in the external loop you want to move to the next line. </p>\n\n<p>Here is the code for python 3:</p>\n\n<pre><code>x = \"-\" \nfor i in range(3): \n    for n in range(3): \n        print(x, end=' ')\n    print('\\n')\n</code></pre>\n\n<p>Here is the code for python 2:</p>\n\n<pre><code>x = \"-\" \nfor i in range(3): \n    for n in range(3): \n        print x,\n    print('\\n')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 337, "user_id": 6162092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/5mqvC.jpg?s=128&g=1", "display_name": "SCramphorn", "link": "https://stackoverflow.com/users/6162092/scramphorn"}, "edited": false, "score": 2, "creation_date": 1502315824, "post_id": 45601249, "comment_id": 78161889, "body": "Needs to a nested loop"}, {"owner": {"reputation": 9, "user_id": 8442177, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101360677074254/picture?type=large", "display_name": "Bryan", "link": "https://stackoverflow.com/users/8442177/bryan"}, "edited": false, "score": 0, "creation_date": 1502315929, "post_id": 45601249, "comment_id": 78161930, "body": "my mentor wants me to use nested loops"}], "tags": [], "owner": {"reputation": 4809, "user_id": 7915557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d36b37bf47edc3bf62574d8ab88870f9?s=128&d=identicon&r=PG&f=1", "display_name": "OLIVER.KOO", "link": "https://stackoverflow.com/users/7915557/oliver-koo"}, "is_accepted": false, "score": 0, "last_activity_date": 1502316513, "last_edit_date": 1502316513, "creation_date": 1502315780, "answer_id": 45601249, "question_id": 45601148, "link": "https://stackoverflow.com/questions/45601148/printing-a-simple-matrix-in-python-using-nested-for-loops/45601249#45601249", "title": "Printing a simple matrix in python using nested for loops", "body": "<p>construct a matrix using nested loop:</p>\n\n<pre><code>matrix = [[],[],[]]\n\nfor x in range(0,3):\n  for y in range(0,3):\n    matrix[x].append(\"-\")\n</code></pre>\n\n<p>then print it:</p>\n\n<pre><code>for i in range(3):\n  print(matrix[i])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "edited": false, "score": 0, "creation_date": 1502316640, "post_id": 45601340, "comment_id": 78162229, "body": "Your output doesn&#39;t have the same format as the OP wanted."}, {"owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "reply_to_user": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "edited": false, "score": 0, "creation_date": 1502316981, "post_id": 45601340, "comment_id": 78162357, "body": "Can you check, I think I edited it after your comment, perhaps, but before I noticed your comment.  If so, you are correct that I had left the newline off, and the space between each dash."}, {"owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "edited": false, "score": 0, "creation_date": 1502317153, "post_id": 45601340, "comment_id": 78162410, "body": "When I run your code on python 2, All the &#39;-&#39; form a vertical line (with a space between every 3), instead of 3 horizontal lines."}, {"owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "edited": false, "score": 1, "creation_date": 1502317228, "post_id": 45601340, "comment_id": 78162447, "body": "You need to add a &quot;,&quot; after the print statement if you want to stay in the same line. That is: print &quot;- &quot;,"}, {"owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "reply_to_user": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "edited": false, "score": 1, "creation_date": 1502317514, "post_id": 45601340, "comment_id": 78162539, "body": "@MiriamFarber: my bad,  thanks for the reminder !  I Shall fix now..!"}], "tags": [], "owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "is_accepted": false, "score": 1, "last_activity_date": 1502318949, "last_edit_date": 1502318949, "creation_date": 1502316270, "answer_id": 45601340, "question_id": 45601148, "link": "https://stackoverflow.com/questions/45601148/printing-a-simple-matrix-in-python-using-nested-for-loops/45601340#45601340", "title": "Printing a simple matrix in python using nested for loops", "body": "<p>Very good start!</p>\n\n<p>Let's think through, what were you trying to achieve with your 3rd loop.<br>\n(Hint: you don't need a third loop).   </p>\n\n<p>If you talk out what you need to happen it becomes:</p>\n\n<p>1) print a \"- \" three times.  (inner loop)<br>\n2) print a new line<br>\n3) now go back and repeat steps 1) and 2) three times  (outer loop)</p>\n\n<p>That would only be 2 loops, not 3.</p>\n\n<p>Try This:  </p>\n\n<pre><code>x = \"- \"\nfor i in range(3):\n    for n in range(3):\n        print x,\n    print \"\\n\"\n</code></pre>\n\n<p>You could even shorten this to</p>\n\n<pre><code>for i in range(3):       # print the following line 3 times\n    for n in range(3):   # print 3 dashes, separated by a space\n        print \"- \",\n    print \"\\n\"           # begin a new line\n</code></pre>\n\n<p>BTW, <code>print x,</code> is proper if using Python 2, but for Python 3, it will need to be changed to <code>print(x, end='')</code>.</p>\n"}], "owner": {"reputation": 9, "user_id": 8442177, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101360677074254/picture?type=large", "display_name": "Bryan", "link": "https://stackoverflow.com/users/8442177/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3163, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1502320878, "creation_date": 1502315361, "last_edit_date": 1502320878, "question_id": 45601148, "link": "https://stackoverflow.com/questions/45601148/printing-a-simple-matrix-in-python-using-nested-for-loops", "title": "Printing a simple matrix in python using nested for loops", "body": "<p>I am having trouble with my assignment.</p>\n\n<p>Print out a 3x3 matrix of \u201c-\u201ds using for loops. </p>\n\n<p>It should look like this: </p>\n\n<pre><code>- - -\n- - -\n- - -\n</code></pre>\n\n<p>This is the closest I have come but it's not working</p>\n\n<pre><code>x = \"-\"\nfor i in range(3):\n    for n in range(3):\n        for x in range(3):\n            print x,\n</code></pre>\n\n<p>You will need nested for loops to accomplish this.</p>\n\n<p>I have been trying this for an hour with no luck,  can someone please point me in the right direction?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1502315463, "post_id": 45601131, "comment_id": 78161738, "body": "What&#39;s your NumPy version? It sounds really old."}], "answers": [{"tags": [], "owner": {"reputation": 11863, "user_id": 1762211, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc8759842af428f995e2ce7a03adb609?s=128&d=identicon&r=PG", "display_name": "Mohamed Ali JAMAOUI", "link": "https://stackoverflow.com/users/1762211/mohamed-ali-jamaoui"}, "is_accepted": false, "score": 2, "last_activity_date": 1502341380, "last_edit_date": 1502341380, "creation_date": 1502315639, "answer_id": 45601222, "question_id": 45601131, "link": "https://stackoverflow.com/questions/45601131/numpy-sum-keepdims-error/45601222#45601222", "title": "Numpy sum keepdims error", "body": "<p>The argument is valid in the latest version of numpy as explained <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.sum.html#numpy.sum\" rel=\"nofollow noreferrer\">here</a>. Here is the full list of argument for numpy.sum: </p>\n\n<blockquote>\n  <p>numpy.sum(a, axis=None, dtype=None, out=None, keepdims=False)</p>\n</blockquote>\n\n<p>This was added since version 1.7 as you can see in the source code <a href=\"https://github.com/numpy/numpy/blob/maintenance/1.7.x/numpy/core/fromnumeric.py#L1422\" rel=\"nofollow noreferrer\">here</a>. So, you need to upgrade your numpy installation. </p>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 2, "last_activity_date": 1502316146, "creation_date": 1502316146, "answer_id": 45601312, "question_id": 45601131, "link": "https://stackoverflow.com/questions/45601131/numpy-sum-keepdims-error/45601312#45601312", "title": "Numpy sum keepdims error", "body": "<p>The <code>keepdims</code> argument was added in NumPy 1.7. At least the docstring of <a href=\"https://docs.scipy.org/doc/numpy-1.6.0/reference/generated/numpy.sum.html\" rel=\"nofollow noreferrer\"><code>np.sum</code> (1.6)</a> hasn't listed it as one of the arguments:</p>\n\n<pre><code>numpy.sum(a, axis=None, dtype=None, out=None)\n</code></pre>\n\n<p>However the <a href=\"https://docs.scipy.org/doc/numpy-1.7.0/reference/generated/numpy.sum.html\" rel=\"nofollow noreferrer\">1.7 docstring</a> already listed it:</p>\n\n<pre><code>numpy.sum(a, axis=None, dtype=None, out=None, keepdims=False)\n</code></pre>\n\n<p>Given that NumPy 1.6 was released in <a href=\"https://pypi.python.org/pypi/numpy/1.6.2\" rel=\"nofollow noreferrer\">2012</a> you probably should update your NumPy package.</p>\n\n<p>However you could also use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.expand_dims.html\" rel=\"nofollow noreferrer\"><code>np.expand_dims</code></a> in case you can't (or don't want to) update NumPy:</p>\n\n<pre><code>np.expand_dims(np.sum(exp_scores, axis=1), axis=1)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 2658044, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5cd67314030b0c432bd759eb1d8c0384?s=128&d=identicon&r=PG", "display_name": "FlorianFP", "link": "https://stackoverflow.com/users/2658044/florianfp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1018, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1502341380, "creation_date": 1502315255, "question_id": 45601131, "link": "https://stackoverflow.com/questions/45601131/numpy-sum-keepdims-error", "title": "Numpy sum keepdims error", "body": "<p>Python throws an error when calling numpy sum function on a matrix. </p>\n\n<pre><code>probs = exp_scores / np.sum(exp_scores, axis=1, keepdims=True)\n</code></pre>\n\n<p>The error</p>\n\n<pre><code>probs = exp_scores / np.sum(exp_scores, axis=1, keepdims=True)\nTypeError: sum() got an unexpected keyword argument 'keepdims'\n</code></pre>\n\n<p>Context: Calculate the loss function for a softmax classifier. Numerator is the exponential of the score function for the correct class and denominator is the sum of all the exponentials for all possible classes.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "pygame", "pygame-surface"], "comments": [{"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1502326477, "post_id": 45601109, "comment_id": 78164922, "body": "To format the code correctly, you have to select it in the submission window and press &quot;Ctrl-K&quot; (that adds four extra spaces before each line of code)."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 7208397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7231a39ef657e562200613ae0b389043?s=128&d=identicon&r=PG&f=1", "display_name": "Katrina", "link": "https://stackoverflow.com/users/7208397/katrina"}, "edited": false, "score": 0, "creation_date": 1502319390, "post_id": 45601826, "comment_id": 78163160, "body": "When I press the left arrow key it flips to the left (so the pig is looking to the left) but when I release it, it flips back to the original image (so the pig is now looking to the right again). How do I make it stay looking to the left even if i release the key?"}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "reply_to_user": {"reputation": 133, "user_id": 7208397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7231a39ef657e562200613ae0b389043?s=128&d=identicon&r=PG&f=1", "display_name": "Katrina", "link": "https://stackoverflow.com/users/7208397/katrina"}, "edited": false, "score": 0, "creation_date": 1502321278, "post_id": 45601826, "comment_id": 78163699, "body": "You could do it like so: First load the original image and create the flipped version in the global scope. When the player presses the left key, set <code>pig.image</code> to the left image and when the player presses the right key set the <code>pig.image</code> back to the right image."}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "reply_to_user": {"reputation": 133, "user_id": 7208397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7231a39ef657e562200613ae0b389043?s=128&d=identicon&r=PG&f=1", "display_name": "Katrina", "link": "https://stackoverflow.com/users/7208397/katrina"}, "edited": false, "score": 0, "creation_date": 1502326276, "post_id": 45601826, "comment_id": 78164876, "body": "Side note: I recommend to add a <code>pygame.time.Clock</code> to limit the frame rate."}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "reply_to_user": {"reputation": 133, "user_id": 7208397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7231a39ef657e562200613ae0b389043?s=128&d=identicon&r=PG&f=1", "display_name": "Katrina", "link": "https://stackoverflow.com/users/7208397/katrina"}, "edited": false, "score": 0, "creation_date": 1502326670, "post_id": 45601826, "comment_id": 78164976, "body": "Also, note that constantly flipping or scaling a surface during the run time of the game is a lot more costly than creating the surfaces beforehand and to switch the <code>self.image</code> attribute."}], "tags": [], "owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "is_accepted": false, "score": 3, "last_activity_date": 1502326213, "last_edit_date": 1502326213, "creation_date": 1502319105, "answer_id": 45601826, "question_id": 45601109, "link": "https://stackoverflow.com/questions/45601109/how-do-i-flip-an-image-horizontally-in-pygame/45601826#45601826", "title": "How do I flip an image horizontally in pygame?", "body": "<p><a href=\"https://www.pygame.org/docs/ref/transform.html#pygame.transform.flip\" rel=\"nofollow noreferrer\"><code>pygame.transform.flip</code></a> takes three arguments: </p>\n\n<ol>\n<li>The <a href=\"https://www.pygame.org/docs/ref/surface.html\" rel=\"nofollow noreferrer\">surface</a> you want to flip</li>\n<li>A boolean to indicate that the surface should be flipped horizontally</li>\n<li>A boolean to indicate that the surface should be flipped vertically</li>\n</ol>\n\n<p>To flip the surface only vertically pass <code>True</code> as the third argument:</p>\n\n<pre><code>flipped_surface = pygame.transform.flip(surface, False, True)\n</code></pre>\n\n<hr>\n\n<p>Regarding your specific problem, you could do something like this:</p>\n\n<pre><code>PIG_RIGHT = pygame.image.load('pig.png').convert()\nPIG_LEFT = pygame.transform.flip(PIG_RIGHT, True, False)\n\npig = Pig(screen, PIG_RIGHT)  # Assign this image to `self.image`.\nclock = pygame.time.Clock()\n\nwhile True:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            pygame.quit()\n            sys.exit()\n        elif event.type == pygame.KEYDOWN:\n            if event.key == pygame.K_RIGHT:\n                pig.moving_right = True\n                pig.image = PIG_RIGHT\n            elif event.key == pygame.K_LEFT:\n                pig.moving_left = True\n                pig.image = PIG_LEFT\n\n    screen.fill(blue_sky)\n\n    pig.blitme()\n    pig.update()\n\n    pygame.display.flip()\n    clock.tick(30)\n</code></pre>\n\n<p>You could also store the two suraces in your <code>Pig</code> class and switch the <code>self.image</code> in relation to the state of the <code>self.moving_right</code>, <code>self.moving_left</code> or <code>self.direction</code> attributes.</p>\n"}, {"tags": [], "owner": {"reputation": 48, "user_id": 8432684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C5Ce8.jpg?s=128&g=1", "display_name": "Technojazz", "link": "https://stackoverflow.com/users/8432684/technojazz"}, "is_accepted": false, "score": 0, "last_activity_date": 1502323054, "last_edit_date": 1502323054, "creation_date": 1502322372, "answer_id": 45602287, "question_id": 45601109, "link": "https://stackoverflow.com/questions/45601109/how-do-i-flip-an-image-horizontally-in-pygame/45602287#45602287", "title": "How do I flip an image horizontally in pygame?", "body": "<p>Try adding something like this:</p>\n\n<pre><code>elif event.key == pygame.K_RIGHT:\n    pig.image = pygame.transform.flip(pig.image, True, False)\n    pygame.display.update()'''I dont think you need this'''\nelif event.key == pygame.K_LEFT:\n    pig.image = pygame.transform.flip(pig.image, True, False)\n    pygame.display.update()'''Or this'''\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 7208397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7231a39ef657e562200613ae0b389043?s=128&d=identicon&r=PG&f=1", "display_name": "Katrina", "link": "https://stackoverflow.com/users/7208397/katrina"}, "edited": false, "score": 0, "creation_date": 1502324278, "post_id": 45602436, "comment_id": 78164376, "body": "Can you elaborate more?"}, {"owner": {"reputation": 1410, "user_id": 768408, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0fe5f396835004cfdbf3456780dc8cb3?s=128&d=identicon&r=PG", "display_name": "Saedeas", "link": "https://stackoverflow.com/users/768408/saedeas"}, "reply_to_user": {"reputation": 133, "user_id": 7208397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7231a39ef657e562200613ae0b389043?s=128&d=identicon&r=PG&f=1", "display_name": "Katrina", "link": "https://stackoverflow.com/users/7208397/katrina"}, "edited": false, "score": 0, "creation_date": 1502324968, "post_id": 45602436, "comment_id": 78164550, "body": "See my edit. I think it should clarify (note you may have to tweak things a little)."}], "tags": [], "owner": {"reputation": 1410, "user_id": 768408, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0fe5f396835004cfdbf3456780dc8cb3?s=128&d=identicon&r=PG", "display_name": "Saedeas", "link": "https://stackoverflow.com/users/768408/saedeas"}, "is_accepted": true, "score": 2, "last_activity_date": 1502332095, "last_edit_date": 1502332095, "creation_date": 1502323467, "answer_id": 45602436, "question_id": 45601109, "link": "https://stackoverflow.com/questions/45601109/how-do-i-flip-an-image-horizontally-in-pygame/45602436#45602436", "title": "How do I flip an image horizontally in pygame?", "body": "<p>Add a pig orientation variable.  Set it on key down, don't change it back on key up.  Have movement rely on the moving_direction variable and the sprite displayed rely on the orientation variable.</p>\n\n<p>Change blitme like so:</p>\n\n<pre><code>def blitme(self):\n    if self.orientation == \"Right\":\n        self.screen.blit(self.image, self.rect)\n    elif self.orientation == \"Left\":\n        self.screen.blit(pygame.transform.flip(self.image, False, True), self.rect)\n</code></pre>\n\n<p>Then you can have your key press logic like so:</p>\n\n<pre><code>elif event.type == pygame.KEYDOWN:\n            if event.key == pygame.K_RIGHT:\n                pig.moving_right = True\n                pig.orientation = \"Right\"\n            elif event.key == pygame.K_LEFT:\n                pig.moving_left = True\n                pig.orientation = \"Left\"\n            elif event.key == pygame.K_UP:\n                pig.moving_up = True\n            elif event.key == pygame.K_DOWN:\n                pig.moving_down = True\n</code></pre>\n\n<p>In this way you can separate display and movement logic.</p>\n"}], "owner": {"reputation": 133, "user_id": 7208397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7231a39ef657e562200613ae0b389043?s=128&d=identicon&r=PG&f=1", "display_name": "Katrina", "link": "https://stackoverflow.com/users/7208397/katrina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14145, "favorite_count": 0, "accepted_answer_id": 45602436, "answer_count": 3, "score": 3, "last_activity_date": 1502332095, "creation_date": 1502315143, "last_edit_date": 1502326439, "question_id": 45601109, "link": "https://stackoverflow.com/questions/45601109/how-do-i-flip-an-image-horizontally-in-pygame", "title": "How do I flip an image horizontally in pygame?", "body": "<p>This is in pygame. How do I flip an image (lets say an image of a\npig looking to the right) to look to the left when \nI press the left arrow key, and stay like that\neven if I don't press any keys or if I press the up and down arrow keys. Then how do I switch it back again to look to the right when I press the right arrow key and make it stay like that even if I don't press any key or if I press the up and down arrow keys.</p>\n\n<p>I know I have to use <i>pygame.transform.flip()</i>. But, I don't know how to put it in my code. </p>\n\n<p>This is the main game:</p>\n\n<pre><code>import sys\n\nimport pygame\n\nfrom pig import Pig\n\npygame.init()\n\nscreen_width = 800\nscreen_height = 600\n\nscreen = pygame.display.set_mode((screen_width, screen_height))\npygame.display.set_caption(\"Flying Pig\")\n\nblue_sky = 135, 206, 250\nbrown = 139, 69, 19\n\npig = Pig(screen)\n\nwhile True:\n\n    # Accept events\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            sys.exit()\n\n        # Keydown events\n        elif event.type == pygame.KEYDOWN:\n            if event.key == pygame.K_RIGHT:\n                pig.moving_right = True\n            elif event.key == pygame.K_LEFT:\n                pig.moving_left = True\n            elif event.key == pygame.K_UP:\n                pig.moving_up = True\n            elif event.key == pygame.K_DOWN:\n                pig.moving_down = True\n\n        # Keyup events\n        elif event.type == pygame.KEYUP:\n            if event.key == pygame.K_RIGHT:\n                pig.moving_right = False\n            elif event.key == pygame.K_LEFT:\n                pig.moving_left = False\n            elif event.key == pygame.K_UP:\n                pig.moving_up = False\n            elif event.key == pygame.K_DOWN:\n                pig.moving_down = False\n\n    screen.fill(blue_sky)\n\n    pig.blitme()\n    pig.update()\n\n    pygame.display.flip()\n</code></pre>\n\n<p>The pig class: (This is indented. I just don't know how to properly copy and paste my code here) </p>\n\n<pre><code>import pygame \n\nclass Pig():\n\n    def __init__(self, screen):\n        \"\"\"Initialize the pig and set its starting position.\"\"\"\n        self.screen = screen\n\n        # Load the pig image and set pig and screen to rect.\n        self.image = pygame.image.load('pig.png')\n        self.rect = self.image.get_rect()\n        self.screen_rect = screen.get_rect()\n\n        # Start the pig at the bottom center of the screen.\n        self.rect.centerx = self.screen_rect.centerx\n        self.rect.bottom = self.screen_rect.bottom\n\n        # Speed of the pig\n        self.pig_speed = 1.5\n        self.center = float(self.pig_speed)\n\n        # Set a variable for each movement.\n        self.moving_right = False\n        self.moving_left = False\n        self.moving_up = False\n        self.moving_down = False\n\n        self.direction = ['right', 'left']\n\n    def update(self):\n        \"\"\"Update the position of the pig.\"\"\"\n\n        if self.rect.right &lt;= self.screen_rect.right:\n            if self.moving_right:\n                self.rect.centerx += self.pig_speed\n\n        if self.rect.left &gt; 0:\n            if self.moving_left:\n                self.rect.centerx -= self.pig_speed\n\n        if self.rect.top &gt; 0:\n            if self.moving_up:\n                self.rect.bottom -= self.pig_speed\n\n        if self.rect.bottom &lt;= self.screen_rect.bottom:\n            if self.moving_down:\n                self.rect.bottom += self.pig_speed\n\n    def blitme(self):\n        \"\"\"Draw the pig at its current location.\"\"\"\n        self.screen.blit(self.image, self.rect)\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "data-structures"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1502316496, "creation_date": 1502316496, "answer_id": 45601382, "question_id": 45601069, "link": "https://stackoverflow.com/questions/45601069/how-to-identify-nominal-columns-in-a-data-frame/45601382#45601382", "title": "how to identify nominal columns in a data frame?", "body": "<p>IIUC we can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.select_dtypes.html\" rel=\"nofollow noreferrer\">DataFrame.select_dtypes()</a> method:</p>\n\n<p>Source DF:</p>\n\n<pre><code>In [151]: df\nOut[151]:\n   0  1  2  3      4  5\n0  a  b  c  1   1.30  d\n1  q  w  e  2  45.50  r\n2  z  x  c  1  76.09  f\n3  z  x  e  4   0.09  r\n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>In [155]: df.select_dtypes(['number']) \\\n            .join(pd.get_dummies(df.select_dtypes(exclude=['number'])))\nOut[155]:\n   3      4  0_a  0_q  0_z  1_b  1_w  1_x  2_c  2_e  5_d  5_f  5_r\n0  1   1.30    1    0    0    1    0    0    1    0    1    0    0\n1  2  45.50    0    1    0    0    1    0    0    1    0    0    1\n2  1  76.09    0    0    1    0    0    1    1    0    0    1    0\n3  4   0.09    0    0    1    0    0    1    0    1    0    0    1\n</code></pre>\n"}], "owner": {"reputation": 676, "user_id": 8388965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FSFRG.png?s=128&g=1", "display_name": "Farshid Rayhan", "link": "https://stackoverflow.com/users/8388965/farshid-rayhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "accepted_answer_id": 45601382, "answer_count": 1, "score": 2, "last_activity_date": 1502316544, "creation_date": 1502314910, "question_id": 45601069, "link": "https://stackoverflow.com/questions/45601069/how-to-identify-nominal-columns-in-a-data-frame", "title": "how to identify nominal columns in a data frame?", "body": "<p>I have the following dataset (self made) . </p>\n\n<pre><code>a , b , c , 1 , 1.3  ,d\nq , w , e , 2 , 45.5 ,r\nz , x , c , 1 , 76.09,f\nz , x , e , 4 , 0.09 ,r\n</code></pre>\n\n<p>Here the last col is the class value . Now when i load the data into a dataframe (df) and apply </p>\n\n<pre><code>pandas.get_dummies(df)\n</code></pre>\n\n<p>i get output like this </p>\n\n<pre><code>   0_a  0_q  0_z  1_b  1_w  1_x  2_c  2_e  3_1  3_2  3_4  4_0.09  4_1.3  \\\n0    1    0    0    1    0    0    1    0    1    0    0       0      1   \n1    0    1    0    0    1    0    0    1    0    1    0       0      0   \n2    0    0    1    0    0    1    1    0    1    0    0       0      0   \n3    0    0    1    0    0    1    0    1    0    0    1       1      0  \n</code></pre>\n\n<p>here it is converting the fractional values as well . if i specify the col numbers like this </p>\n\n<pre><code>df = pandas.get_dummies(df , columns=[0,1,2])\n</code></pre>\n\n<p>i can get the desired output</p>\n\n<pre><code>   3      4  0_a  0_q  0_z  1_b  1_w  1_x  2_c  2_e\n0  1    1.3    1    0    0    1    0    0    1    0\n1  2   45.5    0    1    0    0    1    0    0    1\n2  1  76.09    0    0    1    0    0    1    1    0\n3  4   0.09    0    0    1    0    0    1    0    1\n</code></pre>\n\n<p>My question is , how can i do that without specifying the column numbers . Is it possible to identify the column numbers of only nominal data (not fraction) ?   </p>\n"}, {"tags": ["python", "request"], "answers": [{"comments": [{"owner": {"reputation": 30, "user_id": 2525951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa113431e97efe7687f297daf40b670?s=128&d=identicon&r=PG", "display_name": "user2525951", "link": "https://stackoverflow.com/users/2525951/user2525951"}, "edited": false, "score": 0, "creation_date": 1502316825, "post_id": 45601313, "comment_id": 78162294, "body": "The problem with this approach is that it doesn&#39;t actually get the links for page 2, 3, 4, etc. Instead we get the same links from page 0 over and over again. This can be validated by looking up some username from another page."}, {"owner": {"reputation": 1841, "user_id": 4088642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7008d91eda667f190feda8de7a0d398b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Goggin", "link": "https://stackoverflow.com/users/4088642/brendan-goggin"}, "reply_to_user": {"reputation": 30, "user_id": 2525951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa113431e97efe7687f297daf40b670?s=128&d=identicon&r=PG", "display_name": "user2525951", "link": "https://stackoverflow.com/users/2525951/user2525951"}, "edited": false, "score": 0, "creation_date": 1502317430, "post_id": 45601313, "comment_id": 78162512, "body": "I added a better approach, and left the original approach at the bottom of the answer. The approach I added uses selenium to do what you want. I believe the original approach does work in loading page 2, 3, 4, etc., but you are right that it also loads page 0 a total of thirty times."}], "tags": [], "owner": {"reputation": 1841, "user_id": 4088642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7008d91eda667f190feda8de7a0d398b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Goggin", "link": "https://stackoverflow.com/users/4088642/brendan-goggin"}, "is_accepted": true, "score": 1, "last_activity_date": 1502317575, "last_edit_date": 1502317575, "creation_date": 1502316156, "answer_id": 45601313, "question_id": 45601052, "link": "https://stackoverflow.com/questions/45601052/list-links-in-web-page-with-python/45601313#45601313", "title": "List links in web page with python", "body": "<p><strong>Edit/Update:</strong> Using <a href=\"http://selenium-python.readthedocs.io/\" rel=\"nofollow noreferrer\">Selenium</a>, you could click the page links before scraping the html to collect all the content into the html. Many/most websites with pagination don't collect all the text in the html when you click through the pages, but I noticed that the example you provided does. Take a look <a href=\"https://stackoverflow.com/questions/13960326/how-can-i-parse-a-website-using-selenium-and-beautifulsoup-in-python\">at this SO question</a> for a quick example of making Selenium work with BeautifulSoup. Here is how you could use it in your code:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nfrom selenium import webdriver\n\ndriver = webdriver.Firefox()\noriginal_url = \"https://www.go-hero.net/jam/17/solutions/1/1/C++\"\ndriver.get(original_url)\n\n# click the links for pages 1-29\nfor i in range(1, 30):\n    path_string = '/jam/17/solutions/1/1/C++#page-' + str(i)\n    driver.find_element_by_xpath('//a[@href=' + path_string + ']').click()\n\n# scrape from the accumulated html\nhtml = driver.page_source\nsoup = BeautifulSoup(html)\nlinks = soup.find_all('a')\n\n# proceed as normal from here\nfor tag in links:\n    link = tag.get('href', None)\n    if link is not None and 'GetSource' in link:\n        print(link)\n</code></pre>\n\n<p>Original Answer: For the <a href=\"https://www.go-hero.net/jam/17/solutions/1/1/C++\" rel=\"nofollow noreferrer\">link</a> you provided above, you could simply loop through possible urls and run your scraping code in the loop:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\noriginal_url = \"https://www.go-hero.net/jam/17/solutions/1/1/C++\"\n\n# scrape from the original page (has no page number)\nresponse = requests.get(original_url)\nsoup = BeautifulSoup(response.content, \"html5lib\")\nlinks = soup.find_all('a')\n\n# prepare to scrape from the pages numbered 1-29\n# (note that the original page is not numbered, and the next page is \"#page-1\")\nurl_suffix = '#page-'\n\nfor i in range(1, 30):\n    # add page number to the url\n    paginated_url = original_url + url_suffix + str(i)\n    response = requests.get(paginated_url)\n    soup = BeautifulSoup(response.content, \"html5lib\")\n    # append resulting list to 'links' list\n    links += soup.find_all('a')\n\n# proceed as normal from here\nfor tag in links:\n    link = tag.get('href', None)\n    if link is not None and 'GetSource' in link:\n        print(link)\n</code></pre>\n\n<p>I don't know if you mind that you'll get duplicates in your results. You will get duplicate results in your <code>link</code> list as the code currently stands, but you could add the links to a Set or something instead to easily remedy that.</p>\n"}], "owner": {"reputation": 30, "user_id": 2525951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa113431e97efe7687f297daf40b670?s=128&d=identicon&r=PG", "display_name": "user2525951", "link": "https://stackoverflow.com/users/2525951/user2525951"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2506, "favorite_count": 0, "accepted_answer_id": 45601313, "answer_count": 1, "score": 1, "last_activity_date": 1502317575, "creation_date": 1502314839, "question_id": 45601052, "link": "https://stackoverflow.com/questions/45601052/list-links-in-web-page-with-python", "title": "List links in web page with python", "body": "<p>I am trying to write a python script that lists all the links in a webpage that contain some substring. The problem that I am running into is that the webpage has multiple \"pages\" so that it doesn't clutter all the screen. Take a look at <a href=\"https://www.go-hero.net/jam/17/solutions/1/1/C++\" rel=\"nofollow noreferrer\">https://www.go-hero.net/jam/17/solutions/1/1/C++</a> for an example. </p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nurl = \"https://www.go-hero.net/jam/17/solutions/1/1/C++\"\nresponse = requests.get(url)\nsoup = BeautifulSoup(response.content, \"html5lib\")\nlinks = soup.find_all('a')\n\nfor tag in links:\n  link = tag.get('href', None)\n  if link is not None and 'GetSource' in link:\n    print(link)\n</code></pre>\n\n<p>Any suggestions on how I might get this to work? Thanks in advance.</p>\n"}, {"tags": ["python", "ubuntu", "a-records", "pyalsaaudio"], "answers": [{"tags": [], "owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "is_accepted": false, "score": 2, "last_activity_date": 1502348231, "creation_date": 1502348231, "answer_id": 45606554, "question_id": 45601034, "link": "https://stackoverflow.com/questions/45601034/what-to-put-for-the-alsaaudio-python-card/45606554#45606554", "title": "What to put for the alsaaudio python card\uff1f", "body": "<p>The <a href=\"https://larsimmisch.github.io/pyalsaaudio/libalsaaudio.html#pcm-objects\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n<pre><code>class alsaaudio.PCM(type=PCM_PLAYBACK, mode=PCM_NORMAL, device='default', cardindex=-1)\n</code></pre>\n  \n  <p>This class is used to represent a PCM device (either for playback and recording). The arguments are:<br>\n  [\u2026]</p>\n  \n  <ul>\n  <li>device - the name of the PCM device that should be used (for example a value from the output of <code>pcms()</code>). The default value is <code>'default'</code>.</li>\n  </ul>\n  \n  <p>[\u2026]</p>\n  \n  <p>Changed in 0.8:</p>\n  \n  <ul>\n  <li>The <code>card</code> keyword argument is still supported, but deprecated. Please use <code>device</code> instead.</li>\n  <li>The keyword argument <code>cardindex</code> was added.</li>\n  </ul>\n  \n  <p>The <code>card</code> keyword is deprecated because it guesses the real ALSA name of the card. This was always fragile and broke some legitimate usecases.</p>\n</blockquote>\n"}], "owner": {"reputation": 751, "user_id": 7092612, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f2c7e756b5d374d5dc5d9ed2b99dbc07?s=128&d=identicon&r=PG&f=1", "display_name": "wrek", "link": "https://stackoverflow.com/users/7092612/wrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524022427, "creation_date": 1502314747, "last_edit_date": 1524022427, "question_id": 45601034, "link": "https://stackoverflow.com/questions/45601034/what-to-put-for-the-alsaaudio-python-card", "title": "What to put for the alsaaudio python card\uff1f", "body": "<p>I am trying to use alsaaudio in my python code.</p>\n\n<p><code>inp = alsaaudio.PCM(alsaaudio.PCM_CAPTURE, alsaaudio.PCM_NONBLOCK, card)</code></p>\n\n<p>For the third parameter <code>card</code>, what should I put?</p>\n\n<pre><code>root@abc:~/Desktop# arecord --list-devices\n**** List of CAPTURE Hardware Devices ****\ncard 0: PCH [HDA Intel PCH], device 0: ALC269VB Analog [ALC269VB Analog]\n  Subdevices: 0/1\n  Subdevice #0: subdevice #0\ncard 1: H340 [Logitech USB Headset H340], device 0: USB Audio [USB Audio]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\n</code></pre>\n\n<p>I want to input audio from the Logitech USB Headset.<br>\nShould it be <code>hw:1,0</code> ????</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "algorithm", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1502314664, "post_id": 45601000, "comment_id": 78161413, "body": "&quot;It may also be caused by inefficent code.&quot; Run your code in a real environment. Does it take longer than 12 seconds to complete?"}, {"owner": {"reputation": 2201, "user_id": 1488801, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6uYLp.jpg?s=128&g=1", "display_name": "James Elderfield", "link": "https://stackoverflow.com/users/1488801/james-elderfield"}, "edited": false, "score": 0, "creation_date": 1502314748, "post_id": 45601000, "comment_id": 78161453, "body": "This looks like your code is being killed by the server for being too slow. You could try submitting your <code>find_uniq</code> function to <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> for help with increasing its speed."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1502315539, "post_id": 45601000, "comment_id": 78161766, "body": "There is nothing in the code you posted that would explain the long runtime. Even the 92ms seem to be rather long."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 8334490, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZqRH9.jpg?s=128&g=1", "display_name": "Oleg Radchenko", "link": "https://stackoverflow.com/users/8334490/oleg-radchenko"}, "edited": false, "score": 0, "creation_date": 1502315913, "post_id": 45601099, "comment_id": 78161925, "body": "Indeed, it was my mistakes. Thank you so much! &#39;set&#39; had solved this problem."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1502315077, "creation_date": 1502315077, "answer_id": 45601099, "question_id": 45601000, "link": "https://stackoverflow.com/questions/45601000/codewars-abort-process-was-terminated-it-took-longer-than-12000ms-to-complete/45601099#45601099", "title": "Codewars abort: process was terminated. It took longer than 12000ms to complete", "body": "<p>For very large sets, this is inefficient, as you check redundant set elements multiple times.  For instance in your first test set, you will check <strong>1</strong> five times.  Try this modification:</p>\n\n<pre><code>find_uniq = lambda a: [x for x in set(a) if a.count(x) == 1].pop()\n</code></pre>\n\n<p>If you want to save a few microseconds, just grab the first element instead of <strong>pop</strong>ping:</p>\n\n<pre><code>find_uniq = lambda a: [x for x in set(a) if a.count(x) == 1] [0]\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8334490, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZqRH9.jpg?s=128&g=1", "display_name": "Oleg Radchenko", "link": "https://stackoverflow.com/users/8334490/oleg-radchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "accepted_answer_id": 45601099, "answer_count": 1, "score": 1, "last_activity_date": 1502315222, "creation_date": 1502314567, "last_edit_date": 1502315222, "question_id": 45601000, "link": "https://stackoverflow.com/questions/45601000/codewars-abort-process-was-terminated-it-took-longer-than-12000ms-to-complete", "title": "Codewars abort: process was terminated. It took longer than 12000ms to complete", "body": "<p>I'm testing my code for 'Find the unique number' and I'm encountering </p>\n\n<blockquote>\n  <p>STDERR:</p>\n  \n  <p>Process was terminated. It took longer than 12000ms to complete</p>\n  \n  <p>SIGKILL Process exited prematurely with a SIGKILL signal. Server\n  Execution Error:</p>\n  \n  <p>The server timed out waiting for the code to finish executing. It is\n  possible that this is due to high server load. It may also be caused\n  by inefficent code. Please try your request again.</p>\n</blockquote>\n\n<p>This often occurs with my code. Is this related to the quality of code, or is it a server problem? I hope that it refers to my code.</p>\n\n<pre><code>find_uniq = lambda a: [x for x in a if a.count(x) == 1].pop()\n# I have passed all of this tests\n# btw I'm using python 3\ntest.assert_equals(find_uniq([ 1, 1, 1, 2, 1, 1 ]), 2)\ntest.assert_equals(find_uniq([ 0, 0, 0.55, 0, 0 ]), 0.55) \ntest.assert_equals(find_uniq([ 3, 10, 3, 3, 3 ]), 10)\nTime: 92ms Passed: 3 Failed: 0 \n</code></pre>\n"}, {"tags": ["python", "setuptools", "distutils"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1502315706, "post_id": 45600987, "comment_id": 78161832, "body": "What setuptools/distutils functionality are you hoping to take advantage of?"}, {"owner": {"reputation": 884, "user_id": 187972, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/13a7fe2f6b6644b287d80fedae50dc3a?s=128&d=identicon&r=PG", "display_name": "jogloran", "link": "https://stackoverflow.com/users/187972/jogloran"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1502315830, "post_id": 45600987, "comment_id": 78161892, "body": "1) Being able to install through pip with the same workflow as other packages, and 2) being able to package pure Python code together with the C extension. Of course I can just copy the <code>.so</code> onto the PYTHONPATH but I was hoping that distutils could handle the path munging."}, {"owner": {"reputation": 1923, "user_id": 765210, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/a28TG.png?s=128&g=1", "display_name": "Dmiters", "link": "https://stackoverflow.com/users/765210/dmiters"}, "edited": false, "score": 1, "creation_date": 1502755507, "post_id": 45600987, "comment_id": 78327419, "body": "Are you <i>sure</i> that the <code>import *</code> way doesn&#39;t work? I just tried it and <code>mymodule.A</code> and <code>mymodule.mymodule_native.A</code> point to same exact object."}, {"owner": {"reputation": 884, "user_id": 187972, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/13a7fe2f6b6644b287d80fedae50dc3a?s=128&d=identicon&r=PG", "display_name": "jogloran", "link": "https://stackoverflow.com/users/187972/jogloran"}, "edited": false, "score": 0, "creation_date": 1502755575, "post_id": 45600987, "comment_id": 78327433, "body": "They do point to the same object -- I was wondering if there&#39;s a preferred way apart from this, which seems like a workaround. Ideally, it would be indistinguishable from being directly in the package <code>mymodule</code>."}, {"owner": {"reputation": 1923, "user_id": 765210, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/a28TG.png?s=128&g=1", "display_name": "Dmiters", "link": "https://stackoverflow.com/users/765210/dmiters"}, "edited": false, "score": 0, "creation_date": 1502756216, "post_id": 45600987, "comment_id": 78327557, "body": "Ooh, try compiling it with the name <code>__init__</code> so you get <code>__init__.so</code> (and so it has an <code>init__init__</code> function inside). Then you can place it in your module directory, and create a blank <code>__init__.py</code> just so it gets recognized as a module."}, {"owner": {"reputation": 1689, "user_id": 6366251, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bbb4d61b18d624070307e0b90b022474?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Jacob", "link": "https://stackoverflow.com/users/6366251/manuel-jacob"}, "edited": false, "score": 0, "creation_date": 1503000673, "post_id": 45600987, "comment_id": 78445676, "body": "Why do you think that setuptools requires a directory?"}, {"owner": {"reputation": 884, "user_id": 187972, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/13a7fe2f6b6644b287d80fedae50dc3a?s=128&d=identicon&r=PG", "display_name": "jogloran", "link": "https://stackoverflow.com/users/187972/jogloran"}, "edited": false, "score": 0, "creation_date": 1503014159, "post_id": 45600987, "comment_id": 78450549, "body": "It does require a directory with a module structure (<code>__init__.py</code>): otherwise you get <code>warning: install_lib: &#39;build&#47;lib.linux-x86_64-2.7&#39; does not exist -- no Python modules to install</code>"}], "answers": [{"comments": [{"owner": {"reputation": 884, "user_id": 187972, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/13a7fe2f6b6644b287d80fedae50dc3a?s=128&d=identicon&r=PG", "display_name": "jogloran", "link": "https://stackoverflow.com/users/187972/jogloran"}, "edited": false, "score": 1, "creation_date": 1503349575, "post_id": 45794620, "comment_id": 78568841, "body": "Hi there, thanks for your answer. I was more interested in doing this when the .so is not built by <code>Extension</code> -- I suppose the only way is to copy it into the module directory then access it as <code>mymodule.mymodule_native</code>."}], "tags": [], "owner": {"reputation": 4536, "user_id": 4165324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d50177f8e05b2c515b26455ba250ce?s=128&d=identicon&r=PG&f=1", "display_name": "danny", "link": "https://stackoverflow.com/users/4165324/danny"}, "is_accepted": false, "score": 1, "last_activity_date": 1503310688, "creation_date": 1503310688, "answer_id": 45794620, "question_id": 45600987, "link": "https://stackoverflow.com/questions/45600987/creating-a-python-package-for-a-c-extension-only-module-which-is-pre-built/45794620#45794620", "title": "Creating a Python package for a C extension-only module which is pre-built", "body": "<p>It's possible if the extension is configured by setuptools.</p>\n\n<p>For example:</p>\n\n<pre><code>from setuptools import setup, Extension\n\nextension = Extension('mymodule', sources=[&lt;..&gt;])\nsetup('mymodule', ext_modules=[extension])\n</code></pre>\n\n<p>Once installed, the extension is available as <code>import mymodule</code>. Note that <code>find_packages</code> is not used.</p>\n\n<p>This needs to be done by setuptools as it would otherwise require a <code>packages</code> setting if no <code>ext_modules</code> are provided.</p>\n\n<p><em>However</em>, this makes the <code>.so</code> module be installed directly under <code>site-packages</code> directory and will conflict with any non-extension python modules of the same name.</p>\n\n<p>This is generally considered bad practice and most libraries use a bare python module with a single <code>__init__.py</code>, under which the extension is available.</p>\n\n<p>You may in future add python code to your module for example and wish to separate the pure python code from extension code. Or you may want to add more than one extension which is not possible in this way, at least not while keeping the same package name.</p>\n\n<p>So a structure like <code>mymodule.&lt;python modules&gt;</code> and <code>mymodule.my_extension</code> makes sense. </p>\n\n<p>Personally I'd have separate name spaces for extension code vs python code and <em>not</em> do <code>from &lt;ext mod&gt; import *</code> in <code>__init__.py</code>.</p>\n"}], "owner": {"reputation": 884, "user_id": 187972, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/13a7fe2f6b6644b287d80fedae50dc3a?s=128&d=identicon&r=PG", "display_name": "jogloran", "link": "https://stackoverflow.com/users/187972/jogloran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 0, "answer_count": 1, "score": 10, "last_activity_date": 1503310688, "creation_date": 1502314516, "question_id": 45600987, "link": "https://stackoverflow.com/questions/45600987/creating-a-python-package-for-a-c-extension-only-module-which-is-pre-built", "title": "Creating a Python package for a C extension-only module which is pre-built", "body": "<p>I want to create a package for a project that does not contain any <code>.py</code> source files, but is <em>completely implemented as a Python C extension</em> (resulting in an <code>.so</code>). Additionally, assume that the <code>.so</code> is already built by a separate build process (say CMake).</p>\n\n<p>I know that setuptools/distutils minimally requires a directory structure:</p>\n\n<ul>\n<li>mymodule\n\n<ul>\n<li>__init__.py</li>\n</ul></li>\n</ul>\n\n<p>But what  I really want is for <code>mymodule</code> to be provided by a C extension (say <code>mymodule.so</code>) such that after installing the package, <code>import mymodule</code> has the same effect as directly importing <code>mymodule.so</code>.</p>\n\n<p>I know that I could have this kind of directory structure:</p>\n\n<ul>\n<li>mymodule\n\n<ul>\n<li>__init__.py</li>\n<li>mymodule_native.so</li>\n</ul></li>\n</ul>\n\n<p>and have <code>__init__.py</code> be:</p>\n\n<pre><code>from mymodule_native import *\n</code></pre>\n\n<p>This kind of works, but an object <code>A</code> imported from <code>mymodule</code> will actually look like <code>mymodule.mymodule_native.A</code>.</p>\n\n<p>Is there a more direct way?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1502315700, "post_id": 45600941, "comment_id": 78161830, "body": "<code>test[date_fields] = test.loc[:, date_fields].apply(pd.to_datetime, unit=&#39;ns&#39;, errors=&#39;coerce&#39;)</code> - this should answer your first question..."}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 7954209, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e28ab3c55618133e0c21d03afc04774d?s=128&d=identicon&r=PG&f=1", "display_name": "Bjc51192", "link": "https://stackoverflow.com/users/7954209/bjc51192"}, "edited": false, "score": 0, "creation_date": 1502315035, "post_id": 45601046, "comment_id": 78161567, "body": "Awesome, thank you. That answers my second question as well. So Pandas treats null time values as NaT."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 2, "last_activity_date": 1502315071, "last_edit_date": 1502315071, "creation_date": 1502314800, "answer_id": 45601046, "question_id": 45600941, "link": "https://stackoverflow.com/questions/45600941/apply-pd-to-date-time-apply-being-unmapped-dealing-with-nat/45601046#45601046", "title": "apply.pd.to_date_Time. apply being unmapped/ dealing with NaT", "body": "<p>Use <code>isnull()</code> (or <code>notnull()</code>) to test for <code>NaT</code>:</p>\n\n<pre><code>np.where(test[\"Med to Ind Date\"].isnull(), '', \"Yes\")\n</code></pre>\n\n<p>Resulting output of <code>test</code>:</p>\n\n<pre><code>       Med to Ind Date Med to Ind Indicator\n0                 None                     \n1                 None                     \n2  1402531200000000000                  Yes\n3                 None                     \n4  1402876800000000000                  Yes\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 7954209, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e28ab3c55618133e0c21d03afc04774d?s=128&d=identicon&r=PG&f=1", "display_name": "Bjc51192", "link": "https://stackoverflow.com/users/7954209/bjc51192"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 45601046, "answer_count": 1, "score": 1, "last_activity_date": 1502315071, "creation_date": 1502314318, "last_edit_date": 1502314932, "question_id": 45600941, "link": "https://stackoverflow.com/questions/45600941/apply-pd-to-date-time-apply-being-unmapped-dealing-with-nat", "title": "apply.pd.to_date_Time. apply being unmapped/ dealing with NaT", "body": "<p>I'm a bit confused on an issue I have been having with my code test data below, as well as explanation.  </p>\n\n<pre><code>test = {\"Med to Ind Date\": ['', '', 1402531200000000000, '', 1402876800000000000], \n        \"Med to Ind Indicator\": ['', '', 'Y', '', 'Y']}\ntest = pd.DataFrame(test)\ndate_fields = [\"Med to Ind Date\"]\ntest.loc[:, date_fields] = test.loc[:, date_fields].apply(pd.to_datetime)\n</code></pre>\n\n<p>So when you run the above code you will see that all the blank time fields are mapped to NaT. Which is fine, however it is interrupting my code below:</p>\n\n<pre><code>if \"Med to Ind Indicator\" in test.columns:\n    test[\"Med to Ind Indicator\"] = np.where(test[\"Med to Ind Date\"] != '', \"Yes\", '')\n</code></pre>\n\n<p>The code above looks at the Med to Ind Date field, and if it isn't blank it maps the column Med to Ind Indicator to Yes.\nThe work around I had was trying to replace pd.NaT with \"\" which worked, but it in turn undid my date_time transformation, and returned it to the original form.  Can you guys recommend an alternative? Also, how exactly does pandas view the NaT field?</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "seaborn"], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1502321631, "last_edit_date": 1502321631, "creation_date": 1502320238, "answer_id": 45601983, "question_id": 45600909, "link": "https://stackoverflow.com/questions/45600909/plot-type-for-proportions-with-hue/45601983#45601983", "title": "Plot type for proportions (with hue)", "body": "<p>Instead of trying to find a special case plotting function that would do exactly what you want, I would suggest to consider keeping data generation and visualization separate. At the end what you want is to plot a bar graph of some values, so the idea would be to generate the data in such a way that they can easily be plotted.</p>\n\n<p>To this end, you may <code>crosstab</code> the two columns in question and divide each row (or column) in the resulting table by its sum. This table can then easily be plotted using the pandas plotting wrapper.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np; np.random.seed(42)\nimport pandas as pd\nplt.rcParams[\"figure.figsize\"] = 5.6, 7.0\n\nn = 100\ndf = pd.DataFrame({\"performance\": np.random.choice([0,1], size=n, p=[0.7,0.3]),\n                   \"photo\" :  np.random.choice(range(4), size=n, p=[0.6,0.1,0.2,0.1]),\n                   \"someothervalue\" : np.random.randn(n) })\n\nfig, (ax,ax2, ax3) = plt.subplots(nrows=3)\n\nfreq = pd.crosstab(df[\"performance\"],df[\"photo\"])\nfreq.plot(kind=\"bar\", ax=ax)\n\nrelative = freq.div(freq.sum(axis=1), axis=0)\nrelative.plot(kind=\"bar\", ax=ax2)\n\nrelative = freq.div(freq.sum(axis=0), axis=1)\nrelative.plot(kind=\"bar\", ax=ax3)\n\n\nax.set_title(\"countplot of absolute frequency\")\nax2.set_title(\"barplot of relative frequency by performance\")\nax3.set_title(\"barplot of relative frequency by photo\")\nfor a in [ax, ax2, ax3]: a.legend(title=\"Photo\", loc=6, bbox_to_anchor=(1.02,0.5))\nplt.subplots_adjust(right=0.8,hspace=0.6)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zkilv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zkilv.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1198, "favorite_count": 0, "accepted_answer_id": 45601983, "answer_count": 1, "score": 0, "last_activity_date": 1502321631, "creation_date": 1502314139, "last_edit_date": 1592644375, "question_id": 45600909, "link": "https://stackoverflow.com/questions/45600909/plot-type-for-proportions-with-hue", "title": "Plot type for proportions (with hue)", "body": "<p>In a classifieds website I maintain, I'm comparing classifieds that receive greater-than-median views vs classifieds that are below median in this criterion. I call the former &quot;high performance&quot; classifieds. Here's a simple countplot showing this:</p>\n<p><a href=\"https://i.stack.imgur.com/AicjD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AicjD.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>hue</code> is simply the number of photos the classified had.</p>\n<p>My question is - is there a plot type in seaborn or matplotlib which shows proportions instead of absolute counts?</p>\n<p>I essentially want the same countplot, but with each bar as a % of the total items in that particular category. For example, notice that in the countplot, classifieds with 3 photos make up a much larger proportion of the <code>high perf</code> category. It takes a while to glean that information. If each bar's height was instead represented by its % contribution to its category, it'd be a much easier comparison. That's why I'm looking for what I'm looking for.</p>\n<p>An illustrative example would be great.</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-s3", "boto3"], "comments": [{"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 1, "creation_date": 1502314615, "post_id": 45600908, "comment_id": 78161388, "body": "You&#39;re using the wrong terminology. The bucket is the entry point aka the flat name space. How about just <code>aws s3 ls s3:&#47;&#47;&#39;prod&#47;prod2&#47;&#39;</code> from the CLI"}, {"owner": {"reputation": 12191, "user_id": 237696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cUqoH.jpg?s=128&g=1", "display_name": "mr-sk", "link": "https://stackoverflow.com/users/237696/mr-sk"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1502314782, "post_id": 45600908, "comment_id": 78161466, "body": "Sure it works fine in the CLI, but doesn&#39;t work the same as boto3/python."}], "answers": [{"comments": [{"owner": {"reputation": 12191, "user_id": 237696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cUqoH.jpg?s=128&g=1", "display_name": "mr-sk", "link": "https://stackoverflow.com/users/237696/mr-sk"}, "edited": false, "score": 0, "creation_date": 1502315050, "post_id": 45601017, "comment_id": 78161570, "body": "That doesn&#39;t work for me, I get a &quot;botocore.errorfactory.NoSuchKey&quot;. Even though I&#39;ve double checked the names/keys are correct."}], "tags": [], "owner": {"reputation": 42040, "user_id": 4237701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OeLef.jpg?s=128&g=1", "display_name": "helloV", "link": "https://stackoverflow.com/users/4237701/hellov"}, "is_accepted": true, "score": 3, "last_activity_date": 1502315044, "last_edit_date": 1502315044, "creation_date": 1502314668, "answer_id": 45601017, "question_id": 45600908, "link": "https://stackoverflow.com/questions/45600908/accessing-nested-buckets-in-s3-with-boto3/45601017#45601017", "title": "Accessing nested buckets in S3 with Boto3", "body": "<p>There are no nested buckets. You have bucket and objects.</p>\n\n<pre><code>s3 = boto3.client('s3')\nobject = s3.get_object(Bucket='prod', Key='prod2/..')\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>s3 = boto3.resource('s3')\nbucket = s3.Bucket('prod')\nobject = bucket.Object('prod2/..')\n</code></pre>\n\n<p>See: <a href=\"http://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.Client.get_object\" rel=\"nofollow noreferrer\">get_object</a></p>\n"}], "owner": {"reputation": 12191, "user_id": 237696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cUqoH.jpg?s=128&g=1", "display_name": "mr-sk", "link": "https://stackoverflow.com/users/237696/mr-sk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2023, "favorite_count": 1, "accepted_answer_id": 45601017, "answer_count": 1, "score": 0, "last_activity_date": 1502316326, "creation_date": 1502314136, "last_edit_date": 1502316326, "question_id": 45600908, "link": "https://stackoverflow.com/questions/45600908/accessing-nested-buckets-in-s3-with-boto3", "title": "Accessing nested buckets in S3 with Boto3", "body": "<p>I know the path of the bucket I want to access <code>/bucket1/bucket2/etc/</code> but I can't figure out how to access it via boto3. </p>\n\n<p>I can enumerate all buckets starting from the source, but can't get to the bucket I want. </p>\n\n<p>For example I can do:</p>\n\n<pre><code>prod_bucket = s3.Bucket('prod')\n</code></pre>\n\n<p>But I cannot do:</p>\n\n<pre><code>prod_bucket = s3.Bucket('prod/prod2/')\n</code></pre>\n\n<p>TIA</p>\n"}, {"tags": ["python", "matplotlib", "bar-chart", "stacked-chart"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8129990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1456398464382914/picture?type=large", "display_name": "Carmelle ", "link": "https://stackoverflow.com/users/8129990/carmelle"}, "edited": false, "score": 0, "creation_date": 1502839070, "post_id": 45601414, "comment_id": 78364073, "body": "thanks that fixed it! I tracked the current height just like you suggested by incrementing it in the for loop."}], "tags": [], "owner": {"reputation": 9868, "user_id": 206192, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/db0002d9fbb098a7182b43e9c01ce6e8?s=128&d=identicon&r=PG", "display_name": "John Lyon", "link": "https://stackoverflow.com/users/206192/john-lyon"}, "is_accepted": true, "score": 1, "last_activity_date": 1502316723, "creation_date": 1502316723, "answer_id": 45601414, "question_id": 45600902, "link": "https://stackoverflow.com/questions/45600902/matplotlib-stacked-bar-chart/45601414#45601414", "title": "Matplotlib stacked bar chart", "body": "<p>You'll need to set <code>bottom</code> differently - this tells matplotlib where to place the bottom of the bar you're plotting, so it needs to be the sum of all of the heights of the bars that came before.</p>\n\n<p>You could for example track the current heights of the bars with a list like so:</p>\n\n<pre><code>current_heights = [0] * 20\nfor x in range(20):\n    try:\n        plt.bar(mid_vals, allEvents[x][1], bottom=current_heights[x], color=colors[x], label=allEvents[x][0])           \n        x = x + 1\n        current_heights[x] += allEvents[x][1] #increment bar height after plotting\n    except IndexError:\n        continue\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8129990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1456398464382914/picture?type=large", "display_name": "Carmelle ", "link": "https://stackoverflow.com/users/8129990/carmelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1833, "favorite_count": 0, "accepted_answer_id": 45601414, "answer_count": 1, "score": 1, "last_activity_date": 1502316723, "creation_date": 1502314111, "last_edit_date": 1502316016, "question_id": 45600902, "link": "https://stackoverflow.com/questions/45600902/matplotlib-stacked-bar-chart", "title": "Matplotlib stacked bar chart", "body": "<p>Hi I'm fairly new to matplotlib but I'm trying to plot a stacked bar chart. Instead of stacking, my bars are overlapping one another.</p>\n\n<p>This is the dictionary where I'm storing data. </p>\n\n<pre><code>eventsDict = {\n'A' : [30.427007371788505, 3.821656050955414], \n'B' : [15.308879925288613, 25.477707006369428], \n'C' : [10.846066723627477, 1.910828025477707], \n'D' : [0.32586881793073297, 0.6369426751592357],\n'E' : [3.110656307747332, 11.464968152866243], \n'F' : [8.183480040534901, 1.910828025477707], \n'G' : [3.048065650644783, 16.560509554140125], \n'H' : [9.950920976811652, 4.45859872611465]\n}\n</code></pre>\n\n<p>My stacked bar graph has two bars. The first one contains all the data from the first value of the list and the second one contains all the second values from the list. (The list being the values in the dictionary)</p>\n\n<p>First, I convert the dictionary to a tuple:</p>\n\n<pre><code>allEvents = list(self.eventsDict.items()) \n</code></pre>\n\n<p>This turns the dictionary to this list:</p>\n\n<pre><code>all Events = [('A', [30.427007371788505, 3.821656050955414]), ('B', [15.308879925288613, 25.477707006369428]), ('C', [10.846066723627477, 1.910828025477707]), ('D', [0.32586881793073297, 0.6369426751592357]), ('E', [3.110656307747332, 11.464968152866243]), ('F', [8.183480040534901, 1.910828025477707]), ('G', [3.048065650644783, 16.560509554140125]), ('H', [9.950920976811652, 4.45859872611465])]\n</code></pre>\n\n<p>This is where I plot it:</p>\n\n<pre><code>    range_vals = np.linspace(0, 2, 3)\n    mid_vals = (range_vals[0:-1] + range_vals[1:]) * 0.5\n        colors = ['#DC7633', '#F4D03F', '#52BE80', '#3498DB', '#9B59B6', '#C0392B', '#2471A3', '#566573', '#95A5A6']\n        x_label = ['All events. %s total events' % (totalEvents), 'Corrected p-value threshold p &lt; %s. %s total events' % (self.pVal, totalAdjusted)]\n\n    #Turn the dict to a tuple. That way it is ordered and is subscriptable.\n    allEvents = list(self.mod_eventsDict.items())\n    #print (allEvents)\n\n    #Use below to index:\n    #list[x] key - value pairing\n    #list[x][0] event name (key)\n    #list[x][1] list of values [val 1(all), val 2(adjusted)]\n\n    #Plot the Top bar first\n    plt.bar(mid_vals, allEvents[0][1], color = colors[0], label = allEvents[0][0])\n\n    #Plot the rest\n    x = 1\n    for x in range(1, 20):\n        try:\n            plt.bar(mid_vals, allEvents[x-1][1], bottom =allEvents[x-1][1], color = colors[x], label = allEvents[x][0])           \n            x = x + 1\n        except IndexError:\n            continue\n\n\n    plt.xticks(mid_vals) # for classic style\n    plt.xticks(mid_vals, x_label) # for classic style\n\n    plt.xlabel('values')\n    plt.ylabel('Count/Fraction')\n    plt.title('Stacked Bar chart')\n    plt.legend()\n    plt.axis([0, 2.5, 0, 1])\n    plt.show()\n</code></pre>\n\n<p>This is the graph output. Ideally, they should all add up to 1 when stacked. I made them all a fraction of one whole so that both bars will have the same height. However, they just overlap each other. Also, note that stacks have a different label from their names on the dictionary. </p>\n\n<p><img src=\"https://i.stack.imgur.com/yuTTp.jpg\" alt=\"stacked bar graph output\"></p>\n\n<p>Please help me debug!!</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "geckodriver"], "comments": [{"owner": {"reputation": 791, "user_id": 5233367, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60dc3184f9d77e7d07bfa556739d55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Brydenr", "link": "https://stackoverflow.com/users/5233367/brydenr"}, "edited": false, "score": 0, "creation_date": 1502314576, "post_id": 45600879, "comment_id": 78161374, "body": "I tried running your code, and it brings me to the Merrian-Webster site&#39;s medical dictionary, with the &#39;a&#39; words. Is there any other code that might be affecting the posted code? Also, are you using current versions of selenium and webdriver (~3.4)?"}, {"owner": {"reputation": 181, "user_id": 4726800, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tKhww.png?s=128&g=1", "display_name": "paanvaannd", "link": "https://stackoverflow.com/users/4726800/paanvaannd"}, "reply_to_user": {"reputation": 791, "user_id": 5233367, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60dc3184f9d77e7d07bfa556739d55fc?s=128&d=identicon&r=PG&f=1", "display_name": "Brydenr", "link": "https://stackoverflow.com/users/5233367/brydenr"}, "edited": false, "score": 0, "creation_date": 1502319214, "post_id": 45600879, "comment_id": 78163098, "body": "There&#39;s no other code that is affecting it. All I have in my program so far is what is posted above. I am running selenium 3.4.3."}, {"owner": {"reputation": 5041, "user_id": 7305183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/109a1b8acbf5d01c41e8e725b08411ba?s=128&d=identicon&r=PG&f=1", "display_name": "Murthi", "link": "https://stackoverflow.com/users/7305183/murthi"}, "edited": false, "score": 1, "creation_date": 1502346607, "post_id": 45600879, "comment_id": 78170788, "body": "It may be issue with gecko driver as when i execute it on chrome. It is working fine. you can try with chrome as you are scrapping."}, {"owner": {"reputation": 181, "user_id": 4726800, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tKhww.png?s=128&g=1", "display_name": "paanvaannd", "link": "https://stackoverflow.com/users/4726800/paanvaannd"}, "edited": false, "score": 0, "creation_date": 1502559067, "post_id": 45600879, "comment_id": 78264358, "body": "Using it on Chrome works just fine, thanks! I&#39;ll be using that from now on. I would still like to understand why it is not working with geckodriver, though, so I will be keeping the question open with hopes that it gets answered at a later date."}], "owner": {"reputation": 181, "user_id": 4726800, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tKhww.png?s=128&g=1", "display_name": "paanvaannd", "link": "https://stackoverflow.com/users/4726800/paanvaannd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 599, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1502360133, "creation_date": 1502313986, "last_edit_date": 1502360133, "question_id": 45600879, "link": "https://stackoverflow.com/questions/45600879/encountering-selenium-common-exceptions-webdriverexception-only-on-specific-web", "title": "Encountering selenium.common.exceptions.WebDriverException only on specific web page", "body": "<p>I'm trying to create a content scraper to gather a list of medical terms and I'm using <a href=\"https://www.merriam-webster.com/browse/medical\" rel=\"nofollow noreferrer\">https://www.merriam-webster.com/browse/medical</a> for that task. All I have in my code right now is:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\ndriver = webdriver.Firefox()\ndriver.get(\"https://www.merriam-webster.com/browse/medical/a\")\ndriver.close()\n</code></pre>\n\n<p>The following error message is shown after every run of the program using this or any <a href=\"https://www.merriam-webster.com\" rel=\"nofollow noreferrer\">https://www.merriam-webster.com</a> URL:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"mw-download.py\", line 5, in &lt;module&gt;\n    driver.get(\"https://www.merriam-webster.com/browse/medical/a\")\n  File \"/usr/local/lib/python3.6/site-packages/selenium/webdriver/remote/webdriver.py\", line 268, in get\n    self.execute(Command.GET, {'url': url})\n  File \"/usr/local/lib/python3.6/site-packages/selenium/webdriver/remote/webdriver.py\", line 256, in execute\n    self.error_handler.check_response(response)\n  File \"/usr/local/lib/python3.6/site-packages/selenium/webdriver/remote/errorhandler.py\", line 194, in check_response\n    raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.WebDriverException: Message: Reached error page: about:neterror?e=dnsNotFound&amp;u=https%3A//nop.xpanama.net/if.html%3Fadflag%3D1%26cb%3DKHg6C73w9F&amp;c=UTF-8&amp;f=regular&amp;d=Firefox%20can%E2%80%99t%20find%20the%20server%20at%20nop.xpanama.net.\n</code></pre>\n\n<p>I have tried changing the URL to different sites, with and without https support to test if it was something with https, but I haven't encountered this error with any other site. I also tried removing the <code>driver.close()</code> command at the end of the script to see if trying to close the driver before the page contents were loaded is what was causing the problem but the problem persists even without that line of code.</p>\n\n<p>Any help in understanding this error and fixing it would be greatly appreciated!</p>\n"}, {"tags": ["python", "setuptools", "pybind11"], "comments": [{"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "edited": false, "score": 0, "creation_date": 1502317316, "post_id": 45600866, "comment_id": 78162473, "body": "Hope exists... This seems to be related: <a href=\"http://pybind11.readthedocs.io/en/stable/advanced/misc.html#partitioning-code-over-multiple-extension-modules\" rel=\"nofollow noreferrer\">pybind11.readthedocs.io/en/stable/advanced/&hellip;</a>"}, {"owner": {"reputation": 5892, "user_id": 6646912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5KWm.jpg?s=128&g=1", "display_name": "krassowski", "link": "https://stackoverflow.com/users/6646912/krassowski"}, "edited": false, "score": 0, "creation_date": 1502497478, "post_id": 45600866, "comment_id": 78249926, "body": "I think the solutions is different ;) Could you try to make the example more minimal (like use a module not a package) and more complete (specify what is the first module, what is the second; add example code preferably)?"}, {"owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "reply_to_user": {"reputation": 5892, "user_id": 6646912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5KWm.jpg?s=128&g=1", "display_name": "krassowski", "link": "https://stackoverflow.com/users/6646912/krassowski"}, "edited": false, "score": 0, "creation_date": 1502501565, "post_id": 45600866, "comment_id": 78250528, "body": "i already found the solution."}], "answers": [{"tags": [], "owner": {"reputation": 1246, "user_id": 4819775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MYnH2.jpg?s=128&g=1", "display_name": "Roman Miroshnychenko", "link": "https://stackoverflow.com/users/4819775/roman-miroshnychenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1503004525, "creation_date": 1503004525, "answer_id": 45745072, "question_id": 45600866, "link": "https://stackoverflow.com/questions/45600866/add-c-function-to-existing-python-module-with-pybind11/45745072#45745072", "title": "Add c++ function to existing python module with pybind11", "body": "<p><code>cxx</code> is a sub-package and you try to build a binary module with the same name. Try to name your binary module differently to avoid name clash.</p>\n\n<p><code>setup.py</code>:</p>\n\n<pre><code>ext_modules = [\n    Extension(\n        'python_example.cxx.cxx_module',\n...\n</code></pre>\n\n<p><code>main.cpp</code>:</p>\n\n<pre><code>PYBIND11_PLUGIN(cxx_module) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 2251, "user_id": 6872237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7e22a086877a28b729523119d40f5e9c?s=128&d=identicon&r=PG&f=1", "display_name": "hamster on wheels", "link": "https://stackoverflow.com/users/6872237/hamster-on-wheels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 1, "accepted_answer_id": 45745072, "answer_count": 1, "score": 1, "last_activity_date": 1503004525, "creation_date": 1502313948, "last_edit_date": 1502317527, "question_id": 45600866, "link": "https://stackoverflow.com/questions/45600866/add-c-function-to-existing-python-module-with-pybind11", "title": "Add c++ function to existing python module with pybind11", "body": "<p>How to create python submodules with pybind11?</p>\n\n<p>I clone the python example (<a href=\"https://github.com/pybind/python_example\" rel=\"nofollow noreferrer\">https://github.com/pybind/python_example</a>) and modified it. Below is the directory tree.</p>\n\n<pre><code>*\n|\n+-- src\n|   |\n|   +-- example.cpp \n|\n+-- setup.py\n|\n+-- python_example\n     |\n     +-- __init__.py\n     |\n     +-- cxx\n         |\n         +-- __init__.py\n</code></pre>\n\n<p>setup.py has the following lines:</p>\n\n<pre><code>ext_modules = [\n    Extension(\n        'python_example.cxx',\n        ['src/main.cpp'],\n        include_dirs=[\n            # Path to pybind11 headers\n            get_pybind_include(),\n            get_pybind_include(user=True),\n            \"include\",  # the include folder\n        ],\n        language='c++'\n    ),\n]\n\n\n\nsetup(\n    ...\n    packages=setuptools.find_packages(),\n    ...\n)\n</code></pre>\n\n<p>The following doesn't work because it cannot take names with dot.</p>\n\n<pre><code>PYBIND11_PLUGIN(python_example.cxx) {\n    ...\n}\n</code></pre>\n\n<p>The following also doesn't work.</p>\n\n<pre><code>PYBIND11_PLUGIN(python_example) {\n    py::module m = py::module::import(\"python_example.cxx\");\n\n    m.def(\"add\", &amp;add, R\"pbdoc(\n        Add two numbers\n\n        Some other explanation about the add function.\n    )pbdoc\");\n}\n</code></pre>\n\n<p>This also does not work:</p>\n\n<pre><code>py::module m2 = (py::module) py::module::import(\"python_example\").attr(\"cxx\");\n\nm2.def(\"add\", &amp;add, R\"pbdoc(...\n</code></pre>\n\n<p>How to make this work?</p>\n"}, {"tags": ["python", "pandas", "keras"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1502313925, "post_id": 45600850, "comment_id": 78161072, "body": "can you please <a href=\"https://stackoverflow.com/posts/45600850/edit\">edit</a> your question to include the full stacktrace?"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 1, "creation_date": 1502313955, "post_id": 45600850, "comment_id": 78161084, "body": "This is strongly recommended: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1502315565, "creation_date": 1502315565, "answer_id": 45601203, "question_id": 45600850, "link": "https://stackoverflow.com/questions/45600850/pandas-keyerror-9000-31342-26296-25991-13449-1481-15566-15507-11247-18206-n/45601203#45601203", "title": "Pandas KeyError: &#39;[ 9000 31342 26296 25991 13449 1481 15566 15507 11247 18206] not in index&#39;", "body": "<p>Your CSV file seems to have a space/tab as a deimiter.</p>\n\n<p>So try to parse it as follows:</p>\n\n<pre><code>#Read csv dataset\ndataset=pd.read_csv('Train.csv', delim_whitespace=True)\n</code></pre>\n\n<p>if <code>Train.csv</code> doesn't have column names (labels):</p>\n\n<pre><code>dataset=pd.read_csv('Train.csv', header=None, delim_whitespace=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13381, "user_id": 1531463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVFg1.jpg?s=128&g=1", "display_name": "Yu-Yang", "link": "https://stackoverflow.com/users/1531463/yu-yang"}, "is_accepted": false, "score": 0, "last_activity_date": 1502343951, "last_edit_date": 1502343951, "creation_date": 1502342302, "answer_id": 45605019, "question_id": 45600850, "link": "https://stackoverflow.com/questions/45600850/pandas-keyerror-9000-31342-26296-25991-13449-1481-15566-15507-11247-18206-n/45605019#45605019", "title": "Pandas KeyError: &#39;[ 9000 31342 26296 25991 13449 1481 15566 15507 11247 18206] not in index&#39;", "body": "<p>Try to convert pandas DataFrames into numpy arrays before feeding into <code>fit()</code>. This error occurs because the <code>X_train[batch_idx]</code> function call operates on columns instead of rows, unlike numpy arrays.</p>\n\n<p>Also, it seems that you're using <code>StandardScaler</code> in a wrong way. <code>StandardScaler.transform()</code> does not modify data in place. You'll need to change the function calls into:</p>\n\n<pre><code>sc = StandardScaler()\nsc.fit(X_train)\nX_train = sc.transform(X_train)\nX_test = sc.transform(X_test)\n</code></pre>\n\n<p>The output of <code>StandardScaler.transform()</code> will be a numpy array, so the error at <code>fit()</code> should also be fixed.</p>\n"}], "owner": {"reputation": 111, "user_id": 6421770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27fcbc6270b31bb42252bfd6bb1dc60d?s=128&d=identicon&r=PG&f=1", "display_name": "James Cann", "link": "https://stackoverflow.com/users/6421770/james-cann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502343951, "creation_date": 1502313834, "last_edit_date": 1502315640, "question_id": 45600850, "link": "https://stackoverflow.com/questions/45600850/pandas-keyerror-9000-31342-26296-25991-13449-1481-15566-15507-11247-18206-n", "title": "Pandas KeyError: &#39;[ 9000 31342 26296 25991 13449 1481 15566 15507 11247 18206] not in index&#39;", "body": "<p>I'm trying a first neural network on Kaggle's digit recognizer dataset\nIn anaconda 3, as well as a direct Kaggle kernel, the <code>classifier.fit</code> call returns a key error I don't understand</p>\n\n<p>The last call is as follows:</p>\n\n<pre><code>File \"C:\\Users\\darkredhorse\\Anaconda3\\lib\\site-packages\\pandas\\core\\indexing.py\", line 1231, in _convert_to_indexer\nraise KeyError('%s not in index' % objarr[mask])\n</code></pre>\n\n<p><code>KeyError: '[ 9000 31342 26296 25991 13449  1481 15566 15507 11247 18206] not in index'</code></p>\n\n<pre><code>#Import Pandas\nimport pandas as pd\nimport numpy as np\n\n#Read csv dataset\ndataset=pd.read_csv('Train.csv')\n\n#X=independant variables=the image data\nX=dataset.iloc[:,1:]\n\n#y=dependant variable= the written digit label 0-9\ny=dataset.iloc[:,:1]\n\n\n#Grab the automatic data splitter from sklearn\nfrom sklearn.model_selection import train_test_split\n\n#Create the Training/Testing split for my cross validation\nX_train,X_test,y_train,y_test = \ntrain_test_split(X,y,test_size=0.2,random_state=0)\n\n#Feature scaling to make the ANN's life easier\nfrom sklearn.preprocessing import StandardScaler\nsc=StandardScaler()\nsc.fit_transform(X_train)\nsc.transform(X_train)\nsc.transform(X_test)\n\n#Import keras to create the sequential network structure\nimport keras\nfrom keras.models import Sequential\nfrom keras.layers import Dense\n\n#Initialize the network\nclassifier = Sequential() \n\nclassifier.add(Dense(units=400,kernel_initializer='uniform',activation='relu',input_dim=784))\n\n#Add the first second hidden layer, I figure this requires ten for 10 digits\nclassifier.add(Dense(units=10,kernel_initializer='uniform',activation='relu'))\n\n#Add the output layer, an analog digit value\nclassifier.add(Dense(units=1,kernel_initializer='uniform',activation='sigmoid'))\n\n# Compiling the ANN\nclassifier.compile(optimizer = 'adam', loss = 'binary_crossentropy', metrics = ['accuracy'])\n\n# Fitting the ANN to the Training set\nclassifier.fit(X_train, y_train, batch_size = 10, epochs = 10)\n\n# Part 3 - Making predictions and evaluating the model\n\n# Predicting the Test set results\ny_pred = classifier.predict(X_test)\n</code></pre>\n"}, {"tags": ["python", "logging", "python-unittest"], "comments": [{"owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "edited": false, "score": 0, "creation_date": 1502314122, "post_id": 45600847, "comment_id": 78161152, "body": "I&#39;m not sure exactly what you want to accomplish.  You said you want to turn them off during testing, but you want to turn them on during testing, but you&#39;re not interested in logging, what you really want is print statements?  Try and describe the exact behavior that you are having, and what you would like that behavior to be."}, {"owner": {"reputation": 900, "user_id": 4086256, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Txbg3Fs5eSU/AAAAAAAAAAI/AAAAAAAAABM/TUOsL8ZONpI/photo.jpg?sz=128", "display_name": "Trebia Project.", "link": "https://stackoverflow.com/users/4086256/trebia-project"}, "reply_to_user": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "edited": false, "score": 0, "creation_date": 1502314446, "post_id": 45600847, "comment_id": 78161313, "body": "@PaulBecotte thanks for taking interest in my issue. Essentially I want to have a different behaviour in testing and in normal app operation. I will put some examples to make it more explicit"}], "answers": [{"comments": [{"owner": {"reputation": 900, "user_id": 4086256, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Txbg3Fs5eSU/AAAAAAAAAAI/AAAAAAAAABM/TUOsL8ZONpI/photo.jpg?sz=128", "display_name": "Trebia Project.", "link": "https://stackoverflow.com/users/4086256/trebia-project"}, "edited": false, "score": 0, "creation_date": 1502379592, "post_id": 45604256, "comment_id": 78195415, "body": "Well... you actually get the point. Changing the unittest standard module that I was using to nose got me some time to do... so I crosscheck everything and works quite well! Is EXACTLY what I was looking for, thanks!. One quick question just seen in the documentation that nose is in maintenance, no further development expected. Do you recommend nose2?"}, {"owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "reply_to_user": {"reputation": 900, "user_id": 4086256, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Txbg3Fs5eSU/AAAAAAAAAAI/AAAAAAAAABM/TUOsL8ZONpI/photo.jpg?sz=128", "display_name": "Trebia Project.", "link": "https://stackoverflow.com/users/4086256/trebia-project"}, "edited": false, "score": 0, "creation_date": 1502388078, "post_id": 45604256, "comment_id": 78200688, "body": "No, from the reading I saw I didn&#39;t see any value in upgrading.  Have been using it for about 3 years now- maybe someday there will be a reason to upgrade, but it seems to work good for us."}], "tags": [], "owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "is_accepted": true, "score": 1, "last_activity_date": 1502337846, "creation_date": 1502337846, "answer_id": 45604256, "question_id": 45600847, "link": "https://stackoverflow.com/questions/45600847/change-logging-level-during-testing-execution/45604256#45604256", "title": "Change logging level during testing execution", "body": "<p>I'm still not 100% sure- I think what you want is to have log statements in your app that get suppressed during testing.</p>\n\n<p>I would use <a href=\"http://nose.readthedocs.io/\" rel=\"nofollow noreferrer\">Nosetests</a> for this- it suppresses all stdout for passing tests and prints it for failing ones, which is just about perfect for your use case in my opinion.</p>\n\n<p>A less good solution, just in case I don't understand you, is to define a test case class that all of your tests inherit from- it can have extra test methods or whatever (it should inherit from unittest.TestCase itself).  The key though is that you can change the logging level to a higher/lower level in that file that only gets imported during testing, which will allow you to have special logging behavior during tests.</p>\n\n<p>The behavior of nose though is the best- it still shows output on failing tests and captures print statements as well.</p>\n"}], "owner": {"reputation": 900, "user_id": 4086256, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Txbg3Fs5eSU/AAAAAAAAAAI/AAAAAAAAABM/TUOsL8ZONpI/photo.jpg?sz=128", "display_name": "Trebia Project.", "link": "https://stackoverflow.com/users/4086256/trebia-project"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 45604256, "answer_count": 1, "score": 2, "last_activity_date": 1502337846, "creation_date": 1502313821, "last_edit_date": 1502314579, "question_id": 45600847, "link": "https://stackoverflow.com/questions/45600847/change-logging-level-during-testing-execution", "title": "Change logging level during testing execution", "body": "<p>I have an application where I introduced the standard logging library, I just set it up to WARNING.</p>\n\n<p>When running unittesting I would like to avoid that those errors and warnings are appearing (just because I am making them intentionally!), but I would like to keep the verbose from unittesting.</p>\n\n<p>Is there any way I can have the standard application with a logging level (WARNING) and during testing in a different one (none or CRITICAL?)</p>\n\n<p>For example, I want my application in normal mode of operation to show the following:</p>\n\n<pre><code>=====\nApplication started\nERROR = input file is wrong\n=====\n</code></pre>\n\n<p>However, when running my unittesting I do not want any of those outputs to appear, as I will actually make the app fail to check the correct error tracking, so it will be redundant to show the error messages and actually will complicate detecting the problems.</p>\n\n<p>Looking to stackoverflow I found some similar problems, but not fixing my issue:</p>\n\n<ul>\n<li>The problem is with print, not with logging</li>\n</ul>\n\n<p><a href=\"https://stackoverflow.com/questions/24134343/is-there-a-way-to-suppress-printing-that-is-done-within-a-unit-test\">Is there a way to suppress printing that is done within a unit test?</a></p>\n\n<ul>\n<li>Just eliminating part of test verbosity</li>\n</ul>\n\n<p><a href=\"https://stackoverflow.com/questions/8518043/turn-some-print-off-in-python-unittest\">Turn some print off in python unittest</a></p>\n\n<p>Any idea/help?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 4, "creation_date": 1502313656, "post_id": 45600785, "comment_id": 78160966, "body": "Don&#39;t just post your homework and expect us to do it for you."}, {"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1502313660, "post_id": 45600785, "comment_id": 78160967, "body": "have you tried anything at all?"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1502313759, "post_id": 45600785, "comment_id": 78160997, "body": "Welcome to SO, please read - <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 1, "user_id": 8172145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827bb6136db5cb94c5169240d21e7269?s=128&d=identicon&r=PG&f=1", "display_name": "Abhinandan", "link": "https://stackoverflow.com/users/8172145/abhinandan"}, "reply_to_user": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1502314339, "post_id": 45600785, "comment_id": 78161264, "body": "definetly if i have a problem then i can share here. and i have tried but it is giving error. above is my code. @SrinivasSuresh"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1502314965, "post_id": 45600785, "comment_id": 78161536, "body": "@AbhinandanSaraf You posted what you tried, but you need to also say what about it doesn&#39;t work, and exactly what you&#39;ve already tried to fix it."}, {"owner": {"reputation": 1, "user_id": 8172145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827bb6136db5cb94c5169240d21e7269?s=128&d=identicon&r=PG&f=1", "display_name": "Abhinandan", "link": "https://stackoverflow.com/users/8172145/abhinandan"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1502315391, "post_id": 45600785, "comment_id": 78161699, "body": "@Carcigenicate ok. actually i have no experience of asking questions on stack over flow. thanks, i will take care of that next time."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1502316177, "post_id": 45600785, "comment_id": 78162053, "body": "<code>def depth(s): return max(map(len, re.findall(r&#39;\\(*&#39;, re.sub(r&#39;[^()]&#39;, &#39;&#39;, s))))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1502314660, "post_id": 45600979, "comment_id": 78161411, "body": "this will fail in any case where the max depth occures after the first closing"}], "tags": [], "owner": {"reputation": 1, "user_id": 8172145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827bb6136db5cb94c5169240d21e7269?s=128&d=identicon&r=PG&f=1", "display_name": "Abhinandan", "link": "https://stackoverflow.com/users/8172145/abhinandan"}, "is_accepted": false, "score": -1, "last_activity_date": 1502314487, "creation_date": 1502314487, "answer_id": 45600979, "question_id": 45600785, "link": "https://stackoverflow.com/questions/45600785/python-programming-string-handling/45600979#45600979", "title": "python programming string handling", "body": "<pre><code>def depth(s):\ncount,i=0,0;\nwhile i&lt;=len(s):\n    if s[i]=='(':\n        count=count+1;\n    if s[i]==')':\n        return count\n    i=i+1;\nreturn count\n\n#this is what i tried.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 6158467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5bf14e0ef1bc54ec083509a7ba03eed2?s=128&d=identicon&r=PG&f=1", "display_name": "nlhenderson17", "link": "https://stackoverflow.com/users/6158467/nlhenderson17"}, "is_accepted": false, "score": 2, "last_activity_date": 1502314566, "creation_date": 1502314566, "answer_id": 45600999, "question_id": 45600785, "link": "https://stackoverflow.com/questions/45600785/python-programming-string-handling/45600999#45600999", "title": "python programming string handling", "body": "<p>Try this:</p>\n\n<pre><code>def depth(s):\n    count = 0\n    max = 0\n    for character in s:\n        if character == \"(\":\n            count += 1\n            if count &gt; max:\n                max = count\n        elif character == \")\":\n            count -= 1\n    return max\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 868, "user_id": 8398505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e68440257a73de217ac3529653e000ad?s=128&d=identicon&r=PG&f=1", "display_name": "Dror Av.", "link": "https://stackoverflow.com/users/8398505/dror-av"}, "is_accepted": false, "score": 0, "last_activity_date": 1502315589, "creation_date": 1502315589, "answer_id": 45601209, "question_id": 45600785, "link": "https://stackoverflow.com/questions/45600785/python-programming-string-handling/45601209#45601209", "title": "python programming string handling", "body": "<p>Recursive one just for fun, if you want it:</p>\n\n<pre><code>def depth(str, index=0, counter=0, max_depth=0):\n\n    while index &lt; len(str):\n        if str[index] == '(':\n            counter += 1\n            counter, index, max_depth = depth(str, index+1, counter, max_depth)\n            counter = 0\n            index += 1\n            continue\n\n        if str[index] == ')':\n            if counter &gt; max_depth:\n                max_depth = counter\n\n            return counter, index, max_depth\n\n        else:\n            index += 1\n\n    return max_depth\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8172145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827bb6136db5cb94c5169240d21e7269?s=128&d=identicon&r=PG&f=1", "display_name": "Abhinandan", "link": "https://stackoverflow.com/users/8172145/abhinandan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 0, "closed_date": 1502349696, "answer_count": 3, "score": -7, "last_activity_date": 1502315589, "creation_date": 1502313483, "last_edit_date": 1502314705, "question_id": 45600785, "link": "https://stackoverflow.com/questions/45600785/python-programming-string-handling", "closed_reason": "Needs details or clarity", "title": "python programming string handling", "body": "<p>For an expression with parentheses, we can define the nesting depth as the maximum number of parentheses that are open when reading the expression from left to right. For instance, the nesting depth of \"(33+77)(44-12)\" is 1, while the nesting depth of \"(a(b+c)-d)(e+f)\" is 2.</p>\n\n<p>Write a Python function depth(s) that takes a string containing an expression with parentheses and returns an integer, the nesting depth of s. You can assume that s is well-parenthesized: that is, that is, every \"(\" has a matching \")\" after it and every \")\" has a matching \"(\" before it.</p>\n\n<p>Here are some examples to show how your function should work.</p>\n\n<pre><code>depth(\"22\")\n0\ndepth(\"(a+b)(a-b)\")\n1\ndepth(\"(a(b+c)-d)(e+f)\")\n2\n</code></pre>\n\n<p>this is what i tried</p>\n\n<pre><code>def depth(s):\n    count,i=0,0;\n    while i&lt;=len(s):\n        if s[i]=='(':\n            count=count+1;\n        if s[i]==')':\n            return count\n        i=i+1;\n    return count\n\n    #this is what i tried.\n</code></pre>\n"}, {"tags": ["python", "pandas", "csv", "xml-parsing"], "comments": [{"owner": {"reputation": 79, "user_id": 5906078, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/3075436639915/picture?type=large", "display_name": "Kevin Pasquarella", "link": "https://stackoverflow.com/users/5906078/kevin-pasquarella"}, "edited": false, "score": 0, "creation_date": 1502313735, "post_id": 45600776, "comment_id": 78160987, "body": "have you tried anything?"}, {"owner": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "reply_to_user": {"reputation": 79, "user_id": 5906078, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/3075436639915/picture?type=large", "display_name": "Kevin Pasquarella", "link": "https://stackoverflow.com/users/5906078/kevin-pasquarella"}, "edited": false, "score": 0, "creation_date": 1502315642, "post_id": 45600776, "comment_id": 78161812, "body": "edited the question and pasted the code I have so far."}, {"owner": {"reputation": 79, "user_id": 5906078, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/3075436639915/picture?type=large", "display_name": "Kevin Pasquarella", "link": "https://stackoverflow.com/users/5906078/kevin-pasquarella"}, "edited": false, "score": 0, "creation_date": 1502315757, "post_id": 45600776, "comment_id": 78161862, "body": "are there any errors? what is the output?"}, {"owner": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "reply_to_user": {"reputation": 79, "user_id": 5906078, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/3075436639915/picture?type=large", "display_name": "Kevin Pasquarella", "link": "https://stackoverflow.com/users/5906078/kevin-pasquarella"}, "edited": false, "score": 0, "creation_date": 1502316044, "post_id": 45600776, "comment_id": 78161990, "body": "******************** The Beginning ******************** LON LAT PGA PGV MMI PSA03 PSA10 PSA30 STDPGA URAT SVEL  ******************** The End ********************"}, {"owner": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "reply_to_user": {"reputation": 79, "user_id": 5906078, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/3075436639915/picture?type=large", "display_name": "Kevin Pasquarella", "link": "https://stackoverflow.com/users/5906078/kevin-pasquarella"}, "edited": false, "score": 0, "creation_date": 1502316087, "post_id": 45600776, "comment_id": 78162005, "body": "I have no idea how to output to a csv file and parsing grid_data which is in space delimiter format"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "edited": false, "score": 0, "creation_date": 1502380160, "post_id": 45603324, "comment_id": 78195821, "body": "Thanks @parfait .Not sure how you got the output, but the code fails with this message. <code>df = pd.read_table(StringIO(data), sep=&quot;\\\\s+&quot;, header=0, names=[&#39;LON&#39;,&#39;LAT&#39;,&#39;PGA&#39;, &#39;PGV&#39;, &#39;MMI&#39;,&#39;PSA03&#39;,&#39;PSA10&#39;,&#39;PSA30&#39;,&#39;STDPGA&#39;,&#39;URAT&#39;,&#39;SVEL&#39;]) TypeError: initial_value must be unicode or None, not str</code>"}, {"owner": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "edited": false, "score": 0, "creation_date": 1502381380, "post_id": 45603324, "comment_id": 78196627, "body": "I made this change and it did work <code>data = unicode(doc.find(&#39;.&#47;&#47;{http:&#47;&#47;earthquake.usgs.gov&#47;eqcenter&#47;sh&zwnj;&#8203;akemap}grid_data&#39;).t&zwnj;&#8203;ext)</code> I still get &#39;\\&#39; on my output after URAT values, I mean SVEL values jump to a new line. Do you you what should I be doing to put everything in the same line? Thank you."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "edited": false, "score": 0, "creation_date": 1502381505, "post_id": 45603324, "comment_id": 78196711, "body": "What pandas and python version and OS are your running? Check <code>print(pd.__version__)</code> I just copied and pasted exact code in this solution and it worked, no error. Originally, it was posted from a Linux (ubuntu 16) run and now a Windows 7 run. Linux uses pandas 20/Windows pandas 19, both python 3.4."}, {"owner": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "edited": false, "score": 0, "creation_date": 1502382036, "post_id": 45603324, "comment_id": 78197081, "body": "I am running Pandas v0.20.2 with Python v2.7.5 on a Windows 7 Enterprise SP1 64bit machine."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "edited": false, "score": 0, "creation_date": 1502384556, "post_id": 45603324, "comment_id": 78198537, "body": "Hmmm...this must be a 2.7 issue. Are you using exactly this code or another url request object and xml parser? Is <i>doc</i> or <i>data</i> empty? Maybe try <code>BytesIO(data)</code> with <code>from io import BytesIO</code>."}, {"owner": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "edited": false, "score": 0, "creation_date": 1502386180, "post_id": 45603324, "comment_id": 78199582, "body": "<code>BytesIO(data)</code> did work. But I still get a ` &#39;\\&#39;` in the output after URAT and SVEL related data jumps to next line"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "edited": false, "score": 0, "creation_date": 1502397457, "post_id": 45603324, "comment_id": 78205722, "body": "I cannot reproduce your issue to help. Can you test on a python 3 environment? Consider upgrading if your codebase allows it."}, {"owner": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "edited": false, "score": 0, "creation_date": 1502510462, "post_id": 45603324, "comment_id": 78251731, "body": "Thank you. Your code is extremely helpful to me. I am using your code."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "edited": false, "score": 0, "creation_date": 1502545109, "post_id": 45603324, "comment_id": 78260183, "body": "Great to hear. Glad I could help. Happy coding!"}], "tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": true, "score": 1, "last_activity_date": 1502330822, "creation_date": 1502330822, "answer_id": 45603324, "question_id": 45600776, "link": "https://stackoverflow.com/questions/45600776/best-way-to-parse-xml/45603324#45603324", "title": "Best way to Parse XML", "body": "<p>Consider simply parsing the <em>grid_data</em> node using built-in <code>etree</code> and pass it directly into <code>pandas.read_table</code> using <code>StringIO()</code>:</p>\n\n<pre><code>import pandas as pd\nimport xml.etree.ElementTree as et\nfrom io import StringIO    \nimport requests as rq\n\n# RETRIEVE URL OBJECT\nr = rq.get('https://earthquake.usgs.gov/realtime/product/shakemap/us2000a3y4/us/1501736303313/download/grid.xml')\n\n# BUILD TREE FROM URL CONTENT\ndoc = et.fromstring(r.content)\n\n# PARSE &lt;grid_data&gt; TEXT WITH UNDECLARED PREFIX NAMESPACE\ndata = doc.find('.//{http://earthquake.usgs.gov/eqcenter/shakemap}grid_data').text\n\n# READ SPACE-DELIMITED STRING INTO DATAFRAME\ndf = pd.read_table(StringIO(data), sep=\"\\\\s+\", header=0, \n                   names=['LON','LAT','PGA', 'PGV', 'MMI','PSA03','PSA10','PSA30','STDPGA','URAT','SVEL'])\n\nprint(df.head())\n#         LON      LAT   PGA   PGV   MMI  PSA03  PSA10  PSA30  STDPGA  URAT     SVEL\n# 0 -100.3997  38.1145  0.01  0.01  1.77   0.02   0.01    0.0    0.65   1.0  354.533\n# 1 -100.3831  38.1145  0.01  0.02  1.82   0.02   0.01    0.0    0.65   1.0  310.786\n# 2 -100.3664  38.1145  0.01  0.01  1.77   0.02   0.01    0.0    0.65   1.0  354.545\n# 3 -100.3497  38.1145  0.01  0.01  1.76   0.02   0.01    0.0    0.65   1.0  362.307\n# 4 -100.3331  38.1145  0.01  0.01  1.76   0.02   0.01    0.0    0.65   1.0  360.332\n\nprint(df.tail())\n#             LON      LAT   PGA   PGV   MMI  PSA03  PSA10  PSA30  STDPGA  URAT     SVEL\n# 105767 -94.4831  33.2425  0.01  0.01  1.78   0.02   0.01    0.0    0.65   1.0  337.237\n# 105768 -94.4664  33.2425  0.01  0.02  1.89   0.03   0.01    0.0    0.65   1.0  249.221\n# 105769 -94.4497  33.2425  0.01  0.02  1.83   0.02   0.01    0.0    0.65   1.0  297.622\n# 105770 -94.4331  33.2425  0.01  0.01  1.63   0.02   0.01    0.0    0.65   1.0  500.368\n# 105771 -94.4164  33.2425  0.01  0.01  1.77   0.02   0.01    0.0    0.65   1.0  340.302\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 2256979, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/73bb72c7674fdaf059ed9a2e37433efc?s=128&d=identicon&r=PG", "display_name": "Naresh Aligeti", "link": "https://stackoverflow.com/users/2256979/naresh-aligeti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1892, "favorite_count": 0, "accepted_answer_id": 45603324, "answer_count": 1, "score": 1, "last_activity_date": 1502330822, "creation_date": 1502313445, "last_edit_date": 1502316005, "question_id": 45600776, "link": "https://stackoverflow.com/questions/45600776/best-way-to-parse-xml", "title": "Best way to Parse XML", "body": "<p>I am working with a xml file available <a href=\"https://earthquake.usgs.gov/realtime/product/shakemap/us2000a3y4/us/1501736303313/download/grid.xml\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I want to parse and load <code>LON, LAT, PGA, PGV, MMI, PSA03, PSA10, PSA30, STDPGA, URAT and SVEL</code> as headers of CSV file.</p>\n\n<p>The <code>grid_data</code> element has all values to all these headers in a space delimiter fashion.</p>\n\n<p>I am looking for a <code>csv file output</code> like below:</p>\n\n<pre><code>LON LAT PGA PGV MMI PSA03 PSA10 PSA30 STDPGA URAT SVEL\n-99.6833 38.2891 0.04 0.04 2.04 0.09 0.02 0 0.65 1 363.294\n-99.6666 38.2891 0.04 0.04 2.06 0.09 0.02 0 0.65 1 342.531\n-99.6500 38.2891 0.04 0.04 2.11 0.1 0.02 0 0.65 1 303.783\n-99.6333 38.2891 0.04 0.04 2.08 0.09 0.02 0 0.65 1 334.629\n-99.6166 38.2891 0.04 0.05 2.15 0.09 0.02 0 0.65 1 279.535\n-99.6000 38.2891 0.04 0.04 2.08 0.09 0.02 0 0.65 1 326.391\n-99.5833 38.2891 0.04 0.04 2.02 0.08 0.02 0 0.65 1 390.897\n-99.5666 38.2891 0.04 0.04 2.08 0.09 0.02 0 0.65 1 346.033\n</code></pre>\n\n<p>Later, I'd use pandas for python to find max PGV value and do my GIS Analysis.</p>\n\n<p>So far this is the code I have: </p>\n\n<pre><code>import sys\nimport traceback\nfrom xml.dom import minidom\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\ntry:\n    print \"*\"*20 + \" The Beginning \" + \"*\"*20\n\n    xml_file_location = r\"C:\\Users\\*****\\Downloads\\Grids\\us2000a3y4_grid.xml\"\n    xmldoc = minidom.parse(xml_file_location)\n    itemlist = xmldoc.getElementsByTagName('grid_field')\n    for item in itemlist:\n        print (item.attributes['name'].value)\n\n\n\nCatch all exception and print to the screen\nexcept:\n    e = sys.exc_info()[0]\n    print( \"Error: %s\\n\\n\" % e )\n\n#Closing script\nfinally:\n    print \"*\"*20 + \" The End \" + \"*\"*20\n</code></pre>\n"}, {"tags": ["python", "maya", "maya-api"], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 8106017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7678dd3385bbda2d5562a24db1b5bc68?s=128&d=identicon&r=PG&f=1", "display_name": "silent_sight", "link": "https://stackoverflow.com/users/8106017/silent-sight"}, "edited": false, "score": 0, "creation_date": 1502894367, "post_id": 45706515, "comment_id": 78391090, "body": "Yeah, I tried that too and got a TypeError (integer argument expected, got float)  I also tried using <code>None</code> for the <code>uStart&#47;vStart</code> - as well as <code>0</code> and <code>0.0</code>.  You can see my last test/result example is basically what you&#39;ve suggested, but it also craps out... Thanks for the extra info about the C++ docs, though - good to know I&#39;m not going crazy thinking kwargs aren&#39;t working..."}], "tags": [], "owner": {"reputation": 11342, "user_id": 1936075, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/keYz5.jpg?s=128&g=1", "display_name": "theodox", "link": "https://stackoverflow.com/users/1936075/theodox"}, "is_accepted": false, "score": 0, "last_activity_date": 1502865112, "creation_date": 1502865112, "answer_id": 45706515, "question_id": 45600753, "link": "https://stackoverflow.com/questions/45600753/trouble-with-mfnnurbssurface-closestpoint-in-openmaya-api-2-0/45706515#45706515", "title": "Trouble with MFnNurbsSurface.closestPoint in OpenMaya api 2.0", "body": "<p>I think this is a quirk of the way the docs are generated.  the C++ version writes default arguments in a way that looks to a Python programmer like kwargs.. but it's not really kwargs, it's default arguments.  You have to treat these as if they were just named positional arguments and supply them in order.  </p>\n\n<p>This worked for me:</p>\n\n<pre><code>def getClosestPointOnSurfaceNEW(surf, position):\n    selList = om.MSelectionList()\n    selList.add(surf)\n    surfFn = om.MFnNurbsSurface(selList.getDagPath(0))\n\n    p, u, v = surfFn.closestPoint(om.MPoint(*position))\n\n    return [(p[0], p[1], p[2]), (u, v)]\n</code></pre>\n\n<p>And so did</p>\n\n<pre><code>    p, u, v = surfFn.closestPoint(om.MPoint(*position), 0, 0 )\n</code></pre>\n\n<p>Ordinarily if you wanted to supply more arguments you'd usually just do them in order:</p>\n\n<pre><code>p, u, v = surfFn.closestPoint(om.MPoint(*position), 0,0, False, 0.01, om.MSpace.kWorld)\n</code></pre>\n\n<p>However I could not verify this works because it crashes my (beta) Maya; not sure what the state of this is in production 2017 or 2018.</p>\n"}, {"tags": [], "owner": {"reputation": 390, "user_id": 8106017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7678dd3385bbda2d5562a24db1b5bc68?s=128&d=identicon&r=PG&f=1", "display_name": "silent_sight", "link": "https://stackoverflow.com/users/8106017/silent-sight"}, "is_accepted": true, "score": 0, "last_activity_date": 1502898625, "creation_date": 1502898625, "answer_id": 45718050, "question_id": 45600753, "link": "https://stackoverflow.com/questions/45600753/trouble-with-mfnnurbssurface-closestpoint-in-openmaya-api-2-0/45718050#45718050", "title": "Trouble with MFnNurbsSurface.closestPoint in OpenMaya api 2.0", "body": "<p>I posted this in the Autodesk Maya forums as well... Turns out there's a known bug about this.</p>\n\n<p>Here's a link to the <a href=\"https://forums.autodesk.com/t5/maya-programming/how-do-you-use-kwargs-within-openmaya-api-v-2-0/m-p/7303470/highlight/false#M6239\" rel=\"nofollow noreferrer\">maya forum thread</a> if anyone is curious</p>\n"}], "owner": {"reputation": 390, "user_id": 8106017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7678dd3385bbda2d5562a24db1b5bc68?s=128&d=identicon&r=PG&f=1", "display_name": "silent_sight", "link": "https://stackoverflow.com/users/8106017/silent-sight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 45718050, "answer_count": 2, "score": 0, "last_activity_date": 1502898625, "creation_date": 1502313338, "last_edit_date": 1502897288, "question_id": 45600753, "link": "https://stackoverflow.com/questions/45600753/trouble-with-mfnnurbssurface-closestpoint-in-openmaya-api-2-0", "title": "Trouble with MFnNurbsSurface.closestPoint in OpenMaya api 2.0", "body": "<p>I've recently become aware of the python OpenMaya api v2.0, so I've been going through my code and trying to update it to use the 2.0 version.  For the most part it has made a lot more sense to me than the older version of OpenMaya...</p>\n\n<p>I've run into a snag while trying to use the <code>OpenMaya.MFnNurbsSurface.closestPoint</code> method.  I can't seem to figure out how to actually use the kwargs for the method.  Maya's docs say this:</p>\n\n<pre><code>closestPoint(testPoint, uStart=None, vStart=None,\n    ignoreTrimBoundaries=False, tolerance=kPointTolerance,\n    space=kObject) -&gt; (MPoint, float, float)\n</code></pre>\n\n<p>So to me, that looks like kwargs that I should be able to use... but I get errors just about every time I try to use them - and when it doesn't error, I don't really understand why it didn't (examples below).  If I don't put in the kwargs, it 'works' but doesn't give me the correct results since I actually do need to change some of those kwargs.  </p>\n\n<p>Here's some code of the old and new way of doing this (the new is just what I have so far...):</p>\n\n<pre><code>import maya.OpenMaya as oldOM\nimport maya.api.OpenMaya as om\n\ndef getClosestPointOnSurfaceOLD(surf, position):\n    selList = oldOM.MSelectionList()\n    selList.add(surf)\n    mDagPath = oldOM.MDagPath()\n    selList.getDagPath(0, mDagPath)\n    surfFn = oldOM.MFnNurbsSurface(mDagPath)\n\n    u_util = oldOM.MScriptUtil()\n    u_util.createFromDouble(0)\n    u_param = u_util.asDoublePtr()\n\n    v_util = oldOM.MScriptUtil()\n    v_util.createFromDouble(0)\n    v_param = v_util.asDoublePtr()\n\n    p = surfFn.closestPoint(oldOM.MPoint(*position), u_param, v_param, False, 1.0, oldOM.MSpace.kWorld)\n\n    return [(p[0], p[1], p[2]), (oldOM.MScriptUtil.getDouble(u_param), oldOM.MScriptUtil.getDouble(v_param))]\n\ndef getClosestPointOnSurfaceNEW(surf, position):\n    selList = om.MSelectionList()\n    selList.add(surf)\n    surfFn = om.MFnNurbsSurface(selList.getDagPath(0))\n\n    p, u, v = surfFn.closestPoint(om.MPoint(*position), ignoreTrimBoundaries=False, tolerance=1.0, space=om.MSpace.kWorld)\n\n    return [(p[0], p[1], p[2]), (u, v)]\n</code></pre>\n\n<p>I've tested it by creating a nurbsPlane (with defaults) and then moving it up 0.5 units in y and comparing the output of the two functions with these lines:</p>\n\n<pre><code>getClosestPointOnSurfaceOLD('nurbsPlane1', (0.0, 1.0, 0.0))\ngetClosestPointOnSurfaceNEW('nurbsPlane1', (0.0, 1.0, 0.0))\n\n# Result: [(-2.7755575615628914e-17, 0.5, 2.7755575615628914e-17), (0.5, 0.5)] # &lt;-- old function result\n# Error: TypeError: file &lt;maya console&gt; line 28: integer argument expected, got float # &lt;-- new function result\n</code></pre>\n\n<p>Other things I've tried to do with the 'closestPoint' line in my function:</p>\n\n<pre><code>surfFn.closestPoint(om.MPoint(*position), ignoreTrimBoundaries=False)\n# Result: [(-2.7755575615628914e-17, -1.5407439555097887e-33, 2.7755575615628914e-17), (0.5, 0.5)] #\n\nsurfFn.closestPoint(om.MPoint(*position), False)\n# Result: [(-1.1102230246251565e-16, -6.162975822039155e-33, 1.1102230246251565e-16), (0.5, 0.5)] #\n\nsurfFn.closestPoint(om.MPoint(*position), tolerance=1.0)\n# Error: TypeError: file &lt;maya console&gt; line 28: integer argument expected, got float #\n\nsurfFn.closestPoint(om.MPoint(*position), tolerance=1)\n# Error: RuntimeError: file &lt;maya console&gt; line 28: More keyword list entries (6) than format specifiers (5) #\n\nsurfFn.closestPoint(om.MPoint(*position), 1.0)\n# Result: [(-1.1102230246251565e-16, -6.162975822039155e-33, 1.1102230246251565e-16), (0.5, 0.5)] #\n\nsurfFn.closestPoint(om.MPoint(*position), space=om.MSpace.kWorld)\n# Error: RuntimeError: file &lt;maya console&gt; line 28: More keyword list entries (6) than format specifiers (5) #\n\nsurfFn.closestPoint(om.MPoint(*position), om.MSpace.kWorld)\n# Result: [(-1.1102230246251565e-16, -6.162975822039155e-33, 1.1102230246251565e-16), (0.5, 0.5)] #\n\nsurfFn.closestPoint(om.MPoint(*position))\n# Result: [(-2.7755575615628914e-17, -1.5407439555097887e-33, 2.7755575615628914e-17), (0.5, 0.5)] #\n\nsurfFn.closestPoint(om.MPoint(*position), False, 1.0, om.MSpace.kWorld)\n# Result: [(-2.7755575615628914e-17, 3.851859888774472e-33, -6.938893903907228e-17), (0.5, 0.5000000000000001)] #\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), uStart=0.0, vStart=0.0, ignoreTrimBoundaries=False, tolerance=1.0, space=om.MSpace.kWorld)\n# Error: TypeError: file &lt;maya console&gt; line 28: integer argument expected, got float #\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0.0, 0.0, False, 1.0, om.MSpace.kWorld)\n# Error: TypeError: file &lt;maya console&gt; line 28: integer argument expected, got float #\n</code></pre>\n\n<p>Some of the differences in output is just strange to me, and the errors don't seem to make sense (like the differences when adjusting the 'tolerance' arg value)...  Also, it turns out that the uv values of 0.5 being correct is just coincidental - if I move and/or rotate the plane, the old function returns different uv values while the new function always returns 0.5 since it's evaluating the test point from the plane's object space instead of using world space.</p>\n\n<p>I also took a look at the docs for the corresponding old OpenMaya command where there were two entries - one of which has a 'paramAsStart' boolean arg to use if you are going to provide some start uv values.  Thinking the 2.0 docs may have missed that, I tried adding that into my api 2.0 attempt too...  It didn't work either (gave me an error that I passed in too many args).</p>\n\n<p>For the bare minimum, I need to figure out how to make it evaluate the test point from world space; However, as I continue using the OpenMaya api 2.0, I'm sure I'll run across this type of thing again (kwargs that don't seem to work...) - any help on how to actually use these kwargs is appreciated!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>more testing - after theodox's answer, I guessed that the docs may have had the arg order incorrect...  So, I decided to test permutations.  Assuming <code>uStart</code> and <code>vStart</code> will always be next to each other gives 24 permutations of the \"kwargs\" but I decided to also try None, 0.0, and 0 for their values (72 tests!).  <strong>ALL</strong> errored out.</p>\n\n<p>Here are my test lines:</p>\n\n<pre><code>surfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), None, None, False, 1.0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), None, None, False, om.MSpace.kWorld, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), None, None, 1.0, False, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), None, None, 1.0, om.MSpace.kWorld, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), None, None, om.MSpace.kWorld, False, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), None, None, om.MSpace.kWorld, 1.0, False)\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, None, None, 1.0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, None, None, om.MSpace.kWorld, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 1.0, None, None, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 1.0, om.MSpace.kWorld, None, None)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, om.MSpace.kWorld, None, None, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, om.MSpace.kWorld, 1.0, None, None)\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, None, None, False, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, None, None, om.MSpace.kWorld, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, False, None, None, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, False, om.MSpace.kWorld, None, None)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, om.MSpace.kWorld, None, None, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, om.MSpace.kWorld, False, None, None)\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, None, None, False, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, None, None, 1.0, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, False, None, None, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, False, 1.0, None, None)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 1.0, None, None, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 1.0, False, None, None)\n\n\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0.0, 0.0, False, 1.0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0.0, 0.0, False, om.MSpace.kWorld, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0.0, 0.0, 1.0, False, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0.0, 0.0, 1.0, om.MSpace.kWorld, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0.0, 0.0, om.MSpace.kWorld, False, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0.0, 0.0, om.MSpace.kWorld, 1.0, False)\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 0.0, 0.0, 1.0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 0.0, 0.0, om.MSpace.kWorld, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 1.0, 0.0, 0.0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 1.0, om.MSpace.kWorld, 0.0, 0.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, om.MSpace.kWorld, 0.0, 0.0, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, om.MSpace.kWorld, 1.0, 0.0, 0.0)\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, 0.0, 0.0, False, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, 0.0, 0.0, om.MSpace.kWorld, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, False, 0.0, 0.0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, False, om.MSpace.kWorld, 0.0, 0.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, om.MSpace.kWorld, 0.0, 0.0, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, om.MSpace.kWorld, False, 0.0, 0.0)\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 0.0, 0.0, False, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 0.0, 0.0, 1.0, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, False, 0.0, 0.0, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, False, 1.0, 0.0, 0.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 1.0, 0.0, 0.0, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 1.0, False, 0.0, 0.0)\n\n\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0, 0, False, 1.0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0, 0, False, om.MSpace.kWorld, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0, 0, 1.0, False, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0, 0, 1.0, om.MSpace.kWorld, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0, 0, om.MSpace.kWorld, False, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 0, 0, om.MSpace.kWorld, 1.0, False)\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 0, 0, 1.0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 0, 0, om.MSpace.kWorld, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 1.0, 0, 0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, 1.0, om.MSpace.kWorld, 0, 0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, om.MSpace.kWorld, 0, 0, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), False, om.MSpace.kWorld, 1.0, 0, 0)\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, 0, 0, False, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, 0, 0, om.MSpace.kWorld, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, False, 0, 0, om.MSpace.kWorld)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, False, om.MSpace.kWorld, 0, 0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, om.MSpace.kWorld, 0, 0, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), 1.0, om.MSpace.kWorld, False, 0, 0)\n\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 0, 0, False, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 0, 0, 1.0, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, False, 0, 0, 1.0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, False, 1.0, 0, 0)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 1.0, 0, 0, False)\nsurfFn.closestPoint(om.MPoint(0.0, 1.0, 0.0), om.MSpace.kWorld, 1.0, False, 0, 0)\n</code></pre>\n\n<p>And these are the common errors that would come up:</p>\n\n<pre><code># Error: RuntimeError: file &lt;maya console&gt; line 1: More keyword list entries (6) than format specifiers (5) #\n# Error: TypeError: file &lt;maya console&gt; line 1: integer argument expected, got float #\n# Error: TypeError: file &lt;maya console&gt; line 1: an integer is required #\n# Error: TypeError: file &lt;maya console&gt; line 1: a float is required #\n</code></pre>\n\n<p>I can post the line/errors if anyone is interested...</p>\n\n<p>So, I guess this is a maya bug - bleh...</p>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe"], "comments": [{"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1502313883, "post_id": 45600710, "comment_id": 78161053, "body": "Wierd. I am getting 4,4 in both the locations."}, {"owner": {"reputation": 37, "user_id": 8441987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f79489003cf330dbdae6d2333afd15b?s=128&d=identicon&r=PG&f=1", "display_name": "Ankie", "link": "https://stackoverflow.com/users/8441987/ankie"}, "reply_to_user": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1502314205, "post_id": 45600710, "comment_id": 78161206, "body": "I guess, I should restart my system then and try again, otherwise I&#39;ve tried the code 10 times and it shows me 3 and 3."}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1502314362, "post_id": 45600710, "comment_id": 78161275, "body": "That&#39;s probably a floating point issue. If it&#39;s represented as 3.99999 astype will round it down to 3. Try <code>round(0)</code> maybe?"}, {"owner": {"reputation": 37, "user_id": 8441987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f79489003cf330dbdae6d2333afd15b?s=128&d=identicon&r=PG&f=1", "display_name": "Ankie", "link": "https://stackoverflow.com/users/8441987/ankie"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1502316076, "post_id": 45600710, "comment_id": 78162000, "body": "@ayhan I did what u suggested, using .round(0) , but the problem is it works as a ceiling function, it makes values like 2.6,  2.87  to 3, whereas I want them to be 2. What else can I try ?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 8441987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f79489003cf330dbdae6d2333afd15b?s=128&d=identicon&r=PG&f=1", "display_name": "Ankie", "link": "https://stackoverflow.com/users/8441987/ankie"}, "edited": false, "score": 0, "creation_date": 1502470180, "post_id": 45600981, "comment_id": 78239772, "body": "What if all the values in the above column are negative, so in case of -3.999999, it will be rounded to -4 ?"}, {"owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "reply_to_user": {"reputation": 37, "user_id": 8441987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f79489003cf330dbdae6d2333afd15b?s=128&d=identicon&r=PG&f=1", "display_name": "Ankie", "link": "https://stackoverflow.com/users/8441987/ankie"}, "edited": false, "score": 1, "creation_date": 1502525365, "post_id": 45600981, "comment_id": 78254554, "body": "It&#39;s dangerous to continue this way. I think  if your computations lead to 3.999 when 4 is the good result, you must refactor this part."}, {"owner": {"reputation": 37, "user_id": 8441987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f79489003cf330dbdae6d2333afd15b?s=128&d=identicon&r=PG&f=1", "display_name": "Ankie", "link": "https://stackoverflow.com/users/8441987/ankie"}, "edited": false, "score": 0, "creation_date": 1502554354, "post_id": 45600981, "comment_id": 78263023, "body": "I am still struggling with this, now one of the values in column is -7.680000 and I am dividing it with 0.04000 , it should be -192, but I get -191 which affects my overall result. Please suggest the refactoring part yo mentioned. I am sorry, haven&#39;t encountered this type of problem before, so just running out of solutions. I have a column which has only negative floating point numbers which I will be dividing with another <b>positive</b> floating point no, and then keeping only the integer part of the result (like floor and <b>not</b> ceiling)."}], "tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1502314502, "creation_date": 1502314502, "answer_id": 45600981, "question_id": 45600710, "link": "https://stackoverflow.com/questions/45600710/typeerror-while-converting-pandas-column-to-int/45600981#45600981", "title": "TypeError while converting pandas column to int", "body": "<p>You probably have rounding issue. What you see as <code>4.000000</code> is probably <code>3.9999999999</code> internally, so you get this result. ( try <code>df.col1-2</code> to check it.)</p>\n\n<p>You can try  <code>(df.round(6)/.5).astype(int)</code> to work on the digits you see, but it is a workaround.</p>\n"}], "owner": {"reputation": 37, "user_id": 8441987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f79489003cf330dbdae6d2333afd15b?s=128&d=identicon&r=PG&f=1", "display_name": "Ankie", "link": "https://stackoverflow.com/users/8441987/ankie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 45600981, "answer_count": 1, "score": 1, "last_activity_date": 1502314502, "creation_date": 1502313123, "question_id": 45600710, "link": "https://stackoverflow.com/questions/45600710/typeerror-while-converting-pandas-column-to-int", "title": "TypeError while converting pandas column to int", "body": "<p>Working with pandas data frame, where one of the columns, say col1 has floating point values, I am trying to divide each of these values with a pre defined constant, say A, and then save the results as integer values.</p>\n\n<pre><code>A = 0.5\n</code></pre>\n\n<p>Following is the data in <strong>col1</strong></p>\n\n<pre><code>df[\"col1\"]\n\n0     0.800000\n1     0.883333\n2     0.883333\n3     1.000000\n4     1.000000\n5     1.300000\n6     1.300000\n7     1.500000\n8     1.500000\n9     2.000000\n10    2.000000\n11    2.500000\n12    2.500000\n</code></pre>\n\n<p>After applying </p>\n\n<pre><code>df[\"new_col\"] = (df[\"col1\"] / A)\n</code></pre>\n\n<p>It gives</p>\n\n<pre><code>0     1.600000\n1     1.766667\n2     1.766667\n3     2.000000\n4     2.000000\n5     2.600000\n6     2.600000\n7     3.000000\n8     3.000000\n9     4.000000\n10    4.000000\n11    5.000000\n12    5.000000\n</code></pre>\n\n<p>which is fine, but as soon as I add <strong>.astype(int)</strong> to the above code, it can be observed at <strong>index 9 and 10</strong> the values are <strong>3</strong> and <strong>3</strong> whereas it should be 4 and 4 respectively. </p>\n\n<pre><code>df[\"new_col\"] = (df[\"col1\"] / A).astype(int)\ndf[\"new_col\"]\n\n0     1\n1     1\n2     1\n3     2\n4     2\n5     2\n6     2\n7     3\n8     3\n9     3\n10    3\n11    5\n12    5\n</code></pre>\n\n<p>The other ways I am trying to obtain the result are</p>\n\n<pre><code> df[\"new_col\"] = math.floor(df[\"col1\"] / A )\n</code></pre>\n\n<p>and  </p>\n\n<pre><code>df[\"new_col\"] = int( df[\"col1\"] / A)\n</code></pre>\n\n<p>Both of which gives me TypeError saying:</p>\n\n<p>TypeError: cannot convert the series to class 'float'  <strong>and</strong> \n TypeError: cannot convert the series to class 'int'   respectively.</p>\n\n<p>Please let me know how should I resolve the above issues.</p>\n"}, {"tags": ["python", "dictionary", "binary-search-tree"], "answers": [{"tags": [], "owner": {"reputation": 432, "user_id": 8402427, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6377f77c32066029c46eed228e1e71e4?s=128&d=identicon&r=PG&f=1", "display_name": "DrJessop", "link": "https://stackoverflow.com/users/8402427/drjessop"}, "is_accepted": true, "score": 0, "last_activity_date": 1502314063, "creation_date": 1502314063, "answer_id": 45600894, "question_id": 45600699, "link": "https://stackoverflow.com/questions/45600699/manual-addition-into-a-binary-search-tree/45600894#45600894", "title": "Manual Addition into a Binary Search Tree", "body": "<p>It turns out all I forgot to do was mention that the data types were floating point numbers, which confuses me because I'm wondering how a binary search tree was created in the first place when the comparison operators were comparing strings.</p>\n"}], "owner": {"reputation": 432, "user_id": 8402427, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6377f77c32066029c46eed228e1e71e4?s=128&d=identicon&r=PG&f=1", "display_name": "DrJessop", "link": "https://stackoverflow.com/users/8402427/drjessop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 45600894, "answer_count": 1, "score": 0, "last_activity_date": 1502314063, "creation_date": 1502313080, "question_id": 45600699, "link": "https://stackoverflow.com/questions/45600699/manual-addition-into-a-binary-search-tree", "title": "Manual Addition into a Binary Search Tree", "body": "<p>I successfully created a BST that reads data from a text file and connects the nodes accordingly, albeit in an unbalanced way, however, now I am having problems with the user input.</p>\n\n<p>Here is an example of what a line from the text file looks like:</p>\n\n<pre><code>student id1, mark1, mark2, mark3, mark4, mark5, midterm mark, exam mark\n</code></pre>\n\n<p>My functions that turn this into a BST look like this:</p>\n\n<pre><code>def marks(tree, Data):\n    global assignment1\n    global assignment2\n    global assignment3\n    global assignment4\n    global assignment5\n    global midterm\n    global exam\n    global counter\n    for students in Data[:len(Data)-2]:\n        data = students.split(',')\n        assignment1 += float(data[1])\n        assignment2 += float(data[2])\n        assignment3 += float(data[3])\n        assignment4 += float(data[4])\n        assignment5 += float(data[5])\n        midterm     += float(data[6])\n        exam        += float(data[7])\n        if float(data[7]) &lt; 32.5:\n            counter+=1\n        tree = add(tree, data)\n    return tree\n\ndef add(tree, data):\n    if tree == None:\n        tree = {'data':data,'left':None, 'right':None}\n        return tree\n    elif data[0] &lt; tree['data'][0]:\n        tree['left'] = add(tree['left'], data)\n        return tree\n    elif data[0] &gt; tree['data'][0]:\n        tree['right'] = add(tree['right'], data)\n        return tree\n</code></pre>\n\n<p>This produces a BST, but now I want to create a function that allows for manual addition into the BST (always adding at the leaves). </p>\n\n<pre><code>def manual_addition(myTree):\n    new_student = {}\n    student_id = input(\"Please enter the student id: \")\n    hw1 = input(\"Please enter their first assignment mark: \")\n    hw2 = input(\"Please enter their second assignment mark: \")\n    hw3 = input(\"Please enter their third assignment mark: \")\n    hw4 = input(\"Please enter their fourth assignment mark: \")\n    hw5 = input(\"Please enter their fifth assignment mark: \")\n    midterm = input(\"Please enter their midterm mark: \")\n    exam = input(\"Please enter their final exam mark: \")\n    new_student = [student_id, hw1, hw2, hw3, hw4, hw5, midterm, exam]\n    myTree = add(myTree, new_student)\n    return myTree\n</code></pre>\n\n<p>However, when I print my BST, if for example the id I entered was 300, it appears in the right of an id greater than 2000. It should appear at the very left of my BST, since the lowest id in the text file is 2000. What is my error?</p>\n"}, {"tags": ["python", "pandas", "series"], "answers": [{"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 7, "last_activity_date": 1502313286, "creation_date": 1502313286, "answer_id": 45600745, "question_id": 45600662, "link": "https://stackoverflow.com/questions/45600662/pandas-remove-numbers-from-start-of-string-in-series/45600745#45600745", "title": "Pandas - remove numbers from start of string in series", "body": "<p>You can use <code>str.replace</code> with regex <em>^\\d+\\s+</em> to remove leading digits:</p>\n\n<pre><code>s.str.replace('^\\d+\\s+', '')\n\nOut[491]:\n0         SOUTH PARK\n1        BRAKER LANE\n2             3RD ST\n3    BIRMINGHAM PARK\n4             E 12TH\nName: Idx, dtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 870, "user_id": 7747975, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eEIrKsciIU0/AAAAAAAAAAI/AAAAAAAAADo/DH-g4rFPvOo/photo.jpg?sz=128", "display_name": "Andrew", "link": "https://stackoverflow.com/users/7747975/andrew"}, "is_accepted": false, "score": 1, "last_activity_date": 1502314263, "creation_date": 1502314263, "answer_id": 45600930, "question_id": 45600662, "link": "https://stackoverflow.com/questions/45600662/pandas-remove-numbers-from-start-of-string-in-series/45600930#45600930", "title": "Pandas - remove numbers from start of string in series", "body": "<p><code>str.replace('\\d+\\s', '')</code> is what I came up with:</p>\n\n<pre><code>df =  pd.DataFrame({'IDx': ['11000 SOUTH PARK',\n                        '20314 BRAKER LANE',\n                        '203 3RD ST',\n                        'BIRMINGHAM PARK',\n                        'E 12TH']})\n\ndf\nOut[126]: \n                 IDx\n0   11000 SOUTH PARK\n1  20314 BRAKER LANE\n2         203 3RD ST\n3    BIRMINGHAM PARK\n4             E 12TH\n\ndf.IDx = df.IDx.str.replace('\\d+\\s', '')   \n\ndf\nOut[128]: \n               IDx\n0       SOUTH PARK\n1      BRAKER LANE\n2           3RD ST\n3  BIRMINGHAM PARK\n4           E 12TH\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 6513781, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68685a176c0752b1f6f4d3bfef1ddeea?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Morris", "link": "https://stackoverflow.com/users/6513781/jake-morris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2241, "favorite_count": 1, "accepted_answer_id": 45600745, "answer_count": 2, "score": 1, "last_activity_date": 1502314263, "creation_date": 1502312902, "question_id": 45600662, "link": "https://stackoverflow.com/questions/45600662/pandas-remove-numbers-from-start-of-string-in-series", "title": "Pandas - remove numbers from start of string in series", "body": "<p>I've got a series of addresses and would like a series with just the street name. The only catch is some of the addresses don't have a house number, and some do. </p>\n\n<p>So if I have a series that looks like:</p>\n\n<pre><code>Idx\n 0      11000 SOUTH PARK\n 1      20314 BRAKER LANE\n 2      203 3RD ST\n 3      BIRMINGHAM PARK\n 4      E 12TH\n</code></pre>\n\n<p>What function would I write to get</p>\n\n<pre><code>Idx\n 0      SOUTH PARK\n 1      BRAKER LANE\n 2      3RD ST\n 3      BIRMINGHAM PARK\n 4      E 12TH\n</code></pre>\n\n<p>where any 'words' made entirely of numeric characters at the beginning of the string have been removed? As you can see above, I would like to retain the 3 that '3RD STREET' starts with. I'm thinking a regular expression but this is beyond me. Thanks!</p>\n"}, {"tags": ["python", "recursion", "parameters", "arguments"], "comments": [{"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 2, "creation_date": 1502313041, "post_id": 45600661, "comment_id": 78160733, "body": "you can use something like <code>def recursive_sum(a,b,saved=0):</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "is_accepted": false, "score": 2, "last_activity_date": 1502313418, "last_edit_date": 1502313418, "creation_date": 1502313111, "answer_id": 45600707, "question_id": 45600661, "link": "https://stackoverflow.com/questions/45600661/how-to-reduce-parameters-needed-in-recursive-function-definition-for-calculatio/45600707#45600707", "title": "How to reduce parameters needed in recursive function definition (for calculation of a*b)", "body": "<p>This whole approach only really works for integers, but this might set you straight:</p>\n\n<pre><code>def recursive_sum(a,b):\n    if b == 1:\n        return a\n    return a + recursive_sum(a, b-1)\n</code></pre>\n\n<p>The idea here is that your return statement needs to call the next iteration of function call and then use the result it receives to calculate it's own return value.  When you write a recursive function, you're really writing f(f(...f(x))).  You have two components to implement:</p>\n\n<ol>\n<li>The general (recursive) case - How can you use previous results to calculate the next result in sequence?</li>\n<li>The base case - How do you determine that you don't need any additional recursion?  In this case, you'll just return a value without calling the function again.</li>\n</ol>\n\n<p>Try implementing a recursive factorial function.  That's perhaps the easiest (except maybe a sum) recursive function to write.</p>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 8441632, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0d4ea9baded7e0d45fc092a000562de6?s=128&d=identicon&r=PG&f=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/8441632/artemis"}, "edited": false, "score": 0, "creation_date": 1502316244, "post_id": 45601279, "comment_id": 78162081, "body": "what does it mean to <code>return</code> the function? why is that different to calling it?"}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "reply_to_user": {"reputation": 129, "user_id": 8441632, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0d4ea9baded7e0d45fc092a000562de6?s=128&d=identicon&r=PG&f=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/8441632/artemis"}, "edited": false, "score": 1, "creation_date": 1502316617, "post_id": 45601279, "comment_id": 78162223, "body": "@Arkan <code>return</code> is how you specify the value that a function call produces."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 1, "last_activity_date": 1502315938, "creation_date": 1502315938, "answer_id": 45601279, "question_id": 45600661, "link": "https://stackoverflow.com/questions/45600661/how-to-reduce-parameters-needed-in-recursive-function-definition-for-calculatio/45601279#45601279", "title": "How to reduce parameters needed in recursive function definition (for calculation of a*b)", "body": "<p>Your code has two issues.</p>\n\n<p>First, you've not included a default value for <code>saved</code> in the declaration of your function (though you mention trying to). I suspect when you tried it, you actually did something different (passing a keyword argument in the recursive call).</p>\n\n<p>Second, you're not <code>return</code>ing the result of the recursive call (you're instead multiplying the result by <code>b</code>, which doesn't make any sense and doesn't do anything useful, since you discard the result).</p>\n\n<p>Here's a fixed version:</p>\n\n<pre><code>def recursive_sum(a,b,saved=0): # provide default value for saved here\n    saved+=a # minor improvement: moved this line here rather than repeating it twice below\n    if b == 1:\n        return saved\n    b -= 1\n    return recursive_sum(a,b,saved) # return result of recursive call (and don't multiply)\n</code></pre>\n\n<p>I suspect when you tried using a default value before, you also (or instead) put <code>saved=0</code> in the recursive call at the end of the function (not only on the <code>def</code> line). That won't work correctly, as it passes <code>0</code> as a keyword argument, ignoring the value of <code>saved</code> you already have.</p>\n\n<p>This version of the code is \"tail recursive\", since you <code>return</code> the result of the recursive call without doing anything else. This kind of recursion has some performance benefits in some other programming languages, but alas, not in Python. Unless you are choosing tail recursion for some specific reason (e.g. you're required use it for a homework assignment), the non-tail recursive code in <a href=\"https://stackoverflow.com/a/45600707/1405065\">RagingRoosevelt's answer</a> is probably better than this version.</p>\n"}, {"tags": [], "owner": {"reputation": 1076, "user_id": 2883282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44d8f579f6c1af59561466707832b2ee?s=128&d=identicon&r=PG&f=1", "display_name": "englealuze", "link": "https://stackoverflow.com/users/2883282/englealuze"}, "is_accepted": false, "score": 1, "last_activity_date": 1502484484, "creation_date": 1502484484, "answer_id": 45643536, "question_id": 45600661, "link": "https://stackoverflow.com/questions/45600661/how-to-reduce-parameters-needed-in-recursive-function-definition-for-calculatio/45643536#45643536", "title": "How to reduce parameters needed in recursive function definition (for calculation of a*b)", "body": "<pre><code>def recursive_sum(a,b):\n    def iterative_sum(x, saved):\n        if x == 0:\n            return saved\n        else:\n            return iterative_sum(x-1, saved+a)\n    return iterative_sum(b,0)\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 8441632, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0d4ea9baded7e0d45fc092a000562de6?s=128&d=identicon&r=PG&f=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/8441632/artemis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 45601279, "answer_count": 3, "score": 1, "last_activity_date": 1502484484, "creation_date": 1502312899, "last_edit_date": 1502314388, "question_id": 45600661, "link": "https://stackoverflow.com/questions/45600661/how-to-reduce-parameters-needed-in-recursive-function-definition-for-calculatio", "title": "How to reduce parameters needed in recursive function definition (for calculation of a*b)", "body": "<p>I have a recursive function that calculates <code>a*b</code> however when I call it I don't want to have to give it a value: <code>recursive_sum(5,5,0)</code> where <code>0</code> is the saved sum. </p>\n\n<pre><code>def recursive_sum(a,b,saved):\n    if b == 1:\n        saved+=a\n        return saved\n    saved += a\n    b -= 1\n    b*recursive_sum(a,b,saved)\n</code></pre>\n\n<p><em>I understand this is a very simple example</em></p>\n\n<p>When I add the line <code>save=0</code> so I don't have to pass the pointless argument, obviously, the value is reset to <code>0</code> with each iteration.</p>\n\n<p><strong>My Question:</strong> is there a way to implement my function to work with the call <code>recursive_sum(2,2)</code> and not have to worry about passing <code>0</code> to <code>saved</code>?</p>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502312954, "post_id": 45600636, "comment_id": 78160696, "body": "You&#39;ll need to recompile the SQLite library in order to change it. Nothing you can do in Python will be able to overcome this."}, {"owner": {"reputation": 143, "user_id": 1532933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef646d954fbbde0463cef72943aa442?s=128&d=identicon&r=PG&f=1", "display_name": "scip", "link": "https://stackoverflow.com/users/1532933/scip"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502313049, "post_id": 45600636, "comment_id": 78160737, "body": "I&#39;ve recompiled the C library, but can I get Python to use it as is?"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502313087, "post_id": 45600636, "comment_id": 78160756, "body": "I don&#39;t think so"}, {"owner": {"reputation": 143, "user_id": 1532933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef646d954fbbde0463cef72943aa442?s=128&d=identicon&r=PG&f=1", "display_name": "scip", "link": "https://stackoverflow.com/users/1532933/scip"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502313305, "post_id": 45600636, "comment_id": 78160830, "body": "To phrase it better, what should I do with the compiled library to use it in Python?"}, {"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1502357101, "post_id": 45600636, "comment_id": 78177791, "body": "You are violating <a href=\"http://michaeljswart.com/2013/05/swarts-ten-percent-rule/\" rel=\"nofollow noreferrer\">Swart\u2019s Ten Percent Rule</a>."}, {"owner": {"reputation": 143, "user_id": 1532933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef646d954fbbde0463cef72943aa442?s=128&d=identicon&r=PG&f=1", "display_name": "scip", "link": "https://stackoverflow.com/users/1532933/scip"}, "edited": false, "score": 0, "creation_date": 1502357494, "post_id": 45600636, "comment_id": 78178071, "body": "Someone already created a csv with &gt;2000 columns and I need to process it. SQL is the easiest way. Not every question on here describes a new design to be used in production."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 1532933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef646d954fbbde0463cef72943aa442?s=128&d=identicon&r=PG&f=1", "display_name": "scip", "link": "https://stackoverflow.com/users/1532933/scip"}, "edited": false, "score": 0, "creation_date": 1502399465, "post_id": 45600743, "comment_id": 78206626, "body": "Could you help me understand how to do this? I don&#39;t see any references to SQLITE_MAX_COLUMN in the _sqlite code. How does this module relate to the code from <a href=\"https://www.sqlite.org/download.html\" rel=\"nofollow noreferrer\">sqlite.org/download.html</a>?"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "reply_to_user": {"reputation": 143, "user_id": 1532933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef646d954fbbde0463cef72943aa442?s=128&d=identicon&r=PG&f=1", "display_name": "scip", "link": "https://stackoverflow.com/users/1532933/scip"}, "edited": false, "score": 1, "creation_date": 1502402087, "post_id": 45600743, "comment_id": 78207663, "body": "It&#39;s not an independent module. It&#39;s a python wrapper for libsqlite. So you have to recompile libsqlite and recompile Python from sources using recompiled libsqlite."}], "tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": false, "score": 1, "last_activity_date": 1502313272, "creation_date": 1502313272, "answer_id": 45600743, "question_id": 45600636, "link": "https://stackoverflow.com/questions/45600636/python-sqlite3-increase-max-columns/45600743#45600743", "title": "Python sqlite3 increase max columns", "body": "<p>You have to recompile and reinstall <a href=\"https://github.com/python/cpython/tree/master/Modules/_sqlite\" rel=\"nofollow noreferrer\">_sqlite</a> module. That means, though, that your programs that rely on this specific behaviour become non-portable \u2014 you cannot distribute your programs because you have to ask your users to recompile the module the same way. But for personal (or local to a company) use it's ok.</p>\n"}, {"tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": false, "score": 0, "last_activity_date": 1502404227, "creation_date": 1502404227, "answer_id": 45624391, "question_id": 45600636, "link": "https://stackoverflow.com/questions/45600636/python-sqlite3-increase-max-columns/45624391#45624391", "title": "Python sqlite3 increase max columns", "body": "<p>Another way would be to recompile libsqlite3 and us it via ctypes or cffi. Like this: <a href=\"https://gist.github.com/achimnol/3021995\" rel=\"nofollow noreferrer\">https://gist.github.com/achimnol/3021995</a> or <a href=\"https://stackoverflow.com/q/44437521/7976758\">How to code and wrap with ctypes a python function needed as callback by sqlite3?</a> That way you don't need to recompile Python.</p>\n"}], "owner": {"reputation": 143, "user_id": 1532933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef646d954fbbde0463cef72943aa442?s=128&d=identicon&r=PG&f=1", "display_name": "scip", "link": "https://stackoverflow.com/users/1532933/scip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502404227, "creation_date": 1502312750, "question_id": 45600636, "link": "https://stackoverflow.com/questions/45600636/python-sqlite3-increase-max-columns", "title": "Python sqlite3 increase max columns", "body": "<p>sqlite3 by default sets SQLITE_MAX_COLUMN=2000 and you can recompile the CLI to increase the limit up to 32676. (<a href=\"https://stackoverflow.com/questions/43096246/sqlite3-increase-max-columns\">SQLITE3 increase Max Columns</a>)</p>\n\n<p>How can I translate this setting to work with the python module? (<a href=\"https://docs.python.org/2/library/sqlite3.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/sqlite3.html</a>)</p>\n"}, {"tags": ["python", "numpy", "anaconda", "conda"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1502312858, "post_id": 45600627, "comment_id": 78160651, "body": "Perhaps there is a conflict with your existing packages.  Try creating a new environment <code>conda create -n my_env numpy</code>"}, {"owner": {"reputation": 1, "user_id": 1501891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc6a3088dc6cb2a6ab69ad8f4990df6?s=128&d=identicon&r=PG", "display_name": "Kam_RIT", "link": "https://stackoverflow.com/users/1501891/kam-rit"}, "edited": false, "score": 0, "creation_date": 1524861656, "post_id": 45600627, "comment_id": 87162085, "body": "You can always just get rid of blaze if you don&#39;t need it."}], "answers": [{"comments": [{"owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "edited": false, "score": 1, "creation_date": 1502314682, "post_id": 45600657, "comment_id": 78161425, "body": "yes, <code>basemap</code> was the problem, removed it and numpy 1.13.1 installs fine"}, {"owner": {"reputation": 1721, "user_id": 1018861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e4df1317aa64a5f6550ff47202bbc5a0?s=128&d=identicon&r=PG", "display_name": "TomNorway", "link": "https://stackoverflow.com/users/1018861/tomnorway"}, "edited": false, "score": 0, "creation_date": 1568727666, "post_id": 45600657, "comment_id": 102360783, "body": "Does there exist a similar command that targets the most recent version?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 1721, "user_id": 1018861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e4df1317aa64a5f6550ff47202bbc5a0?s=128&d=identicon&r=PG", "display_name": "TomNorway", "link": "https://stackoverflow.com/users/1018861/tomnorway"}, "edited": false, "score": 0, "creation_date": 1568728854, "post_id": 45600657, "comment_id": 102361554, "body": "@TomNorway There&#39;s <code>conda install numpy</code> or <code>conda update numpy</code> which should install the newest (possible) version of numpy (from the available channels)."}, {"owner": {"reputation": 1721, "user_id": 1018861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e4df1317aa64a5f6550ff47202bbc5a0?s=128&d=identicon&r=PG", "display_name": "TomNorway", "link": "https://stackoverflow.com/users/1018861/tomnorway"}, "edited": false, "score": 1, "creation_date": 1568797179, "post_id": 45600657, "comment_id": 102385304, "body": "@MSeifert, please see the screenshot in the original post. <code>conda update numpy</code> doesn&#39;t do this, and neither does <code>conda install numpy</code>, at least for me. I had to specifically target <code>conda install numpy=1.17</code> yesterday to upgrade from 1.15. The commands are perhaps <i>supposed</i> to do this, but they appear not to."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 1721, "user_id": 1018861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e4df1317aa64a5f6550ff47202bbc5a0?s=128&d=identicon&r=PG", "display_name": "TomNorway", "link": "https://stackoverflow.com/users/1018861/tomnorway"}, "edited": false, "score": 0, "creation_date": 1568797960, "post_id": 45600657, "comment_id": 102385778, "body": "@TomNorway Okay, then I misunderstood your comment. As far as I know there&#39;s no &quot;version&quot; that resolves to the latest version of a package."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 26, "last_activity_date": 1516522444, "last_edit_date": 1516522444, "creation_date": 1502312891, "answer_id": 45600657, "question_id": 45600627, "link": "https://stackoverflow.com/questions/45600627/cant-update-to-numpy-1-13-with-anaconda/45600657#45600657", "title": "Can&#39;t update to numpy 1.13 with anaconda?", "body": "<p>You could try to install a specific NumPy version. In your case you could use:</p>\n\n<pre><code>$ conda install numpy=1.13\n</code></pre>\n\n<p>In case of conflicts it will show the conflicting packages. </p>\n\n<p>For example:</p>\n\n<pre><code>$ conda install numpy=1.14\n\nSolving environment: failed\n\nUnsatisfiableError: The following specifications were found to be in conflict:\n  - blaze -&gt; numba -&gt; numpy[version='&gt;=1.13,&lt;1.14.0a0']\n  - numpy=1.14\nUse \"conda info &lt;package&gt;\" to see the dependencies for each package.\n</code></pre>\n\n<p>In this case <code>blaze</code> and <code>numba</code> prevent NumPy from upgrading.</p>\n"}, {"comments": [{"owner": {"reputation": 3703, "user_id": 399573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e8e67c6abb4a9c0d8bbb52e0d28416e?s=128&d=identicon&r=PG", "display_name": "gt6989b", "link": "https://stackoverflow.com/users/399573/gt6989b"}, "edited": false, "score": 5, "creation_date": 1549396772, "post_id": 48360791, "comment_id": 95885397, "body": "generally speaking, a bad idea to upgrade with pip in a conda environment"}], "tags": [], "owner": {"reputation": 171, "user_id": 4517856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HtckP.jpg?s=128&g=1", "display_name": "emir", "link": "https://stackoverflow.com/users/4517856/emir"}, "is_accepted": false, "score": 10, "last_activity_date": 1516523187, "last_edit_date": 1516523187, "creation_date": 1516480328, "answer_id": 48360791, "question_id": 45600627, "link": "https://stackoverflow.com/questions/45600627/cant-update-to-numpy-1-13-with-anaconda/48360791#48360791", "title": "Can&#39;t update to numpy 1.13 with anaconda?", "body": "<p>I had the same problem and none of them worked!</p>\n\n<p>So I solved it using command:</p>\n\n<pre><code>pip install --upgrade numpy\n</code></pre>\n\n<p>Then, when I <code>ls</code> to my site-packages dir, I see it's updated to 1.14.0.</p>\n"}], "owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41357, "favorite_count": 8, "accepted_answer_id": 45600657, "answer_count": 2, "score": 15, "last_activity_date": 1524861656, "creation_date": 1502312714, "last_edit_date": 1502313154, "question_id": 45600627, "link": "https://stackoverflow.com/questions/45600627/cant-update-to-numpy-1-13-with-anaconda", "title": "Can&#39;t update to numpy 1.13 with anaconda?", "body": "<p>PyPI has numpy 1.13.3 packages for a month now <a href=\"https://pypi.python.org/pypi/numpy\" rel=\"noreferrer\">https://pypi.python.org/pypi/numpy</a></p>\n\n<p>Anaconda cloud claims to have 1.13 <a href=\"https://anaconda.org/anaconda/numpy\" rel=\"noreferrer\">https://anaconda.org/anaconda/numpy</a></p>\n\n<p>But I just get 1.11.3-py35_0 when I use <code>conda update numpy</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/eeV6s.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eeV6s.png\" alt=\"enter image description here\"></a></p>\n\n<p>My environment: Windows 7 64 bit python 3.5</p>\n"}, {"tags": ["python", "gtk3", "pygobject"], "comments": [{"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502327540, "post_id": 45600609, "comment_id": 78165173, "body": "Which version of Gtk? Gtk3.12 and later has a <a href=\"https://developer.gnome.org/gtk3/stable/GtkPopover.html\" rel=\"nofollow noreferrer\">Popover</a>."}, {"owner": {"reputation": 371, "user_id": 5183809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21ccf4a5e76251a960b977d7a217fba9?s=128&d=identicon&r=PG&f=1", "display_name": "Caagr98", "link": "https://stackoverflow.com/users/5183809/caagr98"}, "reply_to_user": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502331362, "post_id": 45600609, "comment_id": 78166088, "body": "Package version is 3.22.17-1, so I&#39;m guessing 3.22. And that popover is ugly as hell, has extra borders and padding, has dumb animations when .hide()ing, and seems to be unable to leave the window (even with Gtk.PopoverConstraint.None)."}, {"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502331790, "post_id": 45600609, "comment_id": 78166199, "body": "Hmmm... Your experience is different from mine. Could you post me some code (or pictures) that demonstrates your problems? My popovers have no animations or extra padding. They have a border but a widget without a border looks weird (to me anyway)."}, {"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502332364, "post_id": 45600609, "comment_id": 78166344, "body": "This is how my Popovers <a href=\"http://imgur.com/gallery/2bf19ek\" rel=\"nofollow noreferrer\">look</a>."}, {"owner": {"reputation": 371, "user_id": 5183809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21ccf4a5e76251a960b977d7a217fba9?s=128&d=identicon&r=PG&f=1", "display_name": "Caagr98", "link": "https://stackoverflow.com/users/5183809/caagr98"}, "reply_to_user": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502333683, "post_id": 45600609, "comment_id": 78166653, "body": "Yeah, that looks just like mine (except I use a different theme). It has a few pixels of padding between the outer border and the content (clearly visible on calendars), the arrow is tolerable but I&#39;d prefer not to have it, it takes a second to disappear (even though the documentation <i>says</i> it shouldn&#39;t do that if I use <code>.hide()</code>)it&#39;s not rendered outside the window, and its close-on-lost-focus is window-local as well. Unlike the GtkMenu, which is rectangular, interacts properly with focus, and has no shadows or other eye-liquorice (that is, eye-candy that I don&#39;t like)."}, {"owner": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502364065, "post_id": 45600609, "comment_id": 78182669, "body": "You could always use a titleless, modal window and position it exactly where you need it. Then you would have full control of what is going on. This is what I did before the popover. Since your requirements are not obvious to me, I can&#39;t really post any code."}, {"owner": {"reputation": 371, "user_id": 5183809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21ccf4a5e76251a960b977d7a217fba9?s=128&d=identicon&r=PG&f=1", "display_name": "Caagr98", "link": "https://stackoverflow.com/users/5183809/caagr98"}, "reply_to_user": {"reputation": 3049, "user_id": 6150775, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f16a0c1701c5debb928d96fa22ba0582?s=128&d=identicon&r=PG&f=1", "display_name": "theGtknerd", "link": "https://stackoverflow.com/users/6150775/thegtknerd"}, "edited": false, "score": 0, "creation_date": 1502371040, "post_id": 45600609, "comment_id": 78188222, "body": "Yeah, that&#39;s what I&#39;m doing. It works pretty well, but since one of the widgets has a normal Menu, that one acts a bit different, which is annoying. After playing around a bit, I find I prefer the behavior of my own, though (obviously, since I made it to fit my needs), so the opposite of this question would probably be more useful..."}], "owner": {"reputation": 371, "user_id": 5183809, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21ccf4a5e76251a960b977d7a217fba9?s=128&d=identicon&r=PG&f=1", "display_name": "Caagr98", "link": "https://stackoverflow.com/users/5183809/caagr98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1502312649, "creation_date": 1502312649, "question_id": 45600609, "link": "https://stackoverflow.com/questions/45600609/can-i-use-a-custom-widget-as-a-popup-menu", "title": "Can I use a custom widget as a popup menu?", "body": "<p>Basically, I want something that acts like a GtkMenu when it comes to focus and placement, but with an arbitrary widget (button, slider, tree, calendar... anything, really) inside. Putting the widget inside a GtkMenuItem doesn't work - that causes a lot of padding, and it's the MenuItem that receives click events instead of the widget. Is this possible?</p>\n"}, {"tags": ["python", "python-asyncio", "python-3.5"], "answers": [{"comments": [{"owner": {"reputation": 2853, "user_id": 129550, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/816090617fd1d1123eca2d47e880a2ee?s=128&d=identicon&r=PG", "display_name": "fuzzyTew", "link": "https://stackoverflow.com/users/129550/fuzzytew"}, "edited": false, "score": 0, "creation_date": 1609938536, "post_id": 45600858, "comment_id": 115976036, "body": "If you still get <code>Event loop is closed</code> your code might be using a handle to the old event loop."}, {"owner": {"reputation": 3135, "user_id": 7441757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02d139faa2ede7b2b6109852cd418f67?s=128&d=identicon&r=PG&f=1", "display_name": "Roelant", "link": "https://stackoverflow.com/users/7441757/roelant"}, "edited": false, "score": 0, "creation_date": 1616435510, "post_id": 45600858, "comment_id": 117996545, "body": "It&#39;s always nice when you read a new python is gonna solve your problem :)"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 76, "last_activity_date": 1602753931, "last_edit_date": 1602753931, "creation_date": 1502313882, "answer_id": 45600858, "question_id": 45600579, "link": "https://stackoverflow.com/questions/45600579/asyncio-event-loop-is-closed-when-getting-loop/45600858#45600858", "title": "&quot;Asyncio Event Loop is Closed&quot; when getting loop", "body": "<p>You have already called <code>loop.close()</code> before you ran that sample piece of code, on the global event loop:</p>\n<pre><code>&gt;&gt;&gt; import asyncio\n&gt;&gt;&gt; asyncio.get_event_loop().close()\n&gt;&gt;&gt; asyncio.get_event_loop().is_closed()\nTrue\n&gt;&gt;&gt; asyncio.get_event_loop().run_until_complete(asyncio.sleep(1))\nTraceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\n  File &quot;/.../lib/python3.6/asyncio/base_events.py&quot;, line 443, in run_until_complete\n    self._check_closed()\n  File &quot;/.../lib/python3.6/asyncio/base_events.py&quot;, line 357, in _check_closed\n    raise RuntimeError('Event loop is closed')\nRuntimeError: Event loop is closed\n</code></pre>\n<p>You need to create a <em>new</em> loop:</p>\n<pre><code>loop = asyncio.new_event_loop()\n</code></pre>\n<p>You can set that as the new global loop with:</p>\n<pre><code>asyncio.set_event_loop(asyncio.new_event_loop())\n</code></pre>\n<p>and then just use <code>asyncio.get_event_loop()</code> again.</p>\n<p>Alternatively, just restart your Python interpreter, the first time you try to get the global event loop you get a fresh new one, unclosed.</p>\n<p>As of Python 3.7, the process of creating, managing, then closing the loop (as well as a few other resources) is handled for you when use <a href=\"https://docs.python.org/3/library/asyncio-task.html#asyncio.run\" rel=\"noreferrer\"><code>asyncio.run()</code></a>. It should be used instead of <code>loop.run_until_complete()</code>, and there is no need any more to first get or set the loop.</p>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 6387880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gk70e.png?s=128&g=1", "display_name": "j4hangir", "link": "https://stackoverflow.com/users/6387880/j4hangir"}, "is_accepted": false, "score": 3, "last_activity_date": 1616538769, "creation_date": 1616538769, "answer_id": 66772242, "question_id": 45600579, "link": "https://stackoverflow.com/questions/45600579/asyncio-event-loop-is-closed-when-getting-loop/66772242#66772242", "title": "&quot;Asyncio Event Loop is Closed&quot; when getting loop", "body": "<p>On Windows seems to be a problem with EventLoopPolicy, use this snippet to work around it:</p>\n<pre class=\"lang-py prettyprint-override\"><code>asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())\nasyncio.run(main())\n</code></pre>\n"}], "owner": {"reputation": 635, "user_id": 6520128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6e1917c05f087196d839df86954cc03?s=128&d=identicon&r=PG&f=1", "display_name": "TryingToTry", "link": "https://stackoverflow.com/users/6520128/tryingtotry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38766, "favorite_count": 10, "accepted_answer_id": 45600858, "answer_count": 2, "score": 51, "last_activity_date": 1616538769, "creation_date": 1502312506, "last_edit_date": 1616435548, "question_id": 45600579, "link": "https://stackoverflow.com/questions/45600579/asyncio-event-loop-is-closed-when-getting-loop", "title": "&quot;Asyncio Event Loop is Closed&quot; when getting loop", "body": "<p>When trying to run the asyncio hello world code example given in the docs:</p>\n\n<pre><code>import asyncio\n\nasync def hello_world():\n    print(\"Hello World!\")\n\nloop = asyncio.get_event_loop()\n# Blocking call which returns when the hello_world() coroutine is done\nloop.run_until_complete(hello_world())\nloop.close()\n</code></pre>\n\n<p>I get the error: </p>\n\n<pre><code>RuntimeError: Event loop is closed\n</code></pre>\n\n<p>I am using python 3.5.3.</p>\n"}, {"tags": ["python", "postgresql", "psycopg2"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 5056553, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9b04cf6ac332ca8ee2a2fbcc3d70ebec?s=128&d=identicon&r=PG&f=1", "display_name": "unironicallyironic", "link": "https://stackoverflow.com/users/5056553/unironicallyironic"}, "edited": false, "score": 0, "creation_date": 1502312724, "post_id": 45600542, "comment_id": 78160590, "body": "Well I feel dumb, I did that and it output the same thing a bunch of times cuz I&#39;ve run this so many times lmao"}], "tags": [], "owner": {"reputation": 1002, "user_id": 4017197, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-D-Yq0lAxOt8/AAAAAAAAAAI/AAAAAAAAAHY/oHWHmB_Wgc4/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/4017197/alex"}, "is_accepted": true, "score": 2, "last_activity_date": 1502312339, "creation_date": 1502312339, "answer_id": 45600542, "question_id": 45600414, "link": "https://stackoverflow.com/questions/45600414/inserting-into-postgres-db-column-with-python/45600542#45600542", "title": "Inserting into Postgres DB column with python", "body": "<p>You need to fetch the data from the cursor:</p>\n\n<pre><code>cur.execute(\"SELECT * FROM permissions\")\ndata = cur.fetchall()\nprint(data)\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5056553, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9b04cf6ac332ca8ee2a2fbcc3d70ebec?s=128&d=identicon&r=PG&f=1", "display_name": "unironicallyironic", "link": "https://stackoverflow.com/users/5056553/unironicallyironic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 45600542, "answer_count": 1, "score": 0, "last_activity_date": 1502312340, "creation_date": 1502311793, "last_edit_date": 1502312340, "question_id": 45600414, "link": "https://stackoverflow.com/questions/45600414/inserting-into-postgres-db-column-with-python", "title": "Inserting into Postgres DB column with python", "body": "<pre><code>conn = psycopg2.connect(\"dbname=name host=host user=user password=pass port=port\")\ncur = conn.cursor()\nwith open('big shot.json') as f:\n    data = json.load(f)\nfor key in data[\"permissions\"]:\n    cur.execute(\"INSERT INTO permissions (name) VALUES (%s);\", (key,))\nconn.commit()\noutput = cur.execute(\"SELECT * FROM permissions\")\nprint(output)\n</code></pre>\n\n<p>I have this that I'm trying to use to create new rows in my database, but it doesn't do anything. It doesn't return any errors, but it also doesn't write to my database, and output, obviously, returns \"None\" in the console.</p>\n"}, {"tags": ["jquery", "python", "django", "drop-down-menu"], "comments": [{"owner": {"reputation": 261, "user_id": 8199529, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8f7eb7320cbf4281577fa2b1d0f52838?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Bi", "link": "https://stackoverflow.com/users/8199529/jerry-bi"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1502366382, "post_id": 45600410, "comment_id": 78184437, "body": "I tried making it function like a search, but apparently the search function ends up causing an error. I think it has something to do with foreign keys."}, {"owner": {"reputation": 182, "user_id": 3570761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba08c584518c97f15737b7082f1404e1?s=128&d=identicon&r=PG", "display_name": "Reidel", "link": "https://stackoverflow.com/users/3570761/reidel"}, "edited": false, "score": 0, "creation_date": 1502368138, "post_id": 45600410, "comment_id": 78185817, "body": "I think you are using <code>django-tables2</code> app, in that case you should specify it in your question to make better your question and easier answer you, and maybe the easy way to achive all this you want is using <code>django-filter</code> app"}], "owner": {"reputation": 261, "user_id": 8199529, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8f7eb7320cbf4281577fa2b1d0f52838?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Bi", "link": "https://stackoverflow.com/users/8199529/jerry-bi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502311775, "creation_date": 1502311775, "question_id": 45600410, "link": "https://stackoverflow.com/questions/45600410/making-a-drop-down-list-that-filters-out-certain-model-objects-in-django", "title": "Making a drop down list that filters out certain model objects in Django", "body": "<p>I'm trying to make a page that lists all objects of a certain model, but also has a dropdown on top that filters the list based what was selected in the dropdown. Below is some example code.</p>\n\n<p>models.py</p>\n\n<pre><code>class School(models.Model):\n    name = models.CharField(max_length=64)\n    slug_name = AutoSlugField(populate_from='name', unique=True)\n\nclass Student(models.Model):\n    name = models.CharField(max_length=32)\n    school = models.ForeignKey(School)\n</code></pre>\n\n<p>tables.py</p>\n\n<pre><code>class StudentTable(tables.Table):\n\n    class Meta:\n        model = Student\n        fields = ('name', 'school')\n        attrs = {'class': 'table table-hover', 'id': 'accessorycharge_list'}\n</code></pre>\n\n<p>Below is what the view would look like without the dropdown list.</p>\n\n<p>views.py</p>\n\n<pre><code>def list_students(request):\n    student_list = Student.objects.all()\n    table = StudentTable(student_list)\n    RequestConfig(request).configure(table)\n    return render(request, 'students/list_students.html', {'table': table})\n</code></pre>\n\n<p>In this example, I would theoretically want to make a dropdown in the same template as the list. The dropdown would contain the names of the schools. When nothing is selected, the list will show all of the students, but once a school is selected in the dropdown, the list would be filtered and only the students that have their school field match the one selected in the dropdown would be shown. How would I write my view and/or template in order to make this function? Thanks.</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 1010, "user_id": 403554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809eae59b00defb14315537ea9b8f6fc?s=128&d=identicon&r=PG", "display_name": "William Jackson", "link": "https://stackoverflow.com/users/403554/william-jackson"}, "is_accepted": true, "score": 3, "last_activity_date": 1520218102, "creation_date": 1520218102, "answer_id": 49102790, "question_id": 45600348, "link": "https://stackoverflow.com/questions/45600348/how-do-i-get-the-application-context-in-a-blueprint-but-not-in-a-request/49102790#49102790", "title": "How do I get the application context in a Blueprint, but not in a request?", "body": "<p>I solved this problem with the following changes. First, I set up a <code>scheduler</code> object on my Flask app:</p>\n\n<pre><code>app = flask.Flask(__name__)\napp.scheduler = apscheduler.schedulers.background.BackgroundScheduler()\napp.scheduler.start()\n</code></pre>\n\n<p>Next, I changed the function that runs my background task to accept the <code>app</code> as an argument, so I could read the database connection information from <code>app.config</code>:</p>\n\n<pre><code>def do_a_thing(app: flask.Flask):\n    db = get_db_connection_somehow(app.config['DATABASE'])\n    db.do_a_thing()\n</code></pre>\n\n<p>Finally, I set up the scheduled job in <code>Blueprint.record()</code>:</p>\n\n<pre><code>@bp.record\ndef record(state):\n    state.app.scheduler.add_job(do_a_thing, trigger='interval', args=[state.app], hours=1)\n</code></pre>\n"}], "owner": {"reputation": 1010, "user_id": 403554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809eae59b00defb14315537ea9b8f6fc?s=128&d=identicon&r=PG", "display_name": "William Jackson", "link": "https://stackoverflow.com/users/403554/william-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 1, "accepted_answer_id": 49102790, "answer_count": 1, "score": 6, "last_activity_date": 1520218102, "creation_date": 1502311511, "last_edit_date": 1502312938, "question_id": 45600348, "link": "https://stackoverflow.com/questions/45600348/how-do-i-get-the-application-context-in-a-blueprint-but-not-in-a-request", "title": "How do I get the application context in a Blueprint, but not in a request?", "body": "<p>I am attempting to convert a collection of Flask apps to a single app with several Blueprints.</p>\n\n<p>In one of my apps, I have a task that runs periodically in the background, not related to a request. It looks something like this:</p>\n\n<pre><code>import apscheduler.schedulers.background\nimport flask\n\napp = flask.Flask(__name__)\napp.config['DATABASE']\nscheduler = apscheduler.schedulers.background.BackgroundScheduler()\nscheduler.start()\n\ndef db():\n    _db = flask.g.get('_db')\n    if _db is None:\n        _db = get_db_connection_somehow(app.config['DATABASE'])\n        flask.g._db = _db\n    return _db\n\n@scheduler.scheduled_job('interval', hours=1)\ndef do_a_thing():\n    with app.app_context():\n        db().do_a_thing()\n</code></pre>\n\n<p>When I convert this app to a Blueprint, I lose access to the app object and I can't figure out how to create an application context when I need one. This is what I tried:</p>\n\n<pre><code>import apscheduler.schedulers.background\nimport flask\n\nbp = flask.Blueprint('my_blueprint', __name__)\nscheduler = apscheduler.schedulers.background.BackgroundScheduler()\nscheduler.start()\n\ndef db():\n    _db = flask.g.get('_db')\n    if _db is None:\n        _db = get_db_connection_somehow(flask.current_app.config['DATABASE'])\n        flask.g._db = _db\n    return _db\n\n@bp.record\ndef record(state):\n    with state.app.app_context():\n        flask.g._app = state.app\n\n@scheduler.scheduled_job('interval', hours=1)\ndef do_a_thing():\n    with flask.g._app.app_context():\n        db().do_a_thing()\n</code></pre>\n\n<p>The error I get is:</p>\n\n<pre><code>RuntimeError: Working outside of application context.\n</code></pre>\n\n<p>So, how can I get the application context in a blueprint but outside a request?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1502311574, "post_id": 45600342, "comment_id": 78160014, "body": "To copy a dataframe: <code>sdm.copy()</code>"}, {"owner": {"reputation": 3063, "user_id": 5075720, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNyMGvaELDs/AAAAAAAAAAI/AAAAAAAAVnw/P1Rt8TFE2gc/photo.jpg?sz=128", "display_name": "PaSTE", "link": "https://stackoverflow.com/users/5075720/paste"}, "edited": false, "score": 0, "creation_date": 1502311584, "post_id": 45600342, "comment_id": 78160018, "body": "<a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.copy.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>.  You probably want a deep copy, too, so don&#39;t forget <code>deep=True</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8321813"}, "edited": false, "score": 0, "creation_date": 1502311649, "post_id": 45600342, "comment_id": 78160060, "body": "May I ask you why <code>=</code> does not work as it is in <code>R</code>?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1502311829, "post_id": 45600342, "comment_id": 78160164, "body": "You might want to look at <a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">&quot;Facts and myths about Python names and values&quot; (Blog post by Ned Batchelder)</a> already the third &quot;fact&quot; is appropriate here &quot;Fact: Many names can refer to one value.&quot;. In short: <code>=</code> isn&#39;t a trick. It&#39;s an assignment. It assigns the right hand side to the variable on the left hand side."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8321813"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1502312108, "post_id": 45600342, "comment_id": 78160299, "body": "@MSeifert got it, thank you, I will read that!"}], "answers": [{"tags": [], "owner": {"reputation": 11863, "user_id": 1762211, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bc8759842af428f995e2ce7a03adb609?s=128&d=identicon&r=PG", "display_name": "Mohamed Ali JAMAOUI", "link": "https://stackoverflow.com/users/1762211/mohamed-ali-jamaoui"}, "is_accepted": false, "score": 3, "last_activity_date": 1502311566, "creation_date": 1502311566, "answer_id": 45600363, "question_id": 45600342, "link": "https://stackoverflow.com/questions/45600342/copy-pandas-dataframe-using-trick/45600363#45600363", "title": "Copy Pandas DataFrame using &#39;=&#39; trick", "body": "<p>you need to use <code>new_df = sdm.copy()</code> instead which is described <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.copy.html\" rel=\"nofollow noreferrer\">here</a> in the official documentation. <code>new_df = sdm</code> doesn't work because this assignement operation performs a copy by reference and not by value which means in nutshell, both <code>new_df</code> and <code>sdm</code> will reference the same data in memory. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8321813"}, "edited": false, "score": 0, "creation_date": 1502311785, "post_id": 45600366, "comment_id": 78160149, "body": "I know I should have searched more, but I was confused why this was happening. as @PaSTE pointed I used <code>deep=True</code> too and it works!"}, {"owner": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "edited": false, "score": 0, "creation_date": 1502311883, "post_id": 45600366, "comment_id": 78160185, "body": "@Jesse as mentioned in the answer, there is plenty of information online for this question. Good Luck!"}], "tags": [], "owner": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1502311590, "creation_date": 1502311590, "answer_id": 45600366, "question_id": 45600342, "link": "https://stackoverflow.com/questions/45600342/copy-pandas-dataframe-using-trick/45600366#45600366", "title": "Copy Pandas DataFrame using &#39;=&#39; trick", "body": "<p>What python does is passing by reference. Try this:</p>\n\n<pre><code>new_df = sdm.copy()\n</code></pre>\n\n<p>I think you should have search more, I am sure there will be lots of questions on this topic!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8321813"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3070, "favorite_count": 0, "closed_date": 1502311698, "accepted_answer_id": 45600366, "answer_count": 2, "score": 1, "last_activity_date": 1502311590, "creation_date": 1502311462, "question_id": 45600342, "link": "https://stackoverflow.com/questions/45600342/copy-pandas-dataframe-using-trick", "closed_reason": "Duplicate", "title": "Copy Pandas DataFrame using &#39;=&#39; trick", "body": "<p>I have two pandas DataFrames, <code>sdm</code>. I wanted to create a copy of that DataFrame and work on that and later, I want to create another copy from <code>sdm</code> and work on different analysis. However, when I create a new Data Frame like this,</p>\n\n<pre><code>new_df = sdm\n</code></pre>\n\n<p>It creates a copy, however, when I alter <code>new_df</code>, it makes changes to the my old DataFrame <code>sdm</code>. How can I handle this without using <code>=</code>?</p>\n"}, {"tags": ["python", "python-2.7", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1502317074, "post_id": 45600246, "comment_id": 78162390, "body": "You need to explain <i>&quot;connecting all the pattern together&quot;</i> <b>much</b> more in detail. Else, nobody is able to understand what you want to do. Apart, what exactly is the problem of achiving that goal? What have you tried, in how far did it not work. If you don&#39;t tell what problem you have, this question is likely to be too broad to be answered."}, {"owner": {"reputation": 47, "user_id": 7134065, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210590378863272/picture?type=large", "display_name": "Cyril Schmitt", "link": "https://stackoverflow.com/users/7134065/cyril-schmitt"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1502320673, "post_id": 45600246, "comment_id": 78163556, "body": "Thanks for your note! I edited it. I hope it will help understand the way I would like to connect the patterns. My main problem was to not find any function allowing me to do what I want. I was expecting that someone who has already tried to do the same thing could give me a hint on how to achieve such a task."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1502324616, "post_id": 45600246, "comment_id": 78164458, "body": "I don&#39;t think you will find a predefined function to do what you want as the problem is 2D (you actually have 2D gradients, not unidimensional derivatives), and hence there is no unique solution to connect the points. If this was a 1D problem, something like the <code>scipy.interpolate.KroghInterpolator</code> could help you. In this case however, it will fail."}, {"owner": {"reputation": 7966, "user_id": 2454357, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8daa3f3fb97961ac7cb5dd716f494bae?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas K&#252;hn", "link": "https://stackoverflow.com/users/2454357/thomas-k%c3%bchn"}, "edited": false, "score": 0, "creation_date": 1502344339, "post_id": 45600246, "comment_id": 78169724, "body": "Could you please post the code you used to generate the picture (the background is not needed) and the data that is used to produce the 5 points?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 7966, "user_id": 2454357, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8daa3f3fb97961ac7cb5dd716f494bae?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas K&#252;hn", "link": "https://stackoverflow.com/users/2454357/thomas-k%c3%bchn"}, "edited": false, "score": 0, "creation_date": 1502381787, "post_id": 45600246, "comment_id": 78196919, "body": "@Thomas If you want to experiment you may take the data from my answer below. If someone has an idea on how to &quot;fit&quot; the B&#233;zier curves or on a different approach, that would sure be interesting."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7134065, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210590378863272/picture?type=large", "display_name": "Cyril Schmitt", "link": "https://stackoverflow.com/users/7134065/cyril-schmitt"}, "edited": false, "score": 0, "creation_date": 1502403236, "post_id": 45618741, "comment_id": 78208078, "body": "That is <b>exactly</b> what I was looking for. Thanks a lot for your detailed explanations! That is very helpful!"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 47, "user_id": 7134065, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210590378863272/picture?type=large", "display_name": "Cyril Schmitt", "link": "https://stackoverflow.com/users/7134065/cyril-schmitt"}, "edited": false, "score": 3, "creation_date": 1502403548, "post_id": 45618741, "comment_id": 78208180, "body": "Great. Just mind the following: The question itself is of rather low quality and would usually stay unanswered or be closed (see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>); the reason I provided an answer here is just that I myself found it intresting to dive into, as I have never done something like this before. But I guess you cannot rely on that happening next time you ask a question."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 10, "last_activity_date": 1502386967, "last_edit_date": 1502386967, "creation_date": 1502381644, "answer_id": 45618741, "question_id": 45600246, "link": "https://stackoverflow.com/questions/45600246/how-to-connect-points-taking-into-consideration-position-and-orientation-of-each/45618741#45618741", "title": "How to connect points taking into consideration position and orientation of each of them", "body": "<p>To summarize the problem: You want to interpolate a smooth curve through a number of points. For each point in 2D space, you have the coordinates as well as an angle which defines the tangent of the curve in this point. </p>\n\n<p>A solution may be to use <strong><a href=\"https://en.wikipedia.org/wiki/B%C3%A9zier_curve\" rel=\"noreferrer\">B\u00e9zier curves</a> of third order</strong>. Such a curve will be defined by 4 points; the two end points, which are two successive points in the plot, and two intermediate points, which define the direction of the curve. B\u00e9zier curves are often used in graphics software and also internally by matplotlib to draw paths.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TCWsQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TCWsQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>So we can define a Bezier curve which has its two intermediate points along the tangent given by the angle to each of the points. \nThere is per se no hint on where on that tangent the two intermediate points should lie, so we might chose some arbitrary distance from the two end points. This is what is called <code>r</code> in the code below. Chosing a good value for this parameter <code>r</code> is key to obtaining a smooth curve.</p>\n\n<pre><code>import numpy as np\nfrom scipy.special import binom\nimport matplotlib.pyplot as plt\n\nbernstein = lambda n, k, t: binom(n,k)* t**k * (1.-t)**(n-k)\n\ndef bezier(points, num=200):\n    N = len(points)\n    t = np.linspace(0, 1, num=num)\n    curve = np.zeros((num, 2))\n    for i in range(N):\n        curve += np.outer(bernstein(N - 1, i, t), points[i])\n    return curve\n\nclass Segment():\n    def __init__(self, p1, p2, angle1, angle2, **kw):\n        self.p1 = p1; self.p2 = p2\n        self.angle1 = angle1; self.angle2 = angle2\n        self.numpoints = kw.get(\"numpoints\", 100)\n        method = kw.get(\"method\", \"const\")\n        if method==\"const\":\n            self.r = kw.get(\"r\", 1.)\n        else:\n            r = kw.get(\"r\", 0.3)\n            d = np.sqrt(np.sum((self.p2-self.p1)**2))\n            self.r = r*d\n        self.p = np.zeros((4,2))\n        self.p[0,:] = self.p1[:]\n        self.p[3,:] = self.p2[:]\n        self.calc_intermediate_points(self.r)\n\n    def calc_intermediate_points(self,r):\n        self.p[1,:] = self.p1 + np.array([self.r*np.cos(self.angle1),\n                                    self.r*np.sin(self.angle1)])\n        self.p[2,:] = self.p2 + np.array([self.r*np.cos(self.angle2+np.pi),\n                                    self.r*np.sin(self.angle2+np.pi)])\n        self.curve = bezier(self.p,self.numpoints)\n\n\ndef get_curve(points, **kw):\n    segments = []\n    for i in range(len(points)-1):\n        seg = Segment(points[i,:2], points[i+1,:2], points[i,2],points[i+1,2],**kw)\n        segments.append(seg)\n    curve = np.concatenate([s.curve for s in segments])\n    return segments, curve\n\n\ndef plot_point(ax, xy, angle, r=0.3):\n    ax.plot([xy[0]],[xy[1]], marker=\"o\", ms=9, alpha=0.5, color=\"indigo\")\n    p = xy + np.array([r*np.cos(angle),r*np.sin(angle)])\n    ax.plot([xy[0],p[0]], [xy[1],p[1]], color=\"limegreen\")\n\n\nif __name__ == \"__main__\":        \n    #                   x    y    angle        \n    points =np.array([[ 6.0, 0.5, 1.5],\n                      [ 5.4, 1.2, 2.2],\n                      [ 5.0, 1.7, 2.6],\n                      [ 2.8, 2.4, 2.1],\n                      [ 1.3, 3.2, 1.6],\n                      [ 1.9, 3.9,-0.2],\n                      [ 4.0, 3.0, 0.2],\n                      [ 5.1, 3.7, 1.4]])\n\n    fig, ax = plt.subplots()\n\n    for point in points:\n        plot_point(ax, point[:2],point[2], r=0.1)\n\n    s1, c1 = get_curve(points, method=\"const\", r=0.7)\n    ax.plot(c1[:,0], c1[:,1], color=\"crimson\", zorder=0, label=\"const 0.7 units\")\n\n    s2, c2 = get_curve(points, method=\"prop\", r=0.3)\n    ax.plot(c2[:,0], c2[:,1], color=\"gold\", zorder=0, label=\"prop 30% of distance\")\n    plt.legend()\n    plt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5P02B.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5P02B.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the plot above two cases are compared. One where <code>r</code> is constant <code>0.7</code> units, the other where <code>r</code> is relative 30% of the distance between the two points. </p>\n"}], "owner": {"reputation": 47, "user_id": 7134065, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210590378863272/picture?type=large", "display_name": "Cyril Schmitt", "link": "https://stackoverflow.com/users/7134065/cyril-schmitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 870, "favorite_count": 2, "accepted_answer_id": 45618741, "answer_count": 1, "score": 3, "last_activity_date": 1502386967, "creation_date": 1502311116, "last_edit_date": 1502381810, "question_id": 45600246, "link": "https://stackoverflow.com/questions/45600246/how-to-connect-points-taking-into-consideration-position-and-orientation-of-each", "title": "How to connect points taking into consideration position and orientation of each of them", "body": "<p>In the attached image we can see the groundtruth (green) and the estimation (red) of the motion of a point. Each number next to the circle with the bar (=pattern) correspond to a time. Now that all the algorithm has been developed I would like to improve the quality of the visualization by connecting all the pattern together taking into consideration the position but also the orientation (defined by the direction of the bar). I tried to find a way to do that but couldn't find any. Anyone has an idea? </p>\n\n<p>For information: I have the coordinates (x,y) and the angle which could be changed into the derivative if necessary.</p>\n\n<p>EDIT: Here are some clarification regarding the way I would like to connect the patterns together.</p>\n\n<ul>\n<li>I would like to connect all the patterns in the order of the number next to each pattern</li>\n<li>I would like my curve to go through the center of each pattern</li>\n<li>I would like the steepness of my curve at each pattern being the same as the drawn bar has.</li>\n</ul>\n\n<p>To sum up: I am looking for a way to plot a curve connecting points and fitting a desired steepness at each point. </p>\n\n<p><img src=\"https://i.stack.imgur.com/okotI.jpg\" alt=\"Image available here\"></p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1502311339, "post_id": 45600230, "comment_id": 78159922, "body": "how do those results differ from the output above?"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 3, "last_activity_date": 1502311656, "creation_date": 1502311656, "answer_id": 45600381, "question_id": 45600230, "link": "https://stackoverflow.com/questions/45600230/different-results-using-python3-and-python2/45600381#45600381", "title": "Different results using Python3 and Python2", "body": "<p>Your <code>rules()</code> function produces different results because it relies on the <em>dictionary iteration order</em>. Dictionaries do not have an ordering, and iteration over the keys is <a href=\"https://stackoverflow.com/questions/15479928/why-is-the-order-in-dictionaries-and-sets-arbitrary\">implementation dependent</a>. Python 3.6 switched implementations, and with that the iteration order changed too, for example.</p>\n\n<p>For your first rule, number 17, I get the following results:</p>\n\n<p>Python 2.7:</p>\n\n<pre><code>&gt;&gt;&gt; sorted(rule(17).items())\n[('...', 'x'), ('..x', 'x'), ('.x.', '.'), ('.xx', '.'), ('x..', '.'), ('x.x', '.'), ('xx.', '.'), ('xxx', '.')]\n</code></pre>\n\n<p>Python 3.6:</p>\n\n<pre><code>&gt;&gt;&gt; sorted(rule(17).items())\n[('...', 'x'), ('..x', '.'), ('.x.', '.'), ('.xx', '.'), ('x..', 'x'), ('x.x', '.'), ('xx.', '.'), ('xxx', '.')]\n</code></pre>\n\n<p>Note how <code>'..x'</code> is mapped to <code>'.'</code> in one, <code>'x'</code> in the other.</p>\n\n<p>You'll have to alter your rules function to produce a fixed order. You could sort the keys, for example:</p>\n\n<pre><code>for r in sorted(rules_numbers):\n</code></pre>\n\n<p>Now all Python versions produce the same output:</p>\n\n<pre><code>&gt;&gt;&gt; sorted(rule(17).items())\n[('...', 'x'), ('..x', '.'), ('.x.', '.'), ('.xx', '.'), ('x..', '.'), ('x.x', '.'), ('xx.', '.'), ('xxx', '.')]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8441908, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gL2VasyiI2I/AAAAAAAAAAI/AAAAAAAAAAs/846tX9_fkm0/photo.jpg?sz=128", "display_name": "ohbabd", "link": "https://stackoverflow.com/users/8441908/ohbabd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 45600381, "answer_count": 1, "score": -3, "last_activity_date": 1502311656, "creation_date": 1502311051, "last_edit_date": 1502311400, "question_id": 45600230, "link": "https://stackoverflow.com/questions/45600230/different-results-using-python3-and-python2", "title": "Different results using Python3 and Python2", "body": "<p>here's the code I'm testing:</p>\n\n<pre><code>def rule(n):\n    rules_numbers = {128: 'xxx', 64: 'xx.', 32: 'x.x', 16: 'x..',\n                     8: '.xx', 4: '.x.', 2: '..x', 1: '...'}\n    rules = {'...': '.', '..x': '.', '.x.': '.', '.xx': '.', 'x..': '.', 'x.x': '.', 'xx.': '.', 'xxx': '.'}\n    while n != 0:\n        for r in rules_numbers:\n            if n - r &gt;= 0:\n                rules[rules_numbers[r]] = 'x'\n                n -= r\n                break\n    return rules\n\n\ndef cellular_automaton(string, pattern, n):\n    if n == 0:\n        return string\n    rules = rule(pattern)\n    ng = \"\"\n    for j in range(len(string)):\n        nxt = j + 1\n        if j == len(string) - 1:\n            nxt = 0\n        ng += rules[string[j - 1] + string[j] + string[nxt]]\n        j += 1\n    return cellular_automaton(ng, pattern, n - 1)\n</code></pre>\n\n<p>Here are some sample inputs and the outputs that we should get if the code is correct:</p>\n\n<pre><code>print(cellular_automaton('.x.x.x.x.', 17, 2))\n#&gt;&gt;&gt; xxxxxxx..\nprint(cellular_automaton('.x.x.x.x.', 249, 3))\n#&gt;&gt;&gt; .x..x.x.x\nprint(cellular_automaton('...x....', 125, 1))\n#&gt;&gt;&gt; xx.xxxxx\nprint(cellular_automaton('...x....', 125, 2))\n#&gt;&gt;&gt; .xxx....\nprint(cellular_automaton('...x....', 125, 3))\n#&gt;&gt;&gt; .x.xxxxx\nprint(cellular_automaton('...x....', 125, 4))\n#&gt;&gt;&gt; xxxx...x\nprint(cellular_automaton('...x....', 125, 5))\n#&gt;&gt;&gt; ...xxx.x\nprint(cellular_automaton('...x....', 125, 6))\n#&gt;&gt;&gt; xx.x.xxx\nprint(cellular_automaton('...x....', 125, 7))\n#&gt;&gt;&gt; .xxxxx..\nprint(cellular_automaton('...x....', 125, 8))\n#&gt;&gt;&gt; .x...xxx\nprint(cellular_automaton('...x....', 125, 9))\n#&gt;&gt;&gt; xxxx.x.x\nprint(cellular_automaton('...x....', 125, 10))\n#&gt;&gt;&gt; ...xxxxx\n</code></pre>\n\n<p>Here is a video explaining the problem I tried to solve: <a href=\"https://youtu.be/M_pkidxeGMY\" rel=\"nofollow noreferrer\">https://youtu.be/M_pkidxeGMY</a></p>\n\n<p>When I run this code using Python3 I get all the outputs right, when I do it using Python2 I get different results.\nCan you pleae explain to me what part of the code makes the difference? Thanks!</p>\n\n<p>resluts from Python2:</p>\n\n<pre><code>..xxxxxxx\n.x.xxxxxx\nxxx..xxx\n..x.x...\nxx....xx\n.x.xxx..\nx....x.x\nx.xxx...\n....x.xx\n.xxx...x\n...x.xx.\nxxx...x.\n</code></pre>\n"}, {"tags": ["python", "pip", "anaconda", "spyder"], "comments": [{"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311315, "post_id": 45600220, "comment_id": 78159907, "body": "What spyder version are you running?"}, {"owner": {"reputation": 172, "user_id": 5351971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52168369a5706d809ca40376d6b3e492?s=128&d=identicon&r=PG&f=1", "display_name": "abrad1212", "link": "https://stackoverflow.com/users/5351971/abrad1212"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311346, "post_id": 45600220, "comment_id": 78159928, "body": "I am using the latest version 3.2.0"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311421, "post_id": 45600220, "comment_id": 78159953, "body": "Weird, I only remember seeing this issue pre 3.1.4"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311573, "post_id": 45600220, "comment_id": 78160013, "body": "Is any of this being done through a zip?"}, {"owner": {"reputation": 172, "user_id": 5351971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52168369a5706d809ca40376d6b3e492?s=128&d=identicon&r=PG&f=1", "display_name": "abrad1212", "link": "https://stackoverflow.com/users/5351971/abrad1212"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311604, "post_id": 45600220, "comment_id": 78160027, "body": "I do not know, how should I check"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311645, "post_id": 45600220, "comment_id": 78160058, "body": "Check if anything you are running (or try to run) has not been extracted."}, {"owner": {"reputation": 172, "user_id": 5351971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52168369a5706d809ca40376d6b3e492?s=128&d=identicon&r=PG&f=1", "display_name": "abrad1212", "link": "https://stackoverflow.com/users/5351971/abrad1212"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311716, "post_id": 45600220, "comment_id": 78160102, "body": "I&#39;m sorry. but I do not know what you mean. Should I check my Anaconda folder?"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311903, "post_id": 45600220, "comment_id": 78160200, "body": "Anything that you are trying to run/running, yes."}, {"owner": {"reputation": 172, "user_id": 5351971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52168369a5706d809ca40376d6b3e492?s=128&d=identicon&r=PG&f=1", "display_name": "abrad1212", "link": "https://stackoverflow.com/users/5351971/abrad1212"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502312066, "post_id": 45600220, "comment_id": 78160282, "body": "I found spyder.exe in Anaconda3/Scripts and it started"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502312108, "post_id": 45600220, "comment_id": 78160298, "body": "Great! Is it working then?"}, {"owner": {"reputation": 172, "user_id": 5351971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52168369a5706d809ca40376d6b3e492?s=128&d=identicon&r=PG&f=1", "display_name": "abrad1212", "link": "https://stackoverflow.com/users/5351971/abrad1212"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502312179, "post_id": 45600220, "comment_id": 78160333, "body": "Well no the spyder.exe in the Scripts folder is, but I cannot launch it with my conda environment"}, {"owner": {"reputation": 172, "user_id": 5351971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52168369a5706d809ca40376d6b3e492?s=128&d=identicon&r=PG&f=1", "display_name": "abrad1212", "link": "https://stackoverflow.com/users/5351971/abrad1212"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502312279, "post_id": 45600220, "comment_id": 78160379, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/151542/discussion-between-abrad1212-and-liam-healy\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 5351971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52168369a5706d809ca40376d6b3e492?s=128&d=identicon&r=PG&f=1", "display_name": "abrad1212", "link": "https://stackoverflow.com/users/5351971/abrad1212"}, "is_accepted": true, "score": 0, "last_activity_date": 1502325761, "creation_date": 1502325761, "answer_id": 45602732, "question_id": 45600220, "link": "https://stackoverflow.com/questions/45600220/spyder-fails-to-launch-with-psutils-importerror-windows-anaconda/45602732#45602732", "title": "Spyder fails to launch with psutils ImportError - Windows Anaconda", "body": "<p>I ended up fixing this issue my removing Anaconda and every Python installation on my machine as well the Python environment variables.</p>\n\n<p>I fixed it by getting mad thinking how about removing every python and just reinstalling Anaconda. :D</p>\n"}], "owner": {"reputation": 172, "user_id": 5351971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52168369a5706d809ca40376d6b3e492?s=128&d=identicon&r=PG&f=1", "display_name": "abrad1212", "link": "https://stackoverflow.com/users/5351971/abrad1212"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 45602732, "answer_count": 1, "score": 0, "last_activity_date": 1502325761, "creation_date": 1502311012, "last_edit_date": 1502311485, "question_id": 45600220, "link": "https://stackoverflow.com/questions/45600220/spyder-fails-to-launch-with-psutils-importerror-windows-anaconda", "title": "Spyder fails to launch with psutils ImportError - Windows Anaconda", "body": "<p>I'v been having a issue were Spyder has been failing to launch from the Anaconda Navigator. I launched my environment with a terminal and ran <code>spyder</code> and I'm getting a ImportError. \n<a href=\"https://i.stack.imgur.com/GOMrG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GOMrG.png\" alt=\"Import Error\"></a></p>\n\n<p>I'v uninstalled Anaconda multiple times and still no dice.</p>\n\n<p><strong><a href=\"https://gist.github.com/abrad1212/503aeea77ca8c940ce7183e64f8fe5f9\" rel=\"nofollow noreferrer\">Here are</a></strong> all my conda packages listed with <code>conda list &gt; list.txt</code>\nand <strong><a href=\"https://gist.github.com/abrad1212/53075a02e5ed25c95d40f195d4b58596\" rel=\"nofollow noreferrer\">here are</a></strong> all my pip packages listed with <code>pip freeze &gt; requirements.txt</code></p>\n\n<p>EDIT:\nHere is my PYTHONPATH\n<a href=\"https://i.stack.imgur.com/8voaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8voaR.png\" alt=\"Environment Variables\"></a></p>\n"}, {"tags": ["python", "pandas", "group-by"], "comments": [{"owner": {"reputation": 2633, "user_id": 8144295, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/a2s3l.jpg?s=128&g=1", "display_name": "2Obe", "link": "https://stackoverflow.com/users/8144295/2obe"}, "edited": false, "score": 0, "creation_date": 1502312825, "post_id": 45600184, "comment_id": 78160635, "body": "Just loop the old df with step size 10 and add the values between the steps in a new df like <code>for i in range(0,len(df),10): df2=pd.DataFrame({&quot;loc_time&quot;:np.sum(df[&quot;loc_time][i:i+10])})</code>"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1502318585, "post_id": 45600184, "comment_id": 78162876, "body": "Shouldn&#39;t testing be off for the last row of your expected result?"}, {"owner": {"reputation": 3448, "user_id": 6237241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4310dc4cb526ad5ebdea99acfa742af2?s=128&d=identicon&r=PG&f=1", "display_name": "User12345", "link": "https://stackoverflow.com/users/6237241/user12345"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1502319221, "post_id": 45600184, "comment_id": 78163103, "body": "@Alexander No because it is a new <code>loc_number</code>, if new loc number then it should be <code>testing on</code>"}, {"owner": {"reputation": 10872, "user_id": 3135417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b989009ea961e780793f80ea6d53240?s=128&d=identicon&r=PG&f=1", "display_name": "Abdou", "link": "https://stackoverflow.com/users/3135417/abdou"}, "edited": false, "score": 0, "creation_date": 1502320126, "post_id": 45600184, "comment_id": 78163393, "body": "@New_learner, you keep changing the data and desired output on me."}], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1502324787, "last_edit_date": 1502324787, "creation_date": 1502314304, "answer_id": 45600935, "question_id": 45600184, "link": "https://stackoverflow.com/questions/45600184/group-multiple-records-as-one-records-and-assign-values-in-python-data-frame/45600935#45600935", "title": "Group multiple records as one records and assign values in python data frame", "body": "<p>Should work now.  You can always remove <code>df2 = df2.set_index('ID')</code> (the final line) if you don't want to index the dataframe on that column.</p>\n\n<p>First, I needed to sort the dataframe in order by <code>loc_number</code> and <code>loc_time</code>.</p>\n\n<p>Next, I needed to create continuous blocks of numbers for these unequally sized groups (e.g. 1, 1, 1, 2, 2, 1, 1, 1, 2, 2, 2, 3, 3 assuming two <code>loc_numbers</code>).  To do this, I grouped on <code>loc_number</code> and performed a transformation that used floor division, using a list comprehension to divide the index of each item by the grouping size (e.g. 3).</p>\n\n<p><code>transform(lambda group: [i // group_size for i in range(len(group))]))</code></p>\n\n<p>Next, I grouped on the <code>loc_number</code> and this new <code>loc_counter</code> to do the rest of the aggregations.</p>\n\n<p>I used a list comprehension to get the first and last item of each group.  I then used <code>.loc</code> to set the status to <code>testing_off</code> or <code>testing_on</code>, as appropriate.</p>\n\n<pre><code>group_size = 3\ndf.sort_values(['loc_number', 'loc_time'], inplace=True)\ndf2 = (\n    df\n    .assign(\n        status='testing',\n        loc_counter=df.groupby('loc_number')['loc_number']\n                      .transform(lambda group: [i // group_size for i in range(len(group))]))\n    .groupby(['loc_number', 'loc_counter'])\n    .agg({'loc_time': 'last', 'loc_number': 'last', 'loc_counter': 'count', 'status': 'last'})\n    .rename(columns={'loc_counter': 'count'})\n    .reset_index(drop=True)   \n)\n\ndf2['ID'] = range(1, len(df2) + 1)\ndf2 = df2[['ID', 'loc_time', 'loc_number', 'status', 'count']]\n\nfirst_group_items = [group[0] for group in df2.groupby('loc_number').groups.itervalues()]\nlast_group_items = [group[-1] for group in df2.groupby('loc_number').groups.itervalues()]\n\ndf2.loc[last_group_items, 'status'] = 'testing_off'\ndf2.loc[first_group_items, 'status'] = 'testing_on'\n\ndf2 = df2.set_index('ID')\n\n&gt;&gt;&gt; df2\n   loc_time  loc_number       status  count\nID                                         \n1   03:28.5        1105   testing_on      3\n2   06:25.5        1105      testing      3\n3   10:25.6        1105      testing      3\n4   13:26.0        1105      testing      3\n5   17:26.0        1105      testing      3\n6   20:25.7        1105      testing      3\n7   24:25.7        1105      testing      3\n8   27:25.7        1105  testing_off      2\n9   22:25.7        1106   testing_on      3\n10  22:35.7        1106  testing_off      1\n11  22:33.7        1107   testing_on      1\n</code></pre>\n"}], "owner": {"reputation": 3448, "user_id": 6237241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4310dc4cb526ad5ebdea99acfa742af2?s=128&d=identicon&r=PG&f=1", "display_name": "User12345", "link": "https://stackoverflow.com/users/6237241/user12345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 1, "accepted_answer_id": 45600935, "answer_count": 1, "score": 1, "last_activity_date": 1502324787, "creation_date": 1502310857, "last_edit_date": 1502318087, "question_id": 45600184, "link": "https://stackoverflow.com/questions/45600184/group-multiple-records-as-one-records-and-assign-values-in-python-data-frame", "title": "Group multiple records as one records and assign values in python data frame", "body": "<p>I have a dataframe in <code>python</code>. the columns of the data frame are <code>Id</code>, <code>loc_time</code>, <code>loc_number</code>, <code>status</code>.</p>\n\n<p>the data is below:</p>\n\n<pre><code>Id  loc_time    loc_number  status\n1   01:25.5     1105        testing on\n2   02:25.9     1105        testing off\n3   03:28.5     1105        testing off\n4   04:25.5     1105        testing off\n5   05:25.9     1105        testing on\n6   06:25.5     1105        testing on\n7   07:25.9     1105        testing off\n8   08:25.6     1105        testing off\n9   09:25.9     1106        testing on\n10  10:25.6     1105        testing on\n11  11:26.0     1105        testing off\n12  12:25.6     1105        testing off\n13  13:26.0     1105        testing on\n14  14:25.6     1106        testing on\n15  15:26.0     1105        testing off\n16  16:25.6     1105        testing off\n17  17:26.0     1105        testing on\n18  18:25.7     1105        testing on\n19  19:26.0     1105        testing off\n20  20:25.7     1105        testing off\n21  21:26.1     1105        testing on\n22  22:25.7     1106        testing on\n23  22:33.7     1107        testing on\n24  23:26.1     1105        testing off\n25  24:25.7     1105        testing off\n26  25:26.1     1105        testing on\n27  27:25.7     1105        testing on\n28  22:35.7     1106        testing off     \n</code></pre>\n\n<p>Now I want to create a new data frame with columns <code>Id</code>, <code>loc_time</code>, <code>loc_number</code>, <code>status</code> and <code>count</code>.</p>\n\n<pre><code>Id  loc_time    loc_number  status          count\n1   03:28.5     1105        testing on      03\n2   06:25.5     1105        testing         03\n3   10:25.6     1105        testing         03\n4   13:26.0     1105        testing         03\n5   17:26.0     1105        testing         03\n6   20:25.7     1105        testing         03\n7   24:25.7     1105        testing         03\n8   27:25.7     1105        testing off     02\n9   22:25.7     1106        testing on      03\n10  22:35.7     1106        testing off     01\n11  22:33.7     1107        testing on      01\n</code></pre>\n\n<p>I want to group the first ten timestamp records as one record and assign status of test on and also count no of records.</p>\n\n<p>I want to do the same for next ten records and assign status as test.</p>\n\n<p>For the last group of data I want status as test off</p>\n\n<p>How do I do that?</p>\n\n<blockquote>\n  <p>when 1 - 10 timestamps grouped together for the same loc_number then the status test on. </p>\n  \n  <p>if there are more than 10 timestamps after the 1- 10 timestamps for the same loc_number then the status is test\n  and so on</p>\n  \n  <p>if there are less than 10 timestamps after the previous group of 10 timestamps for the same loc_number then the status is test off </p>\n  \n  <p>the last timestamp grouped together should be test off.</p>\n</blockquote>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 0, "creation_date": 1502310931, "post_id": 45600171, "comment_id": 78159749, "body": "<a href=\"https://stackoverflow.com/questions/27175400/how-to-find-the-index-of-a-value-in-2d-array-in-python\" title=\"how to find the index of a value in 2d array in python\">stackoverflow.com/questions/27175400/&hellip;</a> I hope this helps"}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 2, "creation_date": 1502311034, "post_id": 45600171, "comment_id": 78159792, "body": "Is there a relation between the matrix presented and the sample output?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1502311080, "post_id": 45600171, "comment_id": 78159810, "body": "@EugeneSh. Yes, but OP is confused between row and column."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1502311187, "post_id": 45600171, "comment_id": 78159855, "body": "Also, there should be commas in there for the example to be copyable Python syntax"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1502311220, "post_id": 45600171, "comment_id": 78159865, "body": "That output doesn&#39;t make any sense to me"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 1, "creation_date": 1502311239, "post_id": 45600171, "comment_id": 78159874, "body": "@AntonvBR. It&#39;s for the transpose. First <i>column</i> has no zeros, so -1. Next two columns have first zero in row 2, etc."}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1502311372, "post_id": 45600171, "comment_id": 78159937, "body": "@MadPhysicist Thanks for poitning that out.."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1502312052, "post_id": 45600171, "comment_id": 78160274, "body": "In the latest <code>numpy</code>, the <code>str()</code> omits the commas, <code>repr()</code> includes them, and makes for easier copy-n-paste."}, {"owner": {"reputation": 1845, "user_id": 1245694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/061c75dcdd77111af71482c5a1f7fed0?s=128&d=identicon&r=PG", "display_name": "anishtain4", "link": "https://stackoverflow.com/users/1245694/anishtain4"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1502319771, "post_id": 45600171, "comment_id": 78163280, "body": "@MadPhysicist is right, I meant columns and mentioned rows in my question."}], "answers": [{"comments": [{"owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "edited": false, "score": 2, "creation_date": 1502315108, "post_id": 45600329, "comment_id": 78161597, "body": "<code>a.argmin(0)-a.all(0)</code> as a shortcut."}], "tags": [], "owner": {"reputation": 3063, "user_id": 5075720, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNyMGvaELDs/AAAAAAAAAAI/AAAAAAAAVnw/P1Rt8TFE2gc/photo.jpg?sz=128", "display_name": "PaSTE", "link": "https://stackoverflow.com/users/5075720/paste"}, "is_accepted": true, "score": 5, "last_activity_date": 1502311426, "creation_date": 1502311426, "answer_id": 45600329, "question_id": 45600171, "link": "https://stackoverflow.com/questions/45600171/find-nonzero-indices-as-an-array/45600329#45600329", "title": "find nonzero indices as an array", "body": "<p>Is <a href=\"https://stackoverflow.com/questions/16243955/numpy-first-occurrence-of-value-greater-than-existing-value\">this</a> what you are looking for?</p>\n\n<pre><code>import numpy as np\n\na=np.array([[1, 1, 1, 1, 0],\n            [1, 1, 1, 0, 0],\n            [1, 0, 0, 0, 0],\n            [1, 0, 1, 1, 1],\n            [1, 0, 0, 1, 0]])\n\nnp.argmax(a==0, axis=0) - ~np.any(a==0, axis=0)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>array([-1,  2,  2,  1,  0], dtype=int64)\n</code></pre>\n\n<p>The idea here is that <code>np.argmax</code> finds the index of the first matching element in each column (<code>axis=0</code> for <em>columns</em>, which appears to be what you want in the output, but if you actually want <em>rows</em>, use <code>axis=1</code>).  Because <code>np.argmax</code> returns 0 for columns that do not match at all, I subtract 1 from the result for each column that doesn't contain any 0.</p>\n"}, {"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 0, "last_activity_date": 1502312660, "last_edit_date": 1502312660, "creation_date": 1502311606, "answer_id": 45600370, "question_id": 45600171, "link": "https://stackoverflow.com/questions/45600171/find-nonzero-indices-as-an-array/45600370#45600370", "title": "find nonzero indices as an array", "body": "<p>Here is a less crafty solution but arguably easier to undestand. \nFirst finds all matches and then creates an array with the first element of the matches and -1 if len == 0.</p>\n\n<pre><code>a=np.array([[1,1,1,1,0],\n        [1,1,1,0,0],\n        [1,0,0,0,0],\n        [1,0,1,1,1],\n        [1,0,0,1,0]])\n\nmatches = [np.where(np.array(i)==0)[0] for i in a.T]\nnp.array([i[0] if len(i) else -1 for i in matches]) # first occurence, else -1\n\narray([-1,  2,  2,  1,  0])\n</code></pre>\n"}], "owner": {"reputation": 1845, "user_id": 1245694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/061c75dcdd77111af71482c5a1f7fed0?s=128&d=identicon&r=PG", "display_name": "anishtain4", "link": "https://stackoverflow.com/users/1245694/anishtain4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 45600329, "answer_count": 2, "score": 0, "last_activity_date": 1502312660, "creation_date": 1502310808, "question_id": 45600171, "link": "https://stackoverflow.com/questions/45600171/find-nonzero-indices-as-an-array", "title": "find nonzero indices as an array", "body": "<p>I know <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html#numpy.where\" rel=\"nofollow noreferrer\">numpy.where</a> gives a tuple of the array coordinates where the condition applies. But what if I want an array?\nassume the following 2d array:</p>\n\n<pre><code>a=np.array([[1 1 1 1 0],\n            [1 1 1 0 0],\n            [1 0 0 0 0],\n            [1 0 1 1 1],\n            [1 0 0 1 0]])\n</code></pre>\n\n<p>Now what I want is only the first occurrence of zeros, but for every row, even if it doesn't exist. Something like <code>indexOf()</code> in Java. So the output look like:</p>\n\n<pre><code>array([-1,2,2,1,0])\n</code></pre>\n\n<p>I need to cut pieces of an ndarray and it would be much easier to reduce a dimension rather than having a tuple and try to regenerate the missing rows.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7807869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/310b5955fcb6707444ccccb2c1b59ec9?s=128&d=identicon&r=PG&f=1", "display_name": "Tauseef", "link": "https://stackoverflow.com/users/7807869/tauseef"}, "edited": false, "score": 0, "creation_date": 1502312554, "post_id": 45600287, "comment_id": 78160518, "body": "Hi csander, thanks for your quicky reply! However, the code seems to give an error saying: TypeError: &#39;float&#39; object is not subscriptable"}, {"owner": {"reputation": 1320, "user_id": 2276009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028757e2365b6eaaee9617e4cf8c71a5?s=128&d=identicon&r=PG", "display_name": "csander", "link": "https://stackoverflow.com/users/2276009/csander"}, "reply_to_user": {"reputation": 45, "user_id": 7807869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/310b5955fcb6707444ccccb2c1b59ec9?s=128&d=identicon&r=PG&f=1", "display_name": "Tauseef", "link": "https://stackoverflow.com/users/7807869/tauseef"}, "edited": false, "score": 0, "creation_date": 1502324222, "post_id": 45600287, "comment_id": 78164362, "body": "Does your column <code>lol</code> already contain tuples? I assumed it had strings that you were splitting on the comma character, but that wouldn&#39;t really make sense because you are getting objects rather than strings from the split."}], "tags": [], "owner": {"reputation": 1320, "user_id": 2276009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028757e2365b6eaaee9617e4cf8c71a5?s=128&d=identicon&r=PG", "display_name": "csander", "link": "https://stackoverflow.com/users/2276009/csander"}, "is_accepted": false, "score": 0, "last_activity_date": 1502311284, "creation_date": 1502311284, "answer_id": 45600287, "question_id": 45600165, "link": "https://stackoverflow.com/questions/45600165/separate-dataframe-into-two-columns-by-comma-python/45600287#45600287", "title": "Separate dataframe into two columns by comma python", "body": "<p>It's easiest to store the result of the split in an intermediate variable.</p>\n\n<pre><code>split = df['lol'].str.split(',')\ndf['lol'] = split.apply(lambda x: x[0])\ndf['lol2'] = split.apply(lambda x: x[1])\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 7807869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/310b5955fcb6707444ccccb2c1b59ec9?s=128&d=identicon&r=PG&f=1", "display_name": "Tauseef", "link": "https://stackoverflow.com/users/7807869/tauseef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502312856, "creation_date": 1502310777, "last_edit_date": 1502312856, "question_id": 45600165, "link": "https://stackoverflow.com/questions/45600165/separate-dataframe-into-two-columns-by-comma-python", "title": "Separate dataframe into two columns by comma python", "body": "<p>need some help on this - I think this isn't too difficult but having a mental block.\nI am trying to convert the dataframe with one column into two and separate it by a comma. Below is the code I am using:</p>\n\n<pre><code>log_model2coeff_df = log_model2coeff_df['lol'].apply(lambda x :pd.Series(x.split(',')))\n\n\n+-----------------------------------------------+\n|                      lol                      |\n+-----------------------------------------------+\n| ('Principal', array([-0.00088419]))           |\n| ('age', array([ 0.01724407]))                 |\n| ('Male', array([-0.31822202]))                |\n| ('High School or Below', array([-0.0003084])) |\n| ('Master or Above', array([ 0.02205005]))     |\n| ('college', array([ 0.10759677]))             |\n+-----------------------------------------------+\n</code></pre>\n\n<p>I want it to look like:</p>\n\n<pre><code>+---------------------------------------------------+\n|        lol                |         lol2          |                                                           \n+---------------------------------------------------+\n| ('college'              |  array([ 0.10759677]))  |\n| ('age'                  |  array([ 0.01724407]))  |\n| ('Principal'            |  array([-0.00088419]))  |\n| ('Master or Above'      |  array([ 0.02205005]))  |\n| ('Male'                 |  array([-0.31822202]))  |\n| ('High School or Below' |  array([-0.0003084]))   |\n+----------------------------------------------------\n\n\nThanks in advance\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 2, "creation_date": 1502310696, "post_id": 45600097, "comment_id": 78159645, "body": "Do those names that don&#39;t work return at least 5 results in Google?"}, {"owner": {"reputation": 82, "user_id": 7493568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36df9f62b4ebd1422de26482eb0d78c?s=128&d=identicon&r=PG", "display_name": "wvinyl", "link": "https://stackoverflow.com/users/7493568/wvinyl"}, "reply_to_user": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 0, "creation_date": 1502311129, "post_id": 45600097, "comment_id": 78159831, "body": "Yes if I were to go to Google, the names that don&#39;t return/work do in fact have 5 results in Google. I am currently trying to write a try and except block... maybe you could help me there and I could just cut my losses? This is being run for lots of names so if a few are missing I will still live. Here is my code so far:  <code>while True:     for i in list:         try:             run(i)             break         except IndexError:             pass</code>"}], "owner": {"reputation": 82, "user_id": 7493568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36df9f62b4ebd1422de26482eb0d78c?s=128&d=identicon&r=PG", "display_name": "wvinyl", "link": "https://stackoverflow.com/users/7493568/wvinyl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502311276, "creation_date": 1502310522, "question_id": 45600097, "link": "https://stackoverflow.com/questions/45600097/indexerror-list-index-out-of-range-on-selective-inputs-to-a-python-functions-p", "title": "IndexError: list index out of range on selective inputs to a python function&#39;s parameter", "body": "<p>This is a program to get the first five queries from google. I have it as a function. I have combined codes and tailored to program to work. Oddly it works only sometimes. Sometimes I get this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"google.py\", line 36, in &lt;module&gt;\n    run(i)\n  File \"google.py\", line 21, in run\n    link='http'+split_content[1].split(':http',1)[1].split('%',1)[0]\nIndexError: list index out of range  \n</code></pre>\n\n<p>It's worked all times on simple words. However on some names (which I cannot unfortunately reveal which names due to privacy policy) the name is 'xxxxx xxxxx' format, however when I test 'Lebron James', it worked.</p>\n\n<p>The while loop is from another person's program. Somewhere something is happening.</p>\n\n<pre><code>#!/usr/bin/python3\n# this is the logic in order to get the first 5\n# queries off of google.com\n\nimport requests\nimport sys\nimport webbrowser\n\ndef run(word_to_search):\n\n    request = requests.get('http://google.com/search?q='+word_to_search)\n    content=request.content.decode('UTF-8','replace')\n\n    links=[]\n    while '&lt;h3 class=\"r\"&gt;' in content:\n        content=content.split('&lt;h3 class=\"r\"&gt;', 1)[1]\n        split_content=content.split('&lt;/h3&gt;', 1)\n        link='http'+split_content[1].split(':http',1)[1].split('%',1)[0]\n        links.append(link)\n        content=split_content[1]\n\n    file = open(\"google.txt\",\"a\")\n    file.write(\"\\n\\n\"+word_to_search+\"\\n\")\n\n    for link in links[:5]:  # max number of links 5\n        file.write(link + \"\\n\")\n\n\n\nlist = ['Curly','Moe','Shorty','Laser Beams']\n\nfor i in list:\n   run(i)\n</code></pre>\n\n<p>The successful program outputs this:</p>\n\n<pre><code>Curly\nhttp://www.dictionary.com/browse/curly\nhttp://www.dictionary.com/browse/curly\nhttps://en.wikipedia.org/wiki/Curly_Howard\nhttp://www.thesaurus.com/browse/curly\nhttps://www.naturallycurly.com/\n\n\nMoe\nhttp://www.moe.org/\nhttp://www.moe.org/tour_date/\nhttps://www.facebook.com/moe.org/\nhttps://en.wikipedia.org/wiki/Moe_(slang)\nhttps://en.wikipedia.org/wiki/Moe_(band)\n\n\nShorty\nhttp://www.urbandictionary.com/define.php\nhttp://www.urbandictionary.com/define.php\nhttps://en.wiktionary.org/wiki/shorty\nhttp://www.mdaniels.com/shorty/\nhttp://shortyawards.com/\n\n\nLaser Beams\nhttp://www.lazerbrody.typepad.com/\nhttp://www.lazerbrody.typepad.com/\nhttps://www.rp-photonics.com/laser_beams.html\nhttps://en.wikipedia.org/wiki/Laser\nhttp://spaceshipsandlaserbeams.com/\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 1, "creation_date": 1502310798, "post_id": 45600082, "comment_id": 78159673, "body": "You should try reading the data using pd.read_fwf() for reading the data instead of manipulating it later"}], "answers": [{"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 2, "last_activity_date": 1502311265, "creation_date": 1502311265, "answer_id": 45600281, "question_id": 45600082, "link": "https://stackoverflow.com/questions/45600082/pandas-split-dataframe-column-by-slices/45600281#45600281", "title": "pandas split dataframe column by slices", "body": "<p>Not sure how does your file look like but try using the following to read the file instead of trying to slice the values later.</p>\n\n<pre><code>df = pd.read_fwf(file) \n</code></pre>\n\n<p>OR</p>\n\n<pre><code>df = pd.read_csv(file, delim_whitespace=True)\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 5898654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YOXQQ.jpg?s=128&g=1", "display_name": "h.and.h", "link": "https://stackoverflow.com/users/5898654/h-and-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 45600281, "answer_count": 1, "score": 1, "last_activity_date": 1502343142, "creation_date": 1502310458, "last_edit_date": 1502343142, "question_id": 45600082, "link": "https://stackoverflow.com/questions/45600082/pandas-split-dataframe-column-by-slices", "title": "pandas split dataframe column by slices", "body": "<p>I've got a fixed-width dataframe:</p>\n\n<pre><code>A\n-------------------------------------------\nBPE AED USD 2017/07/01  0_27225 1         1\nBPE CLF USD 2017/07/01 40.25765 1         1\nM   LBP USD 2017/07/20  0.66414 1,000     1\nPF4 TRL USD 2005/01/01  0.63055 1,000,000 1\n</code></pre>\n\n<p>That needs to be:</p>\n\n<pre><code>A   B   C   D          E        F         G\n-------------------------------------------\nBPE AED USD 2017/07/01  0_27225 1         1\nBPE CLF USD 2017/07/01 40.25765 1         1\nM   LBP USD 2017/07/20  0.66414 1,000     1\nPF4 TRL USD 2005/01/01  0.63055 1,000,000 1\n</code></pre>\n\n<p>Right now, I'm hard-coding in the slices (nums here are arbitrary):</p>\n\n<pre><code>df['A'], df['B'], df['C'], df['D'], df['E'], df['F'], df['G'] = df['A'].str[:4].str.strip(), df['A'].str[4:9].str.strip(), df['A'].str[9:14].str.strip(), df['A'].str[14:26].str.strip(), df['A'].str[26:36].str.strip(), df['A'].str[36:46].str.strip(), df['A'].str[46:None].str.strip()\n</code></pre>\n\n<p>But I'd like to create a function so that I can reuse it in the future, with dataframes that need to be split into a different number of columns. (This doesn't work, but) Something like:</p>\n\n<pre><code>headers = ['A', 'B', 'C', 'D', 'E', 'F', 'G']\nslice_indices = [(0, 4), (4, 9), (9, 14), (14, 26), (26, 36), (36, 46), (46, None)]\n\ndef parse_df(headers, slice_indices, df):\n     new_df = {}\n     for header in headers:\n         for slice in slice_indices:\n             new_rows = []\n             for row in df:\n                fields = []\n                for slice in slice_indices:\n                    fields.append(row[slice[0]:slice[1]].strip())\n                new_rows.append(fields)\n     return new_df\n</code></pre>\n\n<p>But this seems super clunky/slow/messy to me. What's the best way to do this?</p>\n"}, {"tags": ["python", "dictionary", "tensorflow"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1502310339, "post_id": 45600007, "comment_id": 78159443, "body": "<code>probabilities[labels[j]] = results[j]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 2276009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/028757e2365b6eaaee9617e4cf8c71a5?s=128&d=identicon&r=PG", "display_name": "csander", "link": "https://stackoverflow.com/users/2276009/csander"}, "is_accepted": true, "score": 6, "last_activity_date": 1502310286, "creation_date": 1502310286, "answer_id": 45600035, "question_id": 45600007, "link": "https://stackoverflow.com/questions/45600007/how-to-populate-python-dictionary-using-a-loop/45600035#45600035", "title": "How to populate Python dictionary using a loop", "body": "<p>That's not the correct syntax for adding an element to a <code>dict</code>. You are just reseting the <code>dict</code> each time. You probably want</p>\n\n<pre><code>probabilities[labels[j]] = results[j]\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>probabilities = {labels[j]:results[j]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "is_accepted": false, "score": 2, "last_activity_date": 1502320124, "last_edit_date": 1502320124, "creation_date": 1502310312, "answer_id": 45600044, "question_id": 45600007, "link": "https://stackoverflow.com/questions/45600007/how-to-populate-python-dictionary-using-a-loop/45600044#45600044", "title": "How to populate Python dictionary using a loop", "body": "<p>You are creating a new dict here in every iteration,</p>\n\n<pre><code>probabilities = {labels[j]:results[j]}\n</code></pre>\n\n<p>this should be </p>\n\n<pre><code>probabilities[labels[j]] = results[j]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 6322794, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1B4CftmjwoA/AAAAAAAAAAI/AAAAAAAAABI/VICRhCAmj0A/photo.jpg?sz=128", "display_name": "Allen Butler", "link": "https://stackoverflow.com/users/6322794/allen-butler"}, "is_accepted": false, "score": 1, "last_activity_date": 1502310429, "creation_date": 1502310429, "answer_id": 45600072, "question_id": 45600007, "link": "https://stackoverflow.com/questions/45600007/how-to-populate-python-dictionary-using-a-loop/45600072#45600072", "title": "How to populate Python dictionary using a loop", "body": "<p>This is because you are creating a new dictionary in each iteration of your loop. Try the following:</p>\n\n<pre><code>probabilities = {}\nfor j in top_k:\n   print(labels[j], results[j])\n   probabilities[labels[j]] = results[j]\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 4633301, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dbd090173e1c6b4234f7a795203db332?s=128&d=identicon&r=PG&f=1", "display_name": "Veejay", "link": "https://stackoverflow.com/users/4633301/veejay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8095, "favorite_count": 1, "accepted_answer_id": 45600035, "answer_count": 3, "score": 1, "last_activity_date": 1502320232, "creation_date": 1502310175, "last_edit_date": 1502320232, "question_id": 45600007, "link": "https://stackoverflow.com/questions/45600007/how-to-populate-python-dictionary-using-a-loop", "title": "How to populate Python dictionary using a loop", "body": "<p>I am trying to populate this dictionary as I loop through, however when I print it to check, it seems like only the only element being added to the dictionary is the last item in the for loop. How can this be done?</p>\n\n<pre><code>probabilities = {}\nwith tf_Session(graph=graph) as sess:\nresults = sess.run(output_operation.outputs[0],\n                  {input_operation.outputs[0]:t})\nresults = np.squeeze(results)\n\ntop_k = results.argsort()[-5:][::-1]\nlabels = load_labels(label_files)\nfor j in top_k:\n    print(labels[j], results[j])\n    probabilities = {labels[j]:results[j]}\n\nprint (probabilities)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "numpy"], "comments": [{"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502310281, "post_id": 45599988, "comment_id": 78159424, "body": "Do you currently have a C compiler?"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502310345, "post_id": 45599988, "comment_id": 78159447, "body": "To build any extension modules for Python, you\u2019ll need a <code>C compiler</code>. Various <code>NumPy</code> modules use <code>FORTRAN 77</code> libraries, so you\u2019ll also need a <code>FORTRAN 77</code> compiler installed."}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 8381385, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a19bd5f30c349356d1552b23615e97dc?s=128&d=identicon&r=PG&f=1", "display_name": "Erlinska", "link": "https://stackoverflow.com/users/8381385/erlinska"}, "edited": false, "score": 0, "creation_date": 1502312611, "post_id": 45600179, "comment_id": 78160550, "body": "Thanks you, I did as you said, however I get a message error doing so: ImportError: No module named &#39;future&#39; I imagine that this is an issue within my python librairies, but I have no idea on how to fix it It might be linked to the fact that I&#39;m using Python 3, but I thought that numpy was working the same way on both versions"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "reply_to_user": {"reputation": 309, "user_id": 8381385, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a19bd5f30c349356d1552b23615e97dc?s=128&d=identicon&r=PG&f=1", "display_name": "Erlinska", "link": "https://stackoverflow.com/users/8381385/erlinska"}, "edited": false, "score": 0, "creation_date": 1502312723, "post_id": 45600179, "comment_id": 78160588, "body": "try <code>pip install future</code> also"}, {"owner": {"reputation": 309, "user_id": 8381385, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a19bd5f30c349356d1552b23615e97dc?s=128&d=identicon&r=PG&f=1", "display_name": "Erlinska", "link": "https://stackoverflow.com/users/8381385/erlinska"}, "edited": false, "score": 0, "creation_date": 1502314312, "post_id": 45600179, "comment_id": 78161254, "body": "I got this at the beggining, I managed to install the future module with conda, but now I get an error message that seems linked to the fact that I don&#39;t have a compiler installed on my computer, I&#39;m posting the error message as an answer as it is very long"}], "tags": [], "owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "is_accepted": false, "score": 1, "last_activity_date": 1502310841, "creation_date": 1502310841, "answer_id": 45600179, "question_id": 45599988, "link": "https://stackoverflow.com/questions/45599988/looking-for-help-on-installing-a-numpy-extension/45600179#45600179", "title": "Looking for help on installing a numpy extension", "body": "<p>To build any extension modules for Python, you\u2019ll need a <code>C compiler</code>. Various <code>NumPy</code> modules use <code>FORTRAN 77</code> libraries, so you\u2019ll also need a <code>FORTRAN 77</code> compiler installed.</p>\n\n<p>However, if you just want to install the tar.gz file that they have on the website, follow these steps:</p>\n\n<ol>\n<li>Open cmd (Command Prompt)</li>\n<li>Write <code>set path=%path%;C:\\Python27\\</code></li>\n<li>Extract the tar.gz file  (use a program like PeaZip)</li>\n<li>Change directories within the command line (if you are confused on how to do this look <a href=\"http://coweb.cc.gatech.edu/ice-gt/339\" rel=\"nofollow noreferrer\">here</a> for reference)</li>\n<li>Get to your files' directory (something like <code>cd c:\\Users\\pdxNat\\Downloads\\py_find_1st1.0.6</code>)</li>\n<li>Run <code>python setup.py install</code></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 8381385, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a19bd5f30c349356d1552b23615e97dc?s=128&d=identicon&r=PG&f=1", "display_name": "Erlinska", "link": "https://stackoverflow.com/users/8381385/erlinska"}, "is_accepted": false, "score": 0, "last_activity_date": 1502314371, "creation_date": 1502314371, "answer_id": 45600951, "question_id": 45599988, "link": "https://stackoverflow.com/questions/45599988/looking-for-help-on-installing-a-numpy-extension/45600951#45600951", "title": "Looking for help on installing a numpy extension", "body": "<p>Error message when trying to install the extension using the cmd:</p>\n\n<pre><code>D:\\Chrome dl\\py_find_1st-1.0.6\\py_find_1st-1.0.6&gt;python setup.py install\nrunning install\nrunning bdist_egg\nrunning egg_info\ncreating py_find_1st.egg-info\nwriting py_find_1st.egg-info\\PKG-INFO\nwriting dependency_links to py_find_1st.egg-info\\dependency_links.txt\nwriting top-level names to py_find_1st.egg-info\\top_level.txt\nwriting manifest file 'py_find_1st.egg-info\\SOURCES.txt'\nreading manifest file 'py_find_1st.egg-info\\SOURCES.txt'\nwriting manifest file 'py_find_1st.egg-info\\SOURCES.txt'\ninstalling library code to build\\bdist.win-amd64\\egg\nrunning install_lib\nrunning build_py\ncreating build\ncreating build\\lib.win-amd64-3.5\ncreating build\\lib.win-amd64-3.5\\utils_find_1st\ncopying utils_find_1st\\__init__.py -&gt; build\\lib.win-amd64-3.5\\utils_find_1st\nrunning build_ext\nTraceback (most recent call last):\n  File \"setup.py\", line 117, in &lt;module&gt;\n    zip_safe = False,\n  File \"D:\\Anaconda\\lib\\distutils\\core.py\", line 148, in setup\n    dist.run_commands()\n  File \"D:\\Anaconda\\lib\\distutils\\dist.py\", line 955, in run_commands\n    self.run_command(cmd)\n  File \"D:\\Anaconda\\lib\\distutils\\dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"D:\\Anaconda\\lib\\site-packages\\setuptools-27.2.0-py3.5.egg\\setuptools\\command\\install.py\", line 67, in run\n  File \"D:\\Anaconda\\lib\\site-packages\\setuptools-27.2.0-py3.5.egg\\setuptools\\command\\install.py\", line 109, in do_egg_install\n  File \"D:\\Anaconda\\lib\\distutils\\cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"D:\\Anaconda\\lib\\distutils\\dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"D:\\Anaconda\\lib\\site-packages\\setuptools-27.2.0-py3.5.egg\\setuptools\\command\\bdist_egg.py\", line 161, in run\n  File \"D:\\Anaconda\\lib\\site-packages\\setuptools-27.2.0-py3.5.egg\\setuptools\\command\\bdist_egg.py\", line 147, in call_command\n  File \"D:\\Anaconda\\lib\\distutils\\cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"D:\\Anaconda\\lib\\distutils\\dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"D:\\Anaconda\\lib\\site-packages\\setuptools-27.2.0-py3.5.egg\\setuptools\\command\\install_lib.py\", line 11, in run\n  File \"D:\\Anaconda\\lib\\distutils\\command\\install_lib.py\", line 107, in build\n    self.run_command('build_ext')\n  File \"D:\\Anaconda\\lib\\distutils\\cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"D:\\Anaconda\\lib\\distutils\\dist.py\", line 974, in run_command\n    cmd_obj.run()\n  File \"D:\\Anaconda\\lib\\distutils\\command\\build_ext.py\", line 338, in run\n    self.build_extensions()\n  File \"setup.py\", line 42, in build_extensions\n    if compiler_is_clang(self.compiler.compiler):\nAttributeError: 'MSVCCompiler' object has no attribute 'compiler'\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 8381385, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a19bd5f30c349356d1552b23615e97dc?s=128&d=identicon&r=PG&f=1", "display_name": "Erlinska", "link": "https://stackoverflow.com/users/8381385/erlinska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1502314371, "creation_date": 1502310090, "question_id": 45599988, "link": "https://stackoverflow.com/questions/45599988/looking-for-help-on-installing-a-numpy-extension", "title": "Looking for help on installing a numpy extension", "body": "<p>I found a numpy extension on github that would be really helpful for a program I'm currently writting, however I don't know how to install it.</p>\n\n<p>Here's the link to the extension: <a href=\"https://pypi.python.org/pypi?name=py_find_1st&amp;:action=display\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi?name=py_find_1st&amp;:action=display</a></p>\n\n<p>I'm using windows 10 which might be the reason why the installer provided doesn't work, I found a file looking like a numpy extension as described here: <a href=\"https://docs.scipy.org/doc/numpy-1.10.0/user/c-info.how-to-extend.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy-1.10.0/user/c-info.how-to-extend.html</a></p>\n\n<p>But there's no mention on this page of where to put the code of the numpy extension, and I didn't manage to find any explanations online.</p>\n\n<p>Would anyone have an idea on how to install this?</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "pip", "zip"], "answers": [{"tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": true, "score": 0, "last_activity_date": 1502313969, "creation_date": 1502313969, "answer_id": 45600876, "question_id": 45599895, "link": "https://stackoverflow.com/questions/45599895/custom-archive-format-in-python-pip/45600876#45600876", "title": "Custom archive format in Python pip", "body": "<p><code>pip</code> downloads what it finds at PyPI. For <a href=\"https://pypi.python.org/pypi/numpy\" rel=\"nofollow noreferrer\">numpy</a> it finds .zip and not .tar.*. So you have to know in advance what formats package publishers provide.</p>\n\n<p>You can ask (or better yet provide a patch for) NumPy team to publish .tar.* in addition to .zip.</p>\n"}], "owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 45600876, "answer_count": 1, "score": 1, "last_activity_date": 1502313969, "creation_date": 1502309770, "question_id": 45599895, "link": "https://stackoverflow.com/questions/45599895/custom-archive-format-in-python-pip", "title": "Custom archive format in Python pip", "body": "<p>I want to download the source code for Python packages using something like</p>\n\n<pre><code>pip download --no-binary=:all: $package==$version\n</code></pre>\n\n<p>Almost always this result in a <code>tar.gz</code> file (at least on Linux), which is what I want. For NumPy version 1.13.1 however, I retrieve a <code>zip</code> file instead. This unreliability makes it somewhat harder to write automatic install scripts, and so I would like to ask if there is any way in which I can choose the format of the retrieved archive?</p>\n"}, {"tags": ["python", "kivy", "recorder"], "comments": [{"owner": {"reputation": 5179, "user_id": 1209937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2315c81b442502ae979a22c807df84e9?s=128&d=identicon&r=PG", "display_name": "Tshirtman", "link": "https://stackoverflow.com/users/1209937/tshirtman"}, "edited": false, "score": 0, "creation_date": 1502314906, "post_id": 45599891, "comment_id": 78161513, "body": "Do you have any postproc:calibration section in your kivy config maybe?"}, {"owner": {"reputation": 61, "user_id": 6451017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76aad2943bb2cc18413c9ff774eefbda?s=128&d=identicon&r=PG&f=1", "display_name": "CNP", "link": "https://stackoverflow.com/users/6451017/cnp"}, "reply_to_user": {"reputation": 5179, "user_id": 1209937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2315c81b442502ae979a22c807df84e9?s=128&d=identicon&r=PG", "display_name": "Tshirtman", "link": "https://stackoverflow.com/users/1209937/tshirtman"}, "edited": false, "score": 0, "creation_date": 1502317163, "post_id": 45599891, "comment_id": 78162417, "body": "I don&#39;t belive so, no. My config settings for kivy are just: Config.set(&#39;input&#39;, &#39;mouse&#39;, &#39;mouse,multitouch_on_demand&#39;) Config.set(&#39;kivy&#39;, &#39;exit_on_escape&#39;, &#39;0&#39;) I also ensured that it was using the correct Window, which would be silly if it wasn&#39;t, just good to check I guess."}, {"owner": {"reputation": 61, "user_id": 6451017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76aad2943bb2cc18413c9ff774eefbda?s=128&d=identicon&r=PG&f=1", "display_name": "CNP", "link": "https://stackoverflow.com/users/6451017/cnp"}, "reply_to_user": {"reputation": 5179, "user_id": 1209937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2315c81b442502ae979a22c807df84e9?s=128&d=identicon&r=PG", "display_name": "Tshirtman", "link": "https://stackoverflow.com/users/1209937/tshirtman"}, "edited": false, "score": 0, "creation_date": 1502317666, "post_id": 45599891, "comment_id": 78162596, "body": "Maybie it&#39;s not the part of the screen where it&#39;s clicking that is the problem because the spot where it clicks is where another widget is. So it ends up running the event for the widget at that screen location. Seems pretty odd though why it would do that."}], "owner": {"reputation": 61, "user_id": 6451017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76aad2943bb2cc18413c9ff774eefbda?s=128&d=identicon&r=PG&f=1", "display_name": "CNP", "link": "https://stackoverflow.com/users/6451017/cnp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502311044, "creation_date": 1502309752, "last_edit_date": 1502311044, "question_id": 45599891, "link": "https://stackoverflow.com/questions/45599891/kivy-recorder-not-clicking-correct-location", "title": "Kivy Recorder not clicking correct location", "body": "<p>I am having trouble figuring out why the kivy recorder is clicking in a spot not where it says it will. In my app, I print the touch variable in my on_touch_down event and it says:</p>\n\n<p>RecorderMotionEvent spos=(0.645703125, 0.0) pos=(1239.75, 0.0)</p>\n\n<p>Instead of clicking at 1239.75,0 it clicks about the middle top right of my window. Also, regardless of what pos I tell it to click (it could be 0,0), it always clicks the same spot of the window.\nMy window is 1920,1080. My recorder file looks like this (without the empty lines inbetween):</p>\n\n<p>#RECORDER1.0</p>\n\n<p>(0.0015017986297607422, 'keydown', 0, {'key': 289, 'scancode': None, 'is_touch': False, 'modifier': None, 'codepoint': None})</p>\n\n<p>(0.0015017986297607422, 'keyboard', 0, {'key': 289, 'scancode': None, 'is_touch': False, 'modifier': None, 'codepoint': None})</p>\n\n<p>(0.03768434524536133, 'keyup', 0, {'key': 289, 'scancode': None, 'is_touch': False, 'modifier': None, 'codepoint': None})</p>\n\n<p>(0.1087048053741455, 'begin', 1, {'profile': ['pos'], 'sx': 0.645703125, 'is_touch': True, 'sy': 0.0})</p>\n\n<p>(0.1346497535705566, 'update', 1, {'profile': ['pos'], 'sx': 0.645703125, 'is_touch': True, 'sy': 0.0})</p>\n\n<p>(0.1994667053222656, 'end', 1, {'profile': ['pos'], 'sx': 0.645703125, 'is_touch': True, 'sy': 0.0})</p>\n\n<p>Has anyone else run into this problem? I have tried to debug it but haven't been able to figure this out. I'm using kivy 1.10 and python 3.5.</p>\n\n<p>EDIT:The recorder uses a scale of 0-1 for window pos so I've edited that but it still clicks the same spot of the window, the middle top right lol</p>\n"}, {"tags": ["python", "django", "mongodb", "mongoose", "django-queryset"], "comments": [{"owner": {"reputation": 24142, "user_id": 3955830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f57e29619783576502a620f47ad2e3b?s=128&d=identicon&r=PG", "display_name": "solarissmoke", "link": "https://stackoverflow.com/users/3955830/solarissmoke"}, "edited": false, "score": 0, "creation_date": 1502341669, "post_id": 45599864, "comment_id": 78168757, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28101580/how-do-i-cast-char-to-integer-while-querying-in-django-orm\">How do i cast char to integer while querying in django ORM?</a>"}, {"owner": {"reputation": 217, "user_id": 2211939, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b0b23be1fdcb356c81eb4cea3549e6e9?s=128&d=identicon&r=PG", "display_name": "chopeds", "link": "https://stackoverflow.com/users/2211939/chopeds"}, "reply_to_user": {"reputation": 24142, "user_id": 3955830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f57e29619783576502a620f47ad2e3b?s=128&d=identicon&r=PG", "display_name": "solarissmoke", "link": "https://stackoverflow.com/users/3955830/solarissmoke"}, "edited": false, "score": 0, "creation_date": 1502545068, "post_id": 45599864, "comment_id": 78260169, "body": "Not really. They talk about extra(), but django is about to deprecate it. They also mention annotate(), but I don&#39;t know how to make it work dynamically."}], "owner": {"reputation": 217, "user_id": 2211939, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b0b23be1fdcb356c81eb4cea3549e6e9?s=128&d=identicon&r=PG", "display_name": "chopeds", "link": "https://stackoverflow.com/users/2211939/chopeds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502316515, "creation_date": 1502309676, "last_edit_date": 1502316515, "question_id": 45599864, "link": "https://stackoverflow.com/questions/45599864/contains-not-working-for-numbers-django-mongodb", "title": "__contains not working for numbers? (Django + MongoDB)", "body": "<p>I have some inputs of <strong>type=\"text\"</strong> in a table in my template code (html). When clicking \"Search\", I collect the values from the inputs like this:</p>\n\n<pre><code>$(\".filterInput\").each(function() {\n    var column_name = $(this).attr(\"name\")\n    filters[column_name] = $(this).val();\n});\n</code></pre>\n\n<p>So, filters is a json object which contains all the filters I want to apply. </p>\n\n<p>Afterwards, I call a view with an ajax call and I send the variable filters to it. There, I transform the filters variable into an object called query, which has the __contains parameter. I do it with the following code (python):</p>\n\n<pre><code>query = {}\nfor k, v in filters.items():\n    if v:\n        query[k + '__icontains'] = v\n</code></pre>\n\n<p>And then I call MongoDB like this:</p>\n\n<pre><code>result = model.objects.filter(**query).order_by(order_by).skip(page_size*(page-1)).limit(page_size).only(*attr_names)\n</code></pre>\n\n<p>For some reason, for the string parameters in my MongoDB, it works fine. I can find for '<strong>ca</strong>' and it will find things like '<strong>Ca</strong>lamity' or 'al<strong>ca</strong>line'. However, if I look for <strong>2</strong> in a numeric field, it will only get results that are exactly <strong>2</strong>, but not 7<strong>2</strong> or <strong>2</strong>34. If I look for <strong>234</strong> I will get results with <strong>234</strong> but not 5<strong>234</strong>6 or <strong>234</strong>56</p>\n\n<p>Why is it? Might it be related to the fact that I'm comparing text with numbers? How can I fix that? And why does it work for the exactly-matching records?</p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5", "qtablewidget"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 8359849, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4582ae2a3f809e95961ce5cc0ade1106?s=128&d=identicon&r=PG&f=1", "display_name": "dre", "link": "https://stackoverflow.com/users/8359849/dre"}, "edited": false, "score": 0, "creation_date": 1502314807, "post_id": 45600647, "comment_id": 78161476, "body": "Cool makes sense. What if a cell is blank? It crashes the program. Also, can you .setItemDelegate on certain cells and not just the entire table?"}, {"owner": {"reputation": 153, "user_id": 8359849, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4582ae2a3f809e95961ce5cc0ade1106?s=128&d=identicon&r=PG&f=1", "display_name": "dre", "link": "https://stackoverflow.com/users/8359849/dre"}, "edited": false, "score": 0, "creation_date": 1502315265, "post_id": 45600647, "comment_id": 78161656, "body": "It still crashes, when I tested the code you gave, it&#39;s fine until I delete what is in the cell and then it crashes"}, {"owner": {"reputation": 153, "user_id": 8359849, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4582ae2a3f809e95961ce5cc0ade1106?s=128&d=identicon&r=PG&f=1", "display_name": "dre", "link": "https://stackoverflow.com/users/8359849/dre"}, "edited": false, "score": 0, "creation_date": 1502315884, "post_id": 45600647, "comment_id": 78161913, "body": "The new code you posted worked, not sure if you saw the part of my comment if you can .setItemDelegate certain cells"}, {"owner": {"reputation": 153, "user_id": 8359849, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4582ae2a3f809e95961ce5cc0ade1106?s=128&d=identicon&r=PG&f=1", "display_name": "dre", "link": "https://stackoverflow.com/users/8359849/dre"}, "edited": false, "score": 0, "creation_date": 1502316154, "post_id": 45600647, "comment_id": 78162043, "body": "Any cells, for example sake, lets say row 2 only"}, {"owner": {"reputation": 153, "user_id": 8359849, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4582ae2a3f809e95961ce5cc0ade1106?s=128&d=identicon&r=PG&f=1", "display_name": "dre", "link": "https://stackoverflow.com/users/8359849/dre"}, "edited": false, "score": 0, "creation_date": 1502373208, "post_id": 45600647, "comment_id": 78190233, "body": "Any idea why my .setTextAlignment on table cells work for some but not others? It started giving me an error after I updated the paint code, but when I deleted the code you provided, it still doesn&#39;t work for all cells. Have you had this problem?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 153, "user_id": 8359849, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4582ae2a3f809e95961ce5cc0ade1106?s=128&d=identicon&r=PG&f=1", "display_name": "dre", "link": "https://stackoverflow.com/users/8359849/dre"}, "edited": false, "score": 0, "creation_date": 1502373396, "post_id": 45600647, "comment_id": 78190400, "body": "Share an mvce, and please run it and verify that functions before sharing it, it is tedious to have to correct import errors."}, {"owner": {"reputation": 153, "user_id": 8359849, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4582ae2a3f809e95961ce5cc0ade1106?s=128&d=identicon&r=PG&f=1", "display_name": "dre", "link": "https://stackoverflow.com/users/8359849/dre"}, "edited": false, "score": 0, "creation_date": 1502375503, "post_id": 45600647, "comment_id": 78192162, "body": "I figured it out, I created a new QTableWidgetItem"}, {"owner": {"reputation": 460, "user_id": 12695210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7ffcf482a7e5c525067a49c3b61fd9?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/12695210/joseph"}, "edited": false, "score": 0, "creation_date": 1588342552, "post_id": 45600647, "comment_id": 108865721, "body": "Thanks for the update eyllanesc, should there be return here just before <code>super(FloatDelegate, self).displayText(value, locale)</code> in the except ValueError: ?"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 8, "last_activity_date": 1588342692, "last_edit_date": 1588342692, "creation_date": 1502312838, "answer_id": 45600647, "question_id": 45599857, "link": "https://stackoverflow.com/questions/45599857/qtablewidget-display-certain-decimals-like-excel/45600647#45600647", "title": "QTableWidget display certain decimals like excel", "body": "<p>The solution is to use a delegate and override the paint method that is responsible for showing what looks in normal state, I have built the following class based on the above.</p>\n\n<pre><code>class FloatDelegate(QItemDelegate):\n    def __init__(self, decimals, parent=None):\n        QItemDelegate.__init__(self, parent=parent)\n        self.nDecimals = decimals\n\n    def paint(self, painter, option, index):\n        value = index.model().data(index, Qt.EditRole)\n        try:\n            number = float(value)\n            painter.drawText(option.rect, Qt.AlignLeft, \"{:.{}f}\".format(number, self.nDecimals))\n        except :\n            QItemDelegate.paint(self, painter, option, index)\n</code></pre>\n\n<p>In your case you should use it as follows:</p>\n\n<pre><code>self.TableWidget.setItemDelegate(FloatDelegate(3))\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>if __name__ == '__main__':\n    import sys\n    app = QApplication(sys.argv)\n    w = QTableWidget()\n    w.setColumnCount(8)\n    w.setRowCount(8)\n    for i in range(w.rowCount()):\n        for j in range(w.columnCount()):\n            number = (i+1)/(j+1)\n            w.setItem(i, j, QTableWidgetItem(str(number)))\n    w.setItemDelegate(FloatDelegate(3, w))\n    w.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Screenshots:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OEH5J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEH5J.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/HkW1g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HkW1g.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Plus:</em> </p>\n\n<p>By Row o Column:</p>\n\n<pre><code>#only column 2\nsetItemDelegateForColumn(2, FloatDelegate(3))\n#only row 2\nsetItemDelegateForRow(2, FloatDelegate(3))\n</code></pre>\n\n<p>If you want to apply only to cell 2,3</p>\n\n<pre><code>def paint(self, painter, option, index):\n   if index.row() == 2 and index.column() == 3:\n        value = index.model().data(index, Qt.EditRole)\n        try:\n            number = float(value)\n            painter.drawText(option.rect, Qt.AlignLeft, \"{:.{}f}\".format(number, self.nDecimals))\n        except :\n            QItemDelegate.paint(self, painter, option, index)\n    else:\n        QItemDelegate.paint(self, painter, option, index)\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<ul>\n<li><p>QStyledItemDelegate:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class FloatDelegate(QStyledItemDelegate):\n    def __init__(self, decimals, parent=None):\n        super(FloatDelegate, self).__init__(parent=parent)\n        self.nDecimals = decimals\n\n    def displayText(self, value, locale):\n        try:\n            number = float(value)\n        except ValueError:\n            return super(FloatDelegate, self).displayText(value, locale)\n        else:\n            return locale.toString(number, format=\"f\", precision=self.nDecimals)\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 153, "user_id": 8359849, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4582ae2a3f809e95961ce5cc0ade1106?s=128&d=identicon&r=PG&f=1", "display_name": "dre", "link": "https://stackoverflow.com/users/8359849/dre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1838, "favorite_count": 0, "accepted_answer_id": 45600647, "answer_count": 1, "score": 4, "last_activity_date": 1588342692, "creation_date": 1502309648, "last_edit_date": 1502313119, "question_id": 45599857, "link": "https://stackoverflow.com/questions/45599857/qtablewidget-display-certain-decimals-like-excel", "title": "QTableWidget display certain decimals like excel", "body": "<p>My question is about the way the <code>QTableWidget</code> displays the cell values.</p>\n\n<p>I'd like for the cell to show only three decimals when it's not being edited and show the full value when you double click for editing.</p>\n\n<hr>\n\n<p>I am doing calculations in background and then setting the cell value afterwards.</p>\n\n<pre><code>V_D = 3/0.7\nself.TableWidget.setItem(0, 0, QTableWidgetItem(str(V_D)))\n</code></pre>\n\n<p>Similar to the way excel formats the cell to show certain number of digits.</p>\n\n<p>Full Value:</p>\n\n<p><a href=\"https://i.stack.imgur.com/a9X5N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a9X5N.png\" alt=\"enter image description here\"></a></p>\n\n<p>Display Value:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AGPCw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AGPCw.png\" alt=\"enter image description here\"></a></p>\n\n<p>How would I go about doing this? </p>\n"}, {"tags": ["python", "ipython", "keyboard-shortcuts", "keyboardinterrupt", "prompt-toolkit"], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 6, "last_activity_date": 1543610610, "last_edit_date": 1543610610, "creation_date": 1502313951, "answer_id": 45600868, "question_id": 45599850, "link": "https://stackoverflow.com/questions/45599850/leave-incomplete-line-on-screen-when-hitting-ctrl-c-in-ipython-5-0/45600868#45600868", "title": "Leave incomplete line on screen when hitting Ctrl-C in ipython 5.0+", "body": "<p>And after more research, I found what appears to be a supported approach, relying on the <a href=\"https://ipython.readthedocs.io/en/latest/config/details.html#keyboard-shortcuts\" rel=\"nofollow noreferrer\">IPython keyboard shortcuts</a> documentation (documented slightly differently for <a href=\"https://ipython.readthedocs.io/en/5.x/config/details.html#keyboard-shortcuts\" rel=\"nofollow noreferrer\">5.x</a> and <a href=\"https://ipython.readthedocs.io/en/6.x/config/details.html#keyboard-shortcuts\" rel=\"nofollow noreferrer\">6.x</a>).</p>\n\n<p>The solution is to create a file in <code>~/.ipython/profile_default/startup</code> (any name, ending with <code>.py</code> or <code>ipy</code> is fine, e.g. <code>fixctrlc.py</code>), and add the following:</p>\n\n<pre><code>from IPython import get_ipython\nfrom prompt_toolkit.enums import DEFAULT_BUFFER\nfrom prompt_toolkit.keys import Keys\nfrom prompt_toolkit.filters import HasFocus, ViInsertMode, EmacsInsertMode\n\ndef on_ctrlc(event):\n    # Move cursor to end of line and redraw (so whole block is preserved)\n    event.cli.current_buffer.cursor_position = len(event.cli.current_buffer.text)\n    event.cli._redraw(**redraw_args)\n\n    # (Optional) Put non-empty partial commands in history\n    if event.cli.current_buffer.text.strip():\n        event.cli.current_buffer.append_to_history()\n\n    if doprint:\n        print()                       # Skip to next line past cursor\n    event.cli.reset()                 # Reset/redraw prompt\n    event.cli.current_buffer.reset()  # Clear buffer so new line is fresh (empty)\n\nip = get_ipython()\ntry:\n    try:\n        # IPython 5-6; render_as_done doesn't exist, but manual print works\n        registry = ip.pt_cli.application.key_bindings_registry\n        redraw_args = {}\n        doprint = True\n    except AttributeError:\n        # IPython 7+; render_as_done necessary, and removes need for print\n        registry = ip.pt_app.key_bindings\n        redraw_args = {'render_as_done': True}\n        doprint = False\nexcept AttributeError:\n    pass  # Old IPython doesn't need special handler\nelse:\n    registry.add_binding(Keys.ControlC,\n        filter=(HasFocus(DEFAULT_BUFFER) &amp; (ViInsertMode() | EmacsInsertMode()))\n        )(on_ctrlc)\n</code></pre>\n\n<p>Please feel free to contribute if you find a better solution.</p>\n"}], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 1, "accepted_answer_id": 45600868, "answer_count": 1, "score": 2, "last_activity_date": 1543610610, "creation_date": 1502309612, "last_edit_date": 1502382860, "question_id": 45599850, "link": "https://stackoverflow.com/questions/45599850/leave-incomplete-line-on-screen-when-hitting-ctrl-c-in-ipython-5-0", "title": "Leave incomplete line on screen when hitting Ctrl-C in ipython 5.0+", "body": "<p>In older (I believe pre-5.0) versions of IPython, if I was working on a line/block, and suddenly discovered I needed to investigate something else to finish it, my approach was to hit Ctrl-C, which left the incomplete line/block on screen, but unexecuted, and gave me a fresh prompt. That is, I'd see something like:</p>\n\n<pre><code>In [1]: def foo():\n   ...:     stuff^C  # &lt;-- Just realized I needed to check something on stuff usage\n\nIn [2]:    # &lt;-- cursor goes to new line, but old stuff still on terminal\n</code></pre>\n\n<p>In newer IPython (which seems to have switched from <code>readline</code> to <code>prompt_toolkit</code> as the \"CLI support framework\"), the behavior of Ctrl-C differs; now, instead of giving me a newline, it just resets the current one, discarding everything I've typed and returning the cursor to the beginning of the line.</p>\n\n<pre><code># Before:\nIn [1]: def foo():\n   ...:     stuff\n\n# After Ctrl-C:\nIn [1]:   # Hey, where'd everything go?\n</code></pre>\n\n<p>This is extremely annoying, since I can no longer see or copy/paste the code I was working on to resume my work after I've done whatever side task precipitated the need for a fresh prompt.</p>\n\n<p>My question is: Is there any way to restore the old IPython behavior, where Ctrl-C does the following things:</p>\n\n<ol>\n<li>Does not execute the line/block typed so far</li>\n<li>Leaves it on the screen</li>\n<li>Ability to choose (at config time is fine) whether to add to the history (this would be personal preference; do you want half-formed stuff in the history, or just on the terminal for copy/paste?)</li>\n<li>Provides me with a fresh prompt below the text typed so far</li>\n</ol>\n\n<p>I've searched everywhere, and the most I've found is <a href=\"https://github.com/ipython/ipython/issues/10096#issuecomment-268225996\" rel=\"nofollow noreferrer\">a bug report comment</a> that mentions this new behavior in passing as \"...a change from earlier versions of IPython, but it is intentional.\"</p>\n\n<p>I haven't been able to find anything documented about modifying the behavior in the IPython or <code>prompt_toolkit</code> documentation; I've found where a lot of these handlers are installed, but attempts at monkey-patching to alter the current behavior have failed (and frankly, monkey-patching undocumented code means I risk it breaking every upgrade, so I'd like to find some semi-supported fix for this; failing that, hacky monkey-patching is acceptable though).</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 4, "creation_date": 1502309650, "post_id": 45599819, "comment_id": 78159111, "body": "This site is not a coding service. You are expected to do your research, write some code and ask in case you encounter some specific problem you can&#39;t resolve by using available sources."}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502309723, "post_id": 45599819, "comment_id": 78159150, "body": "Use the <code>hex()</code> function?"}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1502309862, "post_id": 45599819, "comment_id": 78159215, "body": "What do you mean by converting to ASCII? Can you give an example?"}, {"owner": {"reputation": 1, "user_id": 8441812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b580c7fef6022b7f632de1bca66c0a?s=128&d=identicon&r=PG&f=1", "display_name": "Gardener6", "link": "https://stackoverflow.com/users/8441812/gardener6"}, "edited": false, "score": 0, "creation_date": 1502311547, "post_id": 45599819, "comment_id": 78160002, "body": "Apologies - first time using the forum and getting ahead of myself.  I&#39;ll post my latest version for feedback, but I&#39;m hitting a wall."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1502316694, "post_id": 45599819, "comment_id": 78162250, "body": "Can you give an example of a complete conversion? For example the base-5 number <code>44444</code> is <code>0C34</code> in base-16 (hex) which is <i>two</i> characters in ASCII,  with the representation <code>&#39;\\f4&#39;</code> (the <code>\\f</code> stands for a formfeed character and the <code>4</code> for itself)."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8441812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b580c7fef6022b7f632de1bca66c0a?s=128&d=identicon&r=PG&f=1", "display_name": "Gardener6", "link": "https://stackoverflow.com/users/8441812/gardener6"}, "edited": false, "score": 0, "creation_date": 1502311717, "post_id": 45599908, "comment_id": 78160103, "body": "Thanks.  The issue is that the input stream is not in decimal format... it&#39;s base 5, base 6, base 9, etc.  I&#39;m realizing the core issue isn&#39;t my Python, it&#39;s determining the algorithm for identifying the number of digits to read in each base in order to convert it to a standard 16 bit binary value."}], "tags": [], "owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "is_accepted": false, "score": 0, "last_activity_date": 1502309838, "creation_date": 1502309838, "answer_id": 45599908, "question_id": 45599819, "link": "https://stackoverflow.com/questions/45599819/how-to-read-a-text-file-with-base-n-input-and-convert-it-to-hex-and-eventually/45599908#45599908", "title": "How to read a text file with base-N input, and convert it to hex (and eventually ascii)?", "body": "<p>I left a comment suggesting the <code>hex()</code> function. Here is an example for decimal to hex:</p>\n\n<pre><code>while True:\n    print(\"Enter 'x' for exit.\")\n    dec = input(\"Enter number in Decimal Format: \")\n    if dec == 'x':\n        break\n    else:\n        decimal = int(dec)\n        print(decimal,\"in Hexadecimal =\",hex(decimal),\"\\n\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8441812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b580c7fef6022b7f632de1bca66c0a?s=128&d=identicon&r=PG&f=1", "display_name": "Gardener6", "link": "https://stackoverflow.com/users/8441812/gardener6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1502314267, "creation_date": 1502309459, "last_edit_date": 1502314267, "question_id": 45599819, "link": "https://stackoverflow.com/questions/45599819/how-to-read-a-text-file-with-base-n-input-and-convert-it-to-hex-and-eventually", "title": "How to read a text file with base-N input, and convert it to hex (and eventually ascii)?", "body": "<p>I'm very new to Python and I'm looking for help creating a program that will execute the following algorithm.  It's purposely simple, and it should be noted that the data is in a stream, so I can't (or at least, I don't think I can) just open the text file and convert it using a single function.  I'm cranking away at it to learn the language and options, but would like to see how some experts would tackle this problem. Doesn't need to be user friendly and I'd like files output at each step so I can see the output at each step.</p>\n\n<p>Here's the algorithm I'm recommending:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Open file \"base-n.txt\"\n\nFor each line in file\n  Remove carriage returns\n  Write line to \"Clean File\" *#to create a single stream of characters#*\n\nOpen file \"Clean File\"\nFor each line in file\n    Read the first x characters  *#I presume x depends on n in base n#*\n    Convert the characters from base n to base 16\n    Write the characters to \"Output file\"\n\nOpen file Output File\nFor each line in file\n    Convert line to ASCII\n    Print ASCII line\nEnd\n</code></pre>\n\n<p>The files are not large... usually just a few hundred lines of base n information.  For example, the below is an example of the base-5 text.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0322040104130344042104140401011204310421011203430342043004010112020301130020\n0301042104240401041401120410042204300432041401120400042104130421042401120430\n0410043101120342041404010431013401120344042104200430040103440431040104310432\n0424011203420400041004220410043003440410042004030112040104130410043101410112\n0233043204100430011203440421042004030432040101120413041003430401042404210020\n0430040104140134011204200421042001120344042104200433034204130413041004300112\n0411043204300431042101120413034203440410042004100342011203420141011203130432\n0430042204010420040004100430043004010112042304320410043001120413034203440432\n0430011204200421042001120413041004030432041303420112040003420422041003430432\n0430002004210424042003420424040101410112031004240421041004200112040003420422\n</code></pre>\n\n<p>Thanks in advance for the help.  I'm looking forward to getting much better at Python, but have an real need for this algorithm in the short term.</p>\n"}, {"tags": ["python", "selenium", "splinter"], "comments": [{"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502310207, "post_id": 45599795, "comment_id": 78159385, "body": "Where did you that &quot;there is a way to create a Firefox profile using node.js that will suppress the creation of dialogue boxes&quot;?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8162541"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502310786, "post_id": 45599795, "comment_id": 78159670, "body": "I can&#39;t find the reference, so I ommitted node.js from the question, the problem still persists however."}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502310940, "post_id": 45599795, "comment_id": 78159755, "body": "I am not sure this is possible in python"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8162541"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311006, "post_id": 45599795, "comment_id": 78159778, "body": "Pretty sure it is: <a href=\"https://stackoverflow.com/questions/25744294/set-preference-does-not-work-on-firefox-profile\" title=\"set preference does not work on firefox profile\">stackoverflow.com/questions/25744294/&hellip;</a>"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311146, "post_id": 45599795, "comment_id": 78159840, "body": "This is all through selenium (with the first link you gave me: <a href=\"http://www.seleniumframework.com/python-intermediate/firefox-profile/\" rel=\"nofollow noreferrer\">seleniumframework.com/python-intermediate/firefox-profile</a>). It also doesn&#39;t really prevent the dialog box"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8162541"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502311250, "post_id": 45599795, "comment_id": 78159884, "body": "I am using selenium, and it does appear to achieve the end goal I am heading to."}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 2, "creation_date": 1502311335, "post_id": 45599795, "comment_id": 78159918, "body": "So what&#39;s the problem?"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1502334654, "post_id": 45599795, "comment_id": 78166861, "body": "Why is #selenium tagged here? I can see <code>splinter</code> in use. Am I missing something?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8162541"}, "edited": false, "score": 0, "creation_date": 1502368488, "post_id": 45599795, "comment_id": 78186110, "body": "webdriver is the way I am looking to set preferences for my firefox profile. Webdriver operates through Selenium. <a href=\"http://selenium-python.readthedocs.io/api.html\" rel=\"nofollow noreferrer\">selenium-python.readthedocs.io/api.html</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8162541"}, "edited": false, "score": 0, "creation_date": 1502368551, "post_id": 45599795, "comment_id": 78186160, "body": "The issue is, as stated, that I need a way to set firefox preferences in my session so dialog boxes do not appear when I prompt a in web pdf download."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8162541"}, "is_accepted": true, "score": 0, "last_activity_date": 1502974429, "creation_date": 1502974429, "answer_id": 45735689, "question_id": 45599795, "link": "https://stackoverflow.com/questions/45599795/keep-firefox-from-creating-dialog-boxes/45735689#45735689", "title": "Keep Firefox from creating dialog boxes", "body": "<p>I was able to set the preference in the Firefox Browser, then call my firefox profile </p>\n\n<pre><code>browser = Browser('firefox', profile=r'C:\\Users\\craab\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\0lot9hun.default')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8162541"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 45735689, "answer_count": 1, "score": 0, "last_activity_date": 1502974429, "creation_date": 1502309390, "last_edit_date": 1502310893, "question_id": 45599795, "link": "https://stackoverflow.com/questions/45599795/keep-firefox-from-creating-dialog-boxes", "title": "Keep Firefox from creating dialog boxes", "body": "<p>I currently have a script that will log on to my company's wiki, visit a page, and select a download to pdf option available on the page. However, when this option is chosen, this dialogue box</p>\n\n<p><a href=\"https://i.stack.imgur.com/TLUrF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TLUrF.png\" alt=\"dialogue\"></a></p>\n\n<p>I have read there is a way to create a Firefox profile that will suppress the creation of dialogue boxes, but I am unfamiliar with the library.</p>\n\n<pre><code>from splinter import Browser\nbrowser = Browser()\nbrowser.visit('https://company.wiki.com')\nbrowser.find_by_id('login-link').click()\nbrowser.fill('os_username', 'user')\nbrowser.fill('os_password', 'pass')\nbrowser.find_by_name('login').click()\nbrowser.visit('https://pageoncompany.wiki.com')\nbrowser.find_by_xpath('//*[@id=\"navigation\"]/ul/li[4]').click()\nbrowser.find_by_id('action-export-pdf-link').click()\n</code></pre>\n"}, {"tags": ["python", "linux", "automation"], "comments": [{"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1502309810, "post_id": 45599793, "comment_id": 78159190, "body": "Look at the python <code>subprocess</code> module."}, {"owner": {"reputation": 7644, "user_id": 3648361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1aeF.jpg?s=128&g=1", "display_name": "Vasily Ryabov", "link": "https://stackoverflow.com/users/3648361/vasily-ryabov"}, "edited": false, "score": 0, "creation_date": 1502358832, "post_id": 45599793, "comment_id": 78179047, "body": "pywinauto is for GUI apps, why using it for console??? +1 for <code>subprocess</code>."}], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 7400111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad63f3a33f128a2f5b413513b0c57445?s=128&d=identicon&r=PG&f=1", "display_name": "Vemund Kvam", "link": "https://stackoverflow.com/users/7400111/vemund-kvam"}, "is_accepted": false, "score": 0, "last_activity_date": 1502320590, "last_edit_date": 1502320590, "creation_date": 1502312694, "answer_id": 45600623, "question_id": 45599793, "link": "https://stackoverflow.com/questions/45599793/python-on-pi-3-to-open-and-control-a-console-application/45600623#45600623", "title": "Python on Pi 3 to open and control a console application", "body": "<p>Have a look at <a href=\"https://docs.python.org/2/library/cmd.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/cmd.html</a> for receiving commands. Your application can be run with subprocess as suggested by another user:</p>\n\n<pre><code>import cmd\nimport sys\nimport subprocess\nclass Controller(cmd.Cmd):\n    cmd = 'while true; do cat /dev/stdin;sleep 1;done'\n    p = subprocess.Popen(cmd, stdout=subprocess.PIPE, stdin=subprocess.PIPE, shell=True)\n\n    def default(self, cmd):\n        self.p.stdin.write(cmd+\"\\n\")\n        a=self.p.stdout.readline()\n        sys.stdout.write(\"subprocess returned {}\".format(a))\n        sys.stdout.flush()\n\nif __name__ == '__main__':\n    try:\n        Controller().cmdloop()\n    except:\n        print('Exit')\n</code></pre>\n\n<p>Running this script will present you with a CLI interface. Any command sent in will be forwarded to the stdin of your application (simulated by the shell script shown).</p>\n\n<p>If you don't need to process the returning stdout you can skip the <code>self.p.stdout.readline()</code> call. If you need the returning data, it may be beneficial to change the readline() call to read(), this will read until the application sends an EOF.</p>\n\n<p>The sudo requirement of your application can probably be overcome by running the python script with sudo. I'm no security expert, but be aware of the security risks of running the script as sudo, as well as the shell=True parameter of the <code>Popen</code> call.</p>\n"}], "owner": {"reputation": 317, "user_id": 1412431, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bc53a0aa6cb96c41706bfab99fd05bf8?s=128&d=identicon&r=PG", "display_name": "Saed", "link": "https://stackoverflow.com/users/1412431/saed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502320590, "creation_date": 1502309381, "question_id": 45599793, "link": "https://stackoverflow.com/questions/45599793/python-on-pi-3-to-open-and-control-a-console-application", "title": "Python on Pi 3 to open and control a console application", "body": "<p>I have a very simple problem but cant seem to get a simple solution anywhere. \nI have an application running on my Pi which I start by typing into terminal and passing some arguments. For example:</p>\n\n<pre><code>sudo $HOME/Projects/myExampleApp MD_DWNC2378\n</code></pre>\n\n<p>This results in the console application starting and as expected, can take keyboard inputs.</p>\n\n<p>Now, what I want to do is repeat the process described so far from a python application. My python application should be able to open the myExampleApp in terminal, get a reference to the console window and then direct any commands from my Python application as a keyboard press to myExampleApp.</p>\n\n<p>On a windows platform, pywinauto library does the job.</p>\n\n<p>What is the best option for doing what I described on linux running on my Pi 3?</p>\n\n<p>Any suggestions would be very helpful.</p>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "edited": false, "score": 0, "creation_date": 1502309421, "post_id": 45599754, "comment_id": 78159008, "body": "How do you know which value becomes the key in each new object?"}, {"owner": {"reputation": 181, "user_id": 6776246, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/48418a901c45e806f2834a7ba3109cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6776246/raj"}, "reply_to_user": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "edited": false, "score": 0, "creation_date": 1502309454, "post_id": 45599754, "comment_id": 78159026, "body": "From the key name (K2 and K12)"}, {"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "edited": false, "score": 0, "creation_date": 1502309537, "post_id": 45599754, "comment_id": 78159063, "body": "But how do you differentiate K2 from K3 in their respective roles?"}, {"owner": {"reputation": 1338, "user_id": 4360353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f921d78049db0195bb3fc3cda8e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "Basya", "link": "https://stackoverflow.com/users/4360353/basya"}, "edited": false, "score": 0, "creation_date": 1502309839, "post_id": 45599754, "comment_id": 78159200, "body": "Wait -- you&#39;ve already converted the json to a dictionary, and need to manipulate it?  Or you need to know how to convert it to a dictionary, and then manipulate it?"}, {"owner": {"reputation": 2957, "user_id": 3780372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4103437e167592cdd8294cbac89c53ab?s=128&d=identicon&r=PG", "display_name": "E. Ducateme", "link": "https://stackoverflow.com/users/3780372/e-ducateme"}, "edited": false, "score": 1, "creation_date": 1502309971, "post_id": 45599754, "comment_id": 78159269, "body": "@Raj please provide additional details to help us understand how you want to create these results. It is not inherently obvious how you go from your inputs to the outputs. One important item to know... Python Dictionaries are un-ordered, so K2 and K12, while they show up as the second item in each of the sub dictionaries you show may not be the second item in the dictionaries that Python creates.  Also, please provide any sample code you have generated to help achieve your goals."}, {"owner": {"reputation": 181, "user_id": 6776246, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/48418a901c45e806f2834a7ba3109cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6776246/raj"}, "edited": false, "score": 0, "creation_date": 1502312740, "post_id": 45599754, "comment_id": 78160601, "body": "&#39;K2&#39; is a string, which want to use as an identifier. So even if the items are not in order, I can check if the key is &#39;K2&#39;."}, {"owner": {"reputation": 181, "user_id": 6776246, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/48418a901c45e806f2834a7ba3109cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6776246/raj"}, "reply_to_user": {"reputation": 1338, "user_id": 4360353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f921d78049db0195bb3fc3cda8e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "Basya", "link": "https://stackoverflow.com/users/4360353/basya"}, "edited": false, "score": 0, "creation_date": 1502312807, "post_id": 45599754, "comment_id": 78160630, "body": "@BasyaPerlman I used the .json(0 on the raw response that I received and this is the output structure now and I want to manipulate it."}], "answers": [{"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 0, "last_activity_date": 1502309816, "creation_date": 1502309816, "answer_id": 45599901, "question_id": 45599754, "link": "https://stackoverflow.com/questions/45599754/accessing-dictionary-list-complex-data/45599901#45599901", "title": "Accessing dictionary list complex data", "body": "<p>If the outer keys (<code>'K2'</code> and <code>'K12'</code>) are fixed in advance it can be as simple (<em>cough</em>) as using a conditional dictionary comprehension inside a list comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; [{subdict[op]: \n...   {key: value for key, value in subdict.items() if key != op}}\n...  for op, subdict in zip(['K2', 'K12'], dct['value'])]\n[{'V2': {'K1': 'V1', 'K3': 'V3'}}, {'V12': {'K11': 'V11', 'K13': 'V13'}}]\n</code></pre>\n\n<p>assuming your dictionary is stored in a variable called <code>dct</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "is_accepted": false, "score": 0, "last_activity_date": 1502310074, "creation_date": 1502310074, "answer_id": 45599984, "question_id": 45599754, "link": "https://stackoverflow.com/questions/45599754/accessing-dictionary-list-complex-data/45599984#45599984", "title": "Accessing dictionary list complex data", "body": "<p>Not sure how you determine the keys but:</p>\n\n<pre><code>output = []\n\nfor sub_dict in d.get('value'):\n    # assuming its always the middle element?\n    nk = sub_dict.keys()[len(sub_dict.keys()) / 2]\n    output.append({nk : {k:v for k,v in sub_dict.items() if k != nk}})\n\n[{'K2': {'K1': 'V1', 'K3': 'V3'}}, {'K12': {'K11': 'V11', 'K13': 'V13'}}]\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 6776246, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/48418a901c45e806f2834a7ba3109cc7?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/6776246/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1502312910, "creation_date": 1502309232, "last_edit_date": 1502312910, "question_id": 45599754, "link": "https://stackoverflow.com/questions/45599754/accessing-dictionary-list-complex-data", "title": "Accessing dictionary list complex data", "body": "<p>I'm trying to manipulate data I got from an API response which I converted using <code>.json()</code>:</p>\n\n<pre><code>{\n 'key1':'val1',\n 'key2':'val2',\n 'value':[\n          {'K1':'V1',\n           'K2':'V2',\n           'K3':'V3'},\n          {'K11':'V11',\n           'K12':'V12',\n           'K13':'V13'},\n         ]\n}\n</code></pre>\n\n<p>I want to construct a list of dictionaries like the following:</p>\n\n<pre><code>[{V2:{K1:V1, K3:V3}}, {V12:{K11:V11, K13:V13}}]\n</code></pre>\n\n<p>Edit: I determine V2 or V12 based on their respective key. The key is 'displayName' which is in every dictionary element in the list.</p>\n"}, {"tags": ["python", "numpy", "apache-spark", "pyspark", "spark-dataframe"], "comments": [{"owner": {"reputation": 41, "user_id": 8441541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8151ca6b391964141c12893cd55dd9?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Bank", "link": "https://stackoverflow.com/users/8441541/rob-bank"}, "edited": false, "score": 0, "creation_date": 1502316471, "post_id": 45599753, "comment_id": 78162168, "body": "To clarify, the type of the array returned by Statistics corr function is a numpy.ndarray. This seems to have an impact on how the schema for the dataframe is formulated."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 8441541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8151ca6b391964141c12893cd55dd9?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Bank", "link": "https://stackoverflow.com/users/8441541/rob-bank"}, "edited": false, "score": 0, "creation_date": 1502314748, "post_id": 45600656, "comment_id": 78161454, "body": "If I already have an existing dataframe with the schema I want could I utilize that instead of manually retyping it out all again? If so, how would I go about doing that. This will help make my code much more flexible. Thanks!"}, {"owner": {"reputation": 41, "user_id": 8441541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8151ca6b391964141c12893cd55dd9?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Bank", "link": "https://stackoverflow.com/users/8441541/rob-bank"}, "edited": false, "score": 0, "creation_date": 1502316403, "post_id": 45600656, "comment_id": 78162145, "body": "I tried to implement your solution above and I get the following error message: &#39;Can not infer schema for type: &lt;type numpy.ndarray&gt;"}, {"owner": {"reputation": 2252, "user_id": 3968028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/740c1aed801ec19191a58e26c85ec933?s=128&d=identicon&r=PG", "display_name": "Dat Tran", "link": "https://stackoverflow.com/users/3968028/dat-tran"}, "reply_to_user": {"reputation": 41, "user_id": 8441541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8151ca6b391964141c12893cd55dd9?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Bank", "link": "https://stackoverflow.com/users/8441541/rob-bank"}, "edited": false, "score": 0, "creation_date": 1502387146, "post_id": 45600656, "comment_id": 78200132, "body": "It seems that it can&#39;t infer your type since it is still a numpy array. Spark DF requires a RDD, tuple, list or pandas DF. So one way is for example to use pandas DF (see edited solution). Another way is to convert the numpy array to a list. And yes you can use an existing dataframe with the schema. For this please have a look at the documentation. I already gave you a good hint with the <code>spark.createDataFrame</code>."}], "tags": [], "owner": {"reputation": 2252, "user_id": 3968028, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/740c1aed801ec19191a58e26c85ec933?s=128&d=identicon&r=PG", "display_name": "Dat Tran", "link": "https://stackoverflow.com/users/3968028/dat-tran"}, "is_accepted": false, "score": 0, "last_activity_date": 1502387022, "last_edit_date": 1502387022, "creation_date": 1502312890, "answer_id": 45600656, "question_id": 45599753, "link": "https://stackoverflow.com/questions/45599753/converting-numpy-array-to-spark-dataframe-to-input-into-mysql-pyspark/45600656#45600656", "title": "Converting numpy array to spark dataframe to input into MySQL (pyspark)", "body": "<p>There is actually multiple ways to save your data back to MySQL. Here is one way:</p>\n\n<pre><code>import pandas as pd\n\ncorr_matrix = pd.DataFrame([[1.0, 0.95, 0.77], [0.95, 1.0, 0.34], [0.77, 0.34, 1.0]])\ndf = spark.createDataFrame(corr_matrix, schema=['Att 1', 'Att 2', 'Att 3'])\n\ndf.write.jdbc(url, table)\n</code></pre>\n\n<p>where url is a JDBC URL and table is the name of table in the external database</p>\n"}], "owner": {"reputation": 41, "user_id": 8441541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8151ca6b391964141c12893cd55dd9?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Bank", "link": "https://stackoverflow.com/users/8441541/rob-bank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1349, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502387022, "creation_date": 1502309227, "question_id": 45599753, "link": "https://stackoverflow.com/questions/45599753/converting-numpy-array-to-spark-dataframe-to-input-into-mysql-pyspark", "title": "Converting numpy array to spark dataframe to input into MySQL (pyspark)", "body": "<p>Using the JDBC driver, I was able to pull a table of data I had stored in MySQL into a spark dataframe. </p>\n\n<p>I then ran the Statistic corr function from pyspark mllib on the dataframe (after some transformations) and was able to get a correlation matrix (type numpy.ndarray) similar to this:</p>\n\n<p>[[1.0, 0.95, 0.77], [0.95, 1.0, 0.34], [0.77, 0.34, 1.0]]</p>\n\n<p>How can I take this matrix and create a dataframe like the one below so that I can input that back into MySQL:</p>\n\n<pre><code>                Attribute 1   Attribute 2  Attribute 3\n    Attribute 1     1.0          0.95          0.77\n    Attribute 2     0.95         1.0           0.34\n    Attribute 3     0.77         0.34          1.0\n</code></pre>\n\n<p>Any help would be great!</p>\n"}, {"tags": ["python", "python-3.x", "csv", "numpy", "export-to-csv"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502309176, "post_id": 45599701, "comment_id": 78158903, "body": "Numpy <code>.npy</code> can contain any multi-dimensional array. <code>.csv</code>s are a rather limited format, so, what <i>exactly</i> do you have as <code>.npy</code> and what <b>exactly</b> do you want your csv to look like?"}, {"owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502309363, "post_id": 45599701, "comment_id": 78158983, "body": "If you can get the arrays you can convert those to csv. I am not sure you can just do the files. Please tell me if you would like me to post how you can convert the arrays to csv files as an answer."}, {"owner": {"reputation": 57, "user_id": 5468025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/16bdfd77c5307a0405c7d479d662f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Timebird", "link": "https://stackoverflow.com/users/5468025/timebird"}, "reply_to_user": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "edited": false, "score": 0, "creation_date": 1502309840, "post_id": 45599701, "comment_id": 78159201, "body": "@LiamHealy yes, it would be pretty good)."}, {"owner": {"reputation": 57, "user_id": 5468025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/16bdfd77c5307a0405c7d479d662f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Timebird", "link": "https://stackoverflow.com/users/5468025/timebird"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1502310097, "post_id": 45599701, "comment_id": 78159317, "body": "@juanpa.arrivillaga Unfortunately I don`t know how should it look like. Arrays consist some sounds so I would like, based on data, to make averging the sound level totally"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1502310519, "post_id": 45599701, "comment_id": 78159530, "body": "<code>npy</code> files are loaded into memory with <code>np.load</code> (read its docs).  Try that with a few of your files and tells us about the resulting arrays (shape, dtype).  Then we can make meaningful suggestions on how to use <code>np.savetxt</code> to write the array(s) to a <code>csv</code> file.  Read its docs and practice writing some simple arrays."}, {"owner": {"reputation": 57, "user_id": 5468025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/16bdfd77c5307a0405c7d479d662f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Timebird", "link": "https://stackoverflow.com/users/5468025/timebird"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1502312682, "post_id": 45599701, "comment_id": 78160569, "body": "@hpaulj Thanks for response. Shape: <code>(1, 1323000)</code>, dtype = <code>float32</code>.  I got the array from each file separately, but it&#39;s need to concatenate the arrays to make one big sound track that&#39;s why I need load the array from every .npy simultaneously. I thought it will be easy via loop <code>for</code>..."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1502332683, "post_id": 45599701, "comment_id": 78166420, "body": "Sure you could loop over the <code>npy</code> files, accumulating the arrays in a list.  When done, &#39;stack&#39; them into the array shape that you want.  Or you could append each array to a text file."}], "answers": [{"tags": [], "owner": {"reputation": 1648, "user_id": 8360167, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b2nsDFjjgeY/AAAAAAAAAAI/AAAAAAAAFYk/A_O1NkoyPpE/photo.jpg?sz=128", "display_name": "elf", "link": "https://stackoverflow.com/users/8360167/elf"}, "is_accepted": false, "score": 1, "last_activity_date": 1502309958, "creation_date": 1502309958, "answer_id": 45599946, "question_id": 45599701, "link": "https://stackoverflow.com/questions/45599701/how-to-change-file-extension-npy-to-csv-in-python/45599946#45599946", "title": "How to Change File Extension (.npy to .csv) in Python?", "body": "<p>Here is an example for converting the arrays into CSV.</p>\n\n<p><code>numpy.savetxt</code>, by the way, saves an array to a text file.</p>\n\n<pre><code>import numpy\na = numpy.asarray([ [1,2,3], [4,5,6], [7,8,9] ])\nnumpy.savetxt(\"foo.csv\", a, delimiter=\",\")\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5468025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/16bdfd77c5307a0405c7d479d662f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Timebird", "link": "https://stackoverflow.com/users/5468025/timebird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6803, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1502309958, "creation_date": 1502309057, "last_edit_date": 1502309739, "question_id": 45599701, "link": "https://stackoverflow.com/questions/45599701/how-to-change-file-extension-npy-to-csv-in-python", "title": "How to Change File Extension (.npy to .csv) in Python?", "body": "<p>I have 100 files with <code>.npy</code> extenstion. What should I do to convert all of them to <code>.csv</code> via loop <code>for</code>? </p>\n\n<p>Besides, how can I load all of them simultaneously to concatenate the arrays with each other to a new one?</p>\n\n<p>Regards</p>\n"}, {"tags": ["python", "django", "templates", "for-loop"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 7844967, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/44f32abb1d37a9fcb8adfe517ffae23d?s=128&d=identicon&r=PG&f=1", "display_name": "FelipeFonsecabh", "link": "https://stackoverflow.com/users/7844967/felipefonsecabh"}, "edited": false, "score": 0, "creation_date": 1502312274, "post_id": 45599883, "comment_id": 78160376, "body": "I need this in a first call to my view. It&#39;s a GET method. I make this to avoid to repeat code of the display in template."}, {"owner": {"reputation": 97, "user_id": 7844967, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/44f32abb1d37a9fcb8adfe517ffae23d?s=128&d=identicon&r=PG&f=1", "display_name": "FelipeFonsecabh", "link": "https://stackoverflow.com/users/7844967/felipefonsecabh"}, "edited": false, "score": 0, "creation_date": 1502312716, "post_id": 45599883, "comment_id": 78160585, "body": "Take a look in my template in this link: <a href=\"https://i.stack.imgur.com/16BpN.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/16BpN.png</a> The tittle and UE data come from Display model, and the value of field come from Register Model. Before call view i make  a query which returns the last register from Register table. But i can&#39;t iterate these queryset because have 1 register."}], "tags": [], "owner": {"reputation": 374, "user_id": 4555568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TRdm0KpSF9k/AAAAAAAAAAI/AAAAAAAALXE/0PTm83RGi4Y/photo.jpg?sz=128", "display_name": "Sachiv Paruchuri", "link": "https://stackoverflow.com/users/4555568/sachiv-paruchuri"}, "is_accepted": false, "score": -1, "last_activity_date": 1502309731, "creation_date": 1502309731, "answer_id": 45599883, "question_id": 45599636, "link": "https://stackoverflow.com/questions/45599636/generate-objects-in-django-template-dynamically/45599883#45599883", "title": "Generate objects in django template dynamically", "body": "<p>This can be easily solved by using a Django Forms:</p>\n\n<p>yourapp/forms.py</p>\n\n<pre><code>from django import forms\n\nclass DisplayForm(forms.ModelForm):\n    class Meta:\n        model = Display\n        fields = '__all__'\n</code></pre>\n\n<p>yourapp/views.py</p>\n\n<pre><code>from .forms import DisplayForm\n\ndef main(request):\n    # if this is a POST request we need to process the form data\n    if request.method == 'POST':\n        # create a form instance and populate it with data from the request:\n        form = DisplayForm(request.POST)\n        # check whether it's valid:\n        if form.is_valid():\n            # process the data in form.cleaned_data as required\n            # ...\n            # redirect to a new URL:\n            return HttpResponseRedirect('/thanks/')\n\n    # if a GET (or any other method) we'll create a blank form\n    else:\n        form = DisplayForm()\n\n    return render(request, 'operation.html', {'form': form})\n</code></pre>\n\n<p>In operations.html:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"\"&gt;\n    {{ form }}\n&lt;/form&gt;\n</code></pre>\n\n<p>Or if you want custom html in each field:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"\"&gt;\n    {% for field in form %}\n       {{ field.label_tag }} {{ field }}\n    {% endfor %}\n&lt;/form&gt;\n</code></pre>\n\n<p>Reference:\n<a href=\"https://docs.djangoproject.com/en/1.11/topics/forms/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.11/topics/forms/</a></p>\n"}], "owner": {"reputation": 97, "user_id": 7844967, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/44f32abb1d37a9fcb8adfe517ffae23d?s=128&d=identicon&r=PG&f=1", "display_name": "FelipeFonsecabh", "link": "https://stackoverflow.com/users/7844967/felipefonsecabh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 990, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502309731, "creation_date": 1502308841, "question_id": 45599636, "link": "https://stackoverflow.com/questions/45599636/generate-objects-in-django-template-dynamically", "title": "Generate objects in django template dynamically", "body": "<p>I have 2 models in my system:</p>\n\n<pre><code>class Display(models.Model):\n    name = models.CharField\n    UE = models.CharField\n    description\n\nclass Register(models.Model):\n    temp1 = models.FloatField()\n    temp2 = models.FloatField()\n    flow = models.FloatField()\n</code></pre>\n\n<p>I create displays using for inside a template, but the value of each display is a respective field in Register model. I can't make the loop with Register because i use only row (i can't loop fields). Understand?</p>\n\n<p>Take a look of my code:</p>\n\n<p>View:</p>\n\n<pre><code>def main(request):\ndp_col = Display.objects.all()\nreg = Registers.objects.latest('pk')\ncontext = {\n    'dp_col': dp_col,\n    'reg':reg\n}\nreturn render(request,'operation.html',context)\n</code></pre>\n\n<p>Template:</p>\n\n<pre><code>{% for dp in dp_col %}\n        &lt;div class='col-md-6'&gt;\n            &lt;div class=\"display-content\"&gt;\n                &lt;div class=\"display-data\"&gt;\n                    &lt;h3 class=\"text-center display-desc\"&gt;{{dp.name}}\n                         &lt;span&gt;:&lt;/span&gt; \n                         &lt;span class=\"text-center display-value\"&gt;I need put the value of each field here&lt;/span&gt;\n                         &lt;span class='display-unit'&gt;  {{dp.UE}}&lt;/span&gt;\n                    &lt;/h3&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    {% empty %}\n        &lt;!--colocar alguma coisa aqui, caso n\u00e3o tenha nada no for--&gt;\n    {% endfor %}\n</code></pre>\n\n<p>Any ideas?\nThanks a lot!</p>\n"}, {"tags": ["python", "selenium", "python-unittest"], "comments": [{"owner": {"reputation": 1663, "user_id": 7953640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-XXZtjJHhqKQ/AAAAAAAAAAI/AAAAAAAACGM/WH8Q0SKnwic/photo.jpg?sz=128", "display_name": "Satish", "link": "https://stackoverflow.com/users/7953640/satish"}, "edited": false, "score": 0, "creation_date": 1502312458, "post_id": 45599629, "comment_id": 78160471, "body": "there are two tests with the same name test_B, is it intentional?"}, {"owner": {"reputation": 1266, "user_id": 6213939, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/36c6caa9f3569dbeaa51029a5c739c0a?s=128&d=identicon&r=PG&f=1", "display_name": "Echchama Nayak", "link": "https://stackoverflow.com/users/6213939/echchama-nayak"}, "reply_to_user": {"reputation": 1663, "user_id": 7953640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-XXZtjJHhqKQ/AAAAAAAAAAI/AAAAAAAACGM/WH8Q0SKnwic/photo.jpg?sz=128", "display_name": "Satish", "link": "https://stackoverflow.com/users/7953640/satish"}, "edited": false, "score": 0, "creation_date": 1502318608, "post_id": 45599629, "comment_id": 78162888, "body": "@michaelsatish I am sorry that was a typo"}], "answers": [{"comments": [{"owner": {"reputation": 1266, "user_id": 6213939, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/36c6caa9f3569dbeaa51029a5c739c0a?s=128&d=identicon&r=PG&f=1", "display_name": "Echchama Nayak", "link": "https://stackoverflow.com/users/6213939/echchama-nayak"}, "edited": false, "score": 0, "creation_date": 1502318635, "post_id": 45600599, "comment_id": 78162895, "body": "I just get a ran 1 test in my console"}, {"owner": {"reputation": 1663, "user_id": 7953640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-XXZtjJHhqKQ/AAAAAAAAAAI/AAAAAAAACGM/WH8Q0SKnwic/photo.jpg?sz=128", "display_name": "Satish", "link": "https://stackoverflow.com/users/7953640/satish"}, "reply_to_user": {"reputation": 1266, "user_id": 6213939, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/36c6caa9f3569dbeaa51029a5c739c0a?s=128&d=identicon&r=PG&f=1", "display_name": "Echchama Nayak", "link": "https://stackoverflow.com/users/6213939/echchama-nayak"}, "edited": false, "score": 0, "creation_date": 1502371895, "post_id": 45600599, "comment_id": 78189009, "body": "Try running it in chrome, not sure it that will make any difference, I&#39;d the chrome driver lying aroung, so fired your code in Chrome and worked. But I dont think browser type and instance determines the flow"}], "tags": [], "owner": {"reputation": 1663, "user_id": 7953640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-XXZtjJHhqKQ/AAAAAAAAAAI/AAAAAAAACGM/WH8Q0SKnwic/photo.jpg?sz=128", "display_name": "Satish", "link": "https://stackoverflow.com/users/7953640/satish"}, "is_accepted": true, "score": 1, "last_activity_date": 1502312635, "creation_date": 1502312635, "answer_id": 45600599, "question_id": 45599629, "link": "https://stackoverflow.com/questions/45599629/test-missed-in-selenium-using-python/45600599#45600599", "title": "Test missed in selenium using python", "body": "<p>It worked for me. I changed the last test to test_C as test_b was duplicated. However, having said that I'm not sure if that's the actual situation</p>\n"}], "owner": {"reputation": 1266, "user_id": 6213939, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/36c6caa9f3569dbeaa51029a5c739c0a?s=128&d=identicon&r=PG&f=1", "display_name": "Echchama Nayak", "link": "https://stackoverflow.com/users/6213939/echchama-nayak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 45600599, "answer_count": 1, "score": 0, "last_activity_date": 1502318452, "creation_date": 1502308820, "last_edit_date": 1502318452, "question_id": 45599629, "link": "https://stackoverflow.com/questions/45599629/test-missed-in-selenium-using-python", "title": "Test missed in selenium using python", "body": "<p>I am trying to test the website <a href=\"http://live.guru99.com\" rel=\"nofollow noreferrer\">live.guru99.com</a>. I am testing three functionalities, named tests A, B and C. I am testing the code using geckodriver, whose exe is in the root folder.</p>\n\n<p>The code is as follows:</p>\n\n<pre><code>from selenium import webdriver\nimport time\nimport unittest\n\nclass Guru99BankTest(unittest.TestCase):\n\n    @classmethod\n    def setUp(self):\n        self.driver = webdriver.Firefox()\n\n    def test_C(self):\n        driver = self.driver\n        driver.get(\"http://live.guru99.com/\")\n\n        driver.find_element_by_link_text('Mobile').click()\n\n        listed_prd_el = driver.find_element_by_xpath(\n            \"//a[contains(text(), 'Sony Xperia')]/ancestor::div[@class = 'product-info']\")\n        listed_prd_el.find_element_by_tag_name('button').click()\n\n        qty = driver.find_element_by_xpath(\"//input[@title='Qty']\")\n\n        qty.clear()\n        qty.send_keys('1000')\n\n        self.assertEqual(qty.get_attribute('value'), '1000')\n\n        driver.find_element_by_xpath(\"//button[@title='Update']\").click()\n\n        time.sleep(3)\n        self.assertIn('products cannot be ordered in requested quantity',\n                      driver.find_element_by_class_name('error-msg').text)\n\n        driver.find_element_by_xpath(\"//button[@title='Empty Cart']\").click()\n\n        time.sleep(3)\n\n        self.assertIn('no items in your shopping cart',\n                      driver.find_element_by_class_name('cart-empty').text)\n\n    def test_A(self):\n        driver = self.driver\n\n        driver.get(\"http://live.guru99.com/\")\n\n        self.assertIn(\"This is demo site for\", driver.page_source)\n\n        driver.find_element_by_link_text('Mobile').click()\n\n        self.assertEqual(\"Mobile\", driver.title)\n\n    def test_B(self):\n        driver = self.driver\n\n        driver.get(\"http://live.guru99.com/\")\n\n        driver.find_element_by_link_text('Mobile').click()\n\n        driver.find_element_by_xpath(\"//select[@title='Sort By']/option[contains(text(), 'Name')]\").click()\n\n        product_names = ([e.text for e in driver.find_elements_by_xpath(\"//h2[@class='product-name']\")])\n\n        self.assertEqual(product_names, sorted(product_names))\n\n        listed_prd_el = driver.find_element_by_xpath(\n            \"//a[contains(text(), 'Sony Xperia')]/ancestor::div[@class = 'product-info']\")\n        listed_price = listed_prd_el.find_element_by_class_name(\"price\").text\n\n        listed_prd_el.find_element_by_tag_name('a').click()\n\n        prod_price = driver.find_element_by_xpath('//span[@class=\"price\"]').text\n\n        self.assertEqual(listed_price, prod_price)\n\n\n\n    @classmethod\n    def tearDown(self):\n        self.driver.close()\n\ndef custom_suite():\n    suite = unittest.TestSuite()\n    suite.addTest(Guru99BankTest('test_A'))\n    suite.addTest(Guru99BankTest('test_B'))\n    suite.addTest(Guru99BankTest('test_C'))\n    return suite\n\nif __name__ == \"__main__\":\n    runner = unittest.TextTestRunner()\n    runner.run(custom_suite())\n</code></pre>\n\n<p>However, I find that the browser opens only one time and not three times.What am I doing wrong? I am quite new at unittests, so please bear with me.</p>\n"}]