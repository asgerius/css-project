[{"tags": ["python", "pyspark", "aws-glue"], "answers": [{"comments": [{"owner": {"reputation": 1356, "user_id": 4186589, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6fdc822ee6e2c4b7ab163825ac73d098?s=128&d=identicon&r=PG&f=1", "display_name": "ZZzzZZzz", "link": "https://stackoverflow.com/users/4186589/zzzzzzzz"}, "edited": false, "score": 0, "creation_date": 1538055870, "post_id": 52537321, "comment_id": 92016322, "body": "18/09/27 13:43:20 INFO MemoryStore: MemoryStore cleared 18/09/27 13:43:20 INFO BlockManager: BlockManager stopped 18/09/27 13:43:20 INFO ShutdownHookManager: Shutdown hook called End of LogType:stderr"}, {"owner": {"reputation": 1356, "user_id": 4186589, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6fdc822ee6e2c4b7ab163825ac73d098?s=128&d=identicon&r=PG&f=1", "display_name": "ZZzzZZzz", "link": "https://stackoverflow.com/users/4186589/zzzzzzzz"}, "edited": false, "score": 0, "creation_date": 1538055897, "post_id": 52537321, "comment_id": 92016340, "body": "This is what the script returns in logs and dosent print the schema"}, {"owner": {"reputation": 3394, "user_id": 1791510, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c08e35b5b14606b89ecce713a94663ee?s=128&d=identicon&r=PG", "display_name": "Yuriy Bondaruk", "link": "https://stackoverflow.com/users/1791510/yuriy-bondaruk"}, "reply_to_user": {"reputation": 1356, "user_id": 4186589, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6fdc822ee6e2c4b7ab163825ac73d098?s=128&d=identicon&r=PG&f=1", "display_name": "ZZzzZZzz", "link": "https://stackoverflow.com/users/4186589/zzzzzzzz"}, "edited": false, "score": 0, "creation_date": 1538072669, "post_id": 52537321, "comment_id": 92025871, "body": "The code I provided doesn&#39;t print schema. If you want you can add <code>scoresDf.printSchema()</code>. Logs look ok"}, {"owner": {"reputation": 1356, "user_id": 4186589, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6fdc822ee6e2c4b7ab163825ac73d098?s=128&d=identicon&r=PG&f=1", "display_name": "ZZzzZZzz", "link": "https://stackoverflow.com/users/4186589/zzzzzzzz"}, "edited": false, "score": 0, "creation_date": 1538073175, "post_id": 52537321, "comment_id": 92026094, "body": "Sorry for the confusion. I have done this scoresDf.printSchema() which dosent print schema"}, {"owner": {"reputation": 3394, "user_id": 1791510, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c08e35b5b14606b89ecce713a94663ee?s=128&d=identicon&r=PG", "display_name": "Yuriy Bondaruk", "link": "https://stackoverflow.com/users/1791510/yuriy-bondaruk"}, "reply_to_user": {"reputation": 1356, "user_id": 4186589, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6fdc822ee6e2c4b7ab163825ac73d098?s=128&d=identicon&r=PG&f=1", "display_name": "ZZzzZZzz", "link": "https://stackoverflow.com/users/4186589/zzzzzzzz"}, "edited": false, "score": 1, "creation_date": 1538077510, "post_id": 52537321, "comment_id": 92027993, "body": "Does it print anything if remove <code>.select(&quot;secondExplode.score&quot;)</code>?"}], "tags": [], "owner": {"reputation": 3394, "user_id": 1791510, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c08e35b5b14606b89ecce713a94663ee?s=128&d=identicon&r=PG", "display_name": "Yuriy Bondaruk", "link": "https://stackoverflow.com/users/1791510/yuriy-bondaruk"}, "is_accepted": true, "score": 1, "last_activity_date": 1538052116, "creation_date": 1538052116, "answer_id": 52537321, "question_id": 52527545, "link": "https://stackoverflow.com/questions/52527545/how-to-explode-inner-arrays-in-a-struct-inside-a-struct-in-pyspark/52537321#52537321", "title": "How to explode inner arrays in a struct inside a struct in pyspark/", "body": "<p>If you are using Glue then you should convert DynamicFrame into Spark's DataFrame and then use <a href=\"http://spark.apache.org/docs/2.2.1/api/python/pyspark.sql.html#pyspark.sql.functions.explode\" rel=\"nofollow noreferrer\">explode</a> function:</p>\n\n<pre><code>from pyspark.sql.functions import col, explode\n\nscoresDf = dynamicFrame.toDF\n  .withColumn(\"firstExplode\", explode(col(\"firststruct.secondstruct.firstarray\")))\n  .withColumn(\"secondExplode\", explode(col(\"firstExplode.secondarray\")))\n  .select(\"secondExplode.score\") \n\nscoresDyf = DynamicFrame.fromDF(scoresDf, glueContext, \"scoresDyf\")\n</code></pre>\n"}], "owner": {"reputation": 1356, "user_id": 4186589, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6fdc822ee6e2c4b7ab163825ac73d098?s=128&d=identicon&r=PG&f=1", "display_name": "ZZzzZZzz", "link": "https://stackoverflow.com/users/4186589/zzzzzzzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 0, "accepted_answer_id": 52537321, "answer_count": 1, "score": 2, "last_activity_date": 1538052116, "creation_date": 1538006277, "question_id": 52527545, "link": "https://stackoverflow.com/questions/52527545/how-to-explode-inner-arrays-in-a-struct-inside-a-struct-in-pyspark", "title": "How to explode inner arrays in a struct inside a struct in pyspark/", "body": "<p>I am new to spark. I have tried exploding a <code>array</code> inside of a <code>struct</code>. The JSON loop is a bit complex as below. </p>\n\n<pre><code>{\n\"id\": 1,\n\"firstfield\": \"abc\",\n\"secondfield\": \"zxc\",\n\"firststruct\": {\n    \"secondstruct\": {\n        \"firstarray\": [{\n            \"firstarrayfirstfield\": \"asd\",\n            \"firstarraysecondfield\": \"dasd\",\n            \"secondarray\": [{\n                \"score\": \" 7 \"\n            }]\n        }]\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I am trying to get access to <code>score</code> field under <code>secondarray</code> field to be able to calculate few metrics and come up with the average score of each <code>id</code>.</p>\n"}, {"tags": ["python", "python-3.x", "recursion"], "comments": [{"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 1, "creation_date": 1538007019, "post_id": 52527544, "comment_id": 91994800, "body": "You forgot the / on the second result. You also forgot to return the result"}, {"owner": {"reputation": 207, "user_id": 10106756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kuqhW.png?s=128&g=1", "display_name": "FanonX", "link": "https://stackoverflow.com/users/10106756/fanonx"}, "edited": false, "score": 0, "creation_date": 1538007534, "post_id": 52527544, "comment_id": 91994949, "body": "Sorry I don&#39;t mean to be rude, I just want to get a better understanding of recursion and apply it to this particular example. Thanks for the help."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1538007643, "post_id": 52527544, "comment_id": 91994975, "body": "@FanonX I see. If you want to learn recursion, you should grab a better example. Because this is something you would typically not solve with recursion in an imperative language. Learning recursion is also about learning when <i>not</i> to use it."}], "answers": [{"comments": [{"owner": {"reputation": 270, "user_id": 1901076, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BZmOl.jpg?s=128&g=1", "display_name": "Mankalas", "link": "https://stackoverflow.com/users/1901076/mankalas"}, "edited": false, "score": 1, "creation_date": 1538007797, "post_id": 52527664, "comment_id": 91995001, "body": "The question is about solving the equation using <i>recursion</i>."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 270, "user_id": 1901076, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BZmOl.jpg?s=128&g=1", "display_name": "Mankalas", "link": "https://stackoverflow.com/users/1901076/mankalas"}, "edited": false, "score": 1, "creation_date": 1538008198, "post_id": 52527664, "comment_id": 91995100, "body": "@Mankalas My answer is about the fact this is a bad idea in Python, and I&#39;m giving a good explanation why."}, {"owner": {"reputation": 207, "user_id": 10106756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kuqhW.png?s=128&g=1", "display_name": "FanonX", "link": "https://stackoverflow.com/users/10106756/fanonx"}, "edited": false, "score": 0, "creation_date": 1538008462, "post_id": 52527664, "comment_id": 91995159, "body": "Awesome, i greatly appreciate your answer!"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 207, "user_id": 10106756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kuqhW.png?s=128&g=1", "display_name": "FanonX", "link": "https://stackoverflow.com/users/10106756/fanonx"}, "edited": false, "score": 1, "creation_date": 1538008523, "post_id": 52527664, "comment_id": 91995174, "body": "@FanonX I&#39;m glad it does. Enjoy practicing recursion!"}], "tags": [], "owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "is_accepted": false, "score": 2, "last_activity_date": 1545768906, "last_edit_date": 1545768906, "creation_date": 1538007393, "answer_id": 52527664, "question_id": 52527544, "link": "https://stackoverflow.com/questions/52527544/approximate-this-equation-using-recursion-4-1-1-3-1-5-1-7/52527664#52527664", "title": "Approximate this equation using recursion 4 * (1 - (1 /3 ) + (1 / 5) - (1 / 7) + (1 / 9) - (1 / 11) ... )", "body": "<p>First of all, you are also not returning the result. Here is a fixed version of your code.</p>\n\n<pre><code>def calculateFrac(num):\n    result = 0\n    for i in range(num):\n        if i % 2 == 0:\n            result = result + 1 / (2 * i + 1)\n        else:\n            result = result - 1 / (2 * i + 1)\n\n    return result # return the result instead of printing it\n\nprint(calculateFrac(10)) # 0.7604599047323508\n</code></pre>\n\n<p>From there, the above code is perfectly fine.</p>\n\n<h2>Do not use recursion</h2>\n\n<p>Although, note that infinite series are better represented with a <code>sum</code> and a <code>generator</code>, not recursion. Especially in Python which does not optimize <a href=\"https://stackoverflow.com/questions/33923/what-is-tail-recursion\">tail-recursion</a>.</p>\n\n<p>A recursive solution will be slower, use more memory and eventually hit the maximum recursion depth.</p>\n\n<pre><code>from itertools import islice, count\n\ndef seq():\n    for n in count():\n        yield (-1) ** n / (2 * n + 1)\n\nprint(sum(islice(seq(), 0, 10))) # 0.7604599047323508\n</code></pre>\n\n<h2>Recursion practice</h2>\n\n<p>It seems you want to learn to use recursion. It is thus important you also identify problems where recursion is not necessary of efficient.</p>\n\n<p>Recursion is usually more suited with problems that branch out at every iteration. That is problems of the form <em>F(N) = F(N<sub>1</sub>) + F(N<sub>2</sub>)</em> where <em>N<sub>1</sub></em> and <em>N<sub>2</sub></em> are subsets of <em>N</em>. A common example would be <a href=\"https://en.wikipedia.org/wiki/Merge_sort\" rel=\"nofollow noreferrer\">mergesort</a>.</p>\n\n<p>You can find <a href=\"https://www.geeksforgeeks.org/recursion-practice-problems-solutions/\" rel=\"nofollow noreferrer\">many problem sets for such problems online</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 69229, "user_id": 53341, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/98geJ.png?s=128&g=1", "display_name": "MatBailie", "link": "https://stackoverflow.com/users/53341/matbailie"}, "reply_to_user": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 1, "creation_date": 1538032920, "post_id": 52527703, "comment_id": 92002369, "body": "@cdlane : 0 returns 1.  1 returns -1/3+1.  2 returns 1/5-1/3+1.  3 returns -1/7+1/5-1/3+1.  I&#39;m not sure that it&#39;s wrong, it&#39;s just base 0 where you expected base 1.  That made it easier to get the alternating minus sign.  Still, there could be errors, I wrote it on my phone at 2am, but I don&#39;t Think they&#39;re the errors you describe."}, {"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1538066621, "post_id": 52527703, "comment_id": 92023123, "body": "You&#39;re right, I was too focused on matching the output of Oliver&#39;s solution and didn&#39;t look at the math itself.  Our solutions are simply out of phase with respect to the argument.  Interesting binary implementation."}], "tags": [], "owner": {"reputation": 69229, "user_id": 53341, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/98geJ.png?s=128&g=1", "display_name": "MatBailie", "link": "https://stackoverflow.com/users/53341/matbailie"}, "is_accepted": false, "score": 2, "last_activity_date": 1538042495, "last_edit_date": 1538042495, "creation_date": 1538007812, "answer_id": 52527703, "question_id": 52527544, "link": "https://stackoverflow.com/questions/52527544/approximate-this-equation-using-recursion-4-1-1-3-1-5-1-7/52527703#52527703", "title": "Approximate this equation using recursion 4 * (1 - (1 /3 ) + (1 / 5) - (1 / 7) + (1 / 9) - (1 / 11) ... )", "body": "<pre><code>def calculateFraction(num):\n  if (num &gt; 0):\n    return (-1)**(num) * 1/(num*2+1) + calculateFraction(num-1)\n  else:\n    return 1\n\nprint(4 * calculateFraction(10))\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Olivier's answer is extremely good, I wish I could upvote it several times.</p>\n\n<p>In light of that I thought the OP may benefit from seeing a binary implementation of the above approach.  That is to say, whenever recursing, send half the problem to one branch and the other half to another branch.  <em>(This means that, for example, asking for num=15 will result in a depth of 4 rather than a depth of 16.)</em></p>\n\n<p></p>\n\n<pre><code>import inspect\n\ndef calculateFraction(num, end=0):\n    result = 0\n    depth = 'Depth({:d}){:s}&gt;'.format(len(inspect.stack())-1, '='*(len(inspect.stack())-1)*2)\n\n    # If there are an odd number of parts to calculate, do the highest one now\n    if (((num-end+1)&amp;1) == 1):\n        result += ((-1)**(num)) / (num*2+1)\n        print('{:s} Fraction part {:d} = {:f}'.format(depth, num, result))\n        num-=1\n\n    # If there are still any parts to calculate, do them recursively\n    # (There must be an even number, as we did the odd one previously)\n    # (That may leave 0 still to do, in which case the recursion is skipped)\n    if (num &gt; end):\n        mid = ((num-end)&gt;&gt;1) + end\n\n        # Do the upper half of the remaining parts\n        print('{:s} Recursing to {:d},{:d}'.format(depth, num, mid+1))\n        result += calculateFraction(num, mid+1)\n\n        # Do the lower half of the remaining parts\n        print('{:s} Recursing to {:d},{:d}'.format(depth, mid, end))\n        result += calculateFraction(mid, end)\n\n    return result\n\nprint('Result: {:f}'.format(4*calculateFraction(10)))\n</code></pre>\n\n<p></p>\n"}, {"comments": [{"owner": {"reputation": 69229, "user_id": 53341, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/98geJ.png?s=128&g=1", "display_name": "MatBailie", "link": "https://stackoverflow.com/users/53341/matbailie"}, "edited": false, "score": 0, "creation_date": 1538044153, "post_id": 52529326, "comment_id": 92008877, "body": "Just a note to re-iterate my comment on my answer.  Passing 9 to my function gives the exact same result as passing 10 to your function."}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1538066833, "last_edit_date": 1538066833, "creation_date": 1538021383, "answer_id": 52529326, "question_id": 52527544, "link": "https://stackoverflow.com/questions/52527544/approximate-this-equation-using-recursion-4-1-1-3-1-5-1-7/52529326#52529326", "title": "Approximate this equation using recursion 4 * (1 - (1 /3 ) + (1 / 5) - (1 / 7) + (1 / 9) - (1 / 11) ... )", "body": "<blockquote>\n  <p>I'm asking how would I solve this using recursion.</p>\n</blockquote>\n\n<p>I don't disagree with @OlivierMelan\u00e7on about this being a poor example for recursion. I'm providing just one possible implementation of the dreaded recursive solution:</p>\n\n<pre><code>def calculateFrac(num):\n    if num &lt; 1:\n        return 0.0\n\n    return calculateFrac(num - 1) + (2 * (num % 2) - 1) / (2 * num - 1)\n\nprint(calculateFrac(10))  # 0.7604599047323508 (put in the 4 *)\n</code></pre>\n\n<p>On my system the largest argument this can handle is 997 without explicitly expanding the call stack via <code>sys.setrecursionlimit()</code>.  Using memoization techniques won't help.  We can probably make a tail-recursive solution by doing something like:</p>\n\n<pre><code>def calculateFrac(num, sum=0.0):\n    if num &lt; 1:\n        return sum\n\n    return calculateFrac(num - 1, sum + (2 * (num % 2) - 1) / (2 * num - 1))\n\nprint(calculateFrac(10))  # 0.7604599047323506 (put in the 4 *)\n</code></pre>\n\n<p>Not that Python cares about such things. But if it did do tail-call optimization, then such as solution could be as fast as the iterative solutions and not have any stack limitations.</p>\n"}], "owner": {"reputation": 207, "user_id": 10106756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kuqhW.png?s=128&g=1", "display_name": "FanonX", "link": "https://stackoverflow.com/users/10106756/fanonx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1545768906, "creation_date": 1538006243, "last_edit_date": 1538009960, "question_id": 52527544, "link": "https://stackoverflow.com/questions/52527544/approximate-this-equation-using-recursion-4-1-1-3-1-5-1-7", "title": "Approximate this equation using recursion 4 * (1 - (1 /3 ) + (1 / 5) - (1 / 7) + (1 / 9) - (1 / 11) ... )", "body": "<p>How would I approximate the following equation using recursion? Here is an iterative approach:</p>\n\n<pre><code>def calculateFrac(num):\n    result = 0\n    for i in range(num):\n        if i % 2 == 0:\n            result = result + 1 / (2 * i + 1)\n        else:\n            result = result - 1 / (2 * i + 1)\n        print(4 * result)\n\nprint(calculateFrac(10))\n</code></pre>\n"}, {"tags": ["python", "asynchronous", "python-asyncio"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10113442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0XQuHCtq01U/AAAAAAAAAAI/AAAAAAAAD-Q/8b9TaXVSodY/photo.jpg?sz=128", "display_name": "austin samuel", "link": "https://stackoverflow.com/users/10113442/austin-samuel"}, "edited": false, "score": 1, "creation_date": 1538014290, "post_id": 52528081, "comment_id": 91996335, "body": "Wow, thank you for the extremely informative answer! I appreciate the walkthrough you did more than you know, thanks again, man! Works like a charm."}], "tags": [], "owner": {"reputation": 657, "user_id": 4410652, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000354098475/picture?type=large", "display_name": "Alex Weavers", "link": "https://stackoverflow.com/users/4410652/alex-weavers"}, "is_accepted": true, "score": 4, "last_activity_date": 1538011911, "last_edit_date": 1538011911, "creation_date": 1538011135, "answer_id": 52528081, "question_id": 52527539, "link": "https://stackoverflow.com/questions/52527539/how-to-execute-list-of-functions-and-also-pass-data-to-appropriate-functions-bei/52528081#52528081", "title": "How to execute list of functions and also pass data to appropriate functions being called with asyncio", "body": "<p>Python is designed to make this fairly easy with the unpack operator * or using lambda. There are several good answers in this thread that have what you need: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/803616/passing-functions-with-arguments-to-another-function-in-python\">Passing functions with arguments to another function in Python?</a></p>\n\n<p>Let's walk through it.</p>\n\n<pre><code>callstack = [] # initialize a list to serve as our stack.\n     # See also collections.deque for a queue.\n</code></pre>\n\n<p>Then we can define our function:</p>\n\n<pre><code>def somefunc(a, b, c): \n    do stuff...\n</code></pre>\n\n<p>Then add a call to the stack with the arguments as a list.</p>\n\n<pre><code>args = [a, b, c]\ncallstack.append((somefunc, args)) # append a tuple with the function\n            # and its arguments list.\n\n# calls the next item in the callstack\ndef call_next(callstack):\n    func, args = callstack.pop() # unpack our tuple\n    func(*args) # calls the func with the args unpacked\n</code></pre>\n\n<p>The * operator unpacks your list and provides them as arguments in order. You can also unpack keyword arguments with the double-star operator (**).</p>\n\n<pre><code>def call_next(callstack):\n    func, args, kwargs = callstack.pop() # unpack our tuple\n    func(*args, **kwargs) # calls the func with both args and kwargs unpacked.\n</code></pre>\n\n<p>An alternate way is to just make a lambda.</p>\n\n<pre><code>def add(a, b):\n    return a + b\n\ncallstack = []\n\ncallstack.append(lambda: add(1, 2))\ncallstack.pop()() # pops the lambda function, then calls the lambda function, \n                  # which just calls the function as you specified it.\n</code></pre>\n\n<p>Voila! All credit to the authors in the other thread. There's a gotcha here: If you're passing an object as an argument, it will passed as a reference. Be careful because you can modify the object before it gets called in your stack.</p>\n\n<pre><code>def add(a, b, c):\n    return a + b + c\n\nbadlist = [1,2,3]\ncallstack.append((somefunc, badlist))\nbadlist = [2, 4, 6]\ncallstack.append((somefunc, badlist))\n\nwhile len(callstack) &gt; 0:\n    print(call_next(callstack))\n\n# Prints:\n12\n12\n</code></pre>\n\n<p>You can get around this in the *args version with:</p>\n\n<pre><code># make a shallow copy and pass that to the stack instead.\ncallstack.append((somefunc, list(badlist))) \n</code></pre>\n\n<p>In lambda functions, the entire thing is evaluated at call time so even things that normally wouldn't be a reference behave like references. The above trick won't work, so do any copying as needed before creating your lambda.</p>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 5705250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ea1bfe4b09afb5e3a155ced74156a76?s=128&d=identicon&r=PG&f=1", "display_name": "wallefan", "link": "https://stackoverflow.com/users/5705250/wallefan"}, "is_accepted": false, "score": 0, "last_activity_date": 1538166710, "creation_date": 1538166710, "answer_id": 52562294, "question_id": 52527539, "link": "https://stackoverflow.com/questions/52527539/how-to-execute-list-of-functions-and-also-pass-data-to-appropriate-functions-bei/52562294#52562294", "title": "How to execute list of functions and also pass data to appropriate functions being called with asyncio", "body": "<p>Alright so this is really cool, let me show you something:</p>\n\n<pre><code>loop = asyncio.get_event_loop()\napi = MyAPIToSomeCoolChatProgram()\n\ndef my_done_callback(fut):\n    exc = fut.exception()\n    if exc:\n        print(fut.my_custom_attribute, 'raised an exception!')\n        import traceback\n        traceback.print_exc(exc) # dumps a \"Traceback (most recent call last):\" message to stderr\n    print(fut.my_custom_attribute, 'completed, returned', repr(fut.result()))\n\nfut1 = asyncio.ensure_future(api.send_friend_request(my_best_friend))\nfut1.my_custom_attribute = 'fut1 (add a friend)'\nfut1.add_done_callback(my_done_callback)\n\nfut2 = asyncio.ensure_future(api.post_text_message('Hello everybody!'))\nfut2.my_custom_attribute = 'fut2 (send a message)'\nfut2.add_done_callback(my_done_callback)\n\nprint('Done creating the futures')\nloop.run_forever()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  Done creating the futures\n  fut1 (add a friend request) completed, returned '200 OK'\n  fut2 (send a message) completed, returned '200 OK'\n</code></pre>\n\n<p>Note that they may appear in any order.  You can call coroutines from non asynchronous code by wrapping the coroutine (the return value from the coroutine function) in a future (or more accurately a <code>Task</code> which is a subclass of <code>Future</code>).  This coroutine will now run in the background.  You can add a callback to the future which will be called when it finishes, passed one argument: the future object itself.  <a href=\"https://docs.python.org/3/library/asyncio-future.html\" rel=\"nofollow noreferrer\">Look up futures in the asyncio documentation</a> if you'd like to learn more about them (also check out <a href=\"https://docs.python.org/3/library/asyncio-task.html\" rel=\"nofollow noreferrer\">Coroutines and Tasks</a>).</p>\n\n<p>Anyway, those callbacks can do anything you want, including starting other tasks.</p>\n\n<pre><code>def when_done_logging_in(self, fut):\n    self.login_info = fut.result() # note: calling fut.result() if the login coroutine raised an exception will reraise the exception here.\n    next_fut = asyncio.ensure_future(self.send_friend_request(fut.friend_request_to_send))\n    # do something with next_fut here (or don't if you don't care about the result)\n\ndef login_and_send_friend_request(self, email, friend):\n    fut = asyncio.ensure_future(self.query_login(email))\n    fut.friend_request_to_send = friend\n    fut.add_done_callback(self.when_done_logging_in)\n</code></pre>\n\n<p>Of course you could also do that with:</p>\n\n<pre><code> async def login_and_send_friend_request(self, email, friend):\n    self.login_info = await self.query_login(email)\n    await self.send_friend_request(friend)\n</code></pre>\n\n<p>which would be better  because any exceptions are actually handled properly instead of simply being ignored.  You could also do this, if you know the email in advance (which you may not):</p>\n\n<pre><code>def __init__(self, whatever_args_you_might_have_here, email):\n    ...\n    self.login_info = None\n    self.email = email\n\nasync def send_friend_request(self, uid):\n    if self.login_info is None:\n        await self.query_login(self.email) # if you end up doing this you should probably make this not take a parameter and just use self.email instead\n    do_send_friend_request_stuff()\n</code></pre>\n\n<p>Of course you might not know the email until after the object is created, in which case you could either initialize it to None until some login function is called, or use one of the first two ways.</p>\n\n<p>If you wanted to execute a list of functions in sequence, you could do the following:</p>\n\n<pre><code>    def execute_coros_in_sequence(list_of_coros):\n        fut=asyncio.ensure_future(list_of_coros[0])\n        if len(list_of_coros) &gt; 1:\n            # there is probably a better way to do this\n            fut.remaining_coros=list_of_coros[1:]\n            fut.add_done_callback(lambda fut: execute_coros_in_sequence(fut.remaining_coros))\n</code></pre>\n\n<p>but probably a better way to do it would be just to make an async def function call them all, because that way you get exception handling etc. without a lot of overcomplication.  A better way to do it, if you wanted it as a future (which you can also store as an attribute of an object and query to see if it's done yet), would be this:</p>\n\n<pre><code>class API:\n     async def login(self):\n         pass\n     async def logout(self):\n         pass\n     async def do_fun_stuff(self):\n         pass\n\n\nasync def test_api(api):\n    api.login()\n    api.do_fun_stuff()\n    api.logout()\n\nfut=asyncio.create_task(test_part_of_api(API()))\n</code></pre>\n\n<p>(By the way, <code>asyncio.ensure_future()</code> first checks to see if its argument is already a future, and if not, calls <code>asyncio.create_task()</code>.)</p>\n\n<p>but the future api is really cool and I wanted to show it to you.  There are uses for it, and I can pretty much guarantee you're going to need both of these approaches in order to do anything complex.</p>\n\n<p>Sorry for the wall of text disorganized answer.  I'm a bit new here.  I just think asyncio is really cool.</p>\n"}], "owner": {"reputation": 13, "user_id": 10113442, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0XQuHCtq01U/AAAAAAAAAAI/AAAAAAAAD-Q/8b9TaXVSodY/photo.jpg?sz=128", "display_name": "austin samuel", "link": "https://stackoverflow.com/users/10113442/austin-samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1324, "favorite_count": 1, "accepted_answer_id": 52528081, "answer_count": 2, "score": 1, "last_activity_date": 1538166710, "creation_date": 1538006195, "last_edit_date": 1538056453, "question_id": 52527539, "link": "https://stackoverflow.com/questions/52527539/how-to-execute-list-of-functions-and-also-pass-data-to-appropriate-functions-bei", "title": "How to execute list of functions and also pass data to appropriate functions being called with asyncio", "body": "<p>I previously was using requests, but I have since moved onto aiohttp + asyncio to run accounts in parallel, however I am having trouble putting the logic together in my head.</p>\n\n<pre><code>class Faked(object):\n    def __init__(self):\n        self.database = sqlite3.connect('credentials.db')\n\n    async def query_login(self, email):\n        print(email)\n        cur = self.database.cursor()\n        sql_q = \"\"\"SELECT * from user WHERE email='{0}'\"\"\".format(email)\n        users = cur.execute(sql_q)\n        row = users.fetchone()\n        if row is None:\n            raise errors.ToineyError('No user was found with email: ' + email + ' in database!')\n\n        self.logger().debug(\"Logging into account '{0}'!\".format(row[0]))\n        call_func = await self._api.login(data={'email': row[0],\n                                                'password': row[1],\n                                                'deviceId': row[2],\n                                                'aaid': row[3]})\n        return await call_func\n\n    async def send_friend_request(self, uid):\n        return await self._api.send_friend_request(uid)\n\n\ndef main(funcs, data=None):\n    \"\"\"\n   todo: fill\n  :rtype: object\n  \"\"\"\n    tasks = []\n    if isinstance(funcs, list):\n        for func in funcs:\n            tasks.append(func)\n    else:\n        tasks.append(funcs)\n    print(tasks)\n    loop = asyncio.get_event_loop()\n    results = loop.run_until_complete(asyncio.gather(*tasks))\n    for result in results:\n        print(result)\n    return results\n\n\nif __name__ == '__main__':  # for testing purposes mostly\n    emails = ['email@hotmail.com', 'email@outlook.com', 'email@gmail.com']\n</code></pre>\n\n<p>I essentially just want to know how to queue multiple functions, in this instance query_login and send_friend_request, whilst also passing the correct data to said functions, assuming I'd be running three accounts on say a social media app simultaneously, it really boggles my mind, though I have a tendency of overcomplicating things, any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "while-loop"], "comments": [{"owner": {"reputation": 707, "user_id": 8673320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IXaTouByYlA/AAAAAAAAAAI/AAAAAAAAFz0/M4v8pi51Xbs/photo.jpg?sz=128", "display_name": "Aviv Shai", "link": "https://stackoverflow.com/users/8673320/aviv-shai"}, "edited": false, "score": 3, "creation_date": 1538006172, "post_id": 52527528, "comment_id": 91994596, "body": "Your boolean operator in the <code>while</code> clause should be <code>and</code> and not <code>or</code>."}, {"owner": {"reputation": 5, "user_id": 9731397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd061c8d8a6fe9a36226f38bc77d271?s=128&d=identicon&r=PG&f=1", "display_name": "Eric K.", "link": "https://stackoverflow.com/users/9731397/eric-k"}, "reply_to_user": {"reputation": 707, "user_id": 8673320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IXaTouByYlA/AAAAAAAAAAI/AAAAAAAAFz0/M4v8pi51Xbs/photo.jpg?sz=128", "display_name": "Aviv Shai", "link": "https://stackoverflow.com/users/8673320/aviv-shai"}, "edited": false, "score": 0, "creation_date": 1538006493, "post_id": 52527528, "comment_id": 91994651, "body": "Aha! Shouldn&#39;t I need <code>or</code> to return True for either situations?"}, {"owner": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 1, "creation_date": 1538006627, "post_id": 52527528, "comment_id": 91994692, "body": "If <code>isPet_list_elem = &quot;n&quot;</code> then <code>isPet_list_elem != &quot;y&quot;</code> is true, so the total expression is true. If <code>isPet_list_elem = &quot;y&quot;</code> then <code>isPet_list_elem != &quot;n&quot;</code> is true, so your total expression is true. So in any case your expression is true."}], "answers": [{"comments": [{"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 6910, "user_id": 567595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49e39b67d2ef2f9fc041495ae46fe6d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/567595/stuart"}, "edited": false, "score": 0, "creation_date": 1538006582, "post_id": 52527554, "comment_id": 91994678, "body": "correct I just thought about that and came back here"}], "tags": [], "owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "is_accepted": true, "score": 1, "last_activity_date": 1538006635, "last_edit_date": 1538006635, "creation_date": 1538006351, "answer_id": 52527554, "question_id": 52527528, "link": "https://stackoverflow.com/questions/52527528/exiting-a-while-loop-in-python/52527554#52527554", "title": "Exiting a while loop in Python", "body": "<p>You can just do this and this will break the loop for <code>y</code> or <code>n</code></p>\n\n<pre><code>while isPet_list_elem not in ('y','n'):\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1101, "user_id": 3958521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GorZx.jpg?s=128&g=1", "display_name": "bigwillydos", "link": "https://stackoverflow.com/users/3958521/bigwillydos"}, "edited": false, "score": 0, "creation_date": 1538006741, "post_id": 52527570, "comment_id": 91994717, "body": "Yeah, ok. De Morgan&#39;s Law but the question had nothing to do with De Morgan&#39;s law. He was using the wrong logic in the condition for his <code>while</code> loop."}, {"owner": {"reputation": 707, "user_id": 8673320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IXaTouByYlA/AAAAAAAAAAI/AAAAAAAAFz0/M4v8pi51Xbs/photo.jpg?sz=128", "display_name": "Aviv Shai", "link": "https://stackoverflow.com/users/8673320/aviv-shai"}, "edited": false, "score": 0, "creation_date": 1538006773, "post_id": 52527570, "comment_id": 91994726, "body": "The question had everything to do with De Morgan&#39;s Law. That&#39;s why the original code didn&#39;t work."}], "tags": [], "owner": {"reputation": 703, "user_id": 1538065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9b582973f08978966f4ec59ced39302?s=128&d=identicon&r=PG", "display_name": "XlbrlX", "link": "https://stackoverflow.com/users/1538065/xlbrlx"}, "is_accepted": false, "score": 2, "last_activity_date": 1538006483, "creation_date": 1538006483, "answer_id": 52527570, "question_id": 52527528, "link": "https://stackoverflow.com/questions/52527528/exiting-a-while-loop-in-python/52527570#52527570", "title": "Exiting a while loop in Python", "body": "<p>It's Demorgan's law.</p>\n\n<p>You can say: </p>\n\n<pre><code>while isPet_list_elem != \"y\" and isPet_list_elem != \"n\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while not (isPet_list_elem == \"y\" or isPet_list_elem == \"n\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1101, "user_id": 3958521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GorZx.jpg?s=128&g=1", "display_name": "bigwillydos", "link": "https://stackoverflow.com/users/3958521/bigwillydos"}, "is_accepted": false, "score": 0, "last_activity_date": 1538006596, "creation_date": 1538006596, "answer_id": 52527578, "question_id": 52527528, "link": "https://stackoverflow.com/questions/52527528/exiting-a-while-loop-in-python/52527578#52527578", "title": "Exiting a while loop in Python", "body": "<p>You are using the wrong logic. When you enter <code>y</code> or <code>n</code> with your code, the condition at the beginning of the loop comes out as <code>True</code> so it continues to execute. Change it to an <code>and</code> statement and once <code>y</code> or <code>n</code> is entered, the condition will be <code>False</code>.</p>\n\n<pre><code>isPet_list_elem = input(\"Pet?: \").lower()\n\n# check if the input is either y or n\nwhile isPet_list_elem != \"y\" and isPet_list_elem != \"n\":\n    print(\"Please enter either 'y' or 'n'.\")\n    isPet_list_elem = input(\"Pet?: \").lower()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42, "user_id": 4393276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UgJs.jpg?s=128&g=1", "display_name": "luckyqiao", "link": "https://stackoverflow.com/users/4393276/luckyqiao"}, "is_accepted": false, "score": 0, "last_activity_date": 1538007018, "creation_date": 1538007018, "answer_id": 52527622, "question_id": 52527528, "link": "https://stackoverflow.com/questions/52527528/exiting-a-while-loop-in-python/52527622#52527622", "title": "Exiting a while loop in Python", "body": "<p>If you enter \"y\", then <code>isPet_list_elem != \"n\"</code> is true; if you enter \"n\", then <code>isPet_list_elem != \"y\"</code> is true. And you use <code>or</code> in your code, so, if one expressin is true, the whole statement will be true.</p>\n\n<p>you can use the following code instead:</p>\n\n<pre><code>while isPet_list_elem != \"y\" and isPet_list_elem != \"n\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10343809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P9esB.jpg?s=128&g=1", "display_name": "Wei", "link": "https://stackoverflow.com/users/10343809/wei"}, "is_accepted": false, "score": 0, "last_activity_date": 1538013285, "creation_date": 1538013285, "answer_id": 52528317, "question_id": 52527528, "link": "https://stackoverflow.com/questions/52527528/exiting-a-while-loop-in-python/52528317#52528317", "title": "Exiting a while loop in Python", "body": "<p>Include the following inside while loop:</p>\n\n<pre><code>    if isPet_list_elem == \"y\" or isPet_list_elem == \"n\":\n            break\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 9731397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd061c8d8a6fe9a36226f38bc77d271?s=128&d=identicon&r=PG&f=1", "display_name": "Eric K.", "link": "https://stackoverflow.com/users/9731397/eric-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 52527554, "answer_count": 5, "score": 0, "last_activity_date": 1538013285, "creation_date": 1538006092, "question_id": 52527528, "link": "https://stackoverflow.com/questions/52527528/exiting-a-while-loop-in-python", "title": "Exiting a while loop in Python", "body": "<p>Here's the code I have question with:</p>\n\n<pre><code>isPet_list_elem = input(\"Pet?: \").lower()\n\n# check if the input is either y or n\nwhile isPet_list_elem != \"y\" or isPet_list_elem != \"n\":\n    print(\"Please enter either 'y' or 'n'.\")\n    isPet_list_elem = input(\"Pet?: \").lower()\n</code></pre>\n\n<p>I keep thinking that the loop would end when I enter either \"y\" or \"n\", but the loop continues to ask me for another input even after entering either y or n. </p>\n\n<p>I've tried using other while loop to do the same, but the result was the same. What should I do to avoid this error?</p>\n"}, {"tags": ["python", "google-bigquery", "google-cloud-dataflow"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 0, "creation_date": 1538018945, "post_id": 52527604, "comment_id": 91997305, "body": "It&#39;s already enabled, I was able to fix the initial error but now I&#39;m getting a different one"}, {"owner": {"reputation": 2917, "user_id": 187519, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/nzv7O.jpg?s=128&g=1", "display_name": "Hassan Voyeau", "link": "https://stackoverflow.com/users/187519/hassan-voyeau"}, "reply_to_user": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 1, "creation_date": 1538019300, "post_id": 52527604, "comment_id": 91997382, "body": "@PedroDaumas Compare the version of bigquery locally with where deployed."}, {"owner": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 0, "creation_date": 1538050679, "post_id": 52527604, "comment_id": 92012990, "body": "both are using the same version of packages"}, {"owner": {"reputation": 2917, "user_id": 187519, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/nzv7O.jpg?s=128&g=1", "display_name": "Hassan Voyeau", "link": "https://stackoverflow.com/users/187519/hassan-voyeau"}, "reply_to_user": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 0, "creation_date": 1538051783, "post_id": 52527604, "comment_id": 92013637, "body": "@PedroDaumas Is Python/BigQuery supported on dataflow?"}, {"owner": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 0, "creation_date": 1538062145, "post_id": 52527604, "comment_id": 92020703, "body": "As far as I know it is supported, but I can&#39;t find a document to confirm this."}, {"owner": {"reputation": 2917, "user_id": 187519, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/nzv7O.jpg?s=128&g=1", "display_name": "Hassan Voyeau", "link": "https://stackoverflow.com/users/187519/hassan-voyeau"}, "reply_to_user": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 0, "creation_date": 1538065119, "post_id": 52527604, "comment_id": 92022347, "body": "@PedroDaumas Shouldn&#39;t you be using client = bigquery.Client(project=&#39;PROJECT_ID&#39;)?  From here <a href=\"https://googlecloudplatform.github.io/google-cloud-python/latest/bigquery/index.html\" rel=\"nofollow noreferrer\">googlecloudplatform.github.io/google-cloud-python/latest/&hellip;</a>"}, {"owner": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 0, "creation_date": 1538070527, "post_id": 52527604, "comment_id": 92024930, "body": "I tried adding this but it keeps giving me the same error"}, {"owner": {"reputation": 2917, "user_id": 187519, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/nzv7O.jpg?s=128&g=1", "display_name": "Hassan Voyeau", "link": "https://stackoverflow.com/users/187519/hassan-voyeau"}, "reply_to_user": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 0, "creation_date": 1538070609, "post_id": 52527604, "comment_id": 92024969, "body": "@PedroDaumas You replaced PROJECT_ID with your project id?"}, {"owner": {"reputation": 2917, "user_id": 187519, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/nzv7O.jpg?s=128&g=1", "display_name": "Hassan Voyeau", "link": "https://stackoverflow.com/users/187519/hassan-voyeau"}, "reply_to_user": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 1, "creation_date": 1538072598, "post_id": 52527604, "comment_id": 92025835, "body": "@PedroDaumas Does client.run_async_query or run_sync_query work?"}, {"owner": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 0, "creation_date": 1538081632, "post_id": 52527604, "comment_id": 92029839, "body": "run_sync_query() Worked! Thank you very much"}, {"owner": {"reputation": 2917, "user_id": 187519, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/nzv7O.jpg?s=128&g=1", "display_name": "Hassan Voyeau", "link": "https://stackoverflow.com/users/187519/hassan-voyeau"}, "reply_to_user": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "edited": false, "score": 0, "creation_date": 1538082053, "post_id": 52527604, "comment_id": 92030010, "body": "@PedroDaumas Right. So most likely that means the deployed location is using an older library version because I read that query replaced run_sync_query in v0.28 and older. Read here <a href=\"https://cloud.google.com/bigquery/docs/python-client-migration\" rel=\"nofollow noreferrer\">cloud.google.com/bigquery/docs/python-client-migration</a>"}], "tags": [], "owner": {"reputation": 2917, "user_id": 187519, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/nzv7O.jpg?s=128&g=1", "display_name": "Hassan Voyeau", "link": "https://stackoverflow.com/users/187519/hassan-voyeau"}, "is_accepted": true, "score": 0, "last_activity_date": 1538082138, "last_edit_date": 1538082138, "creation_date": 1538006894, "answer_id": 52527604, "question_id": 52527518, "link": "https://stackoverflow.com/questions/52527518/global-name-bigquery-is-not-defined/52527604#52527604", "title": "global name &#39;bigquery&#39; is not defined", "body": "<p>I am guessing you need to enable BigQuery</p>\n\n<p>Resources / Advanced Google Services / Enable BigQuery</p>\n\n<p>Edit : check the comments to see troubleshooting, findings, and what worked.</p>\n"}], "owner": {"reputation": 145, "user_id": 6652048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b6ee9f765c6abdfe37327e73fc1caa?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Daumas", "link": "https://stackoverflow.com/users/6652048/pedro-daumas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1454, "favorite_count": 0, "accepted_answer_id": 52527604, "answer_count": 1, "score": 2, "last_activity_date": 1538082138, "creation_date": 1538006011, "last_edit_date": 1538018899, "question_id": 52527518, "link": "https://stackoverflow.com/questions/52527518/global-name-bigquery-is-not-defined", "title": "global name &#39;bigquery&#39; is not defined", "body": "<p>I created a google dataflow job but I keep getting global name 'bigquery' not defined even though I already imported the variable needed.</p>\n\n<p>This is my import list:</p>\n\n<pre><code>from __future__ import absolute_import\n\nimport argparse\nimport logging\nimport ast\nimport json\n\nimport apache_beam as beam\nfrom apache_beam.io import ReadFromText, WriteToText \nfrom apache_beam.options.pipeline_options import PipelineOptions\nfrom apache_beam.options.pipeline_options import SetupOptions\nfrom apache_beam.options.pipeline_options import StandardOptions\nfrom google.cloud import bigquery\n</code></pre>\n\n<p>And this is the class returning the error:</p>\n\n<pre><code>class CheckExistance(beam.DoFn):\n\n    def __init__(self, table):\n        self.table = table.replace(\":\", \".\")\n\n    def process(self, element):\n\n        client = bigquery.Client()\n        date = element['date'].split(\" \")[0]\n\n        query_job = client.query(\"\"\"\n        QUERY \"\"\" % (self.table, date))\n\n        yield element\n</code></pre>\n\n<p>Do you guys know what could be causing this error?\nBtw, I only get this error when deploying it to google's dataflow jobs, it runs fine locally.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I was able to fix my initial problem by changing the position of my import to be inside the function that needs the bigquery variable, like this:</p>\n\n<pre><code>class CheckExistance(beam.DoFn):\n\n    def __init__(self, table):\n        self.table = table.replace(\":\", \".\")\n\n    def process(self, element):\n        from google.cloud import bigquery\n        client = bigquery.Client()\n        date = element['date'].split(\" \")[0]\n\n        query_job = client.query(\"\"\"\n        QUERY\"\"\" % (self.table, date))\n\n        yield element\n</code></pre>\n\n<p>But now I'm getting a error saying that 'client' has no attribute query, even though my packages on the dataflow job are up to date and it runs without any problems locally.</p>\n\n<p>Error Message: </p>\n\n<blockquote>\n  <p>AttributeError: 'Client' object has no attribute 'query'</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x", "discord", "discord.py"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1538005749, "post_id": 52527482, "comment_id": 91994526, "body": "What&#39;s the error?"}, {"owner": {"reputation": 75, "user_id": 10282238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47a0d3e02a7dad499a1b75acbc258af?s=128&d=identicon&r=PG", "display_name": "Shan Jameson", "link": "https://stackoverflow.com/users/10282238/shan-jameson"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1538006202, "post_id": 52527482, "comment_id": 91994602, "body": "<code>TypeError: on_message_delete() missing 1 required positional argument: &#39;member&#39;</code>  that is the message I get if I add <code>member: discord.Member</code> to the coroutine signature."}], "answers": [{"tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": false, "score": 0, "last_activity_date": 1538007705, "creation_date": 1538007705, "answer_id": 52527696, "question_id": 52527482, "link": "https://stackoverflow.com/questions/52527482/positional-error-when-trying-to-specify-member/52527696#52527696", "title": "Positional error when trying to specify member", "body": "<p>I'm pretty sure that the client isn't informed about who deleted the message, just the fact that it was deleted.  The <code>message</code> object itself doesn't hold that information, and the <a href=\"https://discordpy.readthedocs.io/en/rewrite/api.html#discord.RawMessageDeleteEvent\" rel=\"nofollow noreferrer\"><code>RawMessageDeleteEvent</code></a> from the rewrite branch doesn't have it either.</p>\n\n<p>I'm not super familiar with the underlying Discord API, but the <a href=\"https://discordapp.com/developers/docs/topics/gateway#message-delete\" rel=\"nofollow noreferrer\"><code>Message Delete</code></a> gateway event looks to be what <code>discord.py</code> receives when a message is deleted, and it doesn't mention anything about the identity of the deleter. </p>\n"}, {"comments": [{"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1538032698, "post_id": 52531478, "comment_id": 92002263, "body": "I might\u2019ve made a typo or two in the code sample since I\u2019m on mobile (can\u2019t verify). It\u2019ll be great if someone can point out anything wrong with the code or if it works. Thanks!"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1538054676, "post_id": 52531478, "comment_id": 92015486, "body": "<a href=\"https://discordpy.readthedocs.io/en/rewrite/api.html#discord.AuditLogAction.message_delete\" rel=\"nofollow noreferrer\">According to the docs</a>, <code>target</code> is the <code>User</code> or <code>Member</code> who had their message deleted, not the message itself."}, {"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1538059981, "post_id": 52531478, "comment_id": 92019234, "body": "@PatrickHaugh I mistakenly thought it was the Message, it would make a lot more sense that way. Don\u2019t know why they set target to a Member."}], "tags": [], "owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "is_accepted": false, "score": 1, "last_activity_date": 1538059831, "last_edit_date": 1538059831, "creation_date": 1538032531, "answer_id": 52531478, "question_id": 52527482, "link": "https://stackoverflow.com/questions/52527482/positional-error-when-trying-to-specify-member/52531478#52531478", "title": "Positional error when trying to specify member", "body": "<p>Viewing the person who deleted the message is not possible from the discord release that you\u2019re using, since the stable discord.py does not contain support for audit logs. <strong>You will need discord.py rewrite</strong> to use the following solution:</p>\n\n<pre><code>@bot.event()\nasync def on_message_delete(msg):\n    audits = await msg.guild.audit_logs(limit=10, action=discord.AuditLogAction.message_delete)\n    async for audit in audits:\n        try:\n            await audit.target.get_message(msg.id)\n        except discord.NotFound:\n            continue      \n        print(audit.user)\n        break\n</code></pre>\n\n<p>That\u2019s under the assumption that messages are kept even after being deleted. If the above does not work, I guess the best we can do is:</p>\n\n<pre><code>@bot.event()\nasync def on_message_delete(msg):\n    audits = await msg.guild.audit_logs(limit=10, action=discord.AuditLogAction.message_delete)\n    audit = await audits.get(extra__channel=msg.channel)\n    print(audit.user)\n</code></pre>\n\n<p>For further information, see:</p>\n\n<p><a href=\"https://discordapp.com/developers/docs/resources/audit-log\" rel=\"nofollow noreferrer\">https://discordapp.com/developers/docs/resources/audit-log</a></p>\n\n<p><a href=\"https://discordpy.readthedocs.io/en/rewrite/api.html#discord.AuditLogAction\" rel=\"nofollow noreferrer\">https://discordpy.readthedocs.io/en/rewrite/api.html#discord.AuditLogAction</a></p>\n"}], "owner": {"reputation": 75, "user_id": 10282238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f47a0d3e02a7dad499a1b75acbc258af?s=128&d=identicon&r=PG", "display_name": "Shan Jameson", "link": "https://stackoverflow.com/users/10282238/shan-jameson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1538059831, "creation_date": 1538005679, "question_id": 52527482, "link": "https://stackoverflow.com/questions/52527482/positional-error-when-trying-to-specify-member", "title": "Positional error when trying to specify member", "body": "<p>Hi I'm trying to get a member name rather than the author name </p>\n\n<p>I've tried a few methods like <code>for member is message.server.members:</code> which returned multiple results with every member in the server and tried  <code>member: discord.Member</code> as a signature which produced an error:</p>\n\n<p>Heres what I'm working with:</p>\n\n<pre><code>async def on_message_delete(self, message):\n    server = message.server\n    author = message.author\n    role =  get(server.roles, name=\"Powerbot\")\n    channel = get(message.server.channels, name=\"mod-log\")\n    time = datetime.utcnow()\n    cleanmsg = message.content\n    for i in message.mentions:\n        cleanmsg = cleanmsg.replace(i.mention, str(i))\n    fmt = '%H:%M:%S'\n    name = author\n    name = \" ~ \".join((name.name, name.nick)) if name.nick else name.name\n    if role not in author.roles:\n        infomessage = \"A message by {}, was deleted in {} by {}\".format(message.author.mention, message.channel.mention, member,mention)\n        delmessage = discord.Embed(description=infomessage, colour=discord.Color.purple(), timestamp=time)\n        delmessage.add_field(name=\"Message:\", value=cleanmsg)\n        delmessage.set_footer(text=\"User ID: {}\".format(message.author.id))\n        delmessage.set_author(name=name + \" message deleted.\", icon_url=message.author.avatar_url)\n        delmessage.set_thumbnail(url=\"http://i.imgur.com/fJpAFgN.png\")\n        try:\n            await self.bot.send_message(channel, embed=delmessage)\n        except:\n            pass\n</code></pre>\n\n<p>The line specifically where member.mention is. </p>\n\n<p><code>infomessage = \"A message by {}, was deleted in {} by {}\".format(message.author.mention, message.channel.mention, member.mention)</code></p>\n\n<p>Example output: A message by author was deleted in channel by member. </p>\n\n<p>If anyone could help that would be appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1237, "user_id": 487056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bfa08c2babb65d02b4dcee24dd73b3?s=128&d=identicon&r=PG", "display_name": "rnorris", "link": "https://stackoverflow.com/users/487056/rnorris"}, "edited": false, "score": 0, "creation_date": 1538007898, "post_id": 52527478, "comment_id": 91995025, "body": "Can you give an example of what <code>users.txt</code> would look like?  Is it a text file with <code>username password username password. . .</code> all on a single line? Looking at the way you&#39;ve structured your code, this seems to be the case.  You may not have run into it yet, but one issue I can point out right away is that once both users are logged in, your program will print out the &#39;Welcome Back&#39; message over and over, and you will need to kill it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2669997"}, "reply_to_user": {"reputation": 1237, "user_id": 487056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bfa08c2babb65d02b4dcee24dd73b3?s=128&d=identicon&r=PG", "display_name": "rnorris", "link": "https://stackoverflow.com/users/487056/rnorris"}, "edited": false, "score": 0, "creation_date": 1538008786, "post_id": 52527478, "comment_id": 91995223, "body": "text file is username password each user is on a seperate line with only a space between the username and password. I understand what you mean by the welcome back part. I have more code for this I just cut it down for this post"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2669997"}, "is_accepted": false, "score": 1, "last_activity_date": 1538010539, "last_edit_date": 1538010539, "creation_date": 1538010200, "answer_id": 52527966, "question_id": 52527478, "link": "https://stackoverflow.com/questions/52527478/python-cant-get-loggin-password-script-to-work/52527966#52527966", "title": "python cant get loggin password script to work", "body": "<p>I managed to get it working using the following script. I have added an if statment to check the password. Thi is the full code</p>\n\n<pre><code>user1Status = 0\nuser2Status = 0\n\ndef logging():\n    status = 0\n    attempt = 0\n    filex = open('users.txt', 'r')\n    x = filex.read()  # This will store the contents of the file as a string\n    filex.close()\n    login_info = x.split()\n    numberUsers = (len(login_info))\n    username = input(\"enter username\")\n    count = 0\n    for x in range(0, numberUsers):\n        if username != login_info[x]:\n            count = count + 1\n    if numberUsers == count:\n        print('Username not recognised')\n        return 0, 0\n    while (attempt!=3):\n        password = input(\"enter password\")\n        for x in range(0, numberUsers):\n            if username == login_info[x] and password == login_info[x + 1]:\n                status = 1\n        if status == 1:\n            return username, status\n        else:\n            print(\"Password incorrect\")\n            attempt = attempt+1\n        if (attempt == 3):\n            print('you have used max attempts to enter password')\n            return 0, 0\n\ndef register():\n    username = input('Enter a user name: ')\n    password = input('Enter a password: ')\n    fw = open('users.txt', 'a')\n    fw.write('\\n')\n    fw.write(username)\n    fw.write(' ')\n    fw.write(password)\n    fw.close()\n    return(username, 0)\n\ndef start():\n    q1 = input(\"Do you have an account?\")\n    if q1.lower() == \"yes\":\n        x, y = logging()\n        return (x, y)\n    if q1.lower() == \"no\":\n        x, y = register()\n        return (x, y)\n    else:\n        print (\"please enter yes or no\")\n        return (0,0)\n\nwhile 1:\n    if user1Status == 0:\n        print ('User1 please logging')\n        username1, user1Status = start()\n    if user1Status == 1 and user2Status == 0:\n        print('User2 please logging')\n        username2, user2Status = start()\n    if (user1Status == 1) and (user2Status == 1):\n        print(\"Welcome back %s and %s\" % (username1, username2))\n        print(\"\")\n        print(\"1: role dice\")\n        print(\"2: user1 Logout\")\n        print(\"3: user2 Logout\")\n        q2 = input(\"Select from one of the options above: \")\n        if q2 == '2':\n            print(\"User 1 has logged out\")\n            user1Status = 0\n        if q2 == '3':\n            print(\"User2 has logged out\")\n            user2Status = 0\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2669997"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538010539, "creation_date": 1538005655, "question_id": 52527478, "link": "https://stackoverflow.com/questions/52527478/python-cant-get-loggin-password-script-to-work", "title": "python cant get loggin password script to work", "body": "<p>I am learing to build a python script to check username and password from a text file and if correct logging the user. There will be two users and the file will have multiple users it.\nI have got the script to work but I am having some problems with the password check. I wanted the function to loop back around it the password was input incorrectly. \nIf I do this within the function to gets stuck in the same loop, I can only get it to work by comming out of the function and call it again</p>\n\n<p>Below is the script that works. This will return 0,0 if the password is incorect and so the function is recalled.</p>\n\n<pre><code>user1Status = 0\nuser2Status = 0\n\ndef logging():\n    filex = open('users.txt', 'r')\n    x = filex.read()  # This will store the contents of the file as a string\n    filex.close()\n    login_info = x.split()\n    numberUsers = (len(login_info))\n    username = input(\"enter username\")\n    count = 0\n    for x in range(0, numberUsers):\n        if username != login_info[x]:\n            count = count + 1\n    if numberUsers == count:\n        print('Username not recognised')\n        return 0, 0\n    password = input(\"enter password\")\n    for x in range(0, numberUsers):\n        if username == login_info[x] and password == login_info[x + 1]:\n            status = 1\n            return username, status\n        else:\n            print('Your password is incorrect')\n            #logging()\n            return 0, 0\n\nwhile 1:\n    if user1Status == 0:\n        print ('User1 please logging')\n        username1, user1Status = logging()\n    if user1Status == 1 and user2Status == 0:\n        print('User2 please logging')\n        username2, user2Status = logging()\n    if (user1Status == 1) and (user2Status == 1):\n        print(\"Welcome back %s and %s\" % (username1, username2))#\n</code></pre>\n\n<p>If I comment out the return 0,0 and uncomment logging() at the end of the logging function it will keep looping around this function if an incorrect password is entered then a correct password. Is this something that cannot be down this way.</p>\n\n<p>The reason I am trying to do it this was. I did not want to ask the user if they had an account again if the password was input incorrect. </p>\n"}, {"tags": ["python", "flask-sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "is_accepted": true, "score": 0, "last_activity_date": 1538006276, "last_edit_date": 1538006276, "creation_date": 1538005970, "answer_id": 52527516, "question_id": 52527458, "link": "https://stackoverflow.com/questions/52527458/breaking-a-loop-and-get-single-result/52527516#52527516", "title": "Breaking a loop and get single result", "body": "<p>Jinja2 <a href=\"https://stackoverflow.com/a/22150349/10400050\">doesn't have any default options</a> to break from a loop in the template.</p>\n\n<p>Instead you could just skip the loop all together and just break out the first element in the list with one of the following</p>\n\n<pre><code>{% set item = cert | first %}\n\n{% set item = cert[0] %}\n</code></pre>\n\n<p>However, it would make more sense to modify the data you pass to the template so it only includes one row in the first place instead of a whole set.</p>\n"}], "owner": {"reputation": 924, "user_id": 5191640, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/avZ8N.jpg?s=128&g=1", "display_name": "Rock n&#39; Roll", "link": "https://stackoverflow.com/users/5191640/rock-n-roll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 52527516, "answer_count": 1, "score": 1, "last_activity_date": 1538006276, "creation_date": 1538005506, "last_edit_date": 1538005592, "question_id": 52527458, "link": "https://stackoverflow.com/questions/52527458/breaking-a-loop-and-get-single-result", "title": "Breaking a loop and get single result", "body": "<p>Is it possible for sqlalchemy python flask to break the loop and get the single result value only. for example on my case:</p>\n\n<p>I am looping a list and will have multiple result but my aim is once I get the first row I will break now the loop.</p>\n\n<pre><code>   {% for item in cert %}\n    &lt;div&gt;\n        &lt;label&gt;ID No:&lt;/label&gt;                     \n        &lt;label font size=\"6\"&gt;{{item.empID}}&lt;/label&gt;                                  \n        &lt;label class=\"pull-right\"&gt;Total Certificates:&lt;/label&gt;\n\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Name:&lt;/label&gt;   \n        &lt;label&gt;{{item.name}}&lt;/label&gt;                 \n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Department:&lt;/label&gt;                    \n        &lt;label&gt;{{item.dept}}&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Process:&lt;/label&gt;                    \n        &lt;label&gt;{{item.proc}}&lt;/label&gt;\n    &lt;/div&gt;\n\n    {% endfor %}\n</code></pre>\n\n<p>I just want to have something like in python:</p>\n\n<pre><code>list = [1,2,3]\nfor item in list:\n    return i\n    break \n</code></pre>\n\n<p>Any suggestion or comments will appreciate. Thanks in advance!</p>\n"}, {"tags": ["python", "module", "platform"], "comments": [{"owner": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "edited": false, "score": 0, "creation_date": 1538005887, "post_id": 52527456, "comment_id": 91994551, "body": "Never heard this... Add a screenshot?"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1538007488, "post_id": 52527456, "comment_id": 91994940, "body": "Python 2.7 comes with a standard module <code>test</code>. That module may be implicitly imported by <code>platform</code> or one of the modules that <code>platform</code> imports. Rename <code>test.py</code> to something else, remove <code>test.pyc</code>, and check if the problem persists."}, {"owner": {"reputation": 1933, "user_id": 1255223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6ff1afe76d8384714a06a4d20e5ba855?s=128&d=identicon&r=PG", "display_name": "Information Technology", "link": "https://stackoverflow.com/users/1255223/information-technology"}, "edited": false, "score": 0, "creation_date": 1538017875, "post_id": 52527456, "comment_id": 91997041, "body": "Thanks but it makes no difference. I just tried with many different file names and always the same result.  (I also removed the *.pyc files before and after every run for every file rename.)"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1538031282, "post_id": 52527456, "comment_id": 92001536, "body": "Tried, only <b>one</b> output. Have you a file <code>platform.py</code> in the ame directory as <code>test.py</code>?"}, {"owner": {"reputation": 1933, "user_id": 1255223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6ff1afe76d8384714a06a4d20e5ba855?s=128&d=identicon&r=PG", "display_name": "Information Technology", "link": "https://stackoverflow.com/users/1255223/information-technology"}, "edited": false, "score": 0, "creation_date": 1538047107, "post_id": 52527456, "comment_id": 92010792, "body": "That&#39;s it!  For some reason, if you import the platform module into a totally different script (let&#39;s call it &quot;abc.py&quot;), when you also have a script called &quot;platform.py&quot; in the directory, executing &quot;abc.py&quot; will first execute the &quot;platform.py&quot; script before the contents of &quot;abc.py&quot; are executed. &quot;Why&quot; do you believe this happens?"}], "owner": {"reputation": 1933, "user_id": 1255223, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6ff1afe76d8384714a06a4d20e5ba855?s=128&d=identicon&r=PG", "display_name": "Information Technology", "link": "https://stackoverflow.com/users/1255223/information-technology"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538007092, "creation_date": 1538005481, "question_id": 52527456, "link": "https://stackoverflow.com/questions/52527456/why-does-python-import-platform-module-cause-duplicated-repeated-prints", "title": "Why does python &quot;import platform&quot; module cause duplicated/repeated prints?", "body": "<p><strong>Background:</strong></p>\n\n<ul>\n<li>I'm working on a Macbook Pro / High Sierra 10.13.3</li>\n<li>Python version: 2.7.10</li>\n</ul>\n\n<p><strong>WORKS FINE:</strong> I have a simple test file called \"test.py\" that contains only the following two lines.</p>\n\n<pre><code>print '------- START -------'\nprint '------- END ---------'\n</code></pre>\n\n<p>I execute the file with the command \"python test.py\" and, as expected, it correct prints:</p>\n\n<pre><code>------- START -------\n------- END ---------\n</code></pre>\n\n<p><strong>FAILURE SCENARIO:</strong> However, if I add the \"import platform\" statement, so that the file contains:</p>\n\n<pre><code>import platform\n\nprint '------- START -------'\nprint '------- END ---------'\n</code></pre>\n\n<p>When I execute it the exact same way, I get duplicated/repeated prints to stdout, as follows:</p>\n\n<pre><code>------- START -------\n------- END ---------\n------- START -------\n------- END ---------\n</code></pre>\n\n<p><strong>MY QUESTION:</strong> Why does including the platform module via the \"import platform\" statement cause duplicate/repeated prints to stdout?</p>\n\n<p>NOTE: I tried importing other modules like \"OS\" and it doesn't happen.</p>\n"}, {"tags": ["python", "string", "python-2.x"], "comments": [{"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1538005441, "post_id": 52527435, "comment_id": 91994483, "body": "Please provide example of the output you expect. Also try to provide a more readable input if possible. Finally, have you tried anything from which we can help you?"}, {"owner": {"reputation": 3639, "user_id": 5998425, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6CkM9.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/5998425/edward"}, "edited": false, "score": 0, "creation_date": 1538005447, "post_id": 52527435, "comment_id": 91994485, "body": "can you show expected output?"}, {"owner": {"reputation": 1086, "user_id": 4564238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206219102981377/picture?type=large", "display_name": "Antonio L&#243;pez Ruiz", "link": "https://stackoverflow.com/users/4564238/antonio-l%c3%b3pez-ruiz"}, "edited": false, "score": 0, "creation_date": 1538005649, "post_id": 52527435, "comment_id": 91994509, "body": "Sorry about that, i don&#39;t know why it wasn&#39;t taken as code."}, {"owner": {"reputation": 1086, "user_id": 4564238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206219102981377/picture?type=large", "display_name": "Antonio L&#243;pez Ruiz", "link": "https://stackoverflow.com/users/4564238/antonio-l%c3%b3pez-ruiz"}, "reply_to_user": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1538005865, "post_id": 52527435, "comment_id": 91994546, "body": "@OlivierMelan&#231;on I added a way that can technically solve the problem but the point is not solve if for this string specifically but for any string that you would like to."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1538006870, "post_id": 52527435, "comment_id": 91994760, "body": "@AntonioL&#243;pezRuiz So what you want to do is remove \\n&amp;: ?"}, {"owner": {"reputation": 1086, "user_id": 4564238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206219102981377/picture?type=large", "display_name": "Antonio L&#243;pez Ruiz", "link": "https://stackoverflow.com/users/4564238/antonio-l%c3%b3pez-ruiz"}, "edited": false, "score": 0, "creation_date": 1538007078, "post_id": 52527435, "comment_id": 91994816, "body": "replace it by &#39;,&#39; but not only that one, it could be &#39;\\n2:&#39; or &#39;\\n3:&#39; or anything that starts with &#39;\\n&#39; and ends with &#39;:&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1086, "user_id": 4564238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206219102981377/picture?type=large", "display_name": "Antonio L&#243;pez Ruiz", "link": "https://stackoverflow.com/users/4564238/antonio-l%c3%b3pez-ruiz"}, "edited": false, "score": 0, "creation_date": 1538007654, "post_id": 52527671, "comment_id": 91994980, "body": "Worked perfectly! Thanks"}], "tags": [], "owner": {"reputation": 1574, "user_id": 8345749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lj0B.png?s=128&g=1", "display_name": "Joe Patten", "link": "https://stackoverflow.com/users/8345749/joe-patten"}, "is_accepted": true, "score": 1, "last_activity_date": 1538007498, "creation_date": 1538007498, "answer_id": 52527671, "question_id": 52527435, "link": "https://stackoverflow.com/questions/52527435/remove-variable-parts-of-a-string-that-start-and-end-the-same/52527671#52527671", "title": "Remove variable parts of a string that start and end the same", "body": "<p>You can use regex to get the job done:</p>\n\n<p>Input:</p>\n\n<pre><code>import re\ntext = '1:CH,AG,ME,GS,AP,CH,HE,AC,AC,AG,CA,HE,AT,AT,AC,AT,OG,NE,AG,AC,CS,OD\\n&amp;:TA,EB,PA,AC,BR,TH,PO,AC,2I,AC,TH,PE,TH,AZ,AZ,ZE,CS,OD,CH,EO,ZE,OG\\n&amp;:TH,ZE,ZE,HE,HE,HP,HP,OG,HP,ZE\\n2:ZE,FD,FD,AG,EO,OG,AG,NE,RU,GS,HP,ZE,ZE,HM,HM,PC,PC,AS,AS,TY,TY,AG\\n&amp;:AG,GS,NO,EU,ZF,HE,AT,AT,OD,OD,EB,OD,GS,TR,OD,AC,TR,GS,OD,TR,OD,AT,GS\\n&amp;:CA,GS,NE,GS,AG,PS,HL,AG,NE,ID,AJ,AX,DI,OD,ME,AT,GS,MU,HO,PB,LT,9Z,PT,9Y\\n&amp;:9W,9X,AR,9V,9U,9T,AX,9S,9R,AT,AJ,DI,ST,EA,AG,ME,NE,MU,9Q,9P,9O,9N,9M,9L\\n&amp;:9K,ID,MG,OD,FY,AU,AU,HR,HR,9J,TL,9I,9H,9G,9F,AC,BR,AC,9E,9D,9C,9B,99\\n'\ntext = re.sub(r'\\n&amp;*(\\d*:)*',',', text[2:]).rstrip(',')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>'CH,AG,ME,GS,AP,CH,HE,AC,AC,AG,CA,HE,AT,AT,AC,AT,OG,NE,AG,AC,CS,OD,TA,EB,PA,AC,BR,TH,PO,AC,2I,AC,TH,PE,TH,AZ,AZ,ZE,CS,OD,CH,EO,ZE,OG,TH,ZE,ZE,HE,HE,HP,HP,OG,HP,ZE,ZE,FD,FD,AG,EO,OG,AG,NE,RU,GS,HP,ZE,ZE,HM,HM,PC,PC,AS,AS,TY,TY,AG,AG,GS,NO,EU,ZF,HE,AT,AT,OD,OD,EB,OD,GS,TR,OD,AC,TR,GS,OD,TR,OD,AT,GS,CA,GS,NE,GS,AG,PS,HL,AG,NE,ID,AJ,AX,DI,OD,ME,AT,GS,MU,HO,PB,LT,9Z,PT,9Y,9W,9X,AR,9V,9U,9T,AX,9S,9R,AT,AJ,DI,ST,EA,AG,ME,NE,MU,9Q,9P,9O,9N,9M,9L,9K,ID,MG,OD,FY,AU,AU,HR,HR,9J,TL,9I,9H,9G,9F,AC,BR,AC,9E,9D,9C,9B,99'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6910, "user_id": 567595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49e39b67d2ef2f9fc041495ae46fe6d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/567595/stuart"}, "is_accepted": false, "score": 1, "last_activity_date": 1538008228, "last_edit_date": 1538008228, "creation_date": 1538007704, "answer_id": 52527695, "question_id": 52527435, "link": "https://stackoverflow.com/questions/52527435/remove-variable-parts-of-a-string-that-start-and-end-the-same/52527695#52527695", "title": "Remove variable parts of a string that start and end the same", "body": "<p>You can use a regular expression replace:</p>\n\n<pre><code>s = '1:CH,AG,ME,GS,AP,CH,HE,AC,AC,AG,CA,HE,AT,AT,AC,AT,OG,NE,AG,AC,CS,OD\\n&amp;:TA,EB,PA,AC,BR,TH,PO,AC,2I,AC,TH,PE,TH,AZ,AZ,ZE,CS,OD,CH,EO,ZE,OG\\n&amp;:TH,ZE,ZE,HE,HE,HP,HP,OG,HP,ZE\\n2:ZE,FD,FD,AG,EO,OG,AG,NE,RU,GS,HP,ZE,ZE,HM,HM,PC,PC,AS,AS,TY,TY,AG\\n&amp;:AG,GS,NO,EU,ZF,HE,AT,AT,OD,OD,EB,OD,GS,TR,OD,AC,TR,GS,OD,TR,OD,AT,GS\\n&amp;:CA,GS,NE,GS,AG,PS,HL,AG,NE,ID,AJ,AX,DI,OD,ME,AT,GS,MU,HO,PB,LT,9Z,PT,9Y\\n&amp;:9W,9X,AR,9V,9U,9T,AX,9S,9R,AT,AJ,DI,ST,EA,AG,ME,NE,MU,9Q,9P,9O,9N,9M,9L\\n&amp;:9K,ID,MG,OD,FY,AU,AU,HR,HR,9J,TL,9I,9H,9G,9F,AC,BR,AC,9E,9D,9C,9B,99\\n'\ns = re.sub(r\"(\\n\\d*?:)|(\\n&amp;:)\", \",\", s).strip()  # replaces the middle bits with commas and strips trailing \\n\ns = re.sub(r\"^(\\d*?:)|(&amp;:)\", \"\", s)              # removes the initial 1: or similar\n</code></pre>\n"}], "owner": {"reputation": 1086, "user_id": 4564238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206219102981377/picture?type=large", "display_name": "Antonio L&#243;pez Ruiz", "link": "https://stackoverflow.com/users/4564238/antonio-l%c3%b3pez-ruiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 52527671, "answer_count": 2, "score": -1, "last_activity_date": 1538008228, "creation_date": 1538005302, "last_edit_date": 1538007177, "question_id": 52527435, "link": "https://stackoverflow.com/questions/52527435/remove-variable-parts-of-a-string-that-start-and-end-the-same", "title": "Remove variable parts of a string that start and end the same", "body": "<p>I have a string as the following:</p>\n\n<pre><code>'1:CH,AG,ME,GS,AP,CH,HE,AC,AC,AG,CA,HE,AT,AT,AC,AT,OG,NE,AG,AC,CS,OD\\n&amp;:TA,EB,PA,AC,BR,TH,PO,AC,2I,AC,TH,PE,TH,AZ,AZ,ZE,CS,OD,CH,EO,ZE,OG\\n&amp;:TH,ZE,ZE,HE,HE,HP,HP,OG,HP,ZE\\n2:ZE,FD,FD,AG,EO,OG,AG,NE,RU,GS,HP,ZE,ZE,HM,HM,PC,PC,AS,AS,TY,TY,AG\\n&amp;:AG,GS,NO,EU,ZF,HE,AT,AT,OD,OD,EB,OD,GS,TR,OD,AC,TR,GS,OD,TR,OD,AT,GS\\n&amp;:CA,GS,NE,GS,AG,PS,HL,AG,NE,ID,AJ,AX,DI,OD,ME,AT,GS,MU,HO,PB,LT,9Z,PT,9Y\\n&amp;:9W,9X,AR,9V,9U,9T,AX,9S,9R,AT,AJ,DI,ST,EA,AG,ME,NE,MU,9Q,9P,9O,9N,9M,9L\\n&amp;:9K,ID,MG,OD,FY,AU,AU,HR,HR,9J,TL,9I,9H,9G,9F,AC,BR,AC,9E,9D,9C,9B,99\\n'\n</code></pre>\n\n<p>As you can see, I would like to get the '\\n(number or &amp; here):' replaced by ','\nSince they all start with '\\n' and end with ':' I believe that there should be a way to replace them all at once. </p>\n\n<p>The output would be as the sort:</p>\n\n<pre><code>'CH,AG,ME,GS,AP,CH,HE,AC,AC,AG,CA,HE,AT,AT,AC,AT,OG,NE,AG,AC,CS,OD,TA,EB,PA,AC,BR,TH,PO,AC,2I,AC,TH,PE,TH,AZ,AZ,ZE,CS,OD,CH,EO,ZE,OG,TH,ZE,ZE,HE,HE,HP,HP,OG,HP,ZE,ZE,FD,FD,AG,EO,OG,AG,NE,RU,GS,HP,ZE,ZE,HM,HM,PC,PC,AS,AS,TY,TY,AG,AG,GS,NO,EU,ZF,HE,AT,AT,OD,OD,EB,OD,GS,TR,OD,AC,TR,GS,OD,TR,OD,AT,GS,CA,GS,NE,GS,AG,PS,HL,AG,NE,ID,AJ,AX,DI,OD,ME,AT,GS,MU,HO,PB,LT,9Z,PT,9Y,9W,9X,AR,9V,9U,9T,AX,9S,9R,AT,AJ,DI,ST,EA,AG,ME,NE,MU,9Q,9P,9O,9N,9M,9L,9K,ID,MG,OD,FY,AU,AU,HR,HR,9J,TL,9I,9H,9G,9F,AC,BR,AC,9E,9D,9C,9B,99'\n</code></pre>\n\n<p>What could work was making a for lop for numbers and &amp;.</p>\n\n<pre><code>string.replace('\\n&amp;:',',')\nfor i in range(1,20): \n    string.replace('\\ni:',',')\n</code></pre>\n\n<p>But I believe there must be a better way. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 4, "creation_date": 1538005274, "post_id": 52527423, "comment_id": 91994443, "body": "Please post actual formatted code, and include your attempt at using a <code>while</code> loop."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1538005372, "post_id": 52527423, "comment_id": 91994463, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described. You didn&#39;t post the code on which you have a question, and the code you <i>did</i> post dies for improper capitalization."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10421336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de5edc9691021a8925f157bc8ca4795?s=128&d=identicon&r=PG&f=1", "display_name": "ABUMARYAMBUK", "link": "https://stackoverflow.com/users/10421336/abumaryambuk"}, "edited": false, "score": 0, "creation_date": 1538006782, "post_id": 52527499, "comment_id": 91994727, "body": "Yeah, am grateful, I made a mistake by updating it with +=2 whereas it should be +=1"}], "tags": [], "owner": {"reputation": 63, "user_id": 10420571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cEH1N.jpg?s=128&g=1", "display_name": "Higor Tavares", "link": "https://stackoverflow.com/users/10420571/higor-tavares"}, "is_accepted": false, "score": 0, "last_activity_date": 1538005958, "last_edit_date": 1538005958, "creation_date": 1538005833, "answer_id": 52527499, "question_id": 52527423, "link": "https://stackoverflow.com/questions/52527423/python-program-question-to-print-even-number/52527499#52527499", "title": "Python program question to print even number", "body": "<p>Ok, when you try to convert it into while, do you remember that while \nparameter should be an boolean?\nif you what to convert your loop to while you should make something like this</p>\n\n<pre><code>i=1\nwhile i&lt;=20:\n    if i%2 == 0:\n        print(i)\n    i += 1\n</code></pre>\n\n<p>You Canot use an range like 'for' loop</p>\n"}, {"tags": [], "owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "is_accepted": false, "score": 0, "last_activity_date": 1538015328, "creation_date": 1538015328, "answer_id": 52528539, "question_id": 52527423, "link": "https://stackoverflow.com/questions/52527423/python-program-question-to-print-even-number/52528539#52528539", "title": "Python program question to print even number", "body": "<p>Remember that python is case sensitive, so <code>i</code> is not the same as <code>I</code>.  Also the built-in function names like <code>print</code> are all lower-case.</p>\n\n<p>Which makes your code:</p>\n\n<pre><code>for i in range(1,20):\n    if i%2 == 0:\n        print(i)\n</code></pre>\n\n<p>Converting to a <code>while()</code> loop:</p>\n\n<pre><code>i=1\nwhile i &lt;= 20:\n    if i%2 == 0:\n        print(i)\n    i += 1    \n</code></pre>\n\n<p>That should give you a few hints at what to do.</p>\n"}], "owner": {"reputation": 1, "user_id": 10421336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de5edc9691021a8925f157bc8ca4795?s=128&d=identicon&r=PG&f=1", "display_name": "ABUMARYAMBUK", "link": "https://stackoverflow.com/users/10421336/abumaryambuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1538015328, "creation_date": 1538005200, "last_edit_date": 1538005309, "question_id": 52527423, "link": "https://stackoverflow.com/questions/52527423/python-program-question-to-print-even-number", "title": "Python program question to print even number", "body": "<p>I use for loop statement to run the program and it work but when I convert it to while statement it does not work</p>\n\n<pre><code>for I in range(1,20):\n    If i%2 == 0:\n        Print(i)\n</code></pre>\n\n<p>But the conversion does not work with while statement</p>\n"}, {"tags": ["python", "pandas", "series"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1538005261, "post_id": 52527417, "comment_id": 91994441, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described. Your code fails where <code>df</code> is undefined."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10421314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7530b79c6a9934dd998350ad56ecb39?s=128&d=identicon&r=PG&f=1", "display_name": "drake", "link": "https://stackoverflow.com/users/10421314/drake"}, "edited": false, "score": 1, "creation_date": 1538074301, "post_id": 52527623, "comment_id": 92026601, "body": "Thank you for your help. I will use this in the future."}, {"owner": {"reputation": 13, "user_id": 10421314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7530b79c6a9934dd998350ad56ecb39?s=128&d=identicon&r=PG&f=1", "display_name": "drake", "link": "https://stackoverflow.com/users/10421314/drake"}, "edited": false, "score": 1, "creation_date": 1538179892, "post_id": 52527623, "comment_id": 92066263, "body": "Sorry. I just signed up as a user on here, and this was my first question. I clocked the green check mark, and will remember this for the future. Thanks again for your help!"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 0, "last_activity_date": 1538007039, "creation_date": 1538007039, "answer_id": 52527623, "question_id": 52527417, "link": "https://stackoverflow.com/questions/52527417/max-not-working-on-series-list-inside-of-for-loop/52527623#52527623", "title": "max not working on series/list inside of for loop", "body": "<h3>You are comparing apples and oranges</h3>\n\n<p><code>max_date_prior_to_year(df['Date'], 2014)</code> feeds <code>2014</code> as the <code>yr</code> argument. But your <code>for</code> loop starts with <code>2011</code>. If <code>df['Date']</code> has no dates  before 1st January 2011, <code>dates[dates&lt;pd.to_datetime(str(yr)+'-01-01')]</code> will return an empty series, so you are effectively calculating:</p>\n\n<pre><code>max(pd.Series())  # ValueError: max() arg is an empty sequence\n</code></pre>\n\n<p>As per the <a href=\"https://docs.python.org/3/library/functions.html#max\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>If the iterable is empty and default is not provided, a <code>ValueError</code>\n  is raised.</p>\n</blockquote>\n\n<h3>Use <code>pd.Series.max</code> instead of built-in <code>max</code></h3>\n\n<p>One way you can avoid <code>ValueError</code> and increase efficiency is to use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.max.html\" rel=\"nofollow noreferrer\"><code>pd.Series.max</code></a> instead of Python's built-in <a href=\"https://docs.python.org/3/library/functions.html#max\" rel=\"nofollow noreferrer\"><code>max</code></a>.<sup>1</sup> This is will return <code>NaN</code> if the series is empty after Boolean indexing. So change your function to:</p>\n\n<pre><code>def max_date_prior_to_year(dates, yr):\n     return dates[dates&lt;pd.to_datetime(str(yr)+'-01-01')].max()\n</code></pre>\n\n<hr>\n\n<p><sup>1</sup> In fact, as a rule you should prefer Pandas numeric methods to applying built-in functions on pandas series.</p>\n"}], "owner": {"reputation": 13, "user_id": 10421314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7530b79c6a9934dd998350ad56ecb39?s=128&d=identicon&r=PG&f=1", "display_name": "drake", "link": "https://stackoverflow.com/users/10421314/drake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 52527623, "answer_count": 1, "score": 0, "last_activity_date": 1538007116, "creation_date": 1538005150, "last_edit_date": 1538007116, "question_id": 52527417, "link": "https://stackoverflow.com/questions/52527417/max-not-working-on-series-list-inside-of-for-loop", "title": "max not working on series/list inside of for loop", "body": "<p>I have the following function written to find the most recent date in my dataset prior to the year I am calculating for. I am having trouble understanding why it will not work in a for loop, but it will outside of one. If I write it with a hardcoded value as the year, it will run just fine. However, when I try to put it in a loop, it will give the following error:</p>\n\n<blockquote>\n  <p>'ValueError: max() arg is an empty sequence'</p>\n</blockquote>\n\n<p>Thank you for any insight on why this is error is thrown, and what I can do to fix it.</p>\n\n<pre><code>def max_date_prior_to_year(dates, yr):\n     return max(dates[dates&lt;pd.to_datetime(str(yr)+'-01-01')])\n\nprint(max_date_prior_to_year(df['Date'], 2014))\n2013-10-15 00:00:00\n\nfor yr in [2011,2012,2013,2014]:\n    print(max_date_prior_to_year(df['Date'], yr))\nValueError: max() arg is an empty sequence\n</code></pre>\n"}, {"tags": ["python", "pandas", "datetime"], "comments": [{"owner": {"reputation": 3639, "user_id": 5998425, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6CkM9.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/5998425/edward"}, "edited": false, "score": 1, "creation_date": 1538005249, "post_id": 52527406, "comment_id": 91994438, "body": "can you show an example of your data and expected output?"}], "answers": [{"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": true, "score": 4, "last_activity_date": 1538005470, "creation_date": 1538005470, "answer_id": 52527455, "question_id": 52527406, "link": "https://stackoverflow.com/questions/52527406/convert-pandas-column-day-of-year-to-datetime-m-d/52527455#52527455", "title": "Convert pandas column &#39;day of year&#39; to datetime (%m-%d)?", "body": "<p>Here is an example dataframe with a <code>Date</code> column:</p>\n\n<pre><code>   Date     Open     High     Low    Close  Adj Close    Volume\n0     1  4.06250  4.12500  3.8750  3.90625   3.093209   7048800\n1     2  3.84375  3.96875  3.5000  3.62500   2.870497  12864000\n2     3  3.50000  4.25000  3.5000  4.12500   3.266428   9526400\n3     4  4.06250  4.68750  4.0625  4.50000   3.563378   5693600\n4     5  4.40625  4.65625  4.1250  4.21875   3.340666  30480000\n</code></pre>\n\n<p>You can then parse the <code>Date</code> using <code>pd.to_datetime()</code>, then reformat the dates using <code>strftime()</code>:</p>\n\n<pre><code>df['Date'] = pd.to_datetime(df['Date'], format='%j').dt.strftime('%m-%d')\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>    Date     Open     High     Low    Close  Adj Close    Volume\n0  01-01  4.06250  4.12500  3.8750  3.90625   3.093209   7048800\n1  01-02  3.84375  3.96875  3.5000  3.62500   2.870497  12864000\n2  01-03  3.50000  4.25000  3.5000  4.12500   3.266428   9526400\n3  01-04  4.06250  4.68750  4.0625  4.50000   3.563378   5693600\n4  01-05  4.40625  4.65625  4.1250  4.21875   3.340666  30480000\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9469858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a564e5af3e94286737d8a9631bed73?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel M&#252;ller", "link": "https://stackoverflow.com/users/9469858/samuel-m%c3%bcller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1730, "favorite_count": 0, "accepted_answer_id": 52527455, "answer_count": 1, "score": 4, "last_activity_date": 1538019082, "creation_date": 1538005011, "last_edit_date": 1538019082, "question_id": 52527406, "link": "https://stackoverflow.com/questions/52527406/convert-pandas-column-day-of-year-to-datetime-m-d", "title": "Convert pandas column &#39;day of year&#39; to datetime (%m-%d)?", "body": "<p>Suppose I have a Pandas DataFrame with a column which is the number of the day of the year (1 to 365). I would like to get a new column which is a datetime format (or any format which can be plotted as date index) which has only day and month (NO YEAR) value? That said the format of strftime would be %d-%m.</p>\n\n<p>So far I have managed to produce with strftime from a day numer 1 -> 01-01, the problem is that it is now a strip which is not useful for plotting my data...</p>\n\n<p>Any ideas how to get around the Year value?</p>\n"}, {"tags": ["python", "twilio"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6569955, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154843700465110/picture?type=large", "display_name": "Julie Levesque", "link": "https://stackoverflow.com/users/6569955/julie-levesque"}, "edited": false, "score": 0, "creation_date": 1576249130, "post_id": 52528363, "comment_id": 104849431, "body": "Thank you so much"}], "tags": [], "owner": {"reputation": 3844, "user_id": 833881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856cdb57da6d0b4758d597d30602fcd8?s=128&d=identicon&r=PG", "display_name": "kungphu", "link": "https://stackoverflow.com/users/833881/kungphu"}, "is_accepted": true, "score": 3, "last_activity_date": 1538013676, "creation_date": 1538013676, "answer_id": 52528363, "question_id": 52527390, "link": "https://stackoverflow.com/questions/52527390/importerror-from-twilio-rest/52528363#52528363", "title": "ImportError from Twilio.rest", "body": "<p>Whatever your environment is does not appear to have the <code>requests</code> library installed. Run <code>pip install requests</code> either from inside the environment in which this script is running (if you're not already, you should consider using <a href=\"https://virtualenv.pypa.io/en/stable/\" rel=\"nofollow noreferrer\">virtualenv</a> or something similar for this to avoid having to install Python packages globally as root).</p>\n\n<p>Note that this likely wouldn't happen if you'd installed the Twilio library via pip, so I'm guessing you simply downloaded it and attempted to run it. If a Python library is in PyPi (which <a href=\"https://pypi.org/project/twilio/\" rel=\"nofollow noreferrer\">twilio is</a>), you can install it via pip and have its dependencies automatically installed as well.</p>\n"}], "owner": {"reputation": 35, "user_id": 6569955, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154843700465110/picture?type=large", "display_name": "Julie Levesque", "link": "https://stackoverflow.com/users/6569955/julie-levesque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 52528363, "answer_count": 1, "score": 0, "last_activity_date": 1538013676, "creation_date": 1538004908, "last_edit_date": 1538005301, "question_id": 52527390, "link": "https://stackoverflow.com/questions/52527390/importerror-from-twilio-rest", "title": "ImportError from Twilio.rest", "body": "<p>I have this line in my code:</p>\n\n<pre><code>from twilio.rest import Client\n</code></pre>\n\n<p>But the result is: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"send_sms.py\", line 1, in &lt;module&gt;\n    from twilio.rest import Client\n  File \"/Users/utilisateur/Downloads/twilio-6.17.0/twilio/rest/__init__.py\", line 14, in &lt;module&gt;\n    from twilio.http.http_client import TwilioHttpClient\n  File \"/Users/utilisateur/Downloads/twilio-6.17.0/twilio/http/http_client.py\", line 1, in &lt;module&gt;\n    from requests import Request, Session, hooks\nImportError: No module named requests\n</code></pre>\n\n<p>What can I do ?</p>\n"}, {"tags": ["python", "machine-learning", "deep-learning"], "comments": [{"owner": {"reputation": 6042, "user_id": 3607203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/pfnRx.jpg?s=128&g=1", "display_name": "dennlinger", "link": "https://stackoverflow.com/users/3607203/dennlinger"}, "edited": false, "score": 0, "creation_date": 1538027901, "post_id": 52527333, "comment_id": 91999877, "body": "As this is not directly related to programming, but rather a theoretical question, please consider asking it on <a href=\"https://stats.stackexchange.com\">Cross Validated</a>, or <a href=\"https://datascience.stackexchange.com\">Data Science</a>."}, {"owner": {"reputation": 20746, "user_id": 1233251, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cI9GF.png?s=128&g=1", "display_name": "E_net4 says don&#39;t copy that", "link": "https://stackoverflow.com/users/1233251/e-net4-says-dont-copy-that"}, "edited": false, "score": 0, "creation_date": 1538038099, "post_id": 52527333, "comment_id": 92005196, "body": "I&#39;m voting to close this question as off-topic because <a href=\"https://meta.stackoverflow.com/q/291009/1233251\">it is specific to machine learning rather than software development</a>. You may consider visiting <a href=\"//stats.stackexchange.com\">Cross Validated</a> or <a href=\"//datascience.stackexchange.com\">DataScience.SE</a> instead."}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 583, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538004381, "creation_date": 1538004381, "question_id": 52527333, "link": "https://stackoverflow.com/questions/52527333/why-cosine-similarity-should-be-used-for-word-vectors", "title": "Why cosine similarity should be used for word vectors?", "body": "<p>I have been thinking on this thing a bit and wanted to take opinions/thoughts from ppl. </p>\n\n<p>If you know cosine similarity makes a lot of sense for distance measure between data points when the length of vector or weights of vector terms do not need to be a distinguishing factor. For example comparing a small text to long text document using tf-idf vector would be largely skewed if we use Euclidean distance. </p>\n\n<p>Cosine similarity by default normalized for the length of the document so is the right choice in those cases. </p>\n\n<p>However it all makes sense when the text vector is represented by tf or tf-idf vector as the tf values of a long document would influence the Euclidean distance metric. </p>\n\n<p>However if we represent a text document with word embeddings using word2vec or Glove or Fasttext of any of the word embeddings algo, then the resulting word vector is actually the weights of the neural network trained to get the embeddings. </p>\n\n<p>In that case the vector weights is not signifying the length of the document or something. </p>\n\n<p>Why is cosine similarity still the best measure of distance of two text then? </p>\n\n<p>For ex. if we have the following points represented by word vectors of text. </p>\n\n<p><a href=\"https://i.stack.imgur.com/JTljk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JTljk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now if I want to find the class of the grey point (lowermost left) using 1 nearest neighbour, if I use lets say cosine similarity, then the 1NN for grey point would be actually the top right most red point with class adult. </p>\n\n<p>However the point which is actually similar to grey is the blue point above it. </p>\n\n<p>So in these cases we see cosine similarity doesn't make sense but Euclidean distance make more sense. </p>\n\n<p>If these points are nothing but individual text documents represented by word embeddings, shouldn't we be using ED than cosine similarity? </p>\n\n<p>So then question becomes, for text documents using word embeddings is ED the better choice for distance measure or cosine similarity? </p>\n\n<p>For text documents using tf-idf we know its cosine as it normalizes for the length of document which is represented by individual term frequency</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 3, "creation_date": 1538004535, "post_id": 52527320, "comment_id": 91994306, "body": "I sure hope there isn&#39;t. If you&#39;re interested in knowing whether an exception occurred, why does <code>exampleFunction</code> silently swallow that exception?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "edited": false, "score": 0, "creation_date": 1538004571, "post_id": 52527320, "comment_id": 91994314, "body": "There&#39;s probably an awful way to do this with <code>mock</code>. Let me thing..."}, {"owner": {"reputation": 706, "user_id": 5953619, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8c277b6a367dfa614b3d42efdb3edca1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5953619/michael"}, "edited": false, "score": 0, "creation_date": 1538004702, "post_id": 52527320, "comment_id": 91994341, "body": "Basically, the <code>exampleFunction</code> just swallows the exception so it doesn&#39;t break any code that calls it by throwing a random exception (thinks the issue is minor/skippable). But in my specific case, I need to treat it as an exception"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1538034954, "post_id": 52527320, "comment_id": 92003436, "body": "Can or can&#39;t you modify <code>exampleFunction</code>?"}, {"owner": {"reputation": 8771, "user_id": 1393543, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5940aefd57c6c8f7e9921d0512bc1d81?s=128&d=identicon&r=PG", "display_name": "Christian Sauer", "link": "https://stackoverflow.com/users/1393543/christian-sauer"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1538036507, "post_id": 52527320, "comment_id": 92004305, "body": "@Aran-Fey I have seen this in third party libs  who assume that this is an internal error which nobody every wants to catch - unfortunately, they guessed wrong and I needed to catch that exception."}], "answers": [{"comments": [{"owner": {"reputation": 3819, "user_id": 5802335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6561d4f88469479b23557bdf8b4b6ae4?s=128&d=identicon&r=PG&f=1", "display_name": "metmirr", "link": "https://stackoverflow.com/users/5802335/metmirr"}, "edited": false, "score": 0, "creation_date": 1538033795, "post_id": 52531699, "comment_id": 92002834, "body": "Using <code>raise</code> at the end would be enough to reraise the last exception."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "reply_to_user": {"reputation": 3819, "user_id": 5802335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6561d4f88469479b23557bdf8b4b6ae4?s=128&d=identicon&r=PG&f=1", "display_name": "metmirr", "link": "https://stackoverflow.com/users/5802335/metmirr"}, "edited": false, "score": 0, "creation_date": 1538034047, "post_id": 52531699, "comment_id": 92002967, "body": "@metmirr: Please explaine, which <b>end</b>?"}, {"owner": {"reputation": 3819, "user_id": 5802335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6561d4f88469479b23557bdf8b4b6ae4?s=128&d=identicon&r=PG&f=1", "display_name": "metmirr", "link": "https://stackoverflow.com/users/5802335/metmirr"}, "edited": false, "score": 0, "creation_date": 1538034218, "post_id": 52531699, "comment_id": 92003064, "body": "I mean this: <code>except Exception as e: print(&#39;...&#39;); raise</code>"}], "tags": [], "owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "is_accepted": false, "score": 0, "last_activity_date": 1538034809, "last_edit_date": 1538034809, "creation_date": 1538033388, "answer_id": 52531699, "question_id": 52527320, "link": "https://stackoverflow.com/questions/52527320/python-catching-a-logging-exception-call/52531699#52531699", "title": "Python: Catching a logging.exception() call", "body": "<blockquote>\n  <p><strong>Question</strong>: I am trying to catch an exception<br>\n  The Questions Title should be rewriten to \"<strong>I am trying to reraise an exception</strong>\"  </p>\n</blockquote>\n\n<p>Read <a href=\"https://docs.python.org/3/reference/simple_stmts.html#raise\" rel=\"nofollow noreferrer\">Python Documentation#raise</a><br>\nSeems somewhat double work, but you can do it like that:</p>\n\n<pre><code>def exampleFunction():\n    try:\n        x = 1 / 0\n    except Exception as e:\n        print(\"logging.exception({})\".format(e))\n        raise\n\ntry:\n    exampleFunction()\nexcept ZeroDivisionError as e:\n    print('there was a divide by 0 error when I called exampleFunction()')\n</code></pre>\n\n<blockquote>\n  <p><strong>Output</strong>:  </p>\n\n<pre><code>logging.exception(division by zero)\nthere was a divide by 0 error when I called exampleFunction()\n</code></pre>\n</blockquote>\n\n<p><strong><em>Tested with Python:3.5.3</em></strong></p>\n"}, {"comments": [{"owner": {"reputation": 706, "user_id": 5953619, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8c277b6a367dfa614b3d42efdb3edca1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5953619/michael"}, "edited": false, "score": 0, "creation_date": 1539031536, "post_id": 52532509, "comment_id": 92345900, "body": "Is there a way to use the function <code>catch_log</code> to actually throw an Exception? Basically, I want to be able to do something where I can raise an Exception in <code>def catch_log</code> and do an <code>except Exception</code> clause in-between the try: and finally:"}, {"owner": {"reputation": 8771, "user_id": 1393543, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5940aefd57c6c8f7e9921d0512bc1d81?s=128&d=identicon&r=PG", "display_name": "Christian Sauer", "link": "https://stackoverflow.com/users/1393543/christian-sauer"}, "reply_to_user": {"reputation": 706, "user_id": 5953619, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8c277b6a367dfa614b3d42efdb3edca1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5953619/michael"}, "edited": false, "score": 0, "creation_date": 1539064365, "post_id": 52532509, "comment_id": 92353819, "body": "Yes of course, just raise the exception you want to throw"}, {"owner": {"reputation": 706, "user_id": 5953619, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8c277b6a367dfa614b3d42efdb3edca1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5953619/michael"}, "edited": false, "score": 0, "creation_date": 1539122582, "post_id": 52532509, "comment_id": 92385000, "body": "When I tried raising an Exception in catch_log, it didn&#39;t actually end up being caught.."}], "tags": [], "owner": {"reputation": 8771, "user_id": 1393543, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5940aefd57c6c8f7e9921d0512bc1d81?s=128&d=identicon&r=PG", "display_name": "Christian Sauer", "link": "https://stackoverflow.com/users/1393543/christian-sauer"}, "is_accepted": false, "score": 2, "last_activity_date": 1538036424, "creation_date": 1538036424, "answer_id": 52532509, "question_id": 52527320, "link": "https://stackoverflow.com/questions/52527320/python-catching-a-logging-exception-call/52532509#52532509", "title": "Python: Catching a logging.exception() call", "body": "<p>I assume that exampleFunction is in some horrible third party code that you do not own, otherwise there are lots of better alternatives.</p>\n\n<p>What you can do:</p>\n\n<pre><code>import logging # make sure this is the FIRST import of logging\nimport horrible_third_party_lib\n\ndef catch_log(msg):\n   # do something when this is called\nold_logging = logging.exception\ntry:\n    logging.exception=catch_log\n    horrible_third_party_lib.exampleFunction()\nfinally:\n    logging.exception=old_logging\n</code></pre>\n\n<p>You can then do everything you want in the function. It's horrible and sensitive to import order, but I have used this and it works (scikit learn does something similarly repugnant..)</p>\n"}], "owner": {"reputation": 706, "user_id": 5953619, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8c277b6a367dfa614b3d42efdb3edca1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5953619/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1538036424, "creation_date": 1538004295, "question_id": 52527320, "link": "https://stackoverflow.com/questions/52527320/python-catching-a-logging-exception-call", "title": "Python: Catching a logging.exception() call", "body": "<p>I am trying to catch an exception that is not raised, just logged. Is there any way to do this?</p>\n\n<pre><code>def exampleFunction():\n    try:\n        x = 1 / 0\n    except Exception:\n        logging.exception('divide by 0 error here.')\n\ntry:\n    exampleFunction()\nexcept &lt;condition based on if logging.exception was called&gt;\n    print('there was a divide by 0 error when I called exampleFunction()')\n</code></pre>\n"}, {"tags": ["python", "clipboard"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 3342733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2003fb9a30df2e8a8e0e218c3b5c1fa9?s=128&d=identicon&r=PG&f=1", "display_name": "user192085", "link": "https://stackoverflow.com/users/3342733/user192085"}, "edited": false, "score": 0, "creation_date": 1538504483, "post_id": 52555293, "comment_id": 92162702, "body": "Did it and same result"}, {"owner": {"reputation": 397, "user_id": 5405813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XEiH6.jpg?s=128&g=1", "display_name": "bipin_s", "link": "https://stackoverflow.com/users/5405813/bipin-s"}, "reply_to_user": {"reputation": 67, "user_id": 3342733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2003fb9a30df2e8a8e0e218c3b5c1fa9?s=128&d=identicon&r=PG&f=1", "display_name": "user192085", "link": "https://stackoverflow.com/users/3342733/user192085"}, "edited": false, "score": 0, "creation_date": 1538612654, "post_id": 52555293, "comment_id": 92207655, "body": "try the following steps :                                                                                (1) pip freeze and  check gtts-token version. it should be 1.1.2                  (2)comment out the following lines of the code:  #os.system(&quot;totem-audio-preview welcome.mp3&quot;) and   # os.remove(&quot;welcome.mp3&quot;)                                (3)check if the welcome.mp3    is stored in directory."}, {"owner": {"reputation": 67, "user_id": 3342733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2003fb9a30df2e8a8e0e218c3b5c1fa9?s=128&d=identicon&r=PG&f=1", "display_name": "user192085", "link": "https://stackoverflow.com/users/3342733/user192085"}, "edited": false, "score": 0, "creation_date": 1538931236, "post_id": 52555293, "comment_id": 92308435, "body": "The welcome.mp3 file is not being created, but the gtts-token version is at v.1.1.2."}, {"owner": {"reputation": 397, "user_id": 5405813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XEiH6.jpg?s=128&g=1", "display_name": "bipin_s", "link": "https://stackoverflow.com/users/5405813/bipin-s"}, "reply_to_user": {"reputation": 67, "user_id": 3342733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2003fb9a30df2e8a8e0e218c3b5c1fa9?s=128&d=identicon&r=PG&f=1", "display_name": "user192085", "link": "https://stackoverflow.com/users/3342733/user192085"}, "edited": false, "score": 0, "creation_date": 1538957960, "post_id": 52555293, "comment_id": 92314773, "body": "@user192085 , in your code i cannot see <b>clipboard.copy</b> <a href=\"https://pypi.org/project/clipboard/\" rel=\"nofollow noreferrer\">see here for the syntax</a> . you can try  adding  the following line in try block ` clipboard.copy(&#39;hello i am fine&#39;) &#39; `mytext = clipboard.paste()&#39;. also comment out  #os.system(&quot;totem-audio-preview welcome.mp3&quot;) and # os.remove(&quot;welcome.mp3&quot;). now check if the welcome.mp3 is stored in directory. now at least the file should be saved."}], "tags": [], "owner": {"reputation": 397, "user_id": 5405813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XEiH6.jpg?s=128&g=1", "display_name": "bipin_s", "link": "https://stackoverflow.com/users/5405813/bipin-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1538137521, "creation_date": 1538137521, "answer_id": 52555293, "question_id": 52527290, "link": "https://stackoverflow.com/questions/52527290/python-gtts-speak-clipboard/52555293#52555293", "title": "Python gTTS Speak Clipboard", "body": "<p>There is an official fix now. It had to do with an upstream dependency of gtts, gtts-token. do pip uninstall gtts-token to remove existing gtts-token==1.1.1 and then again pip install gtts-token so that it will gtts-token==1.1.2\nThanks to open source gods and @carrey-cole</p>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 3342733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2003fb9a30df2e8a8e0e218c3b5c1fa9?s=128&d=identicon&r=PG&f=1", "display_name": "user192085", "link": "https://stackoverflow.com/users/3342733/user192085"}, "is_accepted": false, "score": 0, "last_activity_date": 1538932405, "creation_date": 1538932405, "answer_id": 52690943, "question_id": 52527290, "link": "https://stackoverflow.com/questions/52527290/python-gtts-speak-clipboard/52690943#52690943", "title": "Python gTTS Speak Clipboard", "body": "<p>I managed to get it working by finding gtts-token from github, cloning it, and running python setup.py install.  Thanks to bipin_s for the contribution.</p>\n"}], "owner": {"reputation": 67, "user_id": 3342733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2003fb9a30df2e8a8e0e218c3b5c1fa9?s=128&d=identicon&r=PG&f=1", "display_name": "user192085", "link": "https://stackoverflow.com/users/3342733/user192085"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1538932405, "creation_date": 1538004117, "question_id": 52527290, "link": "https://stackoverflow.com/questions/52527290/python-gtts-speak-clipboard", "title": "Python gTTS Speak Clipboard", "body": "<p>This used to work on my computer, but now I receive an error...AttributeError:'NoneType' object has no attribute 'group'.  Can someone explain why?</p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom gtts import gTTS\nimport os\nimport clipboard\n\ntry:\n    mytext = clipboard.paste()\n    language = 'en'\n    myobj = gTTS(text=mytext, lang=language, slow=False)\n    myobj.save(\"welcome.mp3\")\n    os.system(\"totem-audio-preview welcome.mp3\")\n    os.remove('welcome.mp3')\nexcept IndexError:\n    pass\nfinally:\n    print(\"Finished\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 8916162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63fd93797cef0644a00ebcb54385318e?s=128&d=identicon&r=PG&f=1", "display_name": "Yeison H. Arias", "link": "https://stackoverflow.com/users/8916162/yeison-h-arias"}, "edited": false, "score": 0, "creation_date": 1538005295, "post_id": 52527300, "comment_id": 91994450, "body": "Could you help me with a new answer please, just edit the question, thanks"}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 0, "last_activity_date": 1538005636, "last_edit_date": 1538005636, "creation_date": 1538004165, "answer_id": 52527300, "question_id": 52527276, "link": "https://stackoverflow.com/questions/52527276/problem-with-pandas-dataframe-shift-function/52527300#52527300", "title": "Problem with pandas.DataFrame.shift function", "body": "<p>IIUC, you're looking for <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.cumsum.html\" rel=\"nofollow noreferrer\"><code>cumsum</code></a>:</p>\n\n<pre><code>df['d2'] = (df.d1+df.month).cumsum()\n\n&gt;&gt;&gt; df\n    month    d1    d2\n0       1   100   101\n1       2   200   303\n2       3   300   606\n3       4   400  1010\n4       5   500  1515\n5       6   600  2121\n6       7   700  2828\n7       8   800  3636\n8       9   900  4545\n9      10  1000  5555\n10     11  1100  6666\n11     12  1200  7878\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 8916162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63fd93797cef0644a00ebcb54385318e?s=128&d=identicon&r=PG&f=1", "display_name": "Yeison H. Arias", "link": "https://stackoverflow.com/users/8916162/yeison-h-arias"}, "edited": false, "score": 0, "creation_date": 1538005288, "post_id": 52527335, "comment_id": 91994448, "body": "Could you help me with a new answer please, just edit the question, thanks"}], "tags": [], "owner": {"reputation": 122, "user_id": 10292474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518c6ae2dc17050f6b83e490b6a8e619?s=128&d=identicon&r=PG&f=1", "display_name": "CallMeCrazy", "link": "https://stackoverflow.com/users/10292474/callmecrazy"}, "is_accepted": false, "score": 0, "last_activity_date": 1538004422, "creation_date": 1538004422, "answer_id": 52527335, "question_id": 52527276, "link": "https://stackoverflow.com/questions/52527276/problem-with-pandas-dataframe-shift-function/52527335#52527335", "title": "Problem with pandas.DataFrame.shift function", "body": "<p>What you need is cumulative sum :) </p>\n\n<pre><code>df['d2'] = df.d1.cumsum()\nprint(df) \n\nmonth    d1    d2\n0       1   100   100\n1       2   200   300\n2       3   300   600\n3       4   400  1000\n4       5   500  1500\n5       6   600  2100\n6       7   700  2800\n7       8   800  3600\n8       9   900  4500\n9      10  1000  5500\n10     11  1100  6600\n11     12  1200  7800\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 8916162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63fd93797cef0644a00ebcb54385318e?s=128&d=identicon&r=PG&f=1", "display_name": "Yeison H. Arias", "link": "https://stackoverflow.com/users/8916162/yeison-h-arias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 52527300, "answer_count": 2, "score": 1, "last_activity_date": 1538005636, "creation_date": 1538004040, "last_edit_date": 1538005202, "question_id": 52527276, "link": "https://stackoverflow.com/questions/52527276/problem-with-pandas-dataframe-shift-function", "title": "Problem with pandas.DataFrame.shift function", "body": "<p>I have the following dataframe in python:</p>\n\n<pre><code>months = [1,2,3,4,5,6,7,8,9,10,11,12]\ndata1 = [100,200,300,400,500,600,700,800,900,1000,1100,1200]\ndf = pd.DataFrame({\n                    'month' : months,\n                    'd1' : data1,\n                    'd2' : 0,\n                });\n</code></pre>\n\n<p>and I want to calculate the column d2, in the following way:</p>\n\n<pre>\n    month    d1      d2\n0       1   100   101.0\n1       2   200   303.0\n2       3   300   606.0\n3       4   400  1010.0\n4       5   500  1515.0\n5       6   600  2121.0\n6       7   700  2828.0\n7       8   800  3636.0\n8       9   900  4545.0\n9      10  1000  5555.0\n10     11  1100  6666.0\n11     12  1200  7878.0\n</pre>\n\n<p>I am doing it in the following way:</p>\n\n<pre><code>df['d2'] = (df['d2'].shift(1) + df['d1']) + df['month']\n</code></pre>\n\n<p>but the result is not what was expected:</p>\n\n<pre>\n    month    d1      d2\n0       1   100     NaN\n1       2   200   202.0\n2       3   300   303.0\n3       4   400   404.0\n4       5   500   505.0\n5       6   600   606.0\n6       7   700   707.0\n7       8   800   808.0\n8       9   900   909.0\n9      10  1000  1010.0\n10     11  1100  1111.0\n11     12  1200  1212.0\n</pre>\n\n<p>I do not know if I am clear in my request, I thank who can help me.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 5129, "user_id": 287238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oQJH2.jpg?s=128&g=1", "display_name": "mathtick", "link": "https://stackoverflow.com/users/287238/mathtick"}, "edited": false, "score": 0, "creation_date": 1563470200, "post_id": 52527347, "comment_id": 100720521, "body": "currently this does not work, you still get bad placement with &#39;datetime64[ns]&#39;, name=&#39;DATE&#39;, freq=None)"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "reply_to_user": {"reputation": 5129, "user_id": 287238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oQJH2.jpg?s=128&g=1", "display_name": "mathtick", "link": "https://stackoverflow.com/users/287238/mathtick"}, "edited": false, "score": 1, "creation_date": 1563471180, "post_id": 52527347, "comment_id": 100720972, "body": "@mathtick I don&#39;t understand your comment. This question was about the x-ticks not showing on the plot at all, not about optimizing the positioning. There are many other questions that discuss the latter. Though this seems to be moot as the original issue is no longer reproducible on <code>pandas 0.24</code>; the string dates will now display on the plot."}], "tags": [], "owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "is_accepted": true, "score": 2, "last_activity_date": 1538004505, "creation_date": 1538004505, "answer_id": 52527347, "question_id": 52527270, "link": "https://stackoverflow.com/questions/52527270/pandas-dates-not-showing-on-plot/52527347#52527347", "title": "Pandas dates not showing on plot", "body": "<p>Your date is a string, so <code>matplotlib</code> so it wont automatically plot the labels. Change it to a <code>datetime</code> first and then plot.</p>\n\n<pre><code>import pandas as pd\ndf['Date'] = pd.to_datetime(df.Date)\n</code></pre>\n\n<hr>\n\n<p>Your plot:</p>\n\n<pre><code>df2 = df.loc[0:12]\ndf2.set_index('Date', inplace=True)\ndf2['Close'].plot()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vRJDK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vRJDK.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 10292474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518c6ae2dc17050f6b83e490b6a8e619?s=128&d=identicon&r=PG&f=1", "display_name": "CallMeCrazy", "link": "https://stackoverflow.com/users/10292474/callmecrazy"}, "is_accepted": false, "score": 2, "last_activity_date": 1538004905, "creation_date": 1538004905, "answer_id": 52527389, "question_id": 52527270, "link": "https://stackoverflow.com/questions/52527270/pandas-dates-not-showing-on-plot/52527389#52527389", "title": "Pandas dates not showing on plot", "body": "<p>Set your column date as datetime type :) </p>\n\n<pre><code>df = pd.read_csv('ABC.csv') #read cvs\ndf2 = df.loc[0:12] #select rows\ndf2['Date'] = pd.to_datetime(df2['Date'])\ndf2.set_index('Date', inplace=True) #set Date as index\ndf2['Close'].plot() #plot\n</code></pre>\n"}], "owner": {"reputation": 482, "user_id": 2754244, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/j0Zgu.jpg?s=128&g=1", "display_name": "rearThing", "link": "https://stackoverflow.com/users/2754244/rearthing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2607, "favorite_count": 1, "accepted_answer_id": 52527347, "answer_count": 2, "score": 1, "last_activity_date": 1538004905, "creation_date": 1538004010, "last_edit_date": 1538004065, "question_id": 52527270, "link": "https://stackoverflow.com/questions/52527270/pandas-dates-not-showing-on-plot", "title": "Pandas dates not showing on plot", "body": "<p>My dataframe is from a cvs as follow:</p>\n\n<pre><code>         Date     Open     High     Low    Close  Adj Close    Volume\n0  1996-01-01  4.06250  4.12500  3.8750  3.90625   3.093209   7048800\n1  1996-02-01  3.84375  3.96875  3.5000  3.62500   2.870497  12864000\n2  1996-03-01  3.50000  4.25000  3.5000  4.12500   3.266428   9526400\n3  1996-04-01  4.06250  4.68750  4.0625  4.50000   3.563378   5693600\n4  1996-05-01  4.40625  4.65625  4.1250  4.21875   3.340666  30480000\n</code></pre>\n\n<p>When I try to plot it there is no date on the bottom of the graph. Here is the code I am using:</p>\n\n<pre><code>df = pd.read_csv('ABC.csv') #read cvs\ndf2 = df.loc[0:12] #select rows\ndf2.set_index('Date', inplace=True) #set Date as index\ndf2['Close'].plot() #plot\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tNuj7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNuj7.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3639, "user_id": 5998425, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6CkM9.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/5998425/edward"}, "edited": false, "score": 0, "creation_date": 1538004104, "post_id": 52527265, "comment_id": 91994198, "body": "how about <code>pandas.cut</code>? <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.cut.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/pandas.cut.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1538004206, "post_id": 52527265, "comment_id": 91994225, "body": "Are all the bins the same size?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1538004328, "post_id": 52527265, "comment_id": 91994252, "body": "BTW, you should be using <code>elif</code> to avoid unnecessary tests. And you can simplify those tests, eg <code>elif 0.6 &lt; x &lt;= 0.7:</code>"}], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 10292474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518c6ae2dc17050f6b83e490b6a8e619?s=128&d=identicon&r=PG&f=1", "display_name": "CallMeCrazy", "link": "https://stackoverflow.com/users/10292474/callmecrazy"}, "is_accepted": true, "score": 2, "last_activity_date": 1538005218, "creation_date": 1538005218, "answer_id": 52527426, "question_id": 52527265, "link": "https://stackoverflow.com/questions/52527265/efficient-way-to-categorize-data-into-bins-in-python/52527426#52527426", "title": "Efficient way to categorize data into bins in python", "body": "<p>I suggest you move the data into pandas dataframe</p>\n\n<pre><code>df['data'] = pd.DataFrame(x)\nbinInterval = [0, 0.6, 0.7, 0.8, 0.9]\nbinLabels   = [0, 4, 3, 2, 1]\ndf['binned'] = pd.cut(df['data'], bins = binInterval, labels=binLabels)\n</code></pre>\n\n<p>refer documentaion <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.cut.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 703, "user_id": 1538065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9b582973f08978966f4ec59ced39302?s=128&d=identicon&r=PG", "display_name": "XlbrlX", "link": "https://stackoverflow.com/users/1538065/xlbrlx"}, "is_accepted": false, "score": 0, "last_activity_date": 1538007761, "creation_date": 1538007761, "answer_id": 52527697, "question_id": 52527265, "link": "https://stackoverflow.com/questions/52527265/efficient-way-to-categorize-data-into-bins-in-python/52527697#52527697", "title": "Efficient way to categorize data into bins in python", "body": "<p>simply:</p>\n\n<pre><code>categories = [0.6, 0.7, 0.8, 0.9]\ncat = [categories[i]&lt;x and categories[i+1]&gt;=x for i in range(0, len(categories)-1)].index(True) + 1\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 9298027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1437600604143ffb1153aa2119c8195?s=128&d=identicon&r=PG&f=1", "display_name": "BGuha", "link": "https://stackoverflow.com/users/9298027/bguha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4136, "favorite_count": 0, "accepted_answer_id": 52527426, "answer_count": 2, "score": 2, "last_activity_date": 1538007761, "creation_date": 1538003931, "question_id": 52527265, "link": "https://stackoverflow.com/questions/52527265/efficient-way-to-categorize-data-into-bins-in-python", "title": "Efficient way to categorize data into bins in python", "body": "<p>Suppose I have a floating point dataset (x) which can assume any values between 0.0 and 1.0. I want to categorized the data into custom bins,eg,:</p>\n\n<pre><code>    cat= 0 # the output category\n    if x &gt; 0.8 and x&lt;=0.9:\n        cat = 1\n    if x &gt; 0.7 and x&lt;=0.8:\n        cat=2\n    if x&gt;0.6 and x&lt;=0.7:\n        cat = 3\n</code></pre>\n\n<p>and so on...   Is this the most efficient (in terms of how many lines i have to write) way to do this?  I was thinking whether there is some way where i just specify the lower and upper range of the category and the category number and not have to write so many if statements.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 2192, "user_id": 3106565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59de4b3d6299b5b375e072efd690870d?s=128&d=identicon&r=PG&f=1", "display_name": "Osman Mamun", "link": "https://stackoverflow.com/users/3106565/osman-mamun"}, "is_accepted": false, "score": 0, "last_activity_date": 1538004593, "last_edit_date": 1538004593, "creation_date": 1538004038, "answer_id": 52527275, "question_id": 52527255, "link": "https://stackoverflow.com/questions/52527255/how-to-i-pass-my-file-into-the-top-function-to-split-it/52527275#52527275", "title": "How to I pass my file into the top function to split it?", "body": "<p>if a is the string and you want the output dictionary as b:</p>\n\n<pre><code>from collections import Counter\n#Make file into a string:\nwith open('file.txt', 'r') as f:\n    a = f.read()\nlist_word = [i for i in a.replace('\\n', '').split() if i.isalpha()]\nb = Counter(list_word)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10421334, "user_type": "registered", "profile_image": "https://graph.facebook.com/1750991961676768/picture?type=large", "display_name": "Ethan Creagar", "link": "https://stackoverflow.com/users/10421334/ethan-creagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538004593, "creation_date": 1538003818, "last_edit_date": 1538004003, "question_id": 52527255, "link": "https://stackoverflow.com/questions/52527255/how-to-i-pass-my-file-into-the-top-function-to-split-it", "title": "How to I pass my file into the top function to split it?", "body": "<p>my program is supposed to make a list of the count of each word in a file. I am trying to pass my file into the first function to remove all punctuation.. how can I make my file into a string to do this? Thanks.</p>\n\n<pre><code>#def extract_words(string):\n    \"\"\"Returns a list containing each word in the string, ignoring #punctuation, numbers, etc.\"\"\"\n    l = []\n    word = ''\n    for c in string+' ':\n        if c.isalpha():\n            word += c\n        else:\n            if word != '':\n                l.append(word.lower())\n            word = ''\n    return l\n\n#def count_words(filename):\n    \"\"\"Returns a dictionary containing the number of occurrences of each #word in the file.\"\"\"\n    # create a dictionary\n    mydict = {}\n    # open the file and read the text\n    with open(filename, 'r') as myfile:\n    # extract each word in the file\n\n    # count the number of times each work occurs.\n        for i in myfile.read().split():\n            if i in mydict.keys():\n                mydict[i] += 1\n            else:\n                mydict[i] = 1\n    # return the dictionary with the word count.\n    return mydict\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 141, "user_id": 5164855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sQd7o.jpg?s=128&g=1", "display_name": "AFH", "link": "https://stackoverflow.com/users/5164855/afh"}, "edited": false, "score": 0, "creation_date": 1538005371, "post_id": 52530541, "comment_id": 92000349, "body": "This is the wrong forum: read the text of your tag."}, {"owner": {"reputation": 101, "user_id": 3678155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FdVrw.jpg?s=128&g=1", "display_name": "rajudev", "link": "https://stackoverflow.com/users/3678155/rajudev"}, "edited": false, "score": 0, "creation_date": 1538024197, "post_id": 52530541, "comment_id": 92000350, "body": "Please ask in stackoverflow"}], "answers": [{"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 0, "creation_date": 1538031434, "post_id": 52530542, "comment_id": 92001623, "body": "@Stephen. I did not get the implication you are indicating from reading the answer."}], "tags": [], "owner": {"reputation": 1360, "user_id": 5463883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7838cba44980354335c2ed650d89f17f?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Akhtar", "link": "https://stackoverflow.com/users/5463883/ahmed-akhtar"}, "is_accepted": true, "score": 3, "last_activity_date": 1538032050, "last_edit_date": 1538032050, "creation_date": 1538027507, "answer_id": 52530542, "question_id": 52530541, "link": "https://stackoverflow.com/questions/52530541/python-2-x-x-how-to-add-a-comma-in-print-statement-of-python-without-preceding-s/52530542#52530542", "title": "Python 2.x.x how to add a comma in print statement of python without preceding space character?", "body": "<p>The default behavior of the <code>print</code> command of Python is to add a space between its arguments.</p>\n\n<p>In Python 2.x.x:</p>\n\n<p>You could use the string concatenation operator <code>+</code> to do this before you <code>print</code> it like:</p>\n\n<pre><code>name = \"Andrew\"\nprint name + \",\"\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Andrew,</p>\n</blockquote>\n\n<p>However, if you are dealing with Python 3.x.x you could use the argument <code>sep</code> to change the separator from space to empty character like:</p>\n\n<pre><code>print(name, \",\", sep=\"\")\n</code></pre>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1250553600, "open_beta_date": 1247529600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon@2.png", "twitter_account": "super_user", "favicon_url": "https://cdn.sstatic.net/Sites/superuser/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon.png", "audience": "computer enthusiasts and power users", "site_url": "https://superuser.com", "api_site_parameter": "superuser", "logo_url": "https://cdn.sstatic.net/Sites/superuser/Img/logo.png", "name": "Super User", "site_type": "main_site"}, "on_date": 1538028883, "question_id": 1361710}, "owner": {"reputation": 9, "user_id": 12456883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/218cb68fc21ccf26dd4df2629eec4517?s=128&d=identicon&r=PG&f=1", "display_name": "Simple Humble", "link": "https://stackoverflow.com/users/12456883/simple-humble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 52530542, "answer_count": 1, "score": 0, "last_activity_date": 1538032050, "creation_date": 1538003812, "last_edit_date": 1538031207, "question_id": 52530541, "link": "https://stackoverflow.com/questions/52530541/python-2-x-x-how-to-add-a-comma-in-print-statement-of-python-without-preceding-s", "title": "Python 2.x.x how to add a comma in print statement of python without preceding space character?", "body": "<p>I am new to python and learning,</p>\n\n<p>Code:</p>\n\n<pre><code>name = \"Andrew\"\nprint name,\",\"\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Andrew ,</p>\n</blockquote>\n\n<p>A space character is injected in before the comma, which is undesirable. How may we print the comma immediately after name like <code>Andrew,</code>  with no intervening space character? </p>\n"}, {"tags": ["python", "python-3.x", "oop"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 5, "creation_date": 1538003756, "post_id": 52527232, "comment_id": 91994123, "body": "That&#39;s not what inheritance means. &quot;Subclass of X&quot; doesn&#39;t mean &quot;part of X&quot;; <code>class Head(Body)</code> means that a head <i>is</i> a body."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1538005009, "post_id": 52527232, "comment_id": 91994381, "body": "You are abusing the inheritance semantics. A body is <i>composed</i> of a head (and other body parts), a head <i>is not</i> a body. If what you mean by &quot;nesting classes&quot; is &quot;composition&quot;, then <i>no, it is not a poor practice at all</i>. Most people would agree that you should prefer composition over inheritance, and indeed, there are extremist views that say <i>never use inheritance, always use composition</i>. You are <i>mixing</i> inheritance and composition in a fundamentally broken way."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 1090581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f532583607b50e16bfdda895a724d16?s=128&d=identicon&r=PG", "display_name": "felimz", "link": "https://stackoverflow.com/users/1090581/felimz"}, "edited": false, "score": 0, "creation_date": 1538008364, "post_id": 52527277, "comment_id": 91995134, "body": "Using this answer, how can the Head class access the properties and methods of the Body, if needed? For example, let&#39;s say that Body has a method called &quot;sun_tan()&quot; which can act on the whole Body or just parts of it?"}], "tags": [], "owner": {"reputation": 1170, "user_id": 4557382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d82662e2c9ef9f43f2a0ffa416686c3?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Portnoy", "link": "https://stackoverflow.com/users/4557382/andrey-portnoy"}, "is_accepted": true, "score": 2, "last_activity_date": 1538071648, "last_edit_date": 1538071648, "creation_date": 1538004045, "answer_id": 52527277, "question_id": 52527232, "link": "https://stackoverflow.com/questions/52527232/how-can-does-one-declare-a-sub-class-object-inside-of-a-base-class-without-leadi/52527277#52527277", "title": "how can does one declare a sub-class object inside of a base class without leading to recursion errors?", "body": "<p>A head is not a <em>kind</em> of body, it's a <em>part</em> of the body AFAIK.</p>\n\n<p>So you should be using <em>composition</em> instead of <em>inheritance</em>:</p>\n\n<pre><code>class Head:\n    def __init__(self):\n        # ...Set-up head...\n\n    def head_actions():\n        print('Head does something')\n\nclass Body:\n    def __init__(self):\n        self.head = Head()\n        # ...Set-up body...\n\n    def body_actions:\n        print('Body does something')\n</code></pre>\n\n<p>Now you can do:</p>\n\n<pre><code>body = Body()\nbody.body_actions()\nbody.head.head_actions()\n</code></pre>\n\n<p>The reason you get infinite recursion is that your <code>Body</code> is the superclass of <code>Head</code>, so when you call <code>super().__init__()</code> you instantiate a <code>Body</code>, which in your implementation creates a <code>Head</code>, which calls <code>super().__init__()</code> and so forth. </p>\n\n<p>Composition (if that's what you mean by 'nesting') is not bad practice, it's standard practice and often makes more sense than inheritance.</p>\n\n<hr>\n\n<p><strong>Edit in response to comment</strong></p>\n\n<p>To access the <code>Body</code> methods from the <code>Head</code> you can pass a reference to the <code>Body</code> on creation. So redefine the classes as follows:</p>\n\n<pre><code>class Head:\n    def __init__(self, body):\n        self.body = body\n\n    def head_actions():\n        print('Head does something')\n\nclass Body:\n    def __init__(self):\n        self.head = Head(self)\n\n    def body_actions:\n        print('Body does something')\n</code></pre>\n\n<p>Now you can access the head from the body and the body from the head:</p>\n\n<pre><code>body = Body()\nhead = body.head\nhead.body.body_actions()\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>body.head.body.body_actions()\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 1090581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f532583607b50e16bfdda895a724d16?s=128&d=identicon&r=PG", "display_name": "felimz", "link": "https://stackoverflow.com/users/1090581/felimz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 52527277, "answer_count": 1, "score": 2, "last_activity_date": 1538071648, "creation_date": 1538003641, "last_edit_date": 1538004120, "question_id": 52527232, "link": "https://stackoverflow.com/questions/52527232/how-can-does-one-declare-a-sub-class-object-inside-of-a-base-class-without-leadi", "title": "how can does one declare a sub-class object inside of a base class without leading to recursion errors?", "body": "<p>I am trying to structure a Python 3 program as follows:</p>\n\n<p><strong>Base Class</strong>: Body</p>\n\n<p><strong>Sub-Class</strong>: Head</p>\n\n<p>A super-simple code representation is as follows:</p>\n\n<pre><code>class Body:\n    def __init__(self):\n        self.head_obj = Head()\n        # ...Set-up body...\n\n    def body_actions:\n        print('Body does something')\n\n\nclass Head(Body):\n    def __init__(self):\n        super().__init__()\n        # ...Set-up head...\n\n    def head_actions:\n        print('Head does something')\n</code></pre>\n\n<p>I want to be able to create an instance of Body called 'body_obj' and then access the Head sub-class (and its properties/methods) as follows:</p>\n\n<pre><code>body_obj = Body()\nbody_obj.body_actions()\nbody_obj.head_obj.head_actions()\n</code></pre>\n\n<p>However, when I run the code, Python returns a maximum recursion depth RuntimeError.</p>\n\n<p>I need to do some setup with __ init __ in both the Body and Head classes, and Pycharm complains when I don't call a super() function within the Head class's __ init __ as this appears to be bad practice.</p>\n\n<p>What is the proper way to set up this kind of structure where a Class's sub-objects all need to be initialized when the base class is instantiated?</p>\n\n<p>I have looked into nesting the classes, but this also appears to be poor practice.</p>\n"}, {"tags": ["python", "linux", "ubuntu", "pip", "uninstallation"], "comments": [{"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 1, "creation_date": 1538007864, "post_id": 52527203, "comment_id": 91995012, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44967202/pip-is-showing-error-lsb-release-a-returned-non-zero-exit-status-1\">pip is showing error &#39;lsb_release -a&#39; returned non-zero exit status 1</a>"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1538007869, "post_id": 52527203, "comment_id": 91995016, "body": "<a href=\"https://stackoverflow.com/search?q=%5Bpip%5D++Command+lsb_release+returned+non-zero+exit+status\">stackoverflow.com/&hellip;</a>"}, {"owner": {"reputation": 2750, "user_id": 8645590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21294be3adc65e1d68b7de3199d5a28d?s=128&d=identicon&r=PG&f=1", "display_name": "Vikram Hosakote", "link": "https://stackoverflow.com/users/8645590/vikram-hosakote"}, "edited": false, "score": 0, "creation_date": 1565633886, "post_id": 52527203, "comment_id": 101405790, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/a/57466255/8645590\">stackoverflow.com/a/57466255/8645590</a>."}], "owner": {"reputation": 13, "user_id": 5041028, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OcIRh03nOdQ/AAAAAAAAAAI/AAAAAAAAOhQ/K24aw0_xcG4/photo.jpg?sz=128", "display_name": "sai kiran", "link": "https://stackoverflow.com/users/5041028/sai-kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538003440, "creation_date": 1538003440, "question_id": 52527203, "link": "https://stackoverflow.com/questions/52527203/i-am-not-able-to-work-on-pip-command-and-uninstall-it", "title": "i am not able to work on pip command and uninstall it.", "body": "<p>while trying to uninstall pip or working with command pip this error is showing up. Can anyone help me how to make pip command work or to uninstall it and re-install again. Can you post those command that i need to try. Thank you.</p>\n\n<pre><code> nuk@nuk-desktop:/$ pip uninstall pip\n    Exception:\n    Traceback (most recent call last):\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/basecommand.py\", line 228, in main\n        status = self.run(options, args)\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/commands/uninstall.py\", line 46, in run\n        with self._build_session(options) as session:\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/basecommand.py\", line 81, in _build_session\n        insecure_hosts=options.trusted_hosts,\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/download.py\", line 338, in __init__\n        self.headers[\"User-Agent\"] = user_agent()\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/download.py\", line 101, in user_agent\n        zip([\"name\", \"version\", \"id\"], distro.linux_distribution()),\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 120, in linux_distribution\n        return _distro.linux_distribution(full_distribution_name)\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 634, in linux_distribution\n        self.version(),\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 688, in version\n        self.lsb_release_attr('release'),\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 836, in lsb_release_attr\n        return self._lsb_release_info.get(attribute, '')\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 522, in __get__\n        ret = obj.__dict__[self._fname] = self._f(obj)\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 933, in _lsb_release_info\n        stdout = subprocess.check_output(cmd, stderr=devnull)\n      File \"/usr/lib/python2.7/subprocess.py\", line 573, in check_output\n        raise CalledProcessError(retcode, cmd, output=output)\n    CalledProcessError: Command '('lsb_release', '-a')' returned non-zero exit status 1\n    Traceback (most recent call last):\n      File \"/usr/local/bin/pip\", line 11, in &lt;module&gt;\n        load_entry_point('pip==10.0.1', 'console_scripts', 'pip')()\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/__init__.py\", line 246, in main\n        return command.main(cmd_args)\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/basecommand.py\", line 264, in main\n        timeout=min(5, options.timeout)) as session:\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/basecommand.py\", line 81, in _build_session\n        insecure_hosts=options.trusted_hosts,\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/download.py\", line 338, in __init__\n        self.headers[\"User-Agent\"] = user_agent()\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_internal/download.py\", line 101, in user_agent\n        zip([\"name\", \"version\", \"id\"], distro.linux_distribution()),\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 120, in linux_distribution\n        return _distro.linux_distribution(full_distribution_name)\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 634, in linux_distribution\n        self.version(),\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 688, in version\n        self.lsb_release_attr('release'),\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 836, in lsb_release_attr\n        return self._lsb_release_info.get(attribute, '')\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 522, in __get__\n        ret = obj.__dict__[self._fname] = self._f(obj)\n      File \"/usr/local/lib/python2.7/dist-packages/pip/_vendor/distro.py\", line 933, in _lsb_release_info\n        stdout = subprocess.check_output(cmd, stderr=devnull)\n      File \"/usr/lib/python2.7/subprocess.py\", line 573, in check_output\n        raise CalledProcessError(retcode, cmd, output=output)\n    subprocess.CalledProcessError: Command '('lsb_release', '-a')' returned non-zero exit status 1\n</code></pre>\n"}, {"tags": ["python", "directory"], "comments": [{"owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "edited": false, "score": 0, "creation_date": 1538003451, "post_id": 52527191, "comment_id": 91994042, "body": "I also tried np.genfromtxt(&#39;{}&#39;.format(filename),skip_header=11,usecols=(&zwnj;&#8203;5,7,9),delimiter=&#39;  &#39;, unpack = True)"}], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "is_accepted": false, "score": 0, "last_activity_date": 1538004346, "creation_date": 1538004346, "answer_id": 52527331, "question_id": 52527191, "link": "https://stackoverflow.com/questions/52527191/for-each-file-in-directory-use-np-loadtxt/52527331#52527331", "title": "For each file in directory, use np.loadtxt?", "body": "<p>Here is a way to do this!</p>\n\n<pre><code>from glob import glob\nfor filename in glob(\"./*.hrt\"):\n      Sin,Sout,IR = np.genfromtxt(str(filename),skip_header=11,usecols=(5,7,9),delimiter='  ', unpack = True)\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1538004346, "creation_date": 1538003315, "question_id": 52527191, "link": "https://stackoverflow.com/questions/52527191/for-each-file-in-directory-use-np-loadtxt", "title": "For each file in directory, use np.loadtxt?", "body": "<p>I'm looking to load each file in a directory using numpy.loadtxt or bumpy.genfromtxt.</p>\n\n<pre><code>for filename in os.listdir('./'):\n        if filename.endswith(\".hrt\"):\n                print filename\n                Sin,Sout,IR = np.genfromtxt(filename,skip_header=11,usecols=(5,7,9),delimiter='  ', unpack = True)\n</code></pre>\n\n<p>The first part of this works (it correctly prints each filename in the directory that ends with \".hrt\"). But then I'm not able to load the file into genfromtxt or loadtxt.\nDoes anyone have a solution for this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas", "plot"], "comments": [{"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1538004933, "post_id": 52527186, "comment_id": 91994374, "body": "You can see my answer below, but you are also missing an equals sign <code>=</code> when you are assigning keyword <code>x</code> in your code above."}], "answers": [{"comments": [{"owner": {"reputation": 417, "user_id": 9353165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A53wc9UB96Y/AAAAAAAAAAI/AAAAAAAAABI/ZauFJf18cOg/photo.jpg?sz=128", "display_name": "aks85", "link": "https://stackoverflow.com/users/9353165/aks85"}, "edited": false, "score": 0, "creation_date": 1538014515, "post_id": 52527384, "comment_id": 91996374, "body": "I knew it was something straightforward. Thank you!"}], "tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": true, "score": 1, "last_activity_date": 1538004801, "creation_date": 1538004801, "answer_id": 52527384, "question_id": 52527186, "link": "https://stackoverflow.com/questions/52527186/pandas-plot-multiple-columns-on-a-single-bar-chart/52527384#52527384", "title": "Pandas plot multiple columns on a single bar chart", "body": "<p>Here is a short example dataframe:</p>\n\n<pre><code>         Date     Open     High     Low    Close  Adj Close    Volume\n0  1996-01-01  4.06250  4.12500  3.8750  3.90625   3.093209   7048800\n1  1996-02-01  3.84375  3.96875  3.5000  3.62500   2.870497  12864000\n2  1996-03-01  3.50000  4.25000  3.5000  4.12500   3.266428   9526400\n3  1996-04-01  4.06250  4.68750  4.0625  4.50000   3.563378   5693600\n4  1996-05-01  4.40625  4.65625  4.1250  4.21875   3.340666  30480000\n</code></pre>\n\n<p>Then you can do:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndf[['Open','High','Low','Close','Adj Close']].plot(kind='bar')\n\nplt.show()\n</code></pre>\n\n<p>Which gives:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vpEAy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vpEAy.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 417, "user_id": 9353165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A53wc9UB96Y/AAAAAAAAAAI/AAAAAAAAABI/ZauFJf18cOg/photo.jpg?sz=128", "display_name": "aks85", "link": "https://stackoverflow.com/users/9353165/aks85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9799, "favorite_count": 0, "accepted_answer_id": 52527384, "answer_count": 1, "score": 0, "last_activity_date": 1538004801, "creation_date": 1538003284, "question_id": 52527186, "link": "https://stackoverflow.com/questions/52527186/pandas-plot-multiple-columns-on-a-single-bar-chart", "title": "Pandas plot multiple columns on a single bar chart", "body": "<p>I'm trying to plot multiple columns onto a single bar chart. </p>\n\n<p>First, I defined them: </p>\n\n<pre><code>public_action_sum = df['Q17.4_1'].sum()    \ntestified_sum = df['Q17.4_4'].sum()\nmet_el_sum = df['Q17.4_5'].sum()\n... \n</code></pre>\n\n<p>and then merged those sums into a single dataframe: \n    <code>actions_combined = [public_action_sum, testified_sum, met_el_sum, policy_sum, bill_sum]</code></p>\n\n<p>I'm trying to use <code>pandas.DataFrame.plot.bar</code> and have written: </p>\n\n<pre><code>pd.DataFrame.plot.bar(x['Q17.4_1','Q17.4_4','Q17.4_5','Q17.4_6','Q17.4_7'],y=actions_combined,rot=0)\n</code></pre>\n\n<p>but am getting the error \"missing 1 required positional argument: 'self'</p>\n\n<p>I've spent the last hour and a half trying to figure this iout, and am not sure where I'm going wrong. Thoughts? THANKS!</p>\n"}, {"tags": ["python", "arrays", "python-3.x", "list-comprehension"], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1538010809, "post_id": 52527235, "comment_id": 91995655, "body": "Note that for simple assignment (rather than mutation), you can do slice assignment more simply/efficiently, e.g. for setting the initial <code>100</code>s, <code>l[:2] = [100]*2</code>. Bulk mutation (e.g. <code>l[:3] += 100</code>) would only work with third party types like <code>numpy</code> arrays."}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1538011091, "post_id": 52527235, "comment_id": 91995710, "body": "@ShadowRanger Yep that is correct I do know that, I&#39;m still fresh to programming, I have brief use of some techniques as such that slip my mind when responding but yes, I agree and should have known"}], "tags": [], "owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "is_accepted": true, "score": 1, "last_activity_date": 1538011474, "last_edit_date": 1538011474, "creation_date": 1538003669, "answer_id": 52527235, "question_id": 52527175, "link": "https://stackoverflow.com/questions/52527175/replacing-and-adding-to-a-slice-of-array-in-python3/52527235#52527235", "title": "replacing and adding to a slice of array in python3", "body": "<p>Use <code>enumerate</code> here It will let you access the <code>index</code>s you are interested in and assign values or manipulate them </p>\n\n<pre><code>l = [0, 0, 0, 0, 0]\n\nfor idx, item in enumerate(l[:2]):\n    l[idx] = 100\n\nfor idx, item in enumerate(l[:3]):\n    l[idx] += 100\n\nprint(l)\n</code></pre>\n\n<p>*Note : Initial assignment can be done via (@ShadowRanger)</p>\n\n<pre><code>l[:2] = [100] * 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "is_accepted": false, "score": 0, "last_activity_date": 1538011466, "last_edit_date": 1538011466, "creation_date": 1538011129, "answer_id": 52528080, "question_id": 52527175, "link": "https://stackoverflow.com/questions/52527175/replacing-and-adding-to-a-slice-of-array-in-python3/52528080#52528080", "title": "replacing and adding to a slice of array in python3", "body": "<p>The common way is to use <code>range</code> and a loop.</p>\n\n<pre><code>a = [0, 0, 0, 0]\n\nfor i in range(2):\n    a[i] = 100\n\nfor i in range(3):\n    a[i] += 100\n\nprint(a) # [200, 200, 100, 0]\n</code></pre>\n\n<p>Although, it is good to know that Python supports slice assignation.</p>\n\n<pre><code>a = [0, 0, 0, 0]\n\na[0:2] = [100, 100]\n\n# To some extent, this even can be done\na[0:3] = map(lambda x: x + 100, a[0:3])\n\nprint(a) # [200, 200, 100, 0]\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5931677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d6e61695e5705185207f2296ab90b?s=128&d=identicon&r=PG&f=1", "display_name": "r4dicalbuRn", "link": "https://stackoverflow.com/users/5931677/r4dicalburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 52527235, "answer_count": 2, "score": 0, "last_activity_date": 1538011474, "creation_date": 1538003188, "last_edit_date": 1538010646, "question_id": 52527175, "link": "https://stackoverflow.com/questions/52527175/replacing-and-adding-to-a-slice-of-array-in-python3", "title": "replacing and adding to a slice of array in python3", "body": "<p>I want to make a slice of array and then assign each element of a slice to a number and then update according to indices I provide.</p>\n\n<p>For example:</p>\n\n<pre><code>[0, 0, 0, 0, 0] --&gt; initial array\n</code></pre>\n\n<p>I want to assign 100 to first two elements i.e </p>\n\n<pre><code>a[0:2] = 100 for j in range(0,2)\n</code></pre>\n\n<p>so now the array becomes </p>\n\n<pre><code>[100, 100, 0, 0, 0]\n</code></pre>\n\n<p>now if i want to add 100 to the first three elements so the array should now become</p>\n\n<pre><code>[200, 200, 100, 0, 0]\n</code></pre>\n\n<p>what's the correct way to do this? I am getting a syntax error for the following code:</p>\n\n<pre><code>def arrayManipulation(n, queries):\nn = 10\n//queries is list of [[starting index, ending index, value to be updated]]\ninitialArray = [0]*n;\nfor i in queries:\n    firstIndex = i[0]-1\n    secondIndex = i[1]\n    initialArray[firstIndex:secondIndex] = ((initialArray[j] += i[2]) for j in range(firstIndex, secondIndex))\n    print(initialArray)\n</code></pre>\n"}, {"tags": ["python", "numpy", "memory"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1538003927, "post_id": 52527152, "comment_id": 91994158, "body": "try <code>np.sqrt(A, dtype=np.float32)</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1538003969, "post_id": 52527152, "comment_id": 91994164, "body": "<code>np.sqrt(A, out=A)</code> should fix this particular MemoryError, but we can&#39;t say what&#39;s causing you to blow your RAM without seeing pretty much your whole program."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1538004491, "post_id": 52527152, "comment_id": 91994291, "body": "I think @user2357112 solution should definitely work (and should definitely be preferred), however, I&#39;d be curious if providing the <code>dtype=np.float32</code> argument to <code>np.sqrt</code> would solve your problem. Testing it out, it seems to require a smaller amount of memory. There is a lot of arcana involved with ufuncs..."}], "owner": {"reputation": 655, "user_id": 1895996, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a8c142864d950da1e8ab254610a6e4ae?s=128&d=identicon&r=PG", "display_name": "Grant Petty", "link": "https://stackoverflow.com/users/1895996/grant-petty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538002997, "creation_date": 1538002997, "question_id": 52527152, "link": "https://stackoverflow.com/questions/52527152/why-did-i-get-a-memory-error-for-np-sqrt-on-a-machine-with-seemingly-ample-ram", "title": "Why did I get a memory error for np.sqrt on a machine with seemingly ample RAM?", "body": "<p>I'm running a simple Python program that takes many hours to create a large (102,000 x 102,000) float32 array (A).  Total memory occupied by the array is ~40GiB, and I'm running this on an Amazon EC2 virtual machine (running Ubuntu) with 130GiB of RAM.  There are no other user processes running, and I can use 'top' to see that, in fact, the program is only using about 56GiB during the array creation phase (don't ask me why it's using even that much), consistently leaving about about 68GiB free, even after allowing for system processes.  So far, so good.</p>\n\n<p>But the near-final line in the program is </p>\n\n<pre><code>A = np.sqrt(A)\n</code></pre>\n\n<p>and at this point, the program crashes with a memory error.  I don't understand why this is happening, even allowing for the need for a temporary array of the same size (this should still leave about 28 GiB free).  The only thing I can think of is that np.sqrt() might be internally using float64 for the scratch space.  Is there any other possible explanation? </p>\n\n<p>My only workaround right now is to compute the square root element-by-element in for loops. </p>\n"}, {"tags": ["python", "qt"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1538003115, "post_id": 52527137, "comment_id": 91993953, "body": "Qt4 with Qt5 can coexist together, so the idea of upgrade does not exist, remove Qt4 and install Qt5."}, {"owner": {"reputation": 1195, "user_id": 8867721, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bfa5912b7212cf637606de5158ad0226?s=128&d=identicon&r=PG&f=1", "display_name": "OD1995", "link": "https://stackoverflow.com/users/8867721/od1995"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1538004286, "post_id": 52527137, "comment_id": 91994244, "body": "@eyllanesc as simple as <code>conda uninstall qt</code> then <code>conda install qt</code>?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1538004437, "post_id": 52527137, "comment_id": 91994278, "body": "<a href=\"https://anaconda.org/anaconda/qt\" rel=\"nofollow noreferrer\">anaconda.org/anaconda/qt</a>"}], "owner": {"reputation": 1195, "user_id": 8867721, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bfa5912b7212cf637606de5158ad0226?s=128&d=identicon&r=PG&f=1", "display_name": "OD1995", "link": "https://stackoverflow.com/users/8867721/od1995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1310, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538002906, "creation_date": 1538002906, "question_id": 52527137, "link": "https://stackoverflow.com/questions/52527137/how-to-upgrade-from-qt4-to-qt5-with-anaconda", "title": "How to upgrade from Qt4 to Qt5 with Anaconda", "body": "<p>I need to update from Qt4 to Qt5 to use Spyder. I have done <code>conda update qt</code> but I have remained on version 4.8.7.</p>\n\n<p>I am already on PyQt5 (5.9.2), which may be relevant.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 390, "user_id": 6890334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294c2653a453075abfb2ee96a5121115?s=128&d=identicon&r=PG&f=1", "display_name": "ctj232", "link": "https://stackoverflow.com/users/6890334/ctj232"}, "is_accepted": false, "score": 1, "last_activity_date": 1538002824, "creation_date": 1538002824, "answer_id": 52527122, "question_id": 52527098, "link": "https://stackoverflow.com/questions/52527098/python-output-elements-in-two-lists-on-separate-lines/52527122#52527122", "title": "Python - Output Elements in Two Lists on Separate Lines", "body": "<p>You could try:</p>\n\n<pre><code>   for test, grade in zip(testSet, calculatedMarks):\n       print(\"{}    {}\".format(test, grade))\n</code></pre>\n\n<p>Your example would print the <em>entire</em> lists in a single <code>print</code> call.</p>\n\n<p>This will iterate over the lists (creating pairs from each list using <code>zip</code>) and print each pair on it's own line.</p>\n\n<p>As in Dawg's answer, you can use a list comprehension and the <code>str.join</code> function instead of a for loop with a body to get this in a single line/print statement.</p>\n"}, {"comments": [{"owner": {"reputation": 390, "user_id": 6890334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294c2653a453075abfb2ee96a5121115?s=128&d=identicon&r=PG&f=1", "display_name": "ctj232", "link": "https://stackoverflow.com/users/6890334/ctj232"}, "edited": false, "score": 0, "creation_date": 1538002953, "post_id": 52527138, "comment_id": 91993916, "body": "This is the more pythonic answer in my opinion. Thanks dawg"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 390, "user_id": 6890334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294c2653a453075abfb2ee96a5121115?s=128&d=identicon&r=PG&f=1", "display_name": "ctj232", "link": "https://stackoverflow.com/users/6890334/ctj232"}, "edited": false, "score": 1, "creation_date": 1538003470, "post_id": 52527138, "comment_id": 91994048, "body": "Python 2 or Python 3? If Python 3, add the parenthesis for <code>print</code>"}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": true, "score": 1, "last_activity_date": 1538003782, "last_edit_date": 1538003782, "creation_date": 1538002914, "answer_id": 52527138, "question_id": 52527098, "link": "https://stackoverflow.com/questions/52527098/python-output-elements-in-two-lists-on-separate-lines/52527138#52527138", "title": "Python - Output Elements in Two Lists on Separate Lines", "body": "<p>Given:</p>\n\n<pre><code>&gt;&gt;&gt; li1=['Chapter One Test', 'Chapter Two Test', 'Chapter Three Test']\n&gt;&gt;&gt; li2=['84%', '75%', '90%']\n</code></pre>\n\n<p>You can <a href=\"https://docs.python.org/3.7/library/functions.html#zip\" rel=\"nofollow noreferrer\">zip</a> the two lists together:</p>\n\n<pre><code>&gt;&gt;&gt; print('\\n'.join(['{}\\t{}'.format(*t) for t in zip(li1,li2)]))\nChapter One Test    84%\nChapter Two Test    75%\nChapter Three Test  90%\n</code></pre>\n\n<p>If you want to make a table, you might make the field widths fixed rather than <code>\\t</code> separated:</p>\n\n<pre><code>&gt;&gt;&gt; print('\\n'.join(['{:22s}{:3s}'.format(*t) for t in zip(li1,li2)]))\nChapter One Test      84%\nChapter Two Test      75%\nChapter Three Test    90%\n</code></pre>\n\n<p>Read more about format <a href=\"https://docs.python.org/3.7/library/string.html#format-specification-mini-language\" rel=\"nofollow noreferrer\">mini-language</a> to find out more about those options.</p>\n"}, {"comments": [{"owner": {"reputation": 390, "user_id": 6890334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294c2653a453075abfb2ee96a5121115?s=128&d=identicon&r=PG&f=1", "display_name": "ctj232", "link": "https://stackoverflow.com/users/6890334/ctj232"}, "edited": false, "score": 0, "creation_date": 1538003595, "post_id": 52527192, "comment_id": 91994077, "body": "If you assume the two lists have the same number of indices, why use <code>enumerate</code> instead of <code>zip</code>?"}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 390, "user_id": 6890334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294c2653a453075abfb2ee96a5121115?s=128&d=identicon&r=PG&f=1", "display_name": "ctj232", "link": "https://stackoverflow.com/users/6890334/ctj232"}, "edited": false, "score": 0, "creation_date": 1538003774, "post_id": 52527192, "comment_id": 91994128, "body": "I&#39;m also assuming that if OP could not piece this together that a more gradual step in the right direction would be something he would grasp and not too foreign, loops with <code>enumerate</code> is a smaller step then <code>zip</code>"}], "tags": [], "owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "is_accepted": false, "score": 0, "last_activity_date": 1538003342, "creation_date": 1538003342, "answer_id": 52527192, "question_id": 52527098, "link": "https://stackoverflow.com/questions/52527098/python-output-elements-in-two-lists-on-separate-lines/52527192#52527192", "title": "Python - Output Elements in Two Lists on Separate Lines", "body": "<p>Sticking with your current approach you could make small adjustments by either printing the <code>index</code>'s one by one or making a loop using the <code>index</code> from one of the <code>enumerated</code> lists since they have equal length and sorted to match already, I would also say look into <code>l.just</code> and <code>r.just</code> to achieve formatting that lines up nicely</p>\n\n<pre><code>print (\"{}                     {}\".format(testSet[0], calculatedMarks[0]))\nprint (\"{}                     {}\".format(testSet[1], calculatedMarks[1]))\nprint (\"{}                     {}\".format(testSet[2], calculatedMarks[2]))\n\nfor idx, item in enumerate(testSet):\n    print(\"{}                      {}\".format(testSet[idx], calculatedMarks[idx]))\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 10410152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5e746d61983b5ddef326423edcbef07?s=128&d=identicon&r=PG&f=1", "display_name": "Carstairs", "link": "https://stackoverflow.com/users/10410152/carstairs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 52527138, "answer_count": 3, "score": 1, "last_activity_date": 1538194940, "creation_date": 1538002645, "last_edit_date": 1538194940, "question_id": 52527098, "link": "https://stackoverflow.com/questions/52527098/python-output-elements-in-two-lists-on-separate-lines", "title": "Python - Output Elements in Two Lists on Separate Lines", "body": "<p>I am trying to figure out how I would print each element in both lists on seperate lines like:</p>\n\n<p>Chapter One Test   [large space]                84%</p>\n\n<p>but instead, it prints the whole list out like:</p>\n\n<p>['Chapter One Test', 'Chapter Two Test', 'Chapter Three Test']        [84%,\n75%, 90%]</p>\n\n<p>Does anyone know how to fix this issue?</p>\n"}, {"tags": ["python", "python-3.x", "if-statement", "int"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1538002374, "post_id": 52527011, "comment_id": 91993754, "body": "Your <code>else</code> only fires if <code>c</code> is not 4, because you used <code>if</code> statements rather than <code>elif</code> statements."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10421251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xVgLPPbEBaU/AAAAAAAAAAI/AAAAAAAAEDA/GUELKeZK5Os/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10421251/daniel"}, "edited": false, "score": 0, "creation_date": 1538003372, "post_id": 52527078, "comment_id": 91994026, "body": "yeah, thanks, i was trying to use the elif statement but i didn&#39;t knew exactly how does it work. So i was changing only one statement to elif instead changing 3 if them."}], "tags": [], "owner": {"reputation": 809, "user_id": 2923755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-eUSbCnXkgow/AAAAAAAAAAI/AAAAAAAAArk/QX5YTDngfcA/photo.jpg?sz=128", "display_name": "niCk cAMel", "link": "https://stackoverflow.com/users/2923755/nick-camel"}, "is_accepted": false, "score": 0, "last_activity_date": 1538002509, "creation_date": 1538002509, "answer_id": 52527078, "question_id": 52527011, "link": "https://stackoverflow.com/questions/52527011/how-to-get-the-the-error-message-printed-in-this-situation-because-the-else/52527078#52527078", "title": "How to get the the &quot;Error&quot; message printed in this situation because the &quot;else&quot; statement doesn&#39;t work?", "body": "<p>Your <code>if</code>s work, but you have somewhat misaligned the logic. </p>\n\n<p>Use <code>if</code> <code>elif</code> and <code>else</code></p>\n\n<pre><code>if c==something:\n    print(\"this\")\nelif c==something_else:\n    print(\"that\")\nelse:\n    print(\"error\") \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 10421251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xVgLPPbEBaU/AAAAAAAAAAI/AAAAAAAAEDA/GUELKeZK5Os/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10421251/daniel"}, "edited": false, "score": 0, "creation_date": 1538002733, "post_id": 52527085, "comment_id": 91993866, "body": "no, you are right there&#39;s no error message, but if c has another value, other than 1, 2, 3 or 4 i want this program to output the message &quot;Error&quot;."}, {"owner": {"reputation": 104, "user_id": 7582868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c548d59ebd58a6fd7815cd0dd18fe1d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sebiancoder", "link": "https://stackoverflow.com/users/7582868/sebiancoder"}, "reply_to_user": {"reputation": 25, "user_id": 10421251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xVgLPPbEBaU/AAAAAAAAAAI/AAAAAAAAEDA/GUELKeZK5Os/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10421251/daniel"}, "edited": false, "score": 0, "creation_date": 1538003773, "post_id": 52527085, "comment_id": 91994127, "body": "Yes, if the last statement is &quot;else ...&quot;, then it should still output &quot;error&quot; for values greater than four. The first statement should be &quot;if c == 1&quot;, the second, third and fourth &quot;elif c == x&quot;(with x being the number), and the last &quot;else&quot;. I apologize if I didn&#39;t make that clear in my original answer."}, {"owner": {"reputation": 25, "user_id": 10421251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xVgLPPbEBaU/AAAAAAAAAAI/AAAAAAAAEDA/GUELKeZK5Os/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10421251/daniel"}, "edited": false, "score": 0, "creation_date": 1538004120, "post_id": 52527085, "comment_id": 91994205, "body": "It&#39;s okay, I didn&#39;t get you point of view at first, now, you made it clear. anyways i&#39;m not very familiar with the elif statement, so yeah, i was expecting a more clear explanation."}], "tags": [], "owner": {"reputation": 104, "user_id": 7582868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c548d59ebd58a6fd7815cd0dd18fe1d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sebiancoder", "link": "https://stackoverflow.com/users/7582868/sebiancoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1538002542, "creation_date": 1538002542, "answer_id": 52527085, "question_id": 52527011, "link": "https://stackoverflow.com/questions/52527011/how-to-get-the-the-error-message-printed-in-this-situation-because-the-else/52527085#52527085", "title": "How to get the the &quot;Error&quot; message printed in this situation because the &quot;else&quot; statement doesn&#39;t work?", "body": "<p>After the first if statement, you should use <code>elif</code>, which is short for \"else if\". There is no error message because there is no error, you just have your logic wrong. The compiler is treating every if statement independently, so else runs as long as c is not 4.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 10421251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xVgLPPbEBaU/AAAAAAAAAAI/AAAAAAAAEDA/GUELKeZK5Os/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10421251/daniel"}, "edited": false, "score": 0, "creation_date": 1538003145, "post_id": 52527126, "comment_id": 91993959, "body": "Thanks, i wasn&#39;t sure how to use the elif statement, i tried several variants, but i didn&#39;t reach to this one."}, {"owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "reply_to_user": {"reputation": 25, "user_id": 10421251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xVgLPPbEBaU/AAAAAAAAAAI/AAAAAAAAEDA/GUELKeZK5Os/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10421251/daniel"}, "edited": false, "score": 0, "creation_date": 1538003385, "post_id": 52527126, "comment_id": 91994030, "body": "No prob bud if this helped would appreciate if you checked solved, Cheers!"}], "tags": [], "owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "is_accepted": true, "score": 0, "last_activity_date": 1538002838, "creation_date": 1538002838, "answer_id": 52527126, "question_id": 52527011, "link": "https://stackoverflow.com/questions/52527011/how-to-get-the-the-error-message-printed-in-this-situation-because-the-else/52527126#52527126", "title": "How to get the the &quot;Error&quot; message printed in this situation because the &quot;else&quot; statement doesn&#39;t work?", "body": "<p>Seems like you got it, just make use of <code>elif</code> instead of a chain of <code>ifs</code>, you can also add a message inside <code>input('Here')</code> that will be printed when prompting for an input</p>\n\n<pre><code>a = int(input(\"Enter a number: ))\n\nb = int(input(\"Enter a number: ))\n\nc = int(input(\"Enter a number: ))\n\nif c == 1 :\n    print(a + b)\nelif c == 2 :\n    print(a - b)\nelif c == 3 :\n    print(a * b)\nelif c == 4 :\n    print(a**2 + b*a)\nelse:\n    print('Error')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 10421251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xVgLPPbEBaU/AAAAAAAAAAI/AAAAAAAAEDA/GUELKeZK5Os/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10421251/daniel"}, "edited": false, "score": 0, "creation_date": 1538003544, "post_id": 52527171, "comment_id": 91994064, "body": "Thanks, this will help me a lot, those seems to be some good explications."}], "tags": [], "owner": {"reputation": 3896, "user_id": 1113760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2305795c77659396611129c962beb8a?s=128&d=identicon&r=PG", "display_name": "Cosmic Ossifrage", "link": "https://stackoverflow.com/users/1113760/cosmic-ossifrage"}, "is_accepted": false, "score": 0, "last_activity_date": 1538003594, "last_edit_date": 1538003594, "creation_date": 1538003105, "answer_id": 52527171, "question_id": 52527011, "link": "https://stackoverflow.com/questions/52527011/how-to-get-the-the-error-message-printed-in-this-situation-because-the-else/52527171#52527171", "title": "How to get the the &quot;Error&quot; message printed in this situation because the &quot;else&quot; statement doesn&#39;t work?", "body": "\n\n<p>You're nearly there. The main problem with your program is your <code>if</code> statements are independent, where the problem statement suggests they should not be. Change them for <code>elif</code> statements, which will mean your <code>Error</code> branch only executes when <code>c</code> evaluates to an integer which is not in the set <code>{1, 2, 3, 4}</code>.</p>\n\n<hr>\n\n<h1>Problem 1: program has (possibly) poor control flow</h1>\n\n<p>In most programming languages, the <code>if</code> statement is a basic construct used to execute a block of code conditionally if an expression is true. In the following Python-like pseudocode, the code behind the <code>if</code> block is only executed if the value obtained by evaluating <code>EXPRESSION</code> is true:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>if EXPRESSION:\n    # Do something only if EXPRESSION is true\n\n# Execution continues here after the \"if\" block irrespective of\n# whether EXPRESSION was true and the body of the \"if\" statement\n# was executed.\n</code></pre>\n\n<p>You can augment <code>if</code> statements with <code>else</code> branches. In this case, we execute the body of the <code>if</code> statement if <code>EXPRESSION</code> evaluates to true, and we execute the other arm of the branch (the <code>else</code> branch) if the condition does not evaluate to true (by law of the excluded middle, it's false):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>if EXPRESSION:\n    # As before, control is passed here if EXPRESSION is true.\nelse:\n    # If EXPRESSION was false, control is passed to this arm.\n\n# After executing either the \"if\" arm or the \"else\" arm, control\n# returns to the outer scope outside the \"if\" statement.\n</code></pre>\n\n<p>A more complex construct uses an <em>else-if</em> construct to allow you to <em>nest</em> \"if\" statements. For example, suppose we were implementing a simple call controller which tries to reach someone on their fixed telephone, calls their portable telephone if they are unavailable, and sends an email otherwise. Using the knowledge from above, we might write:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>if answers(fixed_telephone):\n    # Connect to the fixed telephone to communicate\nelse:\n    if answers(portable_telephone):\n        # Connect to the portable telephone to communicate\n    else:\n        # Not available on either telephone. Send an email.\n</code></pre>\n\n<p>As you can imagine, this logic will become complex quickly if there are many nested \"if\" conditions, which is not unusual in real-world scenarios. Most programming languages provide a construct to pull the nested \"if\" statements to the top-level. In Python, this is <code>elif</code>, and the equivalent code to the above is:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>if answers(fixed_telephone):\n    # ...\nelif answers(portable_telephone):\n    # ...\nelse:\n    # ...\n</code></pre>\n\n<p>(comments elided for brevity).</p>\n\n<p>In your code as currently written, each of your <code>if</code> statements will be executed independently <em>except</em> the last <code>if c == 4</code>, which will fall to the <code>else</code> branch if <code>c</code> is not equal to 4. As you want the tests of <code>c</code> to be mutually exclusive, i.e. you don't want anything to happen if an earlier case passed, and you only want to print an error if <em>none</em> of the cases were executed, you should use nested <code>if</code> statements, which are best implemented using the above <code>elif</code> language construct.</p>\n\n<hr>\n\n<h1>Problem 2: program assumes well-formed integers</h1>\n\n<p>Your program also assumes the values read from STDIN for <code>a</code>, <code>b</code> and <code>c</code> are well-formed integers. If you enter a value which cannot be parsed as an integer, it will crash on the integer conversion in the <code>int(...)</code> call, and will not fall through to reach your <code>print('Error')</code> line. This is an example of Python raising an <em>exception</em> because a problem has been encountered which the interpreter cannot itself recover from. Control flow will not begin executing the <code>if</code> blocks, so the <code>print</code> statement will never be executed.</p>\n\n<p>If you want to fix <em>that</em> issue, you'll need to catch the error returned by the <code>int(...)</code> method when it cannot parse the provided value as an integer. This means learning to catch exceptions, which you can <a href=\"https://docs.python.org/3/tutorial/errors.html\" rel=\"nofollow noreferrer\">find out more about in the Python docs</a>.</p>\n\n<p>(Hint: Python will raise an built-in exception of type <code>ValueError</code> when the input to <code>int</code> cannot be parsed, so you need to wrap the calls which populate the three variables <code>a</code>, <code>b</code> and <code>c</code> with a <code>try... catch</code> block which catches such an error:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>try:\n    a = int(input())\ncatch ValueError:\n    # Implement logic to handle this error, which may include\n    # returning an error from your function, setting a default\n    # value, or taking some action. You can optionally take\n    # some action locally, such as print a log message, and then\n    # re-raise the exception so it propagates to this method's\n    # callers (using the \"raise\" keyword).\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10421251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xVgLPPbEBaU/AAAAAAAAAAI/AAAAAAAAEDA/GUELKeZK5Os/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/10421251/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "accepted_answer_id": 52527126, "answer_count": 4, "score": 0, "last_activity_date": 1538003594, "creation_date": 1538002053, "last_edit_date": 1538002953, "question_id": 52527011, "link": "https://stackoverflow.com/questions/52527011/how-to-get-the-the-error-message-printed-in-this-situation-because-the-else", "title": "How to get the the &quot;Error&quot; message printed in this situation because the &quot;else&quot; statement doesn&#39;t work?", "body": "<p>Write the program that reads in input three integers a, b and c. If the integer c is equal to 1, then the program displays on output (prints) the value of a + b; if c is 2 then the program displays the value of a-b; if c is equal to 3 then the output will be the value of a<em>b. Finally, if the value 4 is assigned to c, then the program displays the value of a^2 + b</em>a. If c contains another value, the program displays the message \"Error\"</p>\n\n<pre><code>a = int(input())\nb = int(input())\nc = int(input())\n\nif c == 1:\n    print(a + b)\n\nif c == 2:\n    print(a - b)\n\nif c == 3:\n    print(a * b)\n\nif c == 4:\n    print(a**2 + b*a)\n\nelse:\n    print('Error')\n</code></pre>\n"}, {"tags": ["python", "arcpy"], "answers": [{"comments": [{"owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1538057990, "post_id": 52527115, "comment_id": 92017831, "body": "Thank you. Would above mistake only work if I have multiple customTextElements?"}, {"owner": {"reputation": 1259, "user_id": 10393194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b5fdc7c050b41d2093383eb325f06e?s=128&d=identicon&r=PG&f=1", "display_name": "panktijk", "link": "https://stackoverflow.com/users/10393194/panktijk"}, "reply_to_user": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 1, "creation_date": 1538069881, "post_id": 52527115, "comment_id": 92024643, "body": "When you need to iterate through all the key, value pairs in your dictionary you can do something like <code>for k, v in layoutOpsDict.items()</code>. Your loop only iterates through the keys. Also, you cannot have multiple <code>&quot;customTextElements&quot;</code> in your dictionary because python does not allow duplicate keys."}, {"owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1538083985, "post_id": 52527115, "comment_id": 92030771, "body": "Okay. Thanks for explaining"}], "tags": [], "owner": {"reputation": 1259, "user_id": 10393194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b5fdc7c050b41d2093383eb325f06e?s=128&d=identicon&r=PG&f=1", "display_name": "panktijk", "link": "https://stackoverflow.com/users/10393194/panktijk"}, "is_accepted": true, "score": 1, "last_activity_date": 1538002761, "creation_date": 1538002761, "answer_id": 52527115, "question_id": 52526960, "link": "https://stackoverflow.com/questions/52526960/getting-the-date-from-customtext-from-a-json-string/52527115#52527115", "title": "Getting the date from customText from a json string", "body": "<p>You are looping through every key instead of just <code>\"customTextElements\"</code> and not all of them have a list of dictionaries with <code>\"Date\"</code> as the key.</p>\n\n<p>Since you only want to look through the values mapped to <code>\"customTextElements\"</code> you can only loop through that:</p>\n\n<pre><code>dateList = [dateEle[\"Date\"] for dateEle in layoutOpsDict[\"customTextElements\"]]\n</code></pre>\n"}], "owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 52527115, "answer_count": 1, "score": 0, "last_activity_date": 1538002761, "creation_date": 1538001677, "question_id": 52526960, "link": "https://stackoverflow.com/questions/52526960/getting-the-date-from-customtext-from-a-json-string", "title": "Getting the date from customText from a json string", "body": "<p>I'm trying to loop through this json string </p>\n\n<pre><code>\"layoutOptions\": {\n    \"titleText\": \"Route Number\",\n    \"authorText\": \"West LA Yard\",\n    \"copyrightText\": \"\",\n    \"customTextElements\": [{\n            \"Date\": \"9/11/2018, 7:37:35 AM\"\n        }\n    ],\n    \"scaleBarOptions\": {\n        \"metricUnit\": \"esriKilometers\",\n        \"metricLabel\": \"km\",\n        \"nonMetricUnit\": \"esriMiles\",\n        \"nonMetricLabel\": \"mi\"\n    },\n    \"legendOptions\": {\n        \"operationalLayers\": [{\n                \"id\": \"ParcelRouteEditingTest_1458\"\n            }, {\n                \"id\": \"ParcelRouteEditingTest_1259\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>I keep running to this error <code>list indices must be integers, not str</code></p>\n\n<pre><code>layoutOpsDict = layoutData[\"layoutOptions\"]\ndateList = [dateEle[\"customTextElements\"][\"Date\"] for dateEle in layoutOpsDict]\n</code></pre>\n\n<p>Error:\nTraceback (most recent call last):</p>\n\n<pre><code>  File \"&lt;pyshell#44&gt;\", line 1, in &lt;module&gt;\n    dateList = [dateEle[\"customTextElements\"][\"Date\"] for dateEle in layoutOpsDict]\nTypeError: string indices must be integers, not str\n</code></pre>\n\n<p>What is the best method to grab the date in customTextElements other than keep setting more variables to keep track of?</p>\n"}, {"tags": ["python", "logging", "flask", "multiprocessing"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1538001787, "post_id": 52526921, "comment_id": 91993616, "body": "Please reformat the code in your question to repair indentation."}, {"owner": {"reputation": 1138, "user_id": 4538768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/193e75d8ac32ee74d76e503a49388bf9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Perez", "link": "https://stackoverflow.com/users/4538768/juan-perez"}, "edited": false, "score": 0, "creation_date": 1595890639, "post_id": 52526921, "comment_id": 111625709, "body": "Did you  @user2386301 find an answer about the error?"}], "owner": {"reputation": 343, "user_id": 2386301, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d7d022174e97791d3f48d38b5917128e?s=128&d=identicon&r=PG", "display_name": "user2386301", "link": "https://stackoverflow.com/users/2386301/user2386301"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1375, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1538346265, "creation_date": 1538001397, "last_edit_date": 1538346265, "question_id": 52526921, "link": "https://stackoverflow.com/questions/52526921/python-multiprocessing-throws-cant-pickle-thread-rlock-objects", "title": "Python multiprocessing throws can&#39;t pickle _thread.RLock objects", "body": "<p>I am trying to delgate a long processing task to background, so I can keep my UI responsive. Instead of using multithreading, which is not truly concurrent process, I implement my background task as multiprocessing. However I kept encounter error says </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\source\\MyApp\\MyApp\\env\\lib\\site-packages\\engineio\\server.py\", line 411, in _trigger_event\n    return self.handlers[event](*args)\n  File \"C:\\source\\MyApp\\MyApp\\env\\lib\\site-packages\\socketio\\server.py\", line 522, in _handle_eio_message\n    self._handle_event(sid, pkt.namespace, pkt.id, pkt.data)\n  File \"C:\\source\\MyApp\\MyApp\\env\\lib\\site-packages\\socketio\\server.py\", line 458, in _handle_event\n    self._handle_event_internal(self, sid, data, namespace, id)\n  File \"C:\\source\\MyApp\\MyApp\\env\\lib\\site-packages\\socketio\\server.py\", line 461, in _handle_event_internal\n    r = server._trigger_event(data[0], namespace, sid, *data[1:])\n  File \"C:source\\MyApp\\MyApp\\env\\lib\\site-packages\\socketio\\server.py\", line 490, in _trigger_event\n    return self.handlers[namespace][event](*args)\n  File \"C:\\source\\MyApp\\MyApp\\env\\lib\\site-packages\\flask_socketio\\__init__.py\", line 251, in _handler\n    *args)\n  File \"C:\\source\\MyApp\\MyApp\\env\\lib\\site-packages\\flask_socketio\\__init__.py\", line 634, in _handle_event\n    ret = handler(*args)\n  File \"C:\\source\\MyApp\\MyApp\\MyApp\\routes.py\", line 171, in StartProcess\n    myClassObj.Start()\n  File \"C:\\source\\MyApp\\MyAppv\\src\\Controller.py\", line 121, in Start\n    p.start()\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Python36_64\\lib\\multiprocessing\\process.py\", line 105, in start\n    self._popen = self._Popen(self)\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Python36_64\\lib\\multiprocessing\\context.py\", line 223, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Python36_64\\lib\\multiprocessing\\context.py\", line 322, in _Popen\n    return Popen(process_obj)\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Python36_64\\lib\\multiprocessing\\popen_spawn_win32.py\", line 65, in __init__\n    reduction.dump(process_obj, to_child)\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Python36_64\\lib\\multiprocessing\\reduction.py\", line 60, in dump\n    ForkingPickler(file, protocol).dump(obj)\nTypeError: can't pickle _thread.RLock objects\n</code></pre>\n\n<p>I am wondering where do I do wrong in using multiprocessing.</p>\n\n<pre><code>class MyClass(Object):\n    def __init__(self):\n       self._logger= logging.getLogger('MyClassObj')\n       pass\n    def Start(self):\n       p = Process(self.Test, args(1,))\n       p.start()\n    def Test(self, number):\n       print(number)\n</code></pre>\n\n<p>I am calling this class method from flask route.py, where </p>\n\n<pre><code>@socketio.on('StartProcess')\ndef StartProcess(msg):\n    \"\"\"\"Do Processing\"\"\"\n    myClassObj.Start()\n    return 'OK'\n</code></pre>\n\n<p>This route.py is not the entry point of the my application, which this is called by runserver.py</p>\n\n<pre><code>from os import environ\nfrom MyApp import routes\nfrom MyApp import app\nfrom flask_socketio import SocketIO\nfrom MyApp.routes import socketio\n\nif __name__ == '__main__':\n   HOST = environ.get('SERVER_HOST', 'localhost')\ntry:\n    PORT = int(environ.get('SERVER_PORT', '5555'))\nexcept ValueError:\n    PORT = 5555\nsocketio.run(app, host='0.0.0.0', port=PORT, debug=False)\n</code></pre>\n\n<p>I do keep seeing people mention the multiprocessing needs to run under a statement</p>\n\n<pre><code>if __name__ == '__main__':\n</code></pre>\n\n<p>But I am not sure how to correctly use multiprocessing in my case because at the entry point (runserver.py), I do not need my background process.  </p>\n\n<p>=== Edit ====</p>\n\n<p>I created a very simple example to further elaborate this problem. My application has a simple flask app structure. </p>\n\n<p>entry point runserver.py:</p>\n\n<pre><code>from os import environ\nfrom MultiprocessDemo import app\n\nif __name__ == '__main__':\n    HOST = environ.get('SERVER_HOST', 'localhost')\n    try:\n        PORT = int(environ.get('SERVER_PORT', '5100'))\n    except ValueError:\n        PORT = 5100\n    app.run(HOST, PORT,threaded=False) \n</code></pre>\n\n<p>route-level views.py:</p>\n\n<pre><code>from datetime import datetime\nfrom flask import render_template\nfrom multiprocessing import Process\nfrom MultiprocessDemo import app\nfrom flask_socketio import SocketIO, emit\nfrom MultiprocessDemo.src.MultiprocessClass import MyClass\n\napp.config['SECRET_KEY'] = 'secret!'\n#socketio = SocketIO(app)\n\nobj = MyClass()\n\n@app.route('/')\ndef index():\n    \"\"\"Request To Fire Multiprocess.\"\"\"\n    return render_template(\n        'Demo.html'\n    )\n\n@app.route('/TriggerMultiprocess', methods=['GET','POST'])\ndef TriggerMultiprocess():\n    print('request to trigger')\n    obj .Start()\n    return render_template(\n        'Demo.html'\n    )\n</code></pre>\n\n<p>The MyClass object which create and execute multiprocess</p>\n\n<pre><code>#import queue #Queue as of python 2.x\nfrom multiprocessing import Queue\nimport threading\nimport cv2\nimport os, errno, sys\nimport logging\nimport datetime\nimport time\nfrom multiprocessing import Process\n\nclass MyClass(object):\n\n    def __init__(self):\n        # ==Where Issue happens ==========================\n        self._logger= logging.getLogger('MyClassObj')\n        self._logger.setLevel(logging.DEBUG)\n        format = logging.Formatter('%(levelname)s - %(asctime)s - (module)s - %(thread)d - %(message)s')\n        pass\n    def Start(self):\n        self.jobs = []\n        self._nThread = 3\n        for i in range (0, self._nThread):\n            thread = Process(target=self.Test, args=('classobj',))\n            self.jobs.append(thread)\n        # Start the threads (i.e. calculate the random number lists)\n        for j in self.jobs:\n            j.start()\n\n#bk thread to consume tasks\n    def Test(self, name):\n        i = 0\n        while i &lt; 20:\n            print('hello, {}'.format(name))\n</code></pre>\n\n<p>I found out that if the MyClass does not contain member of python logger, the multiprocess will be executed without issue, otherwise, it will throw the same error I've encountered previously. TypeError: can't pickle _thread.RLock objects </p>\n\n<p>However, for the same class, if I call them from the following script, without flask, I will not encounter any issue with pickling, whether or not logger is part of the class member.</p>\n\n<pre><code>from MultiprocessClass import MyClass\n\nimport time\n\nif __name__ == '__main__':\n\n    a = MyClass()\n    a.Start()\n    print(\"done\")\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "matrix", "pyspark", "apache-spark-mllib"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 1, "creation_date": 1538002551, "post_id": 52526913, "comment_id": 91993811, "body": "See if <a href=\"https://stackoverflow.com/a/48674645/5858851\">my answer here</a> works for you. I am not sure if there&#39;s a more distributed/parallel way."}, {"owner": {"reputation": 45, "user_id": 7542835, "user_type": "registered", "profile_image": "https://graph.facebook.com/10104270657245670/picture?type=large", "display_name": "Dan Grossnickle", "link": "https://stackoverflow.com/users/7542835/dan-grossnickle"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1538165114, "post_id": 52526913, "comment_id": 92062580, "body": "Thanks, this was helpful!"}, {"owner": {"reputation": 45, "user_id": 7542835, "user_type": "registered", "profile_image": "https://graph.facebook.com/10104270657245670/picture?type=large", "display_name": "Dan Grossnickle", "link": "https://stackoverflow.com/users/7542835/dan-grossnickle"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1538408530, "post_id": 52526913, "comment_id": 92123860, "body": "Pault - This works, but performance is absolutely terrible. Have you had any luck speeding up multiple unions on a single dataframe? ... I cannot seem to figure out why this would be so slow."}], "owner": {"reputation": 45, "user_id": 7542835, "user_type": "registered", "profile_image": "https://graph.facebook.com/10104270657245670/picture?type=large", "display_name": "Dan Grossnickle", "link": "https://stackoverflow.com/users/7542835/dan-grossnickle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538001336, "creation_date": 1538001336, "question_id": 52526913, "link": "https://stackoverflow.com/questions/52526913/pyspark-distributed-matrix-sum-non-null-values", "title": "Pyspark distributed matrix sum non-null values", "body": "<p>I'm attempting to convert a pandas \"dot matrix nansum\" function to <strong>pyspark</strong>. \nThe goal is to convert this table into a matrix of non-null column sums:</p>\n\n<pre><code>    dan ste bob\nt1  na  2   na\nt2  2   na  1\nt3  2   1   na\nt4  1   na  2\nt5  na  1   2\nt6  2   1   na\nt7  1   na  2\n</code></pre>\n\n<p>For example, when 'dan' is not-null (t-2,3,4,6,7) the sum of 'ste' is 2 and 'bob' is 5. When 'ste' is not-null the sum of 'dan' is 4. (I zeroed out the diagonal, but no need to)</p>\n\n<pre><code>    dan ste bob\ndan 0   2   5\nste 4   0   2\nbob 4   1   0\n</code></pre>\n\n<p>the calculation must remain distributed (no toPandas).\nHere's the pandas version which works wonderfully: <a href=\"https://stackoverflow.com/a/46871184/7542835\">https://stackoverflow.com/a/46871184/7542835</a></p>\n"}, {"tags": ["python", "int"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1538001191, "post_id": 52526856, "comment_id": 91993483, "body": "Use <code>my_str=&quot;0000063C&quot;</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1538001322, "post_id": 52526856, "comment_id": 91993514, "body": "The code you&#39;ve posted produces a SyntaxError on the invalid <code>0000063C</code> token, not a ValueError on the <code>int</code> call."}, {"owner": {"reputation": 21, "user_id": 8534572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0798809aa6ef89a30ec0e0b313e16cba?s=128&d=identicon&r=PG&f=1", "display_name": "Verif_engg", "link": "https://stackoverflow.com/users/8534572/verif-engg"}, "edited": false, "score": 0, "creation_date": 1538003841, "post_id": 52526856, "comment_id": 91994140, "body": "I need the flexibility to assign my_str &quot;any&quot; string. When I do print(type(my_str)), I get back a string. But I still see the error :("}], "answers": [{"tags": [], "owner": {"reputation": 695, "user_id": 4521875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAE4o.jpg?s=128&g=1", "display_name": "Armando Perez", "link": "https://stackoverflow.com/users/4521875/armando-perez"}, "is_accepted": false, "score": 2, "last_activity_date": 1538009650, "last_edit_date": 1538009650, "creation_date": 1538008731, "answer_id": 52527822, "question_id": 52526856, "link": "https://stackoverflow.com/questions/52526856/invalid-literal-for-int-python3-6/52527822#52527822", "title": "invalid literal for int() python3.6", "body": "<p>Please, try:</p>\n\n<pre><code>my_str= \"0000063C\"\nint_addr = int(my_str, 16)\nprint(int_addr)\n</code></pre>\n\n<p>The issue you are having happens when you have a string that cannot be converted into an int value. For instance, if you run this:</p>\n\n<pre><code>my_str= \"sdfsdf\"\nint_addr = int(my_str, 16)\nprint(int_addr)\n</code></pre>\n\n<p>You get:</p>\n\n<pre><code>Traceback (most recent call last):  File \"main.py\", line 2, in &lt;module&gt;    int_addr = int(my_str, 16)\nValueError: invalid literal for int() with base 16: 'sdfsdf'\n</code></pre>\n\n<p>It is important that you handle this type of scenarios, since you mentioned in one comment in your question that the variable <strong>my_str</strong> needs to hold any string value. In order to overcome this, you may wrap the conversion in a try and catch, like this:</p>\n\n<pre><code>try:\n    my_str= \"sdfsdf\"\n    int_addr = int(my_str, 16)\n    print(int_addr)\nexcept ValueError:\n    pass\n</code></pre>\n\n<p>You can decide how to your code handles the ValueError exception. I just added the keyword <strong>pass</strong>, but add the handling for your specific situation. Hope this helps!</p>\n"}], "owner": {"reputation": 21, "user_id": 8534572, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0798809aa6ef89a30ec0e0b313e16cba?s=128&d=identicon&r=PG&f=1", "display_name": "Verif_engg", "link": "https://stackoverflow.com/users/8534572/verif-engg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1538009650, "creation_date": 1538000931, "question_id": 52526856, "link": "https://stackoverflow.com/questions/52526856/invalid-literal-for-int-python3-6", "title": "invalid literal for int() python3.6", "body": "<p>I am trying to convert as below in python 3.6</p>\n\n<pre><code>my_str= 0000063C\nint_addr = int(my_str, 16)\n</code></pre>\n\n<p>But I see this error:\nValueError: invalid literal for int() with base 16: ''</p>\n\n<p>Any idea what I am messing up?</p>\n"}, {"tags": ["python", "django", "amazon-web-services", "amazon-elastic-beanstalk"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 1958145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fdMkj.jpg?s=128&g=1", "display_name": "Abhishek Jain", "link": "https://stackoverflow.com/users/1958145/abhishek-jain"}, "edited": false, "score": 0, "creation_date": 1538039873, "post_id": 52527495, "comment_id": 92006222, "body": "my requirements.txt file does not have anaconda-client==1.6.9  and that&#39;s exactly what baffles me. (see edit in my question, I have added the txt)"}, {"owner": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "reply_to_user": {"reputation": 3, "user_id": 1958145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fdMkj.jpg?s=128&g=1", "display_name": "Abhishek Jain", "link": "https://stackoverflow.com/users/1958145/abhishek-jain"}, "edited": false, "score": 0, "creation_date": 1538056760, "post_id": 52527495, "comment_id": 92017013, "body": "Its a dependency of <code>alabaster</code>. I see this is not a dependency either, however, it might in turn be a dependency of something else. Does <code>pip install -r requirements.txt</code> work correctly on your local machine?"}, {"owner": {"reputation": 3, "user_id": 1958145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fdMkj.jpg?s=128&g=1", "display_name": "Abhishek Jain", "link": "https://stackoverflow.com/users/1958145/abhishek-jain"}, "edited": false, "score": 0, "creation_date": 1538061322, "post_id": 52527495, "comment_id": 92020132, "body": "Well, I am able to resolve this.  I think the reason was that I did not commit after I changed by requirements.txt file. And eb create only takes code from the master branch.  nevertheless, thank you very much. My code is live on AWS now."}, {"owner": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "reply_to_user": {"reputation": 3, "user_id": 1958145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fdMkj.jpg?s=128&g=1", "display_name": "Abhishek Jain", "link": "https://stackoverflow.com/users/1958145/abhishek-jain"}, "edited": false, "score": 0, "creation_date": 1538063969, "post_id": 52527495, "comment_id": 92021752, "body": "Glad that your code works. &quot;<code>eb create</code> takes the latest commit of your present branch&quot; is an accurate statement."}], "tags": [], "owner": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "is_accepted": false, "score": 2, "last_activity_date": 1538005781, "creation_date": 1538005781, "answer_id": 52527495, "question_id": 52526841, "link": "https://stackoverflow.com/questions/52526841/aws-eb-deployment-error-no-matching-distribution-found-for-anaconda-client-1/52527495#52527495", "title": "aws eb deployment error : No matching distribution found for anaconda-client==1.6.9", "body": "<p>Well, your <code>requirements.txt</code> lists <code>anaconda-client==1.6.9</code>. The only available versions of the same on PyPi are <a href=\"https://pypi.org/project/anaconda-client/#history\" rel=\"nofollow noreferrer\">1.1.1 and 1.2.2</a>. <a href=\"https://github.com/Anaconda-Platform/anaconda-client/releases\" rel=\"nofollow noreferrer\">As far as the Github project</a> is concerned, 1.6.9 does indeed exist, however, PyPi/<code>pip</code> are not aware of it since it was never published to PyPi. Your options are:</p>\n\n<ol>\n<li>to list anaconda-client 1.2.2/1.1.1 in requirements.txt</li>\n<li>to install anaconda-client through <code>conda</code></li>\n<li>bundle the source code of <code>anaconda-client</code> into your project so that you can avoid having to install it altogether.</li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 1958145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fdMkj.jpg?s=128&g=1", "display_name": "Abhishek Jain", "link": "https://stackoverflow.com/users/1958145/abhishek-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573231170, "creation_date": 1538000865, "last_edit_date": 1538039989, "question_id": 52526841, "link": "https://stackoverflow.com/questions/52526841/aws-eb-deployment-error-no-matching-distribution-found-for-anaconda-client-1", "title": "aws eb deployment error : No matching distribution found for anaconda-client==1.6.9", "body": "<p>I am very new to AWS and in-general coding. I wrote a small Django application, and now I am trying to deploy it on AWS using elastic beanstalk with the help of this URL. <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create-deploy-python-django.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create-deploy-python-django.html</a></p>\n\n<p>My application uses Postgres database for which I need  <code>psycopg2</code> package, which I have added in my requirements.txt file. (this is not part of the instructions on this URL but I knew I need psycopg2 so I added)</p>\n\n<p>when I create EB environment using <code>eb create django-env</code>, I get the following error:</p>\n\n<p>This log I took from EC2 <code>/var/log/</code>.</p>\n\n<p>Here is the error: </p>\n\n<blockquote>\n  <p>[2018-09-26T21:44:20.502Z] INFO  [3151]  - [Application deployment\n  app-d840-180926_224155@1/StartupStage0/AppDeployPreHo ok/03deploy.py]\n  : Starting activity... [2018-09-26T21:44:21.774Z] INFO  [3151]  -\n  [Application deployment\n  app-d840-180926_224155@1/StartupStage0/AppDeployPreHo ok/03deploy.py]\n  : Activity execution failed, because: Collecting alabaster==0.7.10\n  (from -r /opt/python/ondeck/app/requi rements.txt (line 1))\n      Downloading <a href=\"https://files.pythonhosted.org/packages/2e/c3/9b7dcd8548cf2c00531763ba154e524af575e8f36701bacfe5bcadc674\" rel=\"nofollow noreferrer\">https://files.pythonhosted.org/packages/2e/c3/9b7dcd8548cf2c00531763ba154e524af575e8f36701bacfe5bcadc674</a>\n  40/alabaster-0.7.10-py2.py3-none-any.whl Collecting\n  anaconda-client==1.6.9 (from -r\n  /opt/python/ondeck/app/requirements.txt (line 2))\n      Could not find a version that satisfies the requirement anaconda-client==1.6.9 (from -r /opt/python/ondeck/app/requi\n  rements.txt (line 2)) (from versions: 1.1.1, 1.2.2)   <strong>No matching\n  distribution found for anaconda-client==1.6.9 (from -r\n  /opt/python/ondeck/app/requirements.txt (line 2))</strong>   <strong>You are using\n  pip version 9.0.1, however version 18.0 is available.</strong>   You should\n  consider upgrading via the 'pip install --upgrade pip' command.<br>\n  2018-09-26 21:44:21,768 ERROR    Error installing dependencies:\n  Command '/opt/python/run/venv/bin/pip install -r /opt/\n  python/ondeck/app/requirements.txt' returned non-zero exit status 1<br>\n  Traceback (most recent call last):\n      File \"/opt/elasticbeanstalk/hooks/appdeploy/pre/03deploy.py\", line 22, in main\n        install_dependencies()\n      File \"/opt/elasticbeanstalk/hooks/appdeploy/pre/03deploy.py\", line 18, in install_dependencies\n        check_call('%s install -r %s' % (os.path.join(APP_VIRTUAL_ENV, 'bin', 'pip'), requirements_file), shell=True)\n      File \"/usr/lib64/python2.7/subprocess.py\", line 186, in check_call\n        raise CalledProcessError(retcode, cmd)   CalledProcessError: Command '/opt/python/run/venv/bin/pip install -r\n  /opt/python/ondeck/app/requirements.txt' returned  non-zero exit\n  status 1 (Executor::NonZeroExitStatus)</p>\n</blockquote>\n\n<p>My <code>settings.py</code> file of Django project has <code>psycopg2</code></p>\n\n<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql_psycopg2',\n        'NAME': 'test',\n        'USER': 'postgres',\n        'PASSWORD': 'password',\n        'HOST': 'localhost',\n        'PORT': '5432',\n        'TEST': {\n            'NAME': 'testdb',\n        },\n    }\n}\n</code></pre>\n\n<p>[EDIT] My requirements.txt file is: </p>\n\n<pre><code>c:\\Users\\abhi\\OneDrive\\Python-Projects\\myproject&gt;cat requirements.txt\nDjango==2.1.1\npsycopg2==2.7.5\npytz==2018.5\n</code></pre>\n\n<p>My question is:</p>\n\n<ol>\n<li>How to fix this issue?</li>\n<li>Why it is saying that <strong>You are using pip version 9.0.1, however, version 18.0 is available?</strong> I am using pip 18.0, I am sure.</li>\n<li>Why it says - <strong>Collecting anaconda-client==1.6.9</strong> ? I want to install <code>psycopg2</code>, not <code>anaconda</code>. </li>\n</ol>\n\n<p>It is my side project, and I don't know how to fix it. </p>\n"}, {"tags": ["python", "pandas", "date", "dataframe"], "comments": [{"owner": {"reputation": 143, "user_id": 6692442, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a5de49e45d67709470b5c1d26a21a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper C.", "link": "https://stackoverflow.com/users/6692442/jasper-c"}, "edited": false, "score": 0, "creation_date": 1538000884, "post_id": 52526818, "comment_id": 91993414, "body": "Thanks much, sacul, for correcting the format for me."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 6692442, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a5de49e45d67709470b5c1d26a21a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper C.", "link": "https://stackoverflow.com/users/6692442/jasper-c"}, "edited": false, "score": 1, "creation_date": 1538007336, "post_id": 52526894, "comment_id": 91994901, "body": "Thank you for your kind assistance today, sacul, greatly appreciated!"}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 0, "last_activity_date": 1538001154, "creation_date": 1538001154, "answer_id": 52526894, "question_id": 52526818, "link": "https://stackoverflow.com/questions/52526818/best-way-to-fill-up-gaps-by-yearly-dates-in-python-dataframe/52526894#52526894", "title": "best way to fill up gaps by yearly dates in Python dataframe", "body": "<p>I would create a <code>helper</code> dataframe, containing all the year start dates, then filter out the ones where the years match what is in <code>df</code>, and finally merge them together:</p>\n\n<pre><code># First make sure it is proper datetime\ndf['asofdate'] = pd.to_datetime(df.asofdate)\n\n# Create your temporary dataframe of year start dates\nhelper = pd.DataFrame({'asofdate':pd.date_range(df.asofdate.min(), df.asofdate.max(), freq='YS')})\n\n# Filter out the rows where the year is already in df\nhelper = helper[~helper.asofdate.dt.year.isin(df.asofdate.dt.year)]\n\n# Merge back in to df, sort, and forward fill\nnew_df = df.merge(helper, how='outer').sort_values('asofdate').ffill()\n\n&gt;&gt;&gt; new_df\n    asofdate  port_id\n0 2010-01-01     76.0\n1 2010-04-01     43.0\n2 2011-02-01     76.0\n5 2012-01-01     76.0\n3 2013-01-02     93.0\n6 2014-01-01     93.0\n7 2015-01-01     93.0\n8 2016-01-01     93.0\n4 2017-02-01     43.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 6692442, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a5de49e45d67709470b5c1d26a21a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper C.", "link": "https://stackoverflow.com/users/6692442/jasper-c"}, "edited": false, "score": 1, "creation_date": 1538007302, "post_id": 52526909, "comment_id": 91994891, "body": "Thanks much, jpp, for your kind help!"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 1, "last_activity_date": 1538001301, "creation_date": 1538001301, "answer_id": 52526909, "question_id": 52526818, "link": "https://stackoverflow.com/questions/52526818/best-way-to-fill-up-gaps-by-yearly-dates-in-python-dataframe/52526909#52526909", "title": "best way to fill up gaps by yearly dates in Python dataframe", "body": "<p>You can use <code>set.difference</code> with <code>range</code> to find missing dates and then append a dataframe:</p>\n\n<pre><code># convert to datetime if not already converted\ndf['asofdate'] = pd.to_datetime(df['asofdate'])\n\n# calculate missing years\nyears = df['asofdate'].dt.year\nmissing = set(range(years.min(), years.max())) - set(years)\n\n# append dataframe, sort and front-fill\ndf = df.append(pd.DataFrame({'asofdate': pd.to_datetime(list(missing), format='%Y')}))\\\n       .sort_values('asofdate')\\\n       .ffill()\n\nprint(df)\n\n    asofdate  port_id\n1 2010-01-01     76.0\n2 2010-04-01     43.0\n3 2011-02-01     76.0\n1 2012-01-01     76.0\n4 2013-01-02     93.0\n2 2014-01-01     93.0\n3 2015-01-01     93.0\n0 2016-01-01     93.0\n5 2017-02-01     43.0\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 6692442, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a5de49e45d67709470b5c1d26a21a5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper C.", "link": "https://stackoverflow.com/users/6692442/jasper-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 52526909, "answer_count": 2, "score": 2, "last_activity_date": 1538001432, "creation_date": 1538000710, "last_edit_date": 1538001432, "question_id": 52526818, "link": "https://stackoverflow.com/questions/52526818/best-way-to-fill-up-gaps-by-yearly-dates-in-python-dataframe", "title": "best way to fill up gaps by yearly dates in Python dataframe", "body": "<p>all, I'm newbie to Python and am stuck with the problem below. I have a DF as:</p>\n\n<p>ipdb> DF</p>\n\n<pre><code>    asofdate  port_id\n1 2010-01-01       76\n2 2010-04-01       43\n3 2011-02-01       76\n4 2013-01-02       93\n5 2017-02-01       43\n</code></pre>\n\n<p>For the yearly gaps, say 2012, 2014, 2015, and 2016, I'd like to fill in the gap using the new year date for each of the missing years, and port_id from previous year.  Ideally, I'd like:</p>\n\n<p>ipdb> DF</p>\n\n<pre><code>    asofdate  port_id\n1 2010-01-01       76\n2 2010-04-01       43\n3 2011-02-01       76\n4 2012-01-01       76\n5 2013-01-02       93\n6 2014-01-01       93\n7 2015-01-01       93\n8 2016-01-01       93\n9 2017-02-01       43\n</code></pre>\n\n<p>I tried multiple approaches but still no avail.  Could some expert shed me some lights on how to make it work out?  Thanks much in advance!</p>\n"}, {"tags": ["python", "numpy", "memory", "keras", "cross-entropy"], "answers": [{"tags": [], "owner": {"reputation": 2113, "user_id": 1626564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/aaf1eb19bb7d33eb7af04ad9aae96a1f?s=128&d=identicon&r=PG", "display_name": "pitfall", "link": "https://stackoverflow.com/users/1626564/pitfall"}, "is_accepted": true, "score": 0, "last_activity_date": 1538005627, "creation_date": 1538005627, "answer_id": 52527475, "question_id": 52526812, "link": "https://stackoverflow.com/questions/52526812/memoryerror-when-calling-to-categorical-in-keras/52527475#52527475", "title": "MemoryError when calling to_categorical in keras", "body": "<p>I think this error is expected. The real issue here is that you don't have enough space to allocate 1) the parameter matrix of the decision layer, and/or 2) the intermediate tensor.</p>\n\n<p>The parameter matrix has the shape of <code>input_feat_dim x output_num_classes</code>. As you can see, this matrix will consume a huge amount of memory when the vocabulary is large. \nTo train a network, we also need to keep intermediate tensors for BP, which will be even bigger -- <code>batch_size x input_feat_dim x output_num_classes</code>. </p>\n\n<p>So one thing you can try very quick is to reduce your <code>batch_size</code> to 1/10. Of course, you can't set your batch size too small. In this case, you may want to accumulate gradients until seeing enough samples. </p>\n"}, {"comments": [{"owner": {"reputation": 236, "user_id": 11017652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jkyfe.jpg?s=128&g=1", "display_name": "Fahad Maqsood Qazi", "link": "https://stackoverflow.com/users/11017652/fahad-maqsood-qazi"}, "edited": false, "score": 0, "creation_date": 1597483277, "post_id": 52531063, "comment_id": 112151434, "body": "Can you give an example with source code of how to do that?"}, {"owner": {"reputation": 511, "user_id": 8325802, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b7a59e60bccb42f891409c8221673fee?s=128&d=identicon&r=PG&f=1", "display_name": "PigSpider", "link": "https://stackoverflow.com/users/8325802/pigspider"}, "reply_to_user": {"reputation": 236, "user_id": 11017652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jkyfe.jpg?s=128&g=1", "display_name": "Fahad Maqsood Qazi", "link": "https://stackoverflow.com/users/11017652/fahad-maqsood-qazi"}, "edited": false, "score": 1, "creation_date": 1602410704, "post_id": 52531063, "comment_id": 113706328, "body": "Thanks for pointing that out. @FahadMaqsoodQazi, the docs are pretty straight forward <a href=\"https://keras.io/api/losses/probabilistic_losses/#sparse_categorical_crossentropy-function\" rel=\"nofollow noreferrer\">keras.io/api/losses/probabilistic_losses/&hellip;</a>"}], "tags": [], "owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "is_accepted": false, "score": 2, "last_activity_date": 1538030947, "creation_date": 1538030947, "answer_id": 52531063, "question_id": 52526812, "link": "https://stackoverflow.com/questions/52526812/memoryerror-when-calling-to-categorical-in-keras/52531063#52531063", "title": "MemoryError when calling to_categorical in keras", "body": "<p>If you switch to sparse categorical cross-entropy loss, then you don't need to <code>to_categorical</code> call, which is actually the one that is giving an error. Sparse categorical cross-entropy should work for this.</p>\n"}], "owner": {"reputation": 51, "user_id": 9688811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921f0875fa77d1fe46a21087f81b0a07?s=128&d=identicon&r=PG&f=1", "display_name": "Bily", "link": "https://stackoverflow.com/users/9688811/bily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 991, "favorite_count": 0, "accepted_answer_id": 52527475, "answer_count": 2, "score": 1, "last_activity_date": 1538030947, "creation_date": 1538000680, "question_id": 52526812, "link": "https://stackoverflow.com/questions/52526812/memoryerror-when-calling-to-categorical-in-keras", "title": "MemoryError when calling to_categorical in keras", "body": "<p>I try to run the language modeling program. When I use the data train with 15000 sentences in a document, the program running properly. But, when I try to change the data with the bigger one (10 times bigger) it's encountered an error as below:</p>\n\n<pre><code>Traceback (most recent call last):\n\n  File \"&lt;ipython-input-2-aa5ef9098286&gt;\", line 1, in &lt;module&gt;\n    runfile('C:/Users/cerdas/Documents/Bil/Lat/lstm-plato-lm/platolm.py', wdir='C:/Users/cerdas/Documents/Bil/Lat/lstm-plato-lm')\n\n  File \"C:\\Users\\cerdas\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 705, in runfile\n    execfile(filename, namespace)\n\n  File \"C:\\Users\\cerdas\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 102, in execfile\n    exec(compile(f.read(), filename, 'exec'), namespace)\n\n  File \"C:/Users/cerdas/Documents/Bil/Lat/lstm-plato-lm/platolm.py\", line 35, in &lt;module&gt;\n    y = to_categorical(y, num_classes=vocab_size)\n\n  File \"C:\\Users\\cerdas\\Anaconda3\\lib\\site-packages\\keras\\utils\\np_utils.py\", line 30, in to_categorical\n    categorical = np.zeros((n, num_classes), dtype=np.float32)\n\nMemoryError\n</code></pre>\n\n<p>here is the suspected line of error code:</p>\n\n<pre><code>model.compile(loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'])\n</code></pre>\n\n<p>and also the <code>np.utils</code></p>\n\n<pre><code>categorical = np.zeros((n, num_classes), dtype=np.float64)\n</code></pre>\n\n<p>i've trying to search the solution for similar problem, i found that i have to change <code>categorical_crossentropy</code> to <code>sparse_categorical_crossentropy</code>. I have do that but it's still error with the same traceback.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "server", "webserver"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6013631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c75924a295d897a39770534379a2cd?s=128&d=identicon&r=PG&f=1", "display_name": "Ancesteral", "link": "https://stackoverflow.com/users/6013631/ancesteral"}, "edited": false, "score": 0, "creation_date": 1538002070, "post_id": 52526825, "comment_id": 91993686, "body": "Hey just had a question about updating this string to the latest version of chrome, should I just replace the &quot;Chrome/60.0.3112.113&quot; with the latest version number?   requests.get(url, headers= {&quot;user-agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36&quot;}"}, {"owner": {"reputation": 1262, "user_id": 6140888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/145533ebf03ff137be533b4869da2841?s=128&d=identicon&r=PG&f=1", "display_name": "ARR", "link": "https://stackoverflow.com/users/6140888/arr"}, "reply_to_user": {"reputation": 11, "user_id": 6013631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c75924a295d897a39770534379a2cd?s=128&d=identicon&r=PG&f=1", "display_name": "Ancesteral", "link": "https://stackoverflow.com/users/6013631/ancesteral"}, "edited": false, "score": 0, "creation_date": 1538002269, "post_id": 52526825, "comment_id": 91993733, "body": "Yes it is possible you could change the string to whatever you want"}], "tags": [], "owner": {"reputation": 1262, "user_id": 6140888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/145533ebf03ff137be533b4869da2841?s=128&d=identicon&r=PG&f=1", "display_name": "ARR", "link": "https://stackoverflow.com/users/6140888/arr"}, "is_accepted": true, "score": 0, "last_activity_date": 1538000761, "creation_date": 1538000761, "answer_id": 52526825, "question_id": 52526787, "link": "https://stackoverflow.com/questions/52526787/can-a-web-server-detect-a-login-from-a-script/52526825#52526825", "title": "Can a web server detect a login from a script?", "body": "<p>You should change the user agent. But other than that I don\u2019t think its detectable. </p>\n\n<p>You can change the user agent by setting a custom header e.g. <code>requests.get(url, headers= {\"user-agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.113 Safari/537.36\"}</code></p>\n"}, {"tags": [], "owner": {"reputation": 686, "user_id": 8874154, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mq_Wb-BErkY/AAAAAAAAAAI/AAAAAAAAAQo/j-rCDFI9XuU/photo.jpg?sz=128", "display_name": "Swift", "link": "https://stackoverflow.com/users/8874154/swift"}, "is_accepted": false, "score": 0, "last_activity_date": 1538001122, "creation_date": 1538001122, "answer_id": 52526889, "question_id": 52526787, "link": "https://stackoverflow.com/questions/52526787/can-a-web-server-detect-a-login-from-a-script/52526889#52526889", "title": "Can a web server detect a login from a script?", "body": "<p>Nothing is  a silly question when you don't have the answer.</p>\n\n<p>That being said, every request adds a header by default called the user agent, this can be a multitude of different things but is primarily used to detect what type of device or browser thenuser is connecting to the site with.</p>\n\n<p>This includes Python requests! Python sends a user agent Python (version number) in its user agent header.</p>\n\n<p>It is very common for webmasters to block these user agents, however, it is extremely simple to spoof the user agent header by changing it prior to sending the request itself.</p>\n\n<p>You should look into header customisation of requests. </p>\n\n<p>It is also very common for people writing scripts that connect to webserver to hide, spoof or otherwise obfuscate their user agent, but there are plenty more headers send by default which are also used to block unwanted traffic.</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 11, "user_id": 6013631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c75924a295d897a39770534379a2cd?s=128&d=identicon&r=PG&f=1", "display_name": "Ancesteral", "link": "https://stackoverflow.com/users/6013631/ancesteral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "accepted_answer_id": 52526825, "answer_count": 2, "score": 1, "last_activity_date": 1538001139, "creation_date": 1538000478, "question_id": 52526787, "link": "https://stackoverflow.com/questions/52526787/can-a-web-server-detect-a-login-from-a-script", "title": "Can a web server detect a login from a script?", "body": "<p>This might be a silly question. When use sessions with Python to request a file from a website behind a login, can the website detect that you are logging in via a script? How common is it for websites to detect this? I tried looking this up but couldn't find an answer so if this is a repeat question could you point me to some info so I can find my answer?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "python-3.x", "csv", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "edited": false, "score": 0, "creation_date": 1538000802, "post_id": 52526729, "comment_id": 91993388, "body": "It seams that you have successfully scraped the data in its proper order. Can you clarify how it should be written to the csv? What is your desired output?"}, {"owner": {"reputation": 1259, "user_id": 10393194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b5fdc7c050b41d2093383eb325f06e?s=128&d=identicon&r=PG&f=1", "display_name": "panktijk", "link": "https://stackoverflow.com/users/10393194/panktijk"}, "edited": false, "score": 0, "creation_date": 1538002243, "post_id": 52526729, "comment_id": 91993727, "body": "It only needs some re-ordering apparently. Can you show a sample of how your <code>headerList</code> and <code>tableContentList</code> look? I think there might be a small bug in your last <code>for</code> loop where you are writing to csv."}, {"owner": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "reply_to_user": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "edited": false, "score": 0, "creation_date": 1538037810, "post_id": 52526729, "comment_id": 92005045, "body": "@Ajax1234 yeah , i have scraped it successfully but while writing to csv , i am not able to create file in this format <a href=\"https://www.met.ie/climate/available-data/monthly-data\" rel=\"nofollow noreferrer\">met.ie/climate/available-data/monthly-data</a>. Which means headerlist has <b>h3</b> in it and tablecontentlist <b>available table</b>. Writing format should be <b>h3 --&gt; th --&gt; td --&gt; h3--&gt;above next table --&gt; th --&gt; td and so on</b>"}, {"owner": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "reply_to_user": {"reputation": 1259, "user_id": 10393194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b5fdc7c050b41d2093383eb325f06e?s=128&d=identicon&r=PG&f=1", "display_name": "panktijk", "link": "https://stackoverflow.com/users/10393194/panktijk"}, "edited": false, "score": 0, "creation_date": 1538038096, "post_id": 52526729, "comment_id": 92005194, "body": "@panktijk you can see the output on this url <a href=\"https://codeshare.io/G70M7j\" rel=\"nofollow noreferrer\">codeshare.io/G70M7j</a>"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "edited": false, "score": 0, "creation_date": 1538050884, "post_id": 52533406, "comment_id": 92013117, "body": "Thank you for your reply, but this doesnn&#39;t help. I am getting something like this Total rainfall in millimetres for SherkinIsland Y,e,a,r J,a,n F,e,b M,a,r A,p,r M,a,y J,u,n J,u,l A,u,g S,e,p O,c,t N,o,v D,e,c A,n,n,u,a,l Mean temperature in degrees Celsius for SherkinIsland 2,0,1,8 1,9,9,.,1 6,7,.,2 1,1,6,.,6 1,2,9,.,3 9,3,.,0 1,7,.,2 4,8,.,8 6,2,.,5 8,2,.,1  the code is here : <a href=\"https://codeshare.io/G70M7j\" rel=\"nofollow noreferrer\">codeshare.io/G70M7j</a>"}, {"owner": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "edited": false, "score": 0, "creation_date": 1538051825, "post_id": 52533406, "comment_id": 92013654, "body": "I copy pasted the exactly first, it wrote nothing but a empty file. I thought you put something for to do , check this link now, it looks as your code <a href=\"https://codeshare.io/G70M7j\" rel=\"nofollow noreferrer\">codeshare.io/G70M7j</a>"}, {"owner": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "edited": false, "score": 0, "creation_date": 1538051876, "post_id": 52533406, "comment_id": 92013693, "body": "The reason is the tables list you are iterating in zip loop is empty"}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "reply_to_user": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "edited": false, "score": 0, "creation_date": 1538052329, "post_id": 52533406, "comment_id": 92013967, "body": "If have copy/pasted it again, please retry."}, {"owner": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "edited": false, "score": 0, "creation_date": 1538052731, "post_id": 52533406, "comment_id": 92014211, "body": "tables [] was not being appended. it works now Thank you for your help"}], "tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": true, "score": 2, "last_activity_date": 1538052300, "last_edit_date": 1538052300, "creation_date": 1538039432, "answer_id": 52533406, "question_id": 52526729, "link": "https://stackoverflow.com/questions/52526729/write-to-each-table-to-csv-followed-by-header/52533406#52533406", "title": "Write to each table to csv followed by header", "body": "<p>You need to keep a list of tables rather than appending all of the information into a single list. Then you can use <code>zip()</code> to take a single header and table at a time to write it to your output CSV file. This is a better approach than trying to use <code>range()</code>.</p>\n\n<pre><code>import time\nfrom os import getcwd\nfrom selenium.webdriver.firefox.options import Options\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.support.ui import Select\nfrom selenium.common.exceptions import NoSuchElementException\nfrom selenium.common.exceptions import NoAlertPresentException\nfrom selenium.webdriver.support.wait import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom bs4 import BeautifulSoup\nimport pandas\n\n\nimport time, re\nimport csv\nimport uuid\n\n\nclass metEiren():\n    def __init__(self):\n        print(\"hurray33\")\n        global downloadDir\n        downloadDir = \"\"\n\n        fp = webdriver.FirefoxProfile()\n        fp.set_preference(\"browser.download.folderList\", 2)\n        fp.set_preference(\"browser.download.manager.showWhenStarting\", False)\n        fp.set_preference(\"browser.download.dir\", downloadDir)\n        fp.set_preference(\"browser.helperApps.neverAsk.saveToDisk\", \"text/csv\")\n\n        options = Options()\n        options.add_argument(\"--headless\")\n        global driver\n        driver = webdriver.Firefox(firefox_profile=fp,firefox_options=options)\n        driver.get(\"https://www.met.ie/climate/available-data/monthly-data\")\n        verificationErrors = []\n        accept_next_alert = True\n\n    def scrape(self):\n        driver.get(\"https://www.met.ie/climate/available-data/monthly-data\")\n        driver.execute_script(\"window.scrollTo(0, 1000)\")\n        wait = WebDriverWait(driver, 10)\n        link = wait.until(EC.presence_of_element_located((By.LINK_TEXT, \"Sherkin Island\")))\n        link.click()\n        time.sleep(2)\n        uFileName = str(uuid.uuid4())\n        filname = downloadDir + uFileName + \".csv\"\n        soup = BeautifulSoup(driver.page_source, 'html.parser')\n        headerList = []\n\n        for h in soup.find_all('h3'):\n            print(h.text)\n            headerList.append(h.text.strip('\\t'))\n\n        tables = []\n\n        for table in soup.find_all('table'):\n            tableContentList = []\n\n            for row in table.find_all('tr'):\n                list_of_cells = []\n                for hd in row.find_all(['th','td']):\n                    list_of_cells.append(hd.text.strip())\n\n                # Only append a row if it non-empty\n                if len(list_of_cells):\n                    tableContentList.append(list_of_cells)\n\n            tables.append(tableContentList)\n\n        with open(filname, 'w', newline='') as f:\n            writer = csv.writer(f, quoting=csv.QUOTE_NONE, escapechar=',', lineterminator='\\n')\n\n            for header, table in zip(headerList, tables):\n                writer.writerow([header])\n                writer.writerows(table)\n\nif __name__ == '__main__':\n    obj = metEiren()\n    obj.scrape()\n</code></pre>\n\n<p>This would then give you an output looking like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Total rainfall in millimetres for SherkinIsland\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,199.1,67.2,116.6,129.3,93.0,17.2,48.8,62.5,82.1,,,,815.8\n2017,66.7,78.5,132.7,14.6,39.2,112.3,89.9,78.6,150.8,115.5,51.9,147.5,1078.2\n2016,185.8,113.0,61.5,68.8,59.4,61.5,69.7,111.1,111.1,64.4,43.3,78.3,1027.9\n2015,106.6,78.0,88.9,18.5,110.0,77.4,127.0,87.0,121.2,52.8,107.7,292.7,1267.8\nmean,132.7,101.4,94.7,73.7,73.7,75.1,78.0,88.3,92.4,127.6,120.1,130.3,1188.0\nMean temperature in degrees Celsius for SherkinIsland\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,8.2,6.1,5.7,9.2,12.1,15.4,17.1,15.0,13.6,,,,11.4\n2017,8.1,8.2,9.2,9.8,12.2,14.0,14.9,14.6,13.5,12.6,9.4,8.1,11.2\n2016,8.4,7.0,7.5,8.5,12.0,14.3,14.4,15.2,14.5,12.3,8.0,9.5,11.0\n2015,7.5,6.5,7.7,9.4,10.9,12.9,14.2,14.3,13.8,12.3,11.2,10.3,10.9\nmean,7.5,7.5,8.4,9.4,11.7,13.9,15.5,15.7,14.3,12.0,9.5,8.0,11.1\nMean 10cm soil temperature for SherkinIsland at 0900 UTC\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,6.9,4.7,5.1,9.5,13.4,17.3,19.0,16.2,n/a,,,,11.6\n2017,7.5,7.9,8.4,10.2,12.9,15.4,16.2,15.3,13.4,12.3,8.5,6.8,11.3\n2016,7.4,5.9,6.6,8.5,13.0,15.6,15.8,15.8,14.6,11.8,7.7,8.8,11.0\n2015,6.6,5.3,6.8,9.3,11.7,14.5,14.8,14.7,13.1,11.2,10.6,9.6,10.7\nmean,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a\nGlobal Solar Radiation in Joules/cm2 for SherkinIsland\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,9023,15831,29709,42026,58669,67070,65526,44784,29711,,,,362349\n2017,8345,14868,28307,43479,57060,59325,57794,46218,33526,15375,11157,7084,382538\n2016,7262,16452,27956,48481,60218,56262,53776,48503,25866,19137,12859,5660,382432\n2015,8882,13475,30056,50190,55679,57207,57047,49551,33798,19483,8962,5121,389451\nmean,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a\nPotential Evapotranspiration (mm) for SherkinIsland\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,21.8,28.5,34.9,49.9,76.3,98.8,104.6,64.5,42.9,,,,522.2\n2017,20.6,25.2,40.5,59.4,75.1,80.5,79.1,63.5,46.3,26.2,38.7,18.7,573.8\n2016,20.8,27.3,39.7,61.4,77.3,81.1,73.7,68.6,43.9,39.0,23.5,21.0,577.3\n2015,23.5,21.0,38.1,59.8,67.1,73.3,76.1,66.2,53.0,34.4,25.6,24.1,562.2\nmean,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a\nEvaporation (mm) for SherkinIsland\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,30.5,41.0,55.4,81.0,116.3,143.1,147.9,96.8,64.3,,,,776.3\n2017,27.1,37.8,64.0,88.6,117.8,127.9,122.2,97.5,71.3,39.2,46.4,24.6,864.4\n2016,28.7,41.0,61.1,96.8,118.9,122.4,112.7,104.8,64.3,52.8,30.3,26.7,860.5\n2015,32.7,31.1,60.5,95.8,113.2,115.7,120.8,101.4,75.9,47.2,35.1,32.8,862.2\nmean,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a\nNotes on the Data\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Total\n2018,226,262,303,188,115,38,12,30,N/A,N/A,N/A,N/A,N/A\n2017,228,206,195,170,105,55,34,37,63,90,183,230,1596\n2016,220,247,247,210,112,44,44,28,41,99,226,185,1702\n2015,247,253,243,182,143,82,48,46,57,100,130,162,1693\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 52533406, "answer_count": 1, "score": 1, "last_activity_date": 1563267245, "creation_date": 1538000090, "last_edit_date": 1563267245, "question_id": 52526729, "link": "https://stackoverflow.com/questions/52526729/write-to-each-table-to-csv-followed-by-header", "title": "Write to each table to csv followed by header", "body": "<p>I am trying to scrape some data using BS4 and then write it to CSV. The pattern I am looking to write in CSV is similar to <a href=\"https://www.met.ie/climate/available-data/monthly-data\" rel=\"nofollow noreferrer\">this website</a>.</p>\n\n<p>So its more like 1: header 3 then respective table then header3 and table so on...\nBut I am getting this kind of output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Total rainfall in millimetres for SherkinIsland \nMean temperature in degrees Celsius for SherkinIsland   \nMean 10cm soil temperature for SherkinIsland at 0900 UTC    \nGlobal Solar Radiation in Joules/cm2 for SherkinIsland  \nPotential Evapotranspiration (mm) for SherkinIsland \nEvaporation (mm) for SherkinIsland  \nNotes on the Data\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,199.1,67.2,116.6,129.3,93.0,17.2,48.8,62.5,82.1,,,,815.8\n2017,66.7,78.5,132.7,14.6,39.2,112.3,89.9,78.6,150.8,115.5,51.9,147.5,1078.2\n2016,185.8,113.0,61.5,68.8,59.4,61.5,69.7,111.1,111.1,64.4,43.3,78.3,1027.9\n2015,106.6,78.0,88.9,18.5,110.0,77.4,127.0,87.0,121.2,52.8,107.7,292.7,1267.8\nmean,132.7,101.4,94.7,73.7,73.7,75.1,78.0,88.3,92.4,127.6,120.1,130.3,1188.0\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,8.2,6.1,5.7,9.2,12.1,15.4,17.1,15.0,13.6,,,,11.4\n2017,8.1,8.2,9.2,9.8,12.2,14.0,14.9,14.6,13.5,12.6,9.4,8.1,11.2\n2016,8.4,7.0,7.5,8.5,12.0,14.3,14.4,15.2,14.5,12.3,8.0,9.5,11.0\n2015,7.5,6.5,7.7,9.4,10.9,12.9,14.2,14.3,13.8,12.3,11.2,10.3,10.9\nmean,7.5,7.5,8.4,9.4,11.7,13.9,15.5,15.7,14.3,12.0,9.5,8.0,11.1\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,6.9,4.7,5.1,9.5,13.4,17.3,19.0,16.2,n/a,,,,11.6\n2017,7.5,7.9,8.4,10.2,12.9,15.4,16.2,15.3,13.4,12.3,8.5,6.8,11.3\n2016,7.4,5.9,6.6,8.5,13.0,15.6,15.8,15.8,14.6,11.8,7.7,8.8,11.0\n2015,6.6,5.3,6.8,9.3,11.7,14.5,14.8,14.7,13.1,11.2,10.6,9.6,10.7\nmean,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,9023,15831,29709,42026,58669,67070,65526,44784,29711,,,,362349\n2017,8345,14868,28307,43479,57060,59325,57794,46218,33526,15375,11157,7084,382538\n2016,7262,16452,27956,48481,60218,56262,53776,48503,25866,19137,12859,5660,382432\n2015,8882,13475,30056,50190,55679,57207,57047,49551,33798,19483,8962,5121,389451\nmean,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,21.8,28.5,34.9,49.9,76.3,98.8,104.6,64.5,42.9,,,,522.2\n2017,20.6,25.2,40.5,59.4,75.1,80.5,79.1,63.5,46.3,26.2,38.7,18.7,573.8\n2016,20.8,27.3,39.7,61.4,77.3,81.1,73.7,68.6,43.9,39.0,23.5,21.0,577.3\n2015,23.5,21.0,38.1,59.8,67.1,73.3,76.1,66.2,53.0,34.4,25.6,24.1,562.2\nmean,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Annual\n2018,30.5,41.0,55.4,81.0,116.3,143.1,147.9,96.8,64.3,,,,776.3\n2017,27.1,37.8,64.0,88.6,117.8,127.9,122.2,97.5,71.3,39.2,46.4,24.6,864.4\n2016,28.7,41.0,61.1,96.8,118.9,122.4,112.7,104.8,64.3,52.8,30.3,26.7,860.5\n2015,32.7,31.1,60.5,95.8,113.2,115.7,120.8,101.4,75.9,47.2,35.1,32.8,862.2\nmean,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a,n/a\n\nYear,Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,Total\n2018,226,262,303,188,115,38,12,30,N/A,N/A,N/A,N/A,N/A\n2017,228,206,195,170,105,55,34,37,63,90,183,230,1596\n2016,220,247,247,210,112,44,44,28,41,99,226,185,1702\n2015,247,253,243,182,143,82,48,46,57,100,130,162,1693\n</code></pre>\n\n<p>My source code is :</p>\n\n<pre><code>import time\nfrom os import getcwd\nfrom selenium.webdriver.firefox.options import Options\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.support.ui import Select\nfrom selenium.common.exceptions import NoSuchElementException\nfrom selenium.common.exceptions import NoAlertPresentException\nfrom selenium.webdriver.support.wait import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom bs4 import BeautifulSoup\nimport pandas\n\nimport time, re\nimport csv\nimport uuid\n\n\nclass metEiren():\n   def __init__(self):\n       print(\"hurray33\")\n       global downloadDir\n       downloadDir = \"\"\n\n       fp = webdriver.FirefoxProfile()\n       fp.set_preference(\"browser.download.folderList\", 2)\n       fp.set_preference(\"browser.download.manager.showWhenStarting\", False)\n       fp.set_preference(\"browser.download.dir\", downloadDir)\n       fp.set_preference(\"browser.helperApps.neverAsk.saveToDisk\", \"text/csv\")\n\n       options = Options()\n       options.add_argument(\"--headless\")\n       global driver\n       driver = webdriver.Firefox(firefox_profile=fp,firefox_options=options)\n       driver.get(\"https://www.met.ie/climate/available-data/monthly-data\")\n       verificationErrors = []\n       accept_next_alert = True\n   def scrap(self):\n\n       driver.get(\"https://www.met.ie/climate/available-data/monthly-data\")\n       driver.execute_script(\"window.scrollTo(0, 1000)\")\n       wait = WebDriverWait(driver, 10)\n       link = wait.until(EC.presence_of_element_located((By.LINK_TEXT, \"Sherkin Island\")))\n       link.click()\n       time.sleep(2)\n       uFileName = str(uuid.uuid4())\n       filname = downloadDir + uFileName + \".csv\"\n       soup = BeautifulSoup(driver.page_source, 'html.parser')\n       headerList = []\n       tableContentList = []\n       for h in soup.find_all('h3'):\n           print(h.text)\n           headerList.append(h.text)\n       for table in soup.find_all('table'):\n           for row in table.find_all('tr'):\n               list_of_cells = []\n               for hd in row.find_all(['th','td']):\n                   list_of_cells.append(hd.text.strip())\n               tableContentList.append(list_of_cells)\n       with open(filname, 'w', newline='') as f:\n           writer = csv.writer(f, delimiter = ',', quoting = csv.QUOTE_NONE,escapechar=',',lineterminator='\\n')\n           length1 = len(headerList)\n           length2 = len(tableContentList)\n\n           for i in range(len(headerList)):\n               writer.writerows([headerList[i].strip(',').split(',')])\n               writer.writerows(tableContentList[s] for s in range (len(tableContentList)))\n\nif __name__ == '__main__':\n   obj = metEiren()\n   obj.scrap()\n</code></pre>\n\n<p>Any help would be appreciated, thank you</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1538000744, "post_id": 52526698, "comment_id": 91993377, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described. Your posted code dies at the first line on an undefined variable."}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1538001407, "post_id": 52526698, "comment_id": 91993537, "body": "I <i>think</i> you want <code>word_dis = &quot;&quot;.join([chtr if chtr == current_guess else word_dis[i] for i, chtr in enumerate(word)])</code>"}], "answers": [{"tags": [], "owner": {"reputation": 28, "user_id": 10299898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59249c00e44b08d5efb2a778e8c84be7?s=128&d=identicon&r=PG&f=1", "display_name": "JnB", "link": "https://stackoverflow.com/users/10299898/jnb"}, "is_accepted": false, "score": 0, "last_activity_date": 1538001637, "last_edit_date": 1538001637, "creation_date": 1538000371, "answer_id": 52526774, "question_id": 52526698, "link": "https://stackoverflow.com/questions/52526698/replacing-a-letter-from-a-string-with-that-same-letter-in-the-same-position-in-a/52526774#52526774", "title": "Replacing a letter from a string with that same letter in the same position in a list - Python", "body": "<p>Try this:</p>\n\n<pre><code>word = random.choice(word_list)\nword_dis = list(\"*\" * len(word))\n\nnum_guesses = len(word)\nwhile(num_guesses &gt; 0):\n    current_guess = input(\"Enter your guess\")\n    chtr_pos = word.find(current_guess)\n    if chtr_pos is not -1:\n        word_dis[chtr_pos] = word[chtr_pos]\n    num_guesses -= 1\n    print(word_dis)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "is_accepted": false, "score": 0, "last_activity_date": 1538002482, "creation_date": 1538002482, "answer_id": 52527073, "question_id": 52526698, "link": "https://stackoverflow.com/questions/52526698/replacing-a-letter-from-a-string-with-that-same-letter-in-the-same-position-in-a/52527073#52527073", "title": "Replacing a letter from a string with that same letter in the same position in a list - Python", "body": "<p>I tried to have it as broken down as possible so you can piece together how to create this and make it your own.   </p>\n\n<pre><code>word = 'random'\nword = list(word)\nblank = '-'*len(word)\n\nwhile blank != ''.join(word):\n    print(blank)\n    letter = input('Enter a letter: ')\n    if letter in word:\n        x = word.index(letter)\n        for idx, item in enumerate(blank):\n            blank = list(blank)\n            blank[x] = letter\n            blank = ''.join(blank)\n    else:\n        continue\n\nprint('Congratulations! The word was {}'.format(''.join(word)))\n</code></pre>\n\n<p>I used a pre-selected word since I dont have your word list.</p>\n\n<p>What you could do is make your word a <code>list</code> now it will have each letter with its own <code>index</code> from there we can make a <code>blank</code> place holder of the same lenghth.</p>\n\n<p>Next we can make a loop that will continue until they match, here I used <code>''.join(word)</code> as the comparison to maintain the <code>list</code> version but still be able to compare.</p>\n\n<p>Then we can take a <code>letter</code> guess and <code>if letter in word</code> then we can get the index of that letter from word <code>word.index(letter)</code>, with this index we can now <code>enumerate(blank)</code> which allows us to access the <code>item and index</code> and we can replace the corresponding <code>index</code> in a <code>list</code> version of <code>blank</code> and <code>''.join(blank</code> put it back together.</p>\n\n<p>This process will continue until the two words match and then after the loop breaks we can print our <code>Congratulations</code></p>\n\n<p>Make this your own but this is just a template to get you moving, cheers!</p>\n"}], "owner": {"reputation": 31, "user_id": 10421179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwkSb.jpg?s=128&g=1", "display_name": "Spiller101", "link": "https://stackoverflow.com/users/10421179/spiller101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 1, "answer_count": 2, "score": -3, "last_activity_date": 1538002482, "creation_date": 1537999926, "last_edit_date": 1538001109, "question_id": 52526698, "link": "https://stackoverflow.com/questions/52526698/replacing-a-letter-from-a-string-with-that-same-letter-in-the-same-position-in-a", "title": "Replacing a letter from a string with that same letter in the same position in a list - Python", "body": "<p>I'm a Python beginner and am having the hardest time making a basic hangman game.  I'm at the point where it is supposed to fill in the blanks when a correct letter is guessed.  Just looking for a simple beginner way to do this.\nThis is what I'm trying that is not working at the moment:</p>\n\n<pre><code>word = random.choice(word_list)\nword_dis.append(\"*\" * len(word))\nfor chtr in word:\n     chtr_pos = word.find(current_guess)\n     print(chtr_pos)\n     if chtr == current_guess:\n          word_dis[chtr_pos] = chtr\n</code></pre>\n\n<p>and I'm getting: </p>\n\n<blockquote>\n<pre><code>list assignment index out of range\n</code></pre>\n</blockquote>\n"}, {"tags": ["python", "splash-screen", "renpy"], "comments": [{"owner": {"reputation": 3679, "user_id": 2477327, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d750ec149f090d0e37918534d947e3d3?s=128&d=identicon&r=PG", "display_name": "Alexandre Tranchant", "link": "https://stackoverflow.com/users/2477327/alexandre-tranchant"}, "edited": false, "score": 0, "creation_date": 1541063780, "post_id": 52526669, "comment_id": 93092293, "body": "Have you try with <code>label splashscreen:</code>instead of <code>label splashcreen:</code>? It seem there is a typo error in your code (a <code>s</code> was omitted)"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10940506, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/aee388f2c18188b081e2454fe992abc1?s=128&d=identicon&r=PG", "display_name": "TheHandsomeGuyOnTheWeb", "link": "https://stackoverflow.com/users/10940506/thehandsomeguyontheweb"}, "is_accepted": false, "score": 0, "last_activity_date": 1548004302, "last_edit_date": 1548004302, "creation_date": 1547986566, "answer_id": 54276319, "question_id": 52526669, "link": "https://stackoverflow.com/questions/52526669/is-it-possible-to-implement-a-splashscreen-in-renpy/54276319#54276319", "title": "Is it possible to implement a splashscreen in Ren&#39;Py?", "body": "<p>I assume you want the <em>splash screen</em> before the menu, right? </p>\n\n<p>If so, try:</p>\n\n<pre><code>label splashscreen: # create a label for your splashscreen\n\n    play music mysong # This is optional\n    scene black\n    with Pause(5) # You can change the pause time\n\n    show text \"Lorem Ipsum...\" with dissolve\n    with Pause(5)\n    hide text with dissolve\n    with Pause (1)\n    show text \"My\" with dissolve # You can change this to an image if you have one\n    with Pause(6) # This pauses the current shown text\n    hide text with dissolve\n    with Pause(2)\n\nreturn # And of course the Return will take you to the main menu screen\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 4057, "user_id": 8285811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C38qo.jpg?s=128&g=1", "display_name": "Akaisteph7", "link": "https://stackoverflow.com/users/8285811/akaisteph7"}, "edited": false, "score": 0, "creation_date": 1562460474, "post_id": 56918322, "comment_id": 100379879, "body": "This question is about help with implementation. If you are not answering the question, please add your message as a comment."}, {"owner": {"reputation": 36, "user_id": 9889578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a37a5dc7f3bb22cc01528edbd9e248e?s=128&d=identicon&r=PG&f=1", "display_name": "Saiffyros", "link": "https://stackoverflow.com/users/9889578/saiffyros"}, "reply_to_user": {"reputation": 4057, "user_id": 8285811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C38qo.jpg?s=128&g=1", "display_name": "Akaisteph7", "link": "https://stackoverflow.com/users/8285811/akaisteph7"}, "edited": false, "score": 0, "creation_date": 1562530102, "post_id": 56918322, "comment_id": 100393194, "body": "I added more details to my answer. Ty for the suggestion :-)"}], "tags": [], "owner": {"reputation": 36, "user_id": 9889578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a37a5dc7f3bb22cc01528edbd9e248e?s=128&d=identicon&r=PG&f=1", "display_name": "Saiffyros", "link": "https://stackoverflow.com/users/9889578/saiffyros"}, "is_accepted": false, "score": 1, "last_activity_date": 1562526743, "last_edit_date": 1562526743, "creation_date": 1562455759, "answer_id": 56918322, "question_id": 52526669, "link": "https://stackoverflow.com/questions/52526669/is-it-possible-to-implement-a-splashscreen-in-renpy/56918322#56918322", "title": "Is it possible to implement a splashscreen in Ren&#39;Py?", "body": "<p>It's just a matter os spelling. Check the spelling of splashscreen. You forgot the third 's'. splashScreen, not splashcreen. Also, you don't need the with pause, just use pause. Here's the code with the proper changes. I tested on the latest version of Ren'Py (7.3.2).</p>\n\n<pre><code>label splashscreen:\n     scene black\n     pause 1.0\n\n     show text \"splash text\" with dissolve\n     pause 2.0\n\n     hide text with dissolve\n     pause 1.0\n\n     return\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9392528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2gQKC.jpg?s=128&g=1", "display_name": "jagged_prospect", "link": "https://stackoverflow.com/users/9392528/jagged-prospect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1487, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562526743, "creation_date": 1537999708, "question_id": 52526669, "link": "https://stackoverflow.com/questions/52526669/is-it-possible-to-implement-a-splashscreen-in-renpy", "title": "Is it possible to implement a splashscreen in Ren&#39;Py?", "body": "<p>Is it still possible to implement a splashscreen in the latest version of Ren'Py? I have searched through every forum concerning the use of splashscreens; however, all of them are either outdated or do not work. Below I included the snippet of code from the historic Ren'Py wiki page (which does not work in the newest version). I couldn't find any other official documentation on the Ren'Py site. At this point, I'm a little desperate. How in the world can I do this? </p>\n\n<pre><code>label splashcreen:\n  scene black\n  with pause (1.0)\n\n  show text \"splash text\" with dissolve\n  with pause (2.0)\n\n  hide text with dissolve\n  with pause (1.0)\n\nreturn\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5109, "user_id": 980869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SJtHC.png?s=128&g=1", "display_name": "Frederik.L", "link": "https://stackoverflow.com/users/980869/frederik-l"}, "edited": false, "score": 3, "creation_date": 1537999734, "post_id": 52526653, "comment_id": 91993083, "body": "What did you try? What did not work?"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 2, "creation_date": 1537999748, "post_id": 52526653, "comment_id": 91993089, "body": "Code one step at a time, get each step working before you go onto the next.  If you need help <i>show your code</i>."}, {"owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "edited": false, "score": 2, "creation_date": 1537999756, "post_id": 52526653, "comment_id": 91993093, "body": "Please update the question with what you&#39;ve already tried and what problems you&#39;re encountering."}, {"owner": {"reputation": 538, "user_id": 1473350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ab88fc69545c3e1dec4a031fa3953ae?s=128&d=identicon&r=PG", "display_name": "iSWORD", "link": "https://stackoverflow.com/users/1473350/isword"}, "edited": false, "score": 2, "creation_date": 1537999768, "post_id": 52526653, "comment_id": 91993096, "body": "I don&#39;t feel comfortable sharing an answer to this question even though it&#39;s easy reputation. It&#39;s a straightforward question that requires minimal python knowledge."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1537999773, "post_id": 52526653, "comment_id": 91993100, "body": "Check the mod <code>%</code> operator, that may be a good jumping off point for part of the question"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1537999964, "post_id": 52526653, "comment_id": 91993165, "body": "Take a look at the <code>divmod</code> built-in function."}, {"owner": {"reputation": 5109, "user_id": 980869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SJtHC.png?s=128&g=1", "display_name": "Frederik.L", "link": "https://stackoverflow.com/users/980869/frederik-l"}, "edited": false, "score": 0, "creation_date": 1538000003, "post_id": 52526653, "comment_id": 91993176, "body": "Since it is academic, I guess that the intention is to use a loop. You need to figure out if and how a loop could be helpful then choose a stop condition. After then, the reminder should be easy to find."}, {"owner": {"reputation": 50669, "user_id": 1711796, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6pRI7.png?s=128&g=1", "display_name": "Bernhard Barker", "link": "https://stackoverflow.com/users/1711796/bernhard-barker"}, "edited": false, "score": 4, "creation_date": 1538000190, "post_id": 52526653, "comment_id": 91993228, "body": "Which part are you struggling with? Dividing 2 numbers? Getting the remainder? Returning multiple values? What the syntax for a function is? Google probably has the answer to each of those questions."}, {"owner": {"reputation": 8101, "user_id": 9199167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BqdLV.jpg?s=128&g=1", "display_name": "Max Vollmer", "link": "https://stackoverflow.com/users/9199167/max-vollmer"}, "edited": false, "score": 1, "creation_date": 1538000529, "post_id": 52526653, "comment_id": 91993325, "body": "I&#39;m voting to close this question as off-topic because <a href=\"https://stackoverflow.com/help/on-topic\">questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it</a>."}, {"owner": {"reputation": 707, "user_id": 8673320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IXaTouByYlA/AAAAAAAAAAI/AAAAAAAAFz0/M4v8pi51Xbs/photo.jpg?sz=128", "display_name": "Aviv Shai", "link": "https://stackoverflow.com/users/8673320/aviv-shai"}, "edited": false, "score": 0, "creation_date": 1538001024, "post_id": 52526653, "comment_id": 91993442, "body": "I think you need to name the function you defined <code>divWithRem</code> in order for it to work on your website."}], "answers": [{"tags": [], "owner": {"reputation": 707, "user_id": 8673320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IXaTouByYlA/AAAAAAAAAAI/AAAAAAAAFz0/M4v8pi51Xbs/photo.jpg?sz=128", "display_name": "Aviv Shai", "link": "https://stackoverflow.com/users/8673320/aviv-shai"}, "is_accepted": true, "score": 1, "last_activity_date": 1538000749, "last_edit_date": 1538000749, "creation_date": 1538000208, "answer_id": 52526743, "question_id": 52526653, "link": "https://stackoverflow.com/questions/52526653/python-division-function/52526743#52526743", "title": "Python Division Function", "body": "<p>The <a href=\"https://docs.python.org/2/library/functions.html#divmod\" rel=\"nofollow noreferrer\"><code>divmod</code></a> function does exactly what you want:</p>\n\n<pre><code>&gt;&gt;&gt; a, b = divmod(9,5)\n\n&gt;&gt;&gt; a\n1\n\n&gt;&gt;&gt; b\n4\n</code></pre>\n\n<p>However, if you want to define your own function, this should work:</p>\n\n<pre><code>def divide(n1, n2):\n    quotient = n1 // n2\n    remainder = n1 % n2\n    return (quotient, remainder)\n</code></pre>\n\n<p>The <code>//</code> operator represents <a href=\"http://mathworld.wolfram.com/IntegerDivision.html\" rel=\"nofollow noreferrer\">integer division</a>, and the <code>%</code> operator represents <a href=\"https://en.wikipedia.org/wiki/Modulo_operation\" rel=\"nofollow noreferrer\">modulo</a> (<a href=\"http://mathworld.wolfram.com/Remainder.html\" rel=\"nofollow noreferrer\">remainder</a>).</p>\n\n<pre><code>&gt;&gt;&gt; a, b = divide(9,5)\n\n&gt;&gt;&gt; a\n1\n\n&gt;&gt;&gt; b\n4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 58, "user_id": 10292370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18c2c111f41898dfa487c90f5efc67b2?s=128&d=identicon&r=PG&f=1", "display_name": "mynameisarjay", "link": "https://stackoverflow.com/users/10292370/mynameisarjay"}, "is_accepted": false, "score": 0, "last_activity_date": 1538000245, "creation_date": 1538000245, "answer_id": 52526752, "question_id": 52526653, "link": "https://stackoverflow.com/questions/52526653/python-division-function/52526752#52526752", "title": "Python Division Function", "body": "<pre><code>def division_function(a, b):\n    first = a//b\n    second = a%b\n    return(first, second)\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>def division_function(a,b) -> Indicates signature of the method, taking two parameters( a and b)</p>\n\n<p>first = a//b  -> performs integer division ( divide and omit the decimal place) and store that value to a variable named first</p>\n\n<p>second =  a% b  -> performs modulo operation ( divide the two numbers and get the remainder) and store that value to a variable second</p>\n\n<p>return(first, second) -> this function will return a tuple with both the first and second value</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10405209, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dT-prImYiU4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DW88eX8n3lmH86rr7RlpheOt-WRsw/mo/photo.jpg?sz=128", "display_name": "mohamad ibrahim", "link": "https://stackoverflow.com/users/10405209/mohamad-ibrahim"}, "is_accepted": false, "score": 0, "last_activity_date": 1538001036, "creation_date": 1538001036, "answer_id": 52526873, "question_id": 52526653, "link": "https://stackoverflow.com/questions/52526653/python-division-function/52526873#52526873", "title": "Python Division Function", "body": "<p>we have 5 apples and 4 persons, you know that 1 apple will remain and the 4 persons  will eat so remainder is 1 and 4 is found only one in 5\nthe remainder means % in python and divide 5/4 to know how many times </p>\n\n<pre><code>    num1=int(input(\"enter your first num:\"))\n    num2=int(input(\"enter your second num:\"))\n    remainder=num1%num2\n    number_of_times=num1 / num2\n    print(remainder)\n    print(int(number_of_times))\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10421181, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yhp-cqOR6CA/AAAAAAAAAAI/AAAAAAAAAAA/s7EvDNwMcss/photo.jpg?sz=128", "display_name": "Marissa Page", "link": "https://stackoverflow.com/users/10421181/marissa-page"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9228, "favorite_count": 0, "closed_date": 1538003342, "accepted_answer_id": 52526743, "answer_count": 3, "score": -5, "last_activity_date": 1538001036, "creation_date": 1537999636, "last_edit_date": 1538000727, "question_id": 52526653, "link": "https://stackoverflow.com/questions/52526653/python-division-function", "closed_reason": "Needs more focus", "title": "Python Division Function", "body": "<p>I am working on practice homework for my computer science class and I cannot seem to figure out how to solve for the question I have been given.</p>\n\n<p>Write a function that takes two numbers, one number to be divided by the second number. The function should return the number of times the second number goes into the first and the remainder. For example, if the function is sent 9 and 5, it should return 1 and 4.</p>\n\n<p>Any ideas?</p>\n\n<p>Codes I have Tried:</p>\n\n<p>def division_function(a, b):\n    first = a//b\n    second = a%b\n    return(first, second)</p>\n\n<p>I have also tried the general division functions within Python, but that also does not seem to be working.</p>\n\n<p>The website we use is a bit tricky, as we are not using Python itself.\nAlso, I understand the \"general\" Python code of division, I am just trying to find other eyes, perhaps to see where I am messing up.I have only been in this class for a few days and we have not yet gone over the material, but have already been given assignments.</p>\n\n<p>Also, if this helps, I often get this error code:</p>\n\n<p>Traceback (most recent call last):\n  File \"/home/runner/unit_tests.py\", line 12, in test_testdivRem\n    self.assertEquals(divWithRem(9,5),(1,4))\nNameError: name 'divWithRem' is not defined</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 16677, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1537999320, "post_id": 52526573, "comment_id": 91992968, "body": "try <code>for j in range(len(df[&#39;percent change&#39;])):</code>"}, {"owner": {"reputation": 79, "user_id": 9991654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20e4d9edc7badd22699555b7079ec22?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/9991654/robin"}, "reply_to_user": {"reputation": 16677, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1537999550, "post_id": 52526573, "comment_id": 91993021, "body": "no, it did not work.I think it is because of i, but I am not sure @Ruzihm"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1537999677, "post_id": 52526573, "comment_id": 91993066, "body": "You&#39;re using the values of <code>windows</code>, with max <code>5</code>, to index into <code>profit_loss</code>, whose max index is <code>4</code>. Remember that python is zero-indexed"}, {"owner": {"reputation": 16677, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1537999849, "post_id": 52526573, "comment_id": 91993118, "body": "In other words, do <code>for i in range(len(profit_loss)):</code> and  <code>for j in range(len(df[&#39;percent change&#39;])):</code>"}, {"owner": {"reputation": 79, "user_id": 9991654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20e4d9edc7badd22699555b7079ec22?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/9991654/robin"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1537999879, "post_id": 52526573, "comment_id": 91993133, "body": "it worked! @G.Anderson"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1537999974, "post_id": 52526573, "comment_id": 91993167, "body": "Adding as answer, since it helped solve the problem"}], "answers": [{"tags": [], "owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "is_accepted": true, "score": 1, "last_activity_date": 1537999977, "creation_date": 1537999977, "answer_id": 52526710, "question_id": 52526573, "link": "https://stackoverflow.com/questions/52526573/list-index-out-of-range-python-pandas/52526710#52526710", "title": "list index out of range - Python/Pandas", "body": "<p>You're using the values of <code>windows</code>, with max <code>5</code>, to index into <code>profit_loss</code>, whose max index is <code>4</code>. Remember that python is zero-indexed</p>\n"}], "owner": {"reputation": 79, "user_id": 9991654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20e4d9edc7badd22699555b7079ec22?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/9991654/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1618, "favorite_count": 0, "accepted_answer_id": 52526710, "answer_count": 1, "score": 0, "last_activity_date": 1537999977, "creation_date": 1537999157, "question_id": 52526573, "link": "https://stackoverflow.com/questions/52526573/list-index-out-of-range-python-pandas", "title": "list index out of range - Python/Pandas", "body": "<p>Hello I am writing this python code by using pandas to analyze some stock data. I am using two too loops for getting cumulative profit.But it gave me list index out of range error. Anyone could help? df is dataframe I am using and it has about 10 columns included 'invest' and 'percent change'. df['invest'] column is all binary numbers 1 or 0 and df['percent change'] is stock price changed compared with last day. windows here mean if I see windows consecutive 0 such as 2 consecutive 0, I am going to buy this stock and sell it the next day. </p>\n\n<p>This one is my assignment. It is not really stock analysis. So please do not take the analytics method too seriously. These just for demonstrating python for data science</p>\n\n<pre><code>count=0\ncountseq=0\nprincipal=100\nwindows=[1,2,3,4,5]\nprofit_loss=[0,0,0,0,0]\nfor i in windows:\n    for j in range(len(df)-1):\n        if df['invest'][j]==0:\n            count+=1\n            if count==i:\n                profit_loss[i]+=principal*df['percent change'][j+1]\n                count=0 \n                countseq+=1\n\n\nIndexError                                Traceback (most recent call last)\n&lt;ipython-input-119-53972da7243a&gt; in &lt;module&gt;()\n     10             count+=1\n     11             if count==i:\n---&gt; 12                 profit_loss[i]+=principal*df['percent change'][j+1]\n     13                 count=0\n     14                 countseq+=1\n\nIndexError: list index out of range\n</code></pre>\n"}, {"tags": ["python", "arrays", "json", "dictionary", "objectpath"], "comments": [{"owner": {"reputation": 1133, "user_id": 2387597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e97d265245b5a76657576d13768f6698?s=128&d=identicon&r=PG", "display_name": "n8sty", "link": "https://stackoverflow.com/users/2387597/n8sty"}, "edited": false, "score": 0, "creation_date": 1538019879, "post_id": 52526546, "comment_id": 91997512, "body": "why are you using <code>objectpath</code>?"}, {"owner": {"reputation": 75, "user_id": 5550563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffabe4287a177379717eec3b3c7a5267?s=128&d=identicon&r=PG&f=1", "display_name": "Biyinzika", "link": "https://stackoverflow.com/users/5550563/biyinzika"}, "reply_to_user": {"reputation": 1133, "user_id": 2387597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e97d265245b5a76657576d13768f6698?s=128&d=identicon&r=PG", "display_name": "n8sty", "link": "https://stackoverflow.com/users/2387597/n8sty"}, "edited": false, "score": 0, "creation_date": 1538025921, "post_id": 52526546, "comment_id": 91999078, "body": "I use it to traverse the values. I can then output the values as a list / tuple. The original python json library did not manage to traverse the values as well as object path."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1538036006, "post_id": 52526546, "comment_id": 92004016, "body": "The line <code>json.dumps(data)</code> is useless."}, {"owner": {"reputation": 3844, "user_id": 833881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856cdb57da6d0b4758d597d30602fcd8?s=128&d=identicon&r=PG", "display_name": "kungphu", "link": "https://stackoverflow.com/users/833881/kungphu"}, "edited": false, "score": 0, "creation_date": 1538036257, "post_id": 52526546, "comment_id": 92004151, "body": "I tried this with your example data; after <code>data = json.loads(line)</code> I can successfully get the ID at <code>data[&quot;id&quot;]</code> and the name info in the list at <code>data[&quot;users&quot;][&quot;name&quot;]</code>. There&#39;s no need for <code>objectpath</code> here."}, {"owner": {"reputation": 75, "user_id": 5550563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffabe4287a177379717eec3b3c7a5267?s=128&d=identicon&r=PG&f=1", "display_name": "Biyinzika", "link": "https://stackoverflow.com/users/5550563/biyinzika"}, "edited": false, "score": 0, "creation_date": 1538045332, "post_id": 52526546, "comment_id": 92009648, "body": "Thanks for that. My output for lists of the JSON arrays kept on having a &#39;u&#39; before them. I read somewhere that json.dumps with its default values for ASCII helps eliminate those."}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 5550563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffabe4287a177379717eec3b3c7a5267?s=128&d=identicon&r=PG&f=1", "display_name": "Biyinzika", "link": "https://stackoverflow.com/users/5550563/biyinzika"}, "is_accepted": true, "score": 0, "last_activity_date": 1538473424, "creation_date": 1538473424, "answer_id": 52605858, "question_id": 52526546, "link": "https://stackoverflow.com/questions/52526546/how-can-someone-create-a-python-keyvalue-dictionary-from-a-nested-array-in-a-js/52605858#52605858", "title": "How can someone create a python key:value dictionary from a nested array in a JSON file with multiple lines in python?", "body": "<p>New edit : Answer</p>\n\n<pre><code>dict={}\n    with open(fileName, 'r') as file_to_read:\n        for line in file_to_read:\n            data = json.loads(line)\n            json_tree = objectpath.Tree(data)\n            json.dumps(data)\n            dict[json_tree.execute('$.id')] = list(json_tree.execute('$.users.name.text'))\n    return dict\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5550563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffabe4287a177379717eec3b3c7a5267?s=128&d=identicon&r=PG&f=1", "display_name": "Biyinzika", "link": "https://stackoverflow.com/users/5550563/biyinzika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 52605858, "answer_count": 1, "score": 0, "last_activity_date": 1538473424, "creation_date": 1537999012, "last_edit_date": 1538028532, "question_id": 52526546, "link": "https://stackoverflow.com/questions/52526546/how-can-someone-create-a-python-keyvalue-dictionary-from-a-nested-array-in-a-js", "title": "How can someone create a python key:value dictionary from a nested array in a JSON file with multiple lines in python?", "body": "<p>I have a JSON file with values in [] brackets as shown. I am trying to create a [key:value] dictionary that shows the [id_value : text_value.] </p>\n\n<pre><code>{\"id\":6127465, \"users\":{\"name\":[{\"dr_info\":[28,37],\"text\":\"trees\"}],\"favorites\":[]}}\n{\"id\":9285628, \"users\":{\"name\":[{\"dr_info\":[16,24],\"text\":\"grass\"}, {\"id_info\":[30,34],\"text\":\"trees\"}],\"favorites\":[]}}\n{\"id\":7625927, \"users\":{\"name\":[{\"dr_info\":[18,23],\"text\":\"grass\"}],\"favorites\":[], \"type\" : \"photo\"}}\n{\"id\":8725946, \"users\":{\"name\":[{\"dr_info\":[23,33],\"text\":\"grass\"}, {\"id_info\":[37,41],\"text\":\"trees\"}],\"favorites\":[]}}\n</code></pre>\n\n<p>Taking as an example the first two JSON lines above. The output for the dictionary would be :</p>\n\n<hr>\n\n<p>[6127465 : 'trees']</p>\n\n<p>[9285628 : 'grass' , 'trees']  and so on.</p>\n\n<hr>\n\n<p>Here is what I have coded so far but I can't get the values very well.</p>\n\n<pre><code>dict={}\nwith open(fileName, 'r') as file_to_read:\n    for line in file_to_read:\n        data = json.loads(line)\n        json_tree = objectpath.Tree(data)\n        json.dumps(data, ensure_ascii=True)\n        dict[json_tree.execute('$.id')] = json_tree.execute('$.users.name.text')\nreturn dict\n</code></pre>\n\n<p>New edit. (Answer)</p>\n\n<pre><code>dict={}\n    with open(fileName, 'r') as file_to_read:\n        for line in file_to_read:\n            data = json.loads(line)\n            json_tree = objectpath.Tree(data)\n            json.dumps(data)\n            dict[json_tree.execute('$.id')] = list(json_tree.execute('$.users.name.text'))\n    return dict\n</code></pre>\n"}, {"tags": ["python", "pandas-groupby", "binning"], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 9465029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b449e4ea964acd8eeb4c37c420495683?s=128&d=identicon&r=PG&f=1", "display_name": "Peslier53", "link": "https://stackoverflow.com/users/9465029/peslier53"}, "edited": false, "score": 0, "creation_date": 1538041909, "post_id": 52527659, "comment_id": 92007514, "body": "thank you very much that works perfectly in two lines of code."}], "tags": [], "owner": {"reputation": 864, "user_id": 6582984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b394be3db81ad10291b6fb7b0122bc?s=128&d=identicon&r=PG&f=1", "display_name": "WolfgangK", "link": "https://stackoverflow.com/users/6582984/wolfgangk"}, "is_accepted": true, "score": 1, "last_activity_date": 1538007322, "creation_date": 1538007322, "answer_id": 52527659, "question_id": 52526545, "link": "https://stackoverflow.com/questions/52526545/how-to-bin-efficiently-a-column-and-groupby-in-pandas/52527659#52527659", "title": "how to bin efficiently a column and groupby in pandas?", "body": "<p>This should work given your <code>df</code>, I don't know about elegance though:</p>\n\n<pre><code># altered bins for demonstration purposes\nbinned = pd.cut(x=df.value, bins=[-np.inf, 40, 50, np.inf], right=False, labels=['low', 'mid', 'high'])\ngrouped = binned.groupby([pd.Grouper(freq='Y'), binned]).count() / binned.groupby(pd.Grouper(freq='Y')).count()\n</code></pre>\n\n<p>Result of <code>print(grouped)</code>:</p>\n\n<pre><code>index       value\n2015-12-31  low      0.520000\n            mid      0.380000\n            high     0.100000\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 9465029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b449e4ea964acd8eeb4c37c420495683?s=128&d=identicon&r=PG&f=1", "display_name": "Peslier53", "link": "https://stackoverflow.com/users/9465029/peslier53"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 1, "accepted_answer_id": 52527659, "answer_count": 1, "score": 3, "last_activity_date": 1538007322, "creation_date": 1537998996, "last_edit_date": 1538001743, "question_id": 52526545, "link": "https://stackoverflow.com/questions/52526545/how-to-bin-efficiently-a-column-and-groupby-in-pandas", "title": "how to bin efficiently a column and groupby in pandas?", "body": "<p>I have the following dataframe:</p>\n\n<pre><code>date  = ['2015-02-03 23:00:00','2015-02-03 23:30:00','2015-02-04 00:00:00','2015-02-04 00:30:00','2015-02-04 01:00:00','2015-02-04 01:30:00','2015-02-04 02:00:00','2015-02-04 02:30:00','2015-02-04 03:00:00','2015-02-04 03:30:00','2015-02-04 04:00:00','2015-02-04 04:30:00','2015-02-04 05:00:00','2015-02-04 05:30:00','2015-02-04 06:00:00','2015-02-04 06:30:00','2015-02-04 07:00:00','2015-02-04 07:30:00','2015-02-04 08:00:00','2015-02-04 08:30:00','2015-02-04 09:00:00','2015-02-04 09:30:00','2015-02-04 10:00:00','2015-02-04 10:30:00','2015-02-04 11:00:00','2015-02-04 11:30:00','2015-02-04 12:00:00','2015-02-04 12:30:00','2015-02-04 13:00:00','2015-02-04 13:30:00','2015-02-04 14:00:00','2015-02-04 14:30:00','2015-02-04 15:00:00','2015-02-04 15:30:00','2015-02-04 16:00:00','2015-02-04 16:30:00','2015-02-04 17:00:00','2015-02-04 17:30:00','2015-02-04 18:00:00','2015-02-04 18:30:00','2015-02-04 19:00:00','2015-02-04 19:30:00','2015-02-04 20:00:00','2015-02-04 20:30:00','2015-02-04 21:00:00','2015-02-04 21:30:00','2015-02-04 22:00:00','2015-02-04 22:30:00','2015-02-04 23:00:00','2015-02-04 23:30:00']\nvalue = [33.24  , 31.71  , 34.39  , 34.49  , 34.67  , 34.46  , 34.59  , 34.83  , 35.78  , 33.03  , 35.49  , 33.79  , 36.12  , 37.09  , 39.54  , 41.19  , 45.99  , 50.23  , 46.72  , 47.47  , 48.46  , 48.38  , 48.40  , 48.13  , 38.35  , 38.19  , 38.12  , 38.05  , 38.06  , 37.83  , 37.49  , 37.41 , 41.84  , 42.26 , 44.09  , 48.85  , 50.07 , 50.94  , 51.09  , 50.60  , 47.39  , 45.57  , 45.03  , 44.98  , 41.32  , 40.37  , 41.12  , 39.33  , 35.38  , 33.44  ]\ndf = pd.DataFrame({'value':value,'index':date})\ndf.index = pd.to_datetime(df['index'],format='%Y-%m-%d %H:%M')\ndf.drop(['index'],axis=1,inplace=True)\nprint(df)    \n\n                     value\nindex                     \n2015-02-03 23:00:00  33.24\n2015-02-03 23:30:00  31.71\n2015-02-04 00:00:00  34.39\n2015-02-04 00:30:00  34.49\n2015-02-04 01:00:00  34.67\n2015-02-04 01:30:00  34.46\n</code></pre>\n\n<p>I want to do the following operation efficiently:</p>\n\n<ul>\n<li>for each year, compute the percentage of occurences of values stricly under 0, between 0 included and strictly lower than 20, and then above 20 included</li>\n</ul>\n\n<p>I know the function cut and groupby, but i can't think of a way to merge both to do that elegantly.</p>\n\n<p>Expected result would be something like:</p>\n\n<pre><code>                   inf0        supequal0_inf20         supequal20                                                    \n2015               0.2                0.6                  0.2\n2016               0.7                0.1                  0.2\n2017               0.1                0.8                  0.1\n</code></pre>\n\n<p>Many thanks for your help,</p>\n"}, {"tags": ["python", "numpy", "floating-point", "probability"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1537999199, "post_id": 52526525, "comment_id": 91992930, "body": "Can you expand on <code>I am having problem in the next steps in my project due to this issue.</code>? These errors are inevitable with <code>float</code> computations. See also <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>."}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 2, "creation_date": 1537999202, "post_id": 52526525, "comment_id": 91992933, "body": "Looks like you&#39;re just running into floating point math issues.  Use <code>np.isclose</code> if you need to make sure they are close to 1"}, {"owner": {"reputation": 7214, "user_id": 392585, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ac7b1da0f2e9107b5020f88023a15e5?s=128&d=identicon&r=PG", "display_name": "Simon Byrne", "link": "https://stackoverflow.com/users/392585/simon-byrne"}, "edited": false, "score": 6, "creation_date": 1537999263, "post_id": 52526525, "comment_id": 91992954, "body": "Basically, you can&#39;t: since floating point summation is order-dependant, there is no way to guarantee that a set of values summed one way will give the same result when summed another."}, {"owner": {"reputation": 967, "user_id": 3703783, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cbf5a55e88966831c475f36203581c21?s=128&d=identicon&r=PG&f=1", "display_name": "Kid_Learning_C", "link": "https://stackoverflow.com/users/3703783/kid-learning-c"}, "edited": false, "score": 0, "creation_date": 1538000747, "post_id": 52526525, "comment_id": 91993378, "body": "@jpg  Specifically, the 2d array is saved as pandas dataframe and stored as a .csv file. Another program of RShiny loads the matrix from the .csv file and computes the Total Variational Distance between pairs of rows. This will need sum(row) == 1.0 for each row, otherwise it will report an error saying numbers don&#39;t sum to 1.0"}, {"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 1, "creation_date": 1538003492, "post_id": 52526525, "comment_id": 91994052, "body": "<a href=\"https://stackoverflow.com/questions/17641300/rounding-floats-so-that-they-sum-to-precisely-1/17643222#17643222\">One related question.</a>"}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "reply_to_user": {"reputation": 7214, "user_id": 392585, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ac7b1da0f2e9107b5020f88023a15e5?s=128&d=identicon&r=PG", "display_name": "Simon Byrne", "link": "https://stackoverflow.com/users/392585/simon-byrne"}, "edited": false, "score": 1, "creation_date": 1538013382, "post_id": 52526525, "comment_id": 91996166, "body": "To elaborate on @SimonByrne&#39;s comment: Not only do floating point inaccuracies cause your result not sum to 1, but the very concept of having an exact sum is implementation-defined. Let&#39;s say you have a function <code>sum_forward</code>, that iterates over your array and computes the sum from the first element onwards. You can tweak your data till <code>sum_forwards(data) == 1</code> (exactly). But now you pass on your data to my library, which starts with <code>assert sum_backwards(data) == 1</code>, which fails! To solve your problem, you need to know exactly the algorithm used by <code>distrEx::TotalVarDist</code> to compute the sum."}], "owner": {"reputation": 967, "user_id": 3703783, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cbf5a55e88966831c475f36203581c21?s=128&d=identicon&r=PG&f=1", "display_name": "Kid_Learning_C", "link": "https://stackoverflow.com/users/3703783/kid-learning-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538001684, "creation_date": 1537998886, "last_edit_date": 1538001684, "question_id": 52526525, "link": "https://stackoverflow.com/questions/52526525/how-to-make-sure-a-probability-distribution-add-up-to-exactly-1-0-in-python-nump", "title": "How to make sure a probability distribution add up to exactly 1.0 in python numpy?", "body": "<p>I am using Latent Dirichlet Allocation function in sklearn: <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.LatentDirichletAllocation.html\" rel=\"nofollow noreferrer\">http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.LatentDirichletAllocation.html</a> \nThe output is a 2d numpy array of floats, in which each row is a probability distribution. However, some rows does not add up  to exactly 1.0, for example: </p>\n\n<pre><code>row index,  sum\n5           0.9999999999999999\n6           0.9999999999999999\n7           1.0000000000000002\n9           0.9999999999999999\n10          0.9999999999999999\n12          0.9999999999999999\n13          1.0000000000000002\n ...\n</code></pre>\n\n<p>I am having problem in the next steps in my project due to this issue. \nSpecifically, the 2d array is saved as pandas dataframe and stored as a .csv file.  Another R script loads the matrix from the .csv file and computes the Total Variational Distance between pairs of rows by applying a package function <code>distrEx::TotalVarDist()</code>,  which actually adds them up and raise error if the sum is not 1.0. This will need sum(row) == 1.0 for each row.</p>\n\n<p>How can I ensure that all rows add up to exactly 1.0 ?  </p>\n\n<p>Given this matrix, I can fix by adding / subtracting the tiny error to the first number in the row, but this is obviously a very bad practice. </p>\n\n<p>How can I fix?  </p>\n"}, {"tags": ["python", "file", "terminal", "output"], "comments": [{"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1537999272, "post_id": 52526524, "comment_id": 91992956, "body": "Did you mean <code>logfile = &quot;.&#47;test.log&quot;</code> instead of <code>f=&quot;&#47;test.log&quot;</code>?"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1537999408, "post_id": 52526524, "comment_id": 91992986, "body": "Try using <code>cmd_str=[&quot;sudo&quot;, &quot;shred&quot;, &quot;-v&quot;, &quot;&#47;dev&#47;sde&quot;]</code>"}, {"owner": {"reputation": 5085, "user_id": 155366, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b085f1dea96341dd6df3e2d95c586539?s=128&d=identicon&r=PG&f=1", "display_name": "netrox", "link": "https://stackoverflow.com/users/155366/netrox"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1538057105, "post_id": 52526524, "comment_id": 92017235, "body": "Cdarke, yes I tried. It is just not saving each line to the log file."}], "answers": [{"comments": [{"owner": {"reputation": 5085, "user_id": 155366, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b085f1dea96341dd6df3e2d95c586539?s=128&d=identicon&r=PG&f=1", "display_name": "netrox", "link": "https://stackoverflow.com/users/155366/netrox"}, "edited": false, "score": 0, "creation_date": 1538002036, "post_id": 52526867, "comment_id": 91993678, "body": "File &quot;/usr/lib/python3.6/subprocess.py&quot;, line 1184, in _get_handles     c2pwrite = stdout.fileno() AttributeError: &#39;str&#39; object has no attribute &#39;fileno&#39;"}, {"owner": {"reputation": 9745, "user_id": 351084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c23386d0e1413dace23745f78846834?s=128&d=identicon&r=PG", "display_name": "mattbornski", "link": "https://stackoverflow.com/users/351084/mattbornski"}, "reply_to_user": {"reputation": 5085, "user_id": 155366, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b085f1dea96341dd6df3e2d95c586539?s=128&d=identicon&r=PG&f=1", "display_name": "netrox", "link": "https://stackoverflow.com/users/155366/netrox"}, "edited": false, "score": 0, "creation_date": 1538003006, "post_id": 52526867, "comment_id": 91993933, "body": "ah yes, you&#39;ll need to pass a file object instead of a file name.  edited to open the file for writing."}], "tags": [], "owner": {"reputation": 9745, "user_id": 351084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c23386d0e1413dace23745f78846834?s=128&d=identicon&r=PG", "display_name": "mattbornski", "link": "https://stackoverflow.com/users/351084/mattbornski"}, "is_accepted": false, "score": 0, "last_activity_date": 1538002988, "last_edit_date": 1538002988, "creation_date": 1538001008, "answer_id": 52526867, "question_id": 52526524, "link": "https://stackoverflow.com/questions/52526524/saving-live-output-to-file-in-python/52526867#52526867", "title": "Saving live output to file in python", "body": "<p>Splitting your tokens is definitely recommended, and you'll probably need to use <code>shell=True</code> to get <code>sudo</code> to take:</p>\n\n<pre><code>   cmd_str=\"sudo shred -v /dev/sde\"\n   f=\"/test.log\"\n\n   with Popen(cmd_str.split(), shell=True, stdout=open(f, 'w'), bufsize=1, universal_newlines=True) as p:\n       for line in p.stdout:\n           print(line, end='')\n</code></pre>\n"}], "owner": {"reputation": 5085, "user_id": 155366, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b085f1dea96341dd6df3e2d95c586539?s=128&d=identicon&r=PG&f=1", "display_name": "netrox", "link": "https://stackoverflow.com/users/155366/netrox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538017189, "creation_date": 1537998882, "last_edit_date": 1538017189, "question_id": 52526524, "link": "https://stackoverflow.com/questions/52526524/saving-live-output-to-file-in-python", "title": "Saving live output to file in python", "body": "<p>This is taking all day to try to figure out why it's not working. This is with Python 3.6.</p>\n\n<p>The goal is to capture the progress from a command line, shred as an example. Shred would output line by line of the progress. </p>\n\n<p>With Python subprocess, it cannot seem to save any output to the file. I did this: </p>\n\n<pre><code>   cmd_str=\"sudo shred -v /dev/sde\"\n   f=\"/test.log\"\n\n   with Popen(cmd_str, stdout=f, bufsize=1, universal_newlines=True) as p:\n       for line in p.stdout:\n           print(line, end='') \n</code></pre>\n\n<p>But it generated an error saying: FileNotFoundError: [Errno 2] No such file or directory: 'sudo shred -v /dev/sde': 'sudo shred -v /dev/sde' which makes no sense to me. </p>\n\n<p>Simply put, I want a new line of output to be appended to the file and close it. So that way, the external program can check the log file to see how the progress is going. </p>\n\n<p>I just observed that when I use tee to see if it's logging and it's not logging to the file either despite creating the log file. </p>\n\n<p>UPDATE: I have tried every possible solution in this site and nothing worked. I am starting to think if it has to do with the fact that it's a progress bar that is not capable of being sent to stdout? These are tried and yet failed to work:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18421757/live-output-from-subprocess-command\">live output from subprocess command</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4417546/constantly-print-subprocess-output-while-process-is-running\">Constantly print Subprocess output while process is running</a></p>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 4, "creation_date": 1538005362, "post_id": 52526476, "comment_id": 91994459, "body": "Fundamentally no, a key is mapped to one value. However, that value can be a <i>container</i>, like a <code>list</code> or <i>another <code>dict</code></i>, which itself can have multiple values"}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1538007162, "post_id": 52526476, "comment_id": 91994845, "body": "It looks like your values are all integers.  If so, <code>5 &lt; values_ &lt; 6</code> cannot possibly be true; one or both of those comparisons should be <code>&lt;=</code>."}, {"owner": {"reputation": 51, "user_id": 9814459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3c3ad0a162e3a4ddbb7e7d8b81fd95?s=128&d=identicon&r=PG&f=1", "display_name": "defjamvan", "link": "https://stackoverflow.com/users/9814459/defjamvan"}, "edited": false, "score": 0, "creation_date": 1538007466, "post_id": 52526476, "comment_id": 91994934, "body": "Mistype. the range is [5,16]"}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1538007577, "post_id": 52526476, "comment_id": 91994958, "body": "Can you give a cleaner example of a sample input and expected output?  Keep it simple."}, {"owner": {"reputation": 51, "user_id": 9814459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3c3ad0a162e3a4ddbb7e7d8b81fd95?s=128&d=identicon&r=PG&f=1", "display_name": "defjamvan", "link": "https://stackoverflow.com/users/9814459/defjamvan"}, "edited": false, "score": 0, "creation_date": 1538007972, "post_id": 52526476, "comment_id": 91995044, "body": "See the updates."}], "answers": [{"tags": [], "owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "is_accepted": true, "score": 1, "last_activity_date": 1538013452, "last_edit_date": 1538013452, "creation_date": 1538011648, "answer_id": 52528139, "question_id": 52526476, "link": "https://stackoverflow.com/questions/52526476/how-to-add-multiple-values-to-dict-key/52528139#52528139", "title": "How to add multiple values to dict key?", "body": "<p>If you're processing columns into a dict of names with accumulated values, consider a <a href=\"https://docs.python.org/3.7/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\"><code>defaultdict</code></a>.</p>\n\n<p><strong>Given</strong></p>\n\n<pre><code>import itertools as it\nimport collections as ct\n\n\npred = lambda x : 5 &lt; x &lt; 16\n\n# Sample data (bad + good)\nvalues = list(range(-10, -5)) + list(range(6, 11))\nnames = [\"Nick\"] * 5 + [\"James\"] * 5\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>def make_dict(names, values):\n    \"\"\"Return a defaultdict of names and listed values.\"\"\"\n    data = ct.defaultdict(list)\n    for name, value in zip(names, values):\n        data[name].append(value)\n    return data\n\n\ndef process_dict(data, pred):\n    \"\"\"Return a list of strings; pass if values satisfy the predicate.\"\"\"\n    result = []\n    for name, counts in data.items():\n        if all(pred(v) for v in counts):\n            result.append(f\"{name} passed.\\n\")\n        else:\n            result.append(f\"{name} failed.\\n\")\n    return result\n</code></pre>\n\n<p><strong>Demo</strong></p>\n\n<pre><code>d = make_dict(names, values)\nd\n# defaultdict(list, {'Nick': [-10, -9, -8, -7, -6], 'James': [6, 7, 8, 9, 10]})\n\nprocess_dict(d, pred)\n# ['Nick failed.\\n', 'James passed.\\n']\n</code></pre>\n\n<hr>\n\n<p><strong>Details</strong></p>\n\n<ul>\n<li>we use a sample data of names and values</li>\n<li><code>make_dict()</code> returns a dictionary of name-values pairs.  <code>defaultdict</code> makes an empty list if a key is missing, so we can safely append values without a <code>KeyError</code>; this obviates chunking.</li>\n<li><code>process_dict()</code> validates passing data using a predicate.  A predicate is a function that returns <code>True</code> or <code>False</code> based on a condition, e.g. <code>5 &lt; x &lt; 16</code>.</li>\n</ul>\n"}], "owner": {"reputation": 51, "user_id": 9814459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3c3ad0a162e3a4ddbb7e7d8b81fd95?s=128&d=identicon&r=PG&f=1", "display_name": "defjamvan", "link": "https://stackoverflow.com/users/9814459/defjamvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 52528139, "answer_count": 1, "score": -1, "last_activity_date": 1538013452, "creation_date": 1537998666, "last_edit_date": 1538007745, "question_id": 52526476, "link": "https://stackoverflow.com/questions/52526476/how-to-add-multiple-values-to-dict-key", "title": "How to add multiple values to dict key?", "body": "<pre><code>    def chunk(it, size):\n        it = iter(it)\n        return iter(lambda: tuple(islice(it, size)), ()) \n\n    Results = []\n    values = list(df['values'])\n    name = list(df['name'])\n\n    mergedata = {name_: counts_ for name_, counts_ in zip(name, list(chunk(values, 20)))}\n    print(mergedata)\n\n    for name_, counts in mergedata.items():\n        if all( 5 &lt; values_ &lt; 16 for values_ in counts ):\n            Results.append(f'{name_} passed.\\n')\n        else:\n            Results.append(f'{name_} failed.\\n')\n</code></pre>\n\n<p>I have a script that reads two columns from a csv file. 'Name' and Value'. \nThen based on the values it gives a pass or fail if all values for that individual is [5,16]. But the chunk command only give me the last value. Ex: 'Nick: 5' and 'Dan: 4'. Each person has 20 values assigned to them. What am I missing in my code? </p>\n\n<p>chunk(values, 20) # Chunks and prints 20 random values for first individual(Nick) Ex: Nick: 9,3,5,2,6,7,.....\nchunk(values, 1) # Chunk and prints last value for all individuals:  Ex: 'Nick: 5' and 'Dan: 4'.</p>\n\n<p>.<code>Name Values\nNick 4\nNick 14\nNick 6\nNick 4\nNick 11\nNick 17\nNick 19\n... ...\nJames 12\nJames 4\nJames 1\nJames 2\nJames 5\n... ...\n</code></p>\n\n<p>Goal: {Nick: 4,14,6,4,11,17,19...}\nJames: {James: 12,4,1,2,5,...}</p>\n\n<p>Output: Nick failed (Because of 17 and 19)\nJames passed</p>\n"}, {"tags": ["python", "python-3.x", "inheritance", "super", "diamond-problem"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1537998574, "post_id": 52526451, "comment_id": 91992735, "body": "That behavior is most of the point of Python&#39;s <code>super</code>. (Yes, the name is confusing.)"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1537998737, "post_id": 52526451, "comment_id": 91992793, "body": "Read this: <a href=\"https://rhettinger.wordpress.com/2011/05/26/super-considered-super/\" rel=\"nofollow noreferrer\">super considered super</a>"}, {"owner": {"reputation": 420, "user_id": 3738870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190425893cffeaa9db58f472ef15b111?s=128&d=identicon&r=PG&f=1", "display_name": "user3738870", "link": "https://stackoverflow.com/users/3738870/user3738870"}, "edited": false, "score": 0, "creation_date": 1537998789, "post_id": 52526451, "comment_id": 91992809, "body": "So I should never user <code>super</code> for calling base class method&#39;s? What is it good for then, why is it a good thing that it can also go down the inheritance chain?"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1537998989, "post_id": 52526451, "comment_id": 91992867, "body": "Oddly enough, I can&#39;t find a duplicate for this question... but <a href=\"https://stackoverflow.com/a/33469090/1222951\">this answer</a> explains the behavior you&#39;ve observed."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1537999021, "post_id": 52526451, "comment_id": 91992874, "body": "Because that&#39;s the whole point! If you don&#39;t want the methods to be called why inherit from the class?"}, {"owner": {"reputation": 420, "user_id": 3738870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190425893cffeaa9db58f472ef15b111?s=128&d=identicon&r=PG&f=1", "display_name": "user3738870", "link": "https://stackoverflow.com/users/3738870/user3738870"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1537999190, "post_id": 52526451, "comment_id": 91992927, "body": "@DanielRoseman I may want to use other behavior of the class, but inside <code>start</code> method, I would just want to use the other base class method, so that&#39;s why I call the method belonging to that other class explicitly (<code>LandVehicle.start(self)</code>) instead of using <code>super()</code>"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1537999783, "post_id": 52526451, "comment_id": 91993103, "body": "<a href=\"https://stackoverflow.com/questions/45390553/calling-super-class-method-in-multiple-inheritance\">This</a> is technically a duplicate, but I like neither the question nor the answer very much. I think we can do better than that."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 4, "creation_date": 1538000738, "post_id": 52526451, "comment_id": 91993375, "body": "If an <code>Amphibian</code> doesn&#39;t have an anchor, then either it should not inherit from <code>WaterCraft</code>, or <code>WaterCraft</code> should allow for an <i>optional</i> anchor."}, {"owner": {"reputation": 420, "user_id": 3738870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190425893cffeaa9db58f472ef15b111?s=128&d=identicon&r=PG&f=1", "display_name": "user3738870", "link": "https://stackoverflow.com/users/3738870/user3738870"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1538001313, "post_id": 52526451, "comment_id": 91993511, "body": "@chepner Let&#39;s suppose the implementation of <code>start</code> in <code>Watercraft</code> is a default implementation on the premise that most watercrafts have anchors, but the ones that don&#39;t can override the method. This is exactly what <code>Amphibian</code> is trying to accomplish. How is it supposed to know that in some way, its overridden base method will still get called (as a result of calling the same method of another base class) ?"}], "answers": [{"comments": [{"owner": {"reputation": 420, "user_id": 3738870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190425893cffeaa9db58f472ef15b111?s=128&d=identicon&r=PG&f=1", "display_name": "user3738870", "link": "https://stackoverflow.com/users/3738870/user3738870"}, "edited": false, "score": 0, "creation_date": 1538005381, "post_id": 52527168, "comment_id": 91994466, "body": "Okay, thanks for the detailed answer. I really like the solution that the method should be factored out. My only remaining worry is about cases where you don&#39;t have access to the base classes and so can&#39;t apply such changes to it. (In that case, the other solution may still work though, but what if it can&#39;t be used either...)"}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 3, "last_activity_date": 1538004072, "last_edit_date": 1538004072, "creation_date": 1538003098, "answer_id": 52527168, "question_id": 52526451, "link": "https://stackoverflow.com/questions/52526451/super-strange-behavior-in-diamond-inheritance-in-python/52527168#52527168", "title": "super() strange behavior in diamond inheritance in python", "body": "<p>When you use inheritance in Python, each class defines a Method Resolution Order (MRO) that is used to decide where to look when a class attribute is looked up. For your <code>Amphibian</code> class, for instance, the MRO is <code>Amphibian</code>, <code>LandVehicle</code>, <code>WaterCraft</code>, <code>Vehicle</code> and finally <code>object</code>. (You can see this for yourself by calling <code>Amphibian.mro()</code>.)</p>\n\n<p>The exact details of how the MRO is derived are a little complicated (though you can find a description of how it works if you're interested). The important thing to know is that any child class is always listed before its parent classes, and if multiple inheritance is going on, all the parents of a child class will be in the same relative order they are in the <code>class</code> statement (other classes may appear in between the parents, but they'll never be reversed relative to one another).</p>\n\n<p>When you use <code>super</code> to call an overridden method, it looks though the MRO like it does for any attribute lookup, but it starts its search further along than usual. Specifically, it starts to search for an attribute just after the \"current\" class. By \"current\" I mean, the class containing the method in which the <code>super</code> call (even if the object the method is being called on is of some other more derived class). So when <code>LandVehicle.__init__</code> calls <code>super().__init__</code>, it begins checking for an <code>__init__</code> method in the the first class after <code>LandVehicle</code> in the MRO, and finds <code>WaterCraft.__init__</code>.</p>\n\n<p>This suggests one way you could fix the issue. You could have <code>Amphibian</code> name <code>WaterCraft</code> as its first base class, and <code>LandVehicle</code> second:</p>\n\n<pre><code>class Amphibian(Watercraft, LandVehicle):\n    ...\n</code></pre>\n\n<p>Changing the order of the bases will also change their order in the MRO. When <code>Amphibian.__init__</code> calls <code>LandVehicle.__init__</code> directly by name (rather than using <code>super</code>), the subsequent <code>super</code> calls will skip over <code>WaterCraft</code> since the class they're being called from is already further along in the MRO. Thus the rest of the <code>super</code> calls will work as you intended.</p>\n\n<p>But that's not really a great solution. When you explicitly name a base class like that, you may find that it breaks things later if you have your more child classes that want to do things differently. For instance, a class derived from the reordered-base <code>Amphibian</code> above might end up with other base classes in between <code>WaterCraft</code> and <code>LandVehcle</code>, which would also have their <code>__init__</code> methods skipped accidentally when <code>Amphibian.__init__</code> calls <code>LandVehcle.__init__</code> directly.</p>\n\n<p>A better solution would be to allow all the <code>__init__</code> methods to get called in turn, but to factor out the parts of them you might not want to always run into other methods that can be separately overridden.</p>\n\n<p>For example, you could change <code>WaterCraft</code> to:</p>\n\n<pre><code>class WaterCraft(Vehicle):\n    def start(self):\n        super().start()\n        self.weigh_anchor()\n\n    def weigh_anchor(self):\n        print(\"anchor has been pulled up\")\n</code></pre>\n\n<p>The <code>Amphibian</code> class could override the anchor specific behavior (e.g. to do nothing):</p>\n\n<pre><code>class Amphibian(LandVehicle, WaterCraft):\n    def start(self):\n        super().start(self)\n        print(\"amphibian is ready for travelling on land\")\n\n    def weigh_anchor(self):\n        pass # no anchor to weigh, so do nothing\n</code></pre>\n\n<p>Of course in this specific case, where <code>WaterCraft</code> doesn't do anything other than raise its anchor, it would be even simpler to remove <code>WaterCraft</code> as a base class for <code>Amphibian</code>. But the same idea can often work for non-trivial code.</p>\n"}], "owner": {"reputation": 420, "user_id": 3738870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190425893cffeaa9db58f472ef15b111?s=128&d=identicon&r=PG&f=1", "display_name": "user3738870", "link": "https://stackoverflow.com/users/3738870/user3738870"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "accepted_answer_id": 52527168, "answer_count": 1, "score": 3, "last_activity_date": 1538004072, "creation_date": 1537998450, "last_edit_date": 1538000397, "question_id": 52526451, "link": "https://stackoverflow.com/questions/52526451/super-strange-behavior-in-diamond-inheritance-in-python", "title": "super() strange behavior in diamond inheritance in python", "body": "<p>As the following example shows, <code>super()</code> has some strange (at least to me) behavior when used in diamond inheritance. </p>\n\n<pre><code>class Vehicle:\n    def start(self):\n        print(\"engine has been started\")\n\nclass LandVehicle(Vehicle):\n    def start(self):\n        super().start()\n        print(\"tires are safe to use\")\n\nclass WaterCraft(Vehicle):\n    def start(self):\n        super().start()\n        print(\"anchor has been pulled up\")\n\nclass Amphibian(LandVehicle, WaterCraft):\n    def start(self):\n        # we do not want to call WaterCraft.start, amphibious\n        # vehicles don't have anchors\n        LandVehicle.start(self)\n        print(\"amphibian is ready for travelling on land\")\n\namphibian = Amphibian()\namphibian.start()\n</code></pre>\n\n<p>The above code produces the following output:</p>\n\n<pre><code>engine has been started\nanchor has been pulled up\ntires are safe to use\namphibian is ready for travelling on land\n</code></pre>\n\n<p>When I call <code>super().some_method()</code>, I would never expect a method of a class on the same inheritance level to be called. So in my example, I would not expect <code>anchor has been pulled up</code> to appear in the output. </p>\n\n<p>The class calling <code>super()</code> may not even know about the other class whose method is eventually called. In my example, <code>LandVehicle</code> may not even know about <code>WaterCraft</code>.</p>\n\n<p>Is this behavior normal/expected and if so, what is the rationale behind it?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 2, "creation_date": 1537998511, "post_id": 52526443, "comment_id": 91992715, "body": "Your code is perfectly readable and efficient. The only thing wrong with it is that you used <code>extend</code> instead of <code>append</code>. Why are you looking for improvements? What do you not like about your code?"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1537999049, "post_id": 52526443, "comment_id": 91992884, "body": "I don&#39;t know that I would call <code>extend</code> wrong <i>per se</i>, it depends what else is being added to the list and how items need to be added"}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1537998655, "creation_date": 1537998655, "answer_id": 52526475, "question_id": 52526443, "link": "https://stackoverflow.com/questions/52526443/python-best-way-to-use-a-list-comprehension/52526475#52526475", "title": "Python: Best way to use a list comprehension?", "body": "<p>Yes, a list comprehension would handle this neatly:</p>\n\n<pre><code>params[\"items\" = [request.GET.get('item'+str(i), '').encode('utf-8')\n                      for i in range(1,6) ]\n</code></pre>\n\n<p>\"better\" is a value judgment, which is out of scope for Stack Overflow.\nIs the list comprehension easier to read and maintain than your original loop?\nThat's up to you and your programming/usage team.</p>\n"}, {"tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1537999726, "creation_date": 1537999726, "answer_id": 52526671, "question_id": 52526443, "link": "https://stackoverflow.com/questions/52526443/python-best-way-to-use-a-list-comprehension/52526671#52526671", "title": "Python: Best way to use a list comprehension?", "body": "<p>Assuming <code>params</code> starts empty, I would split this into a dictionary comprehension and a list comprehension. I would also change the range rather than adding one to each index:</p>\n\n<pre><code> params={'item' + str(x):request.GET.get('item' + str(x), '') for i in range(1,6)}`\n params['items']=[item.encode('utf-8') for item in params.keys()]\n</code></pre>\n\n<p>Something else to consider is if <code>request.GET</code> is creating an external call every time you access it. If so, you should create one local copy and access that, e.g.</p>\n\n<pre><code>local_copy = request.GET.copy()\nparams={'item' + str(x):local_copy.get('item' + str(x), '') for i in range(1,6)}`\n</code></pre>\n"}], "owner": {"reputation": 1615, "user_id": 2953135, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/de12517b5b8486558cf7c06ab0c5ef93?s=128&d=identicon&r=PG&f=1", "display_name": "NewToJS", "link": "https://stackoverflow.com/users/2953135/newtojs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537999726, "creation_date": 1537998368, "question_id": 52526443, "link": "https://stackoverflow.com/questions/52526443/python-best-way-to-use-a-list-comprehension", "title": "Python: Best way to use a list comprehension?", "body": "<p>I'm trying to use a list comprehension in python 2.7 to better achieve what I have now:</p>\n\n<pre><code>params['item1'] = request.GET.get('item1', '')\nparams['item2'] = request.GET.get('item2', '')\nparams['item3'] = request.GET.get('item3', '')\nparams['item4'] = request.GET.get('item4', '')\nparams['item5'] = request.GET.get('item5', '')\n\nparams['items'] = [\n    params['item1'].encode('utf-8'),\n    params['item2'].encode('utf-8'),\n    params['item3'].encode('utf-8'),\n    params['item4'].encode('utf-8'),\n    params['item5'].encode('utf-8')\n]\n</code></pre>\n\n<p>I'm wondering if a loop and list comprehension would work best (like below) But I'm also wondering if there are better ways to do this.</p>\n\n<pre><code>params['items'] = []\n\nfor x in range(5):\n    item = 'item' + str(x+1)\n    params[item] = request.GET.get(item, '')\n    params['items'].extend(params[item].encode('utf-8'))\n</code></pre>\n"}, {"tags": ["javascript", "python", "html", "ajax"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1538003997, "post_id": 52526442, "comment_id": 91994171, "body": "What&#39;s your python code?"}, {"owner": {"reputation": 1, "user_id": 10396011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011d7e2245018452c7e23cef557d61f2?s=128&d=identicon&r=PG&f=1", "display_name": "adrian0808", "link": "https://stackoverflow.com/users/10396011/adrian0808"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1538033838, "post_id": 52526442, "comment_id": 92002861, "body": "I added Python code. It can be run from terminal and everything is ok"}], "owner": {"reputation": 1, "user_id": 10396011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011d7e2245018452c7e23cef557d61f2?s=128&d=identicon&r=PG&f=1", "display_name": "adrian0808", "link": "https://stackoverflow.com/users/10396011/adrian0808"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538033774, "creation_date": 1537998366, "last_edit_date": 1538033774, "question_id": 52526442, "link": "https://stackoverflow.com/questions/52526442/executing-python-script-with-infinite-loop-through-website-button-not-working", "title": "Executing python script with infinite loop through website button not working", "body": "<p>I would like to control a python script that continuously collects data from a sensor (while loop). I would like to be able to start and stop this script by simply clicking a button.</p>\n\n<p>I have tried several solutions that included jQuery.ajax requests, but that sadly did not start the script. What should be noted is that I only want to start the script, I do not want any output/return values from it. </p>\n\n<p>Below is my code, which is not working. Nothing happens when I click a button. I'm not using Python framework to serve the site. I am running my own web server using a Raspberry Pi with PHP, Apache. Below is the code for only start script without stop. At the present moment I'd like to only run the script.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt; \n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\" &gt;&lt;/script&gt;\n&lt;script&gt;\n    function goPython(){\n        $.ajax({\n         type: \"POST\", \n         url: 'alarmV1.py',\n        }).done(function() {\n         alert('DONE');;\n        });\n    }\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;input type=\"button\" id='script' name=\"scriptbutton\" value=\" Run Script \" onclick=\"goPython()\"&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Python code:</p>\n\n<pre><code>#!/usr/bin/python3\n#!/usr/bin/env python\n\nimport smbus\nimport sys\nimport time\nimport MySQLdb\nfrom time import sleep\nfrom datetime import datetime\nimport math\n\n\nfd = 0x20 #outputs\nfd2 = 0x21 #inputs\ndane = 0\n\nstate = \"\"\n\nbus = smbus.SMBus(1)\nbus.write_byte(fd2, 0xff)\n\nwhile True:\n   dane = bus.read_byte(fd2)\n\n   if dane == 0xf8:\n      print \"OK\"\n      bus.write_byte(fd,0x03)\n      time.sleep(0.4)\n      state = 'Jest OK'\n   elif dane == 0xf9:\n       bus.write_byte(fd,0x00) #LED ON\n       print \"Kontaktron nr.1\"\n       time.sleep(0.4)\n       bus.write_byte(fd,0x02) #LED OFF\n       state = 'Kontaktron nr.1'\n       time.sleep(0.4)\n   elif dane == 0xfa:\n       bus.write_byte(fd,0x00) #LED ON\n       print \"PIR\"\n       time.sleep(0.4)\n       bus.write_byte(fd,0x02) #LED OFF\n       state = 'Czujnik PIR nr.1'\n       time.sleep(0.4)\n   elif dane == 0xfc:\n       bus.write_byte(fd,0x00) #LED ON\n       print \"Kontaktron nr.2\"\n       time.sleep(0.4)\n       bus.write_byte(fd,0x02) #LED OFF\n       state = 'Kontaktron nr.2'\n       time.sleep(0.4)\n   else:\n       bus.write_byte(fd,0x00)\n       print \"more sensors\"\n       time.sleep(0.4)\n       bus.write_byte(fd,0x02)\n       state = 'Wiecej czujnikow'\n       time.sleep(0.4)\n\n   db = MySQLdb.connect(\"localhost\", \"adrian\", \"3kr39uvk\", \"AlarmBD\")\n   cursor = db.cursor()\n\n   try:\n       cursor.execute(\"INSERT INTO czujniki (id, nazwa_czujnika, data_czujnika) VALUE (NULL,%s,NOW())\",[state])\n       db.commit()\n   except MySQLdb.Error, e:\n       print \"An error has occurred. %s\" %e\n   finally:\n       cursor.close()\n       db.close()\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 420539, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/06bba3eb7ee658462fc011a269e6bcbb?s=128&d=identicon&r=PG", "display_name": "diogobaeder", "link": "https://stackoverflow.com/users/420539/diogobaeder"}, "edited": false, "score": 0, "creation_date": 1538005075, "post_id": 52526492, "comment_id": 91994395, "body": "Unfortunately that doesn&#39;t work for me, because it doesn&#39;t let me aggregate the data in each period, differently from what I can do with &quot;resample&quot;"}, {"owner": {"reputation": 441, "user_id": 420539, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/06bba3eb7ee658462fc011a269e6bcbb?s=128&d=identicon&r=PG", "display_name": "diogobaeder", "link": "https://stackoverflow.com/users/420539/diogobaeder"}, "edited": false, "score": 0, "creation_date": 1538021759, "post_id": 52526492, "comment_id": 91997912, "body": "Alright, found the best solution for my case, please see original post - and thanks for the help, your suggestion actually helped me getting to what I needed :-)"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1537999242, "last_edit_date": 1537999242, "creation_date": 1537998741, "answer_id": 52526492, "question_id": 52526437, "link": "https://stackoverflow.com/questions/52526437/pandas-how-to-resample-respecting-the-first-date/52526492#52526492", "title": "pandas - how to resample respecting the first date?", "body": "<p>Get a monthly series</p>\n\n<pre><code>dates = pd.date_range(s.index.min(), s.index.max(), freq='M')\n</code></pre>\n\n<p>Go back to MonthEnd prior to first date and add number of days</p>\n\n<pre><code>dates = dates + pd.offsets.MonthEnd(-1) + pd.offsets.Day(s.index[0].day)\n</code></pre>\n\n<p>Use <code>reindex</code></p>\n\n<pre><code>s.reindex(dates)\n\n2018-01-03      0\n2018-02-03     31\n2018-03-03     59\n2018-04-03     90\n2018-05-03    120\n2018-06-03    151\n2018-07-03    181\n2018-08-03    212\ndtype: int64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 4769262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kpRpf.jpg?s=128&g=1", "display_name": "gonzalo mr", "link": "https://stackoverflow.com/users/4769262/gonzalo-mr"}, "is_accepted": false, "score": 0, "last_activity_date": 1581335149, "creation_date": 1581335149, "answer_id": 60149734, "question_id": 52526437, "link": "https://stackoverflow.com/questions/52526437/pandas-how-to-resample-respecting-the-first-date/60149734#60149734", "title": "pandas - how to resample respecting the first date?", "body": "<p>Building on your response, to reduce the calculations you could do:</p>\n\n<pre><code>dates = pd.date_range('2018-01-03', '2018-09-13')\ns = pd.Series(range(len(dates)), index=dates)\nresampled = s.resample('MS', loffset=pd.Timedelta(days=s.index[0].day) - 1)\n</code></pre>\n\n<p>Please note that I do not copy to S2 and assign a full month index because resample already sets the initial date to the 1st of the month. </p>\n\n<p>Thank you for the question + answer, it was useful</p>\n"}], "owner": {"reputation": 441, "user_id": 420539, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/06bba3eb7ee658462fc011a269e6bcbb?s=128&d=identicon&r=PG", "display_name": "diogobaeder", "link": "https://stackoverflow.com/users/420539/diogobaeder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1208, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1581335149, "creation_date": 1537998334, "last_edit_date": 1571111111, "question_id": 52526437, "link": "https://stackoverflow.com/questions/52526437/pandas-how-to-resample-respecting-the-first-date", "title": "pandas - how to resample respecting the first date?", "body": "<p>I'm struggling to find a proper way to solve an issue with resampling using pandas, instead of using ugly hacks that could be error prone.</p>\n\n<p>Suppose I have a series like this:</p>\n\n<pre><code>dates = pd.date_range('2018-01-03', '2018-09-13')\ns = pd.Series(range(len(dates)), index=dates)\n</code></pre>\n\n<p>Now, I want to resample the series to months, but starting from the first date from the index, and not from the first day of the month. If I just resample to \"MS\", for example, the first date I get is 2018-01-01, not 2018-01-03; Of course, it's \"month start\", so that's what I should expect, but how can I resample monthly without having the samples being picked from the start of the month, but rather from the same month day, such that the resulting index would be like [\"2018-01-03\", \"2018-02-03\", etc]?</p>\n\n<p>In other words, how can I resample with something like \"month starting from first datetime in the index\"?</p>\n\n<p>The only way I found so far, to do this, is to create some leading dates in the series, then do a negative shift, then using the loffset parameter (because neither shift and loffset respect the alignment of the data to the index), but this is a very ugly hack which I'd like to avoid.</p>\n\n<p>Thanks!</p>\n\n<p><strong>[SOLUTION]</strong></p>\n\n<p>I solved this by these simple steps, adapting from a number of attempts to fix this issue (including the first reply below, but also other sites and questions from SO):</p>\n\n<pre><code>dates = pd.date_range('2018-01-03', '2018-09-13')\ns = pd.Series(range(len(dates)), index=dates)\ndelta = dates.min() - (dates.min() - offsets.MonthBegin(1))\nnew_dates = dates - delta\ns2 = s.copy()\ns2.index = new_dates\nresampled = s2.resample('MS', loffset=delta)\nr_max = resampled.max()\nr_min = resampled.min()\nr_mean = resampled.mean()\nr_sum = resampled.sum()\n\nprint('s\\n', s)\nprint('r_max\\n', r_max)\nprint('r_min\\n', r_min)\nprint('r_mean\\n', r_mean)\nprint('r_sum\\n', r_sum)\n</code></pre>\n\n<p>Thanks for the help!</p>\n\n<p><strong>[EDIT] Alternative solution</strong></p>\n\n<p>I ended up taking a bit of a different approach at this. I start with something like:</p>\n\n<pre><code>dates = pd.date_range('2015-01-31', '2018-09-13')\nstart_date: dt.date = dates[0].date()\nend_date: dt.date = dates[-1].date()\nrecurrent_dates = []\nnext_date = start_date\nwhile next_date &lt;= end_date:\n    if next_date.day &lt; start_date.day:\n        try:\n            next_date = dt.date(\n                next_date.year, next_date.month, start_date.day)\n        except ValueError:\n            next_date = (\n                    next_date + offsets.MonthBegin(1) - offsets.Day(1)\n            ).date()\n    recurrent_dates.append(next_date)\n    next_date += relativedelta(months=1)\n</code></pre>\n\n<p>To have expected monthly periods starting at arbitrary dates, then create a DataFrame with the recurrent dates above, then reindex it with the dates from the original DataFrame with fillna(method=\"ffill\"), then use groupby to group by the repeated dates.</p>\n\n<p>Hope this helps other people too.</p>\n"}, {"tags": ["python", "input"], "comments": [{"owner": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1537998412, "post_id": 52526435, "comment_id": 91992690, "body": "Is every entry on one line, and is every field guaranteed to be separated by a space?"}, {"owner": {"reputation": 21, "user_id": 10421105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GaHcgxZyA-c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUfIZwqqDD4usSklBMMfOu4MJHyMw/mo/photo.jpg?sz=128", "display_name": "Josh Rivard", "link": "https://stackoverflow.com/users/10421105/josh-rivard"}, "reply_to_user": {"reputation": 3115, "user_id": 2887760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcfc142aa3e67502448a0f91e40d08df?s=128&d=identicon&r=PG&f=1", "display_name": "Athena", "link": "https://stackoverflow.com/users/2887760/athena"}, "edited": false, "score": 0, "creation_date": 1538009121, "post_id": 52526435, "comment_id": 91995317, "body": "yes, each entry has its own line and they are separated by a tab(&#39;\\t&#39;)"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10421105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GaHcgxZyA-c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUfIZwqqDD4usSklBMMfOu4MJHyMw/mo/photo.jpg?sz=128", "display_name": "Josh Rivard", "link": "https://stackoverflow.com/users/10421105/josh-rivard"}, "edited": false, "score": 0, "creation_date": 1538034467, "post_id": 52530955, "comment_id": 92003191, "body": "That works but i&#39;m not allowed to use modules in this assignment."}], "tags": [], "owner": {"reputation": 620, "user_id": 4601262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a285cf6de011d9e7a2cfdf68a9d86a16?s=128&d=identicon&r=PG&f=1", "display_name": "Shintlor", "link": "https://stackoverflow.com/users/4601262/shintlor"}, "is_accepted": false, "score": 1, "last_activity_date": 1538030557, "creation_date": 1538030557, "answer_id": 52530955, "question_id": 52526435, "link": "https://stackoverflow.com/questions/52526435/pulling-information-from-a-txt-file-in-python-based-on-a-user-input/52530955#52530955", "title": "Pulling information from a .txt file in python based on a user input", "body": "<p>Instead of putting it into a list I would put the output into a <code>pandas.Dataframe</code> (or just a <code>dict</code>). Assuming your text-file is separated with tabs, has a header and each row is of equal length, you can do:</p>\n\n<pre><code>df = pd.read_csv('yourfile.txt',delimiter='\\t')\n\nprint('Enter name of City:')\nname = input()\nprint('Latitude:', df[df['City'] == name]['Latitude'].values, 'Longitude:', df[df['City'] == name]['Longitude'].values)\n</code></pre>\n\n<p>If you execute the script and type the city name it will be stored as a string into <code>name</code>. After that we print the Long/Lat values selecting the corresponding city from the <code>DataFrame</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1262, "user_id": 5289655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c800364682f4176552b23f3ba976b2d?s=128&d=identicon&r=PG&f=1", "display_name": "JON", "link": "https://stackoverflow.com/users/5289655/jon"}, "is_accepted": false, "score": 0, "last_activity_date": 1538034214, "creation_date": 1538034214, "answer_id": 52531908, "question_id": 52526435, "link": "https://stackoverflow.com/questions/52526435/pulling-information-from-a-txt-file-in-python-based-on-a-user-input/52531908#52531908", "title": "Pulling information from a .txt file in python based on a user input", "body": "<p>simple pythonic way, hope it may help you</p>\n\n<pre><code>city = input(\"Enter City name\")\n\nwith open('your text file') as file:\n    print(file.readline().split()[:3])\n    for line in file.readlines():\n        if line.split()[2] == city:\n            print(line.split()[:3])\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10421105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GaHcgxZyA-c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUfIZwqqDD4usSklBMMfOu4MJHyMw/mo/photo.jpg?sz=128", "display_name": "Josh Rivard", "link": "https://stackoverflow.com/users/10421105/josh-rivard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1538034214, "creation_date": 1537998320, "last_edit_date": 1537998442, "question_id": 52526435, "link": "https://stackoverflow.com/questions/52526435/pulling-information-from-a-txt-file-in-python-based-on-a-user-input", "title": "Pulling information from a .txt file in python based on a user input", "body": "<p>I have a list in the form of a .txt file that i need to pull certain information from based on a user input.</p>\n\n<pre><code>Latitude   Longitude  City  Province/State   Country\n82\u00b030N     62\u00b020W     Alert Nunavut    Canada\n81\u00b036N     16\u00b040W     Nord  Greenland  Denmark\n79\u00b059N     85\u00b056W     Eureka     Nunavut    Canada\n</code></pre>\n\n<p>this is a snippet of the list. I understand how to pull the information out and put it into a list. I need to find the city that the user inputs and then output the linked lat and lon of the city. I am new to python so not sure what process i could use to solve this.</p>\n"}, {"tags": ["python", "selenium", "selenium-chromedriver", "selenium-ide"], "answers": [{"comments": [{"owner": {"reputation": 373, "user_id": 3254025, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ebcc65404eb325066825a87ff85132f5?s=128&d=identicon&r=PG&f=1", "display_name": "spec3", "link": "https://stackoverflow.com/users/3254025/spec3"}, "edited": false, "score": 0, "creation_date": 1538078163, "post_id": 52526917, "comment_id": 92028288, "body": "I changed WebDriverWait(driver, 20) in WebDriverWait(browser, 20) and added at the beginning  from selenium.webdriver.support import expected_conditions as EC but I get the following error:   File &quot;C:\\Python27\\lib\\site-packages\\selenium\\webdriver\\support\\wa&zwnj;&#8203;it.py&quot;, line 80, in until     raise TimeoutException(message, screen, stacktrace) selenium.common.exceptions.TimeoutException: Message:"}, {"owner": {"reputation": 451, "user_id": 3170754, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000490076986/picture?type=large", "display_name": "Lafa", "link": "https://stackoverflow.com/users/3170754/lafa"}, "reply_to_user": {"reputation": 373, "user_id": 3254025, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ebcc65404eb325066825a87ff85132f5?s=128&d=identicon&r=PG&f=1", "display_name": "spec3", "link": "https://stackoverflow.com/users/3254025/spec3"}, "edited": false, "score": 0, "creation_date": 1538078744, "post_id": 52526917, "comment_id": 92028535, "body": "This means it did not find the element before the 20 seconds wait running out. Maybe you could come up with your own selection, by <b>ID</b> or by <b>XPATH</b>. Is the page you&#39;re trying to interact with public and could you provide the url for it?"}, {"owner": {"reputation": 373, "user_id": 3254025, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ebcc65404eb325066825a87ff85132f5?s=128&d=identicon&r=PG&f=1", "display_name": "spec3", "link": "https://stackoverflow.com/users/3254025/spec3"}, "edited": false, "score": 0, "creation_date": 1538118578, "post_id": 52526917, "comment_id": 92039102, "body": "Unfortunately it is not public... But why should it change by ID or by XPATH? I don&#39;t think it is a problem of loading though, I see the button that it should click when it gets stuck."}, {"owner": {"reputation": 451, "user_id": 3170754, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000490076986/picture?type=large", "display_name": "Lafa", "link": "https://stackoverflow.com/users/3170754/lafa"}, "reply_to_user": {"reputation": 373, "user_id": 3254025, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ebcc65404eb325066825a87ff85132f5?s=128&d=identicon&r=PG&f=1", "display_name": "spec3", "link": "https://stackoverflow.com/users/3254025/spec3"}, "edited": false, "score": 0, "creation_date": 1538138928, "post_id": 52526917, "comment_id": 92049995, "body": "Sometimes one type of selector fails, that&#39;s why I recommended trying a different one"}, {"owner": {"reputation": 373, "user_id": 3254025, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ebcc65404eb325066825a87ff85132f5?s=128&d=identicon&r=PG&f=1", "display_name": "spec3", "link": "https://stackoverflow.com/users/3254025/spec3"}, "edited": false, "score": 0, "creation_date": 1538164844, "post_id": 52526917, "comment_id": 92062493, "body": "Sorry, I tried also the others but nothing changed...:("}], "tags": [], "owner": {"reputation": 451, "user_id": 3170754, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000490076986/picture?type=large", "display_name": "Lafa", "link": "https://stackoverflow.com/users/3170754/lafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1538001369, "creation_date": 1538001369, "answer_id": 52526917, "question_id": 52526404, "link": "https://stackoverflow.com/questions/52526404/following-selenium-ide-to-python-no-such-element/52526917#52526917", "title": "Following Selenium IDE to Python - No such element", "body": "<p>Maybe the element you're trying to reach has not loaded properly.\nTry adding a wait statement, something along the lines of</p>\n\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait \nfrom selenium.webdriver.common.by import By\n\n...\n\nbrowser = webdriver.Chrome()\nbrowser.get(url) #url was defined before\nbrowser.find_element_by_css_selector(\"#hamburger-btn\").click()\nbrowser.find_element_by_css_selector(\"div.menu-item.menu-item-selected&gt;span.menu-item-title\").click()\n\nWebDriverWait(driver, 20).until(\n        EC.presence_of_element_located((By.CSS_SELECTOR, 'div.menu-item.menu-item-selected&gt;div.menu-panel-content&gt;div.menu-category-cont&gt;div.menu-category-sub&gt;div.menu-category-sub-item.menu-category-sub-item-selected&gt;span.menu-category-sub-item-title')))\n\nbrowser.find_element_by_css_selector('div.menu-item.menu-item-selected&gt;div.menu-panel-content&gt;div.menu-category-cont&gt;div.menu-category-sub&gt;div.menu-category-sub-item.menu-category-sub-item-selected&gt;span.menu-category-sub-item-title').click()\n</code></pre>\n\n<p>This is considering this element in fact exists in you page and you're correctly addressing it with your css selector.</p>\n"}], "owner": {"reputation": 373, "user_id": 3254025, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ebcc65404eb325066825a87ff85132f5?s=128&d=identicon&r=PG&f=1", "display_name": "spec3", "link": "https://stackoverflow.com/users/3254025/spec3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538001369, "creation_date": 1537998172, "question_id": 52526404, "link": "https://stackoverflow.com/questions/52526404/following-selenium-ide-to-python-no-such-element", "title": "Following Selenium IDE to Python - No such element", "body": "<p>This is my first experience with Selenium and HTML.</p>\n\n<p>I tried to use IDE and then follow \"the way\" it indicated.\nMy IDE recorded script says</p>\n\n<pre><code>Command | Target\n-----------------------------------------------\nclick   | css=#hamburger-btn\nclick   | css=div.menu-item.menu-item-selected &gt; span.menu-item-title\nclick   | css=div.menu-item.menu-item-selected &gt; div.menu-panel-content &gt; div.menu-category-cont &gt; div.menu-category-sub &gt; div.menu-category-sub-item.menu-category-sub-item-selected &gt; span.menu-category-sub-item-title\n</code></pre>\n\n<p>And I tried to implement it this way:</p>\n\n<pre><code>browser = webdriver.Chrome()\nbrowser.get(url) #url was defined before\nbrowser.find_element_by_css_selector(\"#hamburger-btn\").click()\nbrowser.find_element_by_css_selector(\"div.menu-item.menu-item-selected&gt;span.menu-item-title\").click()\nbrowser.find_element_by_css_selector('div.menu-item.menu-item-selected&gt;div.menu-panel-content&gt;div.menu-category-cont&gt;div.menu-category-sub&gt;div.menu-category-sub-item.menu-category-sub-item-selected&gt;span.menu-category-sub-item-title').click()\n</code></pre>\n\n<p>but I get this \"No such element\" message/error</p>\n\n<pre><code>browser.find_element_by_css_selector('div.menu-item.menu-item-selected&gt;div.menu-panel-content&gt;div.menu-category-cont&gt;div.menu-category-sub&gt;div.menu-category-sub-item.menu-category-sub-item-selected&gt;span.menu-category-sub-item-title').click()\nFile \"C:\\Python27\\lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", line 597, in find_element_by_css_selector\nreturn self.find_element(by=By.CSS_SELECTOR, value=css_selector)\nFile \"C:\\Python27\\lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", line 966, in find_element\n'value': value})['value']\nFile \"C:\\Python27\\lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\", line 320, in execute\nself.error_handler.check_response(response)\nFile \"C:\\Python27\\lib\\site-packages\\selenium\\webdriver\\remote\\errorhandler.py\", line 242, in check_response\nraise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.NoSuchElementException: Message: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"div.menu-item.menu-item-selected&gt;div.menu-panel-content&gt;div.menu-category-cont&gt;div.menu-category-sub&gt;div.menu-category-sub-item.menu-category-sub-item-selected&gt;span.menu-category-sub-item-title\"}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks</p>\n\n<p>GB</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8351888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JBwx.jpg?s=128&g=1", "display_name": "TheMonsterWith21Faces", "link": "https://stackoverflow.com/users/8351888/themonsterwith21faces"}, "edited": false, "score": 0, "creation_date": 1537999064, "post_id": 52526461, "comment_id": 91992888, "body": "Thanks for your help. I replaced the &quot;updatepoints&quot; line with your suggestion and it gives me an error: &quot;line 98, in addpoints     sum(float(currpts), float(pointenter)) ValueError: could not convert string to float: &quot;"}], "tags": [], "owner": {"reputation": 1, "user_id": 10421147, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/82373667e0f086b3aea98bbd799bb0f4?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/10421147/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1538000224, "last_edit_date": 1538000224, "creation_date": 1537998520, "answer_id": 52526461, "question_id": 52526374, "link": "https://stackoverflow.com/questions/52526374/using-tkinter-i-am-trying-to-add-a-user-entered-value-and-add-it-to-a-value-that/52526461#52526461", "title": "Using Tkinter I am trying to add a user-entered value and add it to a value that exists in a file, but it isn&#39;t working", "body": "<p>Here is a woking example:</p>\n\n<p>Try:</p>\n\n<pre><code>from tkinter import *\nclass App:\n    def __init__(self, root):\n        self.pointenter = Entry(root,font=(None, 14), width=50)\n        self.pointenter.pack()\n        addbutton = Button(root, bg=\"green\", fg=\"white\", text=\"   +   \", command=self.addpoints)\n        addbutton.config(font='bold')\n        addbutton.pack()\n\n    def addpoints(self):\n        self.currpts = '50' # a string\n        print(float(self.currpts)+ float(self.pointenter.get()))\n\nif __name__=='__main__':\n    root = Tk()\n    app = App(root)\n    root.mainloop()\n</code></pre>\n\n<p>One thing I found very useful when I first started was to do a print() on all variables. Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1538013501, "post_id": 52526964, "comment_id": 91996189, "body": "The file suffix doesn&#39;t matter at all."}], "tags": [], "owner": {"reputation": 104, "user_id": 7582868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c548d59ebd58a6fd7815cd0dd18fe1d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sebiancoder", "link": "https://stackoverflow.com/users/7582868/sebiancoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1538001710, "creation_date": 1538001710, "answer_id": 52526964, "question_id": 52526374, "link": "https://stackoverflow.com/questions/52526374/using-tkinter-i-am-trying-to-add-a-user-entered-value-and-add-it-to-a-value-that/52526964#52526964", "title": "Using Tkinter I am trying to add a user-entered value and add it to a value that exists in a file, but it isn&#39;t working", "body": "<p>Try replacing the .cust extension with a .txt extension. In addition, here are some errors that you have.</p>\n\n<p>The <code>addpoints()</code> function should be moved above the tkinter code. It is being called in the tkinter section of code, and it needs to be defined before it is called. </p>\n\n<pre><code>updatepoints = sum(currpts, pointenter)\n</code></pre>\n\n<p>Should become:</p>\n\n<pre><code>updatepoints = int(currpts) + int(pointenter.get())\n</code></pre>\n\n<p><code>currpts</code> is a string, and it needs to be converted into an integer. <code>pointenter</code> is a tkinter object and you need to get a string from it using <code>.get()</code>. Then convert it into an integer.</p>\n\n<p>Also, I would open and close the file twice, once to read and once again to write. Otherwise the new number would just be appended to the existing text in the file instead of replacing it.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>file = open(\"examplefile.txt\", \"r\")\ncurrpts = file.read(1)\nfile.close()\nprint(currpts)\nupdatepoints = int(currpts) + int(pointenter.get())\nprint(updatepoints)\nwritefile = open(\"test3.txt\", \"w\")\nwritefile.write(str(updatepoints))\nwritefile.close()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8351888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JBwx.jpg?s=128&g=1", "display_name": "TheMonsterWith21Faces", "link": "https://stackoverflow.com/users/8351888/themonsterwith21faces"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1538001710, "creation_date": 1537997974, "question_id": 52526374, "link": "https://stackoverflow.com/questions/52526374/using-tkinter-i-am-trying-to-add-a-user-entered-value-and-add-it-to-a-value-that", "title": "Using Tkinter I am trying to add a user-entered value and add it to a value that exists in a file, but it isn&#39;t working", "body": "<p>I am trying to create a very simple loyalty program for my small business. This is my first project in Python or Tkinter.</p>\n\n<p>The #POINT ENTRY section below lets the user enter in the appropriate amount of points. It then uses \"addpoints\" to pull the current points from a text file (with the extension \".cust\") and add what the user entered and write it back to the text file.</p>\n\n<p>Unfortunately what it's actually doing is just replacing that whole line with \".!Entry26\"</p>\n\n<p>Any guidance would be greatly appreciated.</p>\n\n<pre><code>#POINT ENTRY\npointlabel = Label(root, text=\"Enter Earned/Spent Points\")\npointlabel.pack()\npointlabel.place(x = 46, y = 95)\npointenter = Entry(root, bg=\"#E9E9E9\")\npointenter.config(font=\"bold\")\npointenter.pack()\npointenter.place(x = 50, y = 120, height=\"30\", width=\"140\")\naddbutton = Button(root, bg=\"green\", fg=\"white\", text=\"   +   \", command=addpoints)\naddbutton.config(font='bold')\naddbutton.pack()\naddbutton.place(x = 201, y = 118)\nsubbutton = Button(root, bg=\"red\", text=\"-\")\nsubbutton.config(font='bold')\nsubbutton.pack()\nsubbutton.place(x = 251, y = 118)\n\n\ndef addpoints():\n    file = open(\"assets\\\\\" + IDentry.get() + \".cust\", 'r+')\n    currpts = file.read(0)\n    updatepoints = sum(currpts, pointenter)\n    file.write(str(updatepoints))\n    file.close()\n</code></pre>\n"}, {"tags": ["python", "list", "pointers", "nested", "append"], "comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1537998267, "post_id": 52526370, "comment_id": 91992650, "body": "you are missing a <code>self.</code> the list in your garden is a shared piece of earth that all gardens have access to - a comminity flower bed ... read <a href=\"https://docs.python.org/3/tutorial/classes.html#class-and-instance-variables\" rel=\"nofollow noreferrer\">py-tut class and instance variables</a>"}, {"owner": {"reputation": 1, "user_id": 10421042, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JgsAsyho8_k/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXgww76g0_t2EuZfpd6sknCB715Iw/mo/photo.jpg?sz=128", "display_name": "Hugo", "link": "https://stackoverflow.com/users/10421042/hugo"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1537998664, "post_id": 52526370, "comment_id": 91992762, "body": "Thanks for pointing to the right info"}], "answers": [{"tags": [], "owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "is_accepted": false, "score": 1, "last_activity_date": 1537998136, "creation_date": 1537998136, "answer_id": 52526397, "question_id": 52526370, "link": "https://stackoverflow.com/questions/52526370/append-element-in-nested-list-of-class-python/52526397#52526397", "title": "Append element in nested list of class Python", "body": "<p>You are assigning <code>list_of_plants</code> to the class, so all class instances will share the same list. You should instead assign it as an attribute of <code>self</code> in the <code>__init__</code> (i.e. indent 4 more spaces as <code>self.list_of_plants = []</code>) so a new list is created for each individual class instance.</p>\n"}], "owner": {"reputation": 1, "user_id": 10421042, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JgsAsyho8_k/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXgww76g0_t2EuZfpd6sknCB715Iw/mo/photo.jpg?sz=128", "display_name": "Hugo", "link": "https://stackoverflow.com/users/10421042/hugo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "closed_date": 1537998136, "answer_count": 1, "score": -1, "last_activity_date": 1537998136, "creation_date": 1537997960, "question_id": 52526370, "link": "https://stackoverflow.com/questions/52526370/append-element-in-nested-list-of-class-python", "closed_reason": "Duplicate", "title": "Append element in nested list of class Python", "body": "<p>this is my code:</p>\n\n<pre><code>class Plant:\n    def __init__(self,name):\n        self.name = name\n\nclass Garden:\n    def __init__(self,name):\n        self.name = name\n\n    list_of_plants = []\n\nlist_of_gardens = []\nlist_of_gardens.append(Garden(\"garden1\"))\nlist_of_gardens.append(Garden(\"garden2\"))\n\nlist_of_gardens[0].list_of_plants.append(Plant(\"Basil\"))\n\nprint(\"Plant1: \", list_of_gardens[0].list_of_plants[0].name)\nprint(\"Plant2: \", list_of_gardens[1].list_of_plants[0].name)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Plant1: Basil\nPlant2: Basil\n</code></pre>\n\n<p>Why does Basil appears in the two nested list? I didn't even affected a value in the second list! Even when I look at the pointers, everything looks good, but append keeps adding values in my other nested lists.</p>\n"}, {"tags": ["python", "macos", "permissions", "sqlalchemy", "firebird"], "comments": [{"owner": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1538037554, "post_id": 52526369, "comment_id": 92004883, "body": "strange file path in error text: <code>database &#47;&#47;Users&#47;me&#47;db.fdb&#39;</code> - why it starts with two slashes? are u sure connection string is properly formed?"}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1538041703, "post_id": 52526369, "comment_id": 92007373, "body": "If you are using firebird server, and the database is in your user folder, then the server does not have sufficient access rights to the database file. You should put the database file in a location where the server has access."}, {"owner": {"reputation": 11, "user_id": 10420964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b39d62e6496a4978555d21b62edc137?s=128&d=identicon&r=PG&f=1", "display_name": "Bielicki", "link": "https://stackoverflow.com/users/10420964/bielicki"}, "reply_to_user": {"reputation": 14940, "user_id": 976391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a20cdd68e2d66033d22408a925a5761a?s=128&d=identicon&r=PG", "display_name": "Arioch &#39;The", "link": "https://stackoverflow.com/users/976391/arioch-the"}, "edited": false, "score": 0, "creation_date": 1538180101, "post_id": 52526369, "comment_id": 92066299, "body": "@Arioch&#39;The This connection string worked for me pretty well before :("}, {"owner": {"reputation": 11, "user_id": 10420964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b39d62e6496a4978555d21b62edc137?s=128&d=identicon&r=PG&f=1", "display_name": "Bielicki", "link": "https://stackoverflow.com/users/10420964/bielicki"}, "reply_to_user": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1538180157, "post_id": 52526369, "comment_id": 92066308, "body": "@MarkRotteveel Even if I run chmod 777 on those ?"}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1538209038, "post_id": 52526369, "comment_id": 92070336, "body": "The error means that Firebird can open the database file, but it is unable to write to the file. So apparently, no."}], "owner": {"reputation": 11, "user_id": 10420964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b39d62e6496a4978555d21b62edc137?s=128&d=identicon&r=PG&f=1", "display_name": "Bielicki", "link": "https://stackoverflow.com/users/10420964/bielicki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 670, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537997952, "creation_date": 1537997952, "question_id": 52526369, "link": "https://stackoverflow.com/questions/52526369/python-firebird-fdbsqlalchemy-error-while-connecting-to-database-n-sqlc", "title": "Python, Firebird, FDB+SQLalchemy : (&#39;Error while connecting to database:\\n- SQLCODE: -551\\n- no permission for read-write access", "body": "<p>I am struggling with connecting to Firebird database through pythons FDB driver and SQLalchemy.\nMy .fdb file is placed in my root folder /Users/me/db.fbd\nI have firebird 2.5 classic server installed.</p>\n\n<pre><code>from sqlalchemy import create_engine\nimport fdb\nimport pandas as pd\n\ndatabase='//sysdba:masterkey@localhost:3050/Users/me/bd.fdb?charset=utf8'\ndatabase_driver='firebird+fdb'\nencoding='UTF8'\nconncection = ':'.join([database_driver, database])\n\nengine = create_engine(conncection, encoding=encoding)\n\nquery = \"Some query\"\ndf = pandas.read_sql(sql=query_pay, con=engine)\n</code></pre>\n\n<p>This code constantly gives me and an error:</p>\n\n<p>DatabaseError: (fdb.fbcore.DatabaseError) ('Error while connecting to database:\\n- SQLCODE: -551\\n- no permission for read-write access to database //Users/me/db.fdb', -551, 335544352) (Background on this error at: <a href=\"http://sqlalche.me/e/4xp6\" rel=\"nofollow noreferrer\">http://sqlalche.me/e/4xp6</a>)</p>\n\n<p>At first I thought it was simple permissions issue, so I gave rights to read/write to all users (including firebird user) through graphical interface of OSX.\nWhen this didn't work I even performed chmod 777 on db.fdb and it still doesn't work.\nI should add that when I connect to this db using firebird terminal tool everything works just fine.</p>\n\n<p>Do you have any ideas why I keep getting this error ? And how to fix it ?</p>\n"}, {"tags": ["python", "pandas", "date", "matplotlib"], "comments": [{"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1537998225, "post_id": 52526359, "comment_id": 91992637, "body": "You imported <code>mdates</code> but don&#39;t seem to be using it anywhere. Have a look <a href=\"https://stackoverflow.com/questions/14946371/editing-the-date-formatting-of-x-axis-tick-labels-in-matplotlib\">here</a> to see how to specify a format, and then use that to format your labels."}, {"owner": {"reputation": 11, "user_id": 10421093, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RG_8wi5ZiXE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVDFd1bR5nWGP0VLfmkbIgTXCCPOw/mo/photo.jpg?sz=128", "display_name": "Gregor", "link": "https://stackoverflow.com/users/10421093/gregor"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 1, "creation_date": 1537999317, "post_id": 52526359, "comment_id": 91992966, "body": "thanks Paul, will update the solution - it worked with a little tweak!"}], "owner": {"reputation": 11, "user_id": 10421093, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RG_8wi5ZiXE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVDFd1bR5nWGP0VLfmkbIgTXCCPOw/mo/photo.jpg?sz=128", "display_name": "Gregor", "link": "https://stackoverflow.com/users/10421093/gregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "closed_date": 1537999891, "answer_count": 0, "score": 1, "last_activity_date": 1538142891, "creation_date": 1537997913, "last_edit_date": 1538142891, "question_id": 52526359, "link": "https://stackoverflow.com/questions/52526359/date-formatting-of-x-axis-with-bar-chart", "closed_reason": "Duplicate", "title": "Date formatting of X Axis with bar chart", "body": "<p>I am a beginner and I am trying to create a bar chart on matplotlib. I am importing  a CSV file with daily volume data on a financial instrument. I have successfully been able to summarize the data by month and now trying to chart the monthly volume figures. </p>\n\n<p>I am trying to format the X-axis data as it currently shows minutes, hours and second in addition to days, month and years.</p>\n\n<p>I suspect this is quite straightforward, but have been sitting on this problem for hours and been unable to resolve it. Any help would be greatly appreciated. I need the date formatting to be shown in YYYY-MM rather than that is shown here:<img src=\"https://i.stack.imgur.com/gyRC3.png\" alt=\"\"></p>\n\n<p>``</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom matplotlib.dates import DateFormatter\nimport matplotlib.dates as mdates\n\ndf = pd.read_csv('C:/Users/gregor/Documents/Python Scripts/data.csv', infer_datetime_format='True')\n\ndf['date']=pd.to_datetime(df['date'])\n#\n\ndf.set_index('date', inplace=True)\n\nvolume = df['volume'].resample('MS').sum()\noi = df['open interest'].resample('MS').mean()\n\nxaxis = np.arange(len(volume))\n\nplt.bar(xaxis,volume,align='edge')\nplt.xticks(xaxis,volume.index, rotation = 45)\n\n\nplt.autofmt_xdate()\nplt.show()\n</code></pre>\n\n<p>``</p>\n\n<p>Edit - it worked with the following code and the chart now looks like: <img src=\"https://i.stack.imgur.com/TH9zR.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom matplotlib.dates import DateFormatter\nimport matplotlib.dates as mdates\n\ndf = pd.read_csv('C:/Users/gregor/Documents/Python Scripts/data.csv', infer_datetime_format='True')\n\ndf['date']=pd.to_datetime(df['date'])\n#\n\ndf.set_index('date', inplace=True)\n\n\nmyFmt = mdates.DateFormatter('%Y-%m')\n\n\nvolume = df['volume'].resample('MS').sum()\noi = df['open interest'].resample('MS').mean()\n\nxaxis = np.arange(len(volume))\n\nfig,ax = plt.subplots()\n\nax.bar(volume.index,volume,width=15)\nax.xaxis.set_major_formatter(myFmt)\n\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "asynchronous", "python-asyncio"], "comments": [{"owner": {"reputation": 782, "user_id": 3326088, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b591771f0f340c7cbd113dab59619c7?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Roggeri Campos", "link": "https://stackoverflow.com/users/3326088/andr%c3%a9-roggeri-campos"}, "edited": false, "score": 0, "creation_date": 1537998358, "post_id": 52526353, "comment_id": 91992676, "body": "Have you tried to use the <code>requests</code> with the <code>stream</code> parameter ? This way it won&#39;t download the <a href=\"http://docs.python-requests.org/en/latest/user/advanced/#body-content-workflow\" rel=\"nofollow noreferrer\">body content</a> (But still waits for the server to respond)"}], "answers": [{"comments": [{"owner": {"reputation": 6566, "user_id": 3785777, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pGH0T.jpg?s=128&g=1", "display_name": "luqo33", "link": "https://stackoverflow.com/users/3785777/luqo33"}, "edited": false, "score": 0, "creation_date": 1539003234, "post_id": 52572709, "comment_id": 92332011, "body": "Hi this does the job. However, the script sends the request as expected and then terminates immediately with the message: <code>Unclosed client session client_session: &lt;aiohttp.client.ClientSession object at 0x7fa486dc6550&gt;                                          Unclosed connector connections: [&#39;[(&lt;aiohttp.client_proto.ResponseHandler object at 0x7fa481475828&gt;, 20136.829498141)]&#39;]            connector: &lt;aiohttp.connector.TCPConnector object at 0x7fa48527bdd8&gt; </code> The script&#39;s exit code is still <code>0</code> (no error)"}, {"owner": {"reputation": 1324, "user_id": 6800156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/144bd2330b7c506ab60c6f9e68250fa0?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy Rodionov", "link": "https://stackoverflow.com/users/6800156/artemiy-rodionov"}, "reply_to_user": {"reputation": 6566, "user_id": 3785777, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pGH0T.jpg?s=128&g=1", "display_name": "luqo33", "link": "https://stackoverflow.com/users/3785777/luqo33"}, "edited": false, "score": 0, "creation_date": 1539019899, "post_id": 52572709, "comment_id": 92340998, "body": "Hi! You should use session <code>async with aiohttp.ClientSession() as session: session.post(...)</code>. For details see <a href=\"https://aiohttp.readthedocs.io/en/stable/client_quickstart.html#make-a-request\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"reputation": 6566, "user_id": 3785777, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pGH0T.jpg?s=128&g=1", "display_name": "luqo33", "link": "https://stackoverflow.com/users/3785777/luqo33"}, "edited": false, "score": 0, "creation_date": 1539090281, "post_id": 52572709, "comment_id": 92368695, "body": "the error is gone. However, I don&#39;t think that this set-up actually achieves what was the original intention (terminate script as soon as request is sent). Currently, the main script will be executing as long as the client session is open within the context guard (<code>aysnc ... with ... as ...</code>). The client session will be closed only when the response arrives (<code>await response</code>). I ended up using multiprocessing for what I needed. Of course asyncio and aiohttp are great for executing multiple network calls asynchronously, but they seem not capable of &quot;firing and forgetting&quot;"}], "tags": [], "owner": {"reputation": 1324, "user_id": 6800156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/144bd2330b7c506ab60c6f9e68250fa0?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy Rodionov", "link": "https://stackoverflow.com/users/6800156/artemiy-rodionov"}, "is_accepted": true, "score": 1, "last_activity_date": 1538256560, "creation_date": 1538256560, "answer_id": 52572709, "question_id": 52526353, "link": "https://stackoverflow.com/questions/52526353/asynchronous-python-fire-and-forget-http-request/52572709#52572709", "title": "Asynchronous Python - fire and forget HTTP request", "body": "<p>I <a href=\"https://stackoverflow.com/questions/52526506/wait-for-db-future-to-complete/52540427#52540427\">have answered</a> a rather similar question.</p>\n\n<pre><code>async def main():\n    asyncio.ensure_future(fire())\n</code></pre>\n\n<p><code>ensure_future</code> <a href=\"https://docs.python.org/3/library/asyncio-task.html#asyncio.create_task\" rel=\"nofollow noreferrer\">schedules coro execution</a>, but does not wait for its completion and <code>run_until_complete</code> does not wait for the completion of all futures.</p>\n\n<p>This should fix it:</p>\n\n<pre><code>async def main():\n    await fire()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9044, "user_id": 968442, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/TjxYW.jpg?s=128&g=1", "display_name": "nehem", "link": "https://stackoverflow.com/users/968442/nehem"}, "is_accepted": false, "score": 10, "last_activity_date": 1548130794, "last_edit_date": 1548130794, "creation_date": 1541997649, "answer_id": 53256058, "question_id": 52526353, "link": "https://stackoverflow.com/questions/52526353/asynchronous-python-fire-and-forget-http-request/53256058#53256058", "title": "Asynchronous Python - fire and forget HTTP request", "body": "<p>Using <code>asyncio</code> you can write a simple decorator as <code>@background</code>. Now you can write whatever inside <code>foo()</code> and the control-flow will not wait for its completion.  </p>\n\n<pre><code>import asyncio\nimport time\n\n\ndef background(f):\n    from functools import wraps\n    @wraps(f)\n    def wrapped(*args, **kwargs):\n        loop = asyncio.get_event_loop()\n        if callable(f):\n            return loop.run_in_executor(None, f, *args, **kwargs)\n        else:\n            raise TypeError('Task must be a callable')    \n    return wrapped\n\n\n@background\ndef foo():\n    time.sleep(1)\n    print(\"foo() completed\")\n\n\nprint(\"Hello\")\nfoo()\nprint(\"I didn't wait for foo()\")\n</code></pre>\n\n<p>Produces</p>\n\n<pre><code>&gt;&gt;&gt; Hello\n&gt;&gt;&gt; I didn't wait for foo()\n&gt;&gt;&gt; foo() completed\n</code></pre>\n"}], "owner": {"reputation": 6566, "user_id": 3785777, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pGH0T.jpg?s=128&g=1", "display_name": "luqo33", "link": "https://stackoverflow.com/users/3785777/luqo33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4900, "favorite_count": 0, "accepted_answer_id": 52572709, "answer_count": 2, "score": 7, "last_activity_date": 1548130794, "creation_date": 1537997878, "question_id": 52526353, "link": "https://stackoverflow.com/questions/52526353/asynchronous-python-fire-and-forget-http-request", "title": "Asynchronous Python - fire and forget HTTP request", "body": "<p>Not sure if that's achievable. I want to fire an HTTP POST request from a script, but not wait for a response. Instead I want to return immediately.</p>\n\n<p>I tries something along these lines:</p>\n\n<pre><code>#!/usr/bin/env python3\n\nimport asyncio\nimport aiohttp\n\nasync def fire():\n    await client.post('http://httpresponder.com/xyz')\n\nasync def main():\n    asyncio.ensure_future(fire())\n\nif __name__ == '__main__':\n    loop = asyncio.get_event_loop()\n    client = aiohttp.ClientSession(loop=loop)\n    loop.run_until_complete(main())\n</code></pre>\n\n<p>The script returns immediately without errors, but the HTTP request never arrives at the destination. Can I fire the POST request, but not wait for response from the server, just terminate the moment the request is sent?</p>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 4, "creation_date": 1537997953, "post_id": 52526343, "comment_id": 91992549, "body": "<code>wordlist</code> is not <code>wordList</code>. Python is case sensitive."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1537998104, "post_id": 52526343, "comment_id": 91992595, "body": "Great read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (#1)</a>"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1537999096, "post_id": 52526343, "comment_id": 91992901, "body": "On the side note, <code>main()</code> should be actually <code>if __name__ == &#39;__main__&#39;:     main()</code>"}, {"owner": {"reputation": 3, "user_id": 6800899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd970022961bd91a0b95ba372b1ddff5?s=128&d=identicon&r=PG&f=1", "display_name": "bill lawhorn", "link": "https://stackoverflow.com/users/6800899/bill-lawhorn"}, "edited": false, "score": 0, "creation_date": 1538003054, "post_id": 52526343, "comment_id": 91993941, "body": "Thanks Aran and mad! I made the corrections but program ends if I answer y or n as to playing again. getRandomWord(wordList) is not being called."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6800899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd970022961bd91a0b95ba372b1ddff5?s=128&d=identicon&r=PG&f=1", "display_name": "bill lawhorn", "link": "https://stackoverflow.com/users/6800899/bill-lawhorn"}, "edited": false, "score": 0, "creation_date": 1538011371, "post_id": 52527362, "comment_id": 91995771, "body": "Thanks vash for your help and Patrick for the debug article !"}], "tags": [], "owner": {"reputation": 4254, "user_id": 10255652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5DDj.jpg?s=128&g=1", "display_name": "vash_the_stampede", "link": "https://stackoverflow.com/users/10255652/vash-the-stampede"}, "is_accepted": true, "score": 0, "last_activity_date": 1538004601, "creation_date": 1538004601, "answer_id": 52527362, "question_id": 52526343, "link": "https://stackoverflow.com/questions/52526343/why-is-my-function-returning-error-message-wordlist-is-not-defined/52527362#52527362", "title": "Why is my function returning error message: &#39;wordlist is not defined", "body": "<p>I seen you were having trouble with getting to your game to start over. Simply calling your function will not restart the entire game or bring you back to the top but a small adjustment you can make is to put everything into a <code>while</code> loop with a condition like so</p>\n\n<pre><code>play = 'y'\nwhile play == 'y':\n\n    words = \"Harry John Paul Jane Sue Frank Julie Tom Alice Sam\".split()\n    ....\n\n    playAgain = input(\"Do you want to play again? (yes or y) to continue\")\n\n    if playAgain == \"Yes\" or playAgain == \"y\":\n        play = 'y'\n        continue\n    else:\n        print(\"Ok. Goodbye.\")\n        play = 'n'\n</code></pre>\n\n<p>All this does is that if <code>play</code>'s value is <code>y</code> the game will replay until the value is changed to <code>n</code> then the loop will end and so the game </p>\n"}], "owner": {"reputation": 3, "user_id": 6800899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd970022961bd91a0b95ba372b1ddff5?s=128&d=identicon&r=PG&f=1", "display_name": "bill lawhorn", "link": "https://stackoverflow.com/users/6800899/bill-lawhorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 52527362, "answer_count": 1, "score": 0, "last_activity_date": 1538004601, "creation_date": 1537997827, "last_edit_date": 1538002781, "question_id": 52526343, "link": "https://stackoverflow.com/questions/52526343/why-is-my-function-returning-error-message-wordlist-is-not-defined", "title": "Why is my function returning error message: &#39;wordlist is not defined", "body": "<p>When running this program I get this error message: NameError: name 'wordList' is not defined. Can't figure out why. Thanks.</p>\n\n<p>import random</p>\n\n<p>def main():</p>\n\n<pre><code>def getRandomWord(wordList):\n    wordIndex = random.randint(0, len(wordList) -1)\n    return wordList[wordIndex]\n\nwords = \"Harry John Paul Jane Sue Frank Julie Tom Alice Sam\".split()\n\nsecretWord = getRandomWord(words)\n\n\n\nprint(\"Welcome to You Bet Your Life with Groucho\\n\")\nprint(\"Say the secret word and win a thousand dollars!\")\n\nyour_word = input(\"What is your guess for the secret word? \")\n\n\n\nif your_word == secretWord:\n    print(\"Congratulations you are correct. The secrt word is\", secretWord)\n    print(\"and you win $1000 dollars !\")\nelse:\n    print(\"Sorry, that is not the secret word.\")\n\nplayAgain = True\nwordList = secretWord\nplayAgain = input(\"Do you want to play again? (yes or y) to continue\")\n\nif playAgain == \"Yes\" or playAgain == \"y\":\n    getRandomWord(wordList)\nelse:\n    print(\"Ok. Goodbye.\")\n</code></pre>\n\n<p>if <strong>name</strong> == '<strong>main</strong>': main()</p>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 561, "user_id": 10355465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sozEf.jpg?s=128&g=1", "display_name": "parthagar", "link": "https://stackoverflow.com/users/10355465/parthagar"}, "edited": false, "score": 0, "creation_date": 1537998000, "post_id": 52526331, "comment_id": 91992561, "body": "Try using <code>input_file = args[&#39;input_file&#39;]</code>."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1537998034, "post_id": 52526331, "comment_id": 91992576, "body": "How are you actually defining the <code>--input_file</code> option? Are you using <code>nargs=1</code>, by any chance? Don&#39;t."}, {"owner": {"reputation": 71, "user_id": 7620940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3893686315cc6c090de24837dc4b735f?s=128&d=identicon&r=PG", "display_name": "GAD", "link": "https://stackoverflow.com/users/7620940/gad"}, "edited": false, "score": 0, "creation_date": 1537998414, "post_id": 52526331, "comment_id": 91992691, "body": "I get a TypeError: &#39;Namespace&#39; object is not subscriptable error with args[&#39;input_file&#39;] ?"}, {"owner": {"reputation": 71, "user_id": 7620940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3893686315cc6c090de24837dc4b735f?s=128&d=identicon&r=PG", "display_name": "GAD", "link": "https://stackoverflow.com/users/7620940/gad"}, "edited": false, "score": 0, "creation_date": 1537998445, "post_id": 52526331, "comment_id": 91992701, "body": "I am using nargs=&#39;+&#39;"}, {"owner": {"reputation": 1034, "user_id": 3422060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6d3ace9b2191a8ad947704e06982fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "webelo", "link": "https://stackoverflow.com/users/3422060/webelo"}, "edited": false, "score": 0, "creation_date": 1537998887, "post_id": 52526331, "comment_id": 91992831, "body": "I wasn&#39;t able to replicate on windows and 3.7. I&#39;m guessing this is specific to Unix shells. For example, in 3.6 the <code>shlex</code> module was upgraded to better parse <a href=\"https://docs.python.org/3/library/shlex.html#improved-compatibility-with-shells\" rel=\"nofollow noreferrer\"><code>();&lt;&gt;|&amp;</code></a> in Unix shells. Perhaps try including <code>type=str</code>? If that doesn&#39;t work try combining <code>sys.argv</code> into one big string then split again using <code>shlex.shlex</code> with <code>punctuation_chars=True</code> then pass that to <code>parse.parse_args</code>."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1538000525, "post_id": 52526331, "comment_id": 91993322, "body": "Do you <i>want</i> to allow an arbitrary number of files with <code>--input_file</code>? If so, the result will always be a list, even if you only specify one argument. You index the list like any other: <code>args.input_file[0]</code>."}, {"owner": {"reputation": 71, "user_id": 7620940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3893686315cc6c090de24837dc4b735f?s=128&d=identicon&r=PG", "display_name": "GAD", "link": "https://stackoverflow.com/users/7620940/gad"}, "edited": false, "score": 0, "creation_date": 1538001618, "post_id": 52526331, "comment_id": 91993579, "body": "Of course! Boy do I feel silly, thanks! Will argparse always default to a list given multiple inputs?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1538011105, "post_id": 52526331, "comment_id": 91995717, "body": "<code>argparse</code> gives you a list with <code>nargs</code> like 1,2,&#39;*&#39;,&#39;+&#39;, and with <code>append</code> action.  I strongly recommend <code>print(args)</code> during the development/learning stage so you see exactly what the parser produces."}], "owner": {"reputation": 71, "user_id": 7620940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3893686315cc6c090de24837dc4b735f?s=128&d=identicon&r=PG", "display_name": "GAD", "link": "https://stackoverflow.com/users/7620940/gad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537998003, "creation_date": 1537997743, "last_edit_date": 1537998003, "question_id": 52526331, "link": "https://stackoverflow.com/questions/52526331/using-argparse-for-an-input-file", "title": "Using argparse for an input file", "body": "<p>I am using argparse to take an input file like so:</p>\n\n<pre><code>python python_script.py --input_file ~/lab_projects/my_input_file.txt\n</code></pre>\n\n<p>and in the script I use <code>input_file = args.input_file</code></p>\n\n<p>When I run my script I get:</p>\n\n<pre><code>ValueError: Invalid file path or buffer object type: class 'list'\n</code></pre>\n\n<p>because when I <code>print(input_file)</code>, I get <code>['my_input_file.txt']</code></p>\n\n<p>How can I get my argument out of the list and as a string? Thanks in advance!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1537997710, "post_id": 52526269, "comment_id": 91992462, "body": "Convention says import statements go at the top of the file. So the first example with import inside the function should <i>not</i> be used. But the last two examples look correct."}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 3, "creation_date": 1537997740, "post_id": 52526269, "comment_id": 91992471, "body": "The import statement should be in the file where it has been used. So it should be in funcs.py preferably outside the function so if you need to use the same package in another function within same file you need not to import again. Hope it helps"}], "answers": [{"comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1537997878, "post_id": 52526336, "comment_id": 91992522, "body": "The link does not help much as it shows the best practices of importing according to Pep8 rules. OP&#39;s question is two folds where to import and how to import"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1537998009, "post_id": 52526336, "comment_id": 91992565, "body": "You&#39;re right, I added the relevant quote from the documentation, hopefully that&#39;s clearer"}], "tags": [], "owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1537997956, "last_edit_date": 1537997956, "creation_date": 1537997779, "answer_id": 52526336, "question_id": 52526269, "link": "https://stackoverflow.com/questions/52526269/importing-a-function-from-another-file-where-to-import-other-libraries/52526336#52526336", "title": "Importing a function from another file, where to import other libraries?", "body": "<p>Straight from the source at <a href=\"https://www.python.org/dev/peps/pep-0008/?#imports\" rel=\"nofollow noreferrer\">https://www.python.org/dev/peps/pep-0008/?#imports</a></p>\n\n<blockquote>\n  <p>Imports are always put at the top of the file, just after any module\n  comments and docstrings, and before module globals and constants.</p>\n</blockquote>\n\n<p>Best practice is to do all imports on the first few lines of your script file, before doing any other coding</p>\n"}, {"comments": [{"owner": {"reputation": 384, "user_id": 8559356, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100138880279974/picture?type=large", "display_name": "Declan", "link": "https://stackoverflow.com/users/8559356/declan"}, "edited": false, "score": 0, "creation_date": 1537998118, "post_id": 52526352, "comment_id": 91992603, "body": "Ok coolio, cheers. I was trying consider the logic. So if you import a function from another file, it doesn&#39;t just import that function as some independent segment of code, but also any library dependencies the function uses (that were imported in its native file)."}, {"owner": {"reputation": 2223, "user_id": 1628812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b7db836df7c751052558ba3e9f31880?s=128&d=identicon&r=PG", "display_name": "demircioglu", "link": "https://stackoverflow.com/users/1628812/demircioglu"}, "reply_to_user": {"reputation": 384, "user_id": 8559356, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100138880279974/picture?type=large", "display_name": "Declan", "link": "https://stackoverflow.com/users/8559356/declan"}, "edited": false, "score": 0, "creation_date": 1537998446, "post_id": 52526352, "comment_id": 91992702, "body": "Yes. just like you are importing <code>func.py</code> (or a function from it)  in your main"}, {"owner": {"reputation": 2652, "user_id": 5445670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xrwS2.png?s=128&g=1", "display_name": "Solomon Ucko", "link": "https://stackoverflow.com/users/5445670/solomon-ucko"}, "edited": false, "score": 0, "creation_date": 1538055300, "post_id": 52526352, "comment_id": 92015926, "body": "&quot;Becoming part of your code&quot; sounds like you&#39;re using <code>from pandas import *</code>."}], "tags": [], "owner": {"reputation": 2223, "user_id": 1628812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b7db836df7c751052558ba3e9f31880?s=128&d=identicon&r=PG", "display_name": "demircioglu", "link": "https://stackoverflow.com/users/1628812/demircioglu"}, "is_accepted": false, "score": 0, "last_activity_date": 1537997876, "creation_date": 1537997876, "answer_id": 52526352, "question_id": 52526269, "link": "https://stackoverflow.com/questions/52526269/importing-a-function-from-another-file-where-to-import-other-libraries/52526352#52526352", "title": "Importing a function from another file, where to import other libraries?", "body": "<p>The best practice is to include at the beginning of your code in <code>funcs.py</code></p>\n\n<p>There is no need and you should not include <code>pandas</code> in your <code>main.py</code>.</p>\n\n<p>Basically when you use <code>import pandas</code> <code>pandas</code> library becomes part of your code.</p>\n"}, {"tags": [], "owner": {"reputation": 2652, "user_id": 5445670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xrwS2.png?s=128&g=1", "display_name": "Solomon Ucko", "link": "https://stackoverflow.com/users/5445670/solomon-ucko"}, "is_accepted": false, "score": 1, "last_activity_date": 1537997967, "creation_date": 1537997967, "answer_id": 52526372, "question_id": 52526269, "link": "https://stackoverflow.com/questions/52526269/importing-a-function-from-another-file-where-to-import-other-libraries/52526372#52526372", "title": "Importing a function from another file, where to import other libraries?", "body": "<p>#3 wouldn't work. In most cases, #2 is the preferred option (the main exception would be if the library is a large (slow to import) library that's only used by that function). You might also want to consider one of these options (for optional dependencies):</p>\n\n<pre><code>#funcs.py\ntry:\n    import pandas as pd\nexcept ImportError:\n    pass\n\ndef make_df():\n    return pd.DataFrame(index=[1,2,3],data=[1,2,3])\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#funcs.py\ntry:\n    import pandas as pd\nexcept ImportError:\n    pass\n\nif pd is not None:\n    def make_df():\n        return pd.DataFrame(index=[1,2,3],data=[1,2,3])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "is_accepted": true, "score": 3, "last_activity_date": 1538000529, "last_edit_date": 1538000529, "creation_date": 1537999750, "answer_id": 52526677, "question_id": 52526269, "link": "https://stackoverflow.com/questions/52526269/importing-a-function-from-another-file-where-to-import-other-libraries/52526677#52526677", "title": "Importing a function from another file, where to import other libraries?", "body": "<p>In Python each file is a <em>module</em>. Each module has its own <em>namespace</em> - its own set of variables. Each function also has its own local namespace.</p>\n\n<p>When you use the name <code>pd</code> in a function defined in the module <code>func</code>, it will first look for the local variable <code>pd</code> in the function - if it doesn't exist,\nit will look for it in the namespace of its module, <code>func</code>. It will <em>not</em> look for it in the module <code>main</code>, even if the code calling the function is in main.py</p>\n\n<p>This is known as lexical scoping - the rule is that variables are looked up close to where the code is <em>defined</em>, not where it is <em>used</em>. Some languages do look up variables close to where the code is used, it's known as dynamic scoping- in one of these languages something like your solution #3 would work, but most languages including Python follow lexical scoping rules, so it won't work.</p>\n\n<p>So pandas has to be imported in funcs.py. main.py doesn't have to import or even\nknow anything about pandas to use <code>make_df</code>.</p>\n\n<p>If you import pandas at the top of func.py, then when you import the module <code>func</code> from main.py, the line <code>import pandas as pd</code> at the top of func.py will be executed, the pandas module will be loaded, and a reference to it will be created in <code>func</code> bound to the name <code>pd</code>. There is no need to re-import it in main.py.</p>\n\n<p>If you do re-import pandas in main.py, Python will be smart enough not to reload the entire module just because you imported it in two places, it will just give you a reference to the already loaded pandas module.</p>\n\n<p>Putting the import in the body of the function will work but it's not considered good practice, unless you have a really good reason to do so. Normally imports go at the top of the file where they are used.</p>\n"}], "owner": {"reputation": 384, "user_id": 8559356, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100138880279974/picture?type=large", "display_name": "Declan", "link": "https://stackoverflow.com/users/8559356/declan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2131, "favorite_count": 2, "accepted_answer_id": 52526677, "answer_count": 4, "score": 3, "last_activity_date": 1538000529, "creation_date": 1537997303, "last_edit_date": 1537998164, "question_id": 52526269, "link": "https://stackoverflow.com/questions/52526269/importing-a-function-from-another-file-where-to-import-other-libraries", "title": "Importing a function from another file, where to import other libraries?", "body": "<p>Simple question, I've searched to no avail. Say I have a file \"funcs.py\", in it there's a function I want to call into my current script. The function uses another library (e.g. pandas), where do I import that library? What's the convention?</p>\n\n<p>Do I put it inside the function in funcs.py?</p>\n\n<pre><code>#funcs.py\ndef make_df():\n    import pandas as pd\n    return pd.DataFrame(index=[1,2,3],data=[1,2,3])\n</code></pre>\n\n<p>Do I put it <em>outside</em> the function in funcs.py?</p>\n\n<pre><code>#funcs.py\nimport pandas as pd\n\ndef make_df():\n    return pd.DataFrame(index=[1,2,3],data=[1,2,3])\n</code></pre>\n\n<p>Or do I put it in the current script I'm using?</p>\n\n<pre><code>#main.py\nimport pandas as pd\n\nfrom funcs import make_df\n\ndf = make_df()\n</code></pre>\n\n<p>Thanks and kind regards.</p>\n"}, {"tags": ["python", "python-3.x", "asynchronous", "logging", "python-multiprocessing"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1537998689, "post_id": 52526257, "comment_id": 91992770, "body": "Have you provided enough code in your example so that we can copy and paste it and run it for ourselves to see if we can duplicate the symptoms then try some tweaks to try and solve the problem?"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1537999145, "post_id": 52526257, "comment_id": 91992919, "body": "When using an expression or method/function call that results in a boolean or something that is <a href=\"https://stackoverflow.com/q/39983695/2823755\"><i>Truthy</i> or <i>Falsey</i></a>, use the result directly in a conditional - don&#39;t compare it to <code>True</code> or <code>False</code>: i.e. <code>if process.is_alive() is not True</code> --&gt; <code>if not process.is_alive()</code>."}, {"owner": {"reputation": 21, "user_id": 10261269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kYugKR4PgqI/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qXVH2d1636yOVqCiVfk2gG6cjY2Q/mo/photo.jpg?sz=128", "display_name": "William Huynh", "link": "https://stackoverflow.com/users/10261269/william-huynh"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1538001333, "post_id": 52526257, "comment_id": 91993517, "body": "Hi, I added the logging code used in the question. The code is sourced from the Python logging cookbook."}], "owner": {"reputation": 21, "user_id": 10261269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kYugKR4PgqI/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qXVH2d1636yOVqCiVfk2gG6cjY2Q/mo/photo.jpg?sz=128", "display_name": "William Huynh", "link": "https://stackoverflow.com/users/10261269/william-huynh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1538001266, "creation_date": 1537997257, "last_edit_date": 1538001266, "question_id": 52526257, "link": "https://stackoverflow.com/questions/52526257/what-is-causing-these-inconsistent-logs-using-python-multiprocessing", "title": "What is causing these inconsistent logs using Python multiprocessing?", "body": "<p>I am creating a module for spawning processes using Python's multiprocessing. Part of the module is focused on creating worker processes and returning results from those processes to a result queue. The logging for the module is done using a TCP SocketHandler and StreamHandler.</p>\n\n<p>The problem is that logging works sometimes but not all the time. The actual multiprocess module works as expected, but the output logs are inconsistently shown in the logging console. Sometimes all or most of the logs are shown. However, logs can periodically or eventually disappear until only a fraction of the logs are shown. Furthermore, running separate modules logs as expected, showing all logs.</p>\n\n<p>The code snippet that represents my current testing is below:</p>\n\n<pre><code>#Check process list for dead processes\ndef clean_process_list(self):\n    logger.info(\"Checking for dead or orphaned processes.\")\n    if len(self.processes):\n        for i in range(0, len(self.processes)):\n            process = self.processes.pop()\n            if process.is_alive() is not True:\n                logger.info(\"{} is unresponsive; terminating process.\".format(process.name))\n                process.terminate()\n            else:\n                self.processes.appendleft(process)\n\n#Worker method which puts results from a target method into a queue, if any exist. Self-terminates on completion.\ndef worker(self, args):\n    worker_name = multiprocessing.current_process().name\n    logging_socket = tcp_log_socket.local_logging_socket('test.json', worker_name) #reinitializing logger in worker for troubleshooting\n    logger = logging_socket.logger\n    logger.info(\"Running process {}; waiting for results.\".format(worker_name))\n    results = self.target_method(*args)\n    results_queue = self.process_results\n    logger.info(\"Ran target method, storing results and name of finished process.\")\n    results_queue.put([results, worker_name])\n    logger.info(\"Process {} completed, exiting.\".format(worker_name))\n    sys.exit(0)\n\n#Creates and uses a process to run a job using the assigned target method. \ndef use_process(self, args):\n    self.clean_process_list()\n    self.process_results = multiprocessing.Queue()\n    process = multiprocessing.Process(target=self.worker, args=(args,))\n    logger.info(\"Created process; process name is {}\".format(process.name))\n    self.processes.append(process)\n    process.start()\n    logger.info(\"Process {} started.\".format(process.name))\n</code></pre>\n\n<p>The expected log output vs an unexpected output is below:</p>\n\n<p><em>Ideal Output:</em></p>\n\n<blockquote>\n  <p>Checking for dead or orphaned processes.</p>\n  \n  <p>Process-1 is unresponsive; terminating process.</p>\n  \n  <p>Created process; process name is Process-2</p>\n  \n  <p>Process-2 started. </p>\n  \n  <p>Running process Process-2; waiting for results. </p>\n  \n  <p>Ran target method, storing results and name of finished process.</p>\n  \n  <p>Sum is: 5 </p>\n  \n  <p>Process Process-2 completed, exiting.</p>\n</blockquote>\n\n<p><em>Unexpected Output</em></p>\n\n<blockquote>\n  <p>Checking for dead or orphaned processes.</p>\n  \n  <p>Created process; process name is Process-2</p>\n  \n  <p>Running process Process-2; waiting for results. </p>\n  \n  <p>Sum is: 5 </p>\n</blockquote>\n\n<p><em>Or even worse:</em></p>\n\n<blockquote>\n  <p>Sum is: 5</p>\n</blockquote>\n\n<p>With the above, I have already done basic configuration on my logger (ie: setting the log level) and my logging server is configured to retrieve full records if an incomplete (shorter) message was received.</p>\n\n<p>Does anyone know any symptoms or the root cause of this problem?</p>\n\n<p>EDIT: I should mention that the logging code is almost the same as the code featured in the Python logging cookbook for multiple processes: <a href=\"https://docs.python.org/3/howto/logging-cookbook.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/howto/logging-cookbook.html</a></p>\n"}, {"tags": ["python", "python-3.x", "key-bindings", "hotkeys", "pywinauto"], "answers": [{"tags": [], "owner": {"reputation": 275, "user_id": 9072948, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Co75p.png?s=128&g=1", "display_name": "shafuq", "link": "https://stackoverflow.com/users/9072948/shafuq"}, "is_accepted": false, "score": 0, "last_activity_date": 1538173492, "creation_date": 1538173492, "answer_id": 52563341, "question_id": 52526238, "link": "https://stackoverflow.com/questions/52526238/execute-a-keybind-on-a-different-application-from-python-script/52563341#52563341", "title": "Execute a keybind on a different application from python script", "body": "<p>Using pywinauto modules i got it to work. The trick was getting the focus on the program itself.</p>\n\n<pre><code>from pywinauto.application import Application\nfrom pywinauto.keyboard import SendKeys\n\napp = Application().connect(path='path_to_programs_exe_file')\napp_dialog = app.top_window()\napp_dialog.maximize()\napp_dialog.set_focus()\n\nSendKeys('^{F5}')  \n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 9072948, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Co75p.png?s=128&g=1", "display_name": "shafuq", "link": "https://stackoverflow.com/users/9072948/shafuq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 463, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538173636, "creation_date": 1537997139, "last_edit_date": 1538173636, "question_id": 52526238, "link": "https://stackoverflow.com/questions/52526238/execute-a-keybind-on-a-different-application-from-python-script", "title": "Execute a keybind on a different application from python script", "body": "<p>It's kind of hard to explain. Maybe the result is out there but I couldn't find it.</p>\n\n<p>Simply put; I would like to run hotkeys on a program running on my desktop (Windows) via Python.</p>\n\n<p>I have a 3rd party program that I have assigned certain hotkeys/keybindings to. For example when ctrl+Fn5 keys are pressed a certain command executes on that program.</p>\n\n<p>What I want to do via Python scripts is to execute the mentioned hotkey (like ctrl+Fn5) on that program. (as if that program had focus on it and those keys were pressed)</p>\n\n<p>I have been trying to do it via win32com.client. But the program itself doesn't allow that feature directly via its libraries. I also tried pywinauto but again it doesn't provide the libraries needed (tried analyzing it with other tools like swapy).</p>\n\n<p>I have used catching hotkeys on python before. But they were for the Python application itself.</p>\n\n<p>for example:</p>\n\n<pre><code>def keyPressEvent(self, e):\n    if e.modifiers() &amp; Qt.ControlModifier and e.modifiers() &amp; Qt.ShiftModifier and e.key() == Qt.Key_V:\n    # do somthing\n</code></pre>\n\n<p>What I need is to execute the hotkeys with the focus on the other program.</p>\n\n<p>I looked into the os module to see if there was anything there that could help me but couldn't find anything.</p>\n"}, {"tags": ["python", "if-statement"], "comments": [{"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1537997281, "post_id": 52526225, "comment_id": 91992328, "body": "assign each condition to a separate variable.  or use a dict."}, {"owner": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "edited": false, "score": 2, "creation_date": 1537997496, "post_id": 52526225, "comment_id": 91992400, "body": "What exactly might <code>row[product].lower()</code> return?"}, {"owner": {"reputation": 577, "user_id": 10209499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z61xy9mE50w/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAmAsQVz5u8JEjZ4Zlf3NNzI1Nug/mo/photo.jpg?sz=128", "display_name": "Maria Nazari", "link": "https://stackoverflow.com/users/10209499/maria-nazari"}, "reply_to_user": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "edited": false, "score": 0, "creation_date": 1537997682, "post_id": 52526225, "comment_id": 91992451, "body": "@NChauhan it will produce the product name as a string ex: &#39;greatest-chopper&#39;"}, {"owner": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "edited": false, "score": 1, "creation_date": 1537997762, "post_id": 52526225, "comment_id": 91992480, "body": "So, do you want to check whether <code>&#39;smoke&#39;</code> appears within the name such as <code>&#39;smoked-fish&#39;</code> or whether the name <i>is</i> the value exactly?"}, {"owner": {"reputation": 577, "user_id": 10209499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z61xy9mE50w/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAmAsQVz5u8JEjZ4Zlf3NNzI1Nug/mo/photo.jpg?sz=128", "display_name": "Maria Nazari", "link": "https://stackoverflow.com/users/10209499/maria-nazari"}, "reply_to_user": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "edited": false, "score": 0, "creation_date": 1537997885, "post_id": 52526225, "comment_id": 91992526, "body": "@NChauhan whether it appears"}], "answers": [{"comments": [{"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1537997517, "post_id": 52526258, "comment_id": 91992407, "body": "And the OP can separate the tuple as an assigned variable, shortening the <code>if</code> line."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 3, "last_activity_date": 1537997264, "creation_date": 1537997264, "answer_id": 52526258, "question_id": 52526225, "link": "https://stackoverflow.com/questions/52526225/if-statement-condensing-multiple-or-statements/52526258#52526258", "title": "IF statement condensing multiple OR statements", "body": "<p>You can use a generator expression with <code>any</code>:</p>\n\n<pre><code>if any(item in row['product'].lower() for item in (\"smoke\", \"grill\", \"choco\")):\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1537997405, "post_id": 52526261, "comment_id": 91992367, "body": "Your 2nd suggestion does not quite do the same thing as the first one. You&#39;re checking if <code>row[&#39;product&#39;]</code> is exactly identical to any of the 3 words, not if it <i>contains</i> any of the 3 words."}, {"owner": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1537997460, "post_id": 52526261, "comment_id": 91992386, "body": "Yes, considered this, but it depends on the OP&#39;s data as well to choose which one is suitable."}], "tags": [], "owner": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1537997669, "last_edit_date": 1537997669, "creation_date": 1537997276, "answer_id": 52526261, "question_id": 52526225, "link": "https://stackoverflow.com/questions/52526225/if-statement-condensing-multiple-or-statements/52526261#52526261", "title": "IF statement condensing multiple OR statements", "body": "<p>One way is to use <code>any</code></p>\n\n<pre><code>if any(item in row['product'].lower()\n       for item in ('choco', 'smoke', 'grill'):\n</code></pre>\n\n<p>Or if <code>row['product'].lower()</code> is a string and you want to compare whether they are identical or not:</p>\n\n<pre><code>if row['product'].lower() in ('choco', 'grill', 'smoke'):\n</code></pre>\n\n<p>Where I have the tuple of the names, replace this with a pre-written list of strings like so:</p>\n\n<pre><code>names = ('choco', 'grill', 'smoke', ...)\nif row['product'].lower() in names:\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 10209499, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z61xy9mE50w/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAmAsQVz5u8JEjZ4Zlf3NNzI1Nug/mo/photo.jpg?sz=128", "display_name": "Maria Nazari", "link": "https://stackoverflow.com/users/10209499/maria-nazari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 52526258, "answer_count": 2, "score": -1, "last_activity_date": 1537997888, "creation_date": 1537997081, "question_id": 52526225, "link": "https://stackoverflow.com/questions/52526225/if-statement-condensing-multiple-or-statements", "title": "IF statement condensing multiple OR statements", "body": "<p>I have the following line</p>\n\n<pre><code>if 'smoke' in row['product'].lower() or 'grill' in row['product'].lower() or 'choco' in row['product'].lower(): \n</code></pre>\n\n<p>I want to add multiple items in the OR clause. ['smoke', 'grill, 'choco', ...], how can I condense the if statement while not losing the logic?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 11, "user_id": 10417586, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216788915773437/picture?type=large", "display_name": "Patrick Yayi", "link": "https://stackoverflow.com/users/10417586/patrick-yayi"}, "edited": false, "score": 0, "creation_date": 1538495646, "post_id": 52526202, "comment_id": 92158457, "body": "Hello everyone, After checking the autocomplete returns the object, but I still do not understand why I can not register in the database, no error is returned, suddenly I do not know where to look."}, {"owner": {"reputation": 164, "user_id": 1709475, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8f8576c310ae65dbd46c9cea4f4c69bd?s=128&d=identicon&r=PG", "display_name": "Tommy Gibbons", "link": "https://stackoverflow.com/users/1709475/tommy-gibbons"}, "edited": false, "score": 0, "creation_date": 1602153753, "post_id": 52526202, "comment_id": 113633213, "body": "Hi Patrick.  Did you resolve your problem?"}, {"owner": {"reputation": 11, "user_id": 10417586, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216788915773437/picture?type=large", "display_name": "Patrick Yayi", "link": "https://stackoverflow.com/users/10417586/patrick-yayi"}, "reply_to_user": {"reputation": 164, "user_id": 1709475, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8f8576c310ae65dbd46c9cea4f4c69bd?s=128&d=identicon&r=PG", "display_name": "Tommy Gibbons", "link": "https://stackoverflow.com/users/1709475/tommy-gibbons"}, "edited": false, "score": 0, "creation_date": 1605960974, "post_id": 52526202, "comment_id": 114816630, "body": "really sorry for the delay, yes it&#39;s resolved"}], "owner": {"reputation": 11, "user_id": 10417586, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216788915773437/picture?type=large", "display_name": "Patrick Yayi", "link": "https://stackoverflow.com/users/10417586/patrick-yayi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537996966, "creation_date": 1537996966, "question_id": 52526202, "link": "https://stackoverflow.com/questions/52526202/autocompleteselect-and-foreignkey", "title": "autocompleteselect and foreignkey", "body": "<p>I am a beginner under django, I currently work on an application to record births\nthe father key of the birth class points to the registration table that records fathers and mothers</p>\n\n<p>in my form.py file, the father field is an autoselectfield.\nAnd that's my problem:\nthe autoselectfield returns an id while the father field must point to an object of type registration</p>\n\n<p>how can i return the object linked to the id.\nas long as the father field does not point to an object I will not be able to register a new birth in the base</p>\n\n<p>Thank you in advance</p>\n\n<p>my view.py </p>\n\n<pre><code>class EntityCreateView(CreateView):\n\ndef form_invalid(self, form, error_msg=\"Erreur lors de la sauvegarde.\"):\n    messages.error(self.request, self.request.POST)\n    return super(EntityCreateView, self).form_invalid(form)\n\ndef form_valid(self, form, success_msg=\"Enregistrement r\u00e9ussi.\"):\n            # This method is called when valid form data has been POSTed.\n            # It should return an HttpResponse.\n            form.instance.created_by = self.request.user\n            messages.success(self.request, success_msg)\n            #father_id = form.cleaned_data['father']\n            form.father = Registration.objects.get(id=form.father)\n            return super(EntityCreateView, self).form_valid(form)\n\nclass BirthCreateView(EntityCreateView):\n    template_name = 'eregister/birth_detail.html'\n    model = Birth\n    form_class = BirthForm\n\n    def get_initial(self):\n            if 'from_external_page' in self.kwargs and 'birth_post_form' in self.request.POST:\n                    # If we added a birth or a person, we want to restore the initial form\n                    birth_post_form = self.request.session['birth_post_form']\n                    del self.request.session['birth_post_form']\n                    return birth_post_form\n            return super().get_initial()\n\n\n    def get_context_data(self, **kwargs):\n            \"\"\"Called after the get method\"\"\"\n            # Call the base implementation first to get a context\n            context = super(BirthCreateView, self).get_context_data(**kwargs)\n            birth_form = context.get('form')\n            birth_form.initial['language'] = Language.get_default_language()\n            return context\n\n    def form_valid(self, form):\n            #self.father = Registration.objects.get(father_id=form.father)\n            father_id=self.cleaned_data['father']\n            father = get_object_or_404(Registration, pk = father_id)\n            sel.cleaned_data['father'].update(father)\n            super(BirthCreateView, self).form_valid(form)\n            birth_id = self.object.id\n            # Automatically propose to create the first copy of the book\n            return HttpResponseRedirect(reverse('eregister:bc_add', args=[birth_id]))\n</code></pre>\n\n<p>forms.py file</p>\n\n<pre><code> class CommonForm(forms.ModelForm):\nrequired_css_class = 'required'\n\n class BirthForm(CommonForm):\n\n    class Meta:\n            model = Birth\n            exclude = ['social_number', 'created']\n\n    firstname = forms.CharField(label=Meta.model._meta.get_field('firstname').verbose_name,\n            widget = forms.TextInput(attrs={'size': '50'}))\n\n    father = AutoCompleteSelectField('father_list', label=Meta.model._meta.get_field('father').verbose_name,\n            required=False, help_text=None, plugin_options={'autofocus': True, 'minlength': 3})\n\n    mother =  AutoCompleteSelectField('mother_list', label=Meta.model._meta.get_field('mother').verbose_name,\n            required=False, help_text=None, plugin_options={'autofocus': True, 'minlength': 3})\n\n    sex = forms.ChoiceField(widget = forms.RadioSelect,choices= SEX_CHOICES)\n    birthday = forms.DateField(initial=datetime.date.today())\n\n\n    def clean_fathers(self):\n            if self.cleaned_data['father']:  # It is a list\n                    raise forms.ValidationError(_(\"Please select at least one author\"))\n            return self.cleaned_data['father']\n\n    def clean_mothers(self):\n            if not any(self.cleaned_data['mother']):  # It is a list\n                    raise forms.ValidationError(_(\"Please select at least one publisher\"))\n            return self.cleaned_data['mother']\n</code></pre>\n\n<p>models.py</p>\n\n<pre><code>  class Birth(ModelEntity):\n\n    firstname       = models.CharField(max_length=30, null=False, verbose_name='Pr\u00e9nom(s)')\n    sex             = models.CharField(max_length=8, choices=SEX_CHOICES, verbose_name='Sexe')\n    birthweight     = models.DecimalField(max_digits=4,  decimal_places=2, verbose_name=\"Poids \u00e0 la naissance\")\n    birthday        = models.DateField(null=False, verbose_name='Date de naissance')\n    birthhour       = models.TimeField(null=True, verbose_name='Heure de naissance')\n    birthcity       = models.CharField(max_length=30, null=False, verbose_name='Ville de naissance')\n    birthcountry    = models.CharField(max_length=50, verbose_name='Pays de naissance', default='B\u00e9nin')\n    father          = models.ForeignKey(Registration, related_name='father', verbose_name='Father',\n                            on_delete=models.CASCADE, null=False)\n    mother          = models.ForeignKey(Registration, related_name='mother', verbose_name='Mother',\n                            on_delete=models.CASCADE, null=False)\n    mairie          = models.CharField(max_length=30, null=False, verbose_name='Mairie')\n    social_number   = models.CharField(max_length=30, null=True, verbose_name='numero social', unique=True)\n    created         = models.DateTimeField(auto_now_add=True)\n\n\n    objects = BirthManager()\n\n\n    def __str__(self):\n            return \"%s - %s - %s - %s %s - %s - %s\" % (self.firstname, self.sex, self.birthweight, self.birthday,\n                                                    self.birthhour,self.birthcity, self.birthcountry)\n\n    class Meta:\n            ordering = ['-created']\n            verbose_name= (\"Naissance\")\n            verbose_name_plural = (\"Naissances\")\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "selenium-chromedriver", "splinter"], "comments": [{"owner": {"reputation": 4515, "user_id": 4016674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0794ef4d308e37cd2f51a23b25488e13?s=128&d=identicon&r=PG&f=1", "display_name": "hellpanderr", "link": "https://stackoverflow.com/users/4016674/hellpanderr"}, "edited": false, "score": 0, "creation_date": 1537997398, "post_id": 52526184, "comment_id": 91992361, "body": "I don&#39;t see it on splinter/selenium <code>0.9.0&#47;3.13.0</code> on Windows."}, {"owner": {"reputation": 4515, "user_id": 4016674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0794ef4d308e37cd2f51a23b25488e13?s=128&d=identicon&r=PG&f=1", "display_name": "hellpanderr", "link": "https://stackoverflow.com/users/4016674/hellpanderr"}, "edited": false, "score": 0, "creation_date": 1537997496, "post_id": 52526184, "comment_id": 91992401, "body": "Using this command: <code>from splinter import Browser;browser = Browser(driver_name=&#39;chrome&#39;);browser.visit(&#39;https:&#47;&#47;stackov&zwnj;&#8203;erflow.com&#47;questions&zwnj;&#8203;&#47;52526184&#47;splinter-s&zwnj;&#8203;elenium-interprets-s&zwnj;&#8203;ome-characters-as-es&zwnj;&#8203;cape-sequences&#39;);bro&zwnj;&#8203;wser.find_by_xpath(&#39;&zwnj;&#8203;&#47;&#47;*[@id=&quot;search&quot;]&#47;di&zwnj;&#8203;v&#47;input&#39;).type(&#39;cats&zwnj;&#8203;&#39;)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2753, "user_id": 2532408, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gnVSN.jpg?s=128&g=1", "display_name": "Marcel Wilson", "link": "https://stackoverflow.com/users/2532408/marcel-wilson"}, "edited": false, "score": 0, "creation_date": 1538064216, "post_id": 52540503, "comment_id": 92021869, "body": "Oi, that sounds like a nightmare to have to remember and maintain tests which do not include specific letters. My first reaction is to ditch XQuartz \ud83e\udd37\u200d\u2642\ufe0f"}, {"owner": {"reputation": 2838, "user_id": 1434116, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2f36ad2bc52839b98ad453e9f4bcfc38?s=128&d=identicon&r=PG", "display_name": "Dmitry Shvedov", "link": "https://stackoverflow.com/users/1434116/dmitry-shvedov"}, "reply_to_user": {"reputation": 2753, "user_id": 2532408, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gnVSN.jpg?s=128&g=1", "display_name": "Marcel Wilson", "link": "https://stackoverflow.com/users/2532408/marcel-wilson"}, "edited": false, "score": 0, "creation_date": 1538065193, "post_id": 52540503, "comment_id": 92022394, "body": "What would you recommend as a replacement on Mac OS? (my dev machine)"}, {"owner": {"reputation": 2838, "user_id": 1434116, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2f36ad2bc52839b98ad453e9f4bcfc38?s=128&d=identicon&r=PG", "display_name": "Dmitry Shvedov", "link": "https://stackoverflow.com/users/1434116/dmitry-shvedov"}, "reply_to_user": {"reputation": 2753, "user_id": 2532408, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gnVSN.jpg?s=128&g=1", "display_name": "Marcel Wilson", "link": "https://stackoverflow.com/users/2532408/marcel-wilson"}, "edited": false, "score": 0, "creation_date": 1538065303, "post_id": 52540503, "comment_id": 92022446, "body": "We&#39;re planning to ditch chromedriver in favor of Firefox"}, {"owner": {"reputation": 2753, "user_id": 2532408, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gnVSN.jpg?s=128&g=1", "display_name": "Marcel Wilson", "link": "https://stackoverflow.com/users/2532408/marcel-wilson"}, "edited": false, "score": 0, "creation_date": 1538067408, "post_id": 52540503, "comment_id": 92023502, "body": "I guess it depends on what you&#39;re using XQuartz for.  Do you need to use it with chromedriver for some reason?  or can you get away with using chromedriver directly in selenium?"}, {"owner": {"reputation": 2838, "user_id": 1434116, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2f36ad2bc52839b98ad453e9f4bcfc38?s=128&d=identicon&r=PG", "display_name": "Dmitry Shvedov", "link": "https://stackoverflow.com/users/1434116/dmitry-shvedov"}, "reply_to_user": {"reputation": 2753, "user_id": 2532408, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gnVSN.jpg?s=128&g=1", "display_name": "Marcel Wilson", "link": "https://stackoverflow.com/users/2532408/marcel-wilson"}, "edited": false, "score": 0, "creation_date": 1538070751, "post_id": 52540503, "comment_id": 92025037, "body": "Basically if the tests fail in CI, I want to run them on dev machine and visually see what the browser is doing and why things are failing. So, yes, I do need it. As I mentioned in the question - on CI things work fine - there&#39;s no XQuartz there of course."}, {"owner": {"reputation": 2753, "user_id": 2532408, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gnVSN.jpg?s=128&g=1", "display_name": "Marcel Wilson", "link": "https://stackoverflow.com/users/2532408/marcel-wilson"}, "edited": false, "score": 0, "creation_date": 1538072861, "post_id": 52540503, "comment_id": 92025960, "body": "I don&#39;t know the difference between your environment and CI but I guess what I&#39;m asking is do you utilize any features in CI that require xquartz such as X11 forwarding?  Or are you just doing &#39;normal&#39; browser testing?"}, {"owner": {"reputation": 2753, "user_id": 2532408, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gnVSN.jpg?s=128&g=1", "display_name": "Marcel Wilson", "link": "https://stackoverflow.com/users/2532408/marcel-wilson"}, "reply_to_user": {"reputation": 2838, "user_id": 1434116, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2f36ad2bc52839b98ad453e9f4bcfc38?s=128&d=identicon&r=PG", "display_name": "Dmitry Shvedov", "link": "https://stackoverflow.com/users/1434116/dmitry-shvedov"}, "edited": false, "score": 0, "creation_date": 1538073625, "post_id": 52540503, "comment_id": 92026304, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/180902/discussion-between-marcel-wilson-and-dmitry-shvedov\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2838, "user_id": 1434116, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2f36ad2bc52839b98ad453e9f4bcfc38?s=128&d=identicon&r=PG", "display_name": "Dmitry Shvedov", "link": "https://stackoverflow.com/users/1434116/dmitry-shvedov"}, "is_accepted": true, "score": 2, "last_activity_date": 1538062395, "creation_date": 1538062395, "answer_id": 52540503, "question_id": 52526184, "link": "https://stackoverflow.com/questions/52526184/splinter-selenium-interprets-some-characters-as-escape-sequences/52540503#52540503", "title": "Splinter/selenium interprets some characters as escape sequences", "body": "<p>In case some poor soul bumps into this, the reason this is happening is because:</p>\n\n<blockquote>\n  <p>Inside Chrome, <code>ui::VKEY_BACK</code> is short-circuited and is never\n  translated to its x key code equivalent. Chrome is not respecting the\n  remote x server\u2019s key code mappings.</p>\n</blockquote>\n\n<p>As outlined in this <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=677\" rel=\"nofollow noreferrer\">chromedriver bug</a> from 2014. So the culprit is the combination of chromedriver and XQuartz. As of this writing (September 2018) there hasn't been much movement on this bug (please login at chromium.org and vote on it!). My current workaround is to ensure that offending letters are not used in my tests. So far they are: e, r, s, and, 6. There may be more.</p>\n"}], "owner": {"reputation": 2838, "user_id": 1434116, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2f36ad2bc52839b98ad453e9f4bcfc38?s=128&d=identicon&r=PG", "display_name": "Dmitry Shvedov", "link": "https://stackoverflow.com/users/1434116/dmitry-shvedov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 52540503, "answer_count": 1, "score": 1, "last_activity_date": 1538062395, "creation_date": 1537996867, "last_edit_date": 1538003054, "question_id": 52526184, "link": "https://stackoverflow.com/questions/52526184/splinter-selenium-interprets-some-characters-as-escape-sequences", "title": "Splinter/selenium interprets some characters as escape sequences", "body": "<p>I'm using Selenium (3.14.0), with Splinter (0.9.0), with Chrome Webdriver, with XQuartz on Mac to test my code.</p>\n\n<p>When I try entering data into a form, some characters do not arrive in the <code>input</code>. Say, I do <code>some_text_input.type('cats')</code> the input receives just 'cat'.</p>\n\n<p>After some investigation I found that 3 characters get a special treatment (while all the rest pass):</p>\n\n<ul>\n<li>'e' becomes backspace - and erases the previous character</li>\n<li>'r' becomes return</li>\n<li>'s' becomes space</li>\n</ul>\n\n<p>Note that this only occurs on Mac, and works fine in CI environment.</p>\n\n<p>Has anyone bumped into anything like this? Where does the escaping happen?</p>\n"}, {"tags": ["python", "pycharm"], "answers": [{"tags": [], "owner": {"reputation": 1344, "user_id": 8521346, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5adedecc5904449d9b448df60d69f5fc?s=128&d=identicon&r=PG&f=1", "display_name": "Bigbob556677", "link": "https://stackoverflow.com/users/8521346/bigbob556677"}, "is_accepted": false, "score": 1, "last_activity_date": 1537997698, "creation_date": 1537997698, "answer_id": 52526325, "question_id": 52526167, "link": "https://stackoverflow.com/questions/52526167/interpreter-problem-apparently-with-a-project-in-pycharm/52526325#52526325", "title": "Interpreter problem (apparently) with a project in PyCharm", "body": "<p>Your project is most likely pointing to the wrong interpreter. E.G. Using a virtual environment when you want to use a global one.</p>\n\n<p>You must point PyCharm to the correct interpreter that you want to use.</p>\n\n<p>\"File/Settings(Preferences On Mac)/Project: ... /Project Interpreter\" takes you to the settings associated with the interpreters.</p>\n\n<p>This window shows all of the modules within the interpreter.</p>\n\n<p>From here you can click the settings wheel in the top right and configure your interpreters. (add virtual environments and what not)</p>\n\n<p>or you can select an existing interpreter from the drop down to use with your project. </p>\n"}, {"tags": [], "owner": {"reputation": 643, "user_id": 568111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9714898e9f232a6aaf3fc8ca3827050?s=128&d=identicon&r=PG", "display_name": "HolgT", "link": "https://stackoverflow.com/users/568111/holgt"}, "is_accepted": true, "score": 1, "last_activity_date": 1537999602, "creation_date": 1537999602, "answer_id": 52526644, "question_id": 52526167, "link": "https://stackoverflow.com/questions/52526167/interpreter-problem-apparently-with-a-project-in-pycharm/52526644#52526644", "title": "Interpreter problem (apparently) with a project in PyCharm", "body": "<p>It seems, when you are creating a new project, you also opt to create a new virtual environment, which then is created (default) in that venv sub-directory.\nBut that would only apply to new projects, what is going on with your old projects, changing their project interpreter environment i do not understand.\nSo what i would say is you have some corrupt settings (e.g. in ~/Library/Preferences/PyCharm2018.2 ), which are copied upon PyCharm upgrade.\nYou might try newly configure PyCharm by moving away those PyCharm preferences, so you can put them back later.</p>\n\n<p>The Project configuration mainly, special the Project interpreter on the other hand is stored inside $PROJECT_ROOT/.idea and thus should not change.</p>\n"}], "owner": {"reputation": 5213, "user_id": 1380285, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f9a9583aed6db34815797c68823225b9?s=128&d=identicon&r=PG", "display_name": "bob.sacamento", "link": "https://stackoverflow.com/users/1380285/bob-sacamento"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 52526644, "answer_count": 2, "score": 1, "last_activity_date": 1537999602, "creation_date": 1537996770, "last_edit_date": 1537997305, "question_id": 52526167, "link": "https://stackoverflow.com/questions/52526167/interpreter-problem-apparently-with-a-project-in-pycharm", "title": "Interpreter problem (apparently) with a project in PyCharm", "body": "<p>I recently upgraded PyCharm (community version).  If it matters, I am running on a Mac OSX machine.  After the upgrade, I have one project in which PyCharm cannot find any python modules.  It can't find numpy, matplotlib, anything ...  I have checked a couple of other projects and they seem to be fine.  I noticed that somehow the interpreter for the project in question was not the same as for the others.  So I changed it to match the others.  But PyCharm still can't find the modules.  Any ideas what else I can do?</p>\n\n<p>More generally, something like this happens every time I upgrade to a new PyCharm version.  The fix each time is a little different.  Any ideas on how I can prevent this in the first place?</p>\n\n<p>EDIT: FWIW, I just now tried to create a new dummy project.  It has the same problem.  I notice that my two problem projects are created with a \"venv\" sub-directory.  My \"good\" projects don't have this thing.  Is this a clue to what is going on?</p>\n\n<p>EDIT 2: OK, just realized that when creating a new project, I can select \"New environment\" or \"Existing interpreter\", and I want \"Existing interpreter\".  However, I would still like to know how one project that was working fine before is now hosed, and how I can fix it.  Thanks.</p>\n"}, {"tags": ["python", "python-3.x", "tkinter", "tkinter-canvas", "word-cloud"], "answers": [{"tags": [], "owner": {"reputation": 1892, "user_id": 10067043, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155990840858271/picture?type=large", "display_name": "Ricky Kim", "link": "https://stackoverflow.com/users/10067043/ricky-kim"}, "is_accepted": false, "score": 1, "last_activity_date": 1537997560, "creation_date": 1537997560, "answer_id": 52526305, "question_id": 52526137, "link": "https://stackoverflow.com/questions/52526137/how-to-randomize-the-button-location-in-python-using-tkinter/52526305#52526305", "title": "How to Randomize the button location in python using tkinter?", "body": "<p>I don't know if this is the best way, but after removing .pack() from your code to use .grid(), I used numpy to generate random numbers to place the buttons randomly.</p>\n\n<pre><code>import numpy as np\n    with open('sample.txt', 'r') as f:\n    f_contents = f.read()\n    # Removing URLs\n    f_contents = re.sub(r'http\\S+', \"\", f_contents)\n    # Removing all the punctuations\n    f_contents = re.sub(r'[^\\w\\s]', '', f_contents)\n    for word in f_contents.split():\n        btn = tkinter.Button(window, text=word, command=locate).grid(row=int(np.random.normal(len(f_contents)/2,1)),column=int(np.random.normal(len(f_contents)/2,1)))\n</code></pre>\n\n<p>I used normal random to make it look like a word cloud.</p>\n"}, {"comments": [{"owner": {"reputation": 245, "user_id": 7451957, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-t-CDVXEgt8E/AAAAAAAAAAI/AAAAAAAAAIk/Ua0G5fmpZ2U/photo.jpg?sz=128", "display_name": "Nikul Vyas", "link": "https://stackoverflow.com/users/7451957/nikul-vyas"}, "edited": false, "score": 0, "creation_date": 1538000819, "post_id": 52526584, "comment_id": 91993395, "body": "The logic fits perfectly, can you recommend a way to avoid overlapping of words?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 245, "user_id": 7451957, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-t-CDVXEgt8E/AAAAAAAAAAI/AAAAAAAAAIk/Ua0G5fmpZ2U/photo.jpg?sz=128", "display_name": "Nikul Vyas", "link": "https://stackoverflow.com/users/7451957/nikul-vyas"}, "edited": false, "score": 0, "creation_date": 1538005603, "post_id": 52526584, "comment_id": 91994503, "body": "@NikulVyas: I don&#39;t know what you mean. This code includes avoiding overlapping of words."}, {"owner": {"reputation": 245, "user_id": 7451957, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-t-CDVXEgt8E/AAAAAAAAAAI/AAAAAAAAAIk/Ua0G5fmpZ2U/photo.jpg?sz=128", "display_name": "Nikul Vyas", "link": "https://stackoverflow.com/users/7451957/nikul-vyas"}, "edited": false, "score": 0, "creation_date": 1538006566, "post_id": 52526584, "comment_id": 91994674, "body": "I don&#39;t see all the words in the canvas every time from my data source I thought its overlapping may be if I increase the length of the canvas it will show all words."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 245, "user_id": 7451957, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-t-CDVXEgt8E/AAAAAAAAAAI/AAAAAAAAAIk/Ua0G5fmpZ2U/photo.jpg?sz=128", "display_name": "Nikul Vyas", "link": "https://stackoverflow.com/users/7451957/nikul-vyas"}, "edited": false, "score": 1, "creation_date": 1538006726, "post_id": 52526584, "comment_id": 91994711, "body": "@NikulVyas: if the code can&#39;t find a place to put the label after 1000 attempts, it will simply ignore that label and try the next. You need to put  your own logic in that code. This isn&#39;t a <i>solution</i>, it&#39;s an <i>illustration of the technique</i>"}, {"owner": {"reputation": 245, "user_id": 7451957, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-t-CDVXEgt8E/AAAAAAAAAAI/AAAAAAAAAIk/Ua0G5fmpZ2U/photo.jpg?sz=128", "display_name": "Nikul Vyas", "link": "https://stackoverflow.com/users/7451957/nikul-vyas"}, "edited": false, "score": 0, "creation_date": 1538083094, "post_id": 52526584, "comment_id": 92030421, "body": "I am implementing a different logic through your guidance above. Its working now I just forgot to add the fill &amp; expand logic in the canvas.pack function. Thank you so much for your help."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1537999200, "creation_date": 1537999200, "answer_id": 52526584, "question_id": 52526137, "link": "https://stackoverflow.com/questions/52526137/how-to-randomize-the-button-location-in-python-using-tkinter/52526584#52526584", "title": "How to Randomize the button location in python using tkinter?", "body": "<p>You can use the <code>place</code> geometry manager to put widgets at precise coordinates. You can use <code>random.randint</code> to compute a random coordinate. If you use a canvas, you can use the built-in method <code>find_overlapping</code> to determine if anything would overlap the computed placement.</p>\n\n<p>Here's a quick example:</p>\n\n<pre><code>import tkinter as tk\nimport random\n\nwords = [\"one\", \"two\", \"three\", \"four\", \"five\", \"six\", \"seven\", \"eight\", \"nine\", \"ten\"]\n\ndef place_label(canvas, label):\n    '''place a label on a canvas in a random, non-overlapping location'''\n    width = label.winfo_reqwidth()\n    height = label.winfo_reqheight()\n\n    tries = 0\n    while True and tries &lt; 1000:\n        tries += 1 # failsafe, to prevent an infinite loop\n        x = random.randint(0, 200-width)\n        y = random.randint(0, 200-height)\n        items = canvas.find_overlapping(x, y, x+width, y+height)\n        if len(items) == 0:\n            canvas.create_window(x, y, window=label, anchor=\"nw\")\n            break\n\nroot = tk.Tk()\ncanvas = tk.Canvas(root, width=200, height=200)\ncanvas.pack(fill=\"both\", expand=True)\n\nfor word in words:\n    label = tk.Label(root, text=word)\n    place_label(canvas, label)\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 7451957, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-t-CDVXEgt8E/AAAAAAAAAAI/AAAAAAAAAIk/Ua0G5fmpZ2U/photo.jpg?sz=128", "display_name": "Nikul Vyas", "link": "https://stackoverflow.com/users/7451957/nikul-vyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 0, "accepted_answer_id": 52526584, "answer_count": 2, "score": 0, "last_activity_date": 1537999544, "creation_date": 1537996612, "last_edit_date": 1537999544, "question_id": 52526137, "link": "https://stackoverflow.com/questions/52526137/how-to-randomize-the-button-location-in-python-using-tkinter", "title": "How to Randomize the button location in python using tkinter?", "body": "<p>I am trying to create a clickable word cloud for which I am starting to apply logic with button. I am able to split the words of text file using regular expressions and create button for each word. But each button's position is shown in a column view. like in the image below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YeBFP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YeBFP.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Does tkinter have any function to randomize this location and alter the buttons manually that can give me a look of a clikable word cloud.</p>\n\n<p>Here's my working solution:</p>\n\n<pre><code># import the 'tkinter' module\nimport tkinter\n# import regular expression\nimport re\n\n# create a new window\nwindow = tkinter.Tk()\n# set the window title\nwindow.title(\"Commands\")\n# set the window icon\nwindow.wm_icon\n\nbitmap('Icon.ico')\n\n# initially, the button hasn't been pressed\npresses = 0\n\n\n# a function that changes the text of the label to a location of the word clicked\ndef locate():\n    global presses\n    # add code to find the location of the word ---------------\n    # update the label text with the new value of 'presses' -----------\n    lbl.configure(text=presses)\n\n# create a label to display a message\nlbl = tkinter.Label(window, text=presses)\nlbl.pack()\n\n# looping through the number f words\n# create a new button, assign a specific text to each button and provide an argument called 'command'\n# which in this case calls a function called 'callback'\nwith open ('sample.txt','r') as f:\n    f_contents = f.read()\n    # Removing URLs\n    f_contents = re.sub(r'http\\S+',\"\",f_contents)\n    # Removing all the punctuations\n    f_contents = re.sub(r'[^\\w\\s]', '', f_contents)\n    for word in f_contents.split():\n        btn = tkinter.Button(window, text=word, command=locate)\n        btn.pack()\n\n# draw the window, and start the 'application'\nwindow.mainloop()\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1537996603, "post_id": 52526103, "comment_id": 91992069, "body": "You&#39;d have to write that yourself, there&#39;s nothing built in. You&#39;d probably be better canonicalising the key, in this case always using lowercase <i>or</i> uppercase."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 1, "creation_date": 1537996751, "post_id": 52526103, "comment_id": 91992126, "body": "What have you tried? a simple for loop iterating over possible keys solves your problem.."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1537996796, "post_id": 52526103, "comment_id": 91992146, "body": "you could do smth like <code>my_dict.get(&#39;A&#39;, my_dict.get(&#39;a&#39;, None))</code> - but its better to use lowercase keys - tagging this <i>double.get</i> around all the time gets ugly fast. Better wrap your dict in some class that manages key-casing."}, {"owner": {"reputation": 463, "user_id": 8039081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fsbwe.jpg?s=128&g=1", "display_name": "devashish-patel", "link": "https://stackoverflow.com/users/8039081/devashish-patel"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1537997072, "post_id": 52526103, "comment_id": 91992250, "body": "Basically, a general scenario for me is I need to check either <code>userPrincipalName</code> or <code>UserPrincipalName</code> is in the <code>dict</code> or just return <code>None</code>. So I think @PatrickArtner&#39;s answer will work for me. I just have used <code>a</code> and <code>A</code> to make it simple to understand the question @RafaelC. Thanks a all of you!"}], "answers": [{"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1538034704, "last_edit_date": 1538034704, "creation_date": 1537997092, "answer_id": 52526227, "question_id": 52526103, "link": "https://stackoverflow.com/questions/52526103/check-multiple-keys-in-python-dictionary/52526227#52526227", "title": "Check multiple `keys` in Python dictionary", "body": "<p>If I understand correctly, the following function should satisfy your specs.</p>\n\n<pre><code>&gt;&gt;&gt; def get_first(dict_, keys,  default):\n...     for k in keys:\n...         try:\n...             return dict_[k]\n...         except KeyError:\n...             pass\n...     return default\n... \n&gt;&gt;&gt; get_first(d, [-1, 0, 3, 6], 'default')\n4\n&gt;&gt;&gt; get_first(d, [-1, 0], 'default')\n'default'\n</code></pre>\n\n<p>For fun, a recursive variant...</p>\n\n<pre><code>&gt;&gt;&gt; def get_first(dict_, keys, default):\n...     keys = iter(keys)\n...     try:\n...         k = next(keys)\n...     except StopIteration:\n...         return default\n...     return dict_.get(k, get_first(dict_, keys, default))\n\n&gt;&gt;&gt; d = {1:2, 3:4, 5:6}\n&gt;&gt;&gt; get_first(d, [-1, 0, 3, 6], 'default')\n4\n&gt;&gt;&gt; get_first(d, [-1, 0], 'default')\n'default'\n</code></pre>\n\n<p>Alternatively, we can do it shorter via calling <code>next</code> on a genexp. Hashes the existing key twice, though.</p>\n\n<pre><code>&gt;&gt;&gt; next((d[k] for k in [-1, 0, 3, 6] if k in d), 'default')\n4\n&gt;&gt;&gt; next((d[k] for k in [-1, 0] if k in d), 'default')\n'default'\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 8039081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fsbwe.jpg?s=128&g=1", "display_name": "devashish-patel", "link": "https://stackoverflow.com/users/8039081/devashish-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538034704, "creation_date": 1537996430, "last_edit_date": 1537997227, "question_id": 52526103, "link": "https://stackoverflow.com/questions/52526103/check-multiple-keys-in-python-dictionary", "title": "Check multiple `keys` in Python dictionary", "body": "<p><code>my_dict = {'a': 'Devashish'}</code></p>\n\n<p>For example, if I do like: <code>my_dict.get('A', None)  #None</code></p>\n\n<p>How to do like: <code>my_dict.get('A', 'a', None)  #'Devashish'</code></p>\n\n<p>Basically, what I'm trying to achieve is check from <code>1st</code> condition to <code>n-1</code> and return the result when Key is matching otherwise return the last value.</p>\n"}, {"tags": ["python", "r", "reticulate"], "comments": [{"owner": {"reputation": 1630, "user_id": 7654872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5e44463183ba050bdf1d1efbf69c3a?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/7654872/brian"}, "edited": false, "score": 0, "creation_date": 1537997523, "post_id": 52526092, "comment_id": 91992409, "body": "Try: python_run_string(&quot;x = 5&quot;); source_python(&quot;test.py&quot;); Unfortunately, source_python can only set variables to your R session. It does not read variables unless they are from python code that has been evaluated."}], "answers": [{"comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1538076492, "post_id": 52542230, "comment_id": 92027561, "body": "As exactly what the <a href=\"https://rstudio.github.io/reticulate/\" rel=\"nofollow noreferrer\">docs</a> show."}], "tags": [], "owner": {"reputation": 1105, "user_id": 3735161, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YA6GS.jpg?s=128&g=1", "display_name": "Jacqueline Nolis", "link": "https://stackoverflow.com/users/3735161/jacqueline-nolis"}, "is_accepted": false, "score": 1, "last_activity_date": 1538069216, "creation_date": 1538069216, "answer_id": 52542230, "question_id": 52526092, "link": "https://stackoverflow.com/questions/52526092/passing-r-variables-to-a-python-script-with-reticulate/52542230#52542230", "title": "Passing R variables to a python script with reticulate", "body": "<p>The solution I came up with was to just create a function. So if before my python code was </p>\n\n<pre><code>z = x + 3\n</code></pre>\n\n<p>My new python code would be:</p>\n\n<pre><code>def add_three(x):\n    z = x + 3\n    return z\n</code></pre>\n\n<p>and then I can, in R run:</p>\n\n<pre><code>x &lt;- 5\nsource_python(\"test.py\")\ny &lt;- add_three(x)\n</code></pre>\n\n<p>and get y as 6.</p>\n"}], "owner": {"reputation": 1105, "user_id": 3735161, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YA6GS.jpg?s=128&g=1", "display_name": "Jacqueline Nolis", "link": "https://stackoverflow.com/users/3735161/jacqueline-nolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1875, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538069216, "creation_date": 1537996339, "question_id": 52526092, "link": "https://stackoverflow.com/questions/52526092/passing-r-variables-to-a-python-script-with-reticulate", "title": "Passing R variables to a python script with reticulate", "body": "<p>I have a python script that I want to run from within R using the reticulate package. I want to assign some variables in R first, and then pass them to the script. Unfortunately when I run the script, I am surprised to see that python can't recognize the variables. What am I missing here? Thanks</p>\n\n<p>Python script (<code>test.py</code>):</p>\n\n<pre><code>print(x)\n</code></pre>\n\n<p>R code:</p>\n\n<pre><code>library(reticulate)\nx &lt;- 5\nsource_python(test.py)\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>Error in py_run_file_impl(file, local, convert) : \n  NameError: name 'x' is not defined\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 1, "creation_date": 1537996243, "post_id": 52526046, "comment_id": 91991972, "body": "Very related: <a href=\"https://stackoverflow.com/questions/36117583/pythonic-way-to-avoid-if-x-return-x-statements\" title=\"pythonic way to avoid if x return x statements\">stackoverflow.com/questions/36117583/&hellip;</a>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1537996950, "post_id": 52526046, "comment_id": 91992198, "body": "You could use the value returned from <code>index()</code> to get the variable name by also creating a parallel list of them i.e. <code>var_names = list(&#39;abcdef&#39;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 640, "user_id": 6276648, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b25cb699a7c284fbb26067e4620799a?s=128&d=identicon&r=PG", "display_name": "JonLuca", "link": "https://stackoverflow.com/users/6276648/jonluca"}, "edited": false, "score": 0, "creation_date": 1537996513, "post_id": 52526102, "comment_id": 91992046, "body": "I think this&#39;ll have to be the way to do it. Thanks!"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1537996430, "creation_date": 1537996430, "answer_id": 52526102, "question_id": 52526046, "link": "https://stackoverflow.com/questions/52526046/elegant-way-to-check-if-any-of-long-list-of-variables-is-not-none-and-return-th/52526102#52526102", "title": "Elegant way to check if any of long list of variables is not None, and return the one that isn&#39;t?", "body": "<p>Perform the check when you're retrieving the environment variables in the first place:</p>\n\n<pre><code>def needenv(name):\n    val = os.environ.get(name)\n    if val is None:\n        sys.exit('{} is required.'.format(name))\n    return val\n\na = needenv('a')\nb = needenv('b')\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 10394826, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jud_HCdH2gQ/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUb2AQfEWUqott28yoybYkQPkMTsQ/mo/photo.jpg?sz=128", "display_name": "Andy", "link": "https://stackoverflow.com/users/10394826/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1537996907, "creation_date": 1537996907, "answer_id": 52526190, "question_id": 52526046, "link": "https://stackoverflow.com/questions/52526046/elegant-way-to-check-if-any-of-long-list-of-variables-is-not-none-and-return-th/52526190#52526190", "title": "Elegant way to check if any of long list of variables is not None, and return the one that isn&#39;t?", "body": "<p>You can loop through the env's:</p>\n\n<pre><code>required_vars = ['a', 'b']\nfor name in required_vars:\n    if not name in os.environ:\n        sys.exit('{} is required.'.format(name))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1255, "user_id": 10171499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b67a89a52487d28fa41cf5b95fa21eb?s=128&d=identicon&r=PG&f=1", "display_name": "T Burgis", "link": "https://stackoverflow.com/users/10171499/t-burgis"}, "is_accepted": false, "score": 0, "last_activity_date": 1538000048, "last_edit_date": 1538000048, "creation_date": 1537999212, "answer_id": 52526585, "question_id": 52526046, "link": "https://stackoverflow.com/questions/52526046/elegant-way-to-check-if-any-of-long-list-of-variables-is-not-none-and-return-th/52526585#52526585", "title": "Elegant way to check if any of long list of variables is not None, and return the one that isn&#39;t?", "body": "<p>I would read them into a dictionary, you can then use all() to check everything is fine and can also report what is missing (it might be more than one of them).</p>\n\n<pre><code>env_dict[\u2018a\u2019] = os.environ.get(\u2018a\u2019) # etc.\n\nif not all(v for k,v in env_dict.items()):\n    missing = [k for k,v in env_dict.items() if v is None]\n</code></pre>\n"}], "owner": {"reputation": 640, "user_id": 6276648, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b25cb699a7c284fbb26067e4620799a?s=128&d=identicon&r=PG", "display_name": "JonLuca", "link": "https://stackoverflow.com/users/6276648/jonluca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 52526102, "answer_count": 3, "score": 1, "last_activity_date": 1538000048, "creation_date": 1537996106, "last_edit_date": 1537997145, "question_id": 52526046, "link": "https://stackoverflow.com/questions/52526046/elegant-way-to-check-if-any-of-long-list-of-variables-is-not-none-and-return-th", "title": "Elegant way to check if any of long list of variables is not None, and return the one that isn&#39;t?", "body": "<p>I have 8 variables being loaded in from environment variables. If any of these are none, I'd like to bail and <code>sys.exit</code> - but I'd also like to alert the user to which variable was missing.</p>\n\n<p>There are a few ways of doing this. Assume the <code>a = os.environ.get('a')</code> code is prewritten, through <code>h</code></p>\n\n<p>The most verbose way that works is:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>if a is None:\n    print(\"A is required\")\n    sys.exit(1)\nif b is None:\n    print(\"B is required\")\n    sys.exit(1)\nif c is None:\n    print(\"C is required\")\n    sys.exit(1)\n...\nso on until the check for h\n</code></pre>\n\n<p>The cleanest way is:</p>\n\n<pre><code>if not any([a,b,c,d,e,f,g,h]):\n    print(\"? is required\")\n    sys.exit(1)\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>if None in [a,b,c,d,e,f,g,h]:\n    print(\"? is required\")\n    sys.exit(1)\n</code></pre>\n\n<p>Is it possible to actually get the variable name from one of the more python checks (the latter two) and print it out to the user? </p>\n\n<p>I could get the <em>index</em> of the variable by doing <code>[a,b,c,d,e,f,g,h].index(None)</code> but I'm not sure how to go from the index to the variable name. </p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5", "qmenu"], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 3340758, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e307c27bd3f5c921504d0e92a1cc3c5a?s=128&d=identicon&r=PG&f=1", "display_name": "artomason", "link": "https://stackoverflow.com/users/3340758/artomason"}, "edited": false, "score": 0, "creation_date": 1537998285, "post_id": 52526120, "comment_id": 91992657, "body": "I think the first option should work good. I tried using `.setData(&#39;Option #1&#39;)&#39; initially, but all it would do is return false in the method; I couldn&#39;t get anything to work."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 2415, "user_id": 3340758, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e307c27bd3f5c921504d0e92a1cc3c5a?s=128&d=identicon&r=PG&f=1", "display_name": "artomason", "link": "https://stackoverflow.com/users/3340758/artomason"}, "edited": false, "score": 0, "creation_date": 1537999691, "post_id": 52526120, "comment_id": 91993072, "body": "@AaronTomason where did you do setData() ?, if my answer helped you do not forget to mark it as correct"}, {"owner": {"reputation": 2415, "user_id": 3340758, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e307c27bd3f5c921504d0e92a1cc3c5a?s=128&d=identicon&r=PG&f=1", "display_name": "artomason", "link": "https://stackoverflow.com/users/3340758/artomason"}, "edited": false, "score": 0, "creation_date": 1538000357, "post_id": 52526120, "comment_id": 91993276, "body": "I set one of the menu actions as <code>self.option1 = QAction1(&#39;Option #1&#39;, self)</code> then <code>self.option1.setData(QVariant(&#39;option1&#39;))</code> and connected it using <code>self.option1.triggered.connect(self.actionClicked)</code>. When I tried to print action, it was only a <code>False</code> value."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 2415, "user_id": 3340758, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e307c27bd3f5c921504d0e92a1cc3c5a?s=128&d=identicon&r=PG&f=1", "display_name": "artomason", "link": "https://stackoverflow.com/users/3340758/artomason"}, "edited": false, "score": 0, "creation_date": 1538000458, "post_id": 52526120, "comment_id": 91993301, "body": "@AaronTomason I understand how you used, but since you get <code>False</code>, that is, you had to do something like <code>print(xxx)</code>, what is <code>xxx</code>?"}, {"owner": {"reputation": 2415, "user_id": 3340758, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e307c27bd3f5c921504d0e92a1cc3c5a?s=128&d=identicon&r=PG&f=1", "display_name": "artomason", "link": "https://stackoverflow.com/users/3340758/artomason"}, "edited": false, "score": 0, "creation_date": 1538000615, "post_id": 52526120, "comment_id": 91993343, "body": "I tried <code>print(action)</code>. When I attempted to use <code>print(action.text())</code> or <code>print(action.data())</code> python said there was no xxx for Boolean object."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 2415, "user_id": 3340758, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e307c27bd3f5c921504d0e92a1cc3c5a?s=128&d=identicon&r=PG&f=1", "display_name": "artomason", "link": "https://stackoverflow.com/users/3340758/artomason"}, "edited": false, "score": 0, "creation_date": 1538000730, "post_id": 52526120, "comment_id": 91993371, "body": "@AaronTomason where does the code use <code>print(action.data())</code>?, on the other hand do not use QVariant, save it directly: <code>self.option1.setData(&#39;option1&#39;)</code>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 2415, "user_id": 3340758, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e307c27bd3f5c921504d0e92a1cc3c5a?s=128&d=identicon&r=PG&f=1", "display_name": "artomason", "link": "https://stackoverflow.com/users/3340758/artomason"}, "edited": false, "score": 0, "creation_date": 1538000811, "post_id": 52526120, "comment_id": 91993392, "body": "@AaronTomason You could edit your question and put a complete example of what you point out, I think you have used an inappropriate method, or you have used it in the wrong place, but if I do not see the complete code I will not understand you."}, {"owner": {"reputation": 2415, "user_id": 3340758, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e307c27bd3f5c921504d0e92a1cc3c5a?s=128&d=identicon&r=PG&f=1", "display_name": "artomason", "link": "https://stackoverflow.com/users/3340758/artomason"}, "edited": false, "score": 0, "creation_date": 1538001724, "post_id": 52526120, "comment_id": 91993607, "body": "Edited to reflect this conversation and provide a clearer intention."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 3, "last_activity_date": 1538002512, "last_edit_date": 1538002512, "creation_date": 1537996546, "answer_id": 52526120, "question_id": 52526040, "link": "https://stackoverflow.com/questions/52526040/how-to-get-the-name-of-a-qmenu-item-when-clicked/52526120#52526120", "title": "How to get the name of a QMenu Item when clicked?", "body": "<p>A possible solution is to use the <code>sender()</code> method that returns the <code>QObject</code> that emits the signal, in this case the <code>QAction</code>:</p>\n\n<pre><code>import sys\nfrom PyQt5 import QtCore, QtWidgets\n\n\nclass Window(QtWidgets.QWidget):\n    def __init__(self):\n        super(Window, self).__init__()\n\n        layout = QtWidgets.QGridLayout(self)\n        menubar = QtWidgets.QMenuBar()\n        filemenu = menubar.addMenu('MENU')\n\n        filemenu.addAction('Option #1', self.actionClicked)\n        filemenu.addAction('Option #2', self.actionClicked)\n        layout.addWidget(menubar)\n\n    @QtCore.pyqtSlot()\n    def actionClicked(self):\n        action = self.sender()\n        print('Action: ', action.text())\n\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    window = Window()\n    window.setGeometry(600, 100, 300, 100)\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>If you are going to connect all the <code>QAction</code>s of the <code>QMenu</code> then you can use the <code>triggered</code> signal of the <code>QMenu</code>, this sends the <code>QAction</code> that was pressed.</p>\n\n<pre><code>import sys\nfrom PyQt5 import QtCore, QtWidgets\n\n\nclass Window(QtWidgets.QWidget):\n    def __init__(self):\n        super(Window, self).__init__()\n\n        layout = QtWidgets.QGridLayout(self)\n        menubar = QtWidgets.QMenuBar()\n        filemenu = menubar.addMenu('MENU')\n        filemenu.triggered.connect(self.actionClicked)\n        filemenu.addAction('Option #1')\n        filemenu.addAction('Option #2')\n        layout.addWidget(menubar)\n\n    @QtCore.pyqtSlot(QtWidgets.QAction)\n    def actionClicked(self, action):\n        print('Action: ', action.text())\n\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    window = Window()\n    window.setGeometry(600, 100, 300, 100)\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Update:</p>\n\n<p>The <code>QAction</code> <code>triggered</code> signal is different from the <code>QMenu</code> <code>triggered</code> signal, in the case of the first one it sends a Boolean value that indicates if the <code>QAction</code> is checked (by default a <code>QAction</code> is not checkable, if you want to activate it you must use <code>setCheckable(True)</code>) and in the second case it sends the <code>QAction</code> that was pressed that belongs to the <code>QMenu</code>. That's why you always get False, if you do not want to have that problem you have to use my first method using <code>sender()</code>. On the other hand in Qt very rarely you will have to use try-except, in reality you should never use it in the world of Qt since that has an additional cost that Qt does not want, and on the other hand it hides the cause of the errors , as a recommendation use try-except when there is no other solution, and in the case of Qt there will almost always be another option.</p>\n\n<pre><code>import sys\nfrom PyQt5.QtWidgets import *\n\n\nclass Window(QWidget):\n    def __init__(self):\n        super(Window, self).__init__()\n        layout = QGridLayout(self)\n        self.menu_bar = QMenuBar()\n        self.menu = QMenu('MENU', self)\n\n        self.menu_action = QAction('Option #1', self)\n        self.menu_action.setData('option1')\n        self.menu_action.triggered.connect(self.actionClicked)\n\n        self.menu.addAction(self.menu_action)\n        self.menu_bar.addMenu(self.menu)\n        layout.addWidget(self.menu_bar)\n\n    def actionClicked(self, checked):\n        action = self.sender()\n        print(action.text())\n        print(action.data())\n\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    window = Window()\n    window.setGeometry(600, 100, 300, 100)\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 3340758, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e307c27bd3f5c921504d0e92a1cc3c5a?s=128&d=identicon&r=PG&f=1", "display_name": "artomason", "link": "https://stackoverflow.com/users/3340758/artomason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5337, "favorite_count": 1, "accepted_answer_id": 52526120, "answer_count": 1, "score": 2, "last_activity_date": 1538002512, "creation_date": 1537996081, "last_edit_date": 1538001684, "question_id": 52526040, "link": "https://stackoverflow.com/questions/52526040/how-to-get-the-name-of-a-qmenu-item-when-clicked", "title": "How to get the name of a QMenu Item when clicked?", "body": "<p>I have a few actions in a <code>QMenu</code> that I'm trying to connect to a single method; there are additional actions that are unrelated. </p>\n\n<pre><code>import sys\nfrom PyQt5.QtWidgets import *\n\n\nclass Window(QWidget):\n    def __init__(self):\n        super(Window, self).__init__()\n\n        layout = QGridLayout(self)\n        self.menu_bar = QMenuBar()\n        self.menu = QMenu('MENU', self)\n\n        self.menu_action = QAction('Option #1', self)\n        self.menu_action.setData('option1')\n        self.menu_action.triggered.connect(self.actionClicked)\n\n        self.menu.addAction(self.menu_action)\n        self.menu_bar.addMenu(self.menu)\n        layout.addWidget(self.menu_bar)\n\n    def actionClicked(self, action):\n        print(action)\n\n        try:\n            print(action.text())\n        except AttributeError as e:\n            print(e)\n\n        try:\n            print(action.data())\n        except AttributeError as e:\n            print(e)\n\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    window = Window()\n    window.setGeometry(600, 100, 300, 100)\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>I was wondering how I can tell which of the actions was clicked when the method is called. Currently I'm trying to use <code>self.menu_action.setData()</code> to give the action a cleaner name for the receiving method, but that does not seem to be working properly.</p>\n"}, {"tags": ["python", "python-3.x", "neural-network", "keras", "keras-layer"], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 8389470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23501cee09c215219dabed30c7389aeb?s=128&d=identicon&r=PG", "display_name": "Eran", "link": "https://stackoverflow.com/users/8389470/eran"}, "edited": false, "score": 0, "creation_date": 1538027597, "post_id": 52526754, "comment_id": 91999758, "body": "So for example if I have 9 False and 1 True and weights are {0:1, 1:9}, I get mean=(9x1 +1x9)/10=1.8. How exactly is it used for scoring?"}, {"owner": {"reputation": 143, "user_id": 9259481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de85de23ee37cbb5cf48eb0462cc1d5d?s=128&d=identicon&r=PG&f=1", "display_name": "user1589759", "link": "https://stackoverflow.com/users/9259481/user1589759"}, "reply_to_user": {"reputation": 427, "user_id": 8389470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23501cee09c215219dabed30c7389aeb?s=128&d=identicon&r=PG", "display_name": "Eran", "link": "https://stackoverflow.com/users/8389470/eran"}, "edited": false, "score": 0, "creation_date": 1538030882, "post_id": 52526754, "comment_id": 92001340, "body": "Taking your example, with class weights of {0:1, 1:9}. Let my batch of training consist of labels[ 0,0,1,1,0], with losses [a,b,c,d,e], So the losses after the weights for that batch would be [a,b,9c, 9d, e]. There is no mean used!!!"}, {"owner": {"reputation": 143, "user_id": 9259481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de85de23ee37cbb5cf48eb0462cc1d5d?s=128&d=identicon&r=PG&f=1", "display_name": "user1589759", "link": "https://stackoverflow.com/users/9259481/user1589759"}, "reply_to_user": {"reputation": 427, "user_id": 8389470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23501cee09c215219dabed30c7389aeb?s=128&d=identicon&r=PG", "display_name": "Eran", "link": "https://stackoverflow.com/users/8389470/eran"}, "edited": false, "score": 0, "creation_date": 1538031929, "post_id": 52526754, "comment_id": 92001861, "body": "Ok, I see why you asked about the mean, I had mentioned it in the answer, well that is because if you had class weights set as 0, it would compensate the loss accordingly, ex if weights are {0:1, 1:9, 2:0}, with labels [ 0,0,1,1,2], and losses [a,b,c,d,e] the final loss would be [1.25a, 1.25b,  11.5c, 11.5d, 0]"}, {"owner": {"reputation": 427, "user_id": 8389470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23501cee09c215219dabed30c7389aeb?s=128&d=identicon&r=PG", "display_name": "Eran", "link": "https://stackoverflow.com/users/8389470/eran"}, "edited": false, "score": 0, "creation_date": 1538081471, "post_id": 52526754, "comment_id": 92029777, "body": "Is it fair to say that what they do de facto is multiply the confusion matrix by the weights? (so in my example every FP of class 1 is actually 9 FPs etc.)"}, {"owner": {"reputation": 143, "user_id": 9259481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de85de23ee37cbb5cf48eb0462cc1d5d?s=128&d=identicon&r=PG&f=1", "display_name": "user1589759", "link": "https://stackoverflow.com/users/9259481/user1589759"}, "reply_to_user": {"reputation": 427, "user_id": 8389470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23501cee09c215219dabed30c7389aeb?s=128&d=identicon&r=PG", "display_name": "Eran", "link": "https://stackoverflow.com/users/8389470/eran"}, "edited": false, "score": 0, "creation_date": 1538119295, "post_id": 52526754, "comment_id": 92039433, "body": "Kind of yes, But it is the loss which is multiplied i.e for a simple loss, where <code>loss =  actual - predicted </code> and with your example if two samples had predicted 0.3 for both class 0, 1 then the final loss would be <code>0.7</code> for class 0 and <code>-2.7</code> for class 1"}], "tags": [], "owner": {"reputation": 143, "user_id": 9259481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de85de23ee37cbb5cf48eb0462cc1d5d?s=128&d=identicon&r=PG&f=1", "display_name": "user1589759", "link": "https://stackoverflow.com/users/9259481/user1589759"}, "is_accepted": true, "score": 1, "last_activity_date": 1538000259, "creation_date": 1538000259, "answer_id": 52526754, "question_id": 52526028, "link": "https://stackoverflow.com/questions/52526028/keras-class-weight-for-generators/52526754#52526754", "title": "Keras class_weight for generators", "body": "<p>For your first question, it is considered the same way as during training.</p>\n\n<p>Basically if you look at the function <a href=\"https://github.com/keras-team/keras/blob/621ec292c2609b82fd3f992b5a66f3d6611a4477/keras/engine/training_utils.py#L415\" rel=\"nofollow noreferrer\">weighted_masked_objective</a>, individual samples are multiplied with the weights, and the mean is returned back.(Note: Keras does not automatically set the class weights, you need to pass the weights at <code>model.fit()</code> or <code>model.fit_generator()</code></p>\n\n<p>Class weights can be computed by the inverse proportion to frequency. Using <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.utils.class_weight.compute_class_weight.html\" rel=\"nofollow noreferrer\">sklearn</a></p>\n\n<p><code>fit_generator</code> is identical to <code>fit</code>, except for the fact it takes a generator as input.</p>\n"}], "owner": {"reputation": 427, "user_id": 8389470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23501cee09c215219dabed30c7389aeb?s=128&d=identicon&r=PG", "display_name": "Eran", "link": "https://stackoverflow.com/users/8389470/eran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "accepted_answer_id": 52526754, "answer_count": 1, "score": 1, "last_activity_date": 1538000259, "creation_date": 1537996015, "question_id": 52526028, "link": "https://stackoverflow.com/questions/52526028/keras-class-weight-for-generators", "title": "Keras class_weight for generators", "body": "<p>This is a continuation of a question:\n<a href=\"https://datascience.stackexchange.com/questions/22814/class-weighting-during-validation-in-keras\">https://datascience.stackexchange.com/questions/22814/class-weighting-during-validation-in-keras</a></p>\n\n<p><em>class_weight</em> can be used in Keras <em>fit</em> function to tell the optimizer to weight the under represented class. According to the answer in stackexchange it is also considered during validation. For example, if my class ratio is 10 negatives for every 1 positive then an accuracy score of 0.8 is not so good (a fixed classifier on negatives will do better). I have two questions:</p>\n\n<ul>\n<li>How exactly class_weight is being considered during validation?</li>\n<li>How can I use class_weight in <em>fit_generator</em>? is it the same parameter as in <em>fit</em>?</li>\n</ul>\n"}, {"tags": ["python", "python-3.7"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1537996682, "post_id": 52526026, "comment_id": 91992101, "body": "To clarify, when you say &quot;display as many times as itself&quot; should imputs 5, 6 print 30 to the console window 30 times?"}, {"owner": {"reputation": 1, "user_id": 10419100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2360c72051484a79ff39a4e947a09609?s=128&d=identicon&r=PG&f=1", "display_name": "Postabeans", "link": "https://stackoverflow.com/users/10419100/postabeans"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1538000174, "post_id": 52526026, "comment_id": 91993224, "body": "yeah, basically."}], "answers": [{"comments": [{"owner": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "edited": false, "score": 0, "creation_date": 1537997105, "post_id": 52526088, "comment_id": 91992261, "body": "Although this is completely viable, the recursion  limit is always a small caveat (depending on the expected number of uses, of course)."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1537997549, "post_id": 52526088, "comment_id": 91992416, "body": "Recursion is <i>not</i> a good choice when your functionality is actually a <code>while</code> concept."}, {"owner": {"reputation": 1892, "user_id": 10067043, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155990840858271/picture?type=large", "display_name": "Ricky Kim", "link": "https://stackoverflow.com/users/10067043/ricky-kim"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1537998730, "post_id": 52526088, "comment_id": 91992790, "body": "@Prune you&#39;re right. Got rid of the <code>while</code> in my edit."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1537998829, "post_id": 52526088, "comment_id": 91992817, "body": "You&#39;re still using recursion to run a <code>while</code>-type idea.  There&#39;s no advantage to pushing the call stack deeper on this, and maintaining data from previous calls."}], "tags": [], "owner": {"reputation": 1892, "user_id": 10067043, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155990840858271/picture?type=large", "display_name": "Ricky Kim", "link": "https://stackoverflow.com/users/10067043/ricky-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1537998692, "last_edit_date": 1537998692, "creation_date": 1537996316, "answer_id": 52526088, "question_id": 52526026, "link": "https://stackoverflow.com/questions/52526026/how-do-i-prompt-users-to-exit-and-restart-program-if-they-say-no/52526088#52526088", "title": "How do I prompt users to exit and restart program if they say no", "body": "<p>You can make it as a recursive function and do a loop when the user answers No.</p>\n\n<p>For example:</p>\n\n<pre><code>def ask():\n    print(\"Hello, this program will ask for two numbers, then show the product of those numbers that many times\")\n\n    value = input(\"Please enter number\")\n\n    value = int(value)\n\n    value2 = input(\"Please enter a second number\")\n\n    value2 = int(value2)\n\n    for i in range(value * value2):\n        print(value * value2)\n    answer = input(\"Do you wih to exit? Enter Yes or No:\")\n    if answer not in ('No', 'Yes'):\n        print(\"Invalid input.\")\n    if answer == 'No':\n        ask()\n    else:\n        print(\"Goodbye\")\nask()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1537996942, "creation_date": 1537996942, "answer_id": 52526197, "question_id": 52526026, "link": "https://stackoverflow.com/questions/52526026/how-do-i-prompt-users-to-exit-and-restart-program-if-they-say-no/52526197#52526197", "title": "How do I prompt users to exit and restart program if they say no", "body": "<p>Based on the answer as written, but without writing a function:\nThe key here is that you need to loop until the user inputs 'yes'. Your <code>while</code> loop will never be false, so you'll prompt forever. Here's another solution (though @Ricky Kim has a much more pythonic answer)</p>\n\n<pre><code>answer=\"\"\nwhile answer!= \"yes\":\n    print(\"Hello, this program will ask for two numbers, then show the product \\\n    of those numbers that many times\")\n\n    value = input(\"Please enter number\")\n\n    value = int(value)\n\n    value2 = input(\"Please enter a second number\")\n\n    value2 = int(value2)\n\n    for i in range(value*value2):\n        print(value*value2)\n    #use lower so that the user can enter \"Yes\" or \"yes\"\n    answer = str.lower(input(\"Do you wih to exit? Enter Yes or No:\"))\nprint (\"Goodbye\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10419100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2360c72051484a79ff39a4e947a09609?s=128&d=identicon&r=PG&f=1", "display_name": "Postabeans", "link": "https://stackoverflow.com/users/10419100/postabeans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 569, "favorite_count": 0, "closed_date": 1537997579, "answer_count": 2, "score": -1, "last_activity_date": 1537998692, "creation_date": 1537995995, "question_id": 52526026, "link": "https://stackoverflow.com/questions/52526026/how-do-i-prompt-users-to-exit-and-restart-program-if-they-say-no", "closed_reason": "Duplicate", "title": "How do I prompt users to exit and restart program if they say no", "body": "<p>Could someone please help on how to prompt users to exit, and if they say no, to go  back and rerun the program? I'm having an absolute head ache with it and the internet hasn't helped.</p>\n\n<p>This is my code:</p>\n\n<pre><code>print(\"Hello, this program will ask for two numbers, then show the product \nof those numbers that many times\")\n\nvalue = input(\"Please enter number\")\n\nvalue = int(value)\n\nvalue2 = input(\"Please enter a second number\")\n\nvalue2 = int(value2)\n\nfor i in range(value*value2):\n    print(value*value2)\n\n    while True:\n        answer = input(\"Do you wih to exit? Enter Yes or No:\")\n        if answer in ('No', 'Yes'):\n            break\n        print (\"Invalid input.\")\n    if answer == 'No':\n        continue\n    else:\n        print (\"Goodbye\")\n        break\n</code></pre>\n\n<p>It's just multiplication then displaying the sum as many times as itself, but I can't figure out how to prompt users to exit, then run through the program again if they say no. I've heard of putting the entire code in a loop, and I've tried, to no avail. Could I please get some help?  </p>\n"}, {"tags": ["python", "python-3.x", "multithreading", "user-interface", "wxpython"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1538037321, "post_id": 52526022, "comment_id": 92004759, "body": "Read about <a href=\"https://docs.python.org/3/library/threading.html#condition-objects\" rel=\"nofollow noreferrer\">threading.html#condition-objects</a>"}, {"owner": {"reputation": 123, "user_id": 9545640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55FzV.png?s=128&g=1", "display_name": "NeverEndingCycle", "link": "https://stackoverflow.com/users/9545640/neverendingcycle"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1538449420, "post_id": 52526022, "comment_id": 92137216, "body": "I have read quite a bit of that but don&#39;t see a solution to my problem."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1538462250, "post_id": 52526022, "comment_id": 92140321, "body": "I&#39;m misleaded from your Question Title - &quot;... done working and restart ...&quot; -, your Threads are simple <b>one Task Threads</b>. Thread conditions are for: <b>One Thread is waiting for the Result of another</b>."}, {"owner": {"reputation": 123, "user_id": 9545640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55FzV.png?s=128&g=1", "display_name": "NeverEndingCycle", "link": "https://stackoverflow.com/users/9545640/neverendingcycle"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1538787728, "post_id": 52526022, "comment_id": 92279134, "body": "I was able to fix it with Rolf of Saxony&#39;s answer. He was not, &#39;misleaded&#39;, as you would put it, so I am not sure what you mean. Just because it was so simple does not mean I knew the answer. Show some consideration for people who are newer to code could ya?"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 9545640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55FzV.png?s=128&g=1", "display_name": "NeverEndingCycle", "link": "https://stackoverflow.com/users/9545640/neverendingcycle"}, "edited": false, "score": 0, "creation_date": 1538268209, "post_id": 52551870, "comment_id": 92083587, "body": "This solution worked for my start app button but not my download button. So with your solution I can click the start app button and I can repeatedly click it, but after I click the download button the app is basically useless. Even the stop button you added stopped working after I clicked the download button.  P.S. This worked fie with your example but once I add my code its breaks."}, {"owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "reply_to_user": {"reputation": 123, "user_id": 9545640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55FzV.png?s=128&g=1", "display_name": "NeverEndingCycle", "link": "https://stackoverflow.com/users/9545640/neverendingcycle"}, "edited": false, "score": 0, "creation_date": 1538295883, "post_id": 52551870, "comment_id": 92087497, "body": "&quot;This worked fine with your example&quot; - I don&#39;t know what your code is doing!"}, {"owner": {"reputation": 123, "user_id": 9545640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55FzV.png?s=128&g=1", "display_name": "NeverEndingCycle", "link": "https://stackoverflow.com/users/9545640/neverendingcycle"}, "edited": false, "score": 0, "creation_date": 1538340845, "post_id": 52551870, "comment_id": 92099193, "body": "My code is too long to put in the comments so I will update my question with the code I am using currently."}, {"owner": {"reputation": 123, "user_id": 9545640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55FzV.png?s=128&g=1", "display_name": "NeverEndingCycle", "link": "https://stackoverflow.com/users/9545640/neverendingcycle"}, "edited": false, "score": 0, "creation_date": 1538342028, "post_id": 52551870, "comment_id": 92099469, "body": "Some of the code wont work right for you because you are downloading a different file. I can&#39;t let you download the file I am using because it is a private alpha that I am not allowed to share. (and I can&#39;t put URL&#39;s on the website anyway.) Feel free to delete unnecessary things but I can&#39;t guarantee the code will work when I add them back."}, {"owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "reply_to_user": {"reputation": 123, "user_id": 9545640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55FzV.png?s=128&g=1", "display_name": "NeverEndingCycle", "link": "https://stackoverflow.com/users/9545640/neverendingcycle"}, "edited": false, "score": 0, "creation_date": 1538383628, "post_id": 52551870, "comment_id": 92109932, "body": "in your thread you are using <code>self.worker = None</code> that should be <code>self._notify_window.worker = None</code>. You will note that I did mention that my code renamed that to <code>self.parent</code> to make things more obvious, as to what is what."}, {"owner": {"reputation": 123, "user_id": 9545640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55FzV.png?s=128&g=1", "display_name": "NeverEndingCycle", "link": "https://stackoverflow.com/users/9545640/neverendingcycle"}, "edited": false, "score": 0, "creation_date": 1538451512, "post_id": 52551870, "comment_id": 92137618, "body": "This seems to have fixed it. Thanks so much!"}], "tags": [], "owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "is_accepted": true, "score": 1, "last_activity_date": 1538125460, "creation_date": 1538125460, "answer_id": 52551870, "question_id": 52526022, "link": "https://stackoverflow.com/questions/52526022/how-do-i-stop-a-thread-when-its-done-working-and-restart-it-when-a-button-is-pre/52551870#52551870", "title": "How do I stop a thread when its done working and restart it when a button is pressed?", "body": "<p>Your issue is caused by the fact that <code>self.worker</code> has a value.<br>\nYou need to reset <code>self.worker</code>.<br>\nBelow I have adjusted your code to do that and in doing so I have renamed <code>notify_window</code> to <code>parent</code>, simply because it makes what is going on more obvious and fits with python standards. I'm sure that there are many others ways of achieving this, this is just a simplistic way of achieving it, in this case.</p>\n\n<pre><code>import requests, os, sys, zipfile, shutil, subprocess, wx, urllib, time\nfrom threading import *\n\nclass DLThread(Thread):\n    \"\"\"Worker Thread Class.\"\"\"\n    def __init__(self, parent):\n        \"\"\"Init Worker Thread Class.\"\"\"\n        Thread.__init__(self)\n        self.parent = parent\n        self.stop_download = 0\n        self.setDaemon(1)\n        self.start()\n\n    def run(self):\n        # This is the code executing in the new thread.\n        '''\n        This is what runs on a separate thread when you click the download button\n        '''\n        x = 0\n        while self.stop_download == 0:\n            time.sleep(0.5)\n            x +=1\n            if x &gt; 20:\n                self.stop_download = 1\n            print (\"Downloading App\", x)\n        print(\"Download finished\")\n        self.parent.worker = None\n\n    def stop(self):\n        self.stop_download = 1\n        print (\"Download Cancelled\")\n\nclass StartAppThread(Thread):\n    \"\"\"Worker Thread Class.\"\"\"\n    def __init__(self, parent):\n        \"\"\"Init Worker Thread Class.\"\"\"\n        Thread.__init__(self)\n        self.parent = parent\n        self.stop_app_thread = 0\n        self.setDaemon(1)\n        self.start()\n\n    def run(self):\n        # This is the code executing in the new thread.\n        '''\n        This is what runs on a separate thread when you click the Start App button.\n        '''\n        x= 0\n        while self.stop_app_thread == 0:\n            print (\"Game in progress\",str(x))\n            time.sleep(0.5)\n            x +=1\n        print (\"Game finished\")\n        self.parent.worker = None\n\n    def stop(self):\n        self.stop_app_thread = 1\n\n# GUI Frame class that spins off the worker thread\nclass MainFrame(wx.Frame):\n    \"\"\"Class MainFrame.\"\"\"\n    #Main Window\n    def __init__(self, parent, id):\n        \"\"\"Create the MainFrame.\"\"\"\n        wx.Frame.__init__(self, parent, id, 'RFMP GUInstaller',\n                          style=wx.DEFAULT_FRAME_STYLE ^ wx.RESIZE_BORDER\n                          ^ wx.MAXIMIZE_BOX)\n        self.SetSize(400, 350)\n        #self.bitmap1 = wx.StaticBitmap(self)\n        self.bitmap1 = wx.Panel(self)\n        self.Centre()\n\n        # Variables\n        myEVT_PROGRESS = wx.NewEventType() # Custom Event Type\n        EVT_PROGRESS = wx.PyEventBinder(myEVT_PROGRESS, 1) # Bind specific events to event handlers\n        ID_START = wx.NewId()# Button definitions\n        EVT_RESULT_ID = wx.NewId()# Define notification event for thread completion\n\n        # Download button\n        DLStart = wx.Button(self.bitmap1, ID_START, 'Download', size=(175,50), pos=(50,260))\n        DLStart.Bind(wx.EVT_BUTTON, self.OnButton_DLStart)\n\n        # App Start button\n        AppStart = wx.Button(self.bitmap1, ID_START, 'Start App', size=(75,50), pos=(50,160))\n        AppStart.Bind(wx.EVT_BUTTON, self.OnButton_AppStart)\n\n        # App Stop button\n        AppStop = wx.Button(self.bitmap1, ID_START, 'Stop', size=(75,50), pos=(150,160))\n        AppStop.Bind(wx.EVT_BUTTON, self.OnButton_AppStop)\n\n        # Progress bar\n        self.gauge = wx.Gauge(self.bitmap1, range = 1000, size = (375, 30), pos=(10,230), style =  wx.GA_HORIZONTAL)\n\n        # And indicate we don't have a worker thread yet\n        self.worker = None\n        self.Bind(EVT_PROGRESS, self.OnResult) # Bind the custom event to a function\n\n    def OnButton_DLStart(self, event):\n        # Trigger the worker thread unless it's already busy\n        if not self.worker:\n            self.worker = DLThread(self)\n\n    def OnButton_AppStart(self, event):\n        if not self.worker:\n            self.worker = StartAppThread(self)\n\n    def OnButton_AppStop(self, event):\n        if self.worker:\n           self.worker.stop()\n        print (\"App Stop command\")\n\n    def OnResult(self, event):\n        \"\"\"Our handler for our custom progress event.\"\"\"\n        status, progress = event.GetValue()\n        self.status.SetLabel(status)\n        if progress:\n            self.gauge.SetValue(progress)\n\nclass MainApp(wx.App):\n    \"\"\"Class Main App.\"\"\"\n    def OnInit(self):\n        \"\"\"Init Main App.\"\"\"\n        self.frame = MainFrame(None, -1)\n        self.frame.Show(True)\n        self.SetTopWindow(self.frame)\n        return True\n\n# Main Loop\nif __name__ == '__main__':\n    app = MainApp(0)\n    app.MainLoop()\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 9545640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55FzV.png?s=128&g=1", "display_name": "NeverEndingCycle", "link": "https://stackoverflow.com/users/9545640/neverendingcycle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 1, "accepted_answer_id": 52551870, "answer_count": 1, "score": 1, "last_activity_date": 1538449380, "creation_date": 1537995982, "last_edit_date": 1538449380, "question_id": 52526022, "link": "https://stackoverflow.com/questions/52526022/how-do-i-stop-a-thread-when-its-done-working-and-restart-it-when-a-button-is-pre", "title": "How do I stop a thread when its done working and restart it when a button is pressed?", "body": "<p>I have an installer I am creating for a game and as of now there are two buttons. One downloads the game, and one starts the game if it detects the executable. I multi-threaded both buttons so that my GUI will not freeze when I click either button. The problem is, if I click one of the buttons, the other will not work until restarting the application. I need some way for the thread to close after its process is completed so that the thread is open for the other button to work.</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code># Import Libraries\nimport requests, os, sys, zipfile, shutil, subprocess, wx, urllib, time\nfrom threading import *\n\n# Define global variables\nurl = \"{ENTER DROPBOX URL HERE}\" # The url to the file we are downloading\nmyEVT_PROGRESS = wx.NewEventType() # Custom Event Type\nEVT_PROGRESS = wx.PyEventBinder(myEVT_PROGRESS, 1) # Bind specific events to event handlers\nID_START = wx.NewId()# Button definitions\nEVT_RESULT_ID = wx.NewId()# Define notification event for thread completion\n\n# Version Check\ndef VersionCheck():\n    try:\n        CurrentVersion = os.listdir(\"./RFMB6_WINDOWS/\")[0] # Checks the version currently downloaded\n        VersionCheck = requests.get('https://pastebin.com/raw/yc30uwAh') # Checks the newest version\n        NewestVersion = VersionCheck.text # Converts VersionCheck to a string\n\n        if CurrentVersion == NewestVersion:\n            message = 'It looks like you have the newest version already.\\n Are you sure you want to download?'\n            wx.MessageBox(message=message, caption='RFMP GUIntaller | Complete!', style=wx.OK | wx.ICON_INFORMATION)\n\n        else:\n            print('\\n\\nThere is an update available, would you like to install it?')\n            pass\n    except:\n        print(\"It looks like you don't have RFMP installed yet. Let me fix that for you.\")\n\n# Downloads new file\ndef Download():\n    urllib.request.urlretrieve(url, 'RFMP.zip')\n\n# Extracts new file\ndef Extract():\n    zip_ref = zipfile.ZipFile(\"RFMP.zip\", 'r')\n    zip_ref.extractall(\"RFMB6_WINDOWS\")\n    zip_ref.close()\n\n# Deletes the .zip file but leave the folder\ndef Clean():\n    os.remove(\"RFMP.zip\")\n\nclass ProgressEvent(wx.PyCommandEvent):\n    \"\"\"Event to signal that a status or progress changed\"\"\"\n    def __init__(self, etype, eid, status=None, progress=None):\n        \"\"\"Creates the event object\"\"\"\n        wx.PyCommandEvent.__init__(self, etype, eid)\n        self._status = status       # field to update label\n        self._progress = progress   # field to update progress bar\n\n    def GetValue(self):\n        \"\"\"Returns the value from the event.\n        @return: the tuple of status and progress\n        \"\"\"\n        return (self._status, self._progress)\n\n# Thread class that executes processing\nclass DLThread(Thread):\n    \"\"\"Worker Thread Class.\"\"\"\n    def __init__(self, notify_window):\n        \"\"\"Init Worker Thread Class.\"\"\"\n        Thread.__init__(self)\n        self._notify_window = notify_window\n        self.start()\n\n    # This is what runs on a separate thread when you click the download button\n    def run(self):\n        # This is the code executing in the new thread.\n        self.sendEvent('Checking for old files...', 00)\n        self.sendEvent('Checking for old files...', 100)\n        time.sleep(.5)\n        if os.path.exists(\"RFMB6_WINDOWS\"):\n            self.sendEvent('Removing old files...', 200)\n            subprocess.check_call(('attrib -R ' + 'RFMB6_WINDOWS' + '\\\\* /S').split())\n            shutil.rmtree('RFMB6_WINDOWS')\n            time.sleep(.3)\n            self.sendEvent('Removed old files.', 300)\n        else:\n            time.sleep(.3)\n            self.sendEvent('No old files found.', 300)\n            time.sleep(.3)\n            pass\n        self.sendEvent('Downloading Package...', 400)\n        Download()\n        self.sendEvent('Downloading complete.', 600)\n        time.sleep(.3)\n        self.sendEvent('Extracting...', 650)\n        Extract()\n        self.sendEvent('Extraction complete.', 900)\n        time.sleep(.3)\n        self.sendEvent('Cleaning up...', 950)\n        Clean()\n        time.sleep(.3)\n        self.sendEvent('Cleaning complete.', 1000)\n        time.sleep(.5)\n        done = (\"Installation the RFMP Private Alpha has been completed!\")\n        wx.MessageBox(message=done, caption='RFMP GUIntaller | Complete!', style=wx.OK | wx.ICON_INFORMATION)\n        self._notify_window.worker = None\n\n    def sendEvent(self, status=None, progress=None):\n        # Send event to main frame, first param (str) is for label, second (int) for the progress bar\n        evt = ProgressEvent(myEVT_PROGRESS, -1, status, progress)\n        wx.PostEvent(self._notify_window, evt)\n\nclass StartAppThread(Thread):\n    \"\"\"Worker Thread Class.\"\"\"\n    def __init__(self, notify_window):\n        \"\"\"Init Worker Thread Class.\"\"\"\n        Thread.__init__(self)\n        self._notify_window = notify_window\n        # This starts the thread running on creation.\n        self.start()\n\n    # This is what runs on a separate thread when you click the download button\n    def run(self):\n        try:\n            subprocess.run('RFMB6_WINDOWS/RFMB6_WINDOWS/RFMB6.exe')\n        except:\n            error = (\"Failed to locate RFMB6.exe. Please don't move any game files after downloading.\")\n            wx.MessageBox(message=error, caption='RFMP GUIntaller | Error!',\n            style=wx.OK | wx.ICON_ERROR)\n        self._notify_window.worker = None\n\n# GUI Frame class that spins off the worker thread\nclass MainFrame(wx.Frame):\n    \"\"\"Class MainFrame.\"\"\"    \n\n    def __init__(self, parent, id):\n        \"\"\"Create the MainFrame.\"\"\"\n        wx.Frame.__init__(self, parent, id, 'RFMP GUInstaller', \n                          style=wx.DEFAULT_FRAME_STYLE ^ wx.RESIZE_BORDER\n                          ^ wx.MAXIMIZE_BOX)\n        self.SetSize(400, 350)\n        self.Centre()\n\n        DLStart = wx.Button(self.bitmap1, ID_START, 'Download RFMP', size=(175,50), pos=(50,260))\n        DLStart.Bind(wx.EVT_BUTTON, self.OnButton_DLStart)\n        AppStart = wx.Button(self.bitmap1, ID_START, 'Start RFMP', size=(175,50), pos=(50,160))\n        AppStart.Bind(wx.EVT_BUTTON, self.OnButton_AppStart)\n        self.status = wx.StaticText(self.bitmap1, -1, '', pos=(10,215), style=wx.NO_BORDER)\n        self.status.SetBackgroundColour((255,255,0)) # set text back color\n        self.gauge = wx.Gauge(self.bitmap1, range = 1000, size = (375, 30), pos=(10,230),\n                              style =  wx.GA_HORIZONTAL)\n\n        # And indicate we don't have a worker thread yet\n        self.worker = None\n        self.Bind(EVT_PROGRESS, self.OnResult) # Bind the custom event to a function\n\n    def OnButton_DLStart(self, event):\n        # Trigger the worker thread unless it's already busy\n        VersionCheck()\n        if not self.worker:\n            self.worker = DLThread(self)\n\n    def OnButton_AppStart(self, event):\n        if not self.worker:\n            self.worker = StartAppThread(self)\n\n    def OnResult(self, event):\n        \"\"\"Our handler for our custom progress event.\"\"\"\n        status, progress = event.GetValue()\n        self.status.SetLabel(status)\n        if progress:\n            self.gauge.SetValue(progress)\n\nclass MainApp(wx.App):\n    \"\"\"Class Main App.\"\"\"\n    def OnInit(self):\n        \"\"\"Init Main App.\"\"\"\n        self.frame = MainFrame(None, -1)\n        self.frame.Show(True)\n        self.SetTopWindow(self.frame)\n        return True\n\n# Main Loop\nif __name__ == '__main__':\n    app = MainApp(0)\n    app.MainLoop()\n</code></pre>\n"}, {"tags": ["python", "xml", "python-3.x"], "comments": [{"owner": {"reputation": 832, "user_id": 10321210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6440f6207ef22d725e12b1fb77e5d96d?s=128&d=identicon&r=PG&f=1", "display_name": "jxpython", "link": "https://stackoverflow.com/users/10321210/jxpython"}, "edited": false, "score": 0, "creation_date": 1538002518, "post_id": 52526017, "comment_id": 91993800, "body": "Try to be a little clearer. Do you want to run the code you have for all the urls in the XML file?"}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1538004691, "post_id": 52526017, "comment_id": 91994336, "body": "Questions are encouraged to provide an <a href=\"/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1538007439, "post_id": 52526017, "comment_id": 91994926, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31177707/parsing-xml-containing-default-namespace-to-get-an-element-value-using-lxml\">parsing xml containing default namespace to get an element value using lxml</a>"}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1538007496, "post_id": 52526017, "comment_id": 91994942, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31177707/parsing-xml-containing-default-namespace-to-get-an-element-value-using-lxml\">this question</a>."}], "owner": {"reputation": 23, "user_id": 9345579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29ccd7f321064dd86d6ef6d07f0fdce2?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastiaan_L", "link": "https://stackoverflow.com/users/9345579/sebastiaan-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537995965, "creation_date": 1537995965, "question_id": 52526017, "link": "https://stackoverflow.com/questions/52526017/getting-urls-out-a-xml-for-scraping-with-python", "title": "Getting URL&#39;s out a XML for scraping with Python", "body": "<p>I'm trying to make a scraper that collects data out of an XML sitemap file. I wrote the program below. It works fine when entering one static URL. I downloaded the XML page containing all URLs of products. Is there a way to extract them and make a for each out of them to automate the process? </p>\n\n<p>The XML file looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;?xml-stylesheet href=\"xx\" type=\"text/xsl\"?&gt;\n&lt;urlset xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\" \n    xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" \n    xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"&gt;\n    &lt;url&gt;\n        &lt;loc&gt;(URL IS HERE)&lt;/loc&gt;\n        &lt;changefreq&gt;daily&lt;/changefreq&gt;\n        &lt;image:image&gt;\n            &lt;image:loc&gt;(URL OF PICTURE, not relevant&lt;/image:loc&gt;\n       &lt;/image:image&gt;\n    &lt;/url&gt;\n</code></pre>\n\n<p>The code looks like this</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\nfilename = \"products.csv\"\nf = open(filename, \"w\")\n\nheaders = \"Naam, prijs \\n\" \n\nf.write(headers)\n\nprint('step 1')\n#get url\npage_link = \"&lt;privacy&gt;\"\nprint('step 2')\n#open page\npage_response = requests.get(page_link, timeout=1)\nprint('step 3')\n#parse page\npage_content = BeautifulSoup(page_response.content, \"html.parser\")\nprint('step 4')\n#naam van de pagina\nprice = page_content.find_all(class_='&lt;privacy&gt;')[0].decode_contents()\nnaam = page_content.find_all(class_='product-name')[0].decode_contents()\nprint('step 5')\n#printen\nprint(\"Product:\", naam, \"kost nu\", price)\n\nf.write(naam + \",\" + price.replace(\",\", \"|\") +  \"\\n\")\nf.close()\n</code></pre>\n"}, {"tags": ["python", "apache-kudu"], "comments": [{"owner": {"reputation": 3831, "user_id": 862680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HDXlz.jpg?s=128&g=1", "display_name": "Dillon Benson", "link": "https://stackoverflow.com/users/862680/dillon-benson"}, "edited": false, "score": 0, "creation_date": 1537996276, "post_id": 52526013, "comment_id": 91991978, "body": "Please include some code samples to work with"}], "answers": [{"tags": [], "owner": {"reputation": 376, "user_id": 2356735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80a50d77d79117b760cd1b62a67e0175?s=128&d=identicon&r=PG", "display_name": "Greg S", "link": "https://stackoverflow.com/users/2356735/greg-s"}, "is_accepted": true, "score": 3, "last_activity_date": 1539380804, "last_edit_date": 1539380804, "creation_date": 1539380370, "answer_id": 52787317, "question_id": 52526013, "link": "https://stackoverflow.com/questions/52526013/how-to-read-from-kudu-to-python/52787317#52787317", "title": "how to read from Kudu to python", "body": "<p>@Karthik, did you encounter any errors? I just installed kudu-python client on Anaconda on Centos 6.9. There was one gotcha with versioning, but otherwise it was straightforward. The only error I ran into was</p>\n\n<pre><code>kudu/client.cpp:589:30: fatal error: kudu/util/int128.h: No such file or directory\n</code></pre>\n\n<p>there is a solution for it here: <a href=\"https://community.cloudera.com/t5/Data-Ingestion-Integration/can-not-install-kudu-python/td-p/67496\" rel=\"nofollow noreferrer\">https://community.cloudera.com/t5/Data-Ingestion-Integration/can-not-install-kudu-python/td-p/67496</a></p>\n\n<p>Otherwise, the steps are:\n1. Install kudu client libraries as described on Kudu website (<a href=\"https://kudu.apache.org/docs/installation.html#_install_on_rhel_or_centos_hosts\" rel=\"nofollow noreferrer\">https://kudu.apache.org/docs/installation.html#_install_on_rhel_or_centos_hosts</a>):</p>\n\n<pre><code>wget http://archive.cloudera.com/kudu/redhat/6/x86_64/kudu/cloudera-kudu.repo\nsudo mv cloudera-kudu.repo /etc/yum.repos.d/\nsudo yum update\nsudo yum install kudu kudu-client0 kudu-client-devel\n</code></pre>\n\n<ol start=\"2\">\n<li><p>install a bunch of dev dependencies if you don't have them already:</p>\n\n<p>sudo yum install autoconf automake libtool make gcc gcc-c++</p></li>\n<li><p>install Cython and kudu-python</p>\n\n<p>pip install Cython kudu-python==1.2.0</p></li>\n</ol>\n\n<p>Once you have this installed, you can find examples in <a href=\"https://github.com/apache/kudu/tree/master/examples/python\" rel=\"nofollow noreferrer\">https://github.com/apache/kudu/tree/master/examples/python</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12330977, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDcHQvAM8tj-tHWF_GdJqX6CcnrS-_GMZN58d7d=k-s128", "display_name": "senegal green", "link": "https://stackoverflow.com/users/12330977/senegal-green"}, "is_accepted": false, "score": 1, "last_activity_date": 1573031974, "creation_date": 1573031974, "answer_id": 58726729, "question_id": 52526013, "link": "https://stackoverflow.com/questions/52526013/how-to-read-from-kudu-to-python/58726729#58726729", "title": "how to read from Kudu to python", "body": "<p>i had no ability to install kudu-client (windows os is not supported) so i used the cluster's <strong>Impala</strong> to get Kudu's tables:</p>\n\n<pre><code>from impala.dbapi import connect\nconn = connect('&lt;Impala Daemon&gt;', port=21050) \ncursor = conn.cursor()\ncursor.execute('SELECT * FROM mytable LIMIT 100')\nprint(cursor.description)  # prints the result set's schema\nresults = cursor.fetchall()\n</code></pre>\n\n<p><a href=\"https://github.com/cloudera/impyla\" rel=\"nofollow noreferrer\">https://github.com/cloudera/impyla</a></p>\n"}], "owner": {"reputation": 79, "user_id": 10102223, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0KWjXRh2Kw8/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7piXjkGGNCmZn1YGQdhdas8orWFfg/mo/photo.jpg?sz=128", "display_name": "Karthik reddy", "link": "https://stackoverflow.com/users/10102223/karthik-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 0, "accepted_answer_id": 52787317, "answer_count": 2, "score": 0, "last_activity_date": 1573031974, "creation_date": 1537995942, "last_edit_date": 1538165247, "question_id": 52526013, "link": "https://stackoverflow.com/questions/52526013/how-to-read-from-kudu-to-python", "title": "how to read from Kudu to python", "body": "<p>I am trying to retrieve data from Kudu. But I am not able to install kudu-python package in anaconda or my server.  Can I get some help with it? The documentation on the internet is not really clear.</p>\n"}, {"tags": ["python", "tensorflow", "tensorflow-estimator"], "owner": {"reputation": 43, "user_id": 9700685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e396fe417f6e0d63578c27d2e70fcb15?s=128&d=identicon&r=PG&f=1", "display_name": "pontifor", "link": "https://stackoverflow.com/users/9700685/pontifor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538020254, "creation_date": 1537995846, "last_edit_date": 1538020254, "question_id": 52525998, "link": "https://stackoverflow.com/questions/52525998/tensorflow-training-matching-results-with-simple-one-layer-estimator", "title": "TensorFlow training - matching results with simple one layer estimator", "body": "<p>I am new to TensorFlow but experienced at analytics.  I am attempting to reproduce in TensorFlow the performance I obtain using a legacy Neural Network trainer, comprised simply of a single hidden-layer, trained using back-prop with momentum update and a mean-squared error objective function.</p>\n\n<p>Unfortunately all my attempts have thus far failed, with TensorFlow models being produced that range from being roughly \"only\" 10-15% inferior to my home-brewed trainer when using the canned tf.estimator.DNNClassifier, to much, much worse when I try to construct the net myself.  </p>\n\n<p>Can someone identify the mistakes being made in how I am calling the tool in the code below?  Using a command line input, I toggle between the \"canned_dnn\" and my \"custom\" set up</p>\n\n<pre><code>def get_classifier( model_name, cur_model_dir, feature_columns ):\n    if model_name == 'canned_dnn':\n        return tf.estimator.DNNClassifier( feature_columns=feature_columns,\n                                           model_dir=cur_model_dir,\n                                           hidden_units=[18],\n                                           activation_fn=tf.nn.relu )\n    elif model_name == 'custom':\n        return tf.estimator.Estimator( model_fn=my_model,\n                                       model_dir=cur_model_dir,\n                                       params={\n                                           'feature_columns': feature_columns,\n                                           'n_classes': 2\n                                       })\n    else:\n        raise RuntimeError()\n\ndef my_model(features, labels, mode, params):\n\n    # input layer                                                                                                                                                                                                                                                           \n    net = tf.feature_column.input_layer( features, params['feature_columns'] )\n\n    # hidden layer 1                                                                                                                                                                                                                                                        \n    net = tf.layers.dense(net, units=18, activation=tf.nn.relu, use_bias=True, bias_initializer=tf.zeros_initializer(), name='LEARN_1')\n\n    # output layer computes logits                                                                                                                                                                                                                                          \n    logits = tf.layers.dense(net, params['n_classes'], activation=tf.nn.sigmoid, name='OUTPUT')\n\n    # compute predictions                                                                                                                                                                                                                                                   \n    predicted_classes = tf.argmax(logits, 1)\n    if mode == tf.estimator.ModeKeys.PREDICT:\n        predictions = {\n            'class_ids': predicted_classes[:, tf.newaxis],\n            'probabilities': tf.nn.softmax(logits),\n            'logits': logits,\n        }\n        return tf.estimator.EstimatorSpec(mode, predictions=predictions)\n\n    # mean squared error                                                                                                                                                                                                                                                    \n    predicted_classes = tf.argmax(logits, 1)\n    loss = tf.losses.mean_squared_error(labels=tf.one_hot(labels, 2), predictions=logits)\n\n    # metrics                                                                                                                                                                                                                                                               \n    # loss report                                                                                                                                                                                                                                                           \n    tf.summary.scalar('loss', loss )\n\n    # accuracy                                                                                                                                                                                                                                                              \n    accuracy = tf.metrics.accuracy(labels=labels,\n                                   predictions=predicted_classes,\n                                   name='acc_op')\n\n    metrics = {'accuracy': accuracy}\n    tf.summary.scalar('accuracy', accuracy[1])\n\n    # EVALUATION MODE                                                                                                                                                                                                                                                       \n    if mode == tf.estimator.ModeKeys.EVAL:\n        return tf.estimator.EstimatorSpec(\n            mode, loss=loss, eval_metric_ops=metrics)\n\n    # TRAINING MODE                                                                                                                                                                                                                                                         \n    assert mode == tf.estimator.ModeKeys.TRAIN\n    with tf.name_scope( 'OPTIMIZE' ):\n        optimizer=tf.train.MomentumOptimizer(learning_rate=.02,momentum=.5)\n        train_op = optimizer.minimize(loss, global_step=tf.train.get_global_step())\n        return tf.estimator.EstimatorSpec(mode, loss=loss, train_op=train_op)\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "deep-learning", "lstm", "word-embedding"], "comments": [{"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538004654, "post_id": 52525990, "comment_id": 91994330, "body": "How many samples do you have? It seems you are feeding the model with only one sample of shape <code>(3019, 300)</code> whereas  the training data passed to <code>fit</code> method must have a shape of <code>(num_samples, num_steps, 300)</code> in this case."}, {"owner": {"reputation": 312, "user_id": 9633432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52714934eba24b8edf7b7ecb308cc0fe?s=128&d=identicon&r=PG&f=1", "display_name": "amy", "link": "https://stackoverflow.com/users/9633432/amy"}, "reply_to_user": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538005761, "post_id": 52525990, "comment_id": 91994530, "body": "I have 3019 comments. I am using the word2vec and getting the features in 1-D array of dimension 300. That is why it is showing (3019,300). I am not sure what is the time steps and how to get that number. Do I need to reshape the matrix?"}, {"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538006756, "post_id": 52525990, "comment_id": 91994723, "body": "How many words are there in each comment? 14? So the training data must have a shape of <code>(3019, 14, 300)</code>."}, {"owner": {"reputation": 312, "user_id": 9633432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52714934eba24b8edf7b7ecb308cc0fe?s=128&d=identicon&r=PG&f=1", "display_name": "amy", "link": "https://stackoverflow.com/users/9633432/amy"}, "reply_to_user": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538007412, "post_id": 52525990, "comment_id": 91994919, "body": "It varies but yes on average I have 14. so you are trying to say that I need to reshape my <code>X</code> while fitting."}, {"owner": {"reputation": 312, "user_id": 9633432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52714934eba24b8edf7b7ecb308cc0fe?s=128&d=identicon&r=PG&f=1", "display_name": "amy", "link": "https://stackoverflow.com/users/9633432/amy"}, "reply_to_user": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538007754, "post_id": 52525990, "comment_id": 91994990, "body": "I tried to reshape but it says <code>trainDataVecs=trainDataVecs.reshape(3019,14,300) ValueError: cannot reshape array of size 905700 into shape (3019,14,300)</code>. Should I add embedding layer instead?"}, {"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538008434, "post_id": 52525990, "comment_id": 91995152, "body": "You mentioned you have already used word2vec?! So there is no need to use an Embedding layer. I can&#39;t understand why the shape of your training data is <code>(3019,300)</code>? You have 3019 samples of shape 300?!! Each sample is a sentence so it has multiple words and each word is represented with a vector of length 300, therefore the shape of <b>each sample</b> must be <code>(num_words_in_a_sentence, 300)</code>?!"}, {"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538008537, "post_id": 52525990, "comment_id": 91995176, "body": "Could you add the data preparation code as well?"}, {"owner": {"reputation": 312, "user_id": 9633432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52714934eba24b8edf7b7ecb308cc0fe?s=128&d=identicon&r=PG&f=1", "display_name": "amy", "link": "https://stackoverflow.com/users/9633432/amy"}, "reply_to_user": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538011357, "post_id": 52525990, "comment_id": 91995766, "body": "Ok, I have added the code. If you want <code>KaggleWord2VecUtility</code> file as well, let me know. But I think the issue is with <code>getAvgFeatureVecs</code> as I am initializing it to be 2-D array. Hence, I am getting that."}, {"owner": {"reputation": 312, "user_id": 9633432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52714934eba24b8edf7b7ecb308cc0fe?s=128&d=identicon&r=PG&f=1", "display_name": "amy", "link": "https://stackoverflow.com/users/9633432/amy"}, "reply_to_user": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538011723, "post_id": 52525990, "comment_id": 91995843, "body": "I am using gensim model as <code>model</code>."}, {"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538036884, "post_id": 52525990, "comment_id": 92004521, "body": "If you are taking the average of all the word vectors in a sentence, then the result would not be a sequence. Therefore you cannot feed it to a LSTM layer. You can either use the Dense layer instead, or don&#39;t take the average of word vectors and feed them as they are to the LSTM layer."}, {"owner": {"reputation": 312, "user_id": 9633432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52714934eba24b8edf7b7ecb308cc0fe?s=128&d=identicon&r=PG&f=1", "display_name": "amy", "link": "https://stackoverflow.com/users/9633432/amy"}, "reply_to_user": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "edited": false, "score": 0, "creation_date": 1538068097, "post_id": 52525990, "comment_id": 92023819, "body": "Yeah, I think I need to convert the <code>text to sequence</code> for training, because right now I am representing each comment into 300 dimensional space. So it is <code>3019,300</code>. Is there any other way to implement it in my code?"}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 9633432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52714934eba24b8edf7b7ecb308cc0fe?s=128&d=identicon&r=PG&f=1", "display_name": "amy", "link": "https://stackoverflow.com/users/9633432/amy"}, "edited": false, "score": 0, "creation_date": 1538068462, "post_id": 52533963, "comment_id": 92023976, "body": "max_features is vocabulary size. My <code>trainDataVecs</code> has dimension of <code>(3019,300)</code> and 3019 is the number of comments. So, embed_size if okay but I don&#39;t think that I have the correct max_features for <code>trainDataVecs</code>. As you can see from my code, I think I am representing the comment into 300-d space, which is incorrect I think. I should represent words and not sentences."}, {"owner": {"reputation": 156, "user_id": 1471972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yW7UQ.jpg?s=128&g=1", "display_name": "Ankit Paliwal", "link": "https://stackoverflow.com/users/1471972/ankit-paliwal"}, "reply_to_user": {"reputation": 312, "user_id": 9633432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52714934eba24b8edf7b7ecb308cc0fe?s=128&d=identicon&r=PG&f=1", "display_name": "amy", "link": "https://stackoverflow.com/users/9633432/amy"}, "edited": false, "score": 0, "creation_date": 1538070807, "post_id": 52533963, "comment_id": 92025076, "body": "Exactly yes. Instead of averaging out the vectors for obtaining vector of whole comment, just pass the 2-D numpy array of word vectors to <code>Embedding</code> layer as <code>trainDataVecs</code>"}], "tags": [], "owner": {"reputation": 156, "user_id": 1471972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yW7UQ.jpg?s=128&g=1", "display_name": "Ankit Paliwal", "link": "https://stackoverflow.com/users/1471972/ankit-paliwal"}, "is_accepted": true, "score": 0, "last_activity_date": 1538041208, "creation_date": 1538041208, "answer_id": 52533963, "question_id": 52525990, "link": "https://stackoverflow.com/questions/52525990/lstm-network-on-pre-trained-word-embedding-gensim/52533963#52533963", "title": "LSTM network on pre trained word embedding gensim", "body": "<p>You should try using <code>Embedding layer</code> before LSTM layer. Also, since you have pre-trained vectors of 300-dimensions for 3019 comments, you can initialize the weights for embedding layer with this matrix.</p>\n\n<pre><code>inp_layer = Input((maxlen,))\nx = Embedding(max_features, embed_size, weights=[trainDataVecs])(x)\nx = LSTM(50, dropout=0.1)(x)\n</code></pre>\n\n<p>Here, <code>maxlen</code> is the maximum length of your comments, <code>max_features</code> is the maximum number of unique words or vocabulary size of your dataset, and <code>embed_size</code> is dimensions of your vectors, which is 300 in your case.</p>\n\n<p>Note that shape of trainDataVecs should be (max_features, embed_size), so if you have pre-trained word vectors loaded into <code>trainDataVecs</code>, this should work.</p>\n"}], "owner": {"reputation": 312, "user_id": 9633432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52714934eba24b8edf7b7ecb308cc0fe?s=128&d=identicon&r=PG&f=1", "display_name": "amy", "link": "https://stackoverflow.com/users/9633432/amy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "accepted_answer_id": 52533963, "answer_count": 1, "score": 0, "last_activity_date": 1538041208, "creation_date": 1537995776, "last_edit_date": 1538033243, "question_id": 52525990, "link": "https://stackoverflow.com/questions/52525990/lstm-network-on-pre-trained-word-embedding-gensim", "title": "LSTM network on pre trained word embedding gensim", "body": "<p>I am new to deep learning. I am trying to make very basic LSTM network on word embedding feature. I have written the following code for the model but I am unable to run it.    </p>\n\n<pre><code>from keras.layers import Dense, LSTM, merge, Input,Concatenate\nfrom keras.layers.recurrent import LSTM\nfrom keras.models import Sequential, Model\nfrom keras.layers import Dense, Dropout, Flatten\n\n\nmax_sequence_size = 14\nclasses_num = 2\n\nLSTM_word_1 = LSTM(100, activation='relu',recurrent_dropout = 0.25, dropout = 0.25)\nlstm_word_input_1 = Input(shape=(max_sequence_size, 300))\nlstm_word_out_1 = LSTM_word_1(lstm_word_input_1)\n\n\nmerged_feature_vectors = Dense(50, activation='sigmoid')(Dropout(0.2)(lstm_word_out_1))\n\npredictions = Dense(classes_num, activation='softmax')(merged_feature_vectors)\n\nmy_model = Model(input=[lstm_word_input_1], output=predictions)\nprint my_model.summary()\n</code></pre>\n\n<p>The error I am getting is <code>ValueError: Error when checking input: expected input_1 to have 3 dimensions, but got array with shape (3019, 300)</code>. On searching, I found that people have used <code>Flatten()</code> which will compress all the 2-D features (3019,300) for the dense layer. But I am unable to fix the issue. </p>\n\n<p>While explaining, kindly let me know how do the dimension work out.</p>\n\n<p>Upon request:</p>\n\n<p>My X_training had dimension issues, so I am providing the code below to clear out the confusion,</p>\n\n<pre><code>def makeFeatureVec(words, model, num_features):\n    # Function to average all of the word vectors in a given\n    # paragraph\n    #\n    # Pre-initialize an empty numpy array (for speed)\n    featureVec = np.zeros((num_features,),dtype=\"float32\")\n    #\n    nwords = 0.\n    #\n    # Index2word is a list that contains the names of the words in\n    # the model's vocabulary. Convert it to a set, for speed\n    index2word_set = set(model.wv.index2word)\n    #\n    # Loop over each word in the review and, if it is in the model's\n    # vocaublary, add its feature vector to the total\n    for word in words:\n        if word in index2word_set:\n            nwords = nwords + 1.\n            featureVec = np.add(featureVec,model[word])\n    #\n    # Divide the result by the number of words to get the average\n    featureVec = np.divide(featureVec,nwords)\n    return featureVec\n</code></pre>\n\n<p>I think the following code is giving 2-D numpy array as I am initializing it that way</p>\n\n<pre><code>def getAvgFeatureVecs(reviews, model, num_features):\n    # Given a set of reviews (each one a list of words), calculate\n    # the average feature vector for each one and return a 2D numpy array\n    #\n    # Initialize a counter\n    counter = 0.\n    #\n    # Preallocate a 2D numpy array, for speed\n    reviewFeatureVecs = np.zeros((len(reviews),num_features),dtype=\"float32\")\n\n    for review in reviews:\n\n       if counter%1000. == 0.:\n           print \"Question %d of %d\" % (counter, len(reviews))\n\n       reviewFeatureVecs[int(counter)] = makeFeatureVec(review, model, \\\n           num_features)\n\n       counter = counter + 1.\n    return reviewFeatureVecs\n\n\ndef getCleanReviews(reviews):\n    clean_reviews = []\n    for review in reviews[\"question\"]:\n        clean_reviews.append( KaggleWord2VecUtility.review_to_wordlist( review, remove_stopwords=True ))\n    return clean_reviews\n</code></pre>\n\n<p>My objective is just to use gensim pretrained model for LSTM on some comments that I have.</p>\n\n<pre><code>trainDataVecs = getAvgFeatureVecs( getCleanReviews(train), model, num_features )\n</code></pre>\n"}, {"tags": ["python", "html", "web-scraping", "python-3.6", "get-request"], "answers": [{"tags": [], "owner": {"reputation": 3566, "user_id": 8089090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8fc31c29878a0b7a90c1174d366e90?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gagne", "link": "https://stackoverflow.com/users/8089090/jonathan-gagne"}, "is_accepted": true, "score": 1, "last_activity_date": 1538000552, "last_edit_date": 1538000552, "creation_date": 1537997447, "answer_id": 52526282, "question_id": 52525989, "link": "https://stackoverflow.com/questions/52525989/parsing-html-data-in-python/52526282#52526282", "title": "parsing HTML data in python", "body": "<p>I did a regular expression that search for the line starting by <code>&lt;div&gt;&lt;strong&gt;Atmosphere:</code> and take all until the end of the line. Then I removed every unwanted strings from the result. Et Voila!</p>\n\n<pre><code>import re\ntextPage = re.search(r\"&lt;div&gt;&lt;strong&gt;Atmosphere: .*\", textPage).group(0)\nwrongString = ['&lt;div&gt;','&lt;/div&gt;','&lt;strong&gt;','&lt;/strong&gt;','&lt;sub&gt;','&lt;/sub&gt;']\nfor ws in wrongString:\n    textPage = re.sub(ws, \"\", textPage)\nfile = open('test2', 'w')\nfile.write(textPage)\nfile.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 832, "user_id": 10321210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6440f6207ef22d725e12b1fb77e5d96d?s=128&d=identicon&r=PG&f=1", "display_name": "jxpython", "link": "https://stackoverflow.com/users/10321210/jxpython"}, "is_accepted": false, "score": 2, "last_activity_date": 1538045661, "last_edit_date": 1538045661, "creation_date": 1537997871, "answer_id": 52526351, "question_id": 52525989, "link": "https://stackoverflow.com/questions/52525989/parsing-html-data-in-python/52526351#52526351", "title": "parsing HTML data in python", "body": "<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nurl = 'https://www.atcc.org/Products/All/CRL-2528.aspx#culturemethod'\n\nr = requests.get(url)\nsoup = BeautifulSoup(r.text, 'lxml')\n\ncc = soup.select('#layoutcontent_2_middlecontent_0_productdetailcontent_0_maincontent_2_rptTabContent_rptFields_2_fieldRow_3 td div')\n\nfor c in cc:\n    print(c.text.strip())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Atmosphere: air, 95%; carbon dioxide (CO2), 5%\nTemperature: 37\u00b0C\n</code></pre>\n\n<p>To just get the temperature:</p>\n\n<pre><code>cc = soup.select('#layoutcontent_2_middlecontent_0_productdetailcontent_0_maincontent_2_rptTabContent_rptFields_2_fieldRow_3 td div')[-1]\ncc = cc.text.split(':')[-1].strip()\nprint(cc)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>37\u00b0C\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "is_accepted": false, "score": 0, "last_activity_date": 1538075430, "creation_date": 1538075430, "answer_id": 52543651, "question_id": 52525989, "link": "https://stackoverflow.com/questions/52525989/parsing-html-data-in-python/52543651#52543651", "title": "parsing HTML data in python", "body": "<p>Another way you may find useful is something like below:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nurl = 'https://www.atcc.org/Products/All/CRL-2528.aspx#culturemethod'\n\npage = requests.get(url)\nsoup = BeautifulSoup(page.text,\"lxml\")\nfor items in soup.find_all(\"strong\"):\n    if \"Atmosphere:\" in items.text:\n        atmos = items.find_parent().text\n        temp = items.find_parent().find_next_sibling().text\n        print(f'{atmos}\\n{temp}')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Atmosphere: air, 95%; carbon dioxide (CO2), 5%\nTemperature: 37\u00b0C\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 9273826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11c6c278c14d2eed0fbbc2f95e5fab31?s=128&d=identicon&r=PG&f=1", "display_name": "Sam ", "link": "https://stackoverflow.com/users/9273826/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 52526282, "answer_count": 3, "score": 1, "last_activity_date": 1538075430, "creation_date": 1537995767, "question_id": 52525989, "link": "https://stackoverflow.com/questions/52525989/parsing-html-data-in-python", "title": "parsing HTML data in python", "body": "<p>Let's say I have the following website:</p>\n\n<pre><code>https://www.atcc.org/Products/All/CRL-2528.aspx#culturemethod\n</code></pre>\n\n<p>When you go on this website, it displays a bunch of information.\nIn my case, I just want to the temperature from the Culture Culture Conditions section. </p>\n\n<p>when you scroll down the webpage, you will see \na section called \"Culture Conditions\"</p>\n\n<pre><code>Atmosphere: air, 95%; carbon dioxide (CO2), 5%\nTemperature: 37\u00b0C\n</code></pre>\n\n<p>using the requests library, I'm able to get to the HTML code of the page. when I save the HTML and search through it for my data it's towards the bottom </p>\n\n<p>in this form </p>\n\n<pre><code>                                    Culture Conditions\n\n                                &lt;/th&gt;\n\n    &lt;td&gt;\n\n\n\n                                            &lt;div&gt;&lt;strong&gt;Atmosphere: &lt;/strong&gt;air, 95%; carbon dioxide (CO&lt;sub&gt;2&lt;/sub&gt;), 5%&lt;/div&gt;&lt;div&gt;&lt;strong&gt;Temperature: &lt;/strong&gt;37&amp;deg;C&lt;/div&gt;\n</code></pre>\n\n<p>I'm not sure what to do after this. I looked into using BeautifulSoup to parse the HTML but i was not successful. </p>\n\n<p>this is all the code that I have so far. </p>\n\n<pre><code>import requests\n\nurl='https://www.atcc.org/Products/All/CRL-2528.aspx#culturemethod'\n\npage = requests.get(url)\ntextPage = str(page.text)\n\nfile = open('test2', 'w')\nfile.write(textPage)\nfile.close()\n</code></pre>\n"}, {"tags": ["javascript", "python", "python-requests", "fetch", "kraken.com"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1537996240, "post_id": 52525982, "comment_id": 91991971, "body": "For one, in-browser JS is subject to CORS. Requesting a resource from another domain requires the server to send header information that allows access. For now I&#39;d try and get the Postman request to work, because that&#39;s going to be easier."}, {"owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537996468, "post_id": 52525982, "comment_id": 91992031, "body": "thanks. Yes that would be easiest. Although of course, the signature and nonce are calculated dynamically so it requires copying from the terminal each time. I&#39;ve updated my question with some strange observations while testing via Postman."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 11404823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7nu2.png?s=128&g=1", "display_name": "salanfe", "link": "https://stackoverflow.com/users/11404823/salanfe"}, "edited": false, "score": 0, "creation_date": 1556103358, "post_id": 52532732, "comment_id": 98321376, "body": "hey ! thx for the code sample. I&#39;m trying to used it as a pre-request-script in postman but keep getting the error &quot;EGeneral:Internal error&quot; from kraken. I&#39;m calling your function with var secret = &quot;mySecretKey&quot;; var nonce = Date.now() * 1000; var path = &quot;/0/private/Balance&quot;; var request = {}; any idea ? do you have a full working example by any chance ? I would greatly appreciate :) thx"}, {"owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "reply_to_user": {"reputation": 131, "user_id": 11404823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7nu2.png?s=128&g=1", "display_name": "salanfe", "link": "https://stackoverflow.com/users/11404823/salanfe"}, "edited": false, "score": 0, "creation_date": 1556104481, "post_id": 52532732, "comment_id": 98322092, "body": "Hi @salanfe, sure, I just opensourced the Fitbit app I made. Have a look at my codebase at <a href=\"https://github.com/bluppfisk/fitbit-kraken\" rel=\"nofollow noreferrer\">github.com/bluppfisk/fitbit-kraken</a> under companion/KrakenClient.js."}, {"owner": {"reputation": 131, "user_id": 11404823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7nu2.png?s=128&g=1", "display_name": "salanfe", "link": "https://stackoverflow.com/users/11404823/salanfe"}, "edited": false, "score": 1, "creation_date": 1556112371, "post_id": 52532732, "comment_id": 98327038, "body": "thx ! problem was my nonce in the request body :/ took me a while to figure it out, but it&#39;s working"}, {"owner": {"reputation": 961, "user_id": 4592448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-_DP3LTfLMXw/AAAAAAAAAAI/AAAAAAAAAHk/dzYHVVdXUnE/photo.jpg?sz=128", "display_name": "Fortran", "link": "https://stackoverflow.com/users/4592448/fortran"}, "reply_to_user": {"reputation": 131, "user_id": 11404823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7nu2.png?s=128&g=1", "display_name": "salanfe", "link": "https://stackoverflow.com/users/11404823/salanfe"}, "edited": false, "score": 0, "creation_date": 1610525396, "post_id": 52532732, "comment_id": 116158155, "body": "@salanfe can u send sample postman?)"}], "tags": [], "owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "is_accepted": true, "score": 0, "last_activity_date": 1538037259, "creation_date": 1538037259, "answer_id": 52532732, "question_id": 52525982, "link": "https://stackoverflow.com/questions/52525982/invalidkey-at-kraken-api-with-js-not-with-python/52532732#52532732", "title": "InvalidKey at Kraken API with JS, not with Python", "body": "<p>Turns out it was the signature after all and Kraken simply doesn't give very accurate responses (which makes some sense, but is a pain if you're trying to figure something out). Finally I was able to rewrite the code using CryptoJS only:</p>\n\n<pre><code>const getMessageSignature = (path, request, secret, nonce) =&gt; {\n    // API-Sign = Message signature using HMAC-SHA512 of (URI path + SHA256(nonce + POST data)) and base64 decoded secret API key\n    const message = JSON.stringify(request);\n    const hash = CryptoJS.SHA256(nonce + message);\n    const secret_buffer = CryptoJS.enc.Base64.parse(secret);\n    const hmac = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA512, secret_buffer);\n    hmac.update(path, secret_buffer);\n    hmac.update(hash, secret_buffer);\n    return hmac.finalize().toString(CryptoJS.enc.Base64);\n};\n</code></pre>\n\n<p>This yields a correct signature and Kraken no longer complains. Zzah.</p>\n"}], "owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 52532732, "answer_count": 1, "score": 1, "last_activity_date": 1538037259, "creation_date": 1537995709, "last_edit_date": 1538023867, "question_id": 52525982, "link": "https://stackoverflow.com/questions/52525982/invalidkey-at-kraken-api-with-js-not-with-python", "title": "InvalidKey at Kraken API with JS, not with Python", "body": "<p>My code to get my Balance from the Kraken API does work in Python (based on the krakenex library), but not in the JS version (based loosely off the kraken-api library, but with the <code>crypto</code> library substituted for <code>crypto-js</code>). The error is always: <strong>Invalid Key</strong>.</p>\n\n<p>Even when I copy the headers and the nonce sent by the Python client into Postman, I get Invalid Key.</p>\n\n<p>I believe the signature and nonce to be valid, because when they are not, Kraken retorts that either the signature or nonce are invalid.</p>\n\n<p>Is there anything else that Javascript's <code>fetch</code> does differently than Python3 <code>requests</code>? Because the body and headers are otherwise identical.</p>\n\n<p>JS code that generates auth data:</p>\n\n<pre><code>const getMessageSignature = (path, request, secret, nonce) =&gt; {\n    // API-Sign = Message signature using HMAC-SHA512 of (URI path + SHA256(nonce + POST data)) and base64 decoded secret API key\n    const message = qs.stringify(request);\n    console.log(message);\n\n    const secret_buffer = btoa(secret);\n    const hash = CryptoJS.algo.SHA256.create();\n    const hmac = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA512, secret_buffer);\n    const hash_digest = hash.update(nonce + message).finalize().toString(CryptoJS.enc.Hex);\n    const hmac_digest = hmac.update(path + hash_digest).finalize().toString(CryptoJS.enc.Base64);\n\n    // CANNOT USE ORIGINAL LIB CODE (Buffer, got and crypto not supported)\n    // const secret_buffer = new Buffer(secret, 'base64');\n    // const hash = new crypto.createHash('sha256');\n    // const hmac = new crypto.createHmac('sha512', secret_buffer);\n    // const hash_digest = hash.update(nonce + message).digest('binary');\n    // const hmac_digest = hmac.update(path + hash_digest, 'binary').digest('base64');\n\n    return hmac_digest;\n};\n</code></pre>\n\n<p><strong>Update:</strong>\nIn fact, the following observations are weird:</p>\n\n<ul>\n<li>correct key + correct signature = \"incorrect key\"</li>\n<li>incorrect key + correct signature = \"incorrect key\"</li>\n<li>incorrect key + incorrect signature = \"incorrect key\"</li>\n<li>correct key + incorrect signature = \"invalid signature\"</li>\n</ul>\n\n<p>what gives?</p>\n\n<p><strong>Update2</strong>\nSeems the requests are identical (other than the signature and nonce of course, which will and should change with every request).</p>\n\n<p><a href=\"https://i.stack.imgur.com/7snYe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7snYe.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "scipy", "numerical-methods", "ode"], "answers": [{"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 0, "last_activity_date": 1538007482, "creation_date": 1538007482, "answer_id": 52527669, "question_id": 52525976, "link": "https://stackoverflow.com/questions/52525976/numerical-solution-of-ode-with-fixed-condition-at-the-final-time-with-python/52527669#52527669", "title": "Numerical solution of ODE with fixed condition at the final time with Python", "body": "<p><code>odeint</code> can integrate \"backwards\".  Give the known value <code>x(T)</code> as the \"initial\" condition, and then give the <code>t</code> values in decreasing order from <code>T</code> down to wherever you want the solution to stop.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/13227115/backward-integration-in-time-using-scipy-odeint/13240699#13240699\">this answer</a> for an example.</p>\n"}], "owner": {"reputation": 3, "user_id": 9420748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c16287b07ab04da1fee33341a51cca?s=128&d=identicon&r=PG&f=1", "display_name": "FerCimat", "link": "https://stackoverflow.com/users/9420748/fercimat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 52527669, "answer_count": 1, "score": 0, "last_activity_date": 1538007482, "creation_date": 1537995682, "last_edit_date": 1537995900, "question_id": 52525976, "link": "https://stackoverflow.com/questions/52525976/numerical-solution-of-ode-with-fixed-condition-at-the-final-time-with-python", "title": "Numerical solution of ODE with fixed condition at the final time with Python", "body": "<p>I'm trying to solve an ODE of the form</p>\n\n<pre><code>x'=f(x), x(T)=x_{T}\n</code></pre>\n\n<p>in python using scipy.integrate.odeint.</p>\n\n<p>However, this has the form:\nscipy.integrate.odeint(func, y0, t,...), where y0 is the vector of initial conditions. I do not have an initial vector, instead, I have a vector for the final time T. How should I modify the scipy.integrate.odeint routine?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "python-3.x", "web-scraping"], "answers": [{"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 0, "last_activity_date": 1537996638, "last_edit_date": 1537996638, "creation_date": 1537995958, "answer_id": 52526016, "question_id": 52525924, "link": "https://stackoverflow.com/questions/52525924/append-list-to-existing-csv-according-the-header/52526016#52526016", "title": "Append list to existing csv according the header", "body": "<p>You need to provide <em>all</em> rows to <code>writerows(...)</code> - it takes a <em>list of rows</em> and each row is a <em>list of columns:</em>:</p>\n\n<pre><code>import csv\n\nheader = [\"h1\",\"h2\",\"h3\"]\nrow1 = [11,12,13]\nrow2 = [21,22,23]\n\n# always use newline=\"\" for csv-module opened file\nwith open('Alquran.csv', 'a', newline=\"\") as file:\n    coba=csv.writer(file)\n    # list of rows, each row is a list of columns \n    coba.writerows( [header, row1, row2] )\n\nwith open('Alquran.csv',\"r\") as r:\n    print(r.read())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>h1,h2,h3\n11,12,13\n21,22,23\n</code></pre>\n\n<p>To later add more information:</p>\n\n<pre><code>another_row = [31,32,33]\n\nwith open('Alquran.csv', 'a', newline=\"\") as file:\n    coba=csv.writer(file)\n    # list of 1 row, containing 3 columns \n    coba.writerows( [another_row] )\n\nwith open('Alquran.csv',\"r\") as r:\n    print(r.read())\n</code></pre>\n\n<p>Output after adding:</p>\n\n<pre><code>h1,h2,h3\n11,12,13\n21,22,23\n31,32,33\n</code></pre>\n\n<hr>\n\n<p>Doku: </p>\n\n<ul>\n<li><a href=\"https://docs.python.org/3/library/csv.html#csv.csvwriter.writerows\" rel=\"nofollow noreferrer\">csv.writerows(..)</a></li>\n<li>for seperate row-writing, read <a href=\"https://stackoverflow.com/questions/33091980/difference-between-writerow-and-writerows-methods-of-python-csv-module\">Difference between writerow() and writerows() methods of Python csv module</a></li>\n</ul>\n"}], "owner": {"reputation": 5, "user_id": 10383630, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rohfrP4SWZ4/AAAAAAAAAAI/AAAAAAAAAHQ/hRnGEI9Ov1s/photo.jpg?sz=128", "display_name": "Muhammad Anang Ramadhan", "link": "https://stackoverflow.com/users/10383630/muhammad-anang-ramadhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 52526016, "answer_count": 1, "score": 0, "last_activity_date": 1537996638, "creation_date": 1537995358, "last_edit_date": 1537996584, "question_id": 52525924, "link": "https://stackoverflow.com/questions/52525924/append-list-to-existing-csv-according-the-header", "title": "Append list to existing csv according the header", "body": "<p>I Have CSV with header </p>\n\n<blockquote>\n  <p>KlM1,KLM2,KLM3</p>\n</blockquote>\n\n<p>and i have List </p>\n\n<pre><code>['1', 'Tafsir An-Nas (114) Aya 6', '4-6. Aku berlindung kepada-Nya dari kejahatan bisikan setan yang bersembunyi pada diri manusia dan selalu bersamanya layaknya darah yang mengalir di dalam tubuhnya, yang membisikkan kejahatan dan kesesatan ke dalam dada manusia dengan cara yang halus, lihai, licik, dan menjanjikan secara terus-menerus. Aku berlindung kepada-Nya dari setan pembisik kejahatan dan kesesatan yang berasal dari golongan jin, yakni makhluk halus yang tercipta dari api, dan juga dari golongan manusia yang telah menjadi budak setan.']\n</code></pre>\n\n<p>but when I save with this code:</p>\n\n<pre><code>list1 = ['1',''+str(test)+'',''+arti2+''] \nwith open('Alquran.csv', 'a') as file:\n    coba=csv.writer(file)\n    coba.writerows(list1)\n</code></pre>\n\n<p>they just fill in KLM1 \nhow can i save the list like as a header?</p>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 677, "user_id": 1418351, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a7dba2123954dce6d12c48c0c74d785?s=128&d=identicon&r=PG", "display_name": "John_Sharp1318", "link": "https://stackoverflow.com/users/1418351/john-sharp1318"}, "edited": false, "score": 0, "creation_date": 1537995402, "post_id": 52525903, "comment_id": 91991663, "body": "You should try a threshold using OTSU as first step and then (depending of the result) count all the non zero pixels directly."}, {"owner": {"reputation": 14220, "user_id": 3547485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xGJWo.png?s=128&g=1", "display_name": "Kinght \u91d1", "link": "https://stackoverflow.com/users/3547485/kinght-%e9%87%91"}, "edited": false, "score": 0, "creation_date": 1538008140, "post_id": 52525903, "comment_id": 91995082, "body": "Your method to recognize the object by counting pixels is wrong."}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1538037075, "post_id": 52525903, "comment_id": 92004621, "body": "Pixel counting is unlikely to be very accurate as a means of differentiating digits/letters. Try Googling <i>&quot;Template Matching&quot;</i> and/or <i>&quot;Optical Character Recognition&quot;</i> and <b>Tesseract</b>. Good luck!"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 10290047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a0ad70ebc5dcda1f53c09bdaa7e87e?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill", "link": "https://stackoverflow.com/users/10290047/kirill"}, "edited": false, "score": 0, "creation_date": 1538050299, "post_id": 52531292, "comment_id": 92012749, "body": "Okay, my question is: What the way to get rid of noise, there are no perfect black background on my pics, there are some white shadows, I want to point out white digits from other parts of image, make them more bright or contrast.."}, {"owner": {"reputation": 809, "user_id": 9466270, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UGJdFqyAs24/AAAAAAAAAAI/AAAAAAAAAEE/JCJU2OmxEk0/photo.jpg?sz=128", "display_name": "Hein Wessels", "link": "https://stackoverflow.com/users/9466270/hein-wessels"}, "reply_to_user": {"reputation": 83, "user_id": 10290047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a0ad70ebc5dcda1f53c09bdaa7e87e?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill", "link": "https://stackoverflow.com/users/10290047/kirill"}, "edited": false, "score": 1, "creation_date": 1538050582, "post_id": 52531292, "comment_id": 92012929, "body": "The <code>AdaptiveThreshold</code> method I proposed does get rid of noise, and will work well if the images look the ones in your question. <code>Thresholding</code> turns a noisy image into a perfect <code>0</code>/<code>255</code> image. If you are trying to get rid of the circle your can try dialating and then erroding your image (see <a href=\"https://pythonprogramming.net/morphological-transformation-python-opencv-tutorial/\" rel=\"nofollow noreferrer\">this</a> tutorial)."}], "tags": [], "owner": {"reputation": 809, "user_id": 9466270, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UGJdFqyAs24/AAAAAAAAAAI/AAAAAAAAAEE/JCJU2OmxEk0/photo.jpg?sz=128", "display_name": "Hein Wessels", "link": "https://stackoverflow.com/users/9466270/hein-wessels"}, "is_accepted": false, "score": 1, "last_activity_date": 1538031821, "creation_date": 1538031821, "answer_id": 52531292, "question_id": 52525903, "link": "https://stackoverflow.com/questions/52525903/image-recognizing-with-counting-pixels-of-specific-color-using-opencv/52531292#52531292", "title": "Image recognizing with counting pixels of specific color, using opencv", "body": "<p>I propose that you first threshold the image, meaning that pixels with letters will be of value <code>255</code>, and the rest <code>0</code>. This can be done with OpenCV's Adaptive Threshold function (you can see <a href=\"https://stackoverflow.com/a/51819592/9466270\">this</a> answer).</p>\n\n<p>Then, you will need a better way to determine the numbers. Simply counting the number of white pixels is not robust enough. For example, the numbers <code>13</code> and <code>31</code> <em>should</em> have the same number of white pixels. This can break your algorithm.</p>\n\n<p>The best solution here is AI. You can look into Python Tesseract for example, but there are a lot of Python packages and tutorials. Just Google <a href=\"https://www.google.co.za/search?q=python%20recognize%20numbers%20in%20image&amp;rlz=1C1CHBD_enZA781ZA782&amp;oq=python%20recoqnize%20numbers&amp;aqs=chrome.2.69i57j0l3.14471j0j4&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">this</a>, and you get to helpful answers like <a href=\"https://www.quora.com/How-do-I-detect-digits-in-an-image-using-python\" rel=\"nofollow noreferrer\">this</a> one. There are even tutorials like <a href=\"https://www.pyimagesearch.com/2017/07/17/credit-card-ocr-with-opencv-and-python/\" rel=\"nofollow noreferrer\">this</a> one.</p>\n\n<p>If you don't want to use AI, then your algorithm will always break somewhere. </p>\n"}], "owner": {"reputation": 83, "user_id": 10290047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a0ad70ebc5dcda1f53c09bdaa7e87e?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill", "link": "https://stackoverflow.com/users/10290047/kirill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 835, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1538031821, "creation_date": 1537995238, "question_id": 52525903, "link": "https://stackoverflow.com/questions/52525903/image-recognizing-with-counting-pixels-of-specific-color-using-opencv", "title": "Image recognizing with counting pixels of specific color, using opencv", "body": "<p>My code get many small images with digits in them. I try to compare it with my templates and get right data. It worked.. </p>\n\n<p><a href=\"https://i.stack.imgur.com/LPwgp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LPwgp.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/bWtzf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bWtzf.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>original= cv2.imread('im/10.png')\nsought = (254,254,254)\nresult = np.count_nonzero(np.all(original==sought,axis=2))\n</code></pre>\n\n<p>As you can see in these cases, white digits are at different corners of pics, and no problem, results (quanity of white pixels) are equal and I got, that 18=18. \nbut now there are new pics<a href=\"https://i.stack.imgur.com/1aBcz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1aBcz.png\" alt=\"enter image description here\"></a>,<a href=\"https://i.stack.imgur.com/VLTix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VLTix.png\" alt=\"enter image description here\"></a>.</p>\n\n<p>First of all, digits here aren't (254,254,254). I think image is more dim maybe. or less quality and i try to use: </p>\n\n<pre><code>result = np.count_nonzero(np.all(original &gt; 200,axis=2))\n</code></pre>\n\n<p>Unfortunately, it give me different data. Two pics with 13 inside aren't equal.</p>\n\n<p>What i want:</p>\n\n<p>Method of pointing out white digits from dark background, except thin white circle around. (at 13 pics) Circle isn't a problem, if I crop image at center and get rid of circle my results wouldn't change - 13 still != 13. </p>\n\n<p>Maybe it possible with converting image to grayscale, maybe to HSV, maybe just to  make it brighter or more contrast. </p>\n\n<p>Pixels counting is good for me it is quetly fast and usually accurate. </p>\n\n<p>I'll repeat: now my code see two pics with 13 like different (there are difference colors, or brightness or black/white ratio, I don't know) I want to get rid of this problem.</p>\n"}, {"tags": ["python", "paramiko"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1537995709, "post_id": 52525896, "comment_id": 91991778, "body": "&quot;errors&quot; huh? tell us more"}, {"owner": {"reputation": 11, "user_id": 8133408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f62e27e510f1fde61cac4a89b516c06?s=128&d=identicon&r=PG&f=1", "display_name": "Gerald Germain", "link": "https://stackoverflow.com/users/8133408/gerald-germain"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1538054246, "post_id": 52525896, "comment_id": 92015163, "body": "I updated the error that i keep getting"}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1538054728, "post_id": 52525896, "comment_id": 92015530, "body": "The entire error, please. The stack trace should show which part of your code triggers the error."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8133408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f62e27e510f1fde61cac4a89b516c06?s=128&d=identicon&r=PG&f=1", "display_name": "Gerald Germain", "link": "https://stackoverflow.com/users/8133408/gerald-germain"}, "edited": false, "score": 0, "creation_date": 1538056298, "post_id": 52538492, "comment_id": 92016633, "body": "Awesome, thanks, let me see if i can try that and see if it works, i will update shortly"}, {"owner": {"reputation": 11, "user_id": 8133408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f62e27e510f1fde61cac4a89b516c06?s=128&d=identicon&r=PG&f=1", "display_name": "Gerald Germain", "link": "https://stackoverflow.com/users/8133408/gerald-germain"}, "edited": false, "score": 0, "creation_date": 1538081259, "post_id": 52538492, "comment_id": 92029689, "body": "I updated the code with what you gave me and now i am getting the error above"}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "reply_to_user": {"reputation": 11, "user_id": 8133408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f62e27e510f1fde61cac4a89b516c06?s=128&d=identicon&r=PG&f=1", "display_name": "Gerald Germain", "link": "https://stackoverflow.com/users/8133408/gerald-germain"}, "edited": false, "score": 0, "creation_date": 1538082759, "post_id": 52538492, "comment_id": 92030294, "body": "@GeraldGermain Use a regular <code>map</code> instead of <code>Pool.map</code> to get the full traceback. Python2.7 <code>multiprocessing</code> swallows some details of exceptions. Note that since this is a different topic, you should open a new question."}, {"owner": {"reputation": 11, "user_id": 8133408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f62e27e510f1fde61cac4a89b516c06?s=128&d=identicon&r=PG&f=1", "display_name": "Gerald Germain", "link": "https://stackoverflow.com/users/8133408/gerald-germain"}, "edited": false, "score": 0, "creation_date": 1538153213, "post_id": 52538492, "comment_id": 92057836, "body": "Just updated the error i was getting when using map instead of pool.map"}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "reply_to_user": {"reputation": 11, "user_id": 8133408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f62e27e510f1fde61cac4a89b516c06?s=128&d=identicon&r=PG&f=1", "display_name": "Gerald Germain", "link": "https://stackoverflow.com/users/8133408/gerald-germain"}, "edited": false, "score": 0, "creation_date": 1538153746, "post_id": 52538492, "comment_id": 92058060, "body": "Please post that trace in your <i>new</i> question! <a href=\"https://stackoverflow.com/questions/52557249/paramiko-with-pool-map-for-multiprocessing-giving-errors\" title=\"paramiko with pool map for multiprocessing giving errors\">stackoverflow.com/questions/52557249/&hellip;</a>"}], "tags": [], "owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "is_accepted": false, "score": 1, "last_activity_date": 1538055792, "creation_date": 1538055792, "answer_id": 52538492, "question_id": 52525896, "link": "https://stackoverflow.com/questions/52525896/python-multiprocessing-paramiko-ssh-connections/52538492#52538492", "title": "python multiprocessing paramiko ssh connections", "body": "<p>You are passing <code>commands</code> (a <code>str</code>) as <code>chunksize</code> (an <code>int</code>).</p>\n\n<pre><code># your code\npool.map(conn,hostnames,commands)\n# multiprocessing documentation\npool.map(func, iterable, chunksize)\n</code></pre>\n\n<p>Note that unlike <a href=\"https://docs.python.org/3/library/functions.html#map\" rel=\"nofollow noreferrer\"><code>map</code></a>, <a href=\"https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map\" rel=\"nofollow noreferrer\"><code>Pool.map</code></a> takes only <em>one</em> iterable. You must either change your function to take only one argument, or add a wrapper to unpack arguments:</p>\n\n<pre><code>def unpack_call(callable_arguments):\n    callable, arguments = callable_arguments\n    return callable(*arguments)\n\n...\n\npool.map(unpack_call, [(conn, (hostname,commands)) for hostname in hostnames])\n#        ^              ^     ^ arguments\n#        |              | command\n#        | unpack helper\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8133408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f62e27e510f1fde61cac4a89b516c06?s=128&d=identicon&r=PG&f=1", "display_name": "Gerald Germain", "link": "https://stackoverflow.com/users/8133408/gerald-germain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1120, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1538153192, "creation_date": 1537995221, "last_edit_date": 1538153192, "question_id": 52525896, "link": "https://stackoverflow.com/questions/52525896/python-multiprocessing-paramiko-ssh-connections", "title": "python multiprocessing paramiko ssh connections", "body": "<p>I am writing a script to connect to a bunch of cisco routers and run commands on them, hosts and commands are put into a text file and then read from the script. Below is the code i got, when i don't use the pool.map everything works good, but when trying to use the pool.map to spawn more process, i keep getting errors.</p>\n\n<pre><code>#!/usr/bin/python\n\n#Import modules\nfrom multiprocessing.pool import ThreadPool\nimport sys, os\nimport paramiko\nimport time\nimport getpass\nimport socket\n\n\ndef unpack_call(callable_arguments):\ncallable, arguments = callable_arguments\nreturn callable(*arguments)\n\n\ndef conn(host, commands):\n\n   # Create instance of SSH client object\n   remote_conn_pre = paramiko.SSHClient()\n\n   # Automatically add untrusted hosts\n   remote_conn_pre.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n\n   try:\n      # Pass host to connect to device via SSH\n      remote_conn_pre.connect(host, username=username, password=password, look_for_keys=False, allow_agent=False, timeout=5)\n      print \"Working on %s\" % host\n      remote_conn = remote_conn_pre.invoke_shell()\n      output = remote_conn.recv(1000)\n\n      disable_paging(remote_conn)\n      remote_conn.send(\"enable\")\n      remote_conn.send(\"\\n\")\n      remote_conn.send(password)\n      remote_conn.send(\"\\n\")\n\n      output = command(commands, remote_conn,host)\n      remote_conn.close()\n      print \"Completed %s\" % host\n   except (paramiko.SSHException, socket.error) as se:\n      print \"Error connecting to %s and reason is %s\" % (host, se)\n      time.sleep(1)\n\ndef disable_paging(remote_conn):\n    ''' Disable Paging on Cisco '''\n    remote_conn.send(\"term len 0\\n\")\n    time.sleep(1)\n\n    # Clear the buffer on the screen\n    output = remote_conn.recv(1000)\n\n    return output\n\n\n\ndef command(commands,remote_conn,host):\n\n   # Open commands.txt file for reading\n   c   = open(commands, \"r\")\n   fil = open(\"session_%s.txt\" % host, \"w\")\n\n   for l in c:\n      remote_conn.send(l)\n      time.sleep(1)\n      output = remote_conn.recv(50000)\n      fil.write(output)\n\n   fil.close()\n\n\nif __name__ == \"__main__\":\n\n   # Get login credentials before starting script\n   username = raw_input(\"Username: \")\n   password = getpass.getpass(\"Password: \")\n\n   host     = sys.argv[1]\n   commands = sys.argv[2]\n\n   hostnames = []\n   h = open(\"hosts.txt\", \"r\")\n   for hos in h:\n   #    conn(hos.strip(),commands)\n        hostnames.append(hos.strip())\n   h.close()\n\n   pool = ThreadPool(5)\n   pool.map(unpack_call, [(conn, (hostname,commands)) for hostname in hostnames])\n   pool.close()\n   pool.join()\n</code></pre>\n\n<p>UPDATE: After updating code i am now getting this error</p>\n\n<pre><code>  Traceback (most recent call last):\n\n  File \"getinfoTH.py\", line 91, in &lt;module&gt;\n\n    pool.map(unpack_call, [(conn, (hostnames,commands)) for hostname in hostnames])\n\n  File \"/usr/lib64/python2.7/multiprocessing/pool.py\", line 250, in map\n\n    return self.map_async(func, iterable, chunksize).get()\n\n  File \"/usr/lib64/python2.7/multiprocessing/pool.py\", line 554, in get\n\n    raise self._value\n\nTypeError: getaddrinfo() argument 1 must be string or None\n</code></pre>\n\n<p>UPDATE: used map instead of pool.map and below is the stack trace</p>\n\n<pre><code>Traceback (most recent call last):\n\n  File \"getinfo.py\", line 93, in &lt;module&gt;\n\n    map(unpack_call, [(conn, (hostnames,commands)) for hostname in hostnames])\n\n  File \"getinfo.py\", line 15, in unpack_call\n\n    return callable(*arguments)\n\n  File \"getinfo.py\", line 32, in conn\n\n    remote_conn_pre.connect(host, username=username, password=password, look_for_keys=False, allow_agent=False, timeout=5)\n\n  File \"/usr/lib/python2.7/site-packages/paramiko/client.py\", line 296, in connect\n\n    to_try = list(self._families_and_addresses(hostname, port))\n\n  File \"/usr/lib/python2.7/site-packages/paramiko/client.py\", line 200, in _families_and_addresses\n\n    addrinfos = socket.getaddrinfo(hostname, port, socket.AF_UNSPEC, socket.SOCK_STREAM)\n\nTypeError: getaddrinfo() argument 1 must be string or None\n</code></pre>\n"}, {"tags": ["python", "sqlite"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 8469664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/406dc7ef4959027bcef6d7e01602b56e?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Cantrell", "link": "https://stackoverflow.com/users/8469664/connor-cantrell"}, "edited": false, "score": 0, "creation_date": 1537997047, "post_id": 52525959, "comment_id": 91992236, "body": "I greatly appreciate this"}, {"owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "reply_to_user": {"reputation": 59, "user_id": 8469664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/406dc7ef4959027bcef6d7e01602b56e?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Cantrell", "link": "https://stackoverflow.com/users/8469664/connor-cantrell"}, "edited": false, "score": 0, "creation_date": 1537997962, "post_id": 52525959, "comment_id": 91992551, "body": "Your thanks is appreciated... especially in the form of an upvote and accepted answer. :)"}, {"owner": {"reputation": 59, "user_id": 8469664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/406dc7ef4959027bcef6d7e01602b56e?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Cantrell", "link": "https://stackoverflow.com/users/8469664/connor-cantrell"}, "edited": false, "score": 0, "creation_date": 1537998710, "post_id": 52525959, "comment_id": 91992780, "body": "my ranking status doesn&#39;t allow upvotes unfortunately"}, {"owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "reply_to_user": {"reputation": 59, "user_id": 8469664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/406dc7ef4959027bcef6d7e01602b56e?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Cantrell", "link": "https://stackoverflow.com/users/8469664/connor-cantrell"}, "edited": false, "score": 0, "creation_date": 1538000152, "post_id": 52525959, "comment_id": 91993217, "body": "No sweat, just being saucy. Cheers!"}], "tags": [], "owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "is_accepted": true, "score": 0, "last_activity_date": 1537995581, "creation_date": 1537995581, "answer_id": 52525959, "question_id": 52525895, "link": "https://stackoverflow.com/questions/52525895/sqlite-assert-statement-getting-name-with-highest-value/52525959#52525959", "title": "sqlite: assert statement: getting name with highest value", "body": "<p>Just get the value of the first column.</p>\n\n<pre><code>cur.execute('SELECT name, avg_points FROM players ORDER BY avg_points DESC LIMIT 1')\nrow = cur.fetchone()\nbest_player_name = row[0]\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 8469664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/406dc7ef4959027bcef6d7e01602b56e?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Cantrell", "link": "https://stackoverflow.com/users/8469664/connor-cantrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 52525959, "answer_count": 1, "score": 1, "last_activity_date": 1537995581, "creation_date": 1537995214, "question_id": 52525895, "link": "https://stackoverflow.com/questions/52525895/sqlite-assert-statement-getting-name-with-highest-value", "title": "sqlite: assert statement: getting name with highest value", "body": "<p>Note: Please feel free to share applicable resources. I have found it rather difficult.</p>\n\n<p>I am attempting to write the following python function:</p>\n\n<pre><code>def player_with_max_points_per_game():\n    \"\"\" The player with highest average points per game\"\"\"\n\n    cur.execute('SELECT name, avg_points FROM players ORDER BY \n    avg_points')\n\n    # Now I want to select 'name' from the top row\n</code></pre>\n\n<p>PS: I realize my intended approach might be inefficient. I saw there was a MAX() function. Any recommendations?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4fCs0.png\" rel=\"nofollow noreferrer\">Here is an image from my DB browser sorted by 'avg_points'</a></p>\n"}, {"tags": ["python", "optimization", "scipy", "mathematical-optimization"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1538007912, "post_id": 52525876, "comment_id": 91995027, "body": "When you use <code>minimize</code>, <i>always</i> check the <code>success</code> attribute of the object that is returned.  In your code, after <code>minimum = minimize(...)</code>, add <code>if not minimum.success: print(minimum.status, minimum.message)</code>.  Then include the output in the question here."}, {"owner": {"reputation": 10888, "user_id": 5625534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d4mCF.jpg?s=128&g=1", "display_name": "Erwin Kalvelagen", "link": "https://stackoverflow.com/users/5625534/erwin-kalvelagen"}, "edited": false, "score": 0, "creation_date": 1538056031, "post_id": 52525876, "comment_id": 92016434, "body": "You may want to provide gradients. With finite differences you loose half the precision."}, {"owner": {"reputation": 39, "user_id": 10178183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3e1503fb3a5e480588ceea6c60894a?s=128&d=identicon&r=PG&f=1", "display_name": "Curiosity", "link": "https://stackoverflow.com/users/10178183/curiosity"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1538059802, "post_id": 52525876, "comment_id": 92019103, "body": "@Warren Weckesser - thanks. Attributes have been added in the latest edit."}, {"owner": {"reputation": 39, "user_id": 10178183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3e1503fb3a5e480588ceea6c60894a?s=128&d=identicon&r=PG&f=1", "display_name": "Curiosity", "link": "https://stackoverflow.com/users/10178183/curiosity"}, "reply_to_user": {"reputation": 10888, "user_id": 5625534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d4mCF.jpg?s=128&g=1", "display_name": "Erwin Kalvelagen", "link": "https://stackoverflow.com/users/5625534/erwin-kalvelagen"}, "edited": false, "score": 0, "creation_date": 1538060383, "post_id": 52525876, "comment_id": 92019496, "body": "@Erwin Kalvelagen - that sounds like it might solve my problem.  Do you know how to go about providing gradients?"}, {"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 0, "creation_date": 1538145968, "post_id": 52525876, "comment_id": 92054087, "body": "Having you tried adjusting the numerical tolerances, and see if that brings you sufficiently close to where you want to be?"}, {"owner": {"reputation": 39, "user_id": 10178183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3e1503fb3a5e480588ceea6c60894a?s=128&d=identicon&r=PG&f=1", "display_name": "Curiosity", "link": "https://stackoverflow.com/users/10178183/curiosity"}, "reply_to_user": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 0, "creation_date": 1538146628, "post_id": 52525876, "comment_id": 92054485, "body": "@EelcoHoogendoorn Yes, I did try adjusting numerical tolerance, as well as other parameters.  Some of them can get me closer to the minimum, but the problem is that I need to find the minimum, not something close to the minimum."}, {"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 0, "creation_date": 1538157982, "post_id": 52525876, "comment_id": 92059811, "body": "What makes you believe the exact solution exists in a floating point representation?"}, {"owner": {"reputation": 39, "user_id": 10178183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3e1503fb3a5e480588ceea6c60894a?s=128&d=identicon&r=PG&f=1", "display_name": "Curiosity", "link": "https://stackoverflow.com/users/10178183/curiosity"}, "reply_to_user": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 0, "creation_date": 1538158218, "post_id": 52525876, "comment_id": 92059878, "body": "@EelcoHoogendoorn, you raise a good point.  I assumed it would be possible, since it just seems like a very simple, straight forward optimization problem.  I definitely could be wrong about that.  It just seems like I should NOT be able to beat the optimizer so easily with excel."}, {"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 0, "creation_date": 1538158990, "post_id": 52525876, "comment_id": 92060203, "body": "Excel might be using variable-precision arithmetic; which scipy does not support? That said numerical error does not seem like a full explanation; the problem you are solving does not contain any precision-benders, yet it is nowhere close to machine precision... dunno"}, {"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 0, "creation_date": 1538160402, "post_id": 52525876, "comment_id": 92060758, "body": "Looking closer at your problem... I dont think there is one. Your problem is simply very much underconstrained. The numbers you are getting are all &lt; 0.9, and sum to one. There are many such numbers however; so thats reason enough to differ from some different implementation."}, {"owner": {"reputation": 39, "user_id": 10178183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3e1503fb3a5e480588ceea6c60894a?s=128&d=identicon&r=PG&f=1", "display_name": "Curiosity", "link": "https://stackoverflow.com/users/10178183/curiosity"}, "reply_to_user": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 0, "creation_date": 1538162247, "post_id": 52525876, "comment_id": 92061451, "body": "@EelcoHoogendoorn So minimize just tries to satisfy the constraints?  I thought minimize would.... minimize?  Is there some kind of constraint I could add to reach the solution I&#39;m seeking, or is that not really knowable?"}], "owner": {"reputation": 39, "user_id": 10178183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3e1503fb3a5e480588ceea6c60894a?s=128&d=identicon&r=PG&f=1", "display_name": "Curiosity", "link": "https://stackoverflow.com/users/10178183/curiosity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538145790, "creation_date": 1537995128, "last_edit_date": 1538145790, "question_id": 52525876, "link": "https://stackoverflow.com/questions/52525876/scipy-optimize-minimize-finds-non-minimal-answer", "title": "SciPy optimize minimize finds non minimal answer", "body": "<p>When I use Scipy minimize in the example below, it finds a non minimal solution - can someone please help me modify this to find the minimum?</p>\n\n<p>I have <strong>four</strong> constraints: 1) guesses of guess array must sum to one, 2) guesses must be > 0, and 3) any guess from the initial guess array that is over the threshold must be set equal to the threshold and held constant.<br>\n<strong>Edit: 4th constraint</strong> - no guess can be greater than the threshold.</p>\n\n<p>I didn't use constraints for the last 3 constraints I have.  For constraint 2, I used a bounds.  For constraint 3, I did that in the performMinimize method before calling scipy's minimize method.</p>\n\n<pre><code>from scipy.optimize import minimize\nimport numpy as np\nfrom numpy import array\n\ndef objective(initialGuesses, threshold):\n    overThreshold = initialGuesses[np.where((threshold &lt; initialGuesses[:]))]\n    underThreshold = initialGuesses[np.where((threshold &gt;= initialGuesses[:]))]\n\n    overThreshold[:] = threshold\n    sumUnderThreshold = np.sum(underThreshold)\n    oppositeSumOverTreshold = 1 - np.sum(overThreshold)\n\n    transformedGuess = underThreshold / sumUnderThreshold * oppositeSumOverTreshold\n\n    thresholdedResults = np.concatenate((overThreshold, transformedGuess))\n\n    squaredError = np.square(thresholdedResults - initialGuesses) / initialGuesses\n\n    return np.sum(squaredError)\n\n\ndef performMinimizeSo(initialGuesses, threshold):\n    overThreshold = initialGuesses[np.where((threshold &lt; initialGuesses[:]))]\n    overThreshold[:] = threshold\n    underThreshold = initialGuesses[np.where((threshold &gt;= initialGuesses[:]))]\n\n    # Says one minus the sum of all variables minus the sum of weights over the threshold must be zero\n    cons = ({'type': 'eq', 'fun': lambda x: 1 - sum(x) - sum(overThreshold)})\n\n    minimum = minimize(objective, underThreshold, args=(threshold), method='SLSQP',\n                       constraints=cons,\n                       bounds=[(0, None) for i in range(len(underThreshold))],\n                       )\n\n    allGuesses = np.append(overThreshold, minimum.x)\n\n    return allGuesses\n\n\ndef testCaseForSo():\n    initialGuesses = array([\n        [0.1],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.05],\n        [0.025],\n        [0.025]])\n\n    threshold = .09\n    output = (performMinimizeSo(initialGuesses, threshold))\n    print(output)\n\ntestCaseForSo()\n</code></pre>\n\n<p>The minimal answer, as found by excel, is this:</p>\n\n<pre><code>0.09\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.050555556\n0.025277778\n0.025277778\n</code></pre>\n\n<p>Scipy minimize thinks this is the answer, which is close but not the correct minimum: </p>\n\n<pre><code>0.09\n0.050526315\n0.050526315\n0.050526315\n0.050526315\n0.050526315\n0.050526315\n0.050526315\n0.050526315\n0.050526315\n0.050526315\n0.050526317\n0.050526317\n0.050526317\n0.050526317\n0.050526317\n0.050526317\n0.050526317\n0.025526317\n0.025526317\n</code></pre>\n\n<p>Here is what the attributes of the output look like after running scipy.minimize (as you can see, scipy thinks it found the minimum even though we know it didn't):</p>\n\n<pre><code>minimum.sucess == True\nminimum.status == 0\nminimum.message == 'Optimization terminated successfully'\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "typeerror", "valueerror"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1537994953, "post_id": 52525841, "comment_id": 91991497, "body": "Well the error is clear: it contains comma separators for the thousands, but Python&#39;s <code>int(..)</code> function can not handle that. So you need to remove these."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1537995501, "post_id": 52525841, "comment_id": 91991697, "body": "I just downloaded the data and couldn&#39;t reproduce the error."}, {"owner": {"reputation": 81, "user_id": 8704927, "user_type": "registered", "profile_image": "https://graph.facebook.com/1799121373711495/picture?type=large", "display_name": "Clay Chester", "link": "https://stackoverflow.com/users/8704927/clay-chester"}, "edited": false, "score": 0, "creation_date": 1537995879, "post_id": 52525841, "comment_id": 91991851, "body": "RafaelC i updated the data to remove the commas, but now I get UnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0xa0 in position 83: invalid start byte"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1537996370, "post_id": 52525841, "comment_id": 91992001, "body": "ClayChester: then please edit the question with updated example. This is two questions-in-one: comma-as-thousands-separator and the Unicode decode. Both are duplicates of existing questions."}, {"owner": {"reputation": 81, "user_id": 8704927, "user_type": "registered", "profile_image": "https://graph.facebook.com/1799121373711495/picture?type=large", "display_name": "Clay Chester", "link": "https://stackoverflow.com/users/8704927/clay-chester"}, "edited": false, "score": 0, "creation_date": 1537996593, "post_id": 52525841, "comment_id": 91992068, "body": "I will include an update, but these are not copies of existing questions. searching for the error does not bring up the commas-as-separators. as the cause of the issue."}], "answers": [{"tags": [], "owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "is_accepted": true, "score": 2, "last_activity_date": 1537995204, "creation_date": 1537995204, "answer_id": 52525889, "question_id": 52525841, "link": "https://stackoverflow.com/questions/52525841/converting-a-column-of-object-values-to-float-or-integers-valueerror-invalid-l/52525889#52525889", "title": "converting a column of object values to float or integers. ValueError: invalid literal for int() with base 10: &#39;1,026,765&#39;", "body": "<p>Use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.replace.html\" rel=\"nofollow noreferrer\"><code>str.replace()</code></a> to remove the commas.</p>\n\n<pre><code>dfproduction['Crude Oil Production (Mbbl)'].str.replace(r',', '').astype('int')\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 8704927, "user_type": "registered", "profile_image": "https://graph.facebook.com/1799121373711495/picture?type=large", "display_name": "Clay Chester", "link": "https://stackoverflow.com/users/8704927/clay-chester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 52525889, "answer_count": 1, "score": 0, "last_activity_date": 1537996768, "creation_date": 1537994896, "last_edit_date": 1537996768, "question_id": 52525841, "link": "https://stackoverflow.com/questions/52525841/converting-a-column-of-object-values-to-float-or-integers-valueerror-invalid-l", "title": "converting a column of object values to float or integers. ValueError: invalid literal for int() with base 10: &#39;1,026,765&#39;", "body": "<pre><code>  dfproduction = pd.read_csv('https://raw.githubusercontent.com/chessybo/Oil-Spill-map/master/Oil%20Spill%20Data%20-%20Crude%20Oil%2C%20Gas%20Well%20Liquids%20or%20Associated%20Products%20(H-8)/production%20data/Crude%20Oil%20Production%20and%20Well%20Counts%20(since%201935).csv', encoding='utf-8')\n</code></pre>\n\n<p>I want to convert this data to numbers (namely the column, 'Crude Oil Production (Mbbl)') such as float or int.</p>\n\n<p>currently the dtype is object</p>\n\n<pre><code>    print(dfproduction.dtypes)\nMasterYear                                  int64\nCrude Oil Production (Mbbl)                object\nDaily Avg. Production (Mbbl/day)           object\nNumber of Producing Wells                  object\nPercent Change in Production               object\nAvg. Per Well Production (bbl/day)        float64\nCrude Oil Reserves as of Jan. 1 (Mbbl)     object\ninfo                                       object\ndtype: object\n</code></pre>\n\n<p>however any attempt to do so results in some form of error. </p>\n\n<pre><code>dfproduction['Crude Oil Production (Mbbl)'].astype('int')\nValueError: invalid literal for int() with base 10: '1,026,765'\n\ndfproduction['Crude Oil Production (Mbbl)'].astype('float')\nValueError: could not convert string to float: '375,617'\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>The issue was the commas in the numbers, I removed the commas and reuploaded the data. only now i recieve the following error.. </p>\n\n<pre><code>UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa0 in position 83: invalid start byte\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "function"], "comments": [{"owner": {"reputation": 526, "user_id": 5365012, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_2kQk52HsJQ/AAAAAAAAAAI/AAAAAAAAESI/NauEwEkApuc/photo.jpg?sz=128", "display_name": "138", "link": "https://stackoverflow.com/users/5365012/138"}, "edited": false, "score": 0, "creation_date": 1537995521, "post_id": 52525811, "comment_id": 91991708, "body": "what do you mean by input? Do you mean passing them into the decode?"}, {"owner": {"reputation": 1, "user_id": 10420929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iqL3JW3N2eI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUz_Mv5cSHOPsRrURy4TaLzMGSWEQ/mo/photo.jpg?sz=128", "display_name": "O_B", "link": "https://stackoverflow.com/users/10420929/o-b"}, "reply_to_user": {"reputation": 526, "user_id": 5365012, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_2kQk52HsJQ/AAAAAAAAAAI/AAAAAAAAESI/NauEwEkApuc/photo.jpg?sz=128", "display_name": "138", "link": "https://stackoverflow.com/users/5365012/138"}, "edited": false, "score": 0, "creation_date": 1538013640, "post_id": 52525811, "comment_id": 91996220, "body": "Yes. That is correct."}, {"owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "edited": false, "score": 0, "creation_date": 1538040339, "post_id": 52525811, "comment_id": 92006513, "body": "it means <code>def decode (arrayCiphers, arrayKeys , letter) </code>?"}, {"owner": {"reputation": 1, "user_id": 10420929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iqL3JW3N2eI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUz_Mv5cSHOPsRrURy4TaLzMGSWEQ/mo/photo.jpg?sz=128", "display_name": "O_B", "link": "https://stackoverflow.com/users/10420929/o-b"}, "edited": false, "score": 0, "creation_date": 1538054138, "post_id": 52525811, "comment_id": 92015092, "body": "I&#39;m trying to pass both arrays through the decoding function. The problem I&#39;m having is that arrayCiphers[0] should use arrayKeys[0], arrayCiphers[1] should use arrayKeys[1] and so on."}], "owner": {"reputation": 1, "user_id": 10420929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iqL3JW3N2eI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUz_Mv5cSHOPsRrURy4TaLzMGSWEQ/mo/photo.jpg?sz=128", "display_name": "O_B", "link": "https://stackoverflow.com/users/10420929/o-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537994706, "creation_date": 1537994706, "question_id": 52525811, "link": "https://stackoverflow.com/questions/52525811/how-to-input-an-array-that-has-several-inputs-through-a-function", "title": "How to input an array that has several inputs through a function?", "body": "<p>I have the following code that decyphers encrypted texts:</p>\n\n<pre><code>letter = 'abcdefghijklmnopqrstuvwxyz'\npath = 'Cipher Assignment/ciphertext*.txt'\nciphers = glob.glob(\"Cipher Assignment/ciphertext*.txt\")\nkeys = glob.glob(\"Cipher Assignment/key*.txt\")\narrayCipher = []\narrayKey = []\n\n# Function that opens files and saves them into an array:\ndef savingFiles(inputFiles, sourceFiles):\n    for sourceFile in sourceFiles:\n        with open(sourceFile) as ins:\n            for line in ins:\n                inputFiles.append(line)\n    return inputFiles\n\narrayCiphers = savingFiles(arrayCipher, ciphers)\narrayKeys = savingFiles(arrayKey, keys)\n</code></pre>\n\n<p>How do I input my 2 arrays (arrayCiphers, arrayKeys) to be decoded in the decode function?</p>\n\n<pre><code># Decoding function that decyphers the text:\ndef decode(ciphertext, key, letter):\n    indexKey = dict(zip(key, letter))\n    return ''.join(indexKey.get(c.lower(), c) for c in ciphertext)\n\n\n# for i in range(len(arrayKeys)):\n#     decoded = decode(arrayCiphers, arrayKeys[i], letter)\n#     print(decoded)\n\nfor index, key in enumerate(arrayKey):\n    decoded = decode(arrayCiphers[index], key, letter)\n    print(decoded)\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "language-agnostic", "permutation", "combinatorics", "discrete-mathematics"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1537997527, "post_id": 52525762, "comment_id": 91992410, "body": "Your question isn&#39;t very Python-specific, so I would suggest removing the language tag because you might get more answers that way. There&#39;s even a &quot;language-agnostic&quot; tag..."}, {"owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 1, "creation_date": 1537999593, "post_id": 52525762, "comment_id": 91993034, "body": "One the other hand, there are 600k+ watchers for the Python tag, and only 2.3k for language-agnostic, so maybe you should keep the Python tag anyway if you want your question to have some visibility..."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5854496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a99707b5447c4ac04a92671cb4747573?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cleary", "link": "https://stackoverflow.com/users/5854496/daniel-cleary"}, "edited": false, "score": 1, "creation_date": 1538000292, "post_id": 52526548, "comment_id": 91993256, "body": "This is great! This type of solution hadn&#39;t occurred to me. Give me some time to confirm that this solution works for the different scenarios I could have. It looks exactly correct in what I was looking for.  The wording might not have been correct for &quot;maximizing equal distribution&quot; but what I meant was that at any point of the resulting list, the objects would be as close as possible to being equal in, the amount and in position of the pair. (First,second). It looks like your solution does exactly that! Thank you!"}, {"owner": {"reputation": 45, "user_id": 5854496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a99707b5447c4ac04a92671cb4747573?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cleary", "link": "https://stackoverflow.com/users/5854496/daniel-cleary"}, "edited": false, "score": 1, "creation_date": 1538064296, "post_id": 52526548, "comment_id": 92021909, "body": "You&#39;re the man! thank you this answer works perfect. Could you tell me where I might be able to learn about things like this. I&#39;m not a total newbie to programming but my education didn&#39;t dive too far into stuff like this. A book or a subject to look up would be very helpful."}, {"owner": {"reputation": 45, "user_id": 5854496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a99707b5447c4ac04a92671cb4747573?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cleary", "link": "https://stackoverflow.com/users/5854496/daniel-cleary"}, "edited": false, "score": 0, "creation_date": 1548434565, "post_id": 52526548, "comment_id": 95553048, "body": "Hey thank you so much for your help. I&#39;ve been trying to figure out a way to larger groups than just pairs but with the same philosophy of having the groups being different and not containing the same index. I&#39;ve been trying to manipulate you code but I can&#39;t work it out.. I made another post about it <a href=\"https://stackoverflow.com/questions/54369353/custom-permutation-equal-distribution-of-equal-size-groups\">HERE</a> if you&#39;d be willing to help again :)"}], "tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": true, "score": 3, "last_activity_date": 1537999353, "last_edit_date": 1592644375, "creation_date": 1537999025, "answer_id": 52526548, "question_id": 52525762, "link": "https://stackoverflow.com/questions/52525762/custom-permutation-equal-distribution-of-pairs/52526548#52526548", "title": "Custom permutation, Equal distribution of pairs", "body": "<p>What you mean by 'maximize equal distribution' isn't clearly defined. One could maybe consider the greatest number of pairs between two apparitions of a given value. I'll leave it to you to show how the method I give here performs relatively to that.</p>\n<p>With n objects, we have n*(n-1) pairs. In these <code>(a, b)</code> pairs:</p>\n<ul>\n<li><p>n have indices such as b = (a+1) modulo n</p>\n</li>\n<li><p>n have indices such as b = (a+2) modulo n</p>\n<p>and so on.</p>\n</li>\n</ul>\n<p>We can generate the first n pairs with a difference of 1, then the n pairs with a difference of 2...</p>\n<p>For each difference, we generate the indices by adding the difference to the index (modulo n). When we get an <code>a</code> that was already used for this difference, we add 1\n(modulo n, again). This way, we can generate the n pairs with this difference. As we are 'rolling' through the indices, we are sure that every value will appear regularly.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def pairs(n):\n    for diff in range(1, n):\n        starts_seen = set()\n        index = 0\n        for i in range(n):\n            pair = [index]\n            starts_seen.add(index)\n            index = (index+diff) % n\n            pair.append(index)\n            yield pair\n            index = (index+diff) % n\n            if index in starts_seen:\n                index = (index+1) % n\n                \npairs2 = list(pair for pair in pairs(2))\nprint(pairs2)\n# [[0, 1], [1, 0]]          \n\npairs3 = list(pair for pair in pairs(3))\nprint(pairs3)         \n# [[0, 1], [2, 0], [1, 2], \n#  [0, 2], [1, 0], [2, 1]]\n\npairs4 = list(pair for pair in pairs(4))\nprint(pairs4)        \n# [[0, 1], [2, 3], [1, 2], [3, 0],   &lt;- diff = 1\n#  [0, 2], [1, 3], [2, 0], [3, 1],   &lt;- diff = 2\n#  [0, 3], [2, 1], [1, 0], [3, 2]]   &lt;- diff = 3\n\npairs5 = list(pair for pair in pairs(5))\nprint(pairs5)    \n# [[0, 1], [2, 3], [4, 0], [1, 2], [3, 4],\n#  [0, 2], [4, 1], [3, 0], [2, 4], [1, 3],\n#  [0, 3], [1, 4], [2, 0], [3, 1], [4, 2],\n#  [0, 4], [3, 2], [1, 0], [4, 3], [2, 1]]\n\n# A check to verify that we get the right number of different pairs:\nfor n in range(100):\n    pairs_n = set([tuple(pair) for pair in pairs(n)])\n    assert len(pairs_n) == n*(n-1)\nprint('ok')\n# ok\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5854496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a99707b5447c4ac04a92671cb4747573?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cleary", "link": "https://stackoverflow.com/users/5854496/daniel-cleary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 2, "accepted_answer_id": 52526548, "answer_count": 1, "score": 4, "last_activity_date": 1538000618, "creation_date": 1537994500, "last_edit_date": 1538000618, "question_id": 52525762, "link": "https://stackoverflow.com/questions/52525762/custom-permutation-equal-distribution-of-pairs", "title": "Custom permutation, Equal distribution of pairs", "body": "<p>I've been playing with a strange problem for a few weeks and can't seem to get the results I want. </p>\n\n<p>I'd like to take a permutation of a list of objects to get unique pairs. Then order them in a particular way to maximize equal distribution of the objects at any point in the list. This also means that if an object is at the beginning of a pair if should also be at the end of a pair soon after. No pairs can repeat.  To clarify, here is an example.</p>\n\n<p>list (A,B,C,D) might result in the following:</p>\n\n<pre><code>(A,B)\n(C,D)\n(B,A)\n(D,C)\n(A,C)\n(B,D)\n(C,A)\n(D,B)\n(A,D)\n(B,C)\n(D,A)\n(C,B)\n</code></pre>\n\n<p>Notice, every letter is used every 2 pairs, and the letters switch positions frequently.</p>\n\n<p>To get the permutation I used the python script:</p>\n\n<pre><code>perm = list(itertools.permutations(list,2))\n</code></pre>\n\n<p>which gave me 12 pairs of the letters.</p>\n\n<p>I then manually ordered the pairs so the each letter is chosen as often as possible and switches position as often as possible. At any point in the list the letters will be distributed very equally. When I go through the process of figuring out this problem I know where in the list I will stop but I don't know how much that effects the order the pairs are placed in.</p>\n\n<p>With 4 letters it can be done easier because (4 letters / 2 pairs) = 2. \nI also would like this to work with odd permutation pairs as well. </p>\n\n<p>For example:</p>\n\n<p>A,B.C</p>\n\n<p>A,B,C,D,E</p>\n\n<p>etc..</p>\n\n<p>I have tried this a number of ways and tried to recognize patterns and while there are plenty, there is just many ways to do this problem especially. There also may not be a perfect answer.</p>\n\n<p>I have also tried taking a normal permutation of the letters P(4,4) or in the case of 5 letters P(5,5), and I've tried picking certain permutations, combining them, and then chopping them up into pairs. This seems like another route but I can't seem to be able to figure out which pairs to pick unless I manually work through it.</p>\n\n<p>Any help is appreciated! Maybe try to point me in the right direction :)</p>\n\n<p>I ultimately will try to implement this into python but I don't necessarily need help writing the code. it's more a question of what the process might be.  </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 8106, "user_id": 129600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8304c94fad5c5a762301de60d0a9bd7e?s=128&d=identicon&r=PG", "display_name": "acushner", "link": "https://stackoverflow.com/users/129600/acushner"}, "edited": false, "score": 1, "creation_date": 1537994644, "post_id": 52525761, "comment_id": 91991360, "body": "&#39;Therm&#39; is a string. look at the commas in the column."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1537995101, "post_id": 52525761, "comment_id": 91991558, "body": "&#39;Therm&#39; column was read in as string not float (because it contains commas). If you had done <code>ng.info()</code> you would have seen that. There are many duplicates of this."}], "answers": [{"comments": [{"owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "edited": false, "score": 1, "creation_date": 1537995662, "post_id": 52525795, "comment_id": 91991761, "body": "Wow <code>pray hands emoji</code>, thank you so much. The <code>thousands=&#39;,&#39;</code> is exactly what I needed..."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1537995760, "post_id": 52525795, "comment_id": 91991806, "body": "Please don&#39;t answer a question which is <a href=\"https://stackoverflow.com/questions/37439933/pandas-reading-csv-data-formatted-with-comma-for-thousands-separator\">known to be a duplicate</a>. It will get closed and you won&#39;t earn any rep."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 4, "last_activity_date": 1537995487, "last_edit_date": 1537995487, "creation_date": 1537994664, "answer_id": 52525795, "question_id": 52525761, "link": "https://stackoverflow.com/questions/52525761/unsupported-operand-types-for-str-and-int/52525795#52525795", "title": "unsupported operand type(s) for -: &#39;str&#39; and &#39;int&#39;", "body": "<p>The problem is that because of the commas, the <code>Therm</code> column is being read as a string. Luckily, <code>read_csv</code> has a <code>decimal</code> argument to deal with that. Use:</p>\n\n<pre><code>ng = pd.read_csv('C:/Users/me/Desktop/ngDataBaseline.csv', decimal=',', index_col='Date', parse_dates=True)\n\n&gt;&gt;&gt; ng\n         Date  HDD    Therm\n0  2011-05-01  347    3.506\n1  2011-06-01   74    1.237\n2  2011-07-01    0  139.000\n3  2011-08-01    0   35.000\n4  2011-09-01  154  170.000\n</code></pre>\n\n<p>Then, your <code>corr</code> works:</p>\n\n<pre><code>&gt;&gt;&gt; ng['HDD'].corr(ng['Therm'])\n-0.275450033528333\n</code></pre>\n\n<p>If instead, the comma is a thousands delimiter, use the argument <code>thousands</code>:</p>\n\n<pre><code>ng = pd.read_csv('C:/Users/me/Desktop/ngDataBaseline.csv', thousands=',', index_col='Date', parse_dates=True)\n\n&gt;&gt;&gt; ng\n         Date  HDD  Therm\n0  2011-05-01  347   3506\n1  2011-06-01   74   1237\n2  2011-07-01    0    139\n3  2011-08-01    0     35\n4  2011-09-01  154    170\n\n&gt;&gt;&gt; ng['HDD'].corr(ng['Therm'])\n0.8794452911190037\n</code></pre>\n"}], "owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 0, "closed_date": 1537996488, "accepted_answer_id": 52525795, "answer_count": 1, "score": 2, "last_activity_date": 1537995547, "creation_date": 1537994496, "last_edit_date": 1537995547, "question_id": 52525761, "link": "https://stackoverflow.com/questions/52525761/unsupported-operand-types-for-str-and-int", "closed_reason": "Duplicate", "title": "unsupported operand type(s) for -: &#39;str&#39; and &#39;int&#39;", "body": "<p>I know this post cant be replicated as the data is in a CSV format that I am reading locally, but I could post the data to a github account if it would be useful. I am attempting to find correlation first:</p>\n\n<pre><code>ng = pd.read_csv('C:/Users/me/Desktop/ngDataBaseline.csv', index_col='Date', parse_dates=True)\nng.head()\n</code></pre>\n\n<p>Which will return two columns:</p>\n\n<pre><code>    HDD Therm\nDate        \n2011-05-01  347 3,506\n2011-06-01  74  1,237\n2011-07-01  0   139\n2011-08-01  0   35\n2011-09-01  154 170\n</code></pre>\n\n<p>But if I do a:\n<code>ng['HDD'].corr(ng['Therm'])</code></p>\n\n<p>I get an error about <code>unsupported operand type(s) for /: 'str' and 'int'</code></p>\n\n<p>Which doesnt make sense to me as it should all be pandas series i think.</p>\n\n<p>If I do a <code>print(type(ng['HDD']))</code> Ipython will output <code>&lt;class 'pandas.core.series.Series'&gt;</code></p>\n\n<p>As the same with <code>print(type(ng['Therm']))</code> so why cant I correlate the data?</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "statsmodels"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1537999531, "post_id": 52525734, "comment_id": 91993017, "body": "To obtain a plot y vs. x you would use <code>plt.plot(x,y)</code>."}, {"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1538135622, "post_id": 52525734, "comment_id": 92048035, "body": "I am reading that the varmax in stats models will try to remove sufficient stationarity to be predictive. If so, changing my method might give find a solution without an external differencing applied."}], "answers": [{"tags": [], "owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "is_accepted": false, "score": 0, "last_activity_date": 1538575982, "creation_date": 1538575982, "answer_id": 52629025, "question_id": 52525734, "link": "https://stackoverflow.com/questions/52525734/invert-stationarity-for-arima-model/52629025#52629025", "title": "invert stationarity for ARIMA model", "body": "<p>the way to do this turned out to be, first, make it into a dataframe:</p>\n\n<pre><code>predDf = pd.DataFrame(predictions)\n</code></pre>\n"}], "owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538575982, "creation_date": 1537994353, "last_edit_date": 1537995502, "question_id": 52525734, "link": "https://stackoverflow.com/questions/52525734/invert-stationarity-for-arima-model", "title": "invert stationarity for ARIMA model", "body": "<p>how do I invert the stationarity and reapply the dates to the data for plotting?</p>\n\n<p>srcs: </p>\n\n<ul>\n<li><a href=\"https://nbviewer.jupyter.org/github/robbiemu/location-metric-data/blob/master/appData%20and%20locationData.ipynb\" rel=\"nofollow noreferrer\">https://nbviewer.jupyter.org/github/robbiemu/location-metric-data/blob/master/appData%20and%20locationData.ipynb</a></li>\n<li><a href=\"https://github.com/robbiemu/location-metric-data\" rel=\"nofollow noreferrer\">https://github.com/robbiemu/location-metric-data</a></li>\n</ul>\n\n<p>I am trying to invert stationarity and get a plot of prediction, particularly for two columns called ' app_1', and ' app_2, (the orange and red lines below).</p>\n\n<p>The data I am drawing from looks like this:\n<a href=\"https://i.stack.imgur.com/t2VvL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t2VvL.jpg\" alt=\"plotted data set\"></a></p>\n\n<pre><code>print(u1.info())\nu1.head()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nDatetimeIndex: 15011 entries, 2017-08-28 11:00:00 to 2018-01-31 19:30:00\nFreq: 15T\nData columns (total 10 columns):\n app_1        15011 non-null float64\n app_2        15011 non-null float64\nuser          15011 non-null object\n bar          15011 non-null float64\n grocers      15011 non-null float64\n home         15011 non-null float64\n lunch        15011 non-null float64\n park         15011 non-null float64\n relatives    15011 non-null float64\n work         15011 non-null float64\ndtypes: float64(9), object(1)\nmemory usage: 1.3+ MB\n\napp_1   app_2   user    bar grocers home    lunch   park    relatives   work\ndate                                        \n2017-08-28 11:00:00 0.010000    0.0 user_1  0.0 0.0 0.0 0.0 0.0 0.0 0.0\n2017-08-28 11:15:00 0.010125    0.0 user_1  0.0 0.0 0.0 0.0 0.0 0.0 0.0\n2017-08-28 11:30:00 0.010250    0.0 user_1  0.0 0.0 0.0 0.0 0.0 0.0 0.0\n2017-08-28 11:45:00 0.010375    0.0 user_1  0.0 0.0 0.0 0.0 0.0 0.0 0.0\n2017-08-28 12:00:00 0.010500    0.0 user_1  0.0 0.0 0.0 0.0 0.0 0.0 0.0\n</code></pre>\n\n<p>the location column represent a location the user is at at a given time -- after the first \"significant location change\" event, one and only one column will be a 1 at a time.</p>\n\n<p>I am analyzing this with VARIMAX -- using statsmodels VARMAX version of AR.:</p>\n\n<pre><code>from statsmodels.tsa.statespace.varmax import VARMAX\nimport pandas as pd\nimport numpy as np\n\n%matplotlib inline\n\nimport matplotlib\nimport matplotlib.pyplot as plt\n\nfrom random import random\n#...\n\ncolumns = [ ' app_1', ' app_2', ' bar', ' grocers', ' home', ' lunch', ' work', ' park', ' relatives' ]\nseries = u1[columns]\n\n# from: https://machinelearningmastery.com/make-predictions-time-series-forecasting-python/\n# create a difference transform of the dataset\ndef difference(dataset):\n    diff = list()\n    for i in range(1, len(dataset)):\n        value = dataset[i] - dataset[i - 1]\n        diff.append(value)\n    return np.array(diff)\n\n# Make a prediction give regression coefficients and lag obs\ndef predict(coef, history):\n    yhat = coef[0]\n    for i in range(1, len(coef)):\n        yhat += coef[i] * history[-i]\n    return yhat\n\nX = pd.DataFrame()\nfor column in columns:\n    X[column] = difference(series[column].values)\n\nsize = (4*24)*54 # hoping\ntrain, test = X[0:size], X[size:size+(14*4*24)]\n\ntrain = train.loc[:, (train != train.iloc[0]).any()] # https://stackoverflow.com/questions/20209600/panda-dataframe-remove-constant-column\ntest = test.loc[:, (test != test.iloc[0]).any()] # https://stackoverflow.com/questions/20209600/panda-dataframe-remove-constant-column\n\n#print(train.var(), X.info())\n\n# train autoregression\nmodel = VARMAX(train)\nmodel_fit = model.fit(method='powell', disp=False)\n#print(model_fit.mle_retvals)\n\n##window = model_fit.k_ar\ncoef = model_fit.params\n\n# walk forward over time steps in test\nhistory = [train.iloc[i] for i in range(len(train))]\npredictions = list()\nfor t in range(len(test)):\n    yhat = predict(coef, history)\n    obs = test.iloc[t]\n    predictions.append(yhat)\n    history.append(obs) \n\nprint(mean_squared_error(test, predictions))\n\n0.5594208989876831\n</code></pre>\n\n<p>That mean_squared_error from scikitlearn is not horrifying (its roughly the middle of the three samples shown in the documentation, in fact). That _could mean that the data is predictive. I'd like to see that in a plot.</p>\n\n<pre><code># plot\nplt.plot(test)\nplt.plot(predictions, color='red')\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oQZHd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQZHd.png\" alt=\"plot of predictions\"></a></p>\n\n<p>So, part of what is going on here is that the data is seasonal, so it had to have stationarity applied to it. Now the lines are all vertical, instead of temporal.</p>\n\n<p>But another thing that concerns me is the <em>scale</em> of the red data. That's <em>a lot of red</em>. Anyway, how do I invert the stationarity and reapply the dates to the data for plotting? It obviously should not look like that. :)</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 1259, "user_id": 10393194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b5fdc7c050b41d2093383eb325f06e?s=128&d=identicon&r=PG&f=1", "display_name": "panktijk", "link": "https://stackoverflow.com/users/10393194/panktijk"}, "edited": false, "score": 0, "creation_date": 1537994533, "post_id": 52525693, "comment_id": 91991312, "body": "Can you show a sample of your csv file and dataframe? <code>data=[ID;Sample;...]</code> is not valid python syntax."}, {"owner": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1537994562, "post_id": 52525693, "comment_id": 91991326, "body": "@eyllanesc thanks, I am still learning how to format the questions! Sorry!"}, {"owner": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "reply_to_user": {"reputation": 1259, "user_id": 10393194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b5fdc7c050b41d2093383eb325f06e?s=128&d=identicon&r=PG&f=1", "display_name": "panktijk", "link": "https://stackoverflow.com/users/10393194/panktijk"}, "edited": false, "score": 0, "creation_date": 1537994896, "post_id": 52525693, "comment_id": 91991478, "body": "@panktijk now as a picture showing the data in excel datasheet"}, {"owner": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1537995021, "post_id": 52525693, "comment_id": 91991522, "body": "@ALollz now it reads, but are not separating the data in the right way"}, {"owner": {"reputation": 1259, "user_id": 10393194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b5fdc7c050b41d2093383eb325f06e?s=128&d=identicon&r=PG&f=1", "display_name": "panktijk", "link": "https://stackoverflow.com/users/10393194/panktijk"}, "edited": false, "score": 0, "creation_date": 1537995295, "post_id": 52525693, "comment_id": 91991628, "body": "You can specify your delimiter if it is something else apart from a comma. E.g., for tab separated files, you can add <code>sep=&#39;\\t&#39;</code>"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1537995505, "post_id": 52525693, "comment_id": 91991699, "body": "Well not quite sure you have comma separated values... Try <code>pd.read_csv(&#39;data.csv&#39;, encoding=&#39;latin-1&#39;, decimal=&#39;,&#39;, sep=&#39;;&#39;)</code>"}, {"owner": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "reply_to_user": {"reputation": 1259, "user_id": 10393194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b5fdc7c050b41d2093383eb325f06e?s=128&d=identicon&r=PG&f=1", "display_name": "panktijk", "link": "https://stackoverflow.com/users/10393194/panktijk"}, "edited": false, "score": 0, "creation_date": 1537995869, "post_id": 52525693, "comment_id": 91991848, "body": "@panktijk thanks so much...now it&#39;s work, I change the separator from comma to semicolon and now it&#39;s work very well"}, {"owner": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 1, "creation_date": 1537995912, "post_id": 52525693, "comment_id": 91991863, "body": "@ALollz thanks! now it&#39;s work very well!"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "edited": false, "score": 0, "creation_date": 1537995117, "post_id": 52525846, "comment_id": 91991562, "body": "I have edited the question showing the original dataset in excel, please can you check it ?"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "reply_to_user": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "edited": false, "score": 0, "creation_date": 1537995336, "post_id": 52525846, "comment_id": 91991638, "body": "Unfortunately, a picture of the text doesn&#39;t help, it matters what it looks like before excel sees it. If you could open it in notepad or another text editor and post the first few lines that might help, or check the character encoding as in <a href=\"http://codeftw.blogspot.com/2009/07/how-to-find-character-encoding-of-text.html\" rel=\"nofollow noreferrer\">codeftw.blogspot.com/2009/07/&hellip;</a>"}, {"owner": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "edited": false, "score": 0, "creation_date": 1537995342, "post_id": 52525846, "comment_id": 91991640, "body": "I changed the first column (0) from ID to seq...and now it&#39; reading but not in the right way separating all the collumns"}, {"owner": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "edited": false, "score": 0, "creation_date": 1537995428, "post_id": 52525846, "comment_id": 91991671, "body": "data = [seq;Sample;X;Y;Date;Place;Final Depth;Local Depth;Top Depth;Bottom Depth;Method;Project 1;1A;1;2;23/08/2017;Place1;-14;-12,2;0;-1;Cup Extractor;AA 2;1B;2;3;23/08/2017;Place2;-14;-12,2;-1;-2;Cup Extractor;AA 3;2;3;4;23/08/2017;Place3;-14;-11,76;0;-1;Cup Extractor;AA]"}], "tags": [], "owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "is_accepted": true, "score": 0, "last_activity_date": 1537994944, "creation_date": 1537994944, "answer_id": 52525846, "question_id": 52525693, "link": "https://stackoverflow.com/questions/52525693/reading-a-csv-mixed-string-and-number/52525846#52525846", "title": "Reading a CSV mixed string and number", "body": "<p>That error doesn't have to do with mixed numbers and letters, pandas will just read that in as a string. </p>\n\n<p>Without seeing your file, there's not a way to be sure, but there is apparently some character in your input file that is not a valid unicode character. I would double check the character encoding, and open the file just in a text editor instead of excel to see what the first few characters are.</p>\n\n<p>For example, I created a test file containing</p>\n\n<pre><code>col1,col2,col3\n1,foo,1a\n2,bar,2\n3,baz,c\n4,sit,4d\n</code></pre>\n\n<p>and run <code>pd.read_csv('testfile.txt')</code></p>\n\n<p>output:</p>\n\n<pre><code>    col1    col2    col3\n0   1       foo     1a\n1   2       bar     2\n2   3       baz     c\n3   4       sit     4d\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10095708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d2e0fea21a9efa8cc97bfd21f72a838?s=128&d=identicon&r=PG&f=1", "display_name": "ferthal", "link": "https://stackoverflow.com/users/10095708/ferthal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 0, "accepted_answer_id": 52525846, "answer_count": 1, "score": 0, "last_activity_date": 1538245864, "creation_date": 1537994202, "last_edit_date": 1538245864, "question_id": 52525693, "link": "https://stackoverflow.com/questions/52525693/reading-a-csv-mixed-string-and-number", "title": "Reading a CSV mixed string and number", "body": "<p>I have the dataset listed below, and I am trying to read it using panda.read_csv tool as described, but the it's raise the following error</p>\n\n<blockquote>\n  <p>UnicodeDecodeError: 'utf-8' codec can't decode byte 0xba in position 1: invalid start byte. </p>\n</blockquote>\n\n<p>I imagine that it could be because the column 1 (sample) mix stings with numbers. </p>\n\n<p>So what would be the best way to transform the column 1 in to string before to input it in the pandas ? </p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv('data.csv')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uaims.png\" rel=\"nofollow noreferrer\">DATASET</a></p>\n"}, {"tags": ["python", "python-3.x", "sympy"], "comments": [{"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "edited": false, "score": 0, "creation_date": 1537994538, "post_id": 52525678, "comment_id": 91991319, "body": "As an aside, you cannot use MathJax (or any other LaTeX derivative) on SO outside the math-heavy sites which really need it as it imposes a significant delay on page-load."}, {"owner": {"reputation": 686, "user_id": 8874154, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mq_Wb-BErkY/AAAAAAAAAAI/AAAAAAAAAQo/j-rCDFI9XuU/photo.jpg?sz=128", "display_name": "Swift", "link": "https://stackoverflow.com/users/8874154/swift"}, "edited": false, "score": 0, "creation_date": 1537994654, "post_id": 52525678, "comment_id": 91991365, "body": "Try to use <code>enumerate()</code> rather than <code>range(len())</code> . This is a side note, i doubt it would improve the performance. A quick suggestion though, you could add some timers in here to figure out where it begins to slow down, or what is taking so long, this way, you are able to look at individual chunks of code, because it might not be the whole code causing the issue, but rather one particular function or loop."}, {"owner": {"reputation": 686, "user_id": 8874154, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Mq_Wb-BErkY/AAAAAAAAAAI/AAAAAAAAAQo/j-rCDFI9XuU/photo.jpg?sz=128", "display_name": "Swift", "link": "https://stackoverflow.com/users/8874154/swift"}, "edited": false, "score": 0, "creation_date": 1537994809, "post_id": 52525678, "comment_id": 91991427, "body": "Could you somehow thread this? I think by default you can use 1000 or so threads. If you don&#39;t care about the order that it returns the numbers in that is."}, {"owner": {"reputation": 139, "user_id": 10102864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oQb81.jpg?s=128&g=1", "display_name": "Matthew K", "link": "https://stackoverflow.com/users/10102864/matthew-k"}, "edited": false, "score": 0, "creation_date": 1538016503, "post_id": 52525678, "comment_id": 91996738, "body": "What do you guys think about ufunctify from sympy.utilities.autowrap?"}], "owner": {"reputation": 139, "user_id": 10102864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oQb81.jpg?s=128&g=1", "display_name": "Matthew K", "link": "https://stackoverflow.com/users/10102864/matthew-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1538016413, "creation_date": 1537994091, "last_edit_date": 1538016413, "question_id": 52525678, "link": "https://stackoverflow.com/questions/52525678/need-help-in-reducing-time-for-graphing-a-monster-function", "title": "Need help in reducing time for graphing a monster function", "body": "<p>I'm graphing the following function:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sXNB8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXNB8.png\" alt=\"function\"></a></p>\n\n<p>L(l=0) is pretty self explanatory in the code which is piecewise with 2 conditions: B1 and B2.This is my attempt at graphing it (in Python):</p>\n\n<pre><code>import numpy as np \nfrom mpmath import *\nfrom sympy import *\nimport matplotlib.pyplot as plt\n\nulist = np.random.uniform(size=40)\n\nsigma = 0.05 \n\nsomelist = [] \n\ndef fsubk(t0): \n    somelist.clear()   \n    for i in range(0,len(ulist)): \n        somelist.append(float(exp((ulist[i]-t0)/(sigma/sqrt(2)))*nsum(lambda k: exp(-k/(sigma/sqrt(2))),[1,inf]))) \n        somelist.append(float(exp((t0-ulist[i])/(sigma/sqrt(2)))*nsum(lambda k: exp(k/(sigma/sqrt(2))),[-inf,-1]))) \n        if t0 &gt;= ulist[i]:  \n            somelist.append(float(exp((ulist[i]-t0)/(sigma/sqrt(2))))) # B1 condition\n        else:\n            somelist.append(float(exp((t0-ulist[i])/(sigma/sqrt(2))))) # B2 condition\nreturn float(np.sum(somelist)*(1/(sigma*sqrt(2)))+10)\n\nvfunc = np.vectorize(fsubk)\nx = np.linspace(0,0.9999999999999,100)\ny = vfunc(x)\nplt.plot(x,y)\nplt.show()\n</code></pre>\n\n<p>I'm looking to optimize my code so that generating the graph is significantly faster. Sympy recommends to use the autowrap module and I tried doing it with binary_function and lambdify (not shown here) but I didn't see noticeable changes.<br>\nIf anyone can help, that'd be very appreciated!</p>\n"}, {"tags": ["python", "pdf", "python-tesseract"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1537993667, "post_id": 52525581, "comment_id": 91990969, "body": "The occurs with the fact that it can <i>not</i> find the file. So the path is probably wrong (or maybe you should use a <i>raw</i> string)."}], "answers": [{"tags": [], "owner": {"reputation": 1262, "user_id": 6140888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/145533ebf03ff137be533b4869da2841?s=128&d=identicon&r=PG&f=1", "display_name": "ARR", "link": "https://stackoverflow.com/users/6140888/arr"}, "is_accepted": false, "score": 2, "last_activity_date": 1537994123, "creation_date": 1537994123, "answer_id": 52525682, "question_id": 52525581, "link": "https://stackoverflow.com/questions/52525581/how-to-extract-text-from-images-in-a-pdf-file-using-pytesseract/52525682#52525682", "title": "how to extract text from images in a pdf file using pytesseract", "body": "<p>Your trying to open a pdf file as an image. Its not possible pillow state in their docs that they do not support reading pdf file see: <a href=\"https://pillow.readthedocs.io/en/5.1.x/handbook/image-file-formats.html\" rel=\"nofollow noreferrer\">https://pillow.readthedocs.io/en/5.1.x/handbook/image-file-formats.html</a></p>\n\n<p>Anyhow you could tranform the pdf to an image with the library pdf2image and than open it with pillow and feed it to tesseract.</p>\n"}], "owner": {"reputation": 1, "user_id": 7068471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ef78af116e8c0487d54b3fefdf9f167?s=128&d=identicon&r=PG&f=1", "display_name": "pavanbvns", "link": "https://stackoverflow.com/users/7068471/pavanbvns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2429, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537994123, "creation_date": 1537993628, "last_edit_date": 1537993708, "question_id": 52525581, "link": "https://stackoverflow.com/questions/52525581/how-to-extract-text-from-images-in-a-pdf-file-using-pytesseract", "title": "how to extract text from images in a pdf file using pytesseract", "body": "<p>I am trying to use below code for extracting text from images of a pdf file.\nThe PDF file is a Contract Document which is a scanned copy of a Contract. All the pages in the pdf file are images.</p>\n\n<p>When I tried using the below code to extract data, I am getting an error saying it could not read the file / could not identify the image file.</p>\n\n<pre><code>try:\n    import Image\nexcept ImportError:\n    from PIL import Image\n\nimport pytesseract\n\npytesseract.pytesseract.tesseract_cmd = 'C:\\\\Program Files (x86)\\\\Tesseract-OCR\\\\tesseract.exe'\n\n# Simple image to string\n#print(pytesseract.image_to_string(Image.open('C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python37\\\\Scripts\\\\1184.pdf')))\n</code></pre>\n\n<p>Traceback (most recent call last):</p>\n\n<pre><code>  File \"C:\\Users\\Administrator\\eclipse-workspace\\tesseract\\test\\greetings.py\", line 18, in &lt;module&gt;\n    print(pytesseract.image_to_string(Image.open('C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python37\\\\Scripts\\\\1184.pdf')))\n  File \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\PIL\\Image.py\", line 2622, in open\n    % (filename if filename else fp))\nOSError: cannot identify image file 'C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python37\\\\Scripts\\\\1184.pdf'\n</code></pre>\n\n<p>Please help me how to go about</p>\n"}, {"tags": ["python", "partial", "lightgbm"], "owner": {"reputation": 115, "user_id": 7092358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90565070e803496e4dadc4776aec1c21?s=128&d=identicon&r=PG&f=1", "display_name": "Valentas Gruzauskas", "link": "https://stackoverflow.com/users/7092358/valentas-gruzauskas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1537993422, "creation_date": 1537993422, "question_id": 52525536, "link": "https://stackoverflow.com/questions/52525536/partial-dependence-plots-with-min-max-interval-and-not-only-average-in-python", "title": "Partial dependence plots with min/max (interval) and not only average in Python", "body": "<p>Good day,</p>\n\n<p>I have applied lightGBM algorithm to real estate price data set (85524 observations and 167 features). I want to receive the interaction between year and real estate area size to price. The dependent variable is transformed with log1p to get normal distribution.</p>\n\n<p>I have used Python, pdpbox module to generate an interaction plot. As I understand the coloring is the average price between the variables, however, I would like to receive the interval of the interaction i.e. min and max. Is it possible to do so? </p>\n\n<pre><code>LGBMR.fit(df_train.drop([\"Price\"], axis = 1, inplace = False), df_train[\"Price\"])\n\nfeats = ['Year', 'Real estate area']\np = pdp.pdp_interact(LGBMR, df, model_features = columns, features = feats)\npdp.pdp_interact_plot(p, feats, plot_type = 'grid')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Nt2LF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nt2LF.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I am adding the pdp interaction plot. For example, in 2008 year, the real estate object of size 0.52 was purchased for an average price of 5.697 (prediction), but I would like to know the min and max predicted price of this interaction.</p>\n"}, {"tags": ["python", "sqlalchemy", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1537993433, "post_id": 52525525, "comment_id": 91990858, "body": "Part of the warnings are incorrect, and due to the fact that <code>flake8</code>, does assume that no type will override the <code>__eq__</code> to compare with booleans. Personally I do not like that approach of SQLAlchemy either, since <code>User.active == True</code> does <i>not</i> return <code>True</code>/<code>False</code>, but returns an object that can be used as a &quot;subexpression&quot; in the filtering."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1537993557, "post_id": 52525525, "comment_id": 91990919, "body": "<code>sqlalchemy.sql.expression import true</code> and <code>User.query.filter(User.active == true())</code> would work, and for <code>NULL</code> / <code>None</code>, use <code>User.query.filter(User.some_column.is_(None))</code>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1537993719, "post_id": 52525525, "comment_id": 91990993, "body": "@WillemVanOnsem: SQLAlchemy <i>must</i> use <code>==</code> as there is no dunder-method to handle <code>is</code>; there are not that many options there. In SQL there is no <code>column IS true</code>, and different databases handle booleans differently."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1537993807, "post_id": 52525525, "comment_id": 91991034, "body": "@MartijnPieters: I know that, but the <code>==</code> operator overloading is in my opinion ugly, it would be better to use <code>User.active.equal(True)</code>. Not only is it downright ugly, it also is against a principle some Haskell programmers use: do not use (non standardized) operators. Since they do not explain what is happening, and furthermore the precedence rules need to be memorized. This is actually the main reason why I decided to simply no longer use SQLAlchemy anymore."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2709610"}, "edited": false, "score": 1, "creation_date": 1537993863, "post_id": 52525525, "comment_id": 91991058, "body": "What do you think about the <code># noqa</code> comment to have Flake8 ignore it?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1537995816, "post_id": 52525525, "comment_id": 91991831, "body": "@WillemVanOnsem I disagree, I prefer SQLAlchemy <i>because</i> it uses standard Python syntax. Booleans and <code>None</code> are really one of the few exceptions where SQL and Python patterns diverge."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1537995977, "post_id": 52525525, "comment_id": 91991884, "body": "@MartijnPieters: well an extra problem is that since one hints that <code>Table.column == True</code> syntax is allowed, then this also results in the fact that people think that <code>Table.column == True and Table.column2 == False</code> is allowed. As for the <code>is</code> operator (the Python one), this results (together with <code>id</code>) in the fact that there is no <i>referential transparency</i>, which is also - imho - a sad thing. Yes it tends to perform some operations faster, etc. But at the same time, it makes the language less declarative."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1537996650, "post_id": 52525525, "comment_id": 91992084, "body": "@onosendi my answer to one of those duplicates starts with the <code>noqa</code> option."}], "owner": {"user_type": "does_not_exist", "display_name": "user2709610"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 640, "favorite_count": 0, "closed_date": 1537993461, "answer_count": 0, "score": 0, "last_activity_date": 1537993573, "creation_date": 1537993331, "question_id": 52525525, "link": "https://stackoverflow.com/questions/52525525/pep8-error-for-sqlalchemy-string-comparison", "closed_reason": "Duplicate", "title": "PEP8 error for SQLAlchemy string comparison", "body": "<p>I'm getting a PEP8 error when comparing to <code>True</code> and <code>None</code>.</p>\n\n<p>I get E712 comparison to True should be 'if cond is True:' or 'if cond:' with the following:</p>\n\n<pre><code>User.query.filter(User.active == True)\n</code></pre>\n\n<p>If I set <code>True</code> to a variable, it obviously fixes it:</p>\n\n<pre><code>pep8 = True\nUser.query.filter(User.active == pep8)\n</code></pre>\n\n<p>Using SQLAlchemy, replacing <code>True</code> with <code>int:1</code> seems to fix it as well:</p>\n\n<pre><code>User.query.filter(User.active == 1)\n</code></pre>\n\n<p>However, when comparing a string to <code>None</code>, I'm also getting the PEP8 error:</p>\n\n<pre><code>User.query.filter(User.some_column == None)\n</code></pre>\n\n<p>Does anyone know a way around this?</p>\n"}, {"tags": ["python", "django", "python-3.x"], "comments": [{"owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "edited": false, "score": 0, "creation_date": 1537993275, "post_id": 52525482, "comment_id": 91990794, "body": "If your nested <code>if</code> statements are comparing the same <code>method</code> variable, the inside of the second <code>if</code> will never be reached. I&#39;m not sure if that is your problem, though. Could you elaborate on your issue?"}, {"owner": {"reputation": 309, "user_id": 10226791, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MSXf3-A-p2Y/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qY0jPLNXYJIKXUJfCoO0grMV6ecw/mo/photo.jpg?sz=128", "display_name": "Ambasador", "link": "https://stackoverflow.com/users/10226791/ambasador"}, "reply_to_user": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "edited": false, "score": 0, "creation_date": 1538033514, "post_id": 52525482, "comment_id": 92002697, "body": "@Kevin K The problem is that I do not know how to properly use the recursion in my code to get the result I want"}], "owner": {"reputation": 309, "user_id": 10226791, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MSXf3-A-p2Y/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qY0jPLNXYJIKXUJfCoO0grMV6ecw/mo/photo.jpg?sz=128", "display_name": "Ambasador", "link": "https://stackoverflow.com/users/10226791/ambasador"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1537993074, "creation_date": 1537993074, "question_id": 52525482, "link": "https://stackoverflow.com/questions/52525482/creating-a-tree-in-json-with-python-from-model-objects", "title": "Creating a tree in json with python from model objects", "body": "<p>I have a storage model from which I need to get objects in the form of a tree and do it like this:</p>\n\n<pre><code>if model == 'Storage':\n    if method == 'Read':\n        try:\n            list_sr = []\n            storage = Storage.objects.all()\n            for item_sr in list(storage):\n                dict_sr = {}\n                if item_sr.id_parent_id == 0:\n                    dict_sr['text'] = item_sr.name\n                    dict_sr['id'] = str(item_sr.id)\n                    dict_sr['expanded'] = True\n                if item_sr.id_parent_id != 0:\n                    dict_sr['children'] = [{'text:' + item_sr.name + \", leaf = True\"}]\n                list_sr.append(dict_sr)\n\n            result = {'expanded': 'true', 'text': 'Storage', 'children': list_sr}\n            jsonFormat = json.dumps(result, indent=4, sort_keys=True, default=str)\n            print('Look' + str(jsonFormat))\n            ...\n</code></pre>\n\n<p>Output of the dictionary data the result displays the following form:</p>\n\n<pre><code>{\n    \"children\": [\n        {\n            \"expanded\": true,\n            \"id\": \"9\",\n            \"text\": \"Title 1\"\n        },\n        {\n            \"children\": [\n                \"{'text:Test 1, leaf = True'}\"\n            ]\n        },\n        {\n            \"children\": [\n                \"{'text:Test 2, leaf = True'}\"\n            ]\n        },\n        {\n            \"expanded\": true,\n            \"id\": \"12\",\n            \"text\": \"Title 2\"\n        },\n        {\n            \"children\": [\n                \"{'text:Test 3, leaf = True'}\"\n            ]\n        },\n        {\n            \"children\": [\n                \"{'text:Test 4, leaf = True'}\"\n            ]\n        }\n    ],\n    \"expanded\": \"true\",\n    \"text\": \"Storage\"\n}\n</code></pre>\n\n<p>I need to have the data in this form:</p>\n\n<pre><code>expanded: true, text: \"Storage\",\n\nchildren:[\n\n  {\n    text: \"Title 1\", id: '9', expanded: true,\n    children: [\n    {\n        text: \"Test 1\", leaf: true ,\n    },\n    {\n        text: \"Test 2\", leaf: true\n    }\n\n    ]\n },\n {\n    text: \"Title 2\", id: '12', expanded: true,\n    children: [\n    {\n        text: \"Test 3\", leaf: true ,\n    },\n    {\n        text: \"Test 4\", leaf: true\n    }\n\n    ]\n }\n\n ]\n</code></pre>\n\n<p>In python, I'm new and therefore I can not generate the correct data in a loop so that they have a representation suitable for Ext.data.TreeStore. How do I change the code in a loop to get the data in the correct form?</p>\n"}]