[{"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 3, "last_activity_date": 1422490286, "last_edit_date": 1422490286, "creation_date": 1422489887, "answer_id": 28204801, "question_id": 28204717, "link": "https://stackoverflow.com/questions/28204717/better-way-to-execute-nested-for-loops-to-generate-a-dict/28204801#28204801", "title": "Better way to execute nested for loops to generate a dict?", "body": "<p>funnily enough it is itertools.product</p>\n\n<pre><code>import itertools\nalphabet = ['a', 'b', 'c', 'd', 'e', 'f','z']\nnumbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nchars = [\"!\", \"@\", \"#\", \"$\"]\nmy_iter = itertools.product(alphabet,numbers,chars)\nmy_keys = \"letter number char\".split()\nfor data in my_iter:\n    print dict(zip(my_keys,data))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "is_accepted": false, "score": 3, "last_activity_date": 1422489892, "creation_date": 1422489892, "answer_id": 28204802, "question_id": 28204717, "link": "https://stackoverflow.com/questions/28204717/better-way-to-execute-nested-for-loops-to-generate-a-dict/28204802#28204802", "title": "Better way to execute nested for loops to generate a dict?", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.product\" rel=\"nofollow\"><code>itertools.product</code></a> to compute the Cartesian product between all provided iterables:</p>\n\n<pre><code>import itertools\nimport string\n\nfor letter, number, char in itertools.product(string.ascii_lowercase, string.digits, string.punctuation):\n    print({'letter': letter, 'number': number, 'char': char})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7276, "user_id": 400691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24aa1542372e04f5d658974692ef6b89?s=128&d=identicon&r=PG", "display_name": "meshy", "link": "https://stackoverflow.com/users/400691/meshy"}, "is_accepted": true, "score": 2, "last_activity_date": 1422490512, "last_edit_date": 1422490512, "creation_date": 1422490015, "answer_id": 28204828, "question_id": 28204717, "link": "https://stackoverflow.com/questions/28204717/better-way-to-execute-nested-for-loops-to-generate-a-dict/28204828#28204828", "title": "Better way to execute nested for loops to generate a dict?", "body": "<p>To produce the generator you requested:</p>\n\n<pre><code>from itertools import product\n\nalphabet = ['a', 'b', 'c', 'd', 'e', 'f', ... ,'z']\nnumbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nchars = [\"!\", \"@\", \"#\", \"$\"]\n\ncombinations = product(alphabet, numbers, chars)\ngenerator = ({'letter': l, 'number': n, 'char': c} for l, n, c in combinations)\n</code></pre>\n\n<p>As this is a generator, it will be evaluated only when needed:</p>\n\n<pre><code>list(generator)\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 1578715, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d31a0cd8d29201ef67857ffdb76f11c4?s=128&d=identicon&r=PG", "display_name": "Jabberwockey", "link": "https://stackoverflow.com/users/1578715/jabberwockey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 1, "accepted_answer_id": 28204828, "answer_count": 3, "score": 1, "last_activity_date": 1422550999, "creation_date": 1422489490, "last_edit_date": 1422550999, "question_id": 28204717, "link": "https://stackoverflow.com/questions/28204717/better-way-to-execute-nested-for-loops-to-generate-a-dict", "title": "Better way to execute nested for loops to generate a dict?", "body": "<p>Is there a better way in python to generate a list dictionaries, containing values from lists, than using nested <code>for</code> loops?</p>\n\n<p>Example:</p>\n\n<pre><code>alphabet = ['a', 'b', 'c', 'd', 'e', 'f', ... ,'z']\nnumbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nchars = [\"!\", \"@\", \"#\", \"$\"]\n\nobjects = []\nfor letter in alphabet:\n    for number in numbers:\n        for char in characters:\n            objects.append({\n                'letter': letter,\n                'number': number,\n                'char': char\n            })\n\nprint objects\n# [{letter: 'a', 'number': 0, 'char':'!'}, {letter: 'a', 'number': 0, 'char':'@'}, ...\n</code></pre>\n\n<p>I'm trying to figure out how to make a list of dicts that contains every combination of three lists.  Using nested <code>for</code> loops in the example above, this is 26 x 10 x 4 loops.  I looked at using <code>zip</code>, but only merges lists and doesn't give every unique combination.</p>\n\n<p>Is there a pythonic way to get it done quicker than 26 x 10 x 4 loops?</p>\n\n<p>Is there a way to accomplish this lazily via a generator?  If so, how?</p>\n"}, {"tags": ["python", "python-2.7", "for-loop", "enumerate"], "answers": [{"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 1, "last_activity_date": 1422564059, "creation_date": 1422564059, "answer_id": 28224185, "question_id": 28204640, "link": "https://stackoverflow.com/questions/28204640/deleting-using-enumerate-function-skipping-character/28224185#28224185", "title": "Deleting using Enumerate function skipping character", "body": "<p>The reason your current code does not work is the same as the reason that modifying a list while iterating over it does not work (even though you're not doing that, exactly): The indexes of the later items in the list are changed when the earlier items are removed.</p>\n\n<p>A possible way to avoid this issue is to iterate over the list in reverse and subtract from the original length to index later items. Since the first items you remove will be towards the end of the list, later items will not have their indexes change:</p>\n\n<pre><code>new_list = list(text)\nL = len(new_list)\nfor i, j in enumerate(reversed(new_list)):\n    if j.lower() in vowels:\n        del new_list[L - i - 1]\n</code></pre>\n\n<p>Note that using negative indexing (rather than manually subtracting from the original length) will not work, as the length of the list will change as you remove the items from the end.</p>\n\n<p>I realize this isn't what you need for your current assignment, but the most \"Pythonic\" way to solve your problem is to put a generator expression inside a <code>str.join</code> call and not use any lists at all:</p>\n\n<pre><code>def anti_vowel(text):\n    return \"\".join(c for c in text if c.lower() not in vowels)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4479862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4R1Zo.jpg?s=128&g=1", "display_name": "Ankit Gupta", "link": "https://stackoverflow.com/users/4479862/ankit-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1422564292, "creation_date": 1422489142, "last_edit_date": 1422564292, "question_id": 28204640, "link": "https://stackoverflow.com/questions/28204640/deleting-using-enumerate-function-skipping-character", "title": "Deleting using Enumerate function skipping character", "body": "<p><em>I Read Several Post on this skipping character while deleting but didn't find solution</em></p>\n\n<p><strong>I am trying to make anti-vowel program in python 2.7 but stuck at multiple points which are.!!</strong></p>\n\n<ol>\n<li>As in my program, I made a copy of list to iterate over it, so that I could delete vowels from original list if found in globally defined vowel list but it is skipping characters!! (May be because of incremented index)</li>\n<li>When working with lower function, my program sometimes give list assignment index out of range error!!. Is this something related to memory allocation or something else. (Coz, when I removed it, program run well!!)</li>\n</ol>\n\n<p>Please help to get it correct.</p>\n\n<p>Code:</p>\n\n<pre><code>import copy\nvowels=['a','e','i','o','u'] # Making list of vowels\n#Function for anti_vowel\ndef anti_vowel(text):\n    new_list=list(text) # Converting it into list\n    new_list_copy=copy.deepcopy(new_list) # Copying the list to iterate\n    res=\"\" # For converting back to string\n\n    for index, j in enumerate(new_list_copy):\n        m = j.lower() # Converting it into a lower-case for comparison\n        if m in vowels:\n            del(new_list[index]) # Deleting if a vowel is in list(HERE IS THE PROBLEM)\n    return res.join(new_list)\nprint anti_vowel(\"HeEY lOok Word!\")\n</code></pre>\n\n<p>P.S: I made it work by replacing DELETE Function by Appending in new list:</p>\n\n<pre><code>if j.lower() not in vowels:\n            x.append(j) #x is a new list\n</code></pre>\n\n<p><strong><em>BUT NEEDS SOLUTION WITH DELETE FUNCTION</em></strong></p>\n\n<p>Advance Thanks!!</p>\n"}, {"tags": ["python", "memory", "ipython", "shelve"], "answers": [{"comments": [{"owner": {"reputation": 6493, "user_id": 215847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9d9434407b38d995c43ceb59fe6adb5b?s=128&d=identicon&r=PG", "display_name": "pocketfullofcheese", "link": "https://stackoverflow.com/users/215847/pocketfullofcheese"}, "edited": false, "score": 0, "creation_date": 1422489255, "post_id": 28204647, "comment_id": 44775183, "body": "do you mean by iterating through the shelf?"}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "reply_to_user": {"reputation": 6493, "user_id": 215847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9d9434407b38d995c43ceb59fe6adb5b?s=128&d=identicon&r=PG", "display_name": "pocketfullofcheese", "link": "https://stackoverflow.com/users/215847/pocketfullofcheese"}, "edited": false, "score": 0, "creation_date": 1422489603, "post_id": 28204647, "comment_id": 44775289, "body": "I mean <code>for k, v in myShelf.items():</code> (or use <code>iteritems</code> in Python 2)."}, {"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 0, "creation_date": 1422490242, "post_id": 28204647, "comment_id": 44775482, "body": "+1 When converting to a <code>dict</code>, you add memory overhead in the form of internal book-keeping of the data structure. This is a very good idea."}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "reply_to_user": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 0, "creation_date": 1422490283, "post_id": 28204647, "comment_id": 44775498, "body": "@u\u028dop\u01ddp\u0131sdn: more to the point, when converting to <code>dict</code> everything needs to be in memory at once. Even if there&#39;s enough swap to cope, it&#39;s not pretty."}, {"owner": {"reputation": 6493, "user_id": 215847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9d9434407b38d995c43ceb59fe6adb5b?s=128&d=identicon&r=PG", "display_name": "pocketfullofcheese", "link": "https://stackoverflow.com/users/215847/pocketfullofcheese"}, "edited": false, "score": 0, "creation_date": 1422490291, "post_id": 28204647, "comment_id": 44775499, "body": "Incredible that it would be so much overhead (more than 4 times the content) for a dict. Its supposed to just be a hash table, right?"}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "reply_to_user": {"reputation": 6493, "user_id": 215847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9d9434407b38d995c43ceb59fe6adb5b?s=128&d=identicon&r=PG", "display_name": "pocketfullofcheese", "link": "https://stackoverflow.com/users/215847/pocketfullofcheese"}, "edited": false, "score": 0, "creation_date": 1422490533, "post_id": 28204647, "comment_id": 44775571, "body": "@pocketfullofcheese: you shouldn&#39;t assume because your data is 6GB on disk, that it&#39;s 6GB in memory too. Pickled objects often require less storage than the memory they occupy in full un-pickled form. There&#39;s overhead everywhere, in every Python object, not just the <code>dict</code> itself."}, {"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 0, "creation_date": 1422490548, "post_id": 28204647, "comment_id": 44775580, "body": "It&#39;s not just the hashes. As Steve says, the hash-table for the basic <code>dict</code> data structure is not meant to store so many entries. It has no offloading mechanism, it will hold every key-value pair in memory simultaneously"}], "tags": [], "owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "is_accepted": true, "score": 5, "last_activity_date": 1422491557, "last_edit_date": 1422491557, "creation_date": 1422489171, "answer_id": 28204647, "question_id": 28204603, "link": "https://stackoverflow.com/questions/28204603/why-does-converting-a-python-shelve-to-dict-use-so-much-memory/28204647#28204647", "title": "why does converting a python &#39;shelve&#39; to &#39;dict&#39; use so much memory?", "body": "<p>From my experience I'd expect pickling to be even more of a memory-hog than what you've done so far. However, creating a <code>dict</code> loads every key and value in the shelf into memory at once, and you shouldn't assume because your shelf is 6GB on disk, that it's only 6GB in memory. For example:</p>\n\n<pre><code>&gt;&gt;&gt; import sys, pickle\n&gt;&gt;&gt; sys.getsizeof(1)\n24\n&gt;&gt;&gt; len(pickle.dumps(1))\n4\n&gt;&gt;&gt; len(pickle.dumps(1, -1))\n5\n</code></pre>\n\n<p>So, a very small integer is 5-6 times bigger as a Python <code>int</code> object (on my machine) than it is once pickled.</p>\n\n<p>As for the workaround: <strong>you can write more than one pickled object to a file</strong>. So don't convert the shelf to a <code>dict</code>, just write a long sequence of keys and values to your file, then read an equally long sequence of keys and values on the other side to put into your new shelf. That way you only need one key/value pair in memory at a time. Something like this:</p>\n\n<p>Write:</p>\n\n<pre><code>with open('myshelf.pkl', 'wb') as outfile:\n    pickle.dump(len(myShelf), outfile)\n    for p in myShelf.iteritems():\n        pickle.dump(p, outfile)\n</code></pre>\n\n<p>Read:</p>\n\n<pre><code>with open('myshelf.pkl', 'rb') as infile:\n    for _ in xrange(pickle.load(infile)):\n        k, v = pickle.load(infile)\n        myShelf[k] = v\n</code></pre>\n\n<p>I think you don't actually need to store the length, you could just keep reading until <code>pickle.load</code> throws an exception indicating it's run out of file.</p>\n"}], "owner": {"reputation": 6493, "user_id": 215847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9d9434407b38d995c43ceb59fe6adb5b?s=128&d=identicon&r=PG", "display_name": "pocketfullofcheese", "link": "https://stackoverflow.com/users/215847/pocketfullofcheese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1661, "favorite_count": 1, "accepted_answer_id": 28204647, "answer_count": 1, "score": 4, "last_activity_date": 1422491557, "creation_date": 1422488846, "last_edit_date": 1422489856, "question_id": 28204603, "link": "https://stackoverflow.com/questions/28204603/why-does-converting-a-python-shelve-to-dict-use-so-much-memory", "title": "why does converting a python &#39;shelve&#39; to &#39;dict&#39; use so much memory?", "body": "<p>I have a very large python shelve object (6GB on disk). I want to be able to move it to another machine, and since shelves are not portable, I wanted to cPickle it. To do that, I first have to convert it to a dict. </p>\n\n<p>For some reason, when I do <code>dict(myShelf)</code> the ipython process spikes up to 32GB of memory (all my machine has) and then seems to hang (or maybe just take a really long time). </p>\n\n<p>Can someone explain this? And perhaps offer a potential workaround? </p>\n\n<p>edit: using Python 2.7</p>\n"}, {"tags": ["python", "django", "django-views", "django-sessions"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 0, "last_activity_date": 1422488770, "creation_date": 1422488770, "answer_id": 28204597, "question_id": 28204553, "link": "https://stackoverflow.com/questions/28204553/accessing-dict-values-from-request-session-in-views/28204597#28204597", "title": "accessing dict values from request.session in views", "body": "<p>You cannot use a dot notation in the view. I'd follow <a href=\"https://docs.python.org/2/glossary.html#term-eafp\" rel=\"nofollow\"><code>EAFP</code></a> style here:</p>\n\n<pre><code>try:\n    value = int(request.session['bookingContents']['bookingID'])\nexcept (KeyError, ValueError) as e:\n    value = None\n</code></pre>\n"}], "owner": {"reputation": 965, "user_id": 763880, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2ae9dee2ccb979a1ca4b73be70817e17?s=128&d=identicon&r=PG", "display_name": "AndrewO", "link": "https://stackoverflow.com/users/763880/andrewo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1150, "favorite_count": 0, "accepted_answer_id": 28204597, "answer_count": 1, "score": 0, "last_activity_date": 1422488936, "creation_date": 1422488518, "last_edit_date": 1422488936, "question_id": 28204553, "link": "https://stackoverflow.com/questions/28204553/accessing-dict-values-from-request-session-in-views", "title": "accessing dict values from request.session in views", "body": "<p>I'm trying to obtain a session variable within a view but I'm not having much luck. \nThe error I'm receiving is:</p>\n\n<p><strong>list indices must be integers, not str</strong></p>\n\n<p>I have the following session variable/dict being set: </p>\n\n<pre><code>u'bookingContents' :    \n    {\n    u'bookingID': 40, \n    u'bookingOptionContents': {\n        u'activityID': 1, \n        u'activityName': u'Echo Park legging races', \n        u'activityShortDescription': u'YOLO umami occupy, Echo Park leggings meh Kickstarter cardigan. ', \n        u'activityThumbnail': u'/media/activity/1/thumb_test.jpg', \n        u'optionCost': 20, \n        u'optionDayOfWeek': u'Tuesday', \n        u'optionEndTime': u'12:00', \n        u'optionStartDate': u'19/01/2015', \n        u'optionStartTime': u'06:00', \n        u'quantity': 9}, \n    u'bookingOptionID': 1}\n</code></pre>\n\n<p>I'm trying to access the bookingID and the bookingOptionsContents.quantity values by their label (preferably).</p>\n\n<p>My views code is as follows (for the first bookingID value):</p>\n\n<pre><code>if int(request.session.get('bookingContents.bookingID', False)) == somevalue:\n</code></pre>\n\n<p>i've also tried:</p>\n\n<pre><code>if int(request.session.get('[bookingContents']['bookingID'], False)) == somevalue:\n</code></pre>\n\n<p>but i can't seem to get at the values.</p>\n\n<p>Things work within a template, where I can successfully retrieve the values via:</p>\n\n<pre><code>{{request.session.bookingContents.bookingOptionContents.quantity}}\n{{request.session.bookingContents.bookingID}}\n</code></pre>\n\n<p><strong>How do I get the value for bookingID and quantity in a view?</strong></p>\n"}, {"tags": ["python", "bioinformatics"], "comments": [{"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 2, "creation_date": 1422488787, "post_id": 28204552, "comment_id": 44775013, "body": "Example of the input file would be useful."}, {"owner": {"reputation": 49959, "user_id": 866915, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/09242131d6e17cbbe31e8547514da6e5?s=128&d=identicon&r=PG", "display_name": "ErikR", "link": "https://stackoverflow.com/users/866915/erikr"}, "edited": false, "score": 0, "creation_date": 1422488942, "post_id": 28204552, "comment_id": 44775070, "body": "Can you provide a sample of what the input file looks like?"}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1422489659, "post_id": 28204552, "comment_id": 44775305, "body": "I run your example code with example input file and your output you are getting is far from you have listed. Is it the complete code snippet you provided?"}, {"owner": {"reputation": 3, "user_id": 4505240, "user_type": "registered", "profile_image": "https://graph.facebook.com/745461210/picture?type=large", "display_name": "GenomicPanda", "link": "https://stackoverflow.com/users/4505240/genomicpanda"}, "edited": false, "score": 0, "creation_date": 1422489999, "post_id": 28204552, "comment_id": 44775402, "body": "No, its not the full code, I am just trying to figure out how to remove the empty lines."}], "answers": [{"comments": [{"owner": {"reputation": 3476, "user_id": 3584851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa4dd84b120ab04b51e9daf35f052dbc?s=128&d=identicon&r=PG&f=1", "display_name": "jolvi", "link": "https://stackoverflow.com/users/3584851/jolvi"}, "reply_to_user": {"reputation": 3, "user_id": 4505240, "user_type": "registered", "profile_image": "https://graph.facebook.com/745461210/picture?type=large", "display_name": "GenomicPanda", "link": "https://stackoverflow.com/users/4505240/genomicpanda"}, "edited": false, "score": 0, "creation_date": 1422499127, "post_id": 28204620, "comment_id": 44777802, "body": "After looking at the data example and output, it seems that this answer doesn&#39;t make sense. Below a new answer based on the example."}], "tags": [], "owner": {"reputation": 3476, "user_id": 3584851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa4dd84b120ab04b51e9daf35f052dbc?s=128&d=identicon&r=PG&f=1", "display_name": "jolvi", "link": "https://stackoverflow.com/users/3584851/jolvi"}, "is_accepted": false, "score": 1, "last_activity_date": 1422488967, "creation_date": 1422488967, "answer_id": 28204620, "question_id": 28204552, "link": "https://stackoverflow.com/questions/28204552/python-removing-whitespace-after-already-stripping-lines/28204620#28204620", "title": "Python - Removing whitespace after already stripping lines?", "body": "<p>Maybe a conditional append works? </p>\n\n<pre><code>if not seqid.strip.startswith('0'):\n    seqID.append(seqid)\n</code></pre>\n\n<p>If not it would help to see how <code>seqid</code> looks like. </p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4505240, "user_type": "registered", "profile_image": "https://graph.facebook.com/745461210/picture?type=large", "display_name": "GenomicPanda", "link": "https://stackoverflow.com/users/4505240/genomicpanda"}, "edited": false, "score": 0, "creation_date": 1422491458, "post_id": 28204993, "comment_id": 44775828, "body": "That solves the zero division problem. Would  you happen to know how to make it so it will wrap the segment together instead of stopping after 70 nucleotides?"}, {"owner": {"reputation": 7276, "user_id": 400691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24aa1542372e04f5d658974692ef6b89?s=128&d=identicon&r=PG", "display_name": "meshy", "link": "https://stackoverflow.com/users/400691/meshy"}, "reply_to_user": {"reputation": 3, "user_id": 4505240, "user_type": "registered", "profile_image": "https://graph.facebook.com/745461210/picture?type=large", "display_name": "GenomicPanda", "link": "https://stackoverflow.com/users/4505240/genomicpanda"}, "edited": false, "score": 0, "creation_date": 1422529179, "post_id": 28204993, "comment_id": 44789721, "body": "I think you could use <code>&#39;&#39;.join(sequences)</code>"}], "tags": [], "owner": {"reputation": 7276, "user_id": 400691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24aa1542372e04f5d658974692ef6b89?s=128&d=identicon&r=PG", "display_name": "meshy", "link": "https://stackoverflow.com/users/400691/meshy"}, "is_accepted": false, "score": 0, "last_activity_date": 1422491058, "creation_date": 1422491058, "answer_id": 28204993, "question_id": 28204552, "link": "https://stackoverflow.com/questions/28204552/python-removing-whitespace-after-already-stripping-lines/28204993#28204993", "title": "Python - Removing whitespace after already stripping lines?", "body": "<p>You could jump straight to the next iteration of the loop when the length of the line is 0:</p>\n\n<pre><code>numSeq = len(line)  # from your code for reference\nif not numSeq:\n    continue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3476, "user_id": 3584851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa4dd84b120ab04b51e9daf35f052dbc?s=128&d=identicon&r=PG&f=1", "display_name": "jolvi", "link": "https://stackoverflow.com/users/3584851/jolvi"}, "is_accepted": true, "score": 0, "last_activity_date": 1422498460, "last_edit_date": 1422498460, "creation_date": 1422497859, "answer_id": 28205962, "question_id": 28204552, "link": "https://stackoverflow.com/questions/28204552/python-removing-whitespace-after-already-stripping-lines/28205962#28205962", "title": "Python - Removing whitespace after already stripping lines?", "body": "<p>Given the file has an empty line after each sequence (also after the last sequence!), this should work:</p>\n\n<pre><code>if line.startswith(\"&gt;\"):\n    seqid = re.search('Segment:[(0-9)]',line).group()\n    seqID.append(seqid)\n    sequence = \"\"\nelif len(line.strip()): \n    sequence += line.strip()  # three lines will make a sequence\nelse: #Find the Length and GC%\n    numSeq = len(sequence)\n    #print seqid, numSeq\n    GCPercent = (( sequence.count('G') + sequence.count('C') ) / (numSeq)*100)\n    allGC.append(GCPercent);\n    sequences.append(sequence)\n    seqLen.append(numSeq)\n    print \"%s\\t%d\\t%.2f\" % (seqid,numSeq,GCPercent)\n</code></pre>\n\n<p>I just added three lines and replaced <code>line</code> with <code>sequence</code> on four locations. Looks like a minimal change solution, I haven't tested it though. </p>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1422500024, "creation_date": 1422500024, "answer_id": 28206244, "question_id": 28204552, "link": "https://stackoverflow.com/questions/28204552/python-removing-whitespace-after-already-stripping-lines/28206244#28206244", "title": "Python - Removing whitespace after already stripping lines?", "body": "<p>You can ignore empty lines by checking for them:</p>\n\n<pre><code>from __future__ import division\nimport re\n\nnumGC = 0;\nallGC = []; #array that contains all the GC%'s\nsequences = []; #The array that contains all the sequences\nseqID = []; #The array that contains all seqIds\nseqLen = [];\nnumSeq = 0\nGCPercent = 0\n\nwith open('fastatest.fasta', 'r') as f:\n    #Concatinating the FASTA file\n    for line in f:\n        line = line.rstrip(' \\n\\r')\n        if line:  # non-empty line?\n            if line.startswith(\"&gt;\"):\n                seqid = re.search('Segment:[(0-9)]',line).group()\n                seqID.append(seqid)\n            else: #Find the Length and GC%\n                numSeq = len(line)\n                #print seqid, numSeq\n                GCPercent = ((line.count('G') + line.count('C')) /\n                             (numSeq)*100)\n                allGC.append(GCPercent);\n                sequences.append(line)\n                seqLen.append(numSeq)\n                print \"%s\\t%d\\t%.2f\" % (seqid,numSeq,GCPercent)\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Segment:1   70  40.00\nSegment:1   70  44.29\nSegment:1   70  38.57\nSegment:1   70  37.14\nSegment:1   70  44.29\nSegment:1   70  37.14\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 918, "user_id": 751241, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/2EOKw.png?s=128&g=1", "display_name": "Stylize", "link": "https://stackoverflow.com/users/751241/stylize"}, "is_accepted": false, "score": 2, "last_activity_date": 1422667634, "creation_date": 1422667634, "answer_id": 28247197, "question_id": 28204552, "link": "https://stackoverflow.com/questions/28204552/python-removing-whitespace-after-already-stripping-lines/28247197#28247197", "title": "Python - Removing whitespace after already stripping lines?", "body": "<p>try using Biopython</p>\n\n<pre><code>from Bio import SeqIO\nfor record in SeqIO.parse(\"fasta.fas\",\"fasta\"):\n     print record.id\n     print record.seq\n</code></pre>\n\n<p>this should remove all new line etc...</p>\n"}], "owner": {"reputation": 3, "user_id": 4505240, "user_type": "registered", "profile_image": "https://graph.facebook.com/745461210/picture?type=large", "display_name": "GenomicPanda", "link": "https://stackoverflow.com/users/4505240/genomicpanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 28205962, "answer_count": 5, "score": 0, "last_activity_date": 1422667634, "creation_date": 1422488514, "last_edit_date": 1422490284, "question_id": 28204552, "link": "https://stackoverflow.com/questions/28204552/python-removing-whitespace-after-already-stripping-lines", "title": "Python - Removing whitespace after already stripping lines?", "body": "<p>I am having a problem with removing all the whitespace from a Fasta file, here is the program I have so far: </p>\n\n<pre><code>import re\n    for line in f:\n        line = line.rstrip(' \\n\\r')\n        if line.startswith(\"&gt;\"):\n            seqid = re.search('Segment:[(0-9)]',line).group()\n            seqID.append(seqid)\n        else:\n            numSeq = len(line)\n</code></pre>\n\n<p>This is what the test file looks like (I only used the first couple just to show the seqId): </p>\n\n<pre><code>&gt;gb:CY170782|Organism:Influenza A virus A/Santa Clara/YGA_03044/2013|Segment:1|Subtype:H3N2|Host:Human\nATTATATTCAGTATGGAAAGAATAAAAGAACTACGGAATCTGATGTCGCAGTCTCGCACTCGCGAGATAC\nTGACAAAAACCACAGTGGACCATATGGCCATAATTAAGAAGTACACATCGGGGAGACAGGAAAAGAACCC\nGTCACTTAGGATGAAATGGATGATGGCAATGAAATATCCAATCACTGCTGACAAAAGGGTAACAGAAATG\n\n&gt;gb:CY171006|Organism:Influenza A virus A/Santa Clara/YGA_03075/2013|Segment:1|Subtype:H3N2|Host:Human\nATTATATTCAGTATGGAAAGAATAAAAGAATTACGGAATCTGATGTCGCAATCTCGCACTCGCGAGATAC\nTGACAAAAACCACAGTGGACCATATGGCCATAATTAAGAAGTACACATCGGGGAGACAGGAAAAGAACCC\nGTCACTTAGGATGAAATGGATGATGGCAATGAAATACCCAATCACTGCTGACAAAAGAATAACAGAAATG\n</code></pre>\n\n<p>When I go to print it out, it prints out like this:</p>\n\n<pre><code>ATTATATTCAGTATGGAAAGAATAAAAGAACTACGGAATCTGATGTCGCAGTCTCGCACTCGCGAGATAC 70\nTGACAAAAACCACAGTGGACCATATGGCCATAATTAAGAAGTACACATCGGGGAGACAGGAAAAGAACCC 70\nGTCACTTAGGATGAAATGGATGATGGCAATGAAATATCCAATCACTGCTGACAAAAGGGTAACAGAAATG 70\n 0\nATTATATTCAGTATGGAAAGAATAAAAGAATTACGGAATCTGATGTCGCAATCTCGCACTCGCGAGATAC 70\nTGACAAAAACCACAGTGGACCATATGGCCATAATTAAGAAGTACACATCGGGGAGACAGGAAAAGAACCC 70\nGTCACTTAGGATGAAATGGATGATGGCAATGAAATACCCAATCACTGCTGACAAAAGAATAACAGAAATG 70\n 0\nATTATATTCAGTATGGAAAGAATAAAAGAACTACGGAATCTGATGTCGCAGTCTCGCACTCGCGAGATAC 70\nTGACAAAAACCACAGTGGACCATATGGCCATAATTAAGAAGTACACATCGGGGAGACAGGAAAAGAACCC 70\nGTCACTTAGGATGAAATGGATGATGGCAATGAAATATCCAATCACTGCTGACAAAAGGGTAACAGAAATG 70\n 0\n</code></pre>\n\n<p>How do I get it to join the lines and remove the lines with 0 nucleotides? Sorry for poor wording due to the lack of sleep. If you have questions about my question feel free to ask. </p>\n\n<p>Here is the full program:</p>\n\n<pre><code>from __future__ import division\nimport re\nf = open('fastatest.fasta','r')\nnumGC = 0;\nallGC = []; #array that contains all the GC%'s\nsequences = []; #The array that contains all the sequences\nseqID = []; #The array that contains all seqIds\nseqLen = [];\nnumSeq = 0\nGCPercent = 0\n#Concatinating the FASTA file\nfor line in f:\n    line = line.rstrip(' \\n\\r')\n    if line.startswith(\"&gt;\"):\n        seqid = re.search('Segment:[(0-9)]',line).group()\n        seqID.append(seqid)\n    else: #Find the Length and GC%\n        numSeq = len(line)\n        #print seqid, numSeq\n        GCPercent = (( line.count('G') + line.count('C') ) / (numSeq)*100)\n        allGC.append(GCPercent);\n        sequences.append(line)\n        seqLen.append(numSeq)\n        print \"%s\\t%d\\t%.2f\" % (seqid,numSeq,GCPercent)\n</code></pre>\n\n<p>And the output I am receiving: </p>\n\n<pre><code>Segment:1   70  40.00\nSegment:1   70  44.29\nSegment:1   70  38.57\nTraceback (most recent call last):\n  File \"blah\", line 20, in &lt;module&gt;\n    GCPercent = (( line.count('G') + line.count('C') ) / (numSeq)*100)\nZeroDivisionError: division by zero\n</code></pre>\n"}, {"tags": ["python", "latex", "enthought", "traits", "chaco"], "answers": [{"tags": [], "owner": {"reputation": 12456, "user_id": 235617, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/468f182e9d98bb9d3545dd87faf5d8c2?s=128&d=identicon&r=PG", "display_name": "tillsten", "link": "https://stackoverflow.com/users/235617/tillsten"}, "is_accepted": false, "score": 1, "last_activity_date": 1422628095, "creation_date": 1422628095, "answer_id": 28238012, "question_id": 28204537, "link": "https://stackoverflow.com/questions/28204537/latex-in-chaco-text/28238012#28238012", "title": "Latex in Chaco text?", "body": "<p>No, it is not (it is a matplotlib feature). But you could try to use unicode symbols for easy cases.</p>\n"}], "owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1422628095, "creation_date": 1422488439, "question_id": 28204537, "link": "https://stackoverflow.com/questions/28204537/latex-in-chaco-text", "title": "Latex in Chaco text?", "body": "<p>Is it possible to create a chaco plot with latex text?  For example, if we wanted latex symbols in the title of <a href=\"http://code.enthought.com/projects/chaco/docs/html/user_manual/tutorial_1.html\" rel=\"nofollow noreferrer\">this exampe</a>:</p>\n\n<pre><code>from traits.api import HasTraits, Instance\nfrom traitsui.api import View, Item\nfrom chaco.api import Plot, ArrayPlotData\nfrom enable.component_editor import ComponentEditor\nfrom numpy import linspace, sin\n\nclass LinePlot(HasTraits):\n    plot = Instance(Plot)\n    traits_view = View(\n        Item('plot',editor=ComponentEditor(), show_label=False),\n        width=500, height=500, resizable=True, title=\"Chaco Plot\")\n\n    def __init__(self):\n        super(LinePlot, self).__init__()\n        x = linspace(-14, 14, 100)\n        y = sin(x) * x**3\n        plotdata = ArrayPlotData(x=x, y=y)\n        plot = Plot(plotdata)\n        plot.plot((\"x\", \"y\"), type=\"line\", color=\"blue\")\n        plot.title = \"sin(x) * x^3\"\n        self.plot = plot\n\nif __name__ == \"__main__\":\n    LinePlot().configure_traits()\n</code></pre>\n\n<p>I tried replacing title with <code>$sin(x)^3$</code> to no avail, and wondered if this was possible?  Screenshot below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/oo1MV.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "string", "python-3.x", "concatenation", "reverse"], "answers": [{"tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": false, "score": 1, "last_activity_date": 1422490003, "last_edit_date": 1422490003, "creation_date": 1422488613, "answer_id": 28204569, "question_id": 28204523, "link": "https://stackoverflow.com/questions/28204523/how-to-reverse-and-concatenate-strings-at-certain-indexes/28204569#28204569", "title": "How to reverse and concatenate strings at certain indexes?", "body": "<p>Something like:</p>\n\n<pre><code>def concatreverse(s, i):\n    return s[:i] + reverse(s[i:])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4505237, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_tacD28uWk/AAAAAAAAAAI/AAAAAAAAAho/Ploanj0vWuU/photo.jpg?sz=128", "display_name": "Abort Mission", "link": "https://stackoverflow.com/users/4505237/abort-mission"}, "edited": false, "score": 0, "creation_date": 1422488981, "post_id": 28204573, "comment_id": 44775079, "body": "That makes sense. But wouldn&#39;t I have to define the range first?"}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "reply_to_user": {"reputation": 13, "user_id": 4505237, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_tacD28uWk/AAAAAAAAAAI/AAAAAAAAAho/Ploanj0vWuU/photo.jpg?sz=128", "display_name": "Abort Mission", "link": "https://stackoverflow.com/users/4505237/abort-mission"}, "edited": false, "score": 0, "creation_date": 1422489381, "post_id": 28204573, "comment_id": 44775225, "body": "What ranges? I split by index, as I understand from your question. You can check if index is grater than the length of string though. This would be good."}, {"owner": {"reputation": 13, "user_id": 4505237, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_tacD28uWk/AAAAAAAAAAI/AAAAAAAAAho/Ploanj0vWuU/photo.jpg?sz=128", "display_name": "Abort Mission", "link": "https://stackoverflow.com/users/4505237/abort-mission"}, "edited": false, "score": 0, "creation_date": 1422489638, "post_id": 28204573, "comment_id": 44775299, "body": "Oh, ok. I assumed I would&#39;ve had to define the range as len(s) or something related to that."}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "reply_to_user": {"reputation": 13, "user_id": 4505237, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_tacD28uWk/AAAAAAAAAAI/AAAAAAAAAho/Ploanj0vWuU/photo.jpg?sz=128", "display_name": "Abort Mission", "link": "https://stackoverflow.com/users/4505237/abort-mission"}, "edited": false, "score": 0, "creation_date": 1422489744, "post_id": 28204573, "comment_id": 44775326, "body": "Nah dont need. <code>[::-1]</code> this reverses string or any list. Its an alternative to using <code>reverse.</code> function."}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": false, "score": 0, "last_activity_date": 1422488625, "creation_date": 1422488625, "answer_id": 28204573, "question_id": 28204523, "link": "https://stackoverflow.com/questions/28204523/how-to-reverse-and-concatenate-strings-at-certain-indexes/28204573#28204573", "title": "How to reverse and concatenate strings at certain indexes?", "body": "<p>You could do as follows:</p>\n\n<pre><code>s = 'laptop'\ni = 3;\n\n# split the string into two parts\npart1,part2 = s[0:i], s[i:]\n\n# make new string starting with reversed second part.\ns2 = part2[::-1] + part1\nprint(s2) \n# prints: potlap\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4505237, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_tacD28uWk/AAAAAAAAAAI/AAAAAAAAAho/Ploanj0vWuU/photo.jpg?sz=128", "display_name": "Abort Mission", "link": "https://stackoverflow.com/users/4505237/abort-mission"}, "edited": false, "score": 0, "creation_date": 1422490217, "post_id": 28204673, "comment_id": 44775476, "body": "I employed something similar to this into my new function. Thanks for the advice! Explanation is much simpler compared to my instructors."}, {"owner": {"reputation": 1264, "user_id": 2415973, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e9f34595807d939626876a90021d1eb5?s=128&d=identicon&r=PG", "display_name": "tenwest", "link": "https://stackoverflow.com/users/2415973/tenwest"}, "reply_to_user": {"reputation": 13, "user_id": 4505237, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_tacD28uWk/AAAAAAAAAAI/AAAAAAAAAho/Ploanj0vWuU/photo.jpg?sz=128", "display_name": "Abort Mission", "link": "https://stackoverflow.com/users/4505237/abort-mission"}, "edited": false, "score": 0, "creation_date": 1422490825, "post_id": 28204673, "comment_id": 44775650, "body": "python is a bit cheap because you can get pretty far without knowing TRULY what&#39;s going on, but if you&#39;re pursuing computer science, it&#39;s probably worth banging your head against their explanations a bit :)   you&#39;re welcome and good luck!"}], "tags": [], "owner": {"reputation": 1264, "user_id": 2415973, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e9f34595807d939626876a90021d1eb5?s=128&d=identicon&r=PG", "display_name": "tenwest", "link": "https://stackoverflow.com/users/2415973/tenwest"}, "is_accepted": false, "score": 1, "last_activity_date": 1422489687, "last_edit_date": 1422489687, "creation_date": 1422489296, "answer_id": 28204673, "question_id": 28204523, "link": "https://stackoverflow.com/questions/28204523/how-to-reverse-and-concatenate-strings-at-certain-indexes/28204673#28204673", "title": "How to reverse and concatenate strings at certain indexes?", "body": "<p>Combining the other two answers, and implementing your reverse function:</p>\n\n<pre><code>def concatreverse(s, i):\n    \"\"\"This function takes in a string, s, which\n    is split at an index, i, reverses the second of the split,\n    and concatenates it back on to the first part\"\"\"\n\n    #Takes your inputs and processes\n    part1,part2 = s[0:i], s[i:]\n\n    #Reverse part2 with the function you already created\n    #this assumes it is accessible (in the same file, for instance)\n    rev_part2 = reverse(part2)\n\n    #concatenate the result\n    result = part1 +rev_part2\n\n    #Give it back to the caller\n    return result\n</code></pre>\n\n<p>As a beginner, it helps to step through line by line, or doing tests using the interpreter to see exactly what's going on :)</p>\n"}], "owner": {"reputation": 13, "user_id": 4505237, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1_tacD28uWk/AAAAAAAAAAI/AAAAAAAAAho/Ploanj0vWuU/photo.jpg?sz=128", "display_name": "Abort Mission", "link": "https://stackoverflow.com/users/4505237/abort-mission"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2921, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1422490003, "creation_date": 1422488388, "question_id": 28204523, "link": "https://stackoverflow.com/questions/28204523/how-to-reverse-and-concatenate-strings-at-certain-indexes", "title": "How to reverse and concatenate strings at certain indexes?", "body": "<p>For my assignment, I'm required to first come up with a function that reverses a string that is inputted (which I've already done using the code below)</p>\n\n<pre><code>def reverse(s):\n    if len(s) &lt;= 1:\n        return s\n\n    return reverse(s[1:]) + s[0]\n</code></pre>\n\n<p>The next part is to construct a new string from a given one by breaking it at a certain index value, and concatenating the reverse of the second part (the suffix) to the beginning of the first part (the prefix)</p>\n\n<p>For example, if the input string is 'laptop' and the chosen index value is, say, 3, the string is broken as 'lap' + 'top'. 'top' would then be reversed to 'pot' and would be concatenated with the prefix (in the order) as 'pot' + 'lap'</p>\n\n<p>The assignment is somewhat confusing and since I'm a novice with little to no experience besides a couple of days working in Python, I'm a little confused as to what to do. I'm pretty sure I have to use the slice and concatenation operators but I'm not sure how I should go about constructing a function that suits the above criteria. Any pointers? </p>\n"}, {"tags": ["javascript", "jquery", "python", "http", "wsgi"], "answers": [{"tags": [], "owner": {"reputation": 1262, "user_id": 2405038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d46445bf8fef9ea84ba87af9feb22ad5?s=128&d=identicon&r=PG&f=1", "display_name": "Ashik Basheer", "link": "https://stackoverflow.com/users/2405038/ashik-basheer"}, "is_accepted": false, "score": 0, "last_activity_date": 1424327031, "creation_date": 1424327031, "answer_id": 28599879, "question_id": 28204466, "link": "https://stackoverflow.com/questions/28204466/excessive-latency-on-cors-ajax-request-to-local-wsgi-server-in-chrome/28599879#28599879", "title": "Excessive Latency on CORS AJAX Request to Local WSGI Server in Chrome", "body": "<p>I believe you are also reading meta data from the server. Check logs for the request you made.</p>\n"}, {"comments": [{"owner": {"reputation": 17529, "user_id": 398606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9922e981f96ab7d809dfdc02c723fd41?s=128&d=identicon&r=PG", "display_name": "Sunil D.", "link": "https://stackoverflow.com/users/398606/sunil-d"}, "edited": false, "score": 3, "creation_date": 1438800517, "post_id": 29305192, "comment_id": 51602486, "body": "Thank you! I can&#39;t believe how much time I wasted because of this. Time to find a new browser to develop with :(  I noticed Chrome doing weird things to my dev server a few weeks ago (making requests, canceling them, only to make them again). And now this! Been banging my head over this latency issue. In Chrome 44.0.2403.130 this setting is now labeled <code>Prefetch resources to load pages more quickly</code>."}], "tags": [], "owner": {"reputation": 281, "user_id": 1074710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe74581b81e9886b5af5b231e0f47d8?s=128&d=identicon&r=PG", "display_name": "jpk", "link": "https://stackoverflow.com/users/1074710/jpk"}, "is_accepted": true, "score": 6, "last_activity_date": 1427472546, "creation_date": 1427472546, "answer_id": 29305192, "question_id": 28204466, "link": "https://stackoverflow.com/questions/28204466/excessive-latency-on-cors-ajax-request-to-local-wsgi-server-in-chrome/29305192#29305192", "title": "Excessive Latency on CORS AJAX Request to Local WSGI Server in Chrome", "body": "<p><strong>tl;dr</strong>: Chrome optimizes too aggressively.  News at 11.</p>\n\n<hr>\n\n<p>Turns out this is because of an \"optimization\" Chrome does to speed up page loads, API interactions, etc.</p>\n\n<p>Chrome has a setting called \"Predict network actions to improve page load performance\". (It's under Privacy in advanced settings.)  When this is enabled, Chrome will preemptively open TCP connections to servers that host resources on the page even before client-side code has reached a point in execution that will tell the browser to make an HTTP request.</p>\n\n<p>In this case, Chrome sees that I'll be making an AJAX request to the CORS server and opens up multiple TCP connections to the server in preparation for additional HTTP requests I might make later on (even though my javascript will only ever make one request to the server).  It apparently opens these extra connections <em>before</em> the connection that will actually carry the one HTTP request the javascript will make.  This means that for a single-threaded server, those additional connections have to time out before the connection that will carry the request can be serviced.  This is the source of the delay.</p>\n\n<p>The \"Predict network actions to improve page load performance\" setting is enabled by default, and is inactive while incognito (presumably because it leaks the user's behavior to servers that may or may not actually end up getting a request).  Disabling it prevents these extra connections from being opened and Chrome behaves identically to Firefox in this scenario.</p>\n\n<p>This makes me wonder how many TCP connections Chrome opens on production servers around the Internet that either go unused or are held open for excessive periods before sending a request.  Unused connections wouldn't even show up in access logs because no HTTP request is made, so it would be hard to gauge how much extra load Chrome users create.  In my opinion, this behavior is harmful.  First, because it attempts to improve client performance (which is admirable), but does so at the expense of server operators (which is not).  And second, because (as is obviated by it being disabled in incognito) has negative privacy implications.</p>\n"}], "owner": {"reputation": 281, "user_id": 1074710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe74581b81e9886b5af5b231e0f47d8?s=128&d=identicon&r=PG", "display_name": "jpk", "link": "https://stackoverflow.com/users/1074710/jpk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 4, "accepted_answer_id": 29305192, "answer_count": 2, "score": 7, "last_activity_date": 1427472546, "creation_date": 1422488078, "last_edit_date": 1592644375, "question_id": 28204466, "link": "https://stackoverflow.com/questions/28204466/excessive-latency-on-cors-ajax-request-to-local-wsgi-server-in-chrome", "title": "Excessive Latency on CORS AJAX Request to Local WSGI Server in Chrome", "body": "<h2>Setup</h2>\n<p>Two WSGI servers running locally on different ports.  One server returns an html page containing javascript that does a cross-origin ajax request to the other WSGI server using jQuery.</p>\n<p><code>origin_server.py</code> Serves the html at <code>http://localhost:9010</code>.</p>\n<pre><code>#!/usr/bin/env python\n\nfrom wsgiref.simple_server import make_server\n\n\ndef origin_html(environ, start_response):\n    status = '200 OK'\n    response_headers = [('Content-Type', 'text/html')]\n    start_response(status, response_headers)    \n\n    f = open('./index.html', 'rb')\n    return [f.read()]\n\nhttpd = make_server('localhost', 9010, origin_html)\nhttpd.serve_forever()\n</code></pre>\n<p><code>cors_server.py</code> Serves the cross-origin resource that the javascript will request.</p>\n<pre><code>#!/usr/bin/env python\n\nfrom wsgiref.simple_server import make_server\nimport json\n\n\ndef cors_json(environ, start_response):\n    status = '200 OK'\n    response_headers = [\n        ('Content-Type', 'application/json'),\n        ('Access-Control-Allow-Origin', '*')\n    ]\n    start_response(status, response_headers)\n\n    return [json.dumps({'foo': 'bar'})]\n\nhttpd = make_server('localhost', 9011, cors_json)\nhttpd.serve_forever()\n</code></pre>\n<p><code>index.html</code> The page served by <code>origin_sever.py</code>.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;script\n            type=&quot;text/javascript&quot;\n            src=&quot;https://code.jquery.com/jquery-2.1.3.min.js&quot;\n            &gt;\n        &lt;/script&gt;\n\n        &lt;script type=&quot;text/javascript&quot;&gt;\n            $(document).ready(function () { \n                console.log('Doing the thing.');\n                $.get('http://localhost:9011').done(function (data) {\n                    console.log('Got the thing', data);\n                });\n            });\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        Beep boop.\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Code above on github here: <a href=\"https://github.com/thatjpk/local-wsgi-cors-ajax\" rel=\"noreferrer\">https://github.com/thatjpk/local-wsgi-cors-ajax</a></p>\n<p>Versions of stuff for reference:</p>\n<ul>\n<li>Mid 2012 MacBook Pro, OS X 10.10</li>\n<li>Python 2.7.6</li>\n<li>wsgiref 0.1.2</li>\n<li>Chrome 40.0.2214.93 (Extensions disabled and settings reset for testing.)</li>\n<li>Firefox 35.0.1</li>\n</ul>\n<h2>Problem</h2>\n<p>Given the above I can open up two terminals, start <code>origin_server.py</code> in one, and <code>cors_server.py</code> in the other, then open a browser tab and point it to the origin server at <code>http://localhost:9010/</code>.  This loads the page, and does the cross-origin request.</p>\n<p>Ideally, the latencies should all be very low because it's all local.  However, I'm consistently seeing latencies for the cross-origin request of well over ten <em>seconds</em>.  What's bizzarre is I've only ever seen this in Chrome <em>in a non-incognito window</em>.  Firefox, curl, httpie, and Chrome incognito tabs on the same machine all complete the cross-origin request in sub-10ms, while non-incognito Chrome tabs take three orders of magnitude longer.</p>\n<p>If I cut CORS out of the equation, and just put <code>http://localhost:9011</code> in the Chrome address bar, the json loads into view immediately.  This apparently only happens when the request comes from javascript.</p>\n<p>If try to make another request to <code>cors_server.py</code> while a request to it in Chrome is &quot;pending&quot;, the second request will wait until the first one completes).  This means the first request is somehow tying up the wsgi server for a long time before execution reaches the handler in <code>cors_server.py</code>.</p>\n<p>There's definitely more going on when the request takes forever to complete.  I collected the following using <code>tcpdump -i lo0 dst port 9011 or src port 9011</code>.</p>\n<p>This is a request from httpie (<code>http get localhost:9011</code>) that completes quickly.</p>\n<pre><code>17:33:57.176028 IP localhost.64723 &gt; localhost.9011: Flags [S], seq 2244357563, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910553864 ecr 0,sackOK,eol], length 0\n17:33:57.176089 IP localhost.9011 &gt; localhost.64723: Flags [S.], seq 1494086712, ack 2244357564, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910553864 ecr 910553864,sackOK,eol], length 0\n17:33:57.176103 IP localhost.64723 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910553864 ecr 910553864], length 0\n17:33:57.176113 IP localhost.9011 &gt; localhost.64723: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910553864 ecr 910553864], length 0\n17:33:57.176145 IP localhost.64723 &gt; localhost.9011: Flags [P.], seq 1:136, ack 1, win 12759, options [nop,nop,TS val 910553864 ecr 910553864], length 135\n17:33:57.176158 IP localhost.9011 &gt; localhost.64723: Flags [.], ack 136, win 12755, options [nop,nop,TS val 910553864 ecr 910553864], length 0\n17:33:57.176760 IP localhost.9011 &gt; localhost.64723: Flags [P.], seq 1:18, ack 136, win 12755, options [nop,nop,TS val 910553864 ecr 910553864], length 17\n17:33:57.176781 IP localhost.64723 &gt; localhost.9011: Flags [.], ack 18, win 12758, options [nop,nop,TS val 910553864 ecr 910553864], length 0\n17:33:57.176811 IP localhost.9011 &gt; localhost.64723: Flags [P.], seq 18:55, ack 136, win 12755, options [nop,nop,TS val 910553864 ecr 910553864], length 37\n17:33:57.176823 IP localhost.64723 &gt; localhost.9011: Flags [.], ack 55, win 12757, options [nop,nop,TS val 910553864 ecr 910553864], length 0\n17:33:57.176834 IP localhost.9011 &gt; localhost.64723: Flags [P.], seq 55:92, ack 136, win 12755, options [nop,nop,TS val 910553864 ecr 910553864], length 37\n17:33:57.176844 IP localhost.64723 &gt; localhost.9011: Flags [.], ack 92, win 12756, options [nop,nop,TS val 910553864 ecr 910553864], length 0\n17:33:57.176857 IP localhost.9011 &gt; localhost.64723: Flags [P.], seq 92:178, ack 136, win 12755, options [nop,nop,TS val 910553864 ecr 910553864], length 86\n17:33:57.176866 IP localhost.64723 &gt; localhost.9011: Flags [.], ack 178, win 12753, options [nop,nop,TS val 910553864 ecr 910553864], length 0\n17:33:57.176878 IP localhost.9011 &gt; localhost.64723: Flags [P.], seq 178:192, ack 136, win 12755, options [nop,nop,TS val 910553864 ecr 910553864], length 14\n17:33:57.176886 IP localhost.64723 &gt; localhost.9011: Flags [.], ack 192, win 12753, options [nop,nop,TS val 910553864 ecr 910553864], length 0\n17:33:57.176961 IP localhost.9011 &gt; localhost.64723: Flags [F.], seq 192, ack 136, win 12755, options [nop,nop,TS val 910553865 ecr 910553864], length 0\n17:33:57.176975 IP localhost.64723 &gt; localhost.9011: Flags [.], ack 193, win 12753, options [nop,nop,TS val 910553865 ecr 910553865], length 0\n17:33:57.176980 IP localhost.9011 &gt; localhost.64723: Flags [.], ack 136, win 12755, options [nop,nop,TS val 910553865 ecr 910553865], length 0\n17:33:57.182034 IP localhost.64723 &gt; localhost.9011: Flags [F.], seq 136, ack 193, win 12753, options [nop,nop,TS val 910553870 ecr 910553865], length 0\n17:33:57.182095 IP localhost.9011 &gt; localhost.64723: Flags [.], ack 137, win 12755, options [nop,nop,TS val 910553870 ecr 910553870], length 0\n</code></pre>\n<p>This is a request from Firefox that completes quickly.</p>\n<pre><code>18:12:57.416741 IP localhost.65089 &gt; localhost.9011: Flags [S], seq 2202457533, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 912890306 ecr 0,sackOK,eol], length 0\n18:12:57.416794 IP localhost.9011 &gt; localhost.65089: Flags [S.], seq 1807873905, ack 2202457534, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 912890306 ecr 912890306,sackOK,eol], length 0\n18:12:57.416806 IP localhost.65089 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.416818 IP localhost.9011 &gt; localhost.65089: Flags [.], ack 1, win 12759, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.416883 IP localhost.65089 &gt; localhost.9011: Flags [P.], seq 1:346, ack 1, win 12759, options [nop,nop,TS val 912890306 ecr 912890306], length 345\n18:12:57.416899 IP localhost.9011 &gt; localhost.65089: Flags [.], ack 346, win 12748, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.417478 IP localhost.9011 &gt; localhost.65089: Flags [P.], seq 1:18, ack 346, win 12748, options [nop,nop,TS val 912890306 ecr 912890306], length 17\n18:12:57.417492 IP localhost.65089 &gt; localhost.9011: Flags [.], ack 18, win 12758, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.417516 IP localhost.9011 &gt; localhost.65089: Flags [P.], seq 18:55, ack 346, win 12748, options [nop,nop,TS val 912890306 ecr 912890306], length 37\n18:12:57.417538 IP localhost.65089 &gt; localhost.9011: Flags [.], ack 55, win 12757, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.417548 IP localhost.9011 &gt; localhost.65089: Flags [P.], seq 55:92, ack 346, win 12748, options [nop,nop,TS val 912890306 ecr 912890306], length 37\n18:12:57.417555 IP localhost.65089 &gt; localhost.9011: Flags [.], ack 92, win 12756, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.417562 IP localhost.9011 &gt; localhost.65089: Flags [P.], seq 92:192, ack 346, win 12748, options [nop,nop,TS val 912890306 ecr 912890306], length 100\n18:12:57.417569 IP localhost.65089 &gt; localhost.9011: Flags [.], ack 192, win 12753, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.417618 IP localhost.9011 &gt; localhost.65089: Flags [F.], seq 192, ack 346, win 12748, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.417629 IP localhost.65089 &gt; localhost.9011: Flags [.], ack 193, win 12753, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.417634 IP localhost.9011 &gt; localhost.65089: Flags [.], ack 346, win 12748, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.417638 IP localhost.65089 &gt; localhost.9011: Flags [F.], seq 346, ack 193, win 12753, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n18:12:57.417647 IP localhost.9011 &gt; localhost.65089: Flags [.], ack 347, win 12748, options [nop,nop,TS val 912890306 ecr 912890306], length 0\n</code></pre>\n<p>This is a request from a Chrome incognito tab that completes quickly.</p>\n<pre><code>17:28:10.096905 IP6 localhost.64691 &gt; localhost.9011: Flags [S], seq 2861078667, win 65535, options [mss 16324,nop,wscale 5,nop,nop,TS val 910207638 ecr 0,sackOK,eol], length 0\n17:28:10.096926 IP6 localhost.9011 &gt; localhost.64691: Flags [R.], seq 0, ack 2861078668, win 0, length 0\n17:28:10.097010 IP localhost.64692 &gt; localhost.9011: Flags [S], seq 3615577823, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910207638 ecr 0,sackOK,eol], length 0\n17:28:10.097056 IP localhost.9011 &gt; localhost.64692: Flags [S.], seq 3533709271, ack 3615577824, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910207638 ecr 910207638,sackOK,eol], length 0\n17:28:10.097066 IP localhost.64692 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910207638 ecr 910207638], length 0\n17:28:10.097075 IP localhost.9011 &gt; localhost.64692: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910207638 ecr 910207638], length 0\n17:28:10.097274 IP localhost.64692 &gt; localhost.9011: Flags [P.], seq 1:373, ack 1, win 12759, options [nop,nop,TS val 910207638 ecr 910207638], length 372\n17:28:10.097293 IP localhost.9011 &gt; localhost.64692: Flags [.], ack 373, win 12747, options [nop,nop,TS val 910207638 ecr 910207638], length 0\n17:28:10.098108 IP localhost.9011 &gt; localhost.64692: Flags [P.], seq 1:18, ack 373, win 12747, options [nop,nop,TS val 910207639 ecr 910207638], length 17\n17:28:10.098131 IP localhost.64692 &gt; localhost.9011: Flags [.], ack 18, win 12758, options [nop,nop,TS val 910207639 ecr 910207639], length 0\n17:28:10.098166 IP localhost.9011 &gt; localhost.64692: Flags [P.], seq 18:55, ack 373, win 12747, options [nop,nop,TS val 910207639 ecr 910207639], length 37\n17:28:10.098184 IP localhost.64692 &gt; localhost.9011: Flags [.], ack 55, win 12757, options [nop,nop,TS val 910207639 ecr 910207639], length 0\n17:28:10.098212 IP localhost.9011 &gt; localhost.64692: Flags [P.], seq 55:92, ack 373, win 12747, options [nop,nop,TS val 910207639 ecr 910207639], length 37\n17:28:10.098232 IP localhost.64692 &gt; localhost.9011: Flags [.], ack 92, win 12756, options [nop,nop,TS val 910207639 ecr 910207639], length 0\n17:28:10.098246 IP localhost.9011 &gt; localhost.64692: Flags [P.], seq 92:178, ack 373, win 12747, options [nop,nop,TS val 910207639 ecr 910207639], length 86\n17:28:10.098267 IP localhost.64692 &gt; localhost.9011: Flags [.], ack 178, win 12753, options [nop,nop,TS val 910207639 ecr 910207639], length 0\n17:28:10.098277 IP localhost.9011 &gt; localhost.64692: Flags [P.], seq 178:192, ack 373, win 12747, options [nop,nop,TS val 910207639 ecr 910207639], length 14\n17:28:10.098283 IP localhost.64692 &gt; localhost.9011: Flags [.], ack 192, win 12753, options [nop,nop,TS val 910207639 ecr 910207639], length 0\n17:28:10.098352 IP localhost.9011 &gt; localhost.64692: Flags [F.], seq 192, ack 373, win 12747, options [nop,nop,TS val 910207639 ecr 910207639], length 0\n17:28:10.098369 IP localhost.64692 &gt; localhost.9011: Flags [.], ack 193, win 12753, options [nop,nop,TS val 910207639 ecr 910207639], length 0\n17:28:10.098380 IP localhost.9011 &gt; localhost.64692: Flags [.], ack 373, win 12747, options [nop,nop,TS val 910207639 ecr 910207639], length 0\n17:28:10.099183 IP localhost.64692 &gt; localhost.9011: Flags [F.], seq 373, ack 193, win 12753, options [nop,nop,TS val 910207640 ecr 910207639], length 0\n17:28:10.099217 IP localhost.9011 &gt; localhost.64692: Flags [.], ack 374, win 12747, options [nop,nop,TS val 910207640 ecr 910207640], length 0\n</code></pre>\n<p>This is a request from a regular Chrome tab that took ~18 seconds.</p>\n<pre><code>17:28:27.147218 IP6 localhost.64699 &gt; localhost.9011: Flags [S], seq 1481186887, win 65535, options [mss 16324,nop,wscale 5,nop,nop,TS val 910224643 ecr 0,sackOK,eol], length 0\n17:28:27.147230 IP6 localhost.9011 &gt; localhost.64699: Flags [R.], seq 0, ack 1481186888, win 0, length 0\n17:28:27.147277 IP6 localhost.64700 &gt; localhost.9011: Flags [S], seq 1928824698, win 65535, options [mss 16324,nop,wscale 5,nop,nop,TS val 910224643 ecr 0,sackOK,eol], length 0\n17:28:27.147287 IP6 localhost.9011 &gt; localhost.64700: Flags [R.], seq 0, ack 1928824699, win 0, length 0\n17:28:27.147331 IP6 localhost.64701 &gt; localhost.9011: Flags [S], seq 63463797, win 65535, options [mss 16324,nop,wscale 5,nop,nop,TS val 910224643 ecr 0,sackOK,eol], length 0\n17:28:27.147340 IP6 localhost.9011 &gt; localhost.64701: Flags [R.], seq 0, ack 63463798, win 0, length 0\n17:28:27.147578 IP localhost.64704 &gt; localhost.9011: Flags [S], seq 2185396531, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910224643 ecr 0,sackOK,eol], length 0\n17:28:27.147602 IP localhost.64705 &gt; localhost.9011: Flags [S], seq 2307844059, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910224643 ecr 0,sackOK,eol], length 0\n17:28:27.147617 IP localhost.9011 &gt; localhost.64704: Flags [S.], seq 4199967470, ack 2185396532, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910224643 ecr 910224643,sackOK,eol], length 0\n17:28:27.147627 IP localhost.64706 &gt; localhost.9011: Flags [S], seq 324888549, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910224643 ecr 0,sackOK,eol], length 0\n17:28:27.147638 IP localhost.9011 &gt; localhost.64705: Flags [S.], seq 1097272416, ack 2307844060, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910224643 ecr 910224643,sackOK,eol], length 0\n17:28:27.147643 IP localhost.64704 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910224643 ecr 910224643], length 0\n17:28:27.147665 IP localhost.9011 &gt; localhost.64706: Flags [S.], seq 837656804, ack 324888550, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910224643 ecr 910224643,sackOK,eol], length 0\n17:28:27.147669 IP localhost.64705 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910224643 ecr 910224643], length 0\n17:28:27.147675 IP localhost.9011 &gt; localhost.64704: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910224643 ecr 910224643], length 0\n17:28:27.147681 IP localhost.64706 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910224643 ecr 910224643], length 0\n17:28:27.147686 IP localhost.9011 &gt; localhost.64705: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910224643 ecr 910224643], length 0\n17:28:27.147691 IP localhost.9011 &gt; localhost.64706: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910224643 ecr 910224643], length 0\n17:28:27.243730 IP6 localhost.64708 &gt; localhost.9011: Flags [S], seq 4213763930, win 65535, options [mss 16324,nop,wscale 5,nop,nop,TS val 910224733 ecr 0,sackOK,eol], length 0\n17:28:27.243748 IP6 localhost.9011 &gt; localhost.64708: Flags [R.], seq 0, ack 4213763931, win 0, length 0\n17:28:27.243855 IP localhost.64709 &gt; localhost.9011: Flags [S], seq 1721904940, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910224733 ecr 0,sackOK,eol], length 0\n17:28:27.243910 IP localhost.9011 &gt; localhost.64709: Flags [S.], seq 2521348026, ack 1721904941, win 65535, options [mss 16344,nop,wscale 5,nop,nop,TS val 910224733 ecr 910224733,sackOK,eol], length 0\n17:28:27.243925 IP localhost.64709 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910224733 ecr 910224733], length 0\n17:28:27.243934 IP localhost.9011 &gt; localhost.64709: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910224733 ecr 910224733], length 0\n17:28:27.244093 IP localhost.64709 &gt; localhost.9011: Flags [P.], seq 1:390, ack 1, win 12759, options [nop,nop,TS val 910224733 ecr 910224733], length 389\n17:28:27.244108 IP localhost.9011 &gt; localhost.64709: Flags [.], ack 390, win 12747, options [nop,nop,TS val 910224733 ecr 910224733], length 0\n17:28:45.693569 IP localhost.64704 &gt; localhost.9011: Flags [F.], seq 1, ack 1, win 12759, options [nop,nop,TS val 910243145 ecr 910224643], length 0\n17:28:45.693596 IP localhost.64705 &gt; localhost.9011: Flags [F.], seq 1, ack 1, win 12759, options [nop,nop,TS val 910243145 ecr 910224643], length 0\n17:28:45.693605 IP localhost.64706 &gt; localhost.9011: Flags [F.], seq 1, ack 1, win 12759, options [nop,nop,TS val 910243145 ecr 910224643], length 0\n17:28:45.693627 IP localhost.9011 &gt; localhost.64704: Flags [.], ack 2, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693636 IP localhost.9011 &gt; localhost.64705: Flags [.], ack 2, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693645 IP localhost.9011 &gt; localhost.64706: Flags [.], ack 2, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693655 IP localhost.64704 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693661 IP localhost.64705 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693666 IP localhost.64706 &gt; localhost.9011: Flags [.], ack 1, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693737 IP localhost.9011 &gt; localhost.64704: Flags [F.], seq 1, ack 2, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693766 IP localhost.64704 &gt; localhost.9011: Flags [.], ack 2, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693862 IP localhost.9011 &gt; localhost.64705: Flags [F.], seq 1, ack 2, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693909 IP localhost.64705 &gt; localhost.9011: Flags [.], ack 2, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693935 IP localhost.9011 &gt; localhost.64706: Flags [F.], seq 1, ack 2, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.693949 IP localhost.64706 &gt; localhost.9011: Flags [.], ack 2, win 12759, options [nop,nop,TS val 910243145 ecr 910243145], length 0\n17:28:45.694861 IP localhost.9011 &gt; localhost.64709: Flags [P.], seq 1:18, ack 390, win 12747, options [nop,nop,TS val 910243146 ecr 910224733], length 17\n17:28:45.694886 IP localhost.64709 &gt; localhost.9011: Flags [.], ack 18, win 12758, options [nop,nop,TS val 910243146 ecr 910243146], length 0\n17:28:45.694937 IP localhost.9011 &gt; localhost.64709: Flags [P.], seq 18:55, ack 390, win 12747, options [nop,nop,TS val 910243146 ecr 910243146], length 37\n17:28:45.694958 IP localhost.64709 &gt; localhost.9011: Flags [.], ack 55, win 12757, options [nop,nop,TS val 910243146 ecr 910243146], length 0\n17:28:45.694971 IP localhost.9011 &gt; localhost.64709: Flags [P.], seq 55:92, ack 390, win 12747, options [nop,nop,TS val 910243146 ecr 910243146], length 37\n17:28:45.694982 IP localhost.64709 &gt; localhost.9011: Flags [.], ack 92, win 12756, options [nop,nop,TS val 910243146 ecr 910243146], length 0\n17:28:45.694997 IP localhost.9011 &gt; localhost.64709: Flags [P.], seq 92:178, ack 390, win 12747, options [nop,nop,TS val 910243146 ecr 910243146], length 86\n17:28:45.695009 IP localhost.64709 &gt; localhost.9011: Flags [.], ack 178, win 12753, options [nop,nop,TS val 910243146 ecr 910243146], length 0\n17:28:45.695016 IP localhost.9011 &gt; localhost.64709: Flags [P.], seq 178:192, ack 390, win 12747, options [nop,nop,TS val 910243146 ecr 910243146], length 14\n17:28:45.695020 IP localhost.64709 &gt; localhost.9011: Flags [.], ack 192, win 12753, options [nop,nop,TS val 910243146 ecr 910243146], length 0\n17:28:45.695087 IP localhost.9011 &gt; localhost.64709: Flags [F.], seq 192, ack 390, win 12747, options [nop,nop,TS val 910243146 ecr 910243146], length 0\n17:28:45.695111 IP localhost.64709 &gt; localhost.9011: Flags [.], ack 193, win 12753, options [nop,nop,TS val 910243146 ecr 910243146], length 0\n17:28:45.695120 IP localhost.9011 &gt; localhost.64709: Flags [.], ack 390, win 12747, options [nop,nop,TS val 910243146 ecr 910243146], length 0\n17:28:45.696046 IP localhost.64709 &gt; localhost.9011: Flags [F.], seq 390, ack 193, win 12753, options [nop,nop,TS val 910243147 ecr 910243146], length 0\n17:28:45.696069 IP localhost.9011 &gt; localhost.64709: Flags [.], ack 391, win 12747, options [nop,nop,TS val 910243147 ecr 910243147], length 0\n</code></pre>\n<p>It looks like Chrome tries IPv6 first, which wsgiref doesn't like. So the connection resets the server sends make sense.</p>\n<p>In the case of non-incognito Chrome, it appears as though the client makes several connection attempts.  The server resets the first couple attempts, then accepts a few, then using only one of those connections does the client actually send the request.  I assume since <code>wsgiref.simple_server</code> is single threaded, the previous connections have to time out before the one that will make the actual request can get handled; thus the delay.</p>\n<p>It's interesting to note that even incognito Chrome still experiences a reset, but only it's only retried once, and then works as expected.  Firefox and httpie both only establish a single connection that works smoothly.</p>\n<h2>Questions</h2>\n<ul>\n<li>Why does Chrome try to open so many connections for a single request?</li>\n<li>What about Chrome's incognito mode causes it to behave more agreeably, here?</li>\n<li>Is this... a bug?  (In either Chrome or wsgiref?)</li>\n</ul>\n"}, {"tags": ["python", "encoding"], "answers": [{"comments": [{"owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 0, "creation_date": 1422489453, "post_id": 28204682, "comment_id": 44775242, "body": "See also: <a href=\"http://stackoverflow.com/questions/26132121/which-file-encodings-are-supported-for-python-3-source-files\" title=\"which file encodings are supported for python 3 source files\">stackoverflow.com/questions/26132121/&hellip;</a>"}, {"owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422489665, "post_id": 28204682, "comment_id": 44775306, "body": "One thing I don&#39;t understand, why should someone use encoding declaration? Python 3.X defaults to utf-8 and I think that today everyone uses this encoding in their file"}, {"owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "reply_to_user": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422489747, "post_id": 28204682, "comment_id": 44775328, "body": "@antox: yes, if you use UTF-8 then you don&#39;t need to declare the encoding. It&#39;s only when you want it to be different (for some reason)."}, {"owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422492324, "post_id": 28204682, "comment_id": 44776089, "body": "@simeon_visser I would ask you one thing, did this problem of declaring encoding come out because in the previous python versions the default was ascii and before python 2.1 it wasn&#39;t accepted another encoding other than ascii?"}, {"owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "reply_to_user": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422492727, "post_id": 28204682, "comment_id": 44776194, "body": "@antox: that&#39;s possible - I wasn&#39;t using Python when it was 2.1 but I do know that understanding of encodings came later with Python&#39;s growing use and the release of Python 3.x (and based on usage such as web frameworks separating bytes and Unicode with 2.x). Source encodings are useful but UTF-8 should work for most - as the PEP says this change was made due to the situation in Python 2.1. It&#39;s only now that UTF-8 is the default and that you don&#39;t really need to declare a different encoding."}], "tags": [], "owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "is_accepted": true, "score": 0, "last_activity_date": 1422489323, "creation_date": 1422489323, "answer_id": 28204682, "question_id": 28204459, "link": "https://stackoverflow.com/questions/28204459/problems-with-declaring-encoding-in-a-source-file/28204682#28204682", "title": "problems with declaring encoding in a source file", "body": "<p>UTF-16 is not accepted as encoding for Python source code. From PEP 263 (section Concepts, item 1):</p>\n\n<blockquote>\n  <p>Any encoding which allows processing the first two lines in the\n         way indicated above is allowed as source code encoding, this\n         includes ASCII compatible encodings as well as certain\n         multi-byte encodings such as Shift_JIS. It does not include\n         encodings which use two or more bytes for all characters like\n         e.g. UTF-16. The reason for this is to keep the encoding\n         detection algorithm in the tokenizer simple.</p>\n</blockquote>\n\n<p>So the error you're getting is expected: you can use a different encoding (other than the default UTF-8) as long as it can be detected by Python.</p>\n"}], "owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 28204682, "answer_count": 1, "score": 1, "last_activity_date": 1422489323, "creation_date": 1422488059, "question_id": 28204459, "link": "https://stackoverflow.com/questions/28204459/problems-with-declaring-encoding-in-a-source-file", "title": "problems with declaring encoding in a source file", "body": "<p>I'm trying learning to use encoding declarations in source files reading <a href=\"https://www.python.org/dev/peps/pep-0263/\" rel=\"nofollow\">PEP 263</a> and I'm experimenting on my own but I got some troubles.</p>\n\n<p>Here's my file <strong>cod.py</strong>:</p>\n\n<pre><code># -*- coding: utf-16 -*-\nprint('ciao')\n</code></pre>\n\n<p>and I saved it using UTF-16 encoding; now:</p>\n\n<pre><code>antox@antox-pc ~/Scrivania $ python3 cod.py \n  File \"cod.py\", line 1\nSyntaxError: Non-UTF-8 code starting with '\\xff' in file cod.py on line 1, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details\n</code></pre>\n\n<p>So I don't understand where I'm getting wrong.</p>\n\n<p>P.S. I'm using gedit 2.30.4</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1422488217, "post_id": 28204457, "comment_id": 44774831, "body": "Please use the preview feature and use a code block to format your code a next time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1422488276, "post_id": 28204457, "comment_id": 44774848, "body": "<code>input()</code> returns a string. You&#39;ll have to convert it to an integer or float before applying it to the <code>pow</code> (<code>**</code>) function. For example, <code>numberOne = int(input())</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1422488315, "post_id": 28204457, "comment_id": 44774860, "body": "You can also put a (query) string in the <code>input()</code> function, e.g. <code>input(&quot;Enter a number: &quot;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1422489971, "post_id": 28204509, "comment_id": 44775390, "body": "ok, that works, however, the formula is not being used in the end result.  can I bother you for some help one more time?"}], "tags": [], "owner": {"reputation": 4177, "user_id": 1710566, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/46df81dc7409d5ba5b66c0d245c9fb97?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/1710566/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1422488299, "creation_date": 1422488299, "answer_id": 28204509, "question_id": 28204457, "link": "https://stackoverflow.com/questions/28204457/mersenne-with-input/28204509#28204509", "title": "Mersenne with input", "body": "<p>You need to cast the input like this: <code>int(input(\"Enter a number: \"))</code></p>\n"}, {"comments": [{"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1422491468, "post_id": 28204574, "comment_id": 44775834, "body": "ok, that works, however, the formula is not being used in the end result. can I bother you for some help one more time?"}], "tags": [], "owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "is_accepted": false, "score": 0, "last_activity_date": 1422491833, "last_edit_date": 1422491833, "creation_date": 1422488629, "answer_id": 28204574, "question_id": 28204457, "link": "https://stackoverflow.com/questions/28204457/mersenne-with-input/28204574#28204574", "title": "Mersenne with input", "body": "<p>Well you will have to convert your input from a string to an integer. You can do that by either:</p>\n\n<pre><code>numberOne = int(input())\n</code></pre>\n\n<p>Which automatically makes the input an integer or:</p>\n\n<pre><code>return (2**int(n)-1)\n</code></pre>\n\n<p>Which turns the input into the number while running the function. You can also use <code>float()</code> and with/or <code>raw_input()</code> as well. Just remember to change your inputs into integers or floats! I hope this helps you!\n<br><br>\nWithout using the <code>int</code> in your function <code>return</code> line, you can use:</p>\n\n<pre><code>print('Your Mersenne numbers are ' + int(numberOne) + ', ' + int(numberTwo) + ', ' + int(numberThree) + '.')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 293594, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/236ff5ec4ac5714b8f28542d5299ec90?s=128&d=identicon&r=PG", "display_name": "xnx", "link": "https://stackoverflow.com/users/293594/xnx"}, "is_accepted": false, "score": 0, "last_activity_date": 1422494357, "last_edit_date": 1422494357, "creation_date": 1422494003, "answer_id": 28205431, "question_id": 28204457, "link": "https://stackoverflow.com/questions/28204457/mersenne-with-input/28205431#28205431", "title": "Mersenne with input", "body": "<p>Cast your input to <code>int</code> and assign the return value from <code>mersenne</code> to a variable:</p>\n\n<pre><code>def mersenne(n):\n    return (2**n-1)\n\nprint('Enter a number')\nnumberOne = int(input())\nmersenneOne = mersenne(numberOne)\nprint('Enter a number')\nnumberTwo = int(input())\nmersenneTwo = mersenne(numberTwo)\nprint('Enter a number')\nnumberThree = int(input())\nmersenneThree = mersenne(numberThree)\nprint('Your Mersenne numbers are ', mersenneOne, ', ', mersenneTwo, ', ', mersenneThree, '.', sep='')\n</code></pre>\n\n<p>You also can't concatenate an integer to a string with <code>+</code>. (This isn't JavaScript). The above works in Python 3 with the <code>print</code> function. If you're on Python 2, you can always cast back to <code>str</code>:</p>\n\n<pre><code>print('Your Mersenne numbers are ' + str(mersenneOne) + ', ' + str(mersenneTwo) + ', ' + str(mersenneThree) + '.')\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1422494357, "creation_date": 1422488057, "last_edit_date": 1422488198, "question_id": 28204457, "link": "https://stackoverflow.com/questions/28204457/mersenne-with-input", "title": "Mersenne with input", "body": "<p>Can someone explain why I get the error message and/or what to do to fix it?</p>\n\n<pre><code>def mersenne(n):\n    return (2**n-1)\n\nprint('Enter a number')\nnumberOne = input()\nmersenne(numberOne)\nprint('Enter a number')\nnumberTwo = input()\nmersenne(numberTwo)\nprint('Enter a number')\nnumberThree = input()\nmersenne(numberThree)\nprint('Your Mersenne numbers are ' + numberOne + ', ' + numberTwo + ', ' + numberThree + '.')\n</code></pre>\n\n<p>The error message I get in IDLE is </p>\n\n<pre><code>TypeError: unsupported operand type(s) for ** or pow(): 'int' and 'str'\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 2, "creation_date": 1422487698, "post_id": 28204362, "comment_id": 44774675, "body": "just remove the empty elements."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 2332621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de152807820b8102f16554c42dce6e84?s=128&d=identicon&r=PG", "display_name": "gb7688", "link": "https://stackoverflow.com/users/2332621/gb7688"}, "edited": false, "score": 0, "creation_date": 1422488564, "post_id": 28204472, "comment_id": 44774939, "body": "thanks, good idea. out of curiosity, any way to do it purely with the regex?"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 91, "user_id": 2332621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de152807820b8102f16554c42dce6e84?s=128&d=identicon&r=PG", "display_name": "gb7688", "link": "https://stackoverflow.com/users/2332621/gb7688"}, "edited": false, "score": 1, "creation_date": 1422488690, "post_id": 28204472, "comment_id": 44774981, "body": "Only if you&#39;re fine with finding <code>a.d</code>, too: <code>re.findall(&#39;(a|c).(b|d)&#39;,&#39;axbcyd&#39;)</code>. Otherwise it&#39;s probably impossible, because the group index is determined independent of the input string."}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 2, "last_activity_date": 1422531434, "last_edit_date": 1422531434, "creation_date": 1422488118, "answer_id": 28204472, "question_id": 28204362, "link": "https://stackoverflow.com/questions/28204362/how-to-only-capture-the-matching-side-of-a-disjunction/28204472#28204472", "title": "How to only capture the matching side of a disjunction?", "body": "<p>Like Avinash Raj says; just remove the empty elements:</p>\n\n<pre><code>map(lambda x: tuple(filter(lambda y: y!='',x)),re.findall('(a).(b)|(c).(d)','axbcyd'))\n</code></pre>\n\n<p>(Edit: Less functional, more pythonic:</p>\n\n<pre><code>[tuple(y for y in x if y != '') for x in re.findall('(a).(b)|(c).(d)','axbcyd')]\n</code></pre>\n\n<p>)</p>\n"}], "owner": {"reputation": 91, "user_id": 2332621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de152807820b8102f16554c42dce6e84?s=128&d=identicon&r=PG", "display_name": "gb7688", "link": "https://stackoverflow.com/users/2332621/gb7688"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 2, "accepted_answer_id": 28204472, "answer_count": 1, "score": 2, "last_activity_date": 1422531434, "creation_date": 1422487513, "question_id": 28204362, "link": "https://stackoverflow.com/questions/28204362/how-to-only-capture-the-matching-side-of-a-disjunction", "title": "How to only capture the matching side of a disjunction?", "body": "<p>The following code:</p>\n\n<pre><code>re.findall('(a).(b)|(c).(d)','axbcyd')\n</code></pre>\n\n<p>Captures two matches, both with two empty strings:</p>\n\n<pre><code>[('a', 'b', '', ''), ('', '', 'c', 'd')]\n</code></pre>\n\n<p>I'd like to instead return:</p>\n\n<pre><code>[('a', 'b'), ('c', 'd')]\n</code></pre>\n\n<p>Essentially, only capture on the side of the disjunction that actually matches. How can I do this? Happy with a totally different approach...</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 36599, "user_id": 359284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3260a8f331e6869fbf075666eb3b387a?s=128&d=identicon&r=PG", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/359284/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1422487609, "post_id": 28204345, "comment_id": 44774655, "body": "What &quot;doesn&#39;t work&quot;? You don&#39;t need to wrap <code>numbers</code> in a list, but other than that nothing looks <i>horribly wrong</i> at first glance."}, {"owner": {"reputation": 4177, "user_id": 1710566, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/46df81dc7409d5ba5b66c0d245c9fb97?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/1710566/chris"}, "edited": false, "score": 0, "creation_date": 1422487859, "post_id": 28204345, "comment_id": 44774738, "body": "well the problem here is that a character like &#39;a&#39; won&#39;t be in numbers"}], "answers": [{"comments": [{"owner": {"reputation": 4177, "user_id": 1710566, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/46df81dc7409d5ba5b66c0d245c9fb97?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/1710566/chris"}, "edited": false, "score": 0, "creation_date": 1422487709, "post_id": 28204379, "comment_id": 44774679, "body": "it fails with invalid chars still even on &quot;aaaaaaaaaa&quot;"}], "tags": [], "owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "is_accepted": false, "score": 0, "last_activity_date": 1422488036, "last_edit_date": 1422488036, "creation_date": 1422487641, "answer_id": 28204379, "question_id": 28204345, "link": "https://stackoverflow.com/questions/28204345/python-password-checker-fails/28204379#28204379", "title": "python password checker fails", "body": "<p>First problem: the condition is wrong: <code>not in chars or not in numbers</code> is always true.</p>\n\n<p>Second problem: your numbers are numbers (integers) and wrapped in another list, instead of just characters. Use <code>numbers = [str(x) for x in range(10)]</code></p>\n"}, {"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 1, "last_activity_date": 1422488259, "last_edit_date": 1422488259, "creation_date": 1422487856, "answer_id": 28204412, "question_id": 28204345, "link": "https://stackoverflow.com/questions/28204345/python-password-checker-fails/28204412#28204412", "title": "python password checker fails", "body": "<p>fist your numbers is a nested list <code>range(0, 10)</code> is a list by itself you dont need to wrap in in a list ! and also you need to your numbers be string , so as a more efficient way you just could use <code>string</code> module for create your checking set Also you need to move your last <code>return</code> outside of <code>for</code> loop :</p>\n\n<pre><code>&gt;&gt;&gt; s=string.ascii_letters+string.digits\n&gt;&gt;&gt; s\n'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\n</code></pre>\n\n<p>So your function could be like following :</p>\n\n<pre><code>def checker(password):\n    s=string.ascii_letters+string.digits\n    if len(password) &lt; 10:\n            return 'Too short'\n    for i in password:\n        if i not in s:\n            return 'Password has invalid chars'\n    return 'Password is valid'\n</code></pre>\n\n<p>Demo :</p>\n\n<pre><code>&gt;&gt;&gt; checker('thisis4thtest')\n'Password is valid'\n&gt;&gt;&gt; checker('thisis4thtest#')\n'Password has invalid chars'\n&gt;&gt;&gt; checker('thisis4#')\n'Too short'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4177, "user_id": 1710566, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/46df81dc7409d5ba5b66c0d245c9fb97?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/1710566/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1422487923, "creation_date": 1422487923, "answer_id": 28204430, "question_id": 28204345, "link": "https://stackoverflow.com/questions/28204345/python-password-checker-fails/28204430#28204430", "title": "python password checker fails", "body": "<pre><code>def checker(password):\n    letters = map(chr, range(97, 123))+ map(chr, range(65, 91))\n    numbers = [str(x) for x in range(10)]\n    if len(password) &lt; 10:\n            return 'Too short'\n    for i in password:\n        if not (i in letters or i in numbers):\n            return 'Password has invalid chars'\n        return 'Password is valid'\n</code></pre>\n\n<p>Your if logic was a bit wrong.</p>\n"}, {"comments": [{"owner": {"reputation": 7797, "user_id": 942746, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/34cf9eae5d595c0b480a7cb42f3722b1?s=128&d=identicon&r=PG", "display_name": "Brian McFarland", "link": "https://stackoverflow.com/users/942746/brian-mcfarland"}, "edited": false, "score": 0, "creation_date": 1422488702, "post_id": 28204547, "comment_id": 44774987, "body": "Was just writing the same answer....  change that to <code>^[\\w]{10,}$</code> to get the length requirement in there too."}, {"owner": {"reputation": 1079, "user_id": 1056957, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c77854f528773793de67bb9a8ffeddd6?s=128&d=identicon&r=PG", "display_name": "rezakamalifard", "link": "https://stackoverflow.com/users/1056957/rezakamalifard"}, "reply_to_user": {"reputation": 7797, "user_id": 942746, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/34cf9eae5d595c0b480a7cb42f3722b1?s=128&d=identicon&r=PG", "display_name": "Brian McFarland", "link": "https://stackoverflow.com/users/942746/brian-mcfarland"}, "edited": false, "score": 0, "creation_date": 1422488811, "post_id": 28204547, "comment_id": 44775023, "body": "@BrianMcFarland Thank you :)"}], "tags": [], "owner": {"reputation": 1079, "user_id": 1056957, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c77854f528773793de67bb9a8ffeddd6?s=128&d=identicon&r=PG", "display_name": "rezakamalifard", "link": "https://stackoverflow.com/users/1056957/rezakamalifard"}, "is_accepted": false, "score": 0, "last_activity_date": 1422488794, "last_edit_date": 1422488794, "creation_date": 1422488492, "answer_id": 28204547, "question_id": 28204345, "link": "https://stackoverflow.com/questions/28204345/python-password-checker-fails/28204547#28204547", "title": "python password checker fails", "body": "<p>You can use regex to find if password only contains ascii letters and numbers or not</p>\n\n<pre><code>import re\ncheck = re.compile('^[\\w]{10,}$')\nif check.match(password):\n    return 'Password is valid'\nelse:\n    return 'Password has invalid chars'\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4204209, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2b5d22256302599bf462f9b435d037bf?s=128&d=identicon&r=PG&f=1", "display_name": "Hillash", "link": "https://stackoverflow.com/users/4204209/hillash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1422488794, "creation_date": 1422487426, "last_edit_date": 1422487458, "question_id": 28204345, "link": "https://stackoverflow.com/questions/28204345/python-password-checker-fails", "title": "python password checker fails", "body": "<p>I defined the following function to check the validity of a password, but it doesn't work for valid passwords. For a password to be valid, it should only have numbers and ascii letters, and must be longer than 10 chars. What I am I doing wrong?</p>\n\n<pre><code>def checker(password):\n    letters = map(chr, range(97, 123))+ map(chr, range(65, 91))\n    numbers = [range(0, 10)]\n    if len(password) &lt; 10:\n            return 'Too short'\n    for i in password:\n        if (i not in letters or i not in numbers):\n            return 'Password has invalid chars'\n        return 'Password is valid'\n</code></pre>\n"}, {"tags": ["java", "python", "file", "processbuilder"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1422487488, "post_id": 28204342, "comment_id": 44774610, "body": "Is the <code>python</code> command in the path?  Can you run it from the command line?"}, {"owner": {"reputation": 17, "user_id": 4505197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/86b6c4dd6a05bac5123d61b4555e5e53?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Slater", "link": "https://stackoverflow.com/users/4505197/louis-slater"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1422546553, "post_id": 28204342, "comment_id": 44800943, "body": "Python is in the path and I just checked and it does work from the command line, but still not in Eclipse..."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 4505197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/86b6c4dd6a05bac5123d61b4555e5e53?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Slater", "link": "https://stackoverflow.com/users/4505197/louis-slater"}, "edited": false, "score": 0, "creation_date": 1422546669, "post_id": 28204539, "comment_id": 44801032, "body": "Woops sorry I took that line out when I was messing around trying to make it work before and forgot to put it back in, but it still has the same problem. Python is already in my path. Also, I"}], "tags": [], "owner": {"reputation": 182843, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "is_accepted": false, "score": 0, "last_activity_date": 1422488456, "creation_date": 1422488456, "answer_id": 28204539, "question_id": 28204342, "link": "https://stackoverflow.com/questions/28204342/java-processbuilder-cannot-find-file-specified/28204539#28204539", "title": "Java ProcessBuilder Cannot Find File Specified", "body": "<p>You have to <code>flush()</code> and you should <code>close()</code> (which will also <code>flush()</code>) after you write to the <code>File</code>.</p>\n\n<pre><code>out.write(prg);\nout.close(); // &lt;-- add this.\n</code></pre>\n\n<p>Also, you'll need to add <code>python</code> to your PATH.</p>\n"}, {"comments": [{"owner": {"reputation": 444, "user_id": 3756599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YfPBD.jpg?s=128&g=1", "display_name": "TravisChambers", "link": "https://stackoverflow.com/users/3756599/travischambers"}, "edited": false, "score": 0, "creation_date": 1488846443, "post_id": 28225796, "comment_id": 72403729, "body": "disappointing.... because i&#39;ve got the same issue here. If anybody has any tips let&#39;s here them!"}], "tags": [], "owner": {"reputation": 17, "user_id": 4505197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/86b6c4dd6a05bac5123d61b4555e5e53?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Slater", "link": "https://stackoverflow.com/users/4505197/louis-slater"}, "is_accepted": true, "score": 0, "last_activity_date": 1422570212, "creation_date": 1422570212, "answer_id": 28225796, "question_id": 28204342, "link": "https://stackoverflow.com/questions/28204342/java-processbuilder-cannot-find-file-specified/28225796#28225796", "title": "Java ProcessBuilder Cannot Find File Specified", "body": "<p>Sorry, this is probably really unhelpful, but somehow, it just started working. No idea why or how, because I haven't changed anything. Eclipse basically just restarted itself randomly and now it works! Sorry I couldn't post a solution that will help others, but thanks anyway for your help @MadProgrammer and @Elliott !</p>\n"}], "owner": {"reputation": 17, "user_id": 4505197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/86b6c4dd6a05bac5123d61b4555e5e53?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Slater", "link": "https://stackoverflow.com/users/4505197/louis-slater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2359, "favorite_count": 0, "accepted_answer_id": 28225796, "answer_count": 2, "score": 0, "last_activity_date": 1422570212, "creation_date": 1422487416, "question_id": 28204342, "link": "https://stackoverflow.com/questions/28204342/java-processbuilder-cannot-find-file-specified", "title": "Java ProcessBuilder Cannot Find File Specified", "body": "<pre><code>import java.io.*;\nclass RunTest {\npublic static void main(String a[]) {\n    try {\n        String prg = \"import sys\\nprint int(sys.argv[1])+int(sys.argv[2])\\n\";\n        BufferedWriter out = new BufferedWriter(new FileWriter(\"test1.py\"));\n        out.write(prg);\n        int number1 = 1;\n        int number2 = 2; \n        ProcessBuilder pb = new ProcessBuilder(\"python\",\"test1.py\",\"\"+number1,\"\"+number2);\n        Process p = pb.start();\n        BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        int ret = new Integer(in.readLine()).intValue();\n        System.out.println(\"value is : \"+ret);\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>When I run this code (I'm using Eclipse), I get the stack trace:</p>\n\n<blockquote>\n  <p>java.io.IOException: Cannot run program \"python\": CreateProcess error=2, The system cannot find the file specified\n      at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n      at RunTest.main(RunTest.java:11)\n  Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n      at java.lang.ProcessImpl.create(Native Method)\n      at java.lang.ProcessImpl.(ProcessImpl.java:386)\n      at java.lang.ProcessImpl.start(ProcessImpl.java:137)\n      at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n      ... 1 more</p>\n</blockquote>\n\n<p>Anyone have any idea why and what I can do?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "unicode", "python-2.x", "python-2.3"], "answers": [{"comments": [{"owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422490301, "post_id": 28204528, "comment_id": 44775503, "body": "I don&#39;t understand, in python 2.1 couldn&#39;t I write <code>x = u&#39;\u8349&#39;</code> ? Did I have to write <code>x = u&#39;\\xe8\\x8d\\x89&#39;</code>?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422501005, "post_id": 28204528, "comment_id": 44778198, "body": "@antox that&#39;s correct, because <code>\u8349</code> doesn&#39;t exist in the Latin-1 character set. At least that&#39;s what I gather from the piece you quoted, I don&#39;t have any direct experience."}], "tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 1, "last_activity_date": 1422488401, "creation_date": 1422488401, "answer_id": 28204528, "question_id": 28204311, "link": "https://stackoverflow.com/questions/28204311/reasons-that-brought-to-pep-263/28204528#28204528", "title": "reasons that brought to PEP 263", "body": "<p>A Unicode-escape is a character in the form <code>'\\xab'</code>, the <code>\\x</code> means to take the next two characters and interpret them as a hex code to produce a single character.</p>\n\n<p>Characters in Asian languages often take more than a single byte, so for example the character <code>\u8349</code> might be <code>'\\xe8\\x8d\\x89'</code>.</p>\n\n<p>You could not use these characters in source code, except as part of a string literal (or perhaps a comment).</p>\n"}], "owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 28204528, "answer_count": 1, "score": 0, "last_activity_date": 1422494967, "creation_date": 1422487225, "last_edit_date": 1422494967, "question_id": 28204311, "link": "https://stackoverflow.com/questions/28204311/reasons-that-brought-to-pep-263", "title": "reasons that brought to PEP 263", "body": "<p>I was reading the <a href=\"https://www.python.org/dev/peps/pep-0263/\" rel=\"nofollow\">PEP 263</a> and I got stuck on this paragraph:</p>\n\n<blockquote>\n  <p>In Python 2.1, Unicode literals can only be written using the\n      Latin-1 based encoding \"unicode-escape\". This makes the\n      programming environment rather unfriendly to Python users who live\n      and work in non-Latin-1 locales such as many of the Asian \n      countries. Programmers can write their 8-bit strings using the\n      favorite encoding, but are bound to the \"unicode-escape\" encoding\n      for Unicode literals.</p>\n</blockquote>\n\n<p>What does \"unicode-escape\" mean? How did people from asia wrote python files? Can someone show me how they wrote python source code before python 2.3? I just can't get why PEP 263 was introduced: i installed on my machine python 2.1.3 and I launched <code>python cod.py</code> where <code>cod.py</code> is a file encoded in utf-8 and all just worked fine.</p>\n"}, {"tags": ["python", "django", "importerror"], "answers": [{"comments": [{"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1422488114, "post_id": 28204389, "comment_id": 44774809, "body": "and if that&#39;s not it, there are TONS of search hits for &#39;django import error&#39;, so likely someone else has hit the same problem (lots of virtualenv related answers for example)"}, {"owner": {"reputation": 206, "user_id": 4189162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7243765291c234f246152c4bbe9f1808?s=128&d=identicon&r=PG&f=1", "display_name": "Benj&#225;min Gerv&#225;n", "link": "https://stackoverflow.com/users/4189162/benj%c3%a1min-gerv%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1422488380, "post_id": 28204389, "comment_id": 44774881, "body": "Yes, but I get the same, otherwise the cms is the project and the search just an app. And the second import resolve the first probleme, just I want to figure out how to work with the first."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "reply_to_user": {"reputation": 206, "user_id": 4189162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7243765291c234f246152c4bbe9f1808?s=128&d=identicon&r=PG&f=1", "display_name": "Benj&#225;min Gerv&#225;n", "link": "https://stackoverflow.com/users/4189162/benj%c3%a1min-gerv%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1422499651, "post_id": 28204389, "comment_id": 44777918, "body": "Do other imports work in general for you?  I don&#39;t see cms/models.py and I see that Practical Django Projects is v 1.1 of Django.  I would expect, if SearchKeyWord was a class in search/models.py, to doing &#39;from search.models import SearchKeyWord&#39; instead.  So, could it be that Django v1.1 vs the current v1.7 works differently and you need to take that into account while reading the book?  What if you open a shell by doing &quot;python manage.py shell&quot;.  Can you import your model then?"}, {"owner": {"reputation": 206, "user_id": 4189162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7243765291c234f246152c4bbe9f1808?s=128&d=identicon&r=PG&f=1", "display_name": "Benj&#225;min Gerv&#225;n", "link": "https://stackoverflow.com/users/4189162/benj%c3%a1min-gerv%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1422518487, "post_id": 28204389, "comment_id": 44783868, "body": "The probleme is the PYTHONPATH, if I use the sys.path.insert(&#39;root/django/bin&#39;) and exit from shell, and starting again the path disappear. Is there any way to add path just to virtualenv?"}], "tags": [], "owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "is_accepted": false, "score": 0, "last_activity_date": 1422487723, "creation_date": 1422487723, "answer_id": 28204389, "question_id": 28204306, "link": "https://stackoverflow.com/questions/28204306/django-import-error-not-work-without-django-bin/28204389#28204389", "title": "Django Import Error, not work without django.bin", "body": "<p>Did you adjust your project's settings.py's INSTALLED_APPS to declare cms?</p>\n\n<pre><code>INSTALLED_APPS = (\n   'django.contrib.auth',\n   '&lt;path to cms typically mentioned in install doc&gt;',\n   ...\n</code></pre>\n"}], "owner": {"reputation": 206, "user_id": 4189162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7243765291c234f246152c4bbe9f1808?s=128&d=identicon&r=PG&f=1", "display_name": "Benj&#225;min Gerv&#225;n", "link": "https://stackoverflow.com/users/4189162/benj%c3%a1min-gerv%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422487723, "creation_date": 1422487196, "question_id": 28204306, "link": "https://stackoverflow.com/questions/28204306/django-import-error-not-work-without-django-bin", "title": "Django Import Error, not work without django.bin", "body": "<p>I have a probleme with the import. I learne from the Practical Django Projects.</p>\n\n<p>The dir tree looks like in the site-packages/bin:</p>\n\n<pre><code>\u2502   db.sqlite3\n\u2502   manage.py\n\u2502\n\u251c\u2500\u2500\u2500admin\n\u2502   \u2514\u2500\u2500\u2500flatpages\n\u2502       \u2514\u2500\u2500\u2500flatpage\n\u2502               change_form.html\n\u2502\n\u251c\u2500\u2500\u2500cms\n\u2502   \u2502   settings.py\n\u2502   \u2502   urls.py\n\u2502   \u2502   wsgi.py\n\u2502   \u2502   __init__.py\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500\u2500__pycache__ \n\u2502           settings.cpython-34.pyc\n\u2502           urls.cpython-34.pyc\n\u2502           wsgi.cpython-34.pyc\n\u2502           __init__.cpython-34.pyc\n\u2502\n\u251c\u2500\u2500\u2500search\n\u2502   \u2502   admin.py\n\u2502   \u2502   models.py\n\u2502   \u2502   tests.py\n\u2502   \u2502   views.py\n\u2502   \u2502   __init__.py\n\u2502   \u2502\n.....\n</code></pre>\n\n<p>When I want to import the search.models</p>\n\n<pre><code>from cms.models import SearchKeyword\n</code></pre>\n\n<p>The python don't find and I get ImportError, but </p>\n\n<pre><code>from django.bin.cms.models import SearchKeyword\n</code></pre>\n\n<p>works correctly.</p>\n\n<p>Can someone explain this? I thought the first one also fine.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "edited": false, "score": 0, "creation_date": 1422488857, "post_id": 28204428, "comment_id": 44775038, "body": "Very helpful. Thank you!"}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "reply_to_user": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "edited": false, "score": 0, "creation_date": 1422488928, "post_id": 28204428, "comment_id": 44775066, "body": "@Meepl, glad it helps :)"}], "tags": [], "owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1422487913, "creation_date": 1422487913, "answer_id": 28204428, "question_id": 28204255, "link": "https://stackoverflow.com/questions/28204255/how-to-split-pandas-data-frame-by-many-criteria/28204428#28204428", "title": "How to split pandas data frame by many criteria", "body": "<p>An easy way is to perform a masked, supposed your DataFrame called <code>df</code>, it will be something like this:</p>\n\n<pre><code>masked = (df['emld'] == 'aol.com') &amp; (df['bounce_type'] == 'hard')\n# then the result will be\ndf[masked]\n</code></pre>\n\n<p>shorthanded version in one line:</p>\n\n<pre><code>df[(df['emld'] == 'aol.com') &amp; (df['bounce_type'] == 'hard')]\n</code></pre>\n\n<p>To just return <code>source_ip</code> and <code>tids</code> columns:</p>\n\n<pre><code>df[masked][['source_ip', 'tids']]\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>df[(df['emld'] == 'aol.com') &amp; (df['bounce_type'] == 'hard')][['source_ip', 'tids']]\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 28204428, "answer_count": 1, "score": 0, "last_activity_date": 1422487913, "creation_date": 1422486955, "question_id": 28204255, "link": "https://stackoverflow.com/questions/28204255/how-to-split-pandas-data-frame-by-many-criteria", "title": "How to split pandas data frame by many criteria", "body": "<p>I have ~150,000 rows of data detailing email bounces by domain, email template, bounce type and the count of each by day.  It is formatted like the below:</p>\n\n<pre><code>+--------+-------------+-----------------+-------+---------+-------+\n|   t    | bounce_type |    source_ip    |  tid  |  emld   | count |\n+--------+-------------+-----------------+-------+---------+-------+\n| 1/1/15 | hard        | 199.122.255.142 | 10033 | aol.com |     4 |\n+--------+-------------+-----------------+-------+---------+-------+\n</code></pre>\n\n<p>What is the easiest way to select only rows with an emld of \"aol.com\", bounce type of \"hard\", from all source ips and all tids?  Is this something I would create a function for and pass the dataframe through, or is there a simpler operation to filter the data by these criteria? </p>\n"}, {"tags": ["python", "list", "nested-loops"], "comments": [{"owner": {"reputation": 38746, "user_id": 238884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/febf321631229c7408834722691c06e9?s=128&d=identicon&r=PG", "display_name": "Malvolio", "link": "https://stackoverflow.com/users/238884/malvolio"}, "edited": false, "score": 0, "creation_date": 1422487183, "post_id": 28204240, "comment_id": 44774497, "body": "This isn&#39;t domyhomeworkforme.com.  Post your code and we can help explain why it isn&#39;t working."}, {"owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "edited": false, "score": 0, "creation_date": 1422487449, "post_id": 28204240, "comment_id": 44774591, "body": "Is mandatory to use a while loop?"}, {"owner": {"reputation": 23, "user_id": 4505180, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f040f77786265196c8ce6e1c717f31d?s=128&d=identicon&r=PG&f=1", "display_name": "felicia_rae", "link": "https://stackoverflow.com/users/4505180/felicia-rae"}, "edited": false, "score": 0, "creation_date": 1422487740, "post_id": 28204240, "comment_id": 44774690, "body": "Well I first though of going through with a whileloop and taking [i] of base_list, raising it to the power of [i] of exponent_list, then appending that to a new list, then summing that list, then adding that sum to the final list, then doing that over and over till I get the answer. Make sense? Haha seems like a lot of work for something that seems so easy."}, {"owner": {"reputation": 23, "user_id": 4505180, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f040f77786265196c8ce6e1c717f31d?s=128&d=identicon&r=PG&f=1", "display_name": "felicia_rae", "link": "https://stackoverflow.com/users/4505180/felicia-rae"}, "edited": false, "score": 0, "creation_date": 1422488118, "post_id": 28204240, "comment_id": 44774810, "body": "this is what I have given up with:&#39;sum_of_powers(base_list, expo_list):                                                                     new_list = []     i = 0     while i &lt; len(base_list):         fin = base_list ** expo_list[i]         new_list.append(fin)         i += 1     return new_list &#39;                                                                                      and this is what i put in the main():                                                            &#39;base_list = [1,2,3]     expo_list = [2, 3]     print(sum_of_powers(base_list, expo_list))&#39;"}, {"owner": {"reputation": 23, "user_id": 4505180, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f040f77786265196c8ce6e1c717f31d?s=128&d=identicon&r=PG&f=1", "display_name": "felicia_rae", "link": "https://stackoverflow.com/users/4505180/felicia-rae"}, "reply_to_user": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "edited": false, "score": 0, "creation_date": 1422488996, "post_id": 28204240, "comment_id": 44775085, "body": "yes @RaydelMiranda it is necessary. It actually calls for a nested while loop."}], "answers": [{"tags": [], "owner": {"reputation": 286979, "user_id": 541136, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/wftMn.jpg?s=128&g=1", "display_name": "Aaron Hall", "link": "https://stackoverflow.com/users/541136/aaron-hall"}, "is_accepted": false, "score": 0, "last_activity_date": 1422487814, "last_edit_date": 1422487814, "creation_date": 1422487010, "answer_id": 28204265, "question_id": 28204240, "link": "https://stackoverflow.com/questions/28204240/use-while-loops-in-python-to-create-sum-of-powers/28204265#28204265", "title": "Use while loops in python to create sum of powers", "body": "<p>In pure Python I would recommend such functions:</p>\n\n<pre><code>def sumpowers(a_list, power):\n    return sum(i**power for i in a_list)\n\ndef sum_of_powers(bases, powers):\n    return [sumpowers(bases, power) for power in powers]\n</code></pre>\n\n<p>and usage:</p>\n\n<pre><code>&gt;&gt;&gt; sum_of_powers([1,2,3], [1,2])\n[6, 14]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4505180, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f040f77786265196c8ce6e1c717f31d?s=128&d=identicon&r=PG&f=1", "display_name": "felicia_rae", "link": "https://stackoverflow.com/users/4505180/felicia-rae"}, "edited": false, "score": 0, "creation_date": 1422487878, "post_id": 28204331, "comment_id": 44774744, "body": "sadly it is madatory to use NESTED whileloops haha"}, {"owner": {"reputation": 23, "user_id": 4505180, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f040f77786265196c8ce6e1c717f31d?s=128&d=identicon&r=PG&f=1", "display_name": "felicia_rae", "link": "https://stackoverflow.com/users/4505180/felicia-rae"}, "edited": false, "score": 0, "creation_date": 1422490113, "post_id": 28204331, "comment_id": 44775437, "body": "Thank you so much :) I just have no reaason why this would EVER be necessary but eh, what can you do!? I understand now. You are awesome!"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1422489673, "last_edit_date": 1422489673, "creation_date": 1422487371, "answer_id": 28204331, "question_id": 28204240, "link": "https://stackoverflow.com/questions/28204240/use-while-loops-in-python-to-create-sum-of-powers/28204331#28204331", "title": "Use while loops in python to create sum of powers", "body": "<p>Without resorting to using a god-forsaken <em>while</em> loop....</p>\n\n<pre><code>def sum_of_powers(bases, powers):\n    return [sum([base**power for base in bases]) for power in powers]\n</code></pre>\n\n<p>DEMO</p>\n\n<pre><code>In [2]: list_one = [1,2,3]; list_two = [1,2]\n\nIn [3]: sum_of_powers(list_one, list_two)\nOut[3]: [6, 14]\n</code></pre>\n\n<p>As requested: the unnecessary and god-forsaken <code>while</code> loop version</p>\n\n<pre><code>def sum_of_powers(bases, powers):\n    accumulator = []\n    bases, powers = iter(bases), iter(powers)\n    j, i = 0, 0\n    while j &lt; len(powers):\n        sub_accum = []\n        while i &lt; len(bases):\n            sub_accum.append(bases[i]**powers[j])\n            i += 1\n        accumulator.append(sub_accum)\n        j += 1\n    return accumulator\n</code></pre>\n\n<p>This is HORRIBLE practice and your teacher should be shot for forcing you to go through this in <em>Python</em> of all things. There are many languages where these are useful constructs. Python is <strong><em>NOT</em></strong> one of them.</p>\n"}], "owner": {"reputation": 23, "user_id": 4505180, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f040f77786265196c8ce6e1c717f31d?s=128&d=identicon&r=PG&f=1", "display_name": "felicia_rae", "link": "https://stackoverflow.com/users/4505180/felicia-rae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2110, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1422489673, "creation_date": 1422486869, "last_edit_date": 1422487855, "question_id": 28204240, "link": "https://stackoverflow.com/questions/28204240/use-while-loops-in-python-to-create-sum-of-powers", "title": "Use while loops in python to create sum of powers", "body": "<p>The outcome of this function should be <code>[14]</code> but I cannot figure out how to get this! The function is supposed to, while using nested while loops, take the integers from <code>list_one = [1,2,3]</code> and raise it to the power of the integers in <code>list_two = [2]</code>, then sum them. EX) <code>1**2 + 2**2 + 3**2</code>. the answer would then be appended to a new list. If the lists were <code>list_one = [1,2,3]</code> and <code>list_two = [1,2]</code> the new list would contain <code>[6,14]</code>. I have been going back and forth between methods but I am super confused now. Can anyone help me out?</p>\n"}, {"tags": ["python", "excel", "openpyxl"], "comments": [{"owner": {"reputation": 6663, "user_id": 532685, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/00fed527cb6dfa9b682b361c2de27e42?s=128&d=identicon&r=PG", "display_name": "nycynik", "link": "https://stackoverflow.com/users/532685/nycynik"}, "edited": false, "score": 0, "creation_date": 1424150813, "post_id": 28204188, "comment_id": 45423008, "body": "Found some things here: <a href=\"http://openpyxl.readthedocs.org/en/latest/_modules/openpyxl/worksheet/worksheet.html#Worksheet.add_print_title\" rel=\"nofollow noreferrer\">openpyxl.readthedocs.org/en/latest/_modules/openpyxl/workshe&zwnj;&#8203;et/&hellip;</a>"}, {"owner": {"reputation": 6663, "user_id": 532685, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/00fed527cb6dfa9b682b361c2de27e42?s=128&d=identicon&r=PG", "display_name": "nycynik", "link": "https://stackoverflow.com/users/532685/nycynik"}, "edited": false, "score": 0, "creation_date": 1424150921, "post_id": 28204188, "comment_id": 45423041, "body": "and this is the docs for it: <a href=\"http://openpyxl.readthedocs.org/en/latest/api/openpyxl.worksheet.html?highlight=add_print_title#openpyxl.worksheet.worksheet.Worksheet.add_print_title\" rel=\"nofollow noreferrer\">openpyxl.readthedocs.org/en/latest/api/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "is_accepted": false, "score": -1, "last_activity_date": 1422531021, "creation_date": 1422531021, "answer_id": 28213644, "question_id": 28204188, "link": "https://stackoverflow.com/questions/28204188/adding-print-titles-to-a-worksheet-using-openpyxl/28213644#28213644", "title": "Adding print titles to a worksheet using openpyxl", "body": "<p>I'm not sure how well we (can) support this as it seems to use stuff not covered in the specification. I've never used this method myself so I'm not that familiar with it.</p>\n\n<p>Please submit a bug with two files: what openpyxl produces; what it should be.</p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 4505069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e41b9cc42cb0d326dadbaa7a9ae0ce51?s=128&d=identicon&r=PG&f=1", "display_name": "johaywood", "link": "https://stackoverflow.com/users/4505069/johaywood"}, "edited": false, "score": 1, "creation_date": 1427766868, "post_id": 28555305, "comment_id": 46902907, "body": "just saw this. I actually submitted the fix you posted about -- should have updated here when I figured it out. Thanks for updating it here!"}, {"owner": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "edited": false, "score": 0, "creation_date": 1487178098, "post_id": 28555305, "comment_id": 71669018, "body": "add_print_title has been deprecated as of 2.4.0. Instead, use print_title_rows or print_title_cols"}, {"owner": {"reputation": 6663, "user_id": 532685, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/00fed527cb6dfa9b682b361c2de27e42?s=128&d=identicon&r=PG", "display_name": "nycynik", "link": "https://stackoverflow.com/users/532685/nycynik"}, "reply_to_user": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "edited": false, "score": 0, "creation_date": 1487219503, "post_id": 28555305, "comment_id": 71686859, "body": "thanks @Tom do you know what print_title_rows is? Is it just an array of rows?  I cound not find it in <a href=\"http://openpyxl.readthedocs.io/en/default/api/openpyxl.worksheet.worksheet.html?highlight=add_print_title\" rel=\"nofollow noreferrer\">openpyxl.readthedocs.io/en/default/api/&hellip;</a>"}, {"owner": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "edited": false, "score": 1, "creation_date": 1487259976, "post_id": 28555305, "comment_id": 71713293, "body": "@nycynik, There&#39;s an example <a href=\"http://openpyxl.readthedocs.io/en/default/print_settings.html#add-print-titles\" rel=\"nofollow noreferrer\">here</a>, but it&#39;s not quite clear. The equivalent of <code>ws.add_print_title(3, &#39;rows&#39;)</code> would be <code>ws.print_title_rows = &#39;1:3&#39;</code>"}], "tags": [], "owner": {"reputation": 6663, "user_id": 532685, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/00fed527cb6dfa9b682b361c2de27e42?s=128&d=identicon&r=PG", "display_name": "nycynik", "link": "https://stackoverflow.com/users/532685/nycynik"}, "is_accepted": true, "score": 1, "last_activity_date": 1487264875, "last_edit_date": 1487264875, "creation_date": 1424151061, "answer_id": 28555305, "question_id": 28204188, "link": "https://stackoverflow.com/questions/28204188/adding-print-titles-to-a-worksheet-using-openpyxl/28555305#28555305", "title": "Adding print titles to a worksheet using openpyxl", "body": "<p>Acording to the test case your calling it correctly:</p>\n\n<pre><code>def test_print_titles():\n    wb = Workbook()\n    ws1 = wb.create_sheet()\n    ws2 = wb.create_sheet()\n    ws1.print_title_rows = '1:2'  # NOTE this was depricated, old code was ws1.add_print_title(2)\n    ws2.print_title_cols = '1:3'  # NOTE: this replaces depricated add_print_title, code was ws2.add_print_title(3, rows_or_cols='cols')\n\n    def mystr(nr):\n        return ','.join(['%s!%s' % (sheet.title, name) for sheet, name in nr.destinations])\n\n    actual_named_ranges = set([(nr.name, nr.scope, mystr(nr)) for nr in wb.get_named_ranges()])\n    expected_named_ranges = set([('_xlnm.Print_Titles', ws1, 'Sheet1!$1:$2'),\n                                 ('_xlnm.Print_Titles', ws2, 'Sheet2!$A:$C')])\n    assert(actual_named_ranges == expected_named_ranges)\n</code></pre>\n\n<p>It seems it is a known issue right now, but there is a fix in place, so the next version should take care of it.  You can fix it now by editing the file yourself as shown here in this diff:</p>\n\n<p><a href=\"https://bitbucket.org/openpyxl/openpyxl/pull-request/47/fix-issue-417-creating-print-titles/diff\" rel=\"nofollow noreferrer\">https://bitbucket.org/openpyxl/openpyxl/pull-request/47/fix-issue-417-creating-print-titles/diff</a></p>\n"}], "owner": {"reputation": 63, "user_id": 4505069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e41b9cc42cb0d326dadbaa7a9ae0ce51?s=128&d=identicon&r=PG&f=1", "display_name": "johaywood", "link": "https://stackoverflow.com/users/4505069/johaywood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1193, "favorite_count": 1, "accepted_answer_id": 28555305, "answer_count": 2, "score": 1, "last_activity_date": 1487264875, "creation_date": 1422486617, "question_id": 28204188, "link": "https://stackoverflow.com/questions/28204188/adding-print-titles-to-a-worksheet-using-openpyxl", "title": "Adding print titles to a worksheet using openpyxl", "body": "<p>I'm unable to add print titles to my Excel worksheet using openpyxl. The named range is created properly but it doesn't properly become the named range for the print titles. The problem seems to be that the scope of the print titles named range is incorrect (at least, if I am understanding it correctly). Instead of the scope being the worksheet name as it is if I create print titles manually in Excel, the scope is always 'Workbook'. Here's a relevant snippet of the code I'm using:</p>\n\n<pre><code>wb = Workbook()\nws = wb.active\nws.add_print_title(1, rows_or_cols='rows')\n</code></pre>\n\n<p>As far as I can tell <code>add_print_title</code> only needs the number of rows or columns to add to the named range and whether rows and columns are being added. And like I said, this creates a named range properly, it just doesn't make that named range into the print titles. Maybe I'm missing something silly, but I've exhausted all Google searches and my little bit of knowledge. </p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4221197"}, "edited": false, "score": 0, "creation_date": 1422487199, "post_id": 28204277, "comment_id": 44774502, "body": "sounds good. Let me run it in command line, then see  if I can module it up somehow"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4221197"}, "edited": false, "score": 0, "creation_date": 1422488429, "post_id": 28204277, "comment_id": 44774897, "body": "It works fin in command line as I would expect. When I try to run it in module a few things go wrong.   When I put in  2x+3y for s, I get an error."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4221197"}, "edited": false, "score": 0, "creation_date": 1422488465, "post_id": 28204277, "comment_id": 44774904, "body": "I get invalid syntax  when I put it exactly as show above. When I put it in as &quot;2x+3y&quot;, with the quotes, I get &quot;Traceback (most recent call last):   File &quot;&lt;pyshell#68&gt;&quot;, line 1, in &lt;module&gt;     cow.spliter(&quot;2x+3y&quot;)   File &quot;C:\\Python34\\cow.py&quot;, line 54, in spliter     return [i.strip() for i in re.split(r&#39;[+-]&#39;,s)] NameError: name &#39;re&#39; is not defined&quot;  .  Do I need to predefine s somewhere in the module?  My hope is for it to take a generic function and split it.    This is what I put in exactly as &quot;def spliter(s):"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1422488466, "post_id": 28204277, "comment_id": 44774905, "body": "@kevinTahN. you didnt import <code>re</code> , just add <code>import re</code> at the top level of your module"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4221197"}, "edited": false, "score": 0, "creation_date": 1422488502, "post_id": 28204277, "comment_id": 44774920, "body": "return [i.strip() for i in re.split(r&#39;[+-]&#39;,s)] &quot; . I do &quot;import cow&quot; , then cow.spliter(2x+3y) , out of desperation, I tried, cow.spliter(&quot;2x+3y&quot;). It seems a rather trivial thing, but I am not even sure what to do any more lol"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4221197"}, "edited": false, "score": 0, "creation_date": 1422488559, "post_id": 28204277, "comment_id": 44774937, "body": "In had to post in chunks because of the length restrictions, but the comment series captures the shortcommings"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1422488651, "post_id": 28204277, "comment_id": 44774969, "body": "@kevinTahN. as is say you have <code>NameError: name &#39;re&#39; is not </code> so you just need to import <code>re</code>"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 1, "last_activity_date": 1422487358, "last_edit_date": 1422487358, "creation_date": 1422487057, "answer_id": 28204277, "question_id": 28204181, "link": "https://stackoverflow.com/questions/28204181/re-split-f-or-better-stepping-to-partial-derivatives/28204277#28204277", "title": "re.split(&#39;[+ -]&#39;,f) or better stepping to partial derivatives", "body": "<p><code>re.split()</code> just accept string type so you couldn't pass a list to it . also in your pattern you have a space that is extra you need <code>r'[+-]'</code> :</p>\n\n<pre><code>&gt;&gt;&gt; s=\"2x + 3y\"\n&gt;&gt;&gt; s1=\"2x + 3y\"\n&gt;&gt;&gt; s2=\"2x - 3y\"\n&gt;&gt;&gt; re.split(r'[+-]',s1)\n['2x ', ' 3y']\n&gt;&gt;&gt; re.split(r'[+-]',s2)\n['2x ', ' 3y']\n</code></pre>\n\n<p>also you can remove spaces from your splited elements with <code>str.strip</code> :</p>\n\n<pre><code>&gt;&gt;&gt; [i.strip() for i in re.split(r'[+-]',s2)]\n['2x', '3y']\n</code></pre>\n\n<p>And within a function :</p>\n\n<pre><code>&gt;&gt;&gt; def spliter(s):\n...    return [i.strip() for i in re.split(r'[+-]',s)]\n... \n&gt;&gt;&gt; spliter(s1)\n['2x', '3y']\n&gt;&gt;&gt; s3=\"4x + 12z - 18k\"\n&gt;&gt;&gt; spliter(s3)\n['4x', '12z', '18k']\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4221197"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 28204277, "answer_count": 1, "score": 0, "last_activity_date": 1422487358, "creation_date": 1422486597, "question_id": 28204181, "link": "https://stackoverflow.com/questions/28204181/re-split-f-or-better-stepping-to-partial-derivatives", "title": "re.split(&#39;[+ -]&#39;,f) or better stepping to partial derivatives", "body": "<p>I have been running in circles on some basic stuff. My idea is the following: I want to write a simple def , to do partial derivatives. I know there are tools out there already, but I happen to be an egotist with presumably bad antiquated python skills. without further ado, here is the situation. \n   First the strategy: \n       I want to split something like  2x + 3y into [2x , 3y]; then act on 2x , thus [0] and 3y, [1]  with a derivative operation which I have not written yet. I plan on doing this symbolically. I have decided not to look into too much detail on how others have done it without trying a few dirty attempts.\n     Here is my non working implentation</p>\n\n<pre><code>def partialderivative(f, a):\n\n import re\n L = list(f)\n re.split('[+ -]', L)\n derivative (L[0],x)\n derivative (L[0],y)\n derivative (L[1],x)\n derivative (L[1],y)\n</code></pre>\n\n<p>print(some results)</p>\n\n<p>Now there are many things going on that I don't fully understand. If I run the first part above via command line carefully ensuring that f --> 'f' and \nproceeding as \n     re.split('[+ -]',f) ,\nthen I will have it split, but that is about it\nThe part below the \" ------------------ \" is more or less pseudo code. </p>\n\n<p>This is probably going to be the dumbest question posted here. . .</p>\n"}, {"tags": ["python", "class", "mixins"], "answers": [{"comments": [{"owner": {"reputation": 1653, "user_id": 467314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/739a0980ee2f023bd22d9b71c5cb503d?s=128&d=identicon&r=PG", "display_name": "moorepants", "link": "https://stackoverflow.com/users/467314/moorepants"}, "edited": false, "score": 2, "creation_date": 1422487282, "post_id": 28204230, "comment_id": 44774530, "body": "1. That works. Thanks. 2. I have quite a number of mixins and a number of classes like Sub, the array of subclasses I&#39;d have to manually write doesn&#39;t warrant this solution to be practical."}], "tags": [], "owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "is_accepted": true, "score": 3, "last_activity_date": 1422486805, "creation_date": 1422486805, "answer_id": 28204230, "question_id": 28204130, "link": "https://stackoverflow.com/questions/28204130/how-can-i-conditionally-add-in-a-mixin-to-the-current-class-on-instantiation/28204230#28204230", "title": "How can I conditionally add in a mixin to the current class on instantiation?", "body": "<ol>\n<li><p><code>__init__</code> is only called if <code>__new__</code> returns an instance of the class.  Your on-the-fly class inherits from a mixin, and from <code>Sub</code>'s <em>parents</em>, but not from <code>Sub</code> itself.  It'll probably work if you set <code>bases = (MixinOne, cls)</code>.</p></li>\n<li><p>Write a factory function (or classmethod) instead of overloading <code>Sub</code>'s construction.  Even better, just make some subclasses instead of creating classes at runtime.  :)</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1653, "user_id": 467314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/739a0980ee2f023bd22d9b71c5cb503d?s=128&d=identicon&r=PG", "display_name": "moorepants", "link": "https://stackoverflow.com/users/467314/moorepants"}, "edited": false, "score": 0, "creation_date": 1422643444, "post_id": 28205308, "comment_id": 44845898, "body": "Nice solution. I went with the quick fix in Eevee&#39;s answer, but may refactor to use this. Thanks."}, {"owner": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "edited": false, "score": 0, "creation_date": 1499695778, "post_id": 28205308, "comment_id": 77002255, "body": "I can&#39;t get the above code to work. I get a <b>TypeError</b> <code>__init__() got an unexpected keyword argument &#39;mixin&#39; </code>. I tried adding <code>**kwargs</code> to the <code>__init__</code> method but without success"}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "reply_to_user": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "edited": false, "score": 0, "creation_date": 1499696175, "post_id": 28205308, "comment_id": 77002591, "body": "@drstevok are you using Python 2 or 3?"}, {"owner": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "edited": false, "score": 0, "creation_date": 1499696232, "post_id": 28205308, "comment_id": 77002640, "body": "I am using Python 3.6.1. Here&#39;s the code <a href=\"https://gist.github.com/docsteveharris/7693d78e235b0d354cdc5b56ef264280\" rel=\"nofollow noreferrer\">gist.github.com/docsteveharris/7693d78e235b0d354cdc5b56ef264&zwnj;&#8203;280</a> in case I made a typo"}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "reply_to_user": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "edited": false, "score": 1, "creation_date": 1499696972, "post_id": 28205308, "comment_id": 77003204, "body": "@drstevok that would be it then. Python 3 doesn&#39;t look at the <code>__metaclass__</code> attribute, instead you need to provide it in the declaration. Try <code>class Sub(object, metaclass = AutoMixinMeta)</code>"}, {"owner": {"reputation": 695, "user_id": 992999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7253a5a082bf48543308f15c1fccf10?s=128&d=identicon&r=PG", "display_name": "drstevok", "link": "https://stackoverflow.com/users/992999/drstevok"}, "edited": false, "score": 0, "creation_date": 1499700187, "post_id": 28205308, "comment_id": 77005618, "body": "Ahhh. Thank you. That fixed it."}], "tags": [], "owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "is_accepted": false, "score": 9, "last_activity_date": 1575680770, "last_edit_date": 1575680770, "creation_date": 1422493060, "answer_id": 28205308, "question_id": 28204130, "link": "https://stackoverflow.com/questions/28204130/how-can-i-conditionally-add-in-a-mixin-to-the-current-class-on-instantiation/28205308#28205308", "title": "How can I conditionally add in a mixin to the current class on instantiation?", "body": "<p>This is a neat place to use metaclasses. You can put the custom-mixin-inclusion code in the meta, then your <code>Sub</code> classes don't need to have the boilerplate:</p>\n\n<pre><code>class AutoMixinMeta(type):\n    def __call__(cls, *args, **kwargs):\n        try:\n            mixin = kwargs.pop('mixin')\n            name = \"{}With{}\".format(cls.__name__, mixin.__name__)\n            cls = type(name, (mixin, cls), dict(cls.__dict__))\n        except KeyError:\n            pass\n        return type.__call__(cls, *args, **kwargs)\n\nclass Sub(object):\n    __metaclass__ = AutoMixinMeta\n\n    def __init__(self, name):\n        self.name = name\n</code></pre>\n\n<p>Now you can create <code>Sub</code> objects and specify the mixin as follows:</p>\n\n<pre><code>&gt;&gt;&gt; s = Sub('foo', mixin=MixinOne)\n&gt;&gt;&gt; s.print_name()\nfoo is using MixinOne.\n</code></pre>\n\n<p>It'll automatically get pulled out of the kwargs dict so the <code>__init__</code> method can remain completely unaware of its existence. </p>\n\n<hr>\n\n<p>Note: the metaclass declaration syntax changes in Python 3:</p>\n\n<pre><code>class Sub(metaclass = AutoMixinMeta):\n    def __init__(self, name):\n    self.name = name\n</code></pre>\n"}], "owner": {"reputation": 1653, "user_id": 467314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/739a0980ee2f023bd22d9b71c5cb503d?s=128&d=identicon&r=PG", "display_name": "moorepants", "link": "https://stackoverflow.com/users/467314/moorepants"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1624, "favorite_count": 2, "accepted_answer_id": 28204230, "answer_count": 2, "score": 4, "last_activity_date": 1575680770, "creation_date": 1422486354, "last_edit_date": 1422487517, "question_id": 28204130, "link": "https://stackoverflow.com/questions/28204130/how-can-i-conditionally-add-in-a-mixin-to-the-current-class-on-instantiation", "title": "How can I conditionally add in a mixin to the current class on instantiation?", "body": "<p>I'd like to have a class that adds in mixins based on arguments passed to the constructor. This is what I've tried:</p>\n\n<pre><code>class MixinOne(object):\n    def print_name(self):\n        print(\"{} is using MixinOne.\".format(self.name))\n\n\nclass MixinTwo(object):\n    def print_name(self):\n        print(\"{} is using MixinTwo.\".format(self.name))\n\n\nclass Sub(object):\n\n    def __new__(cls, *args, **kwargs):\n\n        mixin = args[1]\n\n        if mixin == 'one':\n            bases = (MixinOne,) + cls.__bases__\n        elif mixin == 'two':\n            bases = (MixinTwo,) + cls.__bases__\n\n        return object.__new__(type('Sub', bases, dict(cls.__dict__)))\n\n    def __init__(self, name, mixin):\n\n        print('In Sub.__init__')\n\n        self.name = name\n</code></pre>\n\n<p>The only problem with this seems to be that <code>__init__</code> doesn't get called, so the <code>print_name</code> methods will not work.</p>\n\n<ol>\n<li>How do I get <code>__init__</code> on <code>Sub</code> to fire?</li>\n</ol>\n\n<p>or</p>\n\n<ol start=\"2\">\n<li>Is there a better way to do this?</li>\n</ol>\n"}, {"tags": ["python", "pandas", "data-analysis"], "answers": [{"comments": [{"owner": {"reputation": 1017, "user_id": 658247, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/80366677e22e921ad193009c1fd25c4f?s=128&d=identicon&r=PG", "display_name": "amehta", "link": "https://stackoverflow.com/users/658247/amehta"}, "edited": false, "score": 0, "creation_date": 1422491297, "post_id": 28204141, "comment_id": 44775769, "body": "WOW. I also liked that you shortened my code as well. Thanks!"}], "tags": [], "owner": {"reputation": 7894, "user_id": 1714661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b032b8c99ae8c89f0f03d39b46fd21c7?s=128&d=identicon&r=PG", "display_name": "Acorbe", "link": "https://stackoverflow.com/users/1714661/acorbe"}, "is_accepted": true, "score": 1, "last_activity_date": 1422486389, "creation_date": 1422486389, "answer_id": 28204141, "question_id": 28204091, "link": "https://stackoverflow.com/questions/28204091/how-to-concatenate-a-specific-column-from-a-pandas-dataframe/28204141#28204141", "title": "How to concatenate a specific column from a pandas.DataFrame()?", "body": "<p>you can use <code>concat</code> to concatenate a list of DataFrames</p>\n\n<pre><code> df_list = [pd.read_csv(file_name, delimiter=',', names=header_row) for file_name in file_list] #opens your csv\n\n df = pd.concat(df_list)\n</code></pre>\n\n<p>Then you calculate the mean via</p>\n\n<pre><code> df.sales.mean()\n</code></pre>\n\n<p>A small example</p>\n\n<pre><code> a = pd.DataFrame({'sales' : [2,4,6] , 'other' : [1,2,1]})\n b = pd.DataFrame({'sales' : [7,4,7] , 'other' : [9,2,1]})\n\n df = pd.concat([a,b])\n</code></pre>\n\n<p>the dataframe is </p>\n\n<pre><code>      other  sales\n  0      1      2\n  1      2      4\n  2      1      6\n  0      9      7\n  1      2      4\n  2      1      7\n</code></pre>\n\n<p>and the mean</p>\n\n<pre><code> df.sales.mean()\n    5.0\n</code></pre>\n"}], "owner": {"reputation": 1017, "user_id": 658247, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/80366677e22e921ad193009c1fd25c4f?s=128&d=identicon&r=PG", "display_name": "amehta", "link": "https://stackoverflow.com/users/658247/amehta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1518, "favorite_count": 0, "accepted_answer_id": 28204141, "answer_count": 1, "score": 1, "last_activity_date": 1422486389, "creation_date": 1422486162, "question_id": 28204091, "link": "https://stackoverflow.com/questions/28204091/how-to-concatenate-a-specific-column-from-a-pandas-dataframe", "title": "How to concatenate a specific column from a pandas.DataFrame()?", "body": "<p>I have a list of files, and I want to combine a specific column from it for all my files, to run some cumulative analysis.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nall_data_sets = pd.DataFrame([])\nfor file_name in file_list:\n    my_data = pd.DataFrame([])\n    my_data = pd.read_csv(file_name, delimiter=',', names=header_row)\n    my_data = my_data.reset_index()\n    all_data_sets.append(my_data['sales'])\n\n#np.mean(all_data_sets['sales'])\nnp.mean(all_data_sets)\n</code></pre>\n"}, {"tags": ["python", "flask", "python-decorators", "flask-login"], "answers": [{"comments": [{"owner": {"reputation": 3812, "user_id": 663341, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/64e083dae549646c34f5691a2528ad3a?s=128&d=identicon&r=PG", "display_name": "Jimmy Huch", "link": "https://stackoverflow.com/users/663341/jimmy-huch"}, "edited": false, "score": 5, "creation_date": 1536714332, "post_id": 28204325, "comment_id": 91520317, "body": "Although everything leading up to the conclusion in your answer is <i>technically correct</i>, your conclusion is <b>absolutely wrong</b>.   You want to put the <code>@login_required</code> above the <code>@paginate</code>--let me explain why...  Even though the decorators do <i>technically</i> execute from bottom to top, what you have to remember is that when the decorator executes, it returns a <i>wrapper</i>. The wrapper is where the core functionality of the decorator should execute... and <b>decorator wrappers execute top to bottom</b>."}], "tags": [], "owner": {"reputation": 1079, "user_id": 1056957, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c77854f528773793de67bb9a8ffeddd6?s=128&d=identicon&r=PG", "display_name": "rezakamalifard", "link": "https://stackoverflow.com/users/1056957/rezakamalifard"}, "is_accepted": false, "score": 1, "last_activity_date": 1524894884, "last_edit_date": 1524894884, "creation_date": 1422487327, "answer_id": 28204325, "question_id": 28204071, "link": "https://stackoverflow.com/questions/28204071/does-the-order-of-decorators-matter-on-a-flask-view/28204325#28204325", "title": "Does the order of decorators matter on a Flask view?", "body": "<p>According to <a href=\"https://www.python.org/dev/peps/pep-0318/\" rel=\"nofollow noreferrer\">PEP 318</a> the syntax for function decorators is:</p>\n\n<pre><code>@dec2\n@dec1\ndef func(arg1, arg2, ...):\n    pass\n</code></pre>\n\n<p>this is equivalent to:</p>\n\n<pre><code>def func(arg1, arg2, ...):\n    pass\nfunc = dec2(dec1(func))\n</code></pre>\n\n<p>and dec1 is called before dec2.</p>\n\n<p>You can define these functions to check like this:</p>\n\n<pre><code>def dec1(func):\n    print 'dec1'\ndef dec2(func):\n    print 'dec2'\n\n@dec2\n@dec1\ndef func():\n    pass\ndec1\ndec2\n</code></pre>\n\n<p>Actually it does not make any error but if you use <code>login_reqired</code> first and user is not logged in application will process data and paginate it after that <code>login_required</code> function generates an abort</p>\n\n<p>Best implementation for login_required decorator in flask is:</p>\n\n<pre><code>@paginate\n@login_required\ndef view_function():\n    pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 17, "last_activity_date": 1572622218, "last_edit_date": 1572622218, "creation_date": 1422487392, "answer_id": 28204335, "question_id": 28204071, "link": "https://stackoverflow.com/questions/28204071/does-the-order-of-decorators-matter-on-a-flask-view/28204335#28204335", "title": "Does the order of decorators matter on a Flask view?", "body": "<p>While there probably won't be any problem in this case no matter what the order, you probably want <code>login_required</code> to execute first so that you don't make queries and paginate results that will just get thrown away.</p>\n\n<p>Decorators wrap the original function bottom to top, so when the function is called the wrapper added by each decorator executes top to bottom. <code>@login_required</code> should be below any other decorators that assume the user is logged in so that its condition is evaluated before those others.</p>\n\n<p><code>@app.route()</code> must always be the top, outermost decorator. Otherwise the route will be registered for a function that does not represent all the decorators.</p>\n\n<hr>\n\n<p>The broader answer is that it depends on what each of the decorators are doing. You need to think about the flow of your program and whether it would make logical sense for one to come before the other.</p>\n"}, {"tags": [], "owner": {"reputation": 249, "user_id": 1900344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/68BJo.jpg?s=128&g=1", "display_name": "user1900344", "link": "https://stackoverflow.com/users/1900344/user1900344"}, "is_accepted": false, "score": 3, "last_activity_date": 1528769161, "last_edit_date": 1528769161, "creation_date": 1524893208, "answer_id": 50073179, "question_id": 28204071, "link": "https://stackoverflow.com/questions/28204071/does-the-order-of-decorators-matter-on-a-flask-view/50073179#50073179", "title": "Does the order of decorators matter on a Flask view?", "body": "<p>according the implement of login_required,</p>\n\n<pre><code>def login_required(func):\n    @wraps(func)\n    def decorated_view(*args, **kwargs):\n        if current_app.login_manager._login_disabled:\n            return func(*args, **kwargs)\n        elif not current_user.is_authenticated():\n            return current_app.login_manager.unauthorized()\n        return func(*args, **kwargs)\n    return decorated_view\n</code></pre>\n\n<p>You should do it like below.</p>\n\n<pre><code>@login_required\n@paginate\ndef view_function():\n    pass\n</code></pre>\n\n<p>suppose you have another decorator is_admin to judge a user have admin permission, you should do it like below</p>\n\n<pre><code>@login_required\n@is_admin\ndef view_function():\n    pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 899, "user_id": 7830612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0784fdcaaca88b2d772b71ac9bce2a0e?s=128&d=identicon&r=PG&f=1", "display_name": "leafmeal", "link": "https://stackoverflow.com/users/7830612/leafmeal"}, "is_accepted": false, "score": 2, "last_activity_date": 1556033035, "last_edit_date": 1556033035, "creation_date": 1537388901, "answer_id": 52413736, "question_id": 28204071, "link": "https://stackoverflow.com/questions/28204071/does-the-order-of-decorators-matter-on-a-flask-view/52413736#52413736", "title": "Does the order of decorators matter on a Flask view?", "body": "<p>The Flask documentation specifies that the order matters if the function is a view and has a <code>route</code> decorator. From <a href=\"http://flask.pocoo.org/docs/1.0/patterns/viewdecorators/\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p>When applying further decorators, always remember that the\n  route() decorator is the outermost.</p>\n</blockquote>\n"}], "owner": {"reputation": 695, "user_id": 3961857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54950accb77a41b03eceadee7d87d162?s=128&d=identicon&r=PG&f=1", "display_name": "shalbafzadeh", "link": "https://stackoverflow.com/users/3961857/shalbafzadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2625, "favorite_count": 2, "accepted_answer_id": 28204335, "answer_count": 4, "score": 12, "last_activity_date": 1572622218, "creation_date": 1422486073, "last_edit_date": 1422487460, "question_id": 28204071, "link": "https://stackoverflow.com/questions/28204071/does-the-order-of-decorators-matter-on-a-flask-view", "title": "Does the order of decorators matter on a Flask view?", "body": "<p>I'm using the <code>login_required</code> decorator and another decorator which paginates output data.  Is it important which one comes first?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1422486666, "post_id": 28204064, "comment_id": 44774328, "body": "I am confused. In the title you mention repetitions, while in your text you have examples without repetitions (<code>&#39;abc&#39;</code> and <code>&#39;bc&#39;</code>). What exactly do you mean by &quot;repetition&quot;?"}, {"owner": {"reputation": 15668, "user_id": 149076, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZHnYp.jpg?s=128&g=1", "display_name": "Jim Dennis", "link": "https://stackoverflow.com/users/149076/jim-dennis"}, "edited": false, "score": 0, "creation_date": 1422489224, "post_id": 28204064, "comment_id": 44775165, "body": "... and why to you refer to &quot;at the end of string&quot; when none of your examples show a match at the ends of those strings?"}, {"owner": {"reputation": 1535, "user_id": 1051277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/AFcGC.jpg?s=128&g=1", "display_name": "alasarr", "link": "https://stackoverflow.com/users/1051277/alasarr"}, "edited": false, "score": 0, "creation_date": 1422514040, "post_id": 28204064, "comment_id": 44781804, "body": "Sorry, you&#39;re right, the title was confused.  I&#39;ve edited it"}], "answers": [{"tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 0, "last_activity_date": 1422487010, "last_edit_date": 1422487010, "creation_date": 1422486316, "answer_id": 28204118, "question_id": 28204064, "link": "https://stackoverflow.com/questions/28204064/python-regex-how-to-detect-repetitions/28204118#28204118", "title": "Python regex - how to detect repetitions", "body": "<p>Use a negated character class. <code>[^ac]</code> matches any character but not of <code>a</code> or <code>c</code></p>\n\n<pre><code>&gt;&gt;&gt; re.search(r'a*([^ac]+)c*','aaaabbbbcccc').group(1)\n'bbbb'\n&gt;&gt;&gt; re.search(r'a*([^ac]+)c*','aaaaaaaabbbbbbbcccccc').group(1)\n'bbbbbbb'\n&gt;&gt;&gt; re.search(r'a*([^ac]+)c*','abc').group(1)\n'b'\n&gt;&gt;&gt; re.search(r'a*([^ac]+)c*','aaaab').group(1)\n'b'\n&gt;&gt;&gt; re.search(r'a*([^ac]+)c*','bc').group(1)\n'b'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1422486580, "creation_date": 1422486580, "answer_id": 28204178, "question_id": 28204064, "link": "https://stackoverflow.com/questions/28204064/python-regex-how-to-detect-repetitions/28204178#28204178", "title": "Python regex - how to detect repetitions", "body": "<p>You can simply just use <code>[b]*</code> but in a grouping but note that you need <code>group(1)</code> :  </p>\n\n<pre><code>&gt;&gt;&gt; re.search(r'a*([b]+)c*','aabbbbbbbaa').group(1)\n</code></pre>\n"}], "owner": {"reputation": 1535, "user_id": 1051277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/AFcGC.jpg?s=128&g=1", "display_name": "alasarr", "link": "https://stackoverflow.com/users/1051277/alasarr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 1, "accepted_answer_id": 28204118, "answer_count": 2, "score": 0, "last_activity_date": 1422514053, "creation_date": 1422486058, "last_edit_date": 1422514053, "question_id": 28204064, "link": "https://stackoverflow.com/questions/28204064/python-regex-how-to-detect-repetitions", "title": "Python regex - how to detect repetitions", "body": "<p>For these strings, I'd like to extract all the b's .</p>\n\n<pre><code>'aaaabbbbcccc' =&gt; bbbb\n'aaaaaaaabbbbbbbcccccc' =&gt; bbbbbbb\n'abc' =&gt; b\n'aaaab' =&gt; b\n'bc' =&gt; b\n</code></pre>\n\n<p>I've tried something like that:</p>\n\n<pre><code>re.search(r'a*(\\w+)c*','aaaabbbbcccc').groups() =&gt; ('bbbbccc',)\n</code></pre>\n"}, {"tags": ["python", "text-files"], "comments": [{"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1422486227, "post_id": 28204052, "comment_id": 44774152, "body": "What does the actual text-file look like? It&#39;s basically impossible to suggest a parsing strategy without that"}, {"owner": {"reputation": 1, "user_id": 2675906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4bc9aa591864e4c78be078eee22410?s=128&d=identicon&r=PG&f=1", "display_name": "user2675906", "link": "https://stackoverflow.com/users/2675906/user2675906"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1422486603, "post_id": 28204052, "comment_id": 44774304, "body": "It goes like this; Kiara, 20, Running, 50, 60, Swimming, 20, 60 and so on. BTW, the comma is where a new line starts"}, {"owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "edited": false, "score": 0, "creation_date": 1422486991, "post_id": 28204052, "comment_id": 44774432, "body": "Looks like you need more than just three lines, but to parse the entire file, saving or printing info for each person.  But these values confuse me, which is time?"}, {"owner": {"reputation": 1, "user_id": 2675906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4bc9aa591864e4c78be078eee22410?s=128&d=identicon&r=PG&f=1", "display_name": "user2675906", "link": "https://stackoverflow.com/users/2675906/user2675906"}, "edited": false, "score": 0, "creation_date": 1422487259, "post_id": 28204052, "comment_id": 44774524, "body": "Kiara, 20, Running (name), 50(distnace), 60(time), Swimming(name), 20(distance), 60(time) and so on. I am ignoring the first two lines, and counting from the third."}, {"owner": {"reputation": 1, "user_id": 2675906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4bc9aa591864e4c78be078eee22410?s=128&d=identicon&r=PG&f=1", "display_name": "user2675906", "link": "https://stackoverflow.com/users/2675906/user2675906"}, "edited": false, "score": 0, "creation_date": 1422489678, "post_id": 28204052, "comment_id": 44775309, "body": "Quick random question; what is f.readlines in python"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2675906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4bc9aa591864e4c78be078eee22410?s=128&d=identicon&r=PG&f=1", "display_name": "user2675906", "link": "https://stackoverflow.com/users/2675906/user2675906"}, "edited": false, "score": 0, "creation_date": 1422487030, "post_id": 28204191, "comment_id": 44774443, "body": "Can you please tell me what the line count += 0 does."}, {"owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "reply_to_user": {"reputation": 1, "user_id": 2675906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4bc9aa591864e4c78be078eee22410?s=128&d=identicon&r=PG&f=1", "display_name": "user2675906", "link": "https://stackoverflow.com/users/2675906/user2675906"}, "edited": false, "score": 0, "creation_date": 1422487101, "post_id": 28204191, "comment_id": 44774468, "body": "+= is increment.  if count is equal to 0, count += 1 would bring the count to 1.  So for every line in the file, we are increasing our count variable, so we know where we are in the file."}], "tags": [], "owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "is_accepted": false, "score": 0, "last_activity_date": 1422487190, "last_edit_date": 1422487190, "creation_date": 1422486634, "answer_id": 28204191, "question_id": 28204052, "link": "https://stackoverflow.com/questions/28204052/how-can-i-take-every-3rd-line-in-a-text-file-then-after-taking-the-value-of-lin/28204191#28204191", "title": "How can I take every 3rd line in a text file, then after taking the value of line 3, take the next one?", "body": "\n\n<pre><code>f = open('file.txt')\ncount = 0  #where in the file we are\nentry = 3  #the first line we want to write, e.g Name\nfor line in f:\n    count += 1\n    if count == entry: name = line.strip() #name\n    elif count == entry+1: distance = line.strip() #distance\n    elif count == entry+2: \n        time = line.strip() #time\n        entry += 3  #now we've hit time, lets set entry to line 6 for the next iteration\n        calculation = float(distance) / float(time)\n        print name, calculation, time\n#do calculations\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "reply_to_user": {"reputation": 1, "user_id": 2675906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4bc9aa591864e4c78be078eee22410?s=128&d=identicon&r=PG&f=1", "display_name": "user2675906", "link": "https://stackoverflow.com/users/2675906/user2675906"}, "edited": false, "score": 0, "creation_date": 1422487391, "post_id": 28204226, "comment_id": 44774564, "body": "@user2675906 My first version didn&#39;t account for you wanting to loop. My new version does, but assumes the file will always have the correct number of items."}], "tags": [], "owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "is_accepted": false, "score": 0, "last_activity_date": 1422487347, "last_edit_date": 1422487347, "creation_date": 1422486789, "answer_id": 28204226, "question_id": 28204052, "link": "https://stackoverflow.com/questions/28204052/how-can-i-take-every-3rd-line-in-a-text-file-then-after-taking-the-value-of-lin/28204226#28204226", "title": "How can I take every 3rd line in a text file, then after taking the value of line 3, take the next one?", "body": "<p>If you always know that you will only ever need those three lines, you simply need to do:</p>\n\n<pre><code>values   = list()\nstate    = 0 # 0 is name, 1 is distance, 2 is time\nline_num = 0\nwith open(filename) as ifile:\n    name, distance, time = '',0,0 # the null set\n    for line in ifile:\n        if line_num &lt; 3:\n            line_num += 1\n        else:\n            if state == 0:\n                name  = line.strip()\n                state = 1\n            elif state == 1:\n                distance = float(line.strip())\n                state = 2\n            elif state == 2:\n                time = float(line.strip())\n                state = 0\n                values.append((name, distance, time))\n\nfor name, distance, time in values:\n    # do calculations on name, distance, time\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30761, "user_id": 779200, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b39b49e078967924f816af14a536994?s=128&d=identicon&r=PG", "display_name": "lvc", "link": "https://stackoverflow.com/users/779200/lvc"}, "edited": false, "score": 0, "creation_date": 1422494533, "post_id": 28204493, "comment_id": 44776656, "body": "Instead of reading the whole file into a list, you could burn the first two lines with <code>next(ff);next(ff)</code> and then do <code>grouper(ff, 3 None)</code>"}], "tags": [], "owner": {"reputation": 1157, "user_id": 3505188, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zm9V5.jpg?s=128&g=1", "display_name": "Patrick Wynne", "link": "https://stackoverflow.com/users/3505188/patrick-wynne"}, "is_accepted": false, "score": 0, "last_activity_date": 1422488229, "creation_date": 1422488229, "answer_id": 28204493, "question_id": 28204052, "link": "https://stackoverflow.com/questions/28204052/how-can-i-take-every-3rd-line-in-a-text-file-then-after-taking-the-value-of-lin/28204493#28204493", "title": "How can I take every 3rd line in a text file, then after taking the value of line 3, take the next one?", "body": "<p>Using the grouper recipe from <a href=\"https://docs.python.org/3/library/itertools.html#itertools-recipes\" rel=\"nofollow\">itertools</a>:</p>\n\n<pre><code>from itertools import zip_longest\n\ndef grouper(iterable, n, fillvalue=None):\n    \"Collect data into fixed-length chunks or blocks\"\n    # grouper('ABCDEFG', 3, 'x') --&gt; ABC DEF Gxx\"\n    args = [iter(iterable)] * n\n    return zip_longest(*args, fillvalue=fillvalue)\n\nwith open('file.txt') as ff:\n    data = ff.read().split('\\n')[2:]\ndata = grouper(data, 3, None)\nfor name, distance, time in data:\n    print(name, int(distance)/int(time), time)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "is_accepted": false, "score": 0, "last_activity_date": 1422488337, "creation_date": 1422488337, "answer_id": 28204514, "question_id": 28204052, "link": "https://stackoverflow.com/questions/28204052/how-can-i-take-every-3rd-line-in-a-text-file-then-after-taking-the-value-of-lin/28204514#28204514", "title": "How can I take every 3rd line in a text file, then after taking the value of line 3, take the next one?", "body": "<p>You file is not very large(only a few lines), so memory seems not to be a problem for you. Said that, you can try a different approach:</p>\n\n<pre><code>lines = []\n\nwith open(\"file.txt\") as input:\n    lines = input.readlines()    # If file is large is not a good idea load it all into memory.\n\nthirds  = lines[2:-1:3]  # Select from third element to the end and step by 3\nfourths = lines[3:-1:3]  # Select from fourth element to the end and step by 3\nfifths  = lines[4:-1:3]  # Select from fifth element to the end and step by 3\n\n\nfor (name, distance, time) in zip(thirds, fourths, fifths):\n    calculations = distance / time\n    print(name, calculations, time)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "is_accepted": false, "score": 0, "last_activity_date": 1422489638, "creation_date": 1422489638, "answer_id": 28204746, "question_id": 28204052, "link": "https://stackoverflow.com/questions/28204052/how-can-i-take-every-3rd-line-in-a-text-file-then-after-taking-the-value-of-lin/28204746#28204746", "title": "How can I take every 3rd line in a text file, then after taking the value of line 3, take the next one?", "body": "<p>The following code opens your file, uses the lines #1 and #2 by a reasonable guess of your description and then proceed to scan the file</p>\n\n<ol>\n<li><p>the method <code>readline</code> returns a single line from the file, with a newline at the end (that's why we use the method <code>strip</code> when we want to use the file content as a name...) and returns a null string <code>''</code> only (<em>only</em>) when the EOF is reached.</p></li>\n<li><p>we use an infinite loop to scan the rest of the file, but when the file is over we want to stop... that's why we do something different when we read the activity name, first we test for a null string (meaning: we reached EOF) and possibly break out of the loop.</p></li>\n</ol>\n\n<p>.</p>\n\n<pre><code>with open('data.txt') as data:\n    person = data.readline().strip()\n    age =  int(data.readline())\n    while True:\n        activity = data.readline()\n        if not activity:\n            break\n        activity = activity.strip()\n        distance = float(data.readline())\n        time = float(data.readline())\n        velocity = distance/time\n        format_output()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1422494729, "last_edit_date": 1422494729, "creation_date": 1422493574, "answer_id": 28205377, "question_id": 28204052, "link": "https://stackoverflow.com/questions/28204052/how-can-i-take-every-3rd-line-in-a-text-file-then-after-taking-the-value-of-lin/28205377#28205377", "title": "How can I take every 3rd line in a text file, then after taking the value of line 3, take the next one?", "body": "<p>I think something like this would be a fast and simple way to do it:</p>\n\n<pre><code># create test file\nwith open('3_lines_test.txt', 'wt') as file:\n    for i in range(1, 22):\n        file.write('line{:&gt;2}\\n'.format(i))\n\n# read test file\nwith open('3_lines_test.txt', 'rt') as file:\n    for _ in range(3): next(file)  # skip first 3 lines\n    while True:\n        try:\n            name = next(file).rstrip()  # read next 3 lines\n            dist = next(file).rstrip()  #        \"\n            time = next(file).rstrip()  #        \"\n        except StopIteration:\n            break\n\n        # do calculations or whatever...\n        print('values: ({name!r}, {dist!r}, {time!r})'.format(**locals()))\n\nprint('done')\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>values: ('line 4', 'line 5', 'line 6')\nvalues: ('line 7', 'line 8', 'line 9')\nvalues: ('line10', 'line11', 'line12')\nvalues: ('line13', 'line14', 'line15')\nvalues: ('line16', 'line17', 'line18')\nvalues: ('line19', 'line20', 'line21')\ndone\n</code></pre>\n\n<p>For such a short file, you could just read each line explicitly and calculate the values 6 times without any loop at all. This would require more code, but most of it would be boiler-plate and it would likely be the fastest possible approach.</p>\n"}], "owner": {"reputation": 1, "user_id": 2675906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4bc9aa591864e4c78be078eee22410?s=128&d=identicon&r=PG&f=1", "display_name": "user2675906", "link": "https://stackoverflow.com/users/2675906/user2675906"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2407, "favorite_count": 0, "answer_count": 6, "score": 0, "last_activity_date": 1422494729, "creation_date": 1422485967, "question_id": 28204052, "link": "https://stackoverflow.com/questions/28204052/how-can-i-take-every-3rd-line-in-a-text-file-then-after-taking-the-value-of-lin", "title": "How can I take every 3rd line in a text file, then after taking the value of line 3, take the next one?", "body": "<p>I am new to Python, so please help me...\nI want to take out every 3rd, 4th and 5th line in a text file. There are 22 lines in the text file\nHere is just an algorithm </p>\n\n<pre><code>For i in range (0,16):\n\n    Name = Extract line 3 from text file.\n\n    Distance= Extract line 4 from text file. \n\n    Time = Extract line 5 from text file.\n\n    Calculations = (Distance/Time )\n\n    Print (Name,Calculations, Time)\n\n    Name = ''\n\n    Distance = ''\n\n    Time = ''\n</code></pre>\n\n<p>My problem is that I want the for loop to repeat, but next time name should extract line 6, distance line 7 and time line 8. The next time the loop repeats, it should change name into line 9 and so on...\nHopefully my problem is clear enough, I am not sure how to phrase it.\nThanks for all the help in advance... I am clueless</p>\n\n<p>By the way I am using python 3.3</p>\n"}, {"tags": ["python", "qt", "pyqt", "shortcut"], "answers": [{"tags": [], "owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "is_accepted": true, "score": 6, "last_activity_date": 1422511015, "creation_date": 1422511015, "answer_id": 28207870, "question_id": 28204043, "link": "https://stackoverflow.com/questions/28204043/how-to-handle-keyboard-shortcuts-using-keypressevent-and-should-it-be-used-fo/28207870#28207870", "title": "How to handle keyboard shortcuts using keyPressEvent()? And should it be used for it?", "body": "<p>If you look at the signature of <a href=\"http://qt-project.org/doc/qt-4.8/qwidget.html#keyPressEvent\" rel=\"noreferrer\"><code>keyPressEvent()</code></a> you will see that the <code>e</code> argument you describe in your question is of type <a href=\"http://qt-project.org/doc/qt-4.8/qkeyevent.html\" rel=\"noreferrer\"><code>QKeyEvent</code></a>.</p>\n\n<p><code>QKeyEvent</code> instances have a method <a href=\"http://qt-project.org/doc/qt-4.8/qkeyevent.html#key\" rel=\"noreferrer\"><code>key()</code></a> which returns an integer that can be matched against constants in the enum <a href=\"http://qt-project.org/doc/qt-4.8/qt.html#Key-enum\" rel=\"noreferrer\"><code>Qt.Key</code></a>.</p>\n\n<p>For example:</p>\n\n<pre><code>if e.key() == Qt.Key_Backspace:\n    print 'The backspace key was pressed'\n</code></pre>\n\n<p>Similarly, <code>QKeyEvent</code> has a method <a href=\"http://qt-project.org/doc/qt-4.8/qkeyevent.html#modifiers\" rel=\"noreferrer\"><code>modifiers()</code></a>. Because there can be multiple keyboard modifiers pressed at once, you need to use this a little differently. The result from <code>modifiers()</code> is the binary OR of one or more of the constants in the <a href=\"http://qt-project.org/doc/qt-4.8/qt.html#KeyboardModifier-enum\" rel=\"noreferrer\"><code>Qt.KeyboardModifier</code></a> enum. To test if a given modifier is pressed, you need to perform the binary AND. For example:</p>\n\n<pre><code>if e.modifiers() &amp; Qt.ShiftModifier:\n    print 'The Shift key is pressed'\n\nif e.modifiers() &amp; Qt.ControlModifier:\n    print 'The control key is pressed'\n\nif e.modifiers() &amp; Qt.ShiftModifier and e.modifiers() &amp; Qt.ControlModifier:\n    print 'Ctrl+Shift was pressed'\n</code></pre>\n\n<p>Note: In the example above, if both ctrl+shift were pressed, then all three if statements execute, in sequence.</p>\n"}, {"tags": [], "owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "is_accepted": false, "score": 2, "last_activity_date": 1422524010, "creation_date": 1422524010, "answer_id": 28211212, "question_id": 28204043, "link": "https://stackoverflow.com/questions/28204043/how-to-handle-keyboard-shortcuts-using-keypressevent-and-should-it-be-used-fo/28211212#28211212", "title": "How to handle keyboard shortcuts using keyPressEvent()? And should it be used for it?", "body": "<p>Just for completeness and if you want more difficult sequences (ctrl-c followed by ctrl-k for example) just use <a href=\"http://qt-project.org/doc/qt-4.8/qkeysequence.html\" rel=\"nofollow\">QKeySequence</a> as shortcut of a <a href=\"http://qt-project.org/doc/qt-4.8/qaction.html\" rel=\"nofollow\">QAction</a> which can be added to any <a href=\"http://qt-project.org/doc/qt-4.8/qwidget.html#addAction\" rel=\"nofollow\">QWidget</a>.</p>\n"}], "owner": {"reputation": 13543, "user_id": 1107049, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8f94b3bb695b3bbd83be44eb151aa63e?s=128&d=identicon&r=PG", "display_name": "alphanumeric", "link": "https://stackoverflow.com/users/1107049/alphanumeric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3998, "favorite_count": 2, "accepted_answer_id": 28207870, "answer_count": 2, "score": 1, "last_activity_date": 1422524010, "creation_date": 1422485932, "question_id": 28204043, "link": "https://stackoverflow.com/questions/28204043/how-to-handle-keyboard-shortcuts-using-keypressevent-and-should-it-be-used-fo", "title": "How to handle keyboard shortcuts using keyPressEvent()? And should it be used for it?", "body": "<p>While defining the custom signal emission from within <code>QTableView</code>'s <code>keyPressEvent()</code> method:</p>\n\n<pre><code>def keyPressEvent(self, e):\n    if e.text()=='w':\n        self.emit(SIGNAL('writeRequested'))\n    if e.text()=='o':\n        self.emit(SIGNAL('openRequested')) \n</code></pre>\n\n<p>I am using incoming <code>e</code> argument to figure out what keyboard key was pressed. With this \"technique\" I am limited to only one character at the time. Secondly, I am not able to use a combination of <code>Ctrl+Key</code>, <code>Alt+Key</code> or <code>Shift+Key</code>. Third, I can't figure out what <code>Delete</code> and <code>Backspaces</code> keys are so I could compare them against <code>e.text()</code>. </p>\n\n<p>So there are few questions really...</p>\n\n<ol>\n<li><p>Where in Qt docs all the keyboardKeys are listed so they could be used to do a <code>e.text()=='keyboardKey'</code> comparison.</p></li>\n<li><p>How to handle the double-keyboard keys combinations (such as <code>Ctrl+Key</code>) with the \"technique\" I am using (sending a custom signal from inside of view's <code>keyPressEvent()</code>?</p></li>\n<li><p>Is there an alternative easier way to hook the keyboard keys to trigger a method or a function (so the user could use keyboard shortcuts while mouse positioned above <code>QTableView</code> to launch the \"action\")?</p></li>\n</ol>\n"}, {"tags": ["python", "csv", "pandas", "time-series"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1422521601, "post_id": 28204036, "comment_id": 44785349, "body": "So what are you asking? how to drop all rows after 49th minute or you want to drop just rows 47:49?"}, {"owner": {"reputation": 13, "user_id": 3525367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1dd35f7bcb1bf6c4b5a907524d0a77?s=128&d=identicon&r=PG&f=1", "display_name": "Mentallygone", "link": "https://stackoverflow.com/users/3525367/mentallygone"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1422557825, "post_id": 28204036, "comment_id": 44807856, "body": "I want to drop rows 47:49. I have a loop that looks for at least 3 consecutive flows&gt;0 before calculating energy, however this data file is huge and I haven&#39;t been able to work with the whole file yet without crashing. I&#39;ve used Pandas in the past for resampling and like how quickly it deals with large data, but I haven&#39;t been able to figure out how to do filtering like this."}], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 0, "last_activity_date": 1422558678, "creation_date": 1422558678, "answer_id": 28222677, "question_id": 28204036, "link": "https://stackoverflow.com/questions/28204036/how-to-remove-transients-in-time-series-data-in-python-or-pandas/28222677#28222677", "title": "How to remove transients in time-series data in Python (or Pandas)?", "body": "<p>Please try the following, I think it should work, basically it filters out the rows where row at <code>n-3</code> does not equal 0 and is not <code>NaN</code> this assumes that when there is no flow you have a value of 0:</p>\n\n<pre><code>In [12]:\n\ndf[(df.Flow.shift(3)!=0) &amp; (df.Flow.shift(3).notnull())]\nOut[12]:\n   Time_(min)      Flow  Supply_T   Return_T\n5          50  0.778125  101.3998  74.686288\n6          51  0.788500  102.1189  74.490528\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3525367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1dd35f7bcb1bf6c4b5a907524d0a77?s=128&d=identicon&r=PG&f=1", "display_name": "Mentallygone", "link": "https://stackoverflow.com/users/3525367/mentallygone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 28222677, "answer_count": 1, "score": 0, "last_activity_date": 1422558678, "creation_date": 1422485902, "question_id": 28204036, "link": "https://stackoverflow.com/questions/28204036/how-to-remove-transients-in-time-series-data-in-python-or-pandas", "title": "How to remove transients in time-series data in Python (or Pandas)?", "body": "<p>I have a time-series set of data recording the flow and temperature of a heat pump. The first few minutes when the system kicks on, the flows and temperatures aren't fully developed and I'd like to filter them out.  </p>\n\n<pre><code>Time (min)  Flow    Supply T    Return T\n\u2026.          \n45  0   0   0\n46  0   0   0\n47  1.338375    92.711328   78.72152\n48  2.267975    82.578552   74.239624\n49  0.778125    96.073136   74.288664\n50  0.778125    101.3998    74.686288\n51  0.7885  102.1189    74.490528\n\u2026.          \n</code></pre>\n\n<p>For instance, the first 3 minutes of operation (from 47-49 minutes), don't do any calculations with the data.\nI can do that with a loop, but the data set is very large (>200 mb text file) and takes a really long time to loop through. I was wondering if there's a more efficient way to pull it out, perhaps using Pandas?</p>\n\n<p>Any help or advice is appreciated! Thanks in advance!!</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 20315, "user_id": 963881, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e82a2a2b9ddf6fb580a9c34b2eca65f4?s=128&d=identicon&r=PG&f=1", "display_name": "syntagma", "link": "https://stackoverflow.com/users/963881/syntagma"}, "edited": false, "score": 0, "creation_date": 1422486078, "post_id": 28204021, "comment_id": 44774096, "body": "Can you provide the data you are using? It seems like <code>peaks</code> and <code>hightemp_unlocked</code> have different size."}, {"owner": {"reputation": 1, "user_id": 4505123, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IxG2Q0GFVW0/AAAAAAAAAAI/AAAAAAAAABE/Bm9Y05tJiRY/photo.jpg?sz=128", "display_name": "Jude Li", "link": "https://stackoverflow.com/users/4505123/jude-li"}, "reply_to_user": {"reputation": 20315, "user_id": 963881, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e82a2a2b9ddf6fb580a9c34b2eca65f4?s=128&d=identicon&r=PG&f=1", "display_name": "syntagma", "link": "https://stackoverflow.com/users/963881/syntagma"}, "edited": false, "score": 0, "creation_date": 1422486776, "post_id": 28204021, "comment_id": 44774365, "body": "@REACHUS hightemp_unlocked is about 1000, and peaks has size of only 3-5. So I use the hightemp_unlocked[x in peaks] when plotting, I felt that in this way, they might become with same size......"}], "answers": [{"tags": [], "owner": {"reputation": 198, "user_id": 4203871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad7302d40e1282c944b4b3eb531fa830?s=128&d=identicon&r=PG&f=1", "display_name": "chdorr", "link": "https://stackoverflow.com/users/4203871/chdorr"}, "is_accepted": false, "score": 1, "last_activity_date": 1422858854, "last_edit_date": 1422858854, "creation_date": 1422495390, "answer_id": 28205619, "question_id": 28204021, "link": "https://stackoverflow.com/questions/28204021/plotting-marking-seleted-points-from-a-1d-array/28205619#28205619", "title": "plotting/marking seleted points from a 1D array", "body": "<p>You are almost on the right track, but <code>hightemp_unlocked[x in peaks]</code> is not what you are looking for. How about something like:</p>\n\n<pre><code>from matplotlib import pyplot as plt\n\n# dummy temperatures\ntemps = [10, 11, 14, 12, 10, 8, 5, 7, 10, 12, 15, 13, 12, 11, 10]\n\n# list of x-values for plotting\nxvals = list(range(len(temps)))\n\n# say our peaks are at indices 2 and 10 (temps of 14 and 15)\npeak_idx = [2, 10]\n\n# make a new list of just the peak temp values\npeak_temps = [temps[i] for i in peak_idx]\n\n# repeat for x-values\npeak_xvals = [xvals[i] for i in peak_idx]\n\n# now we can plot the temps\nplt.plot(xvals, temps)\n\n# and add the scatter points for the peak values\nplt.scatter(peak_xvals, peak_temps)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 511, "user_id": 4508490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b50ea49f2763fa7b88e7ec1b295824c?s=128&d=identicon&r=PG&f=1", "display_name": "juseg", "link": "https://stackoverflow.com/users/4508490/juseg"}, "is_accepted": false, "score": 1, "last_activity_date": 1422604442, "creation_date": 1422604442, "answer_id": 28231490, "question_id": 28204021, "link": "https://stackoverflow.com/questions/28204021/plotting-marking-seleted-points-from-a-1d-array/28231490#28231490", "title": "plotting/marking seleted points from a 1D array", "body": "<p>I don't think <code>hightemp_unlocked[x in peaks]</code> is what you want. Here <code>x in peaks</code> reads as the conditional statement \"is <code>x</code> in <code>peaks</code>?\" and will return <code>True</code> or <code>False</code> depending on what was last stored in <code>x</code>. When parsing <code>hightemp_unlocked[x in peaks]</code>, <code>True</code> or <code>False</code> is interpreted as 0 or 1, which returns only the first or second element of <code>hightemp_unlocked</code>. This explains the array size error.</p>\n\n<p>If <code>peaks</code> is an array of indexes, then simply <code>hightemp_unlocked[peaks]</code> will return the corresponding values.</p>\n"}], "owner": {"reputation": 1, "user_id": 4505123, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IxG2Q0GFVW0/AAAAAAAAAAI/AAAAAAAAABE/Bm9Y05tJiRY/photo.jpg?sz=128", "display_name": "Jude Li", "link": "https://stackoverflow.com/users/4505123/jude-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1422858854, "creation_date": 1422485838, "last_edit_date": 1422485984, "question_id": 28204021, "link": "https://stackoverflow.com/questions/28204021/plotting-marking-seleted-points-from-a-1d-array", "title": "plotting/marking seleted points from a 1D array", "body": "<p>this seems a simple question but I have tried it for a really long time.\nI got a 1d array data(named 'hightemp_unlocked', after I found the peaks(an array of location where the peaks are located) of it, I wanted to mark the peaks on the plot.</p>\n\n<pre><code>import matplotlib\nfrom matplotlib import pyplot as plt\n\n.......\n\nplt.plot([x for x in range(len(hightemp_unlocked))],hightemp_unlocked,label='200 mk db ramp')\nplt.scatter(peaks, hightemp_unlocked[x in peaks], marker='x', color='y', s=40)\n</code></pre>\n\n<p>for some reason, it keeps telling me that x, y must be the same size\nit shows:</p>\n\n<pre><code> File \"period.py\", line 86, in &lt;module&gt;\n    plt.scatter(peaks, hightemp_unlocked[x in peaks], marker='x', color='y', s=40)\n  File \"/usr/local/lib/python2.6/dist-packages/matplotlib/pyplot.py\", line 2548, in scatter\n    ret = ax.scatter(x, y, s, c, marker, cmap, norm, vmin, vmax, alpha, linewidths, faceted, verts, **kwargs)\n  File \"/usr/local/lib/python2.6/dist-packages/matplotlib/axes.py\", line 5738, in scatter\n    raise ValueError(\"x and y must be the same size\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 3057, "user_id": 2415524, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/wQrhZ.jpg?s=128&g=1", "display_name": "mbomb007", "link": "https://stackoverflow.com/users/2415524/mbomb007"}, "edited": false, "score": 1, "creation_date": 1422485717, "post_id": 28203928, "comment_id": 44773919, "body": "Not a duplicate IMHO."}], "answers": [{"tags": [], "owner": {"reputation": 7225, "user_id": 1899628, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PAWN2.png?s=128&g=1", "display_name": "stenci", "link": "https://stackoverflow.com/users/1899628/stenci"}, "is_accepted": false, "score": 1, "last_activity_date": 1422485560, "creation_date": 1422485560, "answer_id": 28203966, "question_id": 28203928, "link": "https://stackoverflow.com/questions/28203928/ask-user-to-input-a-correct-response-in-python/28203966#28203966", "title": "Ask user to input a correct response in Python?", "body": "<p>You should do this:</p>\n\n<pre><code>if pres == 'Bush' or pres == 'Obama' or pres == 'Clinton':\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1422485648, "post_id": 28203975, "comment_id": 44773884, "body": "Changing that <code>tuple</code> to a <code>set</code> would be even more ideal imo."}, {"owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "reply_to_user": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1422485783, "post_id": 28203975, "comment_id": 44773950, "body": "i doubt it would make much difference with only three items (might even be slower!) but fair point  :)"}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 2, "creation_date": 1422485938, "post_id": 28203975, "comment_id": 44774034, "body": "Ran a quick timeit test and the <code>tuple</code> is totally faster for this size, though I still think the set makes more ideological sense."}, {"owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "reply_to_user": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1422485963, "post_id": 28203975, "comment_id": 44774053, "body": "i&#39;m going with the set just because &quot;the set of correct answers&quot; reads better than &quot;the tuple of correct answers&quot;"}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1422486080, "post_id": 28203975, "comment_id": 44774100, "body": "Makes total sense, but also in a large oversight, <code>tuple</code> ceases to be faster if the match isn&#39;t the first entry, and at 6 entries <code>tuple</code> is slower on average by about 2x"}], "tags": [], "owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "is_accepted": true, "score": 6, "last_activity_date": 1422485605, "creation_date": 1422485605, "answer_id": 28203975, "question_id": 28203928, "link": "https://stackoverflow.com/questions/28203928/ask-user-to-input-a-correct-response-in-python/28203975#28203975", "title": "Ask user to input a correct response in Python?", "body": "<p>You have:</p>\n\n<pre><code>if pres == 'Bush' or 'Obama' or 'Clinton':\n</code></pre>\n\n<p>While that makes sense to a human being, Python thinks you mean this:</p>\n\n<pre><code>if (pres == 'Bush') or ('Obama') or ('Clinton'):\n</code></pre>\n\n<p><code>'Obama'</code> and <code>'Clinton'</code> are non-empty strings, so they're always true, so this whole expression is always true and it doesn't make any difference what you enter.</p>\n\n<p>You need to be explicit about what you mean:</p>\n\n<pre><code>if pres == 'Bush' or pres == 'Obama' or pres == 'Clinton':\n</code></pre>\n\n<p>But that's a mouthful, so you can also do this, which will check whether <code>pres</code> is in the set of correct answers:</p>\n\n<pre><code>if pres in {'Bush', 'Obama', 'Clinton'}:\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1422485720, "post_id": 28203995, "comment_id": 44773921, "body": "The cost of building a set for a single lookup makes this not as good as checking membership in a list or a tuple, though."}, {"owner": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "edited": false, "score": 3, "creation_date": 1422485839, "post_id": 28203995, "comment_id": 44773981, "body": "O(1) \u2248 O(n) when n == 3  ;)"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1422485844, "post_id": 28203995, "comment_id": 44773984, "body": "@AdamSmith what you mean by cost ?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 42840, "user_id": 17875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG", "display_name": "Eevee", "link": "https://stackoverflow.com/users/17875/eevee"}, "edited": false, "score": 0, "creation_date": 1422485870, "post_id": 28203995, "comment_id": 44773994, "body": "@Eevee  i add this as a general note ! ;)"}, {"owner": {"reputation": 3057, "user_id": 2415524, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/wQrhZ.jpg?s=128&g=1", "display_name": "mbomb007", "link": "https://stackoverflow.com/users/2415524/mbomb007"}, "edited": false, "score": 0, "creation_date": 1422485928, "post_id": 28203995, "comment_id": 44774025, "body": "He&#39;s building a <i>constant</i>, hence it happens in constant time. :)"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1422485931, "post_id": 28203995, "comment_id": 44774027, "body": "@KasraAD &lt;strike&gt;The amount of money you have to feed into the bill reader on the side of your computer before the program will run&lt;/strike&gt; the time it takes to build the set makes the faster membership test useless. Apparently in 3.2+ this isn&#39;t true, though <a href=\"http://stackoverflow.com/questions/25368337/tuple-or-list-when-using-in-in-an-if-clause\">see here</a>. Testing membership with a set is amazing if you have to test membership MULTIPLE TIMES (e.g. <code>if a in your_set: foo(); elif b in your_set: bar(); elif c in your_set: spam(); else: eggs()</code>)"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1422486195, "post_id": 28203995, "comment_id": 44774140, "body": "@AdamSmith im agree for a set with  a few members its true but for sets with much members or as you say <i>MULTIPLE TIMES</i> its more efficient that use <code>set</code> ! any way thanks for your attention and reminding !"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1422486032, "last_edit_date": 1422486032, "creation_date": 1422485682, "answer_id": 28203995, "question_id": 28203928, "link": "https://stackoverflow.com/questions/28203928/ask-user-to-input-a-correct-response-in-python/28203995#28203995", "title": "Ask user to input a correct response in Python?", "body": "<p>The best choice for check membership is using <code>set</code>  that has <code>O(1)</code> so you can use the following instead your <code>if</code> statement :</p>\n\n<pre><code>if pres in {'Bush','Obama','Clinton'}\n</code></pre>\n\n<p>from python wiki :</p>\n\n<blockquote>\n  <p>The <a href=\"https://docs.python.org/2/library/sets.html\" rel=\"nofollow\">sets</a> module provides classes for constructing and\n  manipulating unordered collections of unique elements. Common uses\n  include <strong>membership testing</strong>, removing duplicates from a sequence,\n  and computing standard math operations on sets such as intersection,\n  union, difference, and symmetric difference.</p>\n</blockquote>\n"}], "owner": {"reputation": 217, "user_id": 4505132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-LmvNAFBLSCU/AAAAAAAAAAI/AAAAAAAAA9E/WeThsfCT6zM/photo.jpg?sz=128", "display_name": "AvenNova", "link": "https://stackoverflow.com/users/4505132/avennova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3589, "favorite_count": 1, "closed_date": 1422612392, "accepted_answer_id": 28203975, "answer_count": 3, "score": 0, "last_activity_date": 1422486032, "creation_date": 1422485389, "last_edit_date": 1422485469, "question_id": 28203928, "link": "https://stackoverflow.com/questions/28203928/ask-user-to-input-a-correct-response-in-python", "closed_reason": "Duplicate", "title": "Ask user to input a correct response in Python?", "body": "<p>I am a newbie programmer and am trying to code a program where I ask the user for a specific input like Obama, Clinton or Bush and congratulate them when they give the right answer or notify them when they give the wrong answer. </p>\n\n<p>I am pretty sure I made a very simple and a dumb mistake so I would appreciate it if anyone could help me out. </p>\n\n<pre><code>def main ():\n\n    pres = input ('Please enter the surname of a recent President of the United States: ')\n    if pres == 'Bush' or 'Obama' or 'Clinton':\n        print('Great job! You know your stuff!')\n    else:\n        print('Sorry, that was incorrect.')\n\nmain()\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "django", "postgresql"], "answers": [{"comments": [{"owner": {"reputation": 640, "user_id": 377234, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/233cf99a05dfece93f59279beb8ba18e?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/377234/james"}, "edited": false, "score": 0, "creation_date": 1422718159, "post_id": 28248748, "comment_id": 44865235, "body": "Did it get fixed within the past couple of days? Someone already posted this as an answer and it didn&#39;t work, but he deleted his answer because it didn&#39;t get accepted. I&#39;ll try it again here in a little while."}, {"owner": {"reputation": 6293, "user_id": 632182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ee52d9c57eb6168af86716757370a766?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/632182/christoffer"}, "reply_to_user": {"reputation": 640, "user_id": 377234, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/233cf99a05dfece93f59279beb8ba18e?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/377234/james"}, "edited": false, "score": 0, "creation_date": 1422863277, "post_id": 28248748, "comment_id": 44901221, "body": "Don&#39;t know when it was fixed. But it fixed it for me to update it like this."}, {"owner": {"reputation": 209, "user_id": 834640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0e603013a173295c1314a2bd42a78d1?s=128&d=identicon&r=PG", "display_name": "csmith", "link": "https://stackoverflow.com/users/834640/csmith"}, "edited": false, "score": 0, "creation_date": 1435599172, "post_id": 28248748, "comment_id": 50256536, "body": "We ran into a related issue with the django-hstore. The latest stable release of it fixes this same issue. It seems likely that any packages relying on PostgreSQL extensions might need looking into for Django &gt;= 1.7 updates"}], "tags": [], "owner": {"reputation": 6293, "user_id": 632182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ee52d9c57eb6168af86716757370a766?s=128&d=identicon&r=PG", "display_name": "Christoffer", "link": "https://stackoverflow.com/users/632182/christoffer"}, "is_accepted": false, "score": 1, "last_activity_date": 1422684372, "creation_date": 1422684372, "answer_id": 28248748, "question_id": 28203926, "link": "https://stackoverflow.com/questions/28203926/django-query-exception-init-got-an-unexpected-keyword-argument-hints/28248748#28248748", "title": "Django query exception __init__() got an unexpected keyword argument &#39;hints&#39;", "body": "<p>Install the latest version of django-pgfields from git. It fixed it for me. </p>\n\n<p>If you install from requirements file then remove 'django-pgfields' and add</p>\n\n<pre><code>-e git://github.com/lukesneeringer/django-pgfields.git#egg=django-pgfields\n</code></pre>\n"}], "owner": {"reputation": 640, "user_id": 377234, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/233cf99a05dfece93f59279beb8ba18e?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/377234/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1422684372, "creation_date": 1422485378, "last_edit_date": 1422543791, "question_id": 28203926, "link": "https://stackoverflow.com/questions/28203926/django-query-exception-init-got-an-unexpected-keyword-argument-hints", "title": "Django query exception __init__() got an unexpected keyword argument &#39;hints&#39;", "body": "<p>I'm pretty new to Django/Python and having a bit of trouble sorting this out.</p>\n\n<p>Ubuntu 14.04\nApache\nDjango 1.7.4\npython 2.7\nPostgresql</p>\n\n<pre><code>__init__() got an unexpected keyword argument 'hints'\nRequest Method: GET\nRequest URL:    http://localhost/\nDjango Version: 1.7.4\nException Type: TypeError\n\nclass Tier(models.Model):\n    id = models.IntegerField(primary_key=True)\n    name = models.CharField(max_length=100)\n\nclass Recipe(models.Model):\n    id = models.UUIDField(auto_add=True, primary_key=True, default=uuid.uuid4)\n    name = models.CharField(max_length=100)\n    tier = models.ForeignKey(Tier)\n</code></pre>\n\n<p>Here is the code being executed, errors on trying to retrieve the tier id.</p>\n\n<pre><code>firstRecipe = Recipe.objects.first()\ntierId = firstRecipe.tier.id\n</code></pre>\n\n<p>My database tables are</p>\n\n<pre><code>web_recipe\n    id\n    name\n    tier_id\n\nweb_tier\n    id\n    name\n</code></pre>\n\n<p>Stacktrace</p>\n\n<pre><code>    Traceback:\nFile \"/home/user123/daoresources/env/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  111.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)\nFile \"/home/user123/daoresources/web/views.py\" in index\n  7.    firstRecipe = Recipe.objects.first()\nFile \"/home/user123/daoresources/env/lib/python2.7/site-packages/django/db/models/manager.py\" in manager_method\n  92.                 return getattr(self.get_queryset(), name)(*args, **kwargs)\nFile \"/home/user123/daoresources/env/lib/python2.7/site-packages/django/db/models/query.py\" in first\n  508.         qs = self if self.ordered else self.order_by('pk')\nFile \"/home/user123/daoresources/env/lib/python2.7/site-packages/django/db/models/query.py\" in order_by\n  812.         obj = self._clone()\nFile \"/home/user123/daoresources/env/lib/python2.7/site-packages/django/db/models/query.py\" in _clone\n  955.         c = klass(model=self.model, query=query, using=self._db, hints=self._hints)\n\nException Type: TypeError at /\nException Value: __init__() got an unexpected keyword argument 'hints'\n</code></pre>\n\n<p>Environment:</p>\n\n<pre><code>Django Version: 1.7.4\nPython Version: 2.7.6\nInstalled Applications:\n('web', 'django_pg')\nInstalled Middleware:\n('django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware')\n</code></pre>\n\n<p>EDIT: I ended up just saying screw it and converted my project over to mysql and everything works fine. If someone comes up with an valid answer I will test it on a new formed project and mark it as correct.</p>\n"}, {"tags": ["python", "boolean"], "comments": [{"owner": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "edited": false, "score": 2, "creation_date": 1422485214, "post_id": 28203878, "comment_id": 44773714, "body": "Is there supposed to be a piece of code in there?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 3, "creation_date": 1422485243, "post_id": 28203878, "comment_id": 44773727, "body": "<code>or</code> doesn&#39;t work the way you think it does."}, {"owner": {"reputation": 15741, "user_id": 2259303, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8a74184e56d2bb143abe0cf2d0cf5162?s=128&d=identicon&r=PG", "display_name": "agconti", "link": "https://stackoverflow.com/users/2259303/agconti"}, "edited": false, "score": 0, "creation_date": 1422485339, "post_id": 28203878, "comment_id": 44773764, "body": "are you trying to set the input and return types with <code>(letter:str) -&gt;bool</code>?"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 15741, "user_id": 2259303, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8a74184e56d2bb143abe0cf2d0cf5162?s=128&d=identicon&r=PG", "display_name": "agconti", "link": "https://stackoverflow.com/users/2259303/agconti"}, "edited": false, "score": 1, "creation_date": 1422485405, "post_id": 28203878, "comment_id": 44773793, "body": "@agconti those are <a href=\"https://www.python.org/dev/peps/pep-3107/\" rel=\"nofollow noreferrer\">function annotations</a>, used in Python 3"}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 1, "creation_date": 1422485491, "post_id": 28203878, "comment_id": 44773821, "body": "The problem in your code is <code>letter != &#39;a&#39; or &#39;A&#39; or &#39;e&#39; or &#39;E&#39;</code>. What you are actually asking python to check is <code>letter != &#39;a&#39; or True or True or True</code>, since non empty strings are always <code>True</code>."}, {"owner": {"reputation": 286979, "user_id": 541136, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/wftMn.jpg?s=128&g=1", "display_name": "Aaron Hall", "link": "https://stackoverflow.com/users/541136/aaron-hall"}, "edited": false, "score": 0, "creation_date": 1422488103, "post_id": 28203878, "comment_id": 44774804, "body": "Welcome to StackOverflow, if I&#39;ve answered your question, you can accept the answer by clicking the checkmark next to it, which will add plus 2 to your reputation. Cheers!"}], "answers": [{"tags": [], "owner": {"reputation": 4303, "user_id": 86698, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/485fb175406faa7e6060f88fced7be79?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew_Lvov", "link": "https://stackoverflow.com/users/86698/andrew-lvov"}, "is_accepted": false, "score": 3, "last_activity_date": 1422485224, "last_edit_date": 1495542511, "creation_date": 1422485224, "answer_id": 28203894, "question_id": 28203878, "link": "https://stackoverflow.com/questions/28203878/cant-get-a-function-that-is-supposed-to-return-bool-to-work-in-python/28203894#28203894", "title": "Can&#39;t get a function that is supposed to return bool to work in python", "body": "<p>Use <code>in</code> keyword:</p>\n\n<pre><code>if letter in ['a', 'e', 'i', ...]:\n</code></pre>\n\n<p>EDIT: related question: <a href=\"https://stackoverflow.com/questions/15112125/how-do-i-test-one-variable-against-multiple-values\">How do I test one variable against multiple values?</a></p>\n"}, {"tags": [], "owner": {"reputation": 286979, "user_id": 541136, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/wftMn.jpg?s=128&g=1", "display_name": "Aaron Hall", "link": "https://stackoverflow.com/users/541136/aaron-hall"}, "is_accepted": false, "score": 5, "last_activity_date": 1422544961, "last_edit_date": 1422544961, "creation_date": 1422485334, "answer_id": 28203915, "question_id": 28203878, "link": "https://stackoverflow.com/questions/28203878/cant-get-a-function-that-is-supposed-to-return-bool-to-work-in-python/28203915#28203915", "title": "Can&#39;t get a function that is supposed to return bool to work in python", "body": "<p>Firstly, look at <code>('a' or 'A')</code> in an interpreter. It will return <code>'a'</code>, so you were originally looking for character in a list with only one character: <code>['a']</code>. That is because a string of length greater than zero evaluates to <code>True</code> in a boolean context, which the <code>or</code> created. <code>or</code> will return the first True-ish thing, in this case, <code>'a'</code>.</p>\n\n<p>I recommend for readability, use as in the following function, first take the lowercase version of the letter, then tell if it exists in a canonical representation of a string of all such characters, and just return the result of the test for membership. No need for if-then control-flow:</p>\n\n<pre><code>def is_vowel(letter: str) -&gt; bool:\n    \"\"\"\n    takes a one-character-long string and returns True if \n    that character is a vowel and False otherwise.\n    \"\"\"\n    return letter.lower() in 'aeiou'\n\nprint(is_vowel( 'b'))\n</code></pre>\n\n<p>In Python 2,</p>\n\n<pre><code>def is_vowel(letter):\n    \"\"\"\n    takes a one-character-long string and returns True if \n    that character is a vowel and False otherwise.\n    \"\"\"\n    return letter.lower() in 'aeiou'\n</code></pre>\n\n<p>The reason you're getting <code>None</code> is because your function (a different version simplified below) doesn't return False if it doesn't return True. And when a function doesn't return anything specified, it returns None. So below is a version closer to yours that returns False if it doesn't return True. </p>\n\n<pre><code>def is_vowel(letter: str) -&gt; bool:\nif letter in ['a', 'A', 'e', 'E', 'i', 'I', 'o', 'O', 'u', 'U']:\n    return True\nelse:\n    return False\n</code></pre>\n\n<p>But I think this is better written:</p>\n\n<pre><code>def is_vowel(letter: str) -&gt; bool:\n    return letter in ['a', 'A', 'e', 'E', 'i', 'I', 'o', 'O', 'u', 'U']\n</code></pre>\n\n<p>Or as I did, above.</p>\n"}], "owner": {"reputation": 21, "user_id": 4435779, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/734aaa0c92ee6aeba0206adde01a9e44?s=128&d=identicon&r=PG&f=1", "display_name": "stormoverparis", "link": "https://stackoverflow.com/users/4435779/stormoverparis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1422545003, "creation_date": 1422485128, "last_edit_date": 1422545003, "question_id": 28203878, "link": "https://stackoverflow.com/questions/28203878/cant-get-a-function-that-is-supposed-to-return-bool-to-work-in-python", "title": "Can&#39;t get a function that is supposed to return bool to work in python", "body": "<p>I wrote: </p>\n\n<pre><code>def is_vowel(letter:str) -&gt;bool:\n    \"\"\"\n    takes a one-character-long string and returns \n    True if that character is a vowel and False otherwise.\n    \"\"\"\n    if letter in ['a' or 'A' or 'e' or 'E' or 'i' or 'I' or 'o' or \n                  'O' or 'u' or 'U']:\n        return True\n\nprint(is_vowel('A'))\n</code></pre>\n\n<p>but it prints <code>None</code>. Why?</p>\n"}, {"tags": ["python", "loops", "for-loop", "dictionary"], "comments": [{"owner": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1422485162, "post_id": 28203844, "comment_id": 44773693, "body": "Hey, are you working with python 2 or python 3?"}, {"owner": {"reputation": 161, "user_id": 4495737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-aDnXBhk67Ok/AAAAAAAAAAI/AAAAAAAAAF8/Hhfu6eHqrL4/photo.jpg?sz=128", "display_name": "Fede Couti", "link": "https://stackoverflow.com/users/4495737/fede-couti"}, "reply_to_user": {"reputation": 10595, "user_id": 758446, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d08a0b2d56c559112b5f18ee2e975c97?s=128&d=identicon&r=PG", "display_name": "BlackVegetable", "link": "https://stackoverflow.com/users/758446/blackvegetable"}, "edited": false, "score": 0, "creation_date": 1422485204, "post_id": 28203844, "comment_id": 44773710, "body": "I&#39;m working with Python 2, but if I could the answe for both versions it&#39;d be great"}], "answers": [{"comments": [{"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 1, "creation_date": 1422485453, "post_id": 28203874, "comment_id": 44773807, "body": "isn&#39;t this making a rather large assumption about the order of an unordered set? I.E. that <code>k == k2</code>?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 1, "creation_date": 1422485518, "post_id": 28203874, "comment_id": 44773833, "body": "@aruisdante, this is doing what the OP was trying to do, I am going to add an example using an OrderedDict"}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1422485669, "post_id": 28203874, "comment_id": 44773892, "body": "Sure, but if the dicts always have the same set of keys, it would be much more efficient to simple make a single dictionary <code>items = { &#39;name&#39; : (price, quantity) }</code>. I would assume the desire for two dictionaries is to allow for more prices than items in inventory, but maybe not."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1422485746, "post_id": 28203874, "comment_id": 44773935, "body": "@aruisdante, I suppose it all depends where and the the original dicts are created the simplest solution is just getting the keys from one dict"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 6, "last_activity_date": 1422494269, "last_edit_date": 1422494269, "creation_date": 1422485107, "answer_id": 28203874, "question_id": 28203844, "link": "https://stackoverflow.com/questions/28203844/how-to-loop-through-two-dictionaries-in-python/28203874#28203874", "title": "How to loop through two dictionaries in Python", "body": "<p>You can zip the dicts:</p>\n\n<pre><code>for k, k2 in zip(price,inventory):\n    print(price[k]*inventory[k2])\n</code></pre>\n\n<p>even if your code worked you would be accessing the keys not the values so you would need to access the dict values using each key as above.</p>\n\n<p>If you are using python2 you can use <a href=\"https://docs.python.org/2/library/itertools.html#itertools.izip\" rel=\"nofollow\">itertools.izip</a>:</p>\n\n<pre><code>from itertools import izip\nfor k, k2 in izip(price,inventory):\n    print(price[k],inventory[k2])\n</code></pre>\n\n<p>Because dicts are <strong>unordered</strong> you need to use an <a href=\"https://docs.python.org/2/library/collections.html#collections.OrderedDict\" rel=\"nofollow\">orderedDict</a> to make sure the keys matched up.</p>\n\n<p>If the dicts both have the same keys a simpler solution would be use the keys from one dict to get the values from both.</p>\n\n<pre><code>for k in price:\n    print(price[k]*inventory[k])\n</code></pre>\n\n<p>which can be written as:</p>\n\n<pre><code>total = sum(price[k]*inventory[k]for k in price)\n</code></pre>\n\n<p>If you control how the dicts are created combining both into one dict storing a dict of dicts using  price and inventory as keys would be a better overall solution.</p>\n\n<pre><code>shop_items = {'orange': {'price': 1.5, 'inventory': 32}, 'pear': {'price': 3, 'inventory': 15}, 'banana': {'price': 4, 'inventory': 6}, 'apple': {'price': 2, 'inventory': 0}}\n</code></pre>\n\n<p>Then to get the total:</p>\n\n<pre><code>print(sum(d[\"price\"] * d[\"inventory\"] for d in shop_items.itervalues()))\n</code></pre>\n\n<p>Or print all available items:</p>\n\n<pre><code>for k, val in shop_items.iteritems():\n    pri,inv = val[\"price\"],val[\"inventory\"]\n    print(\"We have {} {}'s available at a price of ${} per unit\".format(inv,k,pri))\n\nWe have 32 orange's available at a price of $1.5 per unit\nWe have 15 pear's available at a price of $3 per unit\nWe have 6 banana's available at a price of $4 per unit\nWe have 0 apple's available at a price of $2 per unit\n</code></pre>\n\n<p>If you are dealing with money you should really use the <a href=\"https://docs.python.org/2/library/decimal.html\" rel=\"nofollow\">decimal</a> library.</p>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1422485180, "creation_date": 1422485180, "answer_id": 28203885, "question_id": 28203844, "link": "https://stackoverflow.com/questions/28203844/how-to-loop-through-two-dictionaries-in-python/28203885#28203885", "title": "How to loop through two dictionaries in Python", "body": "<pre><code>total = 0\nfor i in range(len(price.keys())):\n    total += price[price.keys()[i]] * inventory[price.keys()[i]]\nprint total\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1422485581, "last_edit_date": 1422485581, "creation_date": 1422485185, "answer_id": 28203886, "question_id": 28203844, "link": "https://stackoverflow.com/questions/28203844/how-to-loop-through-two-dictionaries-in-python/28203886#28203886", "title": "How to loop through two dictionaries in Python", "body": "<p>You can use <code>dict.items</code> to get the items of both dictionary then <a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow\"><code>zip</code></a> the items and add the corresponding prices :</p>\n\n<pre><code>&gt;&gt;&gt; map(lambda x:x[0][1]+x[1][1], zip(price.items(), inventory.items())\n... )\n[33.5, 18, 10, 2]\n</code></pre>\n\n<p>Also you can save it in a separate dictionary with a dictionary comprehension :</p>\n\n<pre><code>&gt;&gt;&gt; s={k[0]:k[1]+v[1] for k,v in zip(price.items(), inventory.items())}\n&gt;&gt;&gt; s\n{'orange': 33.5, 'pear': 18, 'banana': 10, 'apple': 2}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "is_accepted": false, "score": 1, "last_activity_date": 1422485804, "last_edit_date": 1422485804, "creation_date": 1422485263, "answer_id": 28203900, "question_id": 28203844, "link": "https://stackoverflow.com/questions/28203844/how-to-loop-through-two-dictionaries-in-python/28203900#28203900", "title": "How to loop through two dictionaries in Python", "body": "<p>If we assume the keys in <code>inventory</code> are always a subset of the keys in <code>price</code> (or at least that it's an error condition if they aren't), then you simply need to do the following:</p>\n\n<pre><code>total = 0\nfor item, quantity in inventory.iteritems(): #just use .items() in python 3\n    try:\n        item_price = price[item]\n        total     += item_price*quantity\n    except KeyError as e:\n        print('Tried to price invalid item' + str(e))\n        raise\nprint('Total value of goods: $' + str(total))\n</code></pre>\n\n<p>This can be converted to a simple one-liner if we don't care about error conditions:</p>\n\n<pre><code>total = sum(price[item]*quantity for item, quantity in inventory.iteritems())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6349353, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Iq8gX51c7fM/AAAAAAAAAAI/AAAAAAAAAXM/LeVTxuBJWyk/photo.jpg?sz=128", "display_name": "Marcus Murphy", "link": "https://stackoverflow.com/users/6349353/marcus-murphy"}, "is_accepted": false, "score": 0, "last_activity_date": 1463554672, "creation_date": 1463554672, "answer_id": 37292316, "question_id": 28203844, "link": "https://stackoverflow.com/questions/28203844/how-to-loop-through-two-dictionaries-in-python/37292316#37292316", "title": "How to loop through two dictionaries in Python", "body": "<p>Sorry for the late reply but thought I could help others that stumble upon this question.</p>\n\n<p>This looks like one of the lessons from Codecademy.</p>\n\n<p>Since both dictionaries have the same keys you can loop through both dicts to get your total like below.</p>\n\n<pre><code>total = 0\nfor fruit in price:\n    total = total + (price[fruit] * inventory[fruit])\nreturn total\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10644325, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D0l0ZyR2wdo/AAAAAAAAAAI/AAAAAAAAAEw/rmsC_FmKkXM/photo.jpg?sz=128", "display_name": "Ray Asu", "link": "https://stackoverflow.com/users/10644325/ray-asu"}, "is_accepted": false, "score": 1, "last_activity_date": 1542089447, "last_edit_date": 1542089447, "creation_date": 1542088970, "answer_id": 53274735, "question_id": 28203844, "link": "https://stackoverflow.com/questions/28203844/how-to-loop-through-two-dictionaries-in-python/53274735#53274735", "title": "How to loop through two dictionaries in Python", "body": "<p>I think the simplest solution is:</p>\n\n<pre><code>total= 0\n\nfor key in prices:\n  total += prices[key]*stock[key]\n\nprint total \n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 4495737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-aDnXBhk67Ok/AAAAAAAAAAI/AAAAAAAAAF8/Hhfu6eHqrL4/photo.jpg?sz=128", "display_name": "Fede Couti", "link": "https://stackoverflow.com/users/4495737/fede-couti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12551, "favorite_count": 1, "accepted_answer_id": 28203874, "answer_count": 6, "score": 4, "last_activity_date": 1542089447, "creation_date": 1422484950, "last_edit_date": 1495541280, "question_id": 28203844, "link": "https://stackoverflow.com/questions/28203844/how-to-loop-through-two-dictionaries-in-python", "title": "How to loop through two dictionaries in Python", "body": "<p>I want to make a for loop that can go through two dictionaries, make a calculation and print the result. This is the code:</p>\n\n<pre><code>price = {\n    \"banana\": 4,\n    \"apple\": 2,\n    \"orange\": 1.5,\n    \"pear\": 3\n    }\n\ninventory = {\n    \"banana\": 6,\n     \"apple\": 0,\n     \"orange\": 32,\n     \"pear\": 15\n    }\n\nfor k, v in price, inventory:\n    total = total + price*inventory\n    print total\n</code></pre>\n\n<p>I want to know how much money would I make if I sold every item in this \"store\". I have already checked <a href=\"https://stackoverflow.com/questions/17100977/how-to-travese-two-dictionaries-in-a-single-for-loop\">here</a> but it didn't work out for me.</p>\n\n<p>The error message is this:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"python\", line 15, in &lt;module&gt;\nValueError: too many values to unpack\n</code></pre>\n\n<p>Line 15 is the one where the for loop starts.\nI don't know if I'm thinking how to do it in the right way.</p>\n"}, {"tags": ["python", "python-2.7", "pygame"], "comments": [{"owner": {"reputation": 1408, "user_id": 2872987, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PpmBw.jpg?s=128&g=1", "display_name": "BitNinja", "link": "https://stackoverflow.com/users/2872987/bitninja"}, "edited": false, "score": 0, "creation_date": 1422485132, "post_id": 28203839, "comment_id": 44773679, "body": "If your images are flashing while drawing them that&#39;s a tip off that you might have to do double buffering."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4505026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b2a9b465fe88063d0afc3bb8af875df?s=128&d=identicon&r=PG&f=1", "display_name": "davkue", "link": "https://stackoverflow.com/users/4505026/davkue"}, "edited": false, "score": 0, "creation_date": 1422499935, "post_id": 28204159, "comment_id": 44777972, "body": "Alright, thanks Stick! I&#39;ll try editing my code a little bit to match your suggestions. Thank you for the suggestion about fixing the event.keydown blitting issue. I&#39;ll change that up and see how it works. Once I get back to my home machine, I&#39;ll try these fixes. Thanks again!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user890167"}, "is_accepted": true, "score": 2, "last_activity_date": 1422486505, "creation_date": 1422486505, "answer_id": 28204159, "question_id": 28203839, "link": "https://stackoverflow.com/questions/28203839/python-pygame-character-flashing-rapidly/28204159#28204159", "title": "Python/Pygame character flashing rapidly", "body": "<p>You're flipping the screen twice. Once right after you draw the objects, and again near the bottom of the loop.</p>\n\n<p>Additionally you appear to have blits which correspond to event.keydown type things. Not sure if these are your actual player sprite objects or other ancillary things, but ideally I don't think you want to handle any blitting there - you just want to change the state of your objects (and I don't necessarily mean 'make a state machine' if you're not writing one, I just mean - handle the event here... draw it later)</p>\n\n<p>Ideally a 'dummy loop' for PyGame would resemble something like this:</p>\n\n<pre><code>while True:\n    for event in pygame.event.get():\n        # handle events\n\n    MyScreenObject.fill((0, 0, 0)) # or whatever background you're using\n    VisibleObjectGroup.draw() # draw all objects that can be seen in a sprite.Group -- use these and love these, they're loaded with good things\n    pygame.display.flip() #call this ONE time per loop\n    MyFPSClock.tick(FPS)\n</code></pre>\n\n<p>I mean there's no collision checks there or anything, but this is the idea, ultimately -- don't update the screen until after events are processed. </p>\n"}], "owner": {"reputation": 37, "user_id": 4505026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b2a9b465fe88063d0afc3bb8af875df?s=128&d=identicon&r=PG&f=1", "display_name": "davkue", "link": "https://stackoverflow.com/users/4505026/davkue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 28204159, "answer_count": 1, "score": 1, "last_activity_date": 1422486505, "creation_date": 1422484920, "last_edit_date": 1422484988, "question_id": 28203839, "link": "https://stackoverflow.com/questions/28203839/python-pygame-character-flashing-rapidly", "title": "Python/Pygame character flashing rapidly", "body": "<p>I'm making a small game using PyGame, and my character keeps flashing rapidly when I run the game, and I can't figure out why. Can someone please help me out? Here's my code:</p>\n\n<pre><code>import pygame, sys, time, math\nfrom pygame.locals import *\n\npygame.init()\nfpsClock = pygame.time.Clock()\n\nscreen = pygame.display.set_mode((640,480))\npygame.display.set_caption(\"Hunter vs. Hunter\")\n\nkeys = [False, False, False, False]\nshirtpos = [330,270]\npantspos = [342,322]\nhelmpos = [349,230]\nbowpos = [395,248]\ninvcounter = 0\narrows=[]\n\nbkdrop = pygame.image.load(\"Resources\\grassybackdrop.gif\")\nhelm = pygame.image.load(\"Resources\\mainhelm.gif\")\nshirt = pygame.image.load(\"Resources\\mainshirt.gif\")\npants = pygame.image.load(\"Resources\\mainpants.gif\")\ninv = pygame.image.load(\"Resources\\invdisplay.gif\")\nbow = pygame.image.load(\"1bow.gif\")\narrow = pygame.image.load(\"arrow.gif\")\nscreen.blit(bkdrop, (0,0))\n\n\nwhile 1:\n    screen.blit(helm, helmpos)\n    screen.blit(shirt, shirtpos)\n    screen.blit(pants, pantspos)\n    screen.blit(bow, bowpos)\n    pygame.display.flip()\n    for event in pygame.event.get():\n        if event.type == QUIT:\n            pygame.quit()\n            sys.exit()\n\n        if event.type==pygame.MOUSEBUTTONDOWN:\n            position=pygame.mouse.get_pos()\n            arrows.append([math.atan2(position[1]-(shirtpos[1]+32),position[0]-(shirtpos[0]+26)),shirtpos[0]+32,shirtpos[1]+32])\n\n        for bullet in arrows:\n            index=0\n            velx=math.cos(bullet[0])*10\n            vely=math.sin(bullet[0])*10\n            bullet[1]+=velx\n            bullet[2]+=vely\n            if bullet[1]&lt;-64 or bullet[1]&gt;640 or bullet[2]&lt;-64 or bullet[2]&gt;480:\n                arrows.pop(index)\n            index+=1\n            for projectile in arrows:\n                arrow1 = pygame.transform.rotate(arrow, 360-projectile[0]*57.29)\n                screen.blit(arrow1, (projectile[1], projectile[2]))\n\n        if event.type == pygame.KEYDOWN:   \n            if event.key == K_w:\n                keys[0]=True\n            elif event.key == K_a:\n                keys[1]=True\n            elif event.key == K_s:\n                keys[2]=True\n            elif event.key == K_d:\n                keys[3]=True\n            elif event.key == K_TAB:\n                screen.blit(inv, (147,96))\n                invcounter+=1\n\n\n        if event.type == pygame.KEYUP:\n            if event.key == K_w:\n                keys[0]=False\n            elif event.key == K_a:\n                keys[1]=False\n            elif event.key == K_s:\n                keys[2]=False\n            elif event.key == K_d:\n                keys[3]=False\n\n\n    if invcounter % 2 == 0:\n        if keys[0] == True:\n            shirtpos[1]-=2.5\n            pantspos[1]-=2.5\n            helmpos[1]-=2.5\n            bowpos[1]-=2.5\n        if keys[1] == True:\n            shirtpos[0]-=2.5\n            pantspos[0]-=2.5\n            helmpos[0]-=2.5\n            bowpos[0]-=2.5\n        if keys[2] == True:\n            shirtpos[1]+=2.5\n            pantspos[1]+=2.5\n            helmpos[1]+=2.5\n            bowpos[1]+=2.5\n        if keys[3] == True:\n            shirtpos[0]+=2.5\n            pantspos[0]+=2.5\n            helmpos[0]+=2.5\n            bowpos[0]+=2.5\n        if pantspos[1] &gt; 386:\n            pantspos[1] = 386\n            shirtpos[1] = 336\n            helmpos[1] = 296\n            bowpos[1] = 310\n\n\n    if invcounter % 2 == 0:\n        screen.blit(bkdrop, (0,0))\n\n    pygame.display.flip()\n\n    fpsClock.tick(60)\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 1, "last_activity_date": 1422486135, "creation_date": 1422486135, "answer_id": 28204086, "question_id": 28203798, "link": "https://stackoverflow.com/questions/28203798/displaying-all-photos-in-album-in-list-display/28204086#28204086", "title": "Displaying all photos in Album in list_display", "body": "<p>The problem is this line:</p>\n\n<pre><code>lst = [x.photo.title for x in self.photo_set.all()]\n</code></pre>\n\n<p><code>self.photo_set.all()</code> returns a queryset of <code>photo</code>s. The variable <code>x</code> is a photo and <code>x.photo</code> is the photo field. Therefore <code>x.photo.title</code> raises <code>AttributeError</code> because the field has no <code>title</code> attribute. Try <code>x.title</code> instead:</p>\n\n<pre><code>lst = [x.title for x in self.photo_set.all()]\n</code></pre>\n\n<p>If you want to display the output, it would be better to return a string instead of a list:</p>\n\n<pre><code>titles = \", \".join(x.title for x in self.photo_set.all())\nreturn titles\n</code></pre>\n"}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422486135, "creation_date": 1422484723, "question_id": 28203798, "link": "https://stackoverflow.com/questions/28203798/displaying-all-photos-in-album-in-list-display", "title": "Displaying all photos in Album in list_display", "body": "<p>I want to be able to list all the photos within the album but I am not sure how to. I am currently getting the error:</p>\n\n<pre><code>AttributeError at /admin/portfolio/album/\n'ImageFieldFile' object has no attribute 'title'\n</code></pre>\n\n<p>Traceback:</p>\n\n<pre><code>File \"/Library/Python/2.7/site-packages/django/core/handlers/base.py\" in get_response\n  137.                 response = response.render()\nFile \"/Library/Python/2.7/site-packages/django/template/response.py\" in render\n  103.             self.content = self.rendered_content\nFile \"/Library/Python/2.7/site-packages/django/template/response.py\" in rendered_content\n  80.         content = template.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in render\n  148.             return self._render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in _render\n  142.         return self.nodelist.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in render\n  844.                 bit = self.render_node(node, context)\nFile \"/Library/Python/2.7/site-packages/django/template/debug.py\" in render_node\n  80.             return node.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/loader_tags.py\" in render\n  126.         return compiled_parent._render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in _render\n  142.         return self.nodelist.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in render\n  844.                 bit = self.render_node(node, context)\nFile \"/Library/Python/2.7/site-packages/django/template/debug.py\" in render_node\n  80.             return node.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/loader_tags.py\" in render\n  126.         return compiled_parent._render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in _render\n  142.         return self.nodelist.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in render\n  844.                 bit = self.render_node(node, context)\nFile \"/Library/Python/2.7/site-packages/django/template/debug.py\" in render_node\n  80.             return node.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/loader_tags.py\" in render\n  65.                 result = block.nodelist.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in render\n  844.                 bit = self.render_node(node, context)\nFile \"/Library/Python/2.7/site-packages/django/template/debug.py\" in render_node\n  80.             return node.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/loader_tags.py\" in render\n  65.                 result = block.nodelist.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in render\n  844.                 bit = self.render_node(node, context)\nFile \"/Library/Python/2.7/site-packages/django/template/debug.py\" in render_node\n  80.             return node.render(context)\nFile \"/Library/Python/2.7/site-packages/django/template/base.py\" in render\n  1207.                     _dict = func(*resolved_args, **resolved_kwargs)\nFile \"/Library/Python/2.7/site-packages/django/contrib/admin/templatetags/admin_list.py\" in result_list\n  316.             'results': list(results(cl))}\nFile \"/Library/Python/2.7/site-packages/django/contrib/admin/templatetags/admin_list.py\" in results\n  292.             yield ResultList(None, items_for_result(cl, res, None))\nFile \"/Library/Python/2.7/site-packages/django/contrib/admin/templatetags/admin_list.py\" in __init__\n  283.         super(ResultList, self).__init__(*items)\nFile \"/Library/Python/2.7/site-packages/django/contrib/admin/templatetags/admin_list.py\" in items_for_result\n  198.             f, attr, value = lookup_field(field_name, result, cl.model_admin)\nFile \"/Library/Python/2.7/site-packages/django/contrib/admin/utils.py\" in lookup_field\n  280.                 value = attr()\nFile \"/Users/bli1/Development/Django/Boothie/portfolio/models.py\" in images\n  22.         lst = [x.photo.title for x in self.photo_set.all()]\n\nException Type: AttributeError at /admin/portfolio/album/\nException Value: 'ImageFieldFile' object has no attribute 'title'\n</code></pre>\n\n<p>models.py:</p>\n\n<pre><code>class Album(models.Model):\n    title = models.CharField(max_length=50, unique=True)\n    # thumbnail = models.ImageField()\n\n    def __str__(self):\n        return self.title\n\n    def images(self):\n        lst = [x.photo.title for x in self.photo_set.all()]\n        return lst\n\n    def save(self, *args, **kwargs):\n        # super(Album, self).save(*args, **kwargs)\n        rgx = re.search(r'.*\\w', self.title)\n        self.title = rgx.group(0).replace(\" \", \"_\")\n        super(Album, self).save(*args, **kwargs)\n\n\nclass AlbumAdmin(admin.ModelAdmin):\n    # Set search_fields to enable a search box on the admin change list page.\n    # This should be set to a list of field names that will be searched whenever\n    # somebody submits a search query in that text box.\n    search_fields = [\"title\"]\n    # Set list_display to control which fields are displayed on the change list page of the admin.\n    # list_display = [\"title\", \"images\"]\n    list_display = [\"images\"]\n\n\ndef upload_path(instance, filename):\n    if \" \" in instance.album.title:\n        instance.album.title.replace(\" \", \"_\")\n    return '/'.join([instance.album.title, filename])\n\n\nclass Photo(models.Model):\n    title = models.CharField(max_length=50, blank=True)\n    album = models.ForeignKey(Album)\n    photo = models.ImageField(upload_to=upload_path)\n    # width = models.IntegerField(blank=True, null=True)\n    # height = models.IntegerField(blank=True, null=True)\n    upload = models.DateTimeField(auto_now_add=True)\n    # thumbnail = models.ImageField()\n</code></pre>\n"}, {"tags": ["python", "django", "url"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 2574728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b498c90de70d0db392317c54b1cc00cd?s=128&d=identicon&r=PG&f=1", "display_name": "lucious_leftfoot", "link": "https://stackoverflow.com/users/2574728/lucious-leftfoot"}, "is_accepted": true, "score": 0, "last_activity_date": 1422551403, "creation_date": 1422551403, "answer_id": 28220559, "question_id": 28203692, "link": "https://stackoverflow.com/questions/28203692/django-url-not-redirecting-correctly-on-user-creation/28220559#28220559", "title": "Django Url not redirecting correctly on user creation", "body": "<p>I figured out the problem, I was not logging in the user on creation.  Which is why the login worked and the sign up did not. below is the code that I added to the register view, which got it to work.</p>\n\n<pre><code>user = authenticate(\n                email = form.cleaned_data['email'],\n                password = form.cleaned_data['password2']                \n                )\n            login(request, user)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 2574728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b498c90de70d0db392317c54b1cc00cd?s=128&d=identicon&r=PG&f=1", "display_name": "lucious_leftfoot", "link": "https://stackoverflow.com/users/2574728/lucious-leftfoot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 1, "accepted_answer_id": 28220559, "answer_count": 1, "score": 0, "last_activity_date": 1422551403, "creation_date": 1422484214, "last_edit_date": 1422551261, "question_id": 28203692, "link": "https://stackoverflow.com/questions/28203692/django-url-not-redirecting-correctly-on-user-creation", "title": "Django Url not redirecting correctly on user creation", "body": "<p>I have a user sign up and login template set to send information to the same view (detail).  They were both working fine before, however now the redirect on user creation is no longer going to the correct URL (<a href=\"http://127.0.0.1:8000/accounts/login/?next=/accounts/21/\" rel=\"nofollow\">http://127.0.0.1:8000/accounts/login/?next=/accounts/21/</a>) the \"accounts/login?next=\" portion of the URL is being added for some reason and I cannot understand where it came from as it was not there before.</p>\n\n<p>I'm using stronghold which makes every view login_required unless noted otherwise with @public above it.</p>\n\n<p>I have found some posts about LOGIN_URL needs to be set in setting.py or a <code>next</code> key.  However this was working fine before so I do not think that is the problem.  let me know if you need more code posted and I will put it up.</p>\n\n<p>Thanks,</p>\n\n<p>-the route I want to hit is </p>\n\n<pre><code>url(r'^accounts/(?P&lt;user_id&gt;\\d+)/$', views.detail, name='detail')\n</code></pre>\n\n<p>-my register view is below</p>\n\n<pre><code>@public\ndef register(request):\n    if request.method == 'POST':\n        form = EmailUserCreationForm(request.POST)\n\n        if form.is_valid():\n            new_user = form.save()\n            playthrough = PlayThrough(user_id=new_user.id)\n            playthrough.save()                \n            request.session['user_id'] = new_user.id\n\n            return HttpResponseRedirect('/accounts/{}/'.format(new_user.id))\n    else:\n        form = EmailUserCreationForm()\n\n    return render(request, 'dep_server/register.html', {\n        'form': form,\n    }) \n</code></pre>\n\n<p>-this is he view that is supposed to render the user info</p>\n\n<pre><code>def detail(request, user_id): \n    if request.session['user_id'] == int(user_id):\n        user = EmailUser.objects.get(id=user_id)\n        module_list = ModuleRef.objects.all()\n        return render(request, 'dep_server/detail.html', {\n            'user': user,\n            'module_list': module_list\n            })\n    else:\n\n        return HttpResponseRedirect('/accounts/auth/')\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "cython", "python-c-extension", "memoryview"], "comments": [{"owner": {"reputation": 2199, "user_id": 311567, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/05bdf9f352a8a7611279c5a662ef8ff5?s=128&d=identicon&r=PG", "display_name": "dashesy", "link": "https://stackoverflow.com/users/311567/dashesy"}, "edited": false, "score": 0, "creation_date": 1426455779, "post_id": 28203670, "comment_id": 46368611, "body": "I found your patch <a href=\"https://mail.python.org/pipermail/cython-devel/2015-February/004316.html\" rel=\"nofollow noreferrer\">here</a> even adding <code>const </code> does not help, so this means the suggested documentation is not working."}, {"owner": {"reputation": 1115, "user_id": 528691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb484e2ee9555ec814a02533e738b630?s=128&d=identicon&r=PG", "display_name": "winni2k", "link": "https://stackoverflow.com/users/528691/winni2k"}, "edited": false, "score": 0, "creation_date": 1532954012, "post_id": 28203670, "comment_id": 90153813, "body": "<code>const</code> now works for me with Cython 0.28.4"}], "answers": [{"comments": [{"owner": {"reputation": 1859, "user_id": 2235936, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bea00ebd01a0907ac8ba22ce87179a56?s=128&d=identicon&r=PG", "display_name": "avocado", "link": "https://stackoverflow.com/users/2235936/avocado"}, "edited": false, "score": 0, "creation_date": 1449622153, "post_id": 29067248, "comment_id": 56085165, "body": "I got the same problem too, why they&#39;re not interested in fixing this?"}, {"owner": {"reputation": 3161, "user_id": 1017546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7677b43f6049d41c64cc332c381028ac?s=128&d=identicon&r=PG", "display_name": "joeln", "link": "https://stackoverflow.com/users/1017546/joeln"}, "edited": false, "score": 0, "creation_date": 1461213375, "post_id": 29067248, "comment_id": 61098620, "body": "You might try submitting the patch as a GitHub pull request; and adding in some test cases."}, {"owner": {"reputation": 5375, "user_id": 1090455, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d9a0265d342807a582efe8bf053917f6?s=128&d=identicon&r=PG", "display_name": "K3---rnc", "link": "https://stackoverflow.com/users/1090455/k3-rnc"}, "edited": false, "score": 0, "creation_date": 1487079976, "post_id": 29067248, "comment_id": 71614999, "body": "Indeed, have you tried to push the patch through GitHub?"}], "tags": [], "owner": {"reputation": 43968, "user_id": 712605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LnteV.png?s=128&g=1", "display_name": "Richard Hansen", "link": "https://stackoverflow.com/users/712605/richard-hansen"}, "is_accepted": true, "score": 21, "last_activity_date": 1426460444, "creation_date": 1426460444, "answer_id": 29067248, "question_id": 28203670, "link": "https://stackoverflow.com/questions/28203670/how-to-use-cython-typed-memoryviews-to-accept-strings-from-python/29067248#29067248", "title": "How to use Cython typed memoryviews to accept strings from Python?", "body": "<p>Despite the documentation suggesting otherwise, Cython (at least up to version 0.22) does <strong>not</strong> support coercing read-only buffer objects into typed memoryview objects.  Cython always passes the <code>PyBUF_WRITABLE</code> flag to\n<code>PyObject_GetBuffer()</code>, even when it doesn't need write access.  This causes read-only buffer objects to raise an exception.</p>\n\n<p>I <a href=\"https://mail.python.org/pipermail/cython-devel/2015-February/004316.html\">raised this issue on the Cython developer mailing list</a>, and even included a (very rough) patch.  I never got a reply, so I assume the Cython developers are not interested in fixing this bug.</p>\n"}, {"tags": [], "owner": {"reputation": 989, "user_id": 715090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n7pyj.png?s=128&g=1", "display_name": "Marcel M", "link": "https://stackoverflow.com/users/715090/marcel-m"}, "is_accepted": false, "score": 7, "last_activity_date": 1529582112, "creation_date": 1529582112, "answer_id": 50967987, "question_id": 28203670, "link": "https://stackoverflow.com/questions/28203670/how-to-use-cython-typed-memoryviews-to-accept-strings-from-python/50967987#50967987", "title": "How to use Cython typed memoryviews to accept strings from Python?", "body": "<p>This issue was fixed in Cython 0.28, released 2018-03-13 (<a href=\"https://github.com/cython/cython/pull/1869\" rel=\"noreferrer\">PR #1869</a>). The <a href=\"http://docs.cython.org/en/latest/src/changes.html\" rel=\"noreferrer\">changelog</a> says:</p>\n\n<blockquote>\n  <p>The const modifier can be applied to memoryview declarations to allow read-only buffers as input.</p>\n</blockquote>\n\n<p>There is also a new <a href=\"http://cython.readthedocs.io/en/latest/src/userguide/memoryviews.html#read-only-views\" rel=\"noreferrer\">section in the documentation</a>.</p>\n\n<p>The example you gave will work in Cython 0.28 if you write your function like this:</p>\n\n<pre><code>cpdef object printbuf(const unsigned char[:] buf):\n    chars = [chr(x) for x in buf]\n    print repr(''.join(chars))\n</code></pre>\n"}], "owner": {"reputation": 43968, "user_id": 712605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LnteV.png?s=128&g=1", "display_name": "Richard Hansen", "link": "https://stackoverflow.com/users/712605/richard-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2462, "favorite_count": 4, "accepted_answer_id": 29067248, "answer_count": 2, "score": 14, "last_activity_date": 1529582112, "creation_date": 1422484127, "question_id": 28203670, "link": "https://stackoverflow.com/questions/28203670/how-to-use-cython-typed-memoryviews-to-accept-strings-from-python", "title": "How to use Cython typed memoryviews to accept strings from Python?", "body": "<p>How can I write a Cython function that takes a byte string object (a normal string, a bytearray, or another object that follows the <a href=\"https://docs.python.org/2/c-api/buffer.html\">buffer protocol</a>) as a <a href=\"http://docs.cython.org/src/userguide/memoryviews.html\">typed memoryview</a>?</p>\n\n<p>According to the <a href=\"http://docs.cython.org/src/tutorial/strings.html#accepting-strings-from-python-code\">Unicode and Passing Strings</a> Cython tutorial page, the following should work:</p>\n\n<pre><code>cpdef object printbuf(unsigned char[:] buf):\n    chars = [chr(x) for x in buf]\n    print repr(''.join(chars))\n</code></pre>\n\n<p>It does work for bytearrays and other writable buffers:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ python -c 'import test; test.printbuf(bytearray(\"test\\0ing\"))'\n'test\\x00ing'\n</code></pre>\n\n<p>But it doesn't work for normal strings and other read-only buffer objects:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ python -c 'import test; test.printbuf(\"test\\0ing\")'\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"test.pyx\", line 1, in test.printbuf (test.c:1417)\n  File \"stringsource\", line 614, in View.MemoryView.memoryview_cwrapper (test.c:6795)\n  File \"stringsource\", line 321, in View.MemoryView.memoryview.__cinit__ (test.c:3341)\nBufferError: Object is not writable.\n</code></pre>\n\n<p>Looking at the generated C code, Cython is always passing the <code>PyBUF_WRITABLE</code> flag to <code>PyObject_GetBuffer()</code>, which explains the exception.</p>\n\n<p>I can manually get a view into the buffer object myself, but it's not as convenient:</p>\n\n<pre><code>from cpython.buffer cimport \\\n    PyBUF_SIMPLE, PyBUF_WRITABLE, \\\n    PyObject_CheckBuffer, PyObject_GetBuffer, PyBuffer_Release\n\ncpdef object printbuf(object buf):\n    if not PyObject_CheckBuffer(buf):\n        raise TypeError(\"argument must follow the buffer protocol\")\n    cdef Py_buffer view\n    PyObject_GetBuffer(buf, &amp;view, PyBUF_SIMPLE)\n    try:\n        chars = [chr((&lt;unsigned char *&gt;view.buf)[i])\n                 for i in range(view.len)]\n        print repr(''.join(chars))\n    finally:\n        PyBuffer_Release(&amp;view)\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ python -c 'import test; test.printbuf(bytearray(\"test\\0ing\"))'\n'test\\x00ing'\n$ python -c 'import test; test.printbuf(\"test\\0ing\")'\n'test\\x00ing'\n</code></pre>\n\n<p>Am I doing something wrong, or does Cython not support coercing read-only  buffer objects (such as normal strings) into typed memoryview objects?</p>\n"}, {"tags": ["python", "matplotlib", "pandas"], "comments": [{"owner": {"reputation": 10590, "user_id": 2501018, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7cb07efb8f39856500468aa6de85858f?s=128&d=identicon&r=PG", "display_name": "8one6", "link": "https://stackoverflow.com/users/2501018/8one6"}, "edited": false, "score": 1, "creation_date": 1422570637, "post_id": 28203643, "comment_id": 44814989, "body": "The matplotlib state machine is, basically, the devil."}], "answers": [{"comments": [{"owner": {"reputation": 1239, "user_id": 3124423, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8af23185d5c4b41dc489a19a056939e9?s=128&d=identicon&r=PG&f=1", "display_name": "BringMyCakeBack", "link": "https://stackoverflow.com/users/3124423/bringmycakeback"}, "edited": false, "score": 0, "creation_date": 1422554324, "post_id": 28203962, "comment_id": 44805892, "body": "That&#39;s great!  It gets the behavior I was looking for, and I particularly like that it makes the figure and axis objects explicit."}], "tags": [], "owner": {"reputation": 405, "user_id": 2045092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f96753832a5dfaa3ab49ab47904066?s=128&d=identicon&r=PG", "display_name": "cstotzer", "link": "https://stackoverflow.com/users/2045092/cstotzer"}, "is_accepted": true, "score": 12, "last_activity_date": 1422486997, "last_edit_date": 1422486997, "creation_date": 1422485548, "answer_id": 28203962, "question_id": 28203643, "link": "https://stackoverflow.com/questions/28203643/plotting-multiple-lines-in-ipython-pandas-produces-multiple-plots/28203962#28203962", "title": "Plotting Multiple Lines in iPython/pandas Produces Multiple Plots", "body": "<p>You can pre-create an axis object using matplotlibs <code>pyplot</code> package and then append the plots to this axis object:</p>\n\n<pre><code>import pandas as pd\nimport pandas.io.data as web\nimport matplotlib.pyplot as plt\n\naapl = web.get_data_yahoo('AAPL', '1/1/2005')\n\n# extract adjusted close\nadj_close = aapl.loc[:, ['Adj Close']]\n\n# 2 lines on one plot\n#hold(False)\n\nfig, ax = plt.subplots(1, 1)\nadj_close.resample('M', how='min').plot(ax=ax)\nadj_close.resample('M', how='max').plot(ax=ax)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/7fg6f.png\" alt=\"Plot example\"></p>\n\n<p>Alternatively, you could concat the two series into a m x 2 DataFrame and plot the dataframe instead:</p>\n\n<pre><code>s1 = adj_close.resample('M', how='min')\ns2 = adj_close.resample('M', how='max')\ndf = pd.concat([s1, s2], axis=1)\ndf.plot()\n</code></pre>\n"}], "owner": {"reputation": 1239, "user_id": 3124423, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8af23185d5c4b41dc489a19a056939e9?s=128&d=identicon&r=PG&f=1", "display_name": "BringMyCakeBack", "link": "https://stackoverflow.com/users/3124423/bringmycakeback"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11442, "favorite_count": 2, "accepted_answer_id": 28203962, "answer_count": 1, "score": 6, "last_activity_date": 1422514090, "creation_date": 1422484031, "last_edit_date": 1422514090, "question_id": 28203643, "link": "https://stackoverflow.com/questions/28203643/plotting-multiple-lines-in-ipython-pandas-produces-multiple-plots", "title": "Plotting Multiple Lines in iPython/pandas Produces Multiple Plots", "body": "<p>I am trying to get my head around matplotlib's state machine model, but I am running into an error when trying to plot multiple lines on a single plot.  From what I understand, the following code should produce a single plot with two lines:</p>\n\n<pre><code>import pandas as pd\nimport pandas.io.data as web\naapl = web.get_data_yahoo('AAPL', '1/1/2005')\n\n# extract adjusted close\nadj_close = aapl.loc[:, ['Adj Close']]\n\n# 2 lines on one plot\nhold(False)\nadj_close.resample('M', how='min').plot()\nadj_close.resample('M', how='max').plot()\n</code></pre>\n\n<p>In fact, I get three figures: first a blank one, and then two with one line each.  </p>\n\n<p><img src=\"https://i.stack.imgur.com/dtWoK.png\" alt=\"blank plot\">\n<img src=\"https://i.stack.imgur.com/MVfP4.png\" alt=\"first plot\">\n<img src=\"https://i.stack.imgur.com/tlNlR.png\" alt=\"second plot\"></p>\n\n<p>Any idea what I am doing wrong or what setting on my system might be misconfigured?</p>\n"}, {"tags": ["python", "dns", "scapy"], "comments": [{"owner": {"reputation": 695, "user_id": 3097467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/509053a2aa8983665ee4bf08b2d8f355?s=128&d=identicon&r=PG&f=1", "display_name": "lukevp", "link": "https://stackoverflow.com/users/3097467/lukevp"}, "edited": false, "score": 0, "creation_date": 1422484181, "post_id": 28203631, "comment_id": 44773315, "body": "are you saying the LZW library returns a list with both strings and ints in it?  Can you provide more sample code and an example of the resulting hex you would be expecting?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4494234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4168f62034cf786680b32c95247cda9b?s=128&d=identicon&r=PG&f=1", "display_name": "Salman Manzoor", "link": "https://stackoverflow.com/users/4494234/salman-manzoor"}, "edited": false, "score": 0, "creation_date": 1422709685, "post_id": 28203849, "comment_id": 44862991, "body": "I need the output as hex string not list. Since I cannot use / operator with list. I cannot convert the above output to hex since it has integers. what I need is hex strings with integers converted to hex values as well. I am using the compression code mentioned here <a href=\"http://rosettacode.org/wiki/LZW_compression#Python\" rel=\"nofollow noreferrer\">rosettacode.org/wiki/LZW_compression#Python</a>"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 13, "user_id": 4494234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4168f62034cf786680b32c95247cda9b?s=128&d=identicon&r=PG&f=1", "display_name": "Salman Manzoor", "link": "https://stackoverflow.com/users/4494234/salman-manzoor"}, "edited": false, "score": 0, "creation_date": 1422713007, "post_id": 28203849, "comment_id": 44863843, "body": "as you may now <code>hex()</code> just accept number so do you want to convert the ASCII code of your character to hex ?"}, {"owner": {"reputation": 13, "user_id": 4494234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4168f62034cf786680b32c95247cda9b?s=128&d=identicon&r=PG&f=1", "display_name": "Salman Manzoor", "link": "https://stackoverflow.com/users/4494234/salman-manzoor"}, "edited": false, "score": 0, "creation_date": 1422748596, "post_id": 28203849, "comment_id": 44873927, "body": "I need the values above 255 to occupy two bytes. e.g value 508 to be displayed as 01 fc"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1422484988, "creation_date": 1422484988, "answer_id": 28203849, "question_id": 28203631, "link": "https://stackoverflow.com/questions/28203631/converting-list-with-hex-string-and-integers-to-string-in-python-scapy/28203849#28203849", "title": "converting list with hex string and integers to string in python, scapy", "body": "<p>You can first convert to unicode then encode with <code>utf-8</code> encoding , and for escape the int values use <code>isinstance</code> in a list comprehension : </p>\n\n<pre><code>&gt;&gt;&gt; [unicode(i,'unicode-escape').encode('utf-8') if not isinstance(i,int) else i for i in l]\n['f', '\\xc2\\xa5', '\\xc2\\x84', '\\x00', '\\x00', '\\x01', '\\x00', '\\x06', '\\x00', '\\x04', 264, '\\x03', 'w', 268, '\\x06', 'g', 'o', 'o', 'g', 'l', 'e', '\\x03', 'c', 'o', 'm', 259, 261, '\\x01', 267, 269]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4494234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4168f62034cf786680b32c95247cda9b?s=128&d=identicon&r=PG&f=1", "display_name": "Salman Manzoor", "link": "https://stackoverflow.com/users/4494234/salman-manzoor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422484988, "creation_date": 1422484001, "last_edit_date": 1422484566, "question_id": 28203631, "link": "https://stackoverflow.com/questions/28203631/converting-list-with-hex-string-and-integers-to-string-in-python-scapy", "title": "converting list with hex string and integers to string in python, scapy", "body": "<p>I used scapy to create DNS response and pass it to LZW to compress it. After the compression I got the following list.</p>\n\n<pre><code>['f', '\\xa5', '\\x84', '\\x00', '\\x00', '\\x01', '\\x00', '\\x06', '\\x00', '\\x04', 264, '\\x03', 'w', 268, '\\x06', 'g', 'o', 'o', 'g', 'l', 'e', '\\x03', 'c', 'o', 'm', 259, 261, '\\x01', 267, 269]\n</code></pre>\n\n<p>The list has values above 256 very frequently.\nHow could I convert this entirely to a hex string or how to convert it to scapy DNS packet so that I could send it.\nhexilfy and hex wont work since there are integers in the list, I have tried both of these</p>\n"}, {"tags": ["python", "c++", "swig"], "comments": [{"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "edited": false, "score": 0, "creation_date": 1422517372, "post_id": 28203576, "comment_id": 44783318, "body": "Can you explain a little more about what your function is meant to do, with a minimal complete example? I&#39;m sure there&#39;s a good work around but I don&#39;t quite understand your use cases well enough to answer."}, {"owner": {"reputation": 4970, "user_id": 2140449, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/97251fac343628ee1aad92cc3da39d99?s=128&d=identicon&r=PG", "display_name": "DarioP", "link": "https://stackoverflow.com/users/2140449/dariop"}, "reply_to_user": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "edited": false, "score": 0, "creation_date": 1432916741, "post_id": 28203576, "comment_id": 49142698, "body": "@Flexo I got the same error, just put an <code>std::unique_ptr&lt;Tcl_Interp, decltype(&amp;Tcl_DeleteInterp)&gt; interp;</code> in a class and SWIG failed to parse it. I do not even need it to be exported, but the <code>%ignore</code> directive is not enough..."}, {"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "reply_to_user": {"reputation": 4970, "user_id": 2140449, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/97251fac343628ee1aad92cc3da39d99?s=128&d=identicon&r=PG", "display_name": "DarioP", "link": "https://stackoverflow.com/users/2140449/dariop"}, "edited": false, "score": 0, "creation_date": 1432916986, "post_id": 28203576, "comment_id": 49142840, "body": "@DarioP %ignore won&#39;t work because it&#39;s a parse error, not a wrapper error. There is probably a workaround possible, but it needs an MCVE to answer, because  the way to wrap it depends on what you want to do with the function."}, {"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "edited": false, "score": 0, "creation_date": 1432917193, "post_id": 28203576, "comment_id": 49142950, "body": "If your reference to %ignore comes from my answer at <a href=\"http://stackoverflow.com/a/30411997/168175\">stackoverflow.com/a/30411997/168175</a> then you missed the most important part of that hack which was the <code>#define auto</code> bit."}, {"owner": {"reputation": 4970, "user_id": 2140449, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/97251fac343628ee1aad92cc3da39d99?s=128&d=identicon&r=PG", "display_name": "DarioP", "link": "https://stackoverflow.com/users/2140449/dariop"}, "reply_to_user": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "edited": false, "score": 0, "creation_date": 1432975544, "post_id": 28203576, "comment_id": 49161005, "body": "@Flexo you are right, the source of the problem is that the argument of <code>decltype</code> is an expression. The %ignore came from the top of my head, thanks for the reference to the other question!"}], "owner": {"reputation": 91, "user_id": 4505039, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dbtfN7B-KWE/AAAAAAAAAAI/AAAAAAAAABI/yKZc9dkqaa8/photo.jpg?sz=128", "display_name": "Fernanda Monteiro", "link": "https://stackoverflow.com/users/4505039/fernanda-monteiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "closed_date": 1432917234, "answer_count": 0, "score": 1, "last_activity_date": 1422483721, "creation_date": 1422483721, "question_id": 28203576, "link": "https://stackoverflow.com/questions/28203576/parsing-c-decltype-expression-into-python-via-swig", "closed_reason": "Duplicate", "title": "Parsing C++ decltype() expression into Python via SWIG", "body": "<p>I am trying to parse a C++ code into Python using SWIG. Running the interface file I get the following error: </p>\n\n<p>../compat/option.hpp:220: Error: Syntax error in input(3).</p>\n\n<p>So this is the code for the line specified</p>\n\n<pre><code>template&lt;class F&gt;\nauto move_map(F&amp;&amp; f) -&gt; Option&lt;decltype(std::forward&lt;F&gt;(f)(std::move(*repr.ptr())))&gt;\n{\n    if (repr.is_some())\n        {\n            auto rv = Some(std::forward&lt;F&gt;(f)(std::move(*repr.ptr())));\n            do_destruct();\n            return rv;\n        }\n    else\n        {\n            return None;\n        }\n}\n</code></pre>\n\n<p>I took some time to understand but I finally found that decltype expressions are unsupported yet by SWIG. </p>\n\n<p><a href=\"http://www.swig.org/Doc3.0/CPlusPlus11.html#CPlusPlus11_type_inference\" rel=\"nofollow\">http://www.swig.org/Doc3.0/CPlusPlus11.html#CPlusPlus11_type_inference</a></p>\n\n<p>So I'm think about any tips on how to strip this code so it could get parsed. I'm not any pro with C++ (actually I'm learning it now) so any help will be welcome.</p>\n"}, {"tags": ["python", "macos", "optimization", "ipopt"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 3997553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ff3cbf9fbc3dfcc77e160770fddc19?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Gonz&#225;lez", "link": "https://stackoverflow.com/users/3997553/daniel-gonz%c3%a1lez"}, "is_accepted": false, "score": 1, "last_activity_date": 1433174547, "creation_date": 1433174547, "answer_id": 30578078, "question_id": 28203570, "link": "https://stackoverflow.com/questions/28203570/pyomos-solverfactory-cannot-create-ipopt-osx-possibly-related-to-coin-or/30578078#30578078", "title": "Pyomo&#39;s SolverFactory cannot create Ipopt (OSX) - possibly related to COIN-OR", "body": "<p>A colleague of mine had the same issue and he managed to solve it by generating the solver object with the route to the IPOPT AMPL executable:</p>\n\n<pre><code>opt = SolverFactory('/route/to/ipopt',solver_io='nl')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4504960, "user_type": "registered", "profile_image": "https://graph.facebook.com/609691087/picture?type=large", "display_name": "Krista", "link": "https://stackoverflow.com/users/4504960/krista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1188, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452778888, "creation_date": 1422483696, "question_id": 28203570, "link": "https://stackoverflow.com/questions/28203570/pyomos-solverfactory-cannot-create-ipopt-osx-possibly-related-to-coin-or", "title": "Pyomo&#39;s SolverFactory cannot create Ipopt (OSX) - possibly related to COIN-OR", "body": "<p>I'm trying to use Pyomo to find the optimal values of a Python model on OSX. I got the script from <a href=\"https://github.com/shoibalc/recem\" rel=\"nofollow\">https://github.com/shoibalc/recem</a>, and  installed Pyomo and COIN-OR following the instructions to the extent that I could, changing a few things that were outdated or didn't seem to work on OSX. </p>\n\n<p>The code that is causing problems is below.</p>\n\n<pre><code>import pyomo\nfrom pyomo.opt.base import *\nfrom pyomo.opt.parallel import SolverManagerFactory\nfrom DICE2007 import createDICE2007\nfrom DICEutils import DICE_results_writer\n\nglobal start_time\nstart_time = time.time()\n\ndice = createDICE2007()\ndice.doc = 'OPTIMAL SCENARIO'\nopt = SolverFactory('ipopt',solver_io='nl') \ntee = False\noptions =   \"\"\"\n        halt_on_ampl_error=yes\"\"\"\nsolver_manager = SolverManagerFactory('serial')\n\nprint '[%8.2f] create model %s OPTIMAL SCENARIO\\n' %(time.time()-start_time,dice.name)\n\ninstance = dice.create()\nprint '[%8.2f] created instance\\n' %(time.time()-start_time)\n\nresults = solver_manager.solve(instance, opt=opt, tee=tee, options=options, suffixes=['dual','rc'])\n</code></pre>\n\n<p>This crashes on the last (\"results\") line, with the following error message: </p>\n\n<blockquote>\n  <p>The SolverFactory was unable to create the solver \"ipopt\"\n  and returned an UnknownSolver object.  This error is raised at the point \n  where the UnknownSolver object was used as if it were valid (by calling \n  method \"solve\").</p>\n  \n  <p>The original solver was created with the following parameters:\n      solver_io: nl\n      type: ipopt\n      _args: ()\n      options: {}\n      _options_str: []</p>\n</blockquote>\n\n<p>I'm very new to all this, but thought that maybe Pyomo can't access the ipopt file it needs, which I think for me is located in the COIN-OR binaries I downloaded. I tried adding the relevant-seeming files to my PYTHONPATH and also importing them into the script, which didn't help. Any ideas what I should try next to either make this work, or to amend the script to something that would work?</p>\n"}, {"tags": ["python", "google-app-engine", "session"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4396191, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f36f274eb86d2a3a9fa4ee9223960fc2?s=128&d=identicon&r=PG&f=1", "display_name": "St3114", "link": "https://stackoverflow.com/users/4396191/st3114"}, "edited": false, "score": 0, "creation_date": 1422723419, "post_id": 28206535, "comment_id": 44866827, "body": "thanks for the answer. I did  tpi_vars={&#39;opts&#39;: dict.fromkeys(opts, &#39;checked&#39;)}  and session[&#39;opts&#39;]=opts  . it seems to work but how can I use them? using like this is a proper way?         if u&#39;opt1&#39; in opts:             self.response.out.write(&quot;opt1 is checked&quot;)"}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 55, "user_id": 4396191, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f36f274eb86d2a3a9fa4ee9223960fc2?s=128&d=identicon&r=PG&f=1", "display_name": "St3114", "link": "https://stackoverflow.com/users/4396191/st3114"}, "edited": false, "score": 0, "creation_date": 1422723997, "post_id": 28206535, "comment_id": 44866975, "body": "@St3114, no!  In the get you just write the <code>template.render</code> as you do now (with modified template and environment as per my A); in the post you get <code>&#39;opts&#39;</code> (<b>not</b> the typoed <code>&#39;opt&#39;</code> as you did) which is just a list of the checkboxes that were left checked as the user submitted the form.  Presumably you mean to use that info for some application-specific purpose, in addition to persisting it to the session -- and you never tell us your application-specific purpose (I doubt the app&#39;s purpose is to tell the user which checkboxes they checked, right?-)"}, {"owner": {"reputation": 55, "user_id": 4396191, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f36f274eb86d2a3a9fa4ee9223960fc2?s=128&d=identicon&r=PG&f=1", "display_name": "St3114", "link": "https://stackoverflow.com/users/4396191/st3114"}, "edited": false, "score": 0, "creation_date": 1422725606, "post_id": 28206535, "comment_id": 44867481, "body": "I want to create gae project which will generate rss feed due to selected options. these options will be columnists. I was going to add a login check. user will login and change the options. sitename.appspot.com/rss.xml will be the generated rss. I guess I cant store this settings in a session. it ll only work for same browser. my whole project <a href=\"https://yadi.sk/d/ADwATa7VeNR5m\" rel=\"nofollow noreferrer\">yadi.sk/d/ADwATa7VeNR5m</a>"}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 55, "user_id": 4396191, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f36f274eb86d2a3a9fa4ee9223960fc2?s=128&d=identicon&r=PG&f=1", "display_name": "St3114", "link": "https://stackoverflow.com/users/4396191/st3114"}, "edited": false, "score": 0, "creation_date": 1422726251, "post_id": 28206535, "comment_id": 44867686, "body": "@St3114, of course you can store in the session, just make sure the session is backed by the datastore, see docs at <a href=\"http://dound.com/myprojects/gae-sessions/docs/html/docindex.html\" rel=\"nofollow noreferrer\">dound.com/myprojects/gae-sessions/docs/html/docindex.html</a> !  This has nothing at all to do with checkboxes so I suggest you start another question about gaesessions only."}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": true, "score": 1, "last_activity_date": 1422502116, "creation_date": 1422502116, "answer_id": 28206535, "question_id": 28203467, "link": "https://stackoverflow.com/questions/28203467/keeping-checkbox-values-with-gae-sessions/28206535#28206535", "title": "Keeping checkbox values with gae-sessions", "body": "<p>Your Python code seems correct, apart from one weird bug whereby the line using <code>jinja_environment</code> is concatenated to the previous one (?!).</p>\n\n<p>Your <strong>Jinja</strong> template seems wrong as it <strong>doesn't</strong> look in the environment, nor does it mark any checkbox as <code>checked</code>.  I would recommend something like:</p>\n\n<pre><code>&lt;input type=\"checkbox\" name=\"opts\" value=\"opt1\" {{ops.get('opt1','')}&gt;\n    option 1&lt;br&gt;\n</code></pre>\n\n<p>and so on -- the double braces to check into the environment, and a dictionary <code>ops</code> that you could prepare on the Python side.</p>\n\n<p>Right now what you get as <code>opt</code> is a list such as e.g ['opt1'] if that's the only checked checkbox at post time.  You could deal with that in the Jinja side, but it's easier on the Python side, I think.  So, instead of:</p>\n\n<pre><code>tpi_vars={\"opt\":opt}\n</code></pre>\n\n<p>I'd do:</p>\n\n<pre><code>tpi_vars={'ops': dict.fromkeys(opt, 'checked')}\n</code></pre>\n\n<p>Of course, you don't have to do it just before you render the Jinja2 template -- you could do this list-to-dict translation at any time.  But since it <strong>is</strong> about presentation issues, this seems a good place for it.</p>\n"}], "owner": {"reputation": 55, "user_id": 4396191, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f36f274eb86d2a3a9fa4ee9223960fc2?s=128&d=identicon&r=PG&f=1", "display_name": "St3114", "link": "https://stackoverflow.com/users/4396191/st3114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 28206535, "answer_count": 1, "score": 0, "last_activity_date": 1422502116, "creation_date": 1422483312, "question_id": 28203467, "link": "https://stackoverflow.com/questions/28203467/keeping-checkbox-values-with-gae-sessions", "title": "Keeping checkbox values with gae-sessions", "body": "<p>I look for answers but It was all about php. I got this index.html:</p>\n\n<pre><code> &lt;form method=\"post\"&gt;       \n   &lt;input type=\"checkbox\" name=\"opts\" value=\"opt1\" opt[0]&gt; option 1&lt;br&gt;\n  &lt;input type=\"checkbox\" name=\"opts\" value=\"opt2\" opt[1]&gt; option 2&lt;br&gt;\n  &lt;input type=\"checkbox\" name=\"opts\" value=\"opt3\" opt[2]&gt; option 3&lt;br&gt;\n  &lt;br&gt;\n   &lt;input name=\"\" type=\"submit\" value=\"Save\" &gt;  \n\n&lt;/form&gt;\n</code></pre>\n\n<p>and this main.py </p>\n\n<pre><code>import webapp2\nimport cgi\nimport os\nimport jinja2\nfrom gaesessions import get_current_session\nclass MainHandler(webapp2.RequestHandler):\n    def get(self):\n        session=get_current_session()\n        opt=session.get('opt',[])        jinja_environment=jinja2.Environment(autoescape=True,loader=jinja2.FileSystemLoader(os.path.join(os.path.dirname(__file__),'templates')))\n        tpi_vars={\"opt\":opt}\n        template=jinja_environment.get_template('index.html')\n\n        self.response.write(template.render(tpi_vars))\n\n    def post(self):\n        opt=self.request.get(\"opt\", allow_multiple=True)\n        session=get_current_session()\n\n        session['opt']=opt\n</code></pre>\n\n<p>I want to store checked checkboxes and get them. How can I make this possible?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1422483250, "post_id": 28203385, "comment_id": 44772914, "body": "You say <code>check to see that the resulting value of (g) is close to 9.8 m&#47;s**2</code>, which would seem correct."}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1422483251, "post_id": 28203385, "comment_id": 44772915, "body": "Yes, this is correct. Your result is right, so where&#39;s the problem?"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 2, "creation_date": 1422483264, "post_id": 28203385, "comment_id": 44772919, "body": "@KellenWatt: he didn&#39;t. the rounding error is orders of magnitude below."}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1422484886, "post_id": 28203385, "comment_id": 44773597, "body": "I think you are not supposed to get 9.8 <b>exactly</b>. You are supposed to find a value close to that, which you do."}], "answers": [{"tags": [], "owner": {"reputation": 20315, "user_id": 963881, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e82a2a2b9ddf6fb580a9c34b2eca65f4?s=128&d=identicon&r=PG&f=1", "display_name": "syntagma", "link": "https://stackoverflow.com/users/963881/syntagma"}, "is_accepted": false, "score": 2, "last_activity_date": 1422483387, "creation_date": 1422483387, "answer_id": 28203488, "question_id": 28203385, "link": "https://stackoverflow.com/questions/28203385/am-i-doing-this-correctly-beginner-python/28203488#28203488", "title": "Am I doing this correctly? Beginner python", "body": "<p>Yes, it looks like you are doing it correctly. As for the rounding errors (which I understand may be the point of your question), the recommended reading is: <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a> (it applies not only to Python).</p>\n\n<p>In order to provide some precision in Python you could use the <a href=\"http://docs.python.org/library/decimal.html\" rel=\"nofollow\"><code>decimal</code></a> module.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 4493217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b49fdd38f415e4ce834b6feb61be0f?s=128&d=identicon&r=PG&f=1", "display_name": "xwolfss", "link": "https://stackoverflow.com/users/4493217/xwolfss"}, "is_accepted": false, "score": 0, "last_activity_date": 1422827936, "last_edit_date": 1422827936, "creation_date": 1422827126, "answer_id": 28268309, "question_id": 28203385, "link": "https://stackoverflow.com/questions/28203385/am-i-doing-this-correctly-beginner-python/28268309#28268309", "title": "Am I doing this correctly? Beginner python", "body": "<p>First your most likely in my class cs10 lol.\nSecond everything is perfect expect your print statement..</p>\n\n<p>change it to:</p>\n\n<pre><code>print(format(force,'.1f'),\"m/s^2\")\n</code></pre>\n\n<p>Also instead of having a variable just to change jones_mass to a float you can declare that jones's mass will be a float inside your input statement:</p>\n\n<p>before:</p>\n\n<pre><code>jones_mass = input(\"Mr Jones Mass in kilograms is: \")\nfloat_mass = float(jones_mass)\n</code></pre>\n\n<p>after:</p>\n\n<pre><code> jones_mass = float(input(\"Mr Jones Mass in kilograms is: \"))\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 4505014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-nRwLmuf9FjM/AAAAAAAAAAI/AAAAAAAAAMY/yUY-bgndBgY/photo.jpg?sz=128", "display_name": "Daniel Medina", "link": "https://stackoverflow.com/users/4505014/daniel-medina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2373, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1422827936, "creation_date": 1422483027, "last_edit_date": 1422483115, "question_id": 28203385, "link": "https://stackoverflow.com/questions/28203385/am-i-doing-this-correctly-beginner-python", "title": "Am I doing this correctly? Beginner python", "body": "<ol>\n<li>Prompt user for X(which is Mr Jones weight in Kilo Grams)</li>\n<li>calculate the graviational force(F) and acceleration due to gravity(g) caused by the gravitational\nforce exerted on him by the earth.</li>\n</ol>\n\n<p>gravitational force(F): F= G (m1)(m2) / (r**2) and F = mg</p>\n\n<p>Universal gravitational constant:  G= 6.67300 X 10 **-11</p>\n\n<p>check to see that the resulting value of (g) is close to 9.8 m/s**2</p>\n\n<p>other variables:</p>\n\n<p>radius_earth = 6378 * 10 ** 3</p>\n\n<p>mass_earth = 5.9742 * 10 ** 24  # m1</p>\n\n<p>now this is this what I am suppose to get? 9.8 m/s**2???????</p>\n\n<p>this is what I put:</p>\n\n<pre><code>radius_earth = 6378 * 10 ** 3\n\nmass_earth = 5.9742 * 10 ** 24  # m1\n\njones_mass = input(\"Mr Jones Mass in kilograms is: \")  #m2\n\nfloat_mass = float(jones_mass)\n\ngravity = 6.67300 * 10 ** -11\n\nforce = gravity * mass_earth * float_mass / (radius_earth ** 2) \n #gravitational force\n\nprint(force)\n</code></pre>\n\n<p>because when  I input 1 I get this result:</p>\n\n<pre><code>Mr Jones Mass in kilograms is: 1\n\n9.80013035755848\n\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Am I doing this correctly since it says the answer should be equivalent to 9.8 ms/**2?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "edited": false, "score": 0, "creation_date": 1422485052, "post_id": 28203343, "comment_id": 44773654, "body": "I just recently learned about this module it is great, what problem are you having?  I generally loop over my data (tableone) and write a cell at a time though."}], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 5530234, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/32331ff9cbdb31eb9303025b0ed54ab1?s=128&d=identicon&r=PG", "display_name": "Jebediah15", "link": "https://stackoverflow.com/users/5530234/jebediah15"}, "edited": false, "score": 0, "creation_date": 1422487800, "post_id": 28203993, "comment_id": 44774716, "body": "So, I am very new, but when I add this code, I get an SyntaxError: can&#39;t assign to literal"}, {"owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "reply_to_user": {"reputation": 681, "user_id": 5530234, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/32331ff9cbdb31eb9303025b0ed54ab1?s=128&d=identicon&r=PG", "display_name": "Jebediah15", "link": "https://stackoverflow.com/users/5530234/jebediah15"}, "edited": false, "score": 0, "creation_date": 1422488002, "post_id": 28203993, "comment_id": 44774776, "body": "What sort of structure do tableone and tabletwo have?  You may need to modify the loop appropriately.  I can&#39;t seem to find a method in the docs for writing multiple values in one go, so it does seem you will need to loop and write a cell at a time.  But you can use numerical indices instead of the alphanumeric excel default; note they do start at 0."}, {"owner": {"reputation": 681, "user_id": 5530234, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/32331ff9cbdb31eb9303025b0ed54ab1?s=128&d=identicon&r=PG", "display_name": "Jebediah15", "link": "https://stackoverflow.com/users/5530234/jebediah15"}, "edited": false, "score": 0, "creation_date": 1422488279, "post_id": 28203993, "comment_id": 44774850, "body": "Edit above to show table structure. I am trying to just output basic frequency lists."}, {"owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "reply_to_user": {"reputation": 681, "user_id": 5530234, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/32331ff9cbdb31eb9303025b0ed54ab1?s=128&d=identicon&r=PG", "display_name": "Jebediah15", "link": "https://stackoverflow.com/users/5530234/jebediah15"}, "edited": false, "score": 1, "creation_date": 1422632929, "post_id": 28203993, "comment_id": 44840053, "body": "Oh forgive me I forgot to mention the other write functions, I think you are trying to use write to write a number, when the function should be write_number.  But if you convert the number to a string you can use write as in my example (str(value)))"}], "tags": [], "owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "is_accepted": true, "score": 2, "last_activity_date": 1422485670, "creation_date": 1422485670, "answer_id": 28203993, "question_id": 28203343, "link": "https://stackoverflow.com/questions/28203343/write-pivot-table-to-excel-workbook-range-using-xlsx-writer/28203993#28203993", "title": "Write Pivot Table to Excel Workbook Range using XLSX Writer", "body": "\n\n<pre><code>import xlsxwriter\nworkbook = xlsxwriter.Workbook('demo.xlsx')\nworksheet = workbook.add_worksheet()\n\ntableone = pd.value_counts(df['name'])\ntabletwo = df.groupby('name').aggregate({'Id': lambda x: x.unique()})\n\n\ncol = 1, row = 1 #This is cell b2\nfor value in tableone:\n    if col == 16:\n        row += 1\n        col = 1\n    worksheet.write(row,col, value)\n    col += 1\n\ncol = 3, row = 1 #This is cell d2\nfor value in tabletwo:\n    if col == 16:\n        row += 1\n        col = 1\n    worksheet.write(row,col,value)\n    col += 1\n</code></pre>\n"}], "owner": {"reputation": 681, "user_id": 5530234, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/32331ff9cbdb31eb9303025b0ed54ab1?s=128&d=identicon&r=PG", "display_name": "Jebediah15", "link": "https://stackoverflow.com/users/5530234/jebediah15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7524, "favorite_count": 0, "accepted_answer_id": 28203993, "answer_count": 1, "score": 2, "last_activity_date": 1422544454, "creation_date": 1422482825, "last_edit_date": 1495540314, "question_id": 28203343, "link": "https://stackoverflow.com/questions/28203343/write-pivot-table-to-excel-workbook-range-using-xlsx-writer", "title": "Write Pivot Table to Excel Workbook Range using XLSX Writer", "body": "<p>I have a series of tables I would like to write to the same worksheet. The only other post similar to this is <a href=\"https://stackoverflow.com/questions/23192393/how-to-add-pivot-table-with-excelwriterxlsx\">here</a>. I also looked <a href=\"http://search.cpan.org/~jmcnamara/Excel-Writer-XLSX-0.76/lib/Excel/Writer/XLSX.pm#___top\" rel=\"nofollow noreferrer\">here</a> but didn't see a solution.</p>\n\n<p>I was hoping for a similar situation to SAS ODS Output codes that send <code>proc freq</code> results to an excel file. My thought was turning the table results into a new data frame and then stacking the output results to a worksheet.</p>\n\n<pre><code>pd.value_counts(df['name'])\ndf.groupby('name').aggregate({'Id': lambda x: x.unique()})\n</code></pre>\n\n<p>If I know the number of rows corresponding to the table, I should ideally know the appropriate range of cells to write to.</p>\n\n<p>I am using:</p>\n\n<pre><code>import xlsxwriter\nworkbook = xlsxwriter.Workbook('demo.xlsx')\nworksheet = workbook.add_worksheet()\n\ntableone = pd.value_counts(df['name'])\ntabletwo = df.groupby('name').aggregate({'Id': lambda x: x.unique()})\n\nworksheet.write('B2:C15', tableone)\nworksheet.write('D2:E15', tabletwo)\n\nworkbook.close()\n</code></pre>\n\n<p><strong>EDIT: Include view of tableone</strong></p>\n\n<p>TableOne:</p>\n\n<pre><code>  Name           |        Freq\n    A                       5\n    B                       1\n    C                       6\n    D                       11\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "edited": false, "score": 0, "creation_date": 1422482643, "post_id": 28203268, "comment_id": 44772646, "body": "Do you mean <code>subprocess.call(cmd)</code>? (without the square brackets)"}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1422483105, "post_id": 28203390, "comment_id": 44772858, "body": "you need to pass the complete path to perl ... it is not aware of your environment unless you provide it"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1422483254, "post_id": 28203390, "comment_id": 44772916, "body": "you would also need to escape the backslashes in the path or use raw strings"}, {"owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1422483314, "post_id": 28203390, "comment_id": 44772944, "body": "Works fine for me as is, but I appreciate the advice on my advice."}], "tags": [], "owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "is_accepted": false, "score": 0, "last_activity_date": 1422483033, "creation_date": 1422483033, "answer_id": 28203390, "question_id": 28203268, "link": "https://stackoverflow.com/questions/28203268/how-to-use-subprocess-to-fire-and-forget-in-python-2-7/28203390#28203390", "title": "How to use subprocess to fire and forget in python 2.7", "body": "<p>I used this recently to fire a perl script, like so:</p>\n\n\n\n<pre><code>    var = \"C:\\Users\\user\\Desktop\"\n    retcode = subprocess.call([\"perl\", '.\\hgncDL.pl',var])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30761, "user_id": 779200, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b39b49e078967924f816af14a536994?s=128&d=identicon&r=PG", "display_name": "lvc", "link": "https://stackoverflow.com/users/779200/lvc"}, "edited": false, "score": 1, "creation_date": 1422484631, "post_id": 28203399, "comment_id": 44773508, "body": "Without also passing <code>shell=True</code>, <code>subprocess.call(cmd)</code> where cmd is a string only works on Windows. On <i>all</i> systems, you want to avoid using shell=True whenever possible because it spawns an extra unnecessary process, and it comes with a whole lot of security concerns (especially if any part of <code>cmd</code> comes from user input or some other untrusted source)."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 2, "last_activity_date": 1422483066, "creation_date": 1422483066, "answer_id": 28203399, "question_id": 28203268, "link": "https://stackoverflow.com/questions/28203268/how-to-use-subprocess-to-fire-and-forget-in-python-2-7/28203399#28203399", "title": "How to use subprocess to fire and forget in python 2.7", "body": "<p>each thing that would be seperated by whitespace is a seperate entity of the list</p>\n\n<p><code>subprocess.call</code> is blocking however\n<code>subprocess.popen</code> is non-blocking</p>\n\n<pre><code>cmd = [\"/usr/local/bin/fab\", \"-H\",var1,\"aws_bootstrap initial_chef_run:%s,%s,%s\"%(var2,var3,var4), \"-w\"]\n\nsubprocess.popen(cmd)  # dopnt wait just keep going\n#or\nsubprocess.call(cmd)  # wait until the command returns\n</code></pre>\n\n<p>you may however alternatively pass the command as one big string </p>\n\n<pre><code>cmd = \"/usr/local/bin/fab -H %s aws_bootstrap initial_chef_run:%s,%s,%s -w\" % (...)\nsubprocess.call(cmd)\n</code></pre>\n\n<p>in general this method(passing a single string) is frowned upon for some reason that has never been explained sufficiently to me</p>\n"}, {"tags": [], "owner": {"reputation": 216, "user_id": 1952859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8042637e39233a5ccb58b6658bb00b96?s=128&d=identicon&r=PG", "display_name": "Igor Korzhanov", "link": "https://stackoverflow.com/users/1952859/igor-korzhanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1422519981, "last_edit_date": 1422519981, "creation_date": 1422490626, "answer_id": 28204920, "question_id": 28203268, "link": "https://stackoverflow.com/questions/28203268/how-to-use-subprocess-to-fire-and-forget-in-python-2-7/28204920#28204920", "title": "How to use subprocess to fire and forget in python 2.7", "body": "<h1>Working code</h1>\n\n<p>Define <code>hParam</code> and <code>runParams</code> in following code and you're good to go:</p>\n\n<pre><code>hParam = 'hParam'\nrunParams = (a,b,c)\nargs = ('/usr/local/bin/fab', '-H', hParam, 'aws_bootstrap', 'initial_chef_run:%s,%s,%s' % runParams, '-w')\nsubprocess.Popen(args)\n</code></pre>\n\n<h1>Details</h1>\n\n<ol>\n<li><p>How do I use <code>&lt;any python module&gt;</code> module?<br>\n<br>\n<a href=\"https://docs.python.org\" rel=\"nofollow\">https://docs.python.org</a> is a good starting point.<br>\nIn particular, docs for <code>subprocess</code> module available <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\">here</a>.<br>\n<br>\n<em>I can't provide direct links for each case later in this answer due to restriction imposed by low reputation. Each time I will be referring to 'docs', look for a section in docs on the module.</em></p></li>\n<li><p>I need to execute a command line in the background in python 2.7. I need to fire and forget<br>\n<br>\nConsider <code>subprocess.Popen(args)</code>. Note capital 'P'.\nSee docs for more details.<br>\n<br>\n<code>subprocess.call(args)</code> works in similar way, but it would block until the command completes. As stated in docs:</p>\n\n<blockquote>\n  <p>Run the command described by args. <strong>Wait for command to complete</strong>, then return the returncode attribute.</p>\n</blockquote></li>\n<li><p>How to use the sequence form of <code>args</code> parameter?<br>\n<br>\nThis is covered in \"Frequently used arguments\" section of docs:</p>\n\n<blockquote>\n  <p>args is required for all calls and should be a string, or a sequence of program arguments. Providing a sequence of arguments is generally preferred, as it allows the module to take care of any required escaping and quoting of arguments (e.g. to permit spaces in file names).  </p>\n</blockquote>\n\n<p>Also, passing an <code>args</code> in a string form has its limitation:</p>\n\n<blockquote>\n  <p>If passing a single string, either shell must be True or else the string must simply name the program to be executed without specifying any arguments.</p>\n</blockquote>\n\n<p>Despite mentioned limitation, <code>subprocess.Popen('cmd.exe /?')</code> works for me. Win7, Python 2.7.8 64bit.</p></li>\n</ol>\n\n<p>HTH, cheers.</p>\n"}], "owner": {"reputation": 61601, "user_id": 1203556, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/aca772bc8ed79a86894211c7efd920aa?s=128&d=identicon&r=PG", "display_name": "Tampa", "link": "https://stackoverflow.com/users/1203556/tampa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1039, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1422519981, "creation_date": 1422482562, "question_id": 28203268, "link": "https://stackoverflow.com/questions/28203268/how-to-use-subprocess-to-fire-and-forget-in-python-2-7", "title": "How to use subprocess to fire and forget in python 2.7", "body": "<p>I need to execute a command line in the bakground in python 2.7.  I need to fire and forget.</p>\n\n<p>Here is the command:</p>\n\n<pre><code>cmd = \"/usr/local/bin/fab -H %s aws_bootstrap initial_chef_run:%s,%s,%s -w\" % (...)\n</code></pre>\n\n<p>How do I use the subproccess module?</p>\n\n<p>e.g. is it </p>\n\n<pre><code>subprocess.call([cmd])\n\nor \n\nsubprocess.call([\"/usr/local/bin/fab\", \"-H %s aws_bootstrap initial_chef_run:%s,%s,%s -w\"])\n</code></pre>\n\n<p>I dont get how to use the list.  Or is every element of the list what would be a white space.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 6, "last_activity_date": 1422486538, "last_edit_date": 1422486538, "creation_date": 1422484666, "answer_id": 28203789, "question_id": 28203252, "link": "https://stackoverflow.com/questions/28203252/handle-empty-parameters-when-building-url-to-route/28203789#28203789", "title": "Handle empty parameters when building url to route", "body": "<p>Apply multiple routes to the same function, passing a default value for optional arguments.</p>\n\n<pre><code>@app.route('/&lt;title&gt;/', defaults={'category': ''})\n@app.route('/&lt;category&gt;/&lt;title&gt;')\ndef details(title, category):\n    #...\n\nurl_for('details', category='Python', title='Flask')\n# /details/Python/Flask\n\nurl_for('details', title='Flask')\n# /details/Flask\n\nurl_for('details', category='', title='Flask')\n# the category matches the default so it is ignored\n# /details/Flask\n</code></pre>\n\n<hr>\n\n<p>A cleaner solution is to just assign a default category to uncategorized products so that the url format is consistent.</p>\n"}], "owner": {"reputation": 157, "user_id": 4484636, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ee782db64d40666ae44fb472595b49fb?s=128&d=identicon&r=PG&f=1", "display_name": "Dramal", "link": "https://stackoverflow.com/users/4484636/dramal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2355, "favorite_count": 0, "accepted_answer_id": 28203789, "answer_count": 1, "score": 4, "last_activity_date": 1422486538, "creation_date": 1422482491, "last_edit_date": 1422485117, "question_id": 28203252, "link": "https://stackoverflow.com/questions/28203252/handle-empty-parameters-when-building-url-to-route", "title": "Handle empty parameters when building url to route", "body": "<p>My app has a Product model. Some Products have categories, some do not. In one of my pages I will have this:</p>\n\n<pre><code>{% if row.category %}\n    &lt;a href=\"{{ url_for(\"details_with_category\", category=row.category, title=row.title) }}\"&gt; row.prod_title&lt;/a&gt;\n{% else %}\n    &lt;a href=\"{{ url_for(\"details_without_category\", title=row.title) }}\"&gt; row.prod_title&lt;/a&gt;\n{% endif %}\n</code></pre>\n\n<p>The views that handles this are:</p>\n\n<pre><code>@app.route('/&lt;category&gt;/&lt;title&gt;', methods=['GET'])\ndef details_with_category(category, title):\n    ....\n    return ....\n\n@app.route('/&lt;title&gt;', methods=['GET'])\ndef details_without_category(title):\n    ....\n    return ....\n</code></pre>\n\n<p>Both <code>details_with_category</code> and <code>details_without_category</code> do the exact same thing, just with different urls.  Is there a way to combine the views into a single view that takes an optional argument when building the url?</p>\n"}, {"tags": ["python", "json", "dictionary", "apache-spark"], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 753720, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd3954e69828863154019655bd66c842?s=128&d=identicon&r=PG", "display_name": "Brandt", "link": "https://stackoverflow.com/users/753720/brandt"}, "edited": false, "score": 0, "creation_date": 1422494407, "post_id": 28205328, "comment_id": 44776616, "body": "Thanks for answering. I should have mentioned that I don&#39;t want to use Spark SQL, I want to use a non-SQL processing pipeline like in the  question you referenced. I will update my original question. The answer to the question you referenced appears to be in Scala, not Python. Thanks again for your help though!"}, {"owner": {"reputation": 1223, "user_id": 3663881, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0fc90d3b5f5aa0c11a37fc9b1f546a2a?s=128&d=identicon&r=PG", "display_name": "tgpfeiffer", "link": "https://stackoverflow.com/users/3663881/tgpfeiffer"}, "reply_to_user": {"reputation": 485, "user_id": 753720, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd3954e69828863154019655bd66c842?s=128&d=identicon&r=PG", "display_name": "Brandt", "link": "https://stackoverflow.com/users/753720/brandt"}, "edited": false, "score": 1, "creation_date": 1422496735, "post_id": 28205328, "comment_id": 44777143, "body": "Right, it&#39;s in Scala, but the idea can be applied to your problem: Load the input data set using <code>sparkContext.textFile()</code> (which actually <a href=\"http://stackoverflow.com/questions/16302385/gzip-support-in-spark\">seems to support gzipped files</a>), then parse the string lines with a parser of your choice (such as <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow noreferrer\">the json module</a>), then process as you wish."}, {"owner": {"reputation": 485, "user_id": 753720, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd3954e69828863154019655bd66c842?s=128&d=identicon&r=PG", "display_name": "Brandt", "link": "https://stackoverflow.com/users/753720/brandt"}, "edited": false, "score": 0, "creation_date": 1422555626, "post_id": 28205328, "comment_id": 44806641, "body": "Thanks, this worked! The key step was using the map function on json.loads. I&#39;ll post exactly what I did as an answer. Thanks a lot for your help."}], "tags": [], "owner": {"reputation": 1223, "user_id": 3663881, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0fc90d3b5f5aa0c11a37fc9b1f546a2a?s=128&d=identicon&r=PG", "display_name": "tgpfeiffer", "link": "https://stackoverflow.com/users/3663881/tgpfeiffer"}, "is_accepted": false, "score": 2, "last_activity_date": 1422493193, "last_edit_date": 1495541788, "creation_date": 1422493193, "answer_id": 28205328, "question_id": 28203217, "link": "https://stackoverflow.com/questions/28203217/how-to-load-directory-of-json-files-into-apache-spark-in-python/28205328#28205328", "title": "How to load directory of JSON files into Apache Spark in Python", "body": "<p>You can use <a href=\"https://spark.apache.org/docs/1.1.0/sql-programming-guide.html#json-datasets\" rel=\"nofollow noreferrer\">sqlContext.jsonFile()</a> to get a SchemaRDD (which is an RDD[Row] plus a schema) that can then be used with Spark SQL. Or see <a href=\"https://stackoverflow.com/questions/27930421/loading-json-dataset-into-spark-then-use-filter-map-etc/27934217#27934217\">Loading JSON dataset into Spark, then use filter, map, etc</a> for a non-SQL processing pipeline. I think you may have to unzip the files, and also Spark can only work with files where each line is a single JSON document (i.e., no multiline objects possible).</p>\n"}, {"tags": [], "owner": {"reputation": 2677, "user_id": 1699432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQW49.gif?s=128&g=1", "display_name": "pzecevic", "link": "https://stackoverflow.com/users/1699432/pzecevic"}, "is_accepted": false, "score": 1, "last_activity_date": 1422517929, "creation_date": 1422517929, "answer_id": 28209497, "question_id": 28203217, "link": "https://stackoverflow.com/questions/28203217/how-to-load-directory-of-json-files-into-apache-spark-in-python/28209497#28209497", "title": "How to load directory of JSON files into Apache Spark in Python", "body": "<p>You can load a directory of files into a single RDD using textFile and it also supports wildcards. That wouldn't give you file names, but you don't seem to need them.</p>\n\n<p>You can use Spark SQL while using basic transformations like map, filter etc. SchemaRDD is also an RDD (in Python, as well as Scala)</p>\n"}, {"tags": [], "owner": {"reputation": 485, "user_id": 753720, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd3954e69828863154019655bd66c842?s=128&d=identicon&r=PG", "display_name": "Brandt", "link": "https://stackoverflow.com/users/753720/brandt"}, "is_accepted": true, "score": 5, "last_activity_date": 1468858873, "last_edit_date": 1468858873, "creation_date": 1422556041, "answer_id": 28221926, "question_id": 28203217, "link": "https://stackoverflow.com/questions/28203217/how-to-load-directory-of-json-files-into-apache-spark-in-python/28221926#28221926", "title": "How to load directory of JSON files into Apache Spark in Python", "body": "<p>Following what tgpfeiffer mentioned in their answer and comment, here's what I did.</p>\n\n<p>First, as they mentioned, the JSON files had to be formatted so they had one dictionary per line rather than a single list of dictionaries. Then, it was as simple as:</p>\n\n<pre><code>my_RDD_strings = sc.textFile(path_to_dir_with_JSON_files)\nmy_RDD_dictionaries = my_RDD_strings.map(json.loads)\n</code></pre>\n\n<p>If there's a better or more efficient way to do this, please let me know, but this seems to work. </p>\n"}, {"tags": [], "owner": {"reputation": 826, "user_id": 1625699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8906512fc9ca61bf8ba547ec135dc0ce?s=128&d=identicon&r=PG", "display_name": "Supritha P", "link": "https://stackoverflow.com/users/1625699/supritha-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1512748131, "last_edit_date": 1512748131, "creation_date": 1474465803, "answer_id": 39618513, "question_id": 28203217, "link": "https://stackoverflow.com/questions/28203217/how-to-load-directory-of-json-files-into-apache-spark-in-python/39618513#39618513", "title": "How to load directory of JSON files into Apache Spark in Python", "body": "<p>To load list of Json from a file as <code>RDD</code>:</p>\n\n<pre><code>def flat_map_json(x): return [each for each in json.loads(x[1])]   \nrdd = sc.wholeTextFiles('example.json').flatMap(flat_map_json)\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 753720, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cd3954e69828863154019655bd66c842?s=128&d=identicon&r=PG", "display_name": "Brandt", "link": "https://stackoverflow.com/users/753720/brandt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15790, "favorite_count": 3, "accepted_answer_id": 28221926, "answer_count": 4, "score": 8, "last_activity_date": 1512748131, "creation_date": 1422482351, "last_edit_date": 1422494468, "question_id": 28203217, "link": "https://stackoverflow.com/questions/28203217/how-to-load-directory-of-json-files-into-apache-spark-in-python", "title": "How to load directory of JSON files into Apache Spark in Python", "body": "<p>I'm relatively new to Apache Spark, and I want to create a single RDD in Python from lists of dictionaries that are saved in multiple JSON files (each is gzipped and contains a list of dictionaries). The resulting RDD would then, roughly speaking, contain all of the lists of dictionaries combined into a single list of dictionaries. I haven't been able to find this in the documentation (<a href=\"https://spark.apache.org/docs/1.2.0/api/python/pyspark.html\">https://spark.apache.org/docs/1.2.0/api/python/pyspark.html</a>), but if I missed it please let me know. </p>\n\n<p>So far I tried reading the JSON files and creating the combined list in Python, then using sc.parallelize(), however the entire dataset is too large to fit in memory so this is not a practical solution. It seems like Spark would have a smart way of handling this use case, but I'm not aware of it. </p>\n\n<p>How can I create a single RDD in Python comprising the lists in all of the JSON files?</p>\n\n<p>I should also mention that I do not want to use Spark SQL. I'd like to use functions like map, filter, etc., if that's possible.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1422482401, "post_id": 28203200, "comment_id": 44772519, "body": "Could you offer a more useful description of the problem than <i>&quot;not working&quot;</i>?"}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 1, "creation_date": 1422482543, "post_id": 28203200, "comment_id": 44772584, "body": "You must&#39;n use <code>amino_acid[a]</code>, just use <code>a</code>. The <code>for</code> loop iterates over the values of the array, so <code>a</code> will be <code>&#39;C&#39;</code>, <code>&#39;D&#39;</code>, ..."}, {"owner": {"reputation": 26120, "user_id": 219883, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c35b5b0f9e7cce48864f4f1545ead995?s=128&d=identicon&r=PG", "display_name": "Taryn East", "link": "https://stackoverflow.com/users/219883/taryn-east"}, "edited": false, "score": 0, "creation_date": 1422482855, "post_id": 28203200, "comment_id": 44772745, "body": "yeah, &quot;not working&quot; isn&#39;t so grand... give us an example of the output, including any error messages, along with what you expected the output to be. (edit your question and add it there, don&#39;t just tell us in the comments)"}, {"owner": {"reputation": 6811, "user_id": 163809, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/8LugB.jpg?s=128&g=1", "display_name": "Stedy", "link": "https://stackoverflow.com/users/163809/stedy"}, "edited": false, "score": 0, "creation_date": 1422484801, "post_id": 28203200, "comment_id": 44773575, "body": "You should check out <a href=\"http://biopython.org/wiki/Main_Page\" rel=\"nofollow noreferrer\">biopython</a>, they have lots of great code for doing these types of analyses"}, {"owner": {"reputation": 7318, "user_id": 1985171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e2b13105c9258cc05eb79028857608dc?s=128&d=identicon&r=PG", "display_name": "Javier Castellanos", "link": "https://stackoverflow.com/users/1985171/javier-castellanos"}, "edited": false, "score": 0, "creation_date": 1422484935, "post_id": 28203200, "comment_id": 44773614, "body": "I smell homework...."}], "answers": [{"comments": [{"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 1, "creation_date": 1422482784, "post_id": 28203280, "comment_id": 44772704, "body": "You could compare the <code>Counter</code>s keys with your <code>amino_acid</code> list (using <code>set</code>s, because order is irrelevant)."}], "tags": [], "owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "is_accepted": false, "score": 2, "last_activity_date": 1422482581, "creation_date": 1422482581, "answer_id": 28203280, "question_id": 28203200, "link": "https://stackoverflow.com/questions/28203200/issues-with-calculating-amino-acid-frequency/28203280#28203280", "title": "Issues with calculating amino acid frequency", "body": "<p>It's worth going into some more detail on the problem you're trying to solve, but based on the gist you provided above I'm pretty certain what you're looking for is a <code>Counter</code> object.</p>\n\n<p>Specifically:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import Counter:\n&gt;&gt;&gt; test = Counter(\"\"\"MKLFWLLFTIGFCWAQYSSNTQQGRTSIVHLFEWRWVDIALECERYLAPKGFGGVQVSPPNENVAIHNPFRPWWERYQPVSYKLCTRSGNEDEFRNMVTRCNNVGVRIYVDAVINHMCGNAVSAGTSSTCGSYFNPGSRDFPAVPYSGWDFNDGKCKTGSGDIENYNDATQVRDCRLSGLLDLALGKDYVRSKIAEYMNHLIDIGVAGFRIDASKHMWPGDIKAILDKLHNLNSNWFPEGSKPFIYQEVIDLGGEPIKSSDYFGNGRVTEFKYGAKLGTVIRKWNGEKMSYLKNWGEGWGFMPSDRALVFVDNHDNQRGHGAGGASILTFWDARLYKMAVGFMLAHPYGFTRVMSSYRWPRYFENGKDVNDWVGPPNDNGVTKEVTINPDTTCGNDWVCEHRWRQIRNMVNFRNVVDGQPFTNWYDNGSNQVAFGRGNRGFIVFNNDDWTFSLTLQTGLPAGTYCDVISGDKINGNCTGIKIYVSDDGKAHFSISNSAEDPFIAIHAESKL\"\"\")\n&gt;&gt;&gt; test\nCounter({'G': 52, 'N': 41, 'D': 35, 'V': 35, 'S': 33, 'F': 29, 'I': 28, 'R': 28, 'A': 27, 'L': 27, 'K': 24, 'T': 23, 'P': 22, 'Y': 21, 'E': 20, 'W': 19, 'C': 12, 'H': 12, 'Q': 12, 'M': 11})\n</code></pre>\n\n<p>which should be enough for you to go on. Let me know if you have any questions. Trying not to fully spoonfeed the answer though.</p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 3945242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693ba9ce6901e293955d1f968cffca4c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/3945242/jimmy"}, "is_accepted": false, "score": 0, "last_activity_date": 1422484685, "creation_date": 1422484685, "answer_id": 28203792, "question_id": 28203200, "link": "https://stackoverflow.com/questions/28203200/issues-with-calculating-amino-acid-frequency/28203792#28203792", "title": "Issues with calculating amino acid frequency", "body": "\n\n<pre><code>protein = \"\"\"MKLFWLLFTIGFCWAQYSSNTQQGRTSIVHLFEWRWVDIALECERYLAPKGFGGVQVSPPNENVAIHNPFRPWWERYQPVSYKLCTRSGNEDEFRNMVTRCNNVGVRIYVDAVINHMCGNAVSAGTSSTCGSYFNPGSRDFPAVPYSGWDFNDGKCKTGSGDIENYNDATQVRDCRLSGLLDLALGKDYVRSKIAEYMNHLIDIGVAGFRIDASKHMWPGDIKAILDKLHNLNSNWFPEGSKPFIYQEVIDLGGEPIKSSDYFGNGRVTEFKYGAKLGTVIRKWNGEKMSYLKNWGEGWGFMPSDRALVFVDNHDNQRGHGAGGASILTFWDARLYKMAVGFMLAHPYGFTRVMSSYRWPRYFENGKDVNDWVGPPNDNGVTKEVTINPDTTCGNDWVCEHRWRQIRNMVNFRNVVDGQPFTNWYDNGSNQVAFGRGNRGFIVFNNDDWTFSLTLQTGLPAGTYCDVISGDKINGNCTGIKIYVSDDGKAHFSISNSAEDPFIAIHAESKL\"\"\" #exchange sequence for unique analysis\namino_acid = ['C', 'D', 'S', 'Q', 'K', 'P', 'T', 'F', 'A', 'X', 'G', 'I', 'E', 'L', 'H', 'R', 'W', 'M', 'N', 'Y', 'V']\ncounts = {}\nfor amino in amino_acid: counts[amino] = 0\ntotal = 0\nfor a in amino_acid:\n    if a in protein:\n        counts[a] = protein.count(a)\n        fraction = float(counts[a]) / float(len(protein))\n        percent = fraction * 100\n        print \"Percentage of \" + a + \" is:  %.2f%%\" % percent\n        total += percent\n    else:\n        print \"Percentage of \" + a + \" is:  0.0%\" \nprint 'Total: ', str(total) + '%'\nprint 'Amino Acid Counts: ', counts\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4504988, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/68dd8de17b7c83b869ccd91e96f0c1f1?s=128&d=identicon&r=PG&f=1", "display_name": "eric", "link": "https://stackoverflow.com/users/4504988/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1891, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1433312023, "creation_date": 1422482285, "last_edit_date": 1422483112, "question_id": 28203200, "link": "https://stackoverflow.com/questions/28203200/issues-with-calculating-amino-acid-frequency", "title": "Issues with calculating amino acid frequency", "body": "<p>I am writing a program to determine the percentage of each amino acid in a given sequence. I was trying to make it useful for any sequence by making it output both the percentage of each amino acid and telling me which amino acids from a dictionary aren't present. I'm having some difficulties here and would really appreciate some guidance.</p>\n\n<p>So more elaboration is i am trying to make it so the output shows the percentage of each amino acid in the provided string, including those that aren't in the string.</p>\n\n<p>Here is my current code:</p>\n\n<pre><code>protein = \"\"\"MKLFWLLFTIGFCWAQYSSNTQQGRTSIVHLFEWRWVDIALECERYLAPKGFGGVQVSPPNENVAIHNPFRPWWERYQPVSYKLCTRSGNEDEFRNMVTRCNNVGVRIYVDAVINHMCGNAVSAGTSSTCGSYFNPGSRDFPAVPYSGWDFNDGKCKTGSGDIENYNDATQVRDCRLSGLLDLALGKDYVRSKIAEYMNHLIDIGVAGFRIDASKHMWPGDIKAILDKLHNLNSNWFPEGSKPFIYQEVIDLGGEPIKSSDYFGNGRVTEFKYGAKLGTVIRKWNGEKMSYLKNWGEGWGFMPSDRALVFVDNHDNQRGHGAGGASILTFWDARLYKMAVGFMLAHPYGFTRVMSSYRWPRYFENGKDVNDWVGPPNDNGVTKEVTINPDTTCGNDWVCEHRWRQIRNMVNFRNVVDGQPFTNWYDNGSNQVAFGRGNRGFIVFNNDDWTFSLTLQTGLPAGTYCDVISGDKINGNCTGIKIYVSDDGKAHFSISNSAEDPFIAIHAESKL\"\"\" #exchange sequence for unique analysis\namino_acid = ['C', 'D', 'S', 'Q', 'K', 'P', 'T', 'F', 'A', 'X', 'G', 'I', 'E', 'L', 'H', 'R', 'W', 'M', 'N', 'Y', 'V']\nfor a in amino_acid:\n    if a in protein:\n        print \"Percentage of\" + amino_acid[a] + \"is\" + ((protein.count(a)) * 100 / len(protein))\n    else:\n        print amino_acid[a] + \"is not in sequence\"\n</code></pre>\n\n<p>This is what I did before which worked but wouldn't show the amino acids that don't appear at all (0%)</p>\n\n<pre><code>from collections import Counter\nsequence = \"MKLFWLLFTIGFCWAQYSSNTQQGRTSIVHLFEWRWVDIALECERYLAPKGFGGVQVSPPNENVAIHNPFRPWWERYQPVSYKLCTRSGNEDEFRNMVTRCNNVGVRIYVDAVINHMCGNAVSAGTSSTCGSYFNPGSRDFPAVPYSGWDFNDGKCKTGSGDIENYNDATQVRDCRLSGLLDLALGKDYVRSKIAEYMNHLIDIGVAGFRIDASKHMWPGDIKAILDKLHNLNSNWFPEGSKPFIYQEVIDLGGEPIKSSDYFGNGRVTEFKYGAKLGTVIRKWNGEKMSYLKNWGEGWGFMPSDRALVFVDNHDNQRGHGAGGASILTFWDARLYKMAVGFMLAHPYGFTRVMSSYRWPRYFENGKDVNDWVGPPNDNGVTKEVTINPDTTCGNDWVCEHRWRQIRNMVNFRNVVDGQPFTNWYDNGSNQVAFGRGNRGFIVFNNDDWTFSLTLQTGLPAGTYCDVISGDKINGNCTGIKIYVSDDGKAHFSISNSAEDPFIAIHAESKL\" #exchange sequence for unique analysis\ncounts = Counter(sequence)\nlength = len(sequence)\ndictionary = dict(counts)\namino_acids = list(dictionary)\nfreq = dictionary.values()\npercentage = []\nfor item in freq:\n    percentage.append(((item)/float(length))*100)\nprint \"The percentage of each amino acid in the provided sequence are shown below:\"\nprint str(zip(amino_acids, percentage))\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1422482077, "post_id": 28203126, "comment_id": 44772347, "body": "<i>&quot;it&#39;s a giant string being passed as an argument&quot;</i> - then put it in quotes."}, {"owner": {"reputation": 3392, "user_id": 2977876, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/HwNBq.jpg?s=128&g=1", "display_name": "whoisearth", "link": "https://stackoverflow.com/users/2977876/whoisearth"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1422482199, "post_id": 28203126, "comment_id": 44772400, "body": "same error comes with the quotes.  specifically &quot;&quot;&quot; &quot;&quot;&quot;"}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1422482253, "post_id": 28203126, "comment_id": 44772430, "body": "Why not pass the message on standard input instead of the command line?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1422482310, "post_id": 28203126, "comment_id": 44772470, "body": "You need to quote the argument in the shell; this isn&#39;t a Python issue: <code>update_wiki.py &#39;&lt;html xmlns:v=&quot;urn:...&#39;</code>."}, {"owner": {"reputation": 1548, "user_id": 3368845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wCXhp.jpg?s=128&g=1", "display_name": "EvergreenTree", "link": "https://stackoverflow.com/users/3368845/evergreentree"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1422482311, "post_id": 28203126, "comment_id": 44772471, "body": "@jwodder that and an intake file would be fine."}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 4, "creation_date": 1422482380, "post_id": 28203126, "comment_id": 44772507, "body": "If you feel the need to add a disclaimer to your question like &quot;yes it&#39;s a &lt; ridiculous thing &gt;&quot; then maybe that should indicate to you that &lt; ridiculous thing &gt; may not be the best approach. Passing large things like this on the command line successfully can get complicated because you need to handle a large number of escapes and possibly special characters, especially coming from a source like an e-mail. Consider piping it through stdin as jwodder suggested, or writing it to a temp file and just passing the file name instead."}, {"owner": {"reputation": 3392, "user_id": 2977876, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/HwNBq.jpg?s=128&g=1", "display_name": "whoisearth", "link": "https://stackoverflow.com/users/2977876/whoisearth"}, "edited": false, "score": 0, "creation_date": 1422483365, "post_id": 28203126, "comment_id": 44772968, "body": "@pkrrgwasme - unfortunately I&#39;m dealing with the constraints of other applications.  If there was another way I would definitely entertain it but as of now I can think of no other way.  If I knew a way to save this value as a string or an stdin I would but as of now it can only be passed as a raw string that I have to figure out how to consume and get &quot;into&quot; my code."}], "owner": {"reputation": 3392, "user_id": 2977876, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/HwNBq.jpg?s=128&g=1", "display_name": "whoisearth", "link": "https://stackoverflow.com/users/2977876/whoisearth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1343, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1422482682, "creation_date": 1422481975, "last_edit_date": 1422482682, "question_id": 28203126, "link": "https://stackoverflow.com/questions/28203126/python-argparse-error-unrecognized-arguments", "title": "python - argparse error: unrecognized arguments", "body": "<p>I'm trying to pass the contents of an email as an argument and it's failing I need to know how to get it to not fail out and just read it as a giant string so that I can ultimately transform the string and use elsewhere.</p>\n\n<p>script - </p>\n\n<pre><code>import sys\nimport argparse\n\nparser = argparse.ArgumentParser()\nparser.add_argument('message', help='message to update the wiki')\nargs = parser.parse_args()\n\nprint args.message\n</code></pre>\n\n<p>My argument is actually an email message so the actual script would be run like this (yes it's a giant string being passed as an argument) - </p>\n\n<pre><code>update_wiki.py &lt;html xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:w=\"urn:schemas-microsoft-com:office:word\" xmlns:m=\"http://schemas.microsoft.com/office/2004/12/omml\" xmlns=\"http://www.w3.org/TR/REC-html40\"&gt;&lt;head&gt;&lt;META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html; charset=us-ascii\"&gt;&lt;meta name=Generator content=\"Microsoft Word 12 (filtered medium)\"&gt;&lt;style&gt;&lt;/style&gt;&lt;/head&gt;&lt;body lang=EN-CA link=blue vlink=purple&gt;&lt;div class=WordSection1&gt;&lt;p class=MsoNormal&gt;Hello There!&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=MsoNormal&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=MsoNormal&gt;This is an update to the daily log!&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=MsoNormal&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p class=MsoNormal&gt;&lt;span style='font-size:9.0pt;font-family:\"Arial\",\"sans-serif\"'&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=MsoNormal&gt;&lt;span style='font-size:9.0pt;font-family:\"Arial\",\"sans-serif\"'&gt;________________________________________________&lt;br&gt;&lt;br&gt;&lt;b&gt;Name Name&lt;br&gt;&lt;/b&gt;Title | Dept&lt;br&gt;&lt;b&gt;COMPANY&lt;br&gt;&lt;/b&gt;Address | North Pole, CAN | H0H 0H0&lt;br&gt;T: +1 (555) 123-4567&lt;br&gt;&lt;a href=\"mailto:blah@blah.com\" target=\"_blank\"&gt;blah@blah.com&lt;/a&gt; | &lt;a href=\"http://www.blah.com/\" target=\"_blank\"&gt;www.blah.com&lt;/a&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=MsoNormal&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>edit - same error persists even if quoting the argument as \" \" or \"\"\" \"\"\"</p>\n"}, {"tags": ["python", "angularjs", "heroku", "flask"], "answers": [{"tags": [], "owner": {"reputation": 4227, "user_id": 974317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/498330cd4156ea7ef108368a69c70327?s=128&d=identicon&r=PG", "display_name": "Igor Hatarist", "link": "https://stackoverflow.com/users/974317/igor-hatarist"}, "is_accepted": false, "score": 1, "last_activity_date": 1422614291, "last_edit_date": 1422614291, "creation_date": 1422612634, "answer_id": 28233512, "question_id": 28203073, "link": "https://stackoverflow.com/questions/28203073/flask-different-static-folders-if-localhost-of-server/28233512#28233512", "title": "Flask - different static folders if localhost of server", "body": "<p>I'd just use two separate configuration files (like <code>debug.py</code> and <code>production.py</code>) with <code>STATIC_FOLDER</code> variable set for <code>app/static</code> and <code>app/dist</code> respectively.</p>\n\n<p>A <a href=\"https://www.digitalocean.com/community/tutorials/how-to-structure-large-flask-applications\" rel=\"nofollow\">How to Structure Large Flask Applications</a> suggests you to use <code>run.py</code> for debugging purposes and <code>config.py</code> for production purposes; you could separate it this way.</p>\n\n<p>It's not clear how do you use your config. Where is it located, in <code>run.py</code>?</p>\n\n<p>The simpliest example:</p>\n\n<pre><code># run-debug.py\nimport os\n\nfrom myapp import app\n\n\nif __name__ == '__main__':\n    basedir = os.path.abspath(os.path.dirname(__file__))\n    app.config['STATIC_FOLDER'] = os.path.join(basedir, 'myapp/static')\n    app.run()\n</code></pre>\n\n<p>And a <code>run-production.py</code> which is basically the same, but with just the path changed (set to <code>'myapp/dist'</code>). Please note that I made it just for testing purposes; you should feed a heroku's gunicorn server with an app object to deploy, so there would be a <code>\"deploy-heroku.py\"</code> file, which contains something like that:</p>\n\n<pre><code>from myapp import app  # import flask's app object\napp.config['STATIC_FOLDER']  = 'myapp/dist'  # set the STATIC_FOLDER parameter to whatever you need in a Heroku instance\n</code></pre>\n\n<p>and then, in Heroku's gunicorn/procfile config, link it to the deploy-heroku's app object, which has <code>STATIC_FOLDER</code> overridden.</p>\n\n<p>I'm also not sure that you assign <code>STATIC_FOLDER</code> configuration parameter properly.\nYou do:</p>\n\n<pre><code>app.static_folder = STATIC_FOLDER\n</code></pre>\n\n<p>and then you try to get it from <code>app.config['STATIC_FOLDER']</code>. It may be a reason it doesn't work. Perhaps try writing directly to the <code>app.config['STATIC_FOLDER']</code> itself?</p>\n"}], "owner": {"reputation": 111, "user_id": 3942270, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4a237112142078069e377c5dc7bf797b?s=128&d=identicon&r=PG", "display_name": "J&#250;lia Rizza", "link": "https://stackoverflow.com/users/3942270/j%c3%balia-rizza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422614291, "creation_date": 1422481817, "question_id": 28203073, "link": "https://stackoverflow.com/questions/28203073/flask-different-static-folders-if-localhost-of-server", "title": "Flask - different static folders if localhost of server", "body": "<p>I'm using Flask and deploying my app on Heroku. My app directory is like this:</p>\n\n<pre><code>myapp/\n    app/\n        static/\n        dist/\n        __init__.py\n    run.py\n</code></pre>\n\n<p>But I'm working with grunt and angular.js, then when I'm developing I want to use the static folder and when I deploy I want to use the dist folder.</p>\n\n<p><strong>routes</strong>\n</p>\n\n<pre><code>@app.route('/')\ndef root():\n    return send_from_directory(app.config['STATIC_FOLDER'], 'index.html')\n</code></pre>\n\n<p><strong>config</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>with app.test_request_context('/'):\n    host = request.host\n\nif host == 'localhost' or host == '127.0.0.1':\n    STATIC_FOLDER = os.path.join(basedir, 'app/static')\n    app.static_folder = STATIC_FOLDER\nelse:\n    STATIC_FOLDER = os.path.join(basedir, 'app/dist')\n    app.static_folder = STATIC_FOLDER\n</code></pre>\n\n<p>Trying it like this doesn't work. It still uses the index.html that is inside the static folder and not the one which is inside dist folder.</p>\n"}, {"tags": ["python", "django", "rest", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "edited": false, "score": 8, "creation_date": 1445334876, "post_id": 28206314, "comment_id": 54270165, "body": "I tried your solution but the query parameters do not show up neither for the default HTML API documentation nor for <a href=\"https://github.com/marcgibbons/django-rest-swagger/\" rel=\"nofollow noreferrer\"><i>rest_framework_swagger</i></a>."}, {"owner": {"reputation": 2367, "user_id": 3076091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CrUBz.jpg?s=128&g=1", "display_name": "dnit13", "link": "https://stackoverflow.com/users/3076091/dnit13"}, "edited": false, "score": 5, "creation_date": 1462525307, "post_id": 28206314, "comment_id": 61681943, "body": "<b>NOTE</b> This works for swagger but not for rest_framework_docs"}, {"owner": {"reputation": 3198, "user_id": 1658975, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4FKr5.png?s=128&g=1", "display_name": "Ryu_hayabusa", "link": "https://stackoverflow.com/users/1658975/ryu-hayabusa"}, "reply_to_user": {"reputation": 2367, "user_id": 3076091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CrUBz.jpg?s=128&g=1", "display_name": "dnit13", "link": "https://stackoverflow.com/users/3076091/dnit13"}, "edited": false, "score": 0, "creation_date": 1481915626, "post_id": 28206314, "comment_id": 69581731, "body": "@dnit13 There is markdown support in DRF docs, but not released yet,   pepole can still use it with a custom templatetag and a template override. <a href=\"https://github.com/manosim/django-rest-framework-docs/pull/127/files#diff-22988fe5403ab4a34d522ff6fb4bb436\" rel=\"nofollow noreferrer\">github.com/manosim/django-rest-framework-docs/pull/127/&hellip;</a>"}, {"owner": {"reputation": 5278, "user_id": 377628, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/FJNBe.jpg?s=128&g=1", "display_name": "Hassan", "link": "https://stackoverflow.com/users/377628/hassan"}, "reply_to_user": {"reputation": 2367, "user_id": 3076091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CrUBz.jpg?s=128&g=1", "display_name": "dnit13", "link": "https://stackoverflow.com/users/3076091/dnit13"}, "edited": false, "score": 0, "creation_date": 1496527410, "post_id": 28206314, "comment_id": 75700320, "body": "@dnit13 Do you know of a way to get this functionality through DRF docs?"}, {"owner": {"reputation": 26172, "user_id": 2023392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65e1ee6b43149bbfb6d80ce8edb6e425?s=128&d=identicon&r=PG", "display_name": "radtek", "link": "https://stackoverflow.com/users/2023392/radtek"}, "edited": false, "score": 0, "creation_date": 1540142629, "post_id": 28206314, "comment_id": 92745726, "body": "For Django rest swagger 2+, use vadimchin answer"}], "tags": [], "owner": {"reputation": 829, "user_id": 1261520, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/50f18d44d8cddf3281b79bb228b2da42?s=128&d=identicon&r=PG", "display_name": "dajee", "link": "https://stackoverflow.com/users/1261520/dajee"}, "is_accepted": true, "score": 22, "last_activity_date": 1422500447, "creation_date": 1422500447, "answer_id": 28206314, "question_id": 28203070, "link": "https://stackoverflow.com/questions/28203070/how-to-show-query-parameter-options-in-django-rest-framework-swagger/28206314#28206314", "title": "How to show query parameter options in Django REST Framework - Swagger", "body": "<p>Okay, for those who stumble upon this question, I have figured it out. It is rather silly, and I feel a little stupid for not knowing, but in my defense, it was not clearly documented. The information was not found in DRF documentation, or inside Django REST Swagger repository. Instead it was found under django-rest-framework-docs, which is what Django REST Swagger is built off of.</p>\n\n<p>To specify your query parameter to show up in your SwaggerUI as a form field, you simply comment like so:</p>\n\n<pre><code>def list(self):\n    \"\"\"\n    param1 -- A first parameter\n    param2 -- A second parameter\n    \"\"\" \n    ...\n</code></pre>\n\n<p>And swagger will parse your comments and will put a form input for param1 and param2. What follows <code>--</code> are the descriptions for the parameters.</p>\n"}, {"comments": [{"owner": {"reputation": 1216, "user_id": 2310396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1158ab476fc9f5b7cbeda775265b488?s=128&d=identicon&r=PG", "display_name": "Xiao Hanyu", "link": "https://stackoverflow.com/users/2310396/xiao-hanyu"}, "edited": false, "score": 0, "creation_date": 1443186298, "post_id": 28468879, "comment_id": 53404320, "body": "FYI, there&#39;s a bug in django-rest-swagger==0.3.4, check <a href=\"https://github.com/marcgibbons/django-rest-swagger/issues/303\" rel=\"nofollow noreferrer\">github.com/marcgibbons/django-rest-swagger/issues/303</a> . you should replace <code>list</code> with HTTP method names such as <code>GET</code> in your example."}], "tags": [], "owner": {"reputation": 1597, "user_id": 1889075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54e674097ba1ddd56acb465223af03d?s=128&d=identicon&r=PG", "display_name": "soooooot", "link": "https://stackoverflow.com/users/1889075/soooooot"}, "is_accepted": false, "score": 13, "last_activity_date": 1436170361, "last_edit_date": 1436170361, "creation_date": 1423712497, "answer_id": 28468879, "question_id": 28203070, "link": "https://stackoverflow.com/questions/28203070/how-to-show-query-parameter-options-in-django-rest-framework-swagger/28468879#28468879", "title": "How to show query parameter options in Django REST Framework - Swagger", "body": "<p>I found the <a href=\"http://django-rest-swagger.readthedocs.org/en/latest/yaml.html\">rest framework swagger docs</a>.\nso we can write the parameter type(interger, char), response, etc.</p>\n\n<p>the tripple <code>---</code> is necessary.</p>\n\n<pre><code>@api_view([\"POST\"])\ndef foo_view(request):\n    \"\"\"\n    Your docs\n    ---\n    # YAML (must be separated by `---`)\n\n    type:\n      name:\n        required: true\n        type: string\n      url:\n        required: false\n        type: url\n      created_at:\n        required: true\n        type: string\n        format: date-time\n\n    serializer: .serializers.FooSerializer\n    omit_serializer: false\n\n    parameters_strategy: merge\n    omit_parameters:\n        - path\n    parameters:\n        - name: name\n          description: Foobar long description goes here\n          required: true\n          type: string\n          paramType: form\n        - name: other_foo\n          paramType: query\n        - name: other_bar\n          paramType: query\n        - name: avatar\n          type: file\n\n    responseMessages:\n        - code: 401\n          message: Not authenticated\n    \"\"\"\n</code></pre>\n\n<p>How about the situation we use the mixins class such as <code>ModelViewSets</code>.\nDo we need to define the <code>list</code> function just to add the docs? \n-- No</p>\n\n<p>We can do like this:</p>\n\n<pre><code>class ArticleViewSet(viewsets.ModelViewSet):\n\n    \"\"\"\n    Articles.\n    ---\n    list:    #&lt;--- here!!\n        parameters:\n            - name: name\n              description: article title\n    get_price:\n        omit_serializer: true\n\n    \"\"\"\n\n    @list_route(methods=['get'])\n    def get_price(self, request):\n        pass\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 885, "user_id": 2007842, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/71caf81afa14431834bbb3e9905b7984?s=128&d=identicon&r=PG", "display_name": "Erika", "link": "https://stackoverflow.com/users/2007842/erika"}, "edited": false, "score": 6, "creation_date": 1485357391, "post_id": 41804036, "comment_id": 70893934, "body": "In Django rest swagger 2 this is the relevant answer, since docstrings are deprecated."}, {"owner": {"reputation": 1123, "user_id": 1351668, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/150efa736d1922c5db1569cf16987655?s=128&d=identicon&r=PG", "display_name": "jarussi", "link": "https://stackoverflow.com/users/1351668/jarussi"}, "edited": false, "score": 2, "creation_date": 1507128095, "post_id": 41804036, "comment_id": 80089136, "body": "I had to add a method <code>filter_queryset(self, request, queryset, view)</code> that does nothing because teh <code>BaseFilterBackend</code> will raise <code>NotImplementedError</code> when it tries to filter the queryset."}, {"owner": {"reputation": 459, "user_id": 5077059, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152794193765771/picture?type=large", "display_name": "L&#233;o Chaz Maltrait", "link": "https://stackoverflow.com/users/5077059/l%c3%a9o-chaz-maltrait"}, "reply_to_user": {"reputation": 1123, "user_id": 1351668, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/150efa736d1922c5db1569cf16987655?s=128&d=identicon&r=PG", "display_name": "jarussi", "link": "https://stackoverflow.com/users/1351668/jarussi"}, "edited": false, "score": 0, "creation_date": 1521368003, "post_id": 41804036, "comment_id": 85693097, "body": "@jarussi you need to import BaseFilterBackend  <code>from rest_framework.filters import BaseFilterBackend</code> should do the work. You also need <code>pip install coreapi</code>. Thanks @vadimchin, worked for me."}, {"owner": {"reputation": 61, "user_id": 2537602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0093e23efc747a3400d22fc4f075cb6?s=128&d=identicon&r=PG", "display_name": "user2537602", "link": "https://stackoverflow.com/users/2537602/user2537602"}, "edited": false, "score": 0, "creation_date": 1592567099, "post_id": 41804036, "comment_id": 110478367, "body": "How do I do this for adding option GET parameters to function based api views?"}], "tags": [], "owner": {"reputation": 1377, "user_id": 1798369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSLzQ.png?s=128&g=1", "display_name": "vadimchin", "link": "https://stackoverflow.com/users/1798369/vadimchin"}, "is_accepted": false, "score": 32, "last_activity_date": 1540142586, "last_edit_date": 1540142586, "creation_date": 1485167127, "answer_id": 41804036, "question_id": 28203070, "link": "https://stackoverflow.com/questions/28203070/how-to-show-query-parameter-options-in-django-rest-framework-swagger/41804036#41804036", "title": "How to show query parameter options in Django REST Framework - Swagger", "body": "<p>New swagger</p>\n\n<pre><code>from rest_framework.filters import BaseFilterBackend\nimport coreapi\n\nclass SimpleFilterBackend(BaseFilterBackend):\n    def get_schema_fields(self, view):\n        return [coreapi.Field(\n            name='query',\n            location='query',\n            required=False,\n            type='string'\n        )]\n\nclass MyViewSet(viewsets.ViewSet):\n    filter_backends = (SimpleFilterBackend,)\n\n    def list(self, request, *args, **kwargs):\n        # print(request.GET.get('query'))  # Use the query param in your view\n        return Response({'hello': 'world'}, status.HTTP_200_OK)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 337, "user_id": 4808588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xhHUfIrXF48/AAAAAAAAAAI/AAAAAAAAB44/fsLRFbbhwzU/photo.jpg?sz=128", "display_name": "Sean Chon", "link": "https://stackoverflow.com/users/4808588/sean-chon"}, "edited": false, "score": 0, "creation_date": 1533682944, "post_id": 51717375, "comment_id": 90433715, "body": "I&#39;ve discovered another little trick. You can derive the field&#39;s actual type from the model and tie it to the <code>coreapi.Field</code> <code>type</code> using <code>type=view.serializer_class.Meta.model._meta.get_field(field)&zwnj;&#8203;.get_internal_type()</code> if you want it to reflect the actual field type instead of showing it in the Swagger docs as the default &#39;string&#39;."}], "tags": [], "owner": {"reputation": 337, "user_id": 4808588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xhHUfIrXF48/AAAAAAAAAAI/AAAAAAAAB44/fsLRFbbhwzU/photo.jpg?sz=128", "display_name": "Sean Chon", "link": "https://stackoverflow.com/users/4808588/sean-chon"}, "is_accepted": false, "score": 1, "last_activity_date": 1533602918, "creation_date": 1533602918, "answer_id": 51717375, "question_id": 28203070, "link": "https://stackoverflow.com/questions/28203070/how-to-show-query-parameter-options-in-django-rest-framework-swagger/51717375#51717375", "title": "How to show query parameter options in Django REST Framework - Swagger", "body": "<p>Disclaimer: I am using <code>django_filters</code>, so results may vary. <code>django_filters</code> uses the param <code>filter_fields</code> in the DRF ViewSet, which may be different than not using <code>django_filters</code>.</p>\n\n<p>I took inspiration from <a href=\"https://github.com/marcgibbons/django-rest-swagger/issues/549#issuecomment-324537814\" rel=\"nofollow noreferrer\">this thread</a> and overrode the <code>get_schema_fields()</code> method in the filtering backend in the following way.</p>\n\n<p>settings.py</p>\n\n<pre><code>REST_FRAMEWORK = {\n    ...\n    'DEFAULT_FILTER_BACKENDS': ('location.of.custom_backend.CustomDjangoFilterBackend')\n    ...\n}\n</code></pre>\n\n<p>custom_backend.py</p>\n\n<pre><code>import coreapi\nimport coreschema\nfrom django_filters.rest_framework import DjangoFilterBackend\n\n\nclass CustomDjangoFilterBackend(DjangoFilterBackend):\n    \"\"\"\n    Overrides get_schema_fields() to show filter_fields in Swagger.\n    \"\"\"\n\n    def get_schema_fields(self, view):\n        assert (\n            coreapi is not None\n        ), \"coreapi must be installed to use `get_schema_fields()`\"\n        assert (\n            coreschema is not None\n        ), \"coreschema must be installed to use `get_schema_fields()`\"\n\n        # append filter fields to existing fields\n        fields = super().get_schema_fields(view)\n        if hasattr(view, \"filter_fields\"):\n            fields += view.filter_fields\n\n        return [\n            coreapi.Field(\n                name=field,\n                location='query',\n                required=False,\n                type='string',\n            ) for field in fields\n        ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 408, "user_id": 5934971, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/681975301945404/picture?type=large", "display_name": "Christopher", "link": "https://stackoverflow.com/users/5934971/christopher"}, "edited": false, "score": 0, "creation_date": 1575869642, "post_id": 56049223, "comment_id": 104696793, "body": "Hi sir, can we use this on detailed routes?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11471297"}, "is_accepted": false, "score": 0, "last_activity_date": 1557350515, "creation_date": 1557350515, "answer_id": 56049223, "question_id": 28203070, "link": "https://stackoverflow.com/questions/28203070/how-to-show-query-parameter-options-in-django-rest-framework-swagger/56049223#56049223", "title": "How to show query parameter options in Django REST Framework - Swagger", "body": "<p>Elaborating on the answers above from @vadimchin - here is a working example.</p>\n\n<pre><code># requirements.txt\n\ndjangorestframework==3.9.3\ndjango-rest-swagger==2.2.0\ndjango==2.2.1\ncoreapi==2.3.3\n</code></pre>\n\n<p>I am using Viewsets in my application. I had to implement <code>filter_queryset(self, request, queryset, view)</code> as suggested by @jarussi.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># models.py\n\nfrom django.db import models \n\nclass Recording(models.Model):\n    _id = models.AutoField(primary_key=True)\n    name = models.CharField(max_length=511)\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code># serializers.py\n\nfrom models import Recording\nfrom rest_framework import serializers\n\nclass RecordingSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Recording\n        fields = '__all__'\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code># views.py\n\nfrom rest_framework import viewsets\nfrom filters import NameFilterBackend\nfrom serializers import RecordingSerializer\n\nclass RecordingViewSet(viewsets.ModelViewSet):\n    serializer_class = RecordingSerializer\n    queryset = Recording.objects.all()\n    filter_backends = (NameFilterBackend,)\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code># filters.py \n\nfrom rest_framework.filters import BaseFilterBackend\nimport coreapi\n\nclass NameFilterBackend(BaseFilterBackend):\n    def get_schema_fields(self, view):\n        return [coreapi.Field(\n            name='name',\n            location='query',\n            required=False,\n            type='string',\n            description='name of recording'\n        )]\n\n    def filter_queryset(self, request, queryset, view):\n        try:\n            n = request.query_params['name']\n            queryset = queryset.filter(name=n)\n        except KeyError:\n            # no query parameters\n            pass\n        return queryset\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7285, "user_id": 909297, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/35df4b155ec66a3127d53459941cf8a2?s=128&d=identicon&r=PG", "display_name": "Devaroop", "link": "https://stackoverflow.com/users/909297/devaroop"}, "is_accepted": false, "score": 0, "last_activity_date": 1569494238, "creation_date": 1569494238, "answer_id": 58114960, "question_id": 28203070, "link": "https://stackoverflow.com/questions/28203070/how-to-show-query-parameter-options-in-django-rest-framework-swagger/58114960#58114960", "title": "How to show query parameter options in Django REST Framework - Swagger", "body": "<p>Please refer <a href=\"https://github.com/marcgibbons/django-rest-swagger/issues/604\" rel=\"nofollow noreferrer\">this github issue</a> which solves the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 10570, "user_id": 330911, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c0240424425f5ca75071b478c0dc29b9?s=128&d=identicon&r=PG", "display_name": "NiKo", "link": "https://stackoverflow.com/users/330911/niko"}, "is_accepted": false, "score": 2, "last_activity_date": 1586252559, "last_edit_date": 1586252559, "creation_date": 1586244204, "answer_id": 61074754, "question_id": 28203070, "link": "https://stackoverflow.com/questions/28203070/how-to-show-query-parameter-options-in-django-rest-framework-swagger/61074754#61074754", "title": "How to show query parameter options in Django REST Framework - Swagger", "body": "<p>Working with openapi (and not coreapi), the \"simplest\" way I found is from this <a href=\"https://github.com/encode/django-rest-framework/issues/6992#issuecomment-541711632\" rel=\"nofollow noreferrer\">core dev comment</a>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from rest_framework.schemas.openapi import AutoSchema\n\n\nclass CustomSchema(AutoSchema):\n    def get_operation(self, path, method):\n        op = super().get_operation(path, method)\n        op['parameters'].append({\n            \"name\": \"foo\",\n            \"in\": \"query\",\n            \"required\": True,\n            \"description\": \"What foo does...\",\n            'schema': {'type': 'string'}\n        })\n        return op\n\n\nclass MyViewSet(ModelViewSet):\n    schema = CustomSchema()\n\n    def get_queryset(self):\n        foo = self.request.query_params.get(\"foo\")\n        if foo:\n            self.queryset = self.queryset.filter(foo=foo)\n        return self.queryset\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155, "user_id": 1608851, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4adb11274cb21ce4e712c31c158ae90c?s=128&d=identicon&r=PG&f=1", "display_name": "saikarsis", "link": "https://stackoverflow.com/users/1608851/saikarsis"}, "is_accepted": false, "score": 0, "last_activity_date": 1612045271, "creation_date": 1612045271, "answer_id": 65973718, "question_id": 28203070, "link": "https://stackoverflow.com/questions/28203070/how-to-show-query-parameter-options-in-django-rest-framework-swagger/65973718#65973718", "title": "How to show query parameter options in Django REST Framework - Swagger", "body": "<p>If the query parameters are used in a filter backend, adding a <code>get_schema_operation_parameters</code> method is the simplest solution:</p>\n<pre><code>class SimpleFilterBackend(BaseFilterBackend):\n    def filter_queryset(self, request, queryset, view):\n        foo = request.query_params.get(&quot;foo&quot;)\n        if foo:\n            queryset = queryset.filter(foo=foo)\n        return queryset\n\n    def get_schema_operation_parameters(self, view):\n        return [{\n            &quot;name&quot;: &quot;foo&quot;,\n            &quot;in&quot;: &quot;query&quot;,\n            &quot;required&quot;: True,\n            &quot;description&quot;: &quot;What foo does...&quot;,\n            &quot;schema&quot;: {&quot;type&quot;: &quot;string&quot;}\n        }]\n\nclass MyViewSet(ModelViewSet):\n    filter_backends = [SimpleFilterBackend]\n</code></pre>\n"}], "owner": {"reputation": 829, "user_id": 1261520, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/50f18d44d8cddf3281b79bb228b2da42?s=128&d=identicon&r=PG", "display_name": "dajee", "link": "https://stackoverflow.com/users/1261520/dajee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27116, "favorite_count": 11, "accepted_answer_id": 28206314, "answer_count": 8, "score": 27, "last_activity_date": 1612045271, "creation_date": 1422481809, "question_id": 28203070, "link": "https://stackoverflow.com/questions/28203070/how-to-show-query-parameter-options-in-django-rest-framework-swagger", "title": "How to show query parameter options in Django REST Framework - Swagger", "body": "<p>This has been bugging me for a while now.</p>\n\n<p>My ultimate goal is to show query parameter options inside SwaggerUI and give a form input for each query parameter. Similar to how it is displayed when providing a serializer for POST.</p>\n\n<p>I am using a viewset which inherits from GenericViewSet and I have tried the following:</p>\n\n<ul>\n<li>provide <code>filter_fields</code> attribute </li>\n<li>provide and set <code>filter_backends</code> attribute to <code>(filters.DjangoFilterBackend,)</code></li>\n<li>provide filter_class defined inside my module. </li>\n<li>Override <code>options</code> method to provide <code>[actions][GET]</code> information</li>\n</ul>\n\n<p>Here's a small catch, I am not using any models so I don't think DjangoFilterBackend will really help me.  I am using DjangoRESTFramework to talk to an outside API, and I am simply getting JSON result back, and passing it through to the frontend layer. </p>\n\n<p>Here is a small modified snippet of my code to better explain my problem:</p>\n\n<p>views.py</p>\n\n<pre><code>class SomeViewSet(GenericViewSet):\n    # Note that I have all of these defined, but I have tried various combinations\n    filter_fields = ('query_option_1', 'query_option_2',)\n    filter_backeds = (filters.DjangoFilterBackend,)\n    filter_class = SomeFilter\n    query_metadata = some_dict\n\n    # This works when request is OPTIONS\n    def options(self, request, *args, **kwargs):\n        if self.metadata_class is None:\n            return self.http_method_not_allowed(request, *args, **kwargs)\n        data = self.metadata_class().determine_metadata(request, self)\n        data['actions']['GET'] = self.query_metadata\n        return Response(data, status=status.HTTP_200_OK)\n</code></pre>\n\n<p>filters.py</p>\n\n<pre><code>class SomeFilter(FilterSet):\n    strict = True\n    query_option_1 = django_filters.NumberFilter(name='query_option_1')\n    query_option_2 = django_filters.NumberFilter(name='query_option_2')\n\n    class Meta:\n        fields = ['query_option_1', 'query_option_2']\n</code></pre>\n\n<p>Thank you for looking, and thanks in advance for responding.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 4177, "user_id": 1710566, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/46df81dc7409d5ba5b66c0d245c9fb97?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/1710566/chris"}, "edited": false, "score": 0, "creation_date": 1422481926, "post_id": 28203066, "comment_id": 44772274, "body": "can you give an example output?"}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 2, "creation_date": 1422482146, "post_id": 28203066, "comment_id": 44772379, "body": "Just edit the question accordingly."}, {"owner": {"reputation": 254, "user_id": 4441178, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0041b7e4291f2c567b47194db6c03c5e?s=128&d=identicon&r=PG&f=1", "display_name": "Sanathana", "link": "https://stackoverflow.com/users/4441178/sanathana"}, "edited": false, "score": 0, "creation_date": 1422482338, "post_id": 28203066, "comment_id": 44772484, "body": "I am not able to explain with those huge decimal numbers, so I will just take the whole numbers and denote my output.  [85  28 7  5 7 2 3 19 144  43]. This is how my output should be like."}], "answers": [{"tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 1, "last_activity_date": 1422482548, "creation_date": 1422482548, "answer_id": 28203264, "question_id": 28203066, "link": "https://stackoverflow.com/questions/28203066/how-to-combine-lines-within-square-braces/28203264#28203264", "title": "How to combine lines within square braces?", "body": "<p>If I understand you correctly:</p>\n\n<pre><code>f = open(\"thefile.txt\")\n\nf.read(1) # read the first opening bracket\n\nnf = open(\"newfile.txt\",\"w\")\nnf.write(\"[\\n\")\n\ncurrentline = \"\"\nfor line in f:\n    currentline += line[:-1]\n    if line[-2] == \"]\":\n        if line [-3] == \"]\": #last line\"\n            nf.write(currentline[:-1])\n            break\n        nf.write(currentline + \"\\n\")\n        currentline = \"\"\nnf.write(\"\\n]\")\n</code></pre>\n"}], "owner": {"reputation": 254, "user_id": 4441178, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0041b7e4291f2c567b47194db6c03c5e?s=128&d=identicon&r=PG&f=1", "display_name": "Sanathana", "link": "https://stackoverflow.com/users/4441178/sanathana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 28203264, "answer_count": 1, "score": 0, "last_activity_date": 1422482548, "creation_date": 1422481794, "last_edit_date": 1422482473, "question_id": 28203066, "link": "https://stackoverflow.com/questions/28203066/how-to-combine-lines-within-square-braces", "title": "How to combine lines within square braces?", "body": "<p>I am having my lines in an array format. Like, </p>\n\n<pre><code>[[85.56100982   28.37353904    7.29312763    5.8686302     7.31323048\n 2.67508181    3.12201964   19.1084619   144.15708275   43.80130902]\n [........................................................         ]]\n</code></pre>\n\n<p>Likewise I have like few thousand lines. I want to combine elements within each brace into a single line. I tried using \"NWK\" (to combine n number of lines) command but the problem is the lines within the square braces throughout the files are not equal. Is there a way where I can combine elements within braces to one single lines?</p>\n\n<p>I am not able to explain with those huge decimal numbers, so I will just take the whole numbers and denote my output. </p>\n\n<p>This is how my output should be like [[85 28 7 5 7 2 3 19 144 43]</p>\n\n<pre><code>                                  [.........................]]\n</code></pre>\n"}, {"tags": ["python", "import", "module", "package"], "comments": [{"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 1, "creation_date": 1422481916, "post_id": 28203011, "comment_id": 44772268, "body": "change <code>__init__.py</code> to be <code>from utils import show</code>"}, {"owner": {"reputation": 2193, "user_id": 3634936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae8318e36b2b2419c14722874087ec8?s=128&d=identicon&r=PG&f=1", "display_name": "Eithos", "link": "https://stackoverflow.com/users/3634936/eithos"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1422482190, "post_id": 28203011, "comment_id": 44772396, "body": "@reptilicus Don&#39;t you mean <code>from .utils</code> (with the <code>.</code> relative import syntax) ?"}, {"owner": {"reputation": 13, "user_id": 4006059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52c4916664fc5371d22e619ed3bfebd?s=128&d=identicon&r=PG&f=1", "display_name": "Max Pasek", "link": "https://stackoverflow.com/users/4006059/max-pasek"}, "edited": false, "score": 0, "creation_date": 1422482975, "post_id": 28203011, "comment_id": 44772797, "body": "Thanks for quick respnse, but it didn&#39;t change much. Now the PyCharm IDE is complaining about unresolved reference to &#39;utils&#39; and the error remains."}, {"owner": {"reputation": 2193, "user_id": 3634936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae8318e36b2b2419c14722874087ec8?s=128&d=identicon&r=PG&f=1", "display_name": "Eithos", "link": "https://stackoverflow.com/users/3634936/eithos"}, "edited": false, "score": 0, "creation_date": 1422483051, "post_id": 28203011, "comment_id": 44772838, "body": "@MaxPasek Can you provide the full Traceback?"}, {"owner": {"reputation": 13, "user_id": 4006059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52c4916664fc5371d22e619ed3bfebd?s=128&d=identicon&r=PG&f=1", "display_name": "Max Pasek", "link": "https://stackoverflow.com/users/4006059/max-pasek"}, "edited": false, "score": 0, "creation_date": 1422484438, "post_id": 28203011, "comment_id": 44773442, "body": "The traceback was supposed to be here but I already found the answer. Thanks once again :)"}], "answers": [{"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1422482185, "creation_date": 1422482185, "answer_id": 28203176, "question_id": 28203011, "link": "https://stackoverflow.com/questions/28203011/python-importing-function-to-package-level/28203176#28203176", "title": "Python importing function to package level", "body": "<p>Try this:</p>\n\n<p><code>__init__.py</code></p>\n\n<pre><code>import utils\nshow = utils.show\n</code></pre>\n\n<p><code>main.py</code></p>\n\n<pre><code>from sources import show\nshow()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "is_accepted": false, "score": 0, "last_activity_date": 1422482520, "creation_date": 1422482520, "answer_id": 28203258, "question_id": 28203011, "link": "https://stackoverflow.com/questions/28203011/python-importing-function-to-package-level/28203258#28203258", "title": "Python importing function to package level", "body": "<p>As seen in comments....</p>\n\n<p>Change <code>__init__.py</code> to be </p>\n\n<pre><code>from utils import show\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44359, "user_id": 2363712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/beAJU.jpg?s=128&g=1", "display_name": "Sylvain Leroux", "link": "https://stackoverflow.com/users/2363712/sylvain-leroux"}, "is_accepted": true, "score": 1, "last_activity_date": 1422482929, "last_edit_date": 1592644375, "creation_date": 1422482570, "answer_id": 28203273, "question_id": 28203011, "link": "https://stackoverflow.com/questions/28203011/python-importing-function-to-package-level/28203273#28203273", "title": "Python importing function to package level", "body": "<p>To quote the <a href=\"https://wiki.python.org/moin/FutureProofPython#Absolute_imports\" rel=\"nofollow noreferrer\">official recommendations</a>:</p>\n<blockquote>\n<p>Python 2.x, imports are implicitly relative. For instance, if you're editing the file <code>foo/__init__.py</code> and want to import the module at <code>foo/bar.py</code>, you could use <code>import bar</code>.</p>\n<p>In Python 3.0, this won't work, as all imports will be absolute by default. You should instead use <code>from foo import bar</code>; if you want to import a specific function or variable from bar, you can use relative imports, such as <code>from .bar import myfunction</code>)</p>\n</blockquote>\n<p>Either use absolute import in <code>__init__.py</code> (<code>from sources.util import show</code>) -- or explicit relative import (<code>from .util import show</code>).</p>\n<p>Given this setup:</p>\n<pre><code>sh$ cat sources/utils.py \ndef show():\n    print(&quot;show&quot;)\n\nsh$ cat sources/__init__.py \nfrom sources.utils import show\n# could be\n# from .utils import show\n\nsh$ cat main.py \nfrom sources import show\n\nshow()\n</code></pre>\n<p>It will work as expected both in Python 2 &amp; 3:</p>\n<pre><code>sh$ python2 main.py \nshow\nsh$ python3 main.py \nshow\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4006059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52c4916664fc5371d22e619ed3bfebd?s=128&d=identicon&r=PG&f=1", "display_name": "Max Pasek", "link": "https://stackoverflow.com/users/4006059/max-pasek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "accepted_answer_id": 28203273, "answer_count": 3, "score": 1, "last_activity_date": 1422484290, "creation_date": 1422481553, "last_edit_date": 1495540288, "question_id": 28203011, "link": "https://stackoverflow.com/questions/28203011/python-importing-function-to-package-level", "title": "Python importing function to package level", "body": "<p>I found a couple of different <a href=\"https://stackoverflow.com/questions/24302754/python-submodule-imports-using-init-py\">answers</a> and related questions here already but still I can't figure out what I am doing wrong.</p>\n\n<p>I have a python app with layout like this:</p>\n\n<pre><code>main.py\nsources/\n    __init__.py\n    utils.py\n</code></pre>\n\n<p>My <code>__init__.py</code> contains:</p>\n\n<pre><code>from sources.utils import show\n</code></pre>\n\n<p>where <em>show</em> is a function defined in <em>utils</em></p>\n\n<p>I want to be able to write in main.py:</p>\n\n<pre><code>from sources import show\nshow()\n</code></pre>\n\n<p>but instead I get an error <code>ImportError: cannot import name 'show'</code></p>\n\n<p>Any help will be greatly appreciated</p>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>Seems that the problem is caused by the PyCharm IDE I'm using. The same code being run in python directly from linux console works like charm.</p>\n\n<p>Sorry for bothering you guys and thank you for help.</p>\n\n<p>Best Regards,\nMax </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1422481643, "post_id": 28202980, "comment_id": 44772119, "body": "Basically, you need to replace <i>&quot;CODE ..bla bla bla bla&quot;</i> with <b>some actual Python code</b>, then run it."}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1422481647, "post_id": 28202980, "comment_id": 44772121, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/28200719/how-can-i-sort-lines-and-select-some-characters-of-it-of-a-text-file-in-python\">How can I sort lines and select some characters of it, of a text file in python?</a>"}, {"owner": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "edited": false, "score": 0, "creation_date": 1422481836, "post_id": 28202980, "comment_id": 44772230, "body": "I need to create a CODE of python, in the last question, I can&#39;t delete it cause have answers, and it&#39;s wrong. Please help me friends."}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1422481893, "post_id": 28202980, "comment_id": 44772251, "body": "What went wrong in the last question?"}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1422481898, "post_id": 28202980, "comment_id": 44772253, "body": "Duplicate question:   <a href=\"http://stackoverflow.com/q/28200719/584846\">stackoverflow.com/q/28200719/584846</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1422481973, "post_id": 28202980, "comment_id": 44772297, "body": "@TereHs it is completely unclear what your problem is. This isn&#39;t a code-writing service; where is <b>your code</b>, and what precisely is wrong with it? Rather than opening a new question, <b>edit the previous one</b>; don&#39;t just keep asking the same thing over and over again without adding any useful information or making an attempt to <b>actually write it yourself</b>."}, {"owner": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1422482408, "post_id": 28202980, "comment_id": 44772523, "body": "@jonrsharpe, yes, sorry for no put it, but I dont have idea how can i do it. I&#39;m Begginner in python, sorry. I just want a few help. Thanks"}, {"owner": {"reputation": 13047, "user_id": 1404505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a3fb99e283d998f5acda7341aa0ab22?s=128&d=identicon&r=PG", "display_name": "Junuxx", "link": "https://stackoverflow.com/users/1404505/junuxx"}, "edited": false, "score": 0, "creation_date": 1422482425, "post_id": 28202980, "comment_id": 44772534, "body": "If you have no idea how to do this in code, I suggest you open your file in Excel, split on whitespace and sort the column with the values you&#39;re interested in."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1422482447, "post_id": 28202980, "comment_id": 44772547, "body": "@TereHs Again, <i>this isn&#39;t a code-writing service</i>. We also don&#39;t provide tutoring - if you&#39;re a beginner, find a tutorial and follow it."}], "answers": [{"comments": [{"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 1, "creation_date": 1422482183, "post_id": 28203107, "comment_id": 44772393, "body": "Shouldn&#39;t you <code>close()</code> the file? Also, wouldnt it be better to use <code>with open()</code>?"}, {"owner": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "edited": false, "score": 0, "creation_date": 1422482241, "post_id": 28203107, "comment_id": 44772424, "body": "Yes, the result is that I want it, but, the result is about the .pdb that has highest number, how can I do, for have the .pdb that has smallest number? How can I change in the code? Thanks"}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "reply_to_user": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "edited": false, "score": 0, "creation_date": 1422483359, "post_id": 28203107, "comment_id": 44772964, "body": "@TereHs If i understand correctly, you like this code, but problem is it gives the <code>max</code>. Instead you want the minumum. If so, just change <code>max</code> to <code>min</code> in the code above."}, {"owner": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "edited": false, "score": 0, "creation_date": 1422644386, "post_id": 28203107, "comment_id": 44846379, "body": "Thanks friend, your answer is good too, but I just can choose one."}, {"owner": {"reputation": 63658, "user_id": 97248, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d891ba8bd448f11617333f8642870262?s=128&d=identicon&r=PG", "display_name": "pts", "link": "https://stackoverflow.com/users/97248/pts"}, "edited": false, "score": 0, "creation_date": 1422649233, "post_id": 28203107, "comment_id": 44848692, "body": "Added <code>with open(</code>, changed <code>max</code> to <code>min</code> as suggested. Also added a sentence about the low memory requirements."}], "tags": [], "owner": {"reputation": 63658, "user_id": 97248, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d891ba8bd448f11617333f8642870262?s=128&d=identicon&r=PG", "display_name": "pts", "link": "https://stackoverflow.com/users/97248/pts"}, "is_accepted": false, "score": 0, "last_activity_date": 1422649516, "last_edit_date": 1422649516, "creation_date": 1422481916, "answer_id": 28203107, "question_id": 28202980, "link": "https://stackoverflow.com/questions/28202980/how-can-i-sort-lines-and-extract-information-in-python/28203107#28203107", "title": "How can I sort lines and extract information in Python?", "body": "<p>Something like this:</p>\n\n<pre><code>import re\ndef yield_items(filename):\n  with open(filename) as f:\n    for line in f:\n      if re.match(r'\\S+[.]pdb\\s+(\\d[\\d.]+)(?:\\s|\\Z)', line):\n        items = line.split()\n        yield float(items[1]), items[0]\nprint min(yield_items('input.txt'))\n</code></pre>\n\n<p>In contrast to the solutions of gboffi and Malik Brahimi, this solution uses less memory: it uses memory only for 1 line at a time, so even if the file contains a huge number of matching lines, this solution doesn't keep more than 1 of them in memory at the same time.</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "edited": false, "score": 0, "creation_date": 1422482135, "post_id": 28203112, "comment_id": 44772375, "body": "I can&#39;t get the result correct, in the file text this lines have the 2211 to 2220 number line. How can I select it and do it this?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "edited": false, "score": 0, "creation_date": 1422482269, "post_id": 28203112, "comment_id": 44772442, "body": "What are you talking about? Copy the post as is."}, {"owner": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "edited": false, "score": 0, "creation_date": 1422482530, "post_id": 28203112, "comment_id": 44772579, "body": "Yes, the text is above in this page. Are the last 10 lines, that have the 2211-2220 number lines."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "edited": false, "score": 0, "creation_date": 1422482672, "post_id": 28203112, "comment_id": 44772666, "body": "Yes write the file with only the last ten lines. Didn&#39;t see that you edited your question."}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1422484447, "last_edit_date": 1422484447, "creation_date": 1422481939, "answer_id": 28203112, "question_id": 28202980, "link": "https://stackoverflow.com/questions/28202980/how-can-i-sort-lines-and-extract-information-in-python/28203112#28203112", "title": "How can I sort lines and extract information in Python?", "body": "<p>I'd use Python <code>re</code>.</p>\n\n<p><code>file.txt</code></p>\n\n<pre><code>Dominio1.BL00010001.pdb         24.69530\nDominio1.BL00020001.pdb         14.33748\nDominio1.BL00030001.pdb         30.53454\nDominio1.BL00040001.pdb         23.82516\nDominio1.BL00050001.pdb         27.48684\nDominio1.BL00060001.pdb         18.17364\nDominio1.BL00070001.pdb         30.98407\nDominio1.BL00080001.pdb         17.19927\nDominio1.BL00090001.pdb         19.02460\nDominio1.BL00100001.pdb         22.57086\n</code></pre>\n\n<p><code>sorts.py</code></p>\n\n<pre><code>import re\n\nlines = open('file.txt').readlines() # readlines\nlines = [i.strip() for i in lines] # remove newlines\n\nlines = [re.sub('\\s+', ' ', i) for i in lines] # remove extra spaces\nlines = [i.split(' ') for i in lines] # split by space\nlines = sorted(lines, key = lambda i: float(i[1])) # sort by id\n\nprint lines[0][0] # print item with least id\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 97248, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d891ba8bd448f11617333f8642870262?s=128&d=identicon&r=PG", "display_name": "pts", "link": "https://stackoverflow.com/users/97248/pts"}, "edited": false, "score": 0, "creation_date": 1422649350, "post_id": 28204117, "comment_id": 44848753, "body": "This solution uses memory proportional to the number of matching lines in the input. If that&#39;s a huge number, please see my solution, which uses memory only for 1 line at a time."}], "tags": [], "owner": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "is_accepted": true, "score": 0, "last_activity_date": 1422487419, "last_edit_date": 1422487419, "creation_date": 1422486315, "answer_id": 28204117, "question_id": 28202980, "link": "https://stackoverflow.com/questions/28202980/how-can-i-sort-lines-and-extract-information-in-python/28204117#28204117", "title": "How can I sort lines and extract information in Python?", "body": "<p>The function below will be used when we have an <em>interesting</em> line.</p>\n\n<p>We want to clean the line, stripping white space on its sides, and split it in two parts, the file name and the associated value.</p>\n\n<p>This is not enough, because what we want to do next is to sort numerically, so we convert the number string to a float and return a tuple composed by the float and the file name.</p>\n\n<pre><code>def float_name(line):\n    fname, number = line.strip().split()\n    return float(number), fname\n</code></pre>\n\n<p>Building on the function above, we write a function to process the data (note that data is just an iterable that contains strings, possibly a list or a file object).</p>\n\n<p>Using a <em>list comprehension</em>, we scan the data and if the current line <code>l</code> begins with the required key, <code>initial</code>, we deem it interesting and pass it to <code>float_name</code>. The resulting list of tuples is then sorted, and the sorted list is returned to the caller.</p>\n\n<pre><code>def sort_floats_names(data,initial):\n     floats_names = [float_name(l) for l in data if l.startswith(initial)]\n     floats_names.sort()\n     return floats_names\n</code></pre>\n\n<p>It's now time to put our functions at work,</p>\n\n<pre><code>sorted_floats_names = sort_floats_names(open('your_data.txt'), 'Dominio1')\nmodel_initial = sorted_floats_names[0][1]\n</code></pre>\n\n<p>the first line builds a sorted list of <code>(float, fname)</code> tuples, the second line assign the name <code>model_initial</code> to the file name component of the zero-th tuple in the sorted list.</p>\n\n<p><em>Addendum:</em>  all the code above as an one-liner</p>\n\n<pre><code>In [31]: sorted([(float(nb),fn) for fn,nb in [l.split() for l in data if l.startswith('Dominio1')]])[0][1]\nOut[31]: 'Dominio1.BL00020001.pdb'\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4462277, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1144537858/picture?type=large", "display_name": "Tere Hs", "link": "https://stackoverflow.com/users/4462277/tere-hs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 28204117, "answer_count": 3, "score": -1, "last_activity_date": 1422649516, "creation_date": 1422481463, "last_edit_date": 1422484483, "question_id": 28202980, "link": "https://stackoverflow.com/questions/28202980/how-can-i-sort-lines-and-extract-information-in-python", "title": "How can I sort lines and extract information in Python?", "body": "<p>I have this file text: </p>\n\n<pre><code>&lt;&lt; end of ENERGY.\niupac_m_486_&gt; OE1/2 will be swapped:     -136.1396        1     1\nopenf___224_&gt; Open           Dominio1.BL00100001.pdb\nwrpdb___568_&gt; Residues, atoms, selected atoms:      268     2115     2115\n\n&gt;&gt; Summary of successfully produced loop models:\nFilename                          molpdf\n----------------------------------------\nDominio1.BL00010001.pdb         24.69530\nDominio1.BL00020001.pdb         14.33748\nDominio1.BL00030001.pdb         30.53454\nDominio1.BL00040001.pdb         23.82516\nDominio1.BL00050001.pdb         27.48684\nDominio1.BL00060001.pdb         18.17364\nDominio1.BL00070001.pdb         30.98407\nDominio1.BL00080001.pdb         17.19927\nDominio1.BL00090001.pdb         19.02460\nDominio1.BL00100001.pdb         22.57086\n</code></pre>\n\n<p>I want sort the last 10 lines and find which file name is associated with the smallest number, to use it in the second part of my script.</p>\n\n<p>In the example file above, the file name I want is <code>Dominio1.BL00020001.pdb</code>, because it's associated with the smallest number, but I want to find it programmatically.</p>\n\n<p>This code just show the lines that I need sort</p>\n\n<pre><code>import itertools\nwith open('%s'%W, \"r\") as text_file:\n    for line in itertools.islice(text_file, 2210, 2220):\n        print line\nCREATE CODE..(please Can somebody help me to do it?)\n</code></pre>\n\n<p>and find that the <code>Dominio1.BL00020001.pdb</code> has the smallest number and continue reading and put it like \"a\", I can't use like this: </p>\n\n<pre><code>model_initial= '%s'%a'\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 1, "creation_date": 1422481341, "post_id": 28202917, "comment_id": 44771960, "body": "Welcome to stackoverflow. You are expected to show some research effort. Can you show us what have you tried and what is not working?"}, {"owner": {"reputation": 69932, "user_id": 249341, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZFHpl.jpg?s=128&g=1", "display_name": "Hooked", "link": "https://stackoverflow.com/users/249341/hooked"}, "edited": false, "score": 0, "creation_date": 1422481365, "post_id": 28202917, "comment_id": 44771977, "body": "What is the actual question? Are you having a problem with the code below? What does it do unexpectedly? Does it have a traceback? What is that traceback? These are things we need to help answer your question."}, {"owner": {"reputation": 45, "user_id": 2757400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3032e6fecff0be89d61ffcdc2eb11a16?s=128&d=identicon&r=PG&f=1", "display_name": "user2757400", "link": "https://stackoverflow.com/users/2757400/user2757400"}, "edited": false, "score": 0, "creation_date": 1422489614, "post_id": 28202917, "comment_id": 44775295, "body": "actually I am a newbie to python and what you see is what I have thus far. I just need to compare current time and weekday with a set time day ie 09:45  Mon,Tues,Wed,Thur,Fri and if true the run premkt"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 2757400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3032e6fecff0be89d61ffcdc2eb11a16?s=128&d=identicon&r=PG&f=1", "display_name": "user2757400", "link": "https://stackoverflow.com/users/2757400/user2757400"}, "edited": false, "score": 0, "creation_date": 1422500833, "post_id": 28204836, "comment_id": 44778160, "body": "if now.weekday() &lt; 5 and now.hour == 9 and now.minute == 45:                                                                                                                      When testing with python I get SyntaxError: invalid syntax for the &#39;if&#39;"}, {"owner": {"reputation": 13047, "user_id": 1404505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a3fb99e283d998f5acda7341aa0ab22?s=128&d=identicon&r=PG", "display_name": "Junuxx", "link": "https://stackoverflow.com/users/1404505/junuxx"}, "reply_to_user": {"reputation": 45, "user_id": 2757400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3032e6fecff0be89d61ffcdc2eb11a16?s=128&d=identicon&r=PG&f=1", "display_name": "user2757400", "link": "https://stackoverflow.com/users/2757400/user2757400"}, "edited": false, "score": 0, "creation_date": 1422504029, "post_id": 28204836, "comment_id": 44778868, "body": "It works just fine here, with both python 2.7 and 3.3. Check your indentation and the line before the if."}, {"owner": {"reputation": 45, "user_id": 2757400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3032e6fecff0be89d61ffcdc2eb11a16?s=128&d=identicon&r=PG&f=1", "display_name": "user2757400", "link": "https://stackoverflow.com/users/2757400/user2757400"}, "edited": false, "score": 0, "creation_date": 1422546856, "post_id": 28204836, "comment_id": 44801181, "body": "Thanks.. all is well now. Thank you very very much for your help"}], "tags": [], "owner": {"reputation": 13047, "user_id": 1404505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a3fb99e283d998f5acda7341aa0ab22?s=128&d=identicon&r=PG", "display_name": "Junuxx", "link": "https://stackoverflow.com/users/1404505/junuxx"}, "is_accepted": true, "score": 0, "last_activity_date": 1422490086, "creation_date": 1422490086, "answer_id": 28204836, "question_id": 28202917, "link": "https://stackoverflow.com/questions/28202917/compare-set-time-with-current-time-python/28204836#28204836", "title": "compare set time with current time python", "body": "<p>You could use the builtin <a href=\"https://docs.python.org/2/library/datetime.html\" rel=\"nofollow\">datetime</a> module to do this.</p>\n\n<p>Note that <code>datetime.weekday</code> returns an integer, where Monday is 0 and Sunday is 6.</p>\n\n<p>You might want to add a check somewhere that <code>premkt</code> isn't called multiple times in the same minute.</p>\n\n<pre><code>import datetime\nnow = datetime.datetime.now()\n\nif now.weekday() &lt; 5 and now.hour == 9 and now.minute == 45:\n    # it's 9:45 on a weekday, do stuff\n    premkt(bot)\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 2757400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3032e6fecff0be89d61ffcdc2eb11a16?s=128&d=identicon&r=PG&f=1", "display_name": "user2757400", "link": "https://stackoverflow.com/users/2757400/user2757400"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 28204836, "answer_count": 1, "score": 0, "last_activity_date": 1422490086, "creation_date": 1422481148, "last_edit_date": 1422489767, "question_id": 28202917, "link": "https://stackoverflow.com/questions/28202917/compare-set-time-with-current-time-python", "title": "compare set time with current time python", "body": "<p>I have a @interval check that can run def timecheck(): every 10 second and I need to compare current time/weekday with a set time/weekday.</p>\n\n<pre><code> @interval(10)\n def timecheck():\n &lt;&lt;&lt; compare current time and weekday with time day ie 09:45  Mon,Tues,Wed,Thur,Fri&gt;&gt;&gt;\n &lt;&lt;&lt;if true then run premkt&gt;&gt;\n\n  def premkt(bot):\n  bot.msg('#optiontrader',\"((( US MARKET OPEN IN 15 Minutes )))\")\n</code></pre>\n"}, {"tags": ["python", "loops", "pandas", "group-by"], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 4203343, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/MqSXf.png?s=128&g=1", "display_name": "TCS", "link": "https://stackoverflow.com/users/4203343/tcs"}, "edited": false, "score": 0, "creation_date": 1422482528, "post_id": 28203042, "comment_id": 44772578, "body": "Elegant solution--love it!"}], "tags": [], "owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "is_accepted": true, "score": 2, "last_activity_date": 1422481676, "creation_date": 1422481676, "answer_id": 28203042, "question_id": 28202870, "link": "https://stackoverflow.com/questions/28202870/python-create-an-incrementing-variable-that-changes-based-on-a-condition/28203042#28203042", "title": "Python: Create an incrementing variable that changes based on a condition", "body": "<p>The usual approach is to do a comparison and then a cumulative sum.  For example, something like:</p>\n\n<pre><code>&gt;&gt;&gt; df[\"Event\"] = (df[\"delta\"] &gt;= 5).groupby(df[\"rx\"]).cumsum() + 1\n&gt;&gt;&gt; df\n   rx  vals  delta  Event\n0   1     1    NaN      1\n1   1     2      1      1\n2   1     3      1      1\n3   1     8      5      2\n4   1    10      2      2\n5   2     1    NaN      1\n6   2    10      9      2\n7   2    20     10      3\n8   2    21      1      3\n9   2    22      1      3\n</code></pre>\n\n<p>which works because (ignoring the groupby for simplicity and concentrating only on <code>rx == 1</code>:) <code>False == 0</code> and <code>True == 1</code>:</p>\n\n<pre><code>&gt;&gt;&gt; df[\"delta\"]\n0   NaN\n1     1\n2     1\n3     5\n4     2\nName: delta, dtype: float64\n&gt;&gt;&gt; df[\"delta\"] &gt;= 5\n0    False\n1    False\n2    False\n3     True\n4    False\nName: delta, dtype: bool\n&gt;&gt;&gt; (df[\"delta\"] &gt;= 5).cumsum()\n0    0\n1    0\n2    0\n3    1\n4    1\nName: delta, dtype: int64\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 4203343, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/MqSXf.png?s=128&g=1", "display_name": "TCS", "link": "https://stackoverflow.com/users/4203343/tcs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2289, "favorite_count": 0, "accepted_answer_id": 28203042, "answer_count": 1, "score": 2, "last_activity_date": 1422481676, "creation_date": 1422480975, "question_id": 28202870, "link": "https://stackoverflow.com/questions/28202870/python-create-an-incrementing-variable-that-changes-based-on-a-condition", "title": "Python: Create an incrementing variable that changes based on a condition", "body": "<p>I want to create a variable called 'inc' that increments sequentially each time a condition is met (say, Delta>=5), holds the same otherwise, and resets to 1 each time it encounters a new group (ID in this example).  So here's an example dataframe:</p>\n\n<pre><code>from pandas import *\nd={'rx': [1,1,1,1,1,2,2,2,2,2],\n    'vals': [1,2,3,8,10,1,10,20,21,22]}\ndf=DataFrame(d)\n\n\ndef diff_func(df):\n    return df.diff()                                \n\ndf['delta'] = df.groupby(['rx'])['vals'].apply(diff_func)  \n</code></pre>\n\n<p>Which produces this:</p>\n\n<pre><code>rx  vals delta\n1   1    NaN\n1   2    1\n1   3    1\n1   8    5\n1   10   2\n2   1    NaN\n2   10   9\n2   20   10\n2   21   1\n2   22   1\n</code></pre>\n\n<p>So now I want to create a new column called 'Event' that I will later use to group observations within each value of rx separated by a delta &lt; 5:</p>\n\n<pre><code>rx  vals    delta   Event\n1   1       NaN     1\n1   2       1       1\n1   3       1       1\n1   8       5       2\n1   10      2       2\n2   1       NaN     1\n2   10      9       2\n2   20      10      3\n2   21      1       3\n2   22      1       3\n</code></pre>\n\n<p>Note that 'event' returns to 1 on the first occurrence of rx.  I am used to doing this in vbasic or SAS, where you simply retain a value and then increment by 1 each time the threshold trigger is met.  Is there a similarly simple solution to this in Python?</p>\n"}, {"tags": ["python", "pygame", "sprite", "move"], "answers": [{"comments": [{"owner": {"reputation": 1702, "user_id": 4450090, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/97a7f283269dd5bfff5a9a673edfce2f?s=128&d=identicon&r=PG&f=1", "display_name": "darkman", "link": "https://stackoverflow.com/users/4450090/darkman"}, "edited": false, "score": 0, "creation_date": 1422565003, "post_id": 28210250, "comment_id": 44811939, "body": "Thank you. Your answer helped me to move forward. I will think more about the problem before I place the code and ask for help."}], "tags": [], "owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "is_accepted": true, "score": 1, "last_activity_date": 1422520749, "creation_date": 1422520749, "answer_id": 28210250, "question_id": 28202860, "link": "https://stackoverflow.com/questions/28202860/sprite-is-not-moving-down/28210250#28210250", "title": "sprite is not moving down", "body": "<p>The problem is this loop:</p>\n\n<pre><code>for myfigure in hearts:\n    myfigure = HeartSprite(diamondx , diamondy)\n    myfigure.update(time, 480)\n    myfigure.draw(screen)\n</code></pre>\n\n<p>Stop a moment and think of what this loop really does. It creates a new instance of <code>HeartSprite</code> with <code>diamondx</code> and <code>diamondy</code> for each element in hearts; every time the loop is run.</p>\n\n<p>What you really want to do is to create the <code>HeartSprite</code> instances once you click on the screen, and keep those instances in the list (so each heart keeps its state):</p>\n\n<pre><code>...\n        elif event.type == MOUSEBUTTONDOWN:\n            diamondy = diamond.rect[1]+18\n            diamondx = diamond.rect[0]\n            hearts.append(diamondx, diamondy)\n...\n    for myfigure in hearts:\n        myfigure.update(time, 480)\n        myfigure.draw(screen)\n...\n</code></pre>\n\n<hr>\n\n<p>There are some more issues with this code, but that's out of scope of this answer.</p>\n"}], "owner": {"reputation": 1702, "user_id": 4450090, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/97a7f283269dd5bfff5a9a673edfce2f?s=128&d=identicon&r=PG&f=1", "display_name": "darkman", "link": "https://stackoverflow.com/users/4450090/darkman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 28210250, "answer_count": 1, "score": 1, "last_activity_date": 1422520817, "creation_date": 1422480942, "last_edit_date": 1422520817, "question_id": 28202860, "link": "https://stackoverflow.com/questions/28202860/sprite-is-not-moving-down", "title": "sprite is not moving down", "body": "<p>I do not know how to create new sprites by mouse click and add a movement to all new sprites.</p>\n\n<p>I have created a simple game:</p>\n\n<ul>\n<li>Diamond : move left/right with <code>K_LEFT</code>, <code>K_RIGHT</code></li>\n<li>Pad: move left/right with mouse</li>\n</ul>\n\n<p>if you click a mouse you append hearts and draw a sprite heart0, heart1, etc. according to number of mouse clicks.</p>\n\n<p>if you click a mouse you draw a sprite heart which drops in place where the diamond is and heart should move down...</p>\n\n<p>PROBLEM: hearts are not moving down. I can not draw multiple hearts. \nAt the moment I can only draw a heart in a place where the diamon is and append hearts. </p>\n\n<p>Do you know what is wrong with my code so I can not get required functionality please ?</p>\n\n<pre><code>import pygame, sys\nfrom pygame.locals import *\n\npygame.init()\npygame.mouse.set_visible(1)\nclock = pygame.time.Clock()\n\nscreen_width = 640\nscreen_height = 480\nscreen = pygame.display.set_mode((screen_width, screen_height))\n\nmyfont = pygame.font.SysFont(\"Arial\", 15)\n\nhearts = [] \nclicks = []\n\nclass HeartSprite(object):\n\n    def __init__(self, pozx, pozy):\n\n        self.image = pygame.image.load(\"heart.png\")\n        self.posx = pozx\n        self.posy = pozy   \n        self.rect = self.image.get_rect()\n        self.going_down = True\n        self.next_update_time = 0\n\n    def update(self, current_time, bottom):\n        if self.next_update_time &lt; current_time:\n            ### bounce back\n            #if self.rect.bottom &gt;= bottom - 1:\n            #    self.going_down = False\n            ### kill it\n            if self.posy &gt; screen_height:\n                del hearts[0]\n            elif self.posy &lt;= 85:\n                self.going_down = True       \n            if self.going_down:\n                self.posy += 2\n            else:\n                self.posy -= 2\n            self.next_update_time = current_time + 10\n\n    def draw(self, surface):\n        surface.blit(self.image, (self.posx, self.posy))\n\nclass Diamond(object):\n    def __init__(self):\n        self.image = pygame.image.load(\"diamond.png\").convert()\n        self.rect = self.image.get_rect()\n\n    def handle_keys(self):\n        key = pygame.key.get_pressed()\n        dist = 3\n        if key[pygame.K_LEFT]:\n            self.rect[0] -= dist\n        elif key[pygame.K_RIGHT]:\n            self.rect[0] += dist\n\n    def draw(self, surface):\n        surface.blit(self.image, (self.rect[0], self.rect[1]+18))\n\nclass Pad(object):\n    def __init__(self):\n        self.image = pygame.image.load(\"pad.png\")\n        self.rect = self.image.get_rect()\n        self.top = screen.get_height() - self.rect[1]\n        self.shoot_y = 0\n        self.shoot_x = 0\n    def draw(self, surface, posx, posy):\n        surface.blit(self.image, (posx, posy))\n\nclass DisplayText(object):\n    def __init__(self):\n        self.myfont = pygame.font.SysFont(\"Tahoma\", 15)\n        self.heartsleft = 10 - len(hearts)\n        self.label = self.myfont.render(\"hearts left : %d\" %     self.heartsleft, 1, (0,0,0))\n\n    def draw(self, surface):\n        surface.blit(self.label, (3, 1))\n\ndef main():\n\n    diamond = Diamond()   \n    pad = Pad()\n\n    while True:\n\n        white = (255, 255, 255)\n        screen.fill(white)\n        time = pygame.time.get_ticks()\n\n        x, y = pygame.mouse.get_pos()\n        pad.draw(screen, x - pad.rect[2]/2, screen_height - pad.rect[2]/2 )\n\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                pygame.quit()\n                sys.exit()\n            elif event.type == MOUSEBUTTONDOWN:\n                diamondy = diamond.rect[1]+18\n                diamondx = diamond.rect[0]\n                count = \"clicks\"\n                clicks.append(count)\n                myvar = len(clicks)\n                for i in range(myvar):\n                    ii = \"heart\" + str(i)\n                hearts.append(ii)\n\n        for myfigure in hearts:\n            myfigure = HeartSprite(diamondx , diamondy)\n            myfigure.update(time, 480)\n            myfigure.draw(screen)\n\n        diamond.draw(screen)   \n        diamond.handle_keys()\n\n        displaytext = DisplayText()\n        displaytext.draw(screen)\n\n        pygame.display.update()              \n        clock.tick(100)\n    pygame.quit()\nmain()\n</code></pre>\n"}, {"tags": ["python", "qt", "resize", "pyside", "designer"], "comments": [{"owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "edited": false, "score": 0, "creation_date": 1422522388, "post_id": 28202737, "comment_id": 44785736, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2469186/resizing-qt-widgets-when-their-children-are-hidden\">Resizing qt widgets when their children are hidden</a>"}], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 0, "creation_date": 1422559382, "post_id": 28207794, "comment_id": 44808735, "body": "Thank you, it works, if i hide the widget but not vice versa. I use <code>self.resize(self.width(), self.minimumSizeHint().height())</code> for hidding the widget and <code>self.resize(self.width(), self.maximumHeight())</code> if i make it visible again. But i don&#39;t want to use the <code>maximumHeight()</code>. How can i do it with something like your method? Notice: <code>self.adjustSize()</code> does not work in my code (see my comment to the mail from Trilarion)."}, {"owner": {"reputation": 28669, "user_id": 3049264, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MNMWc.jpg?s=128&g=1", "display_name": "Nejat", "link": "https://stackoverflow.com/users/3049264/nejat"}, "reply_to_user": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 0, "creation_date": 1422560461, "post_id": 28207794, "comment_id": 44809290, "body": "You can use the same approach when you make the widget visible. Just use <code>minimumSizeHint</code> again and the widget is  made visible and the minimum size is computed accordingly."}, {"owner": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 0, "creation_date": 1422566075, "post_id": 28207794, "comment_id": 44812529, "body": "@Najat The same approach does not work in my code to enlarge the window size. I don&#39;t know why. I have the same problem with <code>self.adjustSize()</code>."}, {"owner": {"reputation": 28669, "user_id": 3049264, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MNMWc.jpg?s=128&g=1", "display_name": "Nejat", "link": "https://stackoverflow.com/users/3049264/nejat"}, "reply_to_user": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 0, "creation_date": 1422614201, "post_id": 28207794, "comment_id": 44829853, "body": "Do you call <code>QApplication.processEvents()</code> after making the widget visible?"}, {"owner": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 0, "creation_date": 1422615084, "post_id": 28207794, "comment_id": 44830282, "body": "Yes, i call <code>QApplication.processEvents()</code> but it does not work. For minimization it works with and without <code>QApplication.processEvents()</code>."}, {"owner": {"reputation": 936, "user_id": 469322, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bfcf782e2da7edc12bbc0f233edc9fcd?s=128&d=identicon&r=PG", "display_name": "ewerybody", "link": "https://stackoverflow.com/users/469322/ewerybody"}, "edited": false, "score": 0, "creation_date": 1434576455, "post_id": 28207794, "comment_id": 49844288, "body": "Nice Nejat! Unfortunately I&#39;m not always able to get the app. Or am I? I mean when using this as a library module.. So could you give an example of what you mean whith the QTimer? Thanks!"}], "tags": [], "owner": {"reputation": 28669, "user_id": 3049264, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MNMWc.jpg?s=128&g=1", "display_name": "Nejat", "link": "https://stackoverflow.com/users/3049264/nejat"}, "is_accepted": false, "score": 5, "last_activity_date": 1422518926, "last_edit_date": 1422518926, "creation_date": 1422510614, "answer_id": 28207794, "question_id": 28202737, "link": "https://stackoverflow.com/questions/28202737/pyside-what-is-the-best-way-to-resize-the-main-window-if-one-widget-is-hidden/28207794#28207794", "title": "PySide: What is the best way to resize the main window if one widget is hidden?", "body": "<p>You can resize the window to <code>minimumSizeHint()</code> after hiding the widget:</p>\n\n<pre><code>self.resize(minimumSizeHint())\n</code></pre>\n\n<p>This will shrink the window to minimum size.</p>\n\n<p>If you want to only shrink in height, then you can do something like:</p>\n\n<pre><code>self.resize(width(), minimumSizeHint().height())\n</code></pre>\n\n<p>But you should consider that the minimum size is not computed until some events are processed in the event loop. So when you hide your widget, just process the event loop for some iterations and then resize to minimum.</p>\n\n<p>It's like :</p>\n\n<pre><code>for i in range(0, 10):\n      QApplication.processEvents()\n\nself.resize(width(), minimumSizeHint().height())\n</code></pre>\n\n<p>Another option is to single shot a <code>QTimer</code> which calls a slot in which you resize the window to minimum. This way when you resize the window, the minimum size hint is computed correctly.</p>\n"}, {"comments": [{"owner": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 1, "creation_date": 1422554369, "post_id": 28210680, "comment_id": 44805913, "body": "It works, thank you! I would like also to resize the window by making the textEditObject visible: but <code>self.adjustSize()</code> does not work in this case. Have you any ideas how can I make it working?"}, {"owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "reply_to_user": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 0, "creation_date": 1422556595, "post_id": 28210680, "comment_id": 44807197, "body": "@Igor I cannot follow what you mean. My example works for getting visible as well as getting invisible and for any kind of widget (label, textedit, ...). It doesn&#39;t matter. Can you specify more what you mean?"}, {"owner": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 0, "creation_date": 1422557641, "post_id": 28210680, "comment_id": 44807762, "body": "Your example does not work, if I want to enlarge the main window (QMainWindow). I don&#39;t know why. Can you follow me? May be it is important: I have a vertical layout (QVBoxLayout) in the central widget in my MainWindow."}, {"owner": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 0, "creation_date": 1422558424, "post_id": 28210680, "comment_id": 44808172, "body": "I mean, <code>self.adjustSize()</code> does not work. If I use <code>self.resize(...)</code> - it works."}, {"owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "reply_to_user": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "edited": false, "score": 0, "creation_date": 1422566588, "post_id": 28210680, "comment_id": 44812822, "body": "@Igor I see. Yeah my solution does not work with QMainWindow. Sorry."}, {"owner": {"reputation": 936, "user_id": 469322, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bfcf782e2da7edc12bbc0f233edc9fcd?s=128&d=identicon&r=PG", "display_name": "ewerybody", "link": "https://stackoverflow.com/users/469322/ewerybody"}, "edited": false, "score": 0, "creation_date": 1434710266, "post_id": 28210680, "comment_id": 49906845, "body": "The example works now with QMainWindow. But I found it breaks with deeper nested layouts. Tried to go down all my 3 levels but it refused to adjust properly."}, {"owner": {"reputation": 1331, "user_id": 4933053, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a1ebbe8ca764645c5a0af472ec44bfa4?s=128&d=identicon&r=PG&f=1", "display_name": "qrtLs", "link": "https://stackoverflow.com/users/4933053/qrtls"}, "edited": false, "score": 0, "creation_date": 1568887411, "post_id": 28210680, "comment_id": 102421322, "body": "confirm <code>adjustSize()</code> not with qwidget either (no mainwindow)"}, {"owner": {"reputation": 184, "user_id": 3950707, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/514446186/picture?type=large", "display_name": "Adam Sirrelle", "link": "https://stackoverflow.com/users/3950707/adam-sirrelle"}, "edited": false, "score": 0, "creation_date": 1613723646, "post_id": 28210680, "comment_id": 117169074, "body": "self.adjustSize() works for me, but you need a tasty QtWidgets.QApplication.processEvents() before it."}], "tags": [], "owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "is_accepted": false, "score": 6, "last_activity_date": 1422566562, "last_edit_date": 1422566562, "creation_date": 1422522362, "answer_id": 28210680, "question_id": 28202737, "link": "https://stackoverflow.com/questions/28202737/pyside-what-is-the-best-way-to-resize-the-main-window-if-one-widget-is-hidden/28210680#28210680", "title": "PySide: What is the best way to resize the main window if one widget is hidden?", "body": "<p>Even simpler than a manual resize is <a href=\"http://qt-project.org/doc/qt-4.8/qwidget.html#adjustSize\" rel=\"noreferrer\">QWidget.adjustSize()</a>.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>from PySide import QtGui\n\ndef hide_show():\n    x.setVisible(not x.isVisible()) # toggles visibility of the label\n    w.adjustSize() # adjusts size of widget\n\napp = QtGui.QApplication([])\n\nw = QtGui.QWidget()\nl = QtGui.QVBoxLayout(w)\nb = QtGui.QPushButton('Click me')\nl.addWidget(b)\nx = QtGui.QLabel('Some Text')\nl.addWidget(x)\nb.clicked.connect(hide_show)\nw.show()\n\napp.exec_()\n</code></pre>\n\n<p>If you have a <code>QMainWidget</code> I actually only managed to shrink it somewhat but not completely. Maybe than other solutions are better.</p>\n\n<pre><code>from PySide import QtGui\n\ndef hide_show():\n    x.setVisible(not x.isVisible()) # toggles visibility of the label\n    w2.adjustSize() # adjusts size of widget\n    w.adjustSize() # adjusts size of main window\n\napp = QtGui.QApplication([])\n\nw = QtGui.QMainWindow()\nw2 = QtGui.QWidget()\nl = QtGui.QVBoxLayout(w2)\nb = QtGui.QPushButton('Click me')\nl.addWidget(b)\nx = QtGui.QTextEdit('Some Text')\nl.addWidget(x)\nb.clicked.connect(hide_show)\nw.setCentralWidget(w2)\nw.show()\n\napp.exec_()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 936, "user_id": 469322, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bfcf782e2da7edc12bbc0f233edc9fcd?s=128&d=identicon&r=PG", "display_name": "ewerybody", "link": "https://stackoverflow.com/users/469322/ewerybody"}, "is_accepted": false, "score": 0, "last_activity_date": 1434709996, "creation_date": 1434709996, "answer_id": 30935975, "question_id": 28202737, "link": "https://stackoverflow.com/questions/28202737/pyside-what-is-the-best-way-to-resize-the-main-window-if-one-widget-is-hidden/30935975#30935975", "title": "PySide: What is the best way to resize the main window if one widget is hidden?", "body": "<p>OK. Here is some code to test the <strong><code>QTimer</code></strong> approach as Nejat suggested and based on Trilarions example. Althought I don't know if it is what Nejat meant it works best so far for me.</p>\n\n<pre><code>from PySide import QtCore, QtGui\n\n\nclass TestWin(QtGui.QMainWindow):\n    def __init__(self):\n        super(TestWin, self).__init__()\n        self.w2 = QtGui.QWidget()\n        self.l = QtGui.QVBoxLayout(self.w2)\n\n        self.h = QtGui.QHBoxLayout(self.w2)\n        self.b = QtGui.QPushButton('hierarchic adjustSize()')\n        self.b2 = QtGui.QPushButton('deferred resize()')\n        self.h.addWidget(self.b)\n        self.h.addWidget(self.b2)\n        self.l.addLayout(self.h)\n\n        self.x = QtGui.QTextEdit('Some Text')\n        self.l.addWidget(self.x)\n        self.b.clicked.connect(self.adjustSize_hide_show)\n        self.b2.clicked.connect(self.qtimer_hide_show)\n        self.setCentralWidget(self.w2)\n\n    def toggleVis(self):\n        self.x.setVisible(not self.x.isVisible())\n\n    def adjustSize_hide_show(self):\n        self.toggleVis()\n        self.w2.adjustSize() # adjusts size of widget\n        self.adjustSize() # adjusts size of main window\n\n    def qtimer_hide_show(self):\n        self.toggleVis()\n        _timer = QtCore.QTimer()\n        _timer.singleShot(30, self._resizeHeight)\n\n    def _resizeHeight(self):\n        self.resize(self.width(), self.minimumSizeHint().height())\n\n\nif __name__ == '__main__':\n    app = QtGui.QApplication([])\n    win = TestWin()\n    win.show()\n    app.exec_()\n</code></pre>\n\n<p>This way you don't need acces to the app and you can actually resize in a specific direction.</p>\n\n<p>I'm not so comfortable with relying on a delay here. But it still works like 90% of the time with a 1ms delay! As long as I tried 2ms was 100% success. So 20ms will surely suceed in almost all cases inducing a very small flicker tho (probably depending on your layout too)</p>\n"}], "owner": {"reputation": 318, "user_id": 4111174, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MEpD0.jpg?s=128&g=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4111174/igor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6028, "favorite_count": 2, "answer_count": 3, "score": 7, "last_activity_date": 1434709996, "creation_date": 1422480524, "last_edit_date": 1422645284, "question_id": 28202737, "link": "https://stackoverflow.com/questions/28202737/pyside-what-is-the-best-way-to-resize-the-main-window-if-one-widget-is-hidden", "title": "PySide: What is the best way to resize the main window if one widget is hidden?", "body": "<p>What is the best way to resize the main window automatically if one widget is hidden? I also need to resize the window if I make the widget visible again. See the images below...</p>\n\n<p>What settings should I set in Qt Designer for MainWindow (sizePolicy), centralwidget (sizePolicy, layoutSizeConstraint) and gridLayout (sizePolicy, layoutSizeConstraint) in particular?</p>\n\n<p>How can I hide the textEdit widget? <code>self.textEditObject.setVisible(False)</code> works: textEditObject is not visible, but is this the right way to resize the window?</p>\n\n<p>I think I don't understand some basic stuff, as I cannot get the desired behaviour.</p>\n\n<p><img src=\"https://i.stack.imgur.com/v2oF5.jpg\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "scikit-learn", "pca"], "comments": [{"owner": {"reputation": 69932, "user_id": 249341, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZFHpl.jpg?s=128&g=1", "display_name": "Hooked", "link": "https://stackoverflow.com/users/249341/hooked"}, "edited": false, "score": 0, "creation_date": 1422481460, "post_id": 28202715, "comment_id": 44772027, "body": "Can you post an example of this &quot;spurious noise&quot; and the expected output you are looking for? This question may be a better fit for <a href=\"http://dsp.stackexchange.com/\">dsp.stackexchange.com</a> since it is not <i>directly</i> related to programing."}, {"owner": {"reputation": 4093, "user_id": 56711, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aa68b4f81e5d77753b90d0c5eaa8a98d?s=128&d=identicon&r=PG", "display_name": "Simon Walker", "link": "https://stackoverflow.com/users/56711/simon-walker"}, "reply_to_user": {"reputation": 69932, "user_id": 249341, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZFHpl.jpg?s=128&g=1", "display_name": "Hooked", "link": "https://stackoverflow.com/users/249341/hooked"}, "edited": false, "score": 0, "creation_date": 1423430417, "post_id": 28202715, "comment_id": 45134644, "body": "@Hooked thanks for your suggestion, I&#39;ve added an example lightcurve. I understand it may be related to the stack exchange board you suggested, but I&#39;m specifically asking about the python implementation of PCA and how to use it, rather than the concept in particular."}, {"owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1423588010, "post_id": 28202715, "comment_id": 45205000, "body": "Are your time series aligned? I&#39;m not sure PCA is the best tool for the job, but you could try using <code>transform</code> and just dropping the first component, for example. But you should look at the components first ;)"}], "owner": {"reputation": 4093, "user_id": 56711, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aa68b4f81e5d77753b90d0c5eaa8a98d?s=128&d=identicon&r=PG", "display_name": "Simon Walker", "link": "https://stackoverflow.com/users/56711/simon-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1423430347, "creation_date": 1422480444, "last_edit_date": 1423430347, "question_id": 28202715, "link": "https://stackoverflow.com/questions/28202715/scikit-learn-pca-remove-common-signals", "title": "scikit-learn PCA remove common signals", "body": "<p>Traditionally PCA is used to reduce dimensionality (I believe) but I want to use it to remove trends.</p>\n\n<p>My use case is that I have lots of time series (star brightnesses) and want to remove spurious signals which are present in lots of these time series. I believe PCA can be used for determining these basis functions, but how can I then remove them from the full dataset?</p>\n\n<p>I have tried e.g.</p>\n\n<pre><code>pca = PCA(n_components=4)\npca.fit(lightcurves)\n\ndetrended = lightcurves / (pca.components_ * pca.explained_variance_ratio_)\n</code></pre>\n\n<p>Is this possible with PCA?</p>\n\n<p>For example, I have a lot of time series which have similar features, such as the one below. Every night the star gets brighter towards the highest point of its positioning on the sky, and then gets fainter. Each object undergoes this (it's an artefact of looking through the atmosphere) so surely it's something PCA can pick out, such that it can be removed?</p>\n\n<p><img src=\"https://i.stack.imgur.com/Xl28z.png\" alt=\"Example light curve\"></p>\n"}, {"tags": ["python", "c", "header", "ctypes"], "comments": [{"owner": {"reputation": 10100, "user_id": 590028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43c6ce77252e438b40b96f5c68cf3432?s=128&d=identicon&r=PG", "display_name": "user590028", "link": "https://stackoverflow.com/users/590028/user590028"}, "edited": false, "score": 0, "creation_date": 1422481003, "post_id": 28202676, "comment_id": 44771789, "body": "In ctype, you defined <code>szXMLAdditionalParameters&quot;, c_byte*512</code>, but in your c header, <code>char szXMLAdditionalParameters[513]</code>. Looks like an off by one error?"}, {"owner": {"reputation": 25, "user_id": 4493056, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09a986e18146d3e8504fb0866d46a81?s=128&d=identicon&r=PG&f=1", "display_name": "Nick-M", "link": "https://stackoverflow.com/users/4493056/nick-m"}, "reply_to_user": {"reputation": 10100, "user_id": 590028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43c6ce77252e438b40b96f5c68cf3432?s=128&d=identicon&r=PG", "display_name": "user590028", "link": "https://stackoverflow.com/users/590028/user590028"}, "edited": false, "score": 0, "creation_date": 1422481136, "post_id": 28202676, "comment_id": 44771853, "body": "sorry , I have changed that still same issue."}, {"owner": {"reputation": 10100, "user_id": 590028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43c6ce77252e438b40b96f5c68cf3432?s=128&d=identicon&r=PG", "display_name": "user590028", "link": "https://stackoverflow.com/users/590028/user590028"}, "edited": false, "score": 0, "creation_date": 1422481355, "post_id": 28202676, "comment_id": 44771973, "body": "What line is causing the error?"}, {"owner": {"reputation": 25, "user_id": 4493056, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09a986e18146d3e8504fb0866d46a81?s=128&d=identicon&r=PG&f=1", "display_name": "Nick-M", "link": "https://stackoverflow.com/users/4493056/nick-m"}, "edited": false, "score": 0, "creation_date": 1422481588, "post_id": 28202676, "comment_id": 44772090, "body": "I am getting this message : &#39;module&#39; object has no attribute &#39;CONST&#39;"}, {"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "edited": false, "score": 0, "creation_date": 1422485350, "post_id": 28202676, "comment_id": 44773769, "body": "Just a long shot. Try to use <code>ctypes.c_byte(ord(&quot;s&quot;)) </code>"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422489320, "post_id": 28202676, "comment_id": 44775210, "body": "FYI, the compiled code for <code>test</code> handles the second argument as <code>char *arg2</code>. C arrays are passed as pointers. If you printed <code>sizeof arg2</code> in <code>test</code> it would return 4 or 8 bytes."}], "answers": [{"comments": [{"owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "reply_to_user": {"reputation": 25, "user_id": 4493056, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09a986e18146d3e8504fb0866d46a81?s=128&d=identicon&r=PG&f=1", "display_name": "Nick-M", "link": "https://stackoverflow.com/users/4493056/nick-m"}, "edited": false, "score": 0, "creation_date": 1422489657, "post_id": 28203463, "comment_id": 44775303, "body": "Totally forgot a step I missed out. You need to tell ctypes the parameters that the function takes so it knows how to convert the given python objects."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422493835, "post_id": 28203463, "comment_id": 44776485, "body": "If <code>test(&quot;s&quot;, utilityXMLparams)</code> raises an <code>ArgumentError</code>, then <code>test.argtypes</code> is already defined, because passing strings (as <code>const char *</code>) or integers (as <code>int</code>) works without defining <code>argtypes</code>."}, {"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "edited": false, "score": 0, "creation_date": 1422519276, "post_id": 28203463, "comment_id": 44784251, "body": "@Dunes You wrote the only thing that mater in your answer just after read in my answer the evidence of what you wrote doesn&#39;t work and it was not related to the question. IMHO do it without any credit is not really ethic."}], "tags": [], "owner": {"reputation": 31791, "user_id": 529630, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2c2dd297abe572bd192b1f01322dec83?s=128&d=identicon&r=PG", "display_name": "Dunes", "link": "https://stackoverflow.com/users/529630/dunes"}, "is_accepted": false, "score": 1, "last_activity_date": 1422489832, "last_edit_date": 1422489832, "creation_date": 1422483306, "answer_id": 28203463, "question_id": 28202676, "link": "https://stackoverflow.com/questions/28202676/invalid-input-type-for-c-char-ctypes-in-python/28203463#28203463", "title": "Invalid input type for c_char ctypes in python", "body": "<p>It's because you're not stating that the first arg is a byte string -- <code>b's'</code> vs <code>'s'</code>. eg.</p>\n\n<pre><code>eftUtilityRes = lib.eftUtility(b\"s\", utilityXMLparams)\n</code></pre>\n\n<p>You also need to tell ctypes what arguments the function takes. Sometimes there is ambiguity to how a python object should be converted. In your case, is a single character string meant to be interpreted as <code>char</code> or <code>char*</code> (both of which would be valid interpretations).</p>\n\n<pre><code>lib.eftUtility.argtypes = (ctypes.c_char, ctypes.c_char_p)\n</code></pre>\n\n<p>In addition your <code>Structure</code> is unused and un-needed, and your way of creating a mutable byte array is long-winded. The following is all that is needed.</p>\n\n<pre><code>xml_data = b'&lt;xml&gt;&lt;DisplayWidthInCharacters&gt;20&lt;/DisplayWidthInCharacters&gt;&lt;JournalKeepDurationInDays&gt;30&lt;/JournalKeepDurationInDays&gt;&lt;/xml&gt;'\nutilityXml = ctypes.create_string_buffer(xml_data, 512) \n\ndef eftUtilityPepper():\n    eftUtilityRes = lib.eftUtility(b\"s\", utilityXml)\n    if (eftUtilityRes == 10):\n        \"success\"\n    elif(eftUtilityRes == -10):\n        \"type 2 error\"\n    else:\n        \"type 3 error\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 4493056, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09a986e18146d3e8504fb0866d46a81?s=128&d=identicon&r=PG&f=1", "display_name": "Nick-M", "link": "https://stackoverflow.com/users/4493056/nick-m"}, "edited": false, "score": 0, "creation_date": 1422540703, "post_id": 28204376, "comment_id": 44796860, "body": "Thanks for the answer! I used Hex value of &quot;s&quot;---&gt; 0x73 and everything worked fine. Please add this to your answer for others who may come up with the same issue."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422543717, "post_id": 28204376, "comment_id": 44798941, "body": "The <code>b</code> prefix is for compatibility with Python 3. It&#39;s nice to provide an answer that works in both versions, where possible."}, {"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422545312, "post_id": 28204376, "comment_id": 44800072, "body": "@eryksun You got a point here. I forgot to try it both 2.7 and 3.x. I&#39;ll update my answer. Anyway the <code>b</code> prefix doesn&#39;t concern the original issue where there is any mention about <code>TypeError</code> exceptions."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422546464, "post_id": 28204376, "comment_id": 44800889, "body": "If you&#39;re not setting <code>argtypes</code> (but please do this for type safety in general), I recommend calling <code>c_char</code> instead of <code>ord</code>. The latter would quietly return an ordinal greater than 255 for a unicode character, which ctypes would quietly pass as a C <code>int</code>. It&#39;s much cleaner to raise a <code>TypeError</code> for a unicode character, which <code>c_char</code> does."}, {"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422548114, "post_id": 28204376, "comment_id": 44802072, "body": "@eryksun Thanks you your note. Just for the record <a href=\"https://docs.python.org/3.4/library/ctypes.html#return-types\" rel=\"nofollow noreferrer\">ctype documentation</a> make my same mistake :)"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422550285, "post_id": 28204376, "comment_id": 44803490, "body": "That example was carried over from the 2.x docs (e.g. <a href=\"https://docs.python.org/2.5/lib/ctypes-return-types.html\" rel=\"nofollow noreferrer\">Python 2.5</a> from 2006), first written back when working with byte strings was the norm."}, {"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422551844, "post_id": 28204376, "comment_id": 44804440, "body": "@eryksun You are right ... My was just a joke to note that the official documentation doesn&#39;t take in account these relevant points. I&#39;m very glad to take in account your observation: I learn a lot by your comments."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422553553, "post_id": 28204376, "comment_id": 44805463, "body": "<code>c_char</code> takes a single-character byte string, e.g. <code>c_char(b&quot;s&quot;)</code> works in Python 2 and 3.  Your example with <code>c_char(ord(&quot;s&quot;))</code> is an error."}, {"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422554314, "post_id": 28204376, "comment_id": 44805884, "body": "@eryksun are you sure? I&#39;d tried it before write. Now I cannot test it, I &#39;ll check it later."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422554604, "post_id": 28204376, "comment_id": 44806057, "body": "Yes, I&#39;m sure. <code>c_char._type_ == &#39;c&#39;</code>, for which the corresponding <code>setfunc</code> is <a href=\"https://hg.python.org/cpython/file/648dcafa7e5f/Modules/_ctypes/cfield.c#l1146\" rel=\"nofollow noreferrer\"><code>c_set</code></a> (2.7.9 source link)."}, {"owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1422558089, "post_id": 28204376, "comment_id": 44807979, "body": "@eryksun <code>c_char(ord(&quot;s&quot;))</code> return <code>c_char(b&#39;s&#39;)</code> in python 3 and raise exception in python 2.7. I-ll fix it ASAP"}], "tags": [], "owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "is_accepted": true, "score": 1, "last_activity_date": 1422564868, "last_edit_date": 1422564868, "creation_date": 1422487613, "answer_id": 28204376, "question_id": 28202676, "link": "https://stackoverflow.com/questions/28202676/invalid-input-type-for-c-char-ctypes-in-python/28204376#28204376", "title": "Invalid input type for c_char ctypes in python", "body": "<p>The signature of your function is <code>(const char arg1 ... )</code> so you must pass a char as first argument and not a <em>character</em>. That means a byte and not a single char string. To test it I wrote my lib</p>\n\n<p><strong>foo.c</strong></p>\n\n<pre><code>#include &lt;stdio.h&gt;\nvoid foo(const char v)\n{\n    printf(\"Hello, I'm a shared library %c\\n\",v);\n}\n</code></pre>\n\n<p>And compile it by</p>\n\n<pre><code>gcc -c -Wall -Werror -fpic foo.c\ngcc -shared -o libfoo.so foo.o\n</code></pre>\n\n<p>And now call it by python console:</p>\n\n<p>My python script is:</p>\n\n<pre><code>&gt;&gt;&gt; from ctypes import *\n&gt;&gt;&gt; lib = cdll.LoadLibrary(\"./libfoo.so\")\n&gt;&gt;&gt; a=lib.foo(ord(\"s\"))\nHello, I'm a shared library s\n&gt;&gt;&gt; a=lib.foo(\"s\")\nHello, I'm a shared library D\n&gt;&gt;&gt; a=lib.foo(b\"s\")\nHello, I'm a shared library D\n</code></pre>\n\n<p>It is clear that what you need is <code>ord(\"s\")</code>.</p>\n\n<hr>\n\n<p>One more thing: it is just a guess but maybe the error that you read came from the library that read an incorrect char as first argument. </p>\n\n<hr>\n\n<p>Follow a lot of edits where we can see how many wrong assumptions or silly errors we can do if we don't use a correct cast by use <code>ctypes</code> to call a C library function. Now what I wrote above it was useful just to understand where the issue was but the real production code that should work either in Python 2 and Python 3 should declare the correct function interface and use <code>b\"s\"</code> as argument:</p>\n\n<pre><code>&gt;&gt;&gt; lib.foo.argtypes = (c_char,)\n&gt;&gt;&gt; lib.foo.restype = None\n&gt;&gt;&gt; lib.foo(b\"s\") \nHello, I'm a shared library s \n</code></pre>\n\n<hr>\n\n<p>Just for the record:</p>\n\n<p><strong>[EDIT]</strong></p>\n\n<p>As @eryksun has correctly pointed me in the comments it is very unsafe call C function without use a correct cast: it is like in C don't use a prototype and everything become <code>int</code>. So if you don't set function <code>argtype</code> is better use explicit cast like:</p>\n\n<pre><code>&gt;&gt;&gt; a=lib.foo(c_char(ord(\"s\"))) #Work Just on Python 3\nHello, I'm a shared library s\n&gt;&gt;&gt; a=lib.foo(c_char(\"s\")) # Just Python 2.7\nHello, I'm a shared library s\n&gt;&gt;&gt; a=lib.foo(c_char(b\"s\")) # Python 2 and 3\nHello, I'm a shared library s\n</code></pre>\n\n<p><strong>[EDIT]</strong></p>\n\n<p>Follow from your comment: you can also hardcode <code>ord(\"s\")</code> by use either <code>105</code> or hex value <code>0x73</code></p>\n\n<pre><code>&gt;&gt;&gt; a=lib.foo(105)\nHello, I'm a shared library s\n&gt;&gt;&gt; a=lib.foo(0x73)\nHello, I'm a shared library s\n</code></pre>\n\n<p><strong>[EDIT]</strong></p>\n\n<p>As @Dunes pointed out there is a way to tell to python how do that conversion implicitly by <code>lib.foo.argtypes = (c_char,)</code>. But how you build your char by <code>b\"s\"</code> or simply <code>\"s\"</code> doesn't mater (on python 2.7).</p>\n\n<pre><code>&gt;&gt;&gt; lib.foo.argtypes = (c_char,)\n&gt;&gt;&gt; a=lib.foo(b\"s\") \nHello, I'm a shared library s\n&gt;&gt;&gt; a=lib.foo(\"s\")  #Python 2.7\nHello, I'm a shared library s\n</code></pre>\n\n<p>In Python 3 use <code>b\"s\"</code> if you specify <code>argtypes</code> is mandatory:</p>\n\n<pre><code>&gt;&gt;&gt; lib.foo.argtypes = (c_char,)\n&gt;&gt;&gt; a=lib.foo(b\"s\") \nHello, I'm a shared library s\n&gt;&gt;&gt; a=lib.foo(\"s\")  #Python 3.4\nctypes.ArgumentError: argument 1: &lt;class 'TypeError'&gt;: wrong type\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4493056, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09a986e18146d3e8504fb0866d46a81?s=128&d=identicon&r=PG&f=1", "display_name": "Nick-M", "link": "https://stackoverflow.com/users/4493056/nick-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1069, "favorite_count": 0, "accepted_answer_id": 28204376, "answer_count": 2, "score": 0, "last_activity_date": 1422564868, "creation_date": 1422480275, "last_edit_date": 1422482823, "question_id": 28202676, "link": "https://stackoverflow.com/questions/28202676/invalid-input-type-for-c-char-ctypes-in-python", "title": "Invalid input type for c_char ctypes in python", "body": "<p>In my C header file I have:</p>\n\n<pre><code>long TEST_API test( \n            _IN____ const char arg1,\n            _INOUT_ char arg2[512]\n    );\n</code></pre>\n\n<p>I have imported <code>ctypes</code> in my python code and I am passing \"<code>kcOpCode</code>\" and \"<code>szXMLAdditionalParameters</code>\" to <code>eftUtility</code> function as following:</p>\n\n<pre><code>utilityXml_bytes = bytearray(b'&lt;xml&gt;&lt;test&gt;20&lt;/test&gt;&lt;/xml&gt;')\nutilityXMLparams = (ctypes.c_byte*512)(*utilityXml_bytes)\n\ndef test():\n    eftUtilityRes = lib.test(\"s\", utilityXMLparams)\n    if (eftUtilityRes == 10):\n        \"success\"\n    elif(eftUtilityRes == -10):\n        \"type 2 error\"\n    else:\n        \"type 3 error\"\n</code></pre>\n\n<p>But I keep getting invalid input type error for \"<code>arg1</code>\". what am I doing wrong here? could it be encoding problem? am I actually passing <code>s</code> to my function?</p>\n"}, {"tags": ["python", "python-3.4"], "comments": [{"owner": {"reputation": 1981, "user_id": 113374, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7WZv6.jpg?s=128&g=1", "display_name": "NextInLine", "link": "https://stackoverflow.com/users/113374/nextinline"}, "edited": false, "score": 1, "creation_date": 1422480319, "post_id": 28202650, "comment_id": 44771461, "body": "This is probably a duplicate question - Does <a href=\"http://stackoverflow.com/questions/8982163/how-do-i-tell-python-to-convert-integers-into-words\">this question</a> answer your request?"}, {"owner": {"reputation": 50179, "user_id": 594589, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0f9d5953607841d6a50b843a1107e51e?s=128&d=identicon&r=PG", "display_name": "dm03514", "link": "https://stackoverflow.com/users/594589/dm03514"}, "edited": false, "score": 2, "creation_date": 1422481011, "post_id": 28202650, "comment_id": 44771793, "body": "hypnotic source code!"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1422481175, "post_id": 28202650, "comment_id": 44771872, "body": "This is a common programming puzzle. After you finish your version, look for a generic algorithm for this and try to implement it in Python."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4504889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c0c3837e7edcac6d0a0383aba6aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Chan", "link": "https://stackoverflow.com/users/4504889/adrian-chan"}, "edited": false, "score": 0, "creation_date": 1422487375, "post_id": 28202844, "comment_id": 44774554, "body": "I tried your method, but it still gives me &quot;zero&quot; at the end if I input &quot;200&quot; or any number has two zero at the end. Do you have better way to do this?"}, {"owner": {"reputation": 488, "user_id": 4496358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a63cad54a2d35bf0f7aef50a647b7426?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4496358/tom"}, "reply_to_user": {"reputation": 1, "user_id": 4504889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c0c3837e7edcac6d0a0383aba6aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Chan", "link": "https://stackoverflow.com/users/4504889/adrian-chan"}, "edited": false, "score": 0, "creation_date": 1422488607, "post_id": 28202844, "comment_id": 44774954, "body": "I edited what I wrote to include the entire code, not a trimmed section. My output is <code>two hundred </code>. I also tried it with a handful of other numbers ending in zeros, and they all were clean."}, {"owner": {"reputation": 488, "user_id": 4496358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a63cad54a2d35bf0f7aef50a647b7426?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4496358/tom"}, "reply_to_user": {"reputation": 1, "user_id": 4504889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c0c3837e7edcac6d0a0383aba6aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Chan", "link": "https://stackoverflow.com/users/4504889/adrian-chan"}, "edited": false, "score": 0, "creation_date": 1423585863, "post_id": 28202844, "comment_id": 45203499, "body": "If your question has been solved, don&#39;t forget to <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accept an answer</a>."}], "tags": [], "owner": {"reputation": 488, "user_id": 4496358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a63cad54a2d35bf0f7aef50a647b7426?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4496358/tom"}, "is_accepted": false, "score": -1, "last_activity_date": 1422488487, "last_edit_date": 1422488487, "creation_date": 1422480897, "answer_id": 28202844, "question_id": 28202650, "link": "https://stackoverflow.com/questions/28202650/write-a-function-that-converts-number-into-english-words/28202844#28202844", "title": "Write a function that converts number into English words", "body": "<p>Can you use a kwarg? e.g.</p>\n\n<pre><code>def spelltowords(x,inner=False):\n    digits_to_nineteen = ['', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen']\n    decades = ['', 'ten', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety']\n\n    if x &lt; 1000000000:\n        if x &lt; 100000000:\n            if x &lt; 20000000:\n                if x &lt; 1000000:\n                    if x &lt; 100000:\n                        if x &lt; 20000:\n                            if x &lt; 1000:\n                                if x &lt; 100:\n                                    if x &lt; 20:\n                                        if x is 0:\n                                            if inner:\n                                                return ''\n                                            else:\n                                                return 'zero'\n                                        elif x &lt; 0:\n                                            return 'negative' + ' ' + spelltowords(-1*x)\n                                        else:\n                                            return digits_to_nineteen[x]\n                                    else:\n                                        return decades[x // 10] + ' ' + digits_to_nineteen[x % 10]\n                                else:\n                                    return digits_to_nineteen[x // 100] + ' ' + 'hundred' + ' ' + spelltowords(x % 100,inner=True)\n                            else:\n                                return digits_to_nineteen[x // 1000] + ' ' + 'thousand' + ' ' + spelltowords(x % 1000,inner=True)\n                        else:\n                            return decades[(x // 1000) // 10] + ' ' + digits_to_nineteen[(x // 1000) % 10] + ' ' + 'thousand' + ' ' + spelltowords(x % 1000,inner=True)\n                    else:\n                        return digits_to_nineteen[(x // 1000) // 100] + ' ' + 'hundred' + ' ' + spelltowords((x // 1000) % 100) + ' ' + 'thousand' + ' ' + spelltowords(x % 1000,inner=True)\n                else:\n                    return digits_to_nineteen[x // 1000000] + ' ' + 'million' + ' ' + spelltowords(x % 1000000,inner=True)\n            else:\n                return decades[(x // 1000000) // 10] + ' ' + digits_to_nineteen[(x // 1000000) % 10] + ' ' + 'million' + ' ' + spelltowords(x % 1000000,inner=True)\n        else:\n            return digits_to_nineteen[(x // 1000000) // 100] + ' ' + 'hundred' + ' ' + spelltowords((x // 1000000) % 100,inner=True)+ ' ' + 'million' + ' ' + spelltowords(x % 1000000,inner=True)\n    else:\n        return 'over the limit!'\n\n\n\n\nprint(spelltowords(200))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4504889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c0c3837e7edcac6d0a0383aba6aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Chan", "link": "https://stackoverflow.com/users/4504889/adrian-chan"}, "edited": false, "score": 0, "creation_date": 1422487543, "post_id": 28203541, "comment_id": 44774631, "body": "I understand what you mean, but how should I fix this in a way that is easy to understand the code. Is there anyway I can write this code easily?"}, {"owner": {"reputation": 41, "user_id": 4504908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwxqd.png?s=128&g=1", "display_name": "monolyth421", "link": "https://stackoverflow.com/users/4504908/monolyth421"}, "reply_to_user": {"reputation": 1, "user_id": 4504889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c0c3837e7edcac6d0a0383aba6aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Chan", "link": "https://stackoverflow.com/users/4504889/adrian-chan"}, "edited": false, "score": 0, "creation_date": 1422500578, "post_id": 28203541, "comment_id": 44778104, "body": "You have the right idea it&#39;s just implemented in a difficult way.  My suggestion is to have a separate function that returns a word representation of only the numbers 0-999.  For each thousands place you get the 3 digit number by using x % 1000.  Increment an integer to keep track of what thousands place you&#39;re in (so 0 is empty, 1 is &#39;thousand&#39;, 2 is &#39;million&#39;, etc.) and print it out each loop.  You can move to the next thousands place using integer division: number = number / 1000.  The rest is figuring out how to concatenate the strings to be in correct order."}, {"owner": {"reputation": 1, "user_id": 4504889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c0c3837e7edcac6d0a0383aba6aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Chan", "link": "https://stackoverflow.com/users/4504889/adrian-chan"}, "edited": false, "score": 0, "creation_date": 1422558555, "post_id": 28203541, "comment_id": 44808249, "body": "Would you mind to show me your explanation in code? Sorry, I feel it would helpful if you can do that."}], "tags": [], "owner": {"reputation": 41, "user_id": 4504908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwxqd.png?s=128&g=1", "display_name": "monolyth421", "link": "https://stackoverflow.com/users/4504908/monolyth421"}, "is_accepted": false, "score": 0, "last_activity_date": 1422483570, "creation_date": 1422483570, "answer_id": 28203541, "question_id": 28202650, "link": "https://stackoverflow.com/questions/28202650/write-a-function-that-converts-number-into-english-words/28203541#28203541", "title": "Write a function that converts number into English words", "body": "<p>The recursive call <code>spelltowords(x % 100)</code> calls spelltowords with 0 for when x is 200.  Calling spelltowords with 0 will return <code>'zero'</code>.  If you really want to keep your current implementation, you could make your current function into a helper function and call it with something like this:</p>\n\n<pre><code>def spelltowords(x):\n    if x == 0: return 'Zero'\n    if x &lt; 0: return 'Negative ' + spelltowards_helper(-1*x)\n    return spelltowards_helper(x)\n</code></pre>\n\n<p>Then get rid of the <code>x is 0</code> and <code>x &lt; 0</code> cases.  However, I would suggest trying to figure out a more robust solution.  Also, you have an error with those two cases anyway:</p>\n\n<pre><code>if x is 0:\n    if x &lt; 0:\n        return 'negative' + ' ' + spelltowords(-1*x)\n    return 'zero'\n</code></pre>\n\n<p>The innermost code will never be reached, x cannot be both 0 and less than 0.</p>\n"}], "owner": {"reputation": 1, "user_id": 4504889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c0c3837e7edcac6d0a0383aba6aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Chan", "link": "https://stackoverflow.com/users/4504889/adrian-chan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 948, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1422488487, "creation_date": 1422480189, "last_edit_date": 1422480432, "question_id": 28202650, "link": "https://stackoverflow.com/questions/28202650/write-a-function-that-converts-number-into-english-words", "title": "Write a function that converts number into English words", "body": "<p>Here is my code for converting number into English words. Here I have one problem that I can't resolve it. If I input <code>0</code>, this should give me <code>\"zero\"</code>. However, if I input any multiple of <code>10</code>, it will give me <code>'hundred zero'</code> rather than <code>'hundred'</code>. </p>\n\n<p>If I remove <code>if x == 0: return 'zero'</code>, this will give me <code>'zero'</code> if I input <code>'0'</code>. Therefore, how should I be able to resolve this <code>'zero'</code> issue? </p>\n\n<pre><code># Create a function that can spell out in English while inputting a whole number\n\ndef spelltowords(x):\n    digits_to_nineteen = ['', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen']\n    decades = ['', 'ten', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety']\n\n    if x &lt; 1000000000:\n        if x &lt; 100000000:\n            if x &lt; 20000000:\n                if x &lt; 1000000:\n                    if x &lt; 100000:\n                        if x &lt; 20000:\n                            if x &lt; 1000:\n                                if x &lt; 100:\n                                    if x &lt; 20:\n                                        if x is 0:\n                                            if x &lt; 0:\n                                                return 'negative' + ' ' + spelltowords(-1*x)\n                                            return 'zero'\n                                        return digits_to_nineteen[x]\n                                    else:\n                                        return decades[x // 10] + ' ' + digits_to_nineteen[x % 10]\n                                else:\n                                    return digits_to_nineteen[x // 100] + ' ' + 'hundred' + ' ' + spelltowords(x % 100)\n                            else:\n                                return digits_to_nineteen[x // 1000] + ' ' + 'thousand' + ' ' + spelltowords(x % 1000)\n                        else:\n                            return decades[(x // 1000) // 10] + ' ' + digits_to_nineteen[(x // 1000) % 10] + ' ' + 'thousand' + ' ' + spelltowords(x % 1000)\n                    else:\n                        return digits_to_nineteen[(x // 1000) // 100] + ' ' + 'hundred' + ' ' + spelltowords((x // 1000) % 100) + ' ' + 'thousand' + ' ' + spelltowords(x % 1000)\n                else:\n                    return digits_to_nineteen[x // 1000000] + ' ' + 'million' + ' ' + spelltowords(x % 1000000)\n            else:\n                return decades[(x // 1000000) // 10] + ' ' + digits_to_nineteen[(x // 1000000) % 10] + ' ' + 'million' + ' ' + spelltowords(x % 1000000)\n        else:\n            return digits_to_nineteen[(x // 1000000) // 100] + ' ' + 'hundred' + ' ' + spelltowords((x // 1000000) % 100)+ ' ' + 'million' + ' ' + spelltowords(x % 1000000)\n    else:\n        return 'over the limit!'\n\n\n\n\nprint(spelltowords(200))\n</code></pre>\n\n<p>Output from the above code</p>\n\n<pre><code>&gt;&gt;&gt; ================================ RESTART ================================\n&gt;&gt;&gt; \ntwo hundred zero\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 10485, "user_id": 1274908, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gv5Fr.jpg?s=128&g=1", "display_name": "ericmjl", "link": "https://stackoverflow.com/users/1274908/ericmjl"}, "edited": false, "score": 0, "creation_date": 1422480425, "post_id": 28202634, "comment_id": 44771515, "body": "You&#39;re on the right track! I would definitely recommend the <code>set</code> operation, as it&#39;s a single function call that gets exactly what you need; you can then pop out the <code>None</code>s and <code>0</code>s from your final set."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1422480472, "post_id": 28202634, "comment_id": 44771544, "body": "Regular sets in Python lack a defined order, but there is always <a href=\"http://stackoverflow.com/questions/1653970/does-python-have-an-ordered-set\">OrderedDict</a>"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 3, "creation_date": 1422480604, "post_id": 28202634, "comment_id": 44771607, "body": "<code>return</code> outside of function = syntax error"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1422480761, "post_id": 28202634, "comment_id": 44771678, "body": "You&#39;d also want to check that you aren&#39;t comparing an index against itself and also that you don&#39;t derive 2 duplicates for both times you compare the indexes (e.g. dont count 2 duplicates because 3 is a duplicate of 4 but 4 is also a duplicate of 3)"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1422481008, "post_id": 28202634, "comment_id": 44771792, "body": "Jtor, see my code below. Once the function finds an element that occurs more than once, it returns as a duplicate."}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 1, "creation_date": 1422481045, "post_id": 28202634, "comment_id": 44771808, "body": "&quot;Is there a way to ignore the None or 0 case?&quot; Sure: <code>if myList[i] is None or myList[i] == 0: continue</code>"}, {"owner": {"reputation": 123, "user_id": 3517223, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b336c408cd31b9b4719149e92a87362a?s=128&d=identicon&r=PG&f=1", "display_name": "jtor", "link": "https://stackoverflow.com/users/3517223/jtor"}, "edited": false, "score": 0, "creation_date": 1422541125, "post_id": 28202634, "comment_id": 44797094, "body": "Thanks guys.  I actually also figured out instead of exampleList = [None] * 9 I can do [0]*9 which is even better for my situation!"}], "answers": [{"tags": [], "owner": {"reputation": 2294, "user_id": 3902840, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lYm5J.jpg?s=128&g=1", "display_name": "paolo", "link": "https://stackoverflow.com/users/3902840/paolo"}, "is_accepted": false, "score": 2, "last_activity_date": 1422480445, "creation_date": 1422480445, "answer_id": 28202716, "question_id": 28202634, "link": "https://stackoverflow.com/questions/28202634/check-for-duplicates-in-a-python-list/28202716#28202716", "title": "check for duplicates in a python list", "body": "<p>Try changing the actual comparison line to this:</p>\n\n<pre><code>if myList[j] == myList[k] and not myList[j] in [None, 0]:\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1548208248, "post_id": 28202745, "comment_id": 95457593, "body": "How does this tell you if any of the truthy elements are duplicated?"}], "tags": [], "owner": {"reputation": 10485, "user_id": 1274908, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gv5Fr.jpg?s=128&g=1", "display_name": "ericmjl", "link": "https://stackoverflow.com/users/1274908/ericmjl"}, "is_accepted": false, "score": -1, "last_activity_date": 1422480534, "creation_date": 1422480534, "answer_id": 28202745, "question_id": 28202634, "link": "https://stackoverflow.com/questions/28202634/check-for-duplicates-in-a-python-list/28202745#28202745", "title": "check for duplicates in a python list", "body": "<p>Here's a bit of code that will show you how to remove None and 0 from the sets.</p>\n\n<pre><code>l1 = [0, 1, 1, 2, 4, 7, None, None]\n\nl2 = set(l1)\nl2.remove(None)\nl2.remove(0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4692, "user_id": 4289293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d437940933d37d70f44e4091659c39?s=128&d=identicon&r=PG&f=1", "display_name": "rchang", "link": "https://stackoverflow.com/users/4289293/rchang"}, "is_accepted": false, "score": 2, "last_activity_date": 1422480550, "creation_date": 1422480550, "answer_id": 28202753, "question_id": 28202634, "link": "https://stackoverflow.com/questions/28202634/check-for-duplicates-in-a-python-list/28202753#28202753", "title": "check for duplicates in a python list", "body": "<p>I'm not certain if you are trying to ascertain whether or a duplicate exists, or identify the items that are duplicated (if any).  Here is a <code>Counter</code>-based solution for the latter:</p>\n\n<pre><code># Python 2.7\nfrom collections import Counter\n\n#\n# Rest of your code\n#\n\ncounter = Counter(myList)\ndupes = [key for (key, value) in counter.iteritems() if value &gt; 1 and key]\nprint dupes\n</code></pre>\n\n<p>The <code>Counter</code> object will automatically count occurances for each item in your iterable list.  The list comprehension that builds <code>dupes</code> essentially filters out all items appearing only once, and also upon items whose boolean evaluation are <code>False</code> (this would filter out both 0 and <code>None</code>).</p>\n\n<p>If your purpose is only to identify that duplication has taken place (without enumerating which items were duplicated), you could use the same method and test <code>dupes</code>:</p>\n\n<pre><code>if dupes:  print \"Something in the list is duplicated\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 2, "last_activity_date": 1422480924, "last_edit_date": 1422480924, "creation_date": 1422480563, "answer_id": 28202757, "question_id": 28202634, "link": "https://stackoverflow.com/questions/28202634/check-for-duplicates-in-a-python-list/28202757#28202757", "title": "check for duplicates in a python list", "body": "<p>If you simply want to check if it contains duplicates. Once the function finds an element that occurs more than once, it returns as a duplicate.</p>\n\n<pre><code>my_list = [1, 2, 2, 3, 4]\n\ndef check_list(arg):\n    for i in arg:\n        if arg.count(i) &gt; 1:\n            return 'Duplicate'\n\nprint check_list(my_list) == 'Duplicate' # prints True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 265, "user_id": 5428005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-Q9ozLkgxhcQ/AAAAAAAAAAI/AAAAAAAAAC0/q6njnF9kuSs/photo.jpg?sz=128", "display_name": "Mike Issa", "link": "https://stackoverflow.com/users/5428005/mike-issa"}, "edited": false, "score": 0, "creation_date": 1501802395, "post_id": 28203037, "comment_id": 77953372, "body": "Thank you, but what if I wanted the second duplicate?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 265, "user_id": 5428005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-Q9ozLkgxhcQ/AAAAAAAAAAI/AAAAAAAAAC0/q6njnF9kuSs/photo.jpg?sz=128", "display_name": "Mike Issa", "link": "https://stackoverflow.com/users/5428005/mike-issa"}, "edited": false, "score": 2, "creation_date": 1501872772, "post_id": 28203037, "comment_id": 77988547, "body": "@MikeIssa, so the second occurrence? It would only really make sense of you wanted the index or to reorder based on when the second appeared, if you had a concrete example, it would be easy to implement, with a <code>collections.Counter</code>"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1422484989, "last_edit_date": 1422484989, "creation_date": 1422481657, "answer_id": 28203037, "question_id": 28202634, "link": "https://stackoverflow.com/questions/28202634/check-for-duplicates-in-a-python-list/28203037#28203037", "title": "check for duplicates in a python list", "body": "<p>To remove dups and keep order ignoring 0 and None, if you have other falsey values that you want to keep  you will need to specify is not None and not 0:</p>\n\n<pre><code>print [ele for ind, ele in enumerate(lst[:-1]) if ele not in lst[:ind] or not ele] \n</code></pre>\n\n<p>If you just want the first dup:</p>\n\n<pre><code>for ind, ele in enumerate(lst[:-1]):\n    if ele in lst[ind+1:] and ele:\n        print(ele)\n        break\n</code></pre>\n\n<p>Or store seen in a set:</p>\n\n<pre><code>seen = set()\nfor  ele in lst:\n    if ele in seen:\n        print(ele)\n        break\n    if ele:\n        seen.add(ele) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 2, "creation_date": 1546648162, "post_id": 54047842, "comment_id": 94931128, "body": "Please consider explaining your answer."}], "tags": [], "owner": {"reputation": 1, "user_id": 9787279, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-V4-LPAzEoPQ/AAAAAAAAAAI/AAAAAAAAAAw/98gjkd1QQJk/photo.jpg?sz=128", "display_name": "CodedCuber", "link": "https://stackoverflow.com/users/9787279/codedcuber"}, "is_accepted": false, "score": 0, "last_activity_date": 1548207898, "last_edit_date": 1548207898, "creation_date": 1546647888, "answer_id": 54047842, "question_id": 28202634, "link": "https://stackoverflow.com/questions/28202634/check-for-duplicates-in-a-python-list/54047842#54047842", "title": "check for duplicates in a python list", "body": "<p>In my opinion, this is the simplest solution I could come up with. this should work with any list. The only downside is that it does not count the number of duplicates, but instead just returns True or False</p>\n\n<pre><code>for k, j in mylist:\n    return k == j\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1546649268, "creation_date": 1546649268, "answer_id": 54047968, "question_id": 28202634, "link": "https://stackoverflow.com/questions/28202634/check-for-duplicates-in-a-python-list/54047968#54047968", "title": "check for duplicates in a python list", "body": "<p>You can use <a href=\"https://docs.python.org/3.7/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\"><code>collections.defaultdict</code></a> and specify a condition, such as non-zero / Truthy, and specify a threshold. If the count for a particular value exceeds the threshold, the function will return that value. If no such value exists, the function returns <code>False</code>.</p>\n\n<pre><code>from collections import defaultdict\n\ndef check_duplicates(it, condition, thresh):\n    dd = defaultdict(int)\n    for value in it:\n        dd[value] += 1\n        if condition(value) and dd[value] &gt; thresh:\n            return value\n    return False\n\nL = [1, None, None, 2, 2, 4, None, 3, None]\n\nres = check_duplicates(L, condition=bool, thresh=1)  # 2\n</code></pre>\n\n<p>Note in the above example the function <code>bool</code> will not consider <code>0</code> or <code>None</code> for threshold breaches. You could also use, for example, <code>lambda x: x != 1</code> to exclude values equal to <code>1</code>.</p>\n"}], "owner": {"reputation": 123, "user_id": 3517223, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b336c408cd31b9b4719149e92a87362a?s=128&d=identicon&r=PG&f=1", "display_name": "jtor", "link": "https://stackoverflow.com/users/3517223/jtor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18317, "favorite_count": 0, "answer_count": 7, "score": 2, "last_activity_date": 1565130742, "creation_date": 1422480138, "question_id": 28202634, "link": "https://stackoverflow.com/questions/28202634/check-for-duplicates-in-a-python-list", "title": "check for duplicates in a python list", "body": "<p>I've seen a lot of variations of this question from things as simple as remove duplicates to finding and listing duplicates.  Even trying to take bits and pieces of these examples does not get me my result.</p>\n\n<p>My question is how am I able to check if my list has a duplicate entry?  Even better, does my list have a non-zero duplicate?  </p>\n\n<p>I've had a few ideas - </p>\n\n<pre><code>#empty list\nmyList = [None] * 9 \n\n#all the elements in this list are None\n\n#fill part of the list with some values\nmyList[0] = 1\nmyList[3] = 2\nmyList[4] = 2\nmyList[5] = 4\nmyList[7] = 3\n\n#coming from C, I attempt to use a nested for loop\nj = 0\nk = 0\nfor j in range(len(myList)):\n    for k in range(len(myList)):\n        if myList[j] == myList[k]:\n            print \"found a duplicate!\"\n            return\n</code></pre>\n\n<p>If this worked, it would find the duplicate (None) in the list.  Is there a way to ignore the None or 0 case? I do not care if two elements are 0.</p>\n\n<p>Another solution I thought of was turn the list into a set and compare the lengths of the set and list to determine if there is a duplicate but when running set(myList) it not only removes duplicates, it orders it as well.  I could have separate copies, but it seems redundant.</p>\n"}, {"tags": ["python", "django", "facebook"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1422486945, "post_id": 28202440, "comment_id": 44774419, "body": "As per which &quot;docs&quot;?"}, {"owner": {"reputation": 2567, "user_id": 2528395, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/09e92575967d3e13cb550c3bf2b2f55d?s=128&d=identicon&r=PG", "display_name": "Michael Smith", "link": "https://stackoverflow.com/users/2528395/michael-smith"}, "edited": false, "score": 0, "creation_date": 1422487013, "post_id": 28202440, "comment_id": 44774439, "body": "I used this doc: <a href=\"https://developers.facebook.com/docs/web/webmasters\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/web/webmasters</a>"}], "owner": {"reputation": 2567, "user_id": 2528395, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/09e92575967d3e13cb550c3bf2b2f55d?s=128&d=identicon&r=PG", "display_name": "Michael Smith", "link": "https://stackoverflow.com/users/2528395/michael-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1422487032, "creation_date": 1422479404, "last_edit_date": 1422487032, "question_id": 28202440, "link": "https://stackoverflow.com/questions/28202440/customizing-facebook-share-button-in-django", "title": "Customizing facebook share button in Django?", "body": "<p>I am trying to customize the content of my facebook share, but I haven't been able to do this successfully. As per the docs (<a href=\"https://developers.facebook.com/docs/web/webmasters\" rel=\"nofollow\">https://developers.facebook.com/docs/web/webmasters</a>). I have added the og tags:</p>\n\n<pre><code>        &lt;meta property=\"og:url\" content=\"www.mysite.com\" /&gt;\n        &lt;meta property=\"og:title\" content=\"Check out this link\" /&gt;\n        &lt;meta property=\"og:description\" content=\"This is a test description\" /&gt; \n        &lt;meta property=\"og:image\" content=\"http://img1.123freevectors.com/wp-content/uploads/new/icon/075-smiley-face-vector-art-free-download-l.png\" /&gt; \n</code></pre>\n\n<p>My facebook html contains this: </p>\n\n<pre><code>&lt;div class=\"fb-share-button\" data-layout=\"button\"&gt;&lt;/div&gt;\n</code></pre>\n\n\n\n<pre><code>&lt;script&gt;(function(d, s, id) {\n  var js, fjs = d.getElementsByTagName(s)[0];\n  if (d.getElementById(id)) return;\n  js = d.createElement(s); js.id = id;\n  js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v2.0\";\n  fjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'facebook-jssdk'));&lt;/script&gt;\n</code></pre>\n\n<p>When I debug this code using the facebook debug tool, I get warnings. These warnings don't make sense to me since when I inspect element the og tags are in the head section. The warnings are:</p>\n\n<pre><code>Inferred Property   The 'og:url' property should be explicitly provided, even if a value can be inferred from other tags.\nInferred Property   The 'og:title' property should be explicitly provided, even if a value can be inferred from other tags.\nInferred Property   The 'og:description' property should be explicitly provided, even if a value can be inferred from other tags.\nInferred Property   The 'og:image' property should be explicitly provided, even if a value can be inferred from other tags.\n</code></pre>\n\n<p>What could be the issue here?</p>\n"}, {"tags": ["python", "git"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1422479362, "post_id": 28202415, "comment_id": 44770999, "body": "Did you look at the actual value you&#39;re getting from the file?  It might have a newline at the end or something like that.  The blank line in your output also suggests an extra newline.  Try using <code>%r</code> instead of <code>%s</code> in your <code>print</code> to print the <code>repr</code> instead of the <code>str</code> of your string; this will show any extra <code>\\n</code> or the like."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1422479459, "post_id": 28202415, "comment_id": 44771061, "body": "I agree with @BrenBarn that there may be whitespace secretly messing things up. Try <code>print (&quot;it still is :%s&quot; % repr(value))</code>, and see if there&#39;s a \\r at the end or something."}, {"owner": {"reputation": 2535, "user_id": 365580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b6a66e5c9d45efe58ead78f1c55b4d5?s=128&d=identicon&r=PG", "display_name": "Doody P", "link": "https://stackoverflow.com/users/365580/doody-p"}, "edited": false, "score": 1, "creation_date": 1422479494, "post_id": 28202415, "comment_id": 44771078, "body": "try to add <code>value.strip()</code> to get rid of any whitespaces"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3183709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33a0e1411b04213213a3a363b4b9b87?s=128&d=identicon&r=PG&f=1", "display_name": "bklynjones", "link": "https://stackoverflow.com/users/3183709/bklynjones"}, "edited": false, "score": 0, "creation_date": 1422486646, "post_id": 28202520, "comment_id": 44774318, "body": "Oh Joy!  .strip() worked!    I actually backed off the use of making a file since the StringIO implementation is cleaner. Thank you!"}], "tags": [], "owner": {"reputation": 2134, "user_id": 2141391, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/89ac403a5be7d6a57405337f5d809b41?s=128&d=identicon&r=PG", "display_name": "user108471", "link": "https://stackoverflow.com/users/2141391/user108471"}, "is_accepted": true, "score": 0, "last_activity_date": 1422479728, "creation_date": 1422479728, "answer_id": 28202520, "question_id": 28202415, "link": "https://stackoverflow.com/questions/28202415/str-argument-only-functioning-when-submitted-via-single-quotes-as-opposed-to-ass/28202520#28202520", "title": "str argument only functioning when submitted via single quotes as opposed to assigned variable", "body": "<p>When you read from a file, you usually get a trailing newline character. Try stripping that off first:</p>\n\n<pre><code>with open('shafile.txt', 'r') as f:\n    value = f.read().strip()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3183709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33a0e1411b04213213a3a363b4b9b87?s=128&d=identicon&r=PG&f=1", "display_name": "bklynjones", "link": "https://stackoverflow.com/users/3183709/bklynjones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 28202520, "answer_count": 1, "score": 0, "last_activity_date": 1422479728, "creation_date": 1422479290, "question_id": 28202415, "link": "https://stackoverflow.com/questions/28202415/str-argument-only-functioning-when-submitted-via-single-quotes-as-opposed-to-ass", "title": "str argument only functioning when submitted via single quotes as opposed to assigned variable", "body": "<p>I am using <a href=\"http://docs.libsaas.net/en/latest/generated/github/\" rel=\"nofollow\">Libsaas</a> to pull a <a href=\"https://developer.github.com/v3/git/commits/#get-a-commit\" rel=\"nofollow\">specific commit via sha</a> </p>\n\n<p>This python function pulls sha at HEAD </p>\n\n<pre><code>sha_in_memory = StringIO()\n\ndef get_sha():\n    p1 = Popen([\"git\", \"rev-parse\", \"HEAD\"], stdout = PIPE)\n    sha = p1.communicate()[0]\n    print (\"the sha is: %s\" % sha)\n    p1.stdout.close()\n    sha_in_memory.write(sha)\n    # sha = local(\"git rev-parse HEAD\")\n    sha_in_file = open('shafile.txt', 'w')\n    sha_in_file.write(sha)\n    sha_in_file.close()\n</code></pre>\n\n<p>This redundant file and write to memory is a result of me trying various solutions. </p>\n\n<p>Next I am reading the sha into a variable named 'value' </p>\n\n<pre><code>with open('shafile.txt', 'r') as f:\n        value = f.read()\n</code></pre>\n\n<p>value is submitted as the sha arg for the <a href=\"http://docs.libsaas.net/en/latest/generated/github/#github.organizations.OrganizationRepo.commit\" rel=\"nofollow\">libsaas commit function</a></p>\n\n<pre><code>print (\"it still is :%s\" % value) #sanity check it is returning the expected sha hash\n    print  repo.commit(value).get() \n</code></pre>\n\n<p>When run on the command line the following response is returned </p>\n\n<pre><code>it still is :137993b2f8408cbb66b82dd67c85e610c4f83874\n\nTraceback (most recent call last):\n  File \"remote_git_tasks.py\", line 48, in &lt;module&gt;\n    print  repo.commit(value).get()\n  File \"/Library/Python/2.7/site-packages/libsaas/services/base.py\", line 95, in wrapped\n    return current.process(request, parser)\n  File \"/Library/Python/2.7/site-packages/libsaas/executors/urllib2_executor.py\", line 80, in __call__\n    return parser(body, resp.code, headers)\n  File \"/Library/Python/2.7/site-packages/libsaas/parsers.py\", line 16, in parse_json\n    raise http.HTTPError(body, code, headers)\nlibsaas.http.HTTPError: &lt;HTTPError code 404&gt;\n</code></pre>\n\n<p>I have made sure it is a str I am returning using </p>\n\n<pre><code>print type(value) is str\n</code></pre>\n\n<p>This returns 'True' </p>\n\n<p>When I submit the argument by simply placing the sha in quotes it works, returning the expected JSON from the api. </p>\n\n<pre><code>print  repo.commit('137993b2f8408cbb66b82dd67c85e610c4f83874').get()\n</code></pre>\n\n<p>I have tried a variety of conversions and have even rewritten the function to make use of Fabric's local() function and again Subprocess' Popen.  In each case when I use the defined variable it does not work, when I submit the sha in '' works. </p>\n\n<p>Any clarity would be greatly appreciated. </p>\n"}, {"tags": ["python", "loops", "dictionary"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1422479214, "post_id": 28202344, "comment_id": 44770928, "body": "I don&#39;t suppose you think that that error message might be significant in any way? In which case, maybe you should tell us what it is."}, {"owner": {"reputation": 1309, "user_id": 1494504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebf4843a3b42911eb1495339a2c2442?s=128&d=identicon&r=PG", "display_name": "lynxlynxlynx", "link": "https://stackoverflow.com/users/1494504/lynxlynxlynx"}, "edited": false, "score": 0, "creation_date": 1422479948, "post_id": 28202344, "comment_id": 44771282, "body": "Better, but which line is line 9?"}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1422480562, "post_id": 28202344, "comment_id": 44771586, "body": "The <code>d</code> in the question is not your actual <code>d</code>, is it?"}, {"owner": {"reputation": 161, "user_id": 4495737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-aDnXBhk67Ok/AAAAAAAAAAI/AAAAAAAAAF8/Hhfu6eHqrL4/photo.jpg?sz=128", "display_name": "Fede Couti", "link": "https://stackoverflow.com/users/4495737/fede-couti"}, "edited": false, "score": 0, "creation_date": 1422480651, "post_id": 28202344, "comment_id": 44771639, "body": "What do you mean my actual <code>d</code>?"}, {"owner": {"reputation": 1309, "user_id": 1494504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebf4843a3b42911eb1495339a2c2442?s=128&d=identicon&r=PG", "display_name": "lynxlynxlynx", "link": "https://stackoverflow.com/users/1494504/lynxlynxlynx"}, "edited": false, "score": 0, "creation_date": 1422480709, "post_id": 28202344, "comment_id": 44771661, "body": "Try deleting your code and copy/pasting it from your question. Your snippet works for me (see my initial answer). You seemed to have snuck an odd character in the last line."}, {"owner": {"reputation": 161, "user_id": 4495737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-aDnXBhk67Ok/AAAAAAAAAAI/AAAAAAAAAF8/Hhfu6eHqrL4/photo.jpg?sz=128", "display_name": "Fede Couti", "link": "https://stackoverflow.com/users/4495737/fede-couti"}, "edited": false, "score": 0, "creation_date": 1422480919, "post_id": 28202344, "comment_id": 44771755, "body": "You&#39;re right I don&#39;t know what character I wrote before"}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1422482340, "post_id": 28202344, "comment_id": 44772487, "body": "Perhaps &quot;&#193;&quot;, that&#39;s <code>0xc3</code> in Latin-1 aka <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO/IEC_8859-1</a>. Your Problem has nothing to do with the dictionary, but with encoding."}], "answers": [{"comments": [{"owner": {"reputation": 17500, "user_id": 3113477, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TWIEk.jpg?s=128&g=1", "display_name": "A.J. Uppal", "link": "https://stackoverflow.com/users/3113477/a-j-uppal"}, "edited": false, "score": 0, "creation_date": 1422479365, "post_id": 28202377, "comment_id": 44771002, "body": "Huh. so you downvoted everyone else&#39;s answer, when yours is plainly wrong. How do you know he&#39;s using <a href=\"https://stackoverflow.com/questions/tagged/python3.x\">python3.x</a>?"}, {"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 0, "creation_date": 1422479441, "post_id": 28202377, "comment_id": 44771051, "body": "I downvoted all the other answers. None of them address what&#39;s wrong with the code in the question."}, {"owner": {"reputation": 1309, "user_id": 1494504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebf4843a3b42911eb1495339a2c2442?s=128&d=identicon&r=PG", "display_name": "lynxlynxlynx", "link": "https://stackoverflow.com/users/1494504/lynxlynxlynx"}, "edited": false, "score": 0, "creation_date": 1422479459, "post_id": 28202377, "comment_id": 44771063, "body": "Why would I do that? Anyway, added some reasoning."}], "tags": [], "owner": {"reputation": 1309, "user_id": 1494504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ebf4843a3b42911eb1495339a2c2442?s=128&d=identicon&r=PG", "display_name": "lynxlynxlynx", "link": "https://stackoverflow.com/users/1494504/lynxlynxlynx"}, "is_accepted": false, "score": 0, "last_activity_date": 1422480946, "last_edit_date": 1422480946, "creation_date": 1422479150, "answer_id": 28202377, "question_id": 28202344, "link": "https://stackoverflow.com/questions/28202344/having-trouble-to-loop-through-dictionaries-in-python/28202377#28202377", "title": "Having trouble to loop through dictionaries in Python", "body": "<p>You snuck invalid characters in your code. Python2 uses ascii encoding by default, so it doesn't tolerate characters over 127 (which 0xc3 == 195 is). Since it seems like a mistake, delete the whole problematic line and retype it \u2014 your snippet worked just fine here.</p>\n\n<p>You could also set the encoding to utf-8, which should remove the error. However you should avoid this fix, as it does not seem appropriate for this occasion:</p>\n\n<pre><code># top of the file\nimport sys\nsys.setdefaultencoding('utf8')\n</code></pre>\n\n<hr>\n\n<p>intial answer, before actual error:</p>\n\n<p>You're using Python version 3+, which has changed semantics for <code>print</code>. It's a function now, so do as the error suggests and use <code>print(somevalue)</code>.</p>\n\n<p>Python2:</p>\n\n<pre><code>&gt;&gt;&gt; for key in d:\n...     print d[key]\n... \n88\n100\n25\n&gt;&gt;&gt; type(print)\n  File \"&lt;stdin&gt;\", line 1\n    type(print)\n             ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Python3:</p>\n\n<pre><code>&gt;&gt;&gt; for key in d:\n...     print d[key]\n  File \"&lt;stdin&gt;\", line 2\n    print d[key]\n          ^\nSyntaxError: Missing parentheses in call to 'print'\n&gt;&gt;&gt; type(print)\n&lt;class 'builtin_function_or_method'&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20896, "user_id": 471800, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffae61be63e2b76f10c2b39bb7b07aaf?s=128&d=identicon&r=PG", "display_name": "Hamish", "link": "https://stackoverflow.com/users/471800/hamish"}, "is_accepted": true, "score": -3, "last_activity_date": 1422479160, "creation_date": 1422479160, "answer_id": 28202381, "question_id": 28202344, "link": "https://stackoverflow.com/questions/28202344/having-trouble-to-loop-through-dictionaries-in-python/28202381#28202381", "title": "Having trouble to loop through dictionaries in Python", "body": "<p>Have a look that the Python <a href=\"https://docs.python.org/2/library/stdtypes.html#mapping-types-dict\" rel=\"nofollow\"><code>dict</code></a> documentation. If you want to iterate over values:</p>\n\n<pre><code>for value in d.values():\n    print(value)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3781, "user_id": 1437986, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a8577b18950c9efc1e7f010cc95136b3?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/1437986/andres"}, "is_accepted": false, "score": -3, "last_activity_date": 1422479176, "creation_date": 1422479176, "answer_id": 28202388, "question_id": 28202344, "link": "https://stackoverflow.com/questions/28202344/having-trouble-to-loop-through-dictionaries-in-python/28202388#28202388", "title": "Having trouble to loop through dictionaries in Python", "body": "<p>you can use:</p>\n\n<pre><code>d = {\"Room\" : 100, \"Day\" : 25, \"Night\" : 88}\n\nfor key, value in d.items():\n     print key, value\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1912, "user_id": 13903942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YEj2M.png?s=128&g=1", "display_name": "Federico Ba&#249;", "link": "https://stackoverflow.com/users/13903942/federico-ba%c3%b9"}, "edited": false, "score": 0, "creation_date": 1610628611, "post_id": 65717957, "comment_id": 116195970, "body": "Welcome to StackOverflow. While this code may solve the question, including an explanation of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please edit your answer to add explanations and give an indication of what limitations and assumptions apply.  Have a look here \u2192 <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>"}], "tags": [], "owner": {"reputation": 11, "user_id": 15004411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3ug9c.jpg?s=128&g=1", "display_name": "Filip", "link": "https://stackoverflow.com/users/15004411/filip"}, "is_accepted": false, "score": -1, "last_activity_date": 1610632143, "last_edit_date": 1610632143, "creation_date": 1610622886, "answer_id": 65717957, "question_id": 28202344, "link": "https://stackoverflow.com/questions/28202344/having-trouble-to-loop-through-dictionaries-in-python/65717957#65717957", "title": "Having trouble to loop through dictionaries in Python", "body": "<p>Simply saying, here is what sublime asked me when I run your code:\nDid you mean print(d[key]) ?  :-)</p>\n<p>You can also use:</p>\n<pre><code>d = {&quot;Room&quot; : 100, &quot;Day&quot; : 25, &quot;Night&quot; : 88}\nfor key in d:\n    v = d[key]\n    print(v)\n</code></pre>\n<p>Explanation in case needed:\nfor each element in 'd' dictionary:\ncreate variable called 'v' assigned to each element in d /\nprint variable v</p>\n"}], "owner": {"reputation": 161, "user_id": 4495737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-aDnXBhk67Ok/AAAAAAAAAAI/AAAAAAAAAF8/Hhfu6eHqrL4/photo.jpg?sz=128", "display_name": "Fede Couti", "link": "https://stackoverflow.com/users/4495737/fede-couti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 28202381, "answer_count": 4, "score": -2, "last_activity_date": 1610632143, "creation_date": 1422479008, "last_edit_date": 1422479856, "question_id": 28202344, "link": "https://stackoverflow.com/questions/28202344/having-trouble-to-loop-through-dictionaries-in-python", "title": "Having trouble to loop through dictionaries in Python", "body": "<p>I'm learning Python and I'm having some trouble to loop through dictionaries. I want to loop through the whole dictionary and print every value with this code:</p>\n\n<pre><code>d = {\"Room\" : 100, \"Day\" : 25, \"Night\" : 88}\n\nfor key in d:\n    print d[key]\n</code></pre>\n\n<p>But get an error message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"python\", line 9, in &lt;module&gt;\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 18: ordinal not in range(128)\n</code></pre>\n"}, {"tags": ["python", "authorization", "pyramid", "wsgi", "user-registration"], "comments": [{"owner": {"reputation": 1339, "user_id": 997624, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ea2fcbcd34b9b00e093c9ef1b9dace0e?s=128&d=identicon&r=PG", "display_name": "Raj", "link": "https://stackoverflow.com/users/997624/raj"}, "edited": false, "score": 2, "creation_date": 1422502387, "post_id": 28202310, "comment_id": 44778484, "body": "Use a database. Check out SQLAlchemy and SQLite."}, {"owner": {"reputation": 1979, "user_id": 425104, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/10d83ea09c918d39df5357b9f02a798d?s=128&d=identicon&r=PG", "display_name": "QLands", "link": "https://stackoverflow.com/users/425104/qlands"}, "reply_to_user": {"reputation": 1339, "user_id": 997624, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ea2fcbcd34b9b00e093c9ef1b9dace0e?s=128&d=identicon&r=PG", "display_name": "Raj", "link": "https://stackoverflow.com/users/997624/raj"}, "edited": false, "score": 0, "creation_date": 1423050495, "post_id": 28202310, "comment_id": 44989452, "body": "Yes. I did that and works like a charm. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 3012062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Md0d6.png?s=128&g=1", "display_name": "MobilePro.pl", "link": "https://stackoverflow.com/users/3012062/mobilepro-pl"}, "is_accepted": true, "score": 1, "last_activity_date": 1423132093, "creation_date": 1423132093, "answer_id": 28341531, "question_id": 28202310, "link": "https://stackoverflow.com/questions/28202310/in-pyramid-how-should-i-keep-a-list-of-users-and-allow-adding-more-with-a-regist/28341531#28341531", "title": "In Pyramid how should I keep a list of users and allow adding more with a registration view?", "body": "<p>If you really need to keep Users list in memory you should write function updating this list and call it when new User is registered.</p>\n\n<p>If I were you I would rather create global function getting Users from database and cache it for some time using for example Beaker Cache and when new User is added I would invalidate this cache region. To get more details please refer to the Beaker Cache manual.</p>\n"}], "owner": {"reputation": 1979, "user_id": 425104, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/10d83ea09c918d39df5357b9f02a798d?s=128&d=identicon&r=PG", "display_name": "QLands", "link": "https://stackoverflow.com/users/425104/qlands"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 28341531, "answer_count": 1, "score": 0, "last_activity_date": 1423132093, "creation_date": 1422478897, "question_id": 28202310, "link": "https://stackoverflow.com/questions/28202310/in-pyramid-how-should-i-keep-a-list-of-users-and-allow-adding-more-with-a-regist", "title": "In Pyramid how should I keep a list of users and allow adding more with a registration view?", "body": "<p>I have an application that implements authorization as described here: <a href=\"http://michael.merickel.org/projects/pyramid_auth_demo/\" rel=\"nofollow\">http://michael.merickel.org/projects/pyramid_auth_demo/</a></p>\n\n<p>In the examples the users are kept in a global variable called USERS = {} that I have in a module called config.py</p>\n\n<pre><code>USERS = {}\n</code></pre>\n\n<p>The problem is that I have a registration view that adds new users to USERS with this code:</p>\n\n<pre><code>config.USERS[\"newUser\"] = User(\"newUser\")\n</code></pre>\n\n<p>but as WSGI server handles the requests config.USERS in some cases does not contain the newly added user by the registration process.</p>\n\n<p>How should I keep the list of users so is updated by the registration process and accessed in an updated way by all other requests?</p>\n"}, {"tags": ["python", "html", "xml", "html-parsing", "lxml"], "comments": [{"owner": {"reputation": 1982, "user_id": 1215687, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/64e45cc8ee1cb8f6a8e981243ccaa600?s=128&d=identicon&r=PG", "display_name": "Walrus the Cat", "link": "https://stackoverflow.com/users/1215687/walrus-the-cat"}, "edited": false, "score": 0, "creation_date": 1422478719, "post_id": 28202165, "comment_id": 44770683, "body": "Actually, instead of downvoting, it&#39;d be much more helpful if you could just answer the question."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1422478843, "post_id": 28202165, "comment_id": 44770738, "body": "Well, I didn&#39;t downvote, but I think I know the reason - there is no example input and output, hence it is too broad. Please improve your question."}, {"owner": {"reputation": 1982, "user_id": 1215687, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/64e45cc8ee1cb8f6a8e981243ccaa600?s=128&d=identicon&r=PG", "display_name": "Walrus the Cat", "link": "https://stackoverflow.com/users/1215687/walrus-the-cat"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1422478959, "post_id": 28202165, "comment_id": 44770808, "body": "It&#39;s pretty unambiguous.  Imagine an HtmlElement.  Now imagine it without its children.  <i>boom</i>"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1422479054, "post_id": 28202165, "comment_id": 44770855, "body": "Don&#39;t get me wrong (and no offense) - if you want someone to help you, help that someone to help you by making an example."}], "answers": [{"comments": [{"owner": {"reputation": 1982, "user_id": 1215687, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/64e45cc8ee1cb8f6a8e981243ccaa600?s=128&d=identicon&r=PG", "display_name": "Walrus the Cat", "link": "https://stackoverflow.com/users/1215687/walrus-the-cat"}, "edited": false, "score": 0, "creation_date": 1423377167, "post_id": 28202472, "comment_id": 45119766, "body": "assuming deep copying the original element, this is what i&#39;m looking for"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 2, "last_activity_date": 1422479508, "creation_date": 1422479508, "answer_id": 28202472, "question_id": 28202165, "link": "https://stackoverflow.com/questions/28202165/lxml-how-to-isolate-element-from-children/28202472#28202472", "title": "lxml -- how to isolate element from children", "body": "<p>You could use the <code>remove</code> method to remove the children:</p>\n\n<pre><code>import lxml.html as LH\n\ncode = '''&lt;a foo=\"bar\"&gt;some text&lt;b&gt;&lt;/b&gt; here &lt;c&gt;&lt;d&gt;Hi&lt;/d&gt;&lt;/c&gt; and here&lt;/a&gt;'''\n\nroot = LH.fromstring(code)\nprint(root.text_content())\n# some text here Hi and here\n\nfor elt in root:\n    root.remove(elt)\n\nprint(LH.tostring(root))\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>&lt;a foo=\"bar\"&gt;some text&lt;/a&gt;\n</code></pre>\n\n<p>Note, however, that not all text returned by <code>text_content</code> is preserved after\nyou remove the children.</p>\n"}], "owner": {"reputation": 1982, "user_id": 1215687, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/64e45cc8ee1cb8f6a8e981243ccaa600?s=128&d=identicon&r=PG", "display_name": "Walrus the Cat", "link": "https://stackoverflow.com/users/1215687/walrus-the-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 28202472, "answer_count": 1, "score": 0, "last_activity_date": 1422479508, "creation_date": 1422478320, "question_id": 28202165, "link": "https://stackoverflow.com/questions/28202165/lxml-how-to-isolate-element-from-children", "title": "lxml -- how to isolate element from children", "body": "<p>Using lxml, I'd like to be able to get an HTML  element and turn it into a string, excluding its children.  How do I do this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "function", "variables", "type-conversion"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1422478421, "post_id": 28202160, "comment_id": 44770541, "body": "<i>&quot;technically, there are no variable types in Python&quot;</i> - what? If you want an integer, just use <code>int</code>."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1422478485, "post_id": 28202160, "comment_id": 44770575, "body": "he&#39;s right, variables don&#39;t have types. values have."}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1422478538, "post_id": 28202160, "comment_id": 44770604, "body": "&quot;but a for-loop in the function pen_checker requires the &quot;stop&quot; to be an integer&quot; why?"}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1422478583, "post_id": 28202160, "comment_id": 44770620, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/1282945/python-integer-division-yields-float\">Python integer division yields float</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1422479036, "post_id": 28202160, "comment_id": 44770844, "body": "@KarolyHorvath ah, I see what they mean."}], "answers": [{"tags": [], "owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "is_accepted": true, "score": 5, "last_activity_date": 1422478497, "creation_date": 1422478497, "answer_id": 28202209, "question_id": 28202160, "link": "https://stackoverflow.com/questions/28202160/function-in-python-keeps-returning-unnecessary-floats/28202209#28202209", "title": "Function in Python keeps returning unnecessary floats", "body": "<p>In Python3, if you divide numbers with <code>/</code> it will always give you a float. If you want to divide integers and get an integer, you can use the <code>//</code> operator.</p>\n"}], "owner": {"reputation": 13, "user_id": 3784090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c34f8cb746216ea950761a25014558c?s=128&d=identicon&r=PG&f=1", "display_name": "user3784090", "link": "https://stackoverflow.com/users/3784090/user3784090"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 28202209, "answer_count": 1, "score": 0, "last_activity_date": 1422478497, "creation_date": 1422478314, "last_edit_date": 1592644375, "question_id": 28202160, "link": "https://stackoverflow.com/questions/28202160/function-in-python-keeps-returning-unnecessary-floats", "title": "Function in Python keeps returning unnecessary floats", "body": "<p>I have the following code, which keeps producing errors:</p>\n<pre><code>import math\ndef pen_checker(number):\n    print(number)\n    for x in range(1, number):\n        y = x*(3*x-1)/2\n        if(number == y):\n            return True\n    return False\ndef pen_calculator(n):\n    x = n*(3*n-1)/2\n    return x\ndef main():\n    pen1 = 1\n    pen2 = 1\n    pen1_val = 0\n    pen2_val = 0\n    crt_sum = 0\n    crt_dif = 0\n    MAX_CAP = 1000\n    for pen1 in range(1, MAX_CAP):\n        pen1_val = pen_calculator(pen1)\n        for pen2 in range(1, MAX_CAP):\n            pen2_val = pen_calculator(pen2)\n            z = pen1_val + pen2_val\n            if(pen_checker(z)== True and pen_checker(fabs(pen1_val-pen2_val))== True):\n                print(fabs((pen1_val-pen2_val)))\nmain()\n</code></pre>\n<p>For some reason, the function <code>pen_calculator()</code> seems to return floats. I know that technically, there are no variable types in Python, but before I call the function, everything is printed as:</p>\n<blockquote>\n<p>1</p>\n<p>1</p>\n<p>2</p>\n</blockquote>\n<p>And afterwards:</p>\n<blockquote>\n<p>1.0</p>\n<p>1.0</p>\n<p>2.0</p>\n</blockquote>\n<p>(That was just me trying to find out what's wrong, it is not written in the code)</p>\n<p>Normally, this would be  no problem, but a for-loop in the function <code>pen_checker</code> requires the &quot;stop&quot; to be an integer, so the code won't work. How do I solve this?</p>\n"}, {"tags": ["python", "arrays", "lambda"], "comments": [{"owner": {"reputation": 60360, "user_id": 1860929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6UcuF.jpg?s=128&g=1", "display_name": "Anshul Goyal", "link": "https://stackoverflow.com/users/1860929/anshul-goyal"}, "edited": false, "score": 4, "creation_date": 1422478118, "post_id": 28202109, "comment_id": 44770388, "body": "Can you paste formatted code in the post, it is currently unreadable and un-editable.."}, {"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1422478301, "post_id": 28202109, "comment_id": 44770486, "body": "What is <code>num</code>? It&#39;s not defined anywhere."}, {"owner": {"reputation": 2193, "user_id": 3634936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ae8318e36b2b2419c14722874087ec8?s=128&d=identicon&r=PG&f=1", "display_name": "Eithos", "link": "https://stackoverflow.com/users/3634936/eithos"}, "edited": false, "score": 0, "creation_date": 1422478626, "post_id": 28202109, "comment_id": 44770639, "body": "Please indent your code so the SO formatter can display it correctly."}, {"owner": {"reputation": 3, "user_id": 4504803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e543492d09d4cafeeb3a53acdfcd7cb3?s=128&d=identicon&r=PG&f=1", "display_name": "chwcrazy", "link": "https://stackoverflow.com/users/4504803/chwcrazy"}, "edited": false, "score": 0, "creation_date": 1422479864, "post_id": 28202109, "comment_id": 44771245, "body": "thx dirn, help me indent my code, this is my first time to ask question..."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4504803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e543492d09d4cafeeb3a53acdfcd7cb3?s=128&d=identicon&r=PG&f=1", "display_name": "chwcrazy", "link": "https://stackoverflow.com/users/4504803/chwcrazy"}, "edited": false, "score": 0, "creation_date": 1422479949, "post_id": 28202245, "comment_id": 44771283, "body": "yes, you are right, i have solved my problem using your method, successed....thanks a lot"}], "tags": [], "owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "is_accepted": true, "score": 0, "last_activity_date": 1422478653, "creation_date": 1422478653, "answer_id": 28202245, "question_id": 28202109, "link": "https://stackoverflow.com/questions/28202109/how-to-fix-this-error-if-numi-numj-in-lambda-index-del-numindex-fo/28202245#28202245", "title": "how to fix this error &quot;if -(num[i] + num[j]) in [lambda index: del num[index] for index in sorted(indexes, reverse=True)]:&quot;", "body": "<p>I would probably do it manually:</p>\n\n<pre><code>target = -(num[i] + num[j])\nfor index, value in enumerate(num):\n  if index in [i, j]:\n    continue\n  if value == target:\n    # do stuff\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4504803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e543492d09d4cafeeb3a53acdfcd7cb3?s=128&d=identicon&r=PG&f=1", "display_name": "chwcrazy", "link": "https://stackoverflow.com/users/4504803/chwcrazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 28202245, "answer_count": 1, "score": -1, "last_activity_date": 1422479058, "creation_date": 1422478063, "last_edit_date": 1422479058, "question_id": 28202109, "link": "https://stackoverflow.com/questions/28202109/how-to-fix-this-error-if-numi-numj-in-lambda-index-del-numindex-fo", "title": "how to fix this error &quot;if -(num[i] + num[j]) in [lambda index: del num[index] for index in sorted(indexes, reverse=True)]:&quot;", "body": "<p>how to fix this line error           </p>\n\n<pre><code>num = [-1,0,1,2,-1,-4]          \nindexes = [i,j]          \nif -(num[i] + num[j]) in [lambda index: del num[index] for index in sorted(indexes, reverse=True)]:                    \n        return something\n</code></pre>\n\n<p>My goal is wondering whether exists a -(num[i] + num[j]) in num array without num[i] and num[j], meanwhile don't change the structure of the num array.</p>\n"}, {"tags": ["python", "if-statement", "python-3.x", "lowercase"], "comments": [{"owner": {"reputation": 4291, "user_id": 1916917, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4f93c1f2d2f2bb64e7e6c2d092f5a08a?s=128&d=identicon&r=PG", "display_name": "Holloway", "link": "https://stackoverflow.com/users/1916917/holloway"}, "edited": false, "score": 1, "creation_date": 1422478131, "post_id": 28202097, "comment_id": 44770396, "body": "Not causing the problem but you shouldn&#39;t need the brackets around the strings. <code>if month.lower() == &quot;january&quot;:</code> should work."}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 12, "last_activity_date": 1422478029, "creation_date": 1422478029, "answer_id": 28202103, "question_id": 28202097, "link": "https://stackoverflow.com/questions/28202097/why-doesnt-if-elif-or-else-work-with-lower-in-python/28202103#28202103", "title": "Why doesn&#39;t if, elif or else work with .lower() in Python?", "body": "<p>You need to <strong>call</strong> the method:</p>\n\n<pre><code>month.lower() == 'march'\n</code></pre>\n\n<p>The method is an object too, and without calling it you are comparing that method with a string. They'll never be equal:</p>\n\n<pre><code>&gt;&gt;&gt; month = 'January'\n&gt;&gt;&gt; month.lower\n&lt;built-in method lower of str object at 0x100760c30&gt;\n&gt;&gt;&gt; month.lower == 'January'\nFalse\n&gt;&gt;&gt; month.lower == 'january'\nFalse\n&gt;&gt;&gt; month.lower() == 'january'\nTrue\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4504302"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "closed_date": 1422478348, "accepted_answer_id": 28202103, "answer_count": 1, "score": -7, "last_activity_date": 1422478029, "creation_date": 1422478008, "question_id": 28202097, "link": "https://stackoverflow.com/questions/28202097/why-doesnt-if-elif-or-else-work-with-lower-in-python", "closed_reason": "Not suitable for this site", "title": "Why doesn&#39;t if, elif or else work with .lower() in Python?", "body": "<p>The program needs to accept and match any upper and lower case versions of the word, which is why .lower() is used. When this is ran and 'January' is entered, the else line is printed instead of the if line.</p>\n\n<pre><code>month = input(\"\\nPlease enter the month\\n\")\nif month.lower == (\"january\"):\n    month = int(1)\n    print(month)\nelif month.lower == (\"february\"):\n    month = int(2)\n    print(month)\nelif month.lower == (\"march\"):\n    month = int(3)\n    print(month) #etc.\nelse:\n    print(\"That is not a month\\n\")\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 2131, "user_id": 1140126, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/871b79845b67548ce8da498fbb52f35c?s=128&d=identicon&r=PG", "display_name": "user1140126", "link": "https://stackoverflow.com/users/1140126/user1140126"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1422478096, "post_id": 28202036, "comment_id": 44770372, "body": "@EdChum, My  mistake. I edited the OP"}], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 2, "last_activity_date": 1422478824, "last_edit_date": 1422478824, "creation_date": 1422478337, "answer_id": 28202172, "question_id": 28202036, "link": "https://stackoverflow.com/questions/28202036/delete-all-rows-containing-all-zeros-after-a-certain-column-number/28202172#28202172", "title": "Delete all rows containing all zeros after a certain column number", "body": "<p>You can subscript the columns, replace <code>0</code> with <code>NaN</code>, drop any rows that don't have at least 1 non <code>NaN</code> value and use <code>loc</code> on the index:</p>\n\n<pre><code>In [63]:\ndf.loc[df[df.columns[4:]].replace(0, NaN).dropna(thresh=1).index]\nOut[63]:\n   0  1  2  3  4  5  6\nc  1  4  5  6  7  0  0\n</code></pre>\n\n<p>So breaking this down:</p>\n\n<pre><code>In [64]:\ndf[df.columns[4:]]\n\nOut[64]:\n   4  5  6\na  0  0  0\nb  0  0  0\nc  7  0  0\n\nIn [66]:   \ndf[df.columns[4:]].replace(0, NaN)\n\nOut[66]:\n    4   5   6\na NaN NaN NaN\nb NaN NaN NaN\nc   7 NaN NaN\n\nIn [67]:    \ndf[df.columns[4:]].replace(0, NaN).dropna(thresh=1)\n\nOut[67]:\n   4   5   6\nc  7 NaN NaN\n\nIn [68]:    \ndf[df.columns[4:]].replace(0, NaN).dropna(thresh=1).index\n\nOut[68]:\nIndex(['c'], dtype='object')\n</code></pre>\n\n<p><strong>Update</strong>\nActually a more concise way:</p>\n\n<pre><code>In [77]:\n\ndf[any(df[df.columns[4:]] != 0, axis=1)]\nOut[77]:\n   0  1  2  3  4  5  6\nc  1  4  5  6  7  0  0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15859, "user_id": 975114, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9cca3ab47e2685d05b75880de0faee63?s=128&d=identicon&r=PG", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/975114/amit-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1422478408, "creation_date": 1422478408, "answer_id": 28202185, "question_id": 28202036, "link": "https://stackoverflow.com/questions/28202036/delete-all-rows-containing-all-zeros-after-a-certain-column-number/28202185#28202185", "title": "Delete all rows containing all zeros after a certain column number", "body": "<pre><code>df[(df[4] != 0) | (df[5] != 0) | (df[6] != 0)] \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5642, "user_id": 2375855, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/6spW7.png?s=128&g=1", "display_name": "ojdo", "link": "https://stackoverflow.com/users/2375855/ojdo"}, "edited": false, "score": 0, "creation_date": 1422522001, "post_id": 28209917, "comment_id": 44785557, "body": "This runs into problems if columns 4,5,6 happen to contain values that sum to zero, like <code>(0, 1, -1)</code>."}, {"owner": {"reputation": 4865, "user_id": 3135460, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4c39eee77bb80ee7b45edd8cb7a79e74?s=128&d=identicon&r=PG&f=1", "display_name": "ssm", "link": "https://stackoverflow.com/users/3135460/ssm"}, "reply_to_user": {"reputation": 5642, "user_id": 2375855, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/6spW7.png?s=128&g=1", "display_name": "ojdo", "link": "https://stackoverflow.com/users/2375855/ojdo"}, "edited": false, "score": 1, "creation_date": 1422522644, "post_id": 28209917, "comment_id": 44785883, "body": "Thant&#39;s true. I forgot the abs!"}], "tags": [], "owner": {"reputation": 4865, "user_id": 3135460, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4c39eee77bb80ee7b45edd8cb7a79e74?s=128&d=identicon&r=PG&f=1", "display_name": "ssm", "link": "https://stackoverflow.com/users/3135460/ssm"}, "is_accepted": false, "score": 2, "last_activity_date": 1422522675, "last_edit_date": 1422522675, "creation_date": 1422519475, "answer_id": 28209917, "question_id": 28202036, "link": "https://stackoverflow.com/questions/28202036/delete-all-rows-containing-all-zeros-after-a-certain-column-number/28209917#28209917", "title": "Delete all rows containing all zeros after a certain column number", "body": "<p>In case you have an arbitrary number of columns, you cna always do: </p>\n\n<pre><code>df[ df.ix[:, 4:].T.abs().sum() != 0 ]\n</code></pre>\n"}], "owner": {"reputation": 2131, "user_id": 1140126, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/871b79845b67548ce8da498fbb52f35c?s=128&d=identicon&r=PG", "display_name": "user1140126", "link": "https://stackoverflow.com/users/1140126/user1140126"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1006, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1422522675, "creation_date": 1422477769, "last_edit_date": 1422478072, "question_id": 28202036, "link": "https://stackoverflow.com/questions/28202036/delete-all-rows-containing-all-zeros-after-a-certain-column-number", "title": "Delete all rows containing all zeros after a certain column number", "body": "<p>In pandas dataframe how do I delete all rows which have zeros after a certain column. For example </p>\n\n<pre><code>from pandas import DataFrame\ndf = DataFrame({'a' : [0,1,1,0,0,0,0], 'b' : [0,1,-1, 1,0,0,0], 'c': [1,4,5,6,7,0,0]}).T\n</code></pre>\n\n<p>df: </p>\n\n<pre><code>    0   1   2   3   4   5   6\na   0   1   1   0   0   0   0\nb   0   1   -1  1   0   0   0\nc   1   4   5   6   7   0   0\n</code></pre>\n\n<p>How do I drop rows containing all values as zero after column 3?  The first and second rows (index <code>a</code> and <code>b</code>) in this example are to be dropped.</p>\n"}, {"tags": ["python", "python-3.x", "abstract-class", "pymongo", "pymongo-2.x"], "answers": [{"comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1422479468, "post_id": 28202339, "comment_id": 44771067, "body": "Wow. Thank you :) Maybe I should write something like <code>if mongo.version_tuple &lt; (3, 0): dbh.__isabstractmethod__ = False</code> in the class definition."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1422479539, "post_id": 28202339, "comment_id": 44771092, "body": "@vaultah: You could do that.  I don&#39;t think it will cause harm to set that attribute even in higher versions, though; it will just look a little weird."}, {"owner": {"reputation": 3567, "user_id": 4116239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksElS.png?s=128&g=1", "display_name": "Kevin J. Chase", "link": "https://stackoverflow.com/users/4116239/kevin-j-chase"}, "edited": false, "score": 0, "creation_date": 1422482878, "post_id": 28202339, "comment_id": 44772755, "body": "Congrats on finding the actual bug report.  (In other news:  I type <i>way</i> slower than I thought.)"}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 4, "last_activity_date": 1422478996, "creation_date": 1422478996, "answer_id": 28202339, "question_id": 28201985, "link": "https://stackoverflow.com/questions/28201985/abstract-classes-and-pymongo-cant-instantiate-abstract-class/28202339#28202339", "title": "Abstract classes and PyMongo; can&#39;t instantiate abstract class", "body": "<p>This isn't really a problem with ABCs, it's a problem with PyMongo.  There is an issue about it <a href=\"https://jira.mongodb.org/browse/PYTHON-480\" rel=\"nofollow\">here</a>.  It seems that pymongo overrides <code>__getattr__</code> to return some sort of database class.  This means that <code>host.__isabstractmethod__</code> returns a Database object, which is true in a boolean context.  This cause ABCMeta to believe that <code>host</code> is an abstract method:</p>\n\n<pre><code>&gt;&gt;&gt; bool(host.__isabstractmethod__)\nTrue\n</code></pre>\n\n<p>The workaround described in the issue report is to manually set <code>host.__isabstractmethod__ = False</code> on your object.  The last comment on the issue suggests a fix has been put in for pymongo 3.0.</p>\n"}, {"tags": [], "owner": {"reputation": 3567, "user_id": 4116239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksElS.png?s=128&g=1", "display_name": "Kevin J. Chase", "link": "https://stackoverflow.com/users/4116239/kevin-j-chase"}, "is_accepted": false, "score": 1, "last_activity_date": 1422483906, "last_edit_date": 1422483906, "creation_date": 1422482659, "answer_id": 28203301, "question_id": 28201985, "link": "https://stackoverflow.com/questions/28201985/abstract-classes-and-pymongo-cant-instantiate-abstract-class/28203301#28203301", "title": "Abstract classes and PyMongo; can&#39;t instantiate abstract class", "body": "<p><strong>Short Version</strong></p>\n\n<p><code>mongo.MongoClient</code> returns an object that appears to be (is?) an abstract method, which you then assign to the <code>dbh</code> field in <code>Storage</code>.  This makes <code>Storage</code> an abstract class, so instantiating it raises a <code>TypeError</code>.</p>\n\n<p>Note that I don't have <code>pymongo</code>, so I can't tell you anything more about <code>MongoClient</code> than how it gets treated by <code>ABCMeta</code>.</p>\n\n<p><strong>Long Version</strong></p>\n\n<p>The <code>ABCMeta.__new__</code> method looks inside each field of the new class it's creating.  Any field that itself has a <code>True</code> (or \"true-like\")  <code>__isabstractmethod__</code> field is considered an abstract method.  If a class has <em>any</em> non-overridden abstract methods, the whole class is considered abstract, so any attempt to instantiate it is an error.</p>\n\n<p>From an earlier version of the standard library's <code>abc.py</code>:</p>\n\n<pre class=\"lang-python3 prettyprint-override\"><code>def __new__(mcls, name, bases, namespace):\n    cls = super().__new__(mcls, name, bases, namespace)\n    # Compute set of abstract method names\n    abstracts = {name\n                 for name, value in namespace.items()\n                 if getattr(value, \"__isabstractmethod__\", False)}\n    # ...\n    cls.__abstractmethods__ = frozenset(abstracts)\n    # ...\n</code></pre>\n\n<p>This is not mentioned in the <code>abc.ABCMeta</code> class docs, but a bit lower, under the <a href=\"https://docs.python.org/3/library/abc.html#abc.abstractmethod\" rel=\"nofollow\"><code>@abc.abstractmethod</code></a> decorator:</p>\n\n<blockquote>\n  <p>In order to correctly interoperate with the abstract base class machinery, the descriptor must identify itself as abstract using <code>__isabstractmethod__</code>.  In general, this attribute should be <code>True</code> if any of the methods used to compose the descriptor are abstract.</p>\n</blockquote>\n\n<p><strong>Example</strong></p>\n\n<p>I created a bogus \"abstract-looking\" class with an <code>__isabstractmethod__</code> attribute, and two supposedly-concrete subclasses of <code>AbstractStorage</code>.  You'll see that one produces the exact error you're getting:</p>\n\n<pre class=\"lang-python3 prettyprint-override\"><code>#!/usr/bin/env python3\n\n\nimport abc\n# I don't have pymongo, so I have to fake it.  See CounterfeitAbstractMethod.\n#import pymongo as mongo\n\n\nclass CounterfeitAbstractMethod():\n    \"\"\"\n    This class appears to be an abstract method to the abc.ABCMeta.__new__\n    method.\n\n    Normally, finding an abstract method in a class's namespace means\n    that class is also abstract, so instantiating that class is an\n    error.\n\n    If a class derived from abc.ABCMeta has an instance of\n    CounterfeitAbstractMethod as a value anywhere in its namespace\n    dictionary, any attempt to instantiate that class will raise a\n    TypeError: Can't instantiate abstract class &lt;classname&gt; with\n    abstract method &lt;fieldname&gt;.\n    \"\"\"\n    __isabstractmethod__ = True\n\n\nclass AbstractStorage(metaclass=abc.ABCMeta):\n\n    def __init__(self):\n        \"\"\"\n        Do-nothing initializer that prints the name of the (sub)class\n        being initialized.\n        \"\"\"\n        print(self.__class__.__name__ + \".__init__ executing.\")\n        return\n\n\nclass ConcreteStorage(AbstractStorage):\n    \"\"\"\n    A concrete class that also _appears_ concrete to abc.ABCMeta.  This\n    class can be instantiated normally.\n    \"\"\"\n    whatever = \"Anything that doesn't appear to be an abstract method will do.\"\n\n\nclass BogusStorage(AbstractStorage):\n    \"\"\"\n    This is (supposedly) a concrete class, but its whatever field appears\n    to be an abstract method, making this whole class abstract ---\n    abc.ABCMeta will refuse to construct any this class.\n    \"\"\"\n    #whatever = mongo.MongoClient('localhost', 27017)\n    whatever = CounterfeitAbstractMethod()\n\n\ndef main():\n    \"\"\"\n    Print details of the ConcreteStorage and BogusStorage classes.\n    \"\"\"\n    for cls in ConcreteStorage, BogusStorage:\n        print(cls.__name__ + \":\")\n        print(\"    whatever field: \" + str(cls.whatever))\n        print(\"    abstract methods: \" + str(cls.__abstractmethods__))\n        print(\"    Instantiating...\")\n        print(\"    \", end=\"\")\n        # KABOOM!  Instantiating BogusStorage will raise a TypeError,\n        # because it appears to be an _abstract_ class.\n        instance = cls()\n        print(\"    instance: \" + str(instance))\n        print()\n    return\n\n\nif \"__main__\" == __name__:\n    main()\n</code></pre>\n\n<p>Running this produces:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ ./storage.py\nConcreteStorage:\n    whatever field: Anything that doesn't appear to be an abstract method will do.\n    abstract methods: frozenset()\n    Instantiating...\n    ConcreteStorage.__init__ executing.\n    instance: &lt;__main__.ConcreteStorage object at 0x253afd0&gt;\n\nBogusStorage:\n    whatever field: &lt;__main__.CounterfeitAbstractMethod object at 0x253ad50&gt;\n    abstract methods: frozenset({'whatever'})\n    Instantiating...\n    Traceback (most recent call last):\n  File \"./storage.py\", line 75, in &lt;module&gt;\n    main()\n  File \"./storage.py\", line 68, in main\n    instance = cls()\nTypeError: Can't instantiate abstract class BogusStorage with abstract methods whatever\n</code></pre>\n"}], "owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1032, "favorite_count": 0, "accepted_answer_id": 28202339, "answer_count": 2, "score": 0, "last_activity_date": 1436640315, "creation_date": 1422477570, "last_edit_date": 1436640315, "question_id": 28201985, "link": "https://stackoverflow.com/questions/28201985/abstract-classes-and-pymongo-cant-instantiate-abstract-class", "title": "Abstract classes and PyMongo; can&#39;t instantiate abstract class", "body": "<p>I created the empty abstract class <code>AbstractStorage</code> and inherited the <code>Storage</code> class from it:</p>\n\n<pre><code>import abc\nimport pymongo as mongo\n\nhost = mongo.MongoClient()\n\nprint(host.alive()) # True\n\nclass AbstractStorage(metaclass=abc.ABCMeta):\n    pass\n\nclass Storage(AbstractStorage):\n    dbh = host\n    def __init__(self):\n        print('__init__')\n\nStorage()\n</code></pre>\n\n<p>I expected the output to be</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>True\n__init__\n</code></pre>\n\n<p>however, the one I'm getting is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>True\nTraceback (most recent call last):\n  File \"/home/vaultah/run.py\", line 16, in &lt;module&gt;\n    Storage()\nTypeError: Can't instantiate abstract class Storage with abstract methods dbh\n</code></pre>\n\n<p>The problem (apparently) goes away if I remove <code>metaclass=abc.ABCMeta</code> (so that <code>AbstractStorage</code> becomes an ordinary class) and/or if I set <code>dbh</code> to some other value. </p>\n\n<p>What's going on here?</p>\n"}, {"tags": ["python", "xpath", "xquery", "berkeley-db-xml"], "answers": [{"comments": [{"owner": {"reputation": 1264, "user_id": 2415973, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e9f34595807d939626876a90021d1eb5?s=128&d=identicon&r=PG", "display_name": "tenwest", "link": "https://stackoverflow.com/users/2415973/tenwest"}, "edited": false, "score": 0, "creation_date": 1422480499, "post_id": 28202574, "comment_id": 44771560, "body": "Gunther == gentleman + scholar, this solves it sir! however, I chaged to <code>xs:dateTime</code> capital T :)"}, {"owner": {"reputation": 4841, "user_id": 392946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10bc0a53a6c45405e44f3bf40c849e8?s=128&d=identicon&r=PG", "display_name": "Gunther", "link": "https://stackoverflow.com/users/392946/gunther"}, "reply_to_user": {"reputation": 1264, "user_id": 2415973, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e9f34595807d939626876a90021d1eb5?s=128&d=identicon&r=PG", "display_name": "tenwest", "link": "https://stackoverflow.com/users/2415973/tenwest"}, "edited": false, "score": 0, "creation_date": 1422480614, "post_id": 28202574, "comment_id": 44771618, "body": "Thanks. That&#39;s right, there is a capital <code>T</code> in <code>xs:dateTime</code> ;-)"}], "tags": [], "owner": {"reputation": 4841, "user_id": 392946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10bc0a53a6c45405e44f3bf40c849e8?s=128&d=identicon&r=PG", "display_name": "Gunther", "link": "https://stackoverflow.com/users/392946/gunther"}, "is_accepted": true, "score": 4, "last_activity_date": 1422479900, "creation_date": 1422479900, "answer_id": 28202574, "question_id": 28201954, "link": "https://stackoverflow.com/questions/28201954/xquery-comparing-datetimes-with-milliseconds/28202574#28202574", "title": "XQuery: comparing datetimes with milliseconds", "body": "<p>Presumably there is no schema binding in effect for the <code>Start</code> and <code>End</code> elements. In that case the query is doing an xs:untypedAtomic comparison, which effectively compares the string values, where <code>\"Z\"</code> compares greater than <code>\".\"</code>.</p>\n\n<p>What you want is an xs:dateTime comparison, so you should compare the element values after casting them to that type. The query thus should look like:</p>\n\n<pre><code>    for $d at $count in ./ty:Detections/Detection\n    where xs:dateTime($d/Start) &gt; xs:dateTime($d/End)\n    return $count\n</code></pre>\n"}], "owner": {"reputation": 1264, "user_id": 2415973, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e9f34595807d939626876a90021d1eb5?s=128&d=identicon&r=PG", "display_name": "tenwest", "link": "https://stackoverflow.com/users/2415973/tenwest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 28202574, "answer_count": 1, "score": 1, "last_activity_date": 1422479900, "creation_date": 1422477450, "question_id": 28201954, "link": "https://stackoverflow.com/questions/28201954/xquery-comparing-datetimes-with-milliseconds", "title": "XQuery: comparing datetimes with milliseconds", "body": "<p>I have a validation module in Python that executes an XQuery on an XML document to check if any <code>&lt;Start&gt;</code> times come after <code>&lt;End&gt;</code> times, and return the count of them. The query is as follows:</p>\n\n<pre><code>    for $d at $count in ./ty:Detections/Detection\n        where $d/Start &gt; $d/End\n        return $count\n</code></pre>\n\n<p>Now this works fine and good for all cases except when milliseconds are appended to an End time but <strong>not</strong> a Start time, e.g.:</p>\n\n<pre><code>        &lt;Start&gt;2009-02-23T02:53:14Z&lt;/Start&gt;\n        &lt;End&gt;2009-02-23T02:53:14.226Z&lt;/End&gt;\n</code></pre>\n\n<p>This always returns True, even though clearly 14 is less than 14.22.\nIf I add a single decimal place to the <code>&lt;Start&gt;</code> time here, it works -- but is there any better solution?</p>\n"}, {"tags": ["python", "django", "testing", "django-testing", "django-tests"], "answers": [{"comments": [{"owner": {"reputation": 2060, "user_id": 2197234, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2aTcP.jpg?s=128&g=1", "display_name": "fildred13", "link": "https://stackoverflow.com/users/2197234/fildred13"}, "edited": false, "score": 0, "creation_date": 1422478159, "post_id": 28202035, "comment_id": 44770408, "body": "I understand now.  Thanks for the direction.  For those interested, my <code>response</code> line needed to be this: <code>response = tourney(request, t.slug)</code> where <code>t.slug</code> is a required positional argument."}], "tags": [], "owner": {"reputation": 50179, "user_id": 594589, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0f9d5953607841d6a50b843a1107e51e?s=128&d=identicon&r=PG", "display_name": "dm03514", "link": "https://stackoverflow.com/users/594589/dm03514"}, "is_accepted": true, "score": 1, "last_activity_date": 1422477768, "creation_date": 1422477768, "answer_id": 28202035, "question_id": 28201924, "link": "https://stackoverflow.com/questions/28201924/django-how-to-associate-a-user-with-a-request-factory/28202035#28202035", "title": "Django: How to associate a user with a request factory", "body": "<p>I think that the <code>RequestFactory</code> and the client are two different ways of testing django views.</p>\n\n<p>The <code>request</code> that is returned from <code>rf.post</code> is meant to be passed directly to a view function. If you were to do that, i think you will find that, the user will be detected as logged in.</p>\n\n<p>I looked at the <a href=\"https://github.com/django/django/blob/master/django/test/client.py\" rel=\"nofollow\">source</a>, and the documentation, and I don't see where the test client accepts a request.  You can log in a user with the test client using:</p>\n\n<pre><code>self.client.login(\n   username=u.username,\n   password='password')\n</code></pre>\n"}], "owner": {"reputation": 2060, "user_id": 2197234, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2aTcP.jpg?s=128&g=1", "display_name": "fildred13", "link": "https://stackoverflow.com/users/2197234/fildred13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1093, "favorite_count": 0, "accepted_answer_id": 28202035, "answer_count": 1, "score": 1, "last_activity_date": 1422477768, "creation_date": 1422477370, "question_id": 28201924, "link": "https://stackoverflow.com/questions/28201924/django-how-to-associate-a-user-with-a-request-factory", "title": "Django: How to associate a user with a request factory", "body": "<p>I am writing some tests for a form on a Django site.  I want to test that a logged in user is able to use the form assuming correct input.  To that end, I am using a Django request factory.  I can't seem to get my test user logged in though.  That, or I'm not even making the request correctly.  I'm not sure.  Relevant code below:</p>\n\n<pre><code>def create_user():\n        username = 'User '+id_generator()\n        return User.objects.create(username = username, password = 'password')\n\ndef test_can_register_deck(self):\n        t = create_empty_tourney()\n        u = create_user()\n        d = create_deck(u)\n        rf = RequestFactory()\n        request = rf.post(reverse('tourney:tourney', args=(t.slug,)),{'deck' : d})\n        request.user = u\n        response = self.client.get(reverse('tourney:tourney', args=(t.slug,)), request)\n        self.assertEqual(response.status_code, 200)\n</code></pre>\n\n<p>The request has to think the user is logged in, or the rest of the test won't work.  This throws no errors, but I'm not even sure my <code>response</code> is utilizing the request correctly.  Am I correctly telling the test to \"make a post request to the tourney page as this user, and try to submit a deck\"?</p>\n"}, {"tags": ["python", "email", "asynchronous", "web.py"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 4385186, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100007822484939/picture?type=large", "display_name": "\u0160imon Kostoln&#253;", "link": "https://stackoverflow.com/users/4385186/%c5%a0imon-kostoln%c3%bd"}, "edited": false, "score": 0, "creation_date": 1422478020, "post_id": 28201970, "comment_id": 44770319, "body": "My response doesn&#39;t depend on this task. Ok, thank you so much for clue, I will try it."}], "tags": [], "owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "is_accepted": true, "score": 3, "last_activity_date": 1422477508, "creation_date": 1422477508, "answer_id": 28201970, "question_id": 28201897, "link": "https://stackoverflow.com/questions/28201897/send-mails-async-in-web-py/28201970#28201970", "title": "Send mails async in web.py", "body": "<p>You could get away with sending email in a separate thread (you can spawn one when you need to send an email):</p>\n\n<pre><code>import threading\nthreading.Thread(target=sending_email).start()\n</code></pre>\n\n<p>However, the all-around best (and standard) solution would be to use an asynchronous task processor, such as <a href=\"http://www.celeryproject.org/\" rel=\"nofollow\">Celery</a>. In your web thread, simply create a new task, and Celery will asynchronously execute it.</p>\n\n<hr>\n\n<p>There is no reason why \"returning response\" would fail when using a message queue, unless your response depends on the email being sent prior to sending the response (but in that case, you have an architectural problem).</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 4385186, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100007822484939/picture?type=large", "display_name": "\u0160imon Kostoln&#253;", "link": "https://stackoverflow.com/users/4385186/%c5%a0imon-kostoln%c3%bd"}, "edited": false, "score": 0, "creation_date": 1422484143, "post_id": 28202988, "comment_id": 44773295, "body": "Thank you, I will look at it. Now I reading threading module and it seems to be fine. I will make comparison certainly."}], "tags": [], "owner": {"reputation": 166, "user_id": 2390312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2eb9f1ee14da7fb9701287b2d7b7754d?s=128&d=identicon&r=PG", "display_name": "kevgathuku", "link": "https://stackoverflow.com/users/2390312/kevgathuku"}, "is_accepted": false, "score": 0, "last_activity_date": 1422481487, "creation_date": 1422481487, "answer_id": 28202988, "question_id": 28201897, "link": "https://stackoverflow.com/questions/28201897/send-mails-async-in-web-py/28202988#28202988", "title": "Send mails async in web.py", "body": "<p>Moving the <code>sending_email()</code> task to a background queue would be the best solution. This would allow you to return the response immediately and get the results of the <code>sending_email</code> task later on.</p>\n\n<p>Let me also suggest taking a look at <a href=\"http://python-rq.org/\" rel=\"nofollow\">RQ</a>\nIt is a lightweight alternative to Celery that I find easier to get up and running. I have used it in the past for sending emails in the background and it didn't disappoint.</p>\n"}], "owner": {"reputation": 69, "user_id": 4385186, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100007822484939/picture?type=large", "display_name": "\u0160imon Kostoln&#253;", "link": "https://stackoverflow.com/users/4385186/%c5%a0imon-kostoln%c3%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 0, "accepted_answer_id": 28201970, "answer_count": 2, "score": 1, "last_activity_date": 1422481487, "creation_date": 1422477284, "last_edit_date": 1422478314, "question_id": 28201897, "link": "https://stackoverflow.com/questions/28201897/send-mails-async-in-web-py", "title": "Send mails async in web.py", "body": "<p>I try to solve problem with sending mails(or any long task) in web.py project. What I want is to start sending any mail and return the http response. But this task (sending) is taking a long time. Is there any solution? </p>\n\n<p>Example:</p>\n\n<pre><code>import web\n''some settings urls, etc.''\n\nclass Index:\n    def GET(self):\n        ''task''\n        sending_mail()\n        return 'response'\n</code></pre>\n\n<p>I found many examples about async tasks but I think that if this task put to background and return 'response' it will fail.</p>\n"}, {"tags": ["python", "html", "beautifulsoup", "html-parsing", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 5836, "user_id": 1813039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d3c8f57043ddb2a46f4ffd3ac4121a9b?s=128&d=identicon&r=PG", "display_name": "Amistad", "link": "https://stackoverflow.com/users/1813039/amistad"}, "edited": false, "score": 0, "creation_date": 1422482999, "post_id": 28201972, "comment_id": 44772806, "body": "@Alecxe..the scrapy xpath solution worked like a charm..however..see edit..i have a table in which the next sibling is a href..In those scenarios i get a blank result..how can i get the text in that case in this case essar shipping.."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 5836, "user_id": 1813039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d3c8f57043ddb2a46f4ffd3ac4121a9b?s=128&d=identicon&r=PG", "display_name": "Amistad", "link": "https://stackoverflow.com/users/1813039/amistad"}, "edited": false, "score": 1, "creation_date": 1422483979, "post_id": 28201972, "comment_id": 44773233, "body": "@Amistad good, <code>&#47;&#47;table[@class=&quot;form&quot;]&#47;&#47;td[.=&quot;Manifold Type&quot;]&#47;following-sibling::td&#47;a&#47;text()</code> should do the trick."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1422477531, "creation_date": 1422477531, "answer_id": 28201972, "question_id": 28201896, "link": "https://stackoverflow.com/questions/28201896/html-tables-with-python-beautiful-soup/28201972#28201972", "title": "HTML tables with python beautiful soup", "body": "<p>You can find the <code>td</code> element <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#the-text-argument\" rel=\"nofollow\">by text</a> and get the <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-sibling-and-previous-sibling\" rel=\"nofollow\">next sibling</a>:</p>\n\n<pre><code>table.find('td', text='Manifold Type').next_sibling.text\n</code></pre>\n\n<p>As a side note, why do you need to use <code>BeautifulSoup</code> inside a Scrapy spider? <code>Scrapy</code> itself is pretty powerful in terms of HTML parsing, locating elements:</p>\n\n<pre><code>response.xpath('//table[@class=\"form\"]//td[.=\"Manifold Type\"]/following-sibling::td/text()')\n</code></pre>\n\n<p>Demo from the <a href=\"http://doc.scrapy.org/en/latest/topics/shell.html\" rel=\"nofollow\"><code>scrapy shell</code></a>:</p>\n\n<pre><code>$ scrapy shell index.html\nIn [1]: response.xpath('//table[@class=\"form\"]//td[.=\"Manifold Type\"]/following-sibling::td/text()').extract()\nOut[1]: [u'N']\n</code></pre>\n"}], "owner": {"reputation": 5836, "user_id": 1813039, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d3c8f57043ddb2a46f4ffd3ac4121a9b?s=128&d=identicon&r=PG", "display_name": "Amistad", "link": "https://stackoverflow.com/users/1813039/amistad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 1, "accepted_answer_id": 28201972, "answer_count": 1, "score": 1, "last_activity_date": 1422482862, "creation_date": 1422477283, "last_edit_date": 1422482862, "question_id": 28201896, "link": "https://stackoverflow.com/questions/28201896/html-tables-with-python-beautiful-soup", "title": "HTML tables with python beautiful soup", "body": "<p>I have a HTML table which looks like this :</p>\n\n<pre><code>&lt;table border=0 cellspacing=1 cellpadding=2 class=form&gt;\n&lt;tr class=form&gt;&lt;td class=formlabel&gt;Heating Coils in Bunker Tanks&lt;/td&gt;&lt;td class=form&gt;N&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=forma&gt;&lt;td class=formlabel&gt;Heating Coils in Cargo Tanks&lt;/td&gt;&lt;td class=form&gt;U&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=form&gt;&lt;td class=formlabel&gt;Manifold Type&lt;/td&gt;&lt;td class=form&gt;N&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=forma&gt;&lt;td class=formlabel&gt;No. Holds&lt;/td&gt;&lt;td class=form&gt;5&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=form&gt;&lt;td class=formlabel&gt;No. Centreline Hatches&lt;/td&gt;&lt;td class=form&gt;5&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=forma&gt;&lt;td class=formlabel&gt;Lifting Gear&lt;/td&gt;&lt;td class=form&gt;Yes&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=form&gt;&lt;td class=formlabel&gt;Gear&lt;/td&gt;&lt;td class=form&gt;4 Crane (30.5t SWL)&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=forma&gt;&lt;td class=formlabel&gt;Alteration&lt;/td&gt;&lt;td class=form&gt;Unknown&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>I am using Beautiful soup to extract specific data which comes as a response from a scrapy spider </p>\n\n<pre><code>soup = BeautifulSoup(response.body_as_unicode())\ntable= soup.find('table', {'class': 'form'})\n# psusedo code find manifold type and number of Holds\n</code></pre>\n\n<p>How do i go about doing this.Do note that the ordering of the values might change but the form label always remains the same ? How do i search using a specific form label ?</p>\n\n<h1>Edit:</h1>\n\n<pre><code>&lt;tr class=forma&gt;&lt;td class=formlabel&gt;Fleet Manager (Operator)&lt;/td&gt;&lt;td class=form&gt;&lt;a href=\"oBasic.asp?LRNumber=9442964&amp;Action=Display&amp;LRCompanyNumber=40916\"&gt;ESSAR SHIPPING LTD&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n\n<p>this particular case scenario does not work with the following sibling search ? How to overcome this ?</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "edited": false, "score": 0, "creation_date": 1422477387, "post_id": 28201899, "comment_id": 44769988, "body": "Am I circumventing the real reason for using Django in the first place?"}, {"owner": {"reputation": 26613, "user_id": 749181, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0de0f3b5305bbf30cacd02d6a8f783a5?s=128&d=identicon&r=PG", "display_name": "George Cummins", "link": "https://stackoverflow.com/users/749181/george-cummins"}, "reply_to_user": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "edited": false, "score": 2, "creation_date": 1422477425, "post_id": 28201899, "comment_id": 44770016, "body": "Not at all. Migrations are a small subset of the features offered. In fact, there was a time that Django did not include migration functionality at all--it had to be added via a package called &#39;South.&#39;"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1422477517, "post_id": 28201899, "comment_id": 44770067, "body": "As of today (Jan, 2015), migrations are a very recent feature (added at version 1.7 I believe). If you prefer SQLAlchemy over Django&#39;s ORM you may consider Flask. If you don&#39;t like ORMs at all, I think you should learn to like them - no way I would recommend string interpolation/composition for SQL queries."}, {"owner": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1422477635, "post_id": 28201899, "comment_id": 44770124, "body": "@PauloScardine ORM vs not is an old debate, especially here on SO.  I really prefer SQL, no flame intended.  The hard part now is to find a tutorial that puts it all together without migrate."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "edited": false, "score": 0, "creation_date": 1422477827, "post_id": 28201899, "comment_id": 44770224, "body": "@johnny indeed it is a matter of taste, and I respect yours. For me, since <code>sqlalchemy.sql</code> maps 1:1 to raw SQL while adding a lot of security and intelligence,  I can&#39;t go back to strings."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "edited": false, "score": 1, "creation_date": 1422478512, "post_id": 28201899, "comment_id": 44770587, "body": "@johnny try the tutorial for version Django 1.6 (at least the part about the database)."}], "tags": [], "owner": {"reputation": 26613, "user_id": 749181, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0de0f3b5305bbf30cacd02d6a8f783a5?s=128&d=identicon&r=PG", "display_name": "George Cummins", "link": "https://stackoverflow.com/users/749181/george-cummins"}, "is_accepted": false, "score": 2, "last_activity_date": 1422477290, "creation_date": 1422477290, "answer_id": 28201899, "question_id": 28201859, "link": "https://stackoverflow.com/questions/28201859/is-migration-required-in-a-django-application/28201899#28201899", "title": "Is migration required in a Django application?", "body": "<p>Migrations are not required. They can be useful for creating and tracking database changes via code, but Django applications will run properly without them.</p>\n"}, {"comments": [{"owner": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "edited": false, "score": 0, "creation_date": 1422477820, "post_id": 28201926, "comment_id": 44770221, "body": "Do you know of any tutorials that do not use any of the magic migrate and admin features?  All I&#39;m wanting is MVC, but all under my control (as much as possible)."}, {"owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "reply_to_user": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "edited": false, "score": 1, "creation_date": 1422478867, "post_id": 28201926, "comment_id": 44770754, "body": "@johnny: Just don&#39;t create any migrations, and don&#39;t install the admin app. (Although, if you&#39;re not going to use most or any of Django&#39;s core features, you might be better off with another framework like Flask.)"}, {"owner": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "edited": false, "score": 0, "creation_date": 1422479101, "post_id": 28201926, "comment_id": 44770874, "body": "I thought of that but flask is at 0.10.1.  That does not sound &quot;battle tested,&quot; and I wasn&#39;t sure it could handle really big sites."}, {"owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "reply_to_user": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "edited": false, "score": 1, "creation_date": 1422479216, "post_id": 28201926, "comment_id": 44770930, "body": "@johnny: The version number doesn&#39;t increment much, but it&#39;s in use at a number of places. The place I work uses it for a pretty big web app."}], "tags": [], "owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "is_accepted": true, "score": 2, "last_activity_date": 1422477375, "creation_date": 1422477375, "answer_id": 28201926, "question_id": 28201859, "link": "https://stackoverflow.com/questions/28201859/is-migration-required-in-a-django-application/28201926#28201926", "title": "Is migration required in a Django application?", "body": "<p>No, you don't need to use migrations.</p>\n\n<p>(Also, it may be relevant to note that you <em>can</em> use raw SQL, but Django will still set up some things for you so you can use its ORM, even with legacy databases. But migrations are not one of these things it does for you.)</p>\n"}], "owner": {"reputation": 18043, "user_id": 28045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/e4TH3.jpg?s=128&g=1", "display_name": "johnny", "link": "https://stackoverflow.com/users/28045/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 28201926, "answer_count": 2, "score": 2, "last_activity_date": 1422477375, "creation_date": 1422477169, "question_id": 28201859, "link": "https://stackoverflow.com/questions/28201859/is-migration-required-in-a-django-application", "title": "Is migration required in a Django application?", "body": "<p>I want to use Django with nothing but legacy databases.  Lots of them.  I want to use raw SQL in my model(s).</p>\n\n<p>Do I need migration to make Django function properly?  I don't want to use migration because I don't want Django to do anything with or to my databases.  I prefer to use SQL and return data.</p>\n"}, {"tags": ["python", "web", "web-crawler"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1422477164, "post_id": 28201831, "comment_id": 44769860, "body": "That should be <code>myCrawler = WebCrawler()</code> - note parentheses."}, {"owner": {"reputation": 71, "user_id": 4430551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6267bce32f53da782542416a845696f5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huber-Feely", "link": "https://stackoverflow.com/users/4430551/noah-huber-feely"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1422477425, "post_id": 28201831, "comment_id": 44770014, "body": "When I did that it returned this error."}, {"owner": {"reputation": 71, "user_id": 4430551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6267bce32f53da782542416a845696f5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huber-Feely", "link": "https://stackoverflow.com/users/4430551/noah-huber-feely"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1422477473, "post_id": 28201831, "comment_id": 44770041, "body": "TypeError: __init__() takes no arguments (1 given)"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1422477517, "post_id": 28201831, "comment_id": 44770068, "body": "Yes, you need to specify the <code>self</code> parameter to <code>__init__</code> (and every other method). Also, what&#39;s the point of locally assigning <code>size</code> in <code>__init__</code>? I strongly suggest that you follow a tutorial (e.g. <a href=\"https://docs.python.org/2/tutorial/classes.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/classes.html</a>); you can&#39;t just guess and hope for the best."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4430551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6267bce32f53da782542416a845696f5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huber-Feely", "link": "https://stackoverflow.com/users/4430551/noah-huber-feely"}, "edited": false, "score": 0, "creation_date": 1422478041, "post_id": 28201990, "comment_id": 44770333, "body": "When I do this, it still returns an error, which then stops when I use the containsAny() function by stating self.containsAny(). However, the program then simply executes and then shortly stops without printing anything to the screen."}, {"owner": {"reputation": 71, "user_id": 4430551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6267bce32f53da782542416a845696f5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huber-Feely", "link": "https://stackoverflow.com/users/4430551/noah-huber-feely"}, "edited": false, "score": 0, "creation_date": 1422583271, "post_id": 28201990, "comment_id": 44819140, "body": "I am still seeking an answer to this question, so if you can discover the error, it would be much appreciated. Thanks!"}, {"owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "reply_to_user": {"reputation": 71, "user_id": 4430551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6267bce32f53da782542416a845696f5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huber-Feely", "link": "https://stackoverflow.com/users/4430551/noah-huber-feely"}, "edited": false, "score": 0, "creation_date": 1422596657, "post_id": 28201990, "comment_id": 44822465, "body": "@NoahHuber-Feely: You need to post a stack trace of what happens."}, {"owner": {"reputation": 71, "user_id": 4430551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6267bce32f53da782542416a845696f5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huber-Feely", "link": "https://stackoverflow.com/users/4430551/noah-huber-feely"}, "edited": false, "score": 0, "creation_date": 1423613156, "post_id": 28201990, "comment_id": 45218085, "body": "The solution to this problem was literally right in front of everyone&#39;s eyes. I needed to remove the break statement from the try statement."}], "tags": [], "owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "is_accepted": true, "score": 1, "last_activity_date": 1422477587, "creation_date": 1422477587, "answer_id": 28201990, "question_id": 28201831, "link": "https://stackoverflow.com/questions/28201831/web-crawler-class-not-working/28201990#28201990", "title": "Web crawler class not working", "body": "<p>You have two issues. One is one this line:</p>\n\n<pre><code>myCrawler = WebCrawler\n</code></pre>\n\n<p>You are not creating an instance of <code>WebCrawler</code>, you are just binding the name <code>myCrawler</code> to <code>WebCrawler</code> (basically, creating an alias for the class). You should do this instead:</p>\n\n<pre><code>myCrawler = WebCrawler()\n</code></pre>\n\n<p>Then, on this line:</p>\n\n<pre><code>def crawlUrls(url, depth):\n</code></pre>\n\n<p>Python instance methods take the receiver as the first argument to the method. It is generally called <code>self</code>, but technically you can call it whatever you want. So you should change the method signature to:</p>\n\n<pre><code>def crawlUrls(self, url, depth):\n</code></pre>\n\n<p>(You also need to do this for the other methods you defined.)</p>\n"}], "owner": {"reputation": 71, "user_id": 4430551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6267bce32f53da782542416a845696f5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huber-Feely", "link": "https://stackoverflow.com/users/4430551/noah-huber-feely"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 28201990, "answer_count": 1, "score": -1, "last_activity_date": 1422477587, "creation_date": 1422477088, "last_edit_date": 1422477208, "question_id": 28201831, "link": "https://stackoverflow.com/questions/28201831/web-crawler-class-not-working", "title": "Web crawler class not working", "body": "<p>Recently, I began working on constructing a simple web crawler. My initial code that just iterated twice worked perfectly, but when I attempted to turn it into a class with error exception handling, it no longer compiled. </p>\n\n<pre><code>import re, urllib\nclass WebCrawler:\n    \"\"\"A Simple Web Crawler That Is Readily Extensible\"\"\"\n    def __init__():\n        size = 1\n    def containsAny(seq, aset):\n        for c in seq:\n            if c in aset: return True\n        return False\n\n    def crawlUrls(url, depth):\n        textfile = file('UrlMap.txt', 'wt')\n        urlList = [url]\n        size = 1\n        for i in range(depth):\n            for ee in range(size):\n                if containsAny(urlList[ee], \"http://\"):\n                    try:\n                        webpage = urllib.urlopen(urlList[ee]).read()\n                        break\n                    except:\n                        print \"Following URL failed!\"\n                        print urlList[ee]\n                    for ee in re.findall('''href=[\"'](.[^\"']+)[\"']''',webpage, re.I):\n                        print ee\n                        urlList.append(ee)\n                        size+=1\n                        textfile.write(ee+'\\n')\n\nmyCrawler = WebCrawler\n\nmyCrawler.crawlUrls(\"http://www.wordsmakeworlds.com/\", 2)\n</code></pre>\n\n<p>And here is the error code generated.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/Noah Huber-Feely/Desktop/Python/WebCrawlerClass\", line 33, in &lt;module&gt;\n    myCrawler.crawlUrls(\"http://www.wordsmakeworlds.com/\", 2)\nTypeError: unbound method crawlUrls() must be called with WebCrawler instance as first argument (got str instance instead)\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot", "seaborn"], "comments": [{"owner": {"reputation": 95, "user_id": 3353691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ejuqa.jpg?s=128&g=1", "display_name": "Ben Gosub", "link": "https://stackoverflow.com/users/3353691/ben-gosub"}, "edited": false, "score": 0, "creation_date": 1422477955, "post_id": 28201811, "comment_id": 44770287, "body": "and here&#39;s a preview <a href=\"http://postimg.org/image/if6itunph/\" rel=\"nofollow noreferrer\">postimg.org/image/if6itunph</a>"}, {"owner": {"reputation": 69932, "user_id": 249341, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZFHpl.jpg?s=128&g=1", "display_name": "Hooked", "link": "https://stackoverflow.com/users/249341/hooked"}, "edited": false, "score": 0, "creation_date": 1422481649, "post_id": 28201811, "comment_id": 44772123, "body": "I&#39;ve added your image inline to the post, please make sure the edits are as you intended."}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1422481836, "post_id": 28201811, "comment_id": 44772229, "body": "I suspect that it will be easier to lay things out exactly as you want them if you create the Axes where you want the colorbar to go and pass it to the <code>cbar_ax</code> parameter of <code>heatmat</code>."}, {"owner": {"reputation": 95, "user_id": 3353691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ejuqa.jpg?s=128&g=1", "display_name": "Ben Gosub", "link": "https://stackoverflow.com/users/3353691/ben-gosub"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1422483755, "post_id": 28201811, "comment_id": 44773142, "body": "@mwaskom bear in mind that I need to scale the colors differently for rows:1,2, and 3-15, so it means I need three different scales for coloring, so I created three separate heatmaps that I want to align n a gridline with the ratio: 1,1,13. I have also tried with height_ratios[1, 1, 13] and I don&#39;t even know if it works with three values and I get an error: IndexError: index 6 is out of bounds for axis 0 with size 6"}], "owner": {"reputation": 95, "user_id": 3353691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ejuqa.jpg?s=128&g=1", "display_name": "Ben Gosub", "link": "https://stackoverflow.com/users/3353691/ben-gosub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1386, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1422481619, "creation_date": 1422476992, "last_edit_date": 1422481619, "question_id": 28201811, "link": "https://stackoverflow.com/questions/28201811/plot-alignment-and-formatting-help-in-matplotlib-and-seaborn", "title": "Plot alignment and formatting help in Matplotlib and Seaborn", "body": "<p>I have a dataframe with 15 rows, which I plot using a seaborn heatmap. I have three plots, each with different scale for the heatmap. The first two plots are the first two rows, which are not aligned on the plot. </p>\n\n<p>I have created a grid with 15 rows, I give each of the first two rows 1/15th of the grid so I don't know why it is not aligned.\nAnother problem with the first two rows of the heatmap is that the text formatting doesn't work either.\nSo I want to do two things:</p>\n\n<ol>\n<li>Stretch the top two rows of the table to align it with the bottom one and; </li>\n<li>To make the formatting work for the top two rows as well.</li>\n<li>Maybe also add titles to my white xaxes (l1 and l2) that separate the the subgroups in the bottom plot (standard methods like ax.set_title does not work).</li>\n</ol>\n\n<p>My code:</p>\n\n<pre><code>import seaborn as sns\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport matplotlib.gridspec as gs\n\ngs = gs.GridSpec(15, 1) # nrows, ncols\nf = plt.figure(figsize=(10, 15))\ncmap = sns.diverging_palette(220, 10, as_cmap=True)\n\nax1 = f.add_subplot(gs[0:1, :])\nax2 = f.add_subplot(gs[1:2, :])\nax3 = f.add_subplot(gs[2:15, :])\n\nticksx = plt.xticks(fontsize = 18, fontweight='bold')\nticksy = plt.yticks(fontsize = 18, fontweight='bold')\n\nwageplot = sns.heatmap(df[0:1], vmin=3000, vmax=10000, annot=False, square=True, cmap=cmap, ax=ax1, yticklabels=True, cbar=False, xticklabels=False)\n\ntenureplot = sns.heatmap(df[1:2], vmin=45, vmax=100, annot=True, square=True, cmap=cmap, ax=ax2, yticklabels=True, cbar=False, xticklabels=False)\n\nheatmap = sns.heatmap(df[2:15], vmin=0, vmax=1, annot=False, square=True, cmap=cmap, ax=ax3, yticklabels=True, cbar=True, xticklabels=True)\n\nheatmap.set_xticklabels(cols, rotation=45, ha='right')\n\nl1 = plt.axhline(y=1, linewidth=14, color='w', label='Female')\nl2 = plt.axhline(y=5, linewidth=14, color='w', label='Education')\n\nf.tight_layout()\n</code></pre>\n\n<p>I would appreciate if I can pointed to where can I get some information about how to program the needed grid. An example image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7pxyV.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 5, "creation_date": 1422476980, "post_id": 28201739, "comment_id": 44769745, "body": "Are these really one-element dicts inside a tuple inside a one-element list?? There are deeper problems with your data structure"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 1, "creation_date": 1422477171, "post_id": 28201739, "comment_id": 44769867, "body": "Some <a href=\"http://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">research effort</a> is expected from you."}, {"owner": {"reputation": 247, "user_id": 4016119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2c9fb13d2546e67baf64d642b03ca27?s=128&d=identicon&r=PG&f=1", "display_name": "Darren Ringer", "link": "https://stackoverflow.com/users/4016119/darren-ringer"}, "edited": false, "score": 1, "creation_date": 1422477494, "post_id": 28201739, "comment_id": 44770053, "body": "To those doing data-structure bashing ... something like this is guaranteed to be &#39;inefficient&#39; in python, so without offering an example of what the data structure SHOULD look like you&#39;re just belching hot air.  It&#39;s cool I guess, as this question shouldn&#39;t really even be here, but still."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 247, "user_id": 4016119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2c9fb13d2546e67baf64d642b03ca27?s=128&d=identicon&r=PG&f=1", "display_name": "Darren Ringer", "link": "https://stackoverflow.com/users/4016119/darren-ringer"}, "edited": false, "score": 0, "creation_date": 1422477594, "post_id": 28201739, "comment_id": 44770105, "body": "@DarrenRinger fair enough. This should all be one dictionary if order doesn&#39;t matter, or one <code>collections.OrderedDict</code> if it does."}], "answers": [{"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1422480337, "last_edit_date": 1422480337, "creation_date": 1422477276, "answer_id": 28201894, "question_id": 28201739, "link": "https://stackoverflow.com/questions/28201739/how-to-get-a-value-of-dictionaries-and-nested-dictionaries-within-a-list/28201894#28201894", "title": "How to get a value of dictionaries and nested dictionaries within a list?", "body": "<p>Well <code>example_dict</code> is a one-element list, so:</p>\n\n<pre><code>the_tuple = example_dict[0] # ({'Progrm':'Python'}, ...)\nfor dct in the_tuple:\n    for value in dct.values():\n        if isinstance(value, dict):\n            print(\", \".join([\"{}:{}\".format(k,v) for k,v in value.items()]))\n            for v in value.values():\n                print(v)\n        else:\n            print(value)\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>Python\nage:24, pincode:400000\n24\n400000\nage:22, pincode:500000\n22\n500000\n</code></pre>\n\n<p>Or more comically:</p>\n\n<pre><code>\"\\n\".join([\"\\n\".join([\", \".join([\"{}:{}\".format(k,v) for k,v in value.items()])]+[str(v) for v in value.values()]) if isinstance(value, dict) else value for tup in example_dict for dct in tup for value in dct.values()])\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4486359, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IyDRoNCzbbQ/AAAAAAAAAAI/AAAAAAAAADs/KnlRbfHewvw/photo.jpg?sz=128", "display_name": "rohit_777", "link": "https://stackoverflow.com/users/4486359/rohit-777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1422480337, "creation_date": 1422476747, "last_edit_date": 1422477316, "question_id": 28201739, "link": "https://stackoverflow.com/questions/28201739/how-to-get-a-value-of-dictionaries-and-nested-dictionaries-within-a-list", "title": "How to get a value of dictionaries and nested dictionaries within a list?", "body": "<pre><code>example_dict = [({'Progrm':'Python'},\n                 {'Rohit':{'age':24,'pincode':400000}},\n                 {'Rahul':{'age':22,'pincode':500000}})]\n</code></pre>\n\n<p>I would like to get the above program output as only values of dict and nested dict:</p>\n\n<pre><code>Python\nage:24, pincode : 400000\n24\n400000\nage:22, pincode : 500000\n22\n500000\n</code></pre>\n\n<p>How can I access the values? </p>\n"}, {"tags": ["python", "multithreading", "raspberry-pi", "gpio", "omxplayer"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1422477031, "post_id": 28201667, "comment_id": 44769777, "body": "Use <code>thread.stop()</code>."}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1422477336, "post_id": 28201667, "comment_id": 44769963, "body": "I read some of your code... Why not use the same thread? And there is no <code>thread.stop()</code> in python: <a href=\"https://docs.python.org/2/library/threading.html#thread-objects\" rel=\"nofollow noreferrer\">docs.python.org/2/library/threading.html#thread-objects</a>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1422477784, "post_id": 28201667, "comment_id": 44770206, "body": "I meant you could implement it by inheriting Thread and using a Boolean sentry."}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1422478020, "post_id": 28201667, "comment_id": 44770320, "body": "Yup, you could... But I suppose the next thing he wants to do is open another thread. Why bother? :)"}, {"owner": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "reply_to_user": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1422479075, "post_id": 28201667, "comment_id": 44770866, "body": "@ReutSharabani I just tried putting them in the same thread and I still need a way to stop the subprocess or video before the next video plays. I put them in separate threads because I was trying to kill the thread instead of the subprocess."}, {"owner": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1422479861, "post_id": 28201667, "comment_id": 44771244, "body": "@MalikBrahimi I&#39;m trying it out right now. Fingers crossed I&#39;m doing it correctly. Beginner in the house over here. hahaha"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1422479916, "post_id": 28201667, "comment_id": 44771268, "body": "Yeah, I&#39;ve posted the full code below if you want. See <a href=\"http://repl.it/9Q2/1\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1422480047, "post_id": 28201667, "comment_id": 44771321, "body": "How did it go for you?"}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "edited": false, "score": 0, "creation_date": 1422481160, "post_id": 28202402, "comment_id": 44771866, "body": "I just restarted and still no video...so close! It will switch off between &quot;Play Dodgeballs&quot; and &quot;Play Shoppingcarts&quot; when I press each button though. I&#39;ll play around with omxplayer. It was working fine before, but never know. Thanks again for the help."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "edited": false, "score": 0, "creation_date": 1422481219, "post_id": 28202402, "comment_id": 44771893, "body": "I&#39;m telling you it&#39;s a problem with your video player. Why don&#39;t you try playing it with Pygame?"}, {"owner": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "edited": false, "score": 0, "creation_date": 1422481283, "post_id": 28202402, "comment_id": 44771931, "body": "I&#39;ll try that out. I had done that before, but switched to omxplayer because it seemed simpler."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "edited": false, "score": 0, "creation_date": 1422481633, "post_id": 28202402, "comment_id": 44772113, "body": "Let me know if you need anything else, but for know I recommend using a foolproof command line tool for playing the media."}, {"owner": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "edited": false, "score": 0, "creation_date": 1422481950, "post_id": 28202402, "comment_id": 44772285, "body": "I&#39;ll try. I have to run this with GPIO buttons controlling the videos. This is the only way I know how. If you know of another method definitely hit me up! Thanks! jmcclaire [at] gmail [dot] com"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "edited": false, "score": 0, "creation_date": 1422482001, "post_id": 28202402, "comment_id": 44772310, "body": "I recommend using a USB game controller that you can manipulate with Pygame, or just use the keyboard."}, {"owner": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "edited": false, "score": 0, "creation_date": 1422482127, "post_id": 28202402, "comment_id": 44772372, "body": "I&#39;m building an interactive wall and the videos have to be controlled by arcade buttons that are already installed."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "edited": false, "score": 0, "creation_date": 1422547150, "post_id": 28202402, "comment_id": 44801411, "body": "jmclaire, my code was actually flawed because I forgot to override the <code>start</code> method of threads. It should work correctly now, and it should play your videos with <code>omxplayer</code>."}, {"owner": {"reputation": 159, "user_id": 3764683, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1AeeV.jpg?s=128&g=1", "display_name": "pandasCat", "link": "https://stackoverflow.com/users/3764683/pandascat"}, "edited": false, "score": 0, "creation_date": 1531354057, "post_id": 28202402, "comment_id": 89568840, "body": "@Malik Brahimi I also want to add an alive() function, but then I do this within the RaspberryThread class: def alive(self):       return super(TestThread, self).isAlive()  and then do: v1.alive() I get false. Do you know why?"}, {"owner": {"reputation": 159, "user_id": 3764683, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1AeeV.jpg?s=128&g=1", "display_name": "pandasCat", "link": "https://stackoverflow.com/users/3764683/pandascat"}, "edited": false, "score": 0, "creation_date": 1531355320, "post_id": 28202402, "comment_id": 89569075, "body": "@Malik Brahimi Never mind I figured out why there was a problem for the join.  One problem I do get by using the RaspberryThread is:  python(33400,0x700003b2b000) malloc: *** error for object 0x7fd2bea2fe00: pointer being freed was not allocated *** set a breakpoint in malloc_error_break to debug Abort trap: 6  I think this problem comes up from the stop(), but I&#39;m not too sure. I&#39;ve been trying to debug for hours :/"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 3, "last_activity_date": 1422547012, "last_edit_date": 1422547012, "creation_date": 1422479243, "answer_id": 28202402, "question_id": 28201667, "link": "https://stackoverflow.com/questions/28201667/killing-or-stopping-an-active-thread/28202402#28202402", "title": "Killing or stopping an active thread", "body": "<p>You need to implement your own threads:</p>\n\n<pre><code>class RaspberryThread(threading.Thread):\n    def __init__(self, function):\n        self.running = False\n        self.function = function\n        super(RaspberryThread, self).__init__()\n\n    def start(self):\n        self.running = True\n        super(RaspberryThread, self).start()\n\n    def run(self):\n        while self.running:\n            self.function()\n\n    def stop(self):\n        self.running = False\n</code></pre>\n\n<p>Then remove the while loops from your functions so you can pass them to the threads.</p>\n\n<pre><code>v1 = RaspberryThread(function = shoppingcart)\nv2 = RaspberryThread(function = dodgeballs)\n\nv1.start()\nv2.start()\n</code></pre>\n\n<p>Then you can stop the threads at any time</p>\n\n<pre><code>v1.stop()\nv2.stop()\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 1339643, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ySFxa.jpg?s=128&g=1", "display_name": "jmcclaire", "link": "https://stackoverflow.com/users/1339643/jmcclaire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11184, "favorite_count": 0, "accepted_answer_id": 28202402, "answer_count": 1, "score": 0, "last_activity_date": 1513709248, "creation_date": 1422476516, "question_id": 28201667, "link": "https://stackoverflow.com/questions/28201667/killing-or-stopping-an-active-thread", "title": "Killing or stopping an active thread", "body": "<p>I've come a long way and I'm almost there. I've converted from using Thread to Threading and can now switch videos mid-play, but I still am having trouble killing or stopping the first video. Basically, I'm making a video player controlled by buttons on a Raspberry Pi using OMXplayer. At the moment, I have to wait for one video to finish playing before pressing another button or else it will crash because multiple videos are playing at the same time.</p>\n\n<p>Thanks so much for any help you guys can offer.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport RPi.GPIO as GPIO\nimport subprocess\nimport threading\nimport time\n\nGPIO.setmode (GPIO.BCM)\nGPIO.setwarnings (False)\n\nGPIO.setup(9, GPIO.IN)  # Button 1\nGPIO.setup(10, GPIO.IN) # Button 2\n\ndef shoppingcart():\n        global current_video\n        while True:\n                if GPIO.input(9):\n                        #current_video.terminate()\n                        #current_video.kill()\n                        print \"Play Shoppingcart\"\n                        time.sleep(1)\n                        current_video=subprocess.Popen(['omxplayer','-b','Desktop/videos/shoppingcart.mp4'],\n                                        stdin=subprocess.PIPE,stdout=subprocess.PIPE,\n                                        stderr=subprocess.PIPE,close_fds=True)\n\ndef dodgeballs():\n        global current_video\n        while True:\n                if GPIO.input(10):\n                        #current_video.terminate()\n                        #current_video.kill()\n                        print \"Play Dodgeballs\"\n                        time.sleep(1)\n                        current_video=subprocess.Popen(['omxplayer','-b','Desktop/videos/dodgeballs.mp4'],\n                                        stdin=subprocess.PIPE,stdout=subprocess.PIPE,\n                                        stderr=subprocess.PIPE,close_fds=True)\n\nv1 = threading.Thread( name='shoppingcart', target=shoppingcart ) # Videos thread\nv2 = threading.Thread( name='dodgeballs', target=dodgeballs )   # Videos thread\n\nv1.start()\nv2.start()\n\nwhile True:\n        pass\n\nGPIO.cleanup() #Reset GPIOs\n</code></pre>\n"}, {"tags": ["python", "pyqtgraph"], "answers": [{"comments": [{"owner": {"reputation": 1511, "user_id": 1653558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c9dca2ed6014962e23ae930c4fd22842?s=128&d=identicon&r=PG", "display_name": "k3it", "link": "https://stackoverflow.com/users/1653558/k3it"}, "edited": false, "score": 0, "creation_date": 1422560754, "post_id": 28206876, "comment_id": 44809442, "body": "wow you are absolutely right. I printed data and saw a few Inf&#39;s.  I would have never thought of this. Thanks!"}], "tags": [], "owner": {"reputation": 10367, "user_id": 643629, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b702578d1cde726a755e822fbc96d2a?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/643629/luke"}, "is_accepted": true, "score": 2, "last_activity_date": 1422504639, "creation_date": 1422504639, "answer_id": 28206876, "question_id": 28201635, "link": "https://stackoverflow.com/questions/28201635/pyqtgraph-real-time-plot-freezes-after-resizing/28206876#28206876", "title": "pyqtgraph real time plot freezes after resizing", "body": "<p>If you have any <code>Inf</code> in the data, then it confuses the bounding rectangle calculations that determine whether to redraw the plot. Try cleaning the data first:</p>\n\n<pre><code>data[np.isinf(data)] = np.nan\n</code></pre>\n"}], "owner": {"reputation": 1511, "user_id": 1653558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c9dca2ed6014962e23ae930c4fd22842?s=128&d=identicon&r=PG", "display_name": "k3it", "link": "https://stackoverflow.com/users/1653558/k3it"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1453, "favorite_count": 0, "accepted_answer_id": 28206876, "answer_count": 1, "score": 0, "last_activity_date": 1422504639, "creation_date": 1422476398, "question_id": 28201635, "link": "https://stackoverflow.com/questions/28201635/pyqtgraph-real-time-plot-freezes-after-resizing", "title": "pyqtgraph real time plot freezes after resizing", "body": "<p>I'm plotting real time data received over UDP in pyqtgraph. Everything works great with 2048 points per update, but with 4096 or 8k points the plot freezes as soon as I try to resize or zoom in.   If I toggle logY scale the updates resume.   I've verified that there are no gaps in the UDP stream.  also tried to use </p>\n\n<pre><code># p.setDownsampling(auto=True)\n# p.setClipToView(True)\n</code></pre>\n\n<p>options, but they did not help</p>\n\n<p>I've read that pyqtgraph can handle a lot more data than this, so I'm a bit puzzled.  The problem can be seen here: <a href=\"https://www.youtube.com/watch?v=iL-WHEbSx-w\" rel=\"nofollow\">https://www.youtube.com/watch?v=iL-WHEbSx-w</a></p>\n\n<p>Here is the code, I took it straight from the examples with only minor changes</p>\n\n<pre><code>from pyqtgraph.Qt import QtGui, QtCore\nimport numpy as np\nimport pyqtgraph as pg\nfrom pyqtgraph.ptime import time\n\nfrom struct import pack, unpack\n\nfrom socket import *\n\napp = QtGui.QApplication([])\n\ndata = []\n\np = pg.plot(fillLevel=20)\np.setWindowTitle('pyqtgraph example: PlotSpeedTest')\np.setRange(QtCore.QRectF(0, 0, 30720000, 10 )) \np.setLabel('bottom', 'Frequency', units='Hz')\np.showGrid(True, True)\nfScale = np.linspace(0, 30720000, 8192)\n\n# p.setDownsampling(auto=True)\n# p.setClipToView(True)\n\ncurve = p.plot()\n\n# Receive UDP packets transmitted by a broadcasting service\n\nsock = socket(AF_INET, SOCK_DGRAM)\ntry:\n        sock.bind(('', 1234))\nexcept:\n        print \"Error connecting to the UDP stream.\"\n        quit\n\n\nptr = 0\nlastTime = time()\nfps = None\ndef update():\n    global sock, fScale\n    global curve, data, ptr, p, lastTime, fps\n    stream = sock.recv(16384)\n    if (len(stream) == 16384):\n        data_float16 = np.fromstring(stream, dtype=np.float16)\n        data = data_float16.astype(np.float32)\n        print \"got data\", lastTime, \"\\n\"\n    # print data\n    curve.setData(fScale,data,_callSync='off')\n    # curve.setData(data,_callSync='off')\n    now = time()\n    dt = now - lastTime\n    lastTime = now\n    if fps is None:\n        fps = 1.0/dt\n    else:\n        s = np.clip(dt*3., 0, 1)\n        fps = fps * (1-s) + (1.0/dt) * s\n    p.setTitle('%0.2f fps' % fps)\n    app.processEvents()  ## force complete redraw for every plot\ntimer = QtCore.QTimer()\ntimer.timeout.connect(update)\ntimer.start(0)\n\n\n## Start Qt event loop unless running in interactive mode.\nif __name__ == '__main__':\n    import sys\n    if (sys.flags.interactive != 1) or not hasattr(QtCore, 'PYQT_VERSION'):\n        QtGui.QApplication.instance().exec_()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "unicode", "encoding"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1422476659, "post_id": 28201580, "comment_id": 44769548, "body": "Martijn&#39;s answer explains the situation.  It&#39;s worth noting that this confusion is cleared up in Python 3.  In Python 3, unicode objects don&#39;t have a <code>decode</code> method and bytes objects don&#39;t have an <code>encode</code> method, so you can&#39;t accidentally do the encoding/decoding in the wrong direction."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1422477327, "post_id": 28201580, "comment_id": 44769958, "body": "Can you please not keep expanding your question?"}], "answers": [{"comments": [{"owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422478754, "post_id": 28201621, "comment_id": 44770696, "body": "Last part of the answer is pretty confusing to me: <code>s = &#39;\u2248&#39;</code> and then <code>&#39;\\xe2\\x89\\x88&#39;</code> because Python received the char as an utf-8 char and I can&#39;t see it from <code>sys.stdin.encoding</code> which returns <code>utf-8</code>. Now I don&#39;t understand what you want to say if I had used <code>s = u&#39;\u2248&#39;</code>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422478855, "post_id": 28201621, "comment_id": 44770746, "body": "@antox: <code>u&#39;\u2248&#39;.encode(&#39;utf8&#39;) == &#39;\\xe2\\x89\\x88&#39;</code>. The UTF-8 encoding for <code>\u2248</code> is those 3 bytes."}, {"owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422479049, "post_id": 28201621, "comment_id": 44770853, "body": "so do you mean that <code>str</code> and <code>unicode</code> types store the values using the encoding returned by <code>sys.stdin.encoding</code>? in the same way?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422479272, "post_id": 28201621, "comment_id": 44770957, "body": "@antox: no, <code>str</code> stored the bytes. <code>unicode</code> stores unicode, but you need to decode the bytes first. Python will use <code>sys.stdin.encoding</code> to do the latter."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422479310, "post_id": 28201621, "comment_id": 44770977, "body": "@antox: your terminal will always send bytes, however."}, {"owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422479816, "post_id": 28201621, "comment_id": 44771222, "body": "one last thing; instead when printing the name s (<code>s = u&#39;\u2248&#39;</code>) implicitly it&#39;s like if bytes from <code>s.encode(sys.stdout.encoding)</code> are sent to the monitor and then displayed, isn&#39;t it?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "edited": false, "score": 0, "creation_date": 1422482522, "post_id": 28201621, "comment_id": 44772576, "body": "Yes, <code>print</code> writes to <code>sys.stdout</code> which encodes <code>unicode</code> values automatically."}, {"owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1422525513, "post_id": 28201621, "comment_id": 44787544, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/69800/discussion-between-antox-and-martijn-pieters\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 6, "last_activity_date": 1422477751, "last_edit_date": 1422477751, "creation_date": 1422476343, "answer_id": 28201621, "question_id": 28201580, "link": "https://stackoverflow.com/questions/28201580/understanding-decode-and-encode-unicode/28201621#28201621", "title": "understanding decode() and encode() unicode", "body": "<p>You are calling <code>decode</code> on a <code>unicode</code> string. Python helpfully first <em>encodes</em> the string using the default ASCII codec so that you have actual bytes <em>to</em> decode. You cannot decode Unicode data itself, it is <em>already</em> decoded.</p>\n\n<p>That decoding then fails as the bytes are not valid UTF-32 data. The bytestring <code>'abcd'</code> is decodable as UTF-8, because ASCII is a subset of UTF-8. Encoding to ASCII then decoding as UTF-8 produces the same information. Decoding as UTF-16 happened to work by chance; you provided 4 bytes with hex values 0x61, 0x62, 0x63 and 0x64 (the ASCII values for the characters <code>abcd</code>), and those bytes can be decoded as UTF-16 little endian for <code>\\u6261</code> and <code>\\u6463</code>. But there is no valid decoding for those 4 bytes in the UTF-32 encoding system.</p>\n\n<p>If <code>s</code> had data in it that cannot be encoded to ASCII first, you'll get a <code>UnicodeEncodeError</code> exception; note the <em>Encode</em> in that name:</p>\n\n<pre><code>&gt;&gt;&gt; u'\u00e5\u00df\u00e7'.decode('utf8')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Users/mj/Development/venvs/stackoverflow-2.7/lib/python2.7/encodings/utf_8.py\", line 16, in decode\n    return codecs.utf_8_decode(input, errors, True)\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 0-2: ordinal not in range(128)\n</code></pre>\n\n<p>because the implicit encoding to a bytestring failed.</p>\n\n<p>In Python 3, <code>unicode</code> objects have been renamed to <code>str</code>, and the <code>str.decode()</code> method has been removed from the type to prevent this kind of confusion. Only <code>str.encode()</code> remains. The Python <code>str</code> type has been replaced by the <code>bytes</code> type, which only has an <code>bytes.decode()</code> method.</p>\n\n<p>Your second example shows that you are using the Python interpreter interactively in a terminal or console. Python received your input from the terminal as UTF-8 bytes and stored those bytes in a bytestring. Had you used a <code>unicode</code> literal, Python would have automatically decoded those bytes using the encoding declared for your terminal; you can introspect <code>sys.stdin.encoding</code> to see what Python detected:</p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.stdin.encoding\n'UTF-8'\n&gt;&gt;&gt; s = '\u2248'\n&gt;&gt;&gt; s\n'\\xe2\\x89\\x88'\n&gt;&gt;&gt; s = u'\u2248'\n&gt;&gt;&gt; s\nu'\\u2248'\n&gt;&gt;&gt; print s\n\u2248\n</code></pre>\n\n<p>Vice-versa, when printing the <code>sys.stdout.encoding</code> codec is used to auto-encode Unicode strings to the codec used by your terminal, which then interprets those bytes again to display the right glyphs on your screen.</p>\n\n<p>If you are not working in the Python interactive interpreter but are instead working with a Python source file, the codec to use is instead determined by the <a href=\"https://www.python.org/dev/peps/pep-0263/\" rel=\"nofollow\">PEP-263 <em>Python source code encodings declaration</em></a>, as Python 2 otherwise defaults to decoding bytes as ASCII.</p>\n\n<p><code>sys.getfilesystemencoding()</code> has nothing to do with all this; it tells you what Python think your <em>file system metadata</em> is encoded with; e.g. the filenames in directories. The values is used when you use <code>unicode</code> paths for filesystem-related calls like <code>os.listdir()</code>.</p>\n"}], "owner": {"reputation": 6112, "user_id": 2262522, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kofo4.jpg?s=128&g=1", "display_name": "zer0uno", "link": "https://stackoverflow.com/users/2262522/zer0uno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3149, "favorite_count": 0, "closed_date": 1484047864, "accepted_answer_id": 28201621, "answer_count": 1, "score": 3, "last_activity_date": 1422477751, "creation_date": 1422476221, "question_id": 28201580, "link": "https://stackoverflow.com/questions/28201580/understanding-decode-and-encode-unicode", "closed_reason": "Duplicate", "title": "understanding decode() and encode() unicode", "body": "<p>I just can't get how the functions <code>decode()</code> and <code>encode()</code> work on python2.7</p>\n\n<p>I tried the followings statement</p>\n\n<pre><code>&gt;&gt;&gt; s = u'abcd'\n&gt;&gt;&gt; s.encode('utf8')\n'abcd'\n&gt;&gt;&gt; s.encode('utf16')\n'\\xff\\xfea\\x00b\\x00c\\x00d\\x00'\n&gt;&gt;&gt; s.encode('utf32')\n'\\xff\\xfe\\x00\\x00a\\x00\\x00\\x00b\\x00\\x00\\x00c\\x00\\x00\\x00d\\x00\\x00\\x00'\n</code></pre>\n\n<p>untill here, I think it's clear; <code>encode()</code> translate a unicode code in the corresponding utf-8/16/32 byte string.</p>\n\n<p>But when I code:</p>\n\n<pre><code>&gt;&gt;&gt; s.decode('utf8')\nu'abcd'\n&gt;&gt;&gt; s.decode('utf16')\nu'\\u6261\\u6463'\n&gt;&gt;&gt; s.decode('utf32')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/lib/python2.7/encodings/utf_32.py\", line 11, in decode\n    return codecs.utf_32_decode(input, errors, True)\nUnicodeDecodeError: 'utf32' codec can't decode bytes in position 0-3: codepoint not in range(0x110000)\n</code></pre>\n\n<p>why the meaning of <code>decode()</code> on a unicode type? Why does the first (with utf8) work instead the latters not? Is it because python internally stores unicode strings using utf-8?</p>\n\n<p>One last thing:</p>\n\n<pre><code>&gt;&gt;&gt; s2 = '\u2248'\n&gt;&gt;&gt; s2\n'\\xe2\\x89\\x88'\n</code></pre>\n\n<p>What happens under the hood? '\u2248' is not an ascii character, so does python convert it implicitly using the encoding <code>sys.getfilesystemencoding()</code> returns?</p>\n"}, {"tags": ["python", "flask", "jinja2"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1422476081, "post_id": 28201499, "comment_id": 44769217, "body": "And your question is? You are not using correct syntax, but presumably you got an error message? What would the expected output be?"}, {"owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1422476274, "post_id": 28201499, "comment_id": 44769347, "body": "Expected output is if Yes is selected in the option menu, then display ALPHA below, if selected item is No, display BETA below. There are no error messages what so ever"}, {"owner": {"reputation": 9195, "user_id": 1150599, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ndWQ0.jpg?s=128&g=1", "display_name": "corvid", "link": "https://stackoverflow.com/users/1150599/corvid"}, "edited": false, "score": 0, "creation_date": 1422476566, "post_id": 28201499, "comment_id": 44769499, "body": "<code>request.args.get</code> is a function, not a list, so you&#39;re going to have to access it like <code>()</code> not <code>[]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "is_accepted": false, "score": 0, "last_activity_date": 1422476617, "last_edit_date": 1592644375, "creation_date": 1422476617, "answer_id": 28201699, "question_id": 28201499, "link": "https://stackoverflow.com/questions/28201499/how-to-make-jinja-2-display-different-divs-if-different-options-are-selected/28201699#28201699", "title": "How to make jinja 2 display different divs if different options are selected", "body": "<p>If your form is using the &quot;POST&quot; method, then you have to inspect <code>request.form</code> instead of <code>request.args</code>. From the docs:</p>\n<blockquote>\n<h3>form</h3>\n<p>A MultiDict with the parsed form data from POST or PUT requests. Please keep in mind that file uploads will not end up here, but instead in the files attribute.</p>\n<h3>args</h3>\n<p>A MultiDict with the parsed contents of the query string. (The part in the URL after the question mark).</p>\n</blockquote>\n<p>I guess you must either change the form method to &quot;GET&quot; or change the template code to use <code>request.form</code>.</p>\n<p>Also, my Flask is a little rusty but I think it is <code>request.args.get('yes')</code> or <code>request.args['yes']</code> instead of <code>request.args.get['yes']</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1422477016, "post_id": 28201772, "comment_id": 44769770, "body": "Thank you! Since I want it to dynamically happen, I will use JavaScript. But is it impossible to accomplish this task using only Jinja2 and Flask syntax?"}, {"owner": {"reputation": 9195, "user_id": 1150599, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ndWQ0.jpg?s=128&g=1", "display_name": "corvid", "link": "https://stackoverflow.com/users/1150599/corvid"}, "reply_to_user": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1422477335, "post_id": 28201772, "comment_id": 44769962, "body": "not really. Gotta think of the pipeline of how Jinja works. When you send a template, Jinja2 will read all the blocks, and convert them into an HTML page and then give the HTML document to the front end. So, that basically means that at the point it&#39;s rendered on the page, it&#39;s out of the back end&#39;s hands. If you want it to update dynamically, that&#39;s JavaScript&#39;s job."}, {"owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1422477778, "post_id": 28201772, "comment_id": 44770201, "body": "Well, I used your code and got an error: <code>ReferenceError: $ is not defined</code> <code>Use of getPreventDefault() is deprecated.  Use defaultPrevented instead.</code>"}, {"owner": {"reputation": 9195, "user_id": 1150599, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ndWQ0.jpg?s=128&g=1", "display_name": "corvid", "link": "https://stackoverflow.com/users/1150599/corvid"}, "reply_to_user": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "edited": false, "score": 0, "creation_date": 1422478157, "post_id": 28201772, "comment_id": 44770407, "body": "you don&#39;t have jQuery on your page then, you can include it in a tag like <code>&lt;script src=&quot;https:&#47;&#47;code.jquery.com&#47;jquery-2.1.3.min.js&quot;&gt;&lt;&#47;script&gt;</code>. If you don&#39;t want to use jQuery, you could do it with plain javascript, it will just be different in syntax"}], "tags": [], "owner": {"reputation": 9195, "user_id": 1150599, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ndWQ0.jpg?s=128&g=1", "display_name": "corvid", "link": "https://stackoverflow.com/users/1150599/corvid"}, "is_accepted": true, "score": 2, "last_activity_date": 1422476847, "creation_date": 1422476847, "answer_id": 28201772, "question_id": 28201499, "link": "https://stackoverflow.com/questions/28201499/how-to-make-jinja-2-display-different-divs-if-different-options-are-selected/28201772#28201772", "title": "How to make jinja 2 display different divs if different options are selected", "body": "<p>Your question is fairly unclear. Do you want it to dynamically happen? If so, then you would have to use JavaScript on the front end.</p>\n\n<pre><code>&lt;div id=\"output\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n$('#myselect').on('change', function() {\n  var selected = $( \"#myselect option:selected\" ).text();\n  if(selected == \"yes\") $(\"#output\").html(\"dfghjhkl;nbovicudhbnrfmg,hklbjuvhcndmf,\");\n  else $(\"#output\").html(\"12345676434565456765456\");\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>If you want to submit it and get a different page, change your form's action to <code>GET</code> and create a route to return your template and the <code>action</code> to a route that will do something like this:</p>\n\n<pre><code>@app.route(\"/yourform/getinfo\")\ndef show_sorted_info():\n  return render_template(\"results.html\")\n</code></pre>\n\n<p>with the template for <code>results.html</code> being like this:</p>\n\n<pre><code>{% if request.args.get('yes') %}\n  dfghjhkl;nbovicudhbnrfmg,hklbjuvhcndmf,\n{% elif request.args.get('no') %}\n  12345676434565456765456\n{% else %}\n  no option selected.\n{% endif %}\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 4145406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100008066655598/picture?type=large", "display_name": "Marks Gniteckis", "link": "https://stackoverflow.com/users/4145406/marks-gniteckis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4132, "favorite_count": 0, "closed_date": 1422479386, "accepted_answer_id": 28201772, "answer_count": 2, "score": 0, "last_activity_date": 1422476847, "creation_date": 1422475982, "last_edit_date": 1422476053, "question_id": 28201499, "link": "https://stackoverflow.com/questions/28201499/how-to-make-jinja-2-display-different-divs-if-different-options-are-selected", "closed_reason": "Not suitable for this site", "title": "How to make jinja 2 display different divs if different options are selected", "body": "<pre class=\"lang-html prettyprint-override\"><code>{% extends \"main.html\" %}\n{% block content %}\n&lt;h2&gt; Please select a sector you would like to iterate through:&lt;/h2&gt;\n&lt;br /&gt;\n&lt;form method=\"POST\" action=\"\"&gt;\n&lt;input type=\"text\" name=\"statement\" /&gt;\n&lt;input type=\"submit\" /&gt;\nDo you wish the output to be sorted?:\n&lt;select&gt;\n&lt;option value=\"yes\"&gt;Yes&lt;/option&gt;\n&lt;option value=\"no\"&gt;No&lt;/option&gt;\n&lt;/select&gt;\n&lt;/form&gt;\n{% if request.args.get['yes'] %}\ndfghjhkl;nbovicudhbnrfmg,hklbjuvhcndmf,\n{% elif request.args.get['no'] %}\n12345676434565456765456\n{% endif %}\n{% endblock %}\n</code></pre>\n\n<p>What I want is to display different information depending on what was selected within options. I just started Flask and Jinja2, so I am not so familiar with this type of coding.</p>\n"}, {"tags": ["python", "multiprocessing"], "comments": [{"owner": {"reputation": 1672, "user_id": 2464397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8l2kG.png?s=128&g=1", "display_name": "ThinkChaos", "link": "https://stackoverflow.com/users/2464397/thinkchaos"}, "edited": false, "score": 1, "creation_date": 1422476115, "post_id": 28201463, "comment_id": 44769237, "body": "Are you asking &quot;How to terminate a multiprocessing.Pool?&quot; or &quot;How to listen for a file creation event?&quot;"}, {"owner": {"reputation": 11203, "user_id": 353278, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8778b468a414406fde451816ac48e8e2?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/353278/jeff"}, "edited": false, "score": 0, "creation_date": 1422476259, "post_id": 28201463, "comment_id": 44769337, "body": "<code>pool.terminate()</code> will terminate the processes in the pool."}, {"owner": {"reputation": 1271, "user_id": 1787967, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c3a6483c6ac8e5e8adce10807e38edb5?s=128&d=identicon&r=PG", "display_name": "trailblazer", "link": "https://stackoverflow.com/users/1787967/trailblazer"}, "reply_to_user": {"reputation": 1672, "user_id": 2464397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/8l2kG.png?s=128&g=1", "display_name": "ThinkChaos", "link": "https://stackoverflow.com/users/2464397/thinkchaos"}, "edited": false, "score": 0, "creation_date": 1422476453, "post_id": 28201463, "comment_id": 44769432, "body": "@plg I am very new to python, I tried passing the pool to runReport function so that I can call <code>pool.terminate()</code> there. But I was not able to do so as pool is not pickle-able. I need to find a way to call <code>pool.terminate()</code> when the file /tmp/stop_check is created."}], "answers": [{"tags": [], "owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "is_accepted": true, "score": 0, "last_activity_date": 1422552891, "creation_date": 1422552891, "answer_id": 28221028, "question_id": 28201463, "link": "https://stackoverflow.com/questions/28201463/terminate-all-processes-in-a-pool/28221028#28221028", "title": "terminate all processes in a Pool", "body": "<p>Only the parent process can terminate the pool. You're better off having the parent run a loop that checks for the existence of that file, rather than trying to have each child do it and then signal the parent somehow:</p>\n\n<pre><code>import os\nimport sys\nimport time\nimport tempfile\nfrom multiprocessing import Pool\n\ndef runReport(*args):\n    # do task\n\ndef runReports(args):\n    return runReport(*args)\n\ndef main(argv):\n    pool = Pool(4)\n    args = []\n    # Code to generate args. args is an array of tuples of form (a, b, c)\n    result = pool.map_async(runReports, args)\n    temp_dir = tempfile.gettempdir()\n    while not result.ready():\n        if os.path.isfile(temp_dir + \"/stop_check\"):\n            pool.terminate()\n            break\n        result.wait(.5) # Wait a bit to avoid pegging the CPU. You can tune this value as you see fit.\n\nif (__name__ == '__main__'):\n    main(sys.argv[1:])\n</code></pre>\n\n<p>By using <code>map_async</code> instead of <code>map</code>, you're free to have the parent use a loop to check for the existence of the file, and then terminate the pool when necessary. Do not that using <code>terminate</code> to kill the children means that they won't get to do any clean up at all, so you need to make sure none of them access resources that could get left in an inconsistent state if the process dies while using them.</p>\n"}], "owner": {"reputation": 1271, "user_id": 1787967, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c3a6483c6ac8e5e8adce10807e38edb5?s=128&d=identicon&r=PG", "display_name": "trailblazer", "link": "https://stackoverflow.com/users/1787967/trailblazer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 0, "accepted_answer_id": 28221028, "answer_count": 1, "score": 1, "last_activity_date": 1422552891, "creation_date": 1422475838, "question_id": 28201463, "link": "https://stackoverflow.com/questions/28201463/terminate-all-processes-in-a-pool", "title": "terminate all processes in a Pool", "body": "<p>I have a python script that looks like follows:</p>\n\n<pre><code>import os\nimport tempfile\nfrom multiprocessing import Pool\n\ndef runReport(a, b, c):\n    # do task.\n    temp_dir = tempfile.gettempdir()\n    if (os.path.isfile(temp_dir + \"/stop_check\")):\n        # How to terminate all processes in the pool here?\n\ndef runReports(args):\n    return runReport(*args)\n\ndef main(argv):\n    pool = Pool(4)\n    args = []\n    # Code to generate args. args is an array of tuples of form (a, b, c)\n    pool.map(runReports, args)\n\nif (__name__ == '__main__'):\nmain(sys.argv[1:])\n</code></pre>\n\n<p>There is another python script that creates this file /tmp/stop_check.\nWhen this file gets created, I need to terminate the Pool. How can I achieve this?</p>\n"}, {"tags": ["python", "flask", "html5-video"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 8, "last_activity_date": 1422477788, "creation_date": 1422477788, "answer_id": 28202044, "question_id": 28201423, "link": "https://stackoverflow.com/questions/28201423/cant-play-html5-video-using-flask/28202044#28202044", "title": "Can&#39;t play HTML5 video using Flask", "body": "<p>The development server runs in single threaded mode by default, meaning it can only handle one request at a time.  You are requesting streams of two files at once, the .m3u8 and the .ts.  You can pass <a href=\"http://werkzeug.pocoo.org/docs/0.9/serving/#werkzeug.serving.run_simple\"><code>threaded=True</code> or <code>processes=value greater than 1</code> to <code>app.run</code></a> to allow handling of multiple requests at once, but that comes with it's own problems.  The development server in general seems to have problems streaming html5 video and audio.  The real solution is to use an actual server such as Nginx or Apache to serve the media files.</p>\n"}], "owner": {"reputation": 231, "user_id": 2334521, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b83c9e339f69e3fcd0aea81f04274f9?s=128&d=identicon&r=PG", "display_name": "Yuri A. Brito", "link": "https://stackoverflow.com/users/2334521/yuri-a-brito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5170, "favorite_count": 1, "accepted_answer_id": 28202044, "answer_count": 1, "score": 5, "last_activity_date": 1422486954, "creation_date": 1422475707, "last_edit_date": 1422486954, "question_id": 28201423, "link": "https://stackoverflow.com/questions/28201423/cant-play-html5-video-using-flask", "title": "Can&#39;t play HTML5 video using Flask", "body": "<p>I'm using Flask to serve .m3u8 and .ts files to simulate a vod stream.</p>\n\n<p>The video player does not stream the file and shows an error (see the screenshot below).  I can't find a log of what error it is.</p>\n\n<p><img src=\"https://i.stack.imgur.com/468Q8.png\" alt=\"screenshot of error\"></p>\n\n<p>Is there a log message somewhere that I'm missing?  What is causing this and how can I fix it?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 5, "creation_date": 1422475837, "post_id": 28201421, "comment_id": 44769076, "body": "Welcome to Stack Overflow! Contrary to popular belief, Stack Overflow is not a debugging service. You do need to do some work up front yourself. For example, you need to tell us what your code is supposed to do, what you expect to happen and where you think the problem may lie. Also see <a href=\"http://meta.stackoverflow.com/q/253787\">Are there legitimate &quot;fix my code&quot; questions?</a> and the linked <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to Debug Small Programs</a> blog post."}, {"owner": {"reputation": 1, "user_id": 4504662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614a819b461ab6088c9ed58e47c951c3?s=128&d=identicon&r=PG&f=1", "display_name": "Bella Silvermoon", "link": "https://stackoverflow.com/users/4504662/bella-silvermoon"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1422475987, "post_id": 28201421, "comment_id": 44769163, "body": "Thankyou for the welcome, I&#39;m sorry for my bad explanation I&#39;m autistic so thats the best way I found myself I could explain it in. I&#39;m trying to find the code so my program (which a user puts in school grades) finds the avarge (done) lowest and highest and prints them.. The lowest and highest bits are what I can&#39;t do."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1422476192, "post_id": 28201421, "comment_id": 44769295, "body": "You can always <a href=\"https://stackoverflow.com/posts/28201421/edit\">edit</a> your question to add more information. What is missing here is how the code is not working. What input did you give, and what output did you expect? What happened instead? Did you get any errors? If so, include the <i>full</i> traceback for those. Help us help you!"}], "answers": [{"tags": [], "owner": {"reputation": 2582, "user_id": 2003420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RnA23.jpg?s=128&g=1", "display_name": "bvidal", "link": "https://stackoverflow.com/users/2003420/bvidal"}, "is_accepted": false, "score": 1, "last_activity_date": 1422475854, "creation_date": 1422475854, "answer_id": 28201465, "question_id": 28201421, "link": "https://stackoverflow.com/questions/28201421/python-looping-code/28201465#28201465", "title": "Python looping code", "body": "<p>You should add the <code>grade</code> to the list of <code>numbers</code> like so: <code>numbers.append(grade)</code> otherwise your list is empty. </p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4504662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614a819b461ab6088c9ed58e47c951c3?s=128&d=identicon&r=PG&f=1", "display_name": "Bella Silvermoon", "link": "https://stackoverflow.com/users/4504662/bella-silvermoon"}, "edited": false, "score": 0, "creation_date": 1422476093, "post_id": 28201484, "comment_id": 44769226, "body": "Thankyou very much! Problem fixed :)"}, {"owner": {"reputation": 90304, "user_id": 562769, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e86681e49622d52817b36fd2a4c936b7?s=128&d=identicon&r=PG", "display_name": "Martin Thoma", "link": "https://stackoverflow.com/users/562769/martin-thoma"}, "reply_to_user": {"reputation": 1, "user_id": 4504662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614a819b461ab6088c9ed58e47c951c3?s=128&d=identicon&r=PG&f=1", "display_name": "Bella Silvermoon", "link": "https://stackoverflow.com/users/4504662/bella-silvermoon"}, "edited": false, "score": 0, "creation_date": 1422476472, "post_id": 28201484, "comment_id": 44769448, "body": "@BellaSilvermoon You&#39;re welcome. If the answer helped you / you found it good, you should upvote it. If it answered your question, you should accept it."}], "tags": [], "owner": {"reputation": 90304, "user_id": 562769, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e86681e49622d52817b36fd2a4c936b7?s=128&d=identicon&r=PG", "display_name": "Martin Thoma", "link": "https://stackoverflow.com/users/562769/martin-thoma"}, "is_accepted": true, "score": 1, "last_activity_date": 1422477131, "last_edit_date": 1422477131, "creation_date": 1422475942, "answer_id": 28201484, "question_id": 28201421, "link": "https://stackoverflow.com/questions/28201421/python-looping-code/28201484#28201484", "title": "Python looping code", "body": "<p>You miss the lines</p>\n\n<pre><code>if grade != -1:\n    numbers.append(grade)\n</code></pre>\n\n<p>after  <code>grade = int(grade)</code>. This adds the grade to the list <code>numbers</code>.</p>\n\n<h2>Review</h2>\n\n<ul>\n<li>Use <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow\">PEP8</a> (you can use pep8online.com) to check your code</li>\n<li>For unnamed input, I prefer <code>\"Largest is %i, smallest is %i\" % (max(numbers), min(numbers))</code></li>\n<li>You can use <code>sum</code> to sum up integers in a list</li>\n<li>If you add a shebang (the first line <code>#!/usr/bin/env python</code>), then Linux users can execute your script directly like this: <code>./yourscript.py</code> instead of <code>python yourscript.py</code>.</li>\n</ul>\n\n<h2>Code</h2>\n\n<p>I would rather write the code like this:</p>\n\n<pre><code>#!/usr/bin/env python\n\n\ndef get_grades():\n    \"\"\"Return a list of grades.\"\"\"\n    numbers = []\n    while True:\n        grade = int(input(\"Enter grade, -1 to end: \"))\n        if grade != -1:\n            numbers.append(grade)\n        else:\n            return numbers\n\n\nif __name__ == '__main__':\n    grades = get_grades()\n    if len(grades) != 0:\n        average = float(sum(grades)) / len(grades)\n        print('Largest is %i, smallest is %i.' % (max(grades), min(grades)))\n        print(\"Class average is %0.2f.\" % average)\n</code></pre>\n\n<h2>Reading error messages</h2>\n\n<p>You probably had the following:</p>\n\n<pre><code>$ python test.py \nEnter grade, -1 to end:1\nEnter grade, -1 to end: 2\nEnter grade, -1 to end: 3\nEnter grade, -1 to end: -1\nTraceback (most recent call last):\n  File \"test.py\", line 15, in &lt;module&gt;\n    print('Largest is {}, smallest is {}'.format(max(numbers), min(numbers)))\nValueError: max() arg is an empty sequence\n</code></pre>\n\n<p>Now you should first look for line number. This one says in <code>line 15</code> is something wrong. This is:</p>\n\n<pre><code>print('Largest is {}, smallest is {}'.format(max(numbers), min(numbers)))\n</code></pre>\n\n<p>Now you have to investigate further. What exactly is wrong? What could possibly go wrong in this line?</p>\n\n<p>Now you read</p>\n\n<pre><code>ValueError: max() arg is an empty sequence\n</code></pre>\n\n<p>That should look strange, because you checked <code>gradeCounter != 0</code>. Next, you would print the contents of the argument of max. This is empty, so adding to the list <code>numbers</code> did not work.</p>\n"}, {"tags": [], "owner": {"reputation": 167, "user_id": 4013022, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SgewP2qsOdU/AAAAAAAAAAI/AAAAAAAAAAA/n7Vtb5JawVw/photo.jpg?sz=128", "display_name": "yhoyo", "link": "https://stackoverflow.com/users/4013022/yhoyo"}, "is_accepted": false, "score": 0, "last_activity_date": 1422476092, "creation_date": 1422476092, "answer_id": 28201537, "question_id": 28201421, "link": "https://stackoverflow.com/questions/28201421/python-looping-code/28201537#28201537", "title": "Python looping code", "body": "<p>I thinks faster way is add all the user input data in some list and then sorted that list</p>\n\n<pre><code>&gt;&gt;&gt; list = [3, 1, 9, 8, 6]\n&gt;&gt;&gt; sorted(list)\n[1, 3, 6, 8, 9]\n&gt;&gt;&gt; sorted(list, reverse = True)\n[9, 8, 6, 3, 1]\n&gt;&gt;&gt; list\n[3, 1, 9, 8, 6]\n</code></pre>\n\n<p>then you can print the list[0] and list[len(list)-1]</p>\n"}], "owner": {"reputation": 1, "user_id": 4504662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614a819b461ab6088c9ed58e47c951c3?s=128&d=identicon&r=PG&f=1", "display_name": "Bella Silvermoon", "link": "https://stackoverflow.com/users/4504662/bella-silvermoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 28201484, "answer_count": 3, "score": -4, "last_activity_date": 1422477131, "creation_date": 1422475705, "last_edit_date": 1422476014, "question_id": 28201421, "link": "https://stackoverflow.com/questions/28201421/python-looping-code", "title": "Python looping code", "body": "<pre><code>total = 0          \ngradeCounter = 0  \nnumbers = []\ngrade = input(\"Enter grade, -1 to end:\")   # get one grade\ngrade = int(grade)   # convert string to an integer\n\nwhile grade != -1:\n    total = total + grade\n    gradeCounter = gradeCounter + 1\n    grade = input( \"Enter grade, -1 to end: \" )\n    grade = int( grade )\n\nif gradeCounter != 0:\n    average = float( total ) / gradeCounter\n    print('Largest is {}, smallest is {}'.format(max(numbers), min(numbers)))\n    print (\"Class average is\", average)\n</code></pre>\n\n<p>I'd be grateful if anyone could fix my coding. I'm trying to find a simple way to print the lowest and highest integer that the user input. What I have found isn't working an I suspect It's because I'm using Python3+. I'd like it to fit in with the coding I have already placed but yeah the code I have used isn't working. </p>\n\n<p>I'm trying to find the code so my program (which a user puts in school grades) finds the avarge (done) lowest and highest and prints them.. The lowest and highest bits are what I can't do. \u2013 </p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 4170323, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/c3ftj.png?s=128&g=1", "display_name": "Death_Dealer", "link": "https://stackoverflow.com/users/4170323/death-dealer"}, "edited": false, "score": 0, "creation_date": 1422475862, "post_id": 28201425, "comment_id": 44769084, "body": "thats awesome, thanks so much^_^ and sorry i always say that &quot;hex&quot; when i mean &quot;bytes&quot; : /"}, {"owner": {"reputation": 189, "user_id": 4170323, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/c3ftj.png?s=128&g=1", "display_name": "Death_Dealer", "link": "https://stackoverflow.com/users/4170323/death-dealer"}, "edited": false, "score": 0, "creation_date": 1422476670, "post_id": 28201425, "comment_id": 44769561, "body": "was already using stuct.pack but was using the &#39;&gt;i&#39; argument. the &quot;&gt;H&quot; fixed it thanks, next time ill do some more reading on the struct documentation."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 2, "last_activity_date": 1422475715, "creation_date": 1422475715, "answer_id": 28201425, "question_id": 28201364, "link": "https://stackoverflow.com/questions/28201364/python3-editing-hex-string/28201425#28201425", "title": "Python3 editing hex string", "body": "<p>You are converting a number into bytes, not hex. Use the <a href=\"https://docs.python.org/3/library/struct.html\" rel=\"nofollow\"><code>struct</code> module</a> to do this:</p>\n\n<pre><code>struct.pack('&gt;H', values)\n</code></pre>\n\n<p>This produces an unsigned short, 2 bytes, in big endian order; for the length <code>4</code> that'd produce <code>\\x00\\x04</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import struct\n&gt;&gt;&gt; struct.pack('&gt;H', 4)\nb'\\x00\\x04'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "is_accepted": false, "score": 2, "last_activity_date": 1422476063, "last_edit_date": 1592644375, "creation_date": 1422475744, "answer_id": 28201429, "question_id": 28201364, "link": "https://stackoverflow.com/questions/28201364/python3-editing-hex-string/28201429#28201429", "title": "Python3 editing hex string", "body": "<p>Assuming the integer is an big endian unsigned short, use <a href=\"https://docs.python.org/3/library/struct.html#struct.pack\" rel=\"nofollow noreferrer\"><code>struct.pack</code></a> with the big endian flag.</p>\n<pre><code>struct.pack('&gt;H', values)\n</code></pre>\n<p>In this format string, <code>&gt;</code> is the big endian flag, and <code>H</code> is unsigned short.</p>\n<h2>Example:</h2>\n<pre><code>&gt;&gt;&gt; import struct\n&gt;&gt;&gt; struct.pack('&gt;H', 4)\nb'\\x00\\x04'\n</code></pre>\n<p>You can find all the <code>struct</code> format characters <a href=\"https://docs.python.org/3/library/struct.html#format-characters\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 0, "last_activity_date": 1422481970, "creation_date": 1422481970, "answer_id": 28203122, "question_id": 28201364, "link": "https://stackoverflow.com/questions/28201364/python3-editing-hex-string/28203122#28203122", "title": "Python3 editing hex string", "body": "<pre><code>&gt;&gt;&gt; 4 .to_bytes(2, 'big')\nb'\\x00\\x04'\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 4170323, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/c3ftj.png?s=128&g=1", "display_name": "Death_Dealer", "link": "https://stackoverflow.com/users/4170323/death-dealer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 28201425, "answer_count": 3, "score": 0, "last_activity_date": 1422481970, "creation_date": 1422475487, "last_edit_date": 1422475643, "question_id": 28201364, "link": "https://stackoverflow.com/questions/28201364/python3-editing-hex-string", "title": "Python3 editing hex string", "body": "<p>I'm trying to write a file's hex size in the header of another file. When I convert the length to hex I get <code>b'\\x00\\x00\\x00\\x04'</code>  so it writes <code>\"00000004\"</code> to the file.</p>\n\n<p>The file's length is stored in 2 byte intervals though, so I need it to format the string to this <code>b'\\x00\\x04'</code>. what the easiest way to do this?</p>\n\n<pre><code>import mmap\ndef compact_bytes(values):\n    return (values[0] &lt;&lt; 4)| values[2]\n</code></pre>\n\n<p>I tried this but I know it's not correct and not the proper method. </p>\n"}, {"tags": ["python", "web", "request", "html-parsing", "pycurl"], "comments": [{"owner": {"reputation": 7578, "user_id": 3426606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKyql.jpg?s=128&g=1", "display_name": "Tony Suffolk 66", "link": "https://stackoverflow.com/users/3426606/tony-suffolk-66"}, "edited": false, "score": 0, "creation_date": 1422476099, "post_id": 28201336, "comment_id": 44769228, "body": "what do you mean - it doesn&#39;t work ? Do you get an error ? Tot test if a string contains a word - you can simply use <code>in</code>.. i.e. if <code>&quot;Couldn&#39;t&quot; in string</code>"}, {"owner": {"reputation": 1, "user_id": 4417712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5031b4065f1beb28181a3515ae9b3d9e?s=128&d=identicon&r=PG&f=1", "display_name": "toto", "link": "https://stackoverflow.com/users/4417712/toto"}, "reply_to_user": {"reputation": 7578, "user_id": 3426606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKyql.jpg?s=128&g=1", "display_name": "Tony Suffolk 66", "link": "https://stackoverflow.com/users/3426606/tony-suffolk-66"}, "edited": false, "score": 0, "creation_date": 1422476171, "post_id": 28201336, "comment_id": 44769272, "body": "Hello, No I get the else then there is write on the webpage only Couldn&#39;t resolve host &#39;http:&#39; vivst the website you will see .."}, {"owner": {"reputation": 1, "user_id": 4417712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5031b4065f1beb28181a3515ae9b3d9e?s=128&d=identicon&r=PG&f=1", "display_name": "toto", "link": "https://stackoverflow.com/users/4417712/toto"}, "reply_to_user": {"reputation": 7578, "user_id": 3426606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKyql.jpg?s=128&g=1", "display_name": "Tony Suffolk 66", "link": "https://stackoverflow.com/users/3426606/tony-suffolk-66"}, "edited": false, "score": 0, "creation_date": 1422476850, "post_id": 28201336, "comment_id": 44769673, "body": "How to check the word in the HTML page ?"}], "answers": [{"tags": [], "owner": {"reputation": 7578, "user_id": 3426606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKyql.jpg?s=128&g=1", "display_name": "Tony Suffolk 66", "link": "https://stackoverflow.com/users/3426606/tony-suffolk-66"}, "is_accepted": false, "score": 0, "last_activity_date": 1422612900, "creation_date": 1422612900, "answer_id": 28233598, "question_id": 28201336, "link": "https://stackoverflow.com/questions/28201336/python-how-to-search-a-word-on-a-html-page-and-make-a-test/28233598#28233598", "title": "PYTHON How to search a word on a HTML Page and make a Test", "body": "<p>This seems to work (uses the 'in' operator as I suggested in my comment) : </p>\n\n<pre><code>import pycurl\nimport StringIO\nimport sys\nimport time\n\nip = \"http://www.moorelandpartners.com/plugins/system/plugin_googlemap2_proxy.php\"\nc = pycurl.Curl()\nb = StringIO.StringIO()\nc.setopt(pycurl.WRITEFUNCTION, b.write)\nc.setopt(pycurl.TIMEOUT, 10) # Note 1\nc.setopt(pycurl.CONNECTTIMEOUT, 10) # Note 1\nc.setopt(c.URL, ip)\n\ntry:\n    c.perform()\nexcept Exception:\n    gg = 88\n    print \"No \",ip\nelse:\n    html = b.getvalue()\n    if \"Couldn't resolve host\" in html: # Note 2\n         print \"{0} FOUND \".format( ip ) # Note 3\n    else:\n         print \"do not works\"\n</code></pre>\n\n<p>What I did : </p>\n\n<ul>\n<li>Note 1 : Increased the timeouts - for some reason the setting of \"1\" didn't work for me</li>\n<li>Note 2 : used the 'in' operator to test that the returned page contained the words we are looking for.</li>\n<li>Note 3 : removed references to bcolors.OKGREEN and bcolors.ENDC as your bcolors was not defined.</li>\n</ul>\n\n<p>When I tested this on my pc it \"worked\" - i.e. it stated that it found the web page, and it found the relevant text.</p>\n"}], "owner": {"reputation": 1, "user_id": 4417712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5031b4065f1beb28181a3515ae9b3d9e?s=128&d=identicon&r=PG&f=1", "display_name": "toto", "link": "https://stackoverflow.com/users/4417712/toto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1422612900, "creation_date": 1422475386, "question_id": 28201336, "link": "https://stackoverflow.com/questions/28201336/python-how-to-search-a-word-on-a-html-page-and-make-a-test", "title": "PYTHON How to search a word on a HTML Page and make a Test", "body": "<p>hello everyone I'm searching a special sentence or word in a html page after make a webrequest</p>\n\n<p>the sentence = Couldn't resolve host 'http:'</p>\n\n<p>I try to code a script using pycurl  with b.getvalue() but seems doesen't works</p>\n\n<p>website to try <a href=\"http://www.moorelandpartners.com/plugins/system/plugin_googlemap2_proxy.php\" rel=\"nofollow\">http://www.moorelandpartners.com/plugins/system/plugin_googlemap2_proxy.php</a></p>\n\n<p>code : </p>\n\n<p><a href=\"http://pastebin.com/qAUjv1ux\" rel=\"nofollow\">http://pastebin.com/qAUjv1ux</a></p>\n\n<p>I would like search the total sentence or just maybe the word \"http\" or \"Couldn't\" </p>\n\n<p>Thanks for your help</p>\n"}, {"tags": ["python", "user-interface", "tkinter", "label"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4321565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c2131956ff726b7a13cbd28641e1f5f?s=128&d=identicon&r=PG&f=1", "display_name": "pewpew", "link": "https://stackoverflow.com/users/4321565/pewpew"}, "edited": false, "score": 0, "creation_date": 1422496552, "post_id": 28201380, "comment_id": 44777100, "body": "Awesome! Thank you so much!!"}], "tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": false, "score": 3, "last_activity_date": 1422476071, "last_edit_date": 1422476071, "creation_date": 1422475531, "answer_id": 28201380, "question_id": 28201288, "link": "https://stackoverflow.com/questions/28201288/tkinter-stringvar-only-accepts-the-most-recent-input/28201380#28201380", "title": "Tkinter StringVar() only accepts the most recent input", "body": "<p>The window won't even show up until you call <code>mainloop</code>, so calling <code>set</code> thousands of times won't have any visible effect, except for the very last call. You should use <a href=\"http://effbot.org/tkinterbook/widget.htm#Tkinter.Widget.after-method\" rel=\"nofollow\"><code>after</code></a> to register callback functions that change the label some seconds in the future.</p>\n\n<pre><code>from Tkinter import *\n\nmaster = Tk()\nmaster.title('Serial Position Effect')\n\nmyArray = ['book','chair','door']\ndef cycle(myArray, k):\n    t.set(myArray[k])\n\nt = StringVar()\n\nw = Label(master, height=3, width=15, font=('Helvetica', 118), textvariable = t)\n\nw.pack()\ncycle(myArray,0)\nmaster.after(1000, lambda: cycle(myArray, 1))\nmaster.after(2000, lambda: cycle(myArray, 2))\nmaster.mainloop()\n</code></pre>\n\n<hr>\n\n<p>You can also have the after-registered function call <code>after</code> itself, if you want the words to cycle forever.</p>\n\n<pre><code>from Tkinter import *\n\nmaster = Tk()\nmaster.title('Serial Position Effect')\n\nmyArray = ['book','chair','door']\ncur_idx = -1\ndef cycle():\n    global cur_idx\n    cur_idx = (cur_idx + 1) % len(myArray)\n    t.set(myArray[cur_idx])\n    master.after(1000, cycle)\n\nt = StringVar()\n\nw = Label(master, height=3, width=15, font=('Helvetica', 118), textvariable = t)\n\nw.pack()\ncycle()\nmaster.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4321565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c2131956ff726b7a13cbd28641e1f5f?s=128&d=identicon&r=PG&f=1", "display_name": "pewpew", "link": "https://stackoverflow.com/users/4321565/pewpew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422476071, "creation_date": 1422475218, "question_id": 28201288, "link": "https://stackoverflow.com/questions/28201288/tkinter-stringvar-only-accepts-the-most-recent-input", "title": "Tkinter StringVar() only accepts the most recent input", "body": "<p>I'm trying to make a small application that displays words from a list one-by-one. Below is my code:</p>\n\n<pre><code>from Tkinter import *\n\nmaster = Tk()\nmaster.title('Serial Position Effect')\n\nmyArray = ['book','chair','door']\ndef cycle(myArray, k):\n    t.set(myArray[k])\n\nt = StringVar()\n\nw = Label(master, height=3, width=15, font=('Helvetica', 118), textvariable = t)\n\n\nfor n in range(0,3):\n    cycle(myArray, n)\n\nw.pack()\n\nmaster.mainloop()\n</code></pre>\n\n<p>I was expecting the label to show book, chair, and door, but it only showed door on the window. I tried to modify the for loop like:</p>\n\n<pre><code>for n in range(0,3):\n    for x in range(0,10000):\n        cycle(myArray, n)\n</code></pre>\n\n<p>Because I thought the problem was that the program was cycling through the words too quickly. But with this modified code, the application, again, only showed door after a short delay. (The delay was probably because it was counting up to 10000.)</p>\n\n<p>Finally I approached this a little differently - a little less efficient but I thought by coding it like this I would be able to identify the problem in my original code:</p>\n\n<pre><code>from Tkinter import *\n\nmaster = Tk()\nmaster.title('Serial Position Effect')\n\n#myArray = ['book','chair','door']\n#def cycle(myArray, k):\n#    t.set(myArray[k])\n\nt = StringVar()\n\nw = Label(master, height=3, width=15, font=('Helvetica', 118), textvariable = t)\n\n\nfor n in range(0,10000)\n    t.set('book')\n\nfor n in range(0,10000)\n    t.set('chair')\n\nfor n in range(0,10000)\n    t.set('door')\n\nw.pack()\n\nmaster.mainloop()\n</code></pre>\n\n<p>Again, the window only displayed door.</p>\n\n<p>I'm new to GUI programming with Python and Tkinter. I would really appreciate it if someone could help me out with this issue.</p>\n\n<p>Thanks (=</p>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"tags": [], "owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "is_accepted": true, "score": 3, "last_activity_date": 1422476361, "creation_date": 1422476361, "answer_id": 28201625, "question_id": 28201235, "link": "https://stackoverflow.com/questions/28201235/using-own-field-to-define-others-in-django-models/28201625#28201625", "title": "Using own field to define others in Django Models", "body": "<p>You cannot use the <code>default</code> in this case. You can use the model's save method for this purpose:</p>\n\n<pre><code>class MyModel(models.Model):\n    field_1 = models.CharField(max_length=80)\n    field_2 = models.Charfield(max_length=80)\n\n    def save(self, *args, **kwargs):\n        #Here you can have all kinds of validations you would need\n\n        self.field_2 = self.field_1 + \"extra info\"\n        super(MyModel, self).save(*args, **kwargs)\n</code></pre>\n\n<p>Now, you can hide/exclude the <code>field_2</code> from the forms/modelforms if you choose to. </p>\n"}], "owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "accepted_answer_id": 28201625, "answer_count": 1, "score": 1, "last_activity_date": 1422476361, "creation_date": 1422475011, "question_id": 28201235, "link": "https://stackoverflow.com/questions/28201235/using-own-field-to-define-others-in-django-models", "title": "Using own field to define others in Django Models", "body": "<p>If I want to set a default value in a field and that value is derived from another field from same model. How can do something like that:</p>\n\n<pre><code>class MyModel(models.Model):\n     field_1 = models.CharField()\n     field_2 = models.Charfield(defualt=field_1 + 'extra info')\n</code></pre>\n"}, {"tags": ["python", "xml", "lxml"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1235720"}, "edited": false, "score": 0, "creation_date": 1422558919, "post_id": 28201220, "comment_id": 44808469, "body": "Thank you for the answer. Unfortunately, this will not work as is, as I have just discovered. Some events do not have &lt;MoneyLine&gt; associated with them. And as such, when zip, there are empty entries into the list. Is there a good manual on zip?"}, {"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1422570293, "post_id": 28201220, "comment_id": 44814798, "body": "The zip docs can be found here: <a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html#zip</a>, do you not want empty entries? You may also want to look into itertools or open another question."}], "tags": [], "owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "is_accepted": true, "score": 0, "last_activity_date": 1422474960, "creation_date": 1422474960, "answer_id": 28201220, "question_id": 28201090, "link": "https://stackoverflow.com/questions/28201090/parsing-xml-using-lxml-and-python/28201220#28201220", "title": "Parsing XML using LXML and Python", "body": "<p>You will end up with different lists as you are looking for different things, but that should be alright. The goal here is not to immediately get the result out of an <code>lxml</code> interface, but get something later that you can then put into a <code>mysql</code> database, yes?</p>\n\n<p>If so, simply adding a call to <code>zip</code> to your insert process should be just fine. For example:</p>\n\n<pre><code>home_teams = elt.xpath('./homeTeam/name/text()')\naway_teams = # something\naway_prices = # something\n\nfull_iterator = zip(home_teams, away_teams, away_prices, etc...)\nfor values in full_iterator:\n    # For example\n    mysql.insert(*values)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1235720"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 28201220, "answer_count": 1, "score": 1, "last_activity_date": 1422474960, "creation_date": 1422474541, "question_id": 28201090, "link": "https://stackoverflow.com/questions/28201090/parsing-xml-using-lxml-and-python", "title": "Parsing XML using LXML and Python", "body": "<p>I have read the other questions on stack overflow but am still unsure how to proceed. I have simplified the XML document for ease of reading.</p>\n\n<pre><code>         &lt;event&gt;\n            &lt;time&gt;2015-01-30T08:59:00Z&lt;/time&gt;\n            &lt;homeTeam type=\"Team1\"&gt;\n              &lt;name&gt;United Arab Emirates&lt;/name&gt;\n            &lt;/homeTeam&gt;\n            &lt;awayTeam type=\"Team2\"&gt;\n              &lt;name&gt;Iraq&lt;/name&gt;\n            &lt;/awayTeam&gt;\n            &lt;periods&gt;\n              &lt;period lineId=\"168809488\"&gt;\n                &lt;number&gt;0&lt;/number&gt;\n                &lt;description&gt;Match&lt;/description&gt;\n                &lt;cutoffDateTime&gt;2015-01-30T08:59:00Z&lt;/cutoffDateTime&gt;\n                &lt;moneyLine&gt;\n                  &lt;awayPrice&gt;218&lt;/awayPrice&gt;\n                  &lt;homePrice&gt;148&lt;/homePrice&gt;\n                  &lt;drawPrice&gt;225&lt;/drawPrice&gt;\n                &lt;/moneyLine&gt;\n              &lt;/period&gt;\n            &lt;/periods&gt;\n          &lt;/event&gt;\n</code></pre>\n\n<p>There are several 'event' elements in the XML file. I can isolate each one using the <code>tree.getiterator('event')</code> </p>\n\n<pre><code>for elt in tree.getiterator('event'):\n    print elt.xpath('./homeTeam/name/text()')\n    print elt.xpath('//startDateTime/text()') \n</code></pre>\n\n<p>However, this produces two lists. I need to isolate each time, Home Team Name, Away Team Name, Away Price, Home Price and Draw Price in order to store into a Mysql DB.</p>\n\n<p>I am not sure how to do this iterating through the event without ending up with different lists. One containing all Times, One containing all Home Team Names etc</p>\n\n<p>Any advice or pointers would be appreciated</p>\n"}, {"tags": ["python", "exception", "error-handling", "flask"], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 2509821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e5f516bacecde496e7e665ad7794c43?s=128&d=identicon&r=PG", "display_name": "Albert E", "link": "https://stackoverflow.com/users/2509821/albert-e"}, "edited": false, "score": 2, "creation_date": 1426634058, "post_id": 28201268, "comment_id": 46452034, "body": "Definitely, I ended up putting as much information as I can in the docstrings of both decorator and decorated methods."}], "tags": [], "owner": {"reputation": 2582, "user_id": 2003420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RnA23.jpg?s=128&g=1", "display_name": "bvidal", "link": "https://stackoverflow.com/users/2003420/bvidal"}, "is_accepted": false, "score": 0, "last_activity_date": 1423221535, "last_edit_date": 1423221535, "creation_date": 1422475134, "answer_id": 28201268, "question_id": 28201043, "link": "https://stackoverflow.com/questions/28201043/is-it-a-good-pattern-to-raise-exceptions-in-a-python-decorator/28201268#28201268", "title": "Is it a good pattern to raise exceptions in a python decorator?", "body": "<p><strong>Option 1</strong>: It seems logical to create a specific <code>Exception</code> for your decorator because this will help the user know which exception is raised, if any, and why. The type of exception should, of course, appear in the decorator docstring for the caller to be able to know what to expect. This way you're not making the assumption the user knows what exception is raised but that he has read the doc - which is more likely assumption. However if the method is called often the caller will have to handle it every time. That's part of the deal when using a library, an API or someone else's code. </p>\n\n<p><strong>Option 2</strong>: It does not belong to the user to determine which exception is going to be raised. The user should be aware of it via the documentation, for example. It is messy and counter intuitive in term of API design. </p>\n\n<p>Thinking about your question it made me think about the way Java works, especially if you use an IDE, when calling a method you will be warned - by the IDE and via the typing mechanism - that you should <code>try/catch</code> a given type of exception. </p>\n\n<p>But in your case wouldn't be possible to raise a proper <code>HTTPException</code> with a specific message ?</p>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 2509821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e5f516bacecde496e7e665ad7794c43?s=128&d=identicon&r=PG", "display_name": "Albert E", "link": "https://stackoverflow.com/users/2509821/albert-e"}, "is_accepted": true, "score": 3, "last_activity_date": 1426633938, "creation_date": 1426633938, "answer_id": 29111439, "question_id": 28201043, "link": "https://stackoverflow.com/questions/28201043/is-it-a-good-pattern-to-raise-exceptions-in-a-python-decorator/29111439#29111439", "title": "Is it a good pattern to raise exceptions in a python decorator?", "body": "<p>I ended up using decorators and throwing specific exceptions within them. For example: </p>\n\n<p>The <code>@validate_pid</code> decorator <code>raises InvalidPidException()</code> which are caught in the except block of any consumer that calls the decorated method.</p>\n\n<p>Advantages so far:</p>\n\n<ul>\n<li>Controllers are much cleaner and there is a lot less code replication.</li>\n<li>Fairly versatile solution, as I use these \"business logic validation\" decorators all over my code.</li>\n</ul>\n\n<p>Disadvantages so far:</p>\n\n<ul>\n<li>The decorator relies on certain keyname parameters to be passed when the decorated method is called, but some of these parameters are not used within the method itself. This can lead to some odd \"dangling\" parameters in the method signature.</li>\n<li>I have some minor performance concerns. For example: the project validation decorator initializes a session and loads an object (Project) only to be loaded again in the decorated method itself. Just seems a little janky. </li>\n</ul>\n"}], "owner": {"reputation": 221, "user_id": 2509821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e5f516bacecde496e7e665ad7794c43?s=128&d=identicon&r=PG", "display_name": "Albert E", "link": "https://stackoverflow.com/users/2509821/albert-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1497, "favorite_count": 1, "accepted_answer_id": 29111439, "answer_count": 2, "score": 8, "last_activity_date": 1426633938, "creation_date": 1422474387, "last_edit_date": 1422475626, "question_id": 28201043, "link": "https://stackoverflow.com/questions/28201043/is-it-a-good-pattern-to-raise-exceptions-in-a-python-decorator", "title": "Is it a good pattern to raise exceptions in a python decorator?", "body": "<p><strong>Context</strong>: I have Flask routes defined for different API endpoints and each endpoint calls a controller class with certain parameters (uid, project_id, etc.). </p>\n\n<pre><code>@app.route('/sample/route', methods=['POST'])\n@require_json_payload\n@require_fields({\n    'pid',\n    'params'\n})\ndef route_handler(arg1, arg2):\n    #input filtering\n    ...\n\n    try:\n        proj_cntr.sample_method(\n            pid         = pid,\n            ...         = ...\n        )\n    except ProjCntrException:\n        #handle error\n\n    #response generation\n    ...\n</code></pre>\n\n<p>The controller (proj_cntr) is responsible for determining, say, if the given PID is valid, wether the given user is allowed to perform the action, and other business logic validation. </p>\n\n<p>I noticed that I am c/pasting a lot of code like this in different controllers:</p>\n\n<pre><code>if not project_object:\n    sys_logger.info('...')\n    raise ProjCntrException('PID %d does not exist' % pid)\n</code></pre>\n\n<p>Putting these checks (validations) in decorators seems like the best thing to do. But I am not sure which error handling pattern is best practice should the validation not pass. </p>\n\n<p><strong>1)</strong> Should I create specific custom exceptions (InvalidProjException, PermissionsException, etc.) for each decorator to raise? </p>\n\n<p><strong>Concerns</strong>: The catch block of the caller method will look bloated. Also, is it good to make the assumption that the caller knows what exceptions the decorators of the callee raise?</p>\n\n<p><strong>2)</strong> The decorator passes an extra error argument to the method and the method decides what exception to raise. This way the caller method is aware what exception type to expect and handle.</p>\n\n<p><strong>Concerns</strong>: Approach seems a little over-engineered and messy.</p>\n\n<p>Sorry for the verbose question. Any thoughts/ideas are greatly appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2582, "user_id": 2003420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RnA23.jpg?s=128&g=1", "display_name": "bvidal", "link": "https://stackoverflow.com/users/2003420/bvidal"}, "edited": false, "score": 3, "creation_date": 1422474435, "post_id": 28201018, "comment_id": 44768259, "body": "You might want to take a look at <a href=\"http://stackoverflow.com/q/1565374/2003420\">stackoverflow.com/q/1565374/2003420</a>"}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1422474447, "post_id": 28201018, "comment_id": 44768272, "body": "<a href=\"https://docs.python.org/2/library/functions.html#tuple\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html#tuple</a> <code>tuple</code>&#39;s constructor takes exactly one argument, an iterable"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1422474912, "post_id": 28201018, "comment_id": 44768511, "body": "You may want to look at <a href=\"https://docs.python.org/3/library/collections.html#collections.namedtuple\" rel=\"nofollow noreferrer\"><code>collections.namedtuple()</code></a> instead; <code>Edge = namedtuple(&#39;Edge&#39;, &#39;head tail&#39;)</code>, then <code>Edge(1, 2)</code> to create an instance. It&#39;ll have <code>head</code> and <code>tail</code> attributes."}], "owner": {"reputation": 53, "user_id": 2852568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/671c53b210433cc370fd5e88909ec68d?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/2852568/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "closed_date": 1422474846, "answer_count": 0, "score": 2, "last_activity_date": 1422475248, "creation_date": 1422474282, "last_edit_date": 1422475248, "question_id": 28201018, "link": "https://stackoverflow.com/questions/28201018/writing-a-wrapper-for-pythons-tuple-class", "closed_reason": "Duplicate", "title": "Writing a wrapper for Python&#39;s tuple class", "body": "<p>I'm trying to write a wrapper for Python's tuple class, just so I can have an object that behaves like a tuple, but just has a couple of attributes and an extra function or two. I can't seem to resolve the conflict of constructors and inheritance though. This is what I want for the constructor:</p>\n\n<pre><code>class Edge(tuple):\n    def __init__(self, x, y):\n        super().__init__(self, (x, y))\n        self.head, self.tail = x, y\n</code></pre>\n\n<p>Thus, <code>Edge(1,2)</code> would form the tuple <code>(1, 2)</code> with attributes <code>x</code> and <code>y</code>. And if it's possible, I'd like to even disallow the tuple's other constructors (<code>tuple()</code> and <code>tuple(iter)</code>), but that isn't a priority.</p>\n\n<p>No matter how I write the code, however, it always seems like tuple's constructors take precidence over mine, thus the error: <code>TypeError: tuple() takes at most 1 argument (2 given)</code>.</p>\n\n<p>I'm using Python 3, which I believe makes a difference in the <code>super()</code> syntax (I think Python 2 would require something like <code>super(Edge, self).__init__()</code>).</p>\n\n<p>Edit: For future readers, I solved this with -</p>\n\n<pre><code>class Edge(tuple):\n    def __new__(cls, x, y):\n        return super().__new__(cls, (x, y))\n\n    def __init__(self, x, y):\n        super().__init__()\n        self.head, self.tail = x, y\n\nEdge(1, 2)  \n</code></pre>\n"}, {"tags": ["python", "flask", "web-hosting"], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 12209793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mADYDP2OVfxjwJqT8wAL0NBJE8BVLIDdTc0NUXtVA=k-s128", "display_name": "Paul McBurney", "link": "https://stackoverflow.com/users/12209793/paul-mcburney"}, "edited": false, "score": 0, "creation_date": 1576730615, "post_id": 28224979, "comment_id": 104995378, "body": "As MyCah said, PythonAnywhere can be a bit overwhelming to begin with. Because of this, I have compiled a quick tutorial to help you get started in seconds. Would be amazing if you could check it out: <a href=\"https://websanctuary.github.io/how-to-deploy-a-flask-app.html\" rel=\"nofollow noreferrer\">websanctuary.github.io/how-to-deploy-a-flask-app.html</a>"}], "tags": [], "owner": {"reputation": 357, "user_id": 4142560, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-M9GfC5lJOXs/AAAAAAAAAAI/AAAAAAAAAsg/IJOuVtyClVs/photo.jpg?sz=128", "display_name": "MyCah", "link": "https://stackoverflow.com/users/4142560/mycah"}, "is_accepted": false, "score": 5, "last_activity_date": 1422567055, "creation_date": 1422567055, "answer_id": 28224979, "question_id": 28201010, "link": "https://stackoverflow.com/questions/28201010/how-to-run-flask-app-on-website/28224979#28224979", "title": "How to run Flask app on website", "body": "<p>The site <a href=\"https://www.pythonanywhere.com/\" rel=\"noreferrer\">https://www.pythonanywhere.com/</a> provides pretty simple setups for Flask applications and doesn't require a whole lot of configuration from you. They have a free package that would allow you to run an application for your own testing purposes.</p>\n\n<p>If you are looking for more production level hosting, you probably want to take a gander at the <a href=\"http://flask.pocoo.org/docs/0.10/deploying/\" rel=\"noreferrer\">Flask documentation</a>, which will provide you with some pretty good information on what you need to do to get an app running.</p>\n\n<p>Be warned, though, the documentation is good but provides you with a lot of options, which can be overwhelming to someone just starting out. You'll have to make choices like whether or not you use Apache or go with nginx for your HTTP server.</p>\n"}, {"tags": [], "owner": {"reputation": 226, "user_id": 1634405, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bfe56c28d9e88c0a07360953664f7f24?s=128&d=identicon&r=PG", "display_name": "closeparen", "link": "https://stackoverflow.com/users/1634405/closeparen"}, "is_accepted": false, "score": 3, "last_activity_date": 1498221300, "last_edit_date": 1498221300, "creation_date": 1498202845, "answer_id": 44715519, "question_id": 28201010, "link": "https://stackoverflow.com/questions/28201010/how-to-run-flask-app-on-website/44715519#44715519", "title": "How to run Flask app on website", "body": "<p>Rent a Virtual Private Server from some place like Linode, DigitalOcean, Amazon Lightsail, etc.</p>\n\n<p>Install the Apache 2 Web Server, and follow the steps to deploy your Flask app through <a href=\"http://flask.pocoo.org/docs/0.10/deploying/mod_wsgi/\" rel=\"nofollow noreferrer\">mod_wsgi</a>:</p>\n\n<p>Add a file to your source code called <code>yourappnamehere.wsgi</code> with the contents:</p>\n\n<pre><code>import sys\nsys.path.insert(0, '/path/to/the/application')\nfrom yourapplication import app as application` \n</code></pre>\n\n<p>(change the names, obviously).</p>\n\n<p>Copy your source code directory to the path on the server you've indicated.</p>\n\n<p>Create an Apache config file. On Debain/Ubuntu these go in <code>/etc/apache2/sites-available/nameofsite.conf</code>. It should look like this:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\nServerName example.com\n\nWSGIDaemonProcess yourapplication user=user1 group=group1 threads=5\nWSGIScriptAlias / /var/www/yourapplication/yourapplication.wsgi\n\n&lt;Directory /var/www/yourapplication&gt;\n    WSGIProcessGroup yourapplication\n    WSGIApplicationGroup %{GLOBAL}\n    Order deny,allow\n    Allow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p></p>\n\n<p>By default your code will execute as the Apache user. If you want to override that, optionally set the user and group to a non root user. The paths should point to the copy of your source code on the server. The ServerName should be the hostname which would appear in the URL you want Apache to respond for.</p>\n\n<p>Run <code>a2ensite nameofconffile</code> to activate this configuration. Reload the Apache webserver process to pick up the new config. (This will be something like <code>service httpd reload</code> or <code>systemctl reload httpd</code>).</p>\n\n<p>Finally, rent a domain name from someplace like Namecheap (a <em>registrar</em>). At your registrar, set your Nameserver as instructed by your VPS provider's documentation. At your VPS provider, create an A record mapping your new domain name to the public IP address of your VPS.</p>\n\n<p>This is about as close as it gets to just uploading your Python source code like you would a static website.</p>\n\n<p>It's not that hard, compared to programming. Make sure you run your Linux distribution's security updates regularly. Make sure you disable SSH password authentication and use SSH keys to log in. If you're running a high traffic, high visibility website with sensitive data and/or a high cost related to going down, things get more complicated. For a hobby project, what I described should be sufficient.</p>\n\n<p>But if being responsible for a whole server isn't  your cup of tea, you can also fling slightly more money at Heroku, Amazon Elastic Beanstalk, Google App Engine, etc. to supply your Flask app's repository and have it run on servers they manage.</p>\n\n<p>This is really ServerFault territory more than StackOverflow.</p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 12209793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mADYDP2OVfxjwJqT8wAL0NBJE8BVLIDdTc0NUXtVA=k-s128", "display_name": "Paul McBurney", "link": "https://stackoverflow.com/users/12209793/paul-mcburney"}, "is_accepted": false, "score": 3, "last_activity_date": 1576732671, "creation_date": 1576732671, "answer_id": 59403652, "question_id": 28201010, "link": "https://stackoverflow.com/questions/28201010/how-to-run-flask-app-on-website/59403652#59403652", "title": "How to run Flask app on website", "body": "<p>PythonAnywhere or Heroku would both be spectacular options to host your Flask App. PythonAnywhere allows users to get their Flask Apps running in seconds.</p>\n\n<p>I totally recommend checking out PythonAnywhere if you want to host your Flask App in no time. Also, the basic PythonAnywhere plan is free! Even though PythonAnywhere is quick and intuitive, it can be a bit confusing and daunting to start if you've never used it before. Because of this I have compiled a quick tutorial that teaches you how to get your first Flask App Deployed with PythonAnywhere. Check it out here:</p>\n\n<p>Free PythonAnywhere Tutorial Link: <a href=\"https://websanctuary.github.io/how-to-deploy-a-flask-app.html\" rel=\"nofollow noreferrer\">https://websanctuary.github.io/how-to-deploy-a-flask-app.html</a></p>\n"}], "owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6559, "favorite_count": 2, "answer_count": 3, "score": 3, "last_activity_date": 1587307773, "creation_date": 1422474267, "last_edit_date": 1587307773, "question_id": 28201010, "link": "https://stackoverflow.com/questions/28201010/how-to-run-flask-app-on-website", "title": "How to run Flask app on website", "body": "<p>I'm very new in  Flask. I work on a simple searching app in dictionary which is saved in memory while the app runs. For testing this application, I use Flask framework which runs a server on a localhost when I run the *.py file. When I start the Flask script, I can see my webpage in a browser and use the application properly.</p>\n\n<pre><code>if __name__ == '__main__':\n    setup()\n    app.run()\n</code></pre>\n\n<p>Now, I want to put it on the Internet to have remote access. I know that just <em>copy+paste</em> it to a directory on some hosting which supports Python would not work. I will appreciate any advices how to make this work. </p>\n\n<p>I suppose, that it should be saved somewhere on the host directory and then I should start the app - app.run(I don't know what to type here as host and port). Or is there another way?</p>\n\n<p>I want just type <code>http://[some url where my app runs]</code> and see the html stored in flask templates file.</p>\n"}, {"tags": ["python", "attributeerror"], "comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 3, "creation_date": 1422474440, "post_id": 28200979, "comment_id": 44768262, "body": "The double leading underscore has <a href=\"https://docs.python.org/2/tutorial/classes.html#private-variables-and-class-local-references\" rel=\"nofollow noreferrer\">special meaning</a> which interferes with your inheritiance.  To access the superclass&#39;s <code>__name</code> attribute I think you need to refer to it as <code>self._A__name</code>."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 2, "creation_date": 1422475135, "post_id": 28200979, "comment_id": 44768673, "body": "As 6502 mentions in his answer, you shouldn&#39;t be necessarily <i>PLANNING</i> on having to write a property for your class. This is one of the strengths of properties in Python: it&#39;s very easy to convert an attribute to a property on the fly. Unless it&#39;s demonstrable that you need to have custom logic for getting, setting, or deleting an attribute -- don&#39;t use a property to do it."}], "answers": [{"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 7, "last_activity_date": 1422474455, "creation_date": 1422474455, "answer_id": 28201067, "question_id": 28200979, "link": "https://stackoverflow.com/questions/28200979/python-property-inheritance/28201067#28201067", "title": "Python property inheritance", "body": "<p>Attributes that begin with two underscores like your <code>__name</code> are signified as being private variables. There's no actual <em>PROTECTION</em> done to these (that is to say: if you can find it, you can access it), but they are name-mangled to be less easy to access. <a href=\"https://docs.python.org/2/tutorial/classes.html#private-variables-and-class-local-references\" rel=\"noreferrer\">More information about that can be found on the docs page</a></p>\n\n<blockquote>\n  <p>Any identifier of the form <code>__spam</code> (at least two leading underscores, at most one trailing underscore) is textually replaced with <code>_classname__spam</code>, where <code>classname</code> is the current class name with leading underscore(s) stripped.</p>\n</blockquote>\n\n<p>Because of this, even though you're inheriting <code>A</code>'s <code>__name</code> attribute, you don't have an attribute <code>__name</code> in any object of type <code>B</code>. What you have is a <code>_A__name</code> attribute. That's how the name-mangling works: <code>__attributename</code> becomes <code>_classname__attributename</code></p>\n\n<p>You could use <code>_name</code> instead, which is just a flag to future users that this isn't supposed to be public. Then your whole code should work.</p>\n"}, {"tags": [], "owner": {"reputation": 103812, "user_id": 320726, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02041b18199678d1f02e6d5040dbb907?s=128&d=identicon&r=PG", "display_name": "6502", "link": "https://stackoverflow.com/users/320726/6502"}, "is_accepted": false, "score": 5, "last_activity_date": 1422474856, "last_edit_date": 1422474856, "creation_date": 1422474480, "answer_id": 28201076, "question_id": 28200979, "link": "https://stackoverflow.com/questions/28200979/python-property-inheritance/28201076#28201076", "title": "Python property inheritance", "body": "<p>Attribute names prefixed with a double underscore are treated specially by the compiler and you should avoid them until you understand Python better.</p>\n\n<p>Most Python programmers don't know why they are special and they can still live an happy and productive programming life. They're also objectively ugly... don't you think?</p>\n\n<p>Note also that in Python you don't start using getter and setter just for the fun of it. Simply start with a data member and only migrate to properties when (and only if) needed. Writing code for a getter that simply returns the member and for a setter that simply mutates it is nonsense. When (and if) you will need to do special processing on member access change them to properties, and there will be no need to change the code using your class.</p>\n\n<p>On the technical explanation side Python simply adds the class name to attributes starting with a double underscore to avoid unwanted clashes with identically named attributes in other classes. This kind of problem is however not so common and that's why most Python programmers never had the necessity of this feature.</p>\n"}], "owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "accepted_answer_id": 28201067, "answer_count": 2, "score": 5, "last_activity_date": 1422479426, "creation_date": 1422474181, "last_edit_date": 1422479426, "question_id": 28200979, "link": "https://stackoverflow.com/questions/28200979/python-property-inheritance", "title": "Python property inheritance", "body": "<p>I am new to python and I wasn't sure what I was doing was correct. \nI have a base class <code>A</code> and an inherited class <code>B</code>.</p>\n\n<pre><code>class A(object):\n\n    def __init__(self, name):\n        self.__name = name\n\n    @property\n    def name(self):\n        return self.__name\n\n    @name.setter\n    def name(self, name):\n        self.__name = name\n\nclass B(A):\n    def __init__(self, name):\n        super(NominalValue, self).__init__(name)\n\n    @property\n    def name2(self):\n        return self.__name2\n\n    @name2.setter\n    def name2(self, n):\n        self.__name2 = n\n\n    def toString():\n        print self.__name + self.__name2\n\nif __name__ == \"__main__\":\n    instance = B('name');\n    instance.toString()\n</code></pre>\n\n<p>When I run this it complains that class <code>B</code> does not have any attribute <code>__name</code>.</p>\n\n<pre><code>AttributeError: 'B' object has no attribute '_B__name'\n</code></pre>\n\n<p>I am clearly not doing the inheritance correctly. How do you treat properties to be correctly inherited and avoid repeating attributes in the inherited class?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1534, "user_id": 3591336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJbmv.jpg?s=128&g=1", "display_name": "dylrei", "link": "https://stackoverflow.com/users/3591336/dylrei"}, "edited": false, "score": 1, "creation_date": 1422478210, "post_id": 28200969, "comment_id": 44770440, "body": "Here&#39;s the answer you want: <a href=\"http://stackoverflow.com/questions/1190697/django-filefield-with-upload-to-determined-at-runtime\" title=\"django filefield with upload to determined at runtime\">stackoverflow.com/questions/1190697/&hellip;</a>"}, {"owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "reply_to_user": {"reputation": 1534, "user_id": 3591336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJbmv.jpg?s=128&g=1", "display_name": "dylrei", "link": "https://stackoverflow.com/users/3591336/dylrei"}, "edited": false, "score": 0, "creation_date": 1422480189, "post_id": 28200969, "comment_id": 44771398, "body": "@dylrei just what I needed!"}], "answers": [{"tags": [], "owner": {"reputation": 233, "user_id": 2309693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793f8de1774e446754724be491742ded?s=128&d=identicon&r=PG", "display_name": "DAKZH", "link": "https://stackoverflow.com/users/2309693/dakzh"}, "is_accepted": false, "score": 1, "last_activity_date": 1422478835, "creation_date": 1422478835, "answer_id": 28202289, "question_id": 28200969, "link": "https://stackoverflow.com/questions/28200969/uploading-files-to-directory-named-by-the-value-of-a-foreign-key-field/28202289#28202289", "title": "Uploading files to directory named by the value of a Foreign key field", "body": "<pre><code>class Photo(models.Model):\n    .....\n    photo = models.ImageField(upload_to=upload_photo_path_function)\n    .....\n\ndef upload_photo_path_function(instance, filename):\n    path = os.path.join('files/', instance.album.title)\n    return path\n</code></pre>\n"}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1422478835, "creation_date": 1422474118, "question_id": 28200969, "link": "https://stackoverflow.com/questions/28200969/uploading-files-to-directory-named-by-the-value-of-a-foreign-key-field", "title": "Uploading files to directory named by the value of a Foreign key field", "body": "<p>I want my photos to be uploaded to a directory that has the same name as the album they are in. I tried <code>photo = models.ImageField(upload_to=album.title)</code> but I get the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"manage.py\", line 10, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/Library/Python/2.7/site-packages/django/core/management/__init__.py\", line 385, in execute_from_command_line\n    utility.execute()\n  File \"/Library/Python/2.7/site-packages/django/core/management/__init__.py\", line 354, in execute\n    django.setup()\n  File \"/Library/Python/2.7/site-packages/django/__init__.py\", line 21, in setup\n    apps.populate(settings.INSTALLED_APPS)\n  File \"/Library/Python/2.7/site-packages/django/apps/registry.py\", line 108, in populate\n    app_config.import_models(all_models)\n  File \"/Library/Python/2.7/site-packages/django/apps/config.py\", line 202, in import_models\n    self.models_module = import_module(models_module_name)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/Users/bli1/Development/Django/Boothie/portfolio/models.py\", line 33, in &lt;module&gt;\n    class Photo(models.Model):\n  File \"/Users/bli1/Development/Django/Boothie/portfolio/models.py\", line 36, in Photo\n    photo = models.ImageField(upload_to=album.title)\nAttributeError: 'ForeignKey' object has no attribute 'title'\n</code></pre>\n\n<p>I understand the error but I'm not sure how to upload to a directory named with the value of <code>Album.title</code>. </p>\n\n<pre><code>class Album(models.Model):\n    title = models.CharField(max_length=50)\n    # thumbnail = models.ImageField()\n\n    def __str__(self):\n        return self.title\n\n    def images(self):\n        lst = [x.photo.title for x in self.photo_set.all()]\n        return lst\n\nclass Photo(models.Model):\n    title = models.CharField(max_length=50, blank=True)\n    album = models.ForeignKey(Album)\n    photo = models.ImageField(upload_to=album.title)\n    # width = models.IntegerField(blank=True, null=True)\n    # height = models.IntegerField(blank=True, null=True)\n    upload = models.DateTimeField(auto_now_add=True)\n    # thumbnail = models.ImageField()\n</code></pre>\n"}, {"tags": ["python", "scikit-learn", "gaussian", "normal-distribution"], "comments": [{"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1422474727, "post_id": 28200907, "comment_id": 44768429, "body": "Slice your data tensor along the relevant axes."}, {"owner": {"reputation": 125, "user_id": 4504202, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8535fee0ed719a1b1abc103eecf3e105?s=128&d=identicon&r=PG&f=1", "display_name": "TomG", "link": "https://stackoverflow.com/users/4504202/tomg"}, "reply_to_user": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1422522574, "post_id": 28200907, "comment_id": 44785841, "body": "@SlaterTyranus  I <i>think</i> you&#39;re suggesting that I fit a GMM to a sliced version of my dataset. I want to get a conditional GMM from the GMM I&#39;ve already fitted to the full dataset."}, {"owner": {"reputation": 1008, "user_id": 2987488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a4eff17dc15a5bb805d298cc9d361689?s=128&d=identicon&r=PG&f=1", "display_name": "azal", "link": "https://stackoverflow.com/users/2987488/azal"}, "edited": false, "score": 0, "creation_date": 1516630070, "post_id": 28200907, "comment_id": 83753612, "body": "@TomG Hi Tom, did you manage to find a solution to your question? The accepted answer doesn&#39;t work for me."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 4504202, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8535fee0ed719a1b1abc103eecf3e105?s=128&d=identicon&r=PG&f=1", "display_name": "TomG", "link": "https://stackoverflow.com/users/4504202/tomg"}, "edited": false, "score": 0, "creation_date": 1425461438, "post_id": 28840597, "comment_id": 45968779, "body": "I was nervous about using code described as &quot;in its early stages&quot; and which hasn&#39;t been updated for 4 years, but I gave it a try. Sadly the em_gm.py example (with the conditional GMM) doesn&#39;t work - the author seems to have used the keyword &quot;iter&quot; as a variable name in the definition of gmm.em_gm, which makes it crash."}, {"owner": {"reputation": 799, "user_id": 1989682, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ada10fce3c8e5612ced84097547a8fdf?s=128&d=identicon&r=PG", "display_name": "statBeginner", "link": "https://stackoverflow.com/users/1989682/statbeginner"}, "reply_to_user": {"reputation": 125, "user_id": 4504202, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8535fee0ed719a1b1abc103eecf3e105?s=128&d=identicon&r=PG&f=1", "display_name": "TomG", "link": "https://stackoverflow.com/users/4504202/tomg"}, "edited": false, "score": 0, "creation_date": 1425493112, "post_id": 28840597, "comment_id": 45989046, "body": "In the example given in the documents, set &quot;max_iter = 400&quot; instead of &quot;iter = 400&quot; and &quot;iter_call = None&quot;. If you want to track the progress of your EM algorithm, you can modify the plot function."}, {"owner": {"reputation": 125, "user_id": 4504202, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8535fee0ed719a1b1abc103eecf3e105?s=128&d=identicon&r=PG&f=1", "display_name": "TomG", "link": "https://stackoverflow.com/users/4504202/tomg"}, "edited": false, "score": 0, "creation_date": 1425658264, "post_id": 28840597, "comment_id": 46065036, "body": "Thanks! That and a few other problems (like the fact that some documented features are only in the SVN, not in the latest download), and I&#39;ve got it working!"}, {"owner": {"reputation": 799, "user_id": 1989682, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ada10fce3c8e5612ced84097547a8fdf?s=128&d=identicon&r=PG", "display_name": "statBeginner", "link": "https://stackoverflow.com/users/1989682/statbeginner"}, "reply_to_user": {"reputation": 125, "user_id": 4504202, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8535fee0ed719a1b1abc103eecf3e105?s=128&d=identicon&r=PG&f=1", "display_name": "TomG", "link": "https://stackoverflow.com/users/4504202/tomg"}, "edited": false, "score": 0, "creation_date": 1425671705, "post_id": 28840597, "comment_id": 46072537, "body": "If you find it helpful, please accept the answer. :)"}, {"owner": {"reputation": 125, "user_id": 4504202, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8535fee0ed719a1b1abc103eecf3e105?s=128&d=identicon&r=PG&f=1", "display_name": "TomG", "link": "https://stackoverflow.com/users/4504202/tomg"}, "edited": false, "score": 0, "creation_date": 1425686235, "post_id": 28840597, "comment_id": 46078434, "body": "Sorry, I&#39;m a noob on here - I had to look up how to accept an answer."}], "tags": [], "owner": {"reputation": 799, "user_id": 1989682, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ada10fce3c8e5612ced84097547a8fdf?s=128&d=identicon&r=PG", "display_name": "statBeginner", "link": "https://stackoverflow.com/users/1989682/statbeginner"}, "is_accepted": true, "score": 3, "last_activity_date": 1425411838, "creation_date": 1425411838, "answer_id": 28840597, "question_id": 28200907, "link": "https://stackoverflow.com/questions/28200907/finding-conditional-gaussian-mixture-model-using-scikit-learn-mixture-gmm/28840597#28840597", "title": "Finding conditional Gaussian Mixture Model using scikit-learn.mixture.GMM", "body": "<p>Try looking into <a href=\"http://pypr.sourceforge.net/mog.html\" rel=\"nofollow\">pypr</a>. From the documentation, here is how you would find a GMM conditioned on one or more of the variables:</p>\n\n<pre><code># Now we will find the conditional distribution of x given y\n(con_cen, con_cov, new_p_k) = gmm.cond_dist(np.array([np.nan, y]), \\\n    cen_lst, cov_lst, p_k)\n</code></pre>\n\n<p>As far as i remember, there are examples that come with the package.</p>\n"}], "owner": {"reputation": 125, "user_id": 4504202, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8535fee0ed719a1b1abc103eecf3e105?s=128&d=identicon&r=PG&f=1", "display_name": "TomG", "link": "https://stackoverflow.com/users/4504202/tomg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1673, "favorite_count": 0, "accepted_answer_id": 28840597, "answer_count": 1, "score": 5, "last_activity_date": 1425411838, "creation_date": 1422473850, "last_edit_date": 1422474625, "question_id": 28200907, "link": "https://stackoverflow.com/questions/28200907/finding-conditional-gaussian-mixture-model-using-scikit-learn-mixture-gmm", "title": "Finding conditional Gaussian Mixture Model using scikit-learn.mixture.GMM", "body": "<p>I'm using <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.mixture.GMM.htm\" rel=\"noreferrer\">scikit-learn</a> to fit a multivariate Gaussian Mixture Model to some data (which works brilliantly). But I need to be able to get a new GMM conditional on <em>some</em> of the variables, and the scikit toolkit doesn't seem to be able to do that, which surprised me because it seems like a pretty basic thing to want to do.</p>\n\n<p>Wikipedia <a href=\"http://en.wikipedia.org/wiki/Multivariate_normal_distribution#Conditional_distributions\" rel=\"noreferrer\">has a good explanation</a> of what I'm trying to do (for a single Gaussian, not a GMM), and it's just possible I might be able to implement it myself, but my matrix maths isn't great and I can see it taking a long time.</p>\n\n<p>Has somebody already done this? Is there an easy way of doing it with NumPy/SciPy/Scikit-learn?</p>\n"}, {"tags": ["python", "tkinter", "media-player"], "comments": [{"owner": {"reputation": 200, "user_id": 4370592, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wrJFtOgSzXE/AAAAAAAAAAI/AAAAAAAAKSw/Ro3CJT2ybXM/photo.jpg?sz=128", "display_name": "Eli Berkowitz", "link": "https://stackoverflow.com/users/4370592/eli-berkowitz"}, "edited": false, "score": 0, "creation_date": 1422474122, "post_id": 28200891, "comment_id": 44768106, "body": "<a href=\"http://stackoverflow.com/questions/7227162/way-to-play-video-files-in-tkinter\" title=\"way to play video files in tkinter\">stackoverflow.com/questions/7227162/&hellip;</a> This should be what you&#39;re looking for."}, {"owner": {"reputation": 43, "user_id": 3482771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1607755536/picture?type=large", "display_name": "HLM", "link": "https://stackoverflow.com/users/3482771/hlm"}, "reply_to_user": {"reputation": 200, "user_id": 4370592, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wrJFtOgSzXE/AAAAAAAAAAI/AAAAAAAAKSw/Ro3CJT2ybXM/photo.jpg?sz=128", "display_name": "Eli Berkowitz", "link": "https://stackoverflow.com/users/4370592/eli-berkowitz"}, "edited": false, "score": 0, "creation_date": 1422474847, "post_id": 28200891, "comment_id": 44768488, "body": "Thank you Eli!  But I tried this example  but it does not work for me! I got a black screen."}], "answers": [{"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 1, "last_activity_date": 1422474219, "last_edit_date": 1495540168, "creation_date": 1422474219, "answer_id": 28200993, "question_id": 28200891, "link": "https://stackoverflow.com/questions/28200891/play-video-on-a-python-gui/28200993#28200993", "title": "Play video on a python GUI", "body": "<p>I suggest <a href=\"http://www.pygame.org/docs/ref/movie.html\" rel=\"nofollow noreferrer\">Pygame</a> which can be <a href=\"https://stackoverflow.com/questions/23319059/embedding-a-pygame-window-into-a-tkinter-or-wxpython-frame\">embedded</a> in Tkinter. </p>\n"}], "owner": {"reputation": 43, "user_id": 3482771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1607755536/picture?type=large", "display_name": "HLM", "link": "https://stackoverflow.com/users/3482771/hlm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4084, "favorite_count": 0, "closed_date": 1422491075, "accepted_answer_id": 28200993, "answer_count": 1, "score": 0, "last_activity_date": 1422474219, "creation_date": 1422473778, "question_id": 28200891, "link": "https://stackoverflow.com/questions/28200891/play-video-on-a-python-gui", "closed_reason": "Needs more focus", "title": "Play video on a python GUI", "body": "<p>I want to play a video in a specific region on a python GUI. I tried several methods, but without success.\nIs this possible with Tkinter? if yes how to proceed? else can any one tell me how to do this?</p>\n"}, {"tags": ["python", "numpy", "matplotlib", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 3985, "user_id": 4140027, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N9jwH.jpg?s=128&g=1", "display_name": "tumbleweed", "link": "https://stackoverflow.com/users/4140027/tumbleweed"}, "edited": false, "score": 0, "creation_date": 1426537842, "post_id": 28204309, "comment_id": 46405599, "body": "Thanks for the help, I edited the question since I skip the metrics I was using. Is there any way to see what happened with the precision, recall, f1-score, support metrics?."}, {"owner": {"reputation": 2682, "user_id": 3089523, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1f1d349d7dd96964734d628447c0e929?s=128&d=identicon&r=PG&f=1", "display_name": "Bin", "link": "https://stackoverflow.com/users/3089523/bin"}, "edited": false, "score": 2, "creation_date": 1438132204, "post_id": 28204309, "comment_id": 51320921, "body": "I noticed that this accepted answer is visualizing the confusion matrix instead of classification report."}], "tags": [], "owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "is_accepted": false, "score": -1, "last_activity_date": 1422487211, "creation_date": 1422487211, "answer_id": 28204309, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/28204309#28204309", "title": "How to plot scikit learn classification report?", "body": "<p>You can do:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\ncm =  [[0.50, 1.00, 0.67],\n       [0.00, 0.00, 0.00],\n       [1.00, 0.67, 0.80]]\nlabels = ['class 0', 'class 1', 'class 2']\nfig, ax = plt.subplots()\nh = ax.matshow(cm)\nfig.colorbar(h)\nax.set_xticklabels([''] + labels)\nax.set_yticklabels([''] + labels)\nax.set_xlabel('Predicted')\nax.set_ylabel('Ground truth')\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/yCcAj.png\" alt=\"corr_matrix\"></p>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 2597566, "user_type": "registered", "profile_image": "https://graph.facebook.com/787144546/picture?type=large", "display_name": "Maria Camila Alvarez", "link": "https://stackoverflow.com/users/2597566/maria-camila-alvarez"}, "edited": false, "score": 2, "creation_date": 1567591729, "post_id": 31689645, "comment_id": 102005775, "body": "correction of some bugs: <code>for line in lines[2 : (len(lines) - 3)]:         #print(line)         t = line.split()         # print(t)         if(len(t)==0):             break</code>"}], "tags": [], "owner": {"reputation": 2682, "user_id": 3089523, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1f1d349d7dd96964734d628447c0e929?s=128&d=identicon&r=PG&f=1", "display_name": "Bin", "link": "https://stackoverflow.com/users/3089523/bin"}, "is_accepted": false, "score": 15, "last_activity_date": 1439239102, "last_edit_date": 1439239102, "creation_date": 1438132128, "answer_id": 31689645, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/31689645#31689645", "title": "How to plot scikit learn classification report?", "body": "<p>I just wrote a function <code>plot_classification_report()</code> for this purpose. Hope it helps.\nThis function takes out put of classification_report function as an argument and plot the scores. Here is the function. </p>\n\n<pre><code>def plot_classification_report(cr, title='Classification report ', with_avg_total=False, cmap=plt.cm.Blues):\n\n    lines = cr.split('\\n')\n\n    classes = []\n    plotMat = []\n    for line in lines[2 : (len(lines) - 3)]:\n        #print(line)\n        t = line.split()\n        # print(t)\n        classes.append(t[0])\n        v = [float(x) for x in t[1: len(t) - 1]]\n        print(v)\n        plotMat.append(v)\n\n    if with_avg_total:\n        aveTotal = lines[len(lines) - 1].split()\n        classes.append('avg/total')\n        vAveTotal = [float(x) for x in t[1:len(aveTotal) - 1]]\n        plotMat.append(vAveTotal)\n\n\n    plt.imshow(plotMat, interpolation='nearest', cmap=cmap)\n    plt.title(title)\n    plt.colorbar()\n    x_tick_marks = np.arange(3)\n    y_tick_marks = np.arange(len(classes))\n    plt.xticks(x_tick_marks, ['precision', 'recall', 'f1-score'], rotation=45)\n    plt.yticks(y_tick_marks, classes)\n    plt.tight_layout()\n    plt.ylabel('Classes')\n    plt.xlabel('Measures')\n</code></pre>\n\n<p>For the example classification_report provided by you. Here are the code and output.</p>\n\n<pre><code>sampleClassificationReport = \"\"\"             precision    recall  f1-score   support\n\n          1       0.62      1.00      0.76        66\n          2       0.93      0.93      0.93        40\n          3       0.59      0.97      0.73        67\n          4       0.47      0.92      0.62       272\n          5       1.00      0.16      0.28       413\n\navg / total       0.77      0.57      0.49       858\"\"\"\n\n\nplot_classification_report(sampleClassificationReport)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/brkag.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/brkag.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is how to use it with sklearn classification_report output:</p>\n\n<pre><code>from sklearn.metrics import classification_report\nclassificationReport = classification_report(y_true, y_pred, target_names=target_names)\n\nplot_classification_report(classificationReport)\n</code></pre>\n\n<p>With this function, you can also add the  \"avg / total\" result to the plot. To use it just add an argument <code>with_avg_total</code> like this:</p>\n\n<pre><code>plot_classification_report(classificationReport, with_avg_total=True)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1107, "user_id": 1502275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1c80fe8737d1170ae3a56152541787f3?s=128&d=identicon&r=PG", "display_name": "ZillGate", "link": "https://stackoverflow.com/users/1502275/zillgate"}, "edited": false, "score": 3, "creation_date": 1453761699, "post_id": 34304414, "comment_id": 57735697, "body": "In case there is no itertools, delete &quot;from itertools import izip&quot; and replace izip with zip."}, {"owner": {"reputation": 185, "user_id": 5436935, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/68de852e5c57973ad37e398b963da5d4?s=128&d=identicon&r=PG&f=1", "display_name": "Marco N.", "link": "https://stackoverflow.com/users/5436935/marco-n"}, "edited": false, "score": 6, "creation_date": 1510225649, "post_id": 34304414, "comment_id": 81348934, "body": "The stated solution appears to not be functional with the current version of <code>matplotlib</code>. The line <code>ax = pc.get_axes()</code> has to be changed to <code>ax = pc.axes</code>."}, {"owner": {"reputation": 8131, "user_id": 4549682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6WL61uu5PTI/AAAAAAAAAAI/AAAAAAAAAAA/GXg0FQPcuIQ/photo.jpg?sz=128", "display_name": "wordsforthewise", "link": "https://stackoverflow.com/users/4549682/wordsforthewise"}, "edited": false, "score": 3, "creation_date": 1512439734, "post_id": 34304414, "comment_id": 82248567, "body": "But why use izip?  It&#39;s slower than zip and not compatible with Python3: <a href=\"https://stackoverflow.com/questions/32659552/izip-not-working-in-python-3-x\" title=\"izip not working in python 3 x\">stackoverflow.com/questions/32659552/&hellip;</a>"}, {"owner": {"reputation": 6403, "user_id": 3781199, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/1NpEm.png?s=128&g=1", "display_name": "skyguy", "link": "https://stackoverflow.com/users/3781199/skyguy"}, "edited": false, "score": 3, "creation_date": 1589070525, "post_id": 34304414, "comment_id": 109147211, "body": "Is there a way to get this to work with the newest output provided by classification_report ?"}], "tags": [], "owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "is_accepted": true, "score": 40, "last_activity_date": 1564747090, "last_edit_date": 1564747090, "creation_date": 1450243016, "answer_id": 34304414, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/34304414#34304414", "title": "How to plot scikit learn classification report?", "body": "<p>Expanding on <a href=\"https://stackoverflow.com/users/3089523/bin\">Bin</a>'s answer:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\ndef show_values(pc, fmt=\"%.2f\", **kw):\n    '''\n    Heatmap with text in each cell with matplotlib's pyplot\n    Source: https://stackoverflow.com/a/25074150/395857 \n    By HYRY\n    '''\n    from itertools import izip\n    pc.update_scalarmappable()\n    ax = pc.get_axes()\n    #ax = pc.axes# FOR LATEST MATPLOTLIB\n    #Use zip BELOW IN PYTHON 3\n    for p, color, value in izip(pc.get_paths(), pc.get_facecolors(), pc.get_array()):\n        x, y = p.vertices[:-2, :].mean(0)\n        if np.all(color[:3] &gt; 0.5):\n            color = (0.0, 0.0, 0.0)\n        else:\n            color = (1.0, 1.0, 1.0)\n        ax.text(x, y, fmt % value, ha=\"center\", va=\"center\", color=color, **kw)\n\n\ndef cm2inch(*tupl):\n    '''\n    Specify figure size in centimeter in matplotlib\n    Source: https://stackoverflow.com/a/22787457/395857\n    By gns-ank\n    '''\n    inch = 2.54\n    if type(tupl[0]) == tuple:\n        return tuple(i/inch for i in tupl[0])\n    else:\n        return tuple(i/inch for i in tupl)\n\n\ndef heatmap(AUC, title, xlabel, ylabel, xticklabels, yticklabels, figure_width=40, figure_height=20, correct_orientation=False, cmap='RdBu'):\n    '''\n    Inspired by:\n    - https://stackoverflow.com/a/16124677/395857 \n    - https://stackoverflow.com/a/25074150/395857\n    '''\n\n    # Plot it out\n    fig, ax = plt.subplots()    \n    #c = ax.pcolor(AUC, edgecolors='k', linestyle= 'dashed', linewidths=0.2, cmap='RdBu', vmin=0.0, vmax=1.0)\n    c = ax.pcolor(AUC, edgecolors='k', linestyle= 'dashed', linewidths=0.2, cmap=cmap)\n\n    # put the major ticks at the middle of each cell\n    ax.set_yticks(np.arange(AUC.shape[0]) + 0.5, minor=False)\n    ax.set_xticks(np.arange(AUC.shape[1]) + 0.5, minor=False)\n\n    # set tick labels\n    #ax.set_xticklabels(np.arange(1,AUC.shape[1]+1), minor=False)\n    ax.set_xticklabels(xticklabels, minor=False)\n    ax.set_yticklabels(yticklabels, minor=False)\n\n    # set title and x/y labels\n    plt.title(title)\n    plt.xlabel(xlabel)\n    plt.ylabel(ylabel)      \n\n    # Remove last blank column\n    plt.xlim( (0, AUC.shape[1]) )\n\n    # Turn off all the ticks\n    ax = plt.gca()    \n    for t in ax.xaxis.get_major_ticks():\n        t.tick1On = False\n        t.tick2On = False\n    for t in ax.yaxis.get_major_ticks():\n        t.tick1On = False\n        t.tick2On = False\n\n    # Add color bar\n    plt.colorbar(c)\n\n    # Add text in each cell \n    show_values(c)\n\n    # Proper orientation (origin at the top left instead of bottom left)\n    if correct_orientation:\n        ax.invert_yaxis()\n        ax.xaxis.tick_top()       \n\n    # resize \n    fig = plt.gcf()\n    #fig.set_size_inches(cm2inch(40, 20))\n    #fig.set_size_inches(cm2inch(40*4, 20*4))\n    fig.set_size_inches(cm2inch(figure_width, figure_height))\n\n\n\ndef plot_classification_report(classification_report, title='Classification report ', cmap='RdBu'):\n    '''\n    Plot scikit-learn classification report.\n    Extension based on https://stackoverflow.com/a/31689645/395857 \n    '''\n    lines = classification_report.split('\\n')\n\n    classes = []\n    plotMat = []\n    support = []\n    class_names = []\n    for line in lines[2 : (len(lines) - 2)]:\n        t = line.strip().split()\n        if len(t) &lt; 2: continue\n        classes.append(t[0])\n        v = [float(x) for x in t[1: len(t) - 1]]\n        support.append(int(t[-1]))\n        class_names.append(t[0])\n        print(v)\n        plotMat.append(v)\n\n    print('plotMat: {0}'.format(plotMat))\n    print('support: {0}'.format(support))\n\n    xlabel = 'Metrics'\n    ylabel = 'Classes'\n    xticklabels = ['Precision', 'Recall', 'F1-score']\n    yticklabels = ['{0} ({1})'.format(class_names[idx], sup) for idx, sup  in enumerate(support)]\n    figure_width = 25\n    figure_height = len(class_names) + 7\n    correct_orientation = False\n    heatmap(np.array(plotMat), title, xlabel, ylabel, xticklabels, yticklabels, figure_width, figure_height, correct_orientation, cmap=cmap)\n\n\ndef main():\n    sampleClassificationReport = \"\"\"             precision    recall  f1-score   support\n\n          Acacia       0.62      1.00      0.76        66\n          Blossom       0.93      0.93      0.93        40\n          Camellia       0.59      0.97      0.73        67\n          Daisy       0.47      0.92      0.62       272\n          Echium       1.00      0.16      0.28       413\n\n        avg / total       0.77      0.57      0.49       858\"\"\"\n\n\n    plot_classification_report(sampleClassificationReport)\n    plt.savefig('test_plot_classif_report.png', dpi=200, format='png', bbox_inches='tight')\n    plt.close()\n\nif __name__ == \"__main__\":\n    main()\n    #cProfile.run('main()') # if you want to do some profiling\n</code></pre>\n\n<p>outputs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KcsBu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KcsBu.png\" alt=\"enter image description here\"></a></p>\n\n<p>Example with more classes (~40):</p>\n\n<p><a href=\"https://i.stack.imgur.com/ukXdA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ukXdA.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 1836342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PMMOR.jpg?s=128&g=1", "display_name": "cosmin", "link": "https://stackoverflow.com/users/1836342/cosmin"}, "is_accepted": false, "score": 3, "last_activity_date": 1495740314, "last_edit_date": 1495740314, "creation_date": 1495739946, "answer_id": 44188254, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/44188254#44188254", "title": "How to plot scikit learn classification report?", "body": "<p>This is my simple solution, using seaborn heatmap</p>\n\n<pre><code>import seaborn as sns\nimport numpy as np\nfrom sklearn.metrics import precision_recall_fscore_support\nimport matplotlib.pyplot as plt\n\ny = np.random.randint(low=0, high=10, size=100)\ny_p = np.random.randint(low=0, high=10, size=100)\n\ndef plot_classification_report(y_tru, y_prd, figsize=(10, 10), ax=None):\n\n    plt.figure(figsize=figsize)\n\n    xticks = ['precision', 'recall', 'f1-score', 'support']\n    yticks = list(np.unique(y_tru))\n    yticks += ['avg']\n\n    rep = np.array(precision_recall_fscore_support(y_tru, y_prd)).T\n    avg = np.mean(rep, axis=0)\n    avg[-1] = np.sum(rep[:, -1])\n    rep = np.insert(rep, rep.shape[0], avg, axis=0)\n\n    sns.heatmap(rep,\n                annot=True, \n                cbar=False, \n                xticklabels=xticks, \n                yticklabels=yticks,\n                ax=ax)\n\nplot_classification_report(y, y_p)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AGCw2.png\" rel=\"nofollow noreferrer\">This is how the plot will look like</a></p>\n"}, {"tags": [], "owner": {"reputation": 800, "user_id": 2894909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb8f1f6a59bd4fdb34f0dee776e2deaf?s=128&d=identicon&r=PG", "display_name": "larrywgray", "link": "https://stackoverflow.com/users/2894909/larrywgray"}, "is_accepted": false, "score": 11, "last_activity_date": 1588414197, "last_edit_date": 1588414197, "creation_date": 1542583841, "answer_id": 53366500, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/53366500#53366500", "title": "How to plot scikit learn classification report?", "body": "<p><img src=\"https://i.stack.imgur.com/Rqx51.png\" alt=\"\"></p>\n\n<p>My solution is to use the python package, Yellowbrick.  Yellowbrick in a nutshell combines scikit-learn with matplotlib to produce visualizations for your models.  In a few lines you can do what was suggested above.\n<a href=\"http://www.scikit-yb.org/en/latest/api/classifier/classification_report.html\" rel=\"nofollow noreferrer\">http://www.scikit-yb.org/en/latest/api/classifier/classification_report.html</a></p>\n\n<pre><code>from sklearn.naive_bayes import GaussianNB\nfrom yellowbrick.classifier import ClassificationReport\n\n# Instantiate the classification model and visualizer\nbayes = GaussianNB()\nvisualizer = ClassificationReport(bayes, classes=classes, support=True)\n\nvisualizer.fit(X_train, y_train)  # Fit the visualizer and the model\nvisualizer.score(X_test, y_test)  # Evaluate the model on the test data\nvisualizer.show()             # Draw/show the data\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1774, "user_id": 1768052, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a8cc1bd42843e81129f74bf4c43ca0fe?s=128&d=identicon&r=PG", "display_name": "Mohd Shahril", "link": "https://stackoverflow.com/users/1768052/mohd-shahril"}, "is_accepted": false, "score": 4, "last_activity_date": 1545481033, "last_edit_date": 1545481033, "creation_date": 1545455132, "answer_id": 53893189, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/53893189#53893189", "title": "How to plot scikit learn classification report?", "body": "<p>Here you can get the plot same as <a href=\"https://stackoverflow.com/a/34304414/1768052\">Franck Dernoncourt</a>'s, but with much shorter code (can fit into a single function).</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport itertools\n\n\ndef plot_classification_report(classificationReport,\n                               title='Classification report',\n                               cmap='RdBu'):\n\n    classificationReport = classificationReport.replace('\\n\\n', '\\n')\n    classificationReport = classificationReport.replace(' / ', '/')\n    lines = classificationReport.split('\\n')\n\n    classes, plotMat, support, class_names = [], [], [], []\n    for line in lines[1:]:  # if you don't want avg/total result, then change [1:] into [1:-1]\n        t = line.strip().split()\n        if len(t) &lt; 2:\n            continue\n        classes.append(t[0])\n        v = [float(x) for x in t[1: len(t) - 1]]\n        support.append(int(t[-1]))\n        class_names.append(t[0])\n        plotMat.append(v)\n\n    plotMat = np.array(plotMat)\n    xticklabels = ['Precision', 'Recall', 'F1-score']\n    yticklabels = ['{0} ({1})'.format(class_names[idx], sup)\n                   for idx, sup in enumerate(support)]\n\n    plt.imshow(plotMat, interpolation='nearest', cmap=cmap, aspect='auto')\n    plt.title(title)\n    plt.colorbar()\n    plt.xticks(np.arange(3), xticklabels, rotation=45)\n    plt.yticks(np.arange(len(classes)), yticklabels)\n\n    upper_thresh = plotMat.min() + (plotMat.max() - plotMat.min()) / 10 * 8\n    lower_thresh = plotMat.min() + (plotMat.max() - plotMat.min()) / 10 * 2\n    for i, j in itertools.product(range(plotMat.shape[0]), range(plotMat.shape[1])):\n        plt.text(j, i, format(plotMat[i, j], '.2f'),\n                 horizontalalignment=\"center\",\n                 color=\"white\" if (plotMat[i, j] &gt; upper_thresh or plotMat[i, j] &lt; lower_thresh) else \"black\")\n\n    plt.ylabel('Metrics')\n    plt.xlabel('Classes')\n    plt.tight_layout()\n\n\ndef main():\n\n    sampleClassificationReport = \"\"\"             precision    recall  f1-score   support\n\n          Acacia       0.62      1.00      0.76        66\n          Blossom       0.93      0.93      0.93        40\n          Camellia       0.59      0.97      0.73        67\n          Daisy       0.47      0.92      0.62       272\n          Echium       1.00      0.16      0.28       413\n\n        avg / total       0.77      0.57      0.49       858\"\"\"\n\n    plot_classification_report(sampleClassificationReport)\n    plt.show()\n    plt.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OSC2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OSC2H.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 645555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a13187ebcd8acb242f128c2f289d94e?s=128&d=identicon&r=PG", "display_name": "wejradford", "link": "https://stackoverflow.com/users/645555/wejradford"}, "is_accepted": false, "score": 1, "last_activity_date": 1550616994, "creation_date": 1550616994, "answer_id": 54776187, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/54776187#54776187", "title": "How to plot scikit learn classification report?", "body": "<p>If you just want to plot the classification report as a bar chart in a Jupyter notebook, you can do the following.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># Assuming that classification_report, y_test and predictions are in scope...\nimport pandas as pd\n\n# Build a DataFrame from the classification_report output_dict.\nreport_data = []\nfor label, metrics in classification_report(y_test, predictions, output_dict=True).items():\n    metrics['label'] = label\n    report_data.append(metrics)\n\nreport_df = pd.DataFrame(\n    report_data, \n    columns=['label', 'precision', 'recall', 'f1-score', 'support']\n)\n\n# Plot as a bar chart.\nreport_df.plot(y=['precision', 'recall', 'f1-score'], x='label', kind='bar')\n</code></pre>\n\n<p>One issue with this visualisation is that imbalanced classes are not obvious, but are important in interpreting the results. One way to represent this is to add a version of the <code>label</code> that includes the number of samples (i.e. the <code>support</code>):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># Add a column to the DataFrame.\nreport_df['labelsupport'] = [f'{label} (n={support})' \n                             for label, support in zip(report_df.label, report_df.support)]\n\n# Plot the chart the same way, but use `labelsupport` as the x-axis.\nreport_df.plot(y=['precision', 'recall', 'f1-score'], x='labelsupport', kind='bar')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4128, "user_id": 5864582, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8MFoQ.png?s=128&g=1", "display_name": "akilat90", "link": "https://stackoverflow.com/users/5864582/akilat90"}, "is_accepted": false, "score": 13, "last_activity_date": 1574231724, "creation_date": 1574231724, "answer_id": 58948133, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/58948133#58948133", "title": "How to plot scikit learn classification report?", "body": "<h1>No string processing + <code>sns.heatmap</code></h1>\n\n<p>The following solution uses the <code>output_dict=True</code> option in <code>classification_report</code> to get a dictionary and then a heat map is drawn using seaborn to the dataframe created from the dictionary.</p>\n\n<hr>\n\n<pre><code>import numpy as np\nimport seaborn as sns\nfrom sklearn.metrics import classification_report\nimport pandas as pd\n</code></pre>\n\n<p>Generating data. Classes: <code>A,B,C,D,E,F,G,H,I</code></p>\n\n<pre><code>true = np.random.randint(0, 10, size=100)\npred = np.random.randint(0, 10, size=100)\nlabels = np.arange(10)\ntarget_names = list(\"ABCDEFGHI\")\n</code></pre>\n\n<p>Call <code>classification_report</code> with <code>output_dict=True</code></p>\n\n<pre><code>clf_report = classification_report(true,\n                                   pred,\n                                   labels=labels,\n                                   target_names=target_names,\n                                   output_dict=True)\n</code></pre>\n\n<p>Create a dataframe from the dictionary and plot a heatmap of it. </p>\n\n<pre><code># .iloc[:-1, :] to exclude support\nsns.heatmap(pd.DataFrame(clf_report).iloc[:-1, :].T, annot=True)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wwMRs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wwMRs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6809733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nsYQyIfuCQ8/AAAAAAAAAAI/AAAAAAAAAD8/dLdIuOQ-KCA/photo.jpg?sz=128", "display_name": "Juan Costamagna", "link": "https://stackoverflow.com/users/6809733/juan-costamagna"}, "is_accepted": false, "score": 1, "last_activity_date": 1588564324, "creation_date": 1588564324, "answer_id": 61584898, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/61584898#61584898", "title": "How to plot scikit learn classification report?", "body": "<p>It was really useful for my <a href=\"https://stackoverflow.com/a/34304414/6809733\">Franck Dernoncourt and Bin</a>'s answer, but I had two problems. </p>\n\n<p>First, when I tried to use it with classes like <strong>\"No hit\" or a name with space inside</strong>, the plot failed.<br>\nAnd the other problem was to use this functions with <strong>MatPlotlib 3.* and scikitLearn-0.22.* versions</strong>. So I did some little changes:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\ndef show_values(pc, fmt=\"%.2f\", **kw):\n    '''\n    Heatmap with text in each cell with matplotlib's pyplot\n    Source: https://stackoverflow.com/a/25074150/395857 \n    By HYRY\n    '''\n    pc.update_scalarmappable()\n    ax = pc.axes\n    #ax = pc.axes# FOR LATEST MATPLOTLIB\n    #Use zip BELOW IN PYTHON 3\n    for p, color, value in zip(pc.get_paths(), pc.get_facecolors(), pc.get_array()):\n        x, y = p.vertices[:-2, :].mean(0)\n        if np.all(color[:3] &gt; 0.5):\n            color = (0.0, 0.0, 0.0)\n        else:\n            color = (1.0, 1.0, 1.0)\n        ax.text(x, y, fmt % value, ha=\"center\", va=\"center\", color=color, **kw)\n\n\ndef cm2inch(*tupl):\n    '''\n    Specify figure size in centimeter in matplotlib\n    Source: https://stackoverflow.com/a/22787457/395857\n    By gns-ank\n    '''\n    inch = 2.54\n    if type(tupl[0]) == tuple:\n        return tuple(i/inch for i in tupl[0])\n    else:\n        return tuple(i/inch for i in tupl)\n\n\ndef heatmap(AUC, title, xlabel, ylabel, xticklabels, yticklabels, figure_width=40, figure_height=20, correct_orientation=False, cmap='RdBu'):\n    '''\n    Inspired by:\n    - https://stackoverflow.com/a/16124677/395857 \n    - https://stackoverflow.com/a/25074150/395857\n    '''\n\n    # Plot it out\n    fig, ax = plt.subplots()    \n    #c = ax.pcolor(AUC, edgecolors='k', linestyle= 'dashed', linewidths=0.2, cmap='RdBu', vmin=0.0, vmax=1.0)\n    c = ax.pcolor(AUC, edgecolors='k', linestyle= 'dashed', linewidths=0.2, cmap=cmap, vmin=0.0, vmax=1.0)\n\n    # put the major ticks at the middle of each cell\n    ax.set_yticks(np.arange(AUC.shape[0]) + 0.5, minor=False)\n    ax.set_xticks(np.arange(AUC.shape[1]) + 0.5, minor=False)\n\n    # set tick labels\n    #ax.set_xticklabels(np.arange(1,AUC.shape[1]+1), minor=False)\n    ax.set_xticklabels(xticklabels, minor=False)\n    ax.set_yticklabels(yticklabels, minor=False)\n\n    # set title and x/y labels\n    plt.title(title, y=1.25)\n    plt.xlabel(xlabel)\n    plt.ylabel(ylabel)      \n\n    # Remove last blank column\n    plt.xlim( (0, AUC.shape[1]) )\n\n    # Turn off all the ticks\n    ax = plt.gca()    \n    for t in ax.xaxis.get_major_ticks():\n        t.tick1line.set_visible(False)\n        t.tick2line.set_visible(False)\n    for t in ax.yaxis.get_major_ticks():\n        t.tick1line.set_visible(False)\n        t.tick2line.set_visible(False)\n\n    # Add color bar\n    plt.colorbar(c)\n\n    # Add text in each cell \n    show_values(c)\n\n    # Proper orientation (origin at the top left instead of bottom left)\n    if correct_orientation:\n        ax.invert_yaxis()\n        ax.xaxis.tick_top()       \n\n    # resize \n    fig = plt.gcf()\n    #fig.set_size_inches(cm2inch(40, 20))\n    #fig.set_size_inches(cm2inch(40*4, 20*4))\n    fig.set_size_inches(cm2inch(figure_width, figure_height))\n\n\n\ndef plot_classification_report(classification_report, number_of_classes=2, title='Classification report ', cmap='RdYlGn'):\n    '''\n    Plot scikit-learn classification report.\n    Extension based on https://stackoverflow.com/a/31689645/395857 \n    '''\n    lines = classification_report.split('\\n')\n\n    #drop initial lines\n    lines = lines[2:]\n\n    classes = []\n    plotMat = []\n    support = []\n    class_names = []\n    for line in lines[: number_of_classes]:\n        t = list(filter(None, line.strip().split('  ')))\n        if len(t) &lt; 4: continue\n        classes.append(t[0])\n        v = [float(x) for x in t[1: len(t) - 1]]\n        support.append(int(t[-1]))\n        class_names.append(t[0])\n        plotMat.append(v)\n\n\n    xlabel = 'Metrics'\n    ylabel = 'Classes'\n    xticklabels = ['Precision', 'Recall', 'F1-score']\n    yticklabels = ['{0} ({1})'.format(class_names[idx], sup) for idx, sup  in enumerate(support)]\n    figure_width = 10\n    figure_height = len(class_names) + 3\n    correct_orientation = True\n    heatmap(np.array(plotMat), title, xlabel, ylabel, xticklabels, yticklabels, figure_width, figure_height, correct_orientation, cmap=cmap)\n    plt.show()\n\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 13658159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/716a3c9f3e01ce12117f7cd2452899f7?s=128&d=identicon&r=PG&f=1", "display_name": "Ferenc Lippai", "link": "https://stackoverflow.com/users/13658159/ferenc-lippai"}, "is_accepted": false, "score": 2, "last_activity_date": 1594371636, "creation_date": 1594371636, "answer_id": 62830795, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/62830795#62830795", "title": "How to plot scikit learn classification report?", "body": "This works for me, pieced it together from the top answer above, also, i cannot comment but THANKS all for this thread, it helped a LOT!\n<pre><code>def plot_classification_report(cr, title='Classification report ', with_avg_total=False, cmap=plt.cm.Blues):\n    lines = cr.split('\\n')\n    classes = []\n    plotMat = []\n    for line in lines[2 : (len(lines) - 6)]: rt\n        t = line.split()\n        classes.append(t[0])\n        v = [float(x) for x in t[1: len(t) - 1]]\n        plotMat.append(v)\n\n    if with_avg_total:\n        aveTotal = lines[len(lines) - 1].split()\n        classes.append('avg/total')\n        vAveTotal = [float(x) for x in t[1:len(aveTotal) - 1]]\n        plotMat.append(vAveTotal)\n\n    plt.figure(figsize=(12,48))\n    #plt.imshow(plotMat, interpolation='nearest', cmap=cmap) THIS also works but the scale is not good neither the colors for many classes(200)\n    #plt.colorbar()\n\n    plt.title(title)\n    x_tick_marks = np.arange(3)\n    y_tick_marks = np.arange(len(classes))\n    plt.xticks(x_tick_marks, ['precision', 'recall', 'f1-score'], rotation=45)\n    plt.yticks(y_tick_marks, classes)\n    plt.tight_layout()\n    plt.ylabel('Classes')\n    plt.xlabel('Measures')\n    import seaborn as sns\n    sns.heatmap(plotMat, annot=True) \n</code></pre>\nAfter this, make sure class labels don't contain any space due the splits\n<pre><code>reportstr = classification_report(true_classes, y_pred,target_names=class_labels_no_spaces)\n\nplot_classification_report(reportstr)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13005634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e091c832f08c49a76aaa10416a39c9d2?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/13005634/adam"}, "is_accepted": false, "score": 1, "last_activity_date": 1615887776, "creation_date": 1615887776, "answer_id": 66652617, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report/66652617#66652617", "title": "How to plot scikit learn classification report?", "body": "<p>As for those asking how to make this work with the latest version of the <code>classification_report(y_test, y_pred,</code> you have to change the <code>-2</code> to <code>-4</code> in <code>plot_classification_report()</code> function in the best answer of this thread</p>\n<p>or copy this edited version:</p>\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\ndef show_values(pc, fmt=&quot;%.2f&quot;, **kw):\n    '''\n    Heatmap with text in each cell with matplotlib's pyplot\n    Source: https://stackoverflow.com/a/25074150/395857 \n    By HYRY\n    '''\n    pc.update_scalarmappable()\n    ax = pc.axes\n    #ax = pc.axes# FOR LATEST MATPLOTLIB\n    #Use zip BELOW IN PYTHON 3\n    for p, color, value in zip(pc.get_paths(), pc.get_facecolors(), pc.get_array()):\n        x, y = p.vertices[:-2, :].mean(0)\n        if np.all(color[:3] &gt; 0.5):\n            color = (0.0, 0.0, 0.0)\n        else:\n            color = (1.0, 1.0, 1.0)\n        ax.text(x, y, fmt % value, ha=&quot;center&quot;, va=&quot;center&quot;, color=color, **kw)\n\n\ndef cm2inch(*tupl):\n    '''\n    Specify figure size in centimeter in matplotlib\n    Source: https://stackoverflow.com/a/22787457/395857\n    By gns-ank\n    '''\n    inch = 2.54\n    if type(tupl[0]) == tuple:\n        return tuple(i/inch for i in tupl[0])\n    else:\n        return tuple(i/inch for i in tupl)\n\n\ndef heatmap(AUC, title, xlabel, ylabel, xticklabels, yticklabels, figure_width=40, figure_height=20, correct_orientation=False, cmap='RdBu'):\n    '''\n    Inspired by:\n    - https://stackoverflow.com/a/16124677/395857 \n    - https://stackoverflow.com/a/25074150/395857\n    '''\n\n    # Plot it out\n    fig, ax = plt.subplots()    \n    #c = ax.pcolor(AUC, edgecolors='k', linestyle= 'dashed', linewidths=0.2, cmap='RdBu', vmin=0.0, vmax=1.0)\n    c = ax.pcolor(AUC, edgecolors='k', linestyle= 'dashed', linewidths=0.2, cmap=cmap)\n\n    # put the major ticks at the middle of each cell\n    ax.set_yticks(np.arange(AUC.shape[0]) + 0.5, minor=False)\n    ax.set_xticks(np.arange(AUC.shape[1]) + 0.5, minor=False)\n\n    # set tick labels\n    #ax.set_xticklabels(np.arange(1,AUC.shape[1]+1), minor=False)\n    ax.set_xticklabels(xticklabels, minor=False)\n    ax.set_yticklabels(yticklabels, minor=False)\n\n    # set title and x/y labels\n    plt.title(title)\n    plt.xlabel(xlabel)\n    plt.ylabel(ylabel)      \n\n    # Remove last blank column\n    plt.xlim( (0, AUC.shape[1]) )\n\n    # Turn off all the ticks\n    ax = plt.gca()    \n    for t in ax.xaxis.get_major_ticks():\n        t.tick1On = False\n        t.tick2On = False\n    for t in ax.yaxis.get_major_ticks():\n        t.tick1On = False\n        t.tick2On = False\n\n    # Add color bar\n    plt.colorbar(c)\n\n    # Add text in each cell \n    show_values(c)\n\n    # Proper orientation (origin at the top left instead of bottom left)\n    if correct_orientation:\n        ax.invert_yaxis()\n        ax.xaxis.tick_top()       \n\n    # resize \n    fig = plt.gcf()\n    #fig.set_size_inches(cm2inch(40, 20))\n    #fig.set_size_inches(cm2inch(40*4, 20*4))\n    fig.set_size_inches(cm2inch(figure_width, figure_height))\n\n\n\ndef plot_classification_report(classification_report, title='Classification report ', cmap='RdBu'):\n    '''\n    Plot scikit-learn classification report.\n    Extension based on https://stackoverflow.com/a/31689645/395857 \n    '''\n    lines = classification_report.split('\\n')\n\n    classes = []\n    plotMat = []\n    support = []\n    class_names = []\n\n    for line in lines[2 : (len(lines) - 4)]:\n        t = line.strip().split()\n        if len(t) &lt; 2: continue\n        classes.append(t[0])\n        v = [float(x) for x in t[1: len(t) - 1]]\n        support.append(int(t[-1]))\n        class_names.append(t[0])\n        print(v)\n        plotMat.append(v)\n\n    print('plotMat: {0}'.format(plotMat))\n    print('support: {0}'.format(support))\n\n    xlabel = 'Metrics'\n    ylabel = 'Classes'\n    xticklabels = ['Precision', 'Recall', 'F1-score']\n    yticklabels = ['{0} ({1})'.format(class_names[idx], sup) for idx, sup  in enumerate(support)]\n    figure_width = 25\n    figure_height = len(class_names) + 7\n    correct_orientation = False\n    heatmap(np.array(plotMat), title, xlabel, ylabel, xticklabels, yticklabels, figure_width, figure_height, correct_orientation, cmap=cmap)\n\n\ndef main():\n    # OLD \n    # sampleClassificationReport = &quot;&quot;&quot;             precision    recall  f1-score   support\n    # \n    #       Acacia       0.62      1.00      0.76        66\n    #       Blossom       0.93      0.93      0.93        40\n    #       Camellia       0.59      0.97      0.73        67\n    #       Daisy       0.47      0.92      0.62       272\n    #       Echium       1.00      0.16      0.28       413\n    # \n    #     avg / total       0.77      0.57      0.49       858&quot;&quot;&quot;\n\n    # NEW\n    sampleClassificationReport = &quot;&quot;&quot;              precision    recall  f1-score   support\n\n           1       1.00      0.33      0.50         9\n           2       0.50      1.00      0.67         9\n           3       0.86      0.67      0.75         9\n           4       0.90      1.00      0.95         9\n           5       0.67      0.89      0.76         9\n           6       1.00      1.00      1.00         9\n           7       1.00      1.00      1.00         9\n           8       0.90      1.00      0.95         9\n           9       0.86      0.67      0.75         9\n          10       1.00      0.78      0.88         9\n          11       1.00      0.89      0.94         9\n          12       0.90      1.00      0.95         9\n          13       1.00      0.56      0.71         9\n          14       1.00      1.00      1.00         9\n          15       0.60      0.67      0.63         9\n          16       1.00      0.56      0.71         9\n          17       0.75      0.67      0.71         9\n          18       0.80      0.89      0.84         9\n          19       1.00      1.00      1.00         9\n          20       1.00      0.78      0.88         9\n          21       1.00      1.00      1.00         9\n          22       1.00      1.00      1.00         9\n          23       0.27      0.44      0.33         9\n          24       0.60      1.00      0.75         9\n          25       0.56      1.00      0.72         9\n          26       0.18      0.22      0.20         9\n          27       0.82      1.00      0.90         9\n          28       0.00      0.00      0.00         9\n          29       0.82      1.00      0.90         9\n          30       0.62      0.89      0.73         9\n          31       1.00      0.44      0.62         9\n          32       1.00      0.78      0.88         9\n          33       0.86      0.67      0.75         9\n          34       0.64      1.00      0.78         9\n          35       1.00      0.33      0.50         9\n          36       1.00      0.89      0.94         9\n          37       0.50      0.44      0.47         9\n          38       0.69      1.00      0.82         9\n          39       1.00      0.78      0.88         9\n          40       0.67      0.44      0.53         9\n\n    accuracy                           0.77       360\n   macro avg       0.80      0.77      0.76       360\nweighted avg       0.80      0.77      0.76       360\n    &quot;&quot;&quot;\n    plot_classification_report(sampleClassificationReport)\n    plt.savefig('test_plot_classif_report.png', dpi=200, format='png', bbox_inches='tight')\n    plt.close()\n\nif __name__ == &quot;__main__&quot;:\n    main()\n    #cProfile.run('main()') # if you want to do some profiling\n</code></pre>\n"}], "owner": {"reputation": 3985, "user_id": 4140027, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/N9jwH.jpg?s=128&g=1", "display_name": "tumbleweed", "link": "https://stackoverflow.com/users/4140027/tumbleweed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34696, "favorite_count": 17, "accepted_answer_id": 34304414, "answer_count": 11, "score": 36, "last_activity_date": 1615887776, "creation_date": 1422473399, "last_edit_date": 1426538202, "question_id": 28200786, "link": "https://stackoverflow.com/questions/28200786/how-to-plot-scikit-learn-classification-report", "title": "How to plot scikit learn classification report?", "body": "<p>Is it possible to plot with matplotlib scikit-learn classification report?. Let's assume I print the classification report like this:</p>\n\n<pre><code>print '\\n*Classification Report:\\n', classification_report(y_test, predictions)\n    confusion_matrix_graph = confusion_matrix(y_test, predictions)\n</code></pre>\n\n<p>and I get:</p>\n\n<pre><code>Clasification Report:\n             precision    recall  f1-score   support\n\n          1       0.62      1.00      0.76        66\n          2       0.93      0.93      0.93        40\n          3       0.59      0.97      0.73        67\n          4       0.47      0.92      0.62       272\n          5       1.00      0.16      0.28       413\n\navg / total       0.77      0.57      0.49       858\n</code></pre>\n\n<p>How can I \"plot\" the avobe chart?.</p>\n"}, {"tags": ["python", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4504551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d78cfe10b56fb2bbcfccd6e462698af6?s=128&d=identicon&r=PG&f=1", "display_name": "panmireczek", "link": "https://stackoverflow.com/users/4504551/panmireczek"}, "edited": false, "score": 0, "creation_date": 1422473628, "post_id": 28200814, "comment_id": 44767876, "body": "Great, it is exactly what i was looking for!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2555451"}, "is_accepted": true, "score": 3, "last_activity_date": 1422473478, "creation_date": 1422473478, "answer_id": 28200814, "question_id": 28200776, "link": "https://stackoverflow.com/questions/28200776/date-format-without-hour-minutes-and-seconds/28200814#28200814", "title": "Date format without hour, minutes and seconds", "body": "<p><code>datetime</code> objects have a <a href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime.date\" rel=\"nofollow\"><code>date</code> method</a> which does this for you:</p>\n\n<pre><code>&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; x = '2015-01-01'\n&gt;&gt;&gt; date = datetime.datetime.strptime(x, \"%Y-%m-%d\")\n&gt;&gt;&gt; print(date.date())\n2015-01-01\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4504551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d78cfe10b56fb2bbcfccd6e462698af6?s=128&d=identicon&r=PG&f=1", "display_name": "panmireczek", "link": "https://stackoverflow.com/users/4504551/panmireczek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3508, "favorite_count": 0, "closed_date": 1422473763, "accepted_answer_id": 28200814, "answer_count": 1, "score": 2, "last_activity_date": 1422474393, "creation_date": 1422473371, "last_edit_date": 1422474393, "question_id": 28200776, "link": "https://stackoverflow.com/questions/28200776/date-format-without-hour-minutes-and-seconds", "closed_reason": "Duplicate", "title": "Date format without hour, minutes and seconds", "body": "<p>I have following code:</p>\n\n<pre><code>import datetime\nx = '2015-01-01'\ndate = datetime.datetime.strptime(x, \"%Y-%m-%d\")\nprint(date)\n</code></pre>\n\n<p>The problem is that I want to print date like <code>\"2015-01-01\"</code> and not <code>\"2015-01-01 00:00:00\"</code>. How to print it without hours, minutes and seconds?</p>\n"}, {"tags": ["python", "web-crawler", "lxml"], "comments": [{"owner": {"reputation": 1044, "user_id": 2640586, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3cd3f696c7c9e654d9f9d4d357d432ed?s=128&d=identicon&r=PG", "display_name": "Evan Mosseri", "link": "https://stackoverflow.com/users/2640586/evan-mosseri"}, "edited": false, "score": 0, "creation_date": 1422473490, "post_id": 28200775, "comment_id": 44767794, "body": "that seems like just a way to select elements. you might want to look into something like PyQuery for a more friendly selector engine"}], "answers": [{"tags": [], "owner": {"reputation": 453, "user_id": 2455308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/89cb41d2f0159cff88adf6c345243d71?s=128&d=identicon&r=PG&f=1", "display_name": "LeDerp", "link": "https://stackoverflow.com/users/2455308/lederp"}, "is_accepted": true, "score": 1, "last_activity_date": 1422606745, "last_edit_date": 1422606745, "creation_date": 1422596722, "answer_id": 28229924, "question_id": 28200775, "link": "https://stackoverflow.com/questions/28200775/crawling-imdb-database-using-python-and-lxml/28229924#28229924", "title": "crawling imdb database using python and lxml", "body": "<p>The following function <strong>lxml.html.document_fromstring(string)</strong> Parses a document from the given string. This always creates a correct HTML document, which means the parent node is , and there is a body and possibly a head.</p>\n\n<pre><code>hxs = lxml.html.document_fromstring(requests.get(\"http://www.imdb.com/title/\" + id).content)\n</code></pre>\n\n<p>You can see the html using this code.</p>\n\n<pre><code>print lxml.html.tostring(hxs)\n</code></pre>\n\n<p>Considering the IMDb movie with title <em>tt1905041</em> , consider the html source code of the web page,</p>\n\n<pre><code>&lt;td id=\"overview-top\"&gt;\n    &lt;h1 class=\"header\"&gt; &lt;span class=\"itemprop\" itemprop=\"name\"&gt;Fast &amp;amp; Furious 6&lt;/span&gt;\n        &lt;span class=\"nobr\"&gt;(&lt;a href=\"/year/2013/?ref_=tt_ov_inf\" &gt;2013&lt;/a&gt;)&lt;/span&gt;\n    &lt;/h1&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>hence as we need the title we parse it from the outer html,</p>\n\n<p><strong>[@id=\"overview-top\"]</strong> would choose the desired id element</p>\n\n<p><strong>h1</strong> </p>\n\n<p><strong>span<a href=\"http://www.w3schools.com/xpath\" rel=\"nofollow\">1</a></strong> As there are multiple span elements we choose the 1st one.\nsimilarly as we parse the html we get the following code, </p>\n\n<pre><code>movie['title'] = hxs.xpath('//*[@id=\"overview-top\"]/h1/span[1]/text()')[0].strip()\nprint movie['title']\n</code></pre>\n\n<p>Output: Furious 6</p>\n\n<p>More about XPath <a href=\"http://www.w3schools.com/xpath\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 80, "user_id": 2789026, "user_type": "registered", "profile_image": "https://graph.facebook.com/1798513165/picture?type=large", "display_name": "Sabyasachi Behera", "link": "https://stackoverflow.com/users/2789026/sabyasachi-behera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 2, "accepted_answer_id": 28229924, "answer_count": 1, "score": 0, "last_activity_date": 1422606745, "creation_date": 1422473364, "question_id": 28200775, "link": "https://stackoverflow.com/questions/28200775/crawling-imdb-database-using-python-and-lxml", "title": "crawling imdb database using python and lxml", "body": "<p>hxs = lxml.html.document_fromstring(requests.get(\"<a href=\"http://www.imdb.com/title/\" rel=\"nofollow\">http://www.imdb.com/title/</a>\" + id).content)</p>\n\n<pre><code>movie = {}\n\ntry:\n    movie['title'] = hxs.xpath('//*[@id=\"overview-top\"]/h1/span[1/text()'[0].strip()\n\n\nexcept IndexError:\n    movie['title']\n</code></pre>\n\n<p>i am not able to understand the meaning of \"hxs.xpath('//*[@id=\"overview-top\"]/h1/span[1]/text()')[0].strip()\"</p>\n"}]