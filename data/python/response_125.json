[{"tags": ["python", "curl", "python-requests", "dropbox"], "comments": [{"owner": {"reputation": 166, "user_id": 4387299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4JVdD.jpg?s=128&g=1", "display_name": "internety", "link": "https://stackoverflow.com/users/4387299/internety"}, "edited": false, "score": 0, "creation_date": 1496283014, "post_id": 44296418, "comment_id": 75600716, "body": "I suggest you should use any debugging web proxy, like:  <a href=\"http://mitmproxy.org\" rel=\"nofollow noreferrer\">mitmproxy, (pythonic), console/webbased, free</a>  <a href=\"http://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">the fiddler, (win), GUI, free</a>  <a href=\"https://www.charlesproxy.com\" rel=\"nofollow noreferrer\">charles debugging proxy, (win/java), GUI, commercial</a>  all of them supports binary serialized traffic (i.e. AMF), they simply turn your http(s) reversing tasks into pleasure :)"}, {"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1496505912, "post_id": 44296418, "comment_id": 75694546, "body": "I redacted it from the question and answer, but for the sake of security, you should disable that access token, since it was posted publicly. You can do so by revoking access to the app entirely, if the access token is for your account, here:  <a href=\"https://www.dropbox.com/account/security\" rel=\"nofollow noreferrer\">dropbox.com/account/security</a>  Or, you can disable just this access token using the API:  <a href=\"https://www.dropbox.com/developers/documentation/http/documentation#auth-token-revoke\" rel=\"nofollow noreferrer\">dropbox.com/developers/documentation/http/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2334, "user_id": 3374785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6s7hE.jpg?s=128&g=1", "display_name": "Andrei Cioara", "link": "https://stackoverflow.com/users/3374785/andrei-cioara"}, "is_accepted": true, "score": 1, "last_activity_date": 1496505905, "last_edit_date": 1496505905, "creation_date": 1496280554, "answer_id": 44297094, "question_id": 44296418, "link": "https://stackoverflow.com/questions/44296418/curl-to-python-requests-conversion/44297094#44297094", "title": "curl to python requests conversion", "body": "<p>You want this</p>\n\n<pre><code>downloadHeader={\"Authorization: \" + authorization}\n</code></pre>\n\n<p>To be</p>\n\n<pre><code>downloadHeader={\"Authorization\": authorization}\n</code></pre>\n\n<p>Or more precisely </p>\n\n<pre><code>downloadHeader={\"Authorization\": \"Bearer &lt;ACCESS_TOKEN&gt;\"}\n</code></pre>\n\n<p>Explanation: </p>\n\n<pre><code>{1} # this is a set. It has no .items()\n{1: 1} # this is a dict. You can call .items()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8056478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d322929c832e34e5a5ee06f193c3cc12?s=128&d=identicon&r=PG&f=1", "display_name": "vchen", "link": "https://stackoverflow.com/users/8056478/vchen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 44297094, "answer_count": 1, "score": 0, "last_activity_date": 1496505905, "creation_date": 1496275080, "last_edit_date": 1496505893, "question_id": 44296418, "link": "https://stackoverflow.com/questions/44296418/curl-to-python-requests-conversion", "title": "curl to python requests conversion", "body": "<p>I'm working with Dropbox's python API, trying to convert the following curl command to Python Requests:</p>\n\n<pre><code>curl -X POST https://content.dropboxapi.com/2/files/download \\\n        --header \"Authorization: Bearer &lt;ACCESS_TOKEN&gt;\" \\\n        --header \"Dropbox-API-Arg: {\\\"path\\\": \\\"/Homework/math/Prime_Numbers.txt\\\"}\"\n</code></pre>\n\n<p>My translation so far:</p>\n\n<pre><code>downloadHeader={\"Authorization: \" + authorization}\n\ndownloadURL = \"https://content.dropboxapi.com/2/files/download\"\n\ndownloadPayload = {\"Dropbox-API-Arg\": {\"path\": \"/\" + dbPATH}}\n\ndownloadResponse = requests.post(downloadURL, data=json.dumps(downloadPayload), headers=downloadHeader)\n</code></pre>\n\n<p>However, when I run this I get the following error:</p>\n\n<blockquote>\n  <p>for header in headers.items():\n      AttributeError: 'set' object has no attribute 'items'</p>\n</blockquote>\n\n<p>Can anyone give me some feedback?  I'm confident about my authorization value because it's working in a separate request which I'm copy and pasting below:</p>\n\n<pre><code>MDlink = \"https://api.dropboxapi.com/2/sharing/get_shared_link_metadata\"\nauthorization = \"Bearer \" + ACCESS_TOKEN\nheaders={\"Content-Type\":\"application/json\", \"Authorization\": authorization}\npayload = {\"url\": imageLink}\nresponse = requests.request(\"POST\", MDlink, data=json.dumps(payload), headers=headers)\n</code></pre>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["python", "performance", "numpy", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 4009, "user_id": 1429402, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/paAFK.jpg?s=128&g=1", "display_name": "Fnord", "link": "https://stackoverflow.com/users/1429402/fnord"}, "edited": false, "score": 1, "creation_date": 1496337478, "post_id": 44296986, "comment_id": 75632600, "body": "Thank you. This answers my question. Unfortunately for my use case, calling minimize once to solve the entire array slows down to a crawl with many inputs (try: 10, 100, 1k, 10k to see what happens). I&#39;m not sure if it&#39;s due to how minimize works in the background or because of the function&#39;s nature."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 4009, "user_id": 1429402, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/paAFK.jpg?s=128&g=1", "display_name": "Fnord", "link": "https://stackoverflow.com/users/1429402/fnord"}, "edited": false, "score": 0, "creation_date": 1496337731, "post_id": 44296986, "comment_id": 75632727, "body": "@Fnord unfortunately I&#39;m not too surprised. I&#39;ve been musing a bit about your problem since yesterday, and it&#39;s possible that computing the Jacobian and especially the Hessian yourself might help with speed. If you think about it, the <code>COUNT*2</code>-dimensional problem has a Hessian which is a <code>COUNT*2</code>-by-<code>COUNT*2</code> matrix, which is actually block diagonal with <code>2x2</code> blocks. If you compute this sparse matrix by hand, it might help. And a <code>COUNT*2</code>-dimensional numerical gradient is cumbersome too. But I admit I didn&#39;t try to implement this. Does preallocation give you any significant speedup?"}, {"owner": {"reputation": 4009, "user_id": 1429402, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/paAFK.jpg?s=128&g=1", "display_name": "Fnord", "link": "https://stackoverflow.com/users/1429402/fnord"}, "edited": false, "score": 0, "creation_date": 1496340587, "post_id": 44296986, "comment_id": 75634296, "body": "@Andrea Deak Preallocating does make a difference. I have another option i can use. If you look back at my <a href=\"https://stackoverflow.com/questions/18858448/speeding-up-a-closest-point-on-a-hyperbolic-paraboloid-algorithm\">original question</a>, @Jaime gave me a different function <code>solve_uv</code> which avoids  <code>minimize</code> altogether. With a few changes I was able to vectorize his solution and from a speed perspective I&#39;m getting very reasonable results from it. I got hopeful when I saw minimize was so much faster to find the single closest projection, but unfortunately I need the process the entire array."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 4009, "user_id": 1429402, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/paAFK.jpg?s=128&g=1", "display_name": "Fnord", "link": "https://stackoverflow.com/users/1429402/fnord"}, "edited": false, "score": 1, "creation_date": 1496360842, "post_id": 44296986, "comment_id": 75642948, "body": "@Fnord your question got me thinking. I happened to be able to solve it almost exactly, using polynomial arithmetic (albeit still looping over each hyperboloid after the other). It&#39;s twice as fast as the looping minimize-based version, but unlike that it always finds the proper minimum. Please let me know how it works for you:)"}, {"owner": {"reputation": 4009, "user_id": 1429402, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/paAFK.jpg?s=128&g=1", "display_name": "Fnord", "link": "https://stackoverflow.com/users/1429402/fnord"}, "edited": false, "score": 1, "creation_date": 1496452329, "post_id": 44296986, "comment_id": 75682248, "body": "@Andrea Deak Thank you so much for putting so much thought in your answer! You are an asset to this community. Your code seems to work great but it is slower than the vectorized version I made from Jaime&#39;s non-scipy answer. Since a close approximation is good enough and faster to compute i will use that instead. <a href=\"https://codereview.stackexchange.com/questions/164820/calculate-the-closest-point-to-many-hyperbolic-paraboloids\">I posted my clumsy code on Code Review</a> asking for help improving its performance. Your input would be greatly valued!"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 4009, "user_id": 1429402, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/paAFK.jpg?s=128&g=1", "display_name": "Fnord", "link": "https://stackoverflow.com/users/1429402/fnord"}, "edited": false, "score": 0, "creation_date": 1496491382, "post_id": 44296986, "comment_id": 75690308, "body": "@Fnord no worries, I just like to nerd snipe myself with interesting problems;) Thanks for giving it a shot and reporting back! I might take a look at your CR post if I can find the time. Especially the fact that an esoteric method is faster than <code>np.dot</code> intrigues me (but perhaps there&#39;s less overhead since it&#39;s a ufunc). One minor note: it&#39;s Andras, not Andrea ;)"}], "tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": true, "score": 3, "last_activity_date": 1601670691, "last_edit_date": 1601670691, "creation_date": 1496279711, "answer_id": 44296986, "question_id": 44296370, "link": "https://stackoverflow.com/questions/44296370/how-to-use-scipy-optimize-to-minimize-multiple-scalar-valued-functions-simultane/44296986#44296986", "title": "How to use scipy.optimize to minimize multiple scalar-valued functions simultaneously", "body": "<h2>The strict answer</h2>\n<p>You have to be tricky but it's not that difficult to trick <code>minimize</code>. The point is that <a href=\"https://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.optimize.minimize.html\" rel=\"nofollow noreferrer\"><code>minimize</code> only works for scalar cost functions</a>. But we can get away with summing up all your distances, since they are naturally nonnegative quantities and the global minimum is defined by the configuration where each distance is minimal. So instead of asking for the minimum points of <code>COUNT</code> bivariate scalar functions, instead we ask for the minimum of a single scalar function of <code>COUNT*2</code> variables. This just happens to be the sum of <code>COUNT</code> bivariate functions. But note that I'm not convinced that this will be faster, because I can imagine higher-dimensional minimum searches to be less stable than a corresponding set of lower-dimensional independent minimum searches.</p>\n<p>What you <em>should</em> definitely do is pre-allocate memory for <code>uv</code> and insert values into that, rather than growing a list item by item a lot of times:</p>\n<pre><code>uv = np.empty((COUNT,2))\nfor i in range(COUNT):\n    uv[i,:] = minimize(fun_single, (0.5, 0.5), (p0[i], p1[i], p2[i], p3[i], p)).x\n</code></pre>\n<p>Anyway, in order to use a single call to <code>minimize</code> we only need to vectorize your function, which is easier than you'd think:</p>\n<pre><code>def fun_vect(x, p0, p1, p2, p3, p):\n    x = x.reshape(-1,2) # dimensions are mangled by minimize() call\n    u,v = x.T[...,None] # u,v shaped (COUNT,1) for broadcasting\n    s = u*(p1-p0) + v*(p3-p0) + u*v*(p2-p3-p1+p0) + p0 # shape (COUNT,3)\n    return np.linalg.norm(p-s, axis=1).sum() # sum up distances for overall cost\n\nx0 = 0.5*np.ones((COUNT,2))\nuv_vect = minimize(fun_vect, x0, (p0, p1, p2, p3, p)).x.reshape(-1,2)\n</code></pre>\n<p>This function, as you see, extend the scalar one along columns. Each row corresponds to an independent minimization problem (consistently with your definition of the points). The vectorization is straightforward, the only nontrivial part is that we need to play around with dimensions to make sure that everything broadcasts nicely, and we should take care to reshape <code>x0</code> on input because <code>minimize</code> has a habit of flattening the array-valued input position. And of course the final result has to be reshaped again. Correspondingly, an array of shape <code>(COUNT,2)</code> has to be provided as <code>x0</code>, this is the only feature from which <code>minimize</code> can deduce the dimensionality of your problem.</p>\n<p>Comparison for my random data:</p>\n<pre><code>&gt;&gt;&gt; uv\narray([[-0.13386872,  0.14324999],\n       [ 2.42883931,  0.55099395],\n       [ 1.03084756,  0.35847593],\n       [ 1.47276203,  0.29337082]])\n\n&gt;&gt;&gt; uv_vect\narray([[-0.13386898,  0.1432499 ],\n       [ 2.42883952,  0.55099405],\n       [ 1.03085143,  0.35847888],\n       [ 1.47276244,  0.29337179]])\n</code></pre>\n<p>Note that I changed <code>COUNT</code> to be 4, because I like to keep every dimension distinct when testing. This way I can be sure that I run into an error if I mess up my dimensions. Also note that in general you might want to keep the complete object returned by <code>minimize</code> just to make sure that everything went fine and converged.</p>\n<hr />\n<h2>A more useful solution</h2>\n<p>As we discussed in comments, the above solution---while perfectly answers the question---is not particularly feasible, since it takes too long to run, much longer than doing each minimization separately. The problem was interesting enough that it got me thinking. Why not try to solve the problem as exactly as possible?</p>\n<p>What you're trying to do (now considering a single hyperboloid and a query point q) is finding the <code>s(u,v)</code> point with the <a href=\"https://stackoverflow.com/a/18861570/5067311\">parametrization by Jaime</a></p>\n<pre><code>s(u,v) = p0 + u * (p1 - p0) + v * (p3 - p0) + u * v * (p2 - p3 - p1 + p0)\n</code></pre>\n<p>for which the distance <code>d(s,q)</code> is minimal. Since the distance is a proper metric (in particular, it is non-negative), this is equivalent to minimizing <code>d(s,q)^2</code>. So far so good.</p>\n<p>Let's rewrite the parametrized equation of <code>s</code> by introducing a few constant vectors in order to simplify the derivation:</p>\n<pre><code>s(u,v) = p0 + u*a + v*b + u*v*c\ns - q  = p0-q0 + u*a + v*b + u*v*c\n       = d + u*a + v*b + u*v*c\nd(s,q)^2 = (s-q)^2\n</code></pre>\n<p>(In this section <code>^</code> will represent the power, because this is linear algebra.) Now, the minimum of the distance function is a stationary point, so in the <code>u_min,v_min</code> point we're looking for the gradient of <code>s(u,v)</code> with respect to <code>u</code> and <code>v</code> is zero. This is equivalent to saying that the derivative of <code>d(s,q)^2</code> with respect to both <code>u</code> and <code>v</code> has to be simultaneously zero; this gives us two nonlinear equations with the unknowns <code>u</code> and <code>v</code>:</p>\n<pre><code>2*(s-q)*ds/du = 0  (1)\n2*(s-q)*ds/dv = 0  (2)\n</code></pre>\n<p>Expanding these two equations is a somewhat tedious job. The first equation happens to be linear in <code>u</code>, the second in <code>v</code>. I collected all the terms containing <code>u</code> in the first equation, which gave me the relationship</p>\n<pre><code>u(v) = (-v^2*b.c - v*(c.d + a.b) - a.d)/(a + v*c)^2\n</code></pre>\n<p>where <code>.</code> represents the dot product. The above equation tells us that for whatever <code>v</code> we choose, equation (1) will exactly be satisfied if <code>u</code> is chosen thus. So we have to solve equation (2).</p>\n<p>What I did was expand all the terms in equation (2), and substitute <code>u(v)</code> into <code>u</code>. The original equation had polynomial terms of <code>1,u,v,uv,u^2,u^2v</code>, so I can tell you this is not pretty. With some minor assumptions of no divergence (which divergences would probably correspond to the equivalent of vertical lines in the case of a line fitting problem), we can arrive at the following beautiful equation:</p>\n<pre><code>(b.d + v*b^2)*f^2 - (c.d + a.b + 2*v*b.c)*e*f + (a.c + v*c^2)*e^2 = 0\n</code></pre>\n<p>with the new scalars defined as</p>\n<pre><code>e = v^2*b.c + v*(c.d + a.b) + a.d\nf = (a + v*c)^2 = (a^2 + 2*v*a.c + v^2*c^2)\n</code></pre>\n<p>Whatever <code>v</code> solves this equation, the corresponding <code>(u(v),v)</code> point will correspond to a stationary point of the distance. We should first note that this equation considers the root of a fifth-order polynomial if <code>v</code>. There's guaranteed to be at least one real root, and in the worst case there can be as many as 5 real roots. Whether these correspond to minima, maxima, or (in unlikely cases) saddle points is open for discussion.</p>\n<p>The real benefit of the above result is that we have a fighting chance of finding <em>all</em> the roots of the equation! This is a huge deal, since nonlinear root searching/minimization will in general give you only one root at a time, without being able to tell you if you've missed any. Enter <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.polynomial.polynomial.polyroots.html\" rel=\"nofollow noreferrer\"><code>numpy.polynomial.polynomial.polyroots</code></a>. Despite all the linear algebra fluff surrounding it, we're only looking for the (at most 5!) root of a polynomial, for which we can test the distances and choose the global minimum (if necessary). If there's only one root, we can be sure that it's <em>the</em> minimum based on geometrical considerations.</p>\n<p>Note that I haven't mentioned a caveat yet: the polynomial library can only work with one polynomial at a time. We will still have to loop over each hyperboloid manually. But here's the deal: we will be able to guarantee that we're finding the exact minimum, rather than unknowingly accepting local distance minima. And it might even be faster than <code>minimize</code>. Let's see:</p>\n<pre><code>import numpy as np\n\n# generate dummy inputs\nCOUNT = 100\np0 = np.random.random_sample((COUNT,3))\np1 = np.random.random_sample((COUNT,3))\np2 = np.random.random_sample((COUNT,3))\np3 = np.random.random_sample((COUNT,3))\np = np.random.random_sample(3)\n\n\ndef mydot(v1,v2):\n    &quot;&quot;&quot;generalized dot product for multidimensional arrays: (...,N,3)x(...,N,3) -&gt; (...,N,1)&quot;&quot;&quot;\n    # (used in u_from_v for vectorized dot product)\n    return np.einsum('...j,...j-&gt;...',v1,v2)[...,None]\n\ndef u_from_v(v, a, b, c, d):\n    &quot;&quot;&quot;return u(v) corresponding to zero of gradient&quot;&quot;&quot;\n    # use mydot() instead of dot to enable array-valued v input\n\n    res = (- v**2*mydot(b,c) - v*(mydot(c,d)+mydot(a,b)) - mydot(a,d))/np.linalg.norm(a+v*c, axis=-1, keepdims=True)**2\n    return res.squeeze()\n\ndef check_distance(uv, p0, p1, p2, p3, p):\n    &quot;&quot;&quot;compute the distance from optimization results to query point&quot;&quot;&quot;\n    u,v = uv.T[...,None]\n    s = u*(p1-p0) + v*(p3-p0) + u*v*(p2-p3-p1+p0) + p0\n    return np.linalg.norm(p-s, axis=-1)\n\n\ndef poly_for_v(a, b, c, d):\n    &quot;&quot;&quot;return polynomial representation of derivative of d(s,p)^2 for the parametrized s(u(v),v) point&quot;&quot;&quot;\n    # only works with a scalar problem:( one polynomial at a time\n    # v is scalar, a-b-c-d are 3-dimensional vectors (for a given paraboloid)\n\n    # precompute scalar products appearing multiple times in the formula\n    ab = a.dot(b)\n    ac = a.dot(c)\n    cc = c.dot(c)\n    cd = c.dot(d)\n    bc = b.dot(c)\n\n    Poly = np.polynomial.polynomial.Polynomial\n    e = Poly([a.dot(d), cd+ab, bc])\n    f = Poly([a.dot(a), 2*ac, cc])\n\n    res = Poly([b.dot(d), b.dot(b)])*f**2 - Poly([cd+ab,2*bc])*e*f + Poly([ac,cc])*e**2\n    return res\n\n\ndef minimize_manually(p0, p1, p2, p3, p):\n    &quot;&quot;&quot;numpy polynomial version for the minimization problem&quot;&quot;&quot;\n\n    # auxiliary arrays, shape (COUNT,3)\n    a = p1 - p0\n    b = p3 - p0\n    c = p2 - p3 - p1 + p0\n    d = p0 - p\n\n    # preallocate for collected result\n    uv_min = np.empty((COUNT,2))\n    for k in range(COUNT):\n        # collect length-3 vectors needed for a given surface\n        aa,bb,cc,dd = (x[k,:] for x in (a,b,c,d))\n\n        # compute 5 complex roots of the derivative distance\n        roots = poly_for_v(aa, bb, cc, dd).roots()\n        # keep exactly real roots\n        vroots = roots[roots.imag==0].real\n\n        if vroots.size == 1:\n            # we're done here\n            vval, = vroots\n            uval = u_from_v(vval, aa, bb, cc, dd)\n            uv_min[k,:] = uval,vval\n        else:\n            # need to find the root with minimal distance\n            uvals = u_from_v(vroots[:,None], aa, bb, cc, dd)\n            uvtmp = np.stack((uvals,vroots),axis=-1)\n            dists = check_distance(uvtmp, p0[k,:], p1[k,:], p2[k,:], p3[k,:], p)\n            winner = np.argmin(dists) # index of (u,v) pair of minimum\n            uv_min[k,:] = uvtmp[winner,:]\n\n    return uv_min\n\nuv_min = minimize_manually(p0, p1, p2, p3, p)\n# for comparison with the minimize-based approaches:\n# distances = check_distance(uv_manual,p0,p1,p2,p3,p))\n</code></pre>\n<p>The above example has <code>COUNT</code> of 100, but if you start with <code>COUNT=1</code> and keep running both the <code>minimize</code> version and the above exact version, you'll see roughly once in every 10-20 runs that the <code>minimize</code>-based approach misses the real minimum. So the above is safer, it's guaranteed to find the proper minima.</p>\n<p>I also did some timing checks with <code>COUNT=100</code>, around 100 ms for the polynomial-based solution, around 200 ms for the minimize-based looping version. With <code>COUNT=1000</code>: 1 second for the polynomial, 2 seconds for the looping minimize-based. Considering how even for larger problems the above is both more precise and more efficient, I see no reason why not to use this instead.</p>\n"}], "owner": {"reputation": 4009, "user_id": 1429402, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/paAFK.jpg?s=128&g=1", "display_name": "Fnord", "link": "https://stackoverflow.com/users/1429402/fnord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1714, "favorite_count": 0, "accepted_answer_id": 44296986, "answer_count": 1, "score": 2, "last_activity_date": 1601670691, "creation_date": 1496274726, "last_edit_date": 1592644375, "question_id": 44296370, "link": "https://stackoverflow.com/questions/44296370/how-to-use-scipy-optimize-to-minimize-multiple-scalar-valued-functions-simultane", "title": "How to use scipy.optimize to minimize multiple scalar-valued functions simultaneously", "body": "<p><a href=\"https://stackoverflow.com/questions/18858448/speeding-up-a-closest-point-on-a-hyperbolic-paraboloid-algorithm\">In this question</a> I asked for a way to compute the closest projected point to a <a href=\"https://en.wikipedia.org/wiki/Paraboloid\" rel=\"nofollow noreferrer\">hyperbolic paraboloid</a> using python.</p>\n<p>Thanks to the answer, I was able to use the code below to calculate the closest point to multiple paraboloids.</p>\n<pre><code>from scipy.optimize import minimize\n\n# This function calculate the closest projection on a hyperbolic paraboloid\n# As Answered by @Jaime https://stackoverflow.com/questions/18858448/speeding-up-a-closest-point-on-a-hyperbolic-paraboloid-algorithm\ndef fun_single(x, p0, p1, p2, p3, p):\n    u, v = x\n    s = u*(p1-p0) + v*(p3-p0) + u*v*(p2-p3-p1+p0) + p0\n    return np.linalg.norm(p-s)\n\n\n# Example use case:\n# Generate some random data for 3 random hyperbolic paraboloids\n# A real life use case will count in the tens of thousands.\nimport numpy as np\nCOUNT = 3\np0 = np.random.random_sample((COUNT,3))\np1 = np.random.random_sample((COUNT,3))\np2 = np.random.random_sample((COUNT,3))\np3 = np.random.random_sample((COUNT,3))\np = np.random.random_sample(3)\n\nuv = []\nfor i in xrange(COUNT):\n    uv.append(minimize(fun_single, (0.5, 0.5), (p0[i], p1[i], p2[i], p3[i], p)).x)\nuv = np.array(uv)\n\n# UV projections for my random data\n#[[ 0.34109572  4.39237344]\n# [-0.2720813   0.17083423]\n# [ 0.48993333 -0.99415568]]\n</code></pre>\n<p>Now that I have a projection for each item it's possible to find more useful info, such as which of the given items is closest to the query point, find its array index and derive more data from it, etc...</p>\n<p>The problem with calling <code>minimize</code> for each item is that it becomes very slow when dealing with hundreds of thousands of items. So to try to resolve the issue I took a crack at changing the function to work with many inputs.</p>\n<pre><code>from numpy.core.umath_tests import inner1d\n\n# This function calculate the closest projection to many hyperbolic paraboloids\ndef fun_array(x, p0, p1, p2, p3, p):\n    u, v = x\n    s = u*(p1-p0) + v*(p3-p0) + u*v*(p2-p3-p1+p0) + p0\n    V = p-s\n    return np.min(np.sqrt(inner1d(V,V)))\n\n# Lets pass all the data to minimize\nuv = minimize(fun_array, (0.5, 0.5), (p0, p1, p2, p3, p)).x\n\n# Result: [ 0.25090064,  1.19732181]\n# This corresponds to index 2 of my random data, \n# which is the closest projection.\n</code></pre>\n<p>Minimizing the function <code>fun_array</code> is much faster than the iterative approach, but it only returns the single closest projection, not all projections.</p>\n<h1>QUESTION</h1>\n<p>Is it possible to use <code>minimize</code> to return all projections as with the iterative approach? And if not, is it at least possible to get the index of the &quot;winning&quot; array element?</p>\n"}, {"tags": ["python", "doctest"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1496275249, "post_id": 44296354, "comment_id": 75599003, "body": "Why would you <i>want</i> a null byte in your documentation? You want your documentation to read <code>my_function(b&#39;\\0&#39;)</code>, not <code>my_function(b&#39;&#39;)</code>. Am I missing something here? Pretty sure you want to use a raw string there..."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1496275477, "post_id": 44296354, "comment_id": 75599048, "body": "This is an MCVE.  The fact that the code handles null bytes in a particular way <i>is</i> actually relevant and necessary in my application."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1508431228, "post_id": 44296354, "comment_id": 80617268, "body": "Just noticed: <a href=\"https://github.com/python/cpython/blob/3.6/Lib/pickletools.py#L252\" rel=\"nofollow noreferrer\">pickle</a> has doctests that have to address this same double-parse issue."}], "answers": [{"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1496277669, "post_id": 44296437, "comment_id": 75599559, "body": "This actually works, but only by a curious accident.  The sha256 of <code>rb&#39;\\0&#39;</code> is not starting like 6e340b... but like 86f80f..."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1496694454, "post_id": 44296437, "comment_id": 75755210, "body": "i.e. the doctest is now misleading."}], "tags": [], "owner": {"reputation": 19, "user_id": 8094815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AOeP3.jpg?s=128&g=1", "display_name": "keelimeguy", "link": "https://stackoverflow.com/users/8094815/keelimeguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1496275721, "last_edit_date": 1496275721, "creation_date": 1496275236, "answer_id": 44296437, "question_id": 44296354, "link": "https://stackoverflow.com/questions/44296354/valueerror-source-code-string-cannot-contain-null-bytes/44296437#44296437", "title": "ValueError: source code string cannot contain null bytes", "body": "<p>When you want a string to contain a backslash you need to escape it with another backslash. Otherwise, it is trying to escape the following character.</p>\n\n<p>In your case, <code>b'\\0'</code> will replace <code>\\0</code> with a null character, hence your error.\nTry instead:</p>\n\n<pre><code>def my_function(bytes_):\n    \"\"\"\n    &gt;&gt;&gt; my_function(b'\\\\0')\n    '6e340b9cffb37a989ca544e6bb780a2c78901d3fb33738768511a30617afa01d'\n    \"\"\"\n    return hashlib.sha256(bytes_).hexdigest()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 3, "last_activity_date": 1496275717, "creation_date": 1496275717, "answer_id": 44296496, "question_id": 44296354, "link": "https://stackoverflow.com/questions/44296354/valueerror-source-code-string-cannot-contain-null-bytes/44296496#44296496", "title": "ValueError: source code string cannot contain null bytes", "body": "<p>Your doctest is getting double-parsed. First, Python applies backslash processing to convert <code>\\0</code> to a null byte in the docstring itself, and then <code>doctest</code> tries to run the thing after the <code>&gt;&gt;&gt;</code> as Python code and encounters an error because backslash processing has already been applied.</p>\n\n<p>This would also be a problem for anyone just trying to print your docstring, or trying to call <code>help</code> on your function.</p>\n\n<p>As with regexes, to avoid the first layer of backslash processing, use raw string notation:</p>\n\n<pre><code>def my_function(bytes_):\n    r\"\"\"\n    &gt;&gt;&gt; my_function(b'\\0')\n    '6e340b9cffb37a989ca544e6bb780a2c78901d3fb33738768511a30617afa01d'\n    \"\"\"\n    return hashlib.sha256(bytes_).hexdigest()\n</code></pre>\n"}], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10465, "favorite_count": 2, "accepted_answer_id": 44296496, "answer_count": 2, "score": 4, "last_activity_date": 1496275721, "creation_date": 1496274555, "question_id": 44296354, "link": "https://stackoverflow.com/questions/44296354/valueerror-source-code-string-cannot-contain-null-bytes", "title": "ValueError: source code string cannot contain null bytes", "body": "<pre><code>import hashlib\n\n\ndef my_function(bytes_):\n    \"\"\"\n    &gt;&gt;&gt; my_function(b'\\0')\n    '6e340b9cffb37a989ca544e6bb780a2c78901d3fb33738768511a30617afa01d'\n    \"\"\"\n    return hashlib.sha256(bytes_).hexdigest()\n\n\nif __name__ == \"__main__\":\n    import doctest\n    doctest.testmod()\n</code></pre>\n\n<p><em>Expected behaviour:</em>  1 test passes</p>\n\n<p><em>Actual behaviour:</em> <code>ValueError</code> exception is raised from within <code>doctest.py</code>.</p>\n\n<p>I've tried to use <code>b'\\x00'</code> literal as well with the same result.  How to use null bytes in doctest?  What exactly is the problem here, and is there any fix or not-too-ugly workaround?  </p>\n"}, {"tags": ["python", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1496275478, "post_id": 44296414, "comment_id": 75599049, "body": "Umm, I think I&#39;m not clear on how to interpret the np array. In (array([0, 1]), array([1, 0])), why is it array[1,0] and not [0,1]?"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1496275589, "post_id": 44296414, "comment_id": 75599071, "body": "because they&#39;re numpy objects"}, {"owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1496275772, "post_id": 44296414, "comment_id": 75599115, "body": "I&#39;m not sure if that is giving me the correct result. I did t = np.where(x &gt; 0.01, and the output I got was: (array([0, 0, 0, 0, 1, 1, 1, 1]), array([21, 23, 34, 49, 17, 24, 35, 40])). But, the first element doesn&#39;t even have 21 in it, which is returned when using argmax."}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1496275855, "post_id": 44296414, "comment_id": 75599138, "body": "oh sorry actually the first array is the x coordinates and the second array is the y coordinates, you need to zip them to get the x-y coordinates, i&#39;ll edit my answer"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "edited": false, "score": 0, "creation_date": 1496276346, "post_id": 44296414, "comment_id": 75599240, "body": "actually you use <code>argwhere</code>"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 36, "last_activity_date": 1496276335, "last_edit_date": 1496276335, "creation_date": 1496275038, "answer_id": 44296414, "question_id": 44296310, "link": "https://stackoverflow.com/questions/44296310/get-indices-of-elements-that-are-greater-than-a-threshold-in-2d-numpy-array/44296414#44296414", "title": "Get indices of elements that are greater than a threshold in 2D numpy array", "body": "<p>You can use <code>np.argwhere</code> to return the indices of all the entries in an array matching a boolean condition:</p>\n\n<pre><code>&gt;&gt;&gt; x = np.array([[0,0.2,0.5],[0.05,0.01,0]])\n\n&gt;&gt;&gt; np.argwhere(x &gt; 0.01)\narray([[0, 1],\n       [0, 2],\n       [1, 0]])    \n</code></pre>\n"}], "owner": {"reputation": 587, "user_id": 7782626, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/117df6c0c6be63273f424ad2a28f0d64?s=128&d=identicon&r=PG&f=1", "display_name": "Arman", "link": "https://stackoverflow.com/users/7782626/arman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47355, "favorite_count": 4, "answer_count": 1, "score": 26, "last_activity_date": 1496276335, "creation_date": 1496274201, "question_id": 44296310, "link": "https://stackoverflow.com/questions/44296310/get-indices-of-elements-that-are-greater-than-a-threshold-in-2d-numpy-array", "title": "Get indices of elements that are greater than a threshold in 2D numpy array", "body": "<p>I have a 2D numpy array:</p>\n\n<pre><code>x = [[  1.92043482e-04   0.00000000e+00   0.00000000e+00   0.00000000e+00\n    0.00000000e+00   0.00000000e+00   2.41005634e-03   0.00000000e+00\n    7.19330120e-04   0.00000000e+00   0.00000000e+00   1.42886875e-04\n    0.00000000e+00   0.00000000e+00   0.00000000e+00   0.00000000e+00\n    0.00000000e+00   9.79279411e-05   7.88888657e-04   0.00000000e+00\n    0.00000000e+00   1.40425916e-01   0.00000000e+00   1.13955893e-02\n    7.36868947e-03   3.67091988e-04   0.00000000e+00   0.00000000e+00\n    0.00000000e+00   0.00000000e+00   1.72037105e-03   1.72377961e-03\n    0.00000000e+00   0.00000000e+00   1.19532061e-01   0.00000000e+00\n    0.00000000e+00   0.00000000e+00   0.00000000e+00   3.37249481e-04\n    0.00000000e+00   0.00000000e+00   0.00000000e+00   0.00000000e+00\n    0.00000000e+00   0.00000000e+00   1.75111492e-03   0.00000000e+00\n    0.00000000e+00   1.12639313e-02]\n [  0.00000000e+00   0.00000000e+00   1.10271735e-04   5.98736562e-04\n    6.77961628e-04   7.49569659e-04   0.00000000e+00   0.00000000e+00\n    2.91697850e-03   0.00000000e+00   0.00000000e+00   0.00000000e+00\n    0.00000000e+00   0.00000000e+00   3.30257021e-04   2.46629275e-04\n    0.00000000e+00   1.87586441e-02   6.49103144e-04   0.00000000e+00\n    1.19046355e-04   0.00000000e+00   0.00000000e+00   2.69499898e-03\n    1.48525386e-02   0.00000000e+00   0.00000000e+00   0.00000000e+00\n    0.00000000e+00   0.00000000e+00   0.00000000e+00   1.18803119e-03\n    3.93100829e-04   0.00000000e+00   3.76245304e-04   2.79537738e-02\n    0.00000000e+00   1.20738457e-03   9.74669064e-06   7.18680093e-04\n    1.61546793e-02   3.49360861e-04   0.00000000e+00   0.00000000e+00\n    0.00000000e+00   0.00000000e+00   0.00000000e+00   0.00000000e+00\n    0.00000000e+00   0.00000000e+00]]\n</code></pre>\n\n<p>How do I get indices of the elements that are greater than <code>0.01</code>?</p>\n\n<p>Right now, I'm doing <code>t = np.argmax(x, axis=1)</code> to get the index of the maximum value from each and the result of it is: <code>[21 35]</code>. How do I achieve the above?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1496274278, "post_id": 44296289, "comment_id": 75598774, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 144, "user_id": 2998262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rOy1k.png?s=128&g=1", "display_name": "A.Sherif", "link": "https://stackoverflow.com/users/2998262/a-sherif"}, "edited": false, "score": 0, "creation_date": 1496274473, "post_id": 44296289, "comment_id": 75598822, "body": "You said you need to check if list F is in bolsa, but you only checked f[0], which is the first item of F. So, do you need to check if first item of F is in bolsa, or the whole list F?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8094493, "user_type": "registered", "profile_image": "https://graph.facebook.com/1472876026105534/picture?type=large", "display_name": "Guilherme Guidi", "link": "https://stackoverflow.com/users/8094493/guilherme-guidi"}, "edited": false, "score": 0, "creation_date": 1496275079, "post_id": 44296360, "comment_id": 75598963, "body": "Tksss! I did it a tried a few minutes ago and i succeeded !! Tks anyway !"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 3, "user_id": 8094493, "user_type": "registered", "profile_image": "https://graph.facebook.com/1472876026105534/picture?type=large", "display_name": "Guilherme Guidi", "link": "https://stackoverflow.com/users/8094493/guilherme-guidi"}, "edited": false, "score": 1, "creation_date": 1496275265, "post_id": 44296360, "comment_id": 75599004, "body": "Sure.  When you get to a resolution, please remember to up-vote useful things and accept your favourite answer (even if you have to write it yourself), so Stack Overflow can properly archive the question.  You can also delete the question, if you feel it doesn&#39;t have any value to future programmers."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 0, "last_activity_date": 1496275215, "last_edit_date": 1496275215, "creation_date": 1496274645, "answer_id": 44296360, "question_id": 44296289, "link": "https://stackoverflow.com/questions/44296289/how-do-i-check-if-the-following-items-are-in-the-a-list/44296360#44296360", "title": "How do I check if the following items are in the a list?", "body": "<p>From what you give here, I think the problem may be simple:  you're looking in bolsa.items(), when all you need is to find the <em>key</em>.  Try changing this one line:</p>\n\n<pre><code>if f[0] in bolsa:\n</code></pre>\n\n<p>Referring to the dictionary name returns a list of the keys.</p>\n\n<p>You will also want to iterate through the \"wants\" list <code>f</code>.  Note that all you really need in the list is the key, <code>x</code>, rather than trying to look for the <code>40</code> as well (if that was in your plans).  You can simply extract the 40 from the original dictionary.</p>\n"}], "owner": {"reputation": 3, "user_id": 8094493, "user_type": "registered", "profile_image": "https://graph.facebook.com/1472876026105534/picture?type=large", "display_name": "Guilherme Guidi", "link": "https://stackoverflow.com/users/8094493/guilherme-guidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "closed_date": 1496287321, "accepted_answer_id": 44296360, "answer_count": 1, "score": -3, "last_activity_date": 1496275215, "creation_date": 1496273963, "question_id": 44296289, "link": "https://stackoverflow.com/questions/44296289/how-do-i-check-if-the-following-items-are-in-the-a-list", "closed_reason": "Not suitable for this site", "title": "How do I check if the following items are in the a list?", "body": "<p>I need to check if list f is inside bolsa. Then, i should add f in carteira_acoes.</p>\n\n<pre><code>bolsa = {\"ibm\": 100.0, \"google\": 200.0, \"microsoft\": 100.0, \"x\": 40.0}\ncarteira_acoes = [[\"ibm\",10],[\"google\",20]]\nf = [\"x\", 40]\nif (f[0]) in bolsa.items():\n    carteira_acoes.append(f)\nprint (carteira_acoes)\n</code></pre>\n"}, {"tags": ["python", "jupyter-notebook"], "answers": [{"tags": [], "owner": {"reputation": 3354, "user_id": 9201239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/weI7h.jpg?s=128&g=1", "display_name": "stason", "link": "https://stackoverflow.com/users/9201239/stason"}, "is_accepted": false, "score": 1, "last_activity_date": 1536089861, "last_edit_date": 1536089861, "creation_date": 1534703993, "answer_id": 51920747, "question_id": 44296277, "link": "https://stackoverflow.com/questions/44296277/how-can-i-follow-the-cell-currently-being-run-in-a-jupyter-notebook/51920747#51920747", "title": "How can I follow the cell currently being run in a Jupyter notebook?", "body": "<p>Add the following in <code>~/.jupyter/custom/custom.js</code> and reload the notebooks you're running:</p>\n\n<pre><code>/*\n In Command mode Meta-[ toggles Follow Exec Cell mode, Meta-] turns it off.\n\n To adjust the behavior you can adjust the arguments:\n * behavior: One of \"auto\", \"instant\", or \"smooth\". Defaults to \"auto\". Defines the transition animation.\n * block:    One of \"start\", \"center\", \"end\", or \"nearest\". Defaults to \"center\".\n * inline:   One of \"start\", \"center\", \"end\", or \"nearest\". Defaults to \"nearest\".\n https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\n*/\nfunction scrollIntoRunningCell(evt, data) {\n    $('.running')[0].scrollIntoView({behavior: 'smooth', inline: 'center'});\n}\n\nJupyter.keyboard_manager.command_shortcuts.add_shortcut('Meta-[', {\n    help: 'Follow Executing Cell On',\n    help_index: 'zz',\n    handler: function (event) {\n        Jupyter.notebook.events.on('finished_execute.CodeCell', scrollIntoRunningCell);\n        //console.log(\"Follow Executing Cell On\")\n        return false;\n    }\n});\n\nJupyter.keyboard_manager.command_shortcuts.add_shortcut('Meta-]', {\n    help: 'Follow Executing Cell Off',\n    help_index: 'zz',\n    handler: function (event) {\n        Jupyter.notebook.events.off('finished_execute.CodeCell', scrollIntoRunningCell);\n        //console.log(\"Follow Executing Cell Off\")\n        return false;\n    }\n});\n</code></pre>\n\n<p>Now in Command Mode (when cell in focus has a blue box around it and not green, or hit Esc to toggle mode), hit <code>Meta-[</code> to get the currently run cell stay in the middle of the screen, hit <code>Meta-]</code> to return to normal behavior.</p>\n\n<p>If this is not working, debug this setup by uncommenting console.log() calls and watch your browser Developer Tools' Console to check that custom.js got loaded without errors and that the shortcuts got registered and the handler is activated. Sometimes you need to restart <code>jupyter notebook</code>, but most of the time tab-reload works.</p>\n\n<p>If you just want to jump once to the current executing cell use <code>Alt-I</code> after you add the following to <code>~/.jupyter/custom/custom.js</code> and reload the notebooks you're running:</p>\n\n<pre><code>// Alt-I: Go to Running cell shortcut [Command mode]\nJupyter.keyboard_manager.command_shortcuts.add_shortcut('Alt-I', {\n    help : 'Go to Running cell',\n    help_index : 'zz',\n    handler : function (event) {\n        setTimeout(function() {\n            // Find running cell and click the first one\n            if ($('.running').length &gt; 0) {\n                //alert(\"found running cell\");\n                $('.running')[0].scrollIntoView();\n            }}, 250);\n        return false;\n    }\n});\n</code></pre>\n\n<p>Caveat: for it to work - the sections should all be uncollapsed - otherwise it won't know to go into a collapsed section.</p>\n\n<p>You can adjust the activation shortcut keys to your liking.</p>\n\n<p>Remember that all 3 shortcuts will only work in the Command mode (see above for figuring that out).</p>\n\n<p>This has been tested to work with jupyter notebook 5.6.0 with python 3.6.6.</p>\n"}], "owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 4, "answer_count": 1, "score": 5, "last_activity_date": 1536089861, "creation_date": 1496273884, "question_id": 44296277, "link": "https://stackoverflow.com/questions/44296277/how-can-i-follow-the-cell-currently-being-run-in-a-jupyter-notebook", "title": "How can I follow the cell currently being run in a Jupyter notebook?", "body": "<p>After I select <code>run all</code>, <code>run all above</code>, or <code>run all below</code> in a Jupyter notebook, how can I follow the cell currently being run in a Jupyter notebook? I.e., I want the cell that is displayed to me to be the one being run, throughout the execution of the notebook.</p>\n"}, {"tags": ["python", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 43630, "user_id": 75033, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/yqUcc.jpg?s=128&g=1", "display_name": "John Mee", "link": "https://stackoverflow.com/users/75033/john-mee"}, "edited": false, "score": 1, "creation_date": 1496288053, "post_id": 44297009, "comment_id": 75601881, "body": "Good answer. But i guess the downvote was because the OP is not trying to close a browser alert but a &quot;modal dialogue box&quot; which simulates same."}, {"owner": {"reputation": 15859, "user_id": 975114, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9cca3ab47e2685d05b75880de0faee63?s=128&d=identicon&r=PG", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/975114/amit-verma"}, "reply_to_user": {"reputation": 43630, "user_id": 75033, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/yqUcc.jpg?s=128&g=1", "display_name": "John Mee", "link": "https://stackoverflow.com/users/75033/john-mee"}, "edited": false, "score": 0, "creation_date": 1496289681, "post_id": 44297009, "comment_id": 75602275, "body": "@JohnMee - Thanks! I did not looked at the actual page. Based my answer on the question."}], "tags": [], "owner": {"reputation": 15859, "user_id": 975114, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9cca3ab47e2685d05b75880de0faee63?s=128&d=identicon&r=PG", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/975114/amit-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1496279866, "creation_date": 1496279866, "answer_id": 44297009, "question_id": 44296273, "link": "https://stackoverflow.com/questions/44296273/unable-to-close-popup-box-with-selenium/44297009#44297009", "title": "Unable to close popup box with Selenium", "body": "<p>Instead of trying to click on element, you should use the built-in support.\nFollowing should work. </p>\n\n<pre><code>alert = driver.switch_to_alert()\nalert.accept\n</code></pre>\n\n<p><a href=\"https://selenium-python.readthedocs.io/navigating.html?highlight=alert#popup-dialogs\" rel=\"nofollow noreferrer\">Docs</a></p>\n"}, {"tags": [], "owner": {"reputation": 3074, "user_id": 6903223, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/79JHZ.png?s=128&g=1", "display_name": "Kushal", "link": "https://stackoverflow.com/users/6903223/kushal"}, "is_accepted": false, "score": 0, "last_activity_date": 1496287387, "creation_date": 1496287387, "answer_id": 44297963, "question_id": 44296273, "link": "https://stackoverflow.com/questions/44296273/unable-to-close-popup-box-with-selenium/44297963#44297963", "title": "Unable to close popup box with Selenium", "body": "<p>this is because the element is present on an <code>&lt;iframe&gt;</code> tag; so first you need to switch to iframe and then interact with the element:</p>\n\n<pre><code>driver.switch_to.frame driver.find_element_by_css(' #gsr &gt; iframe')\n</code></pre>\n\n<p>then click on the element:</p>\n\n<pre><code>driver.find_element_by_xpath('//div[@class=\"_wzh\"]').click()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2927, "user_id": 777171, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/HMOOA.jpg?s=128&g=1", "display_name": "Trimantra Software Solution", "link": "https://stackoverflow.com/users/777171/trimantra-software-solution"}, "is_accepted": false, "score": 1, "last_activity_date": 1496292864, "creation_date": 1496292864, "answer_id": 44298791, "question_id": 44296273, "link": "https://stackoverflow.com/questions/44296273/unable-to-close-popup-box-with-selenium/44298791#44298791", "title": "Unable to close popup box with Selenium", "body": "<p>It take some time to open your popup. So you need to wait for few seconds until the popup opens and close button get visible.</p>\n\n<p>User <code>Explicitwait</code> condition until visibility of element like below :</p>\n\n<pre><code>element = WebDriverWait(driver, 60).until(\n    EC.visibility_of_element_located((By.CSS_SELECTOR, \"div&gt;._wzh\"))\n)\nelement.click()\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 8062053, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/633f7777a83d3bf86cf48f312def3bd8?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/8062053/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1496292864, "creation_date": 1496273838, "last_edit_date": 1496279619, "question_id": 44296273, "link": "https://stackoverflow.com/questions/44296273/unable-to-close-popup-box-with-selenium", "title": "Unable to close popup box with Selenium", "body": "<p>I am unable to close a popup box with Selenium.  Below is the code I have written, it returns an exception.  Please see the code below.</p>\n\n<pre><code>driver = webdriver.Chrome()\ndriver.get(\"https://www.google.com/webhp#q=home+depot+san+francisco&amp;lrd=0x808f7c5c63124c7b:0x32c19e9988b2aa90,1,\")\ndriver.find_element_by_xpath('//div[@class=\"_wzh\"]').click()\n# selenium.common.exceptions.ElementNotVisibleException: Message: element not visible\n</code></pre>\n\n<p>Thanks,</p>\n"}, {"tags": ["python", "percentage"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7619556, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-xLhq18vx5zs/AAAAAAAAAAI/AAAAAAAAAnQ/4WuOeNHdviY/photo.jpg?sz=128", "display_name": "Jmilicev", "link": "https://stackoverflow.com/users/7619556/jmilicev"}, "edited": false, "score": 0, "creation_date": 1496274023, "post_id": 44296270, "comment_id": 75598706, "body": "Worked, Thank you!"}], "tags": [], "owner": {"reputation": 184, "user_id": 5896888, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EBe7XdeKxK4/AAAAAAAAAAI/AAAAAAAAt7I/l2GeK24xRAA/photo.jpg?sz=128", "display_name": "Jerry Zhao", "link": "https://stackoverflow.com/users/5896888/jerry-zhao"}, "is_accepted": false, "score": 2, "last_activity_date": 1496273824, "creation_date": 1496273824, "answer_id": 44296270, "question_id": 44296249, "link": "https://stackoverflow.com/questions/44296249/calculating-percentage-returns-an-incorrect-result/44296270#44296270", "title": "Calculating percentage returns an incorrect result", "body": "<p>Division in python2 is by default not floating point.</p>\n\n<p>At the beginning of your code add an import</p>\n\n<p><code>from __future__ import division</code></p>\n\n<p>This adopts Python3's behavior</p>\n\n<p><a href=\"https://stackoverflow.com/questions/183853/in-python-2-what-is-the-difference-between-and-when-used-for-division\">Previous Answer</a></p>\n"}], "owner": {"reputation": 73, "user_id": 7619556, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-xLhq18vx5zs/AAAAAAAAAAI/AAAAAAAAAnQ/4WuOeNHdviY/photo.jpg?sz=128", "display_name": "Jmilicev", "link": "https://stackoverflow.com/users/7619556/jmilicev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "closed_date": 1496274209, "answer_count": 1, "score": 0, "last_activity_date": 1496273824, "creation_date": 1496273658, "last_edit_date": 1496273783, "question_id": 44296249, "link": "https://stackoverflow.com/questions/44296249/calculating-percentage-returns-an-incorrect-result", "closed_reason": "Duplicate", "title": "Calculating percentage returns an incorrect result", "body": "<p>I am creating a game with coinflips. When all 100 coins are finished flipping I would like to calculate the percentage. The code provided below however, will either display \"hp\" or \"tp\" as 100 even though its obviously not 100%.</p>\n\n<pre><code>import random\n\nflips=100\nheads=0\ntails=0\n\nwhile flips!=0:\n\n    coinflip=random.randint(0,1)\n\n    if coinflip==0:\n        heads+=1\n    elif coinflip==1:\n        tails+=1     \n    flips-=1\n\nprint \"Heads - \"+str(heads)\nprint \"Tails - \"+str(tails)\nprint \"-----------\"\nhp=float((tails/heads)*100)\ntp=float((heads/tails)*100)\n</code></pre>\n\n<p>I might be the way python processes things? or maybe I'm just stupid and cant do math.</p>\n"}, {"tags": ["python", "loops", "nltk", "tweets", "stop-words"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496334202, "post_id": 44296168, "comment_id": 75630901, "body": "When you get to a resolution, please remember to up-vote useful things and accept your favourite answer (even if you have to write it yourself), so Stack Overflow can properly archive the question."}], "answers": [{"comments": [{"owner": {"reputation": 1149, "user_id": 5842911, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69183f53d55449640b734a49a7f6201a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5842911/kevin"}, "edited": false, "score": 0, "creation_date": 1496331478, "post_id": 44296254, "comment_id": 75629295, "body": "My confusion between indices, lists and dictionary was the problem! I&#39;ve updated my answer based on what you suggested"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1496273713, "creation_date": 1496273713, "answer_id": 44296254, "question_id": 44296168, "link": "https://stackoverflow.com/questions/44296168/removing-stopwords-from-tweets-python/44296254#44296254", "title": "Removing stopwords from tweets Python", "body": "<p>You're confused about list indexing:</p>\n\n<pre><code>for i in tweets:\n    word_tokens = word_tokenize(tweets.get(tweets['text'][i], False))\n    filtered_sentence = [w for w in word_tokens if not w in stop_words] \n    tweets['text-filtered'][i] = filtered_sentence\n</code></pre>\n\n<p>Note that <code>tweets</code> is a dictionary; <code>tweets['text']</code>list of strings.  Thus, <code>for i in tweets</code> returns all of the keys in <code>tweets</code>: the dictionary keys in arbitrary order.  It appears that \"id\" is the first one returned.  When you try to assign <code>tweets['text-filtered']['id'] = filtered_sentence</code>, there just is no such element.</p>\n\n<p>Try coding more gently: start at the inside, code a few lines at a time, and work your way up to more complex control structures.  Debug each addition before you go on.  Here, you seem to have lost your sense of what is a numeric index, what is a list, and what is a dictionary.</p>\n\n<p>Since you haven't done any visible debugging, or provided the context, I can't fix the whole program for you -- but this should get you started.</p>\n"}], "owner": {"reputation": 1149, "user_id": 5842911, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/69183f53d55449640b734a49a7f6201a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5842911/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2104, "favorite_count": 0, "accepted_answer_id": 44296254, "answer_count": 1, "score": 0, "last_activity_date": 1496331348, "creation_date": 1496273145, "last_edit_date": 1496331348, "question_id": 44296168, "link": "https://stackoverflow.com/questions/44296168/removing-stopwords-from-tweets-python", "title": "Removing stopwords from tweets Python", "body": "<p>I am trying to remove stopwords from tweets that I have imported from Twitter. After removing the stopwords, the list of strings will be placed in a new column in the same row. I can easily accomplish this one row at a time however when attempting to loop the method over the whole Data Frame does not seem to succeed.</p>\n\n<p>How do would I do this?</p>\n\n<p>Snippet of my data:</p>\n\n<pre><code>tweets['text'][0:5]\nOut[21]: \n0    Why #litecoin will go over 50 USD soon ? So ma...\n1    get 20 free #bitcoin spins at...\n2    Are you Bullish or Bearish on #BMW? Start #Tra...\n3    Are you Bullish or Bearish on the S&amp;amp;P 500?...\n4    TIL that there is a DAO ExtraBalance Refund. M...\n</code></pre>\n\n<p>The following works in a single row scenario:</p>\n\n<pre><code>from nltk.corpus import stopwords\nstop_words = set(stopwords.words('english'))\ntweets['text-filtered'] = \"\"\n\nword_tokens = word_tokenize(tweets['text'][1])\nfiltered_sentence = [w for w in word_tokens if not w in stop_words] \ntweets['text-filtered'][1] = filtered_sentence\n\ntweets['text-filtered'][1]\nOut[22]: \n['get',\n '20',\n 'free',\n '#',\n 'bitcoin',\n 'spins',\n 'withdraw',\n 'free',\n '#',\n 'btc',\n '#',\n 'freespins',\n '#',\n 'nodeposit',\n '#',\n 'casino',\n '#',\n '...',\n ':']\n</code></pre>\n\n<p>My attempt at a loop does not succeed:</p>\n\n<pre><code>for i in tweets:\n    word_tokens = word_tokenize(tweets.get(tweets['text'][i], False))\n    filtered_sentence = [w for w in word_tokens if not w in stop_words] \n    tweets['text-filtered'][i] = filtered_sentence\n</code></pre>\n\n<p>A snippet of the traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n\n  File \"&lt;ipython-input-23-6d7dace7a2d0&gt;\", line 2, in &lt;module&gt;\n    word_tokens = word_tokenize(tweets.get(tweets['text'][i], False))\n\n...\n\nKeyError: 'id'\n</code></pre>\n\n<p>Based off @Prune's reply, I have managed to correct my mistakes. Here is a potential solution:</p>\n\n<pre><code>count = 0    \nfor i in tweets['text']:\n    word_tokens = word_tokenize(i)\n    filtered_sentence = [w for w in word_tokens if not w in stop_words]\n    tweets['text-filtered'][count] = filtered_sentence\n    count += 1\n</code></pre>\n\n<p>My previous attempt was looping through the columns of the Data Frame, tweets. The first column in tweets was \"id\".</p>\n\n<pre><code>tweets.columns\nOut[30]: \nIndex(['id', 'user_bg_color', 'created', 'geo', 'user_created', 'text',\n       'polarity', 'user_followers', 'user_location', 'retweet_count',\n       'id_str', 'user_name', 'subjectivity', 'coordinates',\n       'user_description', 'text-filtered'],\n      dtype='object')\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1496273241, "post_id": 44296167, "comment_id": 75598517, "body": "First ask yourself why you wrote the value like you did and not <code>n&#225;v\u011bsy a p\u0159&#237;v\u011bsy Tlumi\u010de pro autobusy</code>"}, {"owner": {"reputation": 905, "user_id": 1267491, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/362ba7d45856130e5f8b090c7e59e577?s=128&d=identicon&r=PG", "display_name": "Mohammad Saifullah", "link": "https://stackoverflow.com/users/1267491/mohammad-saifullah"}, "reply_to_user": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1496273386, "post_id": 44296167, "comment_id": 75598553, "body": "the thing is, I get this data in a json file for some key. sometime this contain binary data like the above. I want to identify when i have binary data when I have meaningful string."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1496273872, "post_id": 44296167, "comment_id": 75598673, "body": "Are you on Python 2 or 3? Is this simply an issue of how strings are being represented in a data structure printing? What are you trying to accomplish?"}, {"owner": {"reputation": 905, "user_id": 1267491, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/362ba7d45856130e5f8b090c7e59e577?s=128&d=identicon&r=PG", "display_name": "Mohammad Saifullah", "link": "https://stackoverflow.com/users/1267491/mohammad-saifullah"}, "edited": false, "score": 0, "creation_date": 1496273968, "post_id": 44296167, "comment_id": 75598696, "body": "I am using python 2.7. I am trying to identify if a string is banary data or not."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1496274679, "post_id": 44296167, "comment_id": 75598859, "body": "No. I already know what you are <i>asking</i> I want to know what overarching thing you want to accomplish. I suspect this might be the <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1496275104, "post_id": 44296167, "comment_id": 75598970, "body": "See here&#39;s the thing. It&#39;s always &quot;binary data&quot;. The strings are meaningful. Since you are on Python 2 you&#39;ll need to explicitly use <code>unicode</code> objects decoded properly."}], "answers": [{"tags": [], "owner": {"reputation": 464, "user_id": 5803067, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24c214b5a2bb45dabb3122be0dfef109?s=128&d=identicon&r=PG", "display_name": "Aneesh Durg", "link": "https://stackoverflow.com/users/5803067/aneesh-durg"}, "is_accepted": false, "score": 2, "last_activity_date": 1496276310, "creation_date": 1496276310, "answer_id": 44296570, "question_id": 44296167, "link": "https://stackoverflow.com/questions/44296167/how-to-check-if-a-string-contains-binary-data/44296570#44296570", "title": "How to check if a string contains binary data?", "body": "<p>You can't look for the substring 'xe' because '\\xe[0-9]' is actually just a representation of a special character.</p>\n\n<p>Instead could check whether the ASCII value of each character is within desired ranges. e.g. if I only wanted alphabetical characters:</p>\n\n<pre><code>for c in input_str:\n  ascii_val = ord(c)\n  upper = range(65, 91)\n  lower = range(97, 123)\n  if ord(c) not in upper and ord(c) not in lower:\n    print(\"NON-ALPHABETICAL CHARACTER FOUND!\")\n    break\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 423, "user_id": 1236787, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d67ab5d94c2fed8ab6b727b62dc1b213?s=128&d=identicon&r=PG", "display_name": "rosuav", "link": "https://stackoverflow.com/users/1236787/rosuav"}, "is_accepted": false, "score": 0, "last_activity_date": 1496280228, "creation_date": 1496280228, "answer_id": 44297055, "question_id": 44296167, "link": "https://stackoverflow.com/questions/44296167/how-to-check-if-a-string-contains-binary-data/44297055#44297055", "title": "How to check if a string contains binary data?", "body": "<p>You could use <code>\"\\xe1\" in line</code>, which will look for the byte value 0xE1 in the line. But you really have to define \"binary data\"; what constitutes text data and what is binary? Let's suppose your definition is \"ASCII\" - that is to say, anything 0x80 or above marks it as binary. In that case:</p>\n\n<pre><code>def is_binary(line): # PEP 8 naming - snake_words not mixedCase\n    return any(ord(x) &gt; 0x80 for x in line)\n</code></pre>\n\n<p>You might also want to check if there's a \"\\x00\" in the line, as that often signifies binary data.</p>\n\n<pre><code>def is_binary(line):\n    return \"\\x00\" in line or any(ord(x) &gt; 0x80 for x in line)\n</code></pre>\n"}], "owner": {"reputation": 905, "user_id": 1267491, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/362ba7d45856130e5f8b090c7e59e577?s=128&d=identicon&r=PG", "display_name": "Mohammad Saifullah", "link": "https://stackoverflow.com/users/1267491/mohammad-saifullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2297, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1496280228, "creation_date": 1496273136, "last_edit_date": 1496277734, "question_id": 44296167, "link": "https://stackoverflow.com/questions/44296167/how-to-check-if-a-string-contains-binary-data", "title": "How to check if a string contains binary data?", "body": "<p>Consider, I have a string which has some binary data of the following form:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>n\\xe1v\\u011bsy a p\\u0159\\xedv\\u011bsy Tlumi\\u010de pro autobusy\n</code></pre>\n\n<p>Now I want to identify, if a string has binary data or not. I am trying the following code:</p>\n\n<pre><code>def isBinary(line):\n    print line\n    return \"xe\" in line\n</code></pre>\n\n<p>But this does not work. How can I effectively identify if a string contains binary data or not.</p>\n"}, {"tags": ["python", "image", "image-processing", "scikit-image"], "comments": [{"owner": {"reputation": 490, "user_id": 6943394, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/CIyf7.png?s=128&g=1", "display_name": "enterbutton", "link": "https://stackoverflow.com/users/6943394/enterbutton"}, "edited": false, "score": 0, "creation_date": 1496417802, "post_id": 44296131, "comment_id": 75669131, "body": "Maybe instead of using skimage, you may try PIL. Take a look at this <a href=\"https://stackoverflow.com/questions/7569553/working-with-tiffs-import-export-in-python-using-numpy\">link</a>"}, {"owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1497561360, "post_id": 44296131, "comment_id": 76142989, "body": "Can you upload the TIFF somewhere so we can take a look?"}], "owner": {"reputation": 11, "user_id": 7927391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hmQju.jpg?s=128&g=1", "display_name": "ArmyGuyGreenTea", "link": "https://stackoverflow.com/users/7927391/armyguygreentea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 625, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496272728, "creation_date": 1496272728, "question_id": 44296131, "link": "https://stackoverflow.com/questions/44296131/image-collection-oserror-cannot-identify-image-file", "title": "Image Collection OSError: cannot identify image file", "body": "<p>I'm trying to view a series of tiff images I have saved in an array (background); I've been trying to use the scikit-image module to do this and have succeeded (I believe) in creating an image collection using the imread_collection function. However, whenever I try to view the images using imshow_collection, I get the following error:</p>\n\n<pre><code>OSError: cannot identify image file &lt;_io.BufferedReader name='Y:/Documents/Research/Film/11_21_16_background_film003.tif'&gt;\n</code></pre>\n\n<p>I've looked for similar OSErrors, but none of them seem to deal with image collections (just single images); I apologize if this is a trivial error on my part, but I would appreciate any help or suggestions as to what's going on. I've included some of my code below.</p>\n\n<pre><code>    import os, re\n\n    from skimage import io\n\n\n    background = []\n    calibration = []\n    profiles = []\n\n    #sorting images into background films, calibration films, and profile films.\n    for file in os.listdir('Y:/Documents/Research/Film/'):\n        if filename.endswith('.tif'):\n            if re.search(r'background', file):\n                background.append(file)\n            elif re.search(r'calibration', file):\n                calibration.append(file)\n            elif re.search(r'profile', file):\n                profiles.append(file)\n            else:\n                pass\n\n\n    background_imgs = io.imread_collection(background)\n    io.imshow_collection(background_imgs)\n</code></pre>\n"}, {"tags": ["python", "api"], "comments": [{"owner": {"reputation": 511, "user_id": 1065813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417c69d4baa2d4c82acf6f21965a4066?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1065813/jeremy"}, "edited": false, "score": 1, "creation_date": 1496272548, "post_id": 44296094, "comment_id": 75598315, "body": "I think we might need a sample response or server code for this."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1496272880, "post_id": 44296094, "comment_id": 75598408, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/on-topic\">on topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> apply here."}, {"owner": {"reputation": 2093, "user_id": 7695039, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7630a58c1bb8abc718c3458ff1d08af4?s=128&d=identicon&r=PG&f=1", "display_name": "johnashu", "link": "https://stackoverflow.com/users/7695039/johnashu"}, "edited": false, "score": 0, "creation_date": 1496273540, "post_id": 44296094, "comment_id": 75598590, "body": "i hope this makes sense! apologies for the timewaste.. im getting there.."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1496274069, "post_id": 44296094, "comment_id": 75598725, "body": "something like <code>[e[&#39;CategoryID&#39;] for e in d[&#39;CustomCategories&#39;][&#39;CustomCategory&#39;]]</code> gets <code>[&#39;1&#39;, &#39;11400059015&#39;, &#39;11400060015 &#39;, &#39;11400061015&#39;]</code>"}, {"owner": {"reputation": 16397, "user_id": 66349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c13b93d65bbb06c10fc349fa36b67dc?s=128&d=identicon&r=PG", "display_name": "Peter Gibson", "link": "https://stackoverflow.com/users/66349/peter-gibson"}, "edited": false, "score": 1, "creation_date": 1496274733, "post_id": 44296094, "comment_id": 75598871, "body": "Thanks for updating the post, don&#39;t be too disheartened by the down votes - posting good questions is a skill you will pick up quickly"}, {"owner": {"reputation": 2093, "user_id": 7695039, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7630a58c1bb8abc718c3458ff1d08af4?s=128&d=identicon&r=PG&f=1", "display_name": "johnashu", "link": "https://stackoverflow.com/users/7695039/johnashu"}, "edited": false, "score": 0, "creation_date": 1496274960, "post_id": 44296094, "comment_id": 75598928, "body": "As long as there are people to keep things right... humanity will progress."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1496275901, "post_id": 44296094, "comment_id": 75599149, "body": "Did you get it working @johnashu? I posted a line of code in a comment above that should work. <code>[e[&#39;CategoryID&#39;] for e in d[&#39;Store&#39;][&#39;CustomCategories&#39;][&#39;CustomCategory&#39;]]</code> gives me <code>[&#39;1&#39;, &#39;11400059015&#39;, &#39;11400060015 &#39;, &#39;11400061015&#39;]</code>"}, {"owner": {"reputation": 2093, "user_id": 7695039, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7630a58c1bb8abc718c3458ff1d08af4?s=128&d=identicon&r=PG&f=1", "display_name": "johnashu", "link": "https://stackoverflow.com/users/7695039/johnashu"}, "edited": false, "score": 0, "creation_date": 1496276983, "post_id": 44296094, "comment_id": 75599369, "body": "I am afraid i cannot comprehend it in a python sense.. My brain is out of fuel~! I really really really want to return what you returned!"}, {"owner": {"reputation": 2093, "user_id": 7695039, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7630a58c1bb8abc718c3458ff1d08af4?s=128&d=identicon&r=PG&f=1", "display_name": "johnashu", "link": "https://stackoverflow.com/users/7695039/johnashu"}, "edited": false, "score": 0, "creation_date": 1496277193, "post_id": 44296094, "comment_id": 75599424, "body": "i have updated the question"}, {"owner": {"reputation": 16397, "user_id": 66349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c13b93d65bbb06c10fc349fa36b67dc?s=128&d=identicon&r=PG", "display_name": "Peter Gibson", "link": "https://stackoverflow.com/users/66349/peter-gibson"}, "edited": false, "score": 0, "creation_date": 1496277286, "post_id": 44296094, "comment_id": 75599451, "body": "Can you post the full output of <code>api.response.dict()</code>"}, {"owner": {"reputation": 2093, "user_id": 7695039, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7630a58c1bb8abc718c3458ff1d08af4?s=128&d=identicon&r=PG&f=1", "display_name": "johnashu", "link": "https://stackoverflow.com/users/7695039/johnashu"}, "edited": false, "score": 0, "creation_date": 1496277450, "post_id": 44296094, "comment_id": 75599497, "body": "edited to add he full response reply"}], "answers": [{"tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": true, "score": 1, "last_activity_date": 1496285561, "creation_date": 1496285561, "answer_id": 44297737, "question_id": 44296094, "link": "https://stackoverflow.com/questions/44296094/i-need-specific-data-from-a-dictionary-inside-a-dictionary-from-json/44297737#44297737", "title": "I need specific data from a Dictionary inside a Dictionary from JSON", "body": "<p>Assuming you only need to go one level deep, you can do:</p>\n\n<h3>Code:</h3>\n\n<pre><code>cids = [x for x in sum(\n    [(d.get('CategoryID'), d.get('ChildCategory', {}).get('CategoryID'))\n     for d in data], ()) if x]\n</code></pre>\n\n<h3>How?</h3>\n\n<p>By iterating over the list, you can extract tuples of the fields (<code>d.get(...)</code>) and then use <code>sum()</code> to combine the tuples, and then finally drop any <code>None</code> (missing) elements.</p>\n\n<h3>Test Code:</h3>\n\n<pre><code>data = [{\n    'CategoryID': '20004239012',\n    'Name': 'Home Decor',\n    'Order': '1',\n    'ChildCategory': {\n        'CategoryID': '20215926012',\n        'Name': 'Furniture',\n        'Order': '1'\n    }\n},\n{\n    'CategoryID': '20004240012',\n    'Name': 'Christmas Decorations',\n    'Order': '2'\n},\n]\n\ncids = [x for x in sum(\n    [(d.get('CategoryID'), d.get('ChildCategory', {}).get('CategoryID'))\n     for d in data], ()) if x]\n\nprint(cids)\n</code></pre>\n\n<h2>Results:</h2>\n\n<pre><code>['20004239012', '20215926012', '20004240012']\n</code></pre>\n"}], "owner": {"reputation": 2093, "user_id": 7695039, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7630a58c1bb8abc718c3458ff1d08af4?s=128&d=identicon&r=PG&f=1", "display_name": "johnashu", "link": "https://stackoverflow.com/users/7695039/johnashu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "accepted_answer_id": 44297737, "answer_count": 1, "score": -3, "last_activity_date": 1504265952, "creation_date": 1496272458, "last_edit_date": 1504265952, "question_id": 44296094, "link": "https://stackoverflow.com/questions/44296094/i-need-specific-data-from-a-dictionary-inside-a-dictionary-from-json", "title": "I need specific data from a Dictionary inside a Dictionary from JSON", "body": "<p>I wish to extract ONLY the catergory ID's from this JSON API response.</p>\n\n<p>I currently have the following code where <code>dictstr</code> is the returned JSON</p>\n\n<pre><code>print(dictstr['Store']['CustomCategories']['CustomCategory'][0:-1])\n</code></pre>\n\n<p>This Prints out the following JSON:</p>\n\n<pre><code>{  \n    'CategoryID':'20004239012',\n    'Name':'Home Decor',\n    'Order':'1',\n    'ChildCategory':{  \n        'CategoryID':'20215926012',\n        'Name':'Furniture',\n        'Order':'1'\n    }\n},\n{  \n    'CategoryID':'20004240012',\n    'Name':'Christmas Decorations',\n    'Order':'2'\n},\n</code></pre>\n\n<p>The desired output I require is only the <code>CatergoryID</code> and <code>Name</code> key/values, like so:</p>\n\n<pre><code>['1', 'Other', '20004239012', 'Home Decor', '20215926012', 'Furniture', \n'20004240012', 'Christmas Decorations', '20270732012', 'Candle stands', \n'20270902012', 'Fireplace tools']\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "message-queue", "python-multiprocessing"], "comments": [{"owner": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "edited": false, "score": 0, "creation_date": 1496273262, "post_id": 44296051, "comment_id": 75598523, "body": "Are you running this on Windows?"}, {"owner": {"reputation": 3258, "user_id": 1993206, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LhdIi.jpg?s=128&g=1", "display_name": "Aleksey Bilogur", "link": "https://stackoverflow.com/users/1993206/aleksey-bilogur"}, "reply_to_user": {"reputation": 13578, "user_id": 1328439, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CuI4k.jpg?s=128&g=1", "display_name": "Dmitri Chubarov", "link": "https://stackoverflow.com/users/1328439/dmitri-chubarov"}, "edited": false, "score": 0, "creation_date": 1496273661, "post_id": 44296051, "comment_id": 75598619, "body": "No, the latest Ubuntu 16."}], "owner": {"reputation": 3258, "user_id": 1993206, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LhdIi.jpg?s=128&g=1", "display_name": "Aleksey Bilogur", "link": "https://stackoverflow.com/users/1993206/aleksey-bilogur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496277790, "creation_date": 1496272230, "last_edit_date": 1496277790, "question_id": 44296051, "link": "https://stackoverflow.com/questions/44296051/operation-in-a-multiprocessing-queue-hanging-when-given-certain-tasks-to-do", "title": "Operation in a multiprocessing queue hanging when given certain tasks to do", "body": "<p>I have a pair of tiny Python modules. One is <a href=\"https://github.com/ResidentMario/datafy\" rel=\"nofollow noreferrer\"><code>datafy</code></a>, a module for reading in references to data of various formats. The other is <a href=\"https://github.com/ResidentMario/limited-process\" rel=\"nofollow noreferrer\"><code>limited-process</code></a>, a module for calling some function in Python with a timeout in case it takes too long.</p>\n\n<p><code>limited-process</code> is a very simple <code>multiprocessing</code> wrapper:</p>\n\n<pre><code>def limited_get(uri, q, timeout=60,\n                callback=lambda uri: uri,\n                **kwargs):\n    p = mp.Process(target=callback, args=(uri, q, kwargs))\n    p.start()\n    p.join(timeout)\n    p.terminate()\n    # If the process succeeded the exitcode is 0.\n    return q.get() if p.exitcode == 0 else None\n</code></pre>\n\n<p>What I would like to do is use the one with the other: wrap a <code>datafy.get</code> in a <code>limited_process</code> in order to keep it running within a certain threshold of time.</p>\n\n<p>I am using it like so:</p>\n\n<pre><code>import multiprocessing as mp\nlimited_process.limited_get(\n            uri,\n            mp.Queue(),\n            callback=lambda uri, q, kwargs: q.put(datafy.get(uri, **kwargs)),\n            timeout=10)\n</code></pre>\n\n<p>However, what I am finding is that this function works in certain cases, but not in others. When I pass it <a href=\"https://data.cityofnewyork.us/api/views/kku6-nxdu/rows.csv?accessType=DOWNLOAD\" rel=\"nofollow noreferrer\">this URL</a>, everything works as I expect it to. However, when I pass it <a href=\"https://data.cityofnewyork.us/api/views/q68s-8qxv/files/511dbe78-65f3-470f-9cc8-c1415f75a6e6?filename=AnnAvg1_7_300mSurfaces.zip\" rel=\"nofollow noreferrer\">this one</a>, the process hangs.</p>\n\n<p>The difference is that while the first download is a CSV file, the second is in an archival format. <code>datafy</code> treats these differently (<a href=\"https://github.com/ResidentMario/datafy/blob/master/datafy/datafy.py\" rel=\"nofollow noreferrer\">source</a>), performing a lot of filesystem stuff in the latter case.</p>\n\n<p>Does anyone have any insight into what is going on here? I am beginning to wonder whether or not I doing things that are not \"allowed\" while inside of a process in the latter case, but not in the former.</p>\n"}, {"tags": ["jquery", "python", "ajax", "request"], "answers": [{"comments": [{"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 0, "creation_date": 1496273074, "post_id": 44296103, "comment_id": 75598463, "body": "Thanks! Now I don&#39;t have to spend hours trying to find an &quot;official&quot; way of fixing this and can just go straight to removing the brackets manually."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1496272528, "creation_date": 1496272528, "answer_id": 44296103, "question_id": 44296041, "link": "https://stackoverflow.com/questions/44296041/strange-behavior-post-adds-brackets-to-int-value/44296103#44296103", "title": "Strange behavior, POST adds brackets to int value", "body": "<p>The representation of an array in a URL-encoded parameter uses <code>[]</code> after the parameter name. If you have a parameter like:</p>\n\n<pre><code>param: [ \"value1\", \"value2\", \"value3\" ]\n</code></pre>\n\n<p>it's encoded as:</p>\n\n<pre><code>param[]=value1&amp;param[]=value2&amp;param[]=value3\n</code></pre>\n\n<p>How this gets decoded on the server depends on the language and/or framework. PHP automatically removes the <code>[]</code> when it generates the keys for <code>$_POST</code> or <code>$_GET</code>. Apparently Python does not do this, so the dictionary keys have <code>[]</code> appended.</p>\n"}], "owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 44296103, "answer_count": 1, "score": 0, "last_activity_date": 1496272528, "creation_date": 1496272157, "question_id": 44296041, "link": "https://stackoverflow.com/questions/44296041/strange-behavior-post-adds-brackets-to-int-value", "title": "Strange behavior, POST adds brackets to int value", "body": "<p>I'm trying to send a dict through a POST request where the keys are int's and the values are lists but when the dict is received on the server the int's have been converted to unicode and the keys have brackets on the end of them.</p>\n\n<p>Dict before POST</p>\n\n<pre><code>{157: ['foo', 'bar'], 154: ['foo']}\n</code></pre>\n\n<p>Dict after POST</p>\n\n<pre><code>{'157[]': ['foo', 'bar'], '154[]': ['foo']} \n</code></pre>\n\n<p>ajax code</p>\n\n<pre><code>$.ajax({\n    url: url,\n    type: 'POST',\n    dataType: 'json',\n    data: dict,\n    ...\n });\n</code></pre>\n\n<p>How I receive the data</p>\n\n<pre><code>dict = request.POST\n</code></pre>\n\n<p>Then I loop over it with <code>dict.iteritems()</code></p>\n\n<p>Does anyone know why those brackets are there after the POST?</p>\n"}, {"tags": ["python", "django", "segmentation-fault", "z3", "z3py"], "owner": {"reputation": 143, "user_id": 6190411, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/978481988853511/picture?type=large", "display_name": "Eugenia Kim", "link": "https://stackoverflow.com/users/6190411/eugenia-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496274618, "creation_date": 1496271921, "last_edit_date": 1496274618, "question_id": 44295997, "link": "https://stackoverflow.com/questions/44295997/python-django-z3-segmentation-fault", "title": "Python Django + Z3 Segmentation fault", "body": "<p>I am trying to build a Django web application using Python 3.4.3 and Anaconda virtual environments.</p>\n\n<p>The application involves using ANTLR and the Z3 proof checker.</p>\n\n<p>I am getting a segmentation fault error deterministically (every run) somewhere in the Z3 code (discovered this by having prints in the code). The errors occur for any input given <strong>when sending the requests via the Django web server</strong>. Everything works fine if I just run the ANTLR + Z3 function I am interested in with the same input.</p>\n\n<p>Also, the seg faults occur after one commit which seems to not affect the file in question in any way.</p>\n\n<p>Relevant files presented below:</p>\n\n<pre><code># Types.py\nimport uuid\nimport sys\nsys.path.insert(0, '/Users/username/project_name/theorem_prover')\n\nfrom rest_framework import serializers\n\nfrom app.api.models.Proof import Proof\nfrom django.db import models\n\nfrom Z3TypeBuilder import Z3TypeBuilder\n\n\nclass Type(models.Model):\n    proofId = models.ForeignKey(Proof)\n    text = models.CharField(max_length=300)\n\n    @classmethod\n        def is_valid(cls, types):\n        type_builder = Z3TypeBuilder(dict(), dict())\n        valid = type_builder.visitInputArray(types)\n        return valid\n\n    @classmethod\n    def get_maps(cls, types):\n        param_map = dict()\n        predicate_map = dict()\n        type_builder = Z3TypeBuilder(param_map, predicate_map)\n        valid = type_builder.visitInputArray(types)\n        return valid, param_map, predicate_map\n\n\n    class TypeSerializer(serializers.ModelSerializer):\n        class Meta:\n            model = Type\n            fields = ('id', 'proofId', 'text')\n</code></pre>\n\n<p>The one above is the file representing the model for Types</p>\n\n<pre><code>import logging\n\nfrom django.views.decorators.csrf import csrf_exempt\nfrom rest_framework import viewsets, status\nfrom rest_framework.response import Response\nfrom rest_framework.decorators import authentication_classes\nfrom rest_framework.authentication import BasicAuthentication\n\nfrom app.api.models.Types import Type, TypeSerializer\n\nfrom app.api.csrf import CsrfExemptSessionAuthentication\nfrom app.api.utils import Z3Exception\n\nlogger = logging.getLogger(__name__)\n\n@authentication_classes((CsrfExemptSessionAuthentication, BasicAuthentication))\nclass TypeViewSet(viewsets.ModelViewSet):\n    queryset = Type.objects.all()\n    serializer_class = TypeSerializer\n\n    @csrf_exempt\n    def create(self, request):\n        serializer = TypeSerializer(data=request.data)\n        if serializer.is_valid(raise_exception=True):\n            prev_query = Type.objects.filter(proofId=request.data['proofId'])\n            types = [t['text'] for t in TypeSerializer(prev_query, many=True).data]\n            types.append(serializer.validated_data['text'])\n            if Type.is_valid(types):\n                serializer.save()\n                return Response(serializer.data, status=status.HTTP_200_OK)\n            else:\n                #TODO\n                raise Z3Exception('Syntax Error', 'text', status.HTTP_400_BAD_REQUEST)\n        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)\n\n    def list(self, request):\n        query = Type.objects.filter(proofId=request.query_params['proofId'])\n        serializer = TypeSerializer(query, many=True)\n        return Response(serializer.data)\n</code></pre>\n\n<p>And here is the ANTLR + Z3 file where things crash:</p>\n\n<pre><code>import sys\nfrom antlr4 import *\n\nfrom error.folTypeSyntaxErrorListener import folTypeSyntaxErrorListener\nfrom folTypeLexer import folTypeLexer\nfrom folTypeParser import folTypeParser\nfrom folTypeVisitor import folTypeVisitor\nfrom z3 import *\n\n class Z3TypeBuilder(folTypeVisitor):\n\n    def __init__(self, param_map, predicate_map):\n\n        # from user's type to z3 type sort\n        self.__type_map = dict()\n\n        # from user's predicate type to z3 function\n        self.predicate_map = predicate_map\n\n        # predicate tuple's arguments' z3 type sorts\n        self.param_map = param_map\n\n    # Visit a parse tree produced by folTypeParser#init.\n    def visitInit(self, ctx: folTypeParser.InitContext):\n        for d in ctx.declaration():\n            self.visit(d)\n\n    # Visit a parse tree produced by folTypeParser#declaration.\n    def visitDeclaration(self, ctx: folTypeParser.DeclarationContext):\n        #print(\"visitDeclaration\")\n        declaration = self.predicate_map.get(ctx.PREPOSITION().getText())\n        if declaration is None:\n            children = self.visit(ctx.predicateType())\n            self.param_map[ctx.PREPOSITION().getText()] = children\n            # append BoolSort() after putting in param_map\n            children.append(BoolSort())\n            # print(children)\n            declaration = Function(ctx.PREPOSITION().getText(), *children)\n            self.predicate_map[ctx.PREPOSITION().getText()] = declaration\n        return declaration\n\n    # Visit a parse tree produced by folTypeParser#predicateType.\n    def visitPredicateType(self, ctx: folTypeParser.PredicateTypeContext):\n        print(\"visitPredicateType\")\n        return list(map((lambda s: self.visit(s)), ctx.sort()))\n\n    # Visit a parse tree produced by folTypeParser#sort.\n    def visitSort(self, ctx: folTypeParser.SortContext):\n        print(\"visitSort\")\n        if ctx.INT():\n            return IntSort()\n        elif ctx.BOOL():\n            return BoolSort()\n        else:\n            type = self.__type_map.get(ctx.TYPE().getText()[1:])\n            if type is None:\n                myVarThatWorks = ctx.TYPE().getText()[1:]\n                print(\"HERE IS MY VAR\")\n                print(myVarThatWorks)\n                type = DeclareSort(myVarThatWorks)\n                print(\"I WILL NEVER GET HERE\")\n                self.__type_map[ctx.TYPE().getText()[1:]] = type\n            return type\n\n    def visitInputArray(self, array):\n        for i in array:\n            input = InputStream(i)\n            lexer = folTypeLexer(input)\n            stream = CommonTokenStream(lexer)\n            parser = folTypeParser(stream)\n            errorListener = folTypeSyntaxErrorListener()\n            parser.removeErrorListeners()\n            parser.addErrorListener(errorListener)\n\n            # Generate Parse tree and check for syntax errors\n            tree = parser.init()\n            if not errorListener.isGood():\n                return False\n\n            self.visit(tree)\n        return True\n\n    def visitInputFile(self, file):\n        lexer = folTypeLexer(file)\n        stream = CommonTokenStream(lexer)\n        parser = folTypeParser(stream)\n\n        tree = parser.init()\n        self.visit(tree)\n\ndef main(argv):\n    type_builder = Z3TypeBuilder()\n    type_builder.visitInputFile(FileStream(argv[1]))\n\nif __name__ == '__main__':\n    main(sys.argv)\n</code></pre>\n\n<p>And now the fun thing is that if you check the git diff in the picture (that's the diff in between the last commit and the commit that works, none of the files which might seem relevant is affected (the whole thing dies upon a post request to create a new type).</p>\n\n<p><a href=\"https://i.stack.imgur.com/BaGNv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BaGNv.png\" alt=\"Diff 1\"></a>\n<a href=\"https://i.stack.imgur.com/YywhR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YywhR.png\" alt=\"Diff 2\"></a></p>\n\n<p>The other changes in that commit are all related to frontend. I tried to investigate and I could find nothing that could in any way cause the failure. Any help would be greatly appreaciated!</p>\n\n<p>Thank you!</p>\n\n<p>IMPORTANT LATER EDIT: The error disappeared once z3types was no longer imported in <code>ToShowViewSet.py</code></p>\n\n<p>Finding the cause would be great!</p>\n"}, {"tags": ["python", "loops", "input", "kivy", "barcode"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1496272459, "post_id": 44295980, "comment_id": 75598289, "body": "Have you tried <code>sys.stdin.read()</code>? It does not block but might also return nothing."}, {"owner": {"reputation": 11, "user_id": 7892070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c66a1b3d135b7f790971c5b88380a55?s=128&d=identicon&r=PG&f=1", "display_name": "Amon Tzar", "link": "https://stackoverflow.com/users/7892070/amon-tzar"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1496272476, "post_id": 44295980, "comment_id": 75598296, "body": "Also I&#39;m trying to use the code provided (by the scanner) to update a label, I have no problem doing this but I need to get the code to update the label, I don&#39;t know how to do this without using raw_input or sys.stdin.readline(). Also the code is printed in a TextInput text if it is focused when scanned, if that helps."}, {"owner": {"reputation": 11, "user_id": 7892070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c66a1b3d135b7f790971c5b88380a55?s=128&d=identicon&r=PG&f=1", "display_name": "Amon Tzar", "link": "https://stackoverflow.com/users/7892070/amon-tzar"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1496272623, "post_id": 44295980, "comment_id": 75598331, "body": "Yes, I initially used sys.std.readline() but the app stopped if there was no scanning, as opposed to returning nothing as you suggest."}, {"owner": {"reputation": 11, "user_id": 7892070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c66a1b3d135b7f790971c5b88380a55?s=128&d=identicon&r=PG&f=1", "display_name": "Amon Tzar", "link": "https://stackoverflow.com/users/7892070/amon-tzar"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1496272993, "post_id": 44295980, "comment_id": 75598438, "body": "If I use sys.stdin.read() or readline() the app doesn&#39;t even work. if I use raw_input the app freezes while waiting for input and doesn&#39;t even read the input. I guess because of what I said first about the kivy main loop which is clear in the Kivy doc."}, {"owner": {"reputation": 11, "user_id": 7892070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c66a1b3d135b7f790971c5b88380a55?s=128&d=identicon&r=PG&f=1", "display_name": "Amon Tzar", "link": "https://stackoverflow.com/users/7892070/amon-tzar"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1496273205, "post_id": 44295980, "comment_id": 75598505, "body": "@KlausD. Is there a way to make sys.stdin.read() work as you suggest i.e. just using the value when a product is scanned? I tried using if sys.stdin.read != None: , if sys.stdin.read() != &quot;&quot;: and similar but didn&#39;t work. Don&#39;t know if that evaluation is accurate either. Also thank you very much for your help."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7892070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c66a1b3d135b7f790971c5b88380a55?s=128&d=identicon&r=PG&f=1", "display_name": "Amon Tzar", "link": "https://stackoverflow.com/users/7892070/amon-tzar"}, "edited": false, "score": 1, "creation_date": 1496330230, "post_id": 44299554, "comment_id": 75628314, "body": "Hello @Juggernaut thanks for the help. I have a question, where does the carts variable come from? Also, I have noticed that the input (product code) from the scanned barcode goes to whatever application is in focus at the moment i.e. to terminal if im on the terminal, to text editor if im in text editor, and to any text input (ex. a ivy text input, the stack overflow comment box, etc) if it is focused, BUT if there is no text input FOCUSED nothing happens, would I have to use a text input focused to get the code or will the input listening work even if there is no text input field focused?"}, {"owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "reply_to_user": {"reputation": 11, "user_id": 7892070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c66a1b3d135b7f790971c5b88380a55?s=128&d=identicon&r=PG&f=1", "display_name": "Amon Tzar", "link": "https://stackoverflow.com/users/7892070/amon-tzar"}, "edited": false, "score": 0, "creation_date": 1496331734, "post_id": 44299554, "comment_id": 75629458, "body": "@AmonTzar I fixed the <code>carts</code> name. It was due to copying from the project I mentioned. Sorry. But why do you want it to write the input to the focused input? I mean why did you program it like this at the firsthand?"}, {"owner": {"reputation": 11, "user_id": 7892070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c66a1b3d135b7f790971c5b88380a55?s=128&d=identicon&r=PG&f=1", "display_name": "Amon Tzar", "link": "https://stackoverflow.com/users/7892070/amon-tzar"}, "edited": false, "score": 0, "creation_date": 1496336543, "post_id": 44299554, "comment_id": 75632096, "body": "The TextInput was an idea as using raw_input and read() is being problematic, but initially I wanted (and I would prefer) to use the input as a variable to use it, I ultimately just want to show the scanned code into a kivy label, of course then when my app is more advanced use it for database operations etc... What I&#39;m having trouble with is making the app just use any code scanned at any time without any problem."}, {"owner": {"reputation": 11, "user_id": 7892070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c66a1b3d135b7f790971c5b88380a55?s=128&d=identicon&r=PG&f=1", "display_name": "Amon Tzar", "link": "https://stackoverflow.com/users/7892070/amon-tzar"}, "edited": false, "score": 0, "creation_date": 1496336553, "post_id": 44299554, "comment_id": 75632099, "body": "I&#39;m testing your code and will implement it into the app, I just got a meeting right now and will continue afterwards and update the results. Thank you a lot. One last question, will the scanned code be feed into the &#39;data&#39; variable? as I have tried so far (I tried printing the data variable) it seems to not be getting the scanned code, or maybe I&#39;m not understanding perfectly the code. Again, thanks a lot. I feel I&#39;m getting closer to the solution."}], "tags": [], "owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "is_accepted": false, "score": 0, "last_activity_date": 1496331562, "last_edit_date": 1496331562, "creation_date": 1496296776, "answer_id": 44299554, "question_id": 44295980, "link": "https://stackoverflow.com/questions/44295980/is-there-a-way-to-use-raw-input-or-equivalent-in-a-kivy-application-without-in/44299554#44299554", "title": "Is there a way to use raw_input (or equivalent) in a kivy application without interrupting the main loop?", "body": "<p>I once encountered a similar scenario (Waiting for input from RFID reader).\nMy final solution was to wait for the input in another daemon thread and populate any possible input to a <code>Queue()</code> and then reading from that <code>Queue()</code> in regular intervals using Kivy clock . Here is a sample code.</p>\n\n<pre><code>from queue import Queue, Empty\n\ntemp_queue = Queue()\nREAD_CARD_SLEEP_TIMEOUT = 5  # Seconds\nEVENT_INTERVAL_RATE = 5\nQUEUE_TIMEOUT = 1\n\ndef wait_for_blocking_io():\n    while True:\n        # Check whether input exists\n        data = handler.fetch_data()\n        if data:\n            temp_queue.put(data)\n        time.sleep(READ_CARD_SLEEP_TIMEOUT)\n\nio_wait_thread = Thread(name='io_wait', target=wait_for_blocking_io, daemon=True)\nio_wait_thread.start()\n</code></pre>\n\n<p>Then in your main app ask the kivy <code>Clock()</code> to check for possible data in <code>temp_queue</code>. Example code:</p>\n\n<pre><code>class MainScreen(Screen):\n\n    def __init__(self):\n        super(MainScreen, self).__init__()\n        self.event = Clock.schedule_interval(self.listen_for_data, EVENT_INTERVAL_RATE)\n\n    # noinspection PyUnusedLocal\n    def listen_for_data(self, dt):\n        try:\n            data = temp_queue.get(timeout=QUEUE_TIMEOUT)\n            # Do whatever you want with data\n        except Empty:\n            pass\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7892070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c66a1b3d135b7f790971c5b88380a55?s=128&d=identicon&r=PG&f=1", "display_name": "Amon Tzar", "link": "https://stackoverflow.com/users/7892070/amon-tzar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496331562, "creation_date": 1496271791, "question_id": 44295980, "link": "https://stackoverflow.com/questions/44295980/is-there-a-way-to-use-raw-input-or-equivalent-in-a-kivy-application-without-in", "title": "Is there a way to use raw_input (or equivalent) in a kivy application without interrupting the main loop?", "body": "<p>I know any loop in kivy interrupts the main loop and causes problems. I'm writing and application which needs to wait for input on the console sent via a barcode scanner which sends the code as a string on the terminal once it is scanned, the problem is if I use raw_input then the main kivy loop is interrupted, so is there a way to do this without conflicting the kivy application? Any help is highly appreciated, thank you very much.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "is_accepted": false, "score": 0, "last_activity_date": 1496271719, "creation_date": 1496271719, "answer_id": 44295964, "question_id": 44295930, "link": "https://stackoverflow.com/questions/44295930/python-usage-summaryfile-file-file/44295964#44295964", "title": "Python usage: [--summaryfile] file [file ...]", "body": "<p>In command line application documentation, square brackets usually denote optional arguments (that goes beyond Python).</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 8094692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf3d2a4f0c3e7320eacf392f20c6dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Tong Li", "link": "https://stackoverflow.com/users/8094692/tong-li"}, "edited": false, "score": 0, "creation_date": 1496273861, "post_id": 44295966, "comment_id": 75598668, "body": "Thank you for your answer! Is it the same with &quot;[file...]&quot;? What&#39;s the difference between the &quot;file&quot; in the middle and the &quot;[file...]&quot; in the end? Why there are &quot;...&quot; in the brackets in the end?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 3, "user_id": 8094692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf3d2a4f0c3e7320eacf392f20c6dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Tong Li", "link": "https://stackoverflow.com/users/8094692/tong-li"}, "edited": false, "score": 0, "creation_date": 1496273950, "post_id": 44295966, "comment_id": 75598693, "body": "Yes.  <code>file</code> outside the brackets means that the first one is required; the ellipsis means that you can have as many additional files as you want; it denotes a series of arbitrary length."}, {"owner": {"reputation": 3, "user_id": 8094692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf3d2a4f0c3e7320eacf392f20c6dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Tong Li", "link": "https://stackoverflow.com/users/8094692/tong-li"}, "edited": false, "score": 0, "creation_date": 1496275451, "post_id": 44295966, "comment_id": 75599042, "body": "So can I say that &quot;file&quot; and &quot;[file...]&quot; are actually the same thing, not like upper and lower directories? In that case it can actually be written as &#39;file1 [file2 file3 file4...]&#39;, is that correct?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 3, "user_id": 8094692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf3d2a4f0c3e7320eacf392f20c6dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Tong Li", "link": "https://stackoverflow.com/users/8094692/tong-li"}, "edited": false, "score": 0, "creation_date": 1496275512, "post_id": 44295966, "comment_id": 75599059, "body": "Yes, that 1-2-3-4 syntax is just right.  Merely <code>[file ...]</code> would mean that you don&#39;t <i>have</i> to specify any files at all."}, {"owner": {"reputation": 3, "user_id": 8094692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf3d2a4f0c3e7320eacf392f20c6dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Tong Li", "link": "https://stackoverflow.com/users/8094692/tong-li"}, "edited": false, "score": 0, "creation_date": 1496275608, "post_id": 44295966, "comment_id": 75599075, "body": "Cool! Thank you very much!"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1496271728, "creation_date": 1496271728, "answer_id": 44295966, "question_id": 44295930, "link": "https://stackoverflow.com/questions/44295930/python-usage-summaryfile-file-file/44295966#44295966", "title": "Python usage: [--summaryfile] file [file ...]", "body": "<p>It means that those parts are optional.  You can supply or omit the option name <code>--summaryfile</code>.  Then you supply a list of as many files as you want.</p>\n\n<p>This is <em>ancient</em> command description syntax, going back to the days of IBM mainframe operating systems in the 1960s.  Most documentation assumes that you've seen (or can find) a description somewhere, and most supply it in the front of the global reference manual ... wherever that might be.</p>\n"}], "owner": {"reputation": 3, "user_id": 8094692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf3d2a4f0c3e7320eacf392f20c6dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Tong Li", "link": "https://stackoverflow.com/users/8094692/tong-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 44295966, "answer_count": 2, "score": 0, "last_activity_date": 1496271728, "creation_date": 1496271521, "question_id": 44295930, "link": "https://stackoverflow.com/questions/44295930/python-usage-summaryfile-file-file", "title": "Python usage: [--summaryfile] file [file ...]", "body": "<p>Greeting all!</p>\n\n<p>I'm learning Google's Python class on my own. I have one quick question about the Baby Names Exercise.</p>\n\n<p>In the py file provided, there are lines like this:\nif not args:\n    print 'usage: [--summaryfile] file [file ...]'\n    sys.exit(1)</p>\n\n<p>I can understand it wants to show you what to type in cmd when using the code. However the format of \"[--summaryfile] file [file ...]\" confuses me. What does the square brackets in \"[--summaryfile]\" and \"[file ...]\" mean? Lists? Or something else? What should I type in the Windows cmd when running the code? Some examples would be very helpful.</p>\n\n<p>Thank you very much in advance!</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1496274450, "post_id": 44295919, "comment_id": 75598818, "body": "As an aside, you should do your best to avoid working with <code>dtype=object</code> arrays. They are essentially stunted Python lists. Perhaps you can try a sized string dtype?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1496274631, "post_id": 44295919, "comment_id": 75598853, "body": "NumPy also has <a href=\"https://docs.scipy.org/doc/numpy/reference/maskedarray.generic.html\" rel=\"nofollow noreferrer\">MaskedArrays</a>, they might not be totally easy to grasp initially. But especially if you have some &quot;invalid&quot; entries these are much faster than object arrays."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 7, "last_activity_date": 1501885427, "last_edit_date": 1501885427, "creation_date": 1496271674, "answer_id": 44295958, "question_id": 44295919, "link": "https://stackoverflow.com/questions/44295919/elementwise-comparison-to-none-with-ndarray-of-object-dtype/44295958#44295958", "title": "Elementwise comparison to None with ndarray of object dtype", "body": "<p>In NumPy 1.12 and earlier, you'll need to explicitly call <code>numpy.equal</code> to get a broadcasted equality comparison. Leave a comment, so future readers understand why you're doing it:</p>\n\n<pre><code># Comparisons to None with == don't broadcast (yet, as of NumPy 1.12).\n# We need to use numpy.equal explicitly.\nnumpy.equal(x, None)\n</code></pre>\n\n<p>In NumPy 1.13 and later, <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/release.html#futurewarning-to-changed-behavior\" rel=\"nofollow noreferrer\"><code>x == None</code> will give you a broadcasted equality comparison</a>, but you can still use <code>numpy.equal(x, None)</code> if you want backward compatibility with earlier versions.</p>\n"}, {"comments": [{"owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "edited": false, "score": 0, "creation_date": 1496272089, "post_id": 44295989, "comment_id": 75598202, "body": "x &lt; 0 was a surprise, neat shortcut. x!=&#39;a&#39; of course only works for &#39;a&#39;, but good point if that&#39;s the goal. Thanks!"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 3, "creation_date": 1496274287, "post_id": 44295989, "comment_id": 75598781, "body": "The <code>&lt; 0</code> approach only works in python-2.x. In Python 3 it will throw an exception. Also the return seems wrong - I get <code>array([False,  True], dtype=bool)</code> for the <code>x != &#39;a&#39;</code> comparison."}], "tags": [], "owner": {"reputation": 81, "user_id": 7476301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176aae579a552f7c136aa0c1c2c31a25?s=128&d=identicon&r=PG&f=1", "display_name": "sanhitamj", "link": "https://stackoverflow.com/users/7476301/sanhitamj"}, "is_accepted": false, "score": 1, "last_activity_date": 1496271850, "creation_date": 1496271850, "answer_id": 44295989, "question_id": 44295919, "link": "https://stackoverflow.com/questions/44295919/elementwise-comparison-to-none-with-ndarray-of-object-dtype/44295989#44295989", "title": "Elementwise comparison to None with ndarray of object dtype", "body": "<p>A few possible ways to do that is -</p>\n\n<pre><code>x &lt; 0\nx!='a'\n</code></pre>\n\n<blockquote>\n  <p>array([ True, False], dtype=bool)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 3, "last_activity_date": 1496273776, "creation_date": 1496273776, "answer_id": 44296266, "question_id": 44295919, "link": "https://stackoverflow.com/questions/44295919/elementwise-comparison-to-none-with-ndarray-of-object-dtype/44296266#44296266", "title": "Elementwise comparison to None with ndarray of object dtype", "body": "<p>You can wrap <code>None</code> in a <code>list</code> or <code>array</code> to force element-wise comparisons:</p>\n\n<pre><code>&gt;&gt;&gt; x == [None]\narray([False,  True], dtype=bool)\n\n&gt;&gt;&gt; x == np.array([None])\narray([False,  True], dtype=bool)\n</code></pre>\n"}], "owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "accepted_answer_id": 44295958, "answer_count": 3, "score": 1, "last_activity_date": 1501885427, "creation_date": 1496271430, "last_edit_date": 1496274486, "question_id": 44295919, "link": "https://stackoverflow.com/questions/44295919/elementwise-comparison-to-none-with-ndarray-of-object-dtype", "title": "Elementwise comparison to None with ndarray of object dtype", "body": "<pre><code>x = np.empty([2], dtype=object)\n&gt; array([None, None], dtype=object)\n\nx[0] = 'a'\n&gt; array(['a', None], dtype=object)\n</code></pre>\n\n<p>I'm trying to get a boolean array <code>[False, True]</code> from this object typed <code>ndarray</code> where the object type is <code>None</code>. </p>\n\n<p>Things that don't work: <code>x is None</code>, <code>x.isfinite()</code>, <code>x == None</code>, <code>np.isnan(x)</code>. The array may be in <code>n</code> dimensions, making for loop iterations unpleasant to look at.</p>\n"}, {"tags": ["python", "sockets", "ssl"], "comments": [{"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1496274050, "post_id": 44295894, "comment_id": 75598717, "body": "How will you know &quot;when the client sends an https request&quot;?"}, {"owner": {"reputation": 1, "user_id": 8094664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68411255838d542a2dadede8acc4c286?s=128&d=identicon&r=PG&f=1", "display_name": "Or1", "link": "https://stackoverflow.com/users/8094664/or1"}, "reply_to_user": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1496349937, "post_id": 44295894, "comment_id": 75639395, "body": "The request will start with &quot;Connect&quot;. Can you help me to solve the problem? If the promlem isn&#39;t clear, I can explain more clearly."}], "owner": {"reputation": 1, "user_id": 8094664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68411255838d542a2dadede8acc4c286?s=128&d=identicon&r=PG&f=1", "display_name": "Or1", "link": "https://stackoverflow.com/users/8094664/or1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496349797, "creation_date": 1496271186, "last_edit_date": 1496349797, "question_id": 44295894, "link": "https://stackoverflow.com/questions/44295894/python-how-to-change-socket-from-client-to-ssl", "title": "python - How to change socket from client to SSL?", "body": "<p>I am doing a proxy server.</p>\n\n<pre><code>server = socket.socket()\nserver.bind ((\"0.0.0.0\", 1)) \nserver.listen(5)\ncurrent_socket,adress = server.accept()\ndata = current_socket.recv(1024)\n</code></pre>\n\n<p>From the server program, How to change the socket to the client to ssl when the client sends a https request?</p>\n"}, {"tags": ["python", "hierarchical-clustering", "categorical-data"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496272080, "post_id": 44295843, "comment_id": 75598199, "body": "How do you plan to define the distance between strings -- or is that part of your question?"}, {"owner": {"reputation": 624, "user_id": 2838082, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a891a3f0a6acfa1426a79fed3a49e844?s=128&d=identicon&r=PG", "display_name": "Nhqazi", "link": "https://stackoverflow.com/users/2838082/nhqazi"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496307833, "post_id": 44295843, "comment_id": 75611382, "body": "it is the question, my understanding is that the method of distance calcualtion can be defined in sch.distance.pdist .I intent to use cosine function though not sure if it is the right way to  find the distance, so my first problem is how to define the  variable X in above code for categorical variable."}, {"owner": {"reputation": 624, "user_id": 2838082, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a891a3f0a6acfa1426a79fed3a49e844?s=128&d=identicon&r=PG", "display_name": "Nhqazi", "link": "https://stackoverflow.com/users/2838082/nhqazi"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496326525, "post_id": 44295843, "comment_id": 75625269, "body": "the basic question I guess is how to represent categorical variables having multiple values. I understand kmode method is used for categorical variables but i intent to use hierarchical clustering."}], "answers": [{"comments": [{"owner": {"reputation": 624, "user_id": 2838082, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a891a3f0a6acfa1426a79fed3a49e844?s=128&d=identicon&r=PG", "display_name": "Nhqazi", "link": "https://stackoverflow.com/users/2838082/nhqazi"}, "edited": false, "score": 0, "creation_date": 1496346105, "post_id": 44313716, "comment_id": 75637237, "body": "Thanks. My data has more than 10 attributes and two of them contain the name of district and streets in a city. Each of them could have many distinct values may be over 20. I am not sure the above technique is applicable for this kind of categorical values. please advice."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 624, "user_id": 2838082, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a891a3f0a6acfa1426a79fed3a49e844?s=128&d=identicon&r=PG", "display_name": "Nhqazi", "link": "https://stackoverflow.com/users/2838082/nhqazi"}, "edited": false, "score": 1, "creation_date": 1496346693, "post_id": 44313716, "comment_id": 75637552, "body": "I advise you to <i>specify</i> the problem.  &quot;I am not sure ...&quot; is not a specification.  I&#39;ve answered your given question: how to represent the categorical data (just as you&#39;re already doing) and how to handle a distance function.  I gave you a trivial sample.  There is no way I can handle a follow-up question when you continue to avoid any productive comment on what you <i>do</i> need for a distance metric."}, {"owner": {"reputation": 624, "user_id": 2838082, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a891a3f0a6acfa1426a79fed3a49e844?s=128&d=identicon&r=PG", "display_name": "Nhqazi", "link": "https://stackoverflow.com/users/2838082/nhqazi"}, "edited": false, "score": 0, "creation_date": 1496356348, "post_id": 44313716, "comment_id": 75641847, "body": "ok here is my specification. i have a categorical attribute that contains string values. three of them contains dayname(mon---sun) monthname and time interval(morning afternoon evening), the other two as i mentioned before has district and street names. followed by gender ,role, comments(it is a predefined fixed field that have values as good, badm strong agree etc)surname and first name.my intention is to cluster them  and visualize it.  I applied k-mean clustering using this WEKA  bur it did not work.  I hope I have specified the problem now."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 624, "user_id": 2838082, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a891a3f0a6acfa1426a79fed3a49e844?s=128&d=identicon&r=PG", "display_name": "Nhqazi", "link": "https://stackoverflow.com/users/2838082/nhqazi"}, "edited": false, "score": 0, "creation_date": 1496356533, "post_id": 44313716, "comment_id": 75641911, "body": "Please edit this into the question&#39;s main body, for all to see.  Also discuss what you imagine as a useful distance function.  For instance, is the distance Sun-to-Tue twice as far as Sun-to-Mon, or the same?"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1496338046, "creation_date": 1496338046, "answer_id": 44313716, "question_id": 44295843, "link": "https://stackoverflow.com/questions/44295843/hierarchical-clustering-for-categorical-data-in-python/44313716#44313716", "title": "Hierarchical clustering for categorical data in python", "body": "<p>I think we've identified the problem, then: you leave the <code>X</code> values as they are, string data.  You can pass those to <code>pdist</code>, but you also have to supply a 2-arity function (2 inputs, numeric output) for the distance metric.</p>\n\n<p>The simplest one would be that equal classifications have 0 distance; everything else is 1.  You can do this with</p>\n\n<pre><code>d = sch.distance.pdist(X, lambda u, v: u != v)\n</code></pre>\n\n<p>If you have other class discrimination in mind, just code logic to return the desired distance, wrap it in a function, and then pass the function name to <code>pdist</code>.  We can't help with that, because you've told us nothing about your classes or the model semantics.</p>\n\n<p>Does that get you moving?</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11839814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c2f9b4d94132175bb976e05d07823e?s=128&d=identicon&r=PG&f=1", "display_name": "Sockenschlauch", "link": "https://stackoverflow.com/users/11839814/sockenschlauch"}, "is_accepted": false, "score": 0, "last_activity_date": 1564121106, "creation_date": 1564121106, "answer_id": 57214014, "question_id": 44295843, "link": "https://stackoverflow.com/questions/44295843/hierarchical-clustering-for-categorical-data-in-python/57214014#57214014", "title": "Hierarchical clustering for categorical data in python", "body": "<p>Another possibility is the use of the Hamming distance.</p>\n\n<blockquote>\n  <p><code>Y = pdist(X, 'hamming')</code></p>\n  \n  <p>Computes the normalized Hamming distance, or the proportion of those\n  vector elements between two n-vectors u and v which disagree. To save\n  memory, the matrix X can be of type boolean.</p>\n</blockquote>\n\n<p>If your categorical data is represented by a single character e.g.: \"m\"/\"f\" it could be what you are looking for.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Hamming_distance\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Hamming_distance</a></p>\n\n<p><a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html#scipy.spatial.distance.pdist\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html#scipy.spatial.distance.pdist</a></p>\n"}], "owner": {"reputation": 624, "user_id": 2838082, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a891a3f0a6acfa1426a79fed3a49e844?s=128&d=identicon&r=PG", "display_name": "Nhqazi", "link": "https://stackoverflow.com/users/2838082/nhqazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6485, "favorite_count": 2, "accepted_answer_id": 44313716, "answer_count": 2, "score": 4, "last_activity_date": 1564121106, "creation_date": 1496270901, "last_edit_date": 1496402721, "question_id": 44295843, "link": "https://stackoverflow.com/questions/44295843/hierarchical-clustering-for-categorical-data-in-python", "title": "Hierarchical clustering for categorical data in python", "body": "<p>I have a categorical attributes that contains string values. three of them contains dayname(mon---sun) monthname and time interval(morning afternoon evening), the other two as i mentioned before has district and street names. followed by gender ,role, comments(it is a predefined fixed field that have values as good, bad strong agree etc)surname and first name.my intention is to cluster them and visualize it. I applied k-mean clustering using this WEKA bur it did not work. \nNow I wish to apply hierarchical clustering on it.  I found this code:</p>\n\n<pre><code>import scipy\nimport scipy.cluster.hierarchy as sch\nX = scipy.randn(100, 2)     # 100 2-dimensional observations\nd = sch.distance.pdist(X)   # vector of (100 choose 2) pairwise distances\nL = sch.linkage(d, method='complete')\nind = sch.fcluster(L, 0.5*d.max(), 'distance')\n</code></pre>\n\n<p>However, X in above code is numeric;  I have categorical data. \nIs there some way that I can use a numarray of categorical data to find the distance?\nIn other words can I use categorical data of string values to find the distance?\nI would then use that distance in <code>sch.linkage(d, method='complete')</code></p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 3, "last_activity_date": 1496272699, "creation_date": 1496272699, "answer_id": 44296127, "question_id": 44295823, "link": "https://stackoverflow.com/questions/44295823/find-the-correlation-of-a-non-linear-function-for-numpy-corr/44296127#44296127", "title": "Find the correlation of a non-linear function for numpy.corr()", "body": "<p><strong>GENERAL ANSWER</strong></p>\n\n<p>The correlation coefficient is, by definition, a linear fit.  What I think you want is some manner of curve-fitting.  The problem is that you have to experiment, either by hand or programmatically, to find a good fit.</p>\n\n<p>Also, these do not provide a <em>direct</em> cognate to the correlation coefficient, although the least-squares error can be easily harnessed to this purpose.</p>\n\n<p><strong>SPECIFIC APPLICATION</strong></p>\n\n<p>The given case is a simple \"vee\" shape; you need a non-linear transformation on your independent variable (Temp) to get a nice fit: <code>X &lt;= abs(X-56)</code>.  Now you have a perfect correlation.</p>\n\n<p>If you want a program to experiment with various fits and derive the best one for each arbitrary data set, you'll have to program the exterior shell yourself, I'm afraid.  However, there <em>are</em> a number of packages (such as SciKit) which provide function to <strong>optimize</strong> a set of equations with a given error function.  If you want to tackle the larger project, you might want to research those facilities.</p>\n\n<p>In the meantime, perhaps a simple plotting function would help you narrow the field for your specific needs?</p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 7956882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b15a7e6ff170eb2574e86351dbdacdc0?s=128&d=identicon&r=PG&f=1", "display_name": "Itzik Chaimov", "link": "https://stackoverflow.com/users/7956882/itzik-chaimov"}, "is_accepted": false, "score": 1, "last_activity_date": 1496273248, "creation_date": 1496273248, "answer_id": 44296190, "question_id": 44295823, "link": "https://stackoverflow.com/questions/44295823/find-the-correlation-of-a-non-linear-function-for-numpy-corr/44296190#44296190", "title": "Find the correlation of a non-linear function for numpy.corr()", "body": "<p>Try the correlation method using element-wise; go over all the elements of the curves and find the correlation values for each pair.\nThen, you can average the values of the correlation to one value which will indicates if you are in High, Medium, Low or No correlation.</p>\n"}], "owner": {"reputation": 53, "user_id": 7704198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jrz7U.png?s=128&g=1", "display_name": "Patrick Maynard", "link": "https://stackoverflow.com/users/7704198/patrick-maynard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2861, "favorite_count": 2, "accepted_answer_id": 44296127, "answer_count": 2, "score": 0, "last_activity_date": 1496273824, "creation_date": 1496270792, "last_edit_date": 1496273824, "question_id": 44295823, "link": "https://stackoverflow.com/questions/44295823/find-the-correlation-of-a-non-linear-function-for-numpy-corr", "title": "Find the correlation of a non-linear function for numpy.corr()", "body": "<p>I wrote a program that reads a CSV file and computes the correlation between the two columns. The problem is the standard method of finding correlation does not work on curves and other non-linear functions. Is there another function or an easy way to modify the data to determine correlation?  Below is my code so far, the csv input, and the current output.</p>\n\n<pre><code>def findCorrelation(csvFileName):\n    data = pd.read_csv(csvFileName)\n    data = data.values\n    df = pd.DataFrame(data=data)\n    npList = np.asarray(df)\n    np2 = npList.astype(float)\n    df2 = pd.DataFrame(data=np2)\n    corr = df2.corr()\n    corr = corr.values\n    return corr[0][1]\n\ndef correlationMeaning(corr):\n    if corr == 1:\n        return ['perfect', 'positive', str(corr)]\n    elif corr &gt; 0.9:\n        return ['high', 'positive', str(corr)]\n    elif corr &gt; 0.5:\n        return ['medium', 'positive', str(corr)]\n    elif corr &gt; 0.1:\n        return ['low', 'positive', str(corr)]\n    elif corr &gt; -0.1:\n        return ['no', str(corr)]\n    elif corr &gt; -0.5:\n        return ['low', 'negative', str(corr)]\n    elif corr &gt; -0.9:\n        return ['medium', 'negative', str(corr)]\n    elif corr &gt; -1:\n        return ['high', 'negative', str(corr)]\n    elif corr == -1:\n        return ['perfect', 'negative', str(corr)]\n    else:\n        return ['error']\n\nprint correlationMeaning(findCorrelation('CurveData.csv'))\n</code></pre>\n\n<p>CSV input:</p>\n\n<pre><code>Temp,Sales\n30,50\n34,52\n38,54\n42,56\n46,58\n50,60\n54,62\n58,62\n62,60\n66,58\n70,56\n74,54\n78,52\n82,50\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['no', '0.0']\n</code></pre>\n"}, {"tags": ["python", "python-requests"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1496270583, "post_id": 44295763, "comment_id": 75597827, "body": "You specified entirely different referrers in your two code snippets."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1496270716, "post_id": 44295763, "comment_id": 75597870, "body": "Also, you used <code>headers</code> as the query parameter dict, not the headers, in your <code>requests</code> code."}, {"owner": {"reputation": 1, "user_id": 8094653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7ba6efb587b0fc77de07db642ae2cc?s=128&d=identicon&r=PG&f=1", "display_name": "John_Doe", "link": "https://stackoverflow.com/users/8094653/john-doe"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1496312432, "post_id": 44295763, "comment_id": 75614875, "body": "Thanks user2357112!  The difference in the referrer is not the problem but as you said my headers were not added successfully.  Replacing with:  r = requests. get(url, headers=headers, stream=True)  solves the problem."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8094653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7ba6efb587b0fc77de07db642ae2cc?s=128&d=identicon&r=PG&f=1", "display_name": "John_Doe", "link": "https://stackoverflow.com/users/8094653/john-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1496312663, "creation_date": 1496312663, "answer_id": 44304985, "question_id": 44295763, "link": "https://stackoverflow.com/questions/44295763/strange-behavior-of-headers-with-python-requests/44304985#44304985", "title": "Strange behavior of headers with python requests", "body": "<p>headers dict was passed as a different argument. Replacing:</p>\n\n<pre><code>r = requests.get(url, headers)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>r = requests.get(url, headers=headers)\n</code></pre>\n\n<p>solves the problem.</p>\n"}], "owner": {"reputation": 1, "user_id": 8094653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7ba6efb587b0fc77de07db642ae2cc?s=128&d=identicon&r=PG&f=1", "display_name": "John_Doe", "link": "https://stackoverflow.com/users/8094653/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1496312663, "creation_date": 1496270347, "question_id": 44295763, "link": "https://stackoverflow.com/questions/44295763/strange-behavior-of-headers-with-python-requests", "title": "Strange behavior of headers with python requests", "body": "<p>Can you please let me know how to make the requests version below work like the urllib one? I have no idea what is going wrong. Effectively, the referer header is needed so that my request is not redirected to the home page. The urllib version seems to handle that properly and I can then download the file. This is not the case with the requests case which redirect to the home page. It seems that the referer header is not taken into account and I'm redirected to the home page.</p>\n\n<p>Thanks</p>\n\n<p>urllib version</p>\n\n<pre><code>import urllib.request\nurl = \"http://www.truefx.com/dev/data/2017/MARCH-2017/EURUSD-2017-03.zip\"\nrequest = urllib.request.Request(url)\nrequest.add_header('Referer', 'http://www.truefx.com/')\nresponse = urllib.request.urlopen(request)\n# Check for redirect\nprint(\"Final url:\" + response.geturl())\nprint(\"Code: \" + str(response.code))\nprint(\"File size: \" + str(response.length))\n</code></pre>\n\n<p>Ouput:</p>\n\n<pre><code>&gt; Final url:http://www.truefx.com/dev/data/2017/MARCH-2017/EURUSD-2017-03.zip\n&gt; Code: 200\n&gt; File size: 53041630\n</code></pre>\n\n<p>requests version</p>\n\n<pre><code>url = \"http://www.truefx.com/dev/data/2017/MARCH-2017/EURUSD-2017-03.zip\"\nheaders = {\"referer\": \"http://www.truefx.com/?page=download\"}\nr = requests.get(url, headers)\nprint(r.url)\nprint(r.status_code)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>http://www.truefx.com\n200\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 927, "user_id": 6596057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PMq5h.png?s=128&g=1", "display_name": "BluCode", "link": "https://stackoverflow.com/users/6596057/blucode"}, "edited": false, "score": 0, "creation_date": 1496272507, "post_id": 44295710, "comment_id": 75598302, "body": "You are missing the colon after your if statement, and you should make sure your indentation is always constant. You also may want an <code>and</code> instead of an <code>or</code> in the if statement."}, {"owner": {"reputation": 1, "user_id": 8038568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lcQYw.png?s=128&g=1", "display_name": "RBU", "link": "https://stackoverflow.com/users/8038568/rbu"}, "reply_to_user": {"reputation": 927, "user_id": 6596057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PMq5h.png?s=128&g=1", "display_name": "BluCode", "link": "https://stackoverflow.com/users/6596057/blucode"}, "edited": false, "score": 0, "creation_date": 1496279330, "post_id": 44295710, "comment_id": 75599884, "body": "@BluCode thanks for pointing out what may a trivial thing for you, but nevertheless I was stuck and it helped."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8038568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lcQYw.png?s=128&g=1", "display_name": "RBU", "link": "https://stackoverflow.com/users/8038568/rbu"}, "edited": false, "score": 0, "creation_date": 1496279381, "post_id": 44295757, "comment_id": 75599900, "body": "thanks again for pointing out what may a trivial thing for you, but nevertheless I was stuck and it helped."}], "tags": [], "owner": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "is_accepted": true, "score": 0, "last_activity_date": 1496270321, "creation_date": 1496270321, "answer_id": 44295757, "question_id": 44295710, "link": "https://stackoverflow.com/questions/44295710/code-returns-invalid-syntax/44295757#44295757", "title": "Code returns invalid syntax", "body": "<p>Your return statements and indentation are messed up:</p>\n\n<pre><code>def tag_count(string_list):\n    count=0\n    for string in string_list:\n        if string.endswith('&gt;') and string.startswith('&lt;'):\n             count += 1\n    return count\nprint (tag_count([\"test\",\"&lt;item&gt;\",\"test\"]))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8038568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lcQYw.png?s=128&g=1", "display_name": "RBU", "link": "https://stackoverflow.com/users/8038568/rbu"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "closed_date": 1496271434, "accepted_answer_id": 44295757, "answer_count": 1, "score": -4, "last_activity_date": 1496279023, "creation_date": 1496270096, "last_edit_date": 1496279023, "question_id": 44295710, "link": "https://stackoverflow.com/questions/44295710/code-returns-invalid-syntax", "closed_reason": "Not suitable for this site", "title": "Code returns invalid syntax", "body": "<p>Code returning error @ line 11 count+=1; \nObjective:Write a function, <code>tag_count</code>, that takes as its argument a list\nof strings. It should return a count of how many of those strings\nare XML tags. You can tell if a string is an XML tag if it begins\nwith a left angle bracket \"&lt;\" and end with a right angle bracket \">\".</p>\n\n<pre><code>def tag_count(string_list):\n    count=0\n    for string in string_list:\n        if (string.endswith('&gt;') or string.startswith('&lt;') == True\n         count=+1\nreturn  count  \n</code></pre>\n"}, {"tags": ["python", "sql", "postgresql"], "answers": [{"comments": [{"owner": {"reputation": 902, "user_id": 3222101, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d7767128db629a822e5d42e40e53e780?s=128&d=identicon&r=PG&f=1", "display_name": "user3222101", "link": "https://stackoverflow.com/users/3222101/user3222101"}, "edited": false, "score": 0, "creation_date": 1496298931, "post_id": 44295921, "comment_id": 75605484, "body": "Thank you Kevin! I feel the same approach but needed an expert advise..thank you again!"}, {"owner": {"reputation": 584, "user_id": 1839849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c4f83ef99481d41e0d0d2ba163adc2?s=128&d=identicon&r=PG", "display_name": "Kevin Postlewaite", "link": "https://stackoverflow.com/users/1839849/kevin-postlewaite"}, "reply_to_user": {"reputation": 902, "user_id": 3222101, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d7767128db629a822e5d42e40e53e780?s=128&d=identicon&r=PG&f=1", "display_name": "user3222101", "link": "https://stackoverflow.com/users/3222101/user3222101"}, "edited": false, "score": 0, "creation_date": 1496441618, "post_id": 44295921, "comment_id": 75680130, "body": "You&#39;re Welcome! If your question is answered, please see <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 584, "user_id": 1839849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c4f83ef99481d41e0d0d2ba163adc2?s=128&d=identicon&r=PG", "display_name": "Kevin Postlewaite", "link": "https://stackoverflow.com/users/1839849/kevin-postlewaite"}, "is_accepted": true, "score": 1, "last_activity_date": 1496271441, "creation_date": 1496271441, "answer_id": 44295921, "question_id": 44295661, "link": "https://stackoverflow.com/questions/44295661/best-way-to-use-input-and-output-tables/44295921#44295921", "title": "Best way to use input and output tables", "body": "<p>It's difficult to say without knowing what the database load and latency requirements are. I would typically avoid using the same table for source and output: I would worry about the cost and contention of simultaneously reading from the table and then writing back to the table but this isn't going to be a problem for low load scenarios. (If you're only running a single process that is doing both the reading and writing then this isn't a problem at all.)</p>\n\n<p>Separating Input/Output may also make the system more understandable, especially if something unexpected goes wrong.</p>\n"}], "owner": {"reputation": 902, "user_id": 3222101, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d7767128db629a822e5d42e40e53e780?s=128&d=identicon&r=PG&f=1", "display_name": "user3222101", "link": "https://stackoverflow.com/users/3222101/user3222101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 44295921, "answer_count": 1, "score": 0, "last_activity_date": 1496271441, "creation_date": 1496269846, "question_id": 44295661, "link": "https://stackoverflow.com/questions/44295661/best-way-to-use-input-and-output-tables", "title": "Best way to use input and output tables", "body": "<p>There is a data model(sql) with a scenario where it uses one input table and it is fed into the prediction model(python) and some output variables are generated onto another table and final join is done between input table and output table to get the complete table(sql). Note: there could be chances that output table doesn't predict values for every primary key in the input table.</p>\n\n<p>Is it good approach to create one table that is fed as input to prediction model and the same table is updated with the output variables i.e. we pass those columns as complete null during input and they are updated as the values are predicted? If not, then what are the disadvantages for the same.</p>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 1076, "user_id": 2409039, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1a6fe81fbfa68ab6b5c11d7f91c221bd?s=128&d=identicon&r=PG", "display_name": "riders994", "link": "https://stackoverflow.com/users/2409039/riders994"}, "edited": false, "score": 0, "creation_date": 1496271817, "post_id": 44295838, "comment_id": 75598133, "body": "Thanks for the answer, but sadly I can&#39;t accept both. I accepted his mostly because I can generalize it to my other problems more easily."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 1076, "user_id": 2409039, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1a6fe81fbfa68ab6b5c11d7f91c221bd?s=128&d=identicon&r=PG", "display_name": "riders994", "link": "https://stackoverflow.com/users/2409039/riders994"}, "edited": false, "score": 0, "creation_date": 1496272417, "post_id": 44295838, "comment_id": 75598276, "body": "@riders994 that&#39;s a great reason to choose DSM&#39;s answer.  No need to justify your choice.  I&#39;m happy you accepted an answer :-)"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1496271635, "last_edit_date": 1496271635, "creation_date": 1496270863, "answer_id": 44295838, "question_id": 44295657, "link": "https://stackoverflow.com/questions/44295657/pandas-operations-on-columns-based-on-other-entries/44295838#44295838", "title": "Pandas Operations on Columns based on other entries", "body": "<p><strong><code>np.where</code></strong>  </p>\n\n<pre><code># [0 0 0 1 1 1 0 1 0 0 0 1 1 1] &lt;- data\n# [0 0 0 0 1 1 1 0 1 0 0 0 1 1] &lt;- np.append(0, data[:-1])\n#  ^ \\__shifted data d[:-1]__/\n#  |\n# appended zero\n# [1 1 1 1 0 0 0 1 0 1 1 1 0 0] &lt;- ~np.append(0, data[:-1])\n# [0 0 0 1 0 0 0 1 0 0 0 1 0 0] &lt;- result\n\nnp.where(data &amp; ~np.append(0, data[:-1]).astype(bool), 1, 0)\n\narray([0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0])\n</code></pre>\n\n<p><strong>Using array multiplication</strong>  </p>\n\n<pre><code>data * (1 - np.append(0, data[:-1]))\n\narray([0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0])\n</code></pre>\n\n<p><strong><code>np.diff</code></strong>  </p>\n\n<pre><code>(np.diff(np.append(0, data)) == 1).astype(int)\n\narray([0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "is_accepted": true, "score": 2, "last_activity_date": 1496271076, "creation_date": 1496271076, "answer_id": 44295871, "question_id": 44295657, "link": "https://stackoverflow.com/questions/44295657/pandas-operations-on-columns-based-on-other-entries/44295871#44295871", "title": "Pandas Operations on Columns based on other entries", "body": "<p>If 1 is the start of a group, that means that it's 1 and the previous element isn't 1.  This is a little easier to do in pandas than in pure numpy, because \"the previous element isn't 1\" can be translated using a <code>shift</code>, which moves all the data (by default, 1 forward).</p>\n\n<pre><code>In [15]: s = pd.Series([0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1, 1])\n\nIn [16]: ((s == 1) &amp; (s.shift() != 1)).astype(int)\nOut[16]: \n0     0\n1     0\n2     0\n3     1\n4     0\n5     0\n6     0\n7     1\n8     0\n9     0\n10    0\n11    1\n12    0\n13    0\ndtype: int64\n</code></pre>\n\n<p>Even the case where 1 is the first element will work, because since there's no element before 1 we get a NaN after shifting, and NaN != 1:</p>\n\n<pre><code>n [18]: s.shift().head()\nOut[18]: \n0    NaN\n1    0.0\n2    0.0\n3    0.0\n4    1.0\n</code></pre>\n"}], "owner": {"reputation": 1076, "user_id": 2409039, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1a6fe81fbfa68ab6b5c11d7f91c221bd?s=128&d=identicon&r=PG", "display_name": "riders994", "link": "https://stackoverflow.com/users/2409039/riders994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 44295871, "answer_count": 2, "score": 2, "last_activity_date": 1496271635, "creation_date": 1496269818, "last_edit_date": 1496270939, "question_id": 44295657, "link": "https://stackoverflow.com/questions/44295657/pandas-operations-on-columns-based-on-other-entries", "title": "Pandas Operations on Columns based on other entries", "body": "<p>I have a pandas dataframe, and I need to create a column based on an existing column (not hard), but I need the <code>i</code>th value to be based on the <code>i-1</code>th value of the column. Example series:</p>\n\n<pre><code>data = np.array([0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1, 1])\n</code></pre>\n\n<p>I want the <code>i</code>th element to be 1 if it is the start of a series of <code>1</code>s, e.g.:</p>\n\n<pre><code>array([0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0])\n</code></pre>\n\n<p>There are other operations I'd like to be able to do, but just understanding how to do this without iterating through would be incredibly helpful. I apologize if this has been asked, I wasn't sure how to search for it.</p>\n"}, {"tags": ["python", "variable-assignment"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1496274421, "post_id": 44295655, "comment_id": 75598807, "body": "If you&#39;re going to post an error message, also post the expected behaviour of your program. Sure, we can help you remove the error - but we can&#39;t help you fix your code. Not without knowing what your code is supposed to do. Right now, we can only guess what you were trying to do with <code>frequency[t[0]+t[1]]</code>."}, {"owner": {"reputation": 9, "user_id": 8094563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0948d6fe3e223b595220ecb18fc226b1?s=128&d=identicon&r=PG&f=1", "display_name": "YearofTheBoar", "link": "https://stackoverflow.com/users/8094563/yearoftheboar"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1496306126, "post_id": 44295655, "comment_id": 75610148, "body": "I have re-edited my post."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496346433, "post_id": 44295655, "comment_id": 75637407, "body": "Those results belong in the body of the question, not on a link outside Stack Overflow."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496346441, "post_id": 44295655, "comment_id": 75637411, "body": "When you get to a resolution, please remember to up-vote useful things and accept your favourite answer (even if you have to write it yourself), so Stack Overflow can properly archive the question."}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 5896888, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EBe7XdeKxK4/AAAAAAAAAAI/AAAAAAAAt7I/l2GeK24xRAA/photo.jpg?sz=128", "display_name": "Jerry Zhao", "link": "https://stackoverflow.com/users/5896888/jerry-zhao"}, "is_accepted": false, "score": 0, "last_activity_date": 1496269920, "creation_date": 1496269920, "answer_id": 44295674, "question_id": 44295655, "link": "https://stackoverflow.com/questions/44295655/completing-an-assignment-dice-probability/44295674#44295674", "title": "Completing an assignment: Dice Probability", "body": "<p><code>t</code> is an int, so <code>t[0]</code> has no valid meaning. </p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 8094563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0948d6fe3e223b595220ecb18fc226b1?s=128&d=identicon&r=PG&f=1", "display_name": "YearofTheBoar", "link": "https://stackoverflow.com/users/8094563/yearoftheboar"}, "edited": false, "score": 0, "creation_date": 1496342433, "post_id": 44295712, "comment_id": 75635235, "body": "I fixed then and it now yields results. I have updated the post with the desired results. Thank you for all your help!"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1496270537, "last_edit_date": 1496270537, "creation_date": 1496270103, "answer_id": 44295712, "question_id": 44295655, "link": "https://stackoverflow.com/questions/44295655/completing-an-assignment-dice-probability/44295712#44295712", "title": "Completing an assignment: Dice Probability", "body": "<p>Right.  Look at your routine:</p>\n\n<pre><code>def throwDice(rolls=1, dice_sides=6):\n    results = 0\n    throwDice = 0\n    for i in range(0, rolls):\n            results = random.randint(1, dice_sides)\n    return throwDice\n</code></pre>\n\n<p>...</p>\n\n<pre><code>   t = throwDice()\n   frequency[t[0]+t[1]] += 1;\n</code></pre>\n\n<p>You make the given quantity of rolls, keeping the last one in <code>results</code>.  Then you ignore that one value and return the <code>0</code> you initially assigned to the local variable <code>throwDice</code> (which, incidentally, locally disables your function definition).  Then you return the 0 to the calling program.</p>\n\n<p>You cannot take the first and second elements of an integer.</p>\n\n<p>How did you accumulate so much code without knowing your function is dysfunctional?  Try testing small blacks before you continue.  In fact, try testing at all: a few minutes with well-placed print statements would point out the problem.  See this lovely <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debug</a> blog for help.</p>\n"}], "owner": {"reputation": 9, "user_id": 8094563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0948d6fe3e223b595220ecb18fc226b1?s=128&d=identicon&r=PG&f=1", "display_name": "YearofTheBoar", "link": "https://stackoverflow.com/users/8094563/yearoftheboar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "closed_date": 1496284902, "answer_count": 2, "score": -5, "last_activity_date": 1496306064, "creation_date": 1496269797, "last_edit_date": 1496306064, "question_id": 44295655, "link": "https://stackoverflow.com/questions/44295655/completing-an-assignment-dice-probability", "closed_reason": "Not suitable for this site", "title": "Completing an assignment: Dice Probability", "body": "<p>I am working on an assignment for class. I have re-edited my post to show what my desired results are. So far I am stuck on the frequency part. I want to reach these results:\n<a href=\"https://i.stack.imgur.com/dyWpV.png\" rel=\"nofollow noreferrer\">Results</a></p>\n\n<p>Thank you! </p>\n\n<p>import random</p>\n\n<pre><code>num = int(input(\"How many times would you like to roll the dice? \"))\nsides = int(input(\"How many sides does the dice have? \"))\n\ndef throwDice(num=1, sides=6):\n    return [random.randint(1,sides) for i in range(num)]\n\n\n#-- main ----------------------------------------------------------------------   \n\nnumberOfTrials = int(input('How many trials? Enter:'))\n\n\n\n# perform simulation, record and print frequencies\nfrequency= 13*[0]  # same as [0,0,0,0,0,0,0,0,0,0,0,0,0]\n\nfor i in range(numberOfTrials):\n   t = throwDice()\n   frequency[t[0]+t[0]] += 1;\n\n# end for\nprint()\nprint(\"Frequencies:\")\nprint(frequency)\n\n\n# calculate relative frequencies, probabilities and errors\nrelativeFrequency = [0, 0]\nprobability = [0,0]\nerror = [0,0]\nfor i in range(2, len(frequency)):\n   relativeFrequency.append(frequency[i]/numberOfTrials)\n   probability.append(min(i-1,13-i)/36)\n   error.append(abs(probability[i]-relativeFrequency[i]))\n# end for\n\n\n#print(relativeFrequency)\n#print(probability)\n#print(error)\nprint()\n\n\n# print results\nf1 = \"{0:&lt;10}{1:&lt;22}{2:&lt;22}{3:&lt;22}\"\nf2 = 71*\"-\"\nf3 = \"{0:&gt;3}       {1:&lt;22.15f}{2:&lt;22.15f}{3:&lt;.15f}\"\nprint(f1.format(\"Sum\",\"Relative Frequency\",\"Probability\",\"Error\"))\nprint(f2)\nfor i in range(2, len(frequency)):\n   print(f3.format(i, relativeFrequency[i], probability[i], error[i]))\n#end for\nprint()\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "pickle", "dill"], "comments": [{"owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1496272051, "post_id": 44295588, "comment_id": 75598191, "body": "why can&#39;t you make the code available? pickling is for serializing data, not code."}, {"owner": {"reputation": 2650, "user_id": 3005995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/966aaa1f263ed9a5339e5d581aca85e5?s=128&d=identicon&r=PG", "display_name": "David Crook", "link": "https://stackoverflow.com/users/3005995/david-crook"}, "reply_to_user": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1496273719, "post_id": 44295588, "comment_id": 75598638, "body": "The only way I could possibly make the code available is by transferring a .py file across the wire and importing the module and forcing the ML team to adhere to a production training run.  Which is what I&#39;m considering at the moment.  The code changes way too frequently; but it at least adheres to an interface."}, {"owner": {"reputation": 2650, "user_id": 3005995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/966aaa1f263ed9a5339e5d581aca85e5?s=128&d=identicon&r=PG", "display_name": "David Crook", "link": "https://stackoverflow.com/users/3005995/david-crook"}, "reply_to_user": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1496273839, "post_id": 44295588, "comment_id": 75598662, "body": "I would like both teams to be able to move at their pace and model updates not require a web tier update.  I would prefer web tier outtages due to updates to be for major release as opposed to model tweaks.  I would also like to change out various models independently of the entire web tier."}, {"owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1496273906, "post_id": 44295588, "comment_id": 75598684, "body": "So, you don&#39;t have a source versioning system for the models? Just checkout the repository on the server and update whenever necessary. You could even setup commit hooks to do it for you."}, {"owner": {"reputation": 2650, "user_id": 3005995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/966aaa1f263ed9a5339e5d581aca85e5?s=128&d=identicon&r=PG", "display_name": "David Crook", "link": "https://stackoverflow.com/users/3005995/david-crook"}, "reply_to_user": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1496279270, "post_id": 44295588, "comment_id": 75599869, "body": "That would require the ML science team to have access to the web teams repo; not sure I like that... I think this may end up boiling down to be solved by process and not code though..."}, {"owner": {"reputation": 2650, "user_id": 3005995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/966aaa1f263ed9a5339e5d581aca85e5?s=128&d=identicon&r=PG", "display_name": "David Crook", "link": "https://stackoverflow.com/users/3005995/david-crook"}, "reply_to_user": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1496279350, "post_id": 44295588, "comment_id": 75599890, "body": "well I suppose also it would mean that the updates get packed up with our normal web updates via our continuous delivery methodology.  I was hoping to have those two streams independent"}, {"owner": {"reputation": 5655, "user_id": 6708503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b6830ee25bc34994df9835cc17b64aa?s=128&d=identicon&r=PG&f=1", "display_name": "ash", "link": "https://stackoverflow.com/users/6708503/ash"}, "edited": false, "score": 0, "creation_date": 1496287535, "post_id": 44295588, "comment_id": 75601750, "body": "This doesn&#39;t answer your original question, but instead of pickling, can you use the TensorFlow saved-model-format (<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/README.md\" rel=\"nofollow noreferrer\">github.com/tensorflow/tensorflow/blob/master/tensorflow/pyt&zwnj;&#8203;hon/&hellip;</a>) to package and distribute the model? (FWIW, this is what Google Cloud ML engine does: <a href=\"https://cloud.google.com/ml-engine/docs/how-tos/deploying-models\" rel=\"nofollow noreferrer\">cloud.google.com/ml-engine/docs/how-tos/deploying-models</a>)"}], "owner": {"reputation": 2650, "user_id": 3005995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/966aaa1f263ed9a5339e5d581aca85e5?s=128&d=identicon&r=PG", "display_name": "David Crook", "link": "https://stackoverflow.com/users/3005995/david-crook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 369, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496269364, "creation_date": 1496269364, "question_id": 44295588, "link": "https://stackoverflow.com/questions/44295588/python-dill-pickle-no-module", "title": "Python Dill/Pickle - No Module", "body": "<p>Alright folks,</p>\n\n<p>Here is the problem I'm struggling with.</p>\n\n<ol>\n<li><p>I have a team who produces machine learning models using tensorflow; they do not know or care much about our website.</p></li>\n<li><p>I have a web team which takes the output of the ML team and operationalizes it as apis.  They need to accept just some random files and make it work.</p></li>\n</ol>\n\n<p>So we decided to try pickling (or dilling) our model classes and then loading them and restoring the variable weights into them; great this works.</p>\n\n<p>What doesn't work is when we ship the model definition class to the server and try to load it with dill or pickle we get the following error: </p>\n\n<p>File \"/usr/local/lib/python3.5/dist-packages/dill/dill.py\", line 423, in find_class\n    return StockUnpickler.find_class(self, module, name)\nImportError: No module named 'RANDOM_MODEL_CLASS_NAME'</p>\n\n<p>This tells me that pickle/dill requires for some reason the class to be where it was or accessible upon loading; which defeats the entire purpose of pickling/dilling it in the first place for us.</p>\n\n<p>Any insights in how to get this to work?  I've tried pkl.dump and dumps.  </p>\n\n<p>Thanks for any insights!</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "edited": false, "score": 5, "creation_date": 1496269173, "post_id": 44295535, "comment_id": 75597314, "body": "<code>option_dict[elected_type] = raw_input(&quot;Enter the {} Option: &quot;.format(option_type))</code>"}, {"owner": {"reputation": 51, "user_id": 6216892, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rz5MM.png?s=128&g=1", "display_name": "mary jerson", "link": "https://stackoverflow.com/users/6216892/mary-jerson"}, "reply_to_user": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "edited": false, "score": 0, "creation_date": 1496269551, "post_id": 44295535, "comment_id": 75597462, "body": "Awesome, I did not realize that it was as simple as that. I think I used wrong the update of the dictionary."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1496269663, "creation_date": 1496269663, "answer_id": 44295630, "question_id": 44295535, "link": "https://stackoverflow.com/questions/44295535/how-to-use-the-value-of-variable-as-a-key-in-a-dictionary-in-python/44295630#44295630", "title": "How to use the value of variable as a key in a dictionary in Python?", "body": "<p><code>update</code> takes a dictionary as its argument.  The stuff you fed it was a symbol and a string; it converts that to a dictionary and then does the update.</p>\n\n<p>The syntax you need here is a simple dictionary assignment:</p>\n\n<pre><code>option_dict[elected_type] = raw_input(...)\n</code></pre>\n\n<p>You might try simpler commands when you first write your code.  Once those work properly, <em>then</em> you can go for the one-line, compound commands.</p>\n"}], "owner": {"reputation": 51, "user_id": 6216892, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rz5MM.png?s=128&g=1", "display_name": "mary jerson", "link": "https://stackoverflow.com/users/6216892/mary-jerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "closed_date": 1496294717, "accepted_answer_id": 44295630, "answer_count": 1, "score": 1, "last_activity_date": 1496269663, "creation_date": 1496269044, "question_id": 44295535, "link": "https://stackoverflow.com/questions/44295535/how-to-use-the-value-of-variable-as-a-key-in-a-dictionary-in-python", "closed_reason": "Not suitable for this site", "title": "How to use the value of variable as a key in a dictionary in Python?", "body": "<p>I'm continuing learning python and I want to use the value of a variable as a key in a dictionary, and the input of the user as the value of that key, but what I'm doing is doing the opposite.</p>\n\n<pre><code>def scan_option(option_type):\n    option_dict={}\n    elected_type = option_type + '_option'\n    option_dict.update(elected_type= raw_input(\"Enter the {} Option: \".format(option_type)))\n\n    return option_dict\n\nprint scan_option(\"Hardrive\")\n</code></pre>\n\n<p>In case user answered 8:\nThe output is: <code>{'elected_type': '8'}</code>\nand I want it to be: <code>{'Hardrive_option': '8'}</code></p>\n\n<p>What do I need to change in the code to do that?</p>\n"}, {"tags": ["python", "sorting"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1496269096, "post_id": 44295529, "comment_id": 75597278, "body": "<code>reverse</code> means reverse, not &quot;sort in reverse order&quot;."}, {"owner": {"reputation": 347, "user_id": 4379029, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8fe2a04e4fb6faa1f3b39c1b5ab044d?s=128&d=identicon&r=PG&f=1", "display_name": "Ilkin", "link": "https://stackoverflow.com/users/4379029/ilkin"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1496269194, "post_id": 44295529, "comment_id": 75597325, "body": "Ok, ok  sorry and thank you :D"}], "answers": [{"tags": [], "owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "is_accepted": true, "score": 3, "last_activity_date": 1496269087, "creation_date": 1496269087, "answer_id": 44295541, "question_id": 44295529, "link": "https://stackoverflow.com/questions/44295529/python-reverse-sort-wrong-answer/44295541#44295541", "title": "Python reverse sort wrong answer?", "body": "<p><code>.reverse()</code> reverses the list. It does not <em>sort</em> it in reverse. Use <code>result.sort(reverse=True)</code>.</p>\n"}], "owner": {"reputation": 347, "user_id": 4379029, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e8fe2a04e4fb6faa1f3b39c1b5ab044d?s=128&d=identicon&r=PG&f=1", "display_name": "Ilkin", "link": "https://stackoverflow.com/users/4379029/ilkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 44295541, "answer_count": 1, "score": -2, "last_activity_date": 1496269087, "creation_date": 1496269026, "question_id": 44295529, "link": "https://stackoverflow.com/questions/44295529/python-reverse-sort-wrong-answer", "title": "Python reverse sort wrong answer?", "body": "<p>I'm solving a problem at Codility and at one step I needed to reverse sort a list of chars of digits. But python returned a very surprising result (at least for me)</p>\n\n<p>Here is code: </p>\n\n<p><code>N = 231\nresult = [str(x) for x in str(N)]\nresult.reverse()\nprint(result)</code></p>\n\n<p>And print result is: </p>\n\n<blockquote>\n  <p>['1', '3', '2']</p>\n</blockquote>\n\n<p>But when I used <strong>result.sort()</strong> before result.reverse() it returns correct result? Does anyone has any idea ?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "statistics"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 3, "last_activity_date": 1496269479, "last_edit_date": 1496269479, "creation_date": 1496269099, "answer_id": 44295544, "question_id": 44295525, "link": "https://stackoverflow.com/questions/44295525/how-to-repeat-cells-in-pandas-dataframe/44295544#44295544", "title": "How to repeat cells in pandas DataFrame", "body": "<p>repeating rows:</p>\n\n<pre><code>In [10]: pd.concat([df] * 2, ignore_index=True)\nOut[10]:\n  name  number\n0    a       2\n1    b       1\n2    a       2\n3    b       1\n</code></pre>\n\n<p>cartesian product of columns values: </p>\n\n<pre><code>In [14]: from itertools import product\n\nIn [15]: pd.DataFrame(list(product(df.name, df.number)), columns=df.columns)\nOut[15]:\n  name  number\n0    a       2\n1    a       1\n2    b       2\n3    b       1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 146, "user_id": 7782613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2249e3ae5d02e40419271b34187fad95?s=128&d=identicon&r=PG&f=1", "display_name": "Raag Agrawal", "link": "https://stackoverflow.com/users/7782613/raag-agrawal"}, "edited": false, "score": 0, "creation_date": 1496343125, "post_id": 44295637, "comment_id": 75635599, "body": "This is extremely helpful! Thank you."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 4, "last_activity_date": 1496270349, "last_edit_date": 1496270349, "creation_date": 1496269704, "answer_id": 44295637, "question_id": 44295525, "link": "https://stackoverflow.com/questions/44295525/how-to-repeat-cells-in-pandas-dataframe/44295637#44295637", "title": "How to repeat cells in pandas DataFrame", "body": "<p><strong><code>np.tile</code> and <code>np.repeat</code></strong>  </p>\n\n<pre><code>pd.DataFrame(dict(\n        name=np.tile(df.name.values, 2),\n        number=np.repeat(df.number.values, 2)\n    ))\n\n  name  number\n0    a       2\n1    b       2\n2    a       1\n3    b       1\n</code></pre>\n\n<hr>\n\n<p><strong><code>pd.MultiIndex.from_product</code></strong>  </p>\n\n<pre><code>pd.DataFrame(\n    pd.MultiIndex.from_product(\n        [df.name.unique(), df.number.unique()]\n    ).values.tolist(), columns=df.columns)\n\n  name  number\n0    a       2\n1    b       2\n2    a       1\n3    b       1\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 7782613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2249e3ae5d02e40419271b34187fad95?s=128&d=identicon&r=PG&f=1", "display_name": "Raag Agrawal", "link": "https://stackoverflow.com/users/7782613/raag-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 1, "accepted_answer_id": 44295637, "answer_count": 2, "score": 3, "last_activity_date": 1496270349, "creation_date": 1496268999, "last_edit_date": 1496269126, "question_id": 44295525, "link": "https://stackoverflow.com/questions/44295525/how-to-repeat-cells-in-pandas-dataframe", "title": "How to repeat cells in pandas DataFrame", "body": "<p>I want to repeat cells in a pandas DataFrame.  I want to turn </p>\n\n<pre><code>name, number\na, 2\nb, 1\n</code></pre>\n\n<p>into </p>\n\n<pre><code>name, number\na, 2\nb, 2\na, 1\nb, 1\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496269219, "post_id": 44295508, "comment_id": 75597337, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described.  Perhaps all you need is a one-line main program that calls this, but we need to be sure."}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1496269255, "post_id": 44295508, "comment_id": 75597353, "body": "your <code>exit</code> call are outside the <code>if</code> and are always executed"}, {"owner": {"reputation": 1, "user_id": 8094525, "user_type": "registered", "profile_image": "https://graph.facebook.com/1528543330498786/picture?type=large", "display_name": "Manuel Meyer", "link": "https://stackoverflow.com/users/8094525/manuel-meyer"}, "edited": false, "score": 0, "creation_date": 1496269591, "post_id": 44295508, "comment_id": 75597483, "body": "Thx for the response, but even without the <code>exit</code> still nothing happens...."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1496269793, "post_id": 44295508, "comment_id": 75597548, "body": "The code you posted merely defines a function.  There&#39;s no call to make it compute or print anything."}], "answers": [{"tags": [], "owner": {"reputation": 1096, "user_id": 5150303, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5IihF.jpg?s=128&g=1", "display_name": "Daniel R. Livingston", "link": "https://stackoverflow.com/users/5150303/daniel-r-livingston"}, "is_accepted": false, "score": 1, "last_activity_date": 1496269897, "creation_date": 1496269897, "answer_id": 44295666, "question_id": 44295508, "link": "https://stackoverflow.com/questions/44295508/thomas-algorithm-python/44295666#44295666", "title": "Thomas algorithm python", "body": "<p>Your indentations are screwy. </p>\n\n<p>On lines 13 and 17, indent the <code>exit</code> statement so that its only called when the conditional (if statement) is satisfied:</p>\n\n<pre><code>  if len(a) != n-1:\n      print ('Wrong index size for a.\\n A should have an index of')\n      exit()\n  if len(c) != n-1:\n      print ('Wrong index size for c.\\n C should have an index of')\n      exit()\n</code></pre>\n\n<p>Likewise, <code>c.append(0.0)</code> is outdented a tab too far. Indent this line as well.</p>\n\n<p>Remember that, unlike most other languages, Python bases its executional structure on spacing. For something like an if statement, everything indented under that statement is considered the same as <code>if (something) {  }</code>.</p>\n\n<pre><code>if (something):\n      do this\n      and this\nbut this will happen regardless\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8094525, "user_type": "registered", "profile_image": "https://graph.facebook.com/1528543330498786/picture?type=large", "display_name": "Manuel Meyer", "link": "https://stackoverflow.com/users/8094525/manuel-meyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1496269897, "creation_date": 1496268935, "last_edit_date": 1496269637, "question_id": 44295508, "link": "https://stackoverflow.com/questions/44295508/thomas-algorithm-python", "title": "Thomas algorithm python", "body": "<p>I'm a beginner at Python. I have the following code that doesn't return anything.</p>\n\n<p>Does any one have an answer as to why? When I execute the code, literally nothing happens.</p>\n\n<h1>Finding the size of the matrix and determine n</h1>\n\n<pre><code>def thomas(a,b,c,d):\n\n    a= [1,3,1.5,4.5,4.5]\n    b= [-6,-4.5,-7.5,-7.5,-4.5] \n    c= [3,3,3,3,3]\n    d= [0,0,100,0,0]\n\n    n = len(b)\n    #print n # Used for debugging\n    # Test the size of a and c\n    if len(a) != n-1:\n        print ('Wrong index size for a.\\n A should have an index of'), n-1, '\\n \n    Your a has ', len(a)\n    exit()\n    if len(c) != n-1:\n        print ('Wrong index size for c.\\n C should have an index of'), n-1, '\\n \n    Your c has', len(c)\n    exit()\n\n# Converting to float and appending 0.0 to c\n    for i in range(0,len(a)):\n        a[i] = float(a[i])\n    for i in range(0,len(b)):\n        b[i] = float(b[i])\n    for i in range(0,len(c)):\n        c[i] = float(c[i])\n    for i in range(0,len(d)):\n        d[i] = float(d[i])\nc.append(0.0) # Hack to make the function to work\n\n# Calculate p and q\n    p = []; q= [] \n    p.append(c[0]/b[0]); q.append(d[0]/b[0])\n    for j in range(1,n):\n        pj = c[j]/(b[j] - a[j-1]* p[j-1])\n        qj = (d[j] - a[j-1]*q[j-1])/(b[j] - a[j-1]* p[j-1])\n        p.append(pj); q.append(qj)\n#print p,q # Used for debugging the code!\n\n# Back sub\n    x = []; x.append(q[n-1])\n    for j in range(n-2,-1,-1):\n        xj = q[j] - p[j]*x[0] # Value holder\n        x.insert(0,xj) # Building the list backwards\n\n# Return the value\n    return x    \n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1496268991, "post_id": 44295500, "comment_id": 75597234, "body": "What is the format of your file? You probably don\u2019t want to throw away line information, which is what <code>.read().split()</code> will do (it splits on all whitespace)."}, {"owner": {"reputation": 184, "user_id": 5896888, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EBe7XdeKxK4/AAAAAAAAAAI/AAAAAAAAt7I/l2GeK24xRAA/photo.jpg?sz=128", "display_name": "Jerry Zhao", "link": "https://stackoverflow.com/users/5896888/jerry-zhao"}, "edited": false, "score": 0, "creation_date": 1496269039, "post_id": 44295500, "comment_id": 75597254, "body": ".readlines() is probably better"}, {"owner": {"reputation": 17, "user_id": 8050757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b82c90e585b7b8f8ea3ec51964103afc?s=128&d=identicon&r=PG&f=1", "display_name": "Nora", "link": "https://stackoverflow.com/users/8050757/nora"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1496269222, "post_id": 44295500, "comment_id": 75597339, "body": "@Ryan its just a table with the last,first name then exam 1 then exam 2 (until exam 4)"}, {"owner": {"reputation": 1707, "user_id": 1088415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/8rZdp.jpg?s=128&g=1", "display_name": "Metropolis", "link": "https://stackoverflow.com/users/1088415/metropolis"}, "edited": false, "score": 0, "creation_date": 1496269459, "post_id": 44295500, "comment_id": 75597433, "body": "I don&#39;t think your for-loop does what you are expecting. It will not modify <code>file</code> in place. It is just creating a variable <code>line</code>, assigning a value to it, applying the <code>strip</code> function and then throwing that all away and starting over on the next iteration."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496269986, "post_id": 44295500, "comment_id": 75597611, "body": "With <code>.split()</code> you split on any form of whitespace. That means you loose the difference between words and lines."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496272008, "post_id": 44295500, "comment_id": 75598182, "body": "Where are the numbers <code>[94, 100, 89, 82, 87]</code> coming from? It appears to be the first number following the name but they are not in the same order as your example."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8050757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b82c90e585b7b8f8ea3ec51964103afc?s=128&d=identicon&r=PG&f=1", "display_name": "Nora", "link": "https://stackoverflow.com/users/8050757/nora"}, "edited": false, "score": 0, "creation_date": 1496269429, "post_id": 44295577, "comment_id": 75597428, "body": "Thanks but how does this answer my question"}, {"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "reply_to_user": {"reputation": 17, "user_id": 8050757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b82c90e585b7b8f8ea3ec51964103afc?s=128&d=identicon&r=PG&f=1", "display_name": "Nora", "link": "https://stackoverflow.com/users/8050757/nora"}, "edited": false, "score": 0, "creation_date": 1496269730, "post_id": 44295577, "comment_id": 75597529, "body": "By the way, exam_one = <code>line[2]</code>, not <code>[2::8]</code>"}], "tags": [], "owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "is_accepted": false, "score": 1, "last_activity_date": 1496269904, "last_edit_date": 1496269904, "creation_date": 1496269330, "answer_id": 44295577, "question_id": 44295500, "link": "https://stackoverflow.com/questions/44295500/reading-a-file-python/44295577#44295577", "title": "Reading a file - python?", "body": "<p>Use splitlines, it's better :</p>\n\n<pre><code>file = open('scores.txt','r').read().splitlines()\nexam_one = []\nfor line in file:\n    line = line.split() # not strip\n    exam_one.append(int(line[2])) # or better use float() since it's an exam\nprint(exam_one) # =&gt; [100, 82, 94, 89, 87]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 8050757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b82c90e585b7b8f8ea3ec51964103afc?s=128&d=identicon&r=PG&f=1", "display_name": "Nora", "link": "https://stackoverflow.com/users/8050757/nora"}, "edited": false, "score": 0, "creation_date": 1496269977, "post_id": 44295632, "comment_id": 75597606, "body": "I wrote a sample result at the end of my comment.. I want to create a list containing the contents of each column"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 17, "user_id": 8050757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b82c90e585b7b8f8ea3ec51964103afc?s=128&d=identicon&r=PG&f=1", "display_name": "Nora", "link": "https://stackoverflow.com/users/8050757/nora"}, "edited": false, "score": 0, "creation_date": 1496270215, "post_id": 44295632, "comment_id": 75597681, "body": "That list contains the contents of the <i>first</i> column, as I assumed in the question. It does not contain the contents of <i>each</i> (or <i>every</i>) column."}, {"owner": {"reputation": 17, "user_id": 8050757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b82c90e585b7b8f8ea3ec51964103afc?s=128&d=identicon&r=PG&f=1", "display_name": "Nora", "link": "https://stackoverflow.com/users/8050757/nora"}, "edited": false, "score": 0, "creation_date": 1496270273, "post_id": 44295632, "comment_id": 75597703, "body": "Also when I use your code it only prints the last line."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 17, "user_id": 8050757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b82c90e585b7b8f8ea3ec51964103afc?s=128&d=identicon&r=PG&f=1", "display_name": "Nora", "link": "https://stackoverflow.com/users/8050757/nora"}, "edited": false, "score": 0, "creation_date": 1496270309, "post_id": 44295632, "comment_id": 75597721, "body": "My code doesn&#39;t print <i>anything</i>, so I don&#39;t know what you are doing."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 0, "last_activity_date": 1496269673, "creation_date": 1496269673, "answer_id": 44295632, "question_id": 44295500, "link": "https://stackoverflow.com/questions/44295500/reading-a-file-python/44295632#44295632", "title": "Reading a file - python?", "body": "<p>Don't read the entire file into memory first. File objects are iterators.</p>\n\n<pre><code>result = []\nwith open('scores.txt') as f:\n    for line in f:\n         # E.g., fields == ['Hopper,', 'Grace', '100', '98', '87', '97']\n        fields = line.strip().split() \n</code></pre>\n\n<p>It's not clear what you want as an end result; the first grade of each line, perhaps? After splitting the line, you could get that with</p>\n\n<pre><code>result.append(fields[2])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1496270408, "post_id": 44295762, "comment_id": 75597752, "body": "Please don&#39;t imply that writing all that in one line is in any way a good idea."}, {"owner": {"reputation": 1904, "user_id": 7655838, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/kb2qX.png?s=128&g=1", "display_name": "Ender Look", "link": "https://stackoverflow.com/users/7655838/ender-look"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1496270470, "post_id": 44295762, "comment_id": 75597775, "body": "@chepner I know, therefore I also write multiples line code. Preference for the programmer."}, {"owner": {"reputation": 1904, "user_id": 7655838, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/kb2qX.png?s=128&g=1", "display_name": "Ender Look", "link": "https://stackoverflow.com/users/7655838/ender-look"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496271204, "post_id": 44295762, "comment_id": 75597983, "body": "@dawg ok, I&#39;ll try do my best, but I don&#39;t know much codding."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496271744, "post_id": 44295762, "comment_id": 75598118, "body": "Not dv worthy, but there is not reason to first read in the entire file with <code>file.readlines()</code> and then iterate over that with a <code>for</code> loop. Just do <code>for line in file:</code> and let Python split the lines automatically."}, {"owner": {"reputation": 1904, "user_id": 7655838, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/kb2qX.png?s=128&g=1", "display_name": "Ender Look", "link": "https://stackoverflow.com/users/7655838/ender-look"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496271997, "post_id": 44295762, "comment_id": 75598177, "body": "@dawg, Ok thanks, I didn&#39;t know about that, I will repair my code."}], "tags": [], "owner": {"reputation": 1904, "user_id": 7655838, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/kb2qX.png?s=128&g=1", "display_name": "Ender Look", "link": "https://stackoverflow.com/users/7655838/ender-look"}, "is_accepted": false, "score": 1, "last_activity_date": 1496351719, "last_edit_date": 1496351719, "creation_date": 1496270346, "answer_id": 44295762, "question_id": 44295500, "link": "https://stackoverflow.com/questions/44295500/reading-a-file-python/44295762#44295762", "title": "Reading a file - python?", "body": "<p>I don't know how is your file but I think it's something like:</p>\n\n<pre><code>Hopper, Grace 100 98 87 97\nKnuth, Donald 82 87 92 81\nGoldberg, Adele 94 96 90 91\nKernighan, Brian 89 74 89 77\nLiskov, Barbara 87 97 81 85\n</code></pre>\n\n<p>Also I didn't understand what do yo want like output, but I think it's like this:</p>\n\n<pre><code>[['Hopper,', 'Grace', '100', '98', '87', '97'], ['Knuth,', 'Donald', '82', '87', '92', '81'], ['Goldberg,', 'Adele', '94', '96', '90', '91'], ['Kernighan,', 'Brian', '89', '74', '89', '77'], ['Liskov,', 'Barbara', '87', '97', '81', '85']]\n</code></pre>\n\n<p><strong>I have developed this one-line code (for python 3.6):</strong></p>\n\n<pre><code>with open('scores.txt', 'r') as file:\n    print([[value for value in line.strip().replace(',','').split()] for line in file])\n</code></pre>\n\n<p><strong>Same as:</strong></p>\n\n<pre><code>with open('scores.txt', 'r') as file:\n    tmp = []\n    for line in file:\n        tmp.append(line.strip().replace(',','').split())\n        # Also you can delete tmp = [] and replace the tmp.append(...) line to tmp = [var for var in line.strip().replace(',','').split()]\nprint(tmp)\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[['Hopper,', 'Grace', '100', '98', '87', '97'], ['Knuth,', 'Donald', '82', '87', '92', '81'], ['Goldberg,', 'Adele', '94', '96', '90', '91'], ['Kernighan,', 'Brian', '89', '74', '89', '77'], ['Liskov,', 'Barbara', '87', '97', '81', '85']]\n</code></pre>\n\n<p><strong>The same as:</strong></p>\n\n<pre><code>[\n    ['Hopper,', 'Grace', '100', '98', '87', '97'],\n    ['Knuth,', 'Donald', '82', '87', '92', '81'],\n    ['Goldberg,', 'Adele', '94', '96', '90', '91'],\n    ['Kernighan,', 'Brian', '89', '74', '89', '77'],\n    ['Liskov,', 'Barbara', '87', '97', '81', '85']\n]\n</code></pre>\n\n<p>I used like and output <code>print()</code> but you can define a variable is you want.\n<br/>\n<br/>\n<strong>PD:</strong> I have found an easier solution:</p>\n\n<pre><code>with open('scores.txt', 'r') as file:\n    print([line.split() for line in file.read().replace(',','').splitlines()])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1496272166, "last_edit_date": 1496272166, "creation_date": 1496270423, "answer_id": 44295779, "question_id": 44295500, "link": "https://stackoverflow.com/questions/44295500/reading-a-file-python/44295779#44295779", "title": "Reading a file - python?", "body": "<p>Suppose you have the following string that has words (separated by horizontal whitespace) and lines (separated by <code>\\n</code> or vertical whitespace):</p>\n\n<pre><code>&gt;&gt;&gt; print(data)\nHopper, Grace 100 98 87 97\nKnuth, Donald 82 87 92 81\nGoldberg, Adele 94 96 90 91\nKernighan, Brian 89 74 89 77\nLiskov, Barbara 87 97 81 85\n</code></pre>\n\n<p>If you just use <code>.split()</code> you loose all difference between lines and words:</p>\n\n<pre><code>&gt;&gt;&gt; data.split()\n['Hopper,', 'Grace', '100', '98', '87', '97', 'Knuth,', 'Donald', '82', '87', '92', '81', 'Goldberg,', 'Adele', '94', '96', '90', '91', 'Kernighan,', 'Brian', '89', '74', '89', '77', 'Liskov,', 'Barbara', '87', '97', '81', '85']\n</code></pre>\n\n<p>To maintain the difference, you need to combine <code>.splitlines()</code> with <code>.split()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; [line.split() for line in data.splitlines()]\n[['Hopper,', 'Grace', '100', '98', '87', '97'], ['Knuth,', 'Donald', '82', '87', '92', '81'], ['Goldberg,', 'Adele', '94', '96', '90', '91'], ['Kernighan,', 'Brian', '89', '74', '89', '77'], ['Liskov,', 'Barbara', '87', '97', '81', '85']]\n</code></pre>\n\n<p>The same concept applies to data read from files. Instead of using <code>.splitlines()</code> you can iterate over the individual lines of the file with a <code>for</code> loop:</p>\n\n<pre><code>&gt;&gt;&gt; with open('/tmp/file.txt') as f:\n...    for line in f:\n...       print(line.split())\n... \n['Hopper,', 'Grace', '100', '98', '87', '97']\n['Knuth,', 'Donald', '82', '87', '92', '81']\n['Goldberg,', 'Adele', '94', '96', '90', '91']\n['Kernighan,', 'Brian', '89', '74', '89', '77']\n['Liskov,', 'Barbara', '87', '97', '81', '85']\n</code></pre>\n\n<p>Or, if you want nested lists:</p>\n\n<pre><code>&gt;&gt;&gt; with open('/tmp/file.txt') as f:\n...    print([line.split() for line in f])\n... \n[['Hopper,', 'Grace', '100', '98', '87', '97'], ['Knuth,', 'Donald', '82', '87', '92', '81'], ['Goldberg,', 'Adele', '94', '96', '90', '91'], ['Kernighan,', 'Brian', '89', '74', '89', '77'], ['Liskov,', 'Barbara', '87', '97', '81', '85']]\n</code></pre>\n\n<p>And if you want just one number from those lines:</p>\n\n<pre><code>&gt;&gt;&gt; with open('/tmp/file.txt') as f:\n...    print([line.split()[2] for line in f])\n... \n['100', '82', '94', '89', '87']\n</code></pre>\n\n<p>The form of opening a file and looping over the lines with a <code>for</code> loop or list comprehension is considered an important Python idiom. Use those rather than reading the entire file into memory. </p>\n"}], "owner": {"reputation": 17, "user_id": 8050757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b82c90e585b7b8f8ea3ec51964103afc?s=128&d=identicon&r=PG&f=1", "display_name": "Nora", "link": "https://stackoverflow.com/users/8050757/nora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1496783780, "creation_date": 1496268885, "last_edit_date": 1496783780, "question_id": 44295500, "link": "https://stackoverflow.com/questions/44295500/reading-a-file-python", "title": "Reading a file - python?", "body": "<p>I want to use the split string method to extract information from each line into a list. </p>\n"}, {"tags": ["python", "docx", "text-extraction", "python-docx"], "comments": [{"owner": {"reputation": 392, "user_id": 7976281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca4fea7320688b3c031615d40ee2ed7a?s=128&d=identicon&r=PG&f=1", "display_name": "Quartal", "link": "https://stackoverflow.com/users/7976281/quartal"}, "edited": false, "score": 0, "creation_date": 1496268828, "post_id": 44295470, "comment_id": 75597187, "body": "You tried downloading docx2txt ?"}], "answers": [{"tags": [], "owner": {"reputation": 12342, "user_id": 496289, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MBIsC.jpg?s=128&g=1", "display_name": "Kashyap", "link": "https://stackoverflow.com/users/496289/kashyap"}, "is_accepted": false, "score": 0, "last_activity_date": 1496269332, "creation_date": 1496269332, "answer_id": 44295579, "question_id": 44295470, "link": "https://stackoverflow.com/questions/44295470/python-textract-importerror/44295579#44295579", "title": "Python textract ImportError", "body": "<p>I would recommend using <code>pip install xxx</code> to install the module. That'll install it in the path that's usually looked up by python. It should also take care of dependencies.</p>\n\n<p>If you did manual installation or just extracted it to dinner folder then Set your path correctly, like described here <a href=\"https://stackoverflow.com/q/3701646/496289\">How to add to the pythonpath in windows 7?</a> or <a href=\"https://stackoverflow.com/q/18247333/496289\">Python - PYTHONPATH in linux</a></p>\n\n<p>If you think you've set it correctly then then post it's value, pwd etc.</p>\n"}, {"tags": [], "owner": {"reputation": 19772, "user_id": 1902513, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dde51d04370847170ede2450660334ac?s=128&d=identicon&r=PG", "display_name": "scanny", "link": "https://stackoverflow.com/users/1902513/scanny"}, "is_accepted": false, "score": 0, "last_activity_date": 1496272030, "creation_date": 1496272030, "answer_id": 44296013, "question_id": 44295470, "link": "https://stackoverflow.com/questions/44295470/python-textract-importerror/44296013#44296013", "title": "Python textract ImportError", "body": "<p><code>textract</code> does not automatically install the dependencies for all the file types it supports. You selectively install the ones you're interested in.</p>\n\n<p>While this is not as elegant as one might imagine it could be, it's the appropriate design choice here I think. Python doesn't have the ability to install dependencies on-demand, so the only alternative would be for <code>textract</code> to install <em>all</em> the dozen or more possible dependencies, which would tend to bloat your Python environment.</p>\n\n<p>So in this case, as Kashyap mentions, the appropriate action is:</p>\n\n<pre><code>pip install python-docx\n</code></pre>\n\n<p>and similar for any other file type dependencies you might need.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 10330161, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4mnTwP03i0o/AAAAAAAAAAI/AAAAAAAAABg/H58osbKSN5E/photo.jpg?sz=128", "display_name": "vignesh saravanan", "link": "https://stackoverflow.com/users/10330161/vignesh-saravanan"}, "is_accepted": false, "score": 0, "last_activity_date": 1557769045, "creation_date": 1557769045, "answer_id": 56117339, "question_id": 44295470, "link": "https://stackoverflow.com/questions/44295470/python-textract-importerror/56117339#56117339", "title": "Python textract ImportError", "body": "<p>This worked for me,</p>\n\n<p>open the terminal and then type them as below,</p>\n\n<pre><code>python -m venv env \nsource ./env/bin/activate\nsudo apt update\nsudo apt install python-pip &amp;&amp; pip install --upgrade pip\nsudo apt install python-dev libxml2-dev libxslt1-dev antiword unrtf poppler-utils pstotext tesseract-ocr flac ffmpeg lame libmad0 libsox-fmt-mp3 sox libjpeg-dev swig\npip install textract\n</code></pre>\n\n<p>if you face any errors try them below</p>\n\n<pre><code>pip install https://pypi.python.org/packages/ce/c7/ab6cd0d00ddf8dc3b537cfb922f3f049f8018f38c88d71fd164f3acb8416/SpeechRecognition-3.6.3-py2.py3-none-any.whl\nsudo apt install libpulse-dev\npip install textract\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 4789252, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d9b73655b305155ce5806b35dcdadcee?s=128&d=identicon&r=PG&f=1", "display_name": "PyNerd", "link": "https://stackoverflow.com/users/4789252/pynerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6087, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1557769045, "creation_date": 1496268731, "last_edit_date": 1496268795, "question_id": 44295470, "link": "https://stackoverflow.com/questions/44295470/python-textract-importerror", "title": "Python textract ImportError", "body": "<p>I have begun using the Python library <code>textract</code> to parse text from PowerPoint (<em>.pptx), Word documents (</em>.docx), and text files (*.txt).  I wrote a simple script to test it.</p>\n\n<pre><code># Python textract test script\nimport textract\ntextract.process(\"H:\\My Documents\\Test.docx\")\n</code></pre>\n\n<p>When I run it, either on the command line or in Idle, I get a traceback with the last few lines being:</p>\n\n<blockquote>\n  <p>File: \"C:...\\textract\\parsers\\docx_parser.py\", line 1 in \n          import docx2txt\n      ImportError: No module named docx2txt</p>\n</blockquote>\n\n<p>I am using version 1.5.0, downloaded from <a href=\"https://pypi.python.org/pypi/textract\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/textract</a>.  I don't know why it would not include any dependencies.  Will I have to install <code>docx2txt</code> and its subsequent dependencies?  Why would the <code>textract</code> package not contain everything I need?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1496272761, "post_id": 44295465, "comment_id": 75598368, "body": "What exactly do you mean by &quot;justify&quot;?"}, {"owner": {"reputation": 187, "user_id": 7656163, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/97ba04f9907822b35ef81d736cfe51b6?s=128&d=identicon&r=PG&f=1", "display_name": "bnicholl", "link": "https://stackoverflow.com/users/7656163/bnicholl"}, "reply_to_user": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 0, "creation_date": 1496273239, "post_id": 44295465, "comment_id": 75598516, "body": "I elaborated a little bit more in my edits"}], "answers": [{"tags": [], "owner": {"reputation": 50, "user_id": 5155718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76172e3f3797d4d3e6e8b280dffc7a7f?s=128&d=identicon&r=PG&f=1", "display_name": "KAL", "link": "https://stackoverflow.com/users/5155718/kal"}, "is_accepted": false, "score": 0, "last_activity_date": 1496272396, "creation_date": 1496272396, "answer_id": 44296083, "question_id": 44295465, "link": "https://stackoverflow.com/questions/44295465/python-up-and-down-justify-the-index-of-a-bool-numpy-array/44296083#44296083", "title": "Python: up and down justify the index of a bool numpy array", "body": "<p>It looks like you want to move the first array to the back to do what you're calling \"up justifying\". I think it's a little difficult to rearrange the elements in a numpy array, so I usually convert to a standard python list, rearrange the elements, and convert back to a numpy array. </p>\n\n<pre><code>def up_justify(np_array):\n    list_array = list(np_array)\n    first_list = list_array.pop(0) #removes first list\n    list_array.append(first_list) #adds list to back\n    return np.array(list_array)\n</code></pre>\n\n<p>Similarly, you can down justify by removing the last list and placing it at the front, like so</p>\n\n<pre><code>def down_justify(np_array):\n    list_array = list(np_array)\n    last_element = list_array.pop()\n    return np.array([last_element] + list_array)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1496295189, "creation_date": 1496295189, "answer_id": 44299218, "question_id": 44295465, "link": "https://stackoverflow.com/questions/44295465/python-up-and-down-justify-the-index-of-a-bool-numpy-array/44299218#44299218", "title": "Python: up and down justify the index of a bool numpy array", "body": "<p>Simply sort it along each column, which pushes down the True values, while brings up the False ones for down-justified version. For up-justified one, do a flipping on the sorted version.</p>\n\n<p>Sample run to showcase the implementation -</p>\n\n<pre><code>In [216]: mask\nOut[216]: \narray([[False,  True,  True,  True,  True,  True],\n       [False, False,  True,  True, False,  True],\n       [False,  True, False,  True, False, False],\n       [ True,  True,  True,  True, False,  True]], dtype=bool)\n\nIn [217]: np.sort(mask,0)  # Down justified\nOut[217]: \narray([[False, False, False,  True, False, False],\n       [False,  True,  True,  True, False,  True],\n       [False,  True,  True,  True, False,  True],\n       [ True,  True,  True,  True,  True,  True]], dtype=bool)\n\nIn [218]: np.sort(mask,0)[::-1]   # Up justified\nOut[218]: \narray([[ True,  True,  True,  True,  True,  True],\n       [False,  True,  True,  True, False,  True],\n       [False,  True,  True,  True, False,  True],\n       [False, False, False,  True, False, False]], dtype=bool)\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 7656163, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/97ba04f9907822b35ef81d736cfe51b6?s=128&d=identicon&r=PG&f=1", "display_name": "bnicholl", "link": "https://stackoverflow.com/users/7656163/bnicholl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 44299218, "answer_count": 2, "score": 1, "last_activity_date": 1496296277, "creation_date": 1496268695, "last_edit_date": 1496296277, "question_id": 44295465, "link": "https://stackoverflow.com/questions/44295465/python-up-and-down-justify-the-index-of-a-bool-numpy-array", "title": "Python: up and down justify the index of a bool numpy array", "body": "<p>How can I up and down justify a numpy bool array. By Justify, I mean take the True values, and move them so they are either the first values at the top (if they are up justified) or the first values at the bottom. (if they are down justified)</p>\n\n<pre><code>    [[False  True  True  True  True   True]\n     [False  False True  True  False  True]\n     [False  True  False True  False  False\n     [True   True  True  True  False  True]]\n</code></pre>\n\n<p>So If I down justify the True values of the bool array shown above, it would look like:</p>\n\n<pre><code>[[False  False False True  False False]\n [False  True  True  True  False True]\n [False  True  True  True  False True]\n [True   True  True  True  True  True]]\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1294, "user_id": 1591222, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/XOZX8.jpg?s=128&g=1", "display_name": "durdenk", "link": "https://stackoverflow.com/users/1591222/durdenk"}, "edited": false, "score": 1, "creation_date": 1496268592, "post_id": 44295417, "comment_id": 75597122, "body": "Try post_save signal? Seems like you cant add it before actually saving it. Or try doing it after super."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496269168, "post_id": 44295417, "comment_id": 75597312, "body": "Can you please post a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a>? We should be able to paste your posted code into a text file and reproduce the problem you described."}], "answers": [{"tags": [], "owner": {"reputation": 220, "user_id": 3366886, "user_type": "registered", "profile_image": "https://graph.facebook.com/610303331/picture?type=large", "display_name": "jonzlin95", "link": "https://stackoverflow.com/users/3366886/jonzlin95"}, "is_accepted": false, "score": 0, "last_activity_date": 1496270207, "creation_date": 1496270207, "answer_id": 44295734, "question_id": 44295417, "link": "https://stackoverflow.com/questions/44295417/accessing-self-in-save-method-of-class-based-model/44295734#44295734", "title": "Accessing &quot;self&quot; in save method of class-based model", "body": "<p>You can't do that because when you call .add() you have yet to save your model. That means that the model may not have been created (so it doesn't have an ID yet).</p>\n\n<p>Basically you're telling Django to update the Foreign Key with something that doesn't exist yet (NULL), which will error out. You need to make sure the model has been created before you can set the foreign key.</p>\n\n<p>try moving the a.somefield.add(self) to AFTER the super() call.</p>\n"}, {"tags": [], "owner": {"reputation": 568, "user_id": 5778109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6525fca1540603b9addc12300aef3e57?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Wankhede", "link": "https://stackoverflow.com/users/5778109/akash-wankhede"}, "is_accepted": false, "score": 0, "last_activity_date": 1496292344, "creation_date": 1496292344, "answer_id": 44298712, "question_id": 44295417, "link": "https://stackoverflow.com/questions/44295417/accessing-self-in-save-method-of-class-based-model/44298712#44298712", "title": "Accessing &quot;self&quot; in save method of class-based model", "body": "<p>You cannot save many to may field before calling actual save method, you modify code like,</p>\n\n<pre><code>def save(self,*args,**kwargs):\n    super(ModelOne,self).save(*args,**kwargs) # Here your self has been saved\n    a = ModelTwo.objects.get(pk=arbitrary_pk)\n    a.somefield.add(self) # Now your self can be add as ManyToMany as it is already saved in db\n</code></pre>\n\n<p>I hope this help.</p>\n"}, {"tags": [], "owner": {"reputation": 7973, "user_id": 7256228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4i9L.jpg?s=128&g=1", "display_name": "zaidfazil", "link": "https://stackoverflow.com/users/7256228/zaidfazil"}, "is_accepted": false, "score": 0, "last_activity_date": 1496300533, "last_edit_date": 1496300533, "creation_date": 1496298428, "answer_id": 44299996, "question_id": 44295417, "link": "https://stackoverflow.com/questions/44295417/accessing-self-in-save-method-of-class-based-model/44299996#44299996", "title": "Accessing &quot;self&quot; in save method of class-based model", "body": "<p>Add the instance to the many to many field after calling the save method.</p>\n\n<pre><code>class ModelOne(models.Model):\n    foo = models.CharField(max_length=25)\n\n    def save(self,*args,**kwargs):\n        super(ModelOne,self).save(*args,**kwargs)\n        a = ModelTwo.objects.get(pk=arbitrary_pk)\n        a.somefield.add(self) #add self to the object manytomany.\n        a.save() #save the object.\n\nclass ModelTwo(models.Model):\n    somefield = models.ManyToManyField(ModelOne)\n</code></pre>\n\n<p>You need to save the self object first. The many to many relation needs to have the related object saved in the database first, inorder to define the relationship. Then, define the relationship using <code>a.somefield.add(self)</code>. Then, save the <code>a</code> object. Otherwise, the relation won't be committed in the database.</p>\n"}, {"tags": [], "owner": {"reputation": 579, "user_id": 4001300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cde59c3d4f020b48ada9614c3811bfa?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Johnson Jr", "link": "https://stackoverflow.com/users/4001300/mike-johnson-jr"}, "is_accepted": false, "score": 0, "last_activity_date": 1496349647, "creation_date": 1496349647, "answer_id": 44316731, "question_id": 44295417, "link": "https://stackoverflow.com/questions/44295417/accessing-self-in-save-method-of-class-based-model/44316731#44316731", "title": "Accessing &quot;self&quot; in save method of class-based model", "body": "<p>I ended up utilizing post_save to get this to work.</p>\n"}], "owner": {"reputation": 579, "user_id": 4001300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cde59c3d4f020b48ada9614c3811bfa?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Johnson Jr", "link": "https://stackoverflow.com/users/4001300/mike-johnson-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1496349647, "creation_date": 1496268447, "question_id": 44295417, "link": "https://stackoverflow.com/questions/44295417/accessing-self-in-save-method-of-class-based-model", "title": "Accessing &quot;self&quot; in save method of class-based model", "body": "<p>I have two models that look like this:</p>\n\n<pre><code>class ModelOne(models.Model):\n    foo = models.CharField(max_length=25)\n\n    def save(self,*args,**kwargs):\n        a = ModelTwo.objects.get(pk=arbitrary_pk)\n        a.somefield.add(self) # I am worried about this line here\n        super(ModelOne,self).save(*args,**kwargs)\n\nclass ModelTwo(models.Model):\n    somefield = models.ManyToManyField(ModelOne)\n</code></pre>\n\n<p>The line where I am adding <code>self</code> to <code>a.somefield</code> is the line I am worried about. How can I do this without error? Currently, I am getting: </p>\n\n<p><code>ValueError: Cannot add \"&lt;ModelOne&gt;\": the value for field \"modelone\" is None</code></p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "numpy", "matrix", "array-broadcasting"], "answers": [{"comments": [{"owner": {"reputation": 2723, "user_id": 1195250, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yzUSZ.jpg?s=128&g=1", "display_name": "Spacey", "link": "https://stackoverflow.com/users/1195250/spacey"}, "edited": false, "score": 1, "creation_date": 1496270620, "post_id": 44295660, "comment_id": 75597840, "body": "Jesus christ. That&#39;s exactly what I needed. Thank you so much!! I didn&#39;t generate it, I was handed it. :) I don&#39;t think I would ever convolute it this way if I had the power to generate it."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 7, "last_activity_date": 1496270257, "last_edit_date": 1496270257, "creation_date": 1496269841, "answer_id": 44295660, "question_id": 44295375, "link": "https://stackoverflow.com/questions/44295375/how-to-slice-a-numpy-ndarray-made-up-of-numpy-void-numbers/44295660#44295660", "title": "How to slice a numpy.ndarray made up of numpy.void numbers?", "body": "<p>Sounds like you have a structured array, something like this simple example:</p>\n\n<pre><code>In [158]: x = np.ones((5,), dtype='i,i,f,f')\nIn [159]: x\nOut[159]: \narray([(1, 1,  1.,  1.), (1, 1,  1.,  1.), (1, 1,  1.,  1.),\n       (1, 1,  1.,  1.), (1, 1,  1.,  1.)], \n      dtype=[('f0', '&lt;i4'), ('f1', '&lt;i4'), ('f2', '&lt;f4'), ('f3', '&lt;f4')])\nIn [160]: x[0]\nOut[160]: (1, 1,  1.,  1.)\nIn [161]: type(x[0])\nOut[161]: numpy.void\n</code></pre>\n\n<p><code>x[0]</code> is a record, displayed as a tuple.  You access fields by name (not by 'column' index):</p>\n\n<pre><code>In [162]: x['f0']\nOut[162]: array([1, 1, 1, 1, 1], dtype=int32)\nIn [163]: x['f2'] = np.arange(5)\n\nIn [165]: x['f1'] = [10,12,8,0,3]\nIn [166]: x\nOut[166]: \narray([(1, 10,  0.,  1.), (1, 12,  1.,  1.), (1,  8,  2.,  1.),\n       (1,  0,  3.,  1.), (1,  3,  4.,  1.)], \n      dtype=[('f0', '&lt;i4'), ('f1', '&lt;i4'), ('f2', '&lt;f4'), ('f3', '&lt;f4')])\nIn [168]: x[['f2','f3']]    # 2 fields at once\nOut[168]: \narray([( 0.,  1.), ( 1.,  1.), ( 2.,  1.), ( 3.,  1.), ( 4.,  1.)], \n      dtype=[('f2', '&lt;f4'), ('f3', '&lt;f4')])\n</code></pre>\n\n<p>This is handy when 'columns' should contain different things, for example strings in one, integers in another.  But it can be awkward to convert such an array to a 2d array of the same numeric type.</p>\n\n<p><code>view</code> and <code>astype</code> work in limited cases, but <code>tolist</code> is the most robust conversion medium that I'm aware of.</p>\n\n<pre><code>In [179]: x.tolist()\nOut[179]: \n[(1, 10, 0.0, 1.0),\n (1, 12, 1.0, 1.0),\n (1, 8, 2.0, 1.0),\n (1, 0, 3.0, 1.0),\n (1, 3, 4.0, 1.0)]\nIn [180]: np.array(x.tolist())\nOut[180]: \narray([[  1.,  10.,   0.,   1.],\n       [  1.,  12.,   1.,   1.],\n       [  1.,   8.,   2.,   1.],\n       [  1.,   0.,   3.,   1.],\n       [  1.,   3.,   4.,   1.]])\n</code></pre>\n\n<p>Note that the <code>tolist</code> for the structured array is a list of tuples, whereas <code>tolist</code> for a 2d array is a list of lists.  Going this direction that difference doesn't matter.  Going the other way the difference matters.</p>\n\n<p>How did you generate this array?  From a <code>csv</code> with <code>genfromtxt</code>?  As output from some other numeric package?</p>\n"}], "owner": {"reputation": 2723, "user_id": 1195250, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yzUSZ.jpg?s=128&g=1", "display_name": "Spacey", "link": "https://stackoverflow.com/users/1195250/spacey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2138, "favorite_count": 0, "accepted_answer_id": 44295660, "answer_count": 1, "score": 2, "last_activity_date": 1496270257, "creation_date": 1496268221, "question_id": 44295375, "link": "https://stackoverflow.com/questions/44295375/how-to-slice-a-numpy-ndarray-made-up-of-numpy-void-numbers", "title": "How to slice a numpy.ndarray made up of numpy.void numbers?", "body": "<p>So here's the deal: I have variable <code>x</code> which is a <code>numpy.ndarray</code>. The size of this structure is 1000. If I do <code>x[0]</code>, then I get a <code>numpy.void</code>, of 4 numbers. If I do <code>x[1]</code>, then I get another <code>numpy.void</code>, also of 4 numbers, etc. </p>\n\n<p>What I simply want to do: I want to slice this data structure, so that I extract a numpy matrix, of size 1000x3. </p>\n\n<p>How do I do that? Thanks</p>\n"}, {"tags": ["python", "matplotlib", "python-3.6", "netcdf4"], "comments": [{"owner": {"reputation": 184, "user_id": 5896888, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EBe7XdeKxK4/AAAAAAAAAAI/AAAAAAAAt7I/l2GeK24xRAA/photo.jpg?sz=128", "display_name": "Jerry Zhao", "link": "https://stackoverflow.com/users/5896888/jerry-zhao"}, "edited": false, "score": 1, "creation_date": 1496268225, "post_id": 44295348, "comment_id": 75596999, "body": "Scipy can read netCDF. <a href=\"https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.io.netcdf.netcdf_file.html\" rel=\"nofollow noreferrer\">Documentation</a>"}, {"owner": {"reputation": 795, "user_id": 3563448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de5d2fa5813e44bf3b943607e5347666?s=128&d=identicon&r=PG&f=1", "display_name": "kakk11", "link": "https://stackoverflow.com/users/3563448/kakk11"}, "edited": false, "score": 0, "creation_date": 1496315909, "post_id": 44295348, "comment_id": 75617253, "body": "I haven&#39;t tested recent version of SciPy, but unidata module is better imo, see @ ImportanceOfBeingErnest answer"}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1496269171, "creation_date": 1496269171, "answer_id": 44295553, "question_id": 44295348, "link": "https://stackoverflow.com/questions/44295348/python-3-6-convert-netcdf-file-data-to-a-different-format/44295553#44295553", "title": "Python 3.6 convert netCDF file data to a different format", "body": "<p>As also stated in <a href=\"https://stackoverflow.com/questions/24827579/python-netcdf-ioerror-netcdf-netcdf-invalid-dimension-id-or-name\">this question</a>'s answers, there is</p>\n\n<ul>\n<li>a netCDF4 module for python: <a href=\"http://unidata.github.io/netcdf4-python/\" rel=\"nofollow noreferrer\">http://unidata.github.io/netcdf4-python/</a> which can be used to load the data</li>\n<li>a scipy submodule to to load NetCDF data: <a href=\"https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.io.netcdf.netcdf_file.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.io.netcdf.netcdf_file.html</a>  </li>\n</ul>\n\n<p>How easy or hard it is to directly use the data is then dependend on the data itself. But at least in the scipy case the returned variables are numpy arrays and may directly be plotted if the data is numeric.</p>\n"}], "owner": {"reputation": 77, "user_id": 8088660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56fc7ca83298e6c5d5a8be5d3f2e11fc?s=128&d=identicon&r=PG&f=1", "display_name": "CPG", "link": "https://stackoverflow.com/users/8088660/cpg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 1, "accepted_answer_id": 44295553, "answer_count": 1, "score": 0, "last_activity_date": 1496269171, "creation_date": 1496268086, "question_id": 44295348, "link": "https://stackoverflow.com/questions/44295348/python-3-6-convert-netcdf-file-data-to-a-different-format", "title": "Python 3.6 convert netCDF file data to a different format", "body": "<p>On python 3.6 I have a netCDF file that contains global precipitation data with the variables: lat, lon, time, and precip. My ultimate goal is to plot the precip data on a scatter plot and create a trend-line. However I am new to python and am having trouble converting the data in the netCDF file to a format that I can read and easily plot on a scatter plot. Any ideas on how I would go about doing this would be much appreciated.\nThank you!</p>\n"}, {"tags": ["python", "python-3.x", "user-interface", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 8088688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/660485827479032/picture?type=large", "display_name": "Anton van der Wel", "link": "https://stackoverflow.com/users/8088688/anton-van-der-wel"}, "edited": false, "score": 0, "creation_date": 1496269603, "post_id": 44295519, "comment_id": 75597487, "body": "This is simply magic! You fixed it! The only diffrence between our codes was the columspan yet it makes such a diffrence :D"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 2, "last_activity_date": 1496314309, "last_edit_date": 1496314309, "creation_date": 1496268986, "answer_id": 44295519, "question_id": 44295304, "link": "https://stackoverflow.com/questions/44295304/tkinter-organizing-issues-fixed-resolution/44295519#44295519", "title": "Tkinter organizing issues fixed resolution", "body": "<p><code>columnspan=1</code> means that the <code>Bottomframe</code> spans a single column. Since this aligns <code>Bottomframe</code> with the <code>Clockframe</code> in the first column, the first column is expanded to width 1920. This pushes the second column <em>past</em> the 1920th pixel and (possibly) off the screen. You can confirm this by reducing the widths of <code>Bottomframe</code> -- you'll see <code>Tempframe</code> creeping into view.</p>\n\n<p>So change <code>columnspan=1</code> to <code>columnspan=2</code> to make the <code>Bottomframe</code> span the first two columns. For example,</p>\n\n<pre><code>import tkinter as tk\nroot = tk.Tk()\nClockframe = tk.Frame(root, height=520, width=960, background='aqua')\nTempframe = tk.Frame(root, height=520, width=960, background='green')\nBottomframe = tk.Frame(root, height=520, width=1920, background='yellow')\n\nClockframe.grid(row=0, column=0)\nTempframe.grid(row=0, column=1)\nBottomframe.grid(row=1, columnspan=2)\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 8088688, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/660485827479032/picture?type=large", "display_name": "Anton van der Wel", "link": "https://stackoverflow.com/users/8088688/anton-van-der-wel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 44295519, "answer_count": 1, "score": 0, "last_activity_date": 1595599923, "creation_date": 1496267883, "last_edit_date": 1595599923, "question_id": 44295304, "link": "https://stackoverflow.com/questions/44295304/tkinter-organizing-issues-fixed-resolution", "title": "Tkinter organizing issues fixed resolution", "body": "<p>These 3 lines: </p>\n\n<pre><code>Clockframe = Frame(root, height=520, width=960)\nTempframe = Frame(root, height=520, width=960)\nBottomframe = Frame(root, height=520, width=1920)\n</code></pre>\n\n<p>Combined with these 3 lines:</p>\n\n<pre><code>Clockframe.grid(row=0, column=0)\nTempframe.grid(row=0, column=1)\nBottomframe.grid(row=1, columnspan=1)\n</code></pre>\n\n<p>gives me the following result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MXEzVt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MXEzVt.png\" alt=\"Results Picture\"></a></p>\n\n<p>My goal is: </p>\n\n<p><a href=\"https://i.stack.imgur.com/WqY25t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WqY25t.png\" alt=\"Picture with Same colorscheme as above\"></a></p>\n"}, {"tags": ["python", "sockets", "chat"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 2, "creation_date": 1496267951, "post_id": 44295281, "comment_id": 75596914, "body": "There is a thread limit. You try to generate enormous amounts of threads in your while loop."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8094548"}, "reply_to_user": {"reputation": 3012, "user_id": 6741482, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e2d07264d5857c8851212ac5c882039a?s=128&d=identicon&r=PG&f=1", "display_name": "pstatix", "link": "https://stackoverflow.com/users/6741482/pstatix"}, "edited": false, "score": 0, "creation_date": 1496268345, "post_id": 44295281, "comment_id": 75597047, "body": "@pstatix how do I make the thread able to keep waiting for new msgs, i mean if its not in while, after 1 time client getting msg, the proccses gets end."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8094548"}, "reply_to_user": {"reputation": 3012, "user_id": 6741482, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e2d07264d5857c8851212ac5c882039a?s=128&d=identicon&r=PG&f=1", "display_name": "pstatix", "link": "https://stackoverflow.com/users/6741482/pstatix"}, "edited": false, "score": 0, "creation_date": 1496268683, "post_id": 44295281, "comment_id": 75597149, "body": "@pstatix thank you for the quick response, can you please write the code? if its too much its ok."}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 5896888, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EBe7XdeKxK4/AAAAAAAAAAI/AAAAAAAAt7I/l2GeK24xRAA/photo.jpg?sz=128", "display_name": "Jerry Zhao", "link": "https://stackoverflow.com/users/5896888/jerry-zhao"}, "is_accepted": false, "score": 0, "last_activity_date": 1496267981, "creation_date": 1496267981, "answer_id": 44295327, "question_id": 44295281, "link": "https://stackoverflow.com/questions/44295281/how-do-i-multithreading-in-while-function-using-python/44295327#44295327", "title": "How do I multithreading in &quot;While&quot; function using python?", "body": "<p>You have no end condition on that while loop, so you are going to create a lot of threads, using up all your system resources. </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/1834919/error-cant-start-new-thread\">previous answer</a></p>\n"}, {"tags": [], "owner": {"reputation": 2515, "user_id": 7284582, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a7d859ac29e5346173cac9e178c65c0e?s=128&d=identicon&r=PG&f=1", "display_name": "Qback", "link": "https://stackoverflow.com/users/7284582/qback"}, "is_accepted": false, "score": 0, "last_activity_date": 1496315639, "creation_date": 1496315639, "answer_id": 44306006, "question_id": 44295281, "link": "https://stackoverflow.com/questions/44295281/how-do-i-multithreading-in-while-function-using-python/44306006#44306006", "title": "How do I multithreading in &quot;While&quot; function using python?", "body": "<p>You shouldn't create and start new threads in infinite loop. \nAs Jerry mentioned it's going to make new threads all the time and use all your system resources. </p>\n\n<p>If you aim to make those threads running continuously you could create loops inside send_msg() and rcv_msg() definition.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8094548"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496315639, "creation_date": 1496267766, "last_edit_date": 1496268089, "question_id": 44295281, "link": "https://stackoverflow.com/questions/44295281/how-do-i-multithreading-in-while-function-using-python", "title": "How do I multithreading in &quot;While&quot; function using python?", "body": "<p>I Have written Python script using socket.\nI wrote a basic chat, but it has a problem, I dunno how to use the <code>Threading</code> library as well to make the Client side to work without blocking.\nI tryed with <code>While</code> but it says that:</p>\n\n<blockquote>\n  <p>thread.error: can't start new thread</p>\n</blockquote>\n\n<p>This is the client code:</p>\n\n<pre><code>import socket\nimport threading\n\nmy_socket = socket.socket()\nmy_socket = socket.socket()\nmy_socket.connect(('127.0.0.1', 23))\nprint('Welcome to the chat room . You can send messages here.')\nprint('Choose a nickname.')\nnickname = raw_input()\n\n\ndef rcv_msg():\n    print  (my_socket.recv(1024))\n\n\ndef snd_msg():\n    txt = raw_input()\n    my_socket.send('[' + nickname + ']: ' + txt)\nwhile True:\n    recv_thread = threading.Thread(target=rcv_msg)\n    recv_thread.start()\n    send_thread = threading.Thread(target=snd_msg)\n    send_thread.start()\n</code></pre>\n\n<p>How can I make it work? </p>\n"}, {"tags": ["python", "database", "python-3.x", "overriding"], "answers": [{"tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": false, "score": 0, "last_activity_date": 1496268213, "creation_date": 1496268213, "answer_id": 44295373, "question_id": 44295256, "link": "https://stackoverflow.com/questions/44295256/unable-to-get-queryset-class-object-query-to-being-printed/44295373#44295373", "title": "Unable to get QuerySet Class Object query to being printed", "body": "<p>You should override the <strong><code>__repr__</code></strong> method for implicit console printing, <code>__str__</code> is for formatting and <code>print</code> invokes.</p>\n"}], "owner": {"reputation": 231, "user_id": 5137311, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/74590ba56f49f2b1984f9ca316dd6657?s=128&d=identicon&r=PG&f=1", "display_name": "SuperCell", "link": "https://stackoverflow.com/users/5137311/supercell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496268213, "creation_date": 1496267657, "question_id": 44295256, "link": "https://stackoverflow.com/questions/44295256/unable-to-get-queryset-class-object-query-to-being-printed", "title": "Unable to get QuerySet Class Object query to being printed", "body": "<p>So for some reason I do not know why, but I am getting </p>\n\n<pre><code>&gt;&gt;&gt; song = Song()\n&gt;&gt;&gt; song.album = album1\n&gt;&gt;&gt; song.file_type = 'mp3'\n&gt;&gt;&gt; song.song_title = ' I hate my boyfriend'\n&gt;&gt;&gt; song.save()\n&gt;&gt;&gt; song.song_title = ' I love my boyfriend'\n&gt;&gt;&gt; song.save()\n&gt;&gt;&gt; album1.song_set.all()\n&lt;QuerySet [&lt;Song: Song object&gt;, &lt;Song: Song object&gt;]&gt;\n</code></pre>\n\n<p>Instead of the names of the songs. </p>\n\n<p>In my code I have an overload str method and it doesn't seem to have worked.\nAny idea whats going on</p>\n\n<pre><code>class Song(models.Model):\n    album = models.ForeignKey(Album, on_delete=models.CASCADE)\n    file_type = models.CharField(max_length=10)\n    song_title = models.CharField(max_length=250)\n\n    def __str__(self):\n        return self.song_title\n</code></pre>\n"}, {"tags": ["python", "subprocess", "python-3.5", "strace"], "owner": {"reputation": 251, "user_id": 4102371, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4a6421fb297d401d6be5dac233b5d66d?s=128&d=identicon&r=PG&f=1", "display_name": "Sleik", "link": "https://stackoverflow.com/users/4102371/sleik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 310, "favorite_count": 0, "closed_date": 1496339077, "answer_count": 0, "score": 1, "last_activity_date": 1496267153, "creation_date": 1496267153, "question_id": 44295173, "link": "https://stackoverflow.com/questions/44295173/subprocess-check-output-timeout-not-working-when-using-strace", "closed_reason": "Duplicate", "title": "Subprocess.check_output timeout not working when using strace", "body": "<p>I am using python 3.5 and  <code>subprocess.check_output</code>  with a <code>timeout</code> option to get the output of a subprocess. This works if I call the executable directly, e.g. </p>\n\n<pre><code>&gt;&gt;&gt; import subproces\n&gt;&gt;&gt; subprocess.check_output([\"/usr/bin/gedit\"],timeout=1)\n...\nsubprocess.TimeoutExpired: Command '/usr/bin/gedit' timed out after 1 seconds\n</code></pre>\n\n<p>However, if I call </p>\n\n<pre><code>&gt;&gt;&gt; subprocess.check_output([\"strace\",\"/usr/bin/gedit\"],timeout=1)\n</code></pre>\n\n<p>, the <code>TimeoutExpired</code> is raised only after I terminate the gedit process myself. So the function <code>subprocess.check_output</code> keeps blocking for longer than 1 second. </p>\n\n<p>How would I use the <code>subprocess.check_output</code> function (or similar) to get it to raise the exception correctly? </p>\n"}, {"tags": ["python", "opencv", "image-processing", "image-segmentation", "scikit-image"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 1, "creation_date": 1496268539, "post_id": 44295099, "comment_id": 75597100, "body": "this is part of psychology research called &quot;Gestalt psychology&quot;. According to wikipedia, you are looking for the &quot;law of closure&quot;. One of the first google hits is: <a href=\"http://users.acin.tuwien.ac.at/arichtsfeld/files/2012-ICPR-Richtsfeld.pdf\" rel=\"nofollow noreferrer\">users.acin.tuwien.ac.at/arichtsfeld/files/&hellip;</a> but maybe you can find more after some research using those keywords."}, {"owner": {"reputation": 329, "user_id": 2843996, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c310ed4164c7c820531c365c8bcf044?s=128&d=identicon&r=PG&f=1", "display_name": "lucidxistence", "link": "https://stackoverflow.com/users/2843996/lucidxistence"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 1, "creation_date": 1496268683, "post_id": 44295099, "comment_id": 75597147, "body": "Phew. Way beyond my scope of understanding. But I&#39;ll check it out if I don&#39;t get easier solutions ! Thanks"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1496268769, "post_id": 44295099, "comment_id": 75597169, "body": "I would say in general it&#39;s not a simple task! But there might be simple heuristics sufficient for your application."}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1496309782, "post_id": 44295099, "comment_id": 75612868, "body": "Alan Gibson shows some very useful techniques for mending broken lines (albeit using ImageMagick) on the following page - I am sure they could be readily adapted to OpenCV <a href=\"http://im.snibgo.com/mendbrkln.htm\" rel=\"nofollow noreferrer\">im.snibgo.com/mendbrkln.htm</a>"}], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 2589412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ea8ee765b2bb1d693ebe0dcf4e893e?s=128&d=identicon&r=PG", "display_name": "willem", "link": "https://stackoverflow.com/users/2589412/willem"}, "is_accepted": false, "score": 0, "last_activity_date": 1496279501, "creation_date": 1496279501, "answer_id": 44296959, "question_id": 44295099, "link": "https://stackoverflow.com/questions/44295099/how-to-identify-incomplete-rectangles-in-opencv/44296959#44296959", "title": "How to identify incomplete rectangles in openCV", "body": "<p>I would recommend taking a Hough transform to identify angles of interest, then identify pairs of angles with large mass in Hough space differing by exactly 90 degrees, then loop over each such pair, identify significantly represented spatial offsets for all such \"vertical\" and \"horizontal\" line candidates, and use some heuristics from there to identify likely rectangles from these orthongonal line candidates. </p>\n\n<p>For example, after identifying a set of lines for a given angle pair, you likely have a relatively small number of lines to evaluate, so you can do something more like a brute force O(N^2) search through pairs of lines to look for relevant corners (defined as being \"empty\" on one side and \"dense\" on the other in both directions), and then match the corners up to make a list of rectangles.</p>\n"}, {"comments": [{"owner": {"reputation": 1175, "user_id": 3665098, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/EtI5T.png?s=128&g=1", "display_name": "SIGSEGV", "link": "https://stackoverflow.com/users/3665098/sigsegv"}, "edited": false, "score": 0, "creation_date": 1496398236, "post_id": 44302402, "comment_id": 75656852, "body": "@Jeru Luke The question says: &quot;How would I go around identifying and extracting rectangles [...] . Note that my rectangles MIGHT be incomplete [...]. So I feel like my answer suits it very well."}], "tags": [], "owner": {"reputation": 1175, "user_id": 3665098, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/EtI5T.png?s=128&g=1", "display_name": "SIGSEGV", "link": "https://stackoverflow.com/users/3665098/sigsegv"}, "is_accepted": true, "score": 4, "last_activity_date": 1496305917, "creation_date": 1496305917, "answer_id": 44302402, "question_id": 44295099, "link": "https://stackoverflow.com/questions/44295099/how-to-identify-incomplete-rectangles-in-opencv/44302402#44302402", "title": "How to identify incomplete rectangles in openCV", "body": "<p>This can be solved using <a href=\"http://homepages.inf.ed.ac.uk/rbf/HIPR2/morops.htm\" rel=\"nofollow noreferrer\">morphological</a> operations such as <a href=\"http://docs.opencv.org/2.4/doc/tutorials/imgproc/erosion_dilatation/erosion_dilatation.html\" rel=\"nofollow noreferrer\">eroding and dilating</a>. This two operations will help creating closed rectangles.\nAfter that you can use the tutorial from this <a href=\"http://www.pyimagesearch.com/2016/02/08/opencv-shape-detection/\" rel=\"nofollow noreferrer\">page</a> to detect simple shapes such as rectangles.</p>\n\n<p>I implemented a quick demo which worked for the image you provided.</p>\n\n<hr>\n\n<p><strong>main.py:</strong></p>\n\n<pre><code>import cv2\nimport numpy as np\nfrom shapeDetector import ShapeDetector\nimport imutils\n\nimg = cv2.imread('t.png')\nkernel = np.ones((5,5),np.uint8)\nerosion = cv2.erode(img,kernel,iterations = 10)\ndilate = cv2.dilate(erosion,kernel,iterations = 10)\n</code></pre>\n\n<p>The erosion thickens all the lines, so to get back to a normal width we need to dilate after eroding. I recommend to comment the dilate operation once to see how erode works and vice versa. \nThis operations will transform your image like this <a href=\"https://i.stack.imgur.com/cUSjr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cUSjr.png\" alt=\"this\"></a> </p>\n\n<p>The detection algorithm I used expects white lines on black background.\nThats why we need to invert the image.</p>\n\n<pre><code>cv2.bitwise_not ( dilate, dilate )\n</code></pre>\n\n<p>After that, we can use the code from the tutorial. </p>\n\n<pre><code>image = dilate\nresized = imutils.resize(image, width=300)\nratio = image.shape[0] / float(resized.shape[0])\n\n# convert the resized image to grayscale, blur it slightly,\n# and threshold it\ngray = cv2.cvtColor(resized, cv2.COLOR_BGR2GRAY)\nblurred = cv2.GaussianBlur(gray, (5, 5), 0)\nthresh = cv2.threshold(blurred, 60, 255, cv2.THRESH_BINARY)[1]\n#thresh = dilate\n# find contours in the thresholded image and initialize the\n# shape detector\ncnts = cv2.findContours(thresh.copy(), cv2.RETR_EXTERNAL,\n    cv2.CHAIN_APPROX_SIMPLE)\ncnts = cnts[0] if imutils.is_cv2() else cnts[1]\nsd = ShapeDetector()\n\n# loop over the contours\nfor c in cnts:\n    # compute the center of the contour, then detect the name of the\n    # shape using only the contour\n    M = cv2.moments(c)\n    cX = int((M[\"m10\"] / M[\"m00\"]) * ratio)\n    cY = int((M[\"m01\"] / M[\"m00\"]) * ratio)\n    shape = sd.detect(c)\n\n    # multiply the contour (x, y)-coordinates by the resize ratio,\n    # then draw the contours and the name of the shape on the image\n    c = c.astype(\"float\")\n    c *= ratio\n    c = c.astype(\"int\")\n    cv2.drawContours(image, [c], -1, (0, 255, 0), 2)\n    cv2.putText(image, shape, (cX, cY), cv2.FONT_HERSHEY_SIMPLEX,\n        0.5, (255, 255, 255), 2)\n\n    # show the output image\n    cv2.imshow(\"Image\", image)\n    cv2.waitKey(0)\n</code></pre>\n\n<hr>\n\n<p><strong>shapeDetector.py:</strong></p>\n\n<pre><code># import the necessary packages\nimport cv2\n\nclass ShapeDetector:\n    def __init__(self):\n        pass\n\n    def detect(self, c):\n        # initialize the shape name and approximate the contour\n        shape = \"unidentified\"\n        peri = cv2.arcLength(c, True)\n        approx = cv2.approxPolyDP(c, 0.04 * peri, True)\n        # if the shape is a triangle, it will have 3 vertices\n        if len(approx) == 3:\n            shape = \"triangle\"\n\n        # if the shape has 4 vertices, it is either a square or\n        # a rectangle\n        elif len(approx) == 4:\n            # compute the bounding box of the contour and use the\n            # bounding box to compute the aspect ratio\n            (x, y, w, h) = cv2.boundingRect(approx)\n            ar = w / float(h)\n\n            # a square will have an aspect ratio that is approximately\n            # equal to one, otherwise, the shape is a rectangle\n            shape = \"square\" if ar &gt;= 0.95 and ar &lt;= 1.05 else \"rectangle\"\n\n        # if the shape is a pentagon, it will have 5 vertices\n        elif len(approx) == 5:\n            shape = \"pentagon\"\n\n        # otherwise, we assume the shape is a circle\n        else:\n            shape = \"circle\"\n\n        # return the name of the shape\n        return shape\n</code></pre>\n\n<hr>\n\n<p><strong>Result:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/1SnLu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1SnLu.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 329, "user_id": 2843996, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c310ed4164c7c820531c365c8bcf044?s=128&d=identicon&r=PG&f=1", "display_name": "lucidxistence", "link": "https://stackoverflow.com/users/2843996/lucidxistence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5744, "favorite_count": 2, "accepted_answer_id": 44302402, "answer_count": 2, "score": 5, "last_activity_date": 1496305917, "creation_date": 1496266789, "question_id": 44295099, "link": "https://stackoverflow.com/questions/44295099/how-to-identify-incomplete-rectangles-in-opencv", "title": "How to identify incomplete rectangles in openCV", "body": "<p>How would I go around identifying and extracting rectangles from an image such as the one shown below. </p>\n\n<p>Note that my rectangles might be incomplete and have some missing edges and some sides might be partial lines.</p>\n\n<p>Thanks !</p>\n\n<p><a href=\"https://i.stack.imgur.com/cgEPA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cgEPA.png\" alt=\"image sample\"></a></p>\n"}, {"tags": ["python", "python-3.x", "python-asyncio", "python-3.6"], "comments": [{"owner": {"reputation": 5486, "user_id": 4181509, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/HQDxN.jpg?s=128&g=1", "display_name": "Yuval Pruss", "link": "https://stackoverflow.com/users/4181509/yuval-pruss"}, "edited": false, "score": 0, "creation_date": 1496268097, "post_id": 44295086, "comment_id": 75596957, "body": "You want to create 2 connection at the same time? Why not to use <code>ayncio.gather</code>? with this method, u can launch 2 asynchronous actions..."}, {"owner": {"reputation": 13, "user_id": 6185613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65b4f7dac302e9374c600c0ac49111d3?s=128&d=identicon&r=PG&f=1", "display_name": "bhairav", "link": "https://stackoverflow.com/users/6185613/bhairav"}, "reply_to_user": {"reputation": 5486, "user_id": 4181509, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/HQDxN.jpg?s=128&g=1", "display_name": "Yuval Pruss", "link": "https://stackoverflow.com/users/4181509/yuval-pruss"}, "edited": false, "score": 0, "creation_date": 1496284456, "post_id": 44295086, "comment_id": 75601042, "body": "asyncio.gather doesn&#39;t seem to apply to my case for 2 reasons.  One, that it is supposed to gather the results in listed sequence and the other that it seems to want to take all futures together in a list.  In my case, I would like to pass it one future now and the second future (the second connection) later after it&#39;s receive the port from the first future."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6185613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65b4f7dac302e9374c600c0ac49111d3?s=128&d=identicon&r=PG&f=1", "display_name": "bhairav", "link": "https://stackoverflow.com/users/6185613/bhairav"}, "edited": false, "score": 0, "creation_date": 1496502386, "post_id": 44334833, "comment_id": 75693374, "body": "I had tried that, but it would hang at awaiting EventConnection recv_message method.  I actually replaced it with asyncio.ensure_future and that seemed to have done the trick.  However, I still have another added layer of complexity for which I encountered a similar issue again (I have been building this framework slowly to what I need).  Will add it as an update to the original question."}], "tags": [], "owner": {"reputation": 24473, "user_id": 57952, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/920d3f95a8dfb28d2e716ce91f40105a?s=128&d=identicon&r=PG", "display_name": "Udi", "link": "https://stackoverflow.com/users/57952/udi"}, "is_accepted": false, "score": 0, "last_activity_date": 1496426150, "creation_date": 1496426150, "answer_id": 44334833, "question_id": 44295086, "link": "https://stackoverflow.com/questions/44295086/python3-asyncio-creating-a-secondary-connection-from-an-initial-one/44334833#44334833", "title": "Python3 Asyncio Creating a secondary connection from an initial one", "body": "<p>Try replacing:</p>\n\n<pre><code>self.ioloop.run_until_complete\n</code></pre>\n\n<p>With</p>\n\n<pre><code>await\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6185613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65b4f7dac302e9374c600c0ac49111d3?s=128&d=identicon&r=PG&f=1", "display_name": "bhairav", "link": "https://stackoverflow.com/users/6185613/bhairav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496503504, "creation_date": 1496266710, "last_edit_date": 1496503504, "question_id": 44295086, "link": "https://stackoverflow.com/questions/44295086/python3-asyncio-creating-a-secondary-connection-from-an-initial-one", "title": "Python3 Asyncio Creating a secondary connection from an initial one", "body": "<p>I am trying to add two coroutines to asyncio loop and getting an error:</p>\n\n<blockquote>\n<pre><code>RuntimeError: This event loop is already running\n</code></pre>\n</blockquote>\n\n<p>My objective is to communicate to a server (that I have no control of).  This server expects an initial connection from the client.  The server then provided a port to the client on this connection.  The client has to use this port to create a second connection.  This second connection is used by the server to send unsolicited messages to the client.  The first connection remains up throughout for other two-way communications.</p>\n\n<p>To recreate this scenario, I have some code that reproduces the error:</p>\n\n<pre><code>class Connection():\n    def __init__(self, ip, port, ioloop):\n        self.ip = ip\n        self.port = port\n        self.ioloop = ioloop\n        self.reader, self.writer = None, None\n        self.protocol = None\n        self.fileno = None\n\n    async def __aenter__(self):\n        # Applicable when doing 'with Connection(...'\n        log.info(\"Entering and Creating Connection\")\n        self.reader, self.writer = (\n            await asyncio.open_connection(self.ip, self.port, loop=self.ioloop)\n        )\n        self.protocol = self.writer.transport.get_protocol()\n        self.fileno = self.writer.transport.get_extra_info('socket').fileno()\n\n        log.info(f\"Created connection {self}\")\n        return self\n\n    async def __aexit__(self, *args):\n        # Applicable when doing 'with Connection(...'\n        log.info(f\"Exiting and Destroying Connection {self}\")\n        if self.writer:\n            self.writer.close()\n\n    def __await__(self):\n        # Applicable when doing 'await Connection(...'\n        return self.__aenter__().__await__()\n\n    def __repr__(self):\n        return f\"[Connection {self.ip}:{self.port}, {self.protocol}, fd={self.fileno}]\"\n\n    async def send_recv_message(self, message):\n        log.debug(f\"send: '{message}'\")\n        self.writer.write(message.encode())\n        await self.writer.drain()\n\n        log.debug(\"awaiting data...\")\n        data = await self.reader.read(9999)\n        data = data.decode()\n        log.debug(f\"recv: '{data}'\")\n        return data\n\n\nclass ServerConnection(Connection):\n    async def setup_connection(self):\n        event_port = 8889  # Assume this came from the server\n        print(\"In setup connection\")\n        event_connection = await EventConnection('127.0.0.1', event_port, self.ioloop)\n        self.ioloop.run_until_complete(event_connection.recv_message())\n\nclass EventConnection(Connection):\n    async def recv_message(self):\n        log.debug(\"awaiting recv-only data...\")\n        data = await self.reader.read(9999)\n        data = data.decode()\n        log.debug(f\"recv only: '{data}'\")\n        return data\n\n\nasync def main(loop):\n    client1 = await ServerConnection('127.0.0.1', 8888, loop)\n    await client1.setup_connection()\n    await client1.send_recv_message(\"Hello1\")\n    await client1.send_recv_message(\"Hello2\")\n    await asyncio.sleep(5)\n\nif __name__ == '__main__':\n    #logging.basicConfig(level=logging.INFO)\n    logging.basicConfig(level=logging.DEBUG)\n    log = logging.getLogger()\n    ioloop = asyncio.get_event_loop()\n    print('starting loop')\n    ioloop.run_until_complete(main(ioloop))\n    print('completed loop')\n    ioloop.close()\n</code></pre>\n\n<p>The error occurs in ServerConnection.setup_connection() method where run_until_complete is being called.</p>\n\n<p>I am probably doing something wrong due to lack of understanding asyncio.  Basically, how do I setup a secondary connection which will get event notifications (unsolicited) while setting up the first connection?</p>\n\n<p>Thanks.</p>\n\n<p><strong>Followup</strong></p>\n\n<p>Since the code is very similar (a few changes to add more functionality to it), I hope it's not bad etiquette to followup to the original post as the resulting error is still the same.</p>\n\n<p>The new issue is that when it receives the unsolicited message (which is received by EventConnection), the recv_message calls process_data method.  I would like to make process_data be a future so that recv_message completes (ioloop should stop).  The ensure_future would then pick it up and continue running again to use ServerConnection to do a request/response to the server.  Before it does that though, it has to go to some user code (represented by external_command() and from whom I would prefer to hide the async stuff).  This would make it synchronous again.  Hence, once they've done what they need to, they should call execute_command on ServerConnection, which then kicks off the loop again.</p>\n\n<p>The problem is, my expectation for using ensure_future didn't pan out as it seems the loop didn't stop from running.  Hence, when the code execution reaches execute_command which does the run_until_complete, an exception with the error \"This event loop is already running\" occurs.</p>\n\n<p>I have two questions:</p>\n\n<ol>\n<li><p>How can I make it so that the ioloop can stop after process_data is\nplaced into ensure_future, and subsequently be able to run it again\nin execute_command?</p></li>\n<li><p>Once recv_message has received something, how can we make it so that\nit can receive more unsolicited data?  Is it enough/safe to just use\nensure_future to call itself again?</p></li>\n</ol>\n\n<p>Here's the example code that simulates this issue.</p>\n\n<pre><code>client1 = None\n\nclass ServerConnection(Connection):\n    connection_type = 'Server Connection'\n    async def setup_connection(self):\n        event_port = 8889  # Assume this came from the server\n        print(\"In setup connection\")\n        event_connection = await EventConnection('127.0.0.1', event_port, self.ioloop)\n        asyncio.ensure_future(event_connection.recv_message())\n\n    async def _execute_command(self, data):\n        return await self.send_recv_message(data)\n\n    def execute_command(self, data):\n        response_str = self.ioloop.run_until_complete(self._execute_command(data))\n        print(f\"exec cmd response_str: {response_str}\")\n\n    def external_command(self, data):\n        self.execute_command(data)\n\n\nclass EventConnection(Connection):\n    connection_type = 'Event Connection'\n    async def recv_message(self):\n        global client1\n        log.debug(\"awaiting recv-only data...\")\n        data = await self.reader.read(9999)\n        data = data.decode()\n        log.debug(f\"recv-only: '{data}'\")\n        asyncio.ensure_future(self.process_data(data))\n        asyncio.ensure_future(self.recv_message())\n\n    async def process_data(self, data):\n        global client1\n        await client1.external_command(data)\n\n\nasync def main(ioloop):\n    global client1\n    client1 = await ServerConnection('127.0.0.1', 8888, ioloop)\n    await client1.setup_connection()\n    print(f\"after connection setup loop running is {ioloop.is_running()}\")\n    await client1.send_recv_message(\"Hello1\")\n    print(f\"after Hello1 loop running is {ioloop.is_running()}\")\n    await client1.send_recv_message(\"Hello2\")\n    print(f\"after Hello2 loop running is {ioloop.is_running()}\")\n    while True:\n        print(f\"inside while loop running is {ioloop.is_running()}\")\n        t = 10\n        print(f\"asyncio sleep {t} sec\")\n        await asyncio.sleep(t)\n\n\nif __name__ == '__main__':\n    logging.basicConfig(level=logging.DEBUG)\n    log = logging.getLogger()\n    ioloop = asyncio.get_event_loop()\n    print('starting loop')\n    ioloop.run_until_complete(main(ioloop))\n    print('completed loop')\n    ioloop.close()\n</code></pre>\n"}, {"tags": ["python", "if-statement", "tkinter", "tkinter-entry"], "answers": [{"tags": [], "owner": {"reputation": 241, "user_id": 5233441, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cPBfQ.jpg?s=128&g=1", "display_name": "\u05d7\u05b4\u05d9\u05d3\u05b8\u05d4", "link": "https://stackoverflow.com/users/5233441/%d7%97%d6%b4%d7%99%d7%93%d6%b8%d7%94"}, "is_accepted": false, "score": 2, "last_activity_date": 1496271790, "creation_date": 1496271790, "answer_id": 44295979, "question_id": 44295063, "link": "https://stackoverflow.com/questions/44295063/python-tkinter-arguing-string-input-for-entry/44295979#44295979", "title": "Python tkinter - Arguing String Input for Entry( )", "body": "<p>I figured it out.  Thanks, though.</p>\n\n<pre><code>from tkinter import *\nWindow = Tk()\n\ndef Quiz():\n   if Answer1.get() == \"8\" :\n       print(\"correct\")\n\nQuestion1 = Label(Window, text=\"How many bits are in a     Byte?\").grid(row=0)\nAnswer1 = StringVar()\nEntry1 = Entry(Window, textvariable=Answer1).grid(row=1)\nButton1 = Button(Window, text=\"ANSWER\", command=Quiz).grid(row=2)\n\nWindow.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 241, "user_id": 5233441, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cPBfQ.jpg?s=128&g=1", "display_name": "\u05d7\u05b4\u05d9\u05d3\u05b8\u05d4", "link": "https://stackoverflow.com/users/5233441/%d7%97%d6%b4%d7%99%d7%93%d6%b8%d7%94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504199800, "creation_date": 1496266571, "last_edit_date": 1504199800, "question_id": 44295063, "link": "https://stackoverflow.com/questions/44295063/python-tkinter-arguing-string-input-for-entry", "title": "Python tkinter - Arguing String Input for Entry( )", "body": "<p>I am learning Python tkinter fundamentals, and cannot get my method called \"Submit()\" to argue the string value for my Entry1 variable.\nI have tried the .get() method for Entry1, but the console says the get attribute does not exist for Entry1.</p>\n\n<pre><code>from tkinter import *\n\nWindow = Tk()\n\ndef Submit():\n    Answer = Entry1.text\n    if Answer == \"byte\":\n    print(\"correct\")\n\nLabel(Window, text=\"What do you call 8 bits?\").grid(row=0)\nEntry1 = Entry(Window, text=\"\").grid(row=1)\nButton(Window, text=\"SUBMIT\", command=Submit).grid(row=2)\n\nWindow.mainloop()\n</code></pre>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 5896888, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EBe7XdeKxK4/AAAAAAAAAAI/AAAAAAAAt7I/l2GeK24xRAA/photo.jpg?sz=128", "display_name": "Jerry Zhao", "link": "https://stackoverflow.com/users/5896888/jerry-zhao"}, "is_accepted": true, "score": 0, "last_activity_date": 1496266632, "creation_date": 1496266632, "answer_id": 44295070, "question_id": 44295035, "link": "https://stackoverflow.com/questions/44295035/using-for-loop-for-floating-number-and-uneven-distribution/44295070#44295070", "title": "using for loop for floating number and uneven distribution", "body": "<p>Should be </p>\n\n<p><code>for i in pc</code></p>\n\n<p><code>range(n)</code> returns an iterable containing the range <code>0, n</code>. It seems in this case the iterable you want is just <code>pc</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7796883"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 44295070, "answer_count": 1, "score": 1, "last_activity_date": 1496266632, "creation_date": 1496266419, "question_id": 44295035, "link": "https://stackoverflow.com/questions/44295035/using-for-loop-for-floating-number-and-uneven-distribution", "title": "using for loop for floating number and uneven distribution", "body": "<p>I was trying to use for loop for a certain values for pc. Here I give an example,   </p>\n\n<pre><code>pc=(0.02,0.05,0.1,0.2,0.5)\n\nfor i in range (pc):\n    phiCrit = i*np.max(phiPart_t)\n    SigU = np.zeros(Nt)\n    SigL = np.zeros(Nt)\n    for k in range(0,Nt):\n        toto = np.where(phiPart_t[:,k]&gt;phiCrit)\n        SigU[k] = Sig[np.max(toto)]\n        SigL[k] = Sig[np.min(toto)]\n    fitfuncU = lambda p, x: p[0] - (p[1]*np.log(x))\n    errfuncU = lambda p, x, y: y - fitfuncU(p, x)\n    time_fit=np.where(time&gt;20)\n    pfinal, success = optimize.leastsq(errfuncL, pinit[:], args=(time[time_fit], SigU[time_fit]))\n    y=fitfuncU(pfinal,time)\n    x=time[0:696]\n    dx = x[1]-x[0]\n    dydx = np.diff(y)/dx\n    plt.figure(21)\n\n    plot(x, dydx, label='time vs dfitfunc with various phi')\n    plt.xlabel('time')\n    plt.ylabel('dSigU')\n    plt.grid()\n    plt.xlim(0,3500)\n    plt.legend()\n    savefig('21.png')\n</code></pre>\n\n<p>my aim is plot <code>time vs dydx</code> for several <code>phicrit</code> in a same figure. The error I got here it says <code>range() integer end argument expected, got tuple.</code> I also tried to make pc as list but it did not work. apart from different variables can someone explain me how can I run the whole process for different pc values.  </p>\n"}, {"tags": ["python", "pip", "anaconda", "pulp"], "comments": [{"owner": {"reputation": 502, "user_id": 3513395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d228bf40eda1cf99e04d579ad6eadb?s=128&d=identicon&r=PG&f=1", "display_name": "thomaskeefe", "link": "https://stackoverflow.com/users/3513395/thomaskeefe"}, "edited": false, "score": 1, "creation_date": 1496266916, "post_id": 44295013, "comment_id": 75596521, "body": "Might help to tag this with <code>pip</code> or <code>anaconda</code>"}, {"owner": {"reputation": 8346, "user_id": 6573902, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nplar.jpg?s=128&g=1", "display_name": "sophros", "link": "https://stackoverflow.com/users/6573902/sophros"}, "edited": false, "score": 0, "creation_date": 1598532736, "post_id": 44295013, "comment_id": 112493728, "body": "PuLP in Anaconda is supported up to v. 3.6 as of the end of August 2020. There may also be an incompatibility between your selected Python version and PuLP package. However, as pointed out below, <code>pip install</code> within an activated Anaconda environment works just fine."}], "answers": [{"tags": [], "owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "is_accepted": false, "score": 1, "last_activity_date": 1496283026, "creation_date": 1496283026, "answer_id": 44297399, "question_id": 44295013, "link": "https://stackoverflow.com/questions/44295013/cant-install-pulp-in-anaconda/44297399#44297399", "title": "Can&#39;t install PuLP in Anaconda", "body": "<p>You have installed an <em>standalone</em> <code>Python</code>, and <em>other</em> <code>Python</code> with <code>Anaconda</code>.</p>\n\n<p>First, if you installed a package by the <code>pip</code>, it is O.K. that it is <em>not displayed</em> in installed packages in Anaconda environment(s) (as you installed it out of <code>Anaconda</code>) and at the same time it is fully functional.</p>\n\n<p>Second, you have to install <code>PuLP</code> <em>again</em> for your standalone <code>Python</code> (with the same <code>pip install</code> command - this time <em>not</em> in <code>conda</code> command prompt, but directly in you OS console / terminal / DOS-prompt (depends of your OS).</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7970040, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EpY2-j1g6Tc/AAAAAAAAAAI/AAAAAAAAAB8/wPfPuM-2Rs4/photo.jpg?sz=128", "display_name": "Zhaohui Chen", "link": "https://stackoverflow.com/users/7970040/zhaohui-chen"}, "is_accepted": false, "score": 1, "last_activity_date": 1536902260, "creation_date": 1536902260, "answer_id": 52325382, "question_id": 44295013, "link": "https://stackoverflow.com/questions/44295013/cant-install-pulp-in-anaconda/52325382#52325382", "title": "Can&#39;t install PuLP in Anaconda", "body": "<p>You can try:</p>\n\n<blockquote>\n  <p>conda install -c conda-forge pulp </p>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 8094434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feba9a72bf5d912639f8b58604c7db71?s=128&d=identicon&r=PG&f=1", "display_name": "AMPLnewbie", "link": "https://stackoverflow.com/users/8094434/amplnewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7698, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1536902260, "creation_date": 1496266317, "last_edit_date": 1496281571, "question_id": 44295013, "link": "https://stackoverflow.com/questions/44295013/cant-install-pulp-in-anaconda", "title": "Can&#39;t install PuLP in Anaconda", "body": "<p>Python newbie here. I am trying to install PuLP. So I do a <code>pip install Pulp</code> in conda command prompt and looks like pulp gets installed. I run a <code>conda list</code> and I can see that PuLP is there in the list (please see image).</p>\n\n<p>However, when I try importing PuLP in IDLE,i get an error and I also can't see PuLP in the list of environments in Anaconda navigator (not sure if I am supposed to).</p>\n\n<p>If Pulp is in the list, why can't I import it or see it in Navigator. Any inputs will be appreciated.</p>\n"}, {"tags": ["python", "c++", "sockets", "azure", "tcp"], "comments": [{"owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "edited": false, "score": 2, "creation_date": 1496267922, "post_id": 44295008, "comment_id": 75596904, "body": "The server looks like it should work fine.  Just replace <code>&quot;localhost&quot;</code> with the address of your Azure host in your client code.  You may need to configure the firewall on your server to allow the remote connection, but how to do that seems more like a <a href=\"https://superuser.com/\">SuperUser</a> question."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1496269370, "post_id": 44295008, "comment_id": 75597400, "body": "So what <i>specifically</i> are you asking?"}, {"owner": {"reputation": 41, "user_id": 3034822, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1137810154/picture?type=large", "display_name": "Kevin", "link": "https://stackoverflow.com/users/3034822/kevin"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1496269714, "post_id": 44295008, "comment_id": 75597521, "body": "@JesperJuhl I need to move the client process to an Azure VM. In doing so, I believe I need to modify the client process code so that it can still find the C++ server. I&#39;m asking for guidance in modifying the client connection. Per Miles&#39; suggestion, I&#39;ve changed &quot;localhost&quot; to the IP address of my VM instance and enabled inbound/outbound traffic over my port, but the connection is still failing."}], "answers": [{"tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": false, "score": 0, "last_activity_date": 1496305718, "creation_date": 1496305718, "answer_id": 44302333, "question_id": 44295008, "link": "https://stackoverflow.com/questions/44295008/python-c-remote-tcp-socket/44302333#44302333", "title": "Python/C++ Remote TCP Socket", "body": "<p>According to your description, based on my understanding, I think you want to deploy your C++ server process on your local machine and deploy the Python client on Azure VM, and make them communicate with each other. So it's a classic C/S communication model, you can make your client connect to server side if your local machine has a WAN ip. If not, you need to create an <a href=\"https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-about-vpngateways\" rel=\"nofollow noreferrer\">Azure VPN Gateway</a> to <a href=\"https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal\" rel=\"nofollow noreferrer\">create a Site-to-Site connection</a> for communication with the two processes via their own VPN VIP.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 41, "user_id": 3034822, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1137810154/picture?type=large", "display_name": "Kevin", "link": "https://stackoverflow.com/users/3034822/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 616, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496305718, "creation_date": 1496266302, "last_edit_date": 1496267146, "question_id": 44295008, "link": "https://stackoverflow.com/questions/44295008/python-c-remote-tcp-socket", "title": "Python/C++ Remote TCP Socket", "body": "<p>I am trying to connect to processes to each other over TCP sockets. I have done this successfully when both processes are running locally by doing on the client side (a python process):</p>\n\n<pre><code>s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.connect((\"localhost\", 11111))\n</code></pre>\n\n<p>The server side was written by someone else and is implemented in C++.</p>\n\n<pre><code>#define WIDTH 640\n#define HEIGHT 480\n#define DEPTH 3\n#define BUFS (WIDTH*HEIGHT*DEPTH)\nint sockfd, newsockfd, portno;\nstruct sockaddr_in serv_addr, cli_addr;\nsocklen_t clilen;\n\nvoid netx_setup()\n{     \n     sockfd = socket(AF_INET, SOCK_STREAM, 0);\n     if (sockfd &lt; 0) \n        error(\"ERROR opening socket\");\n     bzero((char *) &amp;serv_addr, sizeof(serv_addr));\n     portno = 11111;\n     serv_addr.sin_family = AF_INET;\n     serv_addr.sin_addr.s_addr = INADDR_ANY;\n     serv_addr.sin_port = htons(portno);\n     if (bind(sockfd, (struct sockaddr *) &amp;serv_addr,\n              sizeof(serv_addr)) &lt; 0) \n              error(\"ERROR on binding\");\n     listen(sockfd,5);\n     clilen = sizeof(cli_addr);\n\n     std::cout&lt;&lt;\"Waiting for connection\\n\";\n     newsockfd = accept(sockfd, \n                 (struct sockaddr *) &amp;cli_addr, \n                 &amp;clilen);\n         if (newsockfd &lt; 0) \n              {\n                std::cout&lt;&lt;\"No connection!\\n\";\n                newsockfd=0;\n              }\n}\n</code></pre>\n\n<p>However, I now need to have the server process running on my local machine while the client is running on a Microsoft Azure VM instance. I have all of the necessary code in place to handle everything once the connection is made, but I'm not sure how to go about setting up the socket for this. Any help would be greatly appreciated!</p>\n"}, {"tags": ["python", "unit-testing", "python-unittest"], "answers": [{"comments": [{"owner": {"reputation": 1872, "user_id": 4408787, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-KbDNZLk5Siw/AAAAAAAAAAI/AAAAAAAAADw/RFrz3xexfHU/photo.jpg?sz=128", "display_name": "Allen Wang", "link": "https://stackoverflow.com/users/4408787/allen-wang"}, "edited": false, "score": 0, "creation_date": 1496434370, "post_id": 44295931, "comment_id": 75677331, "body": "This works, but I guess I wanted to know whether there was a way to negate a test, without having to define the &quot;Not&quot; version separately."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 2, "last_activity_date": 1496271521, "creation_date": 1496271521, "answer_id": 44295931, "question_id": 44294973, "link": "https://stackoverflow.com/questions/44294973/negating-a-custom-unittest-in-python/44295931#44295931", "title": "negating a custom unittest in python", "body": "<p>One option would be to wrap your list of objects into a custom \"Collection\" class defining the <a href=\"http://minhhh.github.io/posts/a-guide-to-pythons-magic-methods#comparison-magic-methods\" rel=\"nofollow noreferrer\"><code>__eq__()</code> magic method</a>. This way, you will be able to utilize built-in assertion methods - <code>assertEqual()</code> and <code>assertNotEqual()</code>:</p>\n\n<pre><code>from unittest import TestCase\n\nclass Apple:\n    pass\n\n\nclass Banana:\n    pass\n\n\nclass Collection:\n    def __init__(self, objects):\n        self.objects = objects\n\n    def __eq__(self, other):\n        if len(self.objects) != len(other.objects):\n            return False\n        if any(t1.__class__ != t2.__class__ or t1.__dict__ != t2.__dict__ for t1, t2 in zip(self.objects, other.objects)):\n            return False\n\n        return True\n\n\nclass BaseTestCase(TestCase):\n    def test_fruit_equal(self):\n        self.assertEqual(Collection([Apple(), Apple(), Banana()]), Collection([Apple(), Apple(), Banana()]))\n\n    def test_fruit_unequal(self):\n        self.assertNotEqual(Collection([Apple(), Apple(), Banana()]), Collection([Apple(), Banana()]))\n</code></pre>\n\n<p>Both tests pass.</p>\n"}], "owner": {"reputation": 1872, "user_id": 4408787, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-KbDNZLk5Siw/AAAAAAAAAAI/AAAAAAAAADw/RFrz3xexfHU/photo.jpg?sz=128", "display_name": "Allen Wang", "link": "https://stackoverflow.com/users/4408787/allen-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1496271521, "creation_date": 1496266146, "question_id": 44294973, "link": "https://stackoverflow.com/questions/44294973/negating-a-custom-unittest-in-python", "title": "negating a custom unittest in python", "body": "<p>I've written a custom assertion to test if two lists of objects contain objects with the same attributes, and now I want to use the negation of the test to check if two lists are unequal.</p>\n\n<pre><code>from unittest import TestCase\nfrom classes import *\n\nclass BaseTestCase(TestCase):\n    def assertCountObjectsEqual(self, list1, list2):\n        if len(list1) != len(list2):\n            raise AssertionError(\"lists must be the same length\")\n        elif any(t1.__class__ != t2.__class__ or t1.__dict__ != t2.__dict__ for t1, t2 in zip(list1, list2)):\n            raise AssertionError(\"objects are not the same\")\n        else:\n            pass\n</code></pre>\n\n<p>The positive case works</p>\n\n<pre><code>class TestFillDemand(BaseTestCase):\n    def test_fruit(self):\n        self.assertCountObjectsEqual([Apple(), Apple(), Banana()], [Apple(), Apple(), Banana()])\n</code></pre>\n\n<p>But I want to be able to reuse the code for something like the following:</p>\n\n<pre><code>    def test_fruit_unequal(self):\n        self.assertRaises(AssertionError, self.assertCountObjectsEqual([Apple(), Apple(), Banana()], [Apple(), Banana()]))\n</code></pre>\n\n<p>rather than having to redefine an <code>assertCountObjectsUnequal</code> method. Unfortunately the above code doesn't work.</p>\n\n<p>Is there an easy way to do that?</p>\n"}, {"tags": ["python", "scala", "apache-spark", "spark-dataframe", "bigdata"], "answers": [{"comments": [{"owner": {"reputation": 625, "user_id": 4556463, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-LTTWwf8sHS0/AAAAAAAAAAI/AAAAAAAAAa8/TcXzKa1HB74/photo.jpg?sz=128", "display_name": "Ross Lewis", "link": "https://stackoverflow.com/users/4556463/ross-lewis"}, "edited": false, "score": 1, "creation_date": 1496275712, "post_id": 44295512, "comment_id": 75599098, "body": "Thanks!  <a href=\"https://stackoverflow.com/questions/44296484/how-do-i-set-infinite-or-nan-values-to-0-in-spark\">Here is a follow up if you&#39;re interested</a>"}], "tags": [], "owner": {"reputation": 617, "user_id": 2547342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dd9lM.jpg?s=128&g=1", "display_name": "rawkintrevo", "link": "https://stackoverflow.com/users/2547342/rawkintrevo"}, "is_accepted": true, "score": 9, "last_activity_date": 1553063021, "last_edit_date": 1553063021, "creation_date": 1496268954, "answer_id": 44295512, "question_id": 44294972, "link": "https://stackoverflow.com/questions/44294972/how-do-i-increase-decimal-precision-in-spark/44295512#44295512", "title": "How do I increase decimal precision in Spark?", "body": "<p>I think the error is pretty self explanatory- you need to be using a <code>DecimalType</code> not a <code>DoubleType</code>.</p>\n\n<p>Try this:</p>\n\n<pre><code>...\n.cast(DecimalType(6)))\n</code></pre>\n\n<p>Read on:</p>\n\n<p><a href=\"https://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/types/DecimalType.html\" rel=\"noreferrer\">https://spark.apache.org/docs/2.1.0/api/java/org/apache/spark/sql/types/DecimalType.html</a></p>\n\n<p><a href=\"http://spark.apache.org/docs/2.0.2/api/python/_modules/pyspark/sql/types.html\" rel=\"noreferrer\">http://spark.apache.org/docs/2.0.2/api/python/_modules/pyspark/sql/types.html</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/36349585/datatype-for-handling-big-numbers-in-pyspark\">datatype for handling big numbers in pyspark</a></p>\n"}], "owner": {"reputation": 625, "user_id": 4556463, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-LTTWwf8sHS0/AAAAAAAAAAI/AAAAAAAAAa8/TcXzKa1HB74/photo.jpg?sz=128", "display_name": "Ross Lewis", "link": "https://stackoverflow.com/users/4556463/ross-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13678, "favorite_count": 0, "accepted_answer_id": 44295512, "answer_count": 1, "score": 4, "last_activity_date": 1553063021, "creation_date": 1496266145, "last_edit_date": 1506102531, "question_id": 44294972, "link": "https://stackoverflow.com/questions/44294972/how-do-i-increase-decimal-precision-in-spark", "title": "How do I increase decimal precision in Spark?", "body": "<p>I have a large DataFrame made up of ~550 columns of doubles and two columns of longs (ids).  The 550 columns are being read in from a csv, and I add two id columns.  The only other things I do with the data is change some of the csv data from strings to doubles (\"Inf\" -> \"0\" then cast the column to double) and replace NaN's with 0:</p>\n\n<pre><code>df = df.withColumn(col.name + \"temp\", \n                             regexp_replace(\n                                 regexp_replace(df(col.name),\"Inf\",\"0\")\n                                 ,\"NaN\",\"0\").cast(DoubleType))\ndf = df.drop(col.name).withColumnRenamed(col.name + \"temp\",col.name)\ndf = df.withColumn(\"timeId\", monotonically_increasing_id.cast(LongType))\ndf = df.withColumn(\"patId\", lit(num).cast(LongType))\ndf = df.na.fill(0)\n</code></pre>\n\n<p>When I do a count, I get the following error:</p>\n\n<pre><code>IllegalArgumentException: requirement failed: Decimal precision 6 exceeds max precision 5\n</code></pre>\n\n<p>There are hundreds of thousands of rows, and I'm reading in the data from multiple csvs.  How do I increase the decimal precision?  Is there something else that could be going on?  I am only getting this error when I read in some of the csvs.  Could they have more decimals than the others?</p>\n"}, {"tags": ["python", "python-2.7", "anaconda", "homebrew"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1496268254, "post_id": 44294962, "comment_id": 75597011, "body": "Might be related to <a href=\"https://github.com/pypa/virtualenv/issues/741\" rel=\"nofollow noreferrer\">github.com/pypa/virtualenv/issues/741</a> and <a href=\"https://github.com/conda/conda/issues/1367\" rel=\"nofollow noreferrer\">github.com/conda/conda/issues/1367</a>, which suggest something about <a href=\"https://github.com/conda/conda/issues/1367#issuecomment-263964339\" rel=\"nofollow noreferrer\">The best solution I know of now is to downgrade to python 2.7.9.</a>"}, {"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1496335200, "post_id": 44294962, "comment_id": 75631423, "body": "@downshift if you post that as an answer I can check solved for you"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1496336047, "post_id": 44294962, "comment_id": 75631845, "body": "I only posted it as a comment because it possibly would not be the same solution, did you try downgrade to python 2.7.9 and you are now able to make virtual environments?"}, {"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1496342542, "post_id": 44294962, "comment_id": 75635290, "body": "yeah that fixed it."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1496342792, "post_id": 44294962, "comment_id": 75635432, "body": "Okay cool, I don&#39;t know if it&#39;s a legitimate answer, but I&#39;ll go ahead and post it anyway since you said it did fix it. Thanks for your feedback @chibro."}], "answers": [{"tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": true, "score": 1, "last_activity_date": 1496342885, "creation_date": 1496342885, "answer_id": 44314956, "question_id": 44294962, "link": "https://stackoverflow.com/questions/44294962/cannot-use-virtual-env/44314956#44314956", "title": "Cannot use virtual env", "body": "<p>As discussed in the comments, the problem was related to <a href=\"http://github.com/pypa/virtualenv/issues/741\" rel=\"nofollow noreferrer\">http://github.com/pypa/virtualenv/issues/741</a> and <a href=\"http://github.com/conda/conda/issues/1367\" rel=\"nofollow noreferrer\">http://github.com/conda/conda/issues/1367</a>, which suggest <a href=\"https://github.com/conda/conda/issues/1367#issuecomment-263964339\" rel=\"nofollow noreferrer\">The best solution I know of now is to downgrade to python 2.7.9</a>, and was confirmed by the OP.</p>\n"}], "owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 44314956, "answer_count": 1, "score": 0, "last_activity_date": 1497345076, "creation_date": 1496266098, "last_edit_date": 1497345076, "question_id": 44294962, "link": "https://stackoverflow.com/questions/44294962/cannot-use-virtual-env", "title": "Cannot use virtual env", "body": "<p>I am on a Mac OS X Yosemite. I have anaconda installed on my computer, and when I make a new virtualenv with <code>virtualenv foo</code>, I get error:</p>\n\n<pre><code>...Installing setuptools, pip, wheel...done.\nTraceback (most recent call last):\n  File \"/Users/lingxiao/anaconda/bin/virtualenv\", line 11, in &lt;module&gt;\n    sys.exit(main())\n  File \"/Users/lingxiao/anaconda/lib/python2.7/site-packages/virtualenv.py\", line 713, in main\n    symlink=options.symlink)\n  File \"/Users/lingxiao/anaconda/lib/python2.7/site-packages/virtualenv.py\", line 945, in create_environment\n    download=download,\n  File \"/Users/lingxiao/anaconda/lib/python2.7/site-packages/virtualenv.py\", line 901, in install_wheel\n    call_subprocess(cmd, show_stdout=False, extra_env=env, stdin=SCRIPT)\n  File \"/Users/lingxiao/anaconda/lib/python2.7/site-packages/virtualenv.py\", line 797, in call_subprocess\n    % (cmd_desc, proc.returncode))\nOSError: Command /Users/lingxiao/Docu...board/foo/bin/python - setuptools pip wheel failed with error code 1\n</code></pre>\n\n<p>Is this because of Anaconda? when I do <code>which python</code>  I see </p>\n\n<pre><code>/Users/myname/anaconda/bin/python\n</code></pre>\n\n<p>and when I list <code>brew list python</code> I see:</p>\n\n<pre><code>/usr/local/Cellar/python/2.7.13/bin/2to3\n/usr/local/Cellar/python/2.7.13/bin/2to3-2\n/usr/local/Cellar/python/2.7.13/bin/2to3-2.7\n/usr/local/Cellar/python/2.7.13/bin/idle\n/usr/local/Cellar/python/2.7.13/bin/idle2\n/usr/local/Cellar/python/2.7.13/bin/idle2.7\n/usr/local/Cellar/python/2.7.13/bin/pydoc\n/usr/local/Cellar/python/2.7.13/bin/pydoc2\n/usr/local/Cellar/python/2.7.13/bin/pydoc2.7\n/usr/local/Cellar/python/2.7.13/bin/python\n/usr/local/Cellar/python/2.7.13/bin/python-config\n/usr/local/Cellar/python/2.7.13/bin/python2\n/usr/local/Cellar/python/2.7.13/bin/python2-config\n/usr/local/Cellar/python/2.7.13/bin/python2.7\n/usr/local/Cellar/python/2.7.13/bin/python2.7-config\n/usr/local/Cellar/python/2.7.13/bin/pythonw\n/usr/local/Cellar/python/2.7.13/bin/pythonw2\n/usr/local/Cellar/python/2.7.13/bin/pythonw2.7\n/usr/local/Cellar/python/2.7.13/bin/smtpd.py\n/usr/local/Cellar/python/2.7.13/bin/smtpd2.7.py\n/usr/local/Cellar/python/2.7.13/bin/smtpd2.py\n/usr/local/Cellar/python/2.7.13/Frameworks/Python.framework/ (2102 files)\n/usr/local/Cellar/python/2.7.13/IDLE.app/Contents/ (8 files)\n/usr/local/Cellar/python/2.7.13/lib/pkgconfig/ (3 files)\n/usr/local/Cellar/python/2.7.13/libexec/pip/ (291 files)\n/usr/local/Cellar/python/2.7.13/libexec/setuptools/ (152 files)\n/usr/local/Cellar/python/2.7.13/libexec/wheel/ (54 files)\n/usr/local/Cellar/python/2.7.13/Python Launcher.app/Contents/ (17 files)\n/usr/local/Cellar/python/2.7.13/share/man/ (3 files)\n/usr/local/Cellar/python/2.7.13/share/python/ (315 files)\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql", "django-models"], "comments": [{"owner": {"reputation": 2389, "user_id": 4033315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dbaa2034e4c433ebb6c11f22926034c?s=128&d=identicon&r=PG&f=1", "display_name": "Geotob", "link": "https://stackoverflow.com/users/4033315/geotob"}, "edited": false, "score": 0, "creation_date": 1496267441, "post_id": 44294961, "comment_id": 75596726, "body": "It&#39;s hard to help without seeing some of the code you have. When you delete an object from the DB, it&#39;s gone and won&#39;t be picked up by a new Django queryset. Maybe you&#39;re using a cached QS? Maybe you haven&#39;t actually deleted the object? Maybe something in your script is re-creating it?"}, {"owner": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "reply_to_user": {"reputation": 2389, "user_id": 4033315, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6dbaa2034e4c433ebb6c11f22926034c?s=128&d=identicon&r=PG&f=1", "display_name": "Geotob", "link": "https://stackoverflow.com/users/4033315/geotob"}, "edited": false, "score": 0, "creation_date": 1496270465, "post_id": 44294961, "comment_id": 75597768, "body": "I can post some of the code above, myself I can&#39;t see where the problem is in the code. I notice also that if I add records to a table outside of the script/not using django, then when I run the script it doesn&#39;t see them."}], "answers": [{"comments": [{"owner": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "edited": false, "score": 0, "creation_date": 1496329172, "post_id": 44295270, "comment_id": 75627444, "body": "Thanks for the reply. I think the issue really is that the table is getting cached - when I delete records outside of the admin tool, which I will need to do, django still sees them."}, {"owner": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "edited": false, "score": 0, "creation_date": 1496331409, "post_id": 44295270, "comment_id": 75629245, "body": "Or perhaps it&#39;s not a cache but has to do with a transaction"}], "tags": [], "owner": {"reputation": 568, "user_id": 5778109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6525fca1540603b9addc12300aef3e57?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Wankhede", "link": "https://stackoverflow.com/users/5778109/akash-wankhede"}, "is_accepted": false, "score": 0, "last_activity_date": 1496267717, "creation_date": 1496267717, "answer_id": 44295270, "question_id": 44294961, "link": "https://stackoverflow.com/questions/44294961/objects-deleted-from-table-still-persist-when-accessing-model-objects-via-django/44295270#44295270", "title": "objects deleted from table still persist when accessing model objects via django", "body": "<p>If you need to delete all/specific entries from database table, you can do that through Django admin panel by registering your models in admin.py file,</p>\n\n<p>First, create superuser by typing command,</p>\n\n<pre><code>python manage.py createsuperuser\n</code></pre>\n\n<p>In your admin.py file,</p>\n\n<pre><code>from django.contrib import admin\n\nadmin.site.register(YourModelName)\n</code></pre>\n\n<p>Now, login with your superuser in django admin panel and delete required entries. I hope this helps.</p>\n"}], "owner": {"reputation": 394, "user_id": 2465307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/153b302e7122e56490536469ab531c68?s=128&d=identicon&r=PG", "display_name": "kflaw", "link": "https://stackoverflow.com/users/2465307/kflaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496270663, "creation_date": 1496266096, "last_edit_date": 1496270663, "question_id": 44294961, "link": "https://stackoverflow.com/questions/44294961/objects-deleted-from-table-still-persist-when-accessing-model-objects-via-django", "title": "objects deleted from table still persist when accessing model objects via django", "body": "<p>I am working on a django app with a postgresql backend. I am working on a separate python script to access the table (model via django) to make some modifcations, then launch web forms for the modified records. In my testing I have gone into the database outside of the script and deleted records, and when I run the script again, the deleted records still persist. Why is this happening and how can I make sure the table is refreshed each time I run the script? I have tried iterating over the objects in the model I am accessing and using <code>object.refresh_from_db()</code> but this doesn't seem to do anything. Can anyone help?</p>\n\n<p>Here is a snippet of code where I am trying to access existing records:</p>\n\n<pre><code>from django.conf import settings\n    # from update import update_defaults\n    # settings.configure(default_settings=update_defaults, DEBUG=True)\n    os.environ['DJANGO_SETTINGS_MODULE'] = 'mapindex.settings'\n    django.setup()\n    # from django.conf import settings\n\nfrom update.models import Mapindex\nfor m in Mapindex.objects.all():\n         m.refresh_from_db()\n         existing_oid_list.append(m.objectid)\n         print m.sheetlabel, m.county, m.status\n         if m.sheetlabel in img_list_shtlbls and m.status == 'Active':\n             print 'setting', m.sheetlabel, 'status to superseded...'\n             print 'superseded objectid =', m.objectid\n             m.status = 'Superseded'\n             m.publish = 'No'\n             m.save()\n</code></pre>\n\n<p>What other info would be helpful to post? Here is my settings.py if is helpful:</p>\n\n<pre><code>\"\"\"\nDjango settings for mapindex project.\n\nGenerated by 'django-admin startproject' using Django 1.11a1.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/dev/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/dev/ref/settings/\n\"\"\"\n\nimport os\nimport sys\n\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/dev/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = 'urpz542i6mx*d07dbe&amp;^ko1)u2w+z7n1er=6k913+)3ot89h2d'\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = True\n\nALLOWED_HOSTS = []\n\n\n# Application definition\n\nINSTALLED_APPS = [\n    'update.apps.UpdateConfig',\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'django_windows_tools',\n]\n\n\nMIDDLEWARE_CLASSES = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n\nROOT_URLCONF = 'mapindex.urls'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'mapindex.wsgi.application'\n\n\nif 'test' in sys.argv:\n    DATABASES = {\n        'default': {\n            'ENGINE': 'django.db.backends.postgresql_psycopg2',\n            'OPTIONS': {\n                'options': '-c search_path=django,public'\n            },\n            'NAME': 'rowbasedata',\n            'USER': 'postgres',\n            'PASSWORD': 'pg*admin',\n            'HOST': '10.32.2.193',\n            'PORT': '5432'\n        }\n    }\nelse:\n    DATABASES = {\n        'default': {\n            'ENGINE': 'django.db.backends.postgresql_psycopg2',\n            'OPTIONS' : {\n                   'options': '-c search_path=django,sde'\n            },\n            'NAME': 'rowbasedata',\n            'USER': 'postgres',\n            'PASSWORD': 'pg*admin',\n            'HOST': '10.32.2.193',\n            'PORT': '5432'\n        }\n    }\n\n\n# Password validation\n# https://docs.djangoproject.com/en/dev/ref/settings/#auth-password-validators\n\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\n    },\n]\n\n\n# Internationalization\n# https://docs.djangoproject.com/en/dev/topics/i18n/\n\nLANGUAGE_CODE = 'en-us'\n\nTIME_ZONE = 'America/Los_Angeles'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/dev/howto/static-files/\nSTATIC_ROOT = os.path.join(BASE_DIR, 'mapindex', 'static')\nSTATIC_URL = '/mapindex/static/'\n</code></pre>\n"}, {"tags": ["python", "pytest", "fixture"], "answers": [{"tags": [], "owner": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "is_accepted": false, "score": 1, "last_activity_date": 1496268227, "creation_date": 1496268227, "answer_id": 44295378, "question_id": 44294950, "link": "https://stackoverflow.com/questions/44294950/return-variable-from-conftest-to-test-class/44295378#44295378", "title": "Return variable from conftest to test class", "body": "<p>I believe that <code>@pytest.mark.usefixtures</code> is more meant for state alteration prior to the execution of each test. From the docs:</p>\n\n<p>\"Sometimes test functions do not directly need access to a fixture object.\"</p>\n\n<p><a href=\"https://docs.pytest.org/en/latest/fixture.html#using-fixtures-from-classes-modules-or-projects\" rel=\"nofollow noreferrer\">https://docs.pytest.org/en/latest/fixture.html#using-fixtures-from-classes-modules-or-projects</a></p>\n\n<p>Meaning that your fixture is running at the start of each test, but your functions do not have access to it.</p>\n\n<p>When your tests need access to the object returned by your fixture, it should be already populated by name when placed in <code>conftest.py</code> and marked with <code>@pytest.fixture</code>. All you need to do is then delcare the name of the fixture as an argument to your test function, like so:</p>\n\n<p><a href=\"https://docs.pytest.org/en/latest/fixture.html#using-fixtures-from-classes-modules-or-projects\" rel=\"nofollow noreferrer\">https://docs.pytest.org/en/latest/fixture.html#using-fixtures-from-classes-modules-or-projects</a></p>\n\n<p>If you prefer to do this on a class or module level, you want to change the <code>scope</code> of your <code>@pytest.fixture</code> statement, like so:</p>\n\n<p><a href=\"https://docs.pytest.org/en/latest/fixture.html#sharing-a-fixture-across-tests-in-a-module-or-class-session\" rel=\"nofollow noreferrer\">https://docs.pytest.org/en/latest/fixture.html#sharing-a-fixture-across-tests-in-a-module-or-class-session</a></p>\n\n<p>Sorry for so many links to the docs, but I think they have good examples. Hope that clears things up.</p>\n"}], "owner": {"reputation": 11, "user_id": 6896235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf017f71ca067152d4140ca1dd61e934?s=128&d=identicon&r=PG&f=1", "display_name": "saka", "link": "https://stackoverflow.com/users/6896235/saka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1354, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496268227, "creation_date": 1496266055, "last_edit_date": 1496267757, "question_id": 44294950, "link": "https://stackoverflow.com/questions/44294950/return-variable-from-conftest-to-test-class", "title": "Return variable from conftest to test class", "body": "<p>I have the following scripts:</p>\n\n<p><strong>conftest.py</strong>:</p>\n\n<pre><code>import pytest\n@pytest.fixture(scope=\"session\")\ndef setup_env(request):\n    # run some setup\n    return(\"result\")\n</code></pre>\n\n<p><strong>test.py</strong>:</p>\n\n<pre><code>import pytest\n@pytest.mark.usefixtures(\"setup_env\")\nclass TestDirectoryInit(object):   \n    def setup(cls):\n        print(\"this is setup\")\n        ret=setup_env()\n        print(ret)\n\n    def test1():\n        print(\"test1\")\n\n    def teardown(cls):\n        print(\"this teardown\")\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>    def setup(cls):\n        print(\"this is setup\")\n&gt;       ret=setup_env()\nE       NameError: name 'setup_env' is not defined\n</code></pre>\n\n<p>In <code>setup()</code>, I want to get the return value \"result\" from <code>setup_env()</code> in <code>conftest.py</code>.</p>\n\n<p>Could any expert guide me how to do it?</p>\n"}, {"tags": ["python", "pandas", "join", "dataframe", "merge"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1496266164, "post_id": 44294936, "comment_id": 75596211, "body": "make sure that <code>Time</code> column is of the same dtype in both DFs"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1496308660, "post_id": 44294936, "comment_id": 75611991, "body": "Would you move your solution to an answer box, please? We do not put solutions in questions here. If you wish to ask whether it is a good solution you can ask people who have made other answers."}, {"owner": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1496420185, "post_id": 44294936, "comment_id": 75670444, "body": "@halfer Looks like you edited my post for me. Is there anything left I need to do? I&#39;m afraid I don&#39;t know what &#39;answer box&#39; you&#39;re referring to..."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1496420570, "post_id": 44294936, "comment_id": 75670632, "body": "If you would like to do as I&#39;ve suggested, click on the &#39;Answer Your Question&#39; button below, post your &quot;Solution found&quot; material in the box that appears, and then remove that material from your question. We like to have some separation between question material and answer material here, it makes things clearer. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 0, "creation_date": 1496267978, "post_id": 44294995, "comment_id": 75596920, "body": "So then there indeed is little-to-no difference in <code>join</code> vs. <code>merge</code>? Interesting. And by your example, it looks like <code>concat</code> results in exactly what I desired, albeit with some arguments that I don&#39;t understand the function of. Can you explain what&#39;s going on there? Where is <code>d</code> coming from? And what&#39;s the purpose of <code>reset_index</code>? (I thought <code>Time</code> <i>was</i> my index?)"}, {"owner": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 0, "creation_date": 1496268329, "post_id": 44294995, "comment_id": 75597040, "body": "To expand on the use of <code>concat</code> in this case: I attempted to implement it as you have written, but resulted in a similar output as with <code>merge</code>. That is: the data combined <i>mostly</i> as I had hoped for, but every Nth row does not merge, as shown in my original post.  Considering that multiple methods are producing identical results, it would seem to me that the problem isn&#39;t necessarily the method, but something in my data. Could it be an issue with size? Speed? What would cause it to regularly skip combining rows?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 1, "creation_date": 1496268589, "post_id": 44294995, "comment_id": 75597121, "body": "I think @MaxU is identifying you issue.  Try <code>A = A.astype.float()</code> and <code>B = B.astype(float)</code> prior to joining."}, {"owner": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 0, "creation_date": 1496270394, "post_id": 44294995, "comment_id": 75597747, "body": "Just tried this, but there was no change in the output. Every 8th or 9th row doesn&#39;t combine.  :("}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 0, "creation_date": 1496270471, "post_id": 44294995, "comment_id": 75597776, "body": "@J.Day Can you output <code>A.dtypes</code> and <code>B.dtypes</code> and include it in your post?"}, {"owner": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 0, "creation_date": 1496272791, "post_id": 44294995, "comment_id": 75598381, "body": "I verified that the dtypes of &#39;Time&#39; in both DF&#39;s is &#39;float64&#39;. However, I found a workaround based on @MaxU&#39;s respond above, and I have updated my initial post to reflect it. Is there anything wrong with the method I posted in my edit?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 1, "creation_date": 1496272890, "post_id": 44294995, "comment_id": 75598411, "body": "@J.Day That looks good to me.  I&#39;d definitely choose MaxU&#39;s answer."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 8, "last_activity_date": 1496268368, "last_edit_date": 1496268368, "creation_date": 1496266235, "answer_id": 44294995, "question_id": 44294936, "link": "https://stackoverflow.com/questions/44294936/pandas-join-merge-concat-two-dataframes-and-combine-rows-of-identical-key-index/44294995#44294995", "title": "Pandas join/merge/concat two DataFrames and combine rows of identical key/index", "body": "<p><strong><code>merge</code></strong><br>\n<em><code>merge</code> combines on columns.  By default it takes all commonly named columns.  Otherwise, you can specify which columns to combine on.  In this example, I chose, <code>Time</code>.</em></p>\n\n<pre><code>A.merge(B, 'outer', 'Time')\n\n   Time  Voltage  Current\n0   1.0      5.1      0.3\n1   2.0      5.5      0.4\n2   3.0      5.3      0.7\n3   4.0      5.4      NaN\n4   5.0      5.0      NaN\n5  -1.0      NaN      0.5\n6   0.0      NaN      0.6\n</code></pre>\n\n<p><strong><code>join</code></strong><br>\n<em><code>join</code> combines on index values unless you specify the left hand side's column instead.  That is why I set the index for the right hand side and Specify a column for the left hand side <code>Time</code>.</em>  </p>\n\n<pre><code>A.join(B.set_index('Time'), 'Time', 'outer')\n\n   Time  Voltage  Current\n0   1.0      5.1      0.3\n1   2.0      5.5      0.4\n2   3.0      5.3      0.7\n3   4.0      5.4      NaN\n4   5.0      5.0      NaN\n4  -1.0      NaN      0.5\n4   0.0      NaN      0.6    \u200b\n</code></pre>\n\n<p><strong><code>pd.concat</code></strong><br>\n<em><code>concat</code> combines on index values... so I create a list comprehension in which I iterate over each dataframe I want to combine <code>[A, B]</code>.  In the comprehension, each dataframe assumes the name <code>d</code>, hence the <code>for d in [A, B]</code>.  <code>axis=1</code> says to combine them side by side thus using the index as the joining feature.</em></p>\n\n<pre><code>pd.concat([d.set_index('Time') for d in [A, B]], axis=1).reset_index()\n\n   Time  Voltage  Current\n0  -1.0      NaN      0.5\n1   0.0      NaN      0.6\n2   1.0      5.1      0.3\n3   2.0      5.5      0.4\n4   3.0      5.3      0.7\n5   4.0      5.4      NaN\n6   5.0      5.0      NaN\n</code></pre>\n\n<p><strong><code>combine_first</code></strong>  </p>\n\n<pre><code>A.set_index('Time').combine_first(B.set_index('Time')).reset_index()\n\n   Time  Current  Voltage\n0  -1.0      0.5      NaN\n1   0.0      0.6      NaN\n2   1.0      0.3      5.1\n3   2.0      0.4      5.5\n4   3.0      0.7      5.3\n5   4.0      NaN      5.4\n6   5.0      NaN      5.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 0, "creation_date": 1496267775, "post_id": 44294998, "comment_id": 75596837, "body": "I&#39;ve verified that the datatypes are the same (float64) for the &#39;Time&#39; column in both DF&#39;s. Using the <code>merge</code> method as you&#39;ve suggested results in similar inconsistent merging, similar to my example of <code>A.merge</code> in my initial post. In this instance, the data DOES get ordered, but every Nth row doesn&#39;t combine. I wish I could include an example but the char count is too low..."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 0, "creation_date": 1496268306, "post_id": 44294998, "comment_id": 75597029, "body": "@J.Day, try this: <code>pd.merge_ordered(A.assign(Time=A.Time.round(4)), B.assign(Time=B.Time.round(4)))</code>"}, {"owner": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "edited": false, "score": 0, "creation_date": 1496270020, "post_id": 44294998, "comment_id": 75597621, "body": "I think I understand where this is going. The only caveat is that my actual data column name is &#39;Time, (sec)&#39;, not just &#39;Time&#39; (I simplified my initial example for the sake of brevity). How can I write this line to accommodate the extra punctuation in the name?"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1496266827, "last_edit_date": 1496266827, "creation_date": 1496266244, "answer_id": 44294998, "question_id": 44294936, "link": "https://stackoverflow.com/questions/44294936/pandas-join-merge-concat-two-dataframes-and-combine-rows-of-identical-key-index/44294998#44294998", "title": "Pandas join/merge/concat two DataFrames and combine rows of identical key/index", "body": "<p>It should work properly if the <code>Time</code> column is of the same dtype in both DFs:</p>\n\n<pre><code>In [192]: A.merge(B, how='outer').sort_values('Time')\nOut[192]:\n   Time  Voltage  Current\n5  -1.0      NaN      0.5\n6   0.0      NaN      0.6\n0   1.0      5.1      0.3\n1   2.0      5.5      0.4\n2   3.0      5.3      0.7\n3   4.0      5.4      NaN\n4   5.0      5.0      NaN\n\nIn [193]: A.dtypes\nOut[193]:\nTime       float64\nVoltage    float64\ndtype: object\n\nIn [194]: B.dtypes\nOut[194]:\nTime       float64\nCurrent    float64\ndtype: object\n</code></pre>\n\n<p>Reproducing your problem:</p>\n\n<pre><code>In [198]: A.merge(B.assign(Time=B.Time.astype(str)), how='outer').sort_values('Time')\nOut[198]:\n   Time  Voltage  Current\n5  -1.0      NaN      0.5\n6   0.0      NaN      0.6\n0   1.0      5.1      NaN\n7   1.0      NaN      0.3\n1   2.0      5.5      NaN\n8   2.0      NaN      0.4\n2   3.0      5.3      NaN\n9   3.0      NaN      0.7\n3   4.0      5.4      NaN\n4   5.0      5.0      NaN\n\nIn [199]: B.assign(Time=B.Time.astype(str)).dtypes\nOut[199]:\nTime        object   # &lt;------ NOTE\nCurrent    float64\ndtype: object\n</code></pre>\n\n<p>Visually it's hard to distinguish:</p>\n\n<pre><code>In [200]: B.assign(Time=B.Time.astype(str))\nOut[200]:\n   Time  Current\n0  -1.0      0.5\n1   0.0      0.6\n2   1.0      0.3\n3   2.0      0.4\n4   3.0      0.7\n\nIn [201]: B\nOut[201]:\n   Time  Current\n0  -1.0      0.5\n1   0.0      0.6\n2   1.0      0.3\n3   2.0      0.4\n4   3.0      0.7\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "is_accepted": false, "score": 0, "last_activity_date": 1496427104, "creation_date": 1496427104, "answer_id": 44335082, "question_id": 44294936, "link": "https://stackoverflow.com/questions/44294936/pandas-join-merge-concat-two-dataframes-and-combine-rows-of-identical-key-index/44335082#44335082", "title": "Pandas join/merge/concat two DataFrames and combine rows of identical key/index", "body": "<p><strong><em>Solution found</em></strong>\nAs per the suggestions below, I had to round the numbers in the 'Time' column prior to merging them, despite the fact that they were both of the same dtype (float64). The suggestion was to round like so:</p>\n\n<pre><code>A = A.assign(A.Time = A.Time.round(4))\n</code></pre>\n\n<p>But in my actual situation, the column was labeled 'Time, (sec)' (there was punctuation that screwed with the assignment. So instead I used the following line to round it:</p>\n\n<pre><code>A['Time, (sec)'] = A['Time, (sec)'].round(4)\n</code></pre>\n\n<p>And it worked like a charm. Are there any issues with doing it like that?</p>\n"}], "owner": {"reputation": 71, "user_id": 8093010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/969210ac91539cafd03ee2c113d92e43?s=128&d=identicon&r=PG&f=1", "display_name": "J. Day", "link": "https://stackoverflow.com/users/8093010/j-day"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5270, "favorite_count": 1, "closed_date": 1544182741, "answer_count": 3, "score": 5, "last_activity_date": 1496427104, "creation_date": 1496265992, "last_edit_date": 1496427088, "question_id": 44294936, "link": "https://stackoverflow.com/questions/44294936/pandas-join-merge-concat-two-dataframes-and-combine-rows-of-identical-key-index", "closed_reason": "Duplicate", "title": "Pandas join/merge/concat two DataFrames and combine rows of identical key/index", "body": "<p>I am attempting to <em>combine</em> two sets of data, but I can't figure out which method is most suitable (join, merge, concat, etc.) for this application, and the documentation doesn't have any examples that do what I need to do.</p>\n\n<p>I have two sets of data, structured like so:</p>\n\n<pre><code>&gt;&gt;&gt; A\nTime     Voltage\n1.0      5.1\n2.0      5.5\n3.0      5.3\n4.0      5.4\n5.0      5.0\n\n&gt;&gt;&gt; B\nTime     Current\n-1.0     0.5\n0.0      0.6\n1.0      0.3\n2.0      0.4\n3.0      0.7\n</code></pre>\n\n<p>I would like to combine the data columns and merge the 'Time' column together so that I get the following:</p>\n\n<pre><code>&gt;&gt;&gt; AB\nTime     Voltage     Current\n-1.0                 0.5\n0.0                  0.6\n1.0      5.1         0.3\n2.0      5.5         0.4\n3.0      5.3         0.7\n4.0      5.4            \n5.0      5.0            \n</code></pre>\n\n<p>I've tried <code>AB = merge_ordered(A, B, on='Time', how='outer')</code>, and while it successfully combined the data, it output something akin to:</p>\n\n<pre><code>&gt;&gt;&gt; AB\nTime     Voltage     Current\n-1.0                 0.5\n0.0                  0.6\n1.0      5.1            \n1.0                  0.3\n2.0      5.5            \n2.0                  0.4\n3.0      5.3            \n3.0                  0.7\n4.0      5.4            \n5.0      5.0            \n</code></pre>\n\n<p>You'll note that it did not combine rows with shared 'Time' values.</p>\n\n<p>I have also tried merging a la <code>AB = A.merge(B, on='Time', how='outer')</code>, but that outputs something combined, but not sorted, like so:</p>\n\n<pre><code>&gt;&gt;&gt; AB\nTime     Voltage     Current\n-1.0                 0.5\n0.0                  0.6\n1.0      5.1            \n2.0      5.5            \n3.0      5.3         0.7\n4.0      5.4            \n5.0      5.0            \n1.0                  0.3\n2.0                  0.4\n</code></pre>\n\n<p>...it essentially skips <em>some</em> of the data in 'Current' and appends it to the bottom, but it does so inconsistently. And again, it does not merge the rows together.</p>\n\n<p>I have <em>also</em> tried <code>AB = pandas.concat(A, B, axis=1)</code>, but the result does not get merged. I simply get, well, the concatenation of the two DataFrames, like so:</p>\n\n<pre><code>&gt;&gt;&gt; AB\nTime     Voltage     Time     Current\n1.0      5.1         -1.0     0.5\n2.0      5.5         0.0      0.6\n3.0      5.3         1.0      0.3\n4.0      5.4         2.0      0.4\n5.0      5.0         3.0      0.7\n</code></pre>\n\n<p>I've been scouring the documentation and here to try to figure out the exact differences between <code>merge</code> and <code>join</code>, but from what I gather they're pretty similar. Still, I haven't found anything that specifically answers the question of \"how to merge rows that share an identical key/index\". Can anyone enlighten me on how to do this? I only have a few days-worth of experience with Pandas!</p>\n"}, {"tags": ["python", "loops", "while-loop"], "comments": [{"owner": {"reputation": 529, "user_id": 7401196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743a2271f4fff01a3667ec33f15e9023?s=128&d=identicon&r=PG&f=1", "display_name": "E.D.", "link": "https://stackoverflow.com/users/7401196/e-d"}, "edited": false, "score": 1, "creation_date": 1496266027, "post_id": 44294901, "comment_id": 75596160, "body": "So, you&#39;re checking if initial is greater than 15, but where is the part where you store a bigger number in initial?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1496266218, "post_id": 44294901, "comment_id": 75596241, "body": "Try to debug your code. One way to do that is to print the value of <code>initial</code> and <code>total</code> inside your <code>while</code> loop."}], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 6596057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PMq5h.png?s=128&g=1", "display_name": "BluCode", "link": "https://stackoverflow.com/users/6596057/blucode"}, "is_accepted": true, "score": 1, "last_activity_date": 1496266205, "creation_date": 1496266205, "answer_id": 44294987, "question_id": 44294901, "link": "https://stackoverflow.com/questions/44294901/running-a-loop-to-return-a-value-that-is-greater-than-15/44294987#44294987", "title": "Running a loop to return a value that is greater than 15", "body": "<p>The code you have there is constantly checking whether or not <code>initial</code> is less than 15, but then changing total, and not initial. Python has a nice 'command' <code>*=</code>, which can be used to multiply a variable by some number, and then save the answer back in the variable. You can use this as follows:</p>\n\n<pre><code>def while1(initial):\n    while initial &lt; 16: #Are we done yet? (Remember to run when initial is equal to 15)\n        initial *= 2 #Double initial\n    return initial #This will only run when initial is greater than 15\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 3, "last_activity_date": 1496266218, "creation_date": 1496266218, "answer_id": 44294993, "question_id": 44294901, "link": "https://stackoverflow.com/questions/44294901/running-a-loop-to-return-a-value-that-is-greater-than-15/44294993#44294993", "title": "Running a loop to return a value that is greater than 15", "body": "<p><code>initial</code> never change, so your while loop never quits, use <code>total</code> as condition variable:</p>\n\n<pre><code>def while1(initial):\n    total = initial\n    while total &lt; 15:\n        total = total * 2\n    return total\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": false, "score": 0, "last_activity_date": 1496267152, "creation_date": 1496267152, "answer_id": 44295172, "question_id": 44294901, "link": "https://stackoverflow.com/questions/44294901/running-a-loop-to-return-a-value-that-is-greater-than-15/44295172#44295172", "title": "Running a loop to return a value that is greater than 15", "body": "<p>Just for fun, you can calculate the result directly, without any loop:</p>\n\n<pre><code>import math\n\ndef double_until_greater_than_15(x):\n    return x * 2**math.ceil(max(math.log2(16 / x), 0))\n\nprint(double_until_greater_than_15(3)) # 24\nprint(double_until_greater_than_15(2)) # 16\nprint(double_until_greater_than_15(15)) # 30\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 4298635, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3bFQcX16xMw/AAAAAAAAAAI/AAAAAAAAACg/abaUIjU66do/photo.jpg?sz=128", "display_name": "Lynds.", "link": "https://stackoverflow.com/users/4298635/lynds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 44294987, "answer_count": 3, "score": 0, "last_activity_date": 1496267152, "creation_date": 1496265833, "question_id": 44294901, "link": "https://stackoverflow.com/questions/44294901/running-a-loop-to-return-a-value-that-is-greater-than-15", "title": "Running a loop to return a value that is greater than 15", "body": "<p>I need to run a loop that will double the initial value until it is greater than 15. I can't figure out how to get it to stop at the value I want. This is the code I have so far.</p>\n\n<pre><code>def while1(initial):\n    total = 1\n    while initial &lt; 15:\n        total = initial * 2\n    return total\n\n\nprint while1(3)  # -&gt; 24\nprint while1(2)  # -&gt; 16\nprint while1(15)  # -&gt; 15\n</code></pre>\n\n<p>It isn't returning the values I want.</p>\n"}, {"tags": ["python", "c", "distutils", "python-c-extension"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1496266381, "post_id": 44294895, "comment_id": 75596296, "body": "You ar looking for the documentation. Search somewhere on python.org."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1496266398, "post_id": 44294895, "comment_id": 75596304, "body": "you&#39;re calling these functions directly or are the functions in <code>code.c</code> c-functions that can be called also from Python? In the first case you could just link to &quot;code.c&quot; (either include or like a library) and in the latter case just &quot;import&quot; the &quot;code.c&quot; python module. In case your looking for good answers, could you provide some example of the files and how you want to call them?"}, {"owner": {"reputation": 133, "user_id": 4261833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f86672c7adf2d5fb5e9af962cf0c36?s=128&d=identicon&r=PG&f=1", "display_name": "MFigueredo", "link": "https://stackoverflow.com/users/4261833/mfigueredo"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1496267844, "post_id": 44294895, "comment_id": 75596868, "body": "@MSeifert See the EDIT. But briefly, the python code calls the function in <code>main.c</code>. And only <code>main.c</code> calls the function in <code>code.c</code>."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 4261833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f86672c7adf2d5fb5e9af962cf0c36?s=128&d=identicon&r=PG&f=1", "display_name": "MFigueredo", "link": "https://stackoverflow.com/users/4261833/mfigueredo"}, "edited": false, "score": 0, "creation_date": 1496269367, "post_id": 44295486, "comment_id": 75597397, "body": "It works perfectly if you remove the <code>.h</code> from the sources list. Thanks very much my friend!!!!"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 133, "user_id": 4261833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f86672c7adf2d5fb5e9af962cf0c36?s=128&d=identicon&r=PG&f=1", "display_name": "MFigueredo", "link": "https://stackoverflow.com/users/4261833/mfigueredo"}, "edited": false, "score": 0, "creation_date": 1496269910, "post_id": 44295486, "comment_id": 75597581, "body": "@MFigueredo You&#39;re welcome. Just a question - I&#39;m not sure if I understand your comment correctly: <code>sources=[&#39;main.c&#39;, &#39;code.c&#39;]</code> (without the <code>code.h</code>) worked for you?"}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 1, "last_activity_date": 1496268817, "creation_date": 1496268817, "answer_id": 44295486, "question_id": 44294895, "link": "https://stackoverflow.com/questions/44294895/using-multiples-c-codes-in-one-extension-module-python/44295486#44295486", "title": "Using multiples C codes in one extension module Python", "body": "<p>This is too long for a comment and I'm not sure that it will fix the problem. I think it's just because it doesn't compile <code>code.c</code> and <code>code.h</code> when they are not listed explicitly as source (see <a href=\"https://docs.python.org/distutils/setupscript.html#extension-names-and-packages\" rel=\"nofollow noreferrer\">\"Extension names and packages\"</a>).</p>\n\n<p>Personally I would use either the <a href=\"https://docs.python.org/distutils/setupscript.html#other-options\" rel=\"nofollow noreferrer\"><code>depends</code></a> argument for the <code>Extension</code>:    </p>\n\n<pre><code>from glob import glob\n\next =  [Extension('main',\n                  sources=['main.c'] ,\n                  depends=glob('*.c') + glob('*.h'),\n                  extra_compile_args=['-lpq'] ,\n                  extra_link_args=['-L/usr/local/pgsql/lib','-lpq'],\n                  language=['c']\n                  )\n        ]\n</code></pre>\n\n<p>or list all the files in <code>source</code>:</p>\n\n<pre><code>ext =  [Extension('main',\n                  sources=['main.c', 'code.h', 'code.c'] ,\n                  extra_compile_args=['-lpq'] ,\n                  extra_link_args=['-L/usr/local/pgsql/lib','-lpq'],\n                  language=['c']\n                  )\n        ]\n</code></pre>\n\n<p>Not sure if the order of the source files or depends files matters...</p>\n"}], "owner": {"reputation": 133, "user_id": 4261833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f86672c7adf2d5fb5e9af962cf0c36?s=128&d=identicon&r=PG&f=1", "display_name": "MFigueredo", "link": "https://stackoverflow.com/users/4261833/mfigueredo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 2, "accepted_answer_id": 44295486, "answer_count": 1, "score": 1, "last_activity_date": 1496270524, "creation_date": 1496265824, "last_edit_date": 1496270524, "question_id": 44294895, "link": "https://stackoverflow.com/questions/44294895/using-multiples-c-codes-in-one-extension-module-python", "title": "Using multiples C codes in one extension module Python", "body": "<p>I have used C code in a Python project like in <a href=\"https://www.tutorialspoint.com/python/python_further_extensions.htm\" rel=\"nofollow noreferrer\">this</a> tutorial.\nI built an extension so that it was possible to call the <code>A</code> function present in the <code>main.c</code> code through Python. However, function <code>A</code> calls other various functions that are present in a file called <code>code.c</code>, and I'm having trouble using those functions.</p>\n\n<p><strong>There are no problems if all the functions are placed in <code>main.c</code>, but I would like to modularize this project for organizational reasons!</strong></p>\n\n<p>The <code>setup.py</code> for building the modules is as follows.</p>\n\n<pre><code>ext       =  [\n                 Extension(\n                 'main',\n                 sources = ['main.c'] ,\n                 extra_compile_args=['-lpq'] ,\n                 extra_link_args = ['-L/usr/local/pgsql/lib','-lpq'],\n                 language=['c']\n                 )\n            ]\n\nsetup(name='project', version='1.0', ext_modules = ext)\n</code></pre>\n\n<p>How could I modify it so that the <code>code.c</code> functions could be used inside <code>main.c</code> without any problems?</p>\n\n<p>Here is an outline of the situation:</p>\n\n<h2>main.c</h2>\n\n<pre><code>#include &lt;Python.h&gt;\n#include \"code.h\"\n\n//....\n\nvoid send(char* name)\n{\n   //DO SOMETHING\n   function_from_code(name)\n}\n</code></pre>\n\n<h2>code.c</h2>\n\n<pre><code>.....\n\n#include \"code.h\"\n\nvoid function_from_code(char* name)\n{\n   //DO SOMETHING\n}  \n</code></pre>\n\n<p>and then the Python code:</p>\n\n<pre><code>import main\n\n...\n\nmain.send(\"My Name\")\n</code></pre>\n\n<p>So in this way, the python code calls the function of <code>module</code> main C (so far so good). At the moment <code>main.c</code> calls a function from <code>code.c</code>, it throws the following error:</p>\n\n<pre><code>ImportError: /usr/local/lib/python2.7/dist-packages/main.so: undefined symbol: function_from_code\n</code></pre>\n\n<p>Apparently, using <code>#include</code> is not enough.</p>\n"}, {"tags": ["python", "special-characters", "pyinstaller"], "owner": {"reputation": 11, "user_id": 4122774, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001597256973/picture?type=large", "display_name": "Harm", "link": "https://stackoverflow.com/users/4122774/harm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1496265664, "creation_date": 1496265664, "question_id": 44294864, "link": "https://stackoverflow.com/questions/44294864/executable-generated-with-pyinstaller-crashes-when-printing-special-character", "title": "Executable generated with pyinstaller crashes when printing special character", "body": "<p>I'm using Python 3.6 and I have this code:</p>\n\n<pre><code>    text = \"\u00e7\"\n    print(text)\n</code></pre>\n\n<p>When I execute is there's no problem. When I generate an executable using pyinstaller the program executes just fine. However, when I execute the generated application the program crashes when executing. How can I prevent this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1496265286, "post_id": 44294764, "comment_id": 75595875, "body": "<code>import os; os.makedirs(path, exist_ok=True)</code> <a href=\"https://docs.python.org/3.6/library/os.html#os.makedirs\" rel=\"nofollow noreferrer\">docs.python.org/3.6/library/os.html#os.makedirs</a>"}, {"owner": {"reputation": 587, "user_id": 1473641, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2e1f431cce8a104400fc6ef5f3da497a?s=128&d=identicon&r=PG", "display_name": "Prox", "link": "https://stackoverflow.com/users/1473641/prox"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1496265370, "post_id": 44294764, "comment_id": 75595912, "body": "can I place that after shutil.copy(files,destination) ?"}, {"owner": {"reputation": 587, "user_id": 1473641, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2e1f431cce8a104400fc6ef5f3da497a?s=128&d=identicon&r=PG", "display_name": "Prox", "link": "https://stackoverflow.com/users/1473641/prox"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1496274587, "post_id": 44294764, "comment_id": 75598848, "body": "oops i posted in wrong place"}], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 1473641, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2e1f431cce8a104400fc6ef5f3da497a?s=128&d=identicon&r=PG", "display_name": "Prox", "link": "https://stackoverflow.com/users/1473641/prox"}, "edited": false, "score": 0, "creation_date": 1496274824, "post_id": 44295040, "comment_id": 75598892, "body": "Do you think it would be better to place it after the destination = &#39;//&#39; + servername + &#39;/c$/test/&#39; line or the &#39;try:&#39; in the if statement?  I see it works in both but I&#39;m also already checking for errors in the &#39;try:&#39; so that may be better?  I could make a second try-catch block but I&#39;m thinking I can keep my code simpler by keeping it all in the original try-catch block.  I know I should elaborate on the &#39;try&#39; block and probably check for different errors."}], "tags": [], "owner": {"reputation": 1, "user_id": 7738315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf715051683d56842663b846bf63b584?s=128&d=identicon&r=PG&f=1", "display_name": "mrglider", "link": "https://stackoverflow.com/users/7738315/mrglider"}, "is_accepted": false, "score": 0, "last_activity_date": 1496266449, "creation_date": 1496266449, "answer_id": 44295040, "question_id": 44294764, "link": "https://stackoverflow.com/questions/44294764/using-pythons-shutil-to-create-a-directory-if-it-does-not-already-exist/44295040#44295040", "title": "Using Pythons shutil to create a directory if it does not already exist?", "body": "<p>No, if the directory doesn't exist how can you copy the file into the directory? Create the directory or check if it already exists and then copy the file</p>\n"}], "owner": {"reputation": 587, "user_id": 1473641, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2e1f431cce8a104400fc6ef5f3da497a?s=128&d=identicon&r=PG", "display_name": "Prox", "link": "https://stackoverflow.com/users/1473641/prox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496266449, "creation_date": 1496265156, "last_edit_date": 1496265706, "question_id": 44294764, "link": "https://stackoverflow.com/questions/44294764/using-pythons-shutil-to-create-a-directory-if-it-does-not-already-exist", "title": "Using Pythons shutil to create a directory if it does not already exist?", "body": "<p>I have a program that currently copies a file from my computer to other computers on the network.  This functions just fine if the other computers already have the directory specified.  </p>\n\n<p>Some of the computers may not already have the specified directory.  In this case, how could I create the directory if it does not exist and then copy the file into the new directory.  Would shutil.copytree() work?</p>\n\n<p>Here is a portion of my current program</p>\n\n<pre><code>import fileinput\nimport shutil\n\ndef copyerror():\n    print (\" //////////////////////////////////////////\")\n    print (\" \")\n    print (\" Cannot connect to \" + servername + \".\")\n    print (\" \")\n    print (\" //////////////////////////////////////////\")   \n\ndef copyfiles(servername):\n    source = os.listdir(\"C:/Users/jm/Desktop/PythonUpdate/\") \n    destination = '//' + servername + '/c$/test/' \n    for files in source:\n        if files.endswith(\".config\"):\n            try:\n                shutil.copy(files,destination)\n            except:\n                copyerror()\n\n\narray = []\nwith open(\"C:/Users/jm/Desktop/PythonUpdate/serverlist.txt\", \"r\") as f:\n    for servername in f:\n\n        copyfiles(servername.strip())\n</code></pre>\n\n<p>So if the /test directory doesnt exist, I want to go ahead and create one.</p>\n\n<p><strong>UPDATE</strong>\nAlso, is there a method I could use to stop the copying of the file to the new computer?  That's if the directory does not already exist.</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 1, "last_activity_date": 1496265412, "creation_date": 1496265412, "answer_id": 44294824, "question_id": 44294759, "link": "https://stackoverflow.com/questions/44294759/using-pandas-series-date-as-xtick-label/44294824#44294824", "title": "Using pandas series date as xtick label", "body": "<p>IIUC:</p>\n\n<pre><code>df = df.sort_values(by='arrival_date')\ndf.plot(x='arrival_date', y='count', kind='bar')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/w7qJ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w7qJ4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 508, "user_id": 5239351, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e4961261b93886731fbbb8dfe173f0e?s=128&d=identicon&r=PG&f=1", "display_name": "bencampbell_14", "link": "https://stackoverflow.com/users/5239351/bencampbell-14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 44294824, "answer_count": 1, "score": 0, "last_activity_date": 1496265412, "creation_date": 1496265145, "question_id": 44294759, "link": "https://stackoverflow.com/questions/44294759/using-pandas-series-date-as-xtick-label", "title": "Using pandas series date as xtick label", "body": "<p>I have this dataframe called 'dfArrivalDate' (with the first 11 rows shown)</p>\n\n<pre><code>arrival_date  count\n0    2013-06-08      9\n1    2013-06-27      8\n2    2013-03-06      8\n3    2013-06-01      8\n4    2013-06-28      6\n5    2012-11-28      6\n6    2013-06-11      5\n7    2013-06-29      5\n8    2013-06-09      4\n9    2013-06-03      3\n10   2013-05-31      3\n\nsortedArrivalDate = transform.sort('arrival_date')\n</code></pre>\n\n<p>I wanted to plot them in a bar chart to see the count by arrival date. I called </p>\n\n<pre><code>sortedArrivalDate.plot(kind = 'bar') [![enter image description here][1]]\n</code></pre>\n\n<p>but i'm getting the index as the row ticks of my bar chart. I figured i need to use 'xticks'. </p>\n\n<pre><code>sortedArrivalDate.plot(kind = 'bar', xticks = sortedArrivalDate.arrival_date)\n</code></pre>\n\n<p>but I run into the error: TypeError: Cannot compare type 'Timestamp' with type 'float'</p>\n\n<p>I tried a different approach.</p>\n\n<pre><code>fig, ax = plt.subplots()\nax.plot(sortedArrivalDate.arrival_date, sortedArrivalDate.count)\n</code></pre>\n\n<p>This time the error is ValueError: x and y must have same first dimension</p>\n\n<p>I'm thinking this might just be an easy fix and since I don't have much experience coding in pandas and matplotlib, I might be missing a very simple thing here. Care to guide me in the right direction? thanks.</p>\n"}, {"tags": ["python", "pandas", "numpy", "python-datetime", "pandas-groupby"], "answers": [{"tags": [], "owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "is_accepted": true, "score": 1, "last_activity_date": 1496288258, "creation_date": 1496288258, "answer_id": 44298093, "question_id": 44294755, "link": "https://stackoverflow.com/questions/44294755/calculate-difference-of-2-dates-in-a-pandas-groupby-object-of-the-same-2-dates/44298093#44298093", "title": "Calculate difference of 2 dates in a pandas groupby object of the same 2 dates", "body": "<p>You need a type cast to <code>datetime64[D]</code> to make numpy happy like:</p>\n\n<h3>Code:</h3>\n\n<pre><code>import numpy as np\n\ndef date_diff(start_dates, end_dates):\n    return np.busday_count(\n        start_dates.values.astype('datetime64[D]'),\n        end_dates.values.astype('datetime64[D]'))\n</code></pre>\n\n<h3>Test Code:</h3>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame.from_dict({'Date1': ['2017-05-30 16:00:00',\n                                       '2017-05-30 16:00:00',\n                                       '2017-05-30 16:00:00'],\n                             'Date2': ['2017-06-16 16:00:00',\n                                       '2017-07-21 16:00:00',\n                                       '2017-08-18 16:00:00'],\n                             'Value1': [2.97, 3.3, 4.03],\n                             'Value2': [96L, 14L, 2L]})\n\ndf['Date1'] = pd.to_datetime(df['Date1'])\ndf['Date2'] = pd.to_datetime(df['Date2'])\n\ndf['DateDiff'] = date_diff(df['Date1'], df['Date2'])\nprint(df)\n</code></pre>\n\n<h3>Results:</h3>\n\n<pre><code>                Date1               Date2  Value1  Value2  DateDiff\n0 2017-05-30 16:00:00 2017-06-16 16:00:00    2.97      96        13\n1 2017-05-30 16:00:00 2017-07-21 16:00:00    3.30      14        38\n2 2017-05-30 16:00:00 2017-08-18 16:00:00    4.03       2        58\n</code></pre>\n"}], "owner": {"reputation": 1307, "user_id": 5092059, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh3.googleusercontent.com/-2gDHaTSOVvY/AAAAAAAAAAI/AAAAAAAAA3Y/D4DUb1wwEUc/photo.jpg?sz=128", "display_name": "vlmercado", "link": "https://stackoverflow.com/users/5092059/vlmercado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "accepted_answer_id": 44298093, "answer_count": 1, "score": 1, "last_activity_date": 1496288258, "creation_date": 1496265135, "last_edit_date": 1496288251, "question_id": 44294755, "link": "https://stackoverflow.com/questions/44294755/calculate-difference-of-2-dates-in-a-pandas-groupby-object-of-the-same-2-dates", "title": "Calculate difference of 2 dates in a pandas groupby object of the same 2 dates", "body": "<p>I'm trying to create a new <code>pandas.DataFrame</code> column of the number of business days between two date columns. I'm unable to reference the dates in the date columns as arguments in a function call (I get a TypeError: Cannot convert input error). However, I'm able to zip the values in the series into a List and use a For Loop to reference the parameters. Ideally, I would prefer to create a GroupBy object from the two Date columns and calculate the difference.</p>\n\n<h3>Create DataFrame:</h3>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame.from_dict({'Date1': ['2017-05-30 16:00:00',\n  '2017-05-30 16:00:00',\n  '2017-05-30 16:00:00'],\n 'Date2': ['2017-06-16 16:00:00',\n  '2017-07-21 16:00:00',\n  '2017-08-18 16:00:00'],\n 'Value1': [2.97, 3.3, 4.03],\n 'Value2': [96L, 14L, 2L]})\n\ndf['Date1'] = pd.to_datetime(df['Date1'])\ndf['Date2'] = pd.to_datetime(df['Date2'])\n\ndf.dtypes\n</code></pre>\n\n<h3>Validate DataFrame:</h3>\n\n<pre><code>Date1     datetime64[ns]\nDate2     datetime64[ns]\nValue1           float64\nValue2             int64\ndtype: object\n</code></pre>\n\n<h3>Define function:</h3>\n\n<pre><code>def date_diff(startDate, endDate):\n    return float(len(pd.bdate_range(startDate, endDate)) - 1)\n</code></pre>\n\n<h3>Attempt to column from the result of the date_diff function call:</h3>\n\n<pre><code>df['DateDiff'] = date_diff(df['Date1'], df['Date2'])\n</code></pre>\n\n<h3>TypeError:</h3>\n\n<pre><code>TypeError: Cannot convert input [0   2017-05-30 16:00:00\n1   2017-05-30 16:00:00\n2   2017-05-30 16:00:00\nName: Date1, dtype: datetime64[ns]] of type &lt;class 'pandas.core.series.Series'&gt; to Timestamp\n</code></pre>\n\n<h3>A \"For Loop\" referencing a list of tuples containing the dates works:</h3>\n\n<pre><code>date_List = list(zip(df['Date1'], df['Date2']))\n\nfor i in range(len(date_List)):\n    df.loc[(df['Date1'] == date_List[i][0]) &amp; (df['Date2'] == date_List[i][1]), 'diff'] = date_diff(date_List[i][0], date_List[i][1])\n\n                Date1               Date2  Value1  Value2  diff\n0 2017-05-30 16:00:00 2017-06-16 16:00:00    2.97      96  13.0\n1 2017-05-30 16:00:00 2017-07-21 16:00:00    3.30      14  38.0\n2 2017-05-30 16:00:00 2017-08-18 16:00:00    4.03       2  58.0\n</code></pre>\n\n<h3>Ideally, I'd like to utilize a GroupBy object (by Date1 &amp; Date2):</h3>\n\n<pre><code>grp = df.groupby(['Date1', 'Date2'])\n</code></pre>\n\n<h3>Desired Output:</h3>\n\n<pre><code>[((Timestamp('2017-05-30 16:00:00'), Timestamp('2017-06-16 16:00:00')),\n                  Date1               Date2  Value1  Value2  diff\n  0 2017-05-30 16:00:00 2017-06-16 16:00:00    2.97      96  13.0),\n ((Timestamp('2017-05-30 16:00:00'), Timestamp('2017-07-21 16:00:00')),\n                  Date1               Date2  Value1  Value2  diff\n  1 2017-05-30 16:00:00 2017-07-21 16:00:00     3.3      14  38.0),\n ((Timestamp('2017-05-30 16:00:00'), Timestamp('2017-08-18 16:00:00')),\n                  Date1               Date2  Value1  Value2  diff\n  2 2017-05-30 16:00:00 2017-08-18 16:00:00    4.03       2  58.0)]\n</code></pre>\n"}, {"tags": ["python", "rest", "soap", "arcgis", "esri"], "answers": [{"tags": [], "owner": {"reputation": 1039, "user_id": 5379479, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/pyxkT.jpg?s=128&g=1", "display_name": "Jed", "link": "https://stackoverflow.com/users/5379479/jed"}, "is_accepted": true, "score": 0, "last_activity_date": 1496689874, "creation_date": 1496689874, "answer_id": 44376046, "question_id": 44294686, "link": "https://stackoverflow.com/questions/44294686/esri-api-for-bao-reports-in-python/44376046#44376046", "title": "ESRI API for BAO reports in Python", "body": "<p>After starting trials for several ArcGIS services I found that <a href=\"http://www.esri.com/software/arcgis/arcgisonline\" rel=\"nofollow noreferrer\">ArcGIS Online</a> provides access to ESRI's REST API.  As of today, once you've signed up (either paying or with a trial) you can navigate to the <a href=\"https://developers.arcgis.com/rest/geoenrichment/api-reference/geoenrichment-service-overview.htm\" rel=\"nofollow noreferrer\">ArcGIS GeoEnrichment Service Documentation</a>.  That documentation tells you everything you need to know about how to access the same reports you would find in ESRI BAO, but through a REST API.</p>\n"}], "owner": {"reputation": 1039, "user_id": 5379479, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/pyxkT.jpg?s=128&g=1", "display_name": "Jed", "link": "https://stackoverflow.com/users/5379479/jed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 44376046, "answer_count": 1, "score": -1, "last_activity_date": 1496689874, "creation_date": 1496264806, "last_edit_date": 1496267329, "question_id": 44294686, "link": "https://stackoverflow.com/questions/44294686/esri-api-for-bao-reports-in-python", "title": "ESRI API for BAO reports in Python", "body": "<p>Currently we use <a href=\"http://bao.arcgis.com\" rel=\"nofollow noreferrer\">ESRI's Business Analyst Online (BAO)</a> to create demographic reports based on geospatial inputs (3-mile ring around an address, or within a city's boundaries, etc.).  These are generally output from the point and click web application as PDF or Excel files.</p>\n\n<p>I'm trying to automate the process of retrieving those reports from ESRI BAO.  I have installed the Python 3.5+ package <code>arcgis</code> following instructions found <a href=\"https://developers.arcgis.com/python/guide/install-and-set-up/#Install-using-Conda\" rel=\"nofollow noreferrer\">here</a>.  This seems to get me started with the ArcGIS functionality, but I don't see any API functionality for the BAO toolset.  Is there another API package I should be downloading?  Or is there documentation on a REST/SOAP API I can call from Python?  I've looked over the <a href=\"https://developers.arcgis.com/documentation/\" rel=\"nofollow noreferrer\">documentation</a>, but if there's something there about what I'm trying to do I haven't found it.</p>\n\n<p>Has anybody tried to do this before and been successful?  Let me know.</p>\n"}, {"tags": ["python", "python-2.7", "list", "dictionary"], "comments": [{"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 0, "creation_date": 1496264916, "post_id": 44294681, "comment_id": 75595726, "body": "Show us what you&#39;ve tried so far."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1496267052, "post_id": 44294681, "comment_id": 75596572, "body": "This is likely to need a recursive function; a simple build-in function won&#39;t do the job.  Where is your attempt?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496267105, "post_id": 44294681, "comment_id": 75596594, "body": "How does the atomic update work?  <code>i</code> changes from 0 to 10; is this replacement or addition?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496267230, "post_id": 44294681, "comment_id": 75596641, "body": "You also have a deep-semantic disconnection with updating the <code>c</code> dictionary within <code>modules</code>, since those are individual list elements.  Can those dictionaries have multiple elements?  Can those elements have identical keys?"}, {"owner": {"reputation": 535, "user_id": 3893475, "user_type": "registered", "profile_image": "https://graph.facebook.com/654418665/picture?type=large", "display_name": "Da Qi", "link": "https://stackoverflow.com/users/3893475/da-qi"}, "edited": false, "score": 0, "creation_date": 1496268084, "post_id": 44294681, "comment_id": 75596953, "body": "Is this exactly what you need to do or there is some general rules? Like how to merge <code>&#39;modules&#39;:[{&#39;c&#39;:30, &#39;a&#39;:20}]</code> with <code>&#39;modules&#39;:[{&#39;c&#39;:10}]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2995, "user_id": 214488, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b5c0e3c2630097b29680cfeda464024c?s=128&d=identicon&r=PG", "display_name": "memo", "link": "https://stackoverflow.com/users/214488/memo"}, "edited": false, "score": 1, "creation_date": 1496316757, "post_id": 44295794, "comment_id": 75617795, "body": "Hi, thanks for this. However as I explain my data is actually a lot deeper in hierarchy and I have dicts inside lists inside dicts inside lists, of arbitrary depth."}, {"owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "reply_to_user": {"reputation": 2995, "user_id": 214488, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b5c0e3c2630097b29680cfeda464024c?s=128&d=identicon&r=PG", "display_name": "memo", "link": "https://stackoverflow.com/users/214488/memo"}, "edited": false, "score": 0, "creation_date": 1496333288, "post_id": 44295794, "comment_id": 75630435, "body": "Well, how much is your data&#39;s maximum depth? It&#39;s a bit tricky to realize what you intend to have bur it&#39;s not impossible. If you want, search for max depth of your  dicts and update your question with a representation of the layer of your data. I&#39;ll try to help you."}], "tags": [], "owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "is_accepted": false, "score": 0, "last_activity_date": 1496270551, "creation_date": 1496270551, "answer_id": 44295794, "question_id": 44294681, "link": "https://stackoverflow.com/questions/44294681/merge-a-dict-into-another-overwriting-values-including-updating-lists-and-sub-d/44295794#44295794", "title": "merge a dict into another, overwriting values including updating lists and sub-dicts (not overwriting the list itself)", "body": "<p>Here is a hack that merge your current two <code>dicts</code>. </p>\n\n<p>I'm aware that is not the \"most pythonic\" way to do it, but it can handle a <code>dicts</code> like yours and give the desired output.</p>\n\n<p>In my answer, i'm using <code>groupby</code> and <code>zip_longest</code> from itertools <code>module</code>.</p>\n\n<p>Here is my answer:</p>\n\n<pre><code>from itertools import groupby, zip_longest\n\nD = {'i':0, 'j':1, 'modules':[{'a':1}, {'b':2}, {'c':3}] }\nP = {'i':10, 'modules':[{'c':30}] }\n\nsub = list(D.items()) + list(P.items())\n\nfinal = {}\nfor k,v in groupby(sorted(sub, key=lambda x: x[0]), lambda x: x[0]):\n    bb = list(v)\n\n    if not isinstance(bb[0][1], list):\n        for j in bb:\n            final[k] = max(bb, key=lambda x: x[1])[1]\n    else:\n        kk, ff = [], []\n        for k_ in zip_longest(*[k[1] for k in bb]):\n            kk += [j for j in k_ if j != None] \n\n        for j,m in groupby(sorted(kk, key= lambda x: list(x.keys())[0]), lambda x: list(x.keys())[0]):\n            ff += ff += [dict(max([list(k.items()) for k in list(m)], key=lambda x:x))]\n\n        final[k] = ff\n\nprint(final)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'i': 10, 'j': 1, 'modules': [{'a': 1}, {'b': 2}, {'c': 30}]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2995, "user_id": 214488, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b5c0e3c2630097b29680cfeda464024c?s=128&d=identicon&r=PG", "display_name": "memo", "link": "https://stackoverflow.com/users/214488/memo"}, "is_accepted": false, "score": 0, "last_activity_date": 1496317130, "last_edit_date": 1496317130, "creation_date": 1496316699, "answer_id": 44306340, "question_id": 44294681, "link": "https://stackoverflow.com/questions/44294681/merge-a-dict-into-another-overwriting-values-including-updating-lists-and-sub-d/44306340#44306340", "title": "merge a dict into another, overwriting values including updating lists and sub-dicts (not overwriting the list itself)", "body": "<p>I was hoping for a more pythonic solution (much more concise). Here is a C-like solution (which is more where I come from).</p>\n\n<p>Note: D and P below are very simplified toy examples. In reality they are quite deep with dicts inside lists inside dicts inside lists. This might not cover <em>all</em> cases, but it seems to work with my data (~50KBish when saved to json).</p>\n\n<p>Output:</p>\n\n<pre><code>In [2]: P\nOut[2]: \n{'i': 'Goodbye',\n 'modules': [{'name': 'a', 'val': 10}, {'name': 'c', 'val': 30}]}\n\nIn [3]: D\nOut[3]: \n{'i': 'Hello',\n 'j': 'World',\n 'modules': [{'name': 'a', 'val': 1},\n  {'name': 'b', 'val': 2},\n  {'name': 'c', 'val': 3},\n  {'name': 'd', 'val': 4}]}\n\nIn [4]: merge_dicts_by_name(P, D)\n merge_dicts_by_name  &lt;type 'dict'&gt; &lt;type 'dict'&gt;\n key: .i : Hello overwritten by Goodbye\n key: .modules : \n    merge_dicts_by_name .modules &lt;type 'list'&gt; &lt;type 'list'&gt;\n    list item: .modules[0]\n       merge_dicts_by_name .modules[0] &lt;type 'dict'&gt; &lt;type 'dict'&gt;\n       key: .modules[0].name : a overwritten by a\n       key: .modules[0].val : 1 overwritten by 10\n    list item: .modules[1]\n       merge_dicts_by_name .modules[1] &lt;type 'dict'&gt; &lt;type 'dict'&gt;\n       key: .modules[1].name : c overwritten by c\n       key: .modules[1].val : 3 overwritten by 30\n\nIn [5]: D\nOut[5]: \n{'i': 'Goodbye',\n 'j': 'World',\n 'modules': [{'name': 'a', 'val': 10},\n  {'name': 'b', 'val': 2},\n  {'name': 'c', 'val': 30},\n  {'name': 'd', 'val': 4}]}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>def merge_dicts_by_name(P, D, id_key='name', root='', depth=0, verbose=True, indent='   '):\n    '''\n    merge from dict (or list of dicts) P into D. \n    i.e. can think of D as Default settings, and P as a subset containing user Preferences.\n    Any value in P or D can be a dict or a list of dicts\n    in which case same behaviour will apply (through recursion):\n        lists are iterated and dicts are matched between P and D\n        dicts are matched via an id_key (only at same hierarchy depth / level)\n        matching dicts are updated with same behaviour\n        for anything else P overwrites D\n\n    P : dict or list of dicts (e.g. containing user Preferences, subset of D)\n    D : dict or list of dicts (e.g. Default settings)\n    id_key : the key by which sub-dicts are compared against (e.g. 'name')\n    root : for keeping track of full path during recursion\n    depth : keep track of recursion depth (for indenting)\n    verbose : dump progress to console\n    indent : with what to indent (if verbose)\n    '''\n\n    if verbose:\n        indent_full = indent * depth\n        print(indent_full, 'merge_dicts_by_name', root, type(P), type(D))\n\n    if type(P)==list: # D and P are lists of dicts\n        assert(type(D)==type(P))\n        for p_i, p_dict in enumerate(P): # iterate dicts in P\n            path = root + '[' + str(p_i) + ']'\n            if verbose: print(indent_full, 'list item:', path)\n            d_id = p_dict[id_key] # get name of current dict\n            # find corresponding dict in D \n            d_dict = D[ next(i for (i,d) in enumerate(D) if d[id_key] == d_id) ]\n            merge_dicts_by_name(p_dict, d_dict, id_key=id_key, root=path, depth=depth+1, verbose=verbose, indent=indent)\n\n    elif type(P)==dict:\n        assert(type(D)==type(P))\n        for k in P:\n            path = root + '.' + k\n            if verbose: print(indent_full, 'key:', path, end=' : ')\n            if k in D:\n                if type(P[k]) in [dict, list]:\n                    print()\n                    merge_dicts_by_name(P[k], D[k], id_key=id_key, root=path, depth=depth+1, verbose=verbose, indent=indent)\n                else:\n                    if verbose: print(D[k], 'overwritten by', P[k])\n                    D[k] = P[k]\n\n            else:\n                print(indent_full, 'Warning: Key {} in P not found in D'.format(path))\n\n    else:\n        print(indent_full, \"Warning: Don't know what to do with these types\", type(P), type(D))\n</code></pre>\n"}], "owner": {"reputation": 2995, "user_id": 214488, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b5c0e3c2630097b29680cfeda464024c?s=128&d=identicon&r=PG", "display_name": "memo", "link": "https://stackoverflow.com/users/214488/memo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1496317130, "creation_date": 1496264789, "last_edit_date": 1496316938, "question_id": 44294681, "link": "https://stackoverflow.com/questions/44294681/merge-a-dict-into-another-overwriting-values-including-updating-lists-and-sub-d", "title": "merge a dict into another, overwriting values including updating lists and sub-dicts (not overwriting the list itself)", "body": "<p>I have a dictionary D which contains default settings for my application. It has a complex hierarchy, such as lists, and more dicts inside those lists (e.g. it might have a list of modules, and within each module there are further dicts, sometimes with more lists and more dicts etc).</p>\n\n<p>I also have a small preferences dictionary P which contains an arbitrary subset of this dict (I'm 100% sure that this is a perfect subset). </p>\n\n<p>I'd like to merge this subset P over the default dictionary D. </p>\n\n<p>I thought D.update(P) would work, but this overwrites the lists. \nE.g. </p>\n\n<pre><code>D={'i':0, 'j':1, 'modules':[{'a':1}, {'b':2}, {'c':3}] }\nP={'i':10, 'modules':[{'c':30}] }\n\nD.update()\n\n# gives {'i': 10, 'j': 1, 'modules': [{'c': 30}]}\n# I'd like {'i': 10, 'j': 1, 'modules': [{'a': 1}, {'b': 2}, {'c': 30}]}\n</code></pre>\n\n<p>There are a lot of similar posts regarding merging dictionaries in different ways, adding entries etc, but none of them seem to address this exact issue. This seems like a very common task but I couldn't figure out how to do it so I'd appreciate any pointers.\nCheers,</p>\n\n<p>(P.S. I'd also like to maintain the order of all of the lists, as it gets reflected in the GUI)</p>\n\n<p><strong>EDIT</strong>:\nIt seems I wasn't very clear in my explanation. Sorry about that. The example above is a very simple toy example. My actual data (when saved to JSON) is about 50K. The hierarchy goes quite deep and I have dicts inside lists inside dicts inside lists etc. Also the atomic update rule wasn't clear apparently (i.e. 0 to 10 is addition or overwriting?). To be clear the atomic update is overwriting. P overwrites D. It's only dicts and lists of dicts which need to further iterated. (I was hoping the user Preferences overwriting Default settings would help visualise this). I also omitted an important detail in the above toy example, and that is that the dictionaries in the list should be matched not by key name (as is in the example above, i.e. the dict with key 'a' is common to P and D), but by value on a specific key. See new toy example below. </p>\n\n<pre><code>D={'i':'Hello', 'j':'World', 'modules':[{'name':'a', 'val':1}, {'name':'b', 'val':2}, {'name':'c', 'val':3}, {'name':'d', 'val':4}] }\nP={'i':'Goodbye', 'modules':[{'name':'a', 'val':10}, {'name':'c', 'val':30}] }\n</code></pre>\n\n<p><strong>EDIT2</strong>:\nI've added a solution which seems to work. I was hoping for a more concise pythonic solution, but this does the job for now. </p>\n"}, {"tags": ["python", "winapi", "mouse", "remote-access", "pyautogui"], "answers": [{"tags": [], "owner": {"reputation": 17278, "user_id": 6730571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63g7E.jpg?s=128&g=1", "display_name": "Hugues M.", "link": "https://stackoverflow.com/users/6730571/hugues-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1496301881, "creation_date": 1496301881, "answer_id": 44301090, "question_id": 44294666, "link": "https://stackoverflow.com/questions/44294666/command-to-trigger-long-click-on-left-mouse-button/44301090#44301090", "title": "Command to trigger &quot;long click&quot; on left mouse button", "body": "<p>In theory, PyAutoGUI covers this with <a href=\"http://pyautogui.readthedocs.io/en/latest/mouse.html#the-mousedown-and-mouseup-functions\" rel=\"nofollow noreferrer\">mouseDown &amp; mouseUp functions</a>.</p>\n\n<pre><code>&gt;&gt;&gt; pyautogui.mouseDown(); pyautogui.mouseUp()  # does the same thing as a left-button mouse click\n&gt;&gt;&gt; pyautogui.mouseDown()  # press the left button down\n&gt;&gt;&gt; pyautogui.mouseUp(x=100, y=200)  # move the mouse to 100, 200, then release the button up.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 15008569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUhXr.png?s=128&g=1", "display_name": "Alexandra", "link": "https://stackoverflow.com/users/15008569/alexandra"}, "is_accepted": false, "score": 0, "last_activity_date": 1611359398, "creation_date": 1611359398, "answer_id": 65854273, "question_id": 44294666, "link": "https://stackoverflow.com/questions/44294666/command-to-trigger-long-click-on-left-mouse-button/65854273#65854273", "title": "Command to trigger &quot;long click&quot; on left mouse button", "body": "<p>A solution might be:</p>\n<pre><code>pyautogui.dragTo(100, 200, button='left')     # drag mouse to X of 100, Y of 200 while holding down left mouse button\npyautogui.dragTo(300, 400, 2, button='left')  # drag mouse to X of 300, Y of 400 over 2 seconds while holding down left mouse button\npyautogui.drag(30, 0, 2, button='right')   # drag the mouse left 30 pixels over 2 seconds while holding down the right mouse button\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 7871630, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/750720958b1edbffe597d9ab89ed0989?s=128&d=identicon&r=PG&f=1", "display_name": "utan nuta", "link": "https://stackoverflow.com/users/7871630/utan-nuta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4951, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1611359398, "creation_date": 1496264727, "last_edit_date": 1496300788, "question_id": 44294666, "link": "https://stackoverflow.com/questions/44294666/command-to-trigger-long-click-on-left-mouse-button", "title": "Command to trigger &quot;long click&quot; on left mouse button", "body": "<p>I searched in win32gui and PyAutoGUI some commands that make \"long - click\" on the left mouse button, and I didn't find anything.\nI'm actually building a code that helps me to remote another pc's mouse\nso i need a command that makes a long click on a mouse.</p>\n\n<p>I put <code>***</code> on my code so you can see the parts where I need help:</p>\n\n<pre><code>import win32api\nimport time\n\n\nstate_left = win32api.GetKeyState(0x01)  # Left button down = 0 or 1. Button up = -127 or -128\nwhile True:\n    a = win32api.GetKeyState(0x01)\n    if a != state_left:  # Button state changed\n        state_left = a\n        print(a)\n        if a &lt; 0:\n            # *** long click on left mouse button ***\n            print('Left Button Pressed')\n        else:\n            # *** stop click on left mouse button ***\n            print('Left Button Released')\n    time.sleep(0.001)\n</code></pre>\n"}, {"tags": ["python", "scrapy", "scrapy-splash"], "comments": [{"owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 0, "creation_date": 1496309557, "post_id": 44294579, "comment_id": 75612691, "body": "What do you have as <code>SPLASH_URL</code> setting?"}, {"owner": {"reputation": 151, "user_id": 810636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbdd34dd4d43545e28e20a111540617d?s=128&d=identicon&r=PG", "display_name": "HDW", "link": "https://stackoverflow.com/users/810636/hdw"}, "reply_to_user": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 0, "creation_date": 1496318808, "post_id": 44294579, "comment_id": 75619206, "body": "@paultrmbrth As I am running the splash server locally: SPLASH_URL = &#39;127.0.0.1:8050&#39;. There&#39;s no scheme supplied here, but other tutorials also just used an IP. Can&#39;t check now (not on my dev pc), but would using &quot;<a href=\"http://localhost:8050\" rel=\"nofollow noreferrer\">localhost:8050</a>&quot; fix it?"}, {"owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 0, "creation_date": 1496321252, "post_id": 44294579, "comment_id": 75621123, "body": "Please use the full URL with scheme, ie <code>SPLASH_URL = &#39;http:&#47;&#47;127.0.0.1:8050&#39;</code>. Without it, I can indeed reproduce your error. What tutorial are you following that show the URL without the scheme? <a href=\"https://github.com/scrapy-plugins/scrapy-splash\" rel=\"nofollow noreferrer\">The official README</a> uses the full URL."}, {"owner": {"reputation": 151, "user_id": 810636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbdd34dd4d43545e28e20a111540617d?s=128&d=identicon&r=PG", "display_name": "HDW", "link": "https://stackoverflow.com/users/810636/hdw"}, "reply_to_user": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 0, "creation_date": 1496329200, "post_id": 44294579, "comment_id": 75627477, "body": "@paultrmbrth I have misread the (official) tutorail (as well as some other sites). They are correct. Adding the scheme to my SPLASH_URL fixed the problem. Was there a way I could have deduced this from the error messages I got? I&#39;m new to this framework and still learning. Thanks for the help btw!"}, {"owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 2, "creation_date": 1496334846, "post_id": 44294579, "comment_id": 75631232, "body": "I&#39;ve opened <a href=\"https://github.com/scrapy-plugins/scrapy-splash/issues/120\" rel=\"nofollow noreferrer\">an issue</a> to try and make the error more obvious."}, {"owner": {"reputation": 151, "user_id": 810636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbdd34dd4d43545e28e20a111540617d?s=128&d=identicon&r=PG", "display_name": "HDW", "link": "https://stackoverflow.com/users/810636/hdw"}, "reply_to_user": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 0, "creation_date": 1496342384, "post_id": 44294579, "comment_id": 75635204, "body": "@paultrmbrth Nice, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 13601, "user_id": 1564659, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f7524296b1d11599c7a1bd2c045a73ac?s=128&d=identicon&r=PG", "display_name": "Aminah Nuraini", "link": "https://stackoverflow.com/users/1564659/aminah-nuraini"}, "is_accepted": false, "score": 0, "last_activity_date": 1569319944, "creation_date": 1569319944, "answer_id": 58077966, "question_id": 44294579, "link": "https://stackoverflow.com/questions/44294579/scrapy-splash-missing-scheme-in-request-url-render-html-but-urls-have-sche/58077966#58077966", "title": "Scrapy + Splash: Missing scheme in request url: render.html, but url&#39;s have scheme", "body": "<p>In my case, it was because I forgot to put <code>https://</code> to the <code>SPLASH_URL</code></p>\n\n<p>So it should be <code>SPLASH_URL = https://yourdomain.com:8050</code></p>\n"}], "owner": {"reputation": 151, "user_id": 810636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbdd34dd4d43545e28e20a111540617d?s=128&d=identicon&r=PG", "display_name": "HDW", "link": "https://stackoverflow.com/users/810636/hdw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1065, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1569319944, "creation_date": 1496264368, "last_edit_date": 1592644375, "question_id": 44294579, "link": "https://stackoverflow.com/questions/44294579/scrapy-splash-missing-scheme-in-request-url-render-html-but-urls-have-sche", "title": "Scrapy + Splash: Missing scheme in request url: render.html, but url&#39;s have scheme", "body": "<p>I'm trying to scrape product names and prices from <a href=\"https://www.bodyenfitshop.nl/\" rel=\"nofollow noreferrer\">this site</a>, using the following code:</p>\n<pre><code>class ProductSpider(scrapy.Spider):\nname = 'product'\n\nstart_urls = ['https://www.bodyenfitshop.nl/']\n\ndef parse(self, response):\n    # follow links to different categories\n    for href in response.css('ol.nav-primary &gt; li.category-node &gt; a::attr(href)'):\n        # A category page currently does not list all the items belonging to that category.\n        # Add &quot;?p=1&quot; to get the list view\n        href = href.extract() + &quot;?p=1&quot;\n        print(href)\n        yield SplashRequest(href, self.parse_category, args={\n            'wait': 0.5\n        })\n\ndef parse_category(self, response):\n    for product in response.css('li.item'):\n        new_name = product.css('div.product-name &gt; a::text').extract_first().strip()\n        # TODO: find better regex\n        new_price = float(product.css('span.price::text').re('\\d+,\\d+')[0].replace(&quot;,&quot;, &quot;.&quot;))\n        new_url = product.css('div.product-name &gt; a::attr(href)').extract_first().strip()\n        yield Product(name=new_name, price=new_price, url=new_url)\n</code></pre>\n<p>I suspect the problem is in the href that is passed to the SplashRequest, but when I printed them out they all had fully qualified URLS like these:</p>\n<blockquote>\n<p><a href=\"https://www.bodyenfitshop.nl/duursport/?p=1\" rel=\"nofollow noreferrer\">https://www.bodyenfitshop.nl/duursport/?p=1</a></p>\n<p><a href=\"https://www.bodyenfitshop.nl/workouts/?p=1\" rel=\"nofollow noreferrer\">https://www.bodyenfitshop.nl/workouts/?p=1</a></p>\n<p><a href=\"https://www.bodyenfitshop.nl/aminozuren/?p=1\" rel=\"nofollow noreferrer\">https://www.bodyenfitshop.nl/aminozuren/?p=1</a></p>\n</blockquote>\n<p>All other questions on SO with regards to this error (like <a href=\"https://stackoverflow.com/questions/21103533/missing-scheme-in-request-url\">this</a> or <a href=\"https://stackoverflow.com/questions/34976240/scrapy-missing-scheme-in-request-url\">this</a>) are solved by adding the &quot;https&quot; to their URL's. But I already have these. So I'm at a loss as to what is causing these.</p>\n<p>This is one of the errors that I get (repeated multiple times)</p>\n<pre><code>2017-05-31 22:51:07 [scrapy.core.scraper] ERROR: Error downloading &lt;GET https://www.\n\nbodyenfitshop.nl/afslanken/?p=1 via https://www.bodyenfitshop.nl/afslanken/?p=1&gt;\nTraceback (most recent call last):\n  File &quot;c:\\program files (x86)\\python\\lib\\site-packages\\twisted\\internet\\defer.py&quot;, line 1301, in _inlineCallbacks\n    result = g.send(result)\n  File &quot;c:\\program files (x86)\\python\\lib\\site-packages\\scrapy\\core\\downloader\\middleware.py&quot;, line 37, in process_request\n    response = yield method(request=request, spider=spider)\n  File &quot;c:\\program files (x86)\\python\\lib\\site-packages\\scrapy_splash\\middleware.py&quot;, line 358, in process_request\n    priority=request.priority + self.rescheduling_priority_adjust\n  File &quot;c:\\program files (x86)\\python\\lib\\site-packages\\scrapy\\http\\request\\__init__.py&quot;, line 94, in replace\n    return cls(*args, **kwargs)\n  File &quot;c:\\program files (x86)\\python\\lib\\site-packages\\scrapy_splash\\request.py&quot;, line 76, in __init__\n    **kwargs)\n  File &quot;c:\\program files (x86)\\python\\lib\\site-packages\\scrapy\\http\\request\\__init__.py&quot;, line 25, in __init__\n    self._set_url(url)\n  File &quot;c:\\program files (x86)\\python\\lib\\site-packages\\scrapy\\http\\request\\__init__.py&quot;, line 58, in _set_url\n    raise ValueError('Missing scheme in request url: %s' % self._url)\nValueError: Missing scheme in request url: render.html\n</code></pre>\n<p>The render.html is (I think) the default name for what Splash produces. I don't think I can alter that.</p>\n<p>Any help or poke in the right direction is greatly appreciated!</p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1496264562, "post_id": 44294553, "comment_id": 75595580, "body": "Show us the actual, exact error message, copy-pasted from actual interpreter output."}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1496264623, "post_id": 44294553, "comment_id": 75595604, "body": "check your path, not sure what the windows equivalent is"}, {"owner": {"reputation": 953, "user_id": 4979540, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/685888628184307/picture?type=large", "display_name": "Amber.G", "link": "https://stackoverflow.com/users/4979540/amber-g"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1496264727, "post_id": 44294553, "comment_id": 75595655, "body": "thanks for the advice @user2357112 I edit my question according to your suggestion."}, {"owner": {"reputation": 953, "user_id": 4979540, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/685888628184307/picture?type=large", "display_name": "Amber.G", "link": "https://stackoverflow.com/users/4979540/amber-g"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1496264808, "post_id": 44294553, "comment_id": 75595690, "body": "Thanks @DmitryPolonskiy  Sorry that I am kinda newbie here, could you enlighten me more? I put all the Pandas related files under Python folder, is it right?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1496264842, "post_id": 44294553, "comment_id": 75595700, "body": "If you installed it in a virtualenv, did you run Python with that virtualenv activated?"}, {"owner": {"reputation": 953, "user_id": 4979540, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/685888628184307/picture?type=large", "display_name": "Amber.G", "link": "https://stackoverflow.com/users/4979540/amber-g"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1496265013, "post_id": 44294553, "comment_id": 75595758, "body": "@user2357112   well...i am sure i got that env activated, but how to run Python with that env?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1496266465, "post_id": 44294553, "comment_id": 75596334, "body": "It should be as simple as running the <code>python</code> command from the command prompt where you activated the virtualenv."}, {"owner": {"reputation": 953, "user_id": 4979540, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/685888628184307/picture?type=large", "display_name": "Amber.G", "link": "https://stackoverflow.com/users/4979540/amber-g"}, "edited": false, "score": 0, "creation_date": 1496267642, "post_id": 44294553, "comment_id": 75596799, "body": "I see, I tried that out, but still get above ImportError..."}], "answers": [{"tags": [], "owner": {"reputation": 953, "user_id": 4979540, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/685888628184307/picture?type=large", "display_name": "Amber.G", "link": "https://stackoverflow.com/users/4979540/amber-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1496271175, "creation_date": 1496271175, "answer_id": 44295890, "question_id": 44294553, "link": "https://stackoverflow.com/questions/44294553/importerror-no-module-named-pandas-installed-by-miniconda/44295890#44295890", "title": "ImportError &#39;&#39;No Module Named Pandas&#39;&#39;, installed by Miniconda", "body": "<p>It works if you open Anaconda terminal (instead of Python terminal) and run test code. The 'importError' is gone.</p>\n"}], "owner": {"reputation": 953, "user_id": 4979540, "user_type": "registered", "accept_rate": 8, "profile_image": "https://graph.facebook.com/685888628184307/picture?type=large", "display_name": "Amber.G", "link": "https://stackoverflow.com/users/4979540/amber-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 689, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496271175, "creation_date": 1496264256, "last_edit_date": 1496264696, "question_id": 44294553, "link": "https://stackoverflow.com/questions/44294553/importerror-no-module-named-pandas-installed-by-miniconda", "title": "ImportError &#39;&#39;No Module Named Pandas&#39;&#39;, installed by Miniconda", "body": "<p>thanks for checking out my question.</p>\n\n<p>I know this question has been posted a couple of times and I went through answers carefully, but none of them could solve my problem. So I have to post it, thanks for understanding.</p>\n\n<p>My Scenario is:\nI tried to install Pandas on my Python 2.7 (windows 7). I used Miniconda to install it and tested code to make sure I did install it. But from python command line, it gave me an ImportError 'No Module named Pandas' (detail is in below)</p>\n\n<pre><code>&gt;&gt;&gt; import pandas as pd\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named pandas \n</code></pre>\n\n<p>So I tried again to install it via Pip, and I am right, according to the terminal, Pandas was already installed. Please see below:\n<a href=\"https://i.stack.imgur.com/nqPTx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nqPTx.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I run test code from Python command line, still get 'No module named Pandas' error. Got confused here...</p>\n"}, {"tags": ["python", "matplotlib", "seaborn"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1496264374, "post_id": 44294541, "comment_id": 75595498, "body": "Can you post the <b>complete</b> error traceback?!"}, {"owner": {"reputation": 21, "user_id": 6326313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23f5ac57079cf3b2a54175e36715f?s=128&d=identicon&r=PG&f=1", "display_name": "Dimq", "link": "https://stackoverflow.com/users/6326313/dimq"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1496264665, "post_id": 44294541, "comment_id": 75595629, "body": "I posted it :) @ImportanceOfBeingErnest"}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1496264863, "post_id": 44294541, "comment_id": 75595706, "body": "Potentially related: <a href=\"https://stackoverflow.com/q/30336324/3901060\">stackoverflow.com/q/30336324/3901060</a>"}, {"owner": {"reputation": 21, "user_id": 6326313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23f5ac57079cf3b2a54175e36715f?s=128&d=identicon&r=PG&f=1", "display_name": "Dimq", "link": "https://stackoverflow.com/users/6326313/dimq"}, "reply_to_user": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1496265054, "post_id": 44294541, "comment_id": 75595782, "body": "@FamousJameous thank you, I am convinced that it not related to seaborn as the plots were working for both matplotlib and seaborn, even plotly. Any other suggestions maybe?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1496266236, "post_id": 44294541, "comment_id": 75596256, "body": "And I am convinced that the error you show is related to seaborn, because the first line of the error traceback says so. If you want to ask about a different error, you would need to post the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that produces this other error and show this other error&#39;s traceback."}, {"owner": {"reputation": 21, "user_id": 6326313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23f5ac57079cf3b2a54175e36715f?s=128&d=identicon&r=PG&f=1", "display_name": "Dimq", "link": "https://stackoverflow.com/users/6326313/dimq"}, "edited": false, "score": 0, "creation_date": 1496266390, "post_id": 44294541, "comment_id": 75596299, "body": "I know, I accepted his answer already :) i tried it out. thank you."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6326313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23f5ac57079cf3b2a54175e36715f?s=128&d=identicon&r=PG&f=1", "display_name": "Dimq", "link": "https://stackoverflow.com/users/6326313/dimq"}, "edited": false, "score": 0, "creation_date": 1496265120, "post_id": 44294713, "comment_id": 75595809, "body": "My question is not bounded to the seaborn package. it happens also with matplotlib. even if i use matplotlib without seaborn. :("}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 21, "user_id": 6326313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23f5ac57079cf3b2a54175e36715f?s=128&d=identicon&r=PG&f=1", "display_name": "Dimq", "link": "https://stackoverflow.com/users/6326313/dimq"}, "edited": false, "score": 0, "creation_date": 1496265225, "post_id": 44294713, "comment_id": 75595860, "body": "I can only answer on what you provide in the question. If it&#39;s not seaborn related, why do you post a seaborn code?"}, {"owner": {"reputation": 21, "user_id": 6326313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23f5ac57079cf3b2a54175e36715f?s=128&d=identicon&r=PG&f=1", "display_name": "Dimq", "link": "https://stackoverflow.com/users/6326313/dimq"}, "edited": false, "score": 0, "creation_date": 1496265332, "post_id": 44294713, "comment_id": 75595896, "body": "I think that i show you also solely a <code>.plt</code> in my question to show that it is not only seaborn."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 21, "user_id": 6326313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23f5ac57079cf3b2a54175e36715f?s=128&d=identicon&r=PG&f=1", "display_name": "Dimq", "link": "https://stackoverflow.com/users/6326313/dimq"}, "edited": false, "score": 2, "creation_date": 1496265389, "post_id": 44294713, "comment_id": 75595916, "body": "It 100% certain that the error you show is related to seaborn, because the error traceback says so. If you have a problem without seaborn, post the code and the error traceback you get with <b>that other code</b>."}, {"owner": {"reputation": 21, "user_id": 6326313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23f5ac57079cf3b2a54175e36715f?s=128&d=identicon&r=PG&f=1", "display_name": "Dimq", "link": "https://stackoverflow.com/users/6326313/dimq"}, "edited": false, "score": 0, "creation_date": 1496266105, "post_id": 44294713, "comment_id": 75596190, "body": "ahh! your 100% is better than mine. it worked! Thank youu, i am very happy."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1496264943, "creation_date": 1496264943, "answer_id": 44294713, "question_id": 44294541, "link": "https://stackoverflow.com/questions/44294541/why-do-i-get-http400-error-when-i-am-plotting-graphs-in-python/44294713#44294713", "title": "Why do i get HTTP400 error when i am plotting graphs in python?", "body": "<p><code>sns.load_dataset</code> requires a string as argument which evaluates to one of the available datasets at <a href=\"https://github.com/mwaskom/seaborn-data\" rel=\"nofollow noreferrer\"><code>https://github.com/mwaskom/seaborn-data</code></a>. </p>\n\n<p>E.g. <code>sns.load_dataset(\"tips\")</code> would load the <em>tips.csv</em> file.</p>\n\n<p>Also see <a href=\"https://stackoverflow.com/questions/30336324/seaborn-load-dataset\">Seaborn load_dataset</a></p>\n\n<p>Supplying some other data or a string which does not have its corresponding file will of course not work.</p>\n"}], "owner": {"reputation": 21, "user_id": 6326313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a23f5ac57079cf3b2a54175e36715f?s=128&d=identicon&r=PG&f=1", "display_name": "Dimq", "link": "https://stackoverflow.com/users/6326313/dimq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1318, "favorite_count": 0, "accepted_answer_id": 44294713, "answer_count": 1, "score": 0, "last_activity_date": 1496265446, "creation_date": 1496264218, "last_edit_date": 1496265446, "question_id": 44294541, "link": "https://stackoverflow.com/questions/44294541/why-do-i-get-http400-error-when-i-am-plotting-graphs-in-python", "title": "Why do i get HTTP400 error when i am plotting graphs in python?", "body": "<p>I am working on a dataset to visualize basic plots in python. I use <code>seaborn and matplotlib</code>. Up until yesterday, the packages worked perfectly fine until this error showed up: </p>\n\n<pre><code>stars = sns.load_dataset(vcsfeatures)\nsns.boxplot(stars)\nplt.xlim(-100, 8000, 500)\nplt.show()\nTraceback (most recent call last):\n  File \"&lt;input&gt;\", line 1, in &lt;module&gt;\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/seaborn/utils.py\", line 424, in load_dataset\n    urlretrieve(full_path, cache_path)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 248, in urlretrieve\n    with contextlib.closing(urlopen(url, data)) as fp:\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 223, in urlopen\n    return opener.open(url, data, timeout)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 532, in open\n    response = meth(req, response)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 642, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 570, in error\n    return self._call_chain(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 504, in _call_chain\n    result = func(*args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/urllib/request.py\", line 650, in http_error_default\n    raise HTTPError(req.full_url, code, msg, hdrs, fp)\nurllib.error.HTTPError: HTTP Error 400: Bad Request\n</code></pre>\n\n<p>I searched on this platform and all answers came from-out the intention to utilize a url or to get access to a web api. </p>\n\n<p>This error occurs when i use simple plot code: </p>\n\n<pre><code>pd.DataFrame.boxplot(vcsfeatures)\npd.DataFrame.boxplot(userfeatures)\nplt.ylim(-100, 1800)\nplt.show()\n</code></pre>\n\n<p>also with fake data as <code>data = [1, 2, 3]</code>\nI get this error whenever i try to call for a plotting library. </p>\n\n<p>This used to work yesterday. <strong>Also with seaborn, pandas and numpy the error comes up.</strong></p>\n\n<p>What am I missing here in finding the solution? </p>\n\n<p>If there is a question like this already, please redirect me as I am not able to find it. </p>\n"}, {"tags": ["python", "django", "pylint"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1496264836, "post_id": 44294536, "comment_id": 75595699, "body": "Do you really need to define the <code>id</code> field? Django will automatically give your models a primary key, so you don&#39;t need to define the id field unless you want something like a UUID field for the primary key."}, {"owner": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1496265732, "post_id": 44294536, "comment_id": 75596042, "body": "@Alasdair: Yes, that&#39;s exactly the case. And I want them to be consistent with the rest.."}], "answers": [{"comments": [{"owner": {"reputation": 2365, "user_id": 771345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3ba1fa7643b20fe924006b282c6777?s=128&d=identicon&r=PG", "display_name": "Lukas Batteau", "link": "https://stackoverflow.com/users/771345/lukas-batteau"}, "edited": false, "score": 0, "creation_date": 1573423326, "post_id": 44294758, "comment_id": 103868264, "body": "You could also add it to the <code>good-names</code> list in <code>.pylintrc</code>"}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 5, "last_activity_date": 1496265139, "creation_date": 1496265139, "answer_id": 44294758, "question_id": 44294536, "link": "https://stackoverflow.com/questions/44294536/how-to-suppress-the-invalid-class-attribute-name-id-pylint-warning-for-djang/44294758#44294758", "title": "How to suppress the &#39;Invalid class attribute name &quot;id&quot;&#39; pylint warning for Django models?", "body": "<pre><code># pylint: disable=C0103\n</code></pre>\n\n<p>Put the line in the Models files and it will mute the warnings and if you it at the end of a line of code just disable this message for that line.</p>\n"}], "owner": {"reputation": 10395, "user_id": 275088, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b931a4a3164d36350c78dd67ed8a9f99?s=128&d=identicon&r=PG", "display_name": "planetp", "link": "https://stackoverflow.com/users/275088/planetp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2047, "favorite_count": 0, "accepted_answer_id": 44294758, "answer_count": 1, "score": 4, "last_activity_date": 1496265139, "creation_date": 1496264202, "question_id": 44294536, "link": "https://stackoverflow.com/questions/44294536/how-to-suppress-the-invalid-class-attribute-name-id-pylint-warning-for-djang", "title": "How to suppress the &#39;Invalid class attribute name &quot;id&quot;&#39; pylint warning for Django models?", "body": "<p>The default primary key column in Django models is named <code>id</code>, which is not a valid class attribute name according to <code>pylint</code>. How can I suppress the <code>'Invalid class attribute name \"id\"'</code> pylint warning for Django model classes (or for the whole project) ? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1496264303, "post_id": 44294505, "comment_id": 75595459, "body": "<code>&#39;\\&#39;</code> can not be achieved since <code>&#39;\\&#39;</code> is always an escape prefix, I believe you are looking for <code>&#39;\\\\&#39;</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1496264333, "post_id": 44294505, "comment_id": 75595476, "body": "Show us how you&#39;re taking this input. Most reasonable ways of taking input will not apply escape sequence interpretation in the first place."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1496264515, "post_id": 44294505, "comment_id": 75595563, "body": "<code>b[2]</code>, at least, <i>is</i> a single backslash. You are confusing the return value of the indexing with the string representation of the value."}], "answers": [{"comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1496264770, "post_id": 44294544, "comment_id": 75595672, "body": "This will produce incorrect output for strings that start or end with quotes, such as <code>&quot;foo&quot;</code>: <code>answer(&#39;&quot;foo&quot;&#39;)</code> -&gt; <code>foo</code> instead of <code>&quot;foo&quot;</code>. You could just do <code>repr(a)[1:-1]</code>."}], "tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": false, "score": 1, "last_activity_date": 1496264233, "creation_date": 1496264233, "answer_id": 44294544, "question_id": 44294505, "link": "https://stackoverflow.com/questions/44294505/convert-a-string-with-escape-sequences-to-their-original-character-representatio/44294544#44294544", "title": "Convert a string with escape sequences to their original character representation in python", "body": "<p>You can convert this strings into their representation using <code>repr</code>, then strip <code>'</code> and <code>\"</code> and take the char:</p>\n\n<pre><code>&gt;&gt;&gt; a = 'C:\\temp'\n&gt;&gt;&gt; a[2]\n'\\t'\n&gt;&gt;&gt; repr(a).strip('\\'\"')[2]\n'\\\\'\n</code></pre>\n\n<hr>\n\n<p><code>answer</code> for that matter, would look like</p>\n\n<pre><code>def answer(x): return repr(x).strip('\\'\"')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 3, "last_activity_date": 1496264514, "creation_date": 1496264514, "answer_id": 44294608, "question_id": 44294505, "link": "https://stackoverflow.com/questions/44294505/convert-a-string-with-escape-sequences-to-their-original-character-representatio/44294608#44294608", "title": "Convert a string with escape sequences to their original character representation in python", "body": "<p>You have to use <code>encode</code> not <code>decode</code>:</p>\n\n<pre><code>&gt;&gt;&gt; \"\\t\".encode('string-escape')\n'\\\\t'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "is_accepted": false, "score": 0, "last_activity_date": 1496264623, "creation_date": 1496264623, "answer_id": 44294640, "question_id": 44294505, "link": "https://stackoverflow.com/questions/44294505/convert-a-string-with-escape-sequences-to-their-original-character-representatio/44294640#44294640", "title": "Convert a string with escape sequences to their original character representation in python", "body": "<p>If i understand your question, you should convert your string into their original representation using <code>repr</code> then use <code>str.partition()</code> like this example:</p>\n\n<pre><code>&gt;&gt;&gt; a = 'C:\\temp'\n&gt;&gt;&gt; repr(a).partition('\\\\')\n\n(\"'C:\", '\\\\', \"temp'\")\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 4234278, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/df521631f3deb940bbca86a392fdcee2?s=128&d=identicon&r=PG&f=1", "display_name": "xjdeng", "link": "https://stackoverflow.com/users/4234278/xjdeng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 44294608, "answer_count": 3, "score": 0, "last_activity_date": 1496265739, "creation_date": 1496264098, "last_edit_date": 1496265739, "question_id": 44294505, "link": "https://stackoverflow.com/questions/44294505/convert-a-string-with-escape-sequences-to-their-original-character-representatio", "title": "Convert a string with escape sequences to their original character representation in python", "body": "<p>Let's assume I have a program that receives inputs that I can't really control.  The following variables are fed in as is (we can't change the inputs here):</p>\n\n<pre><code>a = \"C:\\temp\"\nb = \"C:\\games\"\nc = \"Hello World\"\nd = \"\\t\"\n</code></pre>\n\n<p>Unfortunately, Python will misinterpret things and put in escape sequences:</p>\n\n<pre><code>In [138]: a[2]\nOut[138]: '\\t'\n\nIn [139]: b[2]\nOut[139]: '\\\\'\n\nIn [140]: d[0]\nOut[140]: '\\t'\n</code></pre>\n\n<p>Let's assume the answer has already been found.  It should do the following:</p>\n\n<pre><code>def answer(x):\n    pass #TODO: your code goes here\n</code></pre>\n\n<p>Desired outputs:</p>\n\n<pre><code>In [200]: answer(a)[2]\nOut [201]: '\\\\'\n\nIn [202]: answer(a)[3]\nOut [203]: 't'\n\nIn [204]: answer(b)[2]\nOut [205]: '\\\\'\n\nIn [206]: answer(b)[3]\nOut [207]: 'g'\n\nIn [208]: answer(c)\nOut [209]: 'Hello World'\n</code></pre>\n\n<p>I've already tried using the ast module and also using decode, to no avail:</p>\n\n<pre><code>In [144]: import ast\n\nIn [145]: ast.literal_eval(a)\n  File \"&lt;unknown&gt;\", line 1\n    C:  emp\n     ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Or with decode:</p>\n\n<pre><code>In [147]: a.decode('string-escape')[2]\nOut[147]: '\\t'\n</code></pre>\n\n<p>Solve for answer()</p>\n\n<p>Edit: \"\\\", not \"\\\" in the [204] example</p>\n"}, {"tags": ["python", "matlab", "performance", "python-2.7", "numpy"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 5, "creation_date": 1496263951, "post_id": 44294442, "comment_id": 75595293, "body": "Shouldn&#39;t you vectorize both MATLAB and Python/NumPy codes for performance?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1496264093, "post_id": 44294442, "comment_id": 75595367, "body": "Comparing the performance for suboptimal (or bad) solutions isn&#39;t really interesting and/or useful. Please try to optimize the performance of each solution first and then compare the performance :)"}, {"owner": {"reputation": 43, "user_id": 5955439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72fe72a2cf8cf13dd694ac609e927687?s=128&d=identicon&r=PG&f=1", "display_name": "vbajcinovci", "link": "https://stackoverflow.com/users/5955439/vbajcinovci"}, "edited": false, "score": 0, "creation_date": 1496264299, "post_id": 44294442, "comment_id": 75595458, "body": "Thanks, I&#39;ll look into it and see how the times compare then"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1496266619, "post_id": 44294442, "comment_id": 75596392, "body": "MATLAB does various forms of just-in-time compiling.  That allows you to express problems with loops, and not pay an interpretation penalty.  In older MATLAB versions your iterative MATLAB code would have been slow, and very un-MATLAB like."}], "answers": [{"comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 43, "user_id": 5955439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72fe72a2cf8cf13dd694ac609e927687?s=128&d=identicon&r=PG&f=1", "display_name": "vbajcinovci", "link": "https://stackoverflow.com/users/5955439/vbajcinovci"}, "edited": false, "score": 0, "creation_date": 1496265226, "post_id": 44294661, "comment_id": 75595861, "body": "@ViliamsBaj\u010dinovci You&#39;re welcome :) I wasn&#39;t sure if I had <code>width</code> and <code>height</code> in the correct order. You may need to double check that - and if they are swapped you could use <code>y, x = np.ogrid[:width, :height]</code>"}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 6, "last_activity_date": 1496265030, "last_edit_date": 1496265030, "creation_date": 1496264691, "answer_id": 44294661, "question_id": 44294442, "link": "https://stackoverflow.com/questions/44294442/numpy-vs-matlab-speed-arctan-and-power/44294661#44294661", "title": "numpy vs Matlab speed - arctan and power", "body": "<p>I'm focussing only on the Python part and how you could optimize it (never used MATLAB, sorry).</p>\n\n<p>If I understand your code correctly you could use:</p>\n\n<pre><code>def fastway():\n    x, y = np.ogrid[:width, :height]  # you may need to swap \"x\" and \"y\" here.\n    return np.arctan(np.hypot(centerX-x, centerY-y) / constPart)\n</code></pre>\n\n<p>That's vectorized and should be amazingly fast.</p>\n\n<pre><code>%timeit fastway()\n# 289 ms \u00b1 9.62 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n%timeit aWay()\n# 28.2 s \u00b1 243 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n%timeit bWay()\n# 29.3 s \u00b1 790 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre>\n\n<p>In case you're wondering: <code>np.hypot(x, y)</code> is identical to <code>(x**2 + y**2)**0.5</code>. It's not necessarily faster but shorter and in some edge cases gives more precise results.</p>\n\n<p>Also if you ever need to operate on scalars you shouldn't use NumPy functions. NumPy functions have such an high overhead that the time it takes to process one element is identical to the time to process one thousand elements, see for example <a href=\"https://stackoverflow.com/a/43824239/5393381\">my answer on the question \"Performance in different vectorization method in numpy\"</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2186, "user_id": 6574971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad2a7a066d70fb41fa1eec4a3eba9d2?s=128&d=identicon&r=PG&f=1", "display_name": "Xiangrui Li", "link": "https://stackoverflow.com/users/6574971/xiangrui-li"}, "is_accepted": false, "score": 4, "last_activity_date": 1496269569, "last_edit_date": 1496269569, "creation_date": 1496267446, "answer_id": 44295223, "question_id": 44294442, "link": "https://stackoverflow.com/questions/44294442/numpy-vs-matlab-speed-arctan-and-power/44295223#44295223", "title": "numpy vs Matlab speed - arctan and power", "body": "<p>To make MSeifert's answer complete, here is the vectorized Matlab code:</p>\n\n<pre><code>height = 1080;\nwidth = 1920;\nheightCm = 30;\ndistanceCm = 70;\n\ncenterY = height / 2 + 0.5;\ncenterX = width / 2 + 0.5;\n\nconstPart = height * heightCm / distanceCm;\n[x, y] = meshgrid(1:width, 1:height);\nM = atan(hypot(centerX-x, centerY-y) / constPart);\n</code></pre>\n\n<p>On my machine, this takes 0.057 seconds, while the double for loops takes 0.20 seconds.</p>\n\n<p>On the same machine, MSeifert's python solution takes 0.082 seconds.</p>\n"}], "owner": {"reputation": 43, "user_id": 5955439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72fe72a2cf8cf13dd694ac609e927687?s=128&d=identicon&r=PG&f=1", "display_name": "vbajcinovci", "link": "https://stackoverflow.com/users/5955439/vbajcinovci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 3, "accepted_answer_id": 44294661, "answer_count": 2, "score": 3, "last_activity_date": 1496269569, "creation_date": 1496263864, "last_edit_date": 1496265522, "question_id": 44294442, "link": "https://stackoverflow.com/questions/44294442/numpy-vs-matlab-speed-arctan-and-power", "title": "numpy vs Matlab speed - arctan and power", "body": "<p>In Python and Matlab, I wrote codes that generate a matrix and populates it with a function of indices. Execution time of Python code is about 20 times longer than the execution time of Matlab code. Two functions with same results are written in python, the <code>bWay()</code> is based on <a href=\"https://stackoverflow.com/a/26789891/5955439\">this answer</a></p>\n\n<p>Here's the full Python code:</p>\n\n<pre><code>import numpy as np\nfrom timeit import timeit\n\nheight = 1080\nwidth = 1920\nheightCm = 30\ndistanceCm = 70\n\ncenterY = height / 2 - 0.5;\ncenterX = width / 2 - 0.5;\n\nconstPart = height * heightCm / distanceCm\n\ndef aWay():\n    M = np.empty([height, width], dtype=np.float64);\n    for y in xrange(height):\n        for x in xrange(width):\n            M[y, x] = np.arctan(pow((pow((centerX - x), 2) + pow((centerY - y), 2)), 0.5) / constPart)\n\ndef bWay():\n    M = np.frompyfunc(\n        lambda y, x: np.arctan(pow((pow((centerX - x), 2) + pow((centerY - y), 2)), 0.5) / constPart), 2, 1## Heading ##\n    ).outer(\n        np.arange(height),\n        np.arange(width),\n    ).astype(np.float64)\n</code></pre>\n\n<p>and here's the full Matlab code:</p>\n\n<pre><code>height = 1080;\nwidth = 1920;\nheightCm = 30;\ndistanceCm = 70;\n\ncenterY = height / 2 + 0.5;\ncenterX = width / 2 + 0.5;\n\nconstPart = height * heightCm / distanceCm;\nM = zeros(height, width);\nfor y = 1 : height\n    for x = 1 : width\n        M(y, x) = atan(((centerX - x)^2 + (centerY - y)^2)^0.5 / constPart);\n    end\nend\n</code></pre>\n\n<p>Python execution time measured with timeit.timeit: </p>\n\n<pre><code>aWay() - 6.34s\nbWay() - 6.68s\n</code></pre>\n\n<p>Matlab execution time measured with tic toc: </p>\n\n<pre><code>0.373s\n</code></pre>\n\n<p>To narrow it down I measured <code>arctan</code>, squaring and looping times</p>\n\n<p>Python:</p>\n\n<pre><code>&gt;&gt;&gt; timeit('arctan(3)','from numpy import arctan', number = 1000000)\n1.3365135641797679\n&gt;&gt;&gt; timeit('pow(3, 2)', number = 1000000)\n0.11460829719908361\n&gt;&gt;&gt; timeit('power(3, 2)','from numpy import power', number = 1000000)\n1.5427879383046275\n&gt;&gt;&gt; timeit('for x in xrange(10000000): pass', number = 1)\n0.18364813832704385\n</code></pre>\n\n<p>Matlab:</p>\n\n<pre><code>tic\nfor i = 1 : 1000000\n    atan(3);\nend\ntoc\nElapsed time is 0.179802 seconds.\ntic\nfor i = 1 : 1000000\n    3^2;\nend\ntoc\nElapsed time is 0.044160 seconds.\ntic\nfor x = 1:10000000\nend\ntoc\nElapsed time is 0.034853 seconds.\n</code></pre>\n\n<p>In all 3 cases, Python code execution time was multiple times longer.</p>\n\n<p>Is there anything I could do to improve this python code performance?</p>\n"}, {"tags": ["python", "hive", "centos", "anaconda", "cloudera"], "comments": [{"owner": {"reputation": 1876, "user_id": 2379215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b82a8a06a3c8f702bd23b7817b3517d3?s=128&d=identicon&r=PG", "display_name": "singh1469", "link": "https://stackoverflow.com/users/2379215/singh1469"}, "edited": false, "score": 0, "creation_date": 1503666778, "post_id": 44294396, "comment_id": 78722881, "body": "Did you find a solution for this? I&#39;m facing a very similar problem."}], "answers": [{"comments": [{"owner": {"reputation": 827, "user_id": 2396540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fCGkA.jpg?s=128&g=1", "display_name": "anomaaly", "link": "https://stackoverflow.com/users/2396540/anomaaly"}, "edited": false, "score": 0, "creation_date": 1509528062, "post_id": 47051283, "comment_id": 81050068, "body": "Is this even safe to do if they&#39;re different and not just named differently?"}, {"owner": {"reputation": 11, "user_id": 6664289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58b91fa9230c2356d5d579d8bf664c5?s=128&d=identicon&r=PG&f=1", "display_name": "user48390", "link": "https://stackoverflow.com/users/6664289/user48390"}, "reply_to_user": {"reputation": 827, "user_id": 2396540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fCGkA.jpg?s=128&g=1", "display_name": "anomaaly", "link": "https://stackoverflow.com/users/2396540/anomaaly"}, "edited": false, "score": 0, "creation_date": 1509532761, "post_id": 47051283, "comment_id": 81052740, "body": "Not an expert in this area but while troubleshooting, I have observed that in most of the cases, these are different versions of the same library and unless there has been a drastic change, they work just fine. One very common example is that you have a requirement of v58 of a particular library for your distribution e.g. CentOS 7 while v58 has not been released for CentOS7 yet. The maximum version available for CentOS 7 is v55, so you need to create a symlink from v55 to v58."}, {"owner": {"reputation": 11, "user_id": 6664289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58b91fa9230c2356d5d579d8bf664c5?s=128&d=identicon&r=PG&f=1", "display_name": "user48390", "link": "https://stackoverflow.com/users/6664289/user48390"}, "reply_to_user": {"reputation": 827, "user_id": 2396540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fCGkA.jpg?s=128&g=1", "display_name": "anomaaly", "link": "https://stackoverflow.com/users/2396540/anomaaly"}, "edited": false, "score": 0, "creation_date": 1509532806, "post_id": 47051283, "comment_id": 81052765, "body": "For more in depth understanding, please refer to the following thread <a href=\"https://unix.stackexchange.com/questions/475/how-do-so-shared-object-numbers-work\">https://unix.stackexchange.com/questions/475/how-do-so-share&zwnj;&#8203;d-object-numbers-wor&zwnj;&#8203;k</a> or relevant kernel/gcc documentation."}], "tags": [], "owner": {"reputation": 11, "user_id": 6664289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a58b91fa9230c2356d5d579d8bf664c5?s=128&d=identicon&r=PG&f=1", "display_name": "user48390", "link": "https://stackoverflow.com/users/6664289/user48390"}, "is_accepted": false, "score": 0, "last_activity_date": 1509528862, "last_edit_date": 1509528862, "creation_date": 1509526713, "answer_id": 47051283, "question_id": 44294396, "link": "https://stackoverflow.com/questions/44294396/importerror-libsasl2-so-3-cannot-open-shared-object-file-no-such-file-or-dire/47051283#47051283", "title": "ImportError: libsasl2.so.3: cannot open shared object file: No such file or directory", "body": "<p>Sometimes these version problems can be resolved by creating a symbolic link with another version of the same library. If you have <strong>libsasl2.so</strong> installed, create a linked file <strong>libsasl2.so.2</strong> for the same:</p>\n\n<pre><code>sudo ln -s /usr/lib64/libsasl2.so /usr/lib64/libsasl2.so.2\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8065795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d795dd035c9b5dbdd9e68090e1004438?s=128&d=identicon&r=PG&f=1", "display_name": "ghjuvan", "link": "https://stackoverflow.com/users/8065795/ghjuvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3412, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1509528862, "creation_date": 1496263652, "question_id": 44294396, "link": "https://stackoverflow.com/questions/44294396/importerror-libsasl2-so-3-cannot-open-shared-object-file-no-such-file-or-dire", "title": "ImportError: libsasl2.so.3: cannot open shared object file: No such file or directory", "body": "<p>I wrote this code :</p>\n\n<pre><code>from pyhive import hive\n\nconnection = hive.connect(\"quickstart.cloudera\", username=\"cloudera\",\n                          port=10000)\ncursor = connection.cursor()\nquery = \"SELECT * FROM capacite_part\"\ncursor.execute(query)\nfor row in cursor.fetchall():\n    print(row[0], row[1])\n</code></pre>\n\n<p>and i get this :</p>\n\n<pre><code>In [6]: runfile('/home/cloudera/lire data capacite_part.py', wdir='/home/cloudera')\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-6-c3cdfa2f79a9&gt;\", line 1, in &lt;module&gt;\n    runfile('/home/cloudera/lire data capacite_part.py', wdir='/home/cloudera')\n\n  File \"/home/cloudera/anaconda2/lib/python2.7/site-packages/spyder/utils/site/sitecustomize.py\", line 880, in runfile\n    execfile(filename, namespace)\n\n  File \"/home/cloudera/anaconda2/lib/python2.7/site-packages/spyder/utils/site/sitecustomize.py\", line 94, in execfile\n    builtins.execfile(filename, *where)\n\n  File \"/home/cloudera/lire data capacite_part.py\", line 7, in &lt;module&gt;\n    from pyhive import hive\n\n  File \"/home/cloudera/anaconda2/lib/python2.7/site-packages/pyhive/hive.py\", line 22, in &lt;module&gt;\n    import sasl\n\n  File \"/home/cloudera/anaconda2/lib/python2.7/site-packages/sasl/__init__.py\", line 15, in &lt;module&gt;\n    from sasl.saslwrapper import *\n\nImportError: libsasl2.so.3: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>this is my config :</p>\n\n<pre><code>CLOUDERA CD5 CENTOS 6.7\n\nPython 2.7.13 :: Anaconda 4.4.0 (64-bit)\n</code></pre>\n\n<p>this is pip pkg :</p>\n\n<p>[cloudera@quickstart ~]$ pip freeze</p>\n\n<pre><code>alabaster==0.7.10\nanaconda-client==1.6.3\nanaconda-navigator==1.6.2\nanaconda-project==0.6.0\nasn1crypto==0.22.0\nastroid==1.4.9\nastropy==1.3.2\nBabel==2.4.0\nbackports-abc==0.5\nbackports.shutil-get-terminal-size==1.0.0\nbackports.ssl-match-hostname==3.4.0.2\nbeautifulsoup4==4.6.0\nbitarray==0.8.1\nblaze==0.10.1\nbleach==1.5.0\nbokeh==0.12.5\nboto==2.46.1\nBottleneck==1.2.1\ncdecimal==2.3\ncffi==1.10.0\nchardet==3.0.3\nclick==6.7\ncloudpickle==0.2.2\nclyent==1.2.2\ncolorama==0.3.9\nconda==4.3.21\nconfigparser==3.5.0\ncontextlib2==0.5.5\ncryptography==1.8.1\ncycler==0.10.0\nCython==0.25.2\ncytoolz==0.8.2\ndask==0.14.3\ndatashape==0.5.4\ndecorator==4.0.11\ndistributed==1.16.3\ndocutils==0.13.1\nentrypoints==0.2.2\nenum34==1.1.6\net-xmlfile==1.0.1\nfastcache==1.0.2\nFlask==0.12.2\nFlask-Cors==3.0.2\nfuncsigs==1.0.2\nfunctools32==3.2.3.post2\nfuture==0.16.0\nfutures==3.1.1\ngevent==1.2.1\ngreenlet==0.4.12\ngrin==1.2.1\nh5py==2.7.0\nHeapDict==1.0.0\nhtml5lib==0.999\nidna==2.5\nimagesize==0.7.1\nipaddress==1.0.18\nipykernel==4.6.1\nipython==5.3.0\nipython-genutils==0.2.0\nipywidgets==6.0.0\nisort==4.2.5\nitsdangerous==0.24\njdcal==1.3\njedi==0.10.2\nJinja2==2.9.6\njsonschema==2.6.0\njupyter==1.0.0\njupyter-client==5.0.1\njupyter-console==5.1.0\njupyter-core==4.3.0\nlazy-object-proxy==1.2.2\nllvmlite==0.18.0\nlocket==0.2.0\nlxml==3.7.3\nMarkupSafe==0.23\nmatplotlib==2.0.2\nmistune==0.7.4\nmpmath==0.19\nmsgpack-python==0.4.8\nmultipledispatch==0.4.9\nnavigator-updater==0.1.0\nnbconvert==5.1.1\nnbformat==4.3.0\nnetworkx==1.11\nnltk==3.2.3\nnose==1.3.7\nnotebook==5.0.0\nnumba==0.33.0+0.ge79330a.dirty\nnumexpr==2.6.2\nnumpy==1.12.1\nnumpydoc==0.6.0\nodo==0.5.0\nolefile==0.44\nopenpyxl==2.4.7\npackaging==16.8\npandas==0.20.1\npandocfilters==1.4.1\npartd==0.3.8\npathlib2==2.2.1\npatsy==0.4.1\npep8==1.7.0\npexpect==4.2.1\npickleshare==0.7.4\nPillow==4.1.1\nply==3.10\nprompt-toolkit==1.0.14\npsutil==5.2.2\nptyprocess==0.5.1\npy==1.4.33\npycairo==1.10.0\npycosat==0.6.2\npycparser==2.17\npycrypto==2.6.1\npycurl==7.43.0\npyflakes==1.5.0\nPygments==2.2.0\nPyHive==0.3.0\npylint==1.6.4\npyodbc==4.0.16\npyOpenSSL==17.0.0\npyparsing==2.1.4\npytest==3.0.7\npython-dateutil==2.6.0\npytz==2017.2\nPyWavelets==0.5.2\nPyYAML==3.12\npyzmq==16.0.2\nQtAwesome==0.4.4\nqtconsole==4.3.0\nQtPy==1.2.1\nrequests==2.14.2\nrope==0.9.4\nsasl==0.2.1\nscandir==1.5\nscikit-image==0.13.0\nscikit-learn==0.18.1\nscipy==0.19.0\nseaborn==0.7.1\nsimplegeneric==0.8.1\nsingledispatch==3.4.0.3\nsix==1.10.0\nsnowballstemmer==1.2.1\nsortedcollections==0.5.3\nsortedcontainers==1.5.7\nSphinx==1.5.6\nspyder==3.1.4\nSQLAlchemy==1.1.9\nstatsmodels==0.8.0\nsubprocess32==3.2.7\nsympy==1.0\ntables==3.3.0\ntblib==1.3.2\nterminado==0.6\ntestpath==0.3\nthrift==0.10.0\nthrift-sasl==0.2.1\ntoolz==0.8.2\ntornado==4.5.1\ntraitlets==4.3.2\nunicodecsv==0.14.1\nwcwidth==0.1.7\nWerkzeug==0.12.2\nwidgetsnbextension==2.0.0\nwrapt==1.10.10\nxlrd==1.0.0\nXlsxWriter==0.9.6\nxlwt==1.2.0\nzict==0.1.2\n</code></pre>\n\n<p>Anybody has an idea of why it 's not working ?</p>\n\n<p>thanks a lot in advance ...</p>\n\n<p>(i have already, before, installed a newest Anaconda distribution, with Python 3.6 ...it was making the same thing...)</p>\n\n<p>Where can i get a new libsasl2.so.3 for a centos 6.7 and for x64 bits...?</p>\n"}, {"tags": ["python", "excel", "csv", "probability", "probability-distribution"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1496263779, "post_id": 44294344, "comment_id": 75595225, "body": "You have 75 events, but 76 return values (0-75); what is the extra one?"}, {"owner": {"reputation": 113, "user_id": 8068622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0681146c79078a88fb7aac3dc53587c?s=128&d=identicon&r=PG&f=1", "display_name": "memokerobi", "link": "https://stackoverflow.com/users/8068622/memokerobi"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496264011, "post_id": 44294344, "comment_id": 75595319, "body": "I thought when range(0,75) it doesn&#39;t include 75 so it is 75 values, 0 to 74"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 8068622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0681146c79078a88fb7aac3dc53587c?s=128&d=identicon&r=PG&f=1", "display_name": "memokerobi", "link": "https://stackoverflow.com/users/8068622/memokerobi"}, "edited": false, "score": 0, "creation_date": 1496264645, "post_id": 44294517, "comment_id": 75595614, "body": "It would take a long time to do this, it&#39;s not very practical, just like the method I used. I am looking for a simpler way, don&#39;t know if there is one."}, {"owner": {"reputation": 342, "user_id": 6381439, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cpv2O5u7Xv4/AAAAAAAAAAI/AAAAAAAAAV4/wpwrRwppfUc/photo.jpg?sz=128", "display_name": "Benjamin Commet", "link": "https://stackoverflow.com/users/6381439/benjamin-commet"}, "reply_to_user": {"reputation": 113, "user_id": 8068622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0681146c79078a88fb7aac3dc53587c?s=128&d=identicon&r=PG&f=1", "display_name": "memokerobi", "link": "https://stackoverflow.com/users/8068622/memokerobi"}, "edited": false, "score": 0, "creation_date": 1496264953, "post_id": 44294517, "comment_id": 75595736, "body": "It wouldn&#39;t take too long if you generated the code programmatically, but that is a whole different task all together."}], "tags": [], "owner": {"reputation": 342, "user_id": 6381439, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cpv2O5u7Xv4/AAAAAAAAAAI/AAAAAAAAAV4/wpwrRwppfUc/photo.jpg?sz=128", "display_name": "Benjamin Commet", "link": "https://stackoverflow.com/users/6381439/benjamin-commet"}, "is_accepted": false, "score": 0, "last_activity_date": 1496264147, "creation_date": 1496264147, "answer_id": 44294517, "question_id": 44294344, "link": "https://stackoverflow.com/questions/44294344/generating-numbers-from-probabilities-in-csv-file-in-python/44294517#44294517", "title": "Generating numbers from probabilities in csv file in python", "body": "<p>So it looks like you are going to 4 decimals of precision right? So what you could do is get a random number between 0 and 9999:</p>\n\n<pre><code>from random import randint\nrandomNum = randint(0,9999))\n</code></pre>\n\n<p>And then multiply each probability by 10000 and set up a bunch of elif statements for each switch. So if event_1 has a probability of 0.0045 and event 2 has a probability of .0100, the elif would look something like this.</p>\n\n<pre><code>if randomNum &lt; 45:\n    event_1()\nelif randomNum &gt; 45 &amp;&amp; randomNum &lt; 145:\n    event_2()\n..........\n</code></pre>\n\n<p>and so on. This shouldn't require anywhere near as many calls to random. Though setting it up might not be trivial. </p>\n"}], "owner": {"reputation": 113, "user_id": 8068622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0681146c79078a88fb7aac3dc53587c?s=128&d=identicon&r=PG&f=1", "display_name": "memokerobi", "link": "https://stackoverflow.com/users/8068622/memokerobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "closed_date": 1496279474, "answer_count": 1, "score": 0, "last_activity_date": 1496264574, "creation_date": 1496263445, "last_edit_date": 1496264574, "question_id": 44294344, "link": "https://stackoverflow.com/questions/44294344/generating-numbers-from-probabilities-in-csv-file-in-python", "closed_reason": "Duplicate", "title": "Generating numbers from probabilities in csv file in python", "body": "<p>I have an excel file with different cases and about 75 events for each case. There is a probability of each event happening given each case. So the excel file looks like this:</p>\n\n<pre><code>       event1  event2 ...   event75    \n\ncase1  0.0343  0.0234 ...   0.1194\n\ncase2  0.0924  0.0532 ...   0.0023\n</code></pre>\n\n<p>I want to generate a random number in python, ranging from 0 to 75 with the probabilities of the given case. When I worked with cases with only 2 events that could occur, I used a code like this:</p>\n\n<pre><code>excel_cases = pd.read_csv('/.../cases.csv')\n\ndef event_probabilities(case):\nevent_probability = excel_cases.loc[excel_cases['Case'] == case, 'event1'].values[0]\nreturn event_probability\n\nevent1_probability = event_probabilities(\"case1\")\nnp.random.choice(np.arange(1, 3), p=[event1_probability, (1 - event1_probability)])\n# can also do an event2_probability instead of 1-event1_probability\n</code></pre>\n\n<p>However when the range of events get bigger I don't know what would be a more efficient way of doing this. Thanks for the help.</p>\n\n<p>*Not same as the other question as I'm getting the probabilities from Excel</p>\n"}, {"tags": ["python", "django", "unit-testing", "django-class-based-views"], "answers": [{"comments": [{"owner": {"reputation": 817, "user_id": 4812174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6a27ab3f6ed18e7c52f9d7bca090959e?s=128&d=identicon&r=PG&f=1", "display_name": "InquisitiveGirl", "link": "https://stackoverflow.com/users/4812174/inquisitivegirl"}, "edited": false, "score": 0, "creation_date": 1496271589, "post_id": 44295212, "comment_id": 75598087, "body": "Hi @odi - Thanks for your reply, I have tried request factory but that requires the path of the url and since multiple views uses this function I&#39;m not sure which request url should be used. So I was wondering if there is a way to test independently"}, {"owner": {"reputation": 1531, "user_id": 1304096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GMK9z.png?s=128&g=1", "display_name": "ACimander", "link": "https://stackoverflow.com/users/1304096/acimander"}, "reply_to_user": {"reputation": 817, "user_id": 4812174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6a27ab3f6ed18e7c52f9d7bca090959e?s=128&d=identicon&r=PG&f=1", "display_name": "InquisitiveGirl", "link": "https://stackoverflow.com/users/4812174/inquisitivegirl"}, "edited": false, "score": 0, "creation_date": 1496298238, "post_id": 44295212, "comment_id": 75605129, "body": "well, in testing theorie, you should test all url path&#39;s to reach 100% coverage and branch converage ;) Having only integration tests for some functions is not ideal, but sometimes the only economic way to get a decent coverage. Speaking from experience: having some integregration tests in a large legacy code basis is an couple order of magnitude higher on the crazy-to-sane scale."}], "tags": [], "owner": {"reputation": 1531, "user_id": 1304096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GMK9z.png?s=128&g=1", "display_name": "ACimander", "link": "https://stackoverflow.com/users/1304096/acimander"}, "is_accepted": false, "score": 1, "last_activity_date": 1496267377, "creation_date": 1496267377, "answer_id": 44295212, "question_id": 44294333, "link": "https://stackoverflow.com/questions/44294333/mocking-function-in-a-view-django/44295212#44295212", "title": "Mocking function in a view - Django", "body": "<p>You can use mock.patch as a function decorator, or even better as a contextmanager:</p>\n\n<pre><code>with mock.patch('path.to.your.app.Class.method', new=new_function_with_return):\n    # do something here\n    pass\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3/library/unittest.mock.html#patch\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/unittest.mock.html#patch</a></p>\n\n<p>[edit] sorry, I was reading a little too fast. You can create fake request objects via Django's RequestFactory:</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.11/topics/testing/advanced/#the-request-factory\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.11/topics/testing/advanced/#the-request-factory</a></p>\n"}], "owner": {"reputation": 817, "user_id": 4812174, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6a27ab3f6ed18e7c52f9d7bca090959e?s=128&d=identicon&r=PG&f=1", "display_name": "InquisitiveGirl", "link": "https://stackoverflow.com/users/4812174/inquisitivegirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2777, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496267377, "creation_date": 1496263415, "question_id": 44294333, "link": "https://stackoverflow.com/questions/44294333/mocking-function-in-a-view-django", "title": "Mocking function in a view - Django", "body": "<p>I'm new to writing unit tests, this question might be silly but I'm posting this after a lot of research.</p>\n\n<p>I'm trying to write a unit test for a function in the centralized/views.py which is being used in a lot of other views.</p>\n\n<p>The function looks like this</p>\n\n<pre><code>def make_job(self, request, *args, **kwargs):\n   .....\n   .....\n   return Response(data, status=status.HTTP_200_OK)\n</code></pre>\n\n<p>I need help in mocking the request in the unit test, since this function is called by other views I'm not sure how to test this function independently without relying on the url path.</p>\n\n<p>What is the approach to mock this request?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1496264886, "post_id": 44294330, "comment_id": 75595714, "body": "What are you really trying to achieve here? Isn&#39;t this more of an <code>nltk</code> problem?"}], "answers": [{"tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": true, "score": 2, "last_activity_date": 1496263976, "creation_date": 1496263976, "answer_id": 44294467, "question_id": 44294330, "link": "https://stackoverflow.com/questions/44294330/python-regex-search-for-word-with-non-alpha-characters-in-the-middle/44294467#44294467", "title": "Python Regex Search for Word with Non-alpha Characters in the Middle", "body": "<p>You can match for every lowercase word like that, using repetition under a non-capturing group:</p>\n\n<pre><code>(?:[a-z][^a-z]*)+\n</code></pre>\n\n<p>Alternatively, you can automate this regex for every given word:</p>\n\n<pre><code>&gt;&gt;&gt; word = 'dont'\n&gt;&gt;&gt; regex = ''.join(x + '[^a-z]*' for x in word)\n&gt;&gt;&gt; regex\n'd[^a-z]*o[^a-z]*n[^a-z]*t[^a-z]*'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": false, "score": 0, "last_activity_date": 1496264043, "creation_date": 1496264043, "answer_id": 44294480, "question_id": 44294330, "link": "https://stackoverflow.com/questions/44294330/python-regex-search-for-word-with-non-alpha-characters-in-the-middle/44294480#44294480", "title": "Python Regex Search for Word with Non-alpha Characters in the Middle", "body": "<p>Try this:</p>\n\n<pre><code>pattern = re.compile(\"[^\\w']|don't\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1496265273, "creation_date": 1496265273, "answer_id": 44294791, "question_id": 44294330, "link": "https://stackoverflow.com/questions/44294330/python-regex-search-for-word-with-non-alpha-characters-in-the-middle/44294791#44294791", "title": "Python Regex Search for Word with Non-alpha Characters in the Middle", "body": "<p>Yes, you will have to do it the way you showed if it is really your intention. </p>\n\n<p>A regex only matches consequent sequences  of specific chars or types of chars. It cannot know that you need to match <code>d&amp;&amp;o</code> with <code>d</code> and <code>o</code> only, since there are other chars that must be matched.</p>\n"}], "owner": {"reputation": 2177, "user_id": 2570465, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/14da57290208c66d0846cfab5fbe3577?s=128&d=identicon&r=PG", "display_name": "user2570465", "link": "https://stackoverflow.com/users/2570465/user2570465"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 0, "accepted_answer_id": 44294467, "answer_count": 3, "score": 1, "last_activity_date": 1496265273, "creation_date": 1496263412, "question_id": 44294330, "link": "https://stackoverflow.com/questions/44294330/python-regex-search-for-word-with-non-alpha-characters-in-the-middle", "title": "Python Regex Search for Word with Non-alpha Characters in the Middle", "body": "<p>I need to find indices at which a lowercase word with letters a-z occurs in a string. However, the string might have a bunch of non-alpha characters within the word. </p>\n\n<p>For example, the word \"dont\" spans indices [0, 5) in the phrase \"don't do that.\"</p>\n\n<p>I searched around for ways to match non-alpha characters and achieved this with the following regex:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; pattern = re.compile(\"d[^a-z]*o[^a-z]*n[^a-z]*t[^a-z]*\")\n&gt;&gt;&gt; test = \"don't\"\n&gt;&gt;&gt; pattern.search(test).start()\n0\n&gt;&gt;&gt; pattern.search(test).end()\n5\n&gt;&gt;&gt; test = \"d'o&amp;&amp;&amp;&amp;&amp;n't\"\n&gt;&gt;&gt; pattern.search(test).start()\n0\n&gt;&gt;&gt; pattern.search(test).end()\n11\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Is there a more concise way to express this regex? Or would I have to write code to insert [^a-z]* between every character in every word I want to search for?</p>\n\n<p>Sorry if this question already exists - I don't know exactly how to phrase this question. Thanks for the help.</p>\n"}, {"tags": ["python", "pandas", "numpy", "anaconda", "jupyter"], "comments": [{"owner": {"reputation": 2245, "user_id": 1885713, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/356b2c290d867c0dc7f3e776e89937fb?s=128&d=identicon&r=PG", "display_name": "Yannis P.", "link": "https://stackoverflow.com/users/1885713/yannis-p"}, "edited": false, "score": 0, "creation_date": 1496263642, "post_id": 44294319, "comment_id": 75595170, "body": "Strange because Anaconda includes the correct dependencies for both. Did you update running <code>conda update</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8094312, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154580264901570/picture?type=large", "display_name": "Andy Fyers", "link": "https://stackoverflow.com/users/8094312/andy-fyers"}, "edited": false, "score": 0, "creation_date": 1496284868, "post_id": 44296579, "comment_id": 75601137, "body": "Thanks. I tried this but no change. As I commented above I think something is wrong with the install of anaconda"}, {"owner": {"reputation": 1, "user_id": 8094312, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154580264901570/picture?type=large", "display_name": "Andy Fyers", "link": "https://stackoverflow.com/users/8094312/andy-fyers"}, "edited": false, "score": 0, "creation_date": 1496301210, "post_id": 44296579, "comment_id": 75606907, "body": "Problem resolved. jupyter was importing an older version of numpy which I tracked down and deleted. Thanks for your help"}, {"owner": {"reputation": 875, "user_id": 3872529, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/78aa5305669bc124de9b1a5993f6a777?s=128&d=identicon&r=PG&f=1", "display_name": "M.Ahsen Taqi", "link": "https://stackoverflow.com/users/3872529/m-ahsen-taqi"}, "reply_to_user": {"reputation": 1, "user_id": 8094312, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154580264901570/picture?type=large", "display_name": "Andy Fyers", "link": "https://stackoverflow.com/users/8094312/andy-fyers"}, "edited": false, "score": 0, "creation_date": 1519903657, "post_id": 44296579, "comment_id": 85101534, "body": "@AndyFyers can you please share how you deleted the numpy that jupyter was tracking? I am facing the same problem."}], "tags": [], "owner": {"reputation": 301, "user_id": 8094746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHIuq.jpg?s=128&g=1", "display_name": "David Jaimes", "link": "https://stackoverflow.com/users/8094746/david-jaimes"}, "is_accepted": false, "score": 0, "last_activity_date": 1496276411, "creation_date": 1496276411, "answer_id": 44296579, "question_id": 44294319, "link": "https://stackoverflow.com/questions/44294319/python-pandas-wont-import-because-numpy-version-is-incompatible-but-numpy-wo/44296579#44296579", "title": "Python - Pandas won&#39;t import because numpy version is incompatible. But numpy won&#39;t update", "body": "<p>It looks like you don't have your path setup correctly. You are not linking to the anaconda distribution. Make sure you have your <code>.bash_profile</code> file is correctly setup--assuming you're on a bash shell. Add this line in your <code>.bash_profile</code> if not there:</p>\n\n<pre><code># added by Anaconda3 4.3.0 installer\n# need to change path to Anaconda directory if not in your home directory\n# this is setup for Python3.6 in my home directory\nexport PATH=\"/Users/home_dir/anaconda3/bin:$PATH\"``` \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8094312, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154580264901570/picture?type=large", "display_name": "Andy Fyers", "link": "https://stackoverflow.com/users/8094312/andy-fyers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1201, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1496279018, "creation_date": 1496263373, "last_edit_date": 1496264936, "question_id": 44294319, "link": "https://stackoverflow.com/questions/44294319/python-pandas-wont-import-because-numpy-version-is-incompatible-but-numpy-wo", "title": "Python - Pandas won&#39;t import because numpy version is incompatible. But numpy won&#39;t update", "body": "<p>I had to re-install anaconda and Jupyter now I can't import pandas in Jupyter notebook. It says to upgrade numpy to 1.7.0. Have done this, but problem still persists</p>\n\n<p>This is the error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n&lt;ipython-input-1-af55e7023913&gt; in &lt;module&gt;()\n----&gt; 1 import pandas as pd\n\n/Library/Python/2.7/site-packages/pandas/__init__.py in &lt;module&gt;()\n     21 \n     22 # numpy compat\n---&gt; 23 from pandas.compat.numpy import *\n     24 \n     25 try:\n\n/Library/Python/2.7/site-packages/pandas/compat/numpy/__init__.py in &lt;module&gt;()\n     22                       'your numpy version is {0}.\\n'\n     23                       'Please upgrade numpy to &gt;= 1.7.0 to use '\n---&gt; 24                       'this pandas version'.format(_np_version))\n     25 \n     26 \n\nImportError: this version of pandas is incompatible with numpy &lt; 1.7.0\nyour numpy version is 1.6.2.\nPlease upgrade numpy to &gt;= 1.7.0 to use this pandas version\n</code></pre>\n"}, {"tags": ["c#", "python", "process"], "comments": [{"owner": {"reputation": 8519, "user_id": 7662085, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/X4wrF.jpg?s=128&g=1", "display_name": "stybl", "link": "https://stackoverflow.com/users/7662085/stybl"}, "edited": false, "score": 0, "creation_date": 1496263857, "post_id": 44294314, "comment_id": 75595241, "body": "Could you post <code>foo.py</code>?"}, {"owner": {"reputation": 280, "user_id": 6136888, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/554bab2dae06ff48df9db3ce38be2626?s=128&d=identicon&r=PG&f=1", "display_name": "Zaya", "link": "https://stackoverflow.com/users/6136888/zaya"}, "reply_to_user": {"reputation": 8519, "user_id": 7662085, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/X4wrF.jpg?s=128&g=1", "display_name": "stybl", "link": "https://stackoverflow.com/users/7662085/stybl"}, "edited": false, "score": 0, "creation_date": 1496324083, "post_id": 44294314, "comment_id": 75623312, "body": "It&#39;s like 500 lines, and it works when I start it from the command line manually. If I separately start both programs, the whole thing works, I&#39;m just trying to find a way to only have to start one"}], "answers": [{"comments": [{"owner": {"reputation": 280, "user_id": 6136888, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/554bab2dae06ff48df9db3ce38be2626?s=128&d=identicon&r=PG&f=1", "display_name": "Zaya", "link": "https://stackoverflow.com/users/6136888/zaya"}, "edited": false, "score": 0, "creation_date": 1496323887, "post_id": 44294545, "comment_id": 75623149, "body": "i tried both <code>&quot;\\&quot;python &quot; + path + &quot;\\\\foo.py\\&quot;&quot;;</code> and <code>&quot;&#47;c \\&quot;python &quot; + path + &quot;\\\\foo.py\\&quot;&quot;;</code> and neither worked. When I make the window style visible it still just shows an empty line in the path directory, but no indications it started the python file."}, {"owner": {"reputation": 280, "user_id": 6136888, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/554bab2dae06ff48df9db3ce38be2626?s=128&d=identicon&r=PG&f=1", "display_name": "Zaya", "link": "https://stackoverflow.com/users/6136888/zaya"}, "edited": false, "score": 0, "creation_date": 1496324537, "post_id": 44294545, "comment_id": 75623671, "body": "Wait. This worked. There was another problem with the path I was giving it. This answers the question. Thank you! Here&#39;s the working code: <code>startInfo.Arguments = &quot;&#47;c \\&quot;python foo.py\\&quot;&quot;;</code>"}, {"owner": {"reputation": 1273, "user_id": 2736419, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b236c8f17151e33cd521d9741307e17c?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Frisch", "link": "https://stackoverflow.com/users/2736419/evan-frisch"}, "reply_to_user": {"reputation": 280, "user_id": 6136888, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/554bab2dae06ff48df9db3ce38be2626?s=128&d=identicon&r=PG&f=1", "display_name": "Zaya", "link": "https://stackoverflow.com/users/6136888/zaya"}, "edited": false, "score": 0, "creation_date": 1496325352, "post_id": 44294545, "comment_id": 75624363, "body": "@Zaya Sorry about that, I wrote out the command arguments with the quotes but forgot the flag itself. Glad you figured it out and I edited the question so it should be correct now."}, {"owner": {"reputation": 1813, "user_id": 4497941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JIhwG.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/4497941/learner"}, "edited": false, "score": 0, "creation_date": 1545205312, "post_id": 44294545, "comment_id": 94540773, "body": "Can you post an example with python script args?"}, {"owner": {"reputation": 1273, "user_id": 2736419, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b236c8f17151e33cd521d9741307e17c?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Frisch", "link": "https://stackoverflow.com/users/2736419/evan-frisch"}, "reply_to_user": {"reputation": 1813, "user_id": 4497941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JIhwG.jpg?s=128&g=1", "display_name": "Learner", "link": "https://stackoverflow.com/users/4497941/learner"}, "edited": false, "score": 0, "creation_date": 1548949431, "post_id": 44294545, "comment_id": 95736518, "body": "@Learner You should just be able to add them to the arguments string between <code>foo.py</code> and the <code>\\&quot;</code> that closes the python argument string."}], "tags": [], "owner": {"reputation": 1273, "user_id": 2736419, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b236c8f17151e33cd521d9741307e17c?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Frisch", "link": "https://stackoverflow.com/users/2736419/evan-frisch"}, "is_accepted": true, "score": 1, "last_activity_date": 1508185521, "last_edit_date": 1508185521, "creation_date": 1496264234, "answer_id": 44294545, "question_id": 44294314, "link": "https://stackoverflow.com/questions/44294314/process-start-not-working-in-c-to-call-python-script/44294545#44294545", "title": "process.Start() not working in C# to call python script", "body": "<p>If you want to run a program in the command line using arguments to cmd.exe you need the <code>/c</code> flag. Alternatively you can use <code>/k</code> but that keeps the command process running which you probably don't want.</p>\n\n<blockquote>\n  <p>/c Carries out the command specified by String and then stops.</p>\n</blockquote>\n\n<p>So it's usage is <code>cmd.exe /c [string]</code></p>\n\n<p>Try changing your arguments line to:</p>\n\n<pre><code>startInfo.Arguments = \"/c \\\"python \" + path + \"\\\\foo.py\\\"\";\n</code></pre>\n\n<p>See here for more information about running cmd.exe and dealing with quotes in the <code>string</code> section of the command: <a href=\"https://technet.microsoft.com/en-us/library/cc771320(v=ws.11).aspx\" rel=\"nofollow noreferrer\">https://technet.microsoft.com/en-us/library/cc771320(v=ws.11).aspx</a></p>\n"}], "owner": {"reputation": 280, "user_id": 6136888, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/554bab2dae06ff48df9db3ce38be2626?s=128&d=identicon&r=PG&f=1", "display_name": "Zaya", "link": "https://stackoverflow.com/users/6136888/zaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3489, "favorite_count": 0, "accepted_answer_id": 44294545, "answer_count": 1, "score": 2, "last_activity_date": 1508185521, "creation_date": 1496263361, "question_id": 44294314, "link": "https://stackoverflow.com/questions/44294314/process-start-not-working-in-c-to-call-python-script", "title": "process.Start() not working in C# to call python script", "body": "<p>Sorry if this is something obvious, I'm super new to C#. \nI'm working on a program that runs a python script to check something online, that then writes it back to a file that C# reads and puts on a form. Everything works if I manually run them both at the same time, but I really want to start the script from the C# program.</p>\n\n<p>Here's the function that should start the python script:</p>\n\n<pre><code>private void RunPython()\n{\n        Process p = new Process();\n        ProcessStartInfo startInfo = new ProcessStartInfo();\n        startInfo.WindowStyle = ProcessWindowStyle.Hidden;\n        startInfo.FileName = \"cmd.exe\";\n        startInfo.Arguments = \"python \" + path + \"\\\\foo.py\";\n        p.StartInfo = startInfo;\n        p.Start();\n}\n\nprivate void Button_Click(object sender, RoutedEventArgs e)\n{\n        // get things set up... etc.\n        RunPython();\n}\n</code></pre>\n\n<p>I've tried running it without the window hidden, and it just brings up an empty cmd line in the 'path' directory. Is it never running the python script? It doesn't seem like it is, but it may also be running it and immediately closing it. I can't tell. </p>\n\n<p>I need it to stay open for the duration of the C# program's run, so if the problem is it exiting when the RunPython() method returns, is there some different way I could go about this?</p>\n\n<p>Thanks!!</p>\n"}, {"tags": ["python", "ssl", "web-scraping", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 862, "user_id": 2556978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2a29a34715f5224b8979174677285ec8?s=128&d=identicon&r=PG", "display_name": "spaderdabomb", "link": "https://stackoverflow.com/users/2556978/spaderdabomb"}, "edited": false, "score": 0, "creation_date": 1496263494, "post_id": 44294276, "comment_id": 75595104, "body": "Your snippet runs just fine on it&#39;s own, however, when I add the sess.get(URL) part, it throws the same error"}], "tags": [], "owner": {"reputation": 7231, "user_id": 236345, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ekgwV.jpg?s=128&g=1", "display_name": "Alfabravo", "link": "https://stackoverflow.com/users/236345/alfabravo"}, "is_accepted": false, "score": 1, "last_activity_date": 1496263227, "creation_date": 1496263227, "answer_id": 44294276, "question_id": 44294218, "link": "https://stackoverflow.com/questions/44294218/python-requests-throws-ssl-error-on-certain-site/44294276#44294276", "title": "Python Requests throws SSL Error on certain site", "body": "<p>Seen it somewhere else. What if you try using <a href=\"http://docs.python-requests.org/en/master/user/advanced/#session-objects\" rel=\"nofollow noreferrer\">sessions</a> like this:</p>\n\n<pre><code>import requests\nsess = requests.Session()\nadapter = requests.adapters.HTTPAdapter(max_retries = 20)\nsess.mount('http://', adapter)\n</code></pre>\n\n<p>Then, change <code>requests.get()</code> with <code>sess.get()</code></p>\n\n<p>If you want to keep working with requests, maybe you need to install <a href=\"https://pypi.python.org/pypi/ndg-httpsclient\" rel=\"nofollow noreferrer\">ndg-httpsclient</a> package.</p>\n"}, {"comments": [{"owner": {"reputation": 862, "user_id": 2556978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2a29a34715f5224b8979174677285ec8?s=128&d=identicon&r=PG", "display_name": "spaderdabomb", "link": "https://stackoverflow.com/users/2556978/spaderdabomb"}, "edited": false, "score": 0, "creation_date": 1496272645, "post_id": 44294700, "comment_id": 75598335, "body": "Thanks this was exactly the problem!"}], "tags": [], "owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1496264874, "creation_date": 1496264874, "answer_id": 44294700, "question_id": 44294218, "link": "https://stackoverflow.com/questions/44294218/python-requests-throws-ssl-error-on-certain-site/44294700#44294700", "title": "Python Requests throws SSL Error on certain site", "body": "<blockquote>\n  <p>... lot of people claimed adding in the optional argument \"verify=False\" should fix these types of SSL errors</p>\n</blockquote>\n\n<p>adding <code>verify=False</code> helps against errors when validating the certificate, but not against EOF from server, handshake errors or similar.</p>\n\n<p>As can be seen from <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=secure.funorb.com\" rel=\"nofollow noreferrer\">SSLLabs</a> this specific server exhibits the behavior of simply closing the connection (i.e. \"EOF occurred in violation of protocol\") for clients which don't support TLS 1.2 with modern ciphers. While you don't specify which SSL version you use I expect it to be a version less than OpenSSL 1.0.1, the first version of OpenSSL supporting TLS 1.2. </p>\n\n<p>Please check <code>ssl.OPENSSL_VERSION</code> for the version used in your code. If I'm correct your only fix is to upgrade the version of OpenSSL use by Python. How this is done depends on your platform but there are existing posts about it, like <a href=\"https://stackoverflow.com/questions/18752409/updating-openssl-in-python-2-7\">Updating openssl in python 2.7</a>.</p>\n"}], "owner": {"reputation": 862, "user_id": 2556978, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2a29a34715f5224b8979174677285ec8?s=128&d=identicon&r=PG", "display_name": "spaderdabomb", "link": "https://stackoverflow.com/users/2556978/spaderdabomb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "accepted_answer_id": 44294700, "answer_count": 2, "score": 3, "last_activity_date": 1496272768, "creation_date": 1496262923, "last_edit_date": 1496272768, "question_id": 44294218, "link": "https://stackoverflow.com/questions/44294218/python-requests-throws-ssl-error-on-certain-site", "title": "Python Requests throws SSL Error on certain site", "body": "<p><strong>EDIT - FIXED</strong> tldr, semi-old version of python installed a couple years ago had ssl package that was not updated to handle newer SSL certificates. After updating Python and making sure the ssl package was up to date, everything worked. </p>\n\n<hr>\n\n<p>I'm new to web scraping, and wanted to scrape a certain site, but for some reason I'm getting errors when using the Python's Requests package on this particular site. </p>\n\n<p>I am working on secure login to scrape data from my user profile. The login address can be found here: <a href=\"https://secure.funorb.com/m=weblogin/loginform.ws?mod=hiscore_fo&amp;ssl=0&amp;expired=0&amp;dest=\" rel=\"nofollow noreferrer\">https://secure.funorb.com/m=weblogin/loginform.ws?mod=hiscore_fo&amp;ssl=0&amp;expired=0&amp;dest=</a></p>\n\n<p>I'm just trying to perform simple tasks at this point, like printing the text from a get request. The following is my code. </p>\n\n<pre><code>import requests\n\nreq = requests.get('https://secure.funorb.com/m=weblogin/loginform.ws?mod=hiscore_fo&amp;ssl=0&amp;expired=0&amp;dest=',verify=False)\nprint req.text\n</code></pre>\n\n<p>When I run this, an error is thrown:</p>\n\n<pre><code> File \"/Library/Python/2.7/site-packages/requests/adapters.py\", line 512, in send\n    raise SSLError(e, request=request)\nrequests.exceptions.SSLError: EOF occurred in violation of protocol (_ssl.c:590)\n</code></pre>\n\n<p>I've looked in this file to see what's going on. It seems the culprit is </p>\n\n<pre><code>    except (_SSLError, _HTTPError) as e:\n        if isinstance(e, _SSLError):\n            raise SSLError(e, request=request)\n        elif isinstance(e, ReadTimeoutError):\n            raise ReadTimeout(e, request=request)\n        else:\n            raise\n</code></pre>\n\n<p>I'm not really sure how to avoid this unfortunately, I'm kind of at my debugging limit here. </p>\n\n<p>My code works just fine on other secure sites, such as <a href=\"https://bitbucket.org/account/signin/\" rel=\"nofollow noreferrer\">https://bitbucket.org/account/signin/</a>. I've looked at a ton of solutions on stack exchange and around the net, and a lot of people claimed adding in the optional argument \"verify=False\" should fix these types of SSL errors (ableit it's not the most secure way to do it). But as you can see from my code snippet, this isn't helping me. </p>\n\n<p>If anyone can get this working/give advice on where to go it would be much appreciated.</p>\n"}, {"tags": ["python", "django", "django-templates", "django-views", "django-admin"], "answers": [{"tags": [], "owner": {"reputation": 3237, "user_id": 4626788, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-d5Ate3B4CBg/AAAAAAAAAAI/AAAAAAAACGo/9xaOH3aF-y8/photo.jpg?sz=128", "display_name": "Neeraj Kumar", "link": "https://stackoverflow.com/users/4626788/neeraj-kumar"}, "is_accepted": true, "score": 3, "last_activity_date": 1496263222, "creation_date": 1496263222, "answer_id": 44294274, "question_id": 44294206, "link": "https://stackoverflow.com/questions/44294206/django-reversing-custom-admin-urls/44294274#44294274", "title": "Django- Reversing custom Admin URLs", "body": "<p>Try this in html</p>\n\n<pre><code>&lt;a href=\"{% url 'admin:form_entries' form_id=4 %}\"&gt;4-Entries&lt;/a&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 1, "last_activity_date": 1496263232, "creation_date": 1496263232, "answer_id": 44294278, "question_id": 44294206, "link": "https://stackoverflow.com/questions/44294206/django-reversing-custom-admin-urls/44294278#44294278", "title": "Django- Reversing custom Admin URLs", "body": "<p>Your url pattern name <code>form_entries</code> doesn't match <code>forms_form_entries</code> from the URL tag. Django does not automatically prefix the pattern name with <code>&lt;app_name&gt;_</code> as you appear to be expecting. </p>\n\n<p>Change one of them so that they match. </p>\n"}], "owner": {"reputation": 407, "user_id": 6857994, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/LlYSv.jpg?s=128&g=1", "display_name": "S_alj", "link": "https://stackoverflow.com/users/6857994/s-alj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 44294274, "answer_count": 2, "score": 3, "last_activity_date": 1496263232, "creation_date": 1496262876, "question_id": 44294206, "link": "https://stackoverflow.com/questions/44294206/django-reversing-custom-admin-urls", "title": "Django- Reversing custom Admin URLs", "body": "<p>I'm using an App that configures some Admin URLs as:</p>\n\n<pre><code>#admin.py....\n    def get_urls(self):\n            urls = super(FormAdmin, self).get_urls()\n            extra_urls = [\n                url(\"^(?P&lt;form_id&gt;\\d+)/entries/$\",\n                    self.admin_site.admin_view(self.entries_view),\n                    name=\"form_entries\"),\n            #......\n            ]\n            return extra_urls + urls\n</code></pre>\n\n<p>I'm having trouble using template tags to get a URL corresponding to that, in one of my templates. I'm trying stuff like:</p>\n\n<pre><code>&lt;a href=\"{% url 'admin:forms_form_entries' form_id=4 %}\"&gt;4-Entries&lt;/a&gt;\n</code></pre>\n\n<p>(Where forms is the App's label). I keep running into the No Reverse Match type of errors: </p>\n\n<blockquote>\n  <p>NoReverseMatch at /polls/ Reverse for 'forms_form_entries' with\n  arguments '(4,)' and keyword arguments '{}' not found. 0 pattern(s)\n  tried: []</p>\n</blockquote>\n\n<p>What am I missing that makes the tag work correctly?</p>\n"}, {"tags": ["python", "numpy", "image-processing", "kernel-density"], "comments": [{"owner": {"reputation": 1347, "user_id": 1447257, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/84dc19e2c0234329f865d3cf072de93c?s=128&d=identicon&r=PG", "display_name": "Philipp H.", "link": "https://stackoverflow.com/users/1447257/philipp-h"}, "edited": false, "score": 0, "creation_date": 1496262823, "post_id": 44294112, "comment_id": 75594810, "body": "Yes, the final output will be in <code>img</code>, image with the peaks is temporary; let me rename my variables."}], "answers": [{"comments": [{"owner": {"reputation": 1347, "user_id": 1447257, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/84dc19e2c0234329f865d3cf072de93c?s=128&d=identicon&r=PG", "display_name": "Philipp H.", "link": "https://stackoverflow.com/users/1447257/philipp-h"}, "edited": false, "score": 1, "creation_date": 1496271341, "post_id": 44295839, "comment_id": 75598019, "body": "Nice! The border effect could be removed by padding."}], "tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": true, "score": 2, "last_activity_date": 1496272047, "last_edit_date": 1496272047, "creation_date": 1496270864, "answer_id": 44295839, "question_id": 44294112, "link": "https://stackoverflow.com/questions/44294112/density-image-of-2d-floating-points/44295839#44295839", "title": "Density image of 2D floating points", "body": "<p>The usual libraries (openCV, scipy.ndimage, etc) need the rounding you did because they work in the context of image processing. Both the input and the output are images, so both input and output are pixels. It's not trivially straightforward to generalize this, especially since the usual Gaussian blur has some \"conservation laws\" wired into it through a sum rule of the Gaussian kernel used.</p>\n\n<p>I would try generalizing the Gaussian blur by simply adding up proper Gaussian peaks at each (float) position and looking at the resulting function at the relevant pixel coordinates. We can enforce the \"conservation of weight\" in a similar vein for our continuous approximation, but I'm not entirely sure that this makes <em>perfect</em> sense as a 2d density image. Anyway, this is the best generalization I can think of right now:</p>\n\n<pre><code>import numpy as np\n\n# inputs\nimsize = (128,128)\nnpeaks = 16\npts_x,pts_y = np.random.uniform(low=0, high=min(imsize)-1, size=(2,npeaks,1,1))\n# weird size: prepare for broadcasting\n# pts_x.shape == pts_y.shape == (npeaks,1,1)\n\nii,jj = np.ogrid[:imsize[0],:imsize[1]]  # memory-efficient np.indices\npeaks = np.exp(-((pts_x - ii)**2 + (pts_y - jj)**2)/(2*sigma**2)) # shape (npeaks,*imsize)\n\n# normalize each peak to preserve weight 1 for each\npeaks /= peaks.sum(axis=(1,2),keepdims=True)\n\n# sum each peak to end up with an array of size imsize\npeaks = peaks.sum(axis=0)\n\n# print(peaks.sum()) is now 16.0\n# same for blurred openCV version: 16.18 \n</code></pre>\n\n<p>Comparing the above (left) with the openCV-generated version (right):</p>\n\n<p><a href=\"https://i.stack.imgur.com/DyezV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DyezVm.png\" alt=\"new numpy version\"></a> <a href=\"https://i.stack.imgur.com/IBMV1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IBMV1m.png\" alt=\"old opencv version\"></a></p>\n\n<p>Notice the largest difference at the top where one of the peaks is almost at the edge. The difference is due to openCV doing a proper convolution with a Gaussian kernel, which is affected by the presence or absence of edges. My approach blindly sums up Gaussian peaks at each coordinate. These are limitations/features you have to be aware of. All in all, the above might be an acceptable replacement depending on your specific needs.</p>\n\n<p>For posterity, the above figures were created with the random points</p>\n\n<pre><code>array([[  71.84229522,   53.87674552],\n       [  49.46010032,   25.54820408],\n       [ 118.08357845,    6.83220309],\n       [  97.20503813,   76.96684427],\n       [   1.00902832,   51.26414236],\n       [  82.38165581,   30.2121626 ],\n       [  64.46298579,   58.15192887],\n       [ 121.90414697,   38.02821749],\n       [ 101.81869852,   49.64438987],\n       [  28.49284669,   41.81582785],\n       [   9.48948284,   55.24329885],\n       [  63.54365708,  116.05157199],\n       [  86.00412101,   46.56952082],\n       [  34.27945909,   40.62669415],\n       [  34.46355519,   14.85889878],\n       [  67.23707619,   76.76113722]])\n</code></pre>\n"}], "owner": {"reputation": 1347, "user_id": 1447257, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/84dc19e2c0234329f865d3cf072de93c?s=128&d=identicon&r=PG", "display_name": "Philipp H.", "link": "https://stackoverflow.com/users/1447257/philipp-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 0, "accepted_answer_id": 44295839, "answer_count": 1, "score": 2, "last_activity_date": 1496272047, "creation_date": 1496262519, "last_edit_date": 1496270894, "question_id": 44294112, "link": "https://stackoverflow.com/questions/44294112/density-image-of-2d-floating-points", "title": "Density image of 2D floating points", "body": "<p>Given a 2D set of points</p>\n\n<pre><code>pts = np.random.uniform(low=0, high=127, size=32).reshape((-1, 2))\n</code></pre>\n\n<p>a density image can be computed by drawing peaks and filtering with a Gaussian blur:</p>\n\n<pre><code>sigma = 2\npeaks_img = np.zeros((128, 128))\npeaks_img[np.int_(pts[:, 0]), np.int_(pts[:, 1])] = 1\ndensity_img = cv2.GaussianBlur(peaks_img, (0, 0), sigma)\n</code></pre>\n\n<p>Is there a nice (and fast) method for doing this without the cast to int, therefore keeping the floating point precision?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1496262254, "post_id": 44294027, "comment_id": 75594516, "body": "Try this: <code>zacks_mktv_df[&#39;per_fisc_year&#39;] = zacks_mktv_df.per_end_date.dt.year</code>"}, {"owner": {"reputation": 105, "user_id": 4312908, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/be4d96de9cbbb515a31a337a5a771902?s=128&d=identicon&r=PG&f=1", "display_name": "TEKOrchestrator", "link": "https://stackoverflow.com/users/4312908/tekorchestrator"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1496262729, "post_id": 44294027, "comment_id": 75594752, "body": "Thanks @MaxU  that worked as well"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1496262819, "post_id": 44294027, "comment_id": 75594808, "body": "you are welcome"}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 4312908, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/be4d96de9cbbb515a31a337a5a771902?s=128&d=identicon&r=PG&f=1", "display_name": "TEKOrchestrator", "link": "https://stackoverflow.com/users/4312908/tekorchestrator"}, "is_accepted": false, "score": 3, "last_activity_date": 1496262602, "creation_date": 1496262602, "answer_id": 44294142, "question_id": 44294027, "link": "https://stackoverflow.com/questions/44294027/create-a-new-pandas-column-with-just-the-year-of-another-column/44294142#44294142", "title": "Create a new Pandas Column with just the year of another column", "body": "<p>I was able to achieve this with .assign as well as follows.</p>\n\n<pre><code>zacks_mktv_df.assign(per_fisc_year= zacks_mktv_df.per_end_date.dt.year)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": true, "score": 4, "last_activity_date": 1496262610, "creation_date": 1496262610, "answer_id": 44294145, "question_id": 44294027, "link": "https://stackoverflow.com/questions/44294027/create-a-new-pandas-column-with-just-the-year-of-another-column/44294145#44294145", "title": "Create a new Pandas Column with just the year of another column", "body": "<p>You could use</p>\n\n<pre><code>zacks_mktv_df['per_fisc_year'] = zacks_mktv_df['per_end_date'].dt.year\n</code></pre>\n\n<p>If the column <code>per_end_date</code> is eg. <code>datetime64</code>.</p>\n"}], "owner": {"reputation": 105, "user_id": 4312908, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/be4d96de9cbbb515a31a337a5a771902?s=128&d=identicon&r=PG&f=1", "display_name": "TEKOrchestrator", "link": "https://stackoverflow.com/users/4312908/tekorchestrator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 44294145, "answer_count": 2, "score": 3, "last_activity_date": 1496262610, "creation_date": 1496262168, "question_id": 44294027, "link": "https://stackoverflow.com/questions/44294027/create-a-new-pandas-column-with-just-the-year-of-another-column", "title": "Create a new Pandas Column with just the year of another column", "body": "<p>I have the following df where 'per_end_date' is a Datetime object.</p>\n\n<pre><code>zacks_mktv_df[:4]\n\nticker | per_end_date | mkt_val\n--------------------------------\nA      | 2016-12-31   | 14648.84\nA      | 2015-12-31   | 13704.02\nA      | 2014-12-31   | 13751.83\n</code></pre>\n\n<p>I want to grab the year from every row in 'per_end_date' column and make another row out of it so for my table above it would look like.</p>\n\n<pre><code>ticker | per_end_date | mkt_val  |\n--------------------------------------------\nA      | 2016-12-31   | 14648.84 | 2016\nA      | 2015-12-31   | 13704.02 | 2015\nA      | 2014-12-31   | 13751.83 | 2014\n</code></pre>\n\n<p>I tried this.</p>\n\n<pre><code>zacks_mktv_df['per_fisc_year'] = zacks_mktv_df[zacks_mktv_df.per_end_date.dt.year]\n</code></pre>\n\n<p>Getting the folowing error:</p>\n\n<pre><code>IndexError: indices are out-of-bounds\n</code></pre>\n"}, {"tags": ["python", "class", "static-methods", "static-variables", "class-names"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1496262454, "post_id": 44294001, "comment_id": 75594634, "body": "Any particular reason you&#39;re not just doing <code>self.TABLE</code>?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1496262504, "post_id": 44294001, "comment_id": 75594662, "body": "Or <code>__class__.TABLE</code>, if you&#39;re going to rely on the magic <code>__class__</code> closure variable anyway?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 2, "creation_date": 1496262584, "post_id": 44294001, "comment_id": 75594696, "body": "As a rule of thump: Inside your class you shouldn&#39;t need to know the name of the class (one exception: <code>super</code> in python-2.x and maybe in <code>__repr__</code> or <code>__str__</code>). Whenever you find you need the name of your class there&#39;s probably a better/easier way."}, {"owner": {"reputation": 338, "user_id": 4403387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/27f0c2a1d75348c9fa14a598f8694df1?s=128&d=identicon&r=PG&f=1", "display_name": "Rethipher", "link": "https://stackoverflow.com/users/4403387/rethipher"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1496262810, "post_id": 44294001, "comment_id": 75594806, "body": "@user2357112 When I started this many months ago (it&#39;s part of a parsing word XML document script), I intented for variables that I might need to add would be class variables instead of instance variables. At the time I thought it made sense. In my mind, I could add more as I find them, if I need to parse more formats, or we want to change the format of our word documents. Obviously I didn&#39;t need to do that, but it&#39;s all over the place in the class now, and I don&#39;t really want to rewrite the entire thing just to change a couple of class variables to instance variables."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1496262885, "post_id": 44294001, "comment_id": 75594839, "body": "@Rethipher: Ignoring for the moment whether any of this stuff should be class variables or instance variables, are you not aware that you can read class variables through <code>self</code>?"}, {"owner": {"reputation": 338, "user_id": 4403387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/27f0c2a1d75348c9fa14a598f8694df1?s=128&d=identicon&r=PG&f=1", "display_name": "Rethipher", "link": "https://stackoverflow.com/users/4403387/rethipher"}, "edited": false, "score": 0, "creation_date": 1496263131, "post_id": 44294001, "comment_id": 75594954, "body": "I actually wasn&#39;t aware of that. That would seem to make it more difficult though to tell whether the variable is instance or static though. That would work for what I&#39;m trying to do, however."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1496263751, "post_id": 44294001, "comment_id": 75595209, "body": "@Rethipher When do you need to tell the difference? <code>self.foo</code> first checks the instance for an attribute named <code>foo</code>, and if there is none, starts looking for <code>foo</code> as a class attribute of the base class(es), in MRO order. Having instance variables and class variables of the same name would be poor design."}], "answers": [{"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1496263995, "post_id": 44294406, "comment_id": 75595310, "body": "Please stop calling them static variables. They are called class variables; there is nothing particularly static about them."}, {"owner": {"reputation": 338, "user_id": 4403387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/27f0c2a1d75348c9fa14a598f8694df1?s=128&d=identicon&r=PG&f=1", "display_name": "Rethipher", "link": "https://stackoverflow.com/users/4403387/rethipher"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1496266582, "post_id": 44294406, "comment_id": 75596376, "body": "@chepner It really doesn&#39;t matter what you call it as long as you know what it does. I go back and forth between matlab, Simulink, python, c, c++, and sometimes java. All of them call these the concept something different. I cannot stress enough how unimportant the name is."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1496266798, "post_id": 44294406, "comment_id": 75596467, "body": "It&#39;s quite important. For instance, there is a big difference between static methods and class methods. <i>You</i> might know what you mean by static variable; don&#39;t assume others will."}], "tags": [], "owner": {"reputation": 338, "user_id": 4403387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/27f0c2a1d75348c9fa14a598f8694df1?s=128&d=identicon&r=PG&f=1", "display_name": "Rethipher", "link": "https://stackoverflow.com/users/4403387/rethipher"}, "is_accepted": true, "score": 1, "last_activity_date": 1496263696, "creation_date": 1496263696, "answer_id": 44294406, "question_id": 44294001, "link": "https://stackoverflow.com/questions/44294001/use-class-name-to-access-static-variables/44294406#44294406", "title": "Use class name to access static variables", "body": "<p>For anybody looking for an answer to this, disregarding for the moment whether mixing static and instance variables is a good idea.</p>\n\n<p>There are two simple ways to approach this.</p>\n\n<p><strong>First way</strong> </p>\n\n<pre><code>class MyClass():\n    static_variable = 'VARIABLE'\n\n    def __init__(self):\n        self.instanceVariable = 'test'\n\n    def access_static(self):\n        print(__class__.static_variable)\n</code></pre>\n\n<p><strong>Second way</strong></p>\n\n<pre><code>class MyClass():\n    static_variable = 'VARIABLE'\n\n    def __init__(self):\n        self.instanceVariable = 'test'\n\n    def access_static(self):\n        print(self.static_variable)\n</code></pre>\n\n<p>An instance variable can be accessed using <strong>class</strong>.static_variable, or using\nself.static_variable as long as an instance variable hasn't been defined for self.static_variable somewhere in the code. </p>\n\n<p>Using self would make it ambiguous as to whether you are accessing a static variable or instance variable though, so my preferred way of doing it would be to simply prepend <em>static_variable</em> with <em>_class_</em> instead of  <em>ClassName.static_variable</em></p>\n"}], "owner": {"reputation": 338, "user_id": 4403387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/27f0c2a1d75348c9fa14a598f8694df1?s=128&d=identicon&r=PG&f=1", "display_name": "Rethipher", "link": "https://stackoverflow.com/users/4403387/rethipher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1584, "favorite_count": 0, "accepted_answer_id": 44294406, "answer_count": 1, "score": 2, "last_activity_date": 1496330392, "creation_date": 1496262055, "last_edit_date": 1496330392, "question_id": 44294001, "link": "https://stackoverflow.com/questions/44294001/use-class-name-to-access-static-variables", "title": "Use class name to access static variables", "body": "<p>Is there a way to access a class variable without explicitly using the class name, in case I decided to change the name of the class later on?</p>\n\n<p>Something like this</p>\n\n<pre><code>static_variable = 'stuff'\n\nclassName = CLASS\n\ndef method (self):\n    className.static_variable\n</code></pre>\n\n<p>Is this possible in a simple way?</p>\n\n<p><strong>Answer</strong> </p>\n\n<p>self.static_variable <em>or</em>  __class__.static_variable</p>\n"}, {"tags": ["python", "matplotlib", "linear-programming"], "answers": [{"comments": [{"owner": {"reputation": 44000, "user_id": 164148, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b9388a7e480b3eb53b992ce8683729d?s=128&d=identicon&r=PG&f=1", "display_name": "hhh", "link": "https://stackoverflow.com/users/164148/hhh"}, "edited": false, "score": 0, "creation_date": 1496263881, "post_id": 44294296, "comment_id": 75595252, "body": "Can you understand why the label <code>label=r&#39;$x[1]+x[2]&lt;=6$&#39;)</code> is not there? Ofc I forgot <code>plt.legend()</code>, thank you."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 44000, "user_id": 164148, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b9388a7e480b3eb53b992ce8683729d?s=128&d=identicon&r=PG&f=1", "display_name": "hhh", "link": "https://stackoverflow.com/users/164148/hhh"}, "edited": false, "score": 1, "creation_date": 1496264040, "post_id": 44294296, "comment_id": 75595334, "body": "As in the linked code, you would need to ask for a legend. They use <code>plt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)</code>, which is fine, also just <code>plt.legend()</code> would work."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1496263300, "creation_date": 1496263300, "answer_id": 44294296, "question_id": 44293977, "link": "https://stackoverflow.com/questions/44293977/python-elegant-visualisation-for-feasible-area-objective-function-of-lp-in-ma/44294296#44294296", "title": "Python: elegant visualisation for feasible area &amp; objective function of LP in Matplotlib?", "body": "<p>I can suggest the following, where <code>x</code> and <code>y{i}</code> are used where possible. </p>\n\n<pre><code>import numpy as np, matplotlib.pyplot as plt\n#I hold x a line while defining new values for each y\nx = np.linspace(0, 20, 2000)\n#1*x[1] + 0*x[2] &lt;= 5\n#y0*0=5-x  #No initialization with respect to y0 because it is zero.\n#0*x[1] + 1*x[2] &lt;= 5\ny1=5+x*0\n#1*x[1] + 0*x[2] &gt;= 1\n#y2*0=1-x  #No inititialization\n#0*x[1] + 1*x[2] &gt;= 1\ny3=1-x*0\n#1*x[1] + 1*x[2] &lt;= 6\ny4=6-x\n\nplt.plot(x,y4,label=r'$x[1]+x[2]&lt;=6$')\nplt.plot(x,y1)\nplt.axvline(5, color='g')        #y2 &lt;  5\nplt.axvline(1, color='r') #x  &gt;= 1 \nplt.plot(x,y3,'b--')  #y3 &gt;= 1\n\nplt.fill_between(x, y1, y4, where=(x&gt;1)&amp;(x&lt;5), color='grey', alpha=0.5)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/L5sk3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L5sk3.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think any implementation in matplotlib will require to manually solve the respective inequality for either x or y and then do the according plot. </p>\n"}, {"tags": [], "owner": {"reputation": 4387, "user_id": 673271, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/8skfj.png?s=128&g=1", "display_name": "mattmilten", "link": "https://stackoverflow.com/users/673271/mattmilten"}, "is_accepted": false, "score": 0, "last_activity_date": 1496294982, "creation_date": 1496294982, "answer_id": 44299173, "question_id": 44293977, "link": "https://stackoverflow.com/questions/44293977/python-elegant-visualisation-for-feasible-area-objective-function-of-lp-in-ma/44299173#44299173", "title": "Python: elegant visualisation for feasible area &amp; objective function of LP in Matplotlib?", "body": "<p>You should be able to do that using <a href=\"https://github.com/coin-or/GrUMPy\" rel=\"nofollow noreferrer\">GrUMPy</a>. It's not too straightforward to set up and use, though.</p>\n"}], "owner": {"reputation": 44000, "user_id": 164148, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b9388a7e480b3eb53b992ce8683729d?s=128&d=identicon&r=PG&f=1", "display_name": "hhh", "link": "https://stackoverflow.com/users/164148/hhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2200, "favorite_count": 1, "accepted_answer_id": 44294296, "answer_count": 2, "score": 1, "last_activity_date": 1496294982, "creation_date": 1496261954, "question_id": 44293977, "link": "https://stackoverflow.com/questions/44293977/python-elegant-visualisation-for-feasible-area-objective-function-of-lp-in-ma", "title": "Python: elegant visualisation for feasible area &amp; objective function of LP in Matplotlib?", "body": "<p>I want to learn to plot the following LP problem <a href=\"https://stackoverflow.com/questions/30849883/linear-programming-with-scipy-optimize-linprog\">here</a> elegantly with matplotlib</p>\n\n<pre><code>1*x[1] + 2x[2] -&gt; max\n\n1*x[1] + 0*x[2] &lt;= 5\n0*x[1] + 1*x[2] &lt;= 5\n1*x[1] + 0*x[2] &gt;= 1\n0*x[1] + 1*x[2] &gt;= 1\n1*x[1] + 1*x[2] &lt;= 6\n</code></pre>\n\n<p>where the first line is the objective function and the rest are the constraints of an LP problem.</p>\n\n<p>I already found a demo <a href=\"http://benalexkeen.com/linear-programming-with-python-and-pulp-part-1/\" rel=\"nofollow noreferrer\">here</a> that I tweaked little bit but how to do this elegantly? How to fill the upper triangle in the picture with grey with the lines (not functions like in the demo)?</p>\n\n<p><strong>How to visualise the objective function and the feasible area of a LP (linear programming) problem elegantly in Matplotlib of Python?</strong></p>\n\n<hr>\n\n<p><em>Code</em></p>\n\n<pre><code>import numpy as np, matplotlib.pyplot as plt\n#I hold x a line while defining new values for each y\nx = np.linspace(0, 20, 2000)\n#1*x[1] + 0*x[2] &lt;= 5\n#y0*0=5-x  #No initialization with respect to y0 because it is zero.\n#0*x[1] + 1*x[2] &lt;= 5\ny1=5+x*0\n#1*x[1] + 0*x[2] &gt;= 1\n#y2*0=1-x  #No inititialization\n#0*x[1] + 1*x[2] &gt;= 1\ny3=1-x*0\n#1*x[1] + 1*x[2] &lt;= 6\ny4=6-x\n#TODO: HOW TO DRAW THE ABOVE LINEAR EQUATIONS ELEGANTLY in matplotlib?\n#Drawing the lines by end points because of the zeroes.\nplt.plot(x,y4,label=r'$x[1]+x[2]&lt;=6$')\nplt.plot([5,5],[10,-10])       #x  &lt;  5\nplt.plot([10,-2],[5,5])        #y2 &lt;  5\nplt.plot([1,1],[10,-10], 'r-') #x  &gt;= 1 \nplt.plot([10,-2],[1,1],'b--')  #y3 &gt;= 1\n#TODO: how to fill the upper triangle only?\n# http://benalexkeen.com/linear-programming-with-python-and-pulp-part-1/\n#plt.fill_between(x, y5, y6, where=y5&gt;y6, color='grey', alpha=0.5)\nplt.show()\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://i.stack.imgur.com/VQkxO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQkxO.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 1103, "user_id": 7495746, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eicFepd80jY/AAAAAAAAAAI/AAAAAAAAABc/kRCZ6Bx0cT4/photo.jpg?sz=128", "display_name": "Jayesh Doolani", "link": "https://stackoverflow.com/users/7495746/jayesh-doolani"}, "edited": false, "score": 0, "creation_date": 1496262091, "post_id": 44293962, "comment_id": 75594443, "body": "just to clarify, in the screenshot, when you click on the name &#39;Testy&#39;, the text box becomes editable, else it&#39;s just greyed out?"}, {"owner": {"reputation": 1103, "user_id": 7495746, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eicFepd80jY/AAAAAAAAAAI/AAAAAAAAABc/kRCZ6Bx0cT4/photo.jpg?sz=128", "display_name": "Jayesh Doolani", "link": "https://stackoverflow.com/users/7495746/jayesh-doolani"}, "edited": false, "score": 0, "creation_date": 1496262347, "post_id": 44293962, "comment_id": 75594574, "body": "also, can you add the code that you have tried so far"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1496263074, "post_id": 44293962, "comment_id": 75594928, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 965, "user_id": 7867195, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9cc653c0115eb7f1bf04c4464851cae8?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Ramendik", "link": "https://stackoverflow.com/users/7867195/mikhail-ramendik"}, "edited": false, "score": 0, "creation_date": 1496266701, "post_id": 44293962, "comment_id": 75596427, "body": "A couple of checks. (1) are you able to find the parent element? You could use classname &quot;edit_mode&quot;. (2) Did you check whether the elements might be inside an iframe? If they are, Selenium needs to be switched to that iframe before it can find anything inside it."}, {"owner": {"reputation": 11, "user_id": 7993490, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Dgq6uODBF6E/AAAAAAAAAAI/AAAAAAAAAFc/JnjFZ-kvcso/photo.jpg?sz=128", "display_name": "Deepak Krishnan", "link": "https://stackoverflow.com/users/7993490/deepak-krishnan"}, "edited": false, "score": 0, "creation_date": 1496325272, "post_id": 44293962, "comment_id": 75624301, "body": "Clarifications: When I click on Test the text box becomes editable, else, it&#39;s grayed out. The elements are not inside a frame. I tried using classname edit_mode, but that didn&#39;t work. I tried using just the text Testy but that didn&#39;t work either. here&#39;s my code: self.browser.find_element_by_xpath(&quot;//input[contains(@name, &#39;{}&#39;)]&quot;.format(field) field is a parameter passed to my function and the value being passed is first_name"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7993490, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Dgq6uODBF6E/AAAAAAAAAAI/AAAAAAAAAFc/JnjFZ-kvcso/photo.jpg?sz=128", "display_name": "Deepak Krishnan", "link": "https://stackoverflow.com/users/7993490/deepak-krishnan"}, "is_accepted": false, "score": 0, "last_activity_date": 1496343014, "creation_date": 1496343014, "answer_id": 44314989, "question_id": 44293962, "link": "https://stackoverflow.com/questions/44293962/unable-to-access-element-within-page/44314989#44314989", "title": "Unable to access element within page", "body": "<p>[Resolved] Turns out there was a javascript code that would change the DOM whenever another button was clicked. So, all I had to do was re-query the DOM and then the element was visible. Thanks very much to all those who took the time to answer this question.</p>\n"}], "owner": {"reputation": 11, "user_id": 7993490, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Dgq6uODBF6E/AAAAAAAAAAI/AAAAAAAAAFc/JnjFZ-kvcso/photo.jpg?sz=128", "display_name": "Deepak Krishnan", "link": "https://stackoverflow.com/users/7993490/deepak-krishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1496343014, "creation_date": 1496261917, "question_id": 44293962, "link": "https://stackoverflow.com/questions/44293962/unable-to-access-element-within-page", "title": "Unable to access element within page", "body": "<p><a href=\"https://i.stack.imgur.com/UkAXJ.png\" rel=\"nofollow noreferrer\">Form Screenshot</a>\n<a href=\"https://i.stack.imgur.com/7NKdp.png\" rel=\"nofollow noreferrer\">HTML Inspect Code screenshot</a></p>\n\n<p>I'm trying to access an element within a page. Cannot give out the exact page link owing to security concerns. I'm writing a python program that uses selenium to access the element first name in the screenshot shown above. The name is grayed out at first and whenever a user clicks on it, the text becomes black and can be edited. </p>\n\n<p>The field simply does not seem to be visible to the program and the program fails with an element not found exception. I've used a wait method for the element to be visible but it just times out. I've tried waiting for it to be clickable, and I have tried injecting javascript to make the display style = block. None of this seems to work. I've researched extensively on StackOverflow and none of the options there seem to work for me. I spoke to the front-end developers and they tell me that apart from the div style display, there's nothing else they can think of because the element is visible in the DOM.</p>\n\n<p>Does anybody know how I can access this element?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1638, "user_id": 4478278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4df74d62fc25b8dd7f969cabf0f427d?s=128&d=identicon&r=PG", "display_name": "etemple1", "link": "https://stackoverflow.com/users/4478278/etemple1"}, "edited": false, "score": 0, "creation_date": 1496261867, "post_id": 44293896, "comment_id": 75594349, "body": "What is the value of <code>win.getEntry(&quot;Jan&quot;)</code>?"}, {"owner": {"reputation": 21, "user_id": 5828580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f3899987af2fc8ee6d5c5eea429cef?s=128&d=identicon&r=PG&f=1", "display_name": "Ziggster", "link": "https://stackoverflow.com/users/5828580/ziggster"}, "reply_to_user": {"reputation": 1638, "user_id": 4478278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4df74d62fc25b8dd7f969cabf0f427d?s=128&d=identicon&r=PG", "display_name": "etemple1", "link": "https://stackoverflow.com/users/4478278/etemple1"}, "edited": false, "score": 0, "creation_date": 1496290605, "post_id": 44293896, "comment_id": 75602511, "body": "its an int for examle 500"}, {"owner": {"reputation": 1638, "user_id": 4478278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4df74d62fc25b8dd7f969cabf0f427d?s=128&d=identicon&r=PG", "display_name": "etemple1", "link": "https://stackoverflow.com/users/4478278/etemple1"}, "edited": false, "score": 0, "creation_date": 1496321586, "post_id": 44293896, "comment_id": 75621383, "body": "apparently, it&#39;s not always what you expect. The error (as you&#39;ve pasted it) is literally telling you that you tried to convert an empty str to an int, which is obviously not possible."}], "answers": [{"tags": [], "owner": {"reputation": 263, "user_id": 5696846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d001e9b3a430ec826ee50092882f8de?s=128&d=identicon&r=PG&f=1", "display_name": "R.Jarvis", "link": "https://stackoverflow.com/users/5696846/r-jarvis"}, "is_accepted": false, "score": 0, "last_activity_date": 1497825789, "creation_date": 1497825789, "answer_id": 44620226, "question_id": 44293896, "link": "https://stackoverflow.com/questions/44293896/appjar-how-to-check-if-entry-box-is-empty/44620226#44620226", "title": "appJar - How to check if entry box is empty", "body": "<p>There's an error in your assignment.<br>\nWhen you check if the variable is empty, you don't set it to 0.<br>\nInstead, you are doing a comparison.  </p>\n\n<p>Replace: <code>jan == 0</code><br>\nWith: <code>jan = 0</code></p>\n"}], "owner": {"reputation": 21, "user_id": 5828580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4f3899987af2fc8ee6d5c5eea429cef?s=128&d=identicon&r=PG&f=1", "display_name": "Ziggster", "link": "https://stackoverflow.com/users/5828580/ziggster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1497825789, "creation_date": 1496261620, "question_id": 44293896, "link": "https://stackoverflow.com/questions/44293896/appjar-how-to-check-if-entry-box-is-empty", "title": "appJar - How to check if entry box is empty", "body": "<p>I'm making a consumption checking program with appJar(Python) and i want to know how do you check if an entry box is empty </p>\n\n<pre><code>def press(name):\n   jan = win.getEntry(\"Jan\")\n   if(jan == \"\"):\n       jan == 0\n   else:\n       jan = int(win.getEntry(\"Jan\"))\nwin.addLabelEntry(\"Jan\")\nwin.addButton(\"Confirm\", press)\n</code></pre>\n\n<p>This constantly gives me errors like ValueError: invalid literal for int() with base 10: ''</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "csv", "tensorflow"], "comments": [{"owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 0, "creation_date": 1497330518, "post_id": 44293893, "comment_id": 76018228, "body": "Did my answer solved the issue ??"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4687102"}, "reply_to_user": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "edited": false, "score": 0, "creation_date": 1497359529, "post_id": 44293893, "comment_id": 76036948, "body": "@hars Yes the first approach works now. I tried your second solution, but I&#39;m not exactly sure how this should work."}], "answers": [{"tags": [], "owner": {"reputation": 1702, "user_id": 2505209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm2Dy.jpg?s=128&g=1", "display_name": "Harsha Pokkalla", "link": "https://stackoverflow.com/users/2505209/harsha-pokkalla"}, "is_accepted": false, "score": 0, "last_activity_date": 1496263428, "creation_date": 1496263428, "answer_id": 44294338, "question_id": 44293893, "link": "https://stackoverflow.com/questions/44293893/how-to-get-csv-data-into-tensorflow/44294338#44294338", "title": "How to get CSV data into TensorFlow", "body": "<p>You can do it in two ways.</p>\n\n<ol>\n<li><p><strong>With feed_dict</strong> :</p>\n\n<pre><code>features_numpy,labels_numpy = sess.run([features,labels])\nsess.run(optimizer, feed_dict={ x: features_numpy,y: labels_numpy})\n</code></pre>\n\n<p>Run the session, get numpy values for features and labels and feed it to the model using feed_dict. But this is inefficient because you're copying TF data to Numpy and feeding it to TF again. Follow <strong>2</strong> for efficient way.</p></li>\n<li><p><strong>Avoid feed_fict</strong></p>\n\n<p>Do not use feed_dict and placeholders. Directly connect features and labels node to model. Or do this</p>\n\n<pre><code>x = features\ny = labels\n</code></pre>\n\n<p>Do <em>sess.run(model_output/loss/accuracy)</em> to get predictions or train the model.</p></li>\n</ol>\n\n<p>I hope this helps.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4687102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496263428, "creation_date": 1496261607, "question_id": 44293893, "link": "https://stackoverflow.com/questions/44293893/how-to-get-csv-data-into-tensorflow", "title": "How to get CSV data into TensorFlow", "body": "<p>I've recently started to get into Deep Learning with Tensor Flow. I've read a lot of online resources and took a Udacity course for beginners. I gained a lot of the basic principles of Deep Learning. But one thing I am struggling right now wasn't the topic of any of these resources. I have no idea how I can get my own labeled data (CSV format) into my Python program to train my net on. I've came across <a href=\"https://stackoverflow.com/questions/40143019/how-to-correctly-read-data-from-csvs-into-tensorflow\">this posting</a> and started to implement the Input Pipe in the way the post showed and it worked so far. When I tried to train my model by feeding my <strong>features</strong> and <strong>labels</strong> with </p>\n\n<pre><code>sess.run(optimizer, feed_dict={\n        x: features,\n        y: labels,\n    })\n</code></pre>\n\n<p>TF is throwing an error</p>\n\n<pre><code>TypeError: The value of a feed cannot be a tf.Tensor object. Acceptable feed values include Python scalars, strings, lists, numpy ndarrays, or TensorHandles.\n</code></pre>\n\n<p>X and Y are defined as placeholders and the session is calling <strong>tf.global_variables_initializer()</strong></p>\n\n<pre><code>x = tf.placeholder(tf.float32, shape=[10, batch_size])\ny = tf.placeholder(tf.float32)\n</code></pre>\n\n<p>But the objects returned by <strong>tf.train.shuffle_batch</strong> are Tensors right? Should/can I convert them back to valid data type like a Numpy Array or is there any other, more efficient way of reading my data. </p>\n"}, {"tags": ["python", "xml", "string", "decode", "encode"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 2312949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f3e5127a8e56ac91a8f4076db2e3236?s=128&d=identicon&r=PG", "display_name": "Dusty Shoes", "link": "https://stackoverflow.com/users/2312949/dusty-shoes"}, "edited": false, "score": 0, "creation_date": 1496447482, "post_id": 44294381, "comment_id": 75681445, "body": "Thanks, this is the correct answer. Unfortunately the dictionary mapping idea won&#39;t work with this program architecture."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 0, "last_activity_date": 1496263581, "creation_date": 1496263581, "answer_id": 44294381, "question_id": 44293891, "link": "https://stackoverflow.com/questions/44293891/python-string-encoding-xmlcharrefreplace-decode/44294381#44294381", "title": "Python string encoding xmlcharrefreplace decode", "body": "<p>What you have described is not possible, <em>in general</em>.  When you convert from a large character set (anything) to a smaller one, you lose information.  Unless you have restrictions on the coded result, you have no way of coding something you can reverse.</p>\n\n<p>However, if you have some agreement with the data base on tags that will <em>not</em> appear in the input (such as the character sequence \"\\x\"), you can use one or more of those to indicate a coded string, and you can create whatever code you like in that region.  For instance, note how the sample input appears later as <code>\"T\\xe1\\xbb\\x89nh \\xc4\\x90\\xe1\\xbb\\x93ng Nai\"</code>.</p>\n\n<p>If this will work for you, I suggest that you create a one-to-one mapping, stored in a dictionary (and its reverse), and simply index the dictionary in both directions at the critical step.  I assume that you can handle the detection logic (non-ASCII character when encoding; tagged sequence on decoding) yourself.</p>\n"}], "owner": {"reputation": 13, "user_id": 2312949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f3e5127a8e56ac91a8f4076db2e3236?s=128&d=identicon&r=PG", "display_name": "Dusty Shoes", "link": "https://stackoverflow.com/users/2312949/dusty-shoes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 795, "favorite_count": 0, "accepted_answer_id": 44294381, "answer_count": 1, "score": 0, "last_activity_date": 1496268735, "creation_date": 1496261604, "last_edit_date": 1496268735, "question_id": 44293891, "link": "https://stackoverflow.com/questions/44293891/python-string-encoding-xmlcharrefreplace-decode", "title": "Python string encoding xmlcharrefreplace decode", "body": "<p>I'm using <code>xmlcharrefreplace</code> to replace nonstandard characters in a string so that it can be saved in an xml file. Later, I would like to re-convert this string back to the original characters.</p>\n\n<pre><code>import openpyxl\nimport cgi\nfrom html.parser import HTMLParser\nparser = HTMLParser()\n\nstartingString = \"T\u1ec9nh \u0110\u1ed3ng Nai\" #example string\nprint(\"Starting string: \" + startingString) #Starting string: T\u1ec9nh \u0110\u1ed3ng Nai\n\n# 1. This string contains non-standard characters. Convert these characters using xmlcharrefreplace\nescapedString = cgi.escape(startingString)\nstrEscapedString = str(escapedString)\naposString = strEscapedString.replace(\"'\", \"&amp;apos;\")\nsavedToExcelString = str(aposString.encode('utf-8', 'xmlcharrefreplace') )[2:-1]\n\nprint(\"xmlcharrefreplace converted to: \" + savedToExcelString) #xmlcharrefreplace converted to: T\\xe1\\xbb\\x89nh \\xc4\\x90\\xe1\\xbb\\x93ng Nai\n\n# 2. The string is saved to an xml file\n# 3. The string is read from an xml file\n\n# 4. Convert the string back into the original starting string\nunescapedString = parser.unescape(savedToExcelString)\n#what do I do here??? I need to 'undo' the xmlcharrefreplace encoding\n\nprint(startingString + \" == \" + unescapedString + \" is \" + str(startingString == unescapedString))\n#  T\u1ec9nh \u0110\u1ed3ng Nai == T\\xe1\\xbb\\x89nh \\xc4\\x90\\xe1\\xbb\\x93ng Nai is False \n#  ^^ Should be the same string at the end \n</code></pre>\n\n<p>Note that I cannot use codecs.open(), because I am using the library openpyxl to open an Excel file containing the data as well. There are no restrictions on what character set the input could be - I want the final string to be the same as the initial string.</p>\n\n<p>Goal: Convert characters from xmlcharrefreplace back to their script character.\nFor example: \"\\x90\" becomes \"\u1ed3\"</p>\n"}, {"tags": ["python", "skype-for-business"], "answers": [{"comments": [{"owner": {"reputation": 2595, "user_id": 1563654, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6fa4bfb3b750e3e9e8e0d04203efe911?s=128&d=identicon&r=PG", "display_name": "Daniel Watrous", "link": "https://stackoverflow.com/users/1563654/daniel-watrous"}, "edited": false, "score": 0, "creation_date": 1496267770, "post_id": 44295094, "comment_id": 75596835, "body": "I&#39;ve tried getting an oAuth token, but the examples are only partial. I did find the SfB logs and see calls going to <a href=\"https://webpooldm21a07.infra.lync.com/ucwa/v1/\" rel=\"nofollow noreferrer\">webpooldm21a07.infra.lync.com/ucwa/v1</a>, but I&#39;m not sure where to send the request for an oAuth token."}, {"owner": {"reputation": 2595, "user_id": 1563654, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6fa4bfb3b750e3e9e8e0d04203efe911?s=128&d=identicon&r=PG", "display_name": "Daniel Watrous", "link": "https://stackoverflow.com/users/1563654/daniel-watrous"}, "edited": false, "score": 0, "creation_date": 1496267808, "post_id": 44295094, "comment_id": 75596850, "body": "The link you provide when mentioning the client API doesn&#39;t appear to give any details about the client API."}, {"owner": {"reputation": 2388, "user_id": 1378574, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e25d898f39e82ed5e63884441edacdec?s=128&d=identicon&r=PG", "display_name": "BastianW", "link": "https://stackoverflow.com/users/1378574/bastianw"}, "reply_to_user": {"reputation": 2595, "user_id": 1563654, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6fa4bfb3b750e3e9e8e0d04203efe911?s=128&d=identicon&r=PG", "display_name": "Daniel Watrous", "link": "https://stackoverflow.com/users/1563654/daniel-watrous"}, "edited": false, "score": 0, "creation_date": 1496273870, "post_id": 44295094, "comment_id": 75598671, "body": "Try the following: <a href=\"https://webdir1e.online.lync.com/WebTicket/oauthtoken\" rel=\"nofollow noreferrer\">webdir1e.online.lync.com/WebTicket/oauthtoken</a>"}, {"owner": {"reputation": 2595, "user_id": 1563654, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6fa4bfb3b750e3e9e8e0d04203efe911?s=128&d=identicon&r=PG", "display_name": "Daniel Watrous", "link": "https://stackoverflow.com/users/1563654/daniel-watrous"}, "edited": false, "score": 0, "creation_date": 1496321377, "post_id": 44295094, "comment_id": 75621231, "body": "Neither of those URLs work for obtaining an oauth token."}, {"owner": {"reputation": 2336, "user_id": 80527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGkoE.jpg?s=128&g=1", "display_name": "Nordes", "link": "https://stackoverflow.com/users/80527/nordes"}, "edited": false, "score": 0, "creation_date": 1507177832, "post_id": 44295094, "comment_id": 80108698, "body": "<a href=\"https://markeev.com/posts/skype4b/\" rel=\"nofollow noreferrer\">markeev.com/posts/skype4b</a> or <a href=\"https://ucwa.skype.com/documentation/gettingstarted-authentication\" rel=\"nofollow noreferrer\">ucwa.skype.com/documentation/gettingstarted-authentication</a> give some more information, maybe it will help"}], "tags": [], "owner": {"reputation": 2388, "user_id": 1378574, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e25d898f39e82ed5e63884441edacdec?s=128&d=identicon&r=PG", "display_name": "BastianW", "link": "https://stackoverflow.com/users/1378574/bastianw"}, "is_accepted": false, "score": 1, "last_activity_date": 1496266748, "creation_date": 1496266748, "answer_id": 44295094, "question_id": 44293834, "link": "https://stackoverflow.com/questions/44293834/get-skype-for-business-presence-status-programmatically/44295094#44295094", "title": "get skype for business presence status programmatically", "body": "<p>You might be able to use <a href=\"https://msdn.microsoft.com/en-us/skype/ucwa/developingucwaapplicationsforsfbonline\" rel=\"nofollow noreferrer\">UCWA</a> and then do something like (more infos <a href=\"https://msdn.microsoft.com/en-us/skype/ucwa/getpresencedataofacontact\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>HTTP/1.1 200 OK\nConnection: Keep-Alive\nContent-Length: 852\nDate: Thu, 18 Jan 2013 00:04:19 GMT\nContent-Type: application/json; charset=utf-8\nServer: Microsoft-IIS/7.5\nCache-Control: no-cache\nX-AspNet-Version: 4.0.30319\nX-MS-Server-Fqdn: W15-LYNC-SE1.contoso.com\nX-Powered-By: ASP.NET\n\n{\n\"availability\":\"Offline\",\n\"deviceType\":\"Unknown\",\n\"lastActive\":\"\\/Date(1358827096000)\\/\",\n\"_links\":{\n\"self\":{\"href\":\"/ucwa/oauth/v1/applications/101/people/sarad@contoso.com/presence\"}\n},\n\"rel\":\"contactPresence\"\n}\n</code></pre>\n\n<p>That should be possible via python.</p>\n\n<p>If UCWA will not work for you you need to involve the Skype for Business client API (more infos <a href=\"https://msdn.microsoft.com/en-us/skype/\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p><em>P.S. Keep noted that an Administrator can remove the LastActive attribute (so the time how long a user is e.g. away isn\u00b4t calculated) as explained <a href=\"https://support.microsoft.com/en-us/help/2684128/how-to-remove-the-lastactive-attribute-from-the-aggregation-state-category-in-lync-server-2010,-lync-server-2013,-skype-for-business-server-2015,-and-skype-for-business-online\" rel=\"nofollow noreferrer\">here</a>.</em></p>\n"}], "owner": {"reputation": 2595, "user_id": 1563654, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6fa4bfb3b750e3e9e8e0d04203efe911?s=128&d=identicon&r=PG", "display_name": "Daniel Watrous", "link": "https://stackoverflow.com/users/1563654/daniel-watrous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5747, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1496266748, "creation_date": 1496261345, "question_id": 44293834, "link": "https://stackoverflow.com/questions/44293834/get-skype-for-business-presence-status-programmatically", "title": "get skype for business presence status programmatically", "body": "<p>I need to read the current presence status from Skype for Business (16.5.185) on OSX Sierra. Is there some way to read this locally on my laptop with any programming language, like python?</p>\n\n<p>I think we use office365 and I don't have any control over the server or its settings, so I really would like to be able to find this information locally</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 2, "creation_date": 1496261709, "post_id": 44293832, "comment_id": 75594267, "body": "Seems pretty clear-cut: the file isn&#39;t there. Are you certain that you got the names right?"}, {"owner": {"reputation": 1096, "user_id": 5150303, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5IihF.jpg?s=128&g=1", "display_name": "Daniel R. Livingston", "link": "https://stackoverflow.com/users/5150303/daniel-r-livingston"}, "edited": false, "score": 1, "creation_date": 1496262857, "post_id": 44293832, "comment_id": 75594824, "body": "I believe that Python might also be searching for <code>test_images&#47;</code> relative to where you executed the script, rather than where the script actually is. If you know that the files exist, verify this isn&#39;t happening either."}, {"owner": {"reputation": 508, "user_id": 1936946, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33ed9c363164cc8c495e80a759f8062a?s=128&d=identicon&r=PG", "display_name": "Hong", "link": "https://stackoverflow.com/users/1936946/hong"}, "edited": false, "score": 0, "creation_date": 1496329753, "post_id": 44293832, "comment_id": 75627910, "body": "In the same directory that runs &#39;python p1.py&#39;. Verify the location of the file by  cocadas@cocadas-ThinkPad-W540:~/Workspace/carnd/CarND-LaneDe&zwnj;&#8203;ction-HT$ ls -al test_images/whiteCarLaneSwitch.jpg -rw-rw-r-- 1 cocadas cocadas 60676 May 30 13:05 test_images/whiteCarLaneSwitch.jpg"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1496330115, "post_id": 44293832, "comment_id": 75628231, "body": "A script may reference a different directory that where the script resides. Use full path names. You can add <code>print os.getcwd()</code> to get where the script&#39;s current working directory"}, {"owner": {"reputation": 508, "user_id": 1936946, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33ed9c363164cc8c495e80a759f8062a?s=128&d=identicon&r=PG", "display_name": "Hong", "link": "https://stackoverflow.com/users/1936946/hong"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1496331180, "post_id": 44293832, "comment_id": 75629078, "body": "@dawg, thanks for your suggestion. It turns out that one of the imwrite() operation change the directory as a result it can&#39;t find the file."}], "answers": [{"comments": [{"owner": {"reputation": 508, "user_id": 1936946, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33ed9c363164cc8c495e80a759f8062a?s=128&d=identicon&r=PG", "display_name": "Hong", "link": "https://stackoverflow.com/users/1936946/hong"}, "edited": false, "score": 0, "creation_date": 1496329762, "post_id": 44293912, "comment_id": 75627918, "body": "In the same directory that runs &#39;python p1.py&#39;. Verify the location of the file by  cocadas@cocadas-ThinkPad-W540:~/Workspace/carnd/CarND-LaneDe&zwnj;&#8203;ction-HT$ ls -al test_images/whiteCarLaneSwitch.jpg -rw-rw-r-- 1 cocadas cocadas 60676 May 30 13:05 test_images/whiteCarLaneSwitch.jpg"}, {"owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "reply_to_user": {"reputation": 508, "user_id": 1936946, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33ed9c363164cc8c495e80a759f8062a?s=128&d=identicon&r=PG", "display_name": "Hong", "link": "https://stackoverflow.com/users/1936946/hong"}, "edited": false, "score": 1, "creation_date": 1496331283, "post_id": 44293912, "comment_id": 75629150, "body": "Are you switching working directories during the computation? A full path might be safer."}, {"owner": {"reputation": 508, "user_id": 1936946, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33ed9c363164cc8c495e80a759f8062a?s=128&d=identicon&r=PG", "display_name": "Hong", "link": "https://stackoverflow.com/users/1936946/hong"}, "edited": false, "score": 0, "creation_date": 1496331593, "post_id": 44293912, "comment_id": 75629370, "body": "I confirmed that imwrite() changes the working directory. Thanks! How to use absolute directory in imread(), do you know by any chance?"}, {"owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "reply_to_user": {"reputation": 508, "user_id": 1936946, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33ed9c363164cc8c495e80a759f8062a?s=128&d=identicon&r=PG", "display_name": "Hong", "link": "https://stackoverflow.com/users/1936946/hong"}, "edited": false, "score": 1, "creation_date": 1496335198, "post_id": 44293912, "comment_id": 75631422, "body": "I&#39;m not entirely sure. It&#39;s pretty unintuitive that it switches directories. I feel as if though full paths are safer 90% of the time. It&#39;s good to get into the habit of using them where you can!"}, {"owner": {"reputation": 508, "user_id": 1936946, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33ed9c363164cc8c495e80a759f8062a?s=128&d=identicon&r=PG", "display_name": "Hong", "link": "https://stackoverflow.com/users/1936946/hong"}, "edited": false, "score": 1, "creation_date": 1496336928, "post_id": 44293912, "comment_id": 75632307, "body": "thanks! Agree. I updated the code in the answer to reflect what I have heard."}], "tags": [], "owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "is_accepted": true, "score": 1, "last_activity_date": 1496335119, "last_edit_date": 1496335119, "creation_date": 1496261707, "answer_id": 44293912, "question_id": 44293832, "link": "https://stackoverflow.com/questions/44293832/python-returns-error-when-trying-to-read-the-second-file-in-the-folder/44293912#44293912", "title": "Python returns error when trying to read the second file in the folder", "body": "<p>Look at the end of the stack trace: <code>FileNotFoundError: [Errno 2] No such file or directory: 'test_images/whiteCarLaneSwitch.jpg'</code>. This is Python telling you it can't find the file. Make sure the file is actually on your filesystem, and triple check you've spelled the filename correctly (both in your code and on your filesystem).</p>\n\n<p>You could also (purposely or accidentally) be switching working directories, causing the relative path to fail.</p>\n\n<p>The easiest fix would probably just be to use the full path. In your case (judging by your ls output):</p>\n\n<pre><code>import os\nhome = os.path.expanduser(\"~\")\nworkDir = os.path.join(home,'Workspace/carnd/CarND-LaneDection-HT/')\nfor i in range(0,6):\n    location =  = workDir+'test_images/'+TestImagesArray[i];\n    image = mpimg.imread(imageLocation)\n</code></pre>\n"}], "owner": {"reputation": 508, "user_id": 1936946, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/33ed9c363164cc8c495e80a759f8062a?s=128&d=identicon&r=PG", "display_name": "Hong", "link": "https://stackoverflow.com/users/1936946/hong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 768, "favorite_count": 0, "accepted_answer_id": 44293912, "answer_count": 1, "score": 1, "last_activity_date": 1496335119, "creation_date": 1496261344, "last_edit_date": 1496329646, "question_id": 44293832, "link": "https://stackoverflow.com/questions/44293832/python-returns-error-when-trying-to-read-the-second-file-in-the-folder", "title": "Python returns error when trying to read the second file in the folder", "body": "<p>I'm writing the code to process 6 images in the folder 'test_images'. Their name has been stored in the <code>TestImagesArray</code>.</p>\n\n<p>So <code>print(TestImagesArray)</code> gives me:</p>\n\n<pre><code>['solidYellowCurve.jpg', 'whiteCarLaneSwitch.jpg', 'solidWhiteCurve.jpg', 'solidYellowLeft.jpg', 'solidWhiteRight.jpg', 'solidYellowCurve2.jpg']\n</code></pre>\n\n<p>In the for loop, I try to read from the first to the 6th</p>\n\n<h1>Total 6 images</h1>\n\n<pre><code>for i in range(0,2):\n    # Add the folder's name before image name\n    location = 'test_images/'+TestImagesArray[i];\n    image = mpimg.imread(location)\n    gray = grayscale(image)\n    # Assumption: one kernal size for all images\n    ...\n    print(i)\n</code></pre>\n\n<p>When i=0, it works. But when i=1, it returns error.</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File \"p1.py\", line 121, in\n  \n      image = mpimg.imread(location)   File \"/home/cocadas/miniconda3/envs/carnd-term1/lib/python3.5/site-packages/matplotlib/image.py\",\n  line 1227, in imread\n      im = pilread(fname)   File \"/home/cocadas/miniconda3/envs/carnd-term1/lib/python3.5/site-packages/matplotlib/image.py\",\n  line 1205, in pilread\n      with Image.open(fname) as image:   File \"/home/cocadas/miniconda3/envs/carnd-term1/lib/python3.5/site-packages/PIL/Image.py\",\n  line 2410, in open\n      fp = builtins.open(filename, \"rb\") FileNotFoundError: [Errno 2] No such file or directory: 'test_images/whiteCarLaneSwitch.jpg'</p>\n</blockquote>\n\n<p>In the same directory that runs 'python p1.py'. Verify the location of the file by </p>\n\n<pre><code>cocadas@cocadas-ThinkPad-W540:~/Workspace/carnd/CarND-LaneDection-HT$ ls -al test_images/whiteCarLaneSwitch.jpg\n-rw-rw-r-- 1 cocadas cocadas 60676 May 30 13:05 test_images/whiteCarLaneSwitch.jpg\n</code></pre>\n\n<p>So this tells me that the file is there. It doesn't make sense to me. Do I miss anything?</p>\n"}, {"tags": ["python", "python-3.x", "csv", "web-scraping", "export-to-csv"], "answers": [{"comments": [{"owner": {"reputation": 1311, "user_id": 5533085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/496e24da9c1b4317a159e3a24e275313?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Ferreira", "link": "https://stackoverflow.com/users/5533085/vasco-ferreira"}, "edited": false, "score": 0, "creation_date": 1496262448, "post_id": 44293996, "comment_id": 75594629, "body": "it doesn&#39;t work, the output stays like this: <code>May 31, 2017;1.1240;1.1172;1.1252;1.1165;0.49%;May 30, 2017;1.1185;1.1163;1.1207;1.1108;0.18%;May 29, </code> all together in one line."}, {"owner": {"reputation": 1311, "user_id": 5533085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/496e24da9c1b4317a159e3a24e275313?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Ferreira", "link": "https://stackoverflow.com/users/5533085/vasco-ferreira"}, "edited": false, "score": 0, "creation_date": 1496273146, "post_id": 44293996, "comment_id": 75598484, "body": "just used the link to read about it, and used <code>lineterminator=&#39;\\n&#39;</code> to remove the extra blank lines. <code>writerows(row)</code> didn&#39;t work, but I&#39;ve used the answer of @lukeA"}], "tags": [], "owner": {"reputation": 549, "user_id": 8061390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69b5f6b73baf4ec252839bf3fb1d28d?s=128&d=identicon&r=PG&f=1", "display_name": "njoosse", "link": "https://stackoverflow.com/users/8061390/njoosse"}, "is_accepted": false, "score": 0, "last_activity_date": 1496263048, "last_edit_date": 1496263048, "creation_date": 1496262042, "answer_id": 44293996, "question_id": 44293800, "link": "https://stackoverflow.com/questions/44293800/python-save-data-from-beautifulsoup-to-csv/44293996#44293996", "title": "Python: Save data from BeautifulSoup to CSV", "body": "<p><strong>EDIT</strong></p>\n\n<p>When you are appending the strings to the row list, append it as a list</p>\n\n<p><code>row_data.append([row.get_text('data-real-value')])</code></p>\n\n<p>so that you have a list of lists of strings.</p>\n\n<p>see <a href=\"https://stackoverflow.com/questions/44188432/python-csv-library-leaves-empty-rows-even-when-using-a-valid-lineterminator/44189124#44189124\">Python csv library leaves empty rows even when using a valid lineterminator</a> for a better example.</p>\n\n<p>Keep the <code>writerows</code> as below to print a single item per line.</p>\n\n<pre><code>with open(save_file, 'w') as save:\n        writer = csv.writer(save, delimiter=';')\n        writer.writerows(row)\n</code></pre>\n\n<p>since it will place the delimiter between each element in the list</p>\n"}, {"comments": [{"owner": {"reputation": 1311, "user_id": 5533085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/496e24da9c1b4317a159e3a24e275313?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Ferreira", "link": "https://stackoverflow.com/users/5533085/vasco-ferreira"}, "edited": false, "score": 0, "creation_date": 1496272757, "post_id": 44295769, "comment_id": 75598366, "body": "thank you for your answer, it made the script better, but now I need to remove the extra blank lines in the csv. I just changed <b><code>open(save_file, &#39;wb&#39;)</code> to <code>open(save_file, &#39;w&#39;)</code></b>. Now, how can I remove the extra blank lines? edit: <b>@njoosse</b> just used the link to read about it, and used <code>lineterminator=&#39;\\n&#39;</code>"}, {"owner": {"reputation": 48227, "user_id": 1327739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4d8209bc0fd155f340561cbf5bb9158?s=128&d=identicon&r=PG", "display_name": "lukeA", "link": "https://stackoverflow.com/users/1327739/lukea"}, "reply_to_user": {"reputation": 1311, "user_id": 5533085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/496e24da9c1b4317a159e3a24e275313?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Ferreira", "link": "https://stackoverflow.com/users/5533085/vasco-ferreira"}, "edited": false, "score": 0, "creation_date": 1496273387, "post_id": 44295769, "comment_id": 75598554, "body": "@VascoFerreira Hmm why did you set wb back to b? I assume you can remove the extra line feeds by using <code>wb</code> as suggested. (See <a href=\"https://stackoverflow.com/questions/23835866/many-tutorials-on-writing-csv-files-have-the-mode-set-to-wb-why\">here</a> )"}, {"owner": {"reputation": 48227, "user_id": 1327739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4d8209bc0fd155f340561cbf5bb9158?s=128&d=identicon&r=PG", "display_name": "lukeA", "link": "https://stackoverflow.com/users/1327739/lukea"}, "reply_to_user": {"reputation": 1311, "user_id": 5533085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/496e24da9c1b4317a159e3a24e275313?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Ferreira", "link": "https://stackoverflow.com/users/5533085/vasco-ferreira"}, "edited": false, "score": 0, "creation_date": 1496300408, "post_id": 44295769, "comment_id": 75606370, "body": "@VascoFerreira So lineterminator would be an alternative to wb? Good to know. If you problem is solved, you can choose an answer an mark it as solved."}, {"owner": {"reputation": 1311, "user_id": 5533085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/496e24da9c1b4317a159e3a24e275313?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Ferreira", "link": "https://stackoverflow.com/users/5533085/vasco-ferreira"}, "edited": false, "score": 1, "creation_date": 1496325315, "post_id": 44295769, "comment_id": 75624330, "body": "@lukeAI have changed because it gets the following error: <code>TypeError: a bytes-like object is required, not &#39;str&#39;</code>"}], "tags": [], "owner": {"reputation": 48227, "user_id": 1327739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4d8209bc0fd155f340561cbf5bb9158?s=128&d=identicon&r=PG", "display_name": "lukeA", "link": "https://stackoverflow.com/users/1327739/lukea"}, "is_accepted": true, "score": 1, "last_activity_date": 1496270379, "creation_date": 1496270379, "answer_id": 44295769, "question_id": 44293800, "link": "https://stackoverflow.com/questions/44293800/python-save-data-from-beautifulsoup-to-csv/44295769#44295769", "title": "Python: Save data from BeautifulSoup to CSV", "body": "<p>Make sub lists of length six each (= 1 row) from your <code>row_data</code> list (<a href=\"https://stackoverflow.com/questions/9671224/split-a-python-list-into-other-sublists-i-e-smaller-lists\">via</a>):</p>\n\n<pre><code>with open(save_file, 'wb') as save:\n    writer = csv.writer(save, delimiter=';')\n    for row in [row_data[x:x+6] for x in xrange(0, len(row_data), 6)]:\n        writer.writerow(row)\n\n#May 31, 2017;1.1242;1.1172;1.1252;1.1165;0.51%\n#May 30, 2017;1.1185;1.1163;1.1207;1.1108;0.18%\n#May 29, 2017;1.1165;1.1177;1.1192;1.1159;-0.16%\n#...\n</code></pre>\n\n<p>(As noted <a href=\"https://stackoverflow.com/questions/9671224/split-a-python-list-into-other-sublists-i-e-smaller-lists\">here</a>, <code>xrange</code> may need to be <code>range</code> if you are using Python 3; I'm on Python 2 and a beginner, so...)</p>\n"}], "owner": {"reputation": 1311, "user_id": 5533085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/496e24da9c1b4317a159e3a24e275313?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Ferreira", "link": "https://stackoverflow.com/users/5533085/vasco-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 1, "accepted_answer_id": 44295769, "answer_count": 2, "score": 0, "last_activity_date": 1496270379, "creation_date": 1496261203, "question_id": 44293800, "link": "https://stackoverflow.com/questions/44293800/python-save-data-from-beautifulsoup-to-csv", "title": "Python: Save data from BeautifulSoup to CSV", "body": "<p>I have been trying to download data from a website and then save it to a csv file. The problem is: I cannot save it in a proper way to read it or to import into a database.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import csv\nimport requests\nfrom bs4 import BeautifulSoup\n\ndef getData(url_to_scrap='https://www.investing.com/currencies/eur-usd-historical-data', file=None, save_file=\"Name.csv\"):\n\n    if url_to_scrap is not None:\n        header = {'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36'}\n        r = requests.get(url_to_scrap, headers=header)  \n        data = BeautifulSoup(r.content, 'html.parser')\n    else:\n        data = BeautifulSoup(open(file, encoding='utf8'), 'html.parser')\n\n\n    table = data.find(id='curr_table')\n    table = table.find_all('td')\n\n    row_data = []\n    for row in table:\n        row_data.append(row.get_text('data-real-value'))\n\n    with open(save_file, 'w') as save:\n        for row in row_data:\n            writer = csv.writer(save, delimiter=';')\n            writer.writerow(row)\n\ngetData(save_file=\"EUR USD Historical Data.csv\")\n</code></pre>\n\n<p>And the output on the CSV file:</p>\n\n<pre><code>M;a;y; ;3;1;,; ;2;0;1;7\n\n1;.;1;2;1;8\n\n1;.;1;1;7;2\n\n1;.;1;2;2;0\n\n....\n</code></pre>\n\n<p>What I need:</p>\n\n<pre><code>May 31, 2017;1.1218;1.1172;1.1220;1.1165;0.30%\n</code></pre>\n\n<p>If you check the website, everything is in a table and I need it similar in csv.\nWhat should I change to make it work?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1874, "user_id": 4271375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0514f923aa3f605c20030bef1ffc37?s=128&d=identicon&r=PG&f=1", "display_name": "kztd", "link": "https://stackoverflow.com/users/4271375/kztd"}, "edited": false, "score": 0, "creation_date": 1496262152, "post_id": 44293789, "comment_id": 75594470, "body": "Do you want stats for each df separately, in 1 df, or 1 set of stats for the df&#39;s combined?"}], "answers": [{"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 2, "last_activity_date": 1496261833, "last_edit_date": 1496261833, "creation_date": 1496261497, "answer_id": 44293865, "question_id": 44293789, "link": "https://stackoverflow.com/questions/44293789/max-of-multiple-columns-in-pandas-of-multiple-dataframes/44293865#44293865", "title": "max of multiple columns in pandas of multiple dataframes", "body": "<p>Use <code>pd.concat</code>,<code>describe</code> with list comprehension:</p>\n\n<p>Inputs:</p>\n\n<pre><code>df1 = pd.DataFrame(np.random.rand(3,5),columns=list('ABCDE'))\ndf2 = pd.DataFrame(np.random.rand(3,5),columns=list('ABCDE'))\ndf3 = pd.DataFrame(np.random.rand(3,5),columns=list('ABCDE'))\n\npd.concat([i.describe() for i in [df1,df2,df3]], keys=['df1','df2','df3'], axis=1)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>            df1                                               df2            \\\n              A         B         C         D         E         A         B   \ncount  3.000000  3.000000  3.000000  3.000000  3.000000  3.000000  3.000000   \nmean   0.333877  0.428859  0.871313  0.627086  0.674608  0.427097  0.550675   \nstd    0.306857  0.378634  0.086694  0.286641  0.221984  0.382306  0.167861   \nmin    0.035033  0.143601  0.795605  0.432969  0.441879  0.040908  0.402787   \n25%    0.176734  0.214075  0.824027  0.462473  0.569911  0.237947  0.459449   \n50%    0.318435  0.284549  0.852450  0.491976  0.697942  0.434986  0.516111   \n75%    0.483299  0.571488  0.909168  0.724144  0.790973  0.620191  0.624619   \nmax    0.648163  0.858428  0.965886  0.956312  0.884003  0.805397  0.733128   \n\n                                          df3                                \\\n              C         D         E         A         B         C         D   \ncount  3.000000  3.000000  3.000000  3.000000  3.000000  3.000000  3.000000   \nmean   0.506573  0.495343  0.542382  0.609385  0.577433  0.426975  0.201287   \nstd    0.346116  0.238650  0.150438  0.133651  0.369295  0.426809  0.233817   \nmin    0.121840  0.242962  0.446248  0.457182  0.222946  0.027543  0.031918   \n25%    0.363533  0.384337  0.455698  0.560287  0.386180  0.202110  0.067901   \n50%    0.605227  0.525712  0.465148  0.663393  0.549413  0.376677  0.103884   \n75%    0.698939  0.621533  0.590449  0.685487  0.754676  0.626691  0.285972   \nmax    0.792651  0.717354  0.715750  0.707581  0.959939  0.876705  0.468060   \n\n\n              E  \ncount  3.000000  \nmean   0.664598  \nstd    0.037764  \nmin    0.625907  \n25%    0.646217  \n50%    0.666527  \n75%    0.683943  \nmax    0.701360 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1496262762, "last_edit_date": 1496262762, "creation_date": 1496262398, "answer_id": 44294080, "question_id": 44293789, "link": "https://stackoverflow.com/questions/44293789/max-of-multiple-columns-in-pandas-of-multiple-dataframes/44294080#44294080", "title": "max of multiple columns in pandas of multiple dataframes", "body": "<p>IIUC, this provides the min, max, std... etc for the set of similarly positioned cells.  So for column <code>('X', 'X')</code> you'll get the stats for the <code>df.loc['X', 'X']</code> cell across all dataframes in <code>lodf</code></p>\n\n<pre><code>np.random.seed([3,1415])\n\nlodf = [\n    pd.DataFrame(\n        np.random.randint(10, size=(3, 3)),\n        list('XYZ'), list('XYZ')\n    ) for _ in range(100)\n]\n\npd.concat(\n    dict(enumerate([d.stack() for d in lodf]))\n).unstack(level=[1, 2]).describe()\n\n           X                    Y                    Z              \n           X      Y      Z      X      Y      Z      X      Y      Z\ncount 100.00 100.00 100.00 100.00 100.00 100.00 100.00 100.00 100.00\nmean    4.56   4.81   4.93   4.28   4.31   4.49   4.54   4.53   4.60\nstd     2.99   2.81   2.82   3.06   2.97   3.02   3.05   2.80   2.87\nmin     0.00   0.00   0.00   0.00   0.00   0.00   0.00   0.00   0.00\n25%     2.00   2.75   2.00   1.00   2.00   2.00   1.75   2.00   3.00\n50%     4.00   5.00   5.50   5.00   4.00   4.00   5.00   4.00   4.00\n75%     7.00   7.00   7.00   7.00   7.00   7.00   7.00   7.00   7.25\nmax     9.00   9.00   9.00   9.00   9.00   9.00   9.00   9.00   9.00\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8094186, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211957244518614/picture?type=large", "display_name": "Luke Ning", "link": "https://stackoverflow.com/users/8094186/luke-ning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1325, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1496262762, "creation_date": 1496261169, "question_id": 44293789, "link": "https://stackoverflow.com/questions/44293789/max-of-multiple-columns-in-pandas-of-multiple-dataframes", "title": "max of multiple columns in pandas of multiple dataframes", "body": "<p>I'm using df.corr() to create a correlation dataframe for multiple dfs that I'm working on. How do I find the max/min/mean/std.dev for all of the relative values in each of the separate dataframes and create a dataframe out of that?</p>\n"}, {"tags": ["python", "ssl", "pyopenssl"], "answers": [{"tags": [], "owner": {"reputation": 5523, "user_id": 2594812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8f4767c6d139bb824167fa04b992e0?s=128&d=identicon&r=PG", "display_name": "Sam Hartman", "link": "https://stackoverflow.com/users/2594812/sam-hartman"}, "is_accepted": false, "score": 0, "last_activity_date": 1496261743, "creation_date": 1496261743, "answer_id": 44293925, "question_id": 44293780, "link": "https://stackoverflow.com/questions/44293780/openssl-ask-for-private-key/44293925#44293925", "title": "OpenSSL ask for private key", "body": "<p>In order to use a client certificate, you must have a private key. You will either sign some quantity with your private key or engage in encrypted key agreement in order to mutually agree on a key.  Either way, the private key is required.</p>\n\n<p>It's possible though that rather than using client certificates they use something like username/password and what they have given you is not a certificate for you to use, but the certificate you should expect from them.</p>\n"}], "owner": {"reputation": 63, "user_id": 4298013, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1064832732/picture?type=large", "display_name": "Omar Herrera", "link": "https://stackoverflow.com/users/4298013/omar-herrera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496261743, "creation_date": 1496261137, "question_id": 44293780, "link": "https://stackoverflow.com/questions/44293780/openssl-ask-for-private-key", "title": "OpenSSL ask for private key", "body": "<p>i'm using a python client that makes request to a push server, and has the option to use certificates with the lib OpenSSL for python(pyopenssl), but this client ask me for the private key(can be on the same file or different path. already checked with another server that i have both cert and key). but for the \"real\" server they are using self-signed cert and they don't have any private key in the same file or another one as far as they told me, they just share with me this cert file, is there any way to use this kind of cert with OpeenSSL in python?, thanks</p>\n"}, {"tags": ["python", "pandas", "cassandra", "cython"], "comments": [{"owner": {"reputation": 1638, "user_id": 4478278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4df74d62fc25b8dd7f969cabf0f427d?s=128&d=identicon&r=PG", "display_name": "etemple1", "link": "https://stackoverflow.com/users/4478278/etemple1"}, "edited": false, "score": 0, "creation_date": 1496261351, "post_id": 44293737, "comment_id": 75594119, "body": "Why does the query need to remain unchanged? You need data from all 10 columns?"}, {"owner": {"reputation": 13, "user_id": 6543459, "user_type": "registered", "profile_image": "https://graph.facebook.com/476578189202393/picture?type=large", "display_name": "Thien Hoang", "link": "https://stackoverflow.com/users/6543459/thien-hoang"}, "reply_to_user": {"reputation": 1638, "user_id": 4478278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4df74d62fc25b8dd7f969cabf0f427d?s=128&d=identicon&r=PG", "display_name": "etemple1", "link": "https://stackoverflow.com/users/4478278/etemple1"}, "edited": false, "score": 0, "creation_date": 1496261628, "post_id": 44293737, "comment_id": 75594233, "body": "As I said, I&#39;m just testing the for-loop performance, so here I just do a simple operation with one column. Later on, I may use other columns for analyzing. So don&#39;t mind the query. If you really need to know, it takes <code>~6 seconds</code> when I fetch one column."}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1496265883, "post_id": 44293737, "comment_id": 75596104, "body": "Not Cython specific but I&#39;d be tempted to minimize calls to max by calling it once with an iterable <code>max(i.volume for i in rows)</code>. Or better yet get the maximum with SQL maybe?"}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1496265964, "post_id": 44293737, "comment_id": 75596140, "body": "This doesn&#39;t look like the sort of code where you&#39;ll get much benefit from Cython though."}, {"owner": {"reputation": 13, "user_id": 6543459, "user_type": "registered", "profile_image": "https://graph.facebook.com/476578189202393/picture?type=large", "display_name": "Thien Hoang", "link": "https://stackoverflow.com/users/6543459/thien-hoang"}, "reply_to_user": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1496282199, "post_id": 44293737, "comment_id": 75600513, "body": "@DavidW That&#39;s the point right there. That&#39;s why I need optimization."}], "answers": [{"tags": [], "owner": {"reputation": 2208, "user_id": 5259881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f46581f4fcabbae2c031c21b88917775?s=128&d=identicon&r=PG&f=1", "display_name": "nevsv", "link": "https://stackoverflow.com/users/5259881/nevsv"}, "is_accepted": false, "score": 0, "last_activity_date": 1496306693, "creation_date": 1496306693, "answer_id": 44302657, "question_id": 44293737, "link": "https://stackoverflow.com/questions/44293737/improve-for-loop-through-cassandras-select-resultset/44302657#44302657", "title": "Improve for-loop through Cassandra&#39;s select ResultSet", "body": "<p>If you want to increase performance of going throw 600k rows - try to work with batches/bucketing, async calls, paging etc... - You have all the tools to run it in parallel and increase performance. </p>\n\n<p>If you want to increase performance of this specific \"loop\", i'm not sure there's much to do - most of the time should be all the I/O part. You can overwrite row factory, use compression for transferring, work with CL_ONE.</p>\n\n<p>Also, if you want to select \"max\", or other kinds of aggregates, you can try to move the logic to Cassandra and use UDF's/UDA's.</p>\n"}], "owner": {"reputation": 13, "user_id": 6543459, "user_type": "registered", "profile_image": "https://graph.facebook.com/476578189202393/picture?type=large", "display_name": "Thien Hoang", "link": "https://stackoverflow.com/users/6543459/thien-hoang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1297, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496306693, "creation_date": 1496260952, "question_id": 44293737, "link": "https://stackoverflow.com/questions/44293737/improve-for-loop-through-cassandras-select-resultset", "title": "Improve for-loop through Cassandra&#39;s select ResultSet", "body": "<p>In Cython, I'm trying to fetch about 600000 rows from a Cassandra table that has 10 columns. Then I will iterate through all of them. For the purpose of testing performance, here what I've done in <code>read.pyx</code>:</p>\n\n<pre><code>from cassandra.cluster import Cluster\nimport pandas as pd\nimport time\n\ncpdef int get_max_volume():\n    cluster = Cluster()\n    session = cluster.connect()\n    session.execute(\"USE trading\")\n    rows = session.execute(\"SELECT * FROM fx WHERE ins='EURUSD' limit 600000\")\n    max_vol = 0\n    start = time.time()\n    for i in rows:\n        max_vol = max(max_vol, i.volume)\n    print(max_vol)\n    print(time.time() - start)\n    return max_vol\n</code></pre>\n\n<p>Time taken of the for-loop is <code>9.449406862258911s</code>. This number is not very different from pure Python version.</p>\n\n<p>I also tried to get the result by the form of Pandas DataFrame but it just gets worse. Many sources guide me how to improve for-loop, get <code>SELECT</code> result into DataFrame, and improve iterating through the DataFrame. But mixing them together makes the code take <code>~25s</code> to run.</p>\n\n<p>Are there any other ways to improve this number? The query should be left unchanged.</p>\n\n<p>Any suggestions are appreciated.</p>\n"}, {"tags": ["python", "email", "smtplib"], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 7976281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca4fea7320688b3c031615d40ee2ed7a?s=128&d=identicon&r=PG&f=1", "display_name": "Quartal", "link": "https://stackoverflow.com/users/7976281/quartal"}, "is_accepted": true, "score": 0, "last_activity_date": 1496261109, "creation_date": 1496261109, "answer_id": 44293772, "question_id": 44293734, "link": "https://stackoverflow.com/questions/44293734/using-pythons-smtplib-how-can-i-send-an-email-in-the-future/44293772#44293772", "title": "Using python&#39;s smtplib, how can I send an email in the future?", "body": "<p>If you are on linux you can use cron job.</p>\n\n<p>Smtplib is just a library and the email is sent by the provider you specify. If you can find an email provider that supports sending delayed messages then it's possible</p>\n\n<p>If you can you can run the script and use time.sleep(2 * 24 * 60 * 60) But it means that the script must run for the 2 days</p>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 5896888, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EBe7XdeKxK4/AAAAAAAAAAI/AAAAAAAAt7I/l2GeK24xRAA/photo.jpg?sz=128", "display_name": "Jerry Zhao", "link": "https://stackoverflow.com/users/5896888/jerry-zhao"}, "is_accepted": false, "score": 0, "last_activity_date": 1496261160, "creation_date": 1496261160, "answer_id": 44293784, "question_id": 44293734, "link": "https://stackoverflow.com/questions/44293734/using-pythons-smtplib-how-can-i-send-an-email-in-the-future/44293784#44293784", "title": "Using python&#39;s smtplib, how can I send an email in the future?", "body": "<p>Most likely not.</p>\n\n<p>Even if you do this, replacing 5 with the correct number:</p>\n\n<pre><code>import time\ntime.sleep(5) # delays for 5 seconds\n</code></pre>\n\n<p>The Python program will need to be running for the entire time</p>\n"}], "owner": {"reputation": 1623, "user_id": 3453901, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/595dbc4484c4e615143ab807a3df288a?s=128&d=identicon&r=PG&f=1", "display_name": "Alex F", "link": "https://stackoverflow.com/users/3453901/alex-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 0, "accepted_answer_id": 44293772, "answer_count": 2, "score": 0, "last_activity_date": 1496261160, "creation_date": 1496260945, "question_id": 44293734, "link": "https://stackoverflow.com/questions/44293734/using-pythons-smtplib-how-can-i-send-an-email-in-the-future", "title": "Using python&#39;s smtplib, how can I send an email in the future?", "body": "<p>I have some sample Python code from here <a href=\"https://docs.python.org/2/library/email-examples.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/email-examples.html</a> where I can successfully send emails.</p>\n\n<pre><code># Import smtplib for the actual sending function\nimport smtplib\n\n# Import the email modules we'll need\nfrom email.mime.text import MIMEText\n\nme = \"my@email.com\"\nyou = \"your@email.com\"\ntextfile = 'msg.txt'\n\n# Open a plain text file for reading.  For this example, assume that\n# the text file contains only ASCII characters.\nfp = open(textfile, 'rb')\n# Create a text/plain message\nmsg = MIMEText(fp.read())\nfp.close()\n\n# me == the sender's email address\n# you == the recipient's email address\nmsg['Subject'] = 'The contents of %s' % textfile\nmsg['From'] = me\nmsg['To'] = you\n\n# Send the message via our own SMTP server, but don't include the\n# envelope header.\ns = smtplib.SMTP('localhost')\ns.sendmail(me, [you], msg.as_string())\ns.quit()\n</code></pre>\n\n<p>I'd like to delay sending the email for two days from now. Is there a parameter with smtplib that allows delaying sending the email? I haven't been able to find anything on my own.</p>\n"}, {"tags": ["python", "beautifulsoup", "scrapy", "web-crawler", "scrapy-spider"], "comments": [{"owner": {"reputation": 1884, "user_id": 4527978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Od9E3.png?s=128&g=1", "display_name": "parik", "link": "https://stackoverflow.com/users/4527978/parik"}, "edited": false, "score": 0, "creation_date": 1496319607, "post_id": 44293662, "comment_id": 75619853, "body": "if you can, give us the adresse of website"}], "answers": [{"tags": [], "owner": {"reputation": 1365, "user_id": 4282057, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/da2c4efdd32af1722011bd877220eec6?s=128&d=identicon&r=PG&f=1", "display_name": "Casper", "link": "https://stackoverflow.com/users/4282057/casper"}, "is_accepted": false, "score": 4, "last_activity_date": 1496307683, "creation_date": 1496307683, "answer_id": 44303004, "question_id": 44293662, "link": "https://stackoverflow.com/questions/44293662/how-to-recursively-crawl-subpages-with-scrapy/44303004#44303004", "title": "How to recursively crawl subpages with Scrapy", "body": "<p>Not familiar with ElasticSearch but I'd build a scraper like this:</p>\n\n<pre><code>class randomSpider(scrapy.Spider):\n    name = \"helpme\"\n    allowed_domains = [\"example.com\"]\n    start_urls = ['http://example.com/categories',]\n\n    def parse(self, response):\n        for i in response.css('div.CategoryTreeSection'):\n            subcategory = i.css('Put your selector here') # This is where you select the subcategory url\n            req = scrapy.Request(subcategory, callback=self.parse_subcategory)\n            req.meta['category'] = i.css('a::text').extract_first()\n            yield req\n\n    def parse_subcategory(self, response):\n        yield {\n            'category' : response.meta.get('category')\n            'subcategory' : response.css('Put your selector here') # Select the name of the subcategory\n            'subcategorydata' : response.css('Put your selector here') # Select the data of the subcategory\n        }\n</code></pre>\n\n<p>You collect the subcategory URL and send a request. The response of this request will be opened in <code>parse_subcategory</code>. While sending this request, we add the category name in the meta data.</p>\n\n<p>In the <code>parse_subcategory</code> function you get the category name from the meta data and collect the subcategory data from the webpage.</p>\n"}], "owner": {"reputation": 21, "user_id": 8094089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33832d80a25bbc5d1c48779ddeafc9c9?s=128&d=identicon&r=PG&f=1", "display_name": "jetstream131", "link": "https://stackoverflow.com/users/8094089/jetstream131"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1756, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1496307683, "creation_date": 1496260672, "question_id": 44293662, "link": "https://stackoverflow.com/questions/44293662/how-to-recursively-crawl-subpages-with-scrapy", "title": "How to recursively crawl subpages with Scrapy", "body": "<p>So basically I am trying to crawl a page with a set of categories, scrape the names of each category, follow a sublink associated with each category to a page with a set of subcategories, scrape their names, and then follow each subcategory to their associated page and retrieve text data. At the end I want to output a json file formatted somewhat like:</p>\n\n<ol>\n<li>Category 1 name\n\n<ul>\n<li>Subcategory 1 name\n\n<ul>\n<li>data from this subcategory's page</li>\n</ul></li>\n<li>Subcategory n name\n\n<ul>\n<li>data from this page</li>\n</ul></li>\n</ul></li>\n<li>Category n name\n\n<ul>\n<li>Subcategory 1 name\n\n<ul>\n<li>data from subcategory n's page</li>\n</ul></li>\n</ul></li>\n</ol>\n\n<p>etc.</p>\n\n<p>Eventually i want to be able to use this data with ElasticSearch</p>\n\n<p>I barely have any experience with Scrapy and this is what I have so far (just scrapes the category names from the first page, I have no idea what to do from here)... From my research I believe I need to use a CrawlSpider but am unsure of what that entails. I have also been suggested to use BeautifulSoup. Any help would be greatly appreciated.</p>\n\n<pre><code>class randomSpider(scrapy.Spider):\n    name = \"helpme\"\n    allowed_domains = [\"example.com\"]\n    start_urls = ['http://example.com/categories',]\n\n    def parse(self, response):\n        for i in response.css('div.CategoryTreeSection'):\n            yield {\n                'categories': i.css('a::text').extract_first()\n            }\n</code></pre>\n"}, {"tags": ["python", "path", "usb", "pyusb", "libusb-1.0"], "owner": {"reputation": 23, "user_id": 5627292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25f096f96db15cbda8ab059bfcb6ef9?s=128&d=identicon&r=PG&f=1", "display_name": "bever", "link": "https://stackoverflow.com/users/5627292/bever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 782, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1496260414, "creation_date": 1496260414, "question_id": 44293589, "link": "https://stackoverflow.com/questions/44293589/pyusb-no-backend-available-even-with-dll-in-path-explicitly-loaded", "title": "PyUSB no backend available even with dll in path, explicitly loaded", "body": "<p>I'm receiving a no backend error in pyusb despite the fact that I have LibUSB 1 installed, in the path, and loaded fine earlier in the code. My code is</p>\n\n<pre><code>import usb.core\nimport usb.util\nimport usb.backend.libusb1\nimport sys\n\nclass USBConnection:\ndef __init__(self, vendor_id, product_id):\n    usb.backend.libusb1.get_backend(find_library=lambda x: 'C:\\Windows\\System32\\libusb-1.0.dll')\n    self.device = usb.core.find(idVendor=vendor_id, idProduct=product_id)\n    if self.device is None:\n        sys.exit('Could not find device')\n    else:\n        print 'Device detected'\n    self.device.set_configuration()\n    self.configuration = self.device.get_active_configuration()\n    self.description = self.configuration[(0, 0)]\n    self.end_point = usb.util.find_descriptor(self.description, custome_match=lambda e: usb.util.endpoint_direction\n                                              (e.bEndpointAddress) == usb.util.ENDPOINT_OUT)\n    assert self.end_point is not None\n\ndef write(self, data):\n    self.end_point.write(data)\n\nif __name__ == '__main__':\n    channel = USBConnection(vendor_id='2A19', product_id='1002')\n</code></pre>\n\n<p>Running this code returns</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/me/PycharmProjects/usbfreqsweep/usbsweep.py\", line 126, in &lt;module&gt;\nchannel = USBConnection(vendor_id='2A19', product_id='1002')\n  File \"C:/Users/me/PycharmProjects/usbfreqsweep/usbsweep.py\", line 110, in __init__\nself.device = usb.core.find(idVendor=vendor_id, idProduct=product_id)\n  File \"C:\\Python27\\lib\\site-packages\\usb\\core.py\", line 1263, in find\nraise NoBackendError('No backend available')\nusb.core.NoBackendError: No backend available\n</code></pre>\n\n<p>I do in fact have the C:\\windows\\system32 in my path with llibusb-1.0.dll contained and the most recent version of libusb1 installed, but I still get this error. This is in spite of the fact that </p>\n\n<pre><code>    usb.backend.libusb1.get_backend(find_library=lambda x: 'C:\\Windows\\System32\\libusb-1.0.dll')\n</code></pre>\n\n<p>does not return an error. Even weirder, setting </p>\n\n<pre><code>backend = usb.backend.libusb1.get_backend(find_library=lambda x: 'C:\\Windows\\System32\\libusb-1.0.dll')\n</code></pre>\n\n<p>and going through in the debugger returns backend with a value of None. Is there a good way to fix this? I'm using Windows 7, if that helps.</p>\n"}, {"tags": ["python", "for-loop", "dry"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1496260036, "post_id": 44293479, "comment_id": 75593458, "body": "of course: use a list of dictionaries for instance. But that would be best suited for <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 10, "creation_date": 1496260065, "post_id": 44293479, "comment_id": 75593478, "body": "I&#39;m voting to close this question as off-topic because <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a> is the site to ask for code improvements"}, {"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 2, "creation_date": 1496260119, "post_id": 44293479, "comment_id": 75593508, "body": "Unrelated to your question: reduce &quot;elif number != 0&quot; to a simple &quot;else&quot;."}, {"owner": {"reputation": 142, "user_id": 7720324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ef4782f42b5d7ba0151fd623b64df6?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/7720324/alex"}, "edited": false, "score": 0, "creation_date": 1496260180, "post_id": 44293479, "comment_id": 75593540, "body": "You can use threading to make them all run at the same time if that appeals to you."}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1496260204, "post_id": 44293479, "comment_id": 75593559, "body": "^^^ that&#39;s pretty pointless here"}, {"owner": {"reputation": 324, "user_id": 4398376, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001617753263/picture?type=large", "display_name": "kouty", "link": "https://stackoverflow.com/users/4398376/kouty"}, "edited": false, "score": 0, "creation_date": 1496260421, "post_id": 44293479, "comment_id": 75593671, "body": "instead of elif...  in the first loop else is shorter"}, {"owner": {"reputation": 324, "user_id": 4398376, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100001617753263/picture?type=large", "display_name": "kouty", "link": "https://stackoverflow.com/users/4398376/kouty"}, "edited": false, "score": 0, "creation_date": 1496260587, "post_id": 44293479, "comment_id": 75593761, "body": "a list of lists may help with streaks[i] when is in range len(streaks)"}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1496278748, "post_id": 44293479, "comment_id": 75599794, "body": "I was initially skeptical of @Jean-Fran&#231;oisFabre&#39;s close vote, but skimming the code, answers, and comments, the sheer number of improvements to be made leads me to agree that this question is much better suited for <a href=\"https://codereview.stackexchange.com\">Code Review</a>. The issues go far beyond the single question that&#39;s been focused on, and the code would benefit greatly from a full review in an environment where pointing out any issue you see is encouraged. (I&#39;m assuming you&#39;re a beginner, Ari, so don&#39;t take that personally. But you do have a lot to learn here.)"}], "answers": [{"comments": [{"owner": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 1, "creation_date": 1496278443, "post_id": 44293511, "comment_id": 75599726, "body": "A minor quibble, but surely your function as written should be named <code>print_average</code> instead of <code>get_average</code>, since it prints the result instead of returning it? Of course, having a function automatically print its result is usually a code smell anyway..."}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "reply_to_user": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 1, "creation_date": 1496278594, "post_id": 44293511, "comment_id": 75599757, "body": "@IlmariKaronen Or better yet, have <code>get_average</code> actually return the value and put the <code>print</code> outside it."}, {"owner": {"reputation": 18353, "user_id": 337315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/vNdBR.jpg?s=128&g=1", "display_name": "CodeLikeBeaker", "link": "https://stackoverflow.com/users/337315/codelikebeaker"}, "reply_to_user": {"reputation": 44559, "user_id": 411022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9905bf9a7b8d5a587c1bdff07ef2e801?s=128&d=identicon&r=PG", "display_name": "Ilmari Karonen", "link": "https://stackoverflow.com/users/411022/ilmari-karonen"}, "edited": false, "score": 0, "creation_date": 1496319911, "post_id": 44293511, "comment_id": 75620061, "body": "@IlmariKaronen very true, I basically took his code as written and made a quick example. But yes, it really should say print_average, or as jpmc26 pointed out, return the results and then do something with it"}], "tags": [], "owner": {"reputation": 18353, "user_id": 337315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/vNdBR.jpg?s=128&g=1", "display_name": "CodeLikeBeaker", "link": "https://stackoverflow.com/users/337315/codelikebeaker"}, "is_accepted": true, "score": 15, "last_activity_date": 1496260053, "creation_date": 1496260053, "answer_id": 44293511, "question_id": 44293479, "link": "https://stackoverflow.com/questions/44293479/python-im-repeating-myself-a-lot-when-it-comes-to-for-loops-and-there-must-be/44293511#44293511", "title": "Python, I&#39;m repeating myself a lot when it comes to for loops and there must be a better way", "body": "<p>Why not use a function?</p>\n\n<pre><code>def get_average(streaks):\n    streak_0_num0s = 0\n    streak_0_sum = 0\n\n    for number in streaks:\n        if number == 0:\n            streak_0_num0s += 1\n        elif number != 0:\n            streak_0_sum += number\n    streak_0_average = (streak_0_sum / (len(streaks) - streak_0_num0s))\n    print(streak_0_average)\n\nget_average(streaks01)\nget_average(streaks02)\nget_average(streaks03)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 11, "last_activity_date": 1496309196, "last_edit_date": 1496309196, "creation_date": 1496260659, "answer_id": 44293656, "question_id": 44293479, "link": "https://stackoverflow.com/questions/44293479/python-im-repeating-myself-a-lot-when-it-comes-to-for-loops-and-there-must-be/44293656#44293656", "title": "Python, I&#39;m repeating myself a lot when it comes to for loops and there must be a better way", "body": "<p>Your code can be easily simplified with a function like the below one:</p>\n\n<pre><code>def calculate_avg(lst):\n    return sum(lst)/(len(lst)-lst.count(0))\n</code></pre>\n\n<p>or this one if you prefer:</p>\n\n<pre><code>def calculate_avg(lst):\n    return sum(lst) / len([l for l in lst if l != 0])\n</code></pre>\n\n<p>and here's a little usage example:</p>\n\n<pre><code>streaks = [\n    [1, 2, 3, 0, 0, 0, 0],\n    [0, 0, 0, 4, 5, 6, 0],\n    [0, 0, 6, 7, 8, 0, 0]\n]\n\nfor index, streak in enumerate(streaks):\n    print(\"avg(streak{})={}\".format(str(index).zfill(2), calculate_avg(streak)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 7, "last_activity_date": 1496261523, "creation_date": 1496261523, "answer_id": 44293873, "question_id": 44293479, "link": "https://stackoverflow.com/questions/44293479/python-im-repeating-myself-a-lot-when-it-comes-to-for-loops-and-there-must-be/44293873#44293873", "title": "Python, I&#39;m repeating myself a lot when it comes to for loops and there must be a better way", "body": "<p>Write a function, that you can call multiple times:</p>\n\n<pre><code>def calculate_average(values):\n    non_zeros = 0\n    sum = 0\n\n    for value in values:\n        if value != 0:\n            sum += value\n            non_zeros += 1\n    return sum / non_zeros\n\nstreak_0_average = calculate_average(streaks_0)\nstreak_1_average = calculate_average(streaks_1)\nstreak_2_average = calculate_average(streaks_2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 5, "last_activity_date": 1496273191, "last_edit_date": 1496273191, "creation_date": 1496272771, "answer_id": 44296136, "question_id": 44293479, "link": "https://stackoverflow.com/questions/44293479/python-im-repeating-myself-a-lot-when-it-comes-to-for-loops-and-there-must-be/44296136#44296136", "title": "Python, I&#39;m repeating myself a lot when it comes to for loops and there must be a better way", "body": "<p>As the others already said: When you find you repeat yourself a lot of times: try to create a function that can be re-used. </p>\n\n<p>However it's always a good idea to have a look around and see if someone already implemented such a function. In your case you could use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.mean.html\" rel=\"noreferrer\"><code>numpy.mean</code></a> (<code>numpy</code> is a 3rd party module) or <a href=\"https://docs.python.org/library/statistics.html#statistics.mean\" rel=\"noreferrer\"><code>statistics.mean</code></a> (<code>statistics</code> is a built-in module in python 3.4+). </p>\n\n<p>The only thing they don't do by default is excluding the zeros, so you have to do that yourself:</p>\n\n<pre><code>import numpy as np\n\ndef average(streaks):\n    streaks = np.asarray(streaks)\n    streaks_without_zeros = streaks[streaks != 0]\n    return np.mean(streaks_without_zeros)\n\nstreaks_0 = [1, 2, 3, 4, 0, 1, 2, 3]\nprint(average(streaks_0))  # 2.2857142857142856\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>import statistics\n\ndef average(streaks):\n    streaks_without_zeros = [streak for streak in streaks if streak != 0]\n    return statistics.mean(streaks_without_zeros)\n\nstreaks_0 = [1, 2, 3, 4, 0, 1, 2, 3]\nprint(average(streaks_0))  # 2.2857142857142856\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 6091624, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh3.googleusercontent.com/-y2tFzpX-9i0/AAAAAAAAAAI/AAAAAAAALLk/PZ_prPBvlGE/photo.jpg?sz=128", "display_name": "Ari Madian", "link": "https://stackoverflow.com/users/6091624/ari-madian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 2, "accepted_answer_id": 44293511, "answer_count": 4, "score": 12, "last_activity_date": 1496317380, "creation_date": 1496259860, "last_edit_date": 1496260110, "question_id": 44293479, "link": "https://stackoverflow.com/questions/44293479/python-im-repeating-myself-a-lot-when-it-comes-to-for-loops-and-there-must-be", "title": "Python, I&#39;m repeating myself a lot when it comes to for loops and there must be a better way", "body": "<p>Lets say I have three lists and I need to iterate through them and do some stuff to the contents. </p>\n\n<p>The three lists are <code>streaks_0</code>, <code>streaks_1</code>, and <code>streaks_2</code>. For each list, I need to use different values specific to each list. For example, <code>streak_0_num0s</code> will not work in the <code>streaks_1</code> for loop. </p>\n\n<p>Is there a way to make these three for loops into one or at least a way to clean this up?</p>\n\n<pre><code>for number in streaks_0:\n    if number == 0:\n        streak_0_num0s += 1\n    elif number != 0:\n        streak_0_sum += number\nstreak_0_average = (streak_0_sum / (len(streaks_0) - streak_0_num0s))\n\nfor number in streaks_1:\n    if number == 0:\n        streak_1_num0s += 1\n    elif number != 0:\n        streak_1_sum += number\nstreak_1_average = (streak_1_sum / (len(streaks_1) - streak_1_num0s))\n\nfor number in streaks_2:\n    if number == 0:\n        streak_2_num0s += 1\n    elif number != 0:\n        streak_2_sum += number\nstreak_2_average = (streak_2_sum / (len(streaks_2) - streak_2_num0s))\n</code></pre>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 3, "creation_date": 1496259889, "post_id": 44293451, "comment_id": 75593358, "body": "Potentially helpful question: <a href=\"https://stackoverflow.com/q/27784271/3901060\">stackoverflow.com/q/27784271/3901060</a>"}, {"owner": {"reputation": 1096, "user_id": 5150303, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5IihF.jpg?s=128&g=1", "display_name": "Daniel R. Livingston", "link": "https://stackoverflow.com/users/5150303/daniel-r-livingston"}, "edited": false, "score": 0, "creation_date": 1496265520, "post_id": 44293451, "comment_id": 75595961, "body": "I would suggest reading <a href=\"http://marthall.github.io/blog/how-to-package-a-python-app/\" rel=\"nofollow noreferrer\">this article</a>. It looks like it describes what you&#39;re asking for."}], "owner": {"reputation": 13, "user_id": 7992039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d03334ef0c2ad79c3280e8f740c0f5?s=128&d=identicon&r=PG", "display_name": "Hang Hu", "link": "https://stackoverflow.com/users/7992039/hang-hu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "closed_date": 1496279502, "answer_count": 0, "score": 0, "last_activity_date": 1496259747, "creation_date": 1496259747, "question_id": 44293451, "link": "https://stackoverflow.com/questions/44293451/how-to-make-python-module-executable", "closed_reason": "Duplicate", "title": "How to make python module executable?", "body": "<p>When using pip, we can download and use python module. </p>\n\n<p>One of them is like python file, like \"pip install validators\" and then we can import validators.</p>\n\n<p>One of them is like executable. like \"pip install pyinstaller\" and \"pyinstaller \nsomething.py\".</p>\n\n<p>I am now writing a python module XYZ. How to make my module executable after \"pip install XYZ\" just like XYZ?</p>\n"}, {"tags": ["python", "user-input"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1496259821, "post_id": 44293407, "comment_id": 75593311, "body": "Write a fasta parser or find an existing one online."}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1496260013, "post_id": 44293407, "comment_id": 75593445, "body": "I know <i>nothing</i> about fasta myself. However, there&#39;s an answer that might be useful to you at <a href=\"https://stackoverflow.com/a/7655072/131187\">stackoverflow.com/a/7655072/131187</a>. I would say, try to parse a few hundred characters, assuming that make sense. Accept the file if the parse succeeds."}, {"owner": {"reputation": 550, "user_id": 6645564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pgzZ2.jpg?s=128&g=1", "display_name": "Bob McBobson", "link": "https://stackoverflow.com/users/6645564/bob-mcbobson"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1496262121, "post_id": 44293407, "comment_id": 75594457, "body": "@Kevin I tried using the Biopython SeqIO &#39;SeqIO.parse(file_name, &#39;fasta&#39;))&#39; as part of the conditional tree in order to see if parsing was possible. Sadly, it does not function in warning the user that the file is not a valid .fasta file. Is this what you meant?"}, {"owner": {"reputation": 550, "user_id": 6645564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pgzZ2.jpg?s=128&g=1", "display_name": "Bob McBobson", "link": "https://stackoverflow.com/users/6645564/bob-mcbobson"}, "reply_to_user": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1496262796, "post_id": 44293407, "comment_id": 75594798, "body": "@BillBell I sadly am not up to level to understand certain parts of the code you linked. Do you think I could copy and paste it right into my function in order for it to tell the user that their file is not in the proper .fasta format?"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1496326163, "post_id": 44293407, "comment_id": 75624991, "body": "I see that your question has been answered!"}], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 6645564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pgzZ2.jpg?s=128&g=1", "display_name": "Bob McBobson", "link": "https://stackoverflow.com/users/6645564/bob-mcbobson"}, "edited": false, "score": 0, "creation_date": 1496264947, "post_id": 44294079, "comment_id": 75595733, "body": "I&#39;m trying to figure out how to integrate the part of the code starting at &#39;with open(filename)....&#39; into my function, and I&#39;m having difficulty making work still. Do you think I should just make this a separate function and then call it in my original validation function?"}, {"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "reply_to_user": {"reputation": 550, "user_id": 6645564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pgzZ2.jpg?s=128&g=1", "display_name": "Bob McBobson", "link": "https://stackoverflow.com/users/6645564/bob-mcbobson"}, "edited": false, "score": 0, "creation_date": 1496265682, "post_id": 44294079, "comment_id": 75596027, "body": "This already is a freestanding function, so you should be able to call it from within your validation function. Could you clarify your intent?"}, {"owner": {"reputation": 550, "user_id": 6645564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pgzZ2.jpg?s=128&g=1", "display_name": "Bob McBobson", "link": "https://stackoverflow.com/users/6645564/bob-mcbobson"}, "edited": false, "score": 0, "creation_date": 1496268763, "post_id": 44294079, "comment_id": 75597167, "body": "I just wanted to make sure that my code didn&#39;t break, and would continue to prompt the user for a valid answer. And your set up did work in the end! thank you very much."}, {"owner": {"reputation": 584, "user_id": 9877065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f0gcX.jpg?s=128&g=1", "display_name": "pippo1980", "link": "https://stackoverflow.com/users/9877065/pippo1980"}, "edited": false, "score": 0, "creation_date": 1607859004, "post_id": 44294079, "comment_id": 115399394, "body": "@AryaMcCarthy can you comment on mine <a href=\"https://bioinformatics.stackexchange.com/questions/15050/biopython-seqio-check-input-file\" title=\"biopython seqio check input file\">bioinformatics.stackexchange.com/questions/15050/&hellip;</a>"}], "tags": [], "owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "is_accepted": true, "score": 6, "last_activity_date": 1496265696, "last_edit_date": 1496265696, "creation_date": 1496262397, "answer_id": 44294079, "question_id": 44293407, "link": "https://stackoverflow.com/questions/44293407/how-can-i-check-whether-a-given-file-is-fasta/44294079#44294079", "title": "How can I check whether a given file is FASTA?", "body": "<p>Why not just parse the file as if it were FASTA and see whether it breaks?</p>\n\n<p>Using <a href=\"http://biopython.org/wiki/SeqIO\" rel=\"noreferrer\"><code>biopython</code></a>, which silently fails by returning an empty generator on non-FASTA files:</p>\n\n<pre><code>from Bio import SeqIO\n\nmy_file = \"example.csv\"  # Obviously not FASTA\n\ndef is_fasta(filename):\n    with open(filename, \"r\") as handle:\n        fasta = SeqIO.parse(handle, \"fasta\")\n        return any(fasta)  # False when `fasta` is empty, i.e. wasn't a FASTA file\n\nis_fasta(my_file)\n# False\n</code></pre>\n"}], "owner": {"reputation": 550, "user_id": 6645564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pgzZ2.jpg?s=128&g=1", "display_name": "Bob McBobson", "link": "https://stackoverflow.com/users/6645564/bob-mcbobson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2397, "favorite_count": 0, "accepted_answer_id": 44294079, "answer_count": 1, "score": 4, "last_activity_date": 1528712265, "creation_date": 1496259603, "last_edit_date": 1496284035, "question_id": 44293407, "link": "https://stackoverflow.com/questions/44293407/how-can-i-check-whether-a-given-file-is-fasta", "title": "How can I check whether a given file is FASTA?", "body": "<p>I am designing a code that requires a .fasta file to be input at one of the early stages. Right now, I am validating the input using this function:</p>\n\n<pre><code>def file_validation(fasta):\n    while True:\n        try:\n            file_name= str(raw_input(fasta))\n        except IOError:\n            print(\"Please give the name of the fasta file that exists in the folder!\")\n            continue\n\n        if not(file_name.endswith(\".fasta\")):\n            print(\"Please give the name of the file with the .fasta extension!\")\n        else:\n            break\n    return file_name\n</code></pre>\n\n<p>Now, although this function works fine, there is still some room for error in the sense that a user could potentially maybe input a file that, while having a file name that ends with .fasta, could have some non-.fasta content inside. What could I do to prevent this and let the user know that his/her .fasta file is corrupted?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 1, "creation_date": 1496259671, "post_id": 44293379, "comment_id": 75593224, "body": "I think you don&#39;t need the first <code>global variable</code>."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1496259799, "post_id": 44293379, "comment_id": 75593288, "body": "Your code works for me. Are you sure you didn&#39;t misspell &quot;variable&quot; in there somewhere?"}, {"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 0, "creation_date": 1496260443, "post_id": 44293379, "comment_id": 75593688, "body": "Your second example works for me once I make two changes: <code>window = tkinter.Tk()</code> and add <code>window.mainloop()</code> at the end."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 1, "creation_date": 1496261024, "post_id": 44293379, "comment_id": 75593965, "body": "What @quamrana said: the <code>global</code> directive is used inside a function to tell the function to look up the name in the global namespace. It doesn&#39;t make sense to use it in the global namespace itself. But really, it&#39;s a good idea to avoid using modifiable globals because they break program modularity. The neat way to do this is to define your GUI as a class, and then you can use instance attributes to save state data. BTW, it&#39;s a common practice to do <code>import tkinter as tk</code>. Then you can do stuff like <code>button = tk.Button(window)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "is_accepted": false, "score": 1, "last_activity_date": 1496415001, "creation_date": 1496415001, "answer_id": 44331744, "question_id": 44293379, "link": "https://stackoverflow.com/questions/44293379/change-variable-with-button-in-tkinter/44331744#44331744", "title": "Change variable with button in tkinter", "body": "<p>Your use of global is a bit off. You do not need to define global all over the place. Lets break it down a little.</p>\n\n<p>You don't need to define global namespace in the global namespace.</p>\n\n<pre><code>from tkinter import *\nwindow = Tk()\nmyvar = \"data\" # this variable is already in the global namespace\n</code></pre>\n\n<p>This tells the function to check global namespace when its interacts with the variable <code>myvar</code>.</p>\n\n<pre><code>def changeVariable():\n    global myvar\n    myvar = \"different data\"\n</code></pre>\n\n<p>This print statement works because it checks the global variable namespace after it has check the other namespaces without finding the variable <code>myvar</code>.</p>\n\n<pre><code>def printVariable():\n    print(myvar)\n\nbutton1 = Button(window, command = changeVariable)\nbutton1.pack()\nbutton2 = Button(window, command = printVariable)\nbutton2.pack()\n\nwindow.mainloop()\n</code></pre>\n\n<p>So if we put this code together we will get the desired result.</p>\n\n<pre><code>from tkinter import *\nwindow = Tk()\nvariable = \"data\"\n\ndef changeVariable():\n    global variable\n    variable = \"different data\"\n\ndef printVariable():\n    print(variable)\n\nbutton1 = Button(window, command = changeVariable)\nbutton1.pack()\nbutton2 = Button(window, command = printVariable)\nbutton2.pack()\n\nwindow.mainloop()\n</code></pre>\n\n<p>This results in a window that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mRVzw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mRVzw.png\" alt=\"enter image description here\"></a></p>\n\n<p>and the result if we press the bottom button first then the top button then the bottom button again we get:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vos9b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vos9b.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23, "user_id": 4981034, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b5edb03336e46cdfa6655096cf4c17c2?s=128&d=identicon&r=PG&f=1", "display_name": "moist_seagull", "link": "https://stackoverflow.com/users/4981034/moist-seagull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5517, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496415001, "creation_date": 1496259499, "last_edit_date": 1496260499, "question_id": 44293379, "link": "https://stackoverflow.com/questions/44293379/change-variable-with-button-in-tkinter", "title": "Change variable with button in tkinter", "body": "<p>The code the problem is part of is fairly big so I'm drafting a fingerpainting version here.</p>\n\n<pre><code>import tkinter\n\nvariable = \"data\"\n\ndef changeVariable():\n    variable = \"different data\"\n\ndef printVariable():\n    print(variable)\n\nwindow = tkinter.Tk\nbutton1 = tkinter.Button(window, command=changeVariable)\nbutton1.pack()\nbutton2 = tkinter.Button(window, command=printVariable)\nbutton2.pack()\n</code></pre>\n\n<p>So in this example, I press the first button to change 'variable', then the second button to print it.  But \"data\" is printed instead of \"different data\".  I searched around a bit and decided to use <strong>global</strong> before defining the variable in both the main code and in the functions, so the code looked like this.</p>\n\n<pre><code>import tkinter\n\nglobal variable\nvariable = \"data\"\n\ndef changeVariable():\n    global variable\n    variable = \"different data\"\n\ndef printVariable():\n    global variable\n    print(variable)\n\nwindow = tkinter.Tk()\nbutton1 = tkinter.Button(window, command=changeVariable)\nbutton1.pack()\nbutton2 = tkinter.Button(window, command=printVariable)\nbutton2.pack()\n\nwindow.mainloop()\n</code></pre>\n\n<p>But now it says 'name 'variable' is not defined'.</p>\n\n<p>Essentially, how can I get the variable 'variable' to change with a button in tkinter?  Was I wrong to think of using <strong>global</strong>?</p>\n"}, {"tags": ["python", "arrays", "pandas", "dictionary"], "comments": [{"owner": {"reputation": 2249, "user_id": 7197249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/02734f85f20d156464e09aa70ec17e4d?s=128&d=identicon&r=PG&f=1", "display_name": "spies006", "link": "https://stackoverflow.com/users/7197249/spies006"}, "edited": false, "score": 0, "creation_date": 1496259653, "post_id": 44293358, "comment_id": 75593208, "body": "what does the desired output look like?"}, {"owner": {"reputation": 395, "user_id": 5807433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0ac3861a4ba1af57c61536edcab0b9fd?s=128&d=identicon&r=PG&f=1", "display_name": "kalle", "link": "https://stackoverflow.com/users/5807433/kalle"}, "reply_to_user": {"reputation": 2249, "user_id": 7197249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/02734f85f20d156464e09aa70ec17e4d?s=128&d=identicon&r=PG&f=1", "display_name": "spies006", "link": "https://stackoverflow.com/users/7197249/spies006"}, "edited": false, "score": 0, "creation_date": 1496259844, "post_id": 44293358, "comment_id": 75593326, "body": "I have edited that in, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 1, "creation_date": 1496260292, "post_id": 44293535, "comment_id": 75593597, "body": "Now, that is some high kicking fruit-fu!"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1496260329, "post_id": 44293535, "comment_id": 75593625, "body": "@DmitryPolonskiy if high score wins... then sure :-)"}, {"owner": {"reputation": 395, "user_id": 5807433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0ac3861a4ba1af57c61536edcab0b9fd?s=128&d=identicon&r=PG&f=1", "display_name": "kalle", "link": "https://stackoverflow.com/users/5807433/kalle"}, "edited": false, "score": 0, "creation_date": 1496260841, "post_id": 44293535, "comment_id": 75593886, "body": "I&#39;m printing this out and putting this above my work station to cherish this. Thanks!"}, {"owner": {"reputation": 395, "user_id": 5807433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0ac3861a4ba1af57c61536edcab0b9fd?s=128&d=identicon&r=PG&f=1", "display_name": "kalle", "link": "https://stackoverflow.com/users/5807433/kalle"}, "edited": false, "score": 0, "creation_date": 1496262983, "post_id": 44293535, "comment_id": 75594878, "body": "It appears that I am only getting one definition per entry in <code>tags1</code> with this code even if it contains many tags."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 395, "user_id": 5807433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0ac3861a4ba1af57c61536edcab0b9fd?s=128&d=identicon&r=PG&f=1", "display_name": "kalle", "link": "https://stackoverflow.com/users/5807433/kalle"}, "edited": false, "score": 0, "creation_date": 1496263051, "post_id": 44293535, "comment_id": 75594911, "body": "@Kam are your definitions as you represented them?  Or do they include integers?"}, {"owner": {"reputation": 395, "user_id": 5807433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0ac3861a4ba1af57c61536edcab0b9fd?s=128&d=identicon&r=PG&f=1", "display_name": "kalle", "link": "https://stackoverflow.com/users/5807433/kalle"}, "edited": false, "score": 0, "creation_date": 1496263676, "post_id": 44293535, "comment_id": 75595185, "body": "It appears that one of the contents in my data column has an integer - this could be throwing it off perhaps."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1496264320, "post_id": 44293535, "comment_id": 75595472, "body": "Yes.  try redefining your mapping <code>m = pd.Series(m).astype(str)</code>"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 4, "last_activity_date": 1496261386, "last_edit_date": 1496261386, "creation_date": 1496260167, "answer_id": 44293535, "question_id": 44293358, "link": "https://stackoverflow.com/questions/44293358/replacing-strings-in-pandas-dataframe-column-with-array-of-entries-based-on-dict/44293535#44293535", "title": "Replacing strings in Pandas DataFrame column with array of entries based on dict", "body": "<p>For my entry into the longest one liner competition</p>\n\n<pre><code>m = {\n    'a' : 'Apple',\n    'b' : 'Banana',\n    'c' : 'Carrot'\n}\n\ndf.tag1.str.split(',', expand=True) \\ \n  .stack().map(m).groupby(level=0) \\\n  .filter(lambda x: x.notnull().all()) \\\n  .groupby(level=0).apply(lambda x: x.drop_duplicates().str.cat(sep=',')) \\\n  .to_frame('tag1').join(df.other)\n\n            tag1 other\n0   Apple,Carrot   foo\n1  Banana,Carrot   foo\n3          Apple   foo\n</code></pre>\n\n<hr>\n\n<p>But seriously, probably a better solution</p>\n\n<pre><code>a = np.core.defchararray.split(df.tag1.values.astype(str), ',')\nlens = [len(s) for s in a]\nb = np.concatenate(a)\nc = [m.get(k, np.nan) for k in b]\ni = df.index.values.repeat(lens)\ns = pd.Series(c, i)\n\ndef proc(x):\n    if x.notnull().all():\n        return x.drop_duplicates().str.cat(sep=',')\n\ns.groupby(level=0).apply(proc).dropna().to_frame('tag1').join(df.other)\n\n            tag1 other\n0   Apple,Carrot   foo\n1  Banana,Carrot   foo\n3          Apple   foo\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 5807433, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0ac3861a4ba1af57c61536edcab0b9fd?s=128&d=identicon&r=PG&f=1", "display_name": "kalle", "link": "https://stackoverflow.com/users/5807433/kalle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496261386, "creation_date": 1496259420, "last_edit_date": 1496259836, "question_id": 44293358, "link": "https://stackoverflow.com/questions/44293358/replacing-strings-in-pandas-dataframe-column-with-array-of-entries-based-on-dict", "title": "Replacing strings in Pandas DataFrame column with array of entries based on dict", "body": "<p>I have a DataFrame such as:</p>\n\n<pre><code>     tag1   other\n0    a,c      foo\n1    b,c      foo\n2    d        foo\n3    a,a      foo\n</code></pre>\n\n<p>Of which the entries are strings delimited by commas.</p>\n\n<p>And a dict of definitions for each tag such as:</p>\n\n<pre><code>dict = {'a' : 'Apple',\n'b' : 'Banana',\n'c' : 'Carrot'}\n</code></pre>\n\n<p>I would like to replace the definitions of <code>a</code>, <code>b</code>, and <code>c</code> but delete rows in which there is something not within that dict (i.e. <code>d</code>). Furthermore, I'd like to ensure there are no duplicates, such as row index 3 in the example dataset.</p>\n\n<p>What I have so far:</p>\n\n<pre><code>df.tags = df.tags.str.split(',')\nfor index, row in df.iterrows():\n    names = []\n    for tag in row.tag1:\n            if tag == dict[tag]:\n                names.append(dict[tag])\n            else:\n                 df.drop(df.index[index])\n</code></pre>\n\n<p>From there I would replace the original column with the values in <code>names</code>. To replace duplicates, I am thinking of iterating over the array and checking if the next value matches the next, and if so, deleting it. However, this is not working and I am a bit stumped. The desired output would look like (with strings in unicode):</p>\n\n<pre><code>     tag1                     other\n0    ['Apple', 'Carrot']      foo\n1    ['Banadn', 'Carrot']     foo\n3    ['Apple']                foo\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "division"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 1, "creation_date": 1496259401, "post_id": 44293329, "comment_id": 75593065, "body": "That doesn&#39;t look like a regular array. Each element of it is a list and not an array."}, {"owner": {"reputation": 549, "user_id": 8061390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69b5f6b73baf4ec252839bf3fb1d28d?s=128&d=identicon&r=PG&f=1", "display_name": "njoosse", "link": "https://stackoverflow.com/users/8061390/njoosse"}, "edited": false, "score": 3, "creation_date": 1496259715, "post_id": 44293329, "comment_id": 75593253, "body": "Is the final element in the list meant to have 6 items, the others have only 5?"}, {"owner": {"reputation": 510, "user_id": 2662629, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b662f9fea5d5f545680637ac0cd3a732?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/2662629/max"}, "edited": false, "score": 0, "creation_date": 1496259854, "post_id": 44293329, "comment_id": 75593332, "body": "@njoose you are right, this is an error!"}], "answers": [{"comments": [{"owner": {"reputation": 510, "user_id": 2662629, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b662f9fea5d5f545680637ac0cd3a732?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/2662629/max"}, "edited": false, "score": 0, "creation_date": 1496260012, "post_id": 44293464, "comment_id": 75593444, "body": "Thank you very much for this detailed answer! Actually I made an mistake, the last list had 6 elements, but should have had only 5 (Thanks to njoose for pointing out). Applying your approached worked!"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 510, "user_id": 2662629, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b662f9fea5d5f545680637ac0cd3a732?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/2662629/max"}, "edited": false, "score": 0, "creation_date": 1496260203, "post_id": 44293464, "comment_id": 75593557, "body": "@Max Okay, I thought that was intentional. But if that was just an oversight you only need to remove the unnecessary element from the last list :)"}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 3, "last_activity_date": 1496259799, "creation_date": 1496259799, "answer_id": 44293464, "question_id": 44293329, "link": "https://stackoverflow.com/questions/44293329/numpy-array-division-unsupported-operand-types-for-list-and-float/44293464#44293464", "title": "Numpy Array Division - unsupported operand type(s) for /: &#39;list&#39; and &#39;float&#39;", "body": "<p>Unfortunatly your inner lists aren't the same size so numpy creates an object array:</p>\n\n<pre><code>&gt;&gt;&gt; numpy_array\narray([[-1, -1, -1, -1, -1], [-1, 2, 2, 2, -1], [-1, 2, 8, 2, -1],\n       [-1, 2, 2, 2, -1], [-1, -1, -1, -1, -1, -1]], dtype=object)\n</code></pre>\n\n<p>You should try to avoid <code>object</code> arrays because they might not behave like expected and of course they are slower. If you need different sized inner lists, you should mask elements:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; numpy_array = np.array([[-1,-1,-1,-1,-1, np.nan], \n...                         [-1, 2, 2, 2,-1, np.nan], \n...                         [-1, 2, 8, 2,-1, np.nan], \n...                         [-1, 2, 2, 2,-1, np.nan], \n...                         [-1,-1,-1,-1,-1,-1]])\n&gt;&gt;&gt; numpy_array = np.ma.array(numpy_array, mask=np.isnan(numpy_array))\n&gt;&gt;&gt; numpy_array /= 8.0\n&gt;&gt;&gt; numpy_array\nmasked_array(data =\n [[-0.125 -0.125 -0.125 -0.125 -0.125 --]\n [-0.125 0.25 0.25 0.25 -0.125 --]\n [-0.125 0.25 1.0 0.25 -0.125 --]\n [-0.125 0.25 0.25 0.25 -0.125 --]\n [-0.125 -0.125 -0.125 -0.125 -0.125 -0.125]],\n             mask =\n [[False False False False False  True]\n [False False False False False  True]\n [False False False False False  True]\n [False False False False False  True]\n [False False False False False False]],\n       fill_value = 1e+20)\n</code></pre>\n\n<p>Also you need to be careful with inplace-operations because they don't change the <code>dtype</code>, so when you have an integer array and in-place-divide it with a float you'll still have an integer array (with truncated results) or get an exception:</p>\n\n<pre><code>&gt;&gt;&gt; arr = np.array([1, 2, 3])\n&gt;&gt;&gt; arr /= 8.0\nTypeError: ufunc 'true_divide' output (typecode 'd') could not be coerced to provided output parameter (typecode 'l') according to the casting rule ''same_kind''\n</code></pre>\n\n<p>Create a <code>float</code> array instead (or cast to <code>float</code> or just do a normal division <code>arr = arr / 8.0</code>):</p>\n\n<pre><code>&gt;&gt;&gt; arr = np.array([1, 2, 3], dtype=float)\n&gt;&gt;&gt; arr /= 8.0\n&gt;&gt;&gt; arr\narray([ 0.125,  0.25 ,  0.375])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 549, "user_id": 8061390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69b5f6b73baf4ec252839bf3fb1d28d?s=128&d=identicon&r=PG&f=1", "display_name": "njoosse", "link": "https://stackoverflow.com/users/8061390/njoosse"}, "is_accepted": false, "score": 4, "last_activity_date": 1496259951, "creation_date": 1496259951, "answer_id": 44293495, "question_id": 44293329, "link": "https://stackoverflow.com/questions/44293329/numpy-array-division-unsupported-operand-types-for-list-and-float/44293495#44293495", "title": "Numpy Array Division - unsupported operand type(s) for /: &#39;list&#39; and &#39;float&#39;", "body": "<p>The array has a list of the incorrect size, the final list is incorrect.</p>\n\n<p>if you want to keep the data as an <code>int</code>, you can use <code>numpy_array = np.divide(numpy_array, 8.0)</code>, otherwise see MSeifert's answer.</p>\n"}], "owner": {"reputation": 510, "user_id": 2662629, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b662f9fea5d5f545680637ac0cd3a732?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/2662629/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5196, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1496260170, "creation_date": 1496259322, "last_edit_date": 1496260170, "question_id": 44293329, "link": "https://stackoverflow.com/questions/44293329/numpy-array-division-unsupported-operand-types-for-list-and-float", "title": "Numpy Array Division - unsupported operand type(s) for /: &#39;list&#39; and &#39;float&#39;", "body": "<p>I defined the following numpy array:</p>\n\n<pre><code>import numpy as np\nnumpy_array = np.array([[-1,-1,-1,-1,-1], [-1,2,2,2,-1], [-1,2,8,2,-1], [-1,2,2,2,-1], [-1,-1,-1,-1,-1,-1]])\n</code></pre>\n\n<p>Now I wanted to divide the whole array by 8:</p>\n\n<pre><code>numpy_array /= np.float(8.0)\n</code></pre>\n\n<p>I get the following error message:</p>\n\n<pre><code>TypeError: unsupported operand type(s) for /: 'list' and 'float'\n</code></pre>\n\n<p>I hope someone has a hint for me, what I am doing wrong.</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1496259809, "post_id": 44293327, "comment_id": 75593296, "body": "what&#39;s the output of <code>df[&#39;NAME&#39;].str.split(&#39;,&#39;, 1).str</code>? (or in fact <code>df[&#39;NAME&#39;].str</code>)"}, {"owner": {"reputation": 133, "user_id": 7691211, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/44f236d03aa4a70e79660b88c1be31b8?s=128&d=identicon&r=PG&f=1", "display_name": "davidjbeiler", "link": "https://stackoverflow.com/users/7691211/davidjbeiler"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1496259915, "post_id": 44293327, "comment_id": 75593373, "body": "Well if the user does not have a middle initial it will split it the wait i want, last name firstname, but some have a middle initial and that will be included after the lastname, firstname middleinitial, so Bloom, Daniel J"}], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1496261192, "post_id": 44293757, "comment_id": 75594043, "body": "This fails on &quot;JOHN, DOE&quot; with no middle initial (which is stated to be possible in the comments)"}, {"owner": {"reputation": 133, "user_id": 7691211, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/44f236d03aa4a70e79660b88c1be31b8?s=128&d=identicon&r=PG&f=1", "display_name": "davidjbeiler", "link": "https://stackoverflow.com/users/7691211/davidjbeiler"}, "edited": false, "score": 0, "creation_date": 1496261238, "post_id": 44293757, "comment_id": 75594065, "body": "i have 1500 rows of filled user/names how do i do that? i can&#39;t do the full_name method unless its referencing a csv..."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1496261244, "post_id": 44293757, "comment_id": 75594068, "body": "better is probably <code>lastname, firstname_mi = full_name.split(&quot;,&quot;, 1); firstname = firstname_mi.split()[0]</code>"}, {"owner": {"reputation": 133, "user_id": 7691211, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/44f236d03aa4a70e79660b88c1be31b8?s=128&d=identicon&r=PG&f=1", "display_name": "davidjbeiler", "link": "https://stackoverflow.com/users/7691211/davidjbeiler"}, "edited": false, "score": 0, "creation_date": 1496261420, "post_id": 44293757, "comment_id": 75594154, "body": "the csv has 1 column, lastname, first name, the output is two columns, which would be &#39;Smith&#39;, &#39;John R&#39;"}], "tags": [], "owner": {"reputation": 1011, "user_id": 6695849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22f651a94c63b80714397655ca5f7302?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Barve", "link": "https://stackoverflow.com/users/6695849/aditya-barve"}, "is_accepted": false, "score": 2, "last_activity_date": 1496288141, "last_edit_date": 1496288141, "creation_date": 1496261049, "answer_id": 44293757, "question_id": 44293327, "link": "https://stackoverflow.com/questions/44293327/split-string-with-names-and-middle-initial-python3/44293757#44293757", "title": "Split string with names and middle initial? (python3)", "body": "<pre><code>df = pd.read_excel('C:\\\\HR employees\\\\EE Listing  as of 5-30-17.xlsx')\n\ndf['Last Name'], df['First Name'] = df['NAME'].str.split(',').str\ndf['First Name'] = df['First Name'].apply(lambda s: s[:-2] if s[-2] == ' ' else s)\ndel df['NAME']    \n\ndf.to_excel('output.xlsx')\n</code></pre>\n\n<p>The lambda function checks if the second last character in the first name is a space. This removes the initial (if present) while also handling two-part first names.</p>\n\n<p>Test cases: (NAME ---> Last Name ---> First Name)</p>\n\n<ul>\n<li>Smith, John R ---> Smith ---> John</li>\n<li>JOHN, DOE ---> JOHN ---> DOE</li>\n<li>Jackson, Jean Paul M ---> Jackson ---> Jean Paul</li>\n<li>Gonzales, El Torado ---> Gonzales ---> El Torado</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1496261301, "post_id": 44293807, "comment_id": 75594092, "body": "This is very unpythonic. I would avoid methods like this. Plus, what if the person&#39;s first name contains a space? (Anecdotally, my sister has a two-word first name and no middle name)"}, {"owner": {"reputation": 910, "user_id": 7776603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/112be0000c4a227fec01d8e12971ccae?s=128&d=identicon&r=PG&f=1", "display_name": "syntaxError", "link": "https://stackoverflow.com/users/7776603/syntaxerror"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1496261660, "post_id": 44293807, "comment_id": 75594251, "body": "I agree with you. The edit is a neater way to do it in one go, but still doesn&#39;t account for the two word first names if they are not hyphenated."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1496261809, "post_id": 44293807, "comment_id": 75594320, "body": "You could do <code>... = &#39; &#39;.join(df[&#39;First Name&#39;].split()[:-1])</code> but I&#39;m not sure how that works with a dataframe."}], "tags": [], "owner": {"reputation": 910, "user_id": 7776603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/112be0000c4a227fec01d8e12971ccae?s=128&d=identicon&r=PG&f=1", "display_name": "syntaxError", "link": "https://stackoverflow.com/users/7776603/syntaxerror"}, "is_accepted": false, "score": 2, "last_activity_date": 1496261772, "last_edit_date": 1496261772, "creation_date": 1496261225, "answer_id": 44293807, "question_id": 44293327, "link": "https://stackoverflow.com/questions/44293327/split-string-with-names-and-middle-initial-python3/44293807#44293807", "title": "Split string with names and middle initial? (python3)", "body": "<p>What about a loop to copy the first name up until the space between the middle letter?</p>\n\n<pre><code>df['First Name'] = 'dave M'\nname = ''\nfor ch in df['First Name']:\n     if ch != ' ':\n          name += ch\n     else: break\ndf['First Name'] = name\n\n\n# OR ALTERNATIVLY \ndf['First Name'] = df['First Name'].split()[0]\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 7691211, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/44f236d03aa4a70e79660b88c1be31b8?s=128&d=identicon&r=PG&f=1", "display_name": "davidjbeiler", "link": "https://stackoverflow.com/users/7691211/davidjbeiler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563081830, "creation_date": 1496259319, "last_edit_date": 1563081830, "question_id": 44293327, "link": "https://stackoverflow.com/questions/44293327/split-string-with-names-and-middle-initial-python3", "title": "Split string with names and middle initial? (python3)", "body": "<p>I have a dataset, however it includes Position #, \"Lastname, Firstname M \",,</p>\n\n<p>I am able to split it, however i want the middle initial gone, and the white space gone too, this is what i have:</p>\n\n<pre><code>df = pd.read_excel('C:\\\\HR employees\\\\EE Listing  as of 5-30-17.xlsx')\n\ndf['Last Name'], df['First Name'] = df['NAME'].str.split(',', 1).str\ndel df['NAME']\n\ndf.to_excel('output.xlsx')\n</code></pre>\n\n<p>It splits the firstname and last name, but how can i get rid of the middle initial?</p>\n"}]