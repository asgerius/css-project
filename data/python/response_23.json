[{"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1434585715, "post_id": 30904397, "comment_id": 49847350, "body": "Works fine for me using ubuntu 14.04 using &#39;0.10.4&#39;, I also built from source"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1434586074, "post_id": 30904397, "comment_id": 49847430, "body": "What version of linux?"}, {"owner": {"reputation": 8398, "user_id": 527470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7526c67649ca5e61d3e06cdf75a8e6f3?s=128&d=identicon&r=PG", "display_name": "AlanObject", "link": "https://stackoverflow.com/users/527470/alanobject"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1434586241, "post_id": 30904397, "comment_id": 49847476, "body": "@PadraicCunningham Ubuntu 12.04LTS with the 3.2.16 kernel."}], "answers": [{"tags": [], "owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "is_accepted": true, "score": 2, "last_activity_date": 1434586254, "last_edit_date": 1434586254, "creation_date": 1434585818, "answer_id": 30904437, "question_id": 30904397, "link": "https://stackoverflow.com/questions/30904397/the-netifaces-package-doesnt-work-under-python3-4-on-linux/30904437#30904437", "title": "The netifaces package doesn&#39;t work under Python3.4 on Linux", "body": "<p>Please include your Linux information: distribution, version. </p>\n\n<p>Most likely the issue exists because you have built Python 3.4 from source code and Python require distribution specific patches to work correctly on your specific version of Linux. These patches might be omitted from source code distributed on python.org. Consult your distribution issue tracker.</p>\n\n<p>For Ubuntu use deadsnakes repository when installing Python:</p>\n\n<p><a href=\"https://launchpad.net/~fkrull/+archive/ubuntu/deadsnakes\" rel=\"nofollow\">https://launchpad.net/~fkrull/+archive/ubuntu/deadsnakes</a></p>\n"}], "owner": {"reputation": 8398, "user_id": 527470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7526c67649ca5e61d3e06cdf75a8e6f3?s=128&d=identicon&r=PG", "display_name": "AlanObject", "link": "https://stackoverflow.com/users/527470/alanobject"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 30904437, "answer_count": 1, "score": 2, "last_activity_date": 1434586254, "creation_date": 1434585557, "last_edit_date": 1434586139, "question_id": 30904397, "link": "https://stackoverflow.com/questions/30904397/the-netifaces-package-doesnt-work-under-python3-4-on-linux", "title": "The netifaces package doesn&#39;t work under Python3.4 on Linux", "body": "<p>I developed my application on Mac OS and it works fine.   On the Mac I get this:</p>\n\n<pre><code>$ python3\nPython 3.4.3 (v3.4.3:9b73f1c3e601, Feb 23 2015, 02:52:03) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import netifaces\n&gt;&gt;&gt; netifaces.version\n'0.10.4'\n&gt;&gt;&gt; netifaces.interfaces()\n['lo0', 'gif0', 'stf0', 'en0', 'en1', 'en2', 'bridge0', 'p2p0', 'awdl0', 'utun1', 'utun0']\n</code></pre>\n\n<p>which is great.  When I move the app to Linux it does not work -- I get this:</p>\n\n<pre><code>~$ python3\nPython 3.4.3 (default, Jun 17 2015, 22:58:00) \n[GCC 4.6.3] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import netifaces\n&gt;&gt;&gt; netifaces.version\n'0.10.4'    \n&gt;&gt;&gt; netifaces.interfaces()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nOSError: [Errno 0] Error\n&gt;&gt;&gt; \n</code></pre>\n\n<p>I tried it under <strong>sudo</strong> and got the same thing.</p>\n\n<p>Since I couldn't find a repository with Python3 in it I ended up building the Python3.4 installation from source.   Is it possible that I left something out in the build that netifaces needs?</p>\n\n<p>Other than that does anyone have any idea on how to proceed?</p>\n\n<p><strong>Update:</strong> My Linux is Ubuntu 12.04 (don't ask I'm stuck there for a while) and the uname -a shows:</p>\n\n<pre><code>Linux testsys 3.2.16oa4 #1 SMP Tue Jan 6 16:12:02 PST 2015 x86_64 x86_64 x86_64 GNU/Linux\n</code></pre>\n"}, {"tags": ["python", "pandas", "file-format"], "comments": [{"owner": {"reputation": 1933, "user_id": 4872873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99040d0375c159c2972700d08a794c22?s=128&d=identicon&r=PG&f=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/4872873/ross"}, "edited": false, "score": 0, "creation_date": 1434587964, "post_id": 30904333, "comment_id": 49847877, "body": "I don&#39;t know what a pandas format string looks like..."}, {"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1434591060, "post_id": 30904333, "comment_id": 49848525, "body": "why dont you just use csv?"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1434591384, "post_id": 30904333, "comment_id": 49848584, "body": "I think WillaB is asking for tabular output.  Each variable should start in the same column for each row whereas with CSV it can vary depending on the values.  But maybe this can be done with CSV and formats?  I&#39;m not sure.  @WillaB -- sample data and desired output would make this more clear."}, {"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1434591771, "post_id": 30904333, "comment_id": 49848680, "body": "fortran does not need such column structure."}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1434594055, "post_id": 30904333, "comment_id": 49849237, "body": "No one said fortran needed column structure but it is a common way to do it in fortran.  I think it&#39;s a reasonable way to approach the question, but not the only way, and you can take whatever approach you like."}, {"owner": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "reply_to_user": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1434668423, "post_id": 30904333, "comment_id": 49890925, "body": "@JohnE, I am asking for tabular output. Thanks for the clarification. I&#39;ve included an example format I&#39;m looking for above."}], "answers": [{"comments": [{"owner": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "edited": false, "score": 0, "creation_date": 1434668807, "post_id": 30905435, "comment_id": 49891043, "body": "Thanks for these attempts. Unfortunately, each column needs to be treated individually (I can&#39;t have the same format for all columns). I also need to be able to write out semi-large data files automatically, as they&#39;re going straight from my function into a well-established fortran code. I&#39;m going to play around with your last suggestion, and see if I can get rid of the commas."}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "reply_to_user": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "edited": false, "score": 0, "creation_date": 1434672278, "post_id": 30905435, "comment_id": 49892082, "body": "@WillaB -- the commas are annoying, but shouldn&#39;t be a problem with the fortran formats, right?  Except for wasting some space.  Alternatively, I realize it&#39;s not ideal, but it&#39;s just a one-liner in a shell script or one command in a text-editor to remove the commas, that&#39;s a quick and dirty way.  If you really want them out via pandas, you might just want to make a followup question here focusing on that one thing.  There must be some way, but I tried a few options and none of them worked...."}, {"owner": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "edited": false, "score": 0, "creation_date": 1435004112, "post_id": 30905435, "comment_id": 50007919, "body": "the commas could be problematic if they <i>create</i> an additional column between two variable outputs. For example, if the first 3 variables were the day, month, year a comma could be problematic if they variables are not separated by a space in the fortran code&#39;s format: <code>21112015</code> vs <code>21,11,2015</code>"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "reply_to_user": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "edited": false, "score": 0, "creation_date": 1435006105, "post_id": 30905435, "comment_id": 50008907, "body": "@WillaB  But you can tell fortran which of the two cases it is.  <code>2i2,i4</code> vs <code>2(i2,x),i4</code>.  The former syntax is certainly a little simpler, but skipping nuisance columns is certainly possible with basic fortran input."}, {"owner": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "edited": false, "score": 0, "creation_date": 1435008857, "post_id": 30905435, "comment_id": 50010184, "body": "But then you&#39;re making the assumption that the fortran code format statement can be modified. I <i>may</i> be able to modify the code for my purposes here, but it is not an ideal solution. It seems like pandas <i>should</i> have a straightforward method for forcing a specific format. It&#39;s surprising to me that it doesn&#39;t. Thanks again for your help."}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "reply_to_user": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "edited": false, "score": 0, "creation_date": 1435009571, "post_id": 30905435, "comment_id": 50010478, "body": "@WillaB  I basically agree.  You may want to post a followup question on this specifically.  I&#39;m almost inclined to do it myself just out of curiosity but am probably too lazy as it&#39;s not a practical issue for me.  To be clear, pandas does allow you to force a specific format here, it&#39;s just that apparently neither of us can figure out how to not have nuisance commas (or quotes) inserted at the same time."}, {"owner": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "edited": false, "score": 0, "creation_date": 1435010593, "post_id": 30905435, "comment_id": 50010865, "body": "Fair enough. I haven&#39;t had an opportunity to work with the solution you provided, so I may do that before posting a followup question."}], "tags": [], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "is_accepted": false, "score": 1, "last_activity_date": 1568044680, "last_edit_date": 1568044680, "creation_date": 1434593689, "answer_id": 30905435, "question_id": 30904333, "link": "https://stackoverflow.com/questions/30904333/write-pandas-dataframe-to-file-using-fortran-format-string/30905435#30905435", "title": "Write Pandas DataFrame to file using FORTRAN format string", "body": "<p><strong>Update:</strong></p>\n\n<p>I would now do this sort of thing in two steps:</p>\n\n<ul>\n<li><p>Step 1 -- Convert from pandas dataframe to numpy array or rec-array.  This is trivial via the <code>values</code> or <code>to_numpy</code> methods.  It's a little trickier if you have strings but see <a href=\"https://stackoverflow.com/questions/52579601/convert-dataframe-to-a-rec-array-and-objects-to-strings/52749127\">here</a> for one technique.  If you have simple numeric data (and no strings), just stick to a regular numpy array and don't bother with a rec-array or structured array.</p></li>\n<li><p>Step 2 -- use numpy's <code>tofile</code> to write out a Fortran-readable binary</p></li>\n</ul>\n\n<p><strong>Original Answer:</strong></p>\n\n<p>I guess the bigger question is how to output from pandas to fortran and I'm not sure of the best way, but I'll try to show some fairly simple solutions mainly with <code>to_csv()</code>.</p>\n\n<p>Doing this will always give you faster IO, and I actually find binary easier than text in this case, although you do lose the ability to view the data as text.</p>\n\n<pre><code>df = pd.DataFrame({ 'x':[1.03,2.9,3.7],'y':[1,22,5] })\n\n      x   y\n0  1.03   1\n1  2.90  22  \n2  3.70   5\n</code></pre>\n\n<p>Standard pandas output is actually exactly what you are asking for here, but I'm not sure how to get that into a file except with copy and paste.  Maybe there is a way with ipython (though not that I can find).</p>\n\n<p>And here's some default csv output, which is obviously not columnar:</p>\n\n<pre><code>df.to_csv('foo.csv',index=False)\n\n%more foo.csv\nx,y\n1.03,1\n2.9,22\n3.7,5\n</code></pre>\n\n<p>But you may be able to get this into fortran with <a href=\"https://stackoverflow.com/questions/17323628/read-data-from-a-csv-file-in-fortran\">list directed input</a>.</p>\n\n<p>If you can live with the same format for all numbers, you could do something like this:</p>\n\n<pre><code>df.astype(float).to_csv('foo.raw',index=False,float_format='%10.5f')\n\n%more foo.raw\nx,y\n   1.03000,   1.00000\n   2.90000,  22.00000\n   3.70000,   5.00000\n</code></pre>\n\n<p>A couple notes here:  that's not bad but limited in forcing you to use the same format for all numbers, which is pretty wasteful for single digit integers, for example.  Also, I tried this with some NaNs and that didn't work very well.  And also the commas are not needed there but when I tried to change the separator to ' ', then it quoted everything, so I just left it out.</p>\n\n<p>Finally, the most flexible way might be to convert to strings and format them.  This gives you some flexibility to format each column individually.  Here's a simple example using a right justified format (and width of 8 for 'x' and 4 for 'y'):</p>\n\n<pre><code>df.x = df.x.map('{:&gt;8}'.format)\ndf.y = df.y.map('{:&gt;4}'.format)\ndf.to_csv('foo.str',index=False)\n\n%more foo.str\nx,y\n    1.03,   1\n     2.9,  22\n     3.7,   5\n</code></pre>\n\n<p>I still can't figure out how to get rid of those commas, but this way does handle NaNs successfully.</p>\n"}, {"tags": [], "owner": {"reputation": 670, "user_id": 1077096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/931dba9d7e4bbc5b7e26377acc663c43?s=128&d=identicon&r=PG", "display_name": "Duncan WP", "link": "https://stackoverflow.com/users/1077096/duncan-wp"}, "is_accepted": false, "score": 1, "last_activity_date": 1455275311, "last_edit_date": 1495541248, "creation_date": 1455275311, "answer_id": 35361076, "question_id": 30904333, "link": "https://stackoverflow.com/questions/30904333/write-pandas-dataframe-to-file-using-fortran-format-string/35361076#35361076", "title": "Write Pandas DataFrame to file using FORTRAN format string", "body": "<p>I know it's not ideal, but the way I've resorted to doing this is by printing out each record line by line:</p>\n\n<pre><code>df = pd.DataFrame({'alt':[1435.2, 1234.7], 'lat':[0.145, 0.324], 'lon':[12.45, 12.23]})\n\nwith open('flight.trk', 'w') as f:\n    f.write(\"! Alt Lat Lon\\n\")\n    for ix, alt, lat, lon in df.itertuples():\n        f.write(\"{:10.2f} {:9.4f} {:9.4f}\\n\".format(alt, lat, lon))\n</code></pre>\n\n<p>Note that I've used <code>itertuples</code> to iterate over the rows as suggested here (<a href=\"https://stackoverflow.com/questions/7837722/what-is-the-most-efficient-way-to-loop-through-dataframes-with-pandas\">What is the most efficient way to loop through dataframes with pandas?</a>) but that relies on knowing the order of your columns (which are alphabetical in this case).</p>\n\n<p>I've used this for tables longer than 10,000 lines and it's actually reasonably quick in my experience though I've not done any rigorous timing experiments.</p>\n"}, {"tags": [], "owner": {"reputation": 2264, "user_id": 2050686, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db982cb37f5b5115a83b3c84a4b8730f?s=128&d=identicon&r=PG", "display_name": "ztl", "link": "https://stackoverflow.com/users/2050686/ztl"}, "is_accepted": false, "score": 0, "last_activity_date": 1572361247, "last_edit_date": 1572361247, "creation_date": 1572360942, "answer_id": 58609956, "question_id": 30904333, "link": "https://stackoverflow.com/questions/30904333/write-pandas-dataframe-to-file-using-fortran-format-string/58609956#58609956", "title": "Write Pandas DataFrame to file using FORTRAN format string", "body": "<p>Coming on this much later, here is a solution which worked in my situation (<code>myDF</code> having a first column of strings, then 2 columns of floats). Supposing you need to read something in Fortran with</p>\n\n<pre><code>FORMAT (A19,F11.6,F11.6)\n</code></pre>\n\n<p>Then (with <code>import numpy as np</code>):</p>\n\n<pre><code>np.savetxt(myfile, myDF.to_numpy(), fmt=\"%19s %10.6f %10.6f\")\n</code></pre>\n\n<p>Or (to avoid the additional space, but less clear):</p>\n\n<pre><code>np.savetxt(myfile, myDF.to_numpy(), fmt=\"%19s%11.6f%11.6f\") \n</code></pre>\n\n<p>(Just in case it helps someone else ;-))</p>\n"}, {"comments": [{"owner": {"reputation": 128, "user_id": 9590059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41972622c8c4854d5387b09ca2d15023?s=128&d=identicon&r=PG&f=1", "display_name": "gothicVI", "link": "https://stackoverflow.com/users/9590059/gothicvi"}, "edited": false, "score": 0, "creation_date": 1595855211, "post_id": 62720238, "comment_id": 111609946, "body": "This works amazingly well! Thanks for bringing that package to my attention!"}], "tags": [], "owner": {"reputation": 690, "user_id": 9357244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4404d58f5047ddbe61e45c564d4ad329?s=128&d=identicon&r=PG&f=1", "display_name": "chris", "link": "https://stackoverflow.com/users/9357244/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1593797505, "creation_date": 1593797505, "answer_id": 62720238, "question_id": 30904333, "link": "https://stackoverflow.com/questions/30904333/write-pandas-dataframe-to-file-using-fortran-format-string/62720238#62720238", "title": "Write Pandas DataFrame to file using FORTRAN format string", "body": "<p>Here's a nice tidy solution that uses the <code>fortranformat</code> package (<code>pip install fotranformat</code>, <a href=\"https://pypi.org/project/fortranformat/\" rel=\"nofollow noreferrer\">https://pypi.org/project/fortranformat/</a>) and <code>df.apply()</code> that let's you use a standard fortran format string:</p>\n<pre><code>import fortranformat as ff\nimport pandas as pd \n\ndf = pd.DataFrame({\n        'sampleId': ['A','B','C','D'],        \n        'var1' : [0.002,0.004,0.006,0.002],\n        'var2' : [1.2,1.4,1.6,1.2],\n        'Nobs': [32,12,9,30]\n    })\n\nformat_string = '(a5, f8.3, f8.1, i5)'\nheader_line = ff.FortranRecordWriter(format_string)\nFormatted_df = df.apply(lambda x : header_line.write(x.values),axis=1)\n</code></pre>\n<p>The <code>Formatted_df</code> object will be a <code>Series</code> with a string element for each row of the dataframe:</p>\n<pre><code>&gt;&gt;&gt; print(Formatted_df)\n0        A   0.002     1.2   32\n1        B   0.004     1.4   12\n2        C   0.006     1.6    9\n3        D   0.002     1.2   30\ndtype: object\n&gt;&gt;&gt; print(Formatted_df.loc[0])\n    A   0.002     1.2   32\n&gt;&gt;&gt; print(type(Formatted_df.loc[0]))\n&lt;class 'str'&gt;\n</code></pre>\n<p><strong>To write it to file</strong> you can then just use <code>to_csv</code>:</p>\n<pre><code>Formatted_df.to_csv('formatted_df.csv',index=False,header=False)\n</code></pre>\n<p>Note that this won't include any column names, so you may wish to initialize the output file then append to it:</p>\n<pre><code>output_fi='formatted_df.csv'\ncol_names=df.columns.tolist()\nwith open(output_fi,'w') as outfi: \n    outfi.write('# '+' '.join(col_names)+&quot;\\n&quot;)\n    outfi.write('# '+format_string+&quot;\\n&quot;)\n    \nFormatted_df.to_csv(output_fi,mode='a',index=False,header=False)\n</code></pre>\n<p>Also note that this assumes you know the ordering of your dataframe columns already.</p>\n<p><strong>ALSO</strong> note that you may run into memory issues if you're dealing with very large dataframes as <code>Formatted_df</code> will be a complete copy of <code>df</code>. If that's the case, you'll have to chunk it up!</p>\n"}], "owner": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1593798126, "creation_date": 1434585115, "last_edit_date": 1593798126, "question_id": 30904333, "link": "https://stackoverflow.com/questions/30904333/write-pandas-dataframe-to-file-using-fortran-format-string", "title": "Write Pandas DataFrame to file using FORTRAN format string", "body": "<p>I would like to write a pandas dataframe to a file using a FORTRAN format string. I haven't been able to find anything online except a discussion of how this functionality would be nice. Does anyone know if this is possible?</p>\n\n<p>I suppose I don't need to use a fortran format string...I just need to get the output file in a specific format that fortran can easily read.</p>\n\n<p>UPDATE: For example, I have a large data file that has a specified fortran format. I load the file into my python function, manipulate the data, and then would like to export the manipulated data into a file with the same format it had originally. An <em>example</em> of the file format would be something like: </p>\n\n<pre><code>FORMAT (1X,F12.6,2F9.6,F11.7,T61,2F9.6,F10.7,T142,I6,1X,A2,T236,A1)\n</code></pre>\n\n<p>The reason I need to export the data in a specific format is because the output file will be read directly into a well-established fortran code (meaning the fortran code cannot be altered). </p>\n"}, {"tags": ["python", "python-2.7", "kivy", "self", "nameerror"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1434584631, "post_id": 30904271, "comment_id": 49847098, "body": "What is the error you are getting?"}, {"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1434584666, "post_id": 30904271, "comment_id": 49847107, "body": "Please include full traceback of the error"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1434584681, "post_id": 30904271, "comment_id": 49847112, "body": "my guess is that you are mixing tabs and spaces"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 3, "last_activity_date": 1434586136, "creation_date": 1434586136, "answer_id": 30904492, "question_id": 30904271, "link": "https://stackoverflow.com/questions/30904271/why-am-i-getting-a-nameerror-name-self-is-not-defined-here-using-kivy-for/30904492#30904492", "title": "Why am I getting a (NameError: name &#39;self&#39; is not defined ) here using Kivy for Python?", "body": "<p>You've mixed tabs and spaces:</p>\n\n<p><img src=\"https://i.stack.imgur.com/2uH3S.png\" alt=\"picture of tabs and spaces\"></p>\n\n<p>When you do that, Python gets confused about how things are supposed to be indented, because it doesn't interpret tabs the same way your editor does. Don't mix tabs and spaces; stick to one or the other, and turn on \"show whitespace\" in your editor so these problems are clearly visible.</p>\n"}], "owner": {"reputation": 109, "user_id": 4724650, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/--j9Ha9DIFAY/AAAAAAAAAAI/AAAAAAAAAGI/2H_jlke4uDo/photo.jpg?sz=128", "display_name": "frg100", "link": "https://stackoverflow.com/users/4724650/frg100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1384, "favorite_count": 0, "accepted_answer_id": 30904492, "answer_count": 1, "score": 0, "last_activity_date": 1434586136, "creation_date": 1434584565, "question_id": 30904271, "link": "https://stackoverflow.com/questions/30904271/why-am-i-getting-a-nameerror-name-self-is-not-defined-here-using-kivy-for", "title": "Why am I getting a (NameError: name &#39;self&#39; is not defined ) here using Kivy for Python?", "body": "<p>I'm making a game and I'm working on the screen switching. I want the screen to switch when I press the \"play\" button but I get a NameError instead. Here's the code:</p>\n\n<pre><code>class menu_screen(Screen):\n    def __init__(self, **kwargs):\n        super (menu_screen,self).__init__(**kwargs)\n\n        menu_layout = FloatLayout\n        logo_label = Label(text = \"GAME\", size_hint=(.6, .2),pos_hint={'x':.2, 'y':.65})\n        play_button = Button(text = \"Play\", size_hint=(.6, .1),pos_hint={'x':.2, 'y':.5})\n        play_button.bind(on_release = self.mainscreen_change)\n        about_button = Button(text = \"About\", size_hint=(.6, .1),pos_hint={'x':.2, 'y':.35})\n        settings_button = Button(text = \"Settings\", size_hint=(.6, .1),pos_hint={'x':.2, 'y':.2})\n        dev_label = Label(text = \"Developer: FRG100\", size_hint=(.1, .15),pos_hint={'x':.45, 'y':.9})\n\n        menu_layout.add_widget(logo_label)\n        menu_layout.add_widget(dev_label)\n        menu_layout.add_widget(play_button)\n        menu_layout.add_widget(about_button)\n        menu_layout.add_widget(settings_button)\n        self.add_widget(menu_layout)\n\n    def mainscreen_change(self, *args):\n        my_screenmanager.current = 'mainscreen'\n</code></pre>\n\n<p>I get a  NameError: name 'self' is not defined for this line:</p>\n\n<pre><code> play_button.bind(on_release = self.mainscreen_change)\n</code></pre>\n\n<p>Thank you for your help!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1434588260, "post_id": 30904246, "comment_id": 49847957, "body": "How could python know  what arg <code>&#39;Second parameter&#39;</code> is?"}, {"owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1434590516, "post_id": 30904246, "comment_id": 49848423, "body": "Hoping it would know by calling (something, , &#39;John Doe&#39;) where the space between the 2 commas denote a &quot;None&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "edited": false, "score": 0, "creation_date": 1434586505, "post_id": 30904254, "comment_id": 49847524, "body": "I guess that would work.  I was hoping to pass it without the &quot;owner =&quot;."}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "edited": false, "score": 0, "creation_date": 1434586626, "post_id": 30904254, "comment_id": 49847555, "body": "@dreamzboy Nope. You can&#39;t do that :( It is because Python is dynamically typed so the interpreter gets confused as to which parameter the argument should go to."}, {"owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "edited": false, "score": 0, "creation_date": 1434589596, "post_id": 30904254, "comment_id": 49848236, "body": "How about if it&#39;s actually a program and not ran inside interpreter?  Would I call it differently?  I tested outside of the interpreter and it still has the same result."}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "edited": false, "score": 0, "creation_date": 1434589676, "post_id": 30904254, "comment_id": 49848255, "body": "@dreamzboy Naw. It is the same way everywhere. I included the REPL part so that you can clearly differentiate between the input and output."}, {"owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "edited": false, "score": 0, "creation_date": 1434590620, "post_id": 30904254, "comment_id": 49848443, "body": "Thanks for the help.  I guess it doesn&#39;t require much work assigning the variable to system."}], "tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": true, "score": 2, "last_activity_date": 1434584473, "creation_date": 1434584473, "answer_id": 30904254, "question_id": 30904246, "link": "https://stackoverflow.com/questions/30904246/calling-or-passing-optional-parameters-to-function/30904254#30904254", "title": "Calling or Passing Optional Parameters to Function", "body": "<p>Use the name of the default parameter</p>\n\n<pre><code>add ('First parameter', owner =  'John Doe')\n</code></pre>\n\n<p>Demo</p>\n\n<pre><code>&gt;&gt;&gt; add ('First parameter', owner =  'John Doe')\nFirst parameter\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1047, "user_id": 5064153, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Cz1dL.jpg?s=128&g=1", "display_name": "Janarthanan Ramu", "link": "https://stackoverflow.com/users/5064153/janarthanan-ramu"}, "is_accepted": false, "score": 0, "last_activity_date": 1482147497, "creation_date": 1482147497, "answer_id": 41221753, "question_id": 30904246, "link": "https://stackoverflow.com/questions/30904246/calling-or-passing-optional-parameters-to-function/41221753#41221753", "title": "Calling or Passing Optional Parameters to Function", "body": "<p>you can make the second parameter as empty instead passing none </p>\n\n<p>example:</p>\n\n<pre><code>add('First parameter','','John Doe')\nSystem is not none.\n</code></pre>\n\n<p>Now i am passing second paramter system as empty </p>\n"}], "owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 30904254, "answer_count": 2, "score": 1, "last_activity_date": 1482147497, "creation_date": 1434584428, "last_edit_date": 1434584626, "question_id": 30904246, "link": "https://stackoverflow.com/questions/30904246/calling-or-passing-optional-parameters-to-function", "title": "Calling or Passing Optional Parameters to Function", "body": "<p>I have 3 parameters and I wanted to make 2 of them optional.  How should I call the function with the middle parameter missing?</p>\n\n<p>It's a newbie question but I couldn't find any details on making 2 parameters optional without explicitly typing \"None\" for the optional parameter.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>&gt;&gt;&gt; def add (something, system = None, owner = None):\n    if system is None:\n        print (something)\n    else:\n        print ('System is not none.')\n\n\n&gt;&gt;&gt; \n&gt;&gt;&gt; add ('First parameter', None, 'John Doe')\nFirst parameter\n\n&gt;&gt;&gt; add ('First parameter', 'Second paremter')\nSystem is not none.\n\n&gt;&gt;&gt; add ('First parameter', , 'John Doe')\nSyntaxError: invalid syntax\n\n&gt;&gt;&gt; add ('First parameter')\nFirst parameter\n</code></pre>\n"}, {"tags": ["python", "session", "flask"], "comments": [{"owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "edited": false, "score": 0, "creation_date": 1434585004, "post_id": 30904237, "comment_id": 49847185, "body": "Please show some code sample of how you&#39;re implementing your increment by 1"}, {"owner": {"reputation": 5299, "user_id": 2961662, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/OEFyx.jpg?s=128&g=1", "display_name": "Pav Sidhu", "link": "https://stackoverflow.com/users/2961662/pav-sidhu"}, "reply_to_user": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "edited": false, "score": 0, "creation_date": 1434585642, "post_id": 30904237, "comment_id": 49847340, "body": "@junnytony I added some code however I didn&#39;t know what else was necessary so I improved the question so it&#39;s easier to understand."}], "answers": [{"tags": [], "owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "is_accepted": true, "score": 0, "last_activity_date": 1434586802, "creation_date": 1434586802, "answer_id": 30904594, "question_id": 30904237, "link": "https://stackoverflow.com/questions/30904237/revert-back-to-previous-flask-session-variables-when-going-back-a-page/30904594#30904594", "title": "Revert back to previous flask session variables when going back a page", "body": "<p>You're going to need better state management than that in order to track user going forward and backward or skipping to a different question. </p>\n\n<p>My suggestion is to include the intended question number in the url query string (or to make it more SEO friendly just include the question number in the url)</p>\n\n<p>For ex:</p>\n\n<p>To receive question 1, you'd go to:</p>\n\n<pre><code>http://example.com/questions?num=1    # querystring method\nhttp://example.com/questions/1   # using url method (preferred)\n</code></pre>\n\n<p>In flask, your <code>questions</code> view will retrieve the appropriate question number (if using the url method)</p>\n\n<pre><code>@app.route('/questions/&lt;int:num&gt;')\ndef questions(num):\n    # This part disallows the user from jumping a future question\n    # without first answering all the questions that lead up to it\n    # i.e a user cannot go from question 1 to question 8 without\n    # first answering questions 2 - 7 but once they've answered \n    # question 8 they can jump back to question 2 and then jump to\n    # question 9\n    highest_num_seen = session.get('highest_num_seen', 1)\n    if num &gt; highest_num_seen:\n        num = highest_num_seen\n\n    question = db.load_question(num) # Load your question from db\n\n    # update highest_num_seen if and only if it is the next question\n    # from what the user last answered\n    if num == highest_num_seen + 1:\n        session['highest_num_seen'] = num\n\n    render_template('blahblah')\n</code></pre>\n"}], "owner": {"reputation": 5299, "user_id": 2961662, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/OEFyx.jpg?s=128&g=1", "display_name": "Pav Sidhu", "link": "https://stackoverflow.com/users/2961662/pav-sidhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 30904594, "answer_count": 1, "score": 0, "last_activity_date": 1434586802, "creation_date": 1434584350, "last_edit_date": 1434585603, "question_id": 30904237, "link": "https://stackoverflow.com/questions/30904237/revert-back-to-previous-flask-session-variables-when-going-back-a-page", "title": "Revert back to previous flask session variables when going back a page", "body": "<p>On a Flask website of mine, I have a session variable called 'thisQuestion' which put simply increments by 1 each time a page is loaded. Basically, the page returns questions from a database and the user can state whether they get the question right or wrong. The session variable increases by 1 to know which question it is on and what question to receive from the database.</p>\n\n<pre><code>session['thisQuestion'] += 1\n</code></pre>\n\n<p>However, if I was on the 3rd question page and go back to the 2nd question page, the session variable remains at '3' when I would like it to be at '2'. I would like this to also happen if I was on the 3rd page and go back to '1' on the 1st page.</p>\n\n<p>How would someone go about this?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1511, "user_id": 2634197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcf06b128aa25c5e803b04710a600af0?s=128&d=identicon&r=PG&f=1", "display_name": "Pierpaolo", "link": "https://stackoverflow.com/users/2634197/pierpaolo"}, "edited": false, "score": 0, "creation_date": 1434591436, "post_id": 30904907, "comment_id": 49848596, "body": "I tried your solution but it doesn&#39;t work. The index is not a tuple, but a MultiIndex. You can try to do <code>for i in swp.items: print swp[i]</code> and you ll see that is wrong."}], "tags": [], "owner": {"reputation": 129, "user_id": 5021073, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NrmyHbILgrc/AAAAAAAAAAI/AAAAAAAAAEQ/ae271n5Zbpo/photo.jpg?sz=128", "display_name": "emveebeeare", "link": "https://stackoverflow.com/users/5021073/emveebeeare"}, "is_accepted": false, "score": 1, "last_activity_date": 1434589381, "creation_date": 1434589381, "answer_id": 30904907, "question_id": 30904189, "link": "https://stackoverflow.com/questions/30904189/reindex-a-pandas-panel-with-a-multiindex/30904907#30904907", "title": "reindex a pandas.panel with a MultiIndex", "body": "<p>Your new index is a list of tuples, so each item is now indexed at (1,1), (1,2), etc.  In order to access the item I assume your trying to access with <code>swp[1,1]</code> you have to simply index <code>swp[(1,1)]</code> (i.e. <code>panel[item_name]</code>).</p>\n"}], "owner": {"reputation": 1511, "user_id": 2634197, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bcf06b128aa25c5e803b04710a600af0?s=128&d=identicon&r=PG&f=1", "display_name": "Pierpaolo", "link": "https://stackoverflow.com/users/2634197/pierpaolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1434589381, "creation_date": 1434584012, "question_id": 30904189, "link": "https://stackoverflow.com/questions/30904189/reindex-a-pandas-panel-with-a-multiindex", "title": "reindex a pandas.panel with a MultiIndex", "body": "<p>I was trying to reindex a Panel with a MultiIndex. The ultimate goal is to be able to do slicing like this:</p>\n\n<pre><code>wp.loc[(1,slice(None)),:,:] #Access the panel fixing the first index of the multiIndex\n</code></pre>\n\n<p>But whenever I try to reindex, like in this example I got this strange behaviour.</p>\n\n<pre><code>wp = pd.Panel(pd.randn(4, 5, 4), items=['Item_1_1', 'Item_1_2','Item_2_1','Item_2_2'],major_axis=['a','b','c','d','e'],minor_axis=['A', 'B', 'C', 'D'])\na=[tuple([int(i) for i in item.split('_')[1:]]) for item in wp.items]\nswp=wp.reindex(items=x)\n</code></pre>\n\n<p>But when I try to access an item of the panel I got;</p>\n\n<pre><code>In [101]: swp[1,1]\nOut[101]: \n    A   B   C   D\na NaN NaN NaN NaN\nb NaN NaN NaN NaN\nc NaN NaN NaN NaN\nd NaN NaN NaN NaN\ne NaN NaN NaN NaN\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1434584213, "post_id": 30904140, "comment_id": 49847002, "body": "Start with the <a href=\"https://docs.python.org/3.4/library/csv.html\" rel=\"nofollow noreferrer\">documentation on the <code>csv</code> module</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1247, "user_id": 2045872, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/443295a53466b8ace4d5ea908ac58ce2?s=128&d=identicon&r=PG", "display_name": "noober", "link": "https://stackoverflow.com/users/2045872/noober"}, "edited": false, "score": 0, "creation_date": 1434633960, "post_id": 30904523, "comment_id": 49870494, "body": "thank you very much! this was exactly what I was going for. thanks for simplifying this and providing a nice example."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 2, "last_activity_date": 1434587392, "last_edit_date": 1434587392, "creation_date": 1434586286, "answer_id": 30904523, "question_id": 30904140, "link": "https://stackoverflow.com/questions/30904140/python-how-to-write-to-a-csv-file-while-in-a-loop/30904523#30904523", "title": "python - how to write to a csv file while in a loop", "body": "<p>I think something like this would do what you want:</p>\n\n<pre><code>def get_brand_count(filename, brand):\n    return int(subprocess.check_output('''zcat %s |  '''\n                                       '''awk 'BEGIN {FS=\";\"};{print $6}' | '''\n                                       '''grep -i %r | wc -l''' %\n                                       (filename, brand), shell=True))\n\nbrands = 'hummer', 'bmw', 'audi'\nwith open('results.csv', 'wb') as csvfile:\n    csvwriter = csv.writer(csvfile)\n    csvwriter.writerow(brands)  # csv header row (if desired)\n    for myfilename in glob.iglob('*.gz'):\n        csvwriter.writerow([get_brand_count(myfilename, brand)\n                                for brand in brands])\n</code></pre>\n"}], "owner": {"reputation": 1247, "user_id": 2045872, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/443295a53466b8ace4d5ea908ac58ce2?s=128&d=identicon&r=PG", "display_name": "noober", "link": "https://stackoverflow.com/users/2045872/noober"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 30904523, "answer_count": 1, "score": -2, "last_activity_date": 1434587392, "creation_date": 1434583610, "question_id": 30904140, "link": "https://stackoverflow.com/questions/30904140/python-how-to-write-to-a-csv-file-while-in-a-loop", "title": "python - how to write to a csv file while in a loop", "body": "<p>I have this piece of code that does a loop:</p>\n\n<pre><code>for i in os.listdir(os.getcwd()):\n   if i.endswith(\".gz\"):\n        myfilename=i\n        getHum=int(subprocess.check_output('''zcat %s |  awk 'BEGIN {FS=\";\"};{print $6}' | grep -i 'hummer' | wc -l''' % myfilename, shell=True))\n        getBMW=int(subprocess.check_output('''zcat %s |  awk 'BEGIN {FS=\";\"};{print $6}' | grep -i 'bmw' | wc -l''' % myfilename, shell=True))\n        getAudi=int(subprocess.check_output('''zcat %s |  awk 'BEGIN {FS=\";\"};{print $6}' | grep -i 'audi' | wc -l''' % myfilename, shell=True))\n</code></pre>\n\n<p>Now, I'm trying to modify it so I write the output to a comma sep csv file.\nHow do I loop through each file and write the extracted contents to a csv file? Thanks.</p>\n"}, {"tags": ["python", "python-3.x", "brute-force"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1434584214, "post_id": 30904126, "comment_id": 49847003, "body": "I don&#39;t know of any way, but the itertools documentation lists an equivalent piece of code (two, actually) that you could try to adopt to your use."}, {"owner": {"reputation": 1626, "user_id": 2543727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkFul.jpg?s=128&g=1", "display_name": "cr1msonB1ade", "link": "https://stackoverflow.com/users/2543727/cr1msonb1ade"}, "edited": false, "score": 1, "creation_date": 1434585112, "post_id": 30904126, "comment_id": 49847216, "body": "Also a bonus tidbit. If you don&#39;t want to type out all the letters. <code>import string; string.ascii_letters</code>"}, {"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1434585350, "post_id": 30904126, "comment_id": 49847280, "body": "You want to be able to &#39;increment&#39; the first output to get the second, and the nth to get the n+1th.  There is no built-in way. Try to convert the output range to an integer range and back. If that is possible, you can easily increment the integers starting from anywhere in the sequence, and generate any subsequence you wish."}], "answers": [{"comments": [{"owner": {"reputation": 984, "user_id": 460846, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5c6c87eb8e6756f217a9c4951847fe4e?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/460846/magnus"}, "edited": false, "score": 0, "creation_date": 1434753274, "post_id": 30904281, "comment_id": 49930790, "body": "The final else block should be unintended - it belongs to the for loop, not the if. The code doesn&#39;t work otherwise"}], "tags": [], "owner": {"reputation": 1626, "user_id": 2543727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkFul.jpg?s=128&g=1", "display_name": "cr1msonB1ade", "link": "https://stackoverflow.com/users/2543727/cr1msonb1ade"}, "is_accepted": true, "score": 4, "last_activity_date": 1434754072, "last_edit_date": 1434754072, "creation_date": 1434584640, "answer_id": 30904281, "question_id": 30904126, "link": "https://stackoverflow.com/questions/30904126/python-bruteforce-combinations-given-a-starting-string/30904281#30904281", "title": "Python bruteforce combinations given a starting string", "body": "<p>Taking the original code from the <a href=\"https://docs.python.org/2/library/itertools.html#itertools.combinations_with_replacement\" rel=\"nofollow\">itertools man page</a> copy the code for the combinations_with_replacement code but replace line 7 with new indices starting from your entered word.</p>\n\n<pre><code>inputStr='acc'\nindices=[pool.index(l) for l in inputStr]\n</code></pre>\n\n<p>And then run the rest of the code from the man page.</p>\n\n<p>EDIT: For a complete running function:</p>\n\n<pre><code>def combinations_with_replacement(iterable, r, startWord=None):\n    # combinations_with_replacement('ABC', 2) --&gt; AA AB AC BB BC CC                                                                                   \n    pool = tuple(iterable)\n    n = len(pool)\n    if not n and r:\n        return\n    if startWord is None:\n        indices = [0] * r\n    else:\n        assert len(startWord) == r\n        indices = [pool.index(l) for l in startWord]\n    yield tuple(pool[i] for i in indices)\n    while True:\n        for i in reversed(range(r)):\n            if indices[i] != n - 1:\n                break\n        else:\n            return\n        indices[i:] = [indices[i] + 1] * (r - i)\n        yield tuple(pool[i] for i in indices)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 1, "last_activity_date": 1434587282, "last_edit_date": 1495541155, "creation_date": 1434584780, "answer_id": 30904294, "question_id": 30904126, "link": "https://stackoverflow.com/questions/30904126/python-bruteforce-combinations-given-a-starting-string/30904294#30904294", "title": "Python bruteforce combinations given a starting string", "body": "<p>It's easy if you know, given a combination, how to generate the next one.</p>\n\n<p>One way to do it could be to define a mapping from combination to natural numbers, and the inverse mapping, from natural numbers to combinations. For example you can use <code>base62_encode</code>/<code>base62_decode</code> from <a href=\"https://stackoverflow.com/questions/1119722/base-62-conversion-in-python#answer-1119769\">Base 62 conversion</a></p>\n\n<pre><code>def next_comb(s):\n    return base62_encode(1+base62_decode(s))\n</code></pre>\n\n<p>and a generator to generate all combination given a starting point:</p>\n\n<pre><code>def generate_all(start='a'):\n    while True:\n        yield start\n        start = next_comb(start)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>for comb in generate_all():\n    print(comb)\n</code></pre>\n\n<p>or, to resume computation from a starting point:</p>\n\n<pre><code>for comb in generate_all(starting_point):\n    print(comb)\n</code></pre>\n"}], "owner": {"reputation": 5804, "user_id": 777510, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/MUpFE.png?s=128&g=1", "display_name": "\u1d18\u1d00\u0274\u1d00\u028f\u026a\u1d0f\u1d1b\u026as", "link": "https://stackoverflow.com/users/777510/%e1%b4%98%e1%b4%80%c9%b4%e1%b4%80%ca%8f%c9%aa%e1%b4%8f%e1%b4%9b%c9%aas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 1, "accepted_answer_id": 30904281, "answer_count": 2, "score": 3, "last_activity_date": 1434754072, "creation_date": 1434583510, "last_edit_date": 1434584818, "question_id": 30904126, "link": "https://stackoverflow.com/questions/30904126/python-bruteforce-combinations-given-a-starting-string", "title": "Python bruteforce combinations given a starting string", "body": "<p>I'm trying to do a bruteforce string generator in Python and <code>itertools.combinations_with_replacement</code> seemed to do just the trick.</p>\n\n<pre><code>gen = itertools.combinations_with_replacement('abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',12)\nfor combination in gen:\n  check(''.join(combination))\n</code></pre>\n\n<p>Say the user runs the program for some hours and reaches up to string <code>aaaeabdouzIU</code>. </p>\n\n<p>Is there any way given a string where they left off to start making combinations from that point onwards?</p>\n\n<p>So if I pass the string '<code>acc</code>' it should start trying '<code>acd</code>','<code>ace</code>',<code>...</code></p>\n\n<p><code>itertools.combinations_with_replacement</code> does not provide this natively, is there any way someone could achive this?</p>\n"}, {"tags": ["python", "python-3.x", "pip", "setuptools", "setup.py"], "comments": [{"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1434583571, "post_id": 30904118, "comment_id": 49846849, "body": "Can you try <code>python setup.py install</code> in a clean virtualenv?"}, {"owner": {"reputation": 3367, "user_id": 3671397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee012426897a4e53e39de64efce42fd8?s=128&d=identicon&r=PG", "display_name": "miindlek", "link": "https://stackoverflow.com/users/3671397/miindlek"}, "reply_to_user": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1434583690, "post_id": 30904118, "comment_id": 49846883, "body": "@MikkoOhtamaa I already tried it, but didn&#39;t help."}, {"owner": {"reputation": 690, "user_id": 1176813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z1FjH.png?s=128&g=1", "display_name": "Nathaniel", "link": "https://stackoverflow.com/users/1176813/nathaniel"}, "edited": false, "score": 0, "creation_date": 1435187696, "post_id": 30904118, "comment_id": 50101232, "body": "What platform are you doing this on?"}, {"owner": {"reputation": 3367, "user_id": 3671397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee012426897a4e53e39de64efce42fd8?s=128&d=identicon&r=PG", "display_name": "miindlek", "link": "https://stackoverflow.com/users/3671397/miindlek"}, "edited": false, "score": 0, "creation_date": 1435188007, "post_id": 30904118, "comment_id": 50101322, "body": "I&#39;m running a fedora 21."}, {"owner": {"reputation": 399, "user_id": 293340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b8e8d843791e11a09fcba7539a461d?s=128&d=identicon&r=PG", "display_name": "Alex Willmer", "link": "https://stackoverflow.com/users/293340/alex-willmer"}, "edited": false, "score": 0, "creation_date": 1436085345, "post_id": 30904118, "comment_id": 50456381, "body": "Have you tried upgrading setuptools in the virtualenv, before running <code>setup.py install</code>? Could you post the full setup.py? Or link to the project repo if it&#39;s available."}], "answers": [{"tags": [], "owner": {"reputation": 3367, "user_id": 3671397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee012426897a4e53e39de64efce42fd8?s=128&d=identicon&r=PG", "display_name": "miindlek", "link": "https://stackoverflow.com/users/3671397/miindlek"}, "is_accepted": true, "score": 2, "last_activity_date": 1437736620, "creation_date": 1437736620, "answer_id": 31609175, "question_id": 30904118, "link": "https://stackoverflow.com/questions/30904118/python-setup-py-install-does-not-create-entry-points/31609175#31609175", "title": "&quot;python setup.py install&quot; does not create entry points", "body": "<p>Ok, I found out what was preventing <code>setuptools</code> from creating entry points.\nMy <code>MANIFEST.in</code> file contained the line:</p>\n\n<pre><code>prune vsam.egg-info\n</code></pre>\n\n<p>After removing it, everything works fine.</p>\n"}], "owner": {"reputation": 3367, "user_id": 3671397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee012426897a4e53e39de64efce42fd8?s=128&d=identicon&r=PG", "display_name": "miindlek", "link": "https://stackoverflow.com/users/3671397/miindlek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 1, "accepted_answer_id": 31609175, "answer_count": 1, "score": 3, "last_activity_date": 1437736620, "creation_date": 1434583417, "last_edit_date": 1435310170, "question_id": 30904118, "link": "https://stackoverflow.com/questions/30904118/python-setup-py-install-does-not-create-entry-points", "title": "&quot;python setup.py install&quot; does not create entry points", "body": "<p>I need some help concerning <code>setuptools</code>.\nMy <code>setup.py</code> looks like this:</p>\n\n<pre><code>setup(\n    ...\n    packages=find_packages(),\n    include_package_data=True,\n    entry_points={\n        'console_scripts': [\n            'vsam = vsam.cmdline:execute',\n        ]\n    },\n    ...\n)\n</code></pre>\n\n<p>If I run <code>python setup.py develop</code>, the specified console script gets properly created. Running <code>python setup.py sdist</code> and installing the source distribution with <code>pip install</code> also creates the entry point.</p>\n\n<p>But running <code>python setup.py install</code> does not create a console script.</p>\n\n<p>Can anyone tell me why?\nIf anyone needs more information, feel free to ask.</p>\n"}, {"tags": ["python", "iphone", "macos", "ssl", "ftp"], "answers": [{"comments": [{"owner": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "edited": false, "score": 0, "creation_date": 1447894138, "post_id": 33782725, "comment_id": 55353528, "body": "Thanks for the suggestion, I updated the answer above with the debuglevel 2 log. It&#39;s not the interface since I&#39;m able to browser the web and comment on stack overflow."}, {"owner": {"reputation": 6386, "user_id": 218154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec21e5ae90f20209abe8fcf11f9935b?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/218154/allen"}, "reply_to_user": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "edited": false, "score": 0, "creation_date": 1447900107, "post_id": 33782725, "comment_id": 55355199, "body": "can you remove ssl._create_default_https_context = ssl._create_unverified_context first to test out? this is just for when certificate does not match the host."}, {"owner": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "edited": false, "score": 0, "creation_date": 1447903149, "post_id": 33782725, "comment_id": 55355942, "body": "just double checked, I didn&#39;t have it in there."}, {"owner": {"reputation": 6386, "user_id": 218154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec21e5ae90f20209abe8fcf11f9935b?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/218154/allen"}, "reply_to_user": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "edited": false, "score": 0, "creation_date": 1447903525, "post_id": 33782725, "comment_id": 55356057, "body": "case SSL_ERROR_SYSCALL:         {             unsigned long e = ERR_get_error();             if (e == 0) {                 if (ret == 0 || !obj-&gt;Socket) {                     p = PY_SSL_ERROR_EOF;                     errstr = &quot;EOF occurred in violation of protocol&quot;; the above code is in ssl.c for python 2.7, indicate there is no socket error, possible wrong interface issue, what is your at&amp;t tether interface?"}, {"owner": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "edited": false, "score": 0, "creation_date": 1447904574, "post_id": 33782725, "comment_id": 55356366, "body": "it&#39;s using <code>en0</code> for thether and for wifi."}, {"owner": {"reputation": 6386, "user_id": 218154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec21e5ae90f20209abe8fcf11f9935b?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/218154/allen"}, "reply_to_user": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "edited": false, "score": 0, "creation_date": 1447945019, "post_id": 33782725, "comment_id": 55379780, "body": "ok, once you tether with at&amp;t, try telnet url 21 from terminal to see if you can connect to the remote ftp port."}], "tags": [], "owner": {"reputation": 6386, "user_id": 218154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec21e5ae90f20209abe8fcf11f9935b?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/218154/allen"}, "is_accepted": false, "score": 1, "last_activity_date": 1447857146, "creation_date": 1447857146, "answer_id": 33782725, "question_id": 30904084, "link": "https://stackoverflow.com/questions/30904084/python-ftp-ssl-error-while-tethering-on-iphone-att/33782725#33782725", "title": "Python FTP SSL error while tethering on IPhone/ATT", "body": "<p>first set the debuglevel to 2 to print out more information, and do the comparison with the difference under WiFi and AT&amp;T, what i can think of now is the network initiated the connection from disconnected interface, so you might can try disable them and just leave AT&amp;T active.</p>\n"}], "owner": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448061278, "creation_date": 1434583188, "last_edit_date": 1495542619, "question_id": 30904084, "link": "https://stackoverflow.com/questions/30904084/python-ftp-ssl-error-while-tethering-on-iphone-att", "title": "Python FTP SSL error while tethering on IPhone/ATT", "body": "<p>I have some simple ftps code, that works on my laptop when connected via WIFI. However if I use my ATT IPhones tethering capabilities the code no longer runs on my laptop and the following error is thrown:</p>\n\n<pre><code>*cmd* 'AUTH TLS'\n*put* 'AUTH TLS\\r\\n'\n*get* '234 Proceed with negotiation.\\r\\n'\n*resp* '234 Proceed with negotiation.'\nTraceback (most recent call last):\n  File \"/Users/n/anaconda/lib/python2.7/ftplib.py\", line 669, in login\n    self.auth()\n  File \"/Users/n/anaconda/lib/python2.7/ftplib.py\", line 681, in auth\n    server_hostname=self.host)\n  File \"/Users/n/anaconda/lib/python2.7/ssl.py\", line 352, in wrap_socket\n    _context=self)\n  File \"/Users/n/anaconda/lib/python2.7/ssl.py\", line 579, in __init__\n    self.do_handshake()\n  File \"/Users/n/anaconda/lib/python2.7/ssl.py\", line 808, in do_handshake\n    self._sslobj.do_handshake()\nssl.SSLEOFError: EOF occurred in violation of protocol (_ssl.c:590)\n[Finished in 52.4s with exit code 1]\n</code></pre>\n\n<p>How can I get the following example to work while using tethering?</p>\n\n<pre><code>from ftplib import FTP_TLS\n\nurl = 'url.com'\nusername = 'guest'\npassword = 'password'\n\nftps = FTP_TLS(url)\nftps.login(username, password)  # login anonymously before securing control channel\nftps.prot_p()          # switch to secure data connection\n\nprint ftps.nlst()\n\nftps.quit()\n</code></pre>\n\n<p>I have also tried including <a href=\"https://stackoverflow.com/questions/27835619/ssl-certificate-verify-failed-error\">the SSL monkey patch from this stackoverflow answer</a> with no success.</p>\n\n<pre><code>import ssl \nssl._create_default_https_context = ssl._create_unverified_context\n</code></pre>\n"}, {"tags": ["python", "mysql", "csv", "datetime"], "comments": [{"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 1, "creation_date": 1434583854, "post_id": 30904068, "comment_id": 49846925, "body": "Thats a lot of code you want people to look through. Please consider shortening it to an MCVE. Please see this <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>."}, {"owner": {"reputation": 139, "user_id": 1108473, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RA2CU.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1108473/greg"}, "reply_to_user": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1434584383, "post_id": 30904068, "comment_id": 49847044, "body": "The longest section is just a data file, showing what&#39;s parsed and I suspect I could show just the section of Python where I suspect the problem is (def append_to_database() function) but TBH it may not be there, so I left it all. Finally, I wanted to make sure it&#39;s not the Schema that&#39;s the problem, so I included a short SQL create. Hope that&#39;s OK. I&#39;ll bear the sentiment in mind for next time :o)"}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1434585235, "post_id": 30904068, "comment_id": 49847249, "body": "When you print does it display in the proper format you expect that MySQL requires for the TIMESTAMP? Have you tried using DATETIME instead? There are some subtleties that could be the issue"}, {"owner": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "edited": false, "score": 0, "creation_date": 1434586522, "post_id": 30904068, "comment_id": 49847529, "body": "What does your insert SQL look like?"}], "answers": [{"tags": [], "owner": {"reputation": 168, "user_id": 868531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f1dc6f6fc56d433578f5071fa3759d?s=128&d=identicon&r=PG", "display_name": "stevenviola", "link": "https://stackoverflow.com/users/868531/stevenviola"}, "is_accepted": true, "score": 2, "last_activity_date": 1434592842, "creation_date": 1434592842, "answer_id": 30905313, "question_id": 30904068, "link": "https://stackoverflow.com/questions/30904068/python-datetime-into-mysql/30905313#30905313", "title": "Python Datetime into MySQL", "body": "<p>I took your code, and it seems like the main issues are in the <code>append_to_database</code> function.</p>\n\n<p>It looks like the return value of  <code>normalise_date_to_UTF</code> returns a datetime object, which is being passed to <code>append_to_database</code> (as the <code>timestampval</code> argument), and that is being run through <a href=\"https://docs.python.org/2/library/datetime.html#datetime.datetime.strptime\" rel=\"nofollow\">strptime</a>, which is unnecessary since it's not a string and already a datetime. </p>\n\n<p>The SQL statement also needed some adjusting for how you replace variables in strings. In python, the <code>%</code> operator when following a string, allows you to insert values into that string via format codes. Also, <code>table_name</code>, <code>timestamp_column</code>, and <code>power_column</code> had single quotes around them, which meant that the literal string would be inserted, rather than the variable's value.</p>\n\n<p>Basically your <code>append_to_database</code> function should look like this:</p>\n\n<pre><code>def append_to_database(timestampval,powerval):\n  host=\"localhost\", # your host, usually localhost\n  user=\"root\", # your username\n  passwd=\"******\"\n  database_name = 'SunnyData'\n  table_name = 'DTP'\n  timestamp_column  = 'DT'\n  power_column = 'PWR'\n  sql = (\"INSERT INTO %s (%s,%s) VALUES('%s','%s')\" % (table_name, timestamp_column, power_column, timestampval.strftime('%Y-%m-%d %H:%M:%S'), powerval) )\n  print sql\n  #db = MySQLdb.connect(host,user,passwd,database_name)\n  cur = SD.cursor()\n  try:\n    cur.execute(sql)\n    print 'SQL: ' + sql\n    SD.commit()\n  except:\n    print 'DB append failed!'\n    SD.rollback()\n</code></pre>\n\n<p>As for the MySQL DB, the SQL inserts are not specifying a value for the <code>idDTP</code> column, and the column isn't auto incrementing, so after python inserts the first value, all subsequent inserts will fail, because the value defaults to 0 for each insert. This can be resolved in one of two ways, altering the python code to specify a value for <code>idDTP</code> or setting idDTP to be auto incrementing. </p>\n\n<p>If you want to alter your table to have auto incrementing ids, the SQL syntax (run on the MySQL server) is:</p>\n\n<pre><code>ALTER TABLE DTP MODIFY COLUMN idDTP INT auto_increment\n</code></pre>\n\n<p>or you can recreate the table like this:</p>\n\n<pre><code>CREATE TABLE `DTP` (\n  `idDTP` int(11) NOT NULL AUTO_INCREMENT,\n  `DT` timestamp NULL DEFAULT NULL,\n  `PWR` decimal(4,3) DEFAULT NULL,\n  PRIMARY KEY (`idDTP`)\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>I ran your code, making the changes above, and with the first part of the data provided, when querying MySQL for the DTP table, it looks like this: </p>\n\n<pre><code>select * from DTP;\n+-------+---------------------+-------+\n| idDTP | DT                  | PWR   |\n+-------+---------------------+-------+\n|     1 | 2012-03-11 07:10:00 | 0.012 |\n|     2 | 2012-03-11 07:20:00 | 0.048 |\n|     3 | 2012-03-11 07:30:00 | 0.072 |\n|     4 | 2012-03-11 07:40:00 | 0.078 |\n|     5 | 2012-03-11 07:50:00 | 0.114 |\n|     6 | 2012-03-11 08:00:00 | 0.150 |\n|     7 | 2012-03-11 08:10:00 | 0.156 |\n|     8 | 2012-03-11 08:20:00 | 0.168 |\n|     9 | 2012-03-11 08:30:00 | 0.204 |\n|    10 | 2012-03-11 08:40:00 | 0.180 |\n+-------+---------------------+-------+\n</code></pre>\n\n<p>Hope that helps you with this project!</p>\n"}], "owner": {"reputation": 139, "user_id": 1108473, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RA2CU.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1108473/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1404, "favorite_count": 1, "accepted_answer_id": 30905313, "answer_count": 1, "score": 2, "last_activity_date": 1434637809, "creation_date": 1434583088, "last_edit_date": 1434637809, "question_id": 30904068, "link": "https://stackoverflow.com/questions/30904068/python-datetime-into-mysql", "title": "Python Datetime into MySQL", "body": "<p>I'm parsing several years worth of daily solar generation CSV files that look like this (with YY-MM-DD.CSV filename format)</p>\n\n<pre><code>sep=;\nVersion CSV|Tool SunnyBeam11|Linebreaks CR/LF|Delimiter semicolon|Decimalpoint point|Precision 3|Language en-UK|TZO=0|DST|11/03/2012\n\n    ;SN: xyz\n    ;SB blah\n    ;xyz\n    Time;Power\n    HH:mm;kW\n    00:10;0.000\n    00:20;0.000\n    00:30;0.000\n    00:40;0.000\n    00:50;0.000\n    01:00;0.000\n    01:10;0.000\n    01:20;0.000\n    01:30;0.000\n    01:40;0.000\n    01:50;0.000\n    02:00;0.000\n    02:10;0.000\n    02:20;0.000\n    02:30;0.000\n    02:40;0.000\n    02:50;0.000\n    03:00;0.000\n    03:10;0.000\n    03:20;0.000\n    03:30;0.000\n    03:40;0.000\n    03:50;0.000\n    04:00;0.000\n    04:10;0.000\n    04:20;0.000\n    04:30;0.000\n    04:40;0.000\n    04:50;0.000\n    05:00;0.000\n    05:10;0.000\n    05:20;0.000\n    05:30;0.000\n    05:40;0.000\n    05:50;0.000\n    06:00;0.000\n    06:10;0.000\n    06:20;0.000\n    06:30;0.000\n    06:40;0.000\n    06:50;0.000\n    07:00;0.000\n    07:10;0.012\n    07:20;0.048\n    07:30;0.072\n    07:40;0.078\n    07:50;0.114\n    08:00;0.150\n    08:10;0.156\n    08:20;0.168\n    08:30;0.204\n    08:40;0.180\n    08:50;0.198\n    09:00;0.210\n    09:10;0.222\n    09:20;0.294\n    09:30;0.330\n    09:40;0.342\n    09:50;0.402\n    10:00;0.492\n    10:10;0.396\n    10:20;0.474\n    10:30;1.224\n    10:40;1.374\n    10:50;1.416\n    11:00;1.470\n    11:10;1.500\n    11:20;1.530\n    11:30;1.530\n    11:40;1.542\n    11:50;1.536\n    12:00;1.554\n    12:10;1.584\n    12:20;1.584\n    12:30;1.572\n    12:40;1.560\n    12:50;1.548\n    13:00;1.518\n    13:10;1.494\n    13:20;1.470\n    13:30;1.440\n    13:40;1.404\n    13:50;1.356\n    14:00;1.332\n    14:10;1.284\n    14:20;1.236\n    14:30;1.194\n    14:40;1.110\n    14:50;1.050\n    15:00;0.972\n    15:10;0.888\n    15:20;0.816\n    15:30;0.744\n    15:40;0.648\n    15:50;0.594\n    16:00;0.528\n    16:10;0.438\n    16:20;0.342\n    16:30;0.264\n    16:40;0.228\n    16:50;0.180\n    17:00;0.120\n    17:10;0.084\n    17:20;0.048\n    17:30;0.024\n    17:40;0.006\n    17:50;0.000\n    18:00;0.000\n    18:10;0.000\n    18:20;0.000\n    18:30;0.000\n    18:40;0.000\n    18:50;0.000\n    19:00;0.000\n    19:10;0.000\n    19:20;0.000\n    19:30;0.000\n    19:40;0.000\n    19:50;0.000\n    20:00;0.000\n    20:10;0.000\n    20:20;0.000\n    20:30;0.000\n    20:40;0.000\n    20:50;0.000\n    21:00;0.000\n    21:10;0.000\n    21:20;0.000\n    21:30;0.000\n    21:40;0.000\n    21:50;0.000\n    22:00;0.000\n    22:10;0.000\n    22:20;0.000\n    22:30;0.000\n    22:40;0.000\n    22:50;0.000\n    23:00;0.000\n    23:10;0.000\n    23:20;0.000\n    23:30;0.000\n    23:40;0.000\n    23:50;0.000\n    00:00;0.000\n\n\n    E-Today kWh;8.313\n    E-Total kWh;67.471\n</code></pre>\n\n<p>My Python is able to parse out the date in the last field of line 2 and then iteratively combine it with the time on each row. Using the combo of date and time as a timestamp (type incompatibility is probably the problem?) I try to insert it into a mySQL database into a column of type timestamp (and power into a column of type DECIMAL(4,3))</p>\n\n<p>I've played around with various type combinations but clearly not in the right way. I'd be really grateful for a Python expert to clarify how to successfully get the synthesised date into a form compatible with MySQL timestamp. </p>\n\n<p>The Python is:</p>\n\n<pre><code>#!/usr/bin/python\n\nfrom os import listdir\nfrom datetime import datetime\nimport MySQLdb\n#from sys import argv\n\n\ndef is_dated_csv(filename):\n    \"\"\"\n    Return True if filename matches format YY-MM-DD.csv, otherwise False.\n    \"\"\"\n    date_format = '%y-%m-%d.csv'\n\n    try:\n        date = datetime.strptime(filename, date_format)\n        return True\n    except ValueError:\n        # filename did not match pattern\n        print filename + ' did NOT match'\n        pass\n#'return' terminates a function\n    return False\n\n\ndef parse_for_date(filename):\n  \"\"\"\n  Read file for the date - from line 2 field 10\n  \"\"\"\n  currentFile = open(filename,'r')\n  l1 = currentFile.readline() #ignore first line read\n  date_line = currentFile.readline() #read second line\n  dateLineArray = date_line.split(\"|\")\n  day_in_question = dateLineArray[-1]#save the last element (date)\n  currentFile.close()\n  return day_in_question\n\n\ndef normalise_date_to_UTF(day_in_question):\n  \"\"\"\n  Rather wierdly, some days use YYYY.MM.DD format &amp; others use DD/MM/YYYY\n  This function normalises either to UTC with a blank time (midnight)\n  \"\"\"\n  if '.' in day_in_question: #it's YYYY.MM.DD\n    dateArray = day_in_question.split(\".\")\n    dt = (dateArray[0] +dateArray[1] + dateArray[2].rstrip() + '000000')\n  elif '/' in day_in_question: #it's DD/MM/YYYY\n    dateArray = day_in_question.split(\"/\")\n    dt = (dateArray[2].rstrip() + dateArray[1] + dateArray[0] + '000000')\n  theDate = datetime.strptime(dt,'%Y%m%d%H%M%S')\n  return theDate #A datetime object\n\n\ndef parse_power_values(filename, theDate):\n  currentFile = open(filename,'r')\n  for i, line in enumerate(currentFile):\n    if i &lt;= 7:\n      doingSomething = True\n      #print 'header' + str(i) + '/ ' + line.rstrip()\n    elif ((i &gt; 7) and (i &lt;= 151)):\n      lineParts = line.split(';')\n      theTime = lineParts[0].split(':')\n      theHour = theTime[0]\n      theMin = theTime[1]\n      timestamp = theDate.replace(hour=int(theHour),minute=int(theMin))\n      power = lineParts[1].rstrip()\n      if (float(power) &gt; 0):\n        #print str(i) + '/ ' + str(timestamp) + '   power = ' + power + 'kWh'\n        append_to_database(timestamp,power)\n      #else:\n      #  print str(i) + '/ '\n    elif i &gt; 151:\n      print str(timestamp) + ' DONE!'\n      print '----------------------'\n      break\n  currentFile.close()\n\ndef append_to_database(timestampval,powerval):\n  a = datetime.strptime(timestampval,\"%b %d %Y %H:%M\")\n  host=\"localhost\", # your host, usually localhost\n  user=\"root\", # your username\n  passwd=\"******\"\n  database_name = 'SunnyData'\n  table_name = 'DTP'\n  timestamp_column  = 'DT'\n  power_column = 'PWR'\n  sql = (\"\"\"INSERT INTO %s(%s,%s) VALUES(%s,'%s')\"\"\", ('table_name', 'timestamp_column', 'power_column', a.strftime('%Y-%m-%d %H:%M:%S'), powerval) )\n  print sql\n  #db = MySQLdb.connect(host,user,passwd,database_name)\n  cur = SD.cursor()\n  try:\n    cur.execute(sql)\n    print 'SQL: ' + sql\n    SD.commit()\n  except:\n    print 'DB append failed!'\n    SD.rollback()\n\n# Main start of program\npath = '.'\nfor filename in listdir(path):\n    if is_dated_csv(filename):\n        SD = MySQLdb.connect(host=\"localhost\", user=\"root\",passwd=\"**********\", db = 'SunnyData')\n        print filename + ' matched'\n      # Do something with the desired .csv file\n        day_in_question = parse_for_date(filename)\n        print 'the date is ' + day_in_question\n        theDate = normalise_date_to_UTF(day_in_question)\n        parse_power_values(filename, theDate)\n        SD.close()\n\n    pass\n</code></pre>\n\n<p>and the DB create SQL looks like this</p>\n\n<pre><code>CREATE TABLE `DTP` (\n  `idDTP` int(11) NOT NULL,\n  `DT` timestamp NULL DEFAULT NULL,\n  `PWR` decimal(4,3) DEFAULT NULL,\n  PRIMARY KEY (`idDTP`)\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>Many thanks,</p>\n\n<p>Greg (Python novice)</p>\n"}, {"tags": ["python", "list", "popen"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 933258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f606e9b610f33d8159727b0f03831db?s=128&d=identicon&r=PG", "display_name": "DonaldH", "link": "https://stackoverflow.com/users/933258/donaldh"}, "edited": false, "score": 0, "creation_date": 1434634524, "post_id": 30906264, "comment_id": 49870940, "body": "Hi @DanCornilescu, thanks for the reply. This definitely solves my problem. My concern is that I don&#39;t want to run 8 subprocess.Popen(&#39;dir&#39;,shell=True) processes right when the application starts .. just because it seems unnecessary. Is there no way to create a set of null or blank instances of the Popen object in the list so that using that method won&#39;t throw an error?"}, {"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "reply_to_user": {"reputation": 135, "user_id": 933258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f606e9b610f33d8159727b0f03831db?s=128&d=identicon&r=PG", "display_name": "DonaldH", "link": "https://stackoverflow.com/users/933258/donaldh"}, "edited": false, "score": 1, "creation_date": 1434636303, "post_id": 30906264, "comment_id": 49872485, "body": "Nope, the process arg list is neeed in the object contructor. But you can create them as needed and add them to processList."}], "tags": [], "owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "is_accepted": true, "score": 1, "last_activity_date": 1434600354, "creation_date": 1434600354, "answer_id": 30906264, "question_id": 30904008, "link": "https://stackoverflow.com/questions/30904008/use-poll-on-new-subprocess-popen-object-list/30906264#30906264", "title": "Use poll() on new subprocess.Popen object list", "body": "<p>Your list actually contains Popen classes, not objects:</p>\n\n<pre><code>&gt;&gt;&gt; processList = [subprocess.Popen for i in range(1)]\n&gt;&gt;&gt; processList\n[&lt;class 'subprocess.Popen'&gt;]\n</code></pre>\n\n<p>You need to call <strong>subprocess.Popen()</strong> to get objects:</p>\n\n<pre><code>&gt;&gt;&gt; processList = [subprocess.Popen('ls') for i in range(1)]\n...\n&gt;&gt;&gt; processList\n[&lt;subprocess.Popen object at 0x7f31b77e4550&gt;]\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 933258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f606e9b610f33d8159727b0f03831db?s=128&d=identicon&r=PG", "display_name": "DonaldH", "link": "https://stackoverflow.com/users/933258/donaldh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 30906264, "answer_count": 1, "score": 3, "last_activity_date": 1434600354, "creation_date": 1434582733, "last_edit_date": 1434593408, "question_id": 30904008, "link": "https://stackoverflow.com/questions/30904008/use-poll-on-new-subprocess-popen-object-list", "title": "Use poll() on new subprocess.Popen object list", "body": "<p>I'm trying to write some code that polls a list of subprocess.Popen objects (?) created as such:</p>\n\n<pre><code>self.processList = [subprocess.Popen for i in range(8)]\n</code></pre>\n\n<p>My code will be creating new subprocess.Popen objects and assigning them to different locations in the list. I can then successfully use poll(). But before any of that code takes place, my new list of objects can not be polled successfully. Is there a way to do this? I poll the list to start the next process, so I'd like to have all of this functionality work properly with the line of code above. This is what I'm trying to accomplish before assigning anything to the above snipet:</p>\n\n<pre><code>print self.processList[position].poll()\n</code></pre>\n\n<p>The error I receive is:</p>\n\n<blockquote>\n  <p>line 79, in jobQueue\n      print self.processList[position].poll() TypeError: unbound method poll() must be called with Popen instance as first argument (got nothing instead)</p>\n</blockquote>\n\n<p>And as mentioned once I create a new object and place it in my list I don't have this problem. I don't care what self.processList[0].poll() returns, as along as it returns something and doesn't blow up in the beginning. Thank you very much for your help.</p>\n\n<p>Thanks</p>\n\n<p>Don</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "is_accepted": true, "score": 1, "last_activity_date": 1434583925, "last_edit_date": 1492085615, "creation_date": 1434582896, "answer_id": 30904030, "question_id": 30903989, "link": "https://stackoverflow.com/questions/30903989/installing-python-to-a-home-directory/30904030#30904030", "title": "Installing Python to a home directory", "body": "<p>It is possible to install any Python version assuming your server has a compiler (GCC) installed you can use.</p>\n\n<p><a href=\"https://www.python.org/downloads/\" rel=\"nofollow noreferrer\">Download Python source code here</a>. Apply basic UNIX command knowledge to download and extract Gzip archive to a folder inside your home holder. <a href=\"https://docs.python.org/2/using/unix.html#building-python\" rel=\"nofollow noreferrer\">Follow instructions to compile Python</a>.</p>\n\n<p>Please note that the server must have required OpenSSL libraries installed or you won't get SSL support. If you need to bootstrap the whole stack from the scratch (all libraries, compilers, etc.) it is just not feasible and in this case I suggest you move to another server provider.</p>\n\n<p>See also: </p>\n\n<p><a href=\"https://serverfault.com/questions/353128/recompiling-python-with-ssl-support-on-ubuntu\">https://serverfault.com/questions/353128/recompiling-python-with-ssl-support-on-ubuntu</a></p>\n"}], "owner": {"reputation": 2089, "user_id": 878418, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/98a4492cf225751f2d14878ac5db7969?s=128&d=identicon&r=PG&f=1", "display_name": "karolkpl", "link": "https://stackoverflow.com/users/878418/karolkpl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3485, "favorite_count": 0, "closed_date": 1553425408, "accepted_answer_id": 30904030, "answer_count": 1, "score": 2, "last_activity_date": 1553423107, "creation_date": 1434582622, "last_edit_date": 1434582928, "question_id": 30903989, "link": "https://stackoverflow.com/questions/30903989/installing-python-to-a-home-directory", "closed_reason": "Duplicate", "title": "Installing Python to a home directory", "body": "<p>I'm using Python 2.6.6 and I'm getting errors when connecting over https with <code>urllib.request.build_opener(...).open(request)</code></p>\n\n<pre><code>urlopen error [Errno 1] _ssl.c:504: error:14077438:SSL routines:SSL23_GET_SERVER_HELLO:tlsv1 alert internal error\n</code></pre>\n\n<p>I've found that there is problem with TLS SNI, which was added in version 2.7.9. I tried pyOpenSSL (just copied it to my *.py script directory) but no success.</p>\n\n<p>Unfortunately I don't have root access and it's impossible to upgrade python or install any packages. Can I 'install' python 2.7.9 in my home directory and run scripts with that version?</p>\n"}, {"tags": ["python", "int"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 5, "creation_date": 1434582551, "post_id": 30903967, "comment_id": 49846589, "body": "What if <code>sequence</code> contains objects other than <code>int</code>? The error message means that <code>int</code> was passed a value that it doesn&#39;t know how to convert."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1434582612, "post_id": 30903967, "comment_id": 49846601, "body": "The first method is fine, are you supplying the right arguments?"}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1434582639, "post_id": 30903967, "comment_id": 49846608, "body": "<code>count([1,3,1,4,1,5],1)</code> works correctly with your original code. What input did it fail on?"}, {"owner": {"reputation": 1644, "user_id": 2064185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWd0E.png?s=128&g=1", "display_name": "spky", "link": "https://stackoverflow.com/users/2064185/spky"}, "edited": false, "score": 0, "creation_date": 1434633899, "post_id": 30903967, "comment_id": 49870449, "body": "Please do not duplicate functionality from the standard library. I would recommend you use this: <code>[1,3,1,4,1,5].count(1)</code> -&gt; <code>3</code>..."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 5231091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/232bfffa839a6a60914e8dc48ee0de4a?s=128&d=identicon&r=PG&f=1", "display_name": "Subhajit Podder", "link": "https://stackoverflow.com/users/5231091/subhajit-podder"}, "edited": false, "score": 0, "creation_date": 1578728946, "post_id": 30904018, "comment_id": 105540895, "body": "@recurvise Your explanation here helped me to understand and resolve a different type problem. Many Many thanks for this."}], "tags": [], "owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "is_accepted": false, "score": 16, "last_activity_date": 1434582815, "creation_date": 1434582815, "answer_id": 30904018, "question_id": 30903967, "link": "https://stackoverflow.com/questions/30903967/invalid-literal-for-int-with-base-10-what-does-this-actually-mean/30904018#30904018", "title": "&quot;invalid literal for int() with base 10:&quot; What does this actually mean?", "body": "<p>The error is \"invalid literal for int() with base 10:\".  This just means that the argument that you passed to <code>int</code> doesn't look like a number.  In other words it's either empty, or has a character in it other than a digit.</p>\n\n<p>This can be reproduced in a python shell.</p>\n\n<pre><code>&gt;&gt;&gt; int(\"x\")\nValueError: invalid literal for int() with base 10: 'x'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 4257949, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7d519442549929e8fd90fa3e9d5f7967?s=128&d=identicon&r=PG&f=1", "display_name": "udarH3", "link": "https://stackoverflow.com/users/4257949/udarh3"}, "is_accepted": false, "score": 0, "last_activity_date": 1445454389, "creation_date": 1445454389, "answer_id": 33267286, "question_id": 30903967, "link": "https://stackoverflow.com/questions/30903967/invalid-literal-for-int-with-base-10-what-does-this-actually-mean/33267286#33267286", "title": "&quot;invalid literal for int() with base 10:&quot; What does this actually mean?", "body": "<p>You could try something like this if letters for example, occur in your sequence:</p>\n\n<pre><code>from __future__ import print_function\n\ndef count_(sequence, item):\n    s = 0\n    for i in sequence:\n        try:\n            if int(i) == int(item):\n                s = s + 1\n        except ValueError:\n            print ('Found: ',i, ', i can\\'t count that, only numbers', sep='')\n    return s\n\nprint (count_([1,2,3,'S',4, 4, 1, 1, 'A'], 1))\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5021822, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153977411177468/picture?type=large", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5021822/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64147, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1505467967, "creation_date": 1434582443, "last_edit_date": 1505467967, "question_id": 30903967, "link": "https://stackoverflow.com/questions/30903967/invalid-literal-for-int-with-base-10-what-does-this-actually-mean", "title": "&quot;invalid literal for int() with base 10:&quot; What does this actually mean?", "body": "<p>Beginner here! I am writing a simple code to count how many times an item shows up in a list (ex. <code>count([1, 3, 1, 4, 1, 5], 1)</code> would return 3). </p>\n\n<p>This is what I originally had:</p>\n\n<pre><code>def count(sequence, item):\n    s = 0\n    for i in sequence:\n       if int(i) == int(item):\n           s += 1\n    return s\n</code></pre>\n\n<p>Every time I submitted this code, I got </p>\n\n<blockquote>\n  <p>\"invalid literal for int() with base 10:\"</p>\n</blockquote>\n\n<p>I've since figured out that the correct code is:</p>\n\n<pre><code>def count(sequence, item):\n    s = 0\n    for i in sequence:\n       if **i == item**:\n           s += 1\n    return s\n</code></pre>\n\n<p>However, I'm just curious as to what that error statement means. Why can't I just leave in <code>int()</code>?</p>\n"}, {"tags": ["python", "django", "http", "django-views", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 886, "user_id": 2593017, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4b24f3f699355bf60ce8b14e97a84013?s=128&d=identicon&r=PG", "display_name": "masanorinyo", "link": "https://stackoverflow.com/users/2593017/masanorinyo"}, "edited": false, "score": 1, "creation_date": 1434587223, "post_id": 30904124, "comment_id": 49847691, "body": "Is there any way to define multiple media_type like media_type=[&#39;application/vdn.name.v1+json&#39;,&#39;application/vdn.&zwnj;&#8203;name.v2+json&#39; ]?"}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 4, "last_activity_date": 1434583483, "creation_date": 1434583483, "answer_id": 30904124, "question_id": 30903951, "link": "https://stackoverflow.com/questions/30903951/django-doesnt-parse-a-custom-http-accept-header/30904124#30904124", "title": "Django doesn&#39;t parse a custom http accept header", "body": "<p>Try defining a <a href=\"http://www.django-rest-framework.org/api-guide/renderers/#custom-renderers\" rel=\"nofollow\">custom renderer</a> and setting the <code>media_type</code> attribute.</p>\n\n<pre><code>from rest_framework.renderers import JSONRenderer\n\nclass MyRenderer(JSONRenderer):\n    media_type = 'application/vdn.name.v1+json'\n</code></pre>\n\n<p>Then enable your renderer (see <a href=\"http://www.django-rest-framework.org/api-guide/renderers/#setting-the-renderers\" rel=\"nofollow\">the docs</a> for more info)</p>\n\n<pre><code>REST_FRAMEWORK = {\n    'DEFAULT_RENDERER_CLASSES': (\n        'path.to.MyRenderer',\n        'rest_framework.renderers.JSONRenderer',\n        'rest_framework.renderers.BrowsableAPIRenderer',\n    )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3803, "user_id": 1396904, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc4a12d2cf001c73b9b2a67bdaeff65f?s=128&d=identicon&r=PG", "display_name": "andorov", "link": "https://stackoverflow.com/users/1396904/andorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1443566414, "creation_date": 1443566414, "answer_id": 32854918, "question_id": 30903951, "link": "https://stackoverflow.com/questions/30903951/django-doesnt-parse-a-custom-http-accept-header/32854918#32854918", "title": "Django doesn&#39;t parse a custom http accept header", "body": "<p>Check out the Django Rest Framework JSON API.  It formats responses in the JSON API format.</p>\n\n<p><a href=\"https://github.com/django-json-api/django-rest-framework-json-api\" rel=\"nofollow\">https://github.com/django-json-api/django-rest-framework-json-api</a></p>\n"}], "owner": {"reputation": 886, "user_id": 2593017, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4b24f3f699355bf60ce8b14e97a84013?s=128&d=identicon&r=PG", "display_name": "masanorinyo", "link": "https://stackoverflow.com/users/2593017/masanorinyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3846, "favorite_count": 2, "accepted_answer_id": 30904124, "answer_count": 2, "score": 6, "last_activity_date": 1443566414, "creation_date": 1434582366, "question_id": 30903951, "link": "https://stackoverflow.com/questions/30903951/django-doesnt-parse-a-custom-http-accept-header", "title": "Django doesn&#39;t parse a custom http accept header", "body": "<p>Is there any way to allow Django app to accept the custom accept header like \"application/vdn.name.v1+json\"?</p>\n\n<p>I keep getting a response like this</p>\n\n<pre><code>Could not satisfy the request Accept header.\n</code></pre>\n\n<p>I am using Django Rest Framework as well</p>\n"}, {"tags": ["python", "openpyxl"], "answers": [{"tags": [], "owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "is_accepted": true, "score": 4, "last_activity_date": 1434607772, "creation_date": 1434607772, "answer_id": 30907693, "question_id": 30903876, "link": "https://stackoverflow.com/questions/30903876/openpyxl-find-cell-or-row-by-value/30907693#30907693", "title": "openpyxl find cell or row by value", "body": "<p>No, there is no other way of searching by content than going cell by cell.</p>\n"}], "owner": {"reputation": 397, "user_id": 1442916, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/74248bdf5b02584e72315e7be2e745b1?s=128&d=identicon&r=PG", "display_name": "Daniel Dow", "link": "https://stackoverflow.com/users/1442916/daniel-dow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6974, "favorite_count": 0, "accepted_answer_id": 30907693, "answer_count": 1, "score": 5, "last_activity_date": 1434607772, "creation_date": 1434581853, "question_id": 30903876, "link": "https://stackoverflow.com/questions/30903876/openpyxl-find-cell-or-row-by-value", "title": "openpyxl find cell or row by value", "body": "<p>Is there a method anyone knows of where I can find a cell or row in a document if I have a value other than iterating through the whole document to search for it?  Case is, I have to very large spread sheets that I need to compare and I am doing that by using a single UUID that exists in each record in each sheet.</p>\n\n<p>So, basically:</p>\n\n<pre><code>ws1 = rows1\nws2 = rows2  \nfor row1 in rows1:\n    uuid = row1[0].value\n    comp = row1[1].value\n        for row2 in rows2:\n            if row2[0] = uuid\n                if row2[0] = comp\n                    do-stuff()\n</code></pre>\n\n<p>This seems more nested than it needs to be.  Is there a way to find the value in rows2 easier than this?</p>\n"}, {"tags": ["python", "python-3.x", "flask"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1434583257, "post_id": 30903816, "comment_id": 49846781, "body": "It&#39;s better to have the web page drive the updates. The flask app might be better just serving images. You could have your slides show images named predictably and just request each one in turn e.g image1.jpg, image2.jpg etc. the more robust way would be to have your flask app serve some json with the list of images named explicitly. Then your web page just requests them one after another."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1434583995, "post_id": 30903816, "comment_id": 49846956, "body": "If you want the flask server to push image updates consider web sockets."}, {"owner": {"reputation": 955, "user_id": 2521957, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/06b79c37b59335a7886613e671c5cac4?s=128&d=identicon&r=PG", "display_name": "jars121", "link": "https://stackoverflow.com/users/2521957/jars121"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1434584146, "post_id": 30903816, "comment_id": 49846992, "body": "I&#39;m struggling to envision how that would work. Would accessing the web page cause code to be executed? I&#39;m trying to avoid a client-side implementation if at all possible. I&#39;d rather the server blindly serves content to a web page, as opposed to a web page requesting content from a server."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1434584258, "post_id": 30903816, "comment_id": 49847014, "body": "if you want to serve a slideshow that changes without a page reload you will need to use client side stuff ... if you just want the next visit to have a different image then use session variables ... if you want the next visitor to get a different image use a database or flat file or some other persistent data"}, {"owner": {"reputation": 955, "user_id": 2521957, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/06b79c37b59335a7886613e671c5cac4?s=128&d=identicon&r=PG", "display_name": "jars121", "link": "https://stackoverflow.com/users/2521957/jars121"}, "edited": false, "score": 0, "creation_date": 1434584430, "post_id": 30903816, "comment_id": 49847054, "body": "That was going to be my next question Joran, thanks for clearing that up. It looks like client-side is the logical choice. I&#39;ve got zero experience with client-side, which is why I was trying to avoid it for the time being. I can&#39;t image this is a particularly difficult implementation. Would json be a good choice?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1434595968, "post_id": 30903816, "comment_id": 49849644, "body": "Json would be a good choice when you are returning data to the client. It&#39;s handled naturally by javascript, so there&#39;s no need to parse it manually."}, {"owner": {"reputation": 955, "user_id": 2521957, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/06b79c37b59335a7886613e671c5cac4?s=128&d=identicon&r=PG", "display_name": "jars121", "link": "https://stackoverflow.com/users/2521957/jars121"}, "edited": false, "score": 0, "creation_date": 1434597445, "post_id": 30903816, "comment_id": 49849970, "body": "Thanks for that Paul. I&#39;ve been researching web sockets, as per your previous recommendation. I think a Javascript client-side, receiving socket data from a Python server-side will be a neat way of packaging this. I&#39;m facing a steep learning curve with this particular method, but I&#39;ve been meaning to learn JS for a long time now!"}], "owner": {"reputation": 955, "user_id": 2521957, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/06b79c37b59335a7886613e671c5cac4?s=128&d=identicon&r=PG", "display_name": "jars121", "link": "https://stackoverflow.com/users/2521957/jars121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 466, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1434581503, "creation_date": 1434581503, "question_id": 30903816, "link": "https://stackoverflow.com/questions/30903816/recursive-static-content-display-with-flask", "title": "Recursive static content display with Flask", "body": "<p>G'day,</p>\n\n<p>I've written a piece of software in Python 3.x with PySide which dynamically displays images (as a slideshow) from a network directory. The software works as intended for local machines (i.e. the slideshow is displayed on the machine which is running the software).</p>\n\n<p>I would like to run the software on a centralised server, which then serves each image of the slideshow temporarily on a local network web page. I've managed to serve static content in my code using the Flask library. Below is a snippet of my code:</p>\n\n<pre><code>def ServeImage(self, DisplayImage):\n    app = Flask(__name__)\n\n    @app.route(\"/\")\n    def main():\n        return '''&lt;img src='{}' /&gt;'''.format(url_for('static', filename=DisplayImage))\n\n    app.run(host='10.2.x.x', port=5000)\n</code></pre>\n\n<p>'DisplayImage' is the output image path from my current code. At present, the above will correctly display the image in the browser at the designated local address. However, I'm unsure how to return to the slideshow component of the software (where the DisplayImage is generated). It appears that once ServeImage() has been called, the code terminates. I believe it's due to the way this example Flask function was put together. What I'm hoping for is detailed in the pseudo-code below:</p>\n\n<pre><code>def ServeImage(self, DisplayImage):\n\n    app = Flask(__name__)\n\n    '''&lt;img src='{}' /&gt;'''.format(url_for('static', filename=DisplayImage))\n    app.run(host='10.2.x.x', port=5000)\n    #Timer\n    self.ImageNumber += 1\n    self.SlideShow()\n</code></pre>\n\n<p>I don't know whether this is possible. As mentioned above, it appears that when app.run() is called, that particular address is served forever, so any code coming after app.run() will never be run. What I'd like is: once the image has been served (i.e. once app.run() has been called), the ImageNumber() variable is changed, and the main SlideShow() function is called, which in turn generates the next DisplayImage to be served on the web page.</p>\n\n<p>Any clarification/suggestions here would be great!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "gtk", "pygtk"], "comments": [{"owner": {"reputation": 2024, "user_id": 3749818, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7b0e924a4d88adaa3f32e1348603e83?s=128&d=identicon&r=PG&f=1", "display_name": "elya5", "link": "https://stackoverflow.com/users/3749818/elya5"}, "edited": false, "score": 0, "creation_date": 1434610314, "post_id": 30903813, "comment_id": 49854562, "body": "You have to use the object itself for the method not <code>__init__</code> e.g <code>dialog.set_transient_for(parent)</code>"}, {"owner": {"reputation": 330, "user_id": 5021764, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dc1f8d5f08ef935d1f2a51db7cf02144?s=128&d=identicon&r=PG&f=1", "display_name": "the spectre", "link": "https://stackoverflow.com/users/5021764/the-spectre"}, "reply_to_user": {"reputation": 2024, "user_id": 3749818, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7b0e924a4d88adaa3f32e1348603e83?s=128&d=identicon&r=PG&f=1", "display_name": "elya5", "link": "https://stackoverflow.com/users/3749818/elya5"}, "edited": false, "score": 0, "creation_date": 1434647626, "post_id": 30903813, "comment_id": 49880258, "body": "Thanks. I got it to work. Just realized that top is the object, not __init__ and I feel incredibly stupid."}], "answers": [{"comments": [{"owner": {"reputation": 330, "user_id": 5021764, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dc1f8d5f08ef935d1f2a51db7cf02144?s=128&d=identicon&r=PG&f=1", "display_name": "the spectre", "link": "https://stackoverflow.com/users/5021764/the-spectre"}, "edited": false, "score": 0, "creation_date": 1434647201, "post_id": 30919860, "comment_id": 49880003, "body": "Sorry, didn&#39;t realize it was a duplicate. Thanks for the link."}, {"owner": {"reputation": 2261, "user_id": 1833602, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c3fbb2fac1915098cacb685ba8ca2013?s=128&d=identicon&r=PG", "display_name": "tobias47n9e", "link": "https://stackoverflow.com/users/1833602/tobias47n9e"}, "reply_to_user": {"reputation": 330, "user_id": 5021764, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dc1f8d5f08ef935d1f2a51db7cf02144?s=128&d=identicon&r=PG&f=1", "display_name": "the spectre", "link": "https://stackoverflow.com/users/5021764/the-spectre"}, "edited": false, "score": 0, "creation_date": 1434660251, "post_id": 30919860, "comment_id": 49887714, "body": "No problem. Duplicates are not a bad thing. People choose different wordings for similar problems."}], "tags": [], "owner": {"reputation": 2261, "user_id": 1833602, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c3fbb2fac1915098cacb685ba8ca2013?s=128&d=identicon&r=PG", "display_name": "tobias47n9e", "link": "https://stackoverflow.com/users/1833602/tobias47n9e"}, "is_accepted": true, "score": 1, "last_activity_date": 1434641887, "last_edit_date": 1495542587, "creation_date": 1434641887, "answer_id": 30919860, "question_id": 30903813, "link": "https://stackoverflow.com/questions/30903813/cant-set-parent-using-gtk-in-python-typeerror-argument-parent-expected-gtk-wi/30919860#30919860", "title": "Can&#39;t set parent using GTK in Python.TypeError: argument parent: Expected Gtk.Window, but got __main__.function", "body": "<p>This is a duplicate question of: <a href=\"https://stackoverflow.com/q/29883211/1833602\">GtkDialog mapped without a transient parent</a></p>\n\n<p>You need to pass the variable holding the main window object.</p>\n"}], "owner": {"reputation": 330, "user_id": 5021764, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dc1f8d5f08ef935d1f2a51db7cf02144?s=128&d=identicon&r=PG&f=1", "display_name": "the spectre", "link": "https://stackoverflow.com/users/5021764/the-spectre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 30919860, "answer_count": 1, "score": 1, "last_activity_date": 1434641887, "creation_date": 1434581492, "last_edit_date": 1434582668, "question_id": 30903813, "link": "https://stackoverflow.com/questions/30903813/cant-set-parent-using-gtk-in-python-typeerror-argument-parent-expected-gtk-wi", "title": "Can&#39;t set parent using GTK in Python.TypeError: argument parent: Expected Gtk.Window, but got __main__.function", "body": "<p>I'm trying to make a GTK program that brings up other child windows, but I can't seem to get set_transient_for to work. </p>\n\n<p>The window I'm having trouble with is called \"about\" for now. I am trying to set the window under __init__ as its parent, but when I try to use the \"About\" menu, I get:</p>\n\n<pre><code>TypeError: argument parent: Expected Gtk.Window, but got __main__.function\n</code></pre>\n\n<p>Here's how I made the window.</p>\n\n<pre><code>class App(Gtk.Window):\ndef __init__(self):\n    ## Create window. ##\n    Gtk.Window.__init__(self, title=\"Simple Updater\")\n    self.set_border_width(5)\n    self.set_resizable(False)\n</code></pre>\n\n<p>I used uimanager to create some menus and packed them in a grid. Here's how I call my about window.</p>\n\n<pre><code>## Menu functions ##\n\ndef add_about_actions(self, action_group):\n    action_group.add_actions([\n    (\"About\", None, \"About\"), \n    (\"About...\", None, \"About...\", None, None, Windows.About)\n    ])\n</code></pre>\n\n<p>I created another class for my child windows. Here's where I try to set the parent as window __init__.</p>\n\n<pre><code>class Windows(Gtk.Window):\n    def About(self):\n        about = Gtk.Window(title=\"About\")\n        about.set_border_width(10)\n        about.set_resizable(False)\n        about.set_transient_for(__init__)\n</code></pre>\n\n<p>I also tried:</p>\n\n<pre><code>about.set_transient_for(App.__init__)\n</code></pre>\n\n<p>And here's how I set up my GTK loop.</p>\n\n<pre><code>top = App()\ntop.connect(\"delete-event\", Gtk.main_quit)\ntop.show_all()\nGtk.main()\n</code></pre>\n\n<p>I've tried to figure out what's going on for several hours now with no luck. Any help would be appreciated.</p>\n"}, {"tags": ["python", "xml-parsing"], "comments": [{"owner": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "edited": false, "score": 2, "creation_date": 1434586630, "post_id": 30903665, "comment_id": 49847556, "body": "Have you actually looked at that link? The bottom values are the values in the XML."}, {"owner": {"reputation": 1, "user_id": 5021752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8274ae06e9e7cd15835e46071188ba7e?s=128&d=identicon&r=PG&f=1", "display_name": "lolexus", "link": "https://stackoverflow.com/users/5021752/lolexus"}, "reply_to_user": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "edited": false, "score": 0, "creation_date": 1434611728, "post_id": 30903665, "comment_id": 49855379, "body": "I still have different values, like in my first post. Correct data are in xml (<a href=\"http://www.hurt.moe.pl/api/xml/pl/products/98?key=42274\" rel=\"nofollow noreferrer\">hurt.moe.pl/api/xml/pl/products/98?key=42274</a>) .  Nick Bailey - do you have the same data in xml and fetched data? Maybe problem is with User Agent - I used few different but that doesn&#39;t solved problem."}, {"owner": {"reputation": 1, "user_id": 5021752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8274ae06e9e7cd15835e46071188ba7e?s=128&d=identicon&r=PG&f=1", "display_name": "lolexus", "link": "https://stackoverflow.com/users/5021752/lolexus"}, "reply_to_user": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "edited": false, "score": 0, "creation_date": 1434621298, "post_id": 30903665, "comment_id": 49861585, "body": "I found a problem - default User Agent language is English, and prices are presents in USD. I need to change User Agent language to Polish (added pl-PL):  <code>req = urllib2.Request(url, headers={&#39;User-Agent&#39; : &quot;Mozilla&#47;5.0 (Windows NT 6.1; WOW64; pl-PL; rv:38.0) Gecko&#47;20100101 Firefox&#47;38.0&quot;})</code> But I still have prices in USD."}, {"owner": {"reputation": 1, "user_id": 5021752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8274ae06e9e7cd15835e46071188ba7e?s=128&d=identicon&r=PG&f=1", "display_name": "lolexus", "link": "https://stackoverflow.com/users/5021752/lolexus"}, "reply_to_user": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "edited": false, "score": 0, "creation_date": 1434668482, "post_id": 30903665, "comment_id": 49890941, "body": "Problem solved - adding to header parametr <code>Accept-Language </code> return valid data. Finally I fetch data with this code: <code>req = urllib2.Request(&#39;http:&#47;&#47;www.hurt.moe.pl&#47;api&#47;xml&#47;pl&#47;products&#47;&zwnj;&#8203;98?key=42274&#39;, headers={&#39;User-Agent&#39; :&quot;Mozilla&#47;5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko&#47;20100101 Firefox&#47;38.0&quot;, &#39;Accept-Language&#39;:&quot; pl, en-US;q=0.7, en;q=0.8&quot;}) </code>  Thank&#39;s for help! :)"}], "owner": {"reputation": 1, "user_id": 5021752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8274ae06e9e7cd15835e46071188ba7e?s=128&d=identicon&r=PG&f=1", "display_name": "lolexus", "link": "https://stackoverflow.com/users/5021752/lolexus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1434586522, "creation_date": 1434580711, "last_edit_date": 1434586522, "question_id": 30903665, "link": "https://stackoverflow.com/questions/30903665/fetch-data-from-xml-differents-betwen-xml-file-and-fetched-data", "title": "Fetch data from XML - differents betwen xml file and fetched data", "body": "<p>I've got a very strange situation. I tried to fetch data from an <a href=\"http://www.hurt.moe.pl/api/xml/pl/products/98?key=42274\" rel=\"nofollow\">xml file</a>.</p>\n\n<p>Here are a few tags example tags with prices:</p>\n\n<pre><code>&lt;stock&gt;9994&lt;/stock&gt;\n&lt;pricenetto&gt;80.49&lt;/pricenetto&gt;\n&lt;pricebrutto&gt;99.00&lt;/pricebrutto&gt;\n</code></pre>\n\n<p>And I tried to fetch data with this code: </p>\n\n<pre><code>req = urllib2.Request('http://www.hurt.moe.pl/api/xml/pl/products/98?key=42274', headers={'User-Agent' :\"Mozilla/5.0 (X11; U; Linux i686) Gecko/20071127 Firefox/2.0.0.11\"})                    \n        response = urllib2.urlopen(req)\n        file.write(response.read())\n</code></pre>\n\n<p>My code returns this:</p>\n\n<pre><code>&lt;stock&gt;9994&lt;/stock&gt;\n&lt;pricenetto&gt;20.12&lt;/pricenetto&gt;\n&lt;pricebrutto&gt;24.75&lt;/pricebrutto&gt;\n</code></pre>\n\n<p>Why are the prices different? All of my other data seems correct. </p>\n"}, {"tags": ["python", "ssl", "ssl-certificate", "urllib2"], "comments": [{"owner": {"reputation": 997, "user_id": 80772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4aa48ff7c34520ffcc7fddea2bc3b91?s=128&d=identicon&r=PG", "display_name": "eel ghEEz", "link": "https://stackoverflow.com/users/80772/eel-gheez"}, "edited": false, "score": 0, "creation_date": 1521221900, "post_id": 30903544, "comment_id": 85654801, "body": "Seems a duplicate of <a href=\"https://stackoverflow.com/questions/5319430/how-do-i-have-python-httplib-accept-untrusted-certs\" title=\"how do i have python httplib accept untrusted certs\">stackoverflow.com/questions/5319430/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 1935336, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d9031a7e29f355dca37d84605c4168f6?s=128&d=identicon&r=PG", "display_name": "Bigmyx", "link": "https://stackoverflow.com/users/1935336/bigmyx"}, "edited": false, "score": 0, "creation_date": 1434582809, "post_id": 30903759, "comment_id": 49846664, "body": "I could use <code>urllib2.urlopen</code>, but I don&#39;t know how to add cookies to the request other than via opener object."}], "tags": [], "owner": {"reputation": 1878, "user_id": 5021778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2abb60781f429ba36bbb2e9946c9d7e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Tsui", "link": "https://stackoverflow.com/users/5021778/eric-tsui"}, "is_accepted": false, "score": 4, "last_activity_date": 1570233325, "last_edit_date": 1570233325, "creation_date": 1434581170, "answer_id": 30903759, "question_id": 30903544, "link": "https://stackoverflow.com/questions/30903544/add-ssl-ca-file-using-urllib2/30903759#30903759", "title": "Add SSL CA File Using urllib2", "body": "<p><a href=\"https://docs.python.org/2/library/urllib2.html#urllib2.urlopen\" rel=\"nofollow noreferrer\"><code>urlopen</code> documentation</a>:</p>\n\n<blockquote>\n  <p>urllib2.urlopen(url[, data[, timeout[, cafile[, capath[, cadefault[, context]]]]])</p>\n</blockquote>\n\n<p>so, please try:</p>\n\n<pre><code>urllib2.urlopen(\"https://example.com/some/info\", cafile=\"test_cert.pem\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>cxt = ssl.create_default_context(cafile=\"/path/test_cert.pem\")\nurllib2.urlopen(\"https://example.com/some/info\", context=cxt)\n</code></pre>\n\n\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 2839982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95df3735deda8888f4c195e4ffb1b2f?s=128&d=identicon&r=PG&f=1", "display_name": "Tomuo", "link": "https://stackoverflow.com/users/2839982/tomuo"}, "is_accepted": false, "score": 2, "last_activity_date": 1466450535, "creation_date": 1466450535, "answer_id": 37930245, "question_id": 30903544, "link": "https://stackoverflow.com/questions/30903544/add-ssl-ca-file-using-urllib2/37930245#37930245", "title": "Add SSL CA File Using urllib2", "body": "<p>The ability to specify a CA file was added in python 2.7.9, according to the documentation, and is only available in the urlopen call, as as noted in the previous answer.</p>\n\n<p>So you do need to change opener.open() to urllib2.urlopen.\nIn order to have it still use the opener, call\nurllib2.install_opener(opener)\nbefore the urlopen call</p>\n\n<p>This is the only way I found to have all of (cookies &amp; login authentication &amp; CA cert specified)</p>\n"}], "owner": {"reputation": 111, "user_id": 1935336, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d9031a7e29f355dca37d84605c4168f6?s=128&d=identicon&r=PG", "display_name": "Bigmyx", "link": "https://stackoverflow.com/users/1935336/bigmyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8143, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1570233325, "creation_date": 1434580143, "last_edit_date": 1501115967, "question_id": 30903544, "link": "https://stackoverflow.com/questions/30903544/add-ssl-ca-file-using-urllib2", "title": "Add SSL CA File Using urllib2", "body": "<p>I need to be able to specify SSL certificate CA root, yet be able to insert HTTP cookie with Python 2.7.10 <code>urllib2</code> library</p>\n\n<pre><code>ssl_handler = urllib2.HTTPSHandler()\nopener = urllib2.build_opener(ssl_handler)\nopener.addheaders.append((\"Cookie\",\"foo=blah\"))\nres = opener.open(https://example.com/some/info)\n</code></pre>\n\n<p>I know urllib2 supports <code>cafile</code> param, where should I use it in my code ?</p>\n"}, {"tags": ["python", "math", "numpy", "pandas", "covariance"], "comments": [{"owner": {"reputation": 4420, "user_id": 1968405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63a734a216422efeab3b81d058f1b7b5?s=128&d=identicon&r=PG", "display_name": "cwharland", "link": "https://stackoverflow.com/users/1968405/cwharland"}, "edited": false, "score": 0, "creation_date": 1434580933, "post_id": 30903522, "comment_id": 49846135, "body": "are you trying to calculate a weighted mean?  It looks like you are weighting the numbers and THEN calculating the mean which won&#39;t give you the weighted mean."}, {"owner": {"reputation": 81, "user_id": 3374571, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72f4c8b07f546f43cf8fc98d12ddceb1?s=128&d=identicon&r=PG&f=1", "display_name": "Lonewolf", "link": "https://stackoverflow.com/users/3374571/lonewolf"}, "reply_to_user": {"reputation": 4420, "user_id": 1968405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63a734a216422efeab3b81d058f1b7b5?s=128&d=identicon&r=PG", "display_name": "cwharland", "link": "https://stackoverflow.com/users/1968405/cwharland"}, "edited": false, "score": 0, "creation_date": 1434629925, "post_id": 30903522, "comment_id": 49867365, "body": "I&#39;m experimenting with is alternative methods of EWMA&#39;s that work on a strict window method, I&#39;m more interested in the weighted Std and Cov. just wondered if there was any other approaches as this clearly isn&#39;t robust."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 3374571, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72f4c8b07f546f43cf8fc98d12ddceb1?s=128&d=identicon&r=PG&f=1", "display_name": "Lonewolf", "link": "https://stackoverflow.com/users/3374571/lonewolf"}, "edited": false, "score": 0, "creation_date": 1434629501, "post_id": 30904156, "comment_id": 49867083, "body": "Hi, sloppy from me, I wanted to use Pct change  rather that absolute to address stationarity, just noticed my error readiing your response and have edited.  Stats look more in line this time.  I&#39;m experimenting with is alternative methods of EWMA&#39;s that work on a strict window method, but the results still look further way than i expected, but much better than my sloppy fist go."}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "reply_to_user": {"reputation": 81, "user_id": 3374571, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72f4c8b07f546f43cf8fc98d12ddceb1?s=128&d=identicon&r=PG&f=1", "display_name": "Lonewolf", "link": "https://stackoverflow.com/users/3374571/lonewolf"}, "edited": false, "score": 0, "creation_date": 1434629945, "post_id": 30904156, "comment_id": 49867379, "body": "That sounds reasonable. Using pct instead of absolute return would remove the non-stationary if you use EWMA properly ON A ROLLING WINDOW."}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1434583744, "creation_date": 1434583744, "answer_id": 30904156, "question_id": 30903522, "link": "https://stackoverflow.com/questions/30903522/weighted-data-problems-mean-is-fine-but-covar-and-std-look-wrong-how-do-i-adj/30904156#30904156", "title": "Weighted data problems, mean is fine, but Covar and std look wrong, how do I adjust?", "body": "<p>The problem is your weighting function. (Do you want Gaussian random numbers or uniform r.v.?) See this plot</p>\n\n<pre><code>f_n = 100.\nnp.random.seed(seed=101); \n# ??? you want uniform random variable? or is this just a typo and you want normal random variable?\nfoo = np.random.rand(f_n,3)\nfoo = DataFrame(foo)\nf_filter = np.arange(f_n,.0,-1)\n\n# here is the problem, uneven weight makes a artificial trend, causing non-stationary. covariance only works for stationary data.\n# =============================================\nf_filter = 1.0 / (f_filter**(f_filter/f_n))\n\nfig, ax = plt.subplots()\nax.plot(f_filter)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/mSnP7.png\" alt=\"enter image description here\"></p>\n\n<p>Uneven weight makes a artificial trend (your random numbers are all positive uniforms), causing non-stationary. covariance only works for stationary data. Take a look at the resulting weighted data.</p>\n\n<p><img src=\"https://i.stack.imgur.com/q9E6V.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 81, "user_id": 3374571, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72f4c8b07f546f43cf8fc98d12ddceb1?s=128&d=identicon&r=PG&f=1", "display_name": "Lonewolf", "link": "https://stackoverflow.com/users/3374571/lonewolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 1, "accepted_answer_id": 30904156, "answer_count": 1, "score": 0, "last_activity_date": 1434629044, "creation_date": 1434580047, "last_edit_date": 1434629044, "question_id": 30903522, "link": "https://stackoverflow.com/questions/30903522/weighted-data-problems-mean-is-fine-but-covar-and-std-look-wrong-how-do-i-adj", "title": "Weighted data problems, mean is fine, but Covar and std look wrong, how do I adjust?", "body": "<p>I'm trying to apply a weighted filter on data rather the use raw data before calculating stats, mu, std and covar. But the results clearly need adjusting. </p>\n\n<pre><code># generate some data and a filter\nf_n = 100.\nnp.random.seed(seed=101); \nfoo = np.random.rand(f_n,3)\nfoo = DataFrame(foo).add(1).pct_change()\nf_filter = np.arange(f_n,.0,-1)\nf_filter = 1.0 / (f_filter**(f_filter/f_n))\n# nominalise the filter ... This could be where I'm going wrong?\nf_filter = f_filter * (f_n / f_filter.sum())\n</code></pre>\n\n<p>Now we are ready to look at some results</p>\n\n<pre><code>print foo.mul(f_filter,axis=0).mean()\nprint foo.mean()\n\n0    0.039147\n1    0.039013\n2    0.037598\ndtype: float64\n0    0.035006\n1    0.042244\n2    0.041956\ndtype: float64\n</code></pre>\n\n<p>Means all look in line, but when we look at covar and std they are significantly different in terms of scale and also direction</p>\n\n<pre><code>print foo.mul(f_filter,axis=0).cov()\nprint foo.cov()\n\n          0         1         2\n0  0.124766 -0.038954  0.027256\n1 -0.038954  0.204269  0.056185\n2  0.027256  0.056185  0.203934\n\n      0         1         2\n0  0.070063 -0.014926  0.010434\n1 -0.014926  0.099249  0.015573\n2  0.010434  0.015573  0.087060\n\nprint foo.mul(f_filter,axis=0).std()\nprint foo.std()\n\n0    0.353223\n1    0.451961\n2    0.451590\ndtype: float64\n0    0.264694\n1    0.315037\n2    0.295060\ndtype: float64\n</code></pre>\n\n<p>Any ideas why, how can we adjust the filter or to adjust the covar matrix to make it more comparable?</p>\n"}, {"tags": ["python", "module", "tweepy"], "answers": [{"tags": [], "owner": {"reputation": 2813, "user_id": 821093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad71a7b4a9f344b95c9fd3e2e4e41751?s=128&d=identicon&r=PG", "display_name": "Delimitry", "link": "https://stackoverflow.com/users/821093/delimitry"}, "is_accepted": false, "score": 1, "last_activity_date": 1434581338, "last_edit_date": 1495535638, "creation_date": 1434580892, "answer_id": 30903704, "question_id": 30903489, "link": "https://stackoverflow.com/questions/30903489/python-tweepy-module-pip-req/30903704#30903704", "title": "Python - Tweepy Module - pip.req", "body": "<p>You should look inside the file <code>setup.py</code> in your folder with downloaded <code>tweepy</code>.<br>\nThere you could find the line:</p>\n\n<pre><code>from pip.req import parse_requirements\n</code></pre>\n\n<p><code>setup.py</code> tries to import <code>parse_requirements</code> function from module <code>req</code> from package <code>pip</code>.\nBut inside <code>tweepy</code> folder there are no <code>pip</code> package with <code>req.py</code> python module. Read about Python packages and modules <a href=\"https://docs.python.org/2/tutorial/modules.html#packages\" rel=\"nofollow noreferrer\">here</a>.<br>\nSo you need to do the steps from the answer <a href=\"https://stackoverflow.com/a/25193001/821093\">https://stackoverflow.com/a/25193001/821093</a> to fix it.</p>\n"}, {"tags": [], "owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "is_accepted": false, "score": 0, "last_activity_date": 1434584333, "creation_date": 1434584333, "answer_id": 30904236, "question_id": 30903489, "link": "https://stackoverflow.com/questions/30903489/python-tweepy-module-pip-req/30904236#30904236", "title": "Python - Tweepy Module - pip.req", "body": "<p>You can do a simply one line command as suggested by <a href=\"https://github.com/tweepy/tweepy#installation\" rel=\"nofollow\">Tweepy installation</a></p>\n\n<p>Or you can <a href=\"https://github.com/tweepy/tweepy\" rel=\"nofollow\">download</a> the file yourself and put on your desktop (or wherever you like). From the windows command type:</p>\n\n<ol>\n<li>cd deskstop\\tweepy-master # tweepy-mast is defaul name from the zip download</li>\n<li>python steup.py install</li>\n</ol>\n\n<p>You can access the command prompt window using the \"Window key\" + \"R\" then type \"cmd\".</p>\n"}], "owner": {"reputation": 11, "user_id": 5021738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45c155900c7ccd2483e1543f808c2d83?s=128&d=identicon&r=PG&f=1", "display_name": "Hadi Fahimnia", "link": "https://stackoverflow.com/users/5021738/hadi-fahimnia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2020, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1434584333, "creation_date": 1434579888, "last_edit_date": 1495542898, "question_id": 30903489, "link": "https://stackoverflow.com/questions/30903489/python-tweepy-module-pip-req", "title": "Python - Tweepy Module - pip.req", "body": "<p>When I am trying to install tweepy module for python on windows 7, I type in easy_install tweepy\nand it gives me the error of:\nImportError: No module named pip.req</p>\n\n<p>I already read the link below but I am a newbie and didnt understand it:\n<a href=\"https://stackoverflow.com/questions/25192794/no-module-named-pip-req\">No module named pip.req</a>\nPLEASE HELP!!</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 2, "creation_date": 1434579557, "post_id": 30903352, "comment_id": 49845622, "body": "have you read <a href=\"http://stackoverflow.com/questions/26289473/pycharm-error-while-importing-matplotlib-pyplot-as-plt\">this</a>? Does it help? I know you are not on Windows, but read the comments as well"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1434579699, "post_id": 30903352, "comment_id": 49845673, "body": "or <a href=\"http://stackoverflow.com/questions/13292396/error-importing-matplotlib-pyplot\">this</a>"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 1, "creation_date": 1434579719, "post_id": 30903352, "comment_id": 49845686, "body": "or <a href=\"http://stackoverflow.com/questions/5655314/problem-importing-pylab-in-python-2-6\">this</a> - it&#39;s the same error message (different py vers., though)."}, {"owner": {"reputation": 2418, "user_id": 4205652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JU-6fQpM_Xs/AAAAAAAAAAI/AAAAAAAAAFA/BmnAnM8FkMM/photo.jpg?sz=128", "display_name": "Richard Erickson", "link": "https://stackoverflow.com/users/4205652/richard-erickson"}, "edited": false, "score": 0, "creation_date": 1434584487, "post_id": 30903352, "comment_id": 49847065, "body": "Would you please edit your error and copy the message over rather than using a screen shot."}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1435390280, "post_id": 30903352, "comment_id": 50189843, "body": "Could you please accept my answer if my approach helps you solve the problem? Many thanks"}], "answers": [{"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": false, "score": 1, "last_activity_date": 1434579885, "creation_date": 1434579885, "answer_id": 30903487, "question_id": 30903352, "link": "https://stackoverflow.com/questions/30903352/plotting-a-graph-using-matplotlib/30903487#30903487", "title": "Plotting a graph using matplotlib", "body": "<p>I also use Ubuntu 14.04. It seems that the dependency has been messed up. The most easiest way is to install Anaconda as it handles all these sorts of issues quite well and very easy to install.</p>\n\n<p>Here is the link for download Anaconda.</p>\n\n<p><a href=\"http://continuum.io/downloads\" rel=\"nofollow\">http://continuum.io/downloads</a></p>\n\n<p>You could choose either python 2.7 or 3.4. (I personally prefer 3.4) </p>\n\n<p>Just download that installer. I assume it's in /home/your_user_name/Downloads folder. Just open an terminal, type</p>\n\n<pre><code>$cd /home/your_user_name/Downloads\n$ls\n</code></pre>\n\n<p>make sure you see your downloaded installer in this folder. Then</p>\n\n<pre><code>bash Anaconda-2.2.0-Linux-x86_64.sh\n</code></pre>\n\n<p>this could be different if you are using 32-bit Ubuntu OS. </p>\n\n<p>After the installation, it asks you whether add the PATH to environment. Choose yes. Finally, open a terminal again</p>\n\n<pre><code>$conda update conda\n$conda update anaconda\n</code></pre>\n\n<p>Now you are ready to go.</p>\n"}], "owner": {"reputation": 111, "user_id": 5021711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ed9b36e708670e29c765194b74455c?s=128&d=identicon&r=PG&f=1", "display_name": "user40330", "link": "https://stackoverflow.com/users/5021711/user40330"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "closed_date": 1435701402, "answer_count": 1, "score": -1, "last_activity_date": 1434579885, "creation_date": 1434579250, "question_id": 30903352, "link": "https://stackoverflow.com/questions/30903352/plotting-a-graph-using-matplotlib", "closed_reason": "Duplicate", "title": "Plotting a graph using matplotlib", "body": "<p>I have been trying to plot simple graphs in python 2.7 using matplotlib. I am using ubuntu and I have installed all the dependencies and matplotlib. Still when I try to run the code for plotting graphs, it gives me an error in terminal saying</p>\n\n<p><img src=\"https://i.stack.imgur.com/Q6tmW.png\" alt=\"enter image description here\"></p>\n\n<p>I am new to python. What does this mean? and how do I resolve this?</p>\n"}, {"tags": ["python", "django", "templates", "django-forms", "django-formwizard"], "answers": [{"comments": [{"owner": {"reputation": 701, "user_id": 4490678, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9de18d5b1fa1efd3b72fd50acd72c27c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian M", "link": "https://stackoverflow.com/users/4490678/adrian-m"}, "edited": false, "score": 0, "creation_date": 1434580248, "post_id": 30903479, "comment_id": 49845884, "body": "I thought overriding the method like this would be fine because in the implementation of is_valid() in the django forms source code, the only thing in the method is &quot;return self.is_bound and not self.errors&quot;, so returning True all the time doesn&#39;t seem to erase any functionality. Am I missing something?"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 701, "user_id": 4490678, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9de18d5b1fa1efd3b72fd50acd72c27c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian M", "link": "https://stackoverflow.com/users/4490678/adrian-m"}, "edited": false, "score": 1, "creation_date": 1434580689, "post_id": 30903479, "comment_id": 49846040, "body": "You need to follow the code a bit further. The <code>self.errors</code> property calls <code>self.full_clean()</code>, which sets the <code>cleaned_data</code> attribute."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 1, "last_activity_date": 1434580167, "last_edit_date": 1434580167, "creation_date": 1434579848, "answer_id": 30903479, "question_id": 30903300, "link": "https://stackoverflow.com/questions/30903300/django-formwizard-cannot-get-data-from-step-1-to-step-2/30903479#30903479", "title": "Django formwizard - cannot get data from step 1 to step 2", "body": "<p>Overriding <code>is_valid</code> like that won't work - if you follow the code you will see that the the form's <code>cleaned_data</code> attribute is set by the normal <code>is_valid</code> method. </p>\n\n<p>The docs day that if the form is invalid, then <code>get_cleaned_data_for_step</code> will return <code>None</code>, you need to write your code so it can handle this. </p>\n"}, {"tags": [], "owner": {"reputation": 701, "user_id": 4490678, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9de18d5b1fa1efd3b72fd50acd72c27c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian M", "link": "https://stackoverflow.com/users/4490678/adrian-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1434633894, "creation_date": 1434633894, "answer_id": 30916642, "question_id": 30903300, "link": "https://stackoverflow.com/questions/30903300/django-formwizard-cannot-get-data-from-step-1-to-step-2/30916642#30916642", "title": "Django formwizard - cannot get data from step 1 to step 2", "body": "<p>In case this is helpful to anyone. My problem was that in my createMeal.html, my button was simply taking the wizard to the next step, bypassing any validation. The proper solution is to make a simple submit button to submit the form, at which point the wizard will then validate the form, and if it is valid, it will move on to the next step.</p>\n"}], "owner": {"reputation": 701, "user_id": 4490678, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9de18d5b1fa1efd3b72fd50acd72c27c?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian M", "link": "https://stackoverflow.com/users/4490678/adrian-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1434633894, "creation_date": 1434578977, "question_id": 30903300, "link": "https://stackoverflow.com/questions/30903300/django-formwizard-cannot-get-data-from-step-1-to-step-2", "title": "Django formwizard - cannot get data from step 1 to step 2", "body": "<p>I am using a Django form wizard to enter data into a form page, and then display it in a confirmation page. However, when I try to call self.get_cleaned_data_for_step(step_name), I get a \"'MyForm' object has no attribute 'cleaned_data'.\" I know this can happen if the form fails to validate, so I overrode the is_valid method in my form class to always return True, just as a test, but I still get this error. My relevant code is below:</p>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>...\nclass MealForm(forms.Form):\n\n    modifications = forms.CharField()\n\n    def __init__(self, *args, **kwargs):\n        menu_items = kwargs.pop('menu_items')\n        super(MealForm, self).__init__(*args, **kwargs)\n\n        for item in menu_items:\n            self.fields[str(item.name)] = forms.IntegerField(widget=forms.NumberInput(attrs={'value': 0}))\n\n    def is_valid(self):\n        return True\n</code></pre>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>...\nurl(r'^(?P&lt;url&gt;[-\\w]+)/meal/$',\n    login_required(views.MealFormWizard.as_view(views.MealFormWizard.FORMS)), name=\"meal\"),\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>...\nclass MealFormWizard(SessionWizardView):\n\n    FORMS = [('meal_form', MealForm),\n             ('meal_form_confirmation', MealFormConfirmation)]\n\n    TEMPLATES = {'meal_form': 'restaurant/createMeal.html',\n                 'meal_form_confirmation':     'restaurant/confirmation.html'}\n\n    def get_form_kwargs(self, step=None):\n        kwargs = {}\n\n        url = self.kwargs['url']\n        restaurant = Restaurant.objects.get(url=url)\n        menu_items = MenuItem.objects.filter(restaurant=restaurant)\n\n        if step == 'meal_form':\n            kwargs['menu_items'] = menu_items\n\n        return kwargs\n\n    def get_context_data(self, form, **kwargs):\n\n        context = super(MealFormWizard, self).get_context_data(form=form, **kwargs)\n\n        if self.steps.current == 'meal_form':\n            context.update({...objects/vars...})\n\n        if self.steps.current == 'meal_form_confirmation':\n            cd = self.get_cleaned_data_for_step('meal_form') **This is where my error occurs**\n</code></pre>\n\n<p><strong>createMeal.html</strong></p>\n\n<pre><code>...\n&lt;form action=\"\" method=\"post\"&gt;\n{% csrf_token %}\n{{ wizard.management_form }}\n\n{{ wizard.form }}\n\n&lt;button name=\"wizard_goto_step\" type=\"submit\" value=\"{{ wizard.steps.next }}\"&gt;Submit Meal&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Upon submitting the form in createMeal.html I should be able to access the cleaned data for the previous step in the get_context_data method of my MealFormWizard class in views.py via a call to self.get_cleaned_data_for_step('meal_form'). However, this is not the case, but I am not sure where I went wrong.</p>\n"}, {"tags": ["python", "memory", "numpy", "text"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1434580966, "post_id": 30903274, "comment_id": 49846145, "body": "What do you mean by &quot;binary-valued strings&quot;? What&#39;s the exact format of the existing file? You might be able to do something with a memory-mapped array, depending on the existing format."}, {"owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "edited": false, "score": 5, "creation_date": 1434583460, "post_id": 30903274, "comment_id": 49846826, "body": "This is a good topic but there&#39;s not enough information given to provide a useful answer.  Can you post the code that would work to read a smaller file?  If you can&#39;t do that, please provide more information about the format of the file, etc."}, {"owner": {"reputation": 41, "user_id": 5021688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a706b6f2e2b5c8e5738dec6b3c05f9?s=128&d=identicon&r=PG&f=1", "display_name": "AAA", "link": "https://stackoverflow.com/users/5021688/aaa"}, "edited": false, "score": 0, "creation_date": 1434642353, "post_id": 30903274, "comment_id": 49877121, "body": "The test file contains &quot;0&quot; and &quot;1&quot; characters separated by comma."}, {"owner": {"reputation": 41, "user_id": 5021688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a706b6f2e2b5c8e5738dec6b3c05f9?s=128&d=identicon&r=PG&f=1", "display_name": "AAA", "link": "https://stackoverflow.com/users/5021688/aaa"}, "edited": false, "score": 0, "creation_date": 1434642378, "post_id": 30903274, "comment_id": 49877133, "body": "Here is the sample code I used to do the conversion:"}, {"owner": {"reputation": 41, "user_id": 5021688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a706b6f2e2b5c8e5738dec6b3c05f9?s=128&d=identicon&r=PG&f=1", "display_name": "AAA", "link": "https://stackoverflow.com/users/5021688/aaa"}, "edited": false, "score": 0, "creation_date": 1434642399, "post_id": 30903274, "comment_id": 49877147, "body": "f = open ( &quot;data.txt&quot; , &#39;r&#39;) converted_data = [ map(int,line.split(&#39;,&#39;)) for line in f ]"}, {"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 1, "creation_date": 1434661043, "post_id": 30903274, "comment_id": 49888117, "body": "Are you interested in the memory consumption of the import process (which can be reduced by reading and converting data serially instead of reading all at once) or in the footprint of <code>converted_data</code> (which will be &gt; 1G unless you can make use of sparse structures)?"}, {"owner": {"reputation": 41, "user_id": 5021688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a706b6f2e2b5c8e5738dec6b3c05f9?s=128&d=identicon&r=PG&f=1", "display_name": "AAA", "link": "https://stackoverflow.com/users/5021688/aaa"}, "reply_to_user": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1434728342, "post_id": 30903274, "comment_id": 49919206, "body": "@das-g: thanks for your suggestions. I am more interested in converting the .txt file serially into a numpy file (assuming data matrix is not too sparse to get advantage of sparse representation)."}, {"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1434802988, "post_id": 30903274, "comment_id": 49940994, "body": "You might want to edit your question to include the <code>f = open ( &quot;data.txt&quot; , &#39;r&#39;)</code> line, so that readers (and potential answerers) will know what <code>f</code> is without having to read the comments. I&#39;ve <a href=\"http://stackoverflow.com/review/suggested-edits/8497482\">suggested an edit</a> to that end, but for some reason it got rejected."}], "answers": [{"tags": [], "owner": {"reputation": 2184, "user_id": 2416534, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/TTWTt.jpg?s=128&g=1", "display_name": "Lazik", "link": "https://stackoverflow.com/users/2416534/lazik"}, "is_accepted": true, "score": 2, "last_activity_date": 1434969549, "last_edit_date": 1434969549, "creation_date": 1434737981, "answer_id": 30944827, "question_id": 30903274, "link": "https://stackoverflow.com/questions/30903274/convert-a-text-of-binary-values-to-numpy-file/30944827#30944827", "title": "convert a text of binary values to numpy file", "body": "<p>You create many bin-files with pickle and you have some code that loads and unloads the different part of your data.</p>\n\n<p>Say you have a file that is 16GB, you can create 16 1GB pickle files.</p>\n\n<p>If you say you have enough RAM, after the pickle files are done, you should be able to load it all in memory.</p>\n"}, {"comments": [{"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1434802503, "post_id": 30953868, "comment_id": 49940878, "body": "As is hopefully evident from my phrasing, a lot of my conclusions are based on speculation. So if anyone knows better, please <i>do</i> correct me."}], "tags": [], "owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1434802431, "creation_date": 1434802431, "answer_id": 30953868, "question_id": 30903274, "link": "https://stackoverflow.com/questions/30903274/convert-a-text-of-binary-values-to-numpy-file/30953868#30953868", "title": "convert a text of binary values to numpy file", "body": "<p>As far as I can tell, your approach of reading the file is already quite memory efficient.</p>\n\n<p>I assume that getting a file object with <a href=\"https://docs.python.org/3.5/library/functions.html#open\" rel=\"nofollow\"><code>open</code></a> will <strong>not</strong> read the whole file from the file system into RAM, but instead access the file on the file system as-needed.</p>\n\n<p>You then iterate over the file object's, which <a href=\"https://docs.python.org/3.5/library/io.html#io.IOBase\" rel=\"nofollow\"><code>yield</code>s the file's lines</a> (strings in your case, as you've opened the file in text mode) i.e., the file object acts as a <a href=\"https://wiki.python.org/moin/Generators\" rel=\"nofollow\">generator</a>. Thus one can assume that no list of all lines is constructed here and that the lines are read one by one to be continuously consumed.</p>\n\n<p>You do this in a list contraction. Do list contractions collect all values yielded by their right hand side (the part after the <code>in</code> keyword) before passing it to their left hand side (the part before the <code>for</code> keyword) for processing? A little experiment can tell us:</p>\n\n<pre><code>print('defining generator function')\n\ndef firstn(n):\n        num = 0\n        while num &lt; n:\n                print('yielding ' + str(num))\n                yield num\n                num += 1\n\nprint('--')\n\n[print('consuming ' + str(i)) for i in firstn(5)]\n</code></pre>\n\n<p>The output of the above is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>defining generator function\n--\nyielding 0\nconsuming 0\nyielding 1\nconsuming 1\nyielding 2\nconsuming 2\nyielding 3\nconsuming 3\nyielding 4\nconsuming 4\n</code></pre>\n\n<p>So the answer is no, each yielded value is immediately consumed by the left hand side before any other values are yielded from the right hand side. Only one line from the file should have to be kept in memory at a time.</p>\n\n<p>So if the individual lines in your file aren't too long, <strong>your reading approach seems to be as memory efficient as it gets</strong>.</p>\n\n<p>Off course, your list contraction still has to collect the results of the left hand side's processing. After all, the resulting list is what you want to get out of all this. So if you run out of memory, it is likely that it's the resulting list becoming too large.</p>\n\n<p>I don't know if NumPy uses the fact that collections of booleans can be stored more efficiently than numbers. But <em>if</em> it does, you'd have to make it aware that your integers are, in fact, boolean-valued to benefit from that more memory-efficient data types:</p>\n\n<pre><code>import numpy as np\nf = open ( \"data.txt\" , 'r')\nconverted_data = [ np.fromstring(line, dtype=bool, sep=',') for line in f ]\n</code></pre>\n\n<p>If you don't need all of <code>converted_data</code> at once, but rather have to be able to iterate over it, consider making it a generator, too, instead of a list. You don't need to much around with the <code>yield</code> keyword to achieve that. Simply replace the square brackets of the list comprehension by round braces and you've got a generator expression:</p>\n\n<pre><code>converted_data_generator = ( np.fromstring(line, dtype=bool, sep=',') for line in f )\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5021688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a706b6f2e2b5c8e5738dec6b3c05f9?s=128&d=identicon&r=PG&f=1", "display_name": "AAA", "link": "https://stackoverflow.com/users/5021688/aaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 30944827, "answer_count": 2, "score": 3, "last_activity_date": 1486755164, "creation_date": 1434578876, "last_edit_date": 1434646752, "question_id": 30903274, "link": "https://stackoverflow.com/questions/30903274/convert-a-text-of-binary-values-to-numpy-file", "title": "convert a text of binary values to numpy file", "body": "<p>How can one convert a huge text file (>16G) containing binary-valued characters (<code>0</code> and <code>1</code>) to a numpy array file without blowing up the memory in python? Assuming we have enough storage on the machine but not enough RAM for the conversion.</p>\n\n<p>Sample data:  </p>\n\n<pre><code>0,0,0,0,0,1,0,0,0 \n1,0,0,1,0,0,0,0,0\n...\n</code></pre>\n\n<p>Sample code:</p>\n\n<pre><code>converted_data = [ map(int,line.split(',')) for line in f ]\n</code></pre>\n"}, {"tags": ["python", "scikit-learn", "visualization", "random-forest", "decision-tree"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1434579272, "post_id": 30903226, "comment_id": 49845506, "body": "Do not use foreigen IP! Respect copyright (or copyleft: state the licence)"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1434579315, "post_id": 30903226, "comment_id": 49845527, "body": "I don&#39;t think rpart does random forests.  It makes <i>single</i> decision trees.  There&#39;s no simple way to make such a diagram for a random forest, because a random forest includes many decision trees, some of which may even be using different subsets of the input variables."}, {"owner": {"reputation": 501, "user_id": 1876833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dd7e6e3b04994327176ae7693c57a21f?s=128&d=identicon&r=PG", "display_name": "Erin", "link": "https://stackoverflow.com/users/1876833/erin"}, "edited": false, "score": 0, "creation_date": 1434584247, "post_id": 30903226, "comment_id": 49847012, "body": "I thought the mode result was a tree itself, is that not true? It isn&#39;t eventually using a decision tree structure in its prediction?"}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 2, "creation_date": 1434584438, "post_id": 30903226, "comment_id": 49847057, "body": "It use many weak tree classifier to do a majority vote, and every tree classifier has different threshold parameters. This is why it&#39;s impossible to generate a decision tree plot in random forest."}, {"owner": {"reputation": 2041, "user_id": 3731745, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f391c0f1cf9143fd4c4605a4b1ffbe7?s=128&d=identicon&r=PG&f=1", "display_name": "Andreus", "link": "https://stackoverflow.com/users/3731745/andreus"}, "reply_to_user": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 2, "creation_date": 1434726094, "post_id": 30903226, "comment_id": 49917716, "body": "Sorry to nitpick, @JianxunLi, but it uses many <i>strong</i> tree classifiers. It&#39;s an important difference between bagging (which is what random forests are doing) and boosting (which uses weak learners)."}], "answers": [{"comments": [{"owner": {"reputation": 72, "user_id": 10978851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83158a9a98d7381fa2870ed8f9967bc8?s=128&d=identicon&r=PG", "display_name": "FranciscoRZ", "link": "https://stackoverflow.com/users/10978851/franciscorz"}, "edited": false, "score": 0, "creation_date": 1613417256, "post_id": 44080977, "comment_id": 117063877, "body": "Is there a way to ommit the values in Python? I find these graphs unreadable in my use cases."}], "tags": [], "owner": {"reputation": 1018, "user_id": 2879341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v3RHH.jpg?s=128&g=1", "display_name": "Sidon", "link": "https://stackoverflow.com/users/2879341/sidon"}, "is_accepted": false, "score": 3, "last_activity_date": 1495295005, "last_edit_date": 1495295005, "creation_date": 1495243379, "answer_id": 44080977, "question_id": 30903226, "link": "https://stackoverflow.com/questions/30903226/what-is-the-equivalent-to-rpart-plot-in-python-i-want-to-visualize-the-results/44080977#44080977", "title": "What is the equivalent to rpart.plot in Python? I want to visualize the results of my random forest", "body": "<p>Use the parameters of tree.export_graphviz, see this example and image result:</p>\n\n<pre><code>tree.export_graphviz(clf, out_file=out, feature_names=['alcohol', 'income'],class_names=['0','1'], \n                     filled=True, rounded=True, special_characters=True)\n\ngraph=pydotplus.graph_from_dot_data(out.getvalue())\nImage(graph.create_png())\n</code></pre>\n\n<p>Image Result</p>\n\n<p><a href=\"https://i.stack.imgur.com/5soGU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5soGU.png\" alt=\"enter image description here\"></a></p>\n\n<p>See the <a href=\"https://github.com/Sidon/Sidon.github.io/blob/master/_posts/dtree-w1.ipynb\" rel=\"nofollow noreferrer\">jupyter notebook on github</a> and <a href=\"https://sidon.github.io/dtree-week1/\" rel=\"nofollow noreferrer\">project details</a>.</p>\n"}], "owner": {"reputation": 501, "user_id": 1876833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dd7e6e3b04994327176ae7693c57a21f?s=128&d=identicon&r=PG", "display_name": "Erin", "link": "https://stackoverflow.com/users/1876833/erin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3368, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1495295005, "creation_date": 1434578704, "last_edit_date": 1495240702, "question_id": 30903226, "link": "https://stackoverflow.com/questions/30903226/what-is-the-equivalent-to-rpart-plot-in-python-i-want-to-visualize-the-results", "title": "What is the equivalent to rpart.plot in Python? I want to visualize the results of my random forest", "body": "<p>In <code>[R]</code>, you can visualize the results of your random forest like so (image shamelessly stolen from the internet). What is the equivalent in Python? I can get the results of my sklearn random forest classification using <code>feature_importances_</code> , but I want to know which direction they send the result. I realize with a deep forest I won't be able to examine every branch, but maybe it can weight the probabilities? Thanks.</p>\n\n<p><img src=\"https://i.stack.imgur.com/up04l.png\" alt=\"\"></p>\n"}, {"tags": ["python", "paramiko"], "answers": [{"tags": [], "owner": {"reputation": 8404, "user_id": 243712, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5347c683b6963f418d1b16c65917bf3f?s=128&d=identicon&r=PG", "display_name": "poolie", "link": "https://stackoverflow.com/users/243712/poolie"}, "is_accepted": false, "score": 0, "last_activity_date": 1434578926, "creation_date": 1434578926, "answer_id": 30903290, "question_id": 30903202, "link": "https://stackoverflow.com/questions/30903202/how-to-execute-multiple-lines-using-paramiko-and-read-only-their-output/30903290#30903290", "title": "how to execute multiple lines using paramiko and read only their output", "body": "<p>You're seeing the commands you typed because the shell echoes them back. You can turn this off by running</p>\n\n<pre><code>stty -echo\n</code></pre>\n\n<p>before your other commands.</p>\n\n<p>Another approach is to not invoke an interactive shell, but just run the commands directly, unless there's some other reason you especially need an interactive shell. For instance you could say</p>\n\n<pre><code>client.exec_command('/bin/sh -c \"cd /tmp &amp;&amp; ls\")\n</code></pre>\n\n<p>If you want a shell but without a pty, you can try</p>\n\n<pre><code>client.exec_command('/bin/sh')\n</code></pre>\n\n<p>and I think that will suppress the echo too.</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 6012253, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-ZhIS8_3I7F0/AAAAAAAAAAI/AAAAAAAACdU/GXllc6pvdL0/photo.jpg?sz=128", "display_name": "SlickTester", "link": "https://stackoverflow.com/users/6012253/slicktester"}, "reply_to_user": {"reputation": 3063, "user_id": 4964373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d7HSZ.png?s=128&g=1", "display_name": "Usman Maqbool", "link": "https://stackoverflow.com/users/4964373/usman-maqbool"}, "edited": false, "score": 0, "creation_date": 1457945734, "post_id": 35982095, "comment_id": 59619287, "body": "create SSHClient object, and then call &#39;&#39;connect()&#39;&#39; to connect  to the local SSH server.Setting the host key policy takes one method call to the ssh client object (&#39;&#39;set_missing_host_key_policy()&#39;&#39;), which sets the way you want to manage inbound host keys or you can use paramiko.AutoAddPolicy()&#39;&#39; which will auto-accept unknown keys( not secure).Next we set hostname,password,target host and target post (22 ssh port).we call connect method with ssh client object and then call exec_command and pass the commands and store command output in stdout and at the end,stdout.readlines() to read  output."}], "tags": [], "owner": {"reputation": 121, "user_id": 6012253, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-ZhIS8_3I7F0/AAAAAAAAAAI/AAAAAAAACdU/GXllc6pvdL0/photo.jpg?sz=128", "display_name": "SlickTester", "link": "https://stackoverflow.com/users/6012253/slicktester"}, "is_accepted": false, "score": 2, "last_activity_date": 1490646204, "last_edit_date": 1490646204, "creation_date": 1457941939, "answer_id": 35982095, "question_id": 30903202, "link": "https://stackoverflow.com/questions/30903202/how-to-execute-multiple-lines-using-paramiko-and-read-only-their-output/35982095#35982095", "title": "how to execute multiple lines using paramiko and read only their output", "body": "<pre><code>import paramiko\nssh = paramiko.SSHClient()\nssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\ntarget_host = 'x.x.x.x'\ntarget_port = 22  \ntarget_port = 22\npwd = ':)'\nun = 'root'\nssh.connect( hostname = target_host , username = un, password =pwd)\n#Now exeute multiple commands seperated by semicolon\nstdin, stdout, stderr = ssh.exec_command('cd mydir;ls')\nprint stdout.readlines()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13714641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8LutOnEjzlg/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckzbcotmcWFykMCcZy6B2pnH4JpSg/photo.jpg?sz=128", "display_name": "firstname lastname", "link": "https://stackoverflow.com/users/13714641/firstname-lastname"}, "is_accepted": false, "score": 0, "last_activity_date": 1610838093, "creation_date": 1610838093, "answer_id": 65755624, "question_id": 30903202, "link": "https://stackoverflow.com/questions/30903202/how-to-execute-multiple-lines-using-paramiko-and-read-only-their-output/65755624#65755624", "title": "how to execute multiple lines using paramiko and read only their output", "body": "<p>This should work:</p>\n<pre><code># Explicitly provide key, ip address and username\nfrom paramiko import SSHClient, AutoAddPolicy\n\nresult = []\n\ndef ssh_conn():\n    client = SSHClient()\n    client.load_system_host_keys()\n    client.set_missing_host_key_policy(AutoAddPolicy())\n\n    client.connect('&lt;host_IP_address&gt;', username='&lt;your_host_username&gt;', key_filename='&lt;private_key_location&gt;')\n\n    stdin, stdout, stderr = client.exec_command('ls -la')\n\n    for each_line in stdout:\n        result.append(each_line.strip('\\n'))\n    \n    client.close()\n\nssh_conn()\n\n\nfor each_line in result:\n    print(each_line.strip())\n</code></pre>\n"}], "owner": {"reputation": 1835, "user_id": 963319, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1b950873c444db9f4ae35d86563b430b?s=128&d=identicon&r=PG", "display_name": "Jenia Ivanov", "link": "https://stackoverflow.com/users/963319/jenia-ivanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4093, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1610838093, "creation_date": 1434578629, "last_edit_date": 1495539195, "question_id": 30903202, "link": "https://stackoverflow.com/questions/30903202/how-to-execute-multiple-lines-using-paramiko-and-read-only-their-output", "title": "how to execute multiple lines using paramiko and read only their output", "body": "<p>How do I execute multiple commands using Paramiko and read the output back into my python script?</p>\n\n<p>This question is theoretically answered here <a href=\"https://stackoverflow.com/questions/6203653/how-do-you-execute-multiple-commands-in-a-single-session-in-paramiko-python\">How do you execute multiple commands in a single session in Paramiko? (Python)</a>, but in my view that answer is incorrect.</p>\n\n<p>The problem is that when you read the stdout, it reads the entire content of the terminal including the program that you \"typed\" into the terminal.</p>\n\n<p>Just try it (this is basically a copy paste from the above thread):</p>\n\n<pre><code>import paramiko  \nmachine = \"you machine ip\"\nusername = \"you username\"\npassword = \"password\"\nclient = paramiko.SSHClient()\nclient.set_missing_host_key_policy(paramiko.AutoAddPolicy())\nclient.connect(machine, username = username, password = password)\nchannel = client.invoke_shell()\nstdin = channel.makefile('wb')\nstdout = channel.makefile('rb')\nstdin.write('''\ncd tmp\nls\nexit\n''')\nprint stdout.read()\nstdout.close()\nstdin.close()\nclient.close()\n</code></pre>\n\n<p>So my question is, how do I execute multiple commands and read only the output of those commands, rather than the input I \"typed\" and the output?</p>\n\n<p>Thanks in advance for your kind help and time.</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 4, "creation_date": 1434578618, "post_id": 30903153, "comment_id": 49845230, "body": "Why not just use the <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\"><code>json</code></a> module of the standard library?"}, {"owner": {"reputation": 313, "user_id": 4913956, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bdf7959ac46044d102bb710a09660461?s=128&d=identicon&r=PG&f=1", "display_name": "geoffreyGIS", "link": "https://stackoverflow.com/users/4913956/geoffreygis"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1434578879, "post_id": 30903153, "comment_id": 49845340, "body": "I think you&#39;re completely misunderstanding this."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1434579074, "post_id": 30903153, "comment_id": 49845412, "body": "Reason might be you do not state clearly what you want to achieve or what your problem is. So, just enlighten me."}, {"owner": {"reputation": 313, "user_id": 4913956, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bdf7959ac46044d102bb710a09660461?s=128&d=identicon&r=PG&f=1", "display_name": "geoffreyGIS", "link": "https://stackoverflow.com/users/4913956/geoffreygis"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1434579358, "post_id": 30903153, "comment_id": 49845542, "body": "The desired output is shown in the question, from the JSON above, I would like to loop and have a formatted string.   I am able to iterate the json, but my logic is incorrect in the loop.   I am consuming this json from a web-service, and am already using the json module."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 4, "creation_date": 1434579675, "post_id": 30903153, "comment_id": 49845665, "body": "So the information is quite useless. Your question is still not clear what you want to achieve. Just remember <i>you</i> are deep into that matter, <i>we</i> are not. Please provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 313, "user_id": 4913956, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bdf7959ac46044d102bb710a09660461?s=128&d=identicon&r=PG&f=1", "display_name": "geoffreyGIS", "link": "https://stackoverflow.com/users/4913956/geoffreygis"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1434583738, "post_id": 30903153, "comment_id": 49846899, "body": "I do not understand what&#39;s not clear, I have provided a JSON and desired output from the said JSON, in addition to functional code which references the json and the output and my desired output...what needs to be scaled back in order for you to better understand this?"}], "answers": [{"tags": [], "owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "is_accepted": false, "score": 0, "last_activity_date": 1434585397, "creation_date": 1434585397, "answer_id": 30904381, "question_id": 30903153, "link": "https://stackoverflow.com/questions/30903153/looping-nested-dictionaries-with-if-statements-python/30904381#30904381", "title": "Looping nested dictionaries with if statements Python", "body": "<p>I am not sure exactly what you need but this code gives the desired output from the given json string:</p>\n\n<pre><code>import json\n\njsonstr = '''\n{\n    \"ListOfLa311BulkyItem\": {\n        \"BulkyItem\": [\n            {\n                \"BulkyItemCount\": \"5\",\n                \"BulkyItemType\": \"Carpet\",\n                \"CollectionLocation\": \"Curb\",\n                \"IllegallyDumped\": \"N\",\n                \"OtherBulkyItem\": \"\",\n                \"Type\": \"Bulky Items\",\n                \"SpecialRule\": \"Y\",\n                \"GatedCommunityMultifamilyDwelling\": \"\",\n                \"MobileHomeSpace\": \"\",\n                \"IllegalDumpCollectionLoc\": \"\",\n                \"LastUpdatedBy\": \"52299\",\n                \"DriverFirstName\": \"\",\n                \"DriverLastName\": \"\",\n                \"ServiceDateRendered\": \"\",\n                \"TruckNo\": \"\",\n                \"ActiveStatus\": \"Y\",\n                \"IllegalBulkyItemType\": \"\",\n                \"PurposeofSR\": \"\",\n                \"Name\": \"061720151151242471\"\n            },\n            {\n                \"BulkyItemCount\": \"6\",\n                \"BulkyItemType\": \"Chair\",\n                \"CollectionLocation\": \"Curb\",\n                \"IllegallyDumped\": \"N\",\n                \"OtherBulkyItem\": \"\",\n                \"Type\": \"Bulky Items\",\n                \"SpecialRule\": \"\",\n                \"GatedCommunityMultifamilyDwelling\": \"\",\n                \"MobileHomeSpace\": \"\",\n                \"IllegalDumpCollectionLoc\": \"\",\n                \"LastUpdatedBy\": \"52299\",\n                \"DriverFirstName\": \"\",\n                \"DriverLastName\": \"\",\n                \"ServiceDateRendered\": \"\",\n                \"TruckNo\": \"\",\n                \"ActiveStatus\": \"Y\",\n                \"IllegalBulkyItemType\": \"\",\n                \"PurposeofSR\": \"\",\n                \"Name\": \"061720151151242472\"\n            },\n            {\n                \"BulkyItemCount\": \"2\",\n                \"BulkyItemType\": \"Headboard\",\n                \"CollectionLocation\": \"Curb\",\n                \"IllegallyDumped\": \"N\",\n                \"OtherBulkyItem\": \"\",\n                \"Type\": \"Bulky Items\",\n                \"SpecialRule\": \"Y\",\n                \"GatedCommunityMultifamilyDwelling\": \"\",\n                \"MobileHomeSpace\": \"\",\n                \"IllegalDumpCollectionLoc\": \"\",\n                \"LastUpdatedBy\": \"52299\",\n                \"DriverFirstName\": \"\",\n                \"DriverLastName\": \"\",\n                \"ServiceDateRendered\": \"\",\n                \"TruckNo\": \"\",\n                \"ActiveStatus\": \"Y\",\n                \"IllegalBulkyItemType\": \"\",\n                \"PurposeofSR\": \"\",\n                \"Name\": \"061720151151242483\"\n            }\n        ]\n    }\n}\n'''\n\ndic = json.loads(jsonstr)\n\nastr = \"\"\nfor listofbulkyitems in dic.itervalues():\n    for bulkyitems in listofbulkyitems.itervalues():\n        for bulkyitem in bulkyitems:\n            if astr:\n                astr += \", \"     ## The string should not start by a comma but all the following items should be preceded by a comma\n            astr += bulkyitem['BulkyItemCount']+\", \"+bulkyitem['BulkyItemType']\nprint astr\n## prints '5, Carpet, 6, Chair, 2, Headboard'\n</code></pre>\n\n<p>Note that I chose to store everything in a string before printing it. It is not necessary but it is a straightforward way to get the desired output.</p>\n"}], "owner": {"reputation": 313, "user_id": 4913956, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bdf7959ac46044d102bb710a09660461?s=128&d=identicon&r=PG&f=1", "display_name": "geoffreyGIS", "link": "https://stackoverflow.com/users/4913956/geoffreygis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1434585397, "creation_date": 1434578425, "question_id": 30903153, "link": "https://stackoverflow.com/questions/30903153/looping-nested-dictionaries-with-if-statements-python", "title": "Looping nested dictionaries with if statements Python", "body": "<p>I have got a number of inner dictionaries, my logic is off somewhat as my output is close to what I want to accomplish but not quite there yet.  I would like to concatenate the values of two variables from inner dictionaries.</p>\n\n<p>While in the loops my variables print correctly, but when I use another variable to concatenate both, I receive only a few values.  This data is coming from a JSON structure.</p>\n\n<p>Code:</p>\n\n<pre><code>try:\n    k_bulky_count = ' '\n    for sr in BulkyItem:\n            for bulkycount in BulkyItem['BulkyItem']:\n                            countBulky =  bulkycount['BulkyItemCount']\n                            if k_bulky_count != countBulky:\n                                k_bulky_count =  countBulky\n                                print k_bulky_count\nexcept:\n    print \"data\"\n\ntry:\n    k_bulky_item = ''\n    for sr in BulkyItem:\n        for bulkyitem in BulkyItem['BulkyItem']:\n            itemBulky =  bulkyitem['BulkyItemType']\n            if k_bulky_item != itemBulky:\n                    k_bulky_item = itemBulky\n                    BulkyItemInfo += '{0}, {1} '.format (k_bulky_count, k_bulky_item)\n                    print BulkyItemInfo\nexcept:\n    print (\"No Bulky Info\")\n</code></pre>\n\n<p>Output for BulkyItemInfo:</p>\n\n<pre><code> 1, Carpet \n 1, Carpet 1, Chair \n 1, Carpet 1, Chair 1, Desk \n 1, Carpet 1, Chair 1, Desk 1, Wood Bundles \n 1, Carpet 1, Chair 1, Desk 1, Wood Bundles 1, Other \n 1, Bookcase \n 1, Bicycle \n 2, Carpet \n 2, Carpet 2, Chair \n 2, Carpet 2, Chair 2, Headboard \n 1, Bicycle \n 1, Bicycle 1, Bird Cage (Plastic) \n 1, Bicycle 1, Bird Cage (Plastic) 1, Blinds \n 1, Bicycle 1, Bird Cage (Plastic) 1, Blinds 1, Bookcase \n 1, Bicycle 1, Bird Cage (Plastic) 1, Blinds 1, Bookcase 1, Dresser \n 1, Bicycle 1, Bird Cage (Plastic) 1, Blinds 1, Bookcase 1, Dresser 1, Entertainment Center \n 1, Bookcase \n 1, Bookcase 1, Desk \n 1, Bookcase 1, Desk 1, Shelf\n</code></pre>\n\n<p>Output for Quantity and Type when printed in respective loops</p>\n\n<pre><code>1\nFile Cabinet (Wood)\n1\nCarpet\nChair\nDesk\nWood Bundles\nOther\n1\nBookcase\n1\nBicycle\n5\n6\n2\nCarpet\nChair\nHeadboard\n</code></pre>\n\n<p>Json Example:</p>\n\n<pre><code>{\n    \"ListOfLa311BulkyItem\": {\n        \"BulkyItem\": [\n            {\n                \"BulkyItemCount\": \"5\",\n                \"BulkyItemType\": \"Carpet\",\n                \"CollectionLocation\": \"Curb\",\n                \"IllegallyDumped\": \"N\",\n                \"OtherBulkyItem\": \"\",\n                \"Type\": \"Bulky Items\",\n                \"SpecialRule\": \"Y\",\n                \"GatedCommunityMultifamilyDwelling\": \"\",\n                \"MobileHomeSpace\": \"\",\n                \"IllegalDumpCollectionLoc\": \"\",\n                \"LastUpdatedBy\": \"52299\",\n                \"DriverFirstName\": \"\",\n                \"DriverLastName\": \"\",\n                \"ServiceDateRendered\": \"\",\n                \"TruckNo\": \"\",\n                \"ActiveStatus\": \"Y\",\n                \"IllegalBulkyItemType\": \"\",\n                \"PurposeofSR\": \"\",\n                \"Name\": \"061720151151242471\"\n            },\n            {\n                \"BulkyItemCount\": \"6\",\n                \"BulkyItemType\": \"Chair\",\n                \"CollectionLocation\": \"Curb\",\n                \"IllegallyDumped\": \"N\",\n                \"OtherBulkyItem\": \"\",\n                \"Type\": \"Bulky Items\",\n                \"SpecialRule\": \"\",\n                \"GatedCommunityMultifamilyDwelling\": \"\",\n                \"MobileHomeSpace\": \"\",\n                \"IllegalDumpCollectionLoc\": \"\",\n                \"LastUpdatedBy\": \"52299\",\n                \"DriverFirstName\": \"\",\n                \"DriverLastName\": \"\",\n                \"ServiceDateRendered\": \"\",\n                \"TruckNo\": \"\",\n                \"ActiveStatus\": \"Y\",\n                \"IllegalBulkyItemType\": \"\",\n                \"PurposeofSR\": \"\",\n                \"Name\": \"061720151151242472\"\n            },\n            {\n                \"BulkyItemCount\": \"2\",\n                \"BulkyItemType\": \"Headboard\",\n                \"CollectionLocation\": \"Curb\",\n                \"IllegallyDumped\": \"N\",\n                \"OtherBulkyItem\": \"\",\n                \"Type\": \"Bulky Items\",\n                \"SpecialRule\": \"Y\",\n                \"GatedCommunityMultifamilyDwelling\": \"\",\n                \"MobileHomeSpace\": \"\",\n                \"IllegalDumpCollectionLoc\": \"\",\n                \"LastUpdatedBy\": \"52299\",\n                \"DriverFirstName\": \"\",\n                \"DriverLastName\": \"\",\n                \"ServiceDateRendered\": \"\",\n                \"TruckNo\": \"\",\n                \"ActiveStatus\": \"Y\",\n                \"IllegalBulkyItemType\": \"\",\n                \"PurposeofSR\": \"\",\n                \"Name\": \"061720151151242483\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>Desired output from above json</p>\n\n<pre><code>5, Carpet, 6, Chair, 2 Headboard\n</code></pre>\n"}, {"tags": ["python", "insert", "cursor", "tweepy", "arcpy"], "comments": [{"owner": {"reputation": 6320, "user_id": 4541548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UbJoG.jpg?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4541548/kevin"}, "edited": false, "score": 0, "creation_date": 1434714520, "post_id": 30903151, "comment_id": 49909499, "body": "Can you post a traceback off your error?"}], "answers": [{"tags": [], "owner": {"reputation": 753, "user_id": 4688131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sGNF.jpg?s=128&g=1", "display_name": "tpdance", "link": "https://stackoverflow.com/users/4688131/tpdance"}, "is_accepted": false, "score": 0, "last_activity_date": 1436803245, "creation_date": 1436803245, "answer_id": 31388117, "question_id": 30903151, "link": "https://stackoverflow.com/questions/30903151/using-python-tweepy-insert-cursor-and-arcpy/31388117#31388117", "title": "Using Python, Tweepy, Insert Cursor and Arcpy", "body": "<p>I looks like you're forgetting to call the data access (.da) method for the insert cursor. </p>\n\n<pre><code>with arcpy.da.InsertCursor(in_table, field_names) as inCursor:\n    for row in rows:\n        inCursor.insertRow(row) # example\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>inCursor = arcpy.da.InsertCursor(in_table, field_names)\nfor row in rows:\n    cursor.insertRow(row) # example\ndel inCursor # make sure to delete cursor if you do it this way as to avoid data lock.\n</code></pre>\n\n<p>Also, if you just want the Insert Cursor method, you can </p>\n\n<pre><code>from arcpy import da\n</code></pre>\n\n<p>For more info, check out:\n<a href=\"http://resources.arcgis.com/en/help/main/10.2/index.html#//018w0000000t000000\" rel=\"nofollow\">http://resources.arcgis.com/en/help/main/10.2/index.html#//018w0000000t000000</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5021658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb474652f64500de9166f054d17cf37e?s=128&d=identicon&r=PG&f=1", "display_name": "arecdar", "link": "https://stackoverflow.com/users/5021658/arecdar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1436803245, "creation_date": 1434578410, "last_edit_date": 1434580438, "question_id": 30903151, "link": "https://stackoverflow.com/questions/30903151/using-python-tweepy-insert-cursor-and-arcpy", "title": "Using Python, Tweepy, Insert Cursor and Arcpy", "body": "<p>I am super new to Python so forgive me for my lack of knowledge haha but for some reason I cannot get Python to insert rows in my database. Here is what I have:</p>\n\n<pre><code>import sys, arcpy, datetime, tweepy\n\n\nconsumer_key = \" \"\nconsumer_secret = \" \"\naccess_token = \" \"\naccess_token_secret = \" \"\n\nauth = tweepy.OAuthHandler(consumer_key, consumer_secret)\nauth.set_access_token(access_token, access_token_secret)\napi = tweepy.API(auth)\n\ntable = r\"C:\\....dbf\"\n\nrows = arcpy.InsertCursor(table)\n\nclass CustomStreamListener(tweepy.StreamListener):\n    def on_status(self, status):\n        try:\n\n\n            user = status.user.screen_name\n            tweet = status.text\n            coord_x = status.coordinates['coordinates'][0]\n            coord_y = status.coordinates['coordinates'][1]\n            date_utc = status.created_at\n            h_m_s_utc = (str(status.created_at.hour))+':'+(str(status.created_at.minute))+':'+(str(status.created_at.second))\n            date_est = datetime.datetime.now()\n            h_m_s_est = (str(date_est.hour))+':'+(str(date_est.minute))+':'+(str(date_est.second))\n\n\n            row.user_name=user\n            row.tweet=tweet\n            row.coord_x=coord_x\n            row.coord_y=coord_y\n            row.date_utc=date_utc\n            row.h_m_s_utc=h_m_s_utc\n            row.date_est=date_est\n            rows.insertRow(row)\n            del row, rows\n            insert_table= r\"C:\\....dbf\"\n            insert_row(insert_table)\n\n        print user\n        print tweet\n\n    except:\n        # If there are no coordinates for a tweet, then pass\n        pass\n\ndef on_error(self, status_code):\n    print &gt;&gt; sys.stderr, 'Encountered error with status code:', status_code\n    return True # Don't kill the stream\n\ndef on_timeout(self):\n    print &gt;&gt; sys.stderr, 'Timeout...'\n    return True # Don't kill the stream\n\n# ----------------Script execution----------------\nlistener = tweepy.streaming.Stream(auth, CustomStreamListener())\nlistener.filter(track=[' love ', '#love'])\n</code></pre>\n\n<p>I am pretty sure it has something to do with the row.rowID thing.</p>\n\n<p>Sorry if it is a disaster! Any help is much appreciated!</p>\n"}, {"tags": ["python", "gil"], "comments": [{"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1434578172, "post_id": 30903032, "comment_id": 49845036, "body": "The concern is valid, but if you&#39;re allowing people to introduce C code you&#39;re pretty much at their mercy anyway.  A problematic C extension could also contain a bug that crashes (or worse, silently corrupts) the process, which would also render your API useless.  The only real thing to that can be done, I think, is to only allow C code to run if you trust it to be problem-free (and that is true with or without a GIL)."}, {"owner": {"reputation": 4457, "user_id": 1179137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/561be56442fcc03169b0c9cafb6b1626?s=128&d=identicon&r=PG", "display_name": "Salim Fadhley", "link": "https://stackoverflow.com/users/1179137/salim-fadhley"}, "reply_to_user": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1434578340, "post_id": 30903032, "comment_id": 49845097, "body": "I work for an organization that has a huge amount of legacy C code. It&#39;s of a reasonably high quality (no more buggy than my Python code) - but suppose the feature we needed was in C. Do I have the potential to use it? If so what&#39;s the cost to concurrency in my API. It&#39;s not acceptable to reject it because it <i>might</i> contain bugs - I need to give the managers real data bout what the likely impact is even if it doesn&#39;t contain bugs."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1434578609, "post_id": 30903032, "comment_id": 49845227, "body": "good question. You could make your own C extension that sleeps. Or otherwise perform a long loop (i.e. busy waiting)."}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1434578747, "post_id": 30903032, "comment_id": 49845300, "body": "Fair enough, but the likely impact is what you would expect:  when a lock is held for a long period, any other thread that wants to acquire the lock will be held off until the lock is released.  The magnitude of the performance impact will depend on how long the C extension holds the lock."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1434578765, "post_id": 30903032, "comment_id": 49845304, "body": "BTW: I am ignorant on Flask. Does it spawn threads or processes? The GIL affects the former, not the latter (<a href=\"http://stackoverflow.com/questions/992136/does-running-separate-python-processes-avoid-the-gil\">see here</a>)"}, {"owner": {"reputation": 4457, "user_id": 1179137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/561be56442fcc03169b0c9cafb6b1626?s=128&d=identicon&r=PG", "display_name": "Salim Fadhley", "link": "https://stackoverflow.com/users/1179137/salim-fadhley"}, "edited": false, "score": 0, "creation_date": 1434578777, "post_id": 30903032, "comment_id": 49845311, "body": "Not a C developer - Is there something off the shelf that might have the right kind of properites? For example what if I just churned a big matrix in numpy? Exact timing is not important - relative timing is. For example if I made the amount of external code twice as complicated."}, {"owner": {"reputation": 4457, "user_id": 1179137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/561be56442fcc03169b0c9cafb6b1626?s=128&d=identicon&r=PG", "display_name": "Salim Fadhley", "link": "https://stackoverflow.com/users/1179137/salim-fadhley"}, "edited": false, "score": 0, "creation_date": 1434578799, "post_id": 30903032, "comment_id": 49845317, "body": "Flask is threaded by default. The application requires a large amount of shared memory (specifically a big table, possibly implemented in something like numpy), hence my concern about C extensions."}, {"owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "edited": false, "score": 0, "creation_date": 1434579239, "post_id": 30903032, "comment_id": 49845481, "body": "Couldn&#39;t you mitigate the potential risks by load balancing across multiple processes (<i>Use an Async I/O web framework</i>) and even across multiple nodes/hosts?"}, {"owner": {"reputation": 4457, "user_id": 1179137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/561be56442fcc03169b0c9cafb6b1626?s=128&d=identicon&r=PG", "display_name": "Salim Fadhley", "link": "https://stackoverflow.com/users/1179137/salim-fadhley"}, "reply_to_user": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "edited": false, "score": 0, "creation_date": 1434579574, "post_id": 30903032, "comment_id": 49845630, "body": "@James Mills - we&#39;d use a load-balancer anyway however it dosen&#39;t really answer the question of how GIL locking stuff would affect the server. It might be comofrting to know (later) that some good caching and load balancing can reduce the scale of the problem."}, {"owner": {"reputation": 17046, "user_id": 364980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG", "display_name": "James Mills", "link": "https://stackoverflow.com/users/364980/james-mills"}, "reply_to_user": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1434579752, "post_id": 30903032, "comment_id": 49845699, "body": "Well as @Jeremy Friesner said; you have <i>bigger</i> problems if you allow C extensions into your system than the GIL locking the interpreter. You <i>should</i> design for scalability anyway and not worry about what happens to <i>one</i> process/thread IHMO."}], "owner": {"reputation": 4457, "user_id": 1179137, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/561be56442fcc03169b0c9cafb6b1626?s=128&d=identicon&r=PG", "display_name": "Salim Fadhley", "link": "https://stackoverflow.com/users/1179137/salim-fadhley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1434581434, "creation_date": 1434577892, "last_edit_date": 1434581434, "question_id": 30903032, "link": "https://stackoverflow.com/questions/30903032/how-can-i-create-a-long-gil-lock", "title": "How can I create a long GIL lock", "body": "<p>I'm building a REST API in Python using Python 2.6, Flask on 64 Bit Linux.</p>\n\n<p>I've been asked to determine how the GIL could affect the performance of this service. What if something happened that caused the interpreter to lock for a few seconds? Intuitively it would hinder the performance but I need to be able to demonstrate the impact.</p>\n\n<p>The specific concern is, if somebody introduces code (e.g. a C extension) that causes a large amount of additional locking, could it make the whole API completely useless?</p>\n\n<p>What I'd like is something like time.sleep() which basically locks up the interpreter for a period of time. I could build a model API in which queries trigger locks of various lengths and then demonstrate the extent to which concurrency is reduced as a function of the amount of time spent in the lock.</p>\n"}, {"tags": ["python", "import", "path"], "comments": [{"owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "edited": false, "score": 0, "creation_date": 1434578352, "post_id": 30903017, "comment_id": 49845108, "body": "in other words: how come <code>imp.load_module()</code>  doesn&#39;t take a path argument?"}], "answers": [{"tags": [], "owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1434580278, "last_edit_date": 1434580278, "creation_date": 1434579877, "answer_id": 30903484, "question_id": 30903017, "link": "https://stackoverflow.com/questions/30903017/transitive-dynamic-imports-in-python-using-the-imp-module/30903484#30903484", "title": "transitive dynamic imports in python using the imp module", "body": "<p>Grumble. Found a temporary workaround by modifying sys.path, though I don't like it. It seems like there should be a way to do this without messing with sys.path. I tried catching <code>ImportError</code> but it just contains a string and not the name of the module that was attempted to import (yeah, I can parse that string, but that's just totally wrong)</p>\n\n<p>a/foo.py:</p>\n\n<pre><code>import imp\nimport sys\n\ndef find_and_load(module, path):\n    file, pathname, description = imp.find_module(module, path)\n    try:\n        n = len(sys.path)\n        sys.path += path\n        return imp.load_module(module, file, pathname, description)\n    finally:\n        del sys.path[n:]\n        file.close()\n\nm = find_and_load('bar',['../b'])\nprint m.tweedledee() + m.tweedledum()\n</code></pre>\n\n<p>b/bar.py:</p>\n\n<pre><code>import baz\n\ndef tweedledee():\n    return 42\n\ntweedledum = baz.tweedledum\n</code></pre>\n"}], "owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1434580278, "creation_date": 1434577815, "question_id": 30903017, "link": "https://stackoverflow.com/questions/30903017/transitive-dynamic-imports-in-python-using-the-imp-module", "title": "transitive dynamic imports in python using the imp module", "body": "<p>I'm using the <code>imp</code> module to dynamically import a Python module. Works great.</p>\n\n<p>But a colleague of mine wanted to refactor some of the module into another module in the same directory, and this breaks things. How do I get this to work? I'm passing the right path into <code>find_module</code>; the dynamic import to <code>bar</code> works fine, but when <code>bar</code> tries to pull in <code>baz</code> from the same directory, it fails. Source code reproduced below and on <a href=\"https://github.com/jason-s/snippet-imp-demo\" rel=\"nofollow\">github</a>.</p>\n\n<pre><code>C:\\tmp\\git\\python-imp-bug&gt;cd a\n\nC:\\tmp\\git\\python-imp-bug\\a&gt;python foo.py\nTraceback (most recent call last):\n  File \"foo.py\", line 7, in &lt;module&gt;\n    m = find_and_load('bar',['../b'])\n  File \"foo.py\", line 5, in find_and_load\n    return imp.load_module(module, file, pathname, description)\n  File \"../b\\bar.py\", line 1, in &lt;module&gt;\n    import baz\nImportError: No module named baz\n</code></pre>\n\n<p>a/foo.py:</p>\n\n<pre><code>import imp\n\ndef find_and_load(module, path):\n    file, pathname, description = imp.find_module(module, path)\n    return imp.load_module(module, file, pathname, description)\n\nm = find_and_load('bar',['../b'])\n</code></pre>\n\n<p>b/bar.py:</p>\n\n<pre><code>import baz\n\ndef tweedledee():\n    return 42\n</code></pre>\n\n<p>b/baz.py:</p>\n\n<pre><code>def tweedledum():\n    return 24\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "twisted", "anaconda"], "comments": [{"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 1, "creation_date": 1436387046, "post_id": 30903001, "comment_id": 50595998, "body": "<code>twisted</code> should install console-scripts into the binary/script folder of your Python installation. I don&#39;t have anaconda, but it&#39;s basically &quot;just&quot; a python installation. So try a search in your <code>C:\\Anaconda3` directory, with </code>twistd.bat` or <code>twistd.*</code>"}, {"owner": {"reputation": 14029, "user_id": 3562486, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Akd4v.jpg?s=128&g=1", "display_name": "skyline75489", "link": "https://stackoverflow.com/users/3562486/skyline75489"}, "edited": false, "score": 2, "creation_date": 1436517606, "post_id": 30903001, "comment_id": 50656820, "body": "It&#39;s <code>twistd</code>. Have you tried <code>twistd</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4396006"}, "edited": false, "score": 1, "creation_date": 1436535299, "post_id": 30903001, "comment_id": 50668319, "body": "@MichaelA Why would you ever want to run that command? The Python code executes perfectly running <code>python filename.py</code>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1436535963, "post_id": 30903001, "comment_id": 50668760, "body": "It should be in <code>&#47;twisted&#47;scripts&#47;twistd.py</code>"}, {"owner": {"reputation": 3615, "user_id": 2766558, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/19b88fc3eab00e33325bdedb9ef006a7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael A", "link": "https://stackoverflow.com/users/2766558/michael-a"}, "reply_to_user": {"reputation": 14029, "user_id": 3562486, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Akd4v.jpg?s=128&g=1", "display_name": "skyline75489", "link": "https://stackoverflow.com/users/3562486/skyline75489"}, "edited": false, "score": 1, "creation_date": 1436797497, "post_id": 30903001, "comment_id": 50748771, "body": "@skyline75489 Yes, I have. (I mentioned looking for both <code>twisted</code> and <code>twistd</code> in my original question)."}, {"owner": {"reputation": 3615, "user_id": 2766558, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/19b88fc3eab00e33325bdedb9ef006a7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael A", "link": "https://stackoverflow.com/users/2766558/michael-a"}, "reply_to_user": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 1, "creation_date": 1436797764, "post_id": 30903001, "comment_id": 50748960, "body": "@deets None of those searches return any results, except for one <code>twisted.py</code> file in the <code>Lib&#47;site-packages&#47;tornado&#47;platform&#47;</code> directory. The Anaconda installation does have a <code>Lib&#47;site-packages&#47;twisted&#47;</code> directory, but it doesn&#39;t contain a <code>scripts&#47;</code> subdirectory or any files named <code>twisted.py</code> or <code>twistd.py</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 2, "creation_date": 1436841941, "post_id": 30903001, "comment_id": 50769274, "body": "I got the same results as you.  The anaconda 2.3.0/python 3.4.3 install of twisted just creates pkgs/twisted-15.2.1-py34_0.tar.bz2.  After installation was able to import twisted and some but not all of its subclasses which should be there if it was complete. In conclusion this release of twisted for python 3 is incomplete and there is no quick fix."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4396006"}, "is_accepted": false, "score": 4, "last_activity_date": 1436536082, "last_edit_date": 1495541166, "creation_date": 1436535772, "answer_id": 31342334, "question_id": 30903001, "link": "https://stackoverflow.com/questions/30903001/how-do-i-run-twisted-from-the-console/31342334#31342334", "title": "How do I run twisted from the console?", "body": "<blockquote>\n  <p>Don't confuse \"Twisted\" with \"<code>twistd</code>\".  When you use \"<code>twistd</code>\", you\n  <em>are</em> running the program with Python.  \"<code>twistd</code>\" is a Python program that, among other things, can load an application from a <code>.tac</code> file\n  (as you're doing here).</p>\n  \n  <p>The \"Twisted Command Prompt\" is a Twisted installer-provided\n  convenience <strong>to help out people on Windows</strong>.  All it is doing is\n  <strong>setting <code>%PATH%</code> to include the directory containing the \"<code>twistd</code>\" program</strong>.  You could run twistd from a normal command prompt if you\n  <strong>set your %PATH% properly or invoke it with the full path</strong>.</p>\n</blockquote>\n\n<p>(From <a href=\"https://stackoverflow.com/questions/1897939/how-do-you-you-run-a-twisted-application-via-python-instead-of-via-twisted\">How do you you run a Twisted application via Python (instead of via Twisted)?</a>)</p>\n\n<p>Run:</p>\n\n<pre><code>set PATH=%PATH%;C:\\path\\to\\twistd.py\n</code></pre>\n\n<p>Where in <code>C:\\path\\to\\twistd.py</code> you insert the path to the <code>twistd.py</code> file.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4396006"}, "edited": false, "score": 1, "creation_date": 1437081016, "post_id": 31416452, "comment_id": 50895407, "body": "But how does that fix the issue?"}, {"owner": {"reputation": 1925, "user_id": 433717, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4dab73f2c115bc0dc8f0d39e271eec30?s=128&d=identicon&r=PG&f=1", "display_name": "belteshazzar", "link": "https://stackoverflow.com/users/433717/belteshazzar"}, "edited": false, "score": 0, "creation_date": 1437112302, "post_id": 31416452, "comment_id": 50904045, "body": "@J.C.Rocamonde It informs the asker that twisted is not fully available yet, where to check the progress of porting to Python3, and that if he wants all of twisted, he will have to use Python2, and if he does it will work as expected."}], "tags": [], "owner": {"reputation": 1925, "user_id": 433717, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4dab73f2c115bc0dc8f0d39e271eec30?s=128&d=identicon&r=PG&f=1", "display_name": "belteshazzar", "link": "https://stackoverflow.com/users/433717/belteshazzar"}, "is_accepted": true, "score": 4, "last_activity_date": 1436905981, "last_edit_date": 1436905981, "creation_date": 1436905042, "answer_id": 31416452, "question_id": 30903001, "link": "https://stackoverflow.com/questions/30903001/how-do-i-run-twisted-from-the-console/31416452#31416452", "title": "How do I run twisted from the console?", "body": "<p><code>twistd</code> runs twisted applications (though you can run a script with Twisted code in it like any other Python file) and should be in the <code>bin</code> directory inside your Anaconda installation directory, so if you can get <code>conda</code>, you can get <code>twistd</code> as well. </p>\n\n<p><code>twisted</code> is the library you use to write code that uses Twisted, so you can't run that from the command line.</p>\n\n<p>Here is the status of Twisted on Python3 <a href=\"https://twistedmatrix.com/trac/milestone/Python-3.x\" rel=\"nofollow\">https://twistedmatrix.com/trac/milestone/Python-3.x</a></p>\n\n<p>And here is the particular ticket about twistd not being available on Python3 yet <a href=\"https://twistedmatrix.com/trac/ticket/7497\" rel=\"nofollow\">https://twistedmatrix.com/trac/ticket/7497</a></p>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 2, "last_activity_date": 1436906474, "last_edit_date": 1436906474, "creation_date": 1436906151, "answer_id": 31416786, "question_id": 30903001, "link": "https://stackoverflow.com/questions/30903001/how-do-i-run-twisted-from-the-console/31416786#31416786", "title": "How do I run twisted from the console?", "body": "<p>Twisted is a Python library. To use it, you could import it e.g., here's a  web server from <a href=\"https://twistedmatrix.com/trac/\" rel=\"nofollow\">twisted home page</a>:</p>\n\n<pre><code>#!/usr/bin/env python\nfrom twisted.web import server, resource\nfrom twisted.internet import reactor, endpoints\n\nclass Counter(resource.Resource):\n    isLeaf = True\n    numberRequests = 0\n\n    def render_GET(self, request):\n        self.numberRequests += 1\n        request.setHeader(\"content-type\", \"text/plain\")\n        return \"I am request #\" + str(self.numberRequests) + \"\\n\"\n\nendpoints.serverFromString(reactor, \"tcp:8080\").listen(server.Site(Counter()))\nreactor.run()\n</code></pre>\n\n<p>Save it to a file e.g., <code>counter_server.py</code> and run: <code>py counter_server.py</code>. You could visit <code>http://localhost:8080/</code> to make sure it works (it doesn't with <code>twisted-15.2.1</code> version on Python 3). <a href=\"https://rawgit.com/mythmon/twisted-py3-graph/master/index.html\" rel=\"nofollow\">Twisted is ported only partially to Python 3</a> (the graph is based on the data from a year ago). </p>\n\n<p><code>twistd</code> is a Python program that uses <code>twisted</code> Python package (note: <code>e</code>). It is not ported to Python 3 yet (<code>pip install twisted</code> installs it on Python  2 but it doesn't install it on Python 3).</p>\n"}], "owner": {"reputation": 3615, "user_id": 2766558, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/19b88fc3eab00e33325bdedb9ef006a7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael A", "link": "https://stackoverflow.com/users/2766558/michael-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2957, "favorite_count": 1, "accepted_answer_id": 31416452, "answer_count": 3, "score": 8, "last_activity_date": 1436906474, "creation_date": 1434577758, "last_edit_date": 1495540695, "question_id": 30903001, "link": "https://stackoverflow.com/questions/30903001/how-do-i-run-twisted-from-the-console", "title": "How do I run twisted from the console?", "body": "<p>I'm using Python 3 with Anaconda on Windows 7. I installed Twisted with <code>conda install twisted</code>, and now I'm trying to run <code>twisted</code> (or <code>twistd</code>?) from the console, but I get this error</p>\n\n<blockquote>\n  <p>'twisted' is not recognized as an internal or external command, operable program or batch file.</p>\n</blockquote>\n\n<p>which makes me think a directory is missing from the path, as in <a href=\"https://stackoverflow.com/q/9440303/2766558\">this question</a>. Anaconda is installed in <code>C:\\Anaconda3</code>, but even in <code>C:\\Anaconda3\\Lib\\site-packages\\twisted</code>, there isn't a <code>twisted.py</code> or <code>twistd.py</code> file. </p>\n\n<p>Am I doing something wrong, or am I looking in the wrong place for the file(s)?</p>\n\n<p>Is this an issue because Twisted isn't officially ported to Python 3 yet?</p>\n"}, {"tags": ["python", "ssh", "subprocess"], "comments": [{"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1434578706, "post_id": 30902986, "comment_id": 49845281, "body": "What do you mean by &quot;performance issues&quot;? <code>subprocess.call()</code> shouldn&#39;t run noticeably slower than <code>os.system()</code>. If it works, your syntax should be fine."}, {"owner": {"reputation": 1956, "user_id": 3926499, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bf2c46207a53ace905fa2294c5acfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Donnald", "link": "https://stackoverflow.com/users/3926499/jason-donnald"}, "reply_to_user": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1434579063, "post_id": 30902986, "comment_id": 49845408, "body": "@skrrgwasme I want to use <code>subprocess.call()</code> as an alternative to <code>os.system()</code>.<code>os.system()</code> was giving me certain issues like some time it executes and some times it doesn&#39;t executes or hangs. I have read that <code>subprocess.call()</code> is a better option to use."}, {"owner": {"reputation": 1956, "user_id": 3926499, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bf2c46207a53ace905fa2294c5acfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Donnald", "link": "https://stackoverflow.com/users/3926499/jason-donnald"}, "reply_to_user": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1434579171, "post_id": 30902986, "comment_id": 49845447, "body": "@skrrgwasme is my <code>subprocess.call()</code> syntax correct? I am getting syntax error in it. Is there some other way also to formulate my <code>ssh</code> command in <code>subprocess.call()</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1434887373, "post_id": 30903508, "comment_id": 49960271, "body": "<code>shlex.split()</code> can be fooled easily. <code>shell=True</code> is unnecessary here."}], "tags": [], "owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "is_accepted": false, "score": 0, "last_activity_date": 1434579987, "creation_date": 1434579987, "answer_id": 30903508, "question_id": 30902986, "link": "https://stackoverflow.com/questions/30902986/form-a-subprocess-call-statement-from-systemcmd-command-in-python/30903508#30903508", "title": "form a subprocess.call() statement from system(cmd) command in python", "body": "<p>The function <a href=\"https://docs.python.org/2/library/shlex.html#shlex.split\" rel=\"nofollow\">shlex.split()</a> is useful for parsing command line arguments into the proper format. This should resolve your syntax error:</p>\n\n<pre><code>import shlex\nimport subprocess\n\ncmd =\"ssh -i pem-file.pem user@\" + hostname + \" 'cd /user/home/ &amp;&amp; java -cp jar-file.jar com.packg.class -a opt1 -f text-file_\" + ts + \".txt'\"\n\nresult = subprocess.call(shlex.split(cmd))\n</code></pre>\n\n<p>If that doesn't fix your error, then you can pass <code>subprocess.call</code> the <code>shell=True</code> argument:</p>\n\n<pre><code>    import subprocess\n\ncmd =\"ssh -i pem-file.pem user@\" + hostname + \" 'cd /user/home/ &amp;&amp; java -cp jar-file.jar com.packg.class -a opt1 -f text-file_\" + ts + \".txt'\"\n\nresult = subprocess.call(cmd, shell=True)\n</code></pre>\n\n<p>Using the shell argument will cause your command to be executed through a shell, rather than having the interpreter parse it. However, don't use the shell option if <code>cmd</code> can ever come from an untrusted source. Take at look at the warning in the <a href=\"https://docs.python.org/2/library/subprocess.html#frequently-used-arguments\" rel=\"nofollow\">Python docs</a>.</p>\n\n<p>One more note:</p>\n\n<p><code>subprocess.system()</code> is newer and more flexible than <code>os.system()</code>, but don't worry too much about \"upgrading\" to the new function. The advantages of <code>subprocess.call()</code> are in the more flexible options for communicating with your subprocess. If all you're doing is executing a single command and getting the return code, <code>os.system()</code> is probably fine. If you're finding that your command is being flaky and unreliable, switching to <code>subprocess.call()</code> probably isn't going to help much.</p>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 0, "last_activity_date": 1434887316, "last_edit_date": 1495541155, "creation_date": 1434887316, "answer_id": 30964171, "question_id": 30902986, "link": "https://stackoverflow.com/questions/30902986/form-a-subprocess-call-statement-from-systemcmd-command-in-python/30964171#30964171", "title": "form a subprocess.call() statement from system(cmd) command in python", "body": "<p>Assuming there are no shell meta-characters in <code>hostname</code> (likely), your command could look like this: each command-line argument is a separate list item:</p>\n\n<pre><code>#!/usr/bin/env python\nimport subprocess\n\ncmd = [\"ssh\", \"-i\", \"pem-file.pem\",  \"user@\" + hostname,\n       \"cd /user/home/ &amp;&amp; java -cp jar-file.jar com.packg.class -a opt1 \"\n       \"-f text-file_\" + ts + \".txt\"]\nsubprocess.check_call(cmd)\n</code></pre>\n\n<p>Unlike <code>os.system()</code>; it doesn't run the (local) shell.</p>\n\n<p>You could get the argument list using <code>shlex.split(your_original_system_command)</code> (<a href=\"https://stackoverflow.com/a/30903508/4279\">mentioned by @skrrgwasme</a>) but <code>shlex.split()</code> can be fooled and therefore it is mostly useful as a hint on how the result should look like.</p>\n"}], "owner": {"reputation": 1956, "user_id": 3926499, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bf2c46207a53ace905fa2294c5acfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Donnald", "link": "https://stackoverflow.com/users/3926499/jason-donnald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1434887316, "creation_date": 1434577690, "question_id": 30902986, "link": "https://stackoverflow.com/questions/30902986/form-a-subprocess-call-statement-from-systemcmd-command-in-python", "title": "form a subprocess.call() statement from system(cmd) command in python", "body": "<p>I have a <code>ssh</code> command which I was using in a <code>system()</code> statement but I want to replace it with a <code>subprocess.call()</code> statement. My <code>ssh</code> command is:</p>\n\n<pre><code>cmd =\"ssh -i pem-file.pem user@\" + hostname + \" 'cd /user/home/ &amp;&amp; java -cp jar-file.jar com.packg.class -a opt1 -f text-file_\" + ts + \".txt'\"\n\nsystem(cmd)\n</code></pre>\n\n<p>I want to replace above with a <code>subprocess.call()</code> statement as it is giving me some performance issues and I read that <code>subprocess.call()</code> is a much better option to use. I formulated this query but it is not executing:</p>\n\n<pre><code>result = subprocess.call([\"ssh\",\"-i\", \"pem-file.pem\",\"user@\" + hostname + \" 'cd /user/home/ &amp;&amp; java -cp jar-file.jar com.packg.class -a opt1 -f text-file_\" + ts + \".txt'\"])\n</code></pre>\n\n<p>What is the mistake I am doing and what is the correct syntax?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3542, "user_id": 777247, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/644d63893296ba85a17c7ce2f78a126a?s=128&d=identicon&r=PG", "display_name": "ronakg", "link": "https://stackoverflow.com/users/777247/ronakg"}, "edited": false, "score": 0, "creation_date": 1434577898, "post_id": 30902977, "comment_id": 49844913, "body": "Post output of <code>zcat export-cars.csv.gz</code> here."}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 1, "creation_date": 1434577923, "post_id": 30902977, "comment_id": 49844925, "body": "<code>print</code> is the first thing to reach for when debugging.  If you replace your <code>sum</code> line by <code>for line in lines: print(repr(line), repr(line.split(&quot;;&quot;)[5]), repr(mycar))</code>, what do you see?  (Using <code>repr</code> makes it easier to spot differences.)"}, {"owner": {"reputation": 1247, "user_id": 2045872, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/443295a53466b8ace4d5ea908ac58ce2?s=128&d=identicon&r=PG", "display_name": "noober", "link": "https://stackoverflow.com/users/2045872/noober"}, "edited": false, "score": 0, "creation_date": 1434578403, "post_id": 30902977, "comment_id": 49845131, "body": "For obvious reasons, I can&#39;t paste my data here. But I appreciate how to debug this. I did get some output though when I used <code>print(repr(line}</code>. <code>AttributeError: GzipFile instance has no attribute &#39;split&#39;</code>. I&#39;m running python <code>2.6.6</code>. Is that problem?"}], "owner": {"reputation": 1247, "user_id": 2045872, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/443295a53466b8ace4d5ea908ac58ce2?s=128&d=identicon&r=PG", "display_name": "noober", "link": "https://stackoverflow.com/users/2045872/noober"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1434577930, "creation_date": 1434577661, "question_id": 30902977, "link": "https://stackoverflow.com/questions/30902977/python-how-to-properly-search-and-count-keywords-in-a-csv-gz-file", "title": "python - how to properly search and count keywords in a csv.gz file", "body": "<p>I have this unix command line code that does this succesfully:</p>\n\n<pre><code>$ zcat export-cars.csv.gz | awk 'BEGIN {FS=\";\"};{print $6}' | grep -i bmw | wc -l\n222\n</code></pre>\n\n<p>I'm trying to do a similar using python (gzip, split) with this count, but getting a count of <code>0</code>:</p>\n\n<pre><code>import gzip\nmycar = 'bmw'\nlines = gzip.open('export-cars.csv.gz')\nmycat = sum(line.split(';')[5] == mycar for line in lines)\n\nprint (mycar)\n</code></pre>\n\n<p>Where is the problem? I tried different column number <code>[6]</code> and no luck.</p>\n"}, {"tags": ["python", "mongodb", "mongoengine"], "answers": [{"tags": [], "owner": {"reputation": 1161, "user_id": 4192556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t_Z4T6u8ZBU/AAAAAAAAAAI/AAAAAAAAAEw/Co3x-TTTjpA/photo.jpg?sz=128", "display_name": "Rajesh Kaushik", "link": "https://stackoverflow.com/users/4192556/rajesh-kaushik"}, "is_accepted": false, "score": 4, "last_activity_date": 1435596523, "creation_date": 1435596523, "answer_id": 31121211, "question_id": 30902973, "link": "https://stackoverflow.com/questions/30902973/ways-to-the-loop-through-all-fields-in-mongoengine-document-and-check-if-each-fi/31121211#31121211", "title": "Ways to the loop through all fields in mongoengine Document and check if each field is particular type and is_required", "body": "<p>You can simply use this</p>\n\n<pre><code>field_dict = SomeDocument.get_fields_info()\nfor field_name, field in field_dict.iteritems():\n    print field_name, field.required, field.__class__\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1440, "user_id": 457715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8e2565bf6dbce57948827a1a3274c4a?s=128&d=identicon&r=PG", "display_name": "jimjkelly", "link": "https://stackoverflow.com/users/457715/jimjkelly"}, "is_accepted": false, "score": 1, "last_activity_date": 1483483200, "creation_date": 1483483200, "answer_id": 41453489, "question_id": 30902973, "link": "https://stackoverflow.com/questions/30902973/ways-to-the-loop-through-all-fields-in-mongoengine-document-and-check-if-each-fi/41453489#41453489", "title": "Ways to the loop through all fields in mongoengine Document and check if each field is particular type and is_required", "body": "<p>The issue you were having is that <code>SomeDocument._fields</code> is a dictionary, so iterating on it is giving you the keys (which are strings).  For instance if you have a field <code>foo</code>, you can do <code>SomeDocument._fields['foo'].required</code>.  And of course you can do something like:</p>\n\n<pre><code>for field in SomeDocument._fields:\n    print '{} {} required.'.format(SomeDocument._fields[field], 'is' if SomeDocument._fields[field].required else 'is not')\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 4946607, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a3c61982df646f529307e6329c01f9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4946607/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2371, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1483483200, "creation_date": 1434577651, "question_id": 30902973, "link": "https://stackoverflow.com/questions/30902973/ways-to-the-loop-through-all-fields-in-mongoengine-document-and-check-if-each-fi", "title": "Ways to the loop through all fields in mongoengine Document and check if each field is particular type and is_required", "body": "<p>Here is some field in a Document using mongoengine</p>\n\n<pre><code>_id     = f.ObjectIdField(db_field=\"i\", required=True)\nname    = f.StringField(db_field=\"n\")\n</code></pre>\n\n<p>I would like to loop through each field in the Document and see if they are type XField and is_required is True, is there a way of doing that?</p>\n\n<p>I know you can list out all fields using <code>_fields</code></p>\n\n<p>but </p>\n\n<pre><code>for field in SomeDocument._fields:\n    print type(field) # always return 'str' not 'StringField' or 'ObjectField'\n\n    # Don't know how to check is_required\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["python", "partial", "functools", "rx-py"], "comments": [{"owner": {"reputation": 44309, "user_id": 21640, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/492a3c5c13fb44d27229364e0993fa11?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/21640/marcin"}, "edited": false, "score": 2, "creation_date": 1434577565, "post_id": 30902916, "comment_id": 49844783, "body": "Where&#39;s your code? It should be here."}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1434578836, "post_id": 30902916, "comment_id": 49845325, "body": "Partial functions should still be function objects. I second Marcin - we can&#39;t debug this without seeing the function you&#39;re wrapping, the code that does the wrapping, and the call to your partial function would help too."}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1434582065, "post_id": 30902916, "comment_id": 49846459, "body": "Does the factory in the <code>decorator</code> module help?"}], "answers": [{"comments": [{"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1434581926, "post_id": 30903169, "comment_id": 49846418, "body": "The problem is that the <code>inspect</code> module is doing this check though."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1434584104, "post_id": 30903169, "comment_id": 49846983, "body": "If you&#39;re desperate enough, you can write a class and give it a function bound to the class. I&#39;ll add it in."}, {"owner": {"reputation": 406, "user_id": 134347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73895eaa16c526a265eac25dac0612fd?s=128&d=identicon&r=PG", "display_name": "Justin Valentini", "link": "https://stackoverflow.com/users/134347/justin-valentini"}, "edited": false, "score": 0, "creation_date": 1434632952, "post_id": 30903169, "comment_id": 49869684, "body": "Yeah, the issue is that I don&#39;t have control over the code that calls out to <code>isfunction</code>. The library I&#39;m using, RxPy, is doing that under the covers."}, {"owner": {"reputation": 51632, "user_id": 208880, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de311342220232e618cb27c9936ab9bf?s=128&d=identicon&r=PG", "display_name": "Ethan Furman", "link": "https://stackoverflow.com/users/208880/ethan-furman"}, "reply_to_user": {"reputation": 406, "user_id": 134347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73895eaa16c526a265eac25dac0612fd?s=128&d=identicon&r=PG", "display_name": "Justin Valentini", "link": "https://stackoverflow.com/users/134347/justin-valentini"}, "edited": false, "score": 1, "creation_date": 1434650723, "post_id": 30903169, "comment_id": 49882112, "body": "@JustinValentini: You should report a bug to RxPy."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 406, "user_id": 134347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73895eaa16c526a265eac25dac0612fd?s=128&d=identicon&r=PG", "display_name": "Justin Valentini", "link": "https://stackoverflow.com/users/134347/justin-valentini"}, "edited": false, "score": 0, "creation_date": 1434653461, "post_id": 30903169, "comment_id": 49883628, "body": "@JustinValentini, I added in a lambda solution if you don&#39;t want to write a function decorator. It&#39;s simple and works.  I still recommend filing a bug report: forcing something to be a function necessarily stops class methods, method-wrappers, static methods, and many other valid arguments that act like functions.  RxPy should check if the actual variable has a <b>call</b> attribute, not whether it is a function. That&#39;s a design flaw."}, {"owner": {"reputation": 406, "user_id": 134347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73895eaa16c526a265eac25dac0612fd?s=128&d=identicon&r=PG", "display_name": "Justin Valentini", "link": "https://stackoverflow.com/users/134347/justin-valentini"}, "edited": false, "score": 1, "creation_date": 1434654679, "post_id": 30903169, "comment_id": 49884351, "body": "@AlexanderHuszagh, yeah I ended up just wrapping my partial in a lambda to fix it. I also filed a bug report here: <a href=\"https://github.com/ReactiveX/RxPY/issues/51\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxPY/issues/51</a>. Thanks for confirmation that this is a design flaw."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1434655415, "post_id": 30903169, "comment_id": 49884853, "body": "I would specifically mention that the issue is one of design, that their library should use duck-typing rather than make rash assumptions solely based on the argument&#39;s type.  Anything with a __call__() attribute should in theory be allowed in the library."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 406, "user_id": 134347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73895eaa16c526a265eac25dac0612fd?s=128&d=identicon&r=PG", "display_name": "Justin Valentini", "link": "https://stackoverflow.com/users/134347/justin-valentini"}, "edited": false, "score": 1, "creation_date": 1434656270, "post_id": 30903169, "comment_id": 49885357, "body": "@JustinValentini, after looking at the source, I added in some thoughts on the bug tracker.  It seems to work with methods as well."}, {"owner": {"reputation": 6332, "user_id": 2131849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/8Q9j2.png?s=128&g=1", "display_name": "Tcll", "link": "https://stackoverflow.com/users/2131849/tcll"}, "edited": false, "score": 1, "creation_date": 1567362867, "post_id": 30903169, "comment_id": 101934474, "body": "just wanted to note, don&#39;t do <code>hasattr(item,&#39;__call__&#39;)</code>, do <code>callable(item)</code> ;)"}], "tags": [], "owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "is_accepted": true, "score": 6, "last_activity_date": 1567427652, "last_edit_date": 1567427652, "creation_date": 1434578509, "answer_id": 30903169, "question_id": 30902916, "link": "https://stackoverflow.com/questions/30902916/method-wrapper-call-of-functools-partial-object-at-0x1356e10-is-not-a-py/30903169#30903169", "title": "&lt;method-wrapper &#39;__call__&#39; of functools.partial object at 0x1356e10&gt; is not a Python function", "body": "<p>You're asking if it's actually a function, and it's telling you isn't not a function. It's a method-wrapper.</p>\n\n<p>You want to <a href=\"https://en.wikipedia.org/wiki/Duck_typing\" rel=\"nofollow noreferrer\">duck-type</a>.</p>\n\n<pre><code>&gt;&gt;&gt; def printargs(*args):\n...     print args\n\n&gt;&gt;&gt; import inspect\n&gt;&gt;&gt; from functools import partial\n&gt;&gt;&gt; inspect.isfunction(printargs)\nTrue\n&gt;&gt;&gt; f = partial(printargs, 1)\n&gt;&gt;&gt; inspect.isfunction(f)\nFalse\n# try duck-typing, see if the variable is callable\n# check does it work for a method-wrapper?\n&gt;&gt;&gt; callable(f)\nTrue\n# check an integer, which should be false\n&gt;&gt;&gt; callable(1)\nFalse\n# ensure it works on an actual function\n&gt;&gt;&gt; callable(printargs)\nTrue\n</code></pre>\n\n<p>This is why you duck-type. You don't care if it's a function. You care if it acts like a function.</p>\n\n<p>EDIT:\nYou could, if desperate enough, write a class and pass a reference to a function in the class.</p>\n\n<pre><code>class A():\n    def __init__(self, frozen, *args, **kwds):\n        self.frozen = frozen\n        self.args = args\n        self.kwds = kwds\n\n    def call(self):\n        self.frozen(*self.args, **self.kwds)\n</code></pre>\n\n<p>Then just use A(f).call as your wrapper.</p>\n\n<pre><code>&gt;&gt;&gt; f_ = A(f)\n&gt;&gt;&gt; inspect.ismethod(f_.call)\nTrue\n&gt;&gt;&gt; f_.call()\n(1,)\n</code></pre>\n\n<p>This works as long as ismethod works.</p>\n\n<p>If not, you really need a decorator.</p>\n\n<p>Final EDIT:\nIf you are truly desperate enough and don't want to write a custom decorator, you could use a lambda function with a tuple to pass to make a partial-like function.</p>\n\n<p>Ex.:</p>\n\n<pre><code>&gt;&gt;&gt; import inspect\n&gt;&gt;&gt; def printargs(*args):\n...     print args\n&gt;&gt;&gt; a = (1,2,3)\n&gt;&gt;&gt; f = lambda x: printargs(*x)\n&gt;&gt;&gt; f(a)\n(1, 2, 3)\n&gt;&gt;&gt; inspect.isfunction(f)\nTrue\n</code></pre>\n"}], "owner": {"reputation": 406, "user_id": 134347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73895eaa16c526a265eac25dac0612fd?s=128&d=identicon&r=PG", "display_name": "Justin Valentini", "link": "https://stackoverflow.com/users/134347/justin-valentini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 1, "accepted_answer_id": 30903169, "answer_count": 1, "score": 5, "last_activity_date": 1567427652, "creation_date": 1434577383, "last_edit_date": 1434634473, "question_id": 30902916, "link": "https://stackoverflow.com/questions/30902916/method-wrapper-call-of-functools-partial-object-at-0x1356e10-is-not-a-py", "title": "&lt;method-wrapper &#39;__call__&#39; of functools.partial object at 0x1356e10&gt; is not a Python function", "body": "<p>I'm trying to build a function which I can use as a handler for an RxPy stream that I'm mapping over. The function I have needs access to a variable outside the scope where that variable is defined which, to me, means that I need to use a closure of some kind. So I reached for functools.partial to close over the one variable and return a partial function that I can pass to as an observer to my stream.</p>\n\n<p>However, doing so results in the following:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"retry/example.py\", line 46, in &lt;module&gt;\n    response_stream = message_stream.flat_map(functools.partial(message_handler, context=context))\n  File \"/home/justin/virtualenv/retry/local/lib/python2.7/site-packages/rx/linq/observable/selectmany.py\", line 67, in select_many\n    selector = adapt_call(selector)\n  File \"/home/justin/virtualenv/retry/local/lib/python2.7/site-packages/rx/internal/utils.py\", line 37, in adapt_call_1\n    argnames, varargs, kwargs = getargspec(func)[:3]\n  File \"/usr/lib/python2.7/inspect.py\", line 816, in getargspec\n    raise TypeError('{!r} is not a Python function'.format(func))\nTypeError: &lt;method-wrapper '__call__' of functools.partial object at 0x2ce6cb0&gt; is not a Python function\n</code></pre>\n\n<p>Here is some sample code which reproduces the problem:</p>\n\n<pre><code>from __future__ import absolute_import\nfrom rx import Observable, Observer\nfrom pykafka import KafkaClient\nfrom pykafka.common import OffsetType\nimport logging\nimport requests\nimport functools\n\n\nlogger = logging.basicConfig()\n\n\ndef puts(thing):\n    print thing\n\n\ndef message_stream(consumer):\n    def thing(observer):\n        for message in consumer:\n            observer.on_next(message)\n\n    return Observable.create(thing)\n\n\ndef message_handler(message, context=None):\n    def req():\n        return requests.get('http://httpbin.org/get')\n\n    return Observable.start(req)\n\n\ndef handle_response(message, response, context=None):\n    consumer = context['consumer']\n    producer = context['producer']\n    t = 'even' if message % 2 == 0 else 'odd'\n    return str(message) + ': ' + str(response) + ' - ' + t + ' | ' + str(consumer) + ' | ' + producer\n\n\nconsumer = ['pretend', 'these', 'are', 'kafka', 'messages']\nproducer = 'some producer'\ncontext = {\n    'consumer': consumer,\n    'producer': producer\n}\nmessage_stream = message_stream(consumer)\nresponse_stream = message_stream.flat_map(functools.partial(message_handler, context=context))\nmessage_response_stream = message_stream.zip(response_stream, functools.partial(handle_response, context=context))\nmessage_stream.subscribe(puts)\n</code></pre>\n\n<p>The problem seems to be that my partial function returns <code>False</code> when calling <code>inspect.isfunction</code>.</p>\n\n<p>How can I make my partial function pass this check? Is there a way to easily convert a partial function into a \"real\" function type?</p>\n"}, {"tags": ["javascript", "python", "ipython-notebook"], "comments": [{"owner": {"reputation": 16299, "user_id": 2870069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2fc1f306eeb7375a6180695ee533f4b?s=128&d=identicon&r=PG", "display_name": "Jakob", "link": "https://stackoverflow.com/users/2870069/jakob"}, "edited": false, "score": 1, "creation_date": 1434604139, "post_id": 30902898, "comment_id": 49851738, "body": "I met your needs some time ago and didn&#39;t find a solution. I posted <a href=\"https://github.com/ipython/ipython/issues/7804\" rel=\"nofollow noreferrer\">this  issue</a> on GH but still, I fear this is not that trivial."}, {"owner": {"reputation": 5481, "user_id": 1796223, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2060f6af9bcaf37c5952ed74926ba776?s=128&d=identicon&r=PG&f=1", "display_name": "Apogentus", "link": "https://stackoverflow.com/users/1796223/apogentus"}, "edited": false, "score": 0, "creation_date": 1527804504, "post_id": 30902898, "comment_id": 88277204, "body": "Also have similar question: <a href=\"https://stackoverflow.com/questions/50633415/get-jupyter-notebook-name\" title=\"get jupyter notebook name\">stackoverflow.com/questions/50633415/get-jupyter-notebook-na&zwnj;&#8203;me</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13040, "user_id": 758174, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Zqidc.jpg?s=128&g=1", "display_name": "Pierre D", "link": "https://stackoverflow.com/users/758174/pierre-d"}, "edited": false, "score": 0, "creation_date": 1434614631, "post_id": 30909462, "comment_id": 49857137, "body": "argh, <code>IPython.notebook.save_notebook()</code> returns immediately, before the notebook is actually saved, so we end up copying some incomplete/dirty notebook.  I&#39;ll need to fix that."}, {"owner": {"reputation": 2658, "user_id": 2496170, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0f188ed3c5f56171f0806dcc1a5c8498?s=128&d=identicon&r=PG", "display_name": "Vlad", "link": "https://stackoverflow.com/users/2496170/vlad"}, "edited": false, "score": 0, "creation_date": 1523625286, "post_id": 30909462, "comment_id": 86650225, "body": "Did you ended up fixing it ? I&#39;m facing a similar issue , were i need to write JS variables from Canvas game to python in runtime :|"}], "tags": [], "owner": {"reputation": 13040, "user_id": 758174, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Zqidc.jpg?s=128&g=1", "display_name": "Pierre D", "link": "https://stackoverflow.com/users/758174/pierre-d"}, "is_accepted": false, "score": 2, "last_activity_date": 1434613738, "creation_date": 1434613738, "answer_id": 30909462, "question_id": 30902898, "link": "https://stackoverflow.com/questions/30902898/ipython-notebook-javascript-retrieve-content-from-javascript-variables/30909462#30909462", "title": "IPython Notebook Javascript: retrieve content from JavaScript variables", "body": "<p>Okay, I found a way around the problem: call a Python function from Javascript and have it do all of what I need, rather than returning the name to \"above\" and work with that name there.</p>\n\n<p>For context: my colleagues and I have many experimental notebooks; we experiment for a while and try various things (in a machine learning context). At the end of each variation/run, I want to save the notebook, copy it under a name that reflects the time, upload it to S3, strip it from its output and push it to git, log the filename, comments, and result scores into a DB, etc.  In short, I want to automatically keep track of all of our experiments.</p>\n\n<p>This is what I have so far. At the bottom of my notebooks, I put:</p>\n\n<pre><code>In [127]: import mymodule.utils.lognote as lognote\n          lognote.snap()\n\nIn [128]: # not to be run in the same shot as above\n          lognote.last\nOut[128]: {'file': '/data/notebook-snapshots/2015/06/18/20150618-004408-save-note-exp.ipynb',\n           'time': datetime.datetime(2015, 6, 18, 0, 44, 8, 419907)}\n</code></pre>\n\n<p>And in a separate file, e.g. <code>mymodule/utils/lognote.py</code>:</p>\n\n<pre><code># (...)\n\nfrom datetime import datetime\nfrom subprocess import call\nfrom os.path import basename, join\nfrom IPython.display import display, Javascript\n\n# TODO: find out where the topdir really is instead of hardcoding it\n_notebook_dir = '/data/notebook'\n_snapshot_dir = '/data/notebook-snapshots'\n\ndef jss():\n    return \"\"\"\n    IPython.notebook.save_notebook();\n    IPython.notebook.kernel.execute(\"import mymodule.utils.lognote as lognote\");\n    IPython.notebook.kernel.execute(\"lognote._snap('\" + IPython.notebook.notebook_path + \"')\");\n    \"\"\"\ndef js():\n    return Javascript(jss())\n\ndef _snap(x):\n    global last\n    snaptime = datetime.now()\n    src = join(_notebook_dir, x)\n    dstdir = join(_snapshot_dir, '{}'.format(snaptime.strftime(\"%Y/%m/%d\")))\n    dstfile = join(dstdir, '{}-{}'.format(snaptime.strftime(\"%Y%m%d-%H%M%S\"), basename(x)))\n    call([\"mkdir\", \"-p\", dstdir])\n    call([\"cp\", src, dstfile])\n    last = {\n        'time': snaptime,\n        'file': dstfile\n        }\n\ndef snap():\n    display(js())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 2800464, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f7b3745e9867a5a5f4b3495d84c9deb4?s=128&d=identicon&r=PG&f=1", "display_name": "user2800464", "link": "https://stackoverflow.com/users/2800464/user2800464"}, "is_accepted": false, "score": 5, "last_activity_date": 1465744772, "creation_date": 1465744772, "answer_id": 37775879, "question_id": 30902898, "link": "https://stackoverflow.com/questions/30902898/ipython-notebook-javascript-retrieve-content-from-javascript-variables/37775879#37775879", "title": "IPython Notebook Javascript: retrieve content from JavaScript variables", "body": "<p>I think the problem is related with Javascript being asynchronus while python is not. Normally you would think that the Javascript(\"\"\" python cmd \"\"\") command is executed, and then your print statment should work properly as expected. However, the Javascript command is fired but not executed. Most pobably it is executed after the cell 1 execution is fully completed.</p>\n\n<p>I tried your example with sleep function. Did not help.</p>\n\n<p>The asnyc problem can esaily be seen by adding an alert statement within my_js, but before kernel.execute line. The alert should be fired even before trying a python command execution. </p>\n\n<p>But at the presence of print (my_out) statement within cell 1, you will again get the same error without any alerts. If you take the print line out, you will see the alert poping out within cell 1. But the varibale my_out is set afterwards.</p>\n\n<pre><code>my_out = None\ndel my_out\nmy_js = \"\"\"\n**alert (\"about to execute python comand\");**\nIPython.notebook.kernel.execute(\"my_out = 'hello world'\");\n\"\"\"\nJavascript(my_js)\n</code></pre>\n\n<p>There are other javascript utilities within notebook like IPython.display.display_xxx which varies from displaying video to text object, but even the text object option does not work.</p>\n\n<p>Funny enough, I tested this with my webgl canvas application which displays objects on the HTML5 canvas; display.display_javascript(javascript object) works fine ( which is a looong html5 document) while the two pieces of words of output does not show up?! Maybe I should embed the output into canvas application somewhere, so it s displayed on the canvas :)</p>\n"}, {"tags": [], "owner": {"reputation": 3354, "user_id": 9201239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/weI7h.jpg?s=128&g=1", "display_name": "stason", "link": "https://stackoverflow.com/users/9201239/stason"}, "is_accepted": false, "score": 1, "last_activity_date": 1553881096, "creation_date": 1553881096, "answer_id": 55422878, "question_id": 30902898, "link": "https://stackoverflow.com/questions/30902898/ipython-notebook-javascript-retrieve-content-from-javascript-variables/55422878#55422878", "title": "IPython Notebook Javascript: retrieve content from JavaScript variables", "body": "<p>To add to the other great answers, there is a nuance of the browsers attempting to run the jupyter nb javascript magic on nb load. </p>\n\n<p>To demonstrate: create and run the following cell:</p>\n\n<pre><code>%%javascript \nIPython.notebook.kernel.execute('1')\n</code></pre>\n\n<p>Now save the notebook, close it and then re-open it. When you do that, under that cell suddenly you will see an error in red:</p>\n\n<pre><code>Javascript error adding output!\nTypeError: Cannot read property 'execute' of null\nSee your browser Javascript console for more details.\n</code></pre>\n\n<p>That means the browser has parsed some js code and it tried to run it. This is the error in chrome, it will probably different in a different browser.</p>\n\n<p>I have no idea why this jupyter javascript magic cell is being run on load and why jupyter notebook is not properly escaping things, but the browser sees some js code and so it runs it and it fails, because the notebook kernel doesn't yet exist!</p>\n\n<p>So you must add a check that the object exists:</p>\n\n<pre><code>%%javascript \nif (IPython.notebook.kernel) {\n    IPython.notebook.kernel.execute('1')\n}\n</code></pre>\n\n<p>and now there is no problem on load.</p>\n\n<p>In my case, I needed to save the notebook and run an external script on it, so I ended up using this code:</p>\n\n<pre><code>from IPython.display import display, Javascript\ndef nb_auto_export():\n    display(Javascript(\"if (IPython.notebook) { IPython.notebook.save_notebook() }; if (IPython.notebook.kernel) { IPython.notebook.kernel.execute('!./notebook2script.py  ' + IPython.notebook.notebook_name )}\"))\n</code></pre>\n\n<p>and in the last cell of the notebook:</p>\n\n<pre><code>nb_auto_export()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 12379465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c038eda03a9cc36571d7485eea8d01ac?s=128&d=identicon&r=PG&f=1", "display_name": "erpuntbakker", "link": "https://stackoverflow.com/users/12379465/erpuntbakker"}, "is_accepted": false, "score": 1, "last_activity_date": 1574416024, "creation_date": 1574416024, "answer_id": 58991519, "question_id": 30902898, "link": "https://stackoverflow.com/questions/30902898/ipython-notebook-javascript-retrieve-content-from-javascript-variables/58991519#58991519", "title": "IPython Notebook Javascript: retrieve content from JavaScript variables", "body": "<p>I wrote a related question (<a href=\"https://stackoverflow.com/questions/58881349/cannot-get-jupyter-notebook-to-access-javascript-variables?noredirect=1#comment104043596_58881349\">Cannot get Jupyter notebook to access javascript variables</a>) and came up with a hack that does the job. It uses the fact that the input(prompt) command in Python does block the execution loop and waits for user input. So I looked how this is processed on the Javascript side and inserted interception code there.</p>\n\n<p>The interception code is:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import json\nfrom IPython.display import display, Javascript\ndisplay(Javascript(\"\"\"\n  const CodeCell = window.IPython.CodeCell;\n\n  CodeCell.prototype.native_handle_input_request = CodeCell.prototype.native_handle_input_request || CodeCell.prototype._handle_input_request\n  CodeCell.prototype._handle_input_request = function(msg) {\n    try {\n      // only apply the hack if the command is valid JSON\n      console.log(msg.content.prompt)\n      const command = JSON.parse(msg.content.prompt);\n      const kernel = IPython.notebook.kernel;\n      // return some value in the Javascript domain, depending on the 'command'.\n      // for now: specify a 5 second delay and return 'RESPONSE'\n      kernel.send_input_reply(eval(command[\"eval\"]))\n    } catch(err) {\n      console.log('Not a command',msg,err);\n      this.native_handle_input_request(msg);\n    }\n  }\n\"\"\"))\n</code></pre>\n\n<p>The interception code looks whether the input prompt is valid JSON, and in that case it executes an action depending on the <code>command</code> argument. In this case, it runs the commend[\"eval\"] javascript expression and returns the result.\nAfter running this cell, you can use:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>notebook_path = input(json.dumps({\"eval\":\"IPython.notebook.notebook_path\"}))\n</code></pre>\n\n<p>Quite a hack, I must admit.</p>\n"}], "owner": {"reputation": 13040, "user_id": 758174, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Zqidc.jpg?s=128&g=1", "display_name": "Pierre D", "link": "https://stackoverflow.com/users/758174/pierre-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4856, "favorite_count": 2, "answer_count": 4, "score": 10, "last_activity_date": 1574416024, "creation_date": 1434577295, "last_edit_date": 1495541416, "question_id": 30902898, "link": "https://stackoverflow.com/questions/30902898/ipython-notebook-javascript-retrieve-content-from-javascript-variables", "title": "IPython Notebook Javascript: retrieve content from JavaScript variables", "body": "<p>Is there a way for a <strong>function</strong> (called by an IPython Notebook cell) to retrieve the content of a JavaScript variable (for example <code>IPython.notebook.notebook_path</code> which contains the path of the current notebook)?</p>\n\n<p>The following works well when written directly within a cell (for example, based on <a href=\"https://stackoverflow.com/a/23619544/758174\">this question</a> and its comments):</p>\n\n<pre><code>from IPython.display import display,Javascript\nJavascript('IPython.notebook.kernel.execute(\"mypath = \" + \"\\'\"+IPython.notebook.notebook_path+\"\\'\");')\n</code></pre>\n\n<p>But that falls apart if I try to put it in a function:</p>\n\n<pre><code># this doesn't work\nfrom IPython.display import display,Javascript\ndef getname():\n    my_js = \"\"\"\n    IPython.notebook.kernel.execute(\"mypath = \" + \"\\'\"+IPython.notebook.notebook_path+\"\\'\");\n    \"\"\"\n    Javascript(my_js)\n    return mypath\n</code></pre>\n\n<p>(And yes, I've tried to make <code>global</code> the <code>mypath</code> variable, both from within the <code>my_js</code> script and from within the function. Also note: don't be fooled by possible leftover values in variables from previous commands; to make sure, use <code>mypath = None; del mypath</code> to reset the variable before calling the function, or restart the kernel.)</p>\n\n<p>Another way to formulate the question is: \"what's the scope (time and place) of a variable set by <code>IPython.notebook.kernel.execute()</code>\"?</p>\n\n<p>I think it isn't an innocuous question, and is probably related to the mechanism that IPython uses to control its kernels and their variables and that I don't know much about.  The following experiment illustrate some aspect of that mechanism. The following works when done in two separate cells, but doesn't work if the two cells are merged:</p>\n\n<p><strong>Cell [1]</strong>:</p>\n\n<pre><code>my_out = None\ndel my_out\nmy_js = \"\"\"\nIPython.notebook.kernel.execute(\"my_out = 'hello world'\");\n\"\"\"\nJavascript(my_js)\n</code></pre>\n\n<p><strong>Cell [2]</strong>:</p>\n\n<pre><code>print(my_out)\n</code></pre>\n\n<p>This works and produces the expected <code>hello world</code>. But if you merge the two cells, it doesn't work (<code>NameError: name 'my_out' is not defined</code>).</p>\n"}, {"tags": ["python", "data-structures", "multiset"], "answers": [{"comments": [{"owner": {"reputation": 14927, "user_id": 2719875, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ae764a4524119ce0d93e7d8f0ee2356c?s=128&d=identicon&r=PG&f=1", "display_name": "user2719875", "link": "https://stackoverflow.com/users/2719875/user2719875"}, "edited": false, "score": 0, "creation_date": 1434581585, "post_id": 30903006, "comment_id": 49846345, "body": "hm, interesting. Okay, so does that mean it is okay for me to use Python&#39;s built in list ([]) to instantiate my MultiSet (like how I did in my code above) just as it is okay for me to use my own Linked List?"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 14927, "user_id": 2719875, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ae764a4524119ce0d93e7d8f0ee2356c?s=128&d=identicon&r=PG&f=1", "display_name": "user2719875", "link": "https://stackoverflow.com/users/2719875/user2719875"}, "edited": false, "score": 0, "creation_date": 1434581684, "post_id": 30903006, "comment_id": 49846371, "body": "@user2719875 yes, it&#39;s just a matter of your decision."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 2, "last_activity_date": 1434577770, "creation_date": 1434577770, "answer_id": 30903006, "question_id": 30902823, "link": "https://stackoverflow.com/questions/30902823/how-to-properly-instantiate-a-multiset-created-on-my-own-using-python/30903006#30903006", "title": "How to properly instantiate a MultiSet (created on my own) using Python", "body": "<p>It looks like you're conflating two things:</p>\n\n<ul>\n<li><p>data structures - using Python (or any other language, basically), you can implement linked lists, balanced trees, hash tables, etc.</p></li>\n<li><p>mapping semantics - any container, but an associative container in particular, has a protocol: what does it do when you insert a key that's already in it? does it have an operation to access all items with a given key? etc.</p></li>\n</ul>\n\n<p>So, given your linked list, you can certainly implement a multiset (albeit with not that great performance), because it's mainly a question of your decision. One possible way would be:</p>\n\n<ul>\n<li><p>Upon an insert, append a new node with the key</p></li>\n<li><p>For a find, iterate through the nodes; return the first key you find, or <code>None</code> if there aren't any</p></li>\n<li><p>For a find_all, iterate through the nodes, and return a list (or your own linked-list, for that matter), of all the keys matching it.</p></li>\n</ul>\n\n<hr>\n\n<p>Similarly, a linked-list, by itself, doesn't dictate if you have to use it as a set or a dictionary (or anything else). These are orthogonal decisions.</p>\n"}], "owner": {"reputation": 14927, "user_id": 2719875, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ae764a4524119ce0d93e7d8f0ee2356c?s=128&d=identicon&r=PG&f=1", "display_name": "user2719875", "link": "https://stackoverflow.com/users/2719875/user2719875"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 30903006, "answer_count": 1, "score": 0, "last_activity_date": 1434577770, "creation_date": 1434577009, "last_edit_date": 1434577259, "question_id": 30902823, "link": "https://stackoverflow.com/questions/30902823/how-to-properly-instantiate-a-multiset-created-on-my-own-using-python", "title": "How to properly instantiate a MultiSet (created on my own) using Python", "body": "<p>I wanted to learn about Data Structures so I decided to create them using Python. I first created a Singly Linked List (which consists of two classes: the actual List and the Node). A List consists of Nodes (or can be empty). Each node had a \"next\" value. When I instantiated a list, it would look like this:</p>\n\n<pre><code>l = LinkedList([1,2])\n</code></pre>\n\n<p>and this was the sudocode for the <strong>init</strong>:</p>\n\n<pre><code>def __init__(self, item=None):\n    head = None\n\n    if a single item was given\n        head = Node(item)\n        head.next = None\n    else if multiple items were given\n        for i in item\n            if head: # i is not the first item in the list\n                new_head = Node(i)\n                new_head.next = head\n                head = new_head\n            else: # i is the first item in the list\n                head = Node(i)\n                head.next = None\n</code></pre>\n\n<p>Maybe there is a flaw in the logic above, but hopefully you get how it works more or less. The key thing I noted here was that I did not use any list ([]) or array ({}) because I didn't need to.</p>\n\n<p>Now, I am trying to create a MultiSet but I am stuck in the <strong>init</strong> part.\nIt was simple for a Linked Lists because when I read articles on Linked Lists, all of the articles immediately mentioned a List class and a Node class (a List consists of a Node. a List has a head and a tail. a Node has a 'next' value). But when I read articles on MultiSets, they just mention that multisets are sets (or bags) of data where multiple instances of the same data are allowed.</p>\n\n<p>This is my <strong>init</strong> for my multiset so far:</p>\n\n<pre><code>def __init__(self, items=None):\n    self.multiset = []\n    if items: # if items is not None\n        try:\n            for i in items: # iterate through multiple items (assuming items is a list of items)\n                self.multiset.append(i)\n        except: # items is only one item\n            self.multiset.append(items)\n</code></pre>\n\n<p>I don't think I am on the right track though because I'm using a Python list ([]) rather than implementing my own (like how I did with a Linked List using Nodes, list.head, list.tail and node.next).</p>\n\n<p>Can someone point me in the right direction as to how I would create and instantiate my own MultiSet using Python (without using existing Pytohn lists / arrays)? Or am I already on the right track and am I supposed to be using Python lists / arrays when I am creating my own MultiSet data structure?</p>\n"}, {"tags": ["python", "pip"], "answers": [{"comments": [{"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1434576970, "post_id": 30902785, "comment_id": 49844531, "body": "python3 -m pip install sqlalchemy works fine for me on Ubuntu (my default is Python2)."}, {"owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 0, "creation_date": 1434577135, "post_id": 30902785, "comment_id": 49844589, "body": "@MikkoOhtamaa Thanks. I tried the first command you suggested and I get the following message: <code>Successfully installed SQLAlchemy                            Cleaning up..                         Exception</code> and then a lot of description about the Exception."}, {"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 2, "creation_date": 1434577178, "post_id": 30902785, "comment_id": 49844612, "body": "Please edit your question and include the full error info, preferably as Markdown code block."}, {"owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "edited": false, "score": 1, "creation_date": 1434578019, "post_id": 30902785, "comment_id": 49844960, "body": "@MikkoOhtamaa I reopened my Command Prompt and it worked. Don&#39;t understand what was happening. Thank You."}], "tags": [], "owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "is_accepted": true, "score": 5, "last_activity_date": 1434577015, "last_edit_date": 1434577015, "creation_date": 1434576858, "answer_id": 30902785, "question_id": 30902746, "link": "https://stackoverflow.com/questions/30902746/no-distributions-at-all-found-for-setup-py/30902785#30902785", "title": "No distributions at all found for setup.py", "body": "<p>You are using wrong command. Please do</p>\n\n<pre><code>pip install SQLAlchemy\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>python setup.py install  # If you want to manually extract the package for installation for some reason, but this is not required with pip\n</code></pre>\n"}], "owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3155, "favorite_count": 0, "accepted_answer_id": 30902785, "answer_count": 1, "score": 4, "last_activity_date": 1434577015, "creation_date": 1434576709, "last_edit_date": 1495541215, "question_id": 30902746, "link": "https://stackoverflow.com/questions/30902746/no-distributions-at-all-found-for-setup-py", "title": "No distributions at all found for setup.py", "body": "<p>I'm having an issue with <code>pip install</code>. I am trying to download <code>SQLAlchemy</code> and download the gz file from <a href=\"https://pypi.python.org/pypi/SQLAlchemy/1.0.5\" rel=\"nofollow noreferrer\">here</a>. However, when I type <code>pip install setup.py</code> in the Command Prompt, I get:</p>\n\n<pre><code>Downloading/unpacking setup.py \nCould not find any downloads that satisfy the requirement setup.py\nCleaning up..\nNo distributions at all found for setup.py\n</code></pre>\n\n<p>I've been facing a similar problem with <code>pip</code> when trying to download other libraries and this started occurring a day after I downloaded Python 3.4, when I was running Python 2.7 previously. I had a look at <a href=\"https://stackoverflow.com/questions/18230956/could-not-find-a-version-that-satisfies-the-requirement-pytz\">this</a> and tried using <code>pip install --pre library_name</code>. However, this doesn't seem to working either and I get a similar message to the one above. </p>\n\n<p>Thank You</p>\n"}, {"tags": ["python", "os.system"], "comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1434576790, "post_id": 30902724, "comment_id": 49844437, "body": "Are you putting it in a tkinter script? Can you show us that script? It seems like a threading issue"}, {"owner": {"reputation": 31, "user_id": 5012239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9J2Ht.jpg?s=128&g=1", "display_name": "Benjimaestro", "link": "https://stackoverflow.com/users/5012239/benjimaestro"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1434579961, "post_id": 30902724, "comment_id": 49845786, "body": "I will paste the script in later, but it happens in any script even just import OS and the command."}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1434580194, "post_id": 30902724, "comment_id": 49845868, "body": "Try this: <code>subprocess.call(&quot;java -jar &#47;home&#47;pi&#47;Desktop&#47;GGUIv0.8&#47;limelight.jar stream -app Steam -notest 192.168.1.100&quot;, shell = True)</code>. Just <code>import subprocess</code>, it&#39;s builtin"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1434655711, "post_id": 30902724, "comment_id": 49885047, "body": "Just like that from python? Does it expect any input or output?"}, {"owner": {"reputation": 31, "user_id": 5012239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9J2Ht.jpg?s=128&g=1", "display_name": "Benjimaestro", "link": "https://stackoverflow.com/users/5012239/benjimaestro"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1434703610, "post_id": 30902724, "comment_id": 49902655, "body": "From the Python shell and a saved script, it will pause for a moment as it does when it would work but then nothing happens, returning to the shell prompt."}], "owner": {"reputation": 31, "user_id": 5012239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9J2Ht.jpg?s=128&g=1", "display_name": "Benjimaestro", "link": "https://stackoverflow.com/users/5012239/benjimaestro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1434576602, "creation_date": 1434576602, "question_id": 30902724, "link": "https://stackoverflow.com/questions/30902724/python-line-to-run-jar-works-very-strangely", "title": "Python line to run .jar works very strangely", "body": "<p>I'm trying to run limelight.jar with parameters with Python. Opening a brand new Python 3 shell and entering this:</p>\n\n<pre><code>os.system(\"java -jar /home/pi/Desktop/GGUIv0.8/limelight.jar stream -app Steam -notest 192.168.1.100\")\n</code></pre>\n\n<p>Works fine. It brings up Steam Big Pic streamed from my PC to my Pi. Brill!\nBut here's the thing. I put the <em>exact</em> same thing into a Python script, like a Tkinter GUI, and when it gets run it returns a 0 and no stream appears, no matter how long I wait.</p>\n\n<p>What is going on and how can I solve this?!</p>\n"}, {"tags": ["python", "postgresql"], "answers": [{"tags": [], "owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "is_accepted": false, "score": 0, "last_activity_date": 1434577450, "creation_date": 1434577450, "answer_id": 30902931, "question_id": 30902701, "link": "https://stackoverflow.com/questions/30902701/trouble-connecting-to-postgresql-db-through-pythons-psycopg2/30902931#30902931", "title": "Trouble connecting to Postgresql DB through Python&#39;s psycopg2", "body": "<p>Did you check what the poster said to check?\n<br>\nOn your server run the following command:<br>\ncd /etc/postgresql/9.1/main/postgresql.conf</p>\n\n<p>It might not be the same version so watch 9.1 but pretty much navigate to postgresql.conf. In this file will be the listed port. If running from the same machine make sure they aren't consuming the same port. pgadmin is using 5432 so make sure this file says it is as well.</p>\n"}, {"comments": [{"owner": {"reputation": 265, "user_id": 3658457, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f815a12e27379ab1507affab8aa5ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3658457", "link": "https://stackoverflow.com/users/3658457/user3658457"}, "edited": false, "score": 0, "creation_date": 1434578530, "post_id": 30902952, "comment_id": 49845189, "body": "now it says: OperationalError: sslmode value &quot;require&quot; invalid when SSL support is not compiled in"}, {"owner": {"reputation": 1614, "user_id": 1308699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cff9a894b2c155716120cb8ebc2a68f4?s=128&d=identicon&r=PG", "display_name": "Erin Call", "link": "https://stackoverflow.com/users/1308699/erin-call"}, "reply_to_user": {"reputation": 265, "user_id": 3658457, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f815a12e27379ab1507affab8aa5ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3658457", "link": "https://stackoverflow.com/users/3658457/user3658457"}, "edited": false, "score": 0, "creation_date": 1434578885, "post_id": 30902952, "comment_id": 49845346, "body": "blech. I think you need to reinstall python with SSL support. The specifics of that will depend on how you installed it originally."}, {"owner": {"reputation": 265, "user_id": 3658457, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f815a12e27379ab1507affab8aa5ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3658457", "link": "https://stackoverflow.com/users/3658457/user3658457"}, "edited": false, "score": 0, "creation_date": 1434582044, "post_id": 30902952, "comment_id": 49846452, "body": "hmm...could you point me in the right direction for doing that?  i&#39;m not sure  where to get started.  thanks again!"}, {"owner": {"reputation": 1614, "user_id": 1308699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cff9a894b2c155716120cb8ebc2a68f4?s=128&d=identicon&r=PG", "display_name": "Erin Call", "link": "https://stackoverflow.com/users/1308699/erin-call"}, "reply_to_user": {"reputation": 265, "user_id": 3658457, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f815a12e27379ab1507affab8aa5ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3658457", "link": "https://stackoverflow.com/users/3658457/user3658457"}, "edited": false, "score": 0, "creation_date": 1434647890, "post_id": 30902952, "comment_id": 49880410, "body": "I would think the downloads on <a href=\"https://www.python.org/downloads/\" rel=\"nofollow noreferrer\">python.org/downloads</a> would be compiled with SSL support. What OS are you on?"}, {"owner": {"reputation": 265, "user_id": 3658457, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f815a12e27379ab1507affab8aa5ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3658457", "link": "https://stackoverflow.com/users/3658457/user3658457"}, "edited": false, "score": 0, "creation_date": 1434653060, "post_id": 30902952, "comment_id": 49883394, "body": "i&#39;m on mac os x.  i downloaded python using anaconda.  i&#39;ll try reinstalling it directly from the python website."}, {"owner": {"reputation": 1614, "user_id": 1308699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cff9a894b2c155716120cb8ebc2a68f4?s=128&d=identicon&r=PG", "display_name": "Erin Call", "link": "https://stackoverflow.com/users/1308699/erin-call"}, "reply_to_user": {"reputation": 265, "user_id": 3658457, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f815a12e27379ab1507affab8aa5ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3658457", "link": "https://stackoverflow.com/users/3658457/user3658457"}, "edited": false, "score": 0, "creation_date": 1434656923, "post_id": 30902952, "comment_id": 49885761, "body": "Anaconda is one of the things I came across when I was researching the &quot;compiled without ssl&quot; error! Installing from the downloads page or from Homebrew should get you going."}], "tags": [], "owner": {"reputation": 1614, "user_id": 1308699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cff9a894b2c155716120cb8ebc2a68f4?s=128&d=identicon&r=PG", "display_name": "Erin Call", "link": "https://stackoverflow.com/users/1308699/erin-call"}, "is_accepted": false, "score": 0, "last_activity_date": 1434577555, "creation_date": 1434577555, "answer_id": 30902952, "question_id": 30902701, "link": "https://stackoverflow.com/questions/30902701/trouble-connecting-to-postgresql-db-through-pythons-psycopg2/30902952#30902952", "title": "Trouble connecting to Postgresql DB through Python&#39;s psycopg2", "body": "<p>It looks like you have the same problem as <a href=\"https://stackoverflow.com/questions/26146919/unable-to-connect-with-psycopg2-but-can-via-command-line\">this question</a>: You're not connecting over SSL. Try passing <code>sslmode='require'</code> to <code>psycopg2.connect</code>.</p>\n"}], "owner": {"reputation": 265, "user_id": 3658457, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f815a12e27379ab1507affab8aa5ace?s=128&d=identicon&r=PG&f=1", "display_name": "user3658457", "link": "https://stackoverflow.com/users/3658457/user3658457"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1507, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1434577555, "creation_date": 1434576504, "last_edit_date": 1495541668, "question_id": 30902701, "link": "https://stackoverflow.com/questions/30902701/trouble-connecting-to-postgresql-db-through-pythons-psycopg2", "title": "Trouble connecting to Postgresql DB through Python&#39;s psycopg2", "body": "<p>I have been using a postgres database with pgAdmin3, and have never had any issues with connecting to the database.  Today I tried accessing the database through Python using the following code:</p>\n\n<pre><code>import psycopg2\nconn_string = \"dbname='db0r0373s42fkg' user='ucaj9jki7hfthu' host='ec2-107-20-189-29.compute-1.amazonaws.com' password='secret'\"\nconn = psycopg2.connect(conn_string)\nconn.close()\n</code></pre>\n\n<p>and I get the following error:</p>\n\n<pre><code>FATAL:  no pg_hba.conf entry for host \"207.204.247.209\", user \"ucaj9jki7hfthu\", database \"db0r0373s42fkg\", SSL off\n</code></pre>\n\n<p>From looking around this site, it seems that error occurs when the database is not set up to allow me to sign in with these credentials, but why does it work through pgadmin but not Python?</p>\n\n<p>I saw another post with a similar question(<a href=\"https://stackoverflow.com/questions/10693978/psycopg2-reporting-pg-hba-conf-error\">Psycopg2 reporting pg_hba.conf error</a>), but I didn't quite understand their answer and I'm not sure if I'm having the same problem\nThanks so much for your help.</p>\n"}, {"tags": ["python", "pandas", "object-slicing"], "answers": [{"tags": [], "owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "is_accepted": true, "score": 2, "last_activity_date": 1434577320, "last_edit_date": 1434577320, "creation_date": 1434576939, "answer_id": 30902809, "question_id": 30902661, "link": "https://stackoverflow.com/questions/30902661/multiple-conditioned-slicing-pandas-dataframe/30902809#30902809", "title": "multiple conditioned slicing (pandas dataframe)", "body": "<pre><code>new_result[(new_result['Year']==2015) &amp; (new_result['Month']==7)]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>new_result.query(\"Year==2015 and Month==7\")\n</code></pre>\n"}], "owner": {"reputation": 8790, "user_id": 668624, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/qMFcJ.jpg?s=128&g=1", "display_name": "codingknob", "link": "https://stackoverflow.com/users/668624/codingknob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 30902809, "answer_count": 1, "score": 2, "last_activity_date": 1434579903, "creation_date": 1434576291, "question_id": 30902661, "link": "https://stackoverflow.com/questions/30902661/multiple-conditioned-slicing-pandas-dataframe", "title": "multiple conditioned slicing (pandas dataframe)", "body": "<p>I have a dataframe that has various columns and rows of data. I want to select all rows where the Year column = 2015 and Month column = 7.</p>\n\n<p>The following works:</p>\n\n<pre><code>new_result.loc[new_result['Year'] == 2015,:].loc[new_result['Month'] == 7,:]\n</code></pre>\n\n<p>However, is there a more elegant way to express the same thing? i.e. Fewer text because I can see how total text can get out of control for a multiple conditioned query. </p>\n"}, {"tags": ["python", "simplejson", "python-2.4"], "comments": [{"owner": {"reputation": 6919, "user_id": 26224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ac56cfaecf1f5e364224e9159810022?s=128&d=identicon&r=PG", "display_name": "muratgu", "link": "https://stackoverflow.com/users/26224/muratgu"}, "edited": false, "score": 1, "creation_date": 1434576337, "post_id": 30902635, "comment_id": 49844233, "body": "<code>dump</code> saves, <code>load</code> reads. which one are you trying to do?"}, {"owner": {"reputation": 6788, "user_id": 1748754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jjk7p.jpg?s=128&g=1", "display_name": "erewok", "link": "https://stackoverflow.com/users/1748754/erewok"}, "edited": false, "score": 1, "creation_date": 1434576360, "post_id": 30902635, "comment_id": 49844248, "body": "In the first example, you are using <code>json.dumps</code> (a write activity) and in the second you are using <code>json.loads</code> (a read activity on a file you have opened for writing). Did you mean to do this?"}, {"owner": {"reputation": 143, "user_id": 3558481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/8640635/picture?type=large", "display_name": "roninveracity", "link": "https://stackoverflow.com/users/3558481/roninveracity"}, "edited": false, "score": 1, "creation_date": 1434576937, "post_id": 30902635, "comment_id": 49844517, "body": "oops!  Sorry about that--a copy/paste mistake on my part."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 3558481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/8640635/picture?type=large", "display_name": "roninveracity", "link": "https://stackoverflow.com/users/3558481/roninveracity"}, "edited": false, "score": 0, "creation_date": 1434577084, "post_id": 30902744, "comment_id": 49844569, "body": "I&#39;m trying to write to the file--my original post had a copy/paste problem.  This will try to read a file that doesn&#39;t exist."}, {"owner": {"reputation": 143, "user_id": 3558481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/8640635/picture?type=large", "display_name": "roninveracity", "link": "https://stackoverflow.com/users/3558481/roninveracity"}, "edited": false, "score": 0, "creation_date": 1434577471, "post_id": 30902744, "comment_id": 49844748, "body": "And this does not work.  Regardless of using <code>dump</code> or <code>dumps</code>, the file will be created, but nothing is in it."}, {"owner": {"reputation": 2813, "user_id": 821093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad71a7b4a9f344b95c9fd3e2e4e41751?s=128&d=identicon&r=PG", "display_name": "Delimitry", "link": "https://stackoverflow.com/users/821093/delimitry"}, "reply_to_user": {"reputation": 143, "user_id": 3558481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/8640635/picture?type=large", "display_name": "roninveracity", "link": "https://stackoverflow.com/users/3558481/roninveracity"}, "edited": false, "score": 0, "creation_date": 1434577882, "post_id": 30902744, "comment_id": 49844907, "body": "What kind of data do you put to <code>dump</code>?"}, {"owner": {"reputation": 6919, "user_id": 26224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ac56cfaecf1f5e364224e9159810022?s=128&d=identicon&r=PG", "display_name": "muratgu", "link": "https://stackoverflow.com/users/26224/muratgu"}, "reply_to_user": {"reputation": 143, "user_id": 3558481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/8640635/picture?type=large", "display_name": "roninveracity", "link": "https://stackoverflow.com/users/3558481/roninveracity"}, "edited": false, "score": 1, "creation_date": 1434577940, "post_id": 30902744, "comment_id": 49844930, "body": "@roninveracity, you are closing the file right? (e.g. <code>sov_file.close()</code>)"}], "tags": [], "owner": {"reputation": 2813, "user_id": 821093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad71a7b4a9f344b95c9fd3e2e4e41751?s=128&d=identicon&r=PG", "display_name": "Delimitry", "link": "https://stackoverflow.com/users/821093/delimitry"}, "is_accepted": false, "score": 1, "last_activity_date": 1434577750, "last_edit_date": 1434577750, "creation_date": 1434576707, "answer_id": 30902744, "question_id": 30902635, "link": "https://stackoverflow.com/questions/30902635/how-to-write-simplejson-in-python-2-4/30902744#30902744", "title": "How to write simplejson in python 2.4", "body": "<p>To save JSON to file use <code>json.dump</code>:</p>\n\n<pre><code>sov_filename = 'myfile.txt'\nsov_file = open(sov_filename, 'w')\njson.dump(data, sov_file)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1614, "user_id": 1308699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cff9a894b2c155716120cb8ebc2a68f4?s=128&d=identicon&r=PG", "display_name": "Erin Call", "link": "https://stackoverflow.com/users/1308699/erin-call"}, "is_accepted": false, "score": 0, "last_activity_date": 1434577949, "creation_date": 1434577949, "answer_id": 30903049, "question_id": 30902635, "link": "https://stackoverflow.com/questions/30902635/how-to-write-simplejson-in-python-2-4/30903049#30903049", "title": "How to write simplejson in python 2.4", "body": "<p>The <code>with</code> syntax is syntactic sugar. The desugared equivalent is:</p>\n\n<pre><code>outfile = open('data.txt', 'w')\ntry:\n    json.dump(data, outfile)\nfinally:\n    outfile.close()\n</code></pre>\n\n<p>I'm not sure why simplejson isn't writing to the file, but you can work around that as well, by replacing <code>json.dump(data, outfile)</code> with <code>outfile.write(json.dumps(data))</code></p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 3558481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/8640635/picture?type=large", "display_name": "roninveracity", "link": "https://stackoverflow.com/users/3558481/roninveracity"}, "is_accepted": true, "score": 0, "last_activity_date": 1434578609, "creation_date": 1434578609, "answer_id": 30903191, "question_id": 30902635, "link": "https://stackoverflow.com/questions/30902635/how-to-write-simplejson-in-python-2-4/30903191#30903191", "title": "How to write simplejson in python 2.4", "body": "<p>I simply needed to <code>close()</code> it.  I had it in the code, but was exiting before it executed.  I was accustomed to this not being necessary because I was using the csv writer in a python 2.7 script, for which the lines appear in the file without explicitly closing.</p>\n"}], "owner": {"reputation": 143, "user_id": 3558481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/8640635/picture?type=large", "display_name": "roninveracity", "link": "https://stackoverflow.com/users/3558481/roninveracity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "accepted_answer_id": 30903191, "answer_count": 3, "score": 0, "last_activity_date": 1434578609, "creation_date": 1434576204, "last_edit_date": 1434576904, "question_id": 30902635, "link": "https://stackoverflow.com/questions/30902635/how-to-write-simplejson-in-python-2-4", "title": "How to write simplejson in python 2.4", "body": "<p>I have an issue where I need to use <code>simplejson</code> to write some dictionaries to file using python 2.4 (yes, we're actively trying to upgrade; no, it's not ready yet).</p>\n\n<p>Python 2.4 cannot use the syntax:</p>\n\n<pre><code>with open('data.txt', 'w') as outfile:\n    json.dumps(data, outfile)\n</code></pre>\n\n<p>and I cannot find the correct syntax anywhere.  If I try using this:</p>\n\n<pre><code>sov_filename = 'myfile.txt'\nsov_file     = open( sov_filename, 'w' )\nfilecontents = json.dumps( sov_file )\n</code></pre>\n\n<p>nothing happens.  The file is created, but nothing is in it.</p>\n\n<p>So, does anybody know how to do this for python 2.4?</p>\n"}, {"tags": ["python", "python-2.7", "gis", "arcpy"], "answers": [{"comments": [{"owner": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1434585737, "post_id": 30904329, "comment_id": 49847354, "body": "Now it gives <code>arcgisscripting.ExecuteError: ERROR 000210: Cannot create output Intersect_Output Failed to execute (Intersect).</code>"}, {"owner": {"reputation": 276, "user_id": 522702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7ff5a95ad47a104376994d5d783161?s=128&d=identicon&r=PG", "display_name": "Todd Minehardt", "link": "https://stackoverflow.com/users/522702/todd-minehardt"}, "reply_to_user": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1434586011, "post_id": 30904329, "comment_id": 49847419, "body": "Have you set arcpy.env.workspace (i.e., arcpy.env.workspace = &lt;path_to_your_geodatabase&gt;)?"}, {"owner": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1434586220, "post_id": 30904329, "comment_id": 49847469, "body": "Nope I&#39;m new and don&#39;t know what that means?"}, {"owner": {"reputation": 276, "user_id": 522702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7ff5a95ad47a104376994d5d783161?s=128&d=identicon&r=PG", "display_name": "Todd Minehardt", "link": "https://stackoverflow.com/users/522702/todd-minehardt"}, "reply_to_user": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1434588113, "post_id": 30904329, "comment_id": 49847919, "body": "You&#39;ll need to specify the path to the geodatabase you&#39;re working in. You ought to review the <a href=\"http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#//00080000000p000000\" rel=\"nofollow noreferrer\">code snippet</a> that ESRI provides in their help pages to clarify."}], "tags": [], "owner": {"reputation": 276, "user_id": 522702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7ff5a95ad47a104376994d5d783161?s=128&d=identicon&r=PG", "display_name": "Todd Minehardt", "link": "https://stackoverflow.com/users/522702/todd-minehardt"}, "is_accepted": false, "score": 1, "last_activity_date": 1434585102, "creation_date": 1434585102, "answer_id": 30904329, "question_id": 30902632, "link": "https://stackoverflow.com/questions/30902632/arcpy-program-crashes-on-intersect/30904329#30904329", "title": "arcpy: program crashes on intersect", "body": "<p>You've set the name of the output feature class to be an empty string. Try:</p>\n\n<pre><code>intersection = \"Intersect_Output\"\n</code></pre>\n\n<p>The output feature class (here, Intersect_Output) will be written to the geodatabase you're working in.</p>\n"}], "owner": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1434585791, "creation_date": 1434576193, "last_edit_date": 1434585791, "question_id": 30902632, "link": "https://stackoverflow.com/questions/30902632/arcpy-program-crashes-on-intersect", "title": "arcpy: program crashes on intersect", "body": "<p>I am writing a program that takes the input of two shape files that were exported with pgsql2shp.exe and does the intersection between them. Here is my code</p>\n\n<pre><code>print sys.argv[1], sys.argv[2]\nintersection = ''\narcpy.Intersect_analysis([sys.argv[1], sys.argv[2]], intersection, \"ALL\")\n</code></pre>\n\n<p>where sys.argv[1] and [2] are absolute paths to the .shp files being intersected. e.g. U:\\proj\\a.shp and U:\\proj\\b.shp</p>\n\n<p>It compiles but when run gives </p>\n\n<blockquote>\n  <p>Traceback (most recent call last): line 45, in \n      arcpy.Intersect_analysis([sys.argv[1], sys.argv[2]], out_path, \"ALL\")  line 289, in Intersect\n      raise e arcgisscripting.ExecuteError: Failed to execute. Parameters are not valid. ERROR 000735: Output Feature Class: Value is\n  required Failed to execute (Intersect).</p>\n</blockquote>\n\n<p>How do I fix it and where do I access the return value? I want to put the result in a table in a database. I'm new to Python, ArcPy and GIS.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "edited": false, "score": 1, "creation_date": 1434576179, "post_id": 30902558, "comment_id": 49844168, "body": "Is there a known maximum depth of lists, or do you need to keep that general?"}, {"owner": {"reputation": 267, "user_id": 4979663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XED7i.jpg?s=128&g=1", "display_name": "Mouse Reeve", "link": "https://stackoverflow.com/users/4979663/mouse-reeve"}, "edited": false, "score": 2, "creation_date": 1434576227, "post_id": 30902558, "comment_id": 49844196, "body": "you can check if an element of the parent list is a list with <a href=\"https://docs.python.org/2/library/functions.html#isinstance\" rel=\"nofollow noreferrer\">isinstance</a> - then you can check the length of that list recursively."}], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 6, "last_activity_date": 1434576356, "creation_date": 1434576356, "answer_id": 30902673, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists/30902673#30902673", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>Python 3.3 version:</p>\n\n<pre><code>def lengths(x):\n    if isinstance(x,list):\n        yield len(x)\n        for y in x:\n            yield from lengths(y)\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>&gt;&gt;&gt; l = [[], [3,[4,5],[2,3,4,5,3,3], [7], 5, [1,2,3], [3,4]], [1,2,3,4,5]]\n&gt;&gt;&gt; max(lengths(l))\n7\n</code></pre>\n\n<p>In python 2.6+ you don't have the <code>yield from</code> statement (was introduced in python 3.3), so you have to change the code slightly:</p>\n\n<pre><code>def lengths(x):\n    if isinstance(x,list):\n        yield len(x)\n        for y in x:\n            for z in lengths(y):\n                yield z\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15147, "user_id": 2947592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q6DU8.jpg?s=128&g=1", "display_name": "wvdz", "link": "https://stackoverflow.com/users/2947592/wvdz"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 3, "creation_date": 1434577071, "post_id": 30902675, "comment_id": 49844563, "body": "It&#39;s just a matter of style, I enjoy having multiple return statements in a method. It&#39;s easy to spot the base case I guess."}], "tags": [], "owner": {"reputation": 15147, "user_id": 2947592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q6DU8.jpg?s=128&g=1", "display_name": "wvdz", "link": "https://stackoverflow.com/users/2947592/wvdz"}, "is_accepted": false, "score": 2, "last_activity_date": 1434576364, "creation_date": 1434576364, "answer_id": 30902675, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists/30902675#30902675", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>Indeed, recursion can solve this.</p>\n\n<pre><code>def longest(lst):\n    if type(lst) is not list:\n        return 0\n    max = len(lst)\n    for i in lst:\n        max_i = longest(i)\n        if max_i &gt; max:\n            max = max_i\n    return max\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": false, "score": 1, "last_activity_date": 1434577345, "last_edit_date": 1434577345, "creation_date": 1434576468, "answer_id": 30902695, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists/30902695#30902695", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>You can do this with recursion:</p>\n\n<pre><code>def longest(list1) :\n    l = 0\n    if type(list1) is list :\n        l = len(list1)\n        if l &gt; 0 :\n            l = max(l,max(longest(elem) for elem in list1))\n    return l\n</code></pre>\n\n<p><a href=\"https://repl.it/tBX\" rel=\"nofollow\">(online demo)</a>.</p>\n\n<p>The code first checks if this <code>is list</code> we are dealing with. If so, we first take the <code>len</code> of the list. Next we perform a recursive call on its elements. And calculate the maximum <code>longest</code> of the elements. If the maximum is greater than the length itself. We return that maximum, otherwise we return the length.</p>\n\n<p>Because the <code>longest</code> of a non-list is zero, the recursion will stop, and we have an answer for single elements to be used in the inductive step.</p>\n"}, {"tags": [], "owner": {"reputation": 1626, "user_id": 2543727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkFul.jpg?s=128&g=1", "display_name": "cr1msonB1ade", "link": "https://stackoverflow.com/users/2543727/cr1msonb1ade"}, "is_accepted": true, "score": 6, "last_activity_date": 1592829206, "last_edit_date": 1592829206, "creation_date": 1434576935, "answer_id": 30902807, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists/30902807#30902807", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>Here is a recursive solution for any depth list:</p>\n<pre><code>def longest(l):\n    if not isinstance(l, list):\n        return 0\n    return max(\n            [len(l)] \n            + [len(subl) for subl in l if isinstance(subl, list)] \n            + [longest(subl) for subl in l]\n            )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35774, "user_id": 635411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NPSwQ.jpg?s=128&g=1", "display_name": "dting", "link": "https://stackoverflow.com/users/635411/dting"}, "is_accepted": false, "score": 0, "last_activity_date": 1434589158, "last_edit_date": 1434589158, "creation_date": 1434577315, "answer_id": 30902901, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists/30902901#30902901", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>Another recursive function using map:</p>\n\n<pre><code>def longest(a):\n    return max(len(a), *map(longest, a)) if isinstance(a, list) and a else 0\n</code></pre>\n\n<hr>\n\n<pre><code>In [2]:  longest([1,2,3])\nOut[2]:  3\n\nIn [3]:  longest([[[1,2,3]]]) \nOut[3]:  3\n\nIn [4]:  longest([[], [3,[4,5],[2,3,4,5,3,3], [7], 5, [1,2,3], [3,4]], [1,2,3,4,5]])\nOut[4]:  7\n</code></pre>\n\n<p>and iteratively:</p>\n\n<pre><code>def longest(a):\n    mx = 0\n    stack = [a[:]]\n    while stack:\n        cur = stack.pop()\n        if isinstance(cur, list):\n            mx = max(mx, len(cur))\n            stack += cur\n    return mx\n</code></pre>\n\n<hr>\n\n<pre><code>In [6]:  longest([1,2,3])\nOut[6]:  3\n\nIn [7]:  longest([[[1,2,3]]]) \nOut[7]:  3\n\nIn [8]:  longest([[], [3,[4,5],[2,3,4,5,3,3], [7], 5, [1,2,3], [3,4]], [1,2,3,4,5]])\nOut[8]:  7\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2330, "user_id": 801448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka1C0.png?s=128&g=1", "display_name": "Supun Praneeth", "link": "https://stackoverflow.com/users/801448/supun-praneeth"}, "edited": false, "score": 0, "creation_date": 1525009908, "post_id": 50087250, "comment_id": 87190341, "body": "You have to explain little bit more"}, {"owner": {"reputation": 677, "user_id": 6342337, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9d4f512d45f153a3a4b25f0550b056?s=128&d=identicon&r=PG&f=1", "display_name": "ScipioAfricanus", "link": "https://stackoverflow.com/users/6342337/scipioafricanus"}, "edited": false, "score": 0, "creation_date": 1551150670, "post_id": 50087250, "comment_id": 96525470, "body": "Nice. is it possible to get the element position of the longest list?"}, {"owner": {"reputation": 13726, "user_id": 1497720, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e7fb41c0ef8fc026892a668008b05098?s=128&d=identicon&r=PG", "display_name": "william007", "link": "https://stackoverflow.com/users/1497720/william007"}, "reply_to_user": {"reputation": 677, "user_id": 6342337, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4c9d4f512d45f153a3a4b25f0550b056?s=128&d=identicon&r=PG&f=1", "display_name": "ScipioAfricanus", "link": "https://stackoverflow.com/users/6342337/scipioafricanus"}, "edited": false, "score": 0, "creation_date": 1595062872, "post_id": 50087250, "comment_id": 111349327, "body": "@ScipioAfricanus Please refer to <a href=\"https://stackoverflow.com/a/62966642/1497720\">stackoverflow.com/a/62966642/1497720</a>"}, {"owner": {"reputation": 85, "user_id": 9288003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4299b78fafd55babc6c7e7de9537537?s=128&d=identicon&r=PG&f=1", "display_name": "Guillem", "link": "https://stackoverflow.com/users/9288003/guillem"}, "edited": false, "score": 0, "creation_date": 1615896757, "post_id": 50087250, "comment_id": 117828693, "body": "I don&#39;t think this solves the problem, it won&#39;t work with several nested lists."}], "tags": [], "owner": {"reputation": 141, "user_id": 8784197, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jgENwPWDrN8/AAAAAAAAAAI/AAAAAAAAAEs/M2lDwumyJqc/photo.jpg?sz=128", "display_name": "FeiLiao", "link": "https://stackoverflow.com/users/8784197/feiliao"}, "is_accepted": false, "score": 13, "last_activity_date": 1540137432, "last_edit_date": 1540137432, "creation_date": 1525009521, "answer_id": 50087250, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists/50087250#50087250", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>These simple few lines works for me, my list is a nested one (list of lists)</p>\n\n<pre><code>#define the function#\ndef find_max_list(list):\n    list_len = [len(i) for i in list]\n    print(max(list_len))\n\n#print output#\nfind_max_list(your_list)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9433575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rKsEg.png?s=128&g=1", "display_name": "Mathias Wedeken", "link": "https://stackoverflow.com/users/9433575/mathias-wedeken"}, "is_accepted": false, "score": 0, "last_activity_date": 1548192775, "last_edit_date": 1548192775, "creation_date": 1548186541, "answer_id": 54315465, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists/54315465#54315465", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>Using the <a href=\"https://github.com/pytoolz/toolz/\" rel=\"nofollow noreferrer\">toolz library</a>, this can be achieved like this: </p>\n\n<pre><code>from toolz.curried import count\n\ndef longest(your_list): \n    return max(map(count, your_list))\n</code></pre>\n\n<p>One caveat: This doesn't work if  <code>your_list</code> contains non-iterables. </p>\n"}, {"tags": [], "owner": {"reputation": 230, "user_id": 9446730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23f1c29ebb9110cce63d03faf314136?s=128&d=identicon&r=PG&f=1", "display_name": "binaryEcon", "link": "https://stackoverflow.com/users/9446730/binaryecon"}, "is_accepted": false, "score": 0, "last_activity_date": 1582823617, "creation_date": 1582823617, "answer_id": 60438533, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists/60438533#60438533", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>You can make use of <code>enumerate</code>, <code>sorted</code> and behavior of <code>list</code>:</p>\n\n<pre><code>ll = [[10,20], [1,2,3,4,5], [7,8,9]]\nlongest = ll[sorted([(i,len(l)) for i,l in enumerate(ll)], key=lambda t: t[1])[-1][0]]\n\n&gt;&gt;longest\n&gt;&gt;[1,2,3,4,5]\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<ol>\n<li><p>Create <code>list</code> of <code>tuple</code> with index as first element and <code>len(l)</code> (length of list) as second element:</p>\n\n<p><code>[(i,len(l)) for i,l in enumerate(ll)]</code></p>\n\n<p><code>&gt;&gt;[(0, 2), (1, 5), (2, 3)]</code></p></li>\n<li><p>Sort above list by second element in tuple that tuple with longest length gets to the end of the list:</p>\n\n<p><code>sorted([(i,len(l)) for i,l in enumerate(ll)], key=lambda t: t[1])</code></p>\n\n<p><code>&gt;&gt;[(0, 2), (2, 3), (1, 5)]</code></p></li>\n<li><p>Catch the last tuple and its first element:</p>\n\n<p><code>sorted([(i,len(l)) for i,l in enumerate(ll)], key=lambda t: t[1])[-1][0]</code></p>\n\n<p><code>&gt;&gt;1</code></p></li>\n<li><p>Use above result as the index in <code>ll</code> to get the longest list:</p>\n\n<p><code>ll[sorted([(i,len(l)) for i,l in enumerate(ll)], key=lambda t: t[1])[-1][0]]</code></p>\n\n<p><code>&gt;&gt;[1,2,3,4,5]</code></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 13726, "user_id": 1497720, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e7fb41c0ef8fc026892a668008b05098?s=128&d=identicon&r=PG", "display_name": "william007", "link": "https://stackoverflow.com/users/1497720/william007"}, "is_accepted": false, "score": 2, "last_activity_date": 1595062833, "creation_date": 1595062833, "answer_id": 62966642, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists/62966642#62966642", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>The following will give you the indices of longest link:</p>\n<pre><code>import numpy as np\ndef find_max_list_idx(list):\n    list_len = [len(i) for i in list]\n    return np.argmax(np.array(list_len))\n</code></pre>\n<p>Example</p>\n<pre><code>a=[[1],[1,2,3],[3,4]]\nprint(find_max_list_idx(a))\n\n'''\nit will print index 1 as output\n'''\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 4623606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a31ad1b95de05be0d351cdba9dc98ed?s=128&d=identicon&r=PG&f=1", "display_name": "Liis Krevald", "link": "https://stackoverflow.com/users/4623606/liis-krevald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32722, "favorite_count": 5, "accepted_answer_id": 30902807, "answer_count": 9, "score": 21, "last_activity_date": 1595803382, "creation_date": 1434575894, "last_edit_date": 1595803382, "question_id": 30902558, "link": "https://stackoverflow.com/questions/30902558/finding-length-of-the-longest-list-in-an-irregular-list-of-lists", "title": "Finding length of the longest list in an irregular list of lists", "body": "<p>I have to find the longest list inside a list of lists.</p>\n<p>For example:</p>\n<p><code>longest([1,2,3])</code> returns 3</p>\n<p><code>longest([[[1,2,3]]])</code> also returns 3 (inner list is 3)</p>\n<p><code>longest([[], [3,[4,5],[2,3,4,5,3,3], [7], 5, [1,2,3], [3,4]], [1,2,3,4,5]])</code> returns 7 (list <code>[3,[4,5],[2,3,4,5,3,3], [7], 5, [1,2,3], [3,4]]</code> contains 7 elements)</p>\n<p>Right now I have this code, but it doesn't do the trick with the first two examples.</p>\n<pre><code>def longest(list1):\n    longest_list = max(len(elem) for elem in list1)\n    return longest_list\n</code></pre>\n<p>Maybe recursion will help?</p>\n"}, {"tags": ["python", "vincent"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1434575962, "post_id": 30902443, "comment_id": 49844080, "body": "Edit your question to include the full traceback; perhaps it&#39;s not relevant, but it can help."}, {"owner": {"reputation": 779, "user_id": 4682755, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c9034da2c18262d1d141fd1c0a60b26c?s=128&d=identicon&r=PG&f=1", "display_name": "chungkim271", "link": "https://stackoverflow.com/users/4682755/chungkim271"}, "edited": false, "score": 0, "creation_date": 1434576091, "post_id": 30902443, "comment_id": 49844134, "body": "I&#39;m sorry, what does it mean to have the full traceback?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1434576272, "post_id": 30902443, "comment_id": 49844210, "body": "The full error message."}], "answers": [{"tags": [], "owner": {"reputation": 611, "user_id": 2500596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4deab88f6be2bf2be5a317d0f1bf44e1?s=128&d=identicon&r=PG", "display_name": "krvkir", "link": "https://stackoverflow.com/users/2500596/krvkir"}, "is_accepted": false, "score": 1, "last_activity_date": 1442592400, "last_edit_date": 1442592400, "creation_date": 1442335299, "answer_id": 32591354, "question_id": 30902443, "link": "https://stackoverflow.com/questions/30902443/python-vincent-needing-url-address/32591354#32591354", "title": "python vincent needing url address", "body": "<p>It seems that you're using it in Jupyter Notebook. If no, my reply is irrelevant for your case.</p>\n\n<p>AFAIK, vincent needs this topojson file to be available through web server (so javascript from your browser will be able to download it to build the map). If the topojson file is somewhere in the Jupyter root dir then it's available (and you can provide relative path to it), otherwise it's not. </p>\n\n<p>To determine relative path you can use something like this:</p>\n\n<pre><code>import os\nrelpath = os.path.relpath('abs-path-to-geodata', os.path.abspath(os.path.curdir))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 9207908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/147d455fcca939bb1647c4a7edb269c1?s=128&d=identicon&r=PG&f=1", "display_name": "MissBleu", "link": "https://stackoverflow.com/users/9207908/missbleu"}, "is_accepted": false, "score": 0, "last_activity_date": 1517755496, "creation_date": 1517755496, "answer_id": 48609296, "question_id": 30902443, "link": "https://stackoverflow.com/questions/30902443/python-vincent-needing-url-address/48609296#48609296", "title": "python vincent needing url address", "body": "<p>I know that this post is old, hopefully this helps someone.  I am not sure what map you are looking for, but here is the URL for the world map</p>\n\n<pre><code>world_topo=\"https://raw.githubusercontent.com/wrobstory/vincent_map_data/master/world-countries.topo.json\"\n</code></pre>\n\n<p>and the USA state maps</p>\n\n<pre><code>state_topo = \"https://raw.githubusercontent.com/wrobstory/vincent_map_data/master/us_states.topo.json\"\n</code></pre>\n\n<p>I got this working beautifully, hope this is helpful for someone!</p>\n"}], "owner": {"reputation": 779, "user_id": 4682755, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c9034da2c18262d1d141fd1c0a60b26c?s=128&d=identicon&r=PG&f=1", "display_name": "chungkim271", "link": "https://stackoverflow.com/users/4682755/chungkim271"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1517755496, "creation_date": 1434575341, "question_id": 30902443, "link": "https://stackoverflow.com/questions/30902443/python-vincent-needing-url-address", "title": "python vincent needing url address", "body": "<p>I'm using vincent a data visualization package. One of the inputs it takes is path to data. </p>\n\n<p>(from the documentation)</p>\n\n<pre><code>     `geo_data` needs to be passed as a list of dicts with the following\n |      format:\n |      {\n |          name: data name\n |          url: path_to_data,\n |          feature: TopoJSON object set (ex: 'countries')\n |      }\n |   \n</code></pre>\n\n<p>I have a topo.json file on my computer, but when I run that in, ipython says loading failed.</p>\n\n<pre><code>map=r'C:\\Users\\chungkim271\\Desktop\\DC housing\\dc.json'\ngeo_data = [{'name': 'DC',\n             'url': map,\n             'feature': \"collection\"}]\nvis = vincent.Map(geo_data=geo_data, scale=1000)\nvis\n</code></pre>\n\n<p>Do you know if vincent only takes url addresses, and if so, what is the quickest way i can get an url address for this file?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "multithreading", "python-2.7", "timer", "pyftpdlib"], "answers": [{"tags": [], "owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1434578014, "last_edit_date": 1434578014, "creation_date": 1434576383, "answer_id": 30902677, "question_id": 30902357, "link": "https://stackoverflow.com/questions/30902357/polling-every-50-seconds-in-multithreaded-environment/30902677#30902677", "title": "Polling every 50 seconds in multithreaded environment", "body": "<h1>First Question</h1>\n\n<p>In your worker thread, use the class based version of creating a thread. You will pass your handler to the constructor of object and that object will have a reference to the same custom handler you already created. </p>\n\n<p>In my example, \"handler\" should be wrapped in a function with a mutex to make it thread safe</p>\n\n<p>Please note that you may want to add a mutex to the custom handler to prevent data races and to ensure that this is thread safe. The code is just a sample to give you an idea. If it doesn't work as-is. just let me know.</p>\n\n<pre><code>from threading import Thread\nfrom time import sleep\n\nclass Worker(Thread):\n    def __init__(self, custom_handler):\n        self.handler = custom_handler\n\n    def run(self):\n        while(True):\n            sleep(50)\n\n            # check handler\n            if self.handler:\n                # do something\n                pass\n\n\n\nhandler = {}\nworker = Worker(handler)\n\n# start thread\nworker.run()\n</code></pre>\n\n<h1>Second Question</h1>\n\n<p>Not sure what you mean by \"know\" that 50 seconds have elapsed. These long duration pollings are typically done by making the task sleep for a given amount of time and then waking up to do work. Does this method not suit your requirements? But you are right, you may still experience some drift on your time, but is that an absolute requirement?</p>\n"}], "owner": {"reputation": 4743, "user_id": 965778, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/27f7e5982b6fa15182f40ad56cabd795?s=128&d=identicon&r=PG", "display_name": "JavaSa", "link": "https://stackoverflow.com/users/965778/javasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 542, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434578014, "creation_date": 1434574977, "question_id": 30902357, "link": "https://stackoverflow.com/questions/30902357/polling-every-50-seconds-in-multithreaded-environment", "title": "Polling every 50 seconds in multithreaded environment", "body": "<p>I'm using the following lib for creating ftp server called <a href=\"http://pythonhosted.org/pyftpdlib/tutorial.html#building-a-base-ftp-server\" rel=\"nofollow\">pyftpdlib</a>.<br>\nFollowing the exact example of building a base ftp server apart of the fact that I've created my own custom handler and passing it as in the example.</p>\n\n<p><strong>First question:</strong>\nI need to be able to poll every 50 seconds on a static dictionary (class variable) defined in the custom handler. After each interval of 50 seconds I need to check for some condition and act accordingly.</p>\n\n<p>As you probably see ,the custom handler is being used by the FTP server, I guess I need some working thread that will be able poll on the custom handler's static dictionary every 50 seconds, how do I launch another thread that will be bound to the custom handler and do that kind of timer polling?</p>\n\n<p><strong>Second question</strong>: Is there some way to know that a time of 50 seconds has been passed (on the second it passed) since a specific timestamp which was read from the static dict - I mean to do that without polling every X seconds to check if time has passed, which can be inaccurate.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1434574998, "post_id": 30902317, "comment_id": 49843586, "body": "What do you mean by &quot;building sort&quot;? Google shows no relevant hits."}, {"owner": {"reputation": 19827, "user_id": 342553, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/zjZ6d.jpg?s=128&g=1", "display_name": "James Lin", "link": "https://stackoverflow.com/users/342553/james-lin"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1434575206, "post_id": 30902317, "comment_id": 49843701, "body": "was a typo..... built-in."}, {"owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "edited": false, "score": 0, "creation_date": 1434575385, "post_id": 30902317, "comment_id": 49843781, "body": "Might be a built-in way. Anyway, a trivial algorithmic solution - you can create a hash table - key is id, value is record. Then just iterate over the sorted list of keys"}, {"owner": {"reputation": 19827, "user_id": 342553, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/zjZ6d.jpg?s=128&g=1", "display_name": "James Lin", "link": "https://stackoverflow.com/users/342553/james-lin"}, "reply_to_user": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "edited": false, "score": 0, "creation_date": 1434575461, "post_id": 30902317, "comment_id": 49843824, "body": "@SomethingSomething please read my question, that&#39;s what I am already doing."}, {"owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "edited": false, "score": 0, "creation_date": 1434575510, "post_id": 30902317, "comment_id": 49843850, "body": "@JamesLin - this is not what I suggested"}, {"owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "edited": false, "score": 0, "creation_date": 1434575587, "post_id": 30902317, "comment_id": 49843897, "body": "I suggested that you create one dictionary - where its keys are the id&#39;s, and the value of each id is the record. Then, you can iterate over the sorted list of keys of this hash, and add the records to a list that will then be a sorted list of your records"}, {"owner": {"reputation": 19827, "user_id": 342553, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/zjZ6d.jpg?s=128&g=1", "display_name": "James Lin", "link": "https://stackoverflow.com/users/342553/james-lin"}, "edited": false, "score": 0, "creation_date": 1434575647, "post_id": 30902317, "comment_id": 49843926, "body": "What is the difference to my current solution by loop through the ids and pick the record from a dictionary?"}, {"owner": {"reputation": 9280, "user_id": 3322273, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/WBXKk.png?s=128&g=1", "display_name": "SomethingSomething", "link": "https://stackoverflow.com/users/3322273/somethingsomething"}, "edited": false, "score": 0, "creation_date": 1434576004, "post_id": 30902317, "comment_id": 49844099, "body": "I&#39;m sorry - I didn&#39;t notice that you used a beautiful dict comprehention . You&#39;re right, it is the same solution"}], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 2, "last_activity_date": 1434912136, "last_edit_date": 1434912136, "creation_date": 1434575312, "answer_id": 30902437, "question_id": 30902317, "link": "https://stackoverflow.com/questions/30902317/python-how-to-sort-list-of-objects-based-on-their-attribute-according-to-another/30902437#30902437", "title": "Python how to sort list of objects based on their attribute according to another list", "body": "<p>Use <code>sorted()</code> and specify the sort key with the <code>key</code> keyword arg:</p>\n\n<pre><code>sorted(records, key=lambda x: ids.index(x))\n</code></pre>\n\n<p>this however will be <strong>inefficient</strong>, because it will require a lookup (<code>ids.index(x)</code>) for each record.</p>\n\n<p>It will be more efficient if you precompute the sort key:</p>\n\n<pre><code>sortkey = {j:i for i,j in enumerate(ids)}\nsorted(records, key=lambda x: sortkey[x])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1434575453, "creation_date": 1434575453, "answer_id": 30902475, "question_id": 30902317, "link": "https://stackoverflow.com/questions/30902317/python-how-to-sort-list-of-objects-based-on-their-attribute-according-to-another/30902475#30902475", "title": "Python how to sort list of objects based on their attribute according to another list", "body": "<p>Personally, I wouldn't use a sort-based solution. A sort would take O(Nlog(N)) time for N records, but we can solve the problem in O(N) time. That said, a sort would look like this:</p>\n\n<pre><code>positions = {j:i for i, j in enumerate(ids)}\nresult = sorted(Record.objects.filter(id__in=ids), key=lambda r:positions[r.id])\n</code></pre>\n\n<p>What I would do is use the <code>positions</code> table to put each record in its final position immediately:</p>\n\n<pre><code>result = [None]*len(positions)\nfor record in Record.objects.filter(id__in=ids):\n    result[positions[record.id]] = record\n</code></pre>\n"}], "owner": {"reputation": 19827, "user_id": 342553, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/zjZ6d.jpg?s=128&g=1", "display_name": "James Lin", "link": "https://stackoverflow.com/users/342553/james-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 0, "accepted_answer_id": 30902475, "answer_count": 2, "score": -1, "last_activity_date": 1434912136, "creation_date": 1434574851, "last_edit_date": 1434575230, "question_id": 30902317, "link": "https://stackoverflow.com/questions/30902317/python-how-to-sort-list-of-objects-based-on-their-attribute-according-to-another", "title": "Python how to sort list of objects based on their attribute according to another list", "body": "<p>That is a confusing title.</p>\n\n<p>Lets say I have a list of IDs</p>\n\n<pre><code>ids = [3, 1, 2, 4]\n</code></pre>\n\n<p>And I am retrieving the objects in one go, for example in Django:</p>\n\n<pre><code>records = Record.objects.filter(id__in=ids)\n</code></pre>\n\n<p>How do I keep the order of records according to another list, <strong>elegantly</strong>, <strong>preferably using built-in sort functions</strong>?</p>\n\n<p>The only way I can think of right now is in traditional code with minimum loops, covert the records to dictionary first, then loop through the ids to pick the record in the dictionary directly, see below:</p>\n\n<pre><code>result = []\ndict_of_records = {r.id: r for r in records}\nfor id in ids:\n    result.append(dict_of_records[id])\n</code></pre>\n"}, {"tags": ["python", "multithreading", "operating-system"], "answers": [{"comments": [{"owner": {"reputation": 781, "user_id": 4696214, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/bea909dd9b61ea4c4f79192fb97d3f1f?s=128&d=identicon&r=PG&f=1", "display_name": "ohbrobig", "link": "https://stackoverflow.com/users/4696214/ohbrobig"}, "edited": false, "score": 0, "creation_date": 1435179182, "post_id": 30903722, "comment_id": 50097771, "body": "Wow, I didn&#39;t realize it was that easy. Thanks!"}], "tags": [], "owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "is_accepted": true, "score": 0, "last_activity_date": 1434581304, "last_edit_date": 1495539827, "creation_date": 1434580969, "answer_id": 30903722, "question_id": 30902273, "link": "https://stackoverflow.com/questions/30902273/error-32-cant-rename-file-in-python-script/30903722#30903722", "title": "Error 32: Can&#39;t rename file in Python Script", "body": "<p>The file needs to be closed in all processes even \"Python.exe\" before you can move it.</p>\n\n<p>This <a href=\"https://stackoverflow.com/questions/5403781/is-there-a-way-to-close-a-workbook-using-xlrd\">question</a> seems like you need to let this xlrd object go out of scope so that it will be closed on its own before you try to move and rename the file.</p>\n\n<p>If you have references to that file in your threads, then you should try setting the variable to <code>None</code> so that the references to the file object are removed when processing is complete. Hopefully that will fix your problem</p>\n"}], "owner": {"reputation": 781, "user_id": 4696214, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/bea909dd9b61ea4c4f79192fb97d3f1f?s=128&d=identicon&r=PG&f=1", "display_name": "ohbrobig", "link": "https://stackoverflow.com/users/4696214/ohbrobig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 30903722, "answer_count": 1, "score": 0, "last_activity_date": 1434581304, "creation_date": 1434574710, "question_id": 30902273, "link": "https://stackoverflow.com/questions/30902273/error-32-cant-rename-file-in-python-script", "title": "Error 32: Can&#39;t rename file in Python Script", "body": "<p>This is my error:</p>\n\n<pre><code>WindowsError: [Error 32] The process cannot access the file because it is being used by another process\n</code></pre>\n\n<p>I call the function below from a worker thread, when its done its long running process. It stops the thread and then gives it 10 secs before showing a dialog box and renaming the file. \"Unlocker\" shows that the file is only open in Python.exe.</p>\n\n<pre><code> def allDone(self, event):\n    myClass.worker.stop()\n    for i in range(0,10):\n        time.sleep(1)\n        print(i)\n    dlg = wx.MessageBox(\"All done!\", \"Ask Alfred\", wx.OK | wx.ICON_INFORMATION)\n    os.rename(self.tempf, self.tempf+\"123.xls\")\n    self.Destroy()\n</code></pre>\n\n<p>The file gets opened in the code via xlrd methods below in the worker thread:</p>\n\n<pre><code>rbook=xlrd.open_workbook(self.file)\nsheet = rbook.sheet_by_index(0)\nwbook = copy(rbook)\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1434574518, "post_id": 30902188, "comment_id": 49843351, "body": "try with <code>cleaned_data</code>"}, {"owner": {"reputation": 3, "user_id": 5021505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94dc0ac7aa587c7c9c3b5749d30c2a8?s=128&d=identicon&r=PG&f=1", "display_name": "sethruble", "link": "https://stackoverflow.com/users/5021505/sethruble"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1434574948, "post_id": 30902188, "comment_id": 49843563, "body": "Worked great...this community is awesome!"}], "answers": [{"tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": true, "score": 3, "last_activity_date": 1434574584, "creation_date": 1434574584, "answer_id": 30902231, "question_id": 30902188, "link": "https://stackoverflow.com/questions/30902188/object-has-no-clean-data-attribute-django/30902231#30902231", "title": "object has no clean_data attribute Django", "body": "<p>You have mispelled the name of the attribute. Use <code>cleaned_data</code> instead. </p>\n"}], "owner": {"reputation": 3, "user_id": 5021505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94dc0ac7aa587c7c9c3b5749d30c2a8?s=128&d=identicon&r=PG&f=1", "display_name": "sethruble", "link": "https://stackoverflow.com/users/5021505/sethruble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 30902231, "answer_count": 1, "score": 0, "last_activity_date": 1434574786, "creation_date": 1434574403, "last_edit_date": 1434574786, "question_id": 30902188, "link": "https://stackoverflow.com/questions/30902188/object-has-no-clean-data-attribute-django", "title": "object has no clean_data attribute Django", "body": "<p>So I have been working on my first Django project and I have run into an issue I cannot figure out. When I run my dev server I get the following error:</p>\n\n<pre><code>AttributeError at /register/\n'RegistrationForm' object has no attribute 'clean_data'\n</code></pre>\n\n<p>I have browsed the forums with little luck.\nHere is the code:</p>\n\n<p>Views Page:</p>\n\n<pre><code>def register_page(request):\n    if request.method=='POST':\n        form=RegistrationForm(request.POST)\n    if form.is_valid():\n        user = User.objects.create_user(\n            username=form.clean_data['username'],\n            password=form.clean_data['password1'],\n            email=form.clean_data['email'])\n        return HttpResponseRedirect('/')\n    else:\n        form = RegistrationForm()\n    variables = RequestContext(request, {\n        'form': form})\n    return render_to_response(\n        'registration/register.html',\n        variables\n        )\n</code></pre>\n\n<p>Forms page:</p>\n\n<pre><code>class RegistrationForm(forms.Form):\n    username = forms.CharField(label='Username', max_length=30)\n    email = forms.EmailField(label='Email')\n    password1 = forms.CharField(\n        label='Password (Again)',\n        widget=forms.PasswordInput()\n    )\n    password2 = forms.CharField(\n        label='Password (Again)',\n        widget=forms.PasswordInput()\n    )\n\n    def clean_password2(self):\n        if 'password1' in self.clean_data:\n            password1 = self.clean_data['password1']\n            password2 = self.clean_data['password2']\n            if password1 == password2:\n                return password2\n            raise forms.ValidationError('Passwords do not match.')\n\n    def clean_username(self):\n        username = self.clean_data['username']\n        if not re.search(r'^\\w+$', username):\n            raise forms.ValidationError('Username can only contain'\n                                        'alphanumeric characters and the underscore.')\n        try:\n            User.objects.get(username=username)\n        except ObjectDoesNotExist:\n            return username\n        raise forms.ValidationError('Username is already taken.')\n</code></pre>\n\n<p>Thanks,\nSeth</p>\n"}, {"tags": ["javascript", "python", "django", "many-to-many"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 3, "creation_date": 1434574521, "post_id": 30902164, "comment_id": 49843354, "body": "But... that&#39;s Python code. You can&#39;t suddenly expect to run that in the middle of a piece of Javascript."}, {"owner": {"reputation": 15, "user_id": 5000920, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-WS5AbBEWT0g/AAAAAAAAAAI/AAAAAAAAA9M/_UycftgY_rc/photo.jpg?sz=128", "display_name": "Alexis Jensen", "link": "https://stackoverflow.com/users/5000920/alexis-jensen"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1434575772, "post_id": 30902164, "comment_id": 49843993, "body": "Would I be able to run the function in views.py?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1434577281, "post_id": 30902164, "comment_id": 49844666, "body": "Yes. Make an Ajax request to a view that does this."}], "owner": {"reputation": 15, "user_id": 5000920, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-WS5AbBEWT0g/AAAAAAAAAAI/AAAAAAAAA9M/_UycftgY_rc/photo.jpg?sz=128", "display_name": "Alexis Jensen", "link": "https://stackoverflow.com/users/5000920/alexis-jensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1434574321, "creation_date": 1434574321, "question_id": 30902164, "link": "https://stackoverflow.com/questions/30902164/clicking-favourite-button-adds-and-saves-an-object-to-a-many-to-many-field-in", "title": "Clicking favourite button adds (and saves) an object to a many to many field in a user model in Django", "body": "<p>When you click a google map marker (in this case it is a tree object) an info window pops up, there is a heart button on the window, giving the user the opportunity to heart (favour) this tree.   By doing to it will add the tree object to the userprofile's tree field (which is a many to many field). But unfortunately, I am have having trouble adding the tree object to the userprofile's tree field.</p>\n\n<p>Here is the run-down in code:</p>\n\n<p>Heart button (on index.html)</p>\n\n<pre><code>'&lt;button type=\"submit\" class=\"btn btn-default btn-sm\" onclick=\"favButton({{tree.treeId}});\"&gt;&lt;span class=\"glyphicon glyphicon-heart-empty\"&gt;&lt;/span&gt;&lt;/button&gt;');\n</code></pre>\n\n<p>It triggers the following script (on index.html)</p>\n\n<pre><code>  &lt;script&gt;\n          function favButton(atree){\n         {% if user.is_authenticated %}\n          favTree = Tree.objects.get(pk=atree)\n          user.userprofile.tree.add(favTree)\n          alert(\"hearted tree is added to your favourites\");\n         {% else %}\n          alert(\"please login to heart a tree\");\n          {% endif %}\n          }\n      &lt;/script&gt;\n</code></pre>\n\n<p>models.py</p>\n\n<pre><code>class Tree(models.Model):\n\n    treeId = models.IntegerField(primary_key=True)\n    neighbourhood = models.CharField(max_length=128, blank=True)\n    commonName = models.CharField(max_length=128, blank=True)\n    diameter = models.FloatField(null=True, blank=True)\n    streetNumber = models.PositiveSmallIntegerField(null=True, blank=True)\n    street = models.CharField(max_length=128, blank=True)\n\n    # Populated by sending street address to google and receiving lat lon output\n    lat = models.FloatField(null=True, blank=True)\n    lon = models.FloatField(null=True, blank=True)\n\n    def save(self, *args, **kwargs):\n                self.slug = slugify(self.treeId)\n                super(Tree, self).save(*args, **kwargs)\n\n    def __unicode__(self):\n        return str(self.treeId)\n\nclass UserProfile(models.Model):\n    # This line is required. Links UserProfile to a User model instance.\n    user = models.OneToOneField(User)\n\n\n\n\n    # The additional attributes we wish to include for a user.\n    website = models.URLField(blank=True)\n    picture = models.ImageField(upload_to='profile_images', blank=True)\n\n    # Tree field is used to store user's favourite trees\n    tree = models.ManyToManyField(Tree, blank=True)\n\n\n    def __unicode__(self):\n        return self.user.username\n</code></pre>\n\n<p>The atree parameter grabs the treeID which is the object's primary key - I know this part is working as I have tested it with an alert.  It is the next few lines of code that do not run and I think this is the crux of my problem:</p>\n\n<pre><code>favTree = Tree.objects.get(pk=atree)\nuser.userprofile.tree.add(favTree)\n</code></pre>\n\n<p>What I am trying to do is grab the tree object and add it to the userprofile's tree (many to many) field.</p>\n\n<p>Any insight as to where I should go or what I am doing wrong would be appreciated.</p>\n\n<p>Thanks,</p>\n\n<p>A</p>\n"}, {"tags": ["python", "optimization", "scipy"], "comments": [{"owner": {"reputation": 1626, "user_id": 2543727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkFul.jpg?s=128&g=1", "display_name": "cr1msonB1ade", "link": "https://stackoverflow.com/users/2543727/cr1msonb1ade"}, "edited": false, "score": 0, "creation_date": 1434574589, "post_id": 30902111, "comment_id": 49843393, "body": "The first error is because you have to supply an initial guess as the second argument. The second error is because <code>xtol</code> and <code>ftol</code> are not arguments to minimize. <code>tol</code> is probably the argument you are looking for there. Overall, read the man page: <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/scipy/reference/generated/&hellip;</a>"}, {"owner": {"reputation": 171, "user_id": 4981643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MtwOL.png?s=128&g=1", "display_name": "user40689", "link": "https://stackoverflow.com/users/4981643/user40689"}, "reply_to_user": {"reputation": 1626, "user_id": 2543727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkFul.jpg?s=128&g=1", "display_name": "cr1msonB1ade", "link": "https://stackoverflow.com/users/2543727/cr1msonb1ade"}, "edited": false, "score": 0, "creation_date": 1434575179, "post_id": 30902111, "comment_id": 49843681, "body": "I made mistake and I&#39;ve edited, Mistakenly i was using <code>args = para_init</code>, i want <code>para_init</code> to be my initial guess and there is no extra argument or args"}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 4981643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MtwOL.png?s=128&g=1", "display_name": "user40689", "link": "https://stackoverflow.com/users/4981643/user40689"}, "edited": false, "score": 0, "creation_date": 1434575238, "post_id": 30902278, "comment_id": 49843715, "body": "Thanks, please see the edit in Error1 (there is no args)"}, {"owner": {"reputation": 1107, "user_id": 3003461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54593f5a4ab194a12d3acb4b162cd5f5?s=128&d=identicon&r=PG", "display_name": "rjonnal", "link": "https://stackoverflow.com/users/3003461/rjonnal"}, "edited": false, "score": 0, "creation_date": 1434575484, "post_id": 30902278, "comment_id": 49843838, "body": "mescalinum, are <code>xtol</code> and <code>ftol</code> SLSQP options? I don&#39;t believe they are."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1434575608, "post_id": 30902278, "comment_id": 49843908, "body": "indeed they are for Nelder-Mead method. it seems the OP got quite a few things out of order"}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 0, "last_activity_date": 1434575616, "last_edit_date": 1434575616, "creation_date": 1434574719, "answer_id": 30902278, "question_id": 30902111, "link": "https://stackoverflow.com/questions/30902111/passing-list-of-arguments-of-varying-length-to-scipy-optimize-minimize-understa/30902278#30902278", "title": "Passing list of arguments of varying length to scipy.optimize.minimize (understanding the arguments)", "body": "<p>From <a href=\"http://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.optimize.minimize.html\" rel=\"nofollow\">http://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.optimize.minimize.html</a>:</p>\n\n<blockquote>\n  <p><strong>scipy.optimize.minimize(</strong> fun, x0, args=(), method=None, jac=None, hess=None, hessp=None, bounds=None, constraints=(), tol=None, callback=None, options=None <strong>)</strong></p>\n</blockquote>\n\n<p><code>minimize()</code> wants two positional arguments: <code>fun</code> and <code>x0</code></p>\n\n<p>Moreover, it has no <code>xtol</code> or <code>ftol</code> keyword argument, but has a <code>tol</code> keyword arg (Tolerance for termination).</p>\n\n<p>The <code>xtol</code>, <code>ftol</code>, <code>maxfev</code> are specific to the method used. In particular are specific of the Nelder-Mead method, and not available for the method you are using (SLSQP).</p>\n\n<p>Method-specific options can be supplied through the <code>options</code> dict.</p>\n\n<p>Therefore, you should call:</p>\n\n<blockquote>\n  <p>res = minimize(func, x0, args=para_init, method= 'SLSQP', constraints=cons, bounds=..., jac=..., options={...}) </p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 4981643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MtwOL.png?s=128&g=1", "display_name": "user40689", "link": "https://stackoverflow.com/users/4981643/user40689"}, "edited": false, "score": 0, "creation_date": 1434575336, "post_id": 30902285, "comment_id": 49843752, "body": "Thanks for the suggestion, I&#39;ll have a look at fmin_slsqp"}], "tags": [], "owner": {"reputation": 1107, "user_id": 3003461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54593f5a4ab194a12d3acb4b162cd5f5?s=128&d=identicon&r=PG", "display_name": "rjonnal", "link": "https://stackoverflow.com/users/3003461/rjonnal"}, "is_accepted": false, "score": 0, "last_activity_date": 1434574736, "creation_date": 1434574736, "answer_id": 30902285, "question_id": 30902111, "link": "https://stackoverflow.com/questions/30902111/passing-list-of-arguments-of-varying-length-to-scipy-optimize-minimize-understa/30902285#30902285", "title": "Passing list of arguments of varying length to scipy.optimize.minimize (understanding the arguments)", "body": "<p><code>minimize</code> has two required arguments: the function to minimize and an initial guess. You haven't supplied the latter. See <a href=\"http://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.optimize.minimize.html\" rel=\"nofollow\">this</a>. Consider calling <code>scipy.optimize.fmin_slsqp</code> directly. The <a href=\"http://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.optimize.fmin_slsqp.html#scipy.optimize.fmin_slsqp\" rel=\"nofollow\">documentation</a> is clearer, because the parameter semantics don't depend on optimization method. In other words, <code>minimize</code> calls other functions (e.g. <code>fmin_slsqp</code>) by assigning the former's arguments to the latter, which makes <code>minimize</code> difficult to document concisely and comprehensively.</p>\n"}], "owner": {"reputation": 171, "user_id": 4981643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MtwOL.png?s=128&g=1", "display_name": "user40689", "link": "https://stackoverflow.com/users/4981643/user40689"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1469, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1434575616, "creation_date": 1434574136, "last_edit_date": 1434575146, "question_id": 30902111, "link": "https://stackoverflow.com/questions/30902111/passing-list-of-arguments-of-varying-length-to-scipy-optimize-minimize-understa", "title": "Passing list of arguments of varying length to scipy.optimize.minimize (understanding the arguments)", "body": "<p>I want to understand the arguments provided to scipy.optimize.minimize. I'm calling my optimization as</p>\n\n<pre><code>res = minimize(func, para_init, method= 'SLSQP', constraints=cons) \n</code></pre>\n\n<p>The <code>para_init</code> looks like, <code>[x,y,np.array([a,b,c]),np.array([e,f])]</code> , and cons is a dictionary of constraints. <code>func()</code> takes in all the parameters listed in <code>para_init</code> and gives out a scalar object. However i'm facing the following problems:</p>\n\n<p>1) Error: <code>ValueError: setting an array element with a sequence</code></p>\n\n<p>2) I want to specify <code>xtol = 0.001, ftol = 0.001,  bounds = None, jac = None</code>, if i simply add these line to <code>minimize()</code> it complains as <code>TypeError: minimize() got an unexpected keyword argument 'xtol'</code>. Also I want to have the following specifications <code>options = {'maxiter': 100,'disp': True}</code> but then also i gut similar unexpected keyword error. </p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["python", "sql", "salesforce", "beatbox"], "answers": [{"tags": [], "owner": {"reputation": 78, "user_id": 3440239, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000195167530/picture?type=large", "display_name": "user3440239", "link": "https://stackoverflow.com/users/3440239/user3440239"}, "is_accepted": false, "score": 0, "last_activity_date": 1435912068, "creation_date": 1435912068, "answer_id": 31202094, "question_id": 30902100, "link": "https://stackoverflow.com/questions/30902100/beatbox-how-do-i-add-or-function-to-where-clause-when-pulling-data-from-sfdc/31202094#31202094", "title": "Beatbox: How do I add OR function to WHERE clause when pulling data from SFDC?", "body": "<p>You can follow the link below</p>\n\n<p><a href=\"https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select_conditionexpression.htm\" rel=\"nofollow\">https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select_conditionexpression.htm</a></p>\n"}, {"tags": [], "owner": {"reputation": 12405, "user_id": 448474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6bb69115337eaa824a694710c348bf7?s=128&d=identicon&r=PG", "display_name": "hynekcer", "link": "https://stackoverflow.com/users/448474/hynekcer"}, "is_accepted": false, "score": 0, "last_activity_date": 1502461828, "creation_date": 1502461828, "answer_id": 45637694, "question_id": 30902100, "link": "https://stackoverflow.com/questions/30902100/beatbox-how-do-i-add-or-function-to-where-clause-when-pulling-data-from-sfdc/45637694#45637694", "title": "Beatbox: How do I add OR function to WHERE clause when pulling data from SFDC?", "body": "<p>This is a restriction of <a href=\"https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select_comparisonoperators.htm#semijoin_and_antijoin\" rel=\"nofollow noreferrer\">SOQL Comparison Operators - Semi-Joins with IN ...</a> that</p>\n\n<blockquote>\n  <ul>\n  <li>You cannot use subqueries with OR.</li>\n  </ul>\n</blockquote>\n\n<p>You can get an error message</p>\n\n<blockquote>\n  <p><code>MALFORMED_QUERY Semi join sub-selects are not allowed with the 'OR' operator</code></p>\n</blockquote>\n\n<p>even if you combine <code>WHERE Id IN (SELECT ...) OR ...</code> with any trivial condition. There is no solution by SOQL, but there are two complicated workarounds: A) Create two roll-up summary fields with count of Opportunities and count of Contacts to can combine them without semi-join or B) combine the results of two queries by Python.</p>\n"}], "owner": {"reputation": 323, "user_id": 4967285, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/657c74a7d179d14ff5f9f73bb35625dc?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4967285/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502461828, "creation_date": 1434574088, "last_edit_date": 1434575218, "question_id": 30902100, "link": "https://stackoverflow.com/questions/30902100/beatbox-how-do-i-add-or-function-to-where-clause-when-pulling-data-from-sfdc", "title": "Beatbox: How do I add OR function to WHERE clause when pulling data from SFDC?", "body": "<p>Currently I am querying data from the Account object for only accounts with Opportunities. However, I want to add an OR function so that it will query data for accounts that have Contacts as well.</p>\n\n<p>What is the syntax for adding an OR to that? As in (SELECT AccountID FROM Opportunity OR Contact). So if the AccountID is in either set of data, it will pull the website for me. </p>\n\n<p><strong>Current State:</strong>    </p>\n\n<pre><code>query_result = svc.query(\"SELECT ID,Website FROM Account where ID in (SELECT accountId FROM Opportunity)\")\n</code></pre>\n"}, {"tags": ["python", "lua", "protocol-buffers", "caffe", "torch"], "comments": [{"owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "edited": false, "score": 0, "creation_date": 1434604791, "post_id": 30902056, "comment_id": 49851978, "body": "I am not familiar with torch. but there is a straight forward way to read caffe models to python. Would you be able to take data from python into torch?"}, {"owner": {"reputation": 339, "user_id": 4468092, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-neGcY0BF8ts/AAAAAAAAAAI/AAAAAAAAAlg/S4uUswM11_A/photo.jpg?sz=128", "display_name": "Jarvis Du", "link": "https://stackoverflow.com/users/4468092/jarvis-du"}, "reply_to_user": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "edited": false, "score": 0, "creation_date": 1434632625, "post_id": 30902056, "comment_id": 49869404, "body": "@Shai I indeed can play with h5 and t7 files for conversion."}, {"owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "edited": false, "score": 0, "creation_date": 1434632786, "post_id": 30902056, "comment_id": 49869530, "body": "are there layers that exists in t7 and not in caffe? I suspect there are... what about these types of layers?"}, {"owner": {"reputation": 339, "user_id": 4468092, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-neGcY0BF8ts/AAAAAAAAAAI/AAAAAAAAAlg/S4uUswM11_A/photo.jpg?sz=128", "display_name": "Jarvis Du", "link": "https://stackoverflow.com/users/4468092/jarvis-du"}, "reply_to_user": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "edited": false, "score": 0, "creation_date": 1435080500, "post_id": 30902056, "comment_id": 50045988, "body": "@Shai Don&#39;t think so. I think the structure should be all the same if they are based on the same model."}, {"owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "edited": false, "score": 0, "creation_date": 1448262866, "post_id": 30902056, "comment_id": 55494837, "body": "you might find the links in <a href=\"http://stackoverflow.com/a/33847461/1714410\">this answer</a> useful."}], "owner": {"reputation": 339, "user_id": 4468092, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-neGcY0BF8ts/AAAAAAAAAAI/AAAAAAAAAlg/S4uUswM11_A/photo.jpg?sz=128", "display_name": "Jarvis Du", "link": "https://stackoverflow.com/users/4468092/jarvis-du"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 997, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1434604618, "creation_date": 1434573928, "last_edit_date": 1434604618, "question_id": 30902056, "link": "https://stackoverflow.com/questions/30902056/generate-caffemodel-file", "title": "Generate caffemodel file", "body": "<p>I am using both Torch and Caffe for deep learning. I wonder if there is a way to output nn model into caffemodel file. It may involve protobuf, which I am not familiar with.</p>\n\n<p>It is kinda easy for the other way, where there are <a href=\"https://github.com/szagoruyko/loadcaffe\" rel=\"nofollow\">libraries</a> to read caffemodel file into torch.</p>\n"}, {"tags": ["python", "time", "syntax", "syntax-error", "pickle"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1434574274, "post_id": 30902050, "comment_id": 49843224, "body": "It&#39;s an IPython magic command and is meant to be used at the IPython prompt / command line: <a href=\"https://ipython.org/ipython-doc/dev/interactive/magics.html#magic-time\" rel=\"nofollow noreferrer\">ipython.org/ipython-doc/dev/interactive/magics.html#magic-ti&zwnj;&#8203;me</a>"}, {"owner": {"reputation": 39, "user_id": 5017148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c620520d4878a914ed12f5d0fcb38d54?s=128&d=identicon&r=PG&f=1", "display_name": "SRahimi", "link": "https://stackoverflow.com/users/5017148/srahimi"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 1, "creation_date": 1434716524, "post_id": 30902050, "comment_id": 49910792, "body": "I am using the Spyder IDE with IPython console but still get an error message stating that &quot;SyntaxError: invalid syntax&quot; at the %."}], "owner": {"reputation": 39, "user_id": 5017148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c620520d4878a914ed12f5d0fcb38d54?s=128&d=identicon&r=PG&f=1", "display_name": "SRahimi", "link": "https://stackoverflow.com/users/5017148/srahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 457, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1434574234, "creation_date": 1434573909, "last_edit_date": 1434574234, "question_id": 30902050, "link": "https://stackoverflow.com/questions/30902050/syntaxerror-time-pickle-dump", "title": "SyntaxError: %time pickle.dump", "body": "<p>Can someone please explain to me how the %time works?\nI got this from a book but every time I use it, I get an error. \nSyntaxError: invalid syntax</p>\n\n<pre><code>path = '/home/foad/PythonBoken/flash/'\n\nimport numpy as np\nfrom random import gauss\n\na = [gauss(1.5, 2) for i in range(100000)] #generation of normally distributed randoms\n\n#Write this list above to disk for later retrieval\nimport pickle \n\npkl_file=open(path + 'data.pkl', 'w') #open file for writing. Existing file may be overwritten\n\n%time pickle.dump(a, pkl_file)\n</code></pre>\n"}, {"tags": ["python", "string", "list", "loops", "dictionary"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 1, "creation_date": 1434574071, "post_id": 30902047, "comment_id": 49843097, "body": "Could you provide some actual test data for the dict and the two lists? We do not have those files you read... Also, try <code>&#39;,&#39;.join(rows)</code>"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 1, "creation_date": 1434574222, "post_id": 30902047, "comment_id": 49843195, "body": "Please provide some sample input and output?, Your given code doesn&#39;t helps much in understanding the problem."}, {"owner": {"reputation": 47, "user_id": 3292085, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20c665fa2f81885a1d9983ab81cbbd3e?s=128&d=identicon&r=PG&f=1", "display_name": "user3292085", "link": "https://stackoverflow.com/users/3292085/user3292085"}, "edited": false, "score": 0, "creation_date": 1434574423, "post_id": 30902047, "comment_id": 49843307, "body": "I apologize. Say List1 = [opium, christmas, weed] and List2 = [drug, harmful, bad] and Dictionary = {213432:&#39;opium is harmful for health&#39;, 321234:&#39;christmas is good&#39;, 543678:&#39;weed is bad&#39;}  the desired output needs to be the list: Output: [213432, 543678] because these two corresponding tweets contain atleast one value from list1 and one from list2."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3292085, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20c665fa2f81885a1d9983ab81cbbd3e?s=128&d=identicon&r=PG&f=1", "display_name": "user3292085", "link": "https://stackoverflow.com/users/3292085/user3292085"}, "edited": false, "score": 0, "creation_date": 1434575301, "post_id": 30902249, "comment_id": 49843742, "body": "thank you very much for replying. in the lines: for row in reader:         values = set(row[1:])         if strippredRisks.intersection(values) or strippedSlangs.intersection(values):             pass         else:             overallDict[row[0]] = values, should we not use AND instead of OR? I ask because atleast one term from risks and atleast one term from slangs have to be there in the dictionary value."}], "tags": [], "owner": {"reputation": 6788, "user_id": 1748754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jjk7p.jpg?s=128&g=1", "display_name": "erewok", "link": "https://stackoverflow.com/users/1748754/erewok"}, "is_accepted": false, "score": 0, "last_activity_date": 1434576240, "last_edit_date": 1434576240, "creation_date": 1434574648, "answer_id": 30902249, "question_id": 30902047, "link": "https://stackoverflow.com/questions/30902047/check-string-in-dictionary-for-keywords-from-2-separate-lists/30902249#30902249", "title": "Check string in dictionary for keywords from 2 separate lists", "body": "<p>Firstly, I had to rewrite your code to figure out more easily what it was doing:</p>\n\n<pre><code>strippedRisks = set()\nstrippedSlangs = set()\noverallDict = {}\n\nwith open('al.csv', 'r') as f:\n    reader = csv.reader(f)\n    for row in reader:\n       overallDict[row[0]] = \",\".join(row[1:])\n\nwith open('slangNames.txt') as f:\n    for line in f:\n        elements = line.strip()\n        strippedSlangs.add(elements)\n\nwith open('riskNames.txt') as f:\n    for line in f:\n        things = line.strip()\n        strippedRisks.add(things)\n</code></pre>\n\n<p>Okay. You want to know which keys in your dictionary have values in each of the lists it sounds like? In other words, you want to know which <code>values</code> of the dictionary have a word that is disallowed.</p>\n\n<p>You can probably do something like this:</p>\n\n<pre><code>for key, value in overallDict.items():\n  if set(value.split(',')).intersection(strippedSlangs):\n     # some words appear in strippedSlangs\n  elif set(value.split(',')).intersection(strippedRisks)\n     # some words appear in strippedRisks\n</code></pre>\n\n<p>However, now that I see what you want to do, I'd just use sets from the beginning and build the not-permitted words first:</p>\n\n<pre><code>strippedRisks = set()\nstrippedSlangs = set()\noverallDict = {}\n\nwith open('slangNames.txt') as f:\n    for line in f:\n        elements = line.strip()\n        strippedSlangs.add(elements)\n\nwith open('riskNames.txt') as f:\n    for line in f:\n        things = line.strip()\n        strippedRisks.add(things)\n\nwith open('al.csv', 'r') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        values = set(row[1:])\n        if strippredRisks.intersection(values) and strippedSlangs.intersection(values):\n            # Words in both bad-word lists. Do we skip these or save them?\n            pass\n        else:\n            overallDict[row[0]] = values\n</code></pre>\n\n<p>I <em>believe</em> that's what you're trying to accomplish, but I'm not totally sure.</p>\n"}], "owner": {"reputation": 47, "user_id": 3292085, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/20c665fa2f81885a1d9983ab81cbbd3e?s=128&d=identicon&r=PG&f=1", "display_name": "user3292085", "link": "https://stackoverflow.com/users/3292085/user3292085"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1434576240, "creation_date": 1434573893, "last_edit_date": 1434574388, "question_id": 30902047, "link": "https://stackoverflow.com/questions/30902047/check-string-in-dictionary-for-keywords-from-2-separate-lists", "title": "Check string in dictionary for keywords from 2 separate lists", "body": "<p>I have a dictionary with keys as ID and values as string. I also have two separate lists with keywords. \nI need to filter out all keys in the dictionary, the values of which have atleast one keyword from list 1 and atleast one keyword from list 2. \nI am confused how to go about this. please help. </p>\n\n<p>So far, this is what I have: </p>\n\n<pre><code># code loads all data from al.csv into a dictionary where the key is column 1 which is tweet ID and value is the the whole row including tweet ID.\nreader = csv.reader(open('al.csv', 'r'))\noverallDict = {}\nfor rows in reader:\n    k = rows[0]\n    v = rows[0] + ',' + rows[1] + ',' + rows[2] + ',' + rows[3] + ',' + rows[4] + ',' + rows[5] + ',' + rows[6] + ',' + rows[7] + ',' + rows[8] + ',' + rows[9]\n    overallDict[k] = v\n\n# The following lines of code loop loads keywords list\nwith open('slangNames.txt') as f:\n    slangs = f.readlines()\n\n# To strip new-line and prepare data into finished keywords list\nstrippedSlangs = []\nfor elements in slangs:\n    elements = elements.strip()\n    strippedSlangs.append(elements)\n\n# The following lines of code loop loads risks list\nwith open('riskNames.txt') as f:\n    risks = f.readlines()\n\n# To strip new-line and prepare data into finished risks list\nstrippedRisks = []\nfor things in risks:\n    things = things.strip()\n    strippedRisks.append(things)\n</code></pre>\n\n<p>Say List1 = [opium, christmas, weed]\nand List2 = [drug, harmful, bad]\nand Dictionary = {213432:'opium is harmful for health', 321234:'christmas is good', 543678:'weed is bad'}</p>\n\n<p>the desired output needs to be the list:\nOutput: [213432, 543678] because these two corresponding tweets contain atleast one value from list1 and one from list2. </p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "is_accepted": false, "score": 1, "last_activity_date": 1434574344, "creation_date": 1434574344, "answer_id": 30902169, "question_id": 30902045, "link": "https://stackoverflow.com/questions/30902045/how-to-parse-csv-file-and-search-by-item-in-first-column/30902169#30902169", "title": "How to parse CSV file and search by item in first column", "body": "<p>You can loop though the csv.reader(). It will return you rows. Rows consist of lists. Compare the first element of the list ie row[0]. If it is what you want, add the row to an output list.</p>\n"}, {"tags": [], "owner": {"reputation": 276, "user_id": 522702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7ff5a95ad47a104376994d5d783161?s=128&d=identicon&r=PG", "display_name": "Todd Minehardt", "link": "https://stackoverflow.com/users/522702/todd-minehardt"}, "is_accepted": false, "score": 1, "last_activity_date": 1434574364, "creation_date": 1434574364, "answer_id": 30902175, "question_id": 30902045, "link": "https://stackoverflow.com/questions/30902045/how-to-parse-csv-file-and-search-by-item-in-first-column/30902175#30902175", "title": "How to parse CSV file and search by item in first column", "body": "<p>You could create an ASCII test file with each of the 20 names on a separate line (perhaps called target_names). Then, with your CSV file (perhaps called file.csv), on the command line (bash):</p>\n\n<pre><code>for name in $(cat target_names); do grep $name file.csv &gt;&gt; my_new_small_file.csv; done\n</code></pre>\n\n<p>If you have issues with case sensitivity, use grep -i.</p>\n"}, {"tags": [], "owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "is_accepted": true, "score": 2, "last_activity_date": 1434574689, "creation_date": 1434574689, "answer_id": 30902263, "question_id": 30902045, "link": "https://stackoverflow.com/questions/30902045/how-to-parse-csv-file-and-search-by-item-in-first-column/30902263#30902263", "title": "How to parse CSV file and search by item in first column", "body": "<p>Use <code>pandas</code>!</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({'name': ['abc', 'ght', 'kjh'], 'price': [7,5,6], 'cost': [9, 0 ,2], 'quantity': [1,3,4]})\n\ndf = pd.read_csv('input_csv.csv') # Your case you would import like this\n\n&gt;&gt;&gt; df\n\n   cost name  price  quantity\n0     9  abc      7         1\n1     0  ght      5         3\n2     2  kjh      6         4\n\n&gt;&gt;&gt; names_wanted = ['abc','kjh']\n\n&gt;&gt;&gt; df_trim = df[df['name'].isin(names_wanted)]\n\n&gt;&gt;&gt; df_trim\n\n      cost   name   price  quantity\n  0      9    abc       7         1\n  2      2    kjh       6         4\n</code></pre>\n\n<p>Then export the file to csv:</p>\n\n<pre><code>&gt;&gt;&gt; df_trim.to_csv('trimmed_csv.csv', index=False)\n</code></pre>\n\n<p>Done!</p>\n"}, {"tags": [], "owner": {"reputation": 5639, "user_id": 174129, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/634b74a7c0bd91499f0247ee4fedb932?s=128&d=identicon&r=PG", "display_name": "Andy M", "link": "https://stackoverflow.com/users/174129/andy-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1434577006, "last_edit_date": 1434577006, "creation_date": 1434576624, "answer_id": 30902729, "question_id": 30902045, "link": "https://stackoverflow.com/questions/30902045/how-to-parse-csv-file-and-search-by-item-in-first-column/30902729#30902729", "title": "How to parse CSV file and search by item in first column", "body": "<p>Not sure I understood you right but, can the snippet below do what you want ?</p>\n\n<pre><code>def FilterCsv(_sFilename, _aAllowedNameList):\n  l_aNewFileLines = []\n  l_inputFile = open(_sFilename, 'r')\n  for l_sLine in l_inputFile:\n    l_aItems = l_sLine.split(',')\n    if l_aItems[0] in _aAllowedNameList:\n      l_aNewFileLines.append(l_sLine)\n  l_inputFile.close()\n\n  l_outputFile = open('output_' + _sFilename, 'w')\n  for l_sLine in l_aNewFileLines:\n    l_outputFile.write(l_sLine)\n  l_outputFile.close()\n</code></pre>\n\n<p>Hope this can be of any help!</p>\n"}], "owner": {"reputation": 611, "user_id": 3861489, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1cb3c96bca2dc5329a4a308ca2f3f7ae?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/3861489/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 30902263, "answer_count": 4, "score": 3, "last_activity_date": 1434577006, "creation_date": 1434573883, "question_id": 30902045, "link": "https://stackoverflow.com/questions/30902045/how-to-parse-csv-file-and-search-by-item-in-first-column", "title": "How to parse CSV file and search by item in first column", "body": "<p>I have a CSV file with over 4,000 lines formatted like...</p>\n\n<p>name, price, cost, quantity</p>\n\n<p>How do I trim my CSV file so only the 20 names I want remain? I am able to parse/trim the CSV file, I am coming up blank on how to search column 1.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 11, "creation_date": 1434573866, "post_id": 30901975, "comment_id": 49842971, "body": "It <a href=\"https://docs.python.org/3/library/stdtypes.html#str.isalpha\" rel=\"nofollow noreferrer\">definitely exists</a>."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 7, "creation_date": 1434573872, "post_id": 30901975, "comment_id": 49842982, "body": "How old is your version of Python?"}, {"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 5, "creation_date": 1434573875, "post_id": 30901975, "comment_id": 49842983, "body": "what&#39;s the version of your python intepreter."}, {"owner": {"reputation": 6174, "user_id": 1577341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nmeAD.jpg?s=128&g=1", "display_name": "Jacques de Hooge", "link": "https://stackoverflow.com/users/1577341/jacques-de-hooge"}, "edited": false, "score": 0, "creation_date": 1434573962, "post_id": 30901975, "comment_id": 49843037, "body": "Works fine with me. This may seem weird but sometimes the editor I use causes such a problem, it inserts invisible chars that nevertheless make identifiers unrecognizable for the interpreter. In that case deleting it all and retyping helps, cut and paste doesn&#39;t."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434574149, "post_id": 30901975, "comment_id": 49843150, "body": "Looks like the OP is using <code>print()</code> as a function, so this is probably Python 3, which should work perfectly."}, {"owner": {"reputation": 855, "user_id": 620431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/2GBVg.gif?s=128&g=1", "display_name": "piratemurray", "link": "https://stackoverflow.com/users/620431/piratemurray"}, "edited": false, "score": 0, "creation_date": 1434574379, "post_id": 30901975, "comment_id": 49843289, "body": "Can you post the entire file you&#39;re using. Including the bit at the top, please."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434574484, "post_id": 30901975, "comment_id": 49843331, "body": "@TigerhawkT3 Or Python 2 with <code>from __future__ import print_function</code>..."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 3, "creation_date": 1434574547, "post_id": 30901975, "comment_id": 49843368, "body": "I suspect the problem is that this is not actually the code you are having a problem with ..."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1434574621, "post_id": 30901975, "comment_id": 49843407, "body": "@twalberg, if they&#39;re able to use that import, they probably have a reasonable up-to-date version of Python 2. (Note my repeated use of &quot;probably&quot; :P.)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1434574711, "post_id": 30901975, "comment_id": 49843449, "body": "<code>isalpha</code> has been around since at least Python 2.0, released back in October 2000. I doubt this is your real code or your real error message. Check your code for typos."}, {"owner": {"reputation": 855, "user_id": 620431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/2GBVg.gif?s=128&g=1", "display_name": "piratemurray", "link": "https://stackoverflow.com/users/620431/piratemurray"}, "edited": false, "score": 2, "creation_date": 1434574904, "post_id": 30901975, "comment_id": 49843541, "body": "Are you perhaps using an online Python editor written in Javascript? Could be a bug in that. You should report it to the website. Your code, as you have posted it, should work."}, {"owner": {"reputation": 45, "user_id": 5021443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b3dc6a8ec673169b68e6928902287d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5021443/alex"}, "edited": false, "score": 0, "creation_date": 1434575267, "post_id": 30901975, "comment_id": 49843728, "body": "I&#39;m learning computer science at school, in which we use Python 3.4, however I don&#39;t have Python on my laptop, so I&#39;m using an online Python interpreter <a href=\"http://mathcs.holycross.edu/~kwalsh/python/\" rel=\"nofollow noreferrer\">mathcs.holycross.edu/~kwalsh/python</a>.  I&#39;m pretty sure it&#39;s the same error that comes up at school though."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1434575384, "post_id": 30901975, "comment_id": 49843780, "body": "@Alex: that interpreter is at best incomplete. Use a real Python interpreter instead."}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1434575398, "post_id": 30901975, "comment_id": 49843786, "body": "@Alex Then contact your school about the error. It&#39;s from their end, not yours."}, {"owner": {"reputation": 45, "user_id": 5021443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b3dc6a8ec673169b68e6928902287d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5021443/alex"}, "edited": false, "score": 0, "creation_date": 1434575440, "post_id": 30901975, "comment_id": 49843811, "body": "I&#39;ve tried programming this code multiple times at school (my teacher won&#39;t help me as wants us to be independent and research questions ourselves) and it doesn&#39;t work, so I doubt it&#39;s a spelling error.  Is there an alternate way of checking a variable contains only letters? (One that I could understand, bearing in mind I&#39;m a beginner)"}, {"owner": {"reputation": 194, "user_id": 4999096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bdp0P.png?s=128&g=1", "display_name": "Curmudgeon", "link": "https://stackoverflow.com/users/4999096/curmudgeon"}, "edited": false, "score": 1, "creation_date": 1434575507, "post_id": 30901975, "comment_id": 49843847, "body": "@Alex it says right at the bottom of the page that it&#39;s an incomplete version of Python that likely has bugs in it. It&#39;s the interpreter, not you, that code should work."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1434575547, "post_id": 30901975, "comment_id": 49843870, "body": "Hmm, yes, that online interpreter is <i>very</i> imcomplete - <code>print dir(&quot;hello&quot;)</code> gives only <code>[&#39;capitalize&#39;, &#39;center&#39;, &#39;count&#39;, &#39;find&#39;, &#39;index&#39;, &#39;join&#39;, &#39;ljust&#39;, &#39;lower&#39;, &#39;lstrip&#39;, &#39;partition&#39;, &#39;replace&#39;, &#39;rfind&#39;, &#39;rindex&#39;, &#39;rjust&#39;, &#39;rpartition&#39;, &#39;rstrip&#39;, &#39;split&#39;, &#39;strip&#39;, &#39;upper&#39;]</code> - there&#39;s a <i>lot</i> missing..."}, {"owner": {"reputation": 45, "user_id": 5021443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b3dc6a8ec673169b68e6928902287d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5021443/alex"}, "edited": false, "score": 0, "creation_date": 1434575579, "post_id": 30901975, "comment_id": 49843888, "body": "But even without the interpreter, on Python at school it comes up with the same error"}, {"owner": {"reputation": 45, "user_id": 5021443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b3dc6a8ec673169b68e6928902287d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5021443/alex"}, "edited": false, "score": 0, "creation_date": 1434575843, "post_id": 30901975, "comment_id": 49844028, "body": "I just tried it  using a different interpreter (repl.it) and it worked, thanks for the help, sorry if it was a basic question"}, {"owner": {"reputation": 7411, "user_id": 117242, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0a4a3d9b09139058bfe3cae8c5708d8e?s=128&d=identicon&r=PG", "display_name": "albertjan", "link": "https://stackoverflow.com/users/117242/albertjan"}, "edited": false, "score": 0, "creation_date": 1471261319, "post_id": 30901975, "comment_id": 65262583, "body": "This has been implemented in skulpt since."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5021443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b3dc6a8ec673169b68e6928902287d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5021443/alex"}, "edited": false, "score": 0, "creation_date": 1434575836, "post_id": 30902526, "comment_id": 49844024, "body": "I just tried it  using a different interpreter (repl.it) and it worked, thanks for the help, sorry if it was a basic question"}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "reply_to_user": {"reputation": 45, "user_id": 5021443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b3dc6a8ec673169b68e6928902287d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5021443/alex"}, "edited": false, "score": 0, "creation_date": 1434576032, "post_id": 30902526, "comment_id": 49844108, "body": "Just wondering, any reason why you can&#39;t/unable to install python on your laptop? It will really help especially when you progress in your class."}, {"owner": {"reputation": 45, "user_id": 5021443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b3dc6a8ec673169b68e6928902287d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5021443/alex"}, "edited": false, "score": 0, "creation_date": 1434576555, "post_id": 30902526, "comment_id": 49844330, "body": "I&#39;d never really thought about it to be honest, I&#39;m not planning on doing computer science after my GCSEs, I just wanted to understand why my program didn&#39;t work which is why I asked this question.  Would it take up lots of memory on my laptop if I did install it?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434580140, "post_id": 30902526, "comment_id": 49845846, "body": "All the installation files together are barely over 100MB on my machine. People run Python on <a href=\"https://www.raspberrypi.org/\" rel=\"nofollow noreferrer\">$30 computers</a>. Just install it."}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1434583064, "post_id": 30902526, "comment_id": 49846724, "body": "Absolutely, like TigerhawkT3 mentioned, it&#39;s so lightweight it won&#39;t hinder the performance of your laptop at all. You don&#39;t have to install it of course if you know for sure you&#39;re not going to use it, but it&#39;s a wonderful tool to have/play with."}], "tags": [], "owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "is_accepted": false, "score": 0, "last_activity_date": 1434575703, "creation_date": 1434575703, "answer_id": 30902526, "question_id": 30901975, "link": "https://stackoverflow.com/questions/30901975/how-can-i-check-if-a-string-is-only-letters-in-python-using-isalpha/30902526#30902526", "title": "How can I check if a string is only letters in python using isalpha?", "body": "<p>As most people in the comment have mentioned that tool you have online does not work properly and you should stay away from it.</p>\n\n<p>From the website you provided:</p>\n\n<blockquote>\n  <p>This is a simple online Python interpreter, built using the Skulpt\n  engine (slightly modified by kwalsh).</p>\n  \n  <p>Put your Python code below (copy-and-paste or just type it in\n  directly), then click run.</p>\n  \n  <p><strong>Note: this isn't a complete version of Python. See below.</strong></p>\n</blockquote>\n\n<p>If you must use an online interpreter, you might try out the engine that is provided by your school (Skulpt).</p>\n\n<p>But I highly recommend you get python installed onto your laptop, you're less likely to run through any errors.</p>\n"}], "owner": {"reputation": 45, "user_id": 5021443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1b3dc6a8ec673169b68e6928902287d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5021443/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1434575703, "creation_date": 1434573633, "last_edit_date": 1434573810, "question_id": 30901975, "link": "https://stackoverflow.com/questions/30901975/how-can-i-check-if-a-string-is-only-letters-in-python-using-isalpha", "title": "How can I check if a string is only letters in python using isalpha?", "body": "<p>I am trying to check to see if a user's input only contains letters. Other forums seem like the 'isalpha' function seems to be what I'm looking for, yet when I use it in my code and run it, an error appears saying <code>AttributeError: 'str' object has no attribute 'isalpha'</code>.</p>\n\n<p>This is my code: </p>\n\n<pre><code>name='hello'\nif name.isalpha():\n    print(\"Your name is valid\")\n</code></pre>\n\n<p>I don't understand where I'm going wrong.</p>\n"}, {"tags": ["python", "monkeypatching"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1434573599, "post_id": 30901949, "comment_id": 49842829, "body": "Not in a thread-safe manner. Are you using threads?"}, {"owner": {"reputation": 6174, "user_id": 1577341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nmeAD.jpg?s=128&g=1", "display_name": "Jacques de Hooge", "link": "https://stackoverflow.com/users/1577341/jacques-de-hooge"}, "edited": false, "score": 0, "creation_date": 1434573714, "post_id": 30901949, "comment_id": 49842886, "body": "You assign to a local variable in your wrapper. Put a declaration in front: global logger"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 3, "last_activity_date": 1434573778, "creation_date": 1434573778, "answer_id": 30902014, "question_id": 30901949, "link": "https://stackoverflow.com/questions/30901949/is-possible-to-use-decorator-to-monkey-patch-the-global-variables/30902014#30902014", "title": "Is possible to use decorator to monkey patch the global variables?", "body": "<p>You can alter the function globals temporarily:</p>\n\n<pre><code>_sentinel = object()\n\ndef change_logger(name):\n    def decorator(func):\n        @functools.wraps(func)\n        def wrapper(*arg, **kwargs):\n            old_logger = func.__globals__.get('logger', _sentinel)\n            func.__globals__['logger'] = logging.getLogger(name)\n            try:\n                result = func(*arg, **kwargs)\n            finally:\n                if old_logger is not _sentinel:\n                    func.__globals__['logger'] = old_logger\n                else:\n                    del func.__globals__['logger']\n            return result\n        return wrapper\n    return decorator\n</code></pre>\n\n<p>This is <em>not</em> thread safe; you are altering the globals not just for this function but for the whole module.</p>\n"}], "owner": {"reputation": 157, "user_id": 1884882, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9483688b34afbc823e9fdc837875f20?s=128&d=identicon&r=PG", "display_name": "tywtyw2002", "link": "https://stackoverflow.com/users/1884882/tywtyw2002"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 797, "favorite_count": 1, "accepted_answer_id": 30902014, "answer_count": 1, "score": 3, "last_activity_date": 1434573778, "creation_date": 1434573551, "question_id": 30901949, "link": "https://stackoverflow.com/questions/30901949/is-possible-to-use-decorator-to-monkey-patch-the-global-variables", "title": "Is possible to use decorator to monkey patch the global variables?", "body": "<p>Is possible to monkey patch the global variables?</p>\n\n<p>For my case, I setup the a global variable to be the default logger of whole file, but for some special function I would use a decorator to change the logger and add some extra information.</p>\n\n<p>Such as follow code:</p>\n\n<p><strong>libmonkey.py</strong></p>\n\n<pre><code>logger = logging.getLogger(__name__)\n\n@change_logger('import')\ndef do_some():\n    logger.debug('This is a debug')\n    #do some things\n\ndef do_some2():\n    logger.debug('This is a debug')\n    #do some things\n</code></pre>\n\n<p><strong>decorator.py</strong></p>\n\n<pre><code>def change_logger(name):\n    def decorator(func):\n        @functools.wraps(func)\n        def wrapper(*arg, **kwargs):\n            logger = logging.getLogger(name)\n            func(*arg, **kwargs)\n        return wrapper\n    return decorator\n</code></pre>\n\n<p>And when I do follow code, the log of <code>do_some()</code> is not go to logger <code>import</code> instead of <code>libmonkey</code></p>\n\n<pre><code>from libmonkey import do_some, do_some2\n\n#skip code for set logging lvl to debug, and output logging to stream.\ndo_some()\ndo_some2()\n</code></pre>\n\n<p>So how to use decorator to monkey patching the global variable.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 2502, "user_id": 3589054, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2af7ed5cc40b1b8479cd082ca3e0c4af?s=128&d=identicon&r=PG&f=1", "display_name": "NinjaGaiden", "link": "https://stackoverflow.com/users/3589054/ninjagaiden"}, "edited": false, "score": 0, "creation_date": 1434594189, "post_id": 30902817, "comment_id": 49849276, "body": "Excellent answer.  How can I evaluate this in pairs? Since, I evaluated 0,1 row, I want to skip evaluating 1,2 instead I want to evaluate 2,3."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 2502, "user_id": 3589054, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2af7ed5cc40b1b8479cd082ca3e0c4af?s=128&d=identicon&r=PG&f=1", "display_name": "NinjaGaiden", "link": "https://stackoverflow.com/users/3589054/ninjagaiden"}, "edited": false, "score": 0, "creation_date": 1434606124, "post_id": 30902817, "comment_id": 49852492, "body": "@user3589054 See revised response to view only those names that have not been removed.  Per your question in your comment, it is difficult to efficiently remove/stop evaluating row 1 and move directly to row 2.  One could use iterrows to sequentially evaluate each row in the data frame, but this is quite slow because a new Series much be created for each one. Depending on what you mean by &#39;evaluate&#39;, you could have any expensive calculation based on whether or not the &#39;remove&#39; flag has been set."}, {"owner": {"reputation": 2502, "user_id": 3589054, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2af7ed5cc40b1b8479cd082ca3e0c4af?s=128&d=identicon&r=PG&f=1", "display_name": "NinjaGaiden", "link": "https://stackoverflow.com/users/3589054/ninjagaiden"}, "edited": false, "score": 0, "creation_date": 1434618973, "post_id": 30902817, "comment_id": 49859920, "body": "Thanks for your response.  To solve it, i was thinking of adding another criteria such as  Flag=A&amp;NextFlag=T&amp;Remove=False. Once remove is set to true (second line) it should not evaluate but I am not sure if does this operation in parallel or sequentially  if it does then it won&#39;t work. i am afraid it will do it parallel and independently. I am curios how the iterrows solution would look like"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1434605711, "last_edit_date": 1434605711, "creation_date": 1434576984, "answer_id": 30902817, "question_id": 30901947, "link": "https://stackoverflow.com/questions/30901947/pandas-looking-at-next-row-and-swapping-values/30902817#30902817", "title": "pandas looking at next row and swapping values", "body": "<p>I would create some temporary columns to track the lagged flags and values and next flags.  Then you can compare directly:</p>\n\n<pre><code>df['prior_flag'] = df.Flag.shift()\ndf['next_flag'] = df.Flag.shift(-1)\ndf['prior_value'] = df.Value.shift()\n\n# Check for 'A' followed by 'T'\ndf.loc[(df.Flag == 'A') &amp; (df.next_flag == 'T'), 'found'] = True\ndf.loc[(df.Flag == 'T') &amp; (df.prior_flag == 'A'), 'remove'] = True\ndf.loc[(df.Flag == 'T') &amp; (df.prior_flag == 'A'), 'Value'] = \\\n    df.loc[(df.Flag == 'T') &amp; (df.prior_flag == 'A'), 'prior_value']\n\n# Check for 'G' followed by 'C'\ndf.loc[(df.Flag == 'G') &amp; (df.next_flag == 'C'), 'found'] = True\ndf.loc[(df.Flag == 'C') &amp; (df.prior_flag == 'G'), 'remove'] = True\ntemp = df.loc[(df.Flag == 'G') &amp; (df.next_flag == 'C'), 'Value'].values\ndf.loc[(df.Flag == 'G') &amp; (df.next_flag == 'C'), 'Value'] = \\\n    df.loc[(df.Flag == 'C') &amp; (df.prior_flag == 'G'), 'Value'].values\ndf.loc[(df.Flag == 'C') &amp; (df.prior_flag == 'G'), 'Value'] = temp\ndf.drop(['next_flag', 'prior_flag', 'prior_value'], axis=1, inplace=True)\n\n&gt;&gt;&gt; df\n  Flag Value  found remove\n0    A     3   True  False\n1    T     3  False   True\n2    A     3  False  False\n3    A     4  False  False\n4    G     4   True  False\n5    C     3  False   True\n6    T     1  False  False\n</code></pre>\n\n<p>Because you want to swap values when G is followed by C, I created a temporary variable <code>temp</code> to store the intermediate copy value.</p>\n\n<p>All temporary columns are then dropped at the end.</p>\n\n<p>To view the remaining rows that have not been removed:</p>\n\n<pre><code>&gt;&gt;&gt; df[~df.remove]\n  Flag Value  found remove\n0    A     3   True  False\n2    A     3  False  False\n3    A     4  False  False\n4    G     4   True  False\n6    T     1  False  False\n</code></pre>\n"}], "owner": {"reputation": 2502, "user_id": 3589054, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2af7ed5cc40b1b8479cd082ca3e0c4af?s=128&d=identicon&r=PG&f=1", "display_name": "NinjaGaiden", "link": "https://stackoverflow.com/users/3589054/ninjagaiden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "accepted_answer_id": 30902817, "answer_count": 1, "score": 0, "last_activity_date": 1434605711, "creation_date": 1434573544, "last_edit_date": 1434573712, "question_id": 30901947, "link": "https://stackoverflow.com/questions/30901947/pandas-looking-at-next-row-and-swapping-values", "title": "pandas looking at next row and swapping values", "body": "<p>If i see a A&amp;T consecutively, </p>\n\n<ol>\n<li>I will set found=True for A. set remove=True for T.</li>\n<li>Set value of T as A (copy A's value to T)</li>\n<li>Set T found=True</li>\n</ol>\n\n<p>If I see G&amp;C consecutively,</p>\n\n<ol>\n<li>I will set found=True for G. set remove=True for C</li>\n<li>Swap G &amp; C Values</li>\n</ol>\n\n<hr>\n\n<p>Original dataframe</p>\n\n<pre><code>df=pd.DataFrame([['A','3'],['T','4'],\n                 ['A','3'],['A','4'],\n                 ['G','3'],['C','4'],\n                 ['T','1']\n                 ],\n                columns=['Flag','Value'])\ndf['found']=False\ndf['remove']=False\n\n\nprint df\n\n  Flag Value  found remove\n0    A     3  False  False\n1    T     4  False  False\n2    A     3  False  False\n3    A     4  False  False\n4    G     3  False  False\n5    C     4  False  False\n6    T     1  False  False\n</code></pre>\n\n<p>Desired Dataframe</p>\n\n<pre><code>  Flag Value  found remove\n0    A     3   True  False\n1    T     3  False   True\n2    A     3  False  False\n3    A     4  False  False\n4    G     4   True  False\n5    C     3  False   True\n6    T     1  False  False\n</code></pre>\n"}, {"tags": ["python", "c", "macos", "python-2.7", "osx-yosemite"], "comments": [{"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 2, "creation_date": 1434574388, "post_id": 30901923, "comment_id": 49843293, "body": "If they&#39;re .exe they&#39;re no longer C, they&#39;re fully-compiled native Windows executables. You&#39;ll have to get the source code and recompile them into OS X executables."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1434592314, "post_id": 30901923, "comment_id": 49848799, "body": "Note, too, that OS X binary executables do not conventionally carry an &quot;.EXE&quot; extension, unlike Windows executables.  This is perhaps the <i>direct</i> reason for the &quot;no such file or directory&quot; error in particular, instead of a different error complaining about the executable format."}, {"owner": {"reputation": 1, "user_id": 1510973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db623dd59dbc38b04d2e6cab200974d?s=128&d=identicon&r=PG&f=1", "display_name": "Henry Ward", "link": "https://stackoverflow.com/users/1510973/henry-ward"}, "edited": false, "score": 0, "creation_date": 1435084449, "post_id": 30901923, "comment_id": 50048391, "body": "Thank you! Your explanations helped a lot. OS X compatibility added :)"}], "owner": {"reputation": 1, "user_id": 1510973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db623dd59dbc38b04d2e6cab200974d?s=128&d=identicon&r=PG&f=1", "display_name": "Henry Ward", "link": "https://stackoverflow.com/users/1510973/henry-ward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1434573454, "creation_date": 1434573454, "question_id": 30901923, "link": "https://stackoverflow.com/questions/30901923/run-compiled-c-code-from-python-in-mac", "title": "Run compiled C code from Python in Mac", "body": "<p>I'm very new to OS X, as I just started learning it today out of necessity, so maybe this is a simple question.</p>\n\n<p>I'm testing a python wrapper script that encompasses several C files in Mac. I call scripts using <code>subprocess.check_call()</code>, with a sample parameter of <code>'cScript ' + inputFile + ' ' + outputFile</code>. The scripts were all compiled using gcc in windows, and thus are .exe files. </p>\n\n<p>That's the problem. When I run the python script I get \"OSError: no such file or directory\" returned from check_call. I have the OS X command line dev tools including gcc installed, and I even changed the permissions on the C scripts using chmod +x. Nothing worked, however, and I get the same \"no such file\" error. I'm sure there's a workaround for this, and I'd love any help, but as a new, incompetent Mac user I don't understand why this is even an issue in the first place. </p>\n\n<p>Thanks in advance!</p>\n\n<p>Note: I have extensively tested all of the scripts, including the wrapper script, in Windows using MingW and they all work fine.</p>\n"}, {"tags": ["python", "matplotlib", "scipy", "interpolation", "spline"], "comments": [{"owner": {"reputation": 2214, "user_id": 426625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752c2878af40a1907e4981b155a51369?s=128&d=identicon&r=PG", "display_name": "Gretchen", "link": "https://stackoverflow.com/users/426625/gretchen"}, "edited": false, "score": 0, "creation_date": 1434573741, "post_id": 30901908, "comment_id": 49842911, "body": "Can you use scipy.interpolate.interp1d instead? That will return a function that you can reuse (and you can specify cubic interpolation). Note that by default an error is raised if you pass in an out of range value, so it won&#39;t extrapolate at all."}, {"owner": {"reputation": 21, "user_id": 4317971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da6d235c6fa96d2d050d1e1fc660d5d1?s=128&d=identicon&r=PG&f=1", "display_name": "crockski", "link": "https://stackoverflow.com/users/4317971/crockski"}, "reply_to_user": {"reputation": 2214, "user_id": 426625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752c2878af40a1907e4981b155a51369?s=128&d=identicon&r=PG", "display_name": "Gretchen", "link": "https://stackoverflow.com/users/426625/gretchen"}, "edited": false, "score": 0, "creation_date": 1434576209, "post_id": 30901908, "comment_id": 49844184, "body": "My data is not monotonic, it&#39;s closed and wedge shaped.  So i don&#39;t think i can use that specific interpolation.  I won&#39;t need to interpolate i&#39;ll just need a curve to measure normal distance to from points around it."}, {"owner": {"reputation": 21, "user_id": 4317971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da6d235c6fa96d2d050d1e1fc660d5d1?s=128&d=identicon&r=PG&f=1", "display_name": "crockski", "link": "https://stackoverflow.com/users/4317971/crockski"}, "reply_to_user": {"reputation": 2214, "user_id": 426625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752c2878af40a1907e4981b155a51369?s=128&d=identicon&r=PG", "display_name": "Gretchen", "link": "https://stackoverflow.com/users/426625/gretchen"}, "edited": false, "score": 0, "creation_date": 1434577901, "post_id": 30901908, "comment_id": 49844915, "body": "*I won&#39;t need to extrapolate"}], "answers": [{"tags": [], "owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "is_accepted": false, "score": 0, "last_activity_date": 1434618393, "creation_date": 1434618393, "answer_id": 30911026, "question_id": 30901908, "link": "https://stackoverflow.com/questions/30901908/python-interpolation-and-data-comparison/30911026#30911026", "title": "python interpolation and data comparison", "body": "<p><code>spline</code> is a combination of <code>splmake</code> and <code>spleval</code>, all three undocumented. Best not use them directly. <code>interp1d</code> with <code>kind=cubic</code> would use these routines under the hood.</p>\n\n<p>For constructing a spline object for subsequent reuse, use <code>splrep</code> (<code>splprep</code> for parametric splines) / <code>splev</code>, or <code>UnivariateSpline</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 4317971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da6d235c6fa96d2d050d1e1fc660d5d1?s=128&d=identicon&r=PG&f=1", "display_name": "crockski", "link": "https://stackoverflow.com/users/4317971/crockski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1434618393, "creation_date": 1434573393, "question_id": 30901908, "link": "https://stackoverflow.com/questions/30901908/python-interpolation-and-data-comparison", "title": "python interpolation and data comparison", "body": "<p>So I want to read in multiple sets of data and compare them to one set of data to do a grid resolution study.  I have a basic script set up to read in my data from the dump file from my CFD code.  It interpolates between my data set and works fine but it only plots the spline between my data.  </p>\n\n<pre><code>    f = open('x_data.dat','r')\n    xd=np.genfromtxt(f)\n    f.close() \n\n    f = open('y_data.dat','r')\n    yd=np.genfromtxt(f)\n    f.close() \n\n    plt.plot(xd,yd,'o')\n\n    t = np.arange(xd.shape[0], dtype=float)\n    t /= t[-1]\n    nt = np.linspace(0, 1, 100)\n    x1 = scipy.interpolate.spline(t, xd, nt)\n    y1 = scipy.interpolate.spline(t, yd, nt)\n    plt.plot(x1, y1, label='range_spline')\n\n    plt.show()\n</code></pre>\n\n<p>I want to keep that spline data and use it as a f(x,y) to plug other x,y data into and check the surface location to what my \"exact solution\" should be.  The data from my other data sets is not coincident to the exact solution data, hence the need to interpolate.  Is there a way to store the spline data between each point so I can get a f(x,y) I can use like a function?  Also, are these splines cubic.  The don't look cubic and I could not find a simple answer.</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4820810, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/700c955a5af0d8f894874779a1455606?s=128&d=identicon&r=PG&f=1", "display_name": "bWF800", "link": "https://stackoverflow.com/users/4820810/bwf800"}, "edited": false, "score": 0, "creation_date": 1434642874, "post_id": 30903659, "comment_id": 49877484, "body": "much appreciated. I was not aware <code>.exists()</code> existed. That worked for me, unfortunately <code>get_or_create</code> is not available in my django version. I ran into one more issue that I was hoping you could point me in the right direction on. I feel like my data is already structured incorrectly and it will prevent me from running the query I need. I edited it in, attn to the html page for description."}], "tags": [], "owner": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "is_accepted": false, "score": 0, "last_activity_date": 1434580695, "creation_date": 1434580695, "answer_id": 30903659, "question_id": 30901853, "link": "https://stackoverflow.com/questions/30901853/function-inside-a-model-sum-of-other-models-matching-date/30903659#30903659", "title": "Function inside a model, sum of other models matching date", "body": "<blockquote>\n  <p>it would always save and never update so I could not use it.</p>\n</blockquote>\n\n<p>Because you are never updating it. You are always saving it.</p>\n\n<pre><code>ic = Invoice_Complete(date=month,billed_to=current_user,total=c)\nic.save()\n</code></pre>\n\n<p>will always create a new object. If you want to update existing values you have to first get it from the database like this - </p>\n\n<pre><code>if Invoice_Complete.objects.filter(date=month,billed_to=current_user).exists():\n    ic = Invoice_Complete.objects.get(date=month,billed_to=current_user)\n    ic = ic.total + c\n    ic.save()\nelse: # this is a new entry\n    ic = Invoice_Complete(date=month,billed_to=current_user,total=c)\n    ic.save() \n</code></pre>\n\n<p>Or a more shorter version - </p>\n\n<pre><code>ic, created = Invoice_Complete.objects.get_or_create(date=month,billed_to=current_user)\nif created: # this is a new entry\n    ic.total = c\nelse: # this is an old entry so update it\n    ic.total = ic.total + c\nic.save() # call save. will save or update as necessary\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4820810, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/700c955a5af0d8f894874779a1455606?s=128&d=identicon&r=PG&f=1", "display_name": "bWF800", "link": "https://stackoverflow.com/users/4820810/bwf800"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434642712, "creation_date": 1434573152, "last_edit_date": 1434642712, "question_id": 30901853, "link": "https://stackoverflow.com/questions/30901853/function-inside-a-model-sum-of-other-models-matching-date", "title": "Function inside a model, sum of other models matching date", "body": "<p>I am trying to create a invoice system for my project and I have reached a point where I can't figure the logic out to create this. I just want all of the invoices I enter to be saved to a invoice_complete model with a imported date. I don't know if this is possible through the model directly or if I will have to do some messing around in views. I create the billing period and then input 'invoice' in that particular period, then I want to send all of those to an invoice complete to actually send a price to the user.</p>\n\n<pre><code>class Bill_Period(models.Model):\n    start_date              = models.DateTimeField(blank=True, null=True)\n    end_date                = models.DateTimeField(blank=True, null=True)\n\n    def __unicode__(self):\n        return unicode(self.start_date)\n\nclass Service_Entry(models.Model):\n    date_of_service         = models.DateTimeField(default=timezone.now(),blank=True)\n    agency_to_bill          = models.ForeignKey(settings.AUTH_USER_MODEL, blank=True)\n    therapy_completed       = models.ForeignKey('Service', blank=True)\n\n    def __unicode__(self):\n            return unicode(self.agency_to_bill)\n\n\nclass Invoice_Complete(models.Model):\n    date                    = # bill_period\n    billed_to               = models.CharField(max_length=\"50\", blank=True)\n    total                   = models.PositiveIntegerField()\n    paid                    = models.BooleanField(default=False)\n\n    def __unicode__(self):\n            return u\"%s %s\" % (self.date, self.billed_to)\n</code></pre>\n\n<p>I need a queryset like this to get what I need, I just don't know where to use it for it to work.</p>\n\n<pre><code>def get_cost():\n    invoice_detail  = Service_Entry.objects.filter(date_of_service__year=year,\n                                            date_of_service__month=month,\n                                            agency_to_bill=billed_to)\n    c               = invoice_detail.aggregate(t = Sum('therapy_completed__cost')).values()[0]\n    return c\n</code></pre>\n\n<p>To give you a better idea of what I'm trying to accomplish, I was using this view but it would always save and never update so I could not use it.</p>\n\n<pre><code>def invoice_detail(request, month, year):\n    current_user    = request.user\n    invoice_detail  = Service_Entry.objects.filter(date_of_service__year=year,\n                                             date_of_service__month=month,\n                                             agency_to_bill=current_user)\n    c               = invoice_detail.aggregate(t = Sum('therapy_completed__cost')).values()[0]\n    ic = Invoice_Complete(date=month,billed_to=current_user,total=c)\n    ic.save()\n</code></pre>\n\n<p>***edit\nRan into another issue that I do not know how to solve. I basically need a query inside a loop.</p>\n\n<pre><code>#invoice-list.html\n&lt;table width=100%&gt;\n        {% for period in span %}\n        &lt;tr&gt;&lt;td&gt;&lt;a href=\"{% url 'invoice-detail' period.start_date|date:\"Y\" period.start_date|date:\"m\" %}\"&gt;{{ period.start_date | date:\"M Y\" }}&lt;/a&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;/td&gt; #need total for month looped\n        &lt;td&gt;&lt;/td&gt; #need paid true/false for month looped\n        &lt;/tr&gt;\n        {% endfor %}\n&lt;/table&gt;\n\n#views.py\ndef invoicelist(request):\n        span = Bill_Period.objects.all()\n        return render_to_response('invoice-list.html', {'span': span})\n\n\ndef InvoiceDetail(request, month, year): \n        current_user    = request.user\n        invoice_detail  = invoice.objects.filter(date_of_service__year=year,date_of_service__month=month,agency_to_bill=current_user)\n        c               = invoice_detail.aggregate(t = Sum('therapy_completed__cost')).values()[0]\n        if Invoice_Complete.objects.filter(date_month=month,date_year=year,billed_to=current_user).exists():\n                ic = Invoice_Complete.objects.get(date_month=month, date_year=year, billed_to=current_user)\n                ic = ic.total + c\n                ic.save()\n        else:\n                ic = Invoice_Complete(date_month=month,date_year=year,billed_to=current_user,total=c)\n                ic.save()\n\n       return render_to_response('invoice-detail.html', {'invoice_detail': invoice_detail,\n                                                         'current_user': current_user,\n                                                         'month': month,\n                                                          'c': c,})\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "flask", "httprequest", "session-cookies"], "answers": [{"tags": [], "owner": {"reputation": 961, "user_id": 4388451, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/718a66e4b3482ee0c62b0a1ed18d9316?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/4388451/andriy"}, "is_accepted": true, "score": 0, "last_activity_date": 1434651844, "last_edit_date": 1495539828, "creation_date": 1434575539, "answer_id": 30902497, "question_id": 30901824, "link": "https://stackoverflow.com/questions/30901824/how-to-pass-a-modified-or-custom-session-while-making-request-in-testing-flask-a/30902497#30902497", "title": "How to pass a modified or custom session while making request in testing flask applications?", "body": "<p>The solution is based on the code presented in similar question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/21486400/how-to-test-session-in-flask-resource?rq=1\">How to test session in flask resource</a></p>\n\n<p>Instead of line </p>\n\n<pre><code>with self.app.test_client() as c:\n</code></pre>\n\n<p>in 'test.py' I should write</p>\n\n<pre><code>with self.client as c:\n</code></pre>\n\n<p>However, I still don't understand these lines difference.</p>\n"}], "owner": {"reputation": 961, "user_id": 4388451, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/718a66e4b3482ee0c62b0a1ed18d9316?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/4388451/andriy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 30902497, "answer_count": 1, "score": 0, "last_activity_date": 1434651844, "creation_date": 1434573066, "question_id": 30901824, "link": "https://stackoverflow.com/questions/30901824/how-to-pass-a-modified-or-custom-session-while-making-request-in-testing-flask-a", "title": "How to pass a modified or custom session while making request in testing flask applications?", "body": "<p>I have adopted the code from manual</p>\n\n<p><a href=\"http://flask.pocoo.org/docs/0.10/testing/#accessing-and-modifying-sessions\" rel=\"nofollow\">http://flask.pocoo.org/docs/0.10/testing/#accessing-and-modifying-sessions</a></p>\n\n<pre><code>with app.test_client() as c:\nwith c.session_transaction() as sess:\n    sess['a_key'] = 'a value'\n\n# once this is reached the session was stored\n</code></pre>\n\n<p>The core of my project that uses this approach is presented below.</p>\n\n<h3>Structure</h3>\n\n<ul>\n<li>/testing_with_flask\n<ul>\n<li>/test_project\n<ul>\n<li>/templates\n<ul>\n<li>index.html</li>\n</ul></li>\n<li>__init__.py</li>\n</ul></li>\n<li>/requirements.py</li>\n<li>/run.py</li>\n<li>/test.py</li>\n</ul></li>\n</ul>\n\n<h3>Content of every file</h3>\n\n<p><strong>requirements.txt</strong></p>\n\n<pre><code>Flask\n</code></pre>\n\n<p><strong>run.py</strong></p>\n\n<pre><code>from test_project import create_app\n\napp = create_app()\napp.run(host='0.0.0.0', port=8080, debug=True)\n</code></pre>\n\n<p><strong>test.py</strong></p>\n\n<pre><code>from test_project import create_app\nfrom unittest import TestCase as Base\n\n\nclass TestCase(Base):\n    @classmethod\n    def setUpClass(cls):\n        cls.app = create_app()\n        cls.app.config['TESTING'] = True\n        cls.client = cls.app.test_client()\n        cls._ctx = cls.app.test_request_context()\n        cls._ctx.push()\n\n\nclass TestModel(TestCase):\n\n    def test_adding_comments_logged_user(self):\n        with self.app.test_client() as c:\n            with c.session_transaction() as sess:\n                sess['user_id'] = 1\n            self.app.preprocess_request()\n            response = self.client.get('/')\n\n        assert 'Yahooo!!!' in response.data\n\n\nif __name__ == \"__main__\":\n    import unittest    \n    unittest.main()\n</code></pre>\n\n<p><strong>__init__.py</strong></p>\n\n<pre><code># Main init file.\nfrom flask import Flask, render_template, g, session\n\n\nDEBUG = False\nTESTING = False\n\nSECRET_KEY = \"jd&amp;%G#43WG~dn6\"\nSITE_TITLE = \"TEST\"\n\n\ndef index():\n    return render_template('index.html', user=g.user)\n\n\ndef load_user():\n    if 'user_id' not in session.keys():\n        g.user = 'None'\n    else:\n        g.user = 'Yahooo!!!'\n\n\ndef create_app():\n    app = Flask(__name__)\n    app.config.from_object(__name__)\n    app.before_request(load_user)\n    app.add_url_rule('/', 'index', index)\n\n    return app\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head lang=\"en\"&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;I Need Help&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n{{ user }}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Unfortunately, I can't get the value <strong>'Yahooo!!!'</strong> of the variable <strong>g.user</strong>. I can not get 'else' branch of 'if' statement of the function <strong>load_user</strong> running <strong>test.py</strong>.</p>\n"}, {"tags": ["python", "html", "web-crawler", "scrapy", "scrapy-spider"], "answers": [{"tags": [], "owner": {"reputation": 850, "user_id": 1455074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S6YRx.jpg?s=128&g=1", "display_name": "tschwab", "link": "https://stackoverflow.com/users/1455074/tschwab"}, "is_accepted": true, "score": 1, "last_activity_date": 1434574239, "last_edit_date": 1495540277, "creation_date": 1434574239, "answer_id": 30902137, "question_id": 30901797, "link": "https://stackoverflow.com/questions/30901797/distinguishing-between-html-and-non-html-pages-in-scrapy/30902137#30902137", "title": "Distinguishing between HTML and non-HTML pages in Scrapy", "body": "<p>Nevermind, I found the answer. <code>type()</code> only gives information on the immediate type. It tells nothing of inheritance. I was looking for <code>isinstance()</code>. This code works:</p>\n\n<pre><code>if isinstance(response, TextResponse):\n    links = response.xpath(\"//a/@href\").extract()\n    ...\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/2225066/1455074\">https://stackoverflow.com/a/2225066/1455074</a>, near the bottom</p>\n"}], "owner": {"reputation": 850, "user_id": 1455074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S6YRx.jpg?s=128&g=1", "display_name": "tschwab", "link": "https://stackoverflow.com/users/1455074/tschwab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 1, "accepted_answer_id": 30902137, "answer_count": 1, "score": 1, "last_activity_date": 1434574239, "creation_date": 1434572974, "question_id": 30901797, "link": "https://stackoverflow.com/questions/30901797/distinguishing-between-html-and-non-html-pages-in-scrapy", "title": "Distinguishing between HTML and non-HTML pages in Scrapy", "body": "<p>I am building a Spider in Scrapy that follows all the links it can find, and sends the url to a pipeline. At the moment, this is my code:</p>\n\n<pre><code>from scrapy import Spider\nfrom scrapy.http import Request\nfrom scrapy.http import TextResponse\nfrom scrapy.selector import Selector\nfrom scrapyTest.items import TestItem\nimport urlparse\n\n\nclass TestSpider(Spider):\nname = 'TestSpider'\nallowed_domains = ['pyzaist.com']\nstart_urls = ['http://pyzaist.com/drone']\n\ndef parse(self, response):\n    item = TestItem()\n    item[\"url\"] = response.url\n    yield item\n\n    links = response.xpath(\"//a/@href\").extract()\n    for link in links:\n        yield Request(urlparse.urljoin(response.url, link))\n</code></pre>\n\n<p>This does the job, but throws an error whenever the response is just a Response, not a TextResponse or HtmlResponse. This is because there is no Response.xpath(). I tried to test for this by doing:</p>\n\n<pre><code>if type(response) is TextResponse:\n    links = response.xpath(\"//a@href\").extract()\n    ...\n</code></pre>\n\n<p>But to no avail. When I do that, it never enters the if statement. I am new to Python, so it might be a language thing. I appreciate any help.</p>\n"}, {"tags": ["python", "django", "rest"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 4, "last_activity_date": 1447369129, "last_edit_date": 1447369129, "creation_date": 1434574310, "answer_id": 30902160, "question_id": 30901719, "link": "https://stackoverflow.com/questions/30901719/no-module-named-http-client-error-when-trying-to-run-django-with-django-rest-fra/30902160#30902160", "title": "No module named http_client error when trying to run django with django rest framework", "body": "<p>It looks like you are hitting <a href=\"https://github.com/tomchristie/django-rest-framework/issues/2969\" rel=\"nofollow\">issue 2969</a>. It should work if you upgrade from Django 1.6 to 1.6.11. However, please note that 1.6 is now end of life and does not receive security fixes, so ideally you should upgrade to the latest supported version of Django or the latest LTS.</p>\n"}], "owner": {"reputation": 195, "user_id": 1359279, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b3dfe4c65fe445224b3668874a0288e8?s=128&d=identicon&r=PG", "display_name": "Gustavo_fringe", "link": "https://stackoverflow.com/users/1359279/gustavo-fringe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3131, "favorite_count": 0, "accepted_answer_id": 30902160, "answer_count": 1, "score": 4, "last_activity_date": 1447369129, "creation_date": 1434572660, "question_id": 30901719, "link": "https://stackoverflow.com/questions/30901719/no-module-named-http-client-error-when-trying-to-run-django-with-django-rest-fra", "title": "No module named http_client error when trying to run django with django rest framework", "body": "<p>I am trying to create a simple API using django rest framework. In the view i have the following code.</p>\n\n<pre><code>    from django.shortcuts import render\nfrom moviestash.models import Movie\nfrom moviestash.serializer import MovieSerializer\nfrom rest_framework import generics\n\n#List all movies and add movies\nclass MovieList(generics.ListCreateAPIView):\n    queryset = Movie.objects.all()\n    serializer_class = MovieSerializer\n\n#Get a movie and delete a movie\nclass MovieDetail(generics.RetrieveDestroyAPIView):\n    queryset = Movie.objects.all()\n    serializer_class = MovieSerializer\n</code></pre>\n\n<p>when i run the server and try to go to any url i get the following error.</p>\n\n<pre><code>Request Method: GET\nRequest URL: http://127.0.0.1:8000/\n\nDjango Version: 1.6\nPython Version: 2.7.0\nInstalled Applications:\n('django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'moviestash',\n 'south',\n 'rest_framework')\nInstalled Middleware:\n('django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware')\n\n\nTraceback:\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\django\\core\\handlers\\base.py\" in get_response\n  101.                 resolver_match = resolver.resolve(request.path_info)\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\django\\core\\urlresolvers.py\" in resolve\n  318.             for pattern in self.url_patterns:\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\django\\core\\urlresolvers.py\" in url_patterns\n  346.         patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\django\\core\\urlresolvers.py\" in urlconf_module\n  341.             self._urlconf_module = import_module(self.urlconf_name)\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\django\\utils\\importlib.py\" in import_module\n  40.         __import__(name)\nFile \"N:\\Python\\movies_api\\movies_api\\urls.py\" in &lt;module&gt;\n  10.     url(r'^movies/', include('moviestash.urls')),\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\django\\conf\\urls\\__init__.py\" in include\n  26.         urlconf_module = import_module(urlconf_module)\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\django\\utils\\importlib.py\" in import_module\n  40.         __import__(name)\nFile \"N:\\Python\\movies_api\\moviestash\\urls.py\" in &lt;module&gt;\n  3. from . import views\nFile \"N:\\Python\\movies_api\\moviestash\\views.py\" in &lt;module&gt;\n  4. from rest_framework import generics\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\rest_framework\\generics.py\" in &lt;module&gt;\n  8. from rest_framework import views, mixins\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\rest_framework\\views.py\" in &lt;module&gt;\n  14. from rest_framework.response import Response\nFile \"N:\\Python\\venvs\\rest_api\\lib\\site-packages\\rest_framework\\response.py\" in &lt;module&gt;\n  8. from django.utils.six.moves.http_client import responses\n\nException Type: ImportError at /\nException Value: No module named http_client\n</code></pre>\n\n<p>When i go into the django shell and i can perform the following import with no issue from django.utils.six.moves import http_client. Also after i import http_client i also performed a dir(http_client) and i can see the responses object, but for some reason when i try to import using from django.utils.six.moves.http_client import responses i get an ImportError: No module named http_client. This is very frustrating to say the least.</p>\n"}, {"tags": ["python", "signals", "stdout"], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 0, "last_activity_date": 1434573097, "last_edit_date": 1495541668, "creation_date": 1434573097, "answer_id": 30901836, "question_id": 30901689, "link": "https://stackoverflow.com/questions/30901689/suppress-stdout-python-sigstop/30901836#30901836", "title": "Suppress stdout Python SIGSTOP", "body": "<p>It's not python to print that line.</p>\n\n<p>That line is printed by your shell (<code>bash</code> probably) when you suspend a job.</p>\n\n<p>So you cannot suppress from within python.</p>\n\n<p>The bad news is that you cannot suppress printing of that information from bash either. See the answer of <a href=\"https://stackoverflow.com/questions/81520/how-to-suppress-terminated-message-after-killing-in-bash\">How to suppress Terminated message after killing in bash?</a></p>\n"}, {"tags": [], "owner": {"reputation": 19346, "user_id": 2793118, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5da03d2e233e1a40a4f1923acfb9d433?s=128&d=identicon&r=PG", "display_name": "Filipe Gon&#231;alves", "link": "https://stackoverflow.com/users/2793118/filipe-gon%c3%a7alves"}, "is_accepted": false, "score": 0, "last_activity_date": 1434656558, "last_edit_date": 1434656558, "creation_date": 1434644991, "answer_id": 30920921, "question_id": 30901689, "link": "https://stackoverflow.com/questions/30901689/suppress-stdout-python-sigstop/30920921#30920921", "title": "Suppress stdout Python SIGSTOP", "body": "<p>As mentioned in other answers, this is printed by your shell. The shell monitors the status of every child process it forked. One of these child processes is your python program. When it is stopped, the shell is notified (with <code>SIGCHLD</code>), fetches the termination status of the child that stopped, and prints that message to let you know that one of the running jobs is now suspended.</p>\n\n<p>I don't know if it's possible to configure bash to stop printing job status changes, but there's something else you can do: inside <code>prog.py</code>, just <code>fork()</code> and exit in the parent, leaving the child alive. This causes <code>prog.py</code> to become a child of <code>init</code> (as opposed to being a child of <code>bash</code>), and so <code>bash</code> will not care about it anymore.</p>\n\n<p>I don't know Python, but here's an example in C:</p>\n\n<pre><code>#include &lt;unistd.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n\nint main(void) {\n    pid_t f;\n    if ((f = fork()) &lt; 0) {\n        perror(\"Unable to fork\");\n        exit(EXIT_FAILURE);\n    }\n    if (f == 0) {\n        /* Child takes over */\n        while (1); /* Just place your code here */\n    }\n    return 0;\n}\n</code></pre>\n\n<p>I'm sure you can do something similar in Python.</p>\n"}], "owner": {"reputation": 171, "user_id": 4965597, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d167936ebfee16623d355ef04f2cec6d?s=128&d=identicon&r=PG&f=1", "display_name": "kennedyl", "link": "https://stackoverflow.com/users/4965597/kennedyl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1434656558, "creation_date": 1434572567, "question_id": 30901689, "link": "https://stackoverflow.com/questions/30901689/suppress-stdout-python-sigstop", "title": "Suppress stdout Python SIGSTOP", "body": "<p>I'm trying to create a program that runs in the background but can be easily paused an unpaused. This can be done by starting another copy of prog.py and using pause flags. I can successfully pause and unpause my program this way. Using sig handlers I can output to stdout \n\"Pausing program\"\n\"Resuming program\"</p>\n\n<p>I start the program to do work with a command like:</p>\n\n<pre><code>./prog.py -H foo -P bar -i 10\n</code></pre>\n\n<p>When I run the program as</p>\n\n<pre><code>./prog.py --pause 1\n</code></pre>\n\n<p>This causes a flag to be raised that calls</p>\n\n<pre><code>os.kill(%pid, signal.SIGSTOP)\n</code></pre>\n\n<p>everything pauses as it should but the first time (and ONLY the first time) I pause it I get this type of output to stdout:</p>\n\n<pre><code> [2]+  Stopped                 ./prog.py -H foo -P bar -i 10\n</code></pre>\n\n<p>I have tried to suppress it by setting sys.stdout = '/dev/null' but that didn't seem to do it. It's not the end of the world if I can't figure it out, i'm just a bit annoyed and really only want to see pause and resume in the parent program. Any ideas?</p>\n"}, {"tags": ["python", "google-app-engine", "google-cloud-datastore", "app-engine-ndb"], "answers": [{"tags": [], "owner": {"reputation": 6412, "user_id": 272372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oLzr8.png?s=128&g=1", "display_name": "Hanuman", "link": "https://stackoverflow.com/users/272372/hanuman"}, "is_accepted": true, "score": 2, "last_activity_date": 1434573229, "creation_date": 1434573229, "answer_id": 30901869, "question_id": 30901683, "link": "https://stackoverflow.com/questions/30901683/gae-p-migrating-to-ndb-efficiently/30901869#30901869", "title": "GAE/P: Migrating to NDB efficiently", "body": "<p>In your case the <a href=\"https://cloud.google.com/appengine/docs/python/ndb/cache#incontext\" rel=\"nofollow\">In-Context Cache</a> will take over and save you the db calls:</p>\n\n<blockquote>\n  <p>The in-context cache is fast; this cache lives in memory. When an NDB function writes to the Datastore, it also writes to the in-context cache. When an NDB function reads an entity, it checks the in-context cache first. If the entity is found there, no Datastore interaction takes place.</p>\n</blockquote>\n\n<p>Each request will get a new context.</p>\n"}], "owner": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 30901869, "answer_count": 1, "score": 1, "last_activity_date": 1482953635, "creation_date": 1434572544, "last_edit_date": 1482953635, "question_id": 30901683, "link": "https://stackoverflow.com/questions/30901683/gae-p-migrating-to-ndb-efficiently", "title": "GAE/P: Migrating to NDB efficiently", "body": "<p>I'm finally upgrading from <code>db</code> to <code>ndb</code> (it is a much bigger headache than I anticipated...).</p>\n\n<p>I used a lot of <code>ReferenceProperty</code> and I've converted these to <code>KeyProperty</code>.  Now, every place where I used a <code>ReferenceProperty</code> I need to add an explicit get because it was previously done for me automatically.</p>\n\n<p>My question relates to whether I should restructure my code to make it more efficient.  I have many methods that use a <code>KeyProperty</code> and I need to do an explicit <code>get()</code>.  I'm wondering if I should change these methods so that I am passing the entity to them instead of using the <code>KeyProperty</code> and a <code>get()</code>.</p>\n\n<p>Is the automatic memcaching for <code>ndb</code> good enough that I don't need to restructure?  Or should I restructure my code to avoid repeated gets of the same entity?</p>\n\n<p>We are not looking at huge inefficiencies here.  But for a single HTTP GET/POST I might be getting the same entity 3-5 times.</p>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434572744, "post_id": 30901654, "comment_id": 49842347, "body": "It looks like the first line of the sample would create a key of <code>&quot;2&quot;</code> and a value of <code>[&#39;2&#39;, &#39;12345&#39;, &#39;1.12345&#39;]</code>. Is that what you intend? As far as printing it, sending a dictionary to the standard <code>print()</code> function doesn&#39;t automatically format it, so you&#39;ll have to decide how you want to print it and then implement it."}, {"owner": {"reputation": 267, "user_id": 4979663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XED7i.jpg?s=128&g=1", "display_name": "Mouse Reeve", "link": "https://stackoverflow.com/users/4979663/mouse-reeve"}, "edited": false, "score": 1, "creation_date": 1434572801, "post_id": 30901654, "comment_id": 49842372, "body": "Can you give a sample of the desired output?"}, {"owner": {"reputation": 1035, "user_id": 4530863, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d0dec2a07981f5d115737978d69a74f8?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pearson", "link": "https://stackoverflow.com/users/4530863/christopher-pearson"}, "edited": false, "score": 0, "creation_date": 1434572901, "post_id": 30901654, "comment_id": 49842429, "body": "<a href=\"https://docs.python.org/3/library/pprint.html\" rel=\"nofollow noreferrer\">pprint</a> may be  able to help some with the formatting."}, {"owner": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434573194, "post_id": 30901654, "comment_id": 49842606, "body": "Dude you need to put example output. How&#39;re you gonna access this dictionary? @TigerhawkT3 already suggested a solution that you can process sequentially. Otherwise you have to create dict-of-dict - and define on what keys you want to access what values."}, {"owner": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434573851, "post_id": 30901654, "comment_id": 49842962, "body": "Yes at @TigerhawkT3 that is exactly what intend or atleast what my professor wants. Perhaps there is a more simpler way of going about this? Please let me know. The dict-of-dict idea seems promising. Can you guys elaborate?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434573962, "post_id": 30901654, "comment_id": 49843038, "body": "So, you want the first column as the key, and a <code>list</code> of all three columns as the value?"}, {"owner": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434574302, "post_id": 30901654, "comment_id": 49843243, "body": "I would like the first two columns as the key and the third as the value. Is that format possible? Does it make sense? @TigerhawkT3"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434574508, "post_id": 30901654, "comment_id": 49843344, "body": "&quot;The first two columns as the key and the third as the value&quot; is <b><i>mutually exclusive</i></b> from the &quot;key of <code>&quot;2&quot;</code> and a value of <code>[&#39;2&#39;, &#39;12345&#39;, &#39;1.12345&#39;]</code>&quot; that is the exact intent of what your professor wants. Please decide what you want."}, {"owner": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "reply_to_user": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "edited": false, "score": 0, "creation_date": 1434650420, "post_id": 30901654, "comment_id": 49881918, "body": "Can someone please help me with this...? @Aditya"}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1434573057, "post_id": 30901744, "comment_id": 49842527, "body": "That won&#39;t print the dictionary any more neatly than what the OP has (and I&#39;m not certain it&#39;s the dictionary structure they want)."}, {"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434573129, "post_id": 30901744, "comment_id": 49842558, "body": "True, but it does fix the logical issues the OP had in his code, atleast according to his requirements"}, {"owner": {"reputation": 603, "user_id": 3049733, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/f4e6b0696522dfa31f6c634ae324ea7c?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav Raj", "link": "https://stackoverflow.com/users/3049733/pranav-raj"}, "edited": false, "score": 0, "creation_date": 1434573220, "post_id": 30901744, "comment_id": 49842615, "body": "I think using pprint is the answer for his question. That formats the dictionary and prints it <b>properly</b> on the screen."}, {"owner": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "edited": false, "score": 0, "creation_date": 1434576295, "post_id": 30901744, "comment_id": 49844222, "body": "Apparently this results in &quot;IndexError=list index out of range&quot;. What do suppose I do?"}], "tags": [], "owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1434576460, "last_edit_date": 1434576460, "creation_date": 1434572795, "answer_id": 30901744, "question_id": 30901654, "link": "https://stackoverflow.com/questions/30901654/how-do-i-convert-a-text-file-into-a-dictionary-and-print-it/30901744#30901744", "title": "How do I convert a text file into a dictionary and print it?", "body": "<p>You should try -</p>\n\n<pre><code>import pprint\nd = {}\nwith open ('file name.txt','r') as f:\n    for line in f:\n        row = line.split('\\t')\n        if len(row) == 3:\n            d[(row[0], row[1])] = row[2]\npp = pprint.PrettyPrinter(indent=4)\npp.pprint(d)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434573491, "post_id": 30901829, "comment_id": 49842766, "body": "I suspect issue 1 was a copy-paste error, since if they had it like that in their program I think they&#39;d get a traceback saying that <code>&#39;filename.txtr</code> doesn&#39;t exist."}, {"owner": {"reputation": 1107, "user_id": 3003461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54593f5a4ab194a12d3acb4b162cd5f5?s=128&d=identicon&r=PG", "display_name": "rjonnal", "link": "https://stackoverflow.com/users/3003461/rjonnal"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434573722, "post_id": 30901829, "comment_id": 49842894, "body": "This approach, by the way, includes the newline character &#39;\\n&#39; as the final character of each dictionary value. To avoid this, use <code>strip()</code>, either in <code>rows = ( line.strip().split(&#39;\\t&#39;) for line in f)</code> or <code>d = { (row[0],row[1]):row[2].strip() for row in rows}</code>. Nice dictionary comprehension, though."}, {"owner": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "edited": false, "score": 0, "creation_date": 1434578412, "post_id": 30901829, "comment_id": 49845134, "body": "Can you explain why do I keep getting the error &quot;IndexError: list index out of range?&quot; Does it have to do with my file. If so, what is wrong? @rjonnal"}, {"owner": {"reputation": 1107, "user_id": 3003461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54593f5a4ab194a12d3acb4b162cd5f5?s=128&d=identicon&r=PG", "display_name": "rjonnal", "link": "https://stackoverflow.com/users/3003461/rjonnal"}, "edited": false, "score": 0, "creation_date": 1434607530, "post_id": 30901829, "comment_id": 49853112, "body": "It may be because one of the rows in your file has just two values, but I can&#39;t reproduce the error without your data file."}], "tags": [], "owner": {"reputation": 1107, "user_id": 3003461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54593f5a4ab194a12d3acb4b162cd5f5?s=128&d=identicon&r=PG", "display_name": "rjonnal", "link": "https://stackoverflow.com/users/3003461/rjonnal"}, "is_accepted": false, "score": 0, "last_activity_date": 1434573389, "last_edit_date": 1434573389, "creation_date": 1434573084, "answer_id": 30901829, "question_id": 30901654, "link": "https://stackoverflow.com/questions/30901654/how-do-i-convert-a-text-file-into-a-dictionary-and-print-it/30901829#30901829", "title": "How do I convert a text file into a dictionary and print it?", "body": "<p>Banana, you're close.</p>\n\n<ol>\n<li>You need a comma separating the arguments of <code>open</code>.</li>\n<li>You want to assign the third member of <code>row</code>, i.e. <code>row[2]</code>.</li>\n<li>You need to decide how to group the first two members of row into a hashable key. Making a tuple out of them, i.e. <code>(row[0],row[1])</code> works.</li>\n<li>Print the dictionary line by line.</li>\n</ol>\n\n<p>Try:</p>\n\n<pre><code>with open('filename.txt','r') as f:\n    rows = ( line.split('\\t') for line in f ) \n    d = { (row[0],row[1]):row[2] for row in rows}\nfor key in d.keys():\n    print key,d[key]    \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "edited": false, "score": 0, "creation_date": 1434578464, "post_id": 30902006, "comment_id": 49845164, "body": "Can you help me? Your output is my desired output. But can you elaborate on your explanation?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "edited": false, "score": 0, "creation_date": 1434616019, "post_id": 30902006, "comment_id": 49857936, "body": "@Banana0101 What part is ambiguous?"}, {"owner": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "edited": false, "score": 0, "creation_date": 1434648901, "post_id": 30902006, "comment_id": 49880968, "body": "I inserted parts of your example above and got punctuation marks in the output @Kasra"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "edited": false, "score": 0, "creation_date": 1434650255, "post_id": 30902006, "comment_id": 49881816, "body": "@Banana0101 sorry i didn&#39;t get what you mean? I said what part of the code you didn&#39;t understand?"}, {"owner": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "edited": false, "score": 0, "creation_date": 1434651310, "post_id": 30902006, "comment_id": 49882403, "body": "I am new to this. If this makes any sense, I can&#39;t completely grasp how to incorporate my code into the examples you&#39;ve given me above. @kasra"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "edited": false, "score": 0, "creation_date": 1434651584, "post_id": 30902006, "comment_id": 49882557, "body": "@Banana0101 I added the links of <code>dict comprehension</code> and <code>map</code> function it a simple code ;) don&#39;t worry pls read the links and if you have any question ask me here ;)"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1434651507, "last_edit_date": 1434651507, "creation_date": 1434573745, "answer_id": 30902006, "question_id": 30901654, "link": "https://stackoverflow.com/questions/30901654/how-do-i-convert-a-text-file-into-a-dictionary-and-print-it/30902006#30902006", "title": "How do I convert a text file into a dictionary and print it?", "body": "<p>First of all your slicing is wrong.You can get the first tow column with <code>line[:2]</code> and 3rd with <code>line[2]</code>.</p>\n\n<p>Also you don't need to create your rows in a separated data structure you can use unpacking operation and <a href=\"https://docs.python.org/2/library/functions.html#map\" rel=\"nofollow\"><code>map</code></a> function within a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#dictionaries\" rel=\"nofollow\">dict comprehension</a> :</p>\n\n<pre><code>with open ('ex.txt') as f:\n      d={tuple(i):j.strip() for *i,j in map(lambda line:line.split('\\t'),f)}\n\nprint(d) \n</code></pre>\n\n<p>result :</p>\n\n<pre><code>{('2', '12345'): '1.12345', ('3', '12345'): '1.12345', ('1', '54321'): '1.54321'}\n</code></pre>\n\n<p>Note that as <code>*i</code> is a list and lists are unhashable objects you can not use it as your dictionary key so you can convert it to <code>tuple</code>. </p>\n\n<p>And if you want to preserve the order you can use <a href=\"https://docs.python.org/2/library/collections.html#collections.OrderedDict\" rel=\"nofollow\"><code>collections.OrderedDict</code></a> :</p>\n\n<pre><code>from collections import OrderedDict\nwith open ('ex.txt') as f:\n      d=OrderedDict({tuple(i):j.strip() for *i,j in map(lambda line:line.split('\\t'),f)})\n\nprint(d)\nOrderedDict([(('2', '12345'), '1.12345'), (('1', '54321'), '1.54321'), (('3', '12345'), '1.12345')])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 1642267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e21096641ca12eec6288602259aff9d?s=128&d=identicon&r=PG", "display_name": "CodingPenguins", "link": "https://stackoverflow.com/users/1642267/codingpenguins"}, "is_accepted": false, "score": 0, "last_activity_date": 1434574361, "creation_date": 1434574361, "answer_id": 30902173, "question_id": 30901654, "link": "https://stackoverflow.com/questions/30901654/how-do-i-convert-a-text-file-into-a-dictionary-and-print-it/30902173#30902173", "title": "How do I convert a text file into a dictionary and print it?", "body": "<p>I'm not sure exactly how you want the keys to layout. Regardless, you should use the csv module, using the <code>'\\t'</code> as your delimiter.</p>\n\n<pre><code>import csv\n\nwith open('data.txt') as file:\n    tsvfile = csv.reader(file, delimiter='\\t')\n    d = { \"{},{}\".format(row[0], row[1]): row[2] for row in tsvfile }\n    print(d)\n</code></pre>\n\n<p>Prints out:\n    {'3,12345': '1.12345', '1,54321': '1.54321', '2,12345': '1.12345'}</p>\n\n<p>Alternatively, you have this:</p>\n\n<pre><code>with open('data.txt') as file:\n    tsvfile = csv.reader(file, delimiter='\\t')\n    d = {}\n    for row in tsvfile:\n        d[row[0]] = row[2]\n        d[row[1]] = row[2]\n    print(d)\n</code></pre>\n\n<p>Prints out:</p>\n\n<pre><code>{'54321': '1.54321', '3': '1.12345', '1': '1.54321', '12345': '1.12345', '2': '1.12345'}\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 4991939, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c277ade7d3f5093147ee4c76568b8d99?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Jones", "link": "https://stackoverflow.com/users/4991939/jim-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1293, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1434651507, "creation_date": 1434572458, "last_edit_date": 1434572904, "question_id": 30901654, "link": "https://stackoverflow.com/questions/30901654/how-do-i-convert-a-text-file-into-a-dictionary-and-print-it", "title": "How do I convert a text file into a dictionary and print it?", "body": "<p>My file is formatted into three columns of numbers:</p>\n\n<pre><code>2    12345    1.12345\n1    54321    1.54321\n3    12345    1.12345\n</code></pre>\n\n<p>I would like to have Python use the first two columns as keys and use the third column as the values. The file is large, meaning that I can't format it by hand. So how do I have Python automatically convert my large file into a dictionary?</p>\n\n<p>Here is my code: </p>\n\n<pre><code>with open ('file name.txt' 'r') as f:\n    rows = ( line.split('\\t') for line in f ) \n    d = { row[0]:row[:3] for row in rows}\n    print(d)\n</code></pre>\n\n<p>The output prints the numbers diagonally all over the place. How do I format it properly?</p>\n"}, {"tags": ["python", "file", "directory"], "comments": [{"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 1, "creation_date": 1434572105, "post_id": 30901505, "comment_id": 49842007, "body": "what do you mean <code>that does not work</code>? you can&#39;t <code>with open(fn) as fd: print fd.read()</code>? or what?"}, {"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1434574433, "post_id": 30901505, "comment_id": 49843310, "body": "// , Why are people downvoting this? This question is fine, it&#39;s a new user, etc.  I think what you&#39;re asking for, Ryan, is something analogous to a recursive Unix <code>cat</code> command, right? And it&#39;s OK if the output is silly looking?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434574779, "post_id": 30901505, "comment_id": 49843479, "body": "The (single) downvote is probably due to the perceived lack of research into how to work with file I/O."}, {"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1434648658, "post_id": 30901505, "comment_id": 49880820, "body": "// , That&#39;s where the strange, the forthright, the people who take responsibility for their decisions come in, Ryan. We haven&#39;t all bailed."}, {"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1434649762, "post_id": 30901505, "comment_id": 49881532, "body": "// , Speaking of which, you should probably edit the question to answer HuStmpHrrr&#39;s concerns. Consider that many more people than you will be reading this."}, {"owner": {"reputation": 89, "user_id": 5003232, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5abde23c483b1c5477221256793699a0?s=128&d=identicon&r=PG&f=1", "display_name": "rmw", "link": "https://stackoverflow.com/users/5003232/rmw"}, "reply_to_user": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1434733793, "post_id": 30901505, "comment_id": 49922155, "body": "@HuStmpHrrr I realized it did not work because I had not opened it yet. I got it to work by doing with open(file/directory) as fileName"}], "answers": [{"tags": [], "owner": {"reputation": 2358, "user_id": 1121879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed86c1b677adac31f4537d7557d9e1e7?s=128&d=identicon&r=PG", "display_name": "Srdjan Grubor", "link": "https://stackoverflow.com/users/1121879/srdjan-grubor"}, "is_accepted": false, "score": 1, "last_activity_date": 1434572128, "creation_date": 1434572128, "answer_id": 30901545, "question_id": 30901505, "link": "https://stackoverflow.com/questions/30901505/printing-content-of-all-files-in-directory/30901545#30901545", "title": "Printing content of all files in directory", "body": "<pre><code>directory = 'Z:/HAR_File_Generator/HARS/job_search'\nfor fn in os.listdir(directory):\n   print(open(os.path.join(directory, fn), 'rb').read())\n</code></pre>\n\n<p>Edit: You should probably close your files too but that's a separate issue.</p>\n"}, {"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434573297, "post_id": 30901554, "comment_id": 49842656, "body": "Just by the way here, but file objects are already iterable, and <code>readlines()</code> will <code>return</code> a <code>list</code>. In the first snippet you could just use <code>read()</code> to print the file normally instead of having extra quotes, commas, and brackets; in the second snippet you can omit <code>.readlines()</code> entirely; the third snippet can use <code>read()</code> instead of <code>readlines()</code> just like the first snippet."}], "tags": [], "owner": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "is_accepted": false, "score": 1, "last_activity_date": 1434572164, "creation_date": 1434572164, "answer_id": 30901554, "question_id": 30901505, "link": "https://stackoverflow.com/questions/30901505/printing-content-of-all-files-in-directory/30901554#30901554", "title": "Printing content of all files in directory", "body": "<pre><code>mydir = 'Z:/HAR_File_Generator/HARS/job_search'\n\nfor fn in os.listdir(mydir):\n    print open(mydir+'/'+fn).readlines()\n</code></pre>\n\n<p>Why is your code not printing any file contents? Because you are not reading any file contents.</p>\n\n<p>For printing prettily..</p>\n\n<pre><code>for fn in os.listdir(mydir):\n    for line in open(mydir+'/'+fn).readlines():\n        print line\n</code></pre>\n\n<p>And to avoid this closing issue in case of much much larger files, </p>\n\n<pre><code>for fn in os.listdir(mydir):\n    with open(mydir+'/'+fn) as fil:\n        print fil.readlines()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1434572210, "creation_date": 1434572210, "answer_id": 30901570, "question_id": 30901505, "link": "https://stackoverflow.com/questions/30901505/printing-content-of-all-files-in-directory/30901570#30901570", "title": "Printing content of all files in directory", "body": "<p>Assuming they're text files that can actually be printed:</p>\n\n<pre><code>dirpath = 'Z:/HAR_File_Generator/HARS/job_search'\nfor fn in os.listdir(dirpath):\n    with open(os.path.join(dirpath, fn), 'r') as f: # open the file\n        for line in f: # go through each line\n            print(line) # and print it\n</code></pre>\n\n<p>Or, in Python 3 (or Python 2 with the proper import):</p>\n\n<pre><code>dirpath = 'Z:/HAR_File_Generator/HARS/job_search'\nfor fn in os.listdir(dirpath):\n    with open(os.path.join(dirpath, fn), 'r') as f: # open the file\n        print(*f, sep='') # and send every line to the print function\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 5003232, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5abde23c483b1c5477221256793699a0?s=128&d=identicon&r=PG&f=1", "display_name": "rmw", "link": "https://stackoverflow.com/users/5003232/rmw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1434572500, "creation_date": 1434571965, "last_edit_date": 1434572500, "question_id": 30901505, "link": "https://stackoverflow.com/questions/30901505/printing-content-of-all-files-in-directory", "title": "Printing content of all files in directory", "body": "<p>I am trying to go to a directory and print out the content of all files in it.</p>\n\n<pre><code>for fn in os.listdir('Z:/HAR_File_Generator/HARS/job_search'):\n    print(fn)\n</code></pre>\n\n<p>When I use this code all it does is print out the file names. How can I make it so I can actually get the content of the file? I have seen a lot of ways to possibly do this but I am wondering if there is a way to do it in the same format as I have it. It doesn't make sense to me that I'm not able to get the file content instead of the name. What would make sense to me is doing <code>fn.read()</code> and then printing it out but that does not work.</p>\n"}, {"tags": ["python", "datetime", "timezone"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 2376191, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/498f966ef164774f8673f0a231b90616?s=128&d=identicon&r=PG", "display_name": "YueQi Li", "link": "https://stackoverflow.com/users/2376191/yueqi-li"}, "edited": false, "score": 0, "creation_date": 1434576200, "post_id": 30902508, "comment_id": 49844178, "body": "Thanks for the detailed answer, it solved my problem:)"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 193, "user_id": 2376191, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/498f966ef164774f8673f0a231b90616?s=128&d=identicon&r=PG", "display_name": "YueQi Li", "link": "https://stackoverflow.com/users/2376191/yueqi-li"}, "edited": false, "score": 1, "creation_date": 1434622498, "post_id": 30902508, "comment_id": 49862351, "body": "@YueQiLi: note: you should use <code>datetime.now(tz)</code> instead of <code>tz.localize(datetime.now())</code>. The latter may fail if the local time is ambiguous (e.g., during a DST transition). If the input time is not now then you could pass <code>is_dst</code> parameter to <code>tz.localize()</code>, to disambiguate."}, {"owner": {"reputation": 193, "user_id": 2376191, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/498f966ef164774f8673f0a231b90616?s=128&d=identicon&r=PG", "display_name": "YueQi Li", "link": "https://stackoverflow.com/users/2376191/yueqi-li"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1434631243, "post_id": 30902508, "comment_id": 49868365, "body": "@J.F.Sebastian Thanks, I just took a look on <a href=\"http://pythonhosted.org/pytz/\" rel=\"nofollow noreferrer\">the pytz documentation</a> and you are right, I will add this to my code. About the other similar question, despite the fact that both of our problems are caused by misusing of datetime constructor, it is still hard for beginners like me to categorize them into the same kind of problem. Keeping mine will be helpful for other people to avoid this kind of rookie mistake:)"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 193, "user_id": 2376191, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/498f966ef164774f8673f0a231b90616?s=128&d=identicon&r=PG", "display_name": "YueQi Li", "link": "https://stackoverflow.com/users/2376191/yueqi-li"}, "edited": false, "score": 0, "creation_date": 1434631911, "post_id": 30902508, "comment_id": 49868841, "body": "@YueQiLi: <a href=\"http://meta.stackexchange.com/questions/5221/how-does-deleting-work-what-can-cause-a-post-to-be-deleted-and-what-does-that\">duplicate questions are not deleted</a>. Your post will be preserved as a sign post. The duplicates are about consolidating answers in a single place e.g., it is possible that in the future an analog of <code>localize()</code> maybe called automatically in the constructor: it is easier to update info in a single place (it is a common question despite being answered at the top of <a href=\"http://pytz.sourceforge.net/\" rel=\"nofollow noreferrer\">the docs</a>)."}], "tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 9, "last_activity_date": 1434576222, "last_edit_date": 1434576222, "creation_date": 1434575587, "answer_id": 30902508, "question_id": 30901479, "link": "https://stackoverflow.com/questions/30901479/python-timezone-offset-wrong/30902508#30902508", "title": "Python timezone offset wrong?", "body": "<p>Instead of assigning the <code>tzinfo</code> parameter, use the <code>localize</code> method from pytz.</p>\n\n<pre><code>tz = get_localzone()\ndate = tz.localize(datetime(2015, 6, 17, 14, 58, 45))\n</code></pre>\n\n<p>This is discussed prominently in <a href=\"http://pythonhosted.org/pytz/\" rel=\"noreferrer\">the pytz documentation</a>, starting with the the first \"Note\" box, and in the very first code sample.</p>\n\n<p>It's also shown in <a href=\"https://github.com/regebro/tzlocal\" rel=\"noreferrer\">the tzlocal documentation</a>, which is where (I assume) your <code>get_localzone()</code> method is coming from.</p>\n\n<p>FYI, the <code>-05:51</code> offset comes from the original <a href=\"https://en.wikipedia.org/wiki/Local_mean_time\" rel=\"noreferrer\">LMT</a> value of the <code>America/Chicago</code> time zone, which is <code>-05:50:36</code> and is assumed to have been in use way back in 1883 <a href=\"https://github.com/eggert/tz/blob/503ee68905da57fc52df74c889aedf4e67e59a79/northamerica#L336\" rel=\"noreferrer\">as shown here</a>.  It's rounded to the nearest minute, giving the <code>-05:51</code> LMT value in Python.  You are seeing that offset because the localize method wasn't called, so pytz is just using the first offset known to that time zone's entry.</p>\n"}], "owner": {"reputation": 193, "user_id": 2376191, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/498f966ef164774f8673f0a231b90616?s=128&d=identicon&r=PG", "display_name": "YueQi Li", "link": "https://stackoverflow.com/users/2376191/yueqi-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1719, "favorite_count": 0, "closed_date": 1434622804, "accepted_answer_id": 30902508, "answer_count": 1, "score": 6, "last_activity_date": 1434576222, "creation_date": 1434571914, "question_id": 30901479, "link": "https://stackoverflow.com/questions/30901479/python-timezone-offset-wrong", "closed_reason": "Duplicate", "title": "Python timezone offset wrong?", "body": "<p>I'm writing a python script which contains two lines of code converting the date that got passed into the method to UTC time:</p>\n\n<pre><code>print \"Timezone: %s\" % get_localzone()\ndate = datetime.now(tz=get_localzone())\nprint \"Local time: %s\" % date\nutc = pytz.utc\nutc_date = date.astimezone(utc)\nprint \"UTC date: %s\" % utc_date\n</code></pre>\n\n<p>and the result is:</p>\n\n<pre><code>Timezone: America/Chicago\nLocal time: 2015-06-17 14:58:45.224827-05:00\nUTC date: 2015-06-17 19:58:45.224827+00:00\n</code></pre>\n\n<p>As you can see the offset in local time is \"-05:00\", nothing wrong with it, but when I create a customized datetime object with the same timezone:</p>\n\n<pre><code>date = datetime(2015, 6, 17, 14, 58, 45, tzinfo=get_localzone())\n</code></pre>\n\n<p>The result becomes:</p>\n\n<pre><code>Timezone: America/Chicago\nLocal time: 2015-06-17 14:58:45-05:51\n</code></pre>\n\n<p>The offset changed from \"-05:00\" to \"-05:51\". I even used the same time that the first \"datetime.now()\" generated, and the timezone did not change, would someone please explain to me why is this happening? Thanks!</p>\n"}, {"tags": ["python", "statsmodels"], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 10, "last_activity_date": 1434572810, "creation_date": 1434572810, "answer_id": 30901747, "question_id": 30901460, "link": "https://stackoverflow.com/questions/30901460/non-invertible-of-a-arima-model/30901747#30901747", "title": "non Invertible of a ARIMA model", "body": "<p>Use <code>try: ... except: ...</code> to catch the exception and continue</p>\n\n<pre><code>for p in range(6):\n    for d in range(2):\n        for q in range(4):\n            try:\n                arima_mod=sm.tsa.ARIMA(df,(p,d,q)).fit(transparams=True)\n\n                x=arima_mod.aic\n\n                x1= p,d,q\n                print (x1,x)\n\n                aic.append(x)\n                pdq.append(x1)\n            except:\n                pass\n                # ignore the error and go on\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 4578761, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/711c9e474770d105eb247cffe8a2327e?s=128&d=identicon&r=PG&f=1", "display_name": "VINAY S G", "link": "https://stackoverflow.com/users/4578761/vinay-s-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9503, "favorite_count": 1, "accepted_answer_id": 30901747, "answer_count": 1, "score": 13, "last_activity_date": 1434572810, "creation_date": 1434571846, "question_id": 30901460, "link": "https://stackoverflow.com/questions/30901460/non-invertible-of-a-arima-model", "title": "non Invertible of a ARIMA model", "body": "<p>I am trying to write a code to generate a series of arima model and compare different models.The code is as follow.</p>\n\n<pre><code>p=0\nq=0\nd=0\npdq=[]\naic=[]\n\nfor p in range(6):\n    for d in range(2):\n        for q in range(4):\n            arima_mod=sm.tsa.ARIMA(df,(p,d,q)).fit(transparams=True)\n\n            x=arima_mod.aic\n\n\n            x1= p,d,q\n            print (x1,x)\n\n            aic.append(x)\n            pdq.append(x1)\n\n\n\nkeys = pdq\nvalues = aic\nd = dict(zip(keys, values))\nprint (d)\n\nminaic=min(d, key=d.get)\n\nfor i in range(3):\n p=minaic[0]\n    d=minaic[1]\n    q=minaic[2]\nprint (p,d,q)\n</code></pre>\n\n<p>Where 'df' is the time series data.And the output is as follow,</p>\n\n<pre><code>(0, 0, 0) 1712.55522759\n(0, 0, 1) 1693.436483044094\n(0, 0, 2) 1695.2226857997066\n(0, 0, 3) 1690.9437925956158\n(0, 1, 0) 1712.74161799\n(0, 1, 1) 1693.0408994539348\n(0, 1, 2) 1677.2235087182808\n(0, 1, 3) 1679.209810237856\n(1, 0, 0) 1700.0762847127553\n(1, 0, 1) 1695.353190569905\n(1, 0, 2) 1694.7907607467605\n(1, 0, 3) 1692.235442716487\n(1, 1, 0) 1714.5088374907164\n\nValueError: The computed initial MA coefficients are not invertible\nYou should induce invertibility, choose a different model order, or you can\npass your own start_params.\n</code></pre>\n\n<p>i.e for order (1,1,1) the model is non invertible. so the process stops there.How can i skip such non invertible combination of p,d,q and go on with other combination</p>\n"}, {"tags": ["python", "qt", "qtablewidget"], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 3254944, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6fd9322bb80b1a20a2f4fc2f9f97fcb2?s=128&d=identicon&r=PG&f=1", "display_name": "bvs", "link": "https://stackoverflow.com/users/3254944/bvs"}, "is_accepted": false, "score": 0, "last_activity_date": 1434582398, "creation_date": 1434582398, "answer_id": 30903958, "question_id": 30901437, "link": "https://stackoverflow.com/questions/30901437/qtable-in-python-size-issues/30903958#30903958", "title": "Qtable in python size issues", "body": "<p>Look at the commands setSectionResizeMode(), setVisible(), etc <a href=\"http://doc.qt.io/qt-4.8/qtablewidget.html\" rel=\"nofollow\">in the QTableWidget docs.</a></p>\n\n<p>Also, use the program called Qt Designer and then \"view code\" to see your changes.</p>\n"}], "owner": {"reputation": 7, "user_id": 4986059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/106838669654413/picture?type=large", "display_name": "J&#233;r&#233;my Vidalon", "link": "https://stackoverflow.com/users/4986059/j%c3%a9r%c3%a9my-vidalon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434582398, "creation_date": 1434571759, "question_id": 30901437, "link": "https://stackoverflow.com/questions/30901437/qtable-in-python-size-issues", "title": "Qtable in python size issues", "body": "<p>I'm working with python and qt.\nI created a table and put some item in.\nthere is a column that appear when i insert a row in my table. this column is 1,2,3,4 it depend of the number of the row. it is a verticalheader but i can't control the size of this column.\nI woud like to control eveything in my Qtable</p>\n"}, {"tags": ["python", "urllib2"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1434571775, "post_id": 30901413, "comment_id": 49841814, "body": "urllib2 is bundled with Python 3.4, you don&#39;t need to install it. As far as the code, look at the docs."}, {"owner": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "edited": false, "score": 0, "creation_date": 1434572339, "post_id": 30901413, "comment_id": 49842122, "body": "Another alternative is Anaconda distribution. It contains most of the libraries and modules you would even need..."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4355814, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000415198688/picture?type=large", "display_name": "Euan Williams", "link": "https://stackoverflow.com/users/4355814/euan-williams"}, "edited": false, "score": 0, "creation_date": 1434577293, "post_id": 30901852, "comment_id": 49844671, "body": "I have tried using this method, but i get a huge error thrown when I input the line  &quot;response = requests.get(url)&quot; any ideas?"}, {"owner": {"reputation": 6788, "user_id": 1748754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jjk7p.jpg?s=128&g=1", "display_name": "erewok", "link": "https://stackoverflow.com/users/1748754/erewok"}, "reply_to_user": {"reputation": 11, "user_id": 4355814, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000415198688/picture?type=large", "display_name": "Euan Williams", "link": "https://stackoverflow.com/users/4355814/euan-williams"}, "edited": false, "score": 0, "creation_date": 1434582176, "post_id": 30901852, "comment_id": 49846490, "body": "A <code>huge error</code> is not descriptive enough. The code I posted is very straightforward and should work unless you&#39;re getting an <code>SSLError</code>, which means you can&#39;t trust the security certificate of the site you&#39;re trying to access. You can pass <code>verify=False</code>, i.e., <code>requests.get(url, verify=False</code>) when making the request, but there are issues with blanket trusting all sites."}, {"owner": {"reputation": 11, "user_id": 4355814, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000415198688/picture?type=large", "display_name": "Euan Williams", "link": "https://stackoverflow.com/users/4355814/euan-williams"}, "edited": false, "score": 0, "creation_date": 1434669882, "post_id": 30901852, "comment_id": 49891385, "body": "Yes it was an SSLError, but the urllib method worked fine after I switched back to that, thank you."}], "tags": [], "owner": {"reputation": 6788, "user_id": 1748754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jjk7p.jpg?s=128&g=1", "display_name": "erewok", "link": "https://stackoverflow.com/users/1748754/erewok"}, "is_accepted": false, "score": 3, "last_activity_date": 1434575737, "last_edit_date": 1434575737, "creation_date": 1434573150, "answer_id": 30901852, "question_id": 30901413, "link": "https://stackoverflow.com/questions/30901413/how-to-use-urllib2-in-python-3-4-to-get-information-from-an-api/30901852#30901852", "title": "How to use urllib2 in python 3.4 to get information from an API?", "body": "<p>Python3.4 includes <code>urllib</code> (not <code>urllib2</code>) by default. To use it, simply <code>import urllib</code>. </p>\n\n<p>Also, be aware that you should follow <code>urllib</code> <a href=\"https://docs.python.org/3/library/urllib.request.html\" rel=\"nofollow\">docs for Python3.4</a> because things have been moved and are in a different place from where you would expect them if you were looking at <code>urllib2</code>, which was for Python2.</p>\n\n<p>For instance, to request a url using <code>urllib</code>, you would do the following:</p>\n\n<pre><code>from urllib.request import urlopen\nwith urlopen(url) as link:\n    result = link.read()\n</code></pre>\n\n<p>However, it is recommended (even by the <code>urllib</code> documentation) that you use <a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow\">requests</a> instead:</p>\n\n<pre><code>$ pip install requests\n</code></pre>\n\n<p>Then, to use requests, you can do the following:</p>\n\n<pre><code>&gt;&gt;&gt; import requests\n&gt;&gt;&gt; response = requests.get(url)\netc.\n</code></pre>\n\n<p>Finally, your endpoint up there is returning JSON, so using <code>requests</code> you can access those values in the following way:</p>\n\n<pre><code>&gt;&gt;&gt; result = response.json()\n&gt;&gt;&gt; result['some_key']\n['some values...']\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4355814, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000415198688/picture?type=large", "display_name": "Euan Williams", "link": "https://stackoverflow.com/users/4355814/euan-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5813, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1434575737, "creation_date": 1434571705, "question_id": 30901413, "link": "https://stackoverflow.com/questions/30901413/how-to-use-urllib2-in-python-3-4-to-get-information-from-an-api", "title": "How to use urllib2 in python 3.4 to get information from an API?", "body": "<p>I am trying to get the latitude and longitude of the ISS from the site: </p>\n\n<p><a href=\"https://api.wheretheiss.at/v1/satellites/25544\" rel=\"nofollow\">https://api.wheretheiss.at/v1/satellites/25544</a> </p>\n\n<p>I have managed to work out I need to use urllib2, but I can't install it using pip, I get the error:</p>\n\n<pre><code>Could not find a version that satisfies the requirement urllib2 &lt;from the version: &gt; \nNo matching distribution found for urllib2 \n</code></pre>\n\n<p>Could someone tell me how I can install urllib2 and also the code I would need to use to get the latitude and longitude? Thanks.</p>\n"}, {"tags": ["python", "macos", "kivy", "pyinstaller"], "comments": [{"owner": {"reputation": 241, "user_id": 5005090, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iriHT.jpg?s=128&g=1", "display_name": "tom f", "link": "https://stackoverflow.com/users/5005090/tom-f"}, "edited": false, "score": 0, "creation_date": 1434571588, "post_id": 30901322, "comment_id": 49841717, "body": "And for the record, I&#39;m running this via the <code>kivy pyinstaller.py --windowed --name my_project my_project&#47;main.py</code> method, since it needs to be run in the kivy environment."}, {"owner": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1434573280, "post_id": 30901322, "comment_id": 49842645, "body": "Never used pyinstaller, I&#39;m writing <code>pyobjc</code>-apps and bundle them just fine with <code>py2app</code> - maybe that works for you. Somehow."}, {"owner": {"reputation": 241, "user_id": 5005090, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iriHT.jpg?s=128&g=1", "display_name": "tom f", "link": "https://stackoverflow.com/users/5005090/tom-f"}, "reply_to_user": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1434573544, "post_id": 30901322, "comment_id": 49842799, "body": "deets, i was looking at that. there doesn&#39;t seem to be any precedence on building kivy apps with it, but i think it&#39;s definitely work looking into."}, {"owner": {"reputation": 241, "user_id": 5005090, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iriHT.jpg?s=128&g=1", "display_name": "tom f", "link": "https://stackoverflow.com/users/5005090/tom-f"}, "reply_to_user": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1434573759, "post_id": 30901322, "comment_id": 49842918, "body": "It looks like this is an issue with pyinstaller 2.1. I tried switching down to pyinstaller 2.0, it&#39;s still not working but for totally different reasons. It looks like downgrading versions resolved the issue of it finding Kivy and Python correctly, it&#39;s obviously launching both on build. Now my app launches and tanks right away, gives this in the console:  <code>6&#47;17&#47;15 1:37:24.996 PM com.apple.xpc.launchd[1]: (com.apple.ReportCrash[1360]) Endpoint has been activated through legacy launch(3) APIs. Please switch to XPC or bootstrap_check_in(): com.apple.ReportCrash</code>"}, {"owner": {"reputation": 241, "user_id": 5005090, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iriHT.jpg?s=128&g=1", "display_name": "tom f", "link": "https://stackoverflow.com/users/5005090/tom-f"}, "reply_to_user": {"reputation": 5872, "user_id": 84308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c27e514504f90a63edaefd74248a461?s=128&d=identicon&r=PG", "display_name": "deets", "link": "https://stackoverflow.com/users/84308/deets"}, "edited": false, "score": 0, "creation_date": 1434573825, "post_id": 30901322, "comment_id": 49842947, "body": "Would be interesting if the build works, but pyinstaller 2.0 was using some obsoleted &quot;launch APIs&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 241, "user_id": 5005090, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iriHT.jpg?s=128&g=1", "display_name": "tom f", "link": "https://stackoverflow.com/users/5005090/tom-f"}, "is_accepted": true, "score": 0, "last_activity_date": 1434574861, "creation_date": 1434574861, "answer_id": 30902321, "question_id": 30901322, "link": "https://stackoverflow.com/questions/30901322/packaging-kivy-python-applications-on-osx-yosemite-not-working/30902321#30902321", "title": "Packaging Kivy Python applications on OSX Yosemite not working", "body": "<p>So even though I don't have my app working still, I've technically answered this question. For whatever reason pyinstaller 2.1 wasn't able to properly find Python or Kivy. When I downloaded pyinstaller 2.0 and ran that, everything built properly.</p>\n\n<p>Instead of getting those \"Can not find path\" errors, I now get happy looking output like</p>\n\n<pre><code>[INFO   ] [Logger      ] Record log in /Applications/Kivy.app/Contents/Resources/.kivy/logs/kivy_15-06-17_9.txt\n4618 INFO: [Logger      ] Record log in /Applications/Kivy.app/Contents/Resources/.kivy/logs/kivy_15-06-17_9.txt\n[INFO   ] [Kivy        ] v1.9.0\n4617 INFO: [Kivy        ] v1.9.0\n[INFO   ] [Python      ] v2.7.6 (default, Sep  9 2014, 15:04:36) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)]\n4618 INFO: [Python      ] v2.7.6 (default, Sep  9 2014, 15:04:36) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)]\n</code></pre>\n\n<p>So now I just need to troubleshoot and figure out why the app launches and crashes instantly, outputting this to console:</p>\n\n<pre><code>com.apple.xpc.launchd[1]: (com.apple.ReportCrash[1360]) Endpoint has been activated through legacy launch(3) APIs. Please switch to XPC or bootstrap_check_in(): com.apple.ReportCrash\n</code></pre>\n\n<p>That's for another question though, I suppose.</p>\n"}], "owner": {"reputation": 241, "user_id": 5005090, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iriHT.jpg?s=128&g=1", "display_name": "tom f", "link": "https://stackoverflow.com/users/5005090/tom-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 30902321, "answer_count": 1, "score": 2, "last_activity_date": 1434574861, "creation_date": 1434571396, "question_id": 30901322, "link": "https://stackoverflow.com/questions/30901322/packaging-kivy-python-applications-on-osx-yosemite-not-working", "title": "Packaging Kivy Python applications on OSX Yosemite not working", "body": "<p>I'm trying to package a Kivy/Python application on Yosemite with pyinstaller <em>(OSX 10.10, Kivy 1.9, pyinstaller 2.1)</em> and not having much success, via the <a href=\"http://kivy.org/docs/guide/packaging-macosx.html\" rel=\"nofollow\">Kivy OSX package how-to</a>. After troubleshooting my PYTHONPATH to make sure it included Kivy and all the dependencies, I tried just building their demo touchtracer app, since it's used in the example.</p>\n\n<p>Whatever I build into a package for OSX doesn't run. The console just returns:</p>\n\n<blockquote>\n  <p>com.apple.xpc.launchd<a href=\"http://kivy.org/docs/guide/packaging-macosx.html\" rel=\"nofollow\">1</a>:\n  (com.apple.xpc.launchd.oneshot.0x10000017.mypython-app[15589]) Service\n  exited with abnormal code: 255</p>\n</blockquote>\n\n<p>As far as I can see the specfile build and the .app package build go fine, except for these two different errors while building the specfile:</p>\n\n<blockquote>\n  <p>WARNING: library user32.dll required via ctypes not found</p>\n</blockquote>\n\n<p>and then this bit about not finding Python:</p>\n\n<pre><code>7246 ERROR: Can not find path @executable_path/../.Python (needed by /Applications/Kivy.app/Contents/Resources/python)\n7246 INFO: Using Python library /System/Library/Frameworks/Python.framework/Versions/2.7/Python\n7246 INFO: Adding Python library to binary dependencies\n...\n8489 ERROR: Can not find path @executable_path/../.Python (needed by /Applications/Kivy.app/Contents/Resources/python)\n</code></pre>\n\n<p>I assume it's an issue with the path, but not sure exactly what it's looking for (aside from Python?) or how to remedy this. Otherwise it's finding all the other libraries just fine. Any ideas?</p>\n"}, {"tags": ["python", "mongodb", "pymongo", "mongoengine"], "answers": [{"tags": [], "owner": {"reputation": 3417, "user_id": 1506264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0e9c3bca1396dde4bec16a323f2507?s=128&d=identicon&r=PG", "display_name": "bellum", "link": "https://stackoverflow.com/users/1506264/bellum"}, "is_accepted": false, "score": 2, "last_activity_date": 1434660065, "last_edit_date": 1434660065, "creation_date": 1434659547, "answer_id": 30925283, "question_id": 30901274, "link": "https://stackoverflow.com/questions/30901274/mongoengine-custom-queryset/30925283#30925283", "title": "Mongoengine custom queryset", "body": "<p>Actually I am not sure that it is right decision to define this as <code>@queryset_manager</code> cause according to <a href=\"http://docs.mongoengine.org/en/latest/apireference.html#mongoengine.queryset.queryset_manager\" rel=\"nofollow\">documentation</a></p>\n\n<blockquote>\n  <p><code>mongoengine.queryset.queryset_manager(func)</code> Decorator that allows you\n  to define custom QuerySet managers on Document classes. The manager\n  must be a function that accepts a Document class as its first\n  argument, and a QuerySet as its second argument. <strong>The method function\n  should return a QuerySet, probably the same one that was passed in,\n  but modified in some way</strong>.</p>\n</blockquote>\n\n<p>I suggest adding some separate utils function that takes queryset:</p>\n\n<pre><code>def convert_queryset_to_list_of_dicts(queryset):\n    return [mongo_to_dict(obj) for obj in queryset]\n</code></pre>\n\n<p>Or if you still want to have this as <code>@queryset_manager</code> then:</p>\n\n<pre><code>...\n@queryset_manager\ndef to_dict(self, queryset):\n    return [mongo_to_dict(obj) for obj in queryset]\n...\n</code></pre>\n\n<p>Also there is a ready method of mongoengine Model objects <code>to_mongo</code>. You can try it like this: <code>[obj.to_mongo() for obj in queryset]</code>. Is not it applicable?</p>\n"}, {"tags": [], "owner": {"reputation": 411, "user_id": 7744106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e514403876cc6f539430df195b8b2a5?s=128&d=identicon&r=PG&f=1", "display_name": "egvo", "link": "https://stackoverflow.com/users/7744106/egvo"}, "is_accepted": false, "score": 1, "last_activity_date": 1581927271, "creation_date": 1581927271, "answer_id": 60258270, "question_id": 30901274, "link": "https://stackoverflow.com/questions/30901274/mongoengine-custom-queryset/60258270#60258270", "title": "Mongoengine custom queryset", "body": "<p>That's an old question but it's very interesting and here still was no good answer. So here is my answer.</p>\n\n<h3>Intro</h3>\n\n<p>You're right in customizing queryset, but you shouldn't define another queryset_manager for your purposes. As <a href=\"https://stackoverflow.com/users/1506264/bellum\">@bellum</a> mentioned <code>@queryset_manager</code> should return <code>QuerySet</code>. Instead you should define method inside <code>QuerySet</code>. You can do this inside your <code>queryset_manager</code> but it still won't work with <code>filter</code>, <code>order_by</code>, <code>skip</code>, <code>limit</code> and such. Instead you should define custom <code>QuerSet</code> and set it as default for model. </p>\n\n<h3>Answer</h3>\n\n<pre><code>from mongoengine.queryset import QuerySet\n\n\nclass CustomQuerySet(QuerySet):\n\n    # define your custom method here\n    def print_ids(self):\n        for doc in self:\n            print(doc.id)\n\n\nclass Product(DynamicDocument):\n    # set your CustomQuerySet as default queryset_class\n    meta = {'queryset_class': CustomQuerySet}\n</code></pre>\n\n<p>Actually your model will use base <code>QuerySet</code> but now it will contain your custom methods.</p>\n\n<h3>Examples</h3>\n\n<pre><code>&gt;&gt;&gt; Product.objects.print_ids()\n5e46433c943478954eef837d\n5e46623705f1fa6c78e3fdbc\n5e46627b05f1fa6c78e403a3\n</code></pre>\n\n<p><strong>You may use it with filters:</strong></p>\n\n<pre><code>&gt;&gt;&gt; Product.objects.filter(id='5e46433c943478954eef837d').print_ids()\n5e46433c943478954eef837d\n</code></pre>\n\n<p><strong>You may use ordering, skip, limit and other stuff:</strong></p>\n\n<pre><code>&gt;&gt;&gt; Product.objects.all().limit(2).print_ids()\n5e46433c943478954eef837d\n5e46623705f1fa6c78e3fdbc\n</code></pre>\n"}], "owner": {"reputation": 5788, "user_id": 1112163, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/35d820f4047bf12ecc4cecbffb343a36?s=128&d=identicon&r=PG&f=1", "display_name": "ajknzhol", "link": "https://stackoverflow.com/users/1112163/ajknzhol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3469, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1581927271, "creation_date": 1434571274, "last_edit_date": 1434571625, "question_id": 30901274, "link": "https://stackoverflow.com/questions/30901274/mongoengine-custom-queryset", "title": "Mongoengine custom queryset", "body": "<p>I am trying to convert the <code>ObjectId</code> and <code>ISODate</code> to string representations while querying from MongoDB database.</p>\n\n<pre><code>def mongo_to_dict(obj, exclude_fields):\n    return_data = []\n\n    if obj is None:\n        return None\n\n    if isinstance(obj, Document):\n        return_data.append((\"_id\", str(obj.id)))\n\n    for field_name in obj._fields:\n\n        if field_name in exclude_fields:\n            continue\n\n        if field_name in (\"id\",):\n            continue\n\n        data = obj._data[field_name]\n\n        if isinstance(obj._fields[field_name], ListField):\n            return_data.append((field_name, list_field_to_dict(data)))\n        elif isinstance(obj._fields[field_name], EmbeddedDocumentField):\n            return_data.append((field_name, mongo_to_dict(data, [])))\n        elif isinstance(obj._fields[field_name], DictField):\n            return_data.append((field_name, data))\n        else:\n            return_data.append((field_name, mongo_to_python_type(obj._fields[field_name], data)))\n\n    return dict(return_data)\n\n\ndef list_field_to_dict(list_field):\n    return_data = []\n\n    for item in list_field:\n        if isinstance(item, EmbeddedDocument):\n            return_data.append(mongo_to_dict(item, []))\n        else:\n            return_data.append(mongo_to_python_type(item, item))\n\n    return return_data\n\n\ndef mongo_to_python_type(field, data):\n    if isinstance(field, DateTimeField):\n        return time.mktime(data.timetuple()) * 1000\n    elif isinstance(field, ComplexDateTimeField):\n        return field.to_python(data).isoformat()\n    elif isinstance(field, StringField):\n        return str(data)\n    elif isinstance(field, FloatField):\n        return float(data)\n    elif isinstance(field, IntField):\n        return int(data)\n    elif isinstance(field, BooleanField):\n        return bool(data)\n    elif isinstance(field, ObjectIdField):\n        return str(data)\n    elif isinstance(field, DecimalField):\n        return data\n    else:\n        return str(data)\n\n\nclass Portfolio(Document):\n    meta = {'collection': 'Portfolios'}\n    PortfolioName = StringField()\n    LastUpdateDate = DateTimeField(default=datetime.datetime.now())\n    RecentActivity = ListField(default=[])\n\n\n    def to_dict(self):\n        return mongo_to_dict(self, [])\n</code></pre>\n\n<p>Now when i create a Portfolio Object like this</p>\n\n<pre><code>a = Portfolio(PortfolioName='BB Visa').save()\n</code></pre>\n\n<p>and when i try to get the <code>to_dict()</code> repressentation for the object like <code>a.to_dict()</code>, it works perfectly.</p>\n\n<pre><code>{'_id': '5581cf9129e457241a32e8f7', 'PortfolioName': 'BB Visa', 'RecentActivity': [], 'LastUpdateDate': 1434570641000.0}\n</code></pre>\n\n<p>But the problem is i want <code>to_dict()</code> to operate on class level not object level. </p>\n\n<p>So when i tried to define a custom queryset like this</p>\n\n<pre><code>class Portfolio(Document):\n    meta = {'collection': 'Portfolios'}\n    PortfolioName = StringField()\n    LastUpdateDate = DateTimeField(default=datetime.datetime.now())\n    RecentActivity = ListField(default=[])\n\n    @queryset_manager\n    def to_dict(self, queryset):\n        return mongo_to_dict(self, [])\n</code></pre>\n\n<p>Now running the following command <code>Portfolio.to_dict()</code> generates error like below\nTraceback (most recent call last):</p>\n\n<pre><code>  File \"/home/ajay/PycharmProjects/solveit/test.py\", line 102, in &lt;module&gt;\n    print(Portfolio.to_dict())\n  File \"/home/ajay/.pyenv/versions/3.4.3/lib/python3.4/site-packages/mongoengine/queryset/manager.py\", line 43, in __get__\n    queryset = self.get_queryset(owner, queryset)\n  File \"/home/ajay/PycharmProjects/solveit/test.py\", line 83, in to_dict\n    return mongo_to_dict(self, [])\n  File \"/home/ajay/PycharmProjects/solveit/test.py\", line 28, in mongo_to_dict\n    data = obj._data[field_name]\nTypeError: 'member_descriptor' object is not subscriptable\n</code></pre>\n\n<p>I understand that QuerySet Manager passes class into the function, thats why the error. How to solve this.</p>\n"}, {"tags": ["python", "max"], "comments": [{"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 0, "creation_date": 1434571078, "post_id": 30901197, "comment_id": 49841360, "body": "Are you getting any errors or so when using the <code>max</code> function?"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1434571266, "post_id": 30901197, "comment_id": 49841512, "body": "Aside: <code>from numpy import *</code>: people new to Python definitely shouldn&#39;t do this because it can lead to obscure problems you won&#39;t recognize (basically, some functions behave differently.)  Do <code>import numpy as np</code> instead and then refer to <code>np.some_function</code> if you need to."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1434571322, "post_id": 30901197, "comment_id": 49841560, "body": "<code>B</code> doesn&#39;t really have a maximum value other than itself, because it&#39;s a single number that you overwrite with every iteration of the loop. If you want to compare multiple numbers, save them in a structure like a <code>list</code>."}, {"owner": {"reputation": 63, "user_id": 5021331, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3c25d1370d6aa4f0f0966e91c0e7e750?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/5021331/jacob"}, "edited": false, "score": 0, "creation_date": 1434571459, "post_id": 30901197, "comment_id": 49841645, "body": "Yes, I get type errors."}, {"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1434571508, "post_id": 30901197, "comment_id": 49841676, "body": "How did u use the <code>max</code> function?...Can u post a code example of yours?"}, {"owner": {"reputation": 63, "user_id": 5021331, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3c25d1370d6aa4f0f0966e91c0e7e750?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/5021331/jacob"}, "edited": false, "score": 0, "creation_date": 1434571595, "post_id": 30901197, "comment_id": 49841721, "body": "Yes, I realize this, because if I copy the output and save it as a list, then using the max function I get the desired output. But how can I save it as a list without copy pasting?"}], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 0, "last_activity_date": 1434571875, "last_edit_date": 1434571875, "creation_date": 1434571530, "answer_id": 30901359, "question_id": 30901197, "link": "https://stackoverflow.com/questions/30901197/how-to-find-a-max-value/30901359#30901359", "title": "How to find a max value", "body": "<p>put your code in a function <code>binding_energy</code>, taking <code>Z</code> as argument:</p>\n\n<pre><code>def binding_energy(Z):\n    a1,a2,a3,a4 = 15.67,17.23,0.75,93.2\n    for A in range(Z, 3*Z):\n        if A%2==1:\n            a5=0\n        elif A%2==0 and Z%2==0:\n            a5=12.0\n        elif A%2==0 and Z%2==1:\n            a5=-12.0\n        B=a1*A-a2*A**(2/3.0)-a3*Z**2/A**(1/3.0)-a4*(A-2*Z)**2/A+a5/A**(1/2.0)\n        yield B\n</code></pre>\n\n<p>then it will return a generator of the results, and you can use <code>max()</code> to get the maximum <code>B</code>:</p>\n\n<pre><code>&gt;&gt;&gt; max(binding_energy(Z))\n</code></pre>\n\n<p>If you instead want to find out which value of <code>A</code> maximizes <code>B</code>, replace</p>\n\n<pre><code>yield B\n</code></pre>\n\n<p>with</p>\n\n<pre><code>yield (A, B)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2658, "user_id": 620723, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/05349fb32abf2b7d22a21ad8786f77c6?s=128&d=identicon&r=PG", "display_name": "Woodsy", "link": "https://stackoverflow.com/users/620723/woodsy"}, "is_accepted": true, "score": 0, "last_activity_date": 1434571697, "creation_date": 1434571697, "answer_id": 30901410, "question_id": 30901197, "link": "https://stackoverflow.com/questions/30901197/how-to-find-a-max-value/30901410#30901410", "title": "How to find a max value", "body": "<p>you can remove the <code>from numpy import *</code> unless you are using it elsewhere. Aside from that using a list works fine. To get the max just call max(B) as follows:</p>\n\n<pre><code>Z=int(raw_input(\"What is the atomic number?\"))\na1,a2,a3,a4 = 15.67,17.23,0.75,93.2\nB = []\nfor A in range(Z, 3*Z):\n    if A%2==1:\n        a5=0\n    elif A%2==0 and Z%2==0:\n        a5=12.0\n    elif A%2==0 and Z%2==1:\n        a5=-12.0\n    num = a1*A-a2*A**(2/3.0)-a3*Z**2/A**(1/3.0)-a4*(A-2*Z)**2/A+a5/A**(1/2.0)\n    print num\n    B.append(num)\n\nprint max(B)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 5021331, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3c25d1370d6aa4f0f0966e91c0e7e750?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/5021331/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 30901410, "answer_count": 2, "score": 0, "last_activity_date": 1434571875, "creation_date": 1434570982, "last_edit_date": 1434571029, "question_id": 30901197, "link": "https://stackoverflow.com/questions/30901197/how-to-find-a-max-value", "title": "How to find a max value", "body": "<p>I am new to python, and am trying to learn it with newmans computational physics.\nI was trying to make a program to solve one of the exercises.\nIt is to calculate the highest binding energy using an approximate formula . I made this program, to find the binding energy:</p>\n\n<pre><code>from numpy import *\nZ=int(raw_input(\"What is the atomic number?\"))\na1,a2,a3,a4 = 15.67,17.23,0.75,93.2\nfor A in range(Z, 3*Z):\n    if A%2==1:\n        a5=0\n    elif A%2==0 and Z%2==0:\n        a5=12.0\n    elif A%2==0 and Z%2==1:\n        a5=-12.0\n    B=a1*A-a2*A**(2/3.0)-a3*Z**2/A**(1/3.0)-a4*(A-2*Z)**2/A+a5/A**(1/2.0)\n    print B\n</code></pre>\n\n<p>My problem is finding the maximum value for B. I have tried using lists, arrays and the max function.</p>\n"}, {"tags": ["python", "django", "csrf"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1434571055, "post_id": 30901183, "comment_id": 49841342, "body": "I think it is a headers problem."}], "answers": [{"comments": [{"owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "edited": false, "score": 0, "creation_date": 1434634402, "post_id": 30901587, "comment_id": 49870844, "body": "You&#39;re right about the CORS part, but jQuery is not the problem, the header needs to be added to the response (coming from Django).  See my answer for exactly how it is done."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 2, "last_activity_date": 1434572271, "creation_date": 1434572271, "answer_id": 30901587, "question_id": 30901183, "link": "https://stackoverflow.com/questions/30901183/django-csrf-exempt-decorator-not-working/30901587#30901587", "title": "Django @csrf_exempt decorator not working", "body": "<p>This has nothing whatsoever to do with CSRF, which is for POST actions only and is enforced by Django.</p>\n\n<p>You are doing a cross-domain GET action. Browsers forbid this by default because of what is called the same-origin policy: a JS script can only make requests to the same domain it is loaded from. So, you are being prevented by the browser itself.</p>\n\n<p>To enable requests to named domains, you can use something called <a href=\"http://www.html5rocks.com/en/tutorials/cors/\" rel=\"nofollow\">CORS</a>, which uses a header in the request. See the <a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow\">jQuery Ajax documentation</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "is_accepted": true, "score": 3, "last_activity_date": 1434634251, "last_edit_date": 1434634251, "creation_date": 1434634144, "answer_id": 30916748, "question_id": 30901183, "link": "https://stackoverflow.com/questions/30901183/django-csrf-exempt-decorator-not-working/30916748#30916748", "title": "Django @csrf_exempt decorator not working", "body": "<p>Daniel, turns out you're partially right. It's CORS but it cannot be fixed on the jQuery side.  Here's my Django view code that does what I want. Note that it adds the <code>Access-Control-Allow-Origin</code> header to allow requests from all (<code>*</code>) for <code>GET</code> only.</p>\n\n<p>This is also just a demonstration of how to do this all in one file.  One could create middleware to do this for all requests if needed, but this works and is a good example of how to do it all in one place so you can see what is going on, and <a href=\"https://gist.github.com/mikebski/9adf20dae3355c87c071\" rel=\"nofollow\">here is the full gist of the entire view file</a>:</p>\n\n<pre><code>def ping(request):\n        r = { 'response': 'OK', 'data': 'ping' }\n        response = HttpResponse(\"['ok']\", content_type=\"application/json\")\n        response['Access-Control-Allow-Origin'] = '*'\n        response['Access-Control-Allow-Methods'] = 'GET'\n\n        return response\n</code></pre>\n"}], "owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4896, "favorite_count": 0, "accepted_answer_id": 30916748, "answer_count": 2, "score": 4, "last_activity_date": 1434634251, "creation_date": 1434570948, "question_id": 30901183, "link": "https://stackoverflow.com/questions/30901183/django-csrf-exempt-decorator-not-working", "title": "Django @csrf_exempt decorator not working", "body": "<p>I'm using DJango 1.8 on a linode server, and have the following view:</p>\n\n<pre><code>import json\n\nfrom django.http import HttpResponse\nfrom django.shortcuts import render\nfrom django.views.decorators.csrf import csrf_exempt\n\ndef home_view(request):\n        r = { 'response': 'OK', 'data': None }\n        return HttpResponse(json.dumps(r), content_type = \"application/json\")\n\n@csrf_exempt\ndef ping(request):\n        r = { 'response': 'OK', 'data': 'ping' }\n        return HttpResponse(json.dumps(r), content_type = \"application/json\")\n</code></pre>\n\n<p>My urls look like this:</p>\n\n<pre><code>urlpatterns = [\n    url(r'^django/admin/', include(admin.site.urls)),\n    url(r'^django/$', home_view),\n    url(r'^django/ping/$', ping),\n    url(r'^django/echo/$', echo),\n]\n</code></pre>\n\n<p>If I go to my linode site at \n<code>http://mylinodesite/django/ping/</code> </p>\n\n<p>I get:</p>\n\n<p><code>{\"data\": \"ping\", \"response\": \"OK\"}</code></p>\n\n<p>Great.  If I use jquery and do a </p>\n\n<p><code>$.get(\"http://mylinodesite/django/ping/\")</code></p>\n\n<p>I get </p>\n\n<p><code>No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>\n\n<p>From what I understand the @csrf_exempt is supposed to get rid of the CSRF header stuff.  What gives?</p>\n"}, {"tags": ["python", "sublimetext2"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1434571055, "post_id": 30901180, "comment_id": 49841340, "body": "Please share your exact code, not just the output you are trying to produce."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1434571189, "post_id": 30901180, "comment_id": 49841459, "body": "Please <a href=\"https://stackoverflow.com/posts/30901180/edit\">edit</a> your question to add details like that. SublimeText2 uses Python 2 so you are trying to print arbitrary bytes and we don&#39;t know where you copied those characters from or what encoding they are using."}, {"owner": {"reputation": 11, "user_id": 5008851, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6_zCzY85Ob4/AAAAAAAAAAI/AAAAAAAADQ8/T62cFqoRx2I/photo.jpg?sz=128", "display_name": "Gordon Estes", "link": "https://stackoverflow.com/users/5008851/gordon-estes"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1434571220, "post_id": 30901180, "comment_id": 49841481, "body": "Sorry. I&#39;ve updated the original question with the information."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1434571273, "post_id": 30901180, "comment_id": 49841516, "body": "There is no difference between the two <code>print</code> statements; both write raw bytestrings to <code>sys.stdout</code> and it depends on the exact bytes used. Try <code>print repr(&lt;the string of choice&gt;)</code> to show what is in the string."}, {"owner": {"reputation": 11, "user_id": 5008851, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6_zCzY85Ob4/AAAAAAAAAAI/AAAAAAAADQ8/T62cFqoRx2I/photo.jpg?sz=128", "display_name": "Gordon Estes", "link": "https://stackoverflow.com/users/5008851/gordon-estes"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1434571442, "post_id": 30901180, "comment_id": 49841642, "body": "Updated the OP again. Not sure what to do with this information."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1434571679, "post_id": 30901180, "comment_id": 49841764, "body": "Well, it shows that your string contains UTF-8 data at least. C2 AB is the UTF-8 encoding for the U+00AB codepoint."}, {"owner": {"reputation": 11, "user_id": 5008851, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6_zCzY85Ob4/AAAAAAAAAAI/AAAAAAAADQ8/T62cFqoRx2I/photo.jpg?sz=128", "display_name": "Gordon Estes", "link": "https://stackoverflow.com/users/5008851/gordon-estes"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1434571804, "post_id": 30901180, "comment_id": 49841831, "body": "Ok. So what can I do now to remove the error?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1434572444, "post_id": 30901180, "comment_id": 49842181, "body": "But what are you trying to do? How much do you know about Python and Unicode? Perhaps reading you should start with reading <a href=\"http://nedbatchelder.com/text/unipain.html\" rel=\"nofollow noreferrer\">nedbatchelder.com/text/unipain.html</a> here."}], "answers": [{"tags": [], "owner": {"reputation": 1805, "user_id": 4954571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ab63f3cd1beed60fc3c8be5a0cb0a1?s=128&d=identicon&r=PG&f=1", "display_name": "maccartm", "link": "https://stackoverflow.com/users/4954571/maccartm"}, "is_accepted": false, "score": 0, "last_activity_date": 1434724998, "creation_date": 1434724998, "answer_id": 30941010, "question_id": 30901180, "link": "https://stackoverflow.com/questions/30901180/decode-error-output-not-utf-8/30941010#30941010", "title": "Decode error - output not utf-8", "body": "<p>Not 100% sure if this will solve your problem or not but if I try formatting:</p>\n\n<pre><code># -*- coding: utf8 -*-\nprint(\"Hello world!    %s\" %\"\u00ab\u00bb\u2022\u2022\")\n</code></pre>\n\n<p>I'm able to produce the output that isn't working for you. </p>\n\n<p>Nothing shows up however if they are both contained in the same string. Same error if I try to concatenate the strings as well.</p>\n"}], "owner": {"reputation": 11, "user_id": 5008851, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6_zCzY85Ob4/AAAAAAAAAAI/AAAAAAAADQ8/T62cFqoRx2I/photo.jpg?sz=128", "display_name": "Gordon Estes", "link": "https://stackoverflow.com/users/5008851/gordon-estes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2586, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1434724998, "creation_date": 1434570939, "last_edit_date": 1434571304, "question_id": 30901180, "link": "https://stackoverflow.com/questions/30901180/decode-error-output-not-utf-8", "title": "Decode error - output not utf-8", "body": "<p>If I try to have Python print the string <code>\"\u00ab\u00bb\u2022\u2022\"</code>, it instead returns </p>\n\n<p><code>[Decode error - output not utf-8]</code>. </p>\n\n<p>How can I fix this? I'm using Sublime Text 2, if it helps.</p>\n\n<p>EDIT: Apparently, </p>\n\n<pre><code>print(\"\u00ab\u00bb\u2022\u2022\")\n</code></pre>\n\n<p>works, but not</p>\n\n<pre><code>print(\"Hello world!   \u00ab\u00bb\u2022\u2022\")\n</code></pre>\n\n<p>Note that I'm using this at the top of the file:</p>\n\n<pre><code># -*- coding: utf-8 -*-\n</code></pre>\n\n<p>EDIT x2:</p>\n\n<pre><code>repr(\"Hello world!   \u00ab\u00bb\u2022\u2022\")\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>'Hello world!   \\xc2\\xab\\xc2\\xbb\\xe2\\x80\\xa2\\xe2\\x80\\xa2'\n</code></pre>\n"}, {"tags": ["python", "flask", "openshift", "mod-wsgi"], "answers": [{"comments": [{"owner": {"reputation": 17717, "user_id": 691867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86cad22e6f9100c801c56c099872bbc2?s=128&d=identicon&r=PG", "display_name": "colinfang", "link": "https://stackoverflow.com/users/691867/colinfang"}, "edited": false, "score": 0, "creation_date": 1434620803, "post_id": 30904324, "comment_id": 49861216, "body": "Because I am just too lazy to attach a database for cross process variable sharing."}], "tags": [], "owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "is_accepted": false, "score": 2, "last_activity_date": 1434585074, "creation_date": 1434585074, "answer_id": 30904324, "question_id": 30901162, "link": "https://stackoverflow.com/questions/30901162/how-to-make-openshift-python-flask-app-only-run-with-1-process/30904324#30904324", "title": "How to make openshift python flask app only run with 1 process?", "body": "<p>What is the particular reason why your application will not work when run across 2 processes?</p>\n\n<p>As far as I know you can't override the fact that the OpenShift Python cartridge setup for mod_wsgi uses 2 processes.</p>\n\n<p>For using mod_wsgi at least, the only solution on OpenShift would be to use mod_wsgi-express as outlined in:</p>\n\n<ul>\n<li><a href=\"http://blog.dscpl.com.au/2015/01/using-alternative-wsgi-servers-with.html\" rel=\"nofollow\">http://blog.dscpl.com.au/2015/01/using-alternative-wsgi-servers-with.html</a></li>\n</ul>\n\n<p>This replaces the default OpenShift mod_wsgi setup and provides you control over the configuration. By default it will use a single process with 5 threads, but you can override both the number of processes and number of threads per process, as well as a whole bunch of other settings.</p>\n"}], "owner": {"reputation": 17717, "user_id": 691867, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86cad22e6f9100c801c56c099872bbc2?s=128&d=identicon&r=PG", "display_name": "colinfang", "link": "https://stackoverflow.com/users/691867/colinfang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434585074, "creation_date": 1434570870, "question_id": 30901162, "link": "https://stackoverflow.com/questions/30901162/how-to-make-openshift-python-flask-app-only-run-with-1-process", "title": "How to make openshift python flask app only run with 1 process?", "body": "<p>My wsgi.py looks like this:</p>\n\n<pre><code>#!/usr/bin/python\nimport os\n\nvirtenv = os.environ['OPENSHIFT_PYTHON_DIR'] + '/virtenv/'\nvirtualenv = os.path.join(virtenv, 'bin/activate_this.py')\ntry:\n    execfile(virtualenv, dict(__file__=virtualenv))\nexcept IOError:\n    pass\n\nfrom myapp import app as application\n</code></pre>\n\n<p>Where <code>myapp</code> is a flask app.</p>\n\n<p>Openshift seems to use <code>mod_wsgi</code> to host my app, but I have no idea where to config it.</p>\n\n<p>For the moment it appeas to run with 2 process</p>\n"}, {"tags": ["python", "python-3.x", "if-statement", "conditional-statements"], "comments": [{"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1434571632, "post_id": 30901157, "comment_id": 49841744, "body": "though Kevin&#39;s answer is a good fit for you, what you want is actually typical singleton pattern. employing design pattern will make your code clearer, especially when you are working with others. try to make it a serious singleton instance, that would help."}], "answers": [{"tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": true, "score": 1, "last_activity_date": 1434572767, "last_edit_date": 1434572767, "creation_date": 1434571270, "answer_id": 30901271, "question_id": 30901157, "link": "https://stackoverflow.com/questions/30901157/python-reuse-a-variable-in-the-else-block-of-an-if-else-statement/30901271#30901271", "title": "Python Reuse a Variable in the Else Block of an If-Else Statement", "body": "<p>When you call <code>getSrc</code> a second time, the value of <code>source</code> that was created the first time has long since gone out of scope and been garbage collected. To prevent this, try making <code>source</code> an attribute of the function the same way you did for <code>has_been_called</code>.</p>\n\n<pre><code>def getSrc():\n    if getSrc.has_been_called is False:\n        getSrc.source = askdirectory()\n        getSrc.has_been_called = True\n        return getSrc.source\n    else:\n        return getSrc.source\n</code></pre>\n\n<hr>\n\n<p>Although, it's a bit messy to have two attributes when you can make do with one:</p>\n\n<pre><code>def getSrc():\n    if not getSrc.source:\n        getSrc.source = askdirectory()\n    return getSrc.source\ngetSrc.source = None\n</code></pre>\n\n<hr>\n\n<p>If you're in a higher-order functional mood, it may be worthwhile to create a function that memoizes other functions. You can look at <a href=\"https://wiki.python.org/moin/PythonDecoratorLibrary#Memoize\" rel=\"nofollow\">PythonDecoratorLibrary</a> for some tips on doing that, or you can just use one <a href=\"https://docs.python.org/3/library/functools.html#functools.lru_cache\" rel=\"nofollow\">already prepared by Python</a></p>\n\n<pre><code>import functools\n\n@functools.lru_cache()\ndef getSrc():\n    return askdirectory()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5017027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25235f4ad485ffa28714802c54dbd395?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/5017027/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 30901271, "answer_count": 1, "score": 0, "last_activity_date": 1434572767, "creation_date": 1434570854, "last_edit_date": 1434571331, "question_id": 30901157, "link": "https://stackoverflow.com/questions/30901157/python-reuse-a-variable-in-the-else-block-of-an-if-else-statement", "title": "Python Reuse a Variable in the Else Block of an If-Else Statement", "body": "<p>I'm currently working on a simple file transfer program in Python. I am having trouble with the function for prompting the user for the location of the folder to be copied.</p>\n\n<pre><code>def getSrc():\n    if getSrc.has_been_called is False:\n        source = askdirectory()\n        getSrc.has_been_called = True\n        return source\n    else:\n        return source\n\ngetSrc.has_been_called = False\n</code></pre>\n\n<p>The variable source comes up as an unresolved reference. I understand that the variable must be initialized again due to the scope of an if-else statement, but I am unsure of how to save the directory in the source variable without the user being prompted for the directory again.</p>\n"}, {"tags": ["python", "list", "python-2.7", "data-structures", "tuples"], "comments": [{"owner": {"reputation": 5935, "user_id": 893324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b24d4de5ae7afebfee98aa85e8a960e?s=128&d=identicon&r=PG", "display_name": "Brien", "link": "https://stackoverflow.com/users/893324/brien"}, "edited": false, "score": 0, "creation_date": 1434570953, "post_id": 30901140, "comment_id": 49841268, "body": "I&#39;m fairly certain you want a <code>dict</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4743, "user_id": 965778, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/27f7e5982b6fa15182f40ad56cabd795?s=128&d=identicon&r=PG", "display_name": "JavaSa", "link": "https://stackoverflow.com/users/965778/javasa"}, "edited": false, "score": 0, "creation_date": 1434571842, "post_id": 30901186, "comment_id": 49841854, "body": "But isn&#39;t dictionary an overkill for this? I have only two parameters to store"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 4743, "user_id": 965778, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/27f7e5982b6fa15182f40ad56cabd795?s=128&d=identicon&r=PG", "display_name": "JavaSa", "link": "https://stackoverflow.com/users/965778/javasa"}, "edited": false, "score": 0, "creation_date": 1434571980, "post_id": 30901186, "comment_id": 49841943, "body": "Why would it be overkill? It&#39;s very light to create and modify."}, {"owner": {"reputation": 4743, "user_id": 965778, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/27f7e5982b6fa15182f40ad56cabd795?s=128&d=identicon&r=PG", "display_name": "JavaSa", "link": "https://stackoverflow.com/users/965778/javasa"}, "edited": false, "score": 0, "creation_date": 1434572185, "post_id": 30901186, "comment_id": 49842051, "body": "Not in the way to build it , its easy, I meant when I&#39;m thinking of dictionary I&#39;m thinking of some hash table or map, which are related to solving more complex problems, and definitely having more keys and values to store than just two poor values"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 4743, "user_id": 965778, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/27f7e5982b6fa15182f40ad56cabd795?s=128&d=identicon&r=PG", "display_name": "JavaSa", "link": "https://stackoverflow.com/users/965778/javasa"}, "edited": false, "score": 1, "creation_date": 1434572377, "post_id": 30901186, "comment_id": 49842139, "body": "You are exactly correct, <a href=\"https://stackoverflow.com/questions/114830/is-a-python-dictionary-an-example-of-a-hash-table\">a Python <code>dict</code> is in fact a hash map</a>. I wouldn&#39;t say just because there aren&#39;t a lot of elements that it is any more complex. If it solves the issue, then it is exactly the right container :)"}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": true, "score": 3, "last_activity_date": 1434570953, "creation_date": 1434570953, "answer_id": 30901186, "question_id": 30901140, "link": "https://stackoverflow.com/questions/30901140/datastructure-choice-issue/30901186#30901186", "title": "Datastructure choice issue", "body": "<p>Sounds like you're describing a dictionary (<code>dict</code>)</p>\n\n<pre><code># Creating a dict\n&gt;&gt;&gt; d = {'Date': \"12.6.15\", 'FilePath': \"C:\\somewhere\\only\\we\\know\"}\n\n# Accessing a value based on a key\n&gt;&gt;&gt; d['Date']\n'12.6.15'\n\n# Changing the value associated with that key\n&gt;&gt;&gt; d['Date'] = '12.15.15'\n\n# Displaying the representation of the updated dict\n&gt;&gt;&gt; d\n{'FilePath': 'C:\\\\somewhere\\\\only\\\\we\\\\know', 'Date': '12.15.15'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 90, "user_id": 4941214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B8OcI.png?s=128&g=1", "display_name": "Danny Dircz", "link": "https://stackoverflow.com/users/4941214/danny-dircz"}, "is_accepted": false, "score": 2, "last_activity_date": 1434571567, "last_edit_date": 1434571567, "creation_date": 1434571193, "answer_id": 30901253, "question_id": 30901140, "link": "https://stackoverflow.com/questions/30901140/datastructure-choice-issue/30901253#30901253", "title": "Datastructure choice issue", "body": "<p>Why not use a dictionary. Dictionaries allow you to map a 'Key' to a 'Value'.\nFor example, you can define a dictionary like this:</p>\n\n<p><code>dict = { 'Date' : \"12.6.15\", 'Filepath' : \"C:\\somewhere\\only\\we\\know\"}</code></p>\n\n<p>and you can easily change it like this:</p>\n\n<p><code>dict['Date'] = 'newDate'</code></p>\n"}], "owner": {"reputation": 4743, "user_id": 965778, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/27f7e5982b6fa15182f40ad56cabd795?s=128&d=identicon&r=PG", "display_name": "JavaSa", "link": "https://stackoverflow.com/users/965778/javasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 1, "accepted_answer_id": 30901186, "answer_count": 2, "score": 0, "last_activity_date": 1453797785, "creation_date": 1434570811, "last_edit_date": 1453797785, "question_id": 30901140, "link": "https://stackoverflow.com/questions/30901140/datastructure-choice-issue", "title": "Datastructure choice issue", "body": "<p>I'm new to Python. I need a data structure to contain a tuple of two elements: <code>date</code> and <code>file path</code>. I need to be able to change their values from time to time, hence I'm not sure a tuple is a good idea as it is immutable. Every time I need to change it I must create a new tuple and reference it, instead of really changing its values; so, we may have a memory issue here: a lot of tuples allocated.</p>\n\n<p>On the other hand, I thought of a list , but a list isn't in fixed size, so the user may potentially enter more than 2 elements, which is not ideal.</p>\n\n<p>Lastly, I would also want to reference each element in a reasonable name; that is, instead of <code>list[0]</code> (which maps to the date) and <code>list[1]</code> (which maps to the file path), I would prefer a readable solution, such as associative arrays in PHP:</p>\n\n<pre><code>tuple = array()\ntuple['Date'] = \"12.6.15\"\ntuple['FilePath] = \"C:\\somewhere\\only\\we\\know\"\n</code></pre>\n\n<p>What is the Pythonic way to handle such situation?   </p>\n"}, {"tags": ["python", "radio-button", "wxpython"], "answers": [{"tags": [], "owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "is_accepted": true, "score": 2, "last_activity_date": 1434577149, "creation_date": 1434577149, "answer_id": 30902875, "question_id": 30901128, "link": "https://stackoverflow.com/questions/30901128/changing-font-color-of-wxpython-radio-button/30902875#30902875", "title": "Changing Font Color of wxpython Radio Button", "body": "<p>The <code>SetForegroundColoour</code> and <code>SetBackgroundColour</code> methods are not guaranteed to work. The reason is that wxPython uses the native widgets for the OS it is running on. If the native widget does not support changing the text's color, then these methods will have no effect. Some widgets allow changes to color on Mac while the same widgets on Windows do not.</p>\n\n<p>If you really need to change text color in a radio button, then you'll probably need to create a custom widget. See the following:</p>\n\n<ul>\n<li><a href=\"http://wiki.wxpython.org/CreatingCustomControls\" rel=\"nofollow\">http://wiki.wxpython.org/CreatingCustomControls</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7653210, "user_type": "registered", "profile_image": "https://graph.facebook.com/1861529387393357/picture?type=large", "display_name": "Mahmoud Mansour", "link": "https://stackoverflow.com/users/7653210/mahmoud-mansour"}, "is_accepted": false, "score": 1, "last_activity_date": 1557355434, "creation_date": 1557355434, "answer_id": 56049991, "question_id": 30901128, "link": "https://stackoverflow.com/questions/30901128/changing-font-color-of-wxpython-radio-button/56049991#56049991", "title": "Changing Font Color of wxpython Radio Button", "body": "<p><strong>Use a wx.RadioButton with no label \n               &amp;\nput a wxStaticText next to it</strong>\nand set your foreground colour as u wish</p>\n"}], "owner": {"reputation": 273, "user_id": 4757234, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a4d1302a4f9c94a62e8a7b885e8ccaab?s=128&d=identicon&r=PG&f=1", "display_name": "Marjoram", "link": "https://stackoverflow.com/users/4757234/marjoram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1924, "favorite_count": 1, "accepted_answer_id": 30902875, "answer_count": 2, "score": 0, "last_activity_date": 1557355434, "creation_date": 1434570761, "last_edit_date": 1495540712, "question_id": 30901128, "link": "https://stackoverflow.com/questions/30901128/changing-font-color-of-wxpython-radio-button", "title": "Changing Font Color of wxpython Radio Button", "body": "<p>I am using wxpython version 2.9.4.0 and python 2.7.9.</p>\n\n<p>I am trying the change the color of the text for a radio button.\nI initialized by:</p>\n\n<pre><code>button = wx.RadioButton(panel, -1, 'Line', (200, 300))\n</code></pre>\n\n<p>I was able to change the color around the radio button by:</p>\n\n<pre><code>button.SetBackgroundColour((150, 150, 150))\n</code></pre>\n\n<p>But this is not the behavior I want.  I want to change the color of the text, not the area around it.  I expected that changing the foreground colour would change the text color of the radio button, as that is how the color is changed for static text (as shown here <a href=\"https://stackoverflow.com/questions/1785227/change-the-colour-of-a-statictext-wxpython\">Change the colour of a StaticText, wxPython</a>).  The code I used for this is:</p>\n\n<pre><code>button.SetForegroundColour((0, 255, 0))\n</code></pre>\n\n<p>However, for reasons unknown to me, this did not change anything about the radio button.\nAm I mistaken that this command should change the text color of the radio button, and if so, what is the proper command?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 5515, "user_id": 4946896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbe7e09627974c401e4eca85d23cefe5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4946896/rafael"}, "edited": false, "score": 0, "creation_date": 1434576104, "post_id": 30901050, "comment_id": 49844140, "body": "Sorry something is wrong with your indentation at line 96 where the <code>while true</code> is.."}, {"owner": {"reputation": 385, "user_id": 3807565, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0184dfa7bcf6ad7563330f2f4381aba2?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/3807565/akshay"}, "reply_to_user": {"reputation": 5515, "user_id": 4946896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbe7e09627974c401e4eca85d23cefe5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4946896/rafael"}, "edited": false, "score": 0, "creation_date": 1434648024, "post_id": 30901050, "comment_id": 49880477, "body": "that has been properly indented in the original code."}], "owner": {"reputation": 385, "user_id": 3807565, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0184dfa7bcf6ad7563330f2f4381aba2?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/3807565/akshay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "closed_date": 1611927855, "answer_count": 0, "score": 0, "last_activity_date": 1611927883, "creation_date": 1434570542, "question_id": 30901050, "link": "https://stackoverflow.com/questions/30901050/problems-with-updating-the-screen-in-pygame", "closed_reason": "Duplicate", "title": "Problems with updating the screen in pygame", "body": "<p>I have made a two player tic tac toe game using pygame which is completely basic.Everything in the game is working fine except the part where after one of the player wins by completing a match in a diagonal row.</p>\n\n<p>The strike-through that connects the crosses or the noughts appear somehow appears after everything has been reset unlike the other cases when the strikethrough remains in the screen for 5s and then everything gets reset</p>\n\n<pre><code>#------Importing modules---------#\n\nimport pygame\nimport sys\nimport time\nimport pygame.mixer\nfrom pygame.locals import*\nimport random\n\n\nfrom gameover import*\nfrom main1_pi import *\nfrom main2 import *\n\n\n#------Screen size &amp; other parameters--------------#\n\npygame.init()\n\n\nSCREEN_HEIGHT=768\nSCREEN_WIDTH=1366\n\nsize=(SCREEN_WIDTH,SCREEN_HEIGHT)\n\nic=pygame.image.load('extras/ino.png')\npygame.display.set_icon(ic)\nscreen=pygame.display.set_mode((size),pygame.FULLSCREEN)\n\npygame.display.set_caption('PI-PY-PO')\n\n#--------function to obtain text----------------#\n\ndef text_display(text,color,size,font):\n   FONT=pygame.font.SysFont(font,size)\n   FONT.set_bold(True)\n   SURFACEFONT=FONT.render(text,True,color)\n   return SURFACEFONT\n\n\n\n\n\n#metro2(screen)                    #start screen\n\nclr1=(22,122,211)                  #colors\nclr2=(255,44,166)\nclr3=(34,55,145)\n\nred=(255,0,0)\nwhite=(255,255,255)\n\np1,p2=0,0\n\ntext1=text_display('Player 2',white,30,'Arial')   #texts\ntext2=text_display('Player 1',white,30,'Arial')\ntext3=text_display('%s-%s'%(p1,p2),white,50,'Arial')\n\n\n\n\ntext1_a=text1.get_rect()\ntext2_b=text2.get_rect()\ntext3_b=text3.get_rect()\n\ntext1_a.center=(SCREEN_WIDTH-170,40)\ntext2_b.center=(180,40)\ntext3_b.center=(SCREEN_WIDTH/2,40)\n\nclock=pygame.time.Clock()                    #\nFPS=60\ntotal_frames=0\nwidth=260\nheight=195\nxleft=300\nytop=100\nturn=0\nstat_of_turn=random.randint(1,2)\nnoft=0\n\nlist1=['0','0','0','0','0','0','0','0','0']\nbackground1=pygame.image.load('back.jpg')\n\nt=pygame.image.load('cross.gif')\np=pygame.image.load('circle.gif')\nyou=pygame.image.load('friend.gif')\nfriend=pygame.image.load('you.gif')\n\n\n\nwhile True:\n\n\n\n\na=pygame.draw.rect(screen,white,(xleft,ytop,width,height))\nb=pygame.draw.rect(screen,white,(xleft+width,ytop,width,height))\nc=pygame.draw.rect(screen,white,(xleft+width*2,ytop,width,height))\nd=pygame.draw.rect(screen,white,(xleft,ytop+height,width,height))\ne=pygame.draw.rect(screen,white,(xleft+width,ytop+height,width,height))\nf=pygame.draw.rect(screen,white,(xleft+width*2,ytop+height,width,height))\ng=pygame.draw.rect(screen,white,(xleft,ytop+height*2,width,height))\nh=pygame.draw.rect(screen,white,(xleft+width,ytop+height*2,width,height))\ni=pygame.draw.rect(screen,white,(xleft+width*2,ytop+height*2,width,height))\n\nscreen.blit(background1,(0,0))\n\nif stat_of_turn==1:\n   screen.blit(you,(SCREEN_WIDTH-88,0))\n   screen.blit(text1,text1_a)\nif stat_of_turn==2:\n    screen.blit(friend,(0,0))\n    screen.blit(text2,text2_b)\nscreen.blit(text3,text3_b)\n\npygame.draw.line(screen, white, (xleft,ytop+height), (xleft+width*3,ytop+height),5)\n\npygame.draw.line(screen, white, (xleft,ytop+height*2), (xleft+width*3,ytop+height*2),5)\n\npygame.draw.line(screen, white, (xleft+width,ytop), (xleft+width,ytop+height*3),5)\n\npygame.draw.line(screen, white, (xleft+width*2,ytop), (xleft+width*2,ytop+height*3),5)\n\npos = pygame.mouse.get_pos()\npygame.mouse.set_visible(True)\n\nif(list1[0]==list1[1]==list1[2]) and list1[0]!='0': \n\n   if stat_of_turn==1:\n      p1=p1+1\n\n   elif stat_of_turn==2:\n      p2=p2+1\n   x=pygame.draw.line(screen, white, (xleft,100+height/2), (xleft+width*3,100+height/2),5)\n\n   pygame.display.update(x)\n   time.sleep(5)\n   list1=['0','0','0','0','0','0','0','0','0']\n   stat_of_turn=random.randint(1,2)\n   noft=0\n\n\n\n\n\nelif(list1[0]==list1[3]==list1[6]) and list1[0]!='0':\n\n   if stat_of_turn==1:\n      p1=p1+1\n   elif stat_of_turn==2:\n      p2=p2+1\n\n   x=pygame.draw.line(screen, white, (xleft+width/2,100), (xleft+width/2,100+3*height),5)\n\n   pygame.display.update(x)\n   time.sleep(5)\n\n   list1=['0','0','0','0','0','0','0','0','0']\n   stat_of_turn=random.randint(1,2)\n   noft=0\n\n\nelif(list1[0]==list1[4]==list1[8]) and list1[0]!='0':       \n\n   if stat_of_turn==1:\n      p1=p1+1\n   elif stat_of_turn==2:\n      p2=p2+1\n\n   x=pygame.draw.line(screen, white, (xleft,100), (xleft+width*3,100+3*height),5)\n\n   pygame.display.update(x)\n   time.sleep(5)\n\n   list1=['0','0','0','0','0','0','0','0','0']\n   stat_of_turn=random.randint(1,2)\n   noft=0\n\n\nelif(list1[6]==list1[7]==list1[8]) and list1[8]!='0': \n\n   if stat_of_turn==1:\n      p1=p1+1\n   elif stat_of_turn==2:\n      p2=p2+1\n\n   x=pygame.draw.line(screen, white, (xleft,100+3*height-height/2), (xleft+width*3,100+3*height-height/2),5)\n\n   pygame.display.update(x)\n   time.sleep(5)\n\n   list1=['0','0','0','0','0','0','0','0','0']\n   stat_of_turn=random.randint(1,2)\n   noft=0\n\n   continue;\nelif(list1[2]==list1[5]==list1[8]) and list1[8]!='0':\n\n   if stat_of_turn==1:\n      p1=p1+1\n   elif stat_of_turn==2:\n      p2=p2+1\n\n\n   x=pygame.draw.line(screen, white, (xleft+width*3-width/2,100), (xleft+width*3-width/2,100+3*height),5)\n\n   pygame.display.update(x)\n   time.sleep(5)\n   list1=['0','0','0','0','0','0','0','0','0']\n   stat_of_turn=random.randint(1,2)\n   noft=0\n\n   continue;\n\nelif(list1[6]==list1[4]==list1[2]) and list1[6]!='0':\n\n   if stat_of_turn==1:\n      p1=p1+1\n   elif stat_of_turn==2:\n      p2=p2+1\n\n\n\n   x=pygame.draw.line(screen, white, (xleft+width*3,100), (xleft,100+3*height),1)\n\n   pygame.display.update(x)\n   time.sleep(5)\n   list1=['0','0','0','0','0','0','0','0','0']\n   stat_of_turn=random.randint(1,2)\n   noft=0\n\n   continue;\n\nelif(list1[3]==list1[4]==list1[5]) and list1[3]!='0':\n\n   if stat_of_turn==1:\n      p1=p1+1\n   elif stat_of_turn==2:\n      p2=p2+1\n\n   x=pygame.draw.line(screen, white, (xleft,100+height+height/2), (xleft+width*3,100+height+height/2),5)\n\n   pygame.display.update(x)\n   time.sleep(5)\n\n   list1=['0','0','0','0','0','0','0','0','0']\n   stat_of_turn=random.randint(1,2)\n   noft=0\n\n   continue;\n\nelif(list1[1]==list1[4]==list1[7]) and list1[1]!='0':\n\n   if stat_of_turn==1:\n      p1=p1+1\n   elif stat_of_turn==2:\n      p2=p2+1\n\n\n   x=pygame.draw.line(screen, white, (xleft+width*2-width/2,100), (xleft+width*2-width/2,100+3*height),5)\n\n   pygame.display.update(x)\n   time.sleep(5)\n   list1=['0','0','0','0','0','0','0','0','0']\n   stat_of_turn=random.randint(1,2)\n   noft=0\n\n   continue;\n\nif noft==9:\n   list1=['0','0','0','0','0','0','0','0','0']\n   stat_of_turn=random.randint(1,2)\n   noft=0\n\n   continue;\n\n\n\ntext3=text_display('%s - %s'%(p1,p2),white,50,'Arial')\n\n\n\n\n\nfor event in pygame.event.get():\n    if event.type==pygame.QUIT:\n        pygame.quit()\n        sys.exit()\n\n    if event.type==pygame.KEYDOWN:\n\n        if event.key==pygame.K_ESCAPE:\n           metroxx(screen)\n\n    if event.type == pygame.MOUSEBUTTONDOWN and event.button == 1:\n\n\n            if a.collidepoint(pos) and list1[0]=='0':\n\n               if stat_of_turn==2:\n                  stat_of_turn=1\n                  list1[0]='2'\n               elif stat_of_turn==1:\n                  stat_of_turn=2\n                  list1[0]='1'\n               noft=noft+1\n            if b.collidepoint(pos)and list1[1]=='0':\n\n               if stat_of_turn==2:\n                  stat_of_turn=1\n                  list1[1]='2'\n               elif stat_of_turn==1:\n                  stat_of_turn=2\n                  list1[1]='1'\n               noft=noft+1\n            if c.collidepoint(pos)and list1[2]=='0':\n\n               if stat_of_turn==2:\n                  stat_of_turn=1\n                  list1[2]='2'\n               elif stat_of_turn==1:\n                  stat_of_turn=2\n                  list1[2]='1'\n               noft=noft+1\n            if d.collidepoint(pos)and list1[3]=='0':\n\n               if stat_of_turn==2:\n                  stat_of_turn=1\n                  list1[3]='2'\n               elif stat_of_turn==1:\n                  stat_of_turn=2\n                  list1[3]='1'\n               noft=noft+1\n            if e.collidepoint(pos)and list1[4]=='0':\n\n               if stat_of_turn==2:\n                  stat_of_turn=1\n                  list1[4]='2'\n               elif stat_of_turn==1:\n                  stat_of_turn=2\n                  list1[4]='1'\n               noft=noft+1\n            if f.collidepoint(pos)and list1[5]=='0':\n\n               if stat_of_turn==2:\n                  stat_of_turn=1\n                  list1[5]='2'\n               elif stat_of_turn==1:\n                  stat_of_turn=2\n                  list1[5]='1'\n               noft=noft+1\n            if g.collidepoint(pos)and list1[6]=='0':\n\n               if stat_of_turn==2:\n                  stat_of_turn=1\n                  list1[6]='2'\n               elif stat_of_turn==1:\n                  stat_of_turn=2\n                  list1[6]='1'\n               noft=noft+1\n            if h.collidepoint(pos)and list1[7]=='0':\n\n               if stat_of_turn==2:\n                  stat_of_turn=1\n                  list1[7]='2'\n               elif stat_of_turn==1:\n                  stat_of_turn=2\n                  list1[7]='1'\n               noft=noft+1\n            if i.collidepoint(pos)and list1[8]=='0':\n\n               if stat_of_turn==2:\n                  stat_of_turn=1\n                  list1[8]='2'\n               elif stat_of_turn==1:\n                  stat_of_turn=2\n                  list1[8]='1'\n               noft=noft+1\nif list1[0]=='1':\n   screen.blit(t,a)\nelif list1[0]=='2':\n   screen.blit(p,a)\nif list1[1]=='1':\n   screen.blit(t,b)\nelif list1[1]=='2':\n   screen.blit(p,b)\nif list1[2]=='1':\n   screen.blit(t,c)\nelif list1[2]=='2':\n   screen.blit(p,c)\nif list1[3]=='1':\n   screen.blit(t,d)\nelif list1[3]=='2':\n   screen.blit(p,d)\nif list1[4]=='1':\n   screen.blit(t,e)\nelif list1[4]=='2':\n   screen.blit(p,e)\nif list1[5]=='1':\n   screen.blit(t,f)\nelif list1[5]=='2':\n   screen.blit(p,f)\nif list1[6]=='1':\n   screen.blit(t,g)\nelif list1[6]=='2':\n   screen.blit(p,g)\nif list1[7]=='1':\n   screen.blit(t,h)\nelif list1[7]=='2':\n   screen.blit(p,h)\nif list1[8]=='1':\n   screen.blit(t,i)\nelif list1[8]=='2':\n   screen.blit(p,i)\n\nz=0\npygame.display.flip()\nclock.tick(FPS)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/MlK6K.jpg\" alt=\"enter image description here\">\nHorizontal and vertical ones working well as above</p>\n\n<p><img src=\"https://i.stack.imgur.com/kdWIP.jpg\" alt=\"enter image description here\">\nLine appears after everything else has been rest. Awkward since the same technique as above is used.</p>\n\n<p><img src=\"https://i.stack.imgur.com/axPHf.jpg\" alt=\"enter image description here\">\nSame issue with the other diagonal too.</p>\n\n<p>**the while loop has been properly indented in the original code.</p>\n"}, {"tags": ["python", "image", "opencv", "image-processing", "polygon"], "answers": [{"comments": [{"owner": {"reputation": 1340, "user_id": 2362377, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62b8eb91e4d98ef37d2f1eaa56799c74?s=128&d=identicon&r=PG&f=1", "display_name": "SpiderRico", "link": "https://stackoverflow.com/users/2362377/spiderrico"}, "edited": false, "score": 1, "creation_date": 1434579230, "post_id": 30902423, "comment_id": 49845477, "body": "Great answer ! Thanks."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 1340, "user_id": 2362377, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62b8eb91e4d98ef37d2f1eaa56799c74?s=128&d=identicon&r=PG&f=1", "display_name": "SpiderRico", "link": "https://stackoverflow.com/users/2362377/spiderrico"}, "edited": false, "score": 1, "creation_date": 1434579321, "post_id": 30902423, "comment_id": 49845530, "body": "No problem at all! Good luck!"}, {"owner": {"reputation": 1340, "user_id": 2362377, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62b8eb91e4d98ef37d2f1eaa56799c74?s=128&d=identicon&r=PG&f=1", "display_name": "SpiderRico", "link": "https://stackoverflow.com/users/2362377/spiderrico"}, "edited": false, "score": 0, "creation_date": 1434580700, "post_id": 30902423, "comment_id": 49846045, "body": "Just one more thing I need to do. I need to move that cropped part(white part in your example) to the middle of the screen and bound it in a square. Could you show some pointers for that aswell?"}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 1340, "user_id": 2362377, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62b8eb91e4d98ef37d2f1eaa56799c74?s=128&d=identicon&r=PG&f=1", "display_name": "SpiderRico", "link": "https://stackoverflow.com/users/2362377/spiderrico"}, "edited": false, "score": 1, "creation_date": 1434581719, "post_id": 30902423, "comment_id": 49846377, "body": "Ah Yeah that shouldn&#39;t be a problem. I&#39;ll answer in a while. I&#39;m currently on my way home from work."}, {"owner": {"reputation": 1340, "user_id": 2362377, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62b8eb91e4d98ef37d2f1eaa56799c74?s=128&d=identicon&r=PG&f=1", "display_name": "SpiderRico", "link": "https://stackoverflow.com/users/2362377/spiderrico"}, "edited": false, "score": 0, "creation_date": 1434620979, "post_id": 30902423, "comment_id": 49861356, "body": "Sure. Whenever you have the time."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 1340, "user_id": 2362377, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62b8eb91e4d98ef37d2f1eaa56799c74?s=128&d=identicon&r=PG&f=1", "display_name": "SpiderRico", "link": "https://stackoverflow.com/users/2362377/spiderrico"}, "edited": false, "score": 1, "creation_date": 1434625139, "post_id": 30902423, "comment_id": 49864090, "body": "Sorry about that. I&#39;ll modify this in a couple hours. Got busy last night."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 1340, "user_id": 2362377, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62b8eb91e4d98ef37d2f1eaa56799c74?s=128&d=identicon&r=PG&f=1", "display_name": "SpiderRico", "link": "https://stackoverflow.com/users/2362377/spiderrico"}, "edited": false, "score": 0, "creation_date": 1434643931, "post_id": 30902423, "comment_id": 49878162, "body": "@SpiderRico - Done.  Have a look."}, {"owner": {"reputation": 1340, "user_id": 2362377, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62b8eb91e4d98ef37d2f1eaa56799c74?s=128&d=identicon&r=PG&f=1", "display_name": "SpiderRico", "link": "https://stackoverflow.com/users/2362377/spiderrico"}, "edited": false, "score": 1, "creation_date": 1434669869, "post_id": 30902423, "comment_id": 49891383, "body": "Perfect! That answer is just like a short tutorial. Thank you so much ray."}, {"owner": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1619037330, "post_id": 30902423, "comment_id": 118787090, "body": "I got here by searching for ways to go in the reverse direction, taking the image (bitmap) of the white polygon, and finding a way to produce a list of vertices. Any pointers? Multiple search hits now leading me to various solutions like this one."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 1, "creation_date": 1619038421, "post_id": 30902423, "comment_id": 118787526, "body": "@nmz787 Use <code>cv2.findContours</code>.  It provides a list of vertices that define the shape.  <a href=\"https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_contours/py_contours_begin/py_contours_begin.html\" rel=\"nofollow noreferrer\">opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials&zwnj;&#8203;/&hellip;</a>.  Assuming there is only one shape, the first output variable <code>contours</code> will be a single element that will have a <code>(N, 1, 2)</code> array, so to get what you are looking for: <code>pts = contours[0][:, 0]</code> to give you a <code>N x 2</code> array of points that define the contour of the shape."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 1501, "user_id": 253127, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/295bde0b45467c2c5bca676b01605e89?s=128&d=identicon&r=PG", "display_name": "nmz787", "link": "https://stackoverflow.com/users/253127/nmz787"}, "edited": false, "score": 0, "creation_date": 1619046974, "post_id": 30902423, "comment_id": 118789892, "body": "@nmz787 Conversely if you just want the corners of the shape, you&#39;ll need to use a corner detector. Harris Corners should work."}], "tags": [], "owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "is_accepted": true, "score": 31, "last_activity_date": 1434671529, "last_edit_date": 1434671529, "creation_date": 1434575246, "answer_id": 30902423, "question_id": 30901019, "link": "https://stackoverflow.com/questions/30901019/extracting-polygon-given-coordinates-from-an-image-using-opencv/30902423#30902423", "title": "Extracting polygon given coordinates from an image using OpenCV", "body": "<p>Use <a href=\"http://docs.opencv.org/modules/core/doc/drawing_functions.html#fillconvexpoly\" rel=\"noreferrer\"><code>cv2.fillConvexPoly</code></a> so that you can specify a 2D array of points and define a mask which fills in the shape that is defined by these points to be white in the mask.  Some fair warning should be made where the points that are defined in your polygon are convex (hence the name <code>fillConvexPoly</code>).</p>\n\n<p>We can then convert this to a Boolean mask and use this to index into your image to extract out the pixels you want.  The code below produces an array called <code>mask</code> and this will contain a Boolean mask of the pixels you want to save from the image.  In addition, the array <code>out</code> will contain the desired extracted subimage that was defined by the polygon.  Take note that the image is initialized to be completely dark and that the only pixels that are to be copied over are the pixels defined by the polygon. </p>\n\n<p>Assuming the actual image is called <code>img</code>, and assuming that your <code>x</code> and <code>y</code> points denote the horizontal and vertical coordinates in the image, you can do something like this:</p>\n\n<pre><code>import numpy as np\nimport cv2\n\npts = np.array([[542, 107], [562, 102], [582, 110], [598, 142], [600, 192], [601, 225], [592, 261], [572, 263], [551, 245], [526, 220], [520, 188], [518, 152], [525, 127], [524, 107]], dtype=np.int32)\n\nmask = np.zeros((img.shape[0], img.shape[1]))\n\ncv2.fillConvexPoly(mask, pts, 1)\nmask = mask.astype(np.bool)\n\nout = np.zeros_like(img)\nout[mask] = img[mask]\n</code></pre>\n\n<p><code>out</code> should all be black except for the region that is to be copied over.  If you want to display this image, you can do something like:</p>\n\n<pre><code>cv2.imshow('Extracted Image', out)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n\n<p>This will display the extracted image from the polygon points and wait for a key pressed by you.  When you are finished looking at the image, you can push any key as long as the display window has focus.</p>\n\n<p>If you want to <strong>save</strong> this image to file, do something like this:</p>\n\n<pre><code>cv2.imwrite('output.png', out)\n</code></pre>\n\n<p>This will save the image to a file called <code>output.png</code>.  I specify the PNG format because it's lossless.</p>\n\n<hr>\n\n<p>As a simple test, let's define a white image that is <code>300 x 700</code>, which is well beyond the largest coordinates in what you have defined.  Let's extract out the region that's defined by that polygon and show what the output looks like.</p>\n\n<pre><code>img = 255*np.ones((300, 700, 3), dtype=np.uint8)\n</code></pre>\n\n<p>Using the above test image, we get this image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/59jQd.png\" alt=\"enter image description here\"></p>\n\n<h1>Edit</h1>\n\n<p>If you would like to translate the extracted image so that it's in the middle, and then place a square around the bounding box, a trick that I can suggest is to use <a href=\"http://docs.opencv.org/modules/imgproc/doc/geometric_transformations.html#remap\" rel=\"noreferrer\"><code>cv2.remap</code></a> to translate the image. Once you're done, use <a href=\"http://docs.opencv.org/modules/core/doc/drawing_functions.html#rectangle\" rel=\"noreferrer\"><code>cv2.rectangle</code></a> for drawing the square.  </p>\n\n<p>How <code>cv2.remap</code> works is that for each pixel in the output, you need to specify the spatial coordinate of where you want to access a pixel in the source image.  Because you're ultimately moving the output to the centre of the image, you need to add an offset to every <code>x</code> and <code>y</code> location in the destination image to get the source pixel.  </p>\n\n<p>To figure out the right offsets to move the image, simply figure out the centroid of the polygon, translate the polygon so that centroid is at the origin, and then retranslate it so that it's at the centre of the image.</p>\n\n<p>Using the variables we defined above, you can find the centroid by:</p>\n\n<pre><code>(meanx, meany) = pts.mean(axis=0)\n</code></pre>\n\n<p>Once you find the centroid, you take all points and subtract by this centroid, then add the appropriate coordinates to retranslate to the centre of the image.  The centre of the image can be found by:</p>\n\n<pre><code>(cenx, ceny) = (img.shape[1]/2, img.shape[0]/2)\n</code></pre>\n\n<p>It's also important that you convert the coordinates into integer as the pixel coordinates are such:</p>\n\n<pre><code>(meanx, meany, cenx, ceny) = np.floor([meanx, meany, cenx, ceny]).astype(np.int32)\n</code></pre>\n\n<p>Now to figure out the offset, do this like we talked about before:</p>\n\n<pre><code>(offsetx, offsety) = (-meanx + cenx, -meany + ceny)\n</code></pre>\n\n<p>Now, translate your image.  You need to define a mapping for each pixel in the output image where for each point <code>(x,y)</code> in the destination image, you need to provide where to sample from the source.  The offset that we calculated translates each source pixel to the destination location.  Because we're doing the <strong>opposite</strong>, where for each destination pixel, we are finding which source pixel to sample from, we must <strong>subtract</strong> the offset, not add.  Therefore, first define a grid of <code>(x,y)</code> points normally, then subtract the offset.  Once you're done, translate the image:</p>\n\n<pre><code>(mx, my) = np.meshgrid(np.arange(img.shape[1]), np.arange(img.shape[0]))\nox = (mx - offsetx).astype(np.float32)\noy = (my - offsety).astype(np.float32)\nout_translate = cv2.remap(out, ox, oy, cv2.INTER_LINEAR)\n</code></pre>\n\n<p>If we displayed <code>out_translate</code> with the above example, this is what we get:</p>\n\n<p><img src=\"https://i.stack.imgur.com/PHqkL.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>Cool!  Now it's time to draw the rectangle on top of this image.  All you have to do is figure out the top left and bottom right corner of the rectangle.  This can be done by taking the top left and bottom right corners of the polygon and adding the offset to move these points to the centre of the image:</p>\n\n<pre><code>topleft = pts.min(axis=0) + [offsetx, offsety]\nbottomright = pts.max(axis=0) + [offsetx, offsety]\ncv2.rectangle(out_translate, tuple(topleft), tuple(bottomright), color=(255,0,0))\n</code></pre>\n\n<p>If we show this image, we get:</p>\n\n<p><img src=\"https://i.stack.imgur.com/UhK6q.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>The above code draws a rectangle around the centered image with a blue colour.  As such, the full code to go from the start (extracting the pixel region) to the end (translating and drawing a rectangle) is:</p>\n\n<pre><code># Import relevant modules\nimport numpy as np\nimport cv2\n\n# Define points\npts = np.array([[542, 107], [562, 102], [582, 110], [598, 142], [600, 192], [601, 225], [592, 261], [572, 263], [551, 245], [526, 220], [520, 188], [518, 152], [525, 127], [524, 107]], dtype=np.int32)\n\n### Define image here\nimg = 255*np.ones((300, 700, 3), dtype=np.uint8)\n\n# Initialize mask\nmask = np.zeros((img.shape[0], img.shape[1]))\n\n# Create mask that defines the polygon of points\ncv2.fillConvexPoly(mask, pts, 1)\nmask = mask.astype(np.bool)\n\n# Create output image (untranslated)\nout = np.zeros_like(img)\nout[mask] = img[mask]\n\n# Find centroid of polygon\n(meanx, meany) = pts.mean(axis=0)\n\n# Find centre of image\n(cenx, ceny) = (img.shape[1]/2, img.shape[0]/2)\n\n# Make integer coordinates for each of the above\n(meanx, meany, cenx, ceny) = np.floor([meanx, meany, cenx, ceny]).astype(np.int32)\n\n# Calculate final offset to translate source pixels to centre of image\n(offsetx, offsety) = (-meanx + cenx, -meany + ceny)\n\n# Define remapping coordinates\n(mx, my) = np.meshgrid(np.arange(img.shape[1]), np.arange(img.shape[0]))\nox = (mx - offsetx).astype(np.float32)\noy = (my - offsety).astype(np.float32)\n\n# Translate the image to centre\nout_translate = cv2.remap(out, ox, oy, cv2.INTER_LINEAR)\n\n# Determine top left and bottom right of translated image\ntopleft = pts.min(axis=0) + [offsetx, offsety]\nbottomright = pts.max(axis=0) + [offsetx, offsety]\n\n# Draw rectangle\ncv2.rectangle(out_translate, tuple(topleft), tuple(bottomright), color=(255,0,0))\n\n# Show image, wait for user input, then save the image\ncv2.imshow('Output Image', out_translate)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\ncv2.imwrite('output.png', out_translate)\n</code></pre>\n"}], "owner": {"reputation": 1340, "user_id": 2362377, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62b8eb91e4d98ef37d2f1eaa56799c74?s=128&d=identicon&r=PG&f=1", "display_name": "SpiderRico", "link": "https://stackoverflow.com/users/2362377/spiderrico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15844, "favorite_count": 11, "accepted_answer_id": 30902423, "answer_count": 1, "score": 14, "last_activity_date": 1606531246, "creation_date": 1434570428, "last_edit_date": 1606531246, "question_id": 30901019, "link": "https://stackoverflow.com/questions/30901019/extracting-polygon-given-coordinates-from-an-image-using-opencv", "title": "Extracting polygon given coordinates from an image using OpenCV", "body": "<p>I've a set of points like the following:</p>\n\n<pre><code>     &lt;data:polygon&gt;\n                            &lt;data:point x=\"542\" y=\"107\"/&gt;\n                            &lt;data:point x=\"562\" y=\"102\"/&gt;\n                            &lt;data:point x=\"582\" y=\"110\"/&gt;\n                            &lt;data:point x=\"598\" y=\"142\"/&gt;\n                            &lt;data:point x=\"600\" y=\"192\"/&gt;\n                            &lt;data:point x=\"601\" y=\"225\"/&gt;\n                            &lt;data:point x=\"592\" y=\"261\"/&gt;\n                            &lt;data:point x=\"572\" y=\"263\"/&gt;\n                            &lt;data:point x=\"551\" y=\"245\"/&gt;\n                            &lt;data:point x=\"526\" y=\"220\"/&gt;\n                            &lt;data:point x=\"520\" y=\"188\"/&gt;\n                            &lt;data:point x=\"518\" y=\"152\"/&gt;\n                            &lt;data:point x=\"525\" y=\"127\"/&gt;\n                            &lt;data:point x=\"542\" y=\"107\"/\n &lt;/data:polygon&gt;\n</code></pre>\n\n<p>I want to draw the polygon defined by these points in the image and then extract it. How can I do that using OpenCV with python ?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1434570446, "post_id": 30900995, "comment_id": 49840944, "body": "Please show what code you have so far."}, {"owner": {"reputation": 123, "user_id": 3261251, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-NRFkUhTh0WM/AAAAAAAAAAI/AAAAAAAACFs/qIzhQj__6qI/photo.jpg?sz=128", "display_name": "Pulkit Bhardwaj", "link": "https://stackoverflow.com/users/3261251/pulkit-bhardwaj"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1434570606, "post_id": 30900995, "comment_id": 49841047, "body": "import xml.etree.ElementTree as ET import re s=&quot;AwardTitle&quot; re.sub(r&#39;\\B[A-Z]\\B&#39;, lambda x: &#39;_&#39; + x.group().lower(), s) print s"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 3261251, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-NRFkUhTh0WM/AAAAAAAAAAI/AAAAAAAACFs/qIzhQj__6qI/photo.jpg?sz=128", "display_name": "Pulkit Bhardwaj", "link": "https://stackoverflow.com/users/3261251/pulkit-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1434570661, "post_id": 30901040, "comment_id": 49841082, "body": "Thanks . The first character is also upper . Apologies for editing it later ."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 123, "user_id": 3261251, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-NRFkUhTh0WM/AAAAAAAAAAI/AAAAAAAACFs/qIzhQj__6qI/photo.jpg?sz=128", "display_name": "Pulkit Bhardwaj", "link": "https://stackoverflow.com/users/3261251/pulkit-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1434570704, "post_id": 30901040, "comment_id": 49841109, "body": "You the one asked for middle character."}, {"owner": {"reputation": 123, "user_id": 3261251, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-NRFkUhTh0WM/AAAAAAAAAAI/AAAAAAAACFs/qIzhQj__6qI/photo.jpg?sz=128", "display_name": "Pulkit Bhardwaj", "link": "https://stackoverflow.com/users/3261251/pulkit-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1434571977, "post_id": 30901040, "comment_id": 49841941, "body": "Thanks . It works. I was wondering how to deal with more than 2 words. E.g.AwardEffectiveDate to award_effective_date  .Current code gives return _compile error ."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": true, "score": 2, "last_activity_date": 1434571285, "last_edit_date": 1434571285, "creation_date": 1434570485, "answer_id": 30901040, "question_id": 30900995, "link": "https://stackoverflow.com/questions/30900995/how-to-detect-case-change-in-python-text-and-insert-underscore-on-change-locatio/30901040#30901040", "title": "how to detect case change in python text and insert underscore on change location?", "body": "<p>Here you go,,</p>\n\n<pre><code>&gt;&gt;&gt; s = \"abcdEfgh\"\n&gt;&gt;&gt; re.sub(r'\\B[A-Z]\\B', lambda x: '_' + x.group().lower(), s)\n'abcd_efgh'\n&gt;&gt;&gt; re.sub(r'\\B[A-Z]\\B', lambda x: '_' + x.group().lower(), 'AbcdEfgH')\n'Abcd_efgH'\n</code></pre>\n\n<p><code>\\B</code> matches between two word chars or two non-word chars, since your input contains only word chars, the above regex <code>\\B[A-Z]\\B</code> must match the uppercase letter which exists at the middle. This won't touch the uppercase letter which exists at the start or at the end.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<pre><code>&gt;&gt;&gt; re.sub(r'\\B[A-Z]', lambda x: '_' + x.group().lower() , re.sub(r'^[A-Z]', lambda m: m.group().lower(), 'AbcdEfgh'))\n'abcd_efgh'\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 3261251, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-NRFkUhTh0WM/AAAAAAAAAAI/AAAAAAAACFs/qIzhQj__6qI/photo.jpg?sz=128", "display_name": "Pulkit Bhardwaj", "link": "https://stackoverflow.com/users/3261251/pulkit-bhardwaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 30901040, "answer_count": 1, "score": 0, "last_activity_date": 1434571330, "creation_date": 1434570320, "last_edit_date": 1434571330, "question_id": 30900995, "link": "https://stackoverflow.com/questions/30900995/how-to-detect-case-change-in-python-text-and-insert-underscore-on-change-locatio", "title": "how to detect case change in python text and insert underscore on change location?", "body": "<p>For keywords such as AbcdEfgh I want to insert _ when case change happens in middle of word . So : <code>AbcdEfgh</code> gets converted to <code>abcd_efgh</code> \nAny ideas?</p>\n"}, {"tags": ["python", "flask"], "answers": [{"comments": [{"owner": {"reputation": 16010, "user_id": 1568658, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FPSGe.jpg?s=128&g=1", "display_name": "user218867", "link": "https://stackoverflow.com/users/1568658/user218867"}, "edited": false, "score": 0, "creation_date": 1434569807, "post_id": 30900792, "comment_id": 49840528, "body": "Thank u, Now it worked !"}], "tags": [], "owner": {"reputation": 1027, "user_id": 2845273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/828f0c30c35968e0b100660d0b4afdd9?s=128&d=identicon&r=PG&f=1", "display_name": "vicg", "link": "https://stackoverflow.com/users/2845273/vicg"}, "is_accepted": true, "score": 3, "last_activity_date": 1434569650, "creation_date": 1434569650, "answer_id": 30900792, "question_id": 30900761, "link": "https://stackoverflow.com/questions/30900761/flask-server-cant-start/30900792#30900792", "title": "flask - Server can&#39;t start", "body": "<p>You have to unindent </p>\n\n<pre><code>if __name__ == '__main__':\n</code></pre>\n"}], "owner": {"reputation": 16010, "user_id": 1568658, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FPSGe.jpg?s=128&g=1", "display_name": "user218867", "link": "https://stackoverflow.com/users/1568658/user218867"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4241, "favorite_count": 0, "closed_date": 1435053895, "accepted_answer_id": 30900792, "answer_count": 1, "score": 1, "last_activity_date": 1434569650, "creation_date": 1434569558, "question_id": 30900761, "link": "https://stackoverflow.com/questions/30900761/flask-server-cant-start", "closed_reason": "Not suitable for this site", "title": "flask - Server can&#39;t start", "body": "<p>I am using linux mint mate 17 (base on ubuntu 14.04), I installed flask by\"</p>\n\n<pre><code>sudo apt-get install python-pip\nsudo pip install Flask\n</code></pre>\n\n<p>I have python2.7.3 as my default python.</p>\n\n<p>Then write the hello world program hello.py:</p>\n\n<pre><code>from flask import Flask\napp = Flask(__name__)\n\n@app.route('/')\ndef hello_world():\n    return 'Hello World!'\n\n    if __name__ == '__main__':\n    app.run()\n</code></pre>\n\n<p>And try to start the server by <code>python hello.py</code>, but it seems didn't start, and there is no any tip, and I can't access localhost:5000, any help?</p>\n"}, {"tags": ["python", "machine-learning", "scipy", "scikit-learn", "dimensionality-reduction"], "answers": [{"comments": [{"owner": {"reputation": 1923, "user_id": 3033441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5128fcd3a14587660ea0cb737aa54143?s=128&d=identicon&r=PG&f=1", "display_name": "lakshayg", "link": "https://stackoverflow.com/users/3033441/lakshayg"}, "edited": false, "score": 0, "creation_date": 1434569939, "post_id": 30900850, "comment_id": 49840627, "body": "I maybe wrong, but I think FFT is used for periodic data."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 1923, "user_id": 3033441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5128fcd3a14587660ea0cb737aa54143?s=128&d=identicon&r=PG&f=1", "display_name": "lakshayg", "link": "https://stackoverflow.com/users/3033441/lakshayg"}, "edited": false, "score": 0, "creation_date": 1434570104, "post_id": 30900850, "comment_id": 49840714, "body": "It is fine to use FFT on non-periodic data. The DFT (discrete Fourier transform) works just fine on non-periodic data. However, it is implicit in the DFT that the signal is extended periodically. Look at the equation for the inverse DFT, the signal is N-periodic just as the DFT is N-periodic."}, {"owner": {"reputation": 1923, "user_id": 3033441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5128fcd3a14587660ea0cb737aa54143?s=128&d=identicon&r=PG&f=1", "display_name": "lakshayg", "link": "https://stackoverflow.com/users/3033441/lakshayg"}, "edited": false, "score": 0, "creation_date": 1434570232, "post_id": 30900850, "comment_id": 49840790, "body": "Oh yes, I&#39;ll try using a DFT. Thanks"}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 0, "last_activity_date": 1434569836, "creation_date": 1434569836, "answer_id": 30900850, "question_id": 30900753, "link": "https://stackoverflow.com/questions/30900753/reduce-data-dimensionality-using-curve-fitting/30900850#30900850", "title": "Reduce data dimensionality using curve fitting", "body": "<p>Another way to compress your signal into a feature vector could be to do FFT analysis and use the first <code>n</code> FFT coefficients as your features.</p>\n\n<p>Or you can do a windowed FFT, so that you obtain a sequence of coefficients.</p>\n"}, {"comments": [{"owner": {"reputation": 1923, "user_id": 3033441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5128fcd3a14587660ea0cb737aa54143?s=128&d=identicon&r=PG&f=1", "display_name": "lakshayg", "link": "https://stackoverflow.com/users/3033441/lakshayg"}, "edited": false, "score": 0, "creation_date": 1434570165, "post_id": 30900907, "comment_id": 49840747, "body": "The problem is not the varying number of samples, but how to get a proper feature vector which can represent the data."}, {"owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "reply_to_user": {"reputation": 1923, "user_id": 3033441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5128fcd3a14587660ea0cb737aa54143?s=128&d=identicon&r=PG&f=1", "display_name": "lakshayg", "link": "https://stackoverflow.com/users/3033441/lakshayg"}, "edited": false, "score": 0, "creation_date": 1434570663, "post_id": 30900907, "comment_id": 49841086, "body": "That depends on where the relevant information is represented in the data(number of extrema, amplitude, phase shift, etc.). But, your signal being simple, it might be just fine to use the raw signal as an input to a classifier. In that case, just re-sampling to fixed vector length might be enough."}, {"owner": {"reputation": 1923, "user_id": 3033441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5128fcd3a14587660ea0cb737aa54143?s=128&d=identicon&r=PG&f=1", "display_name": "lakshayg", "link": "https://stackoverflow.com/users/3033441/lakshayg"}, "edited": false, "score": 0, "creation_date": 1434571119, "post_id": 30900907, "comment_id": 49841400, "body": "re-sampling to fixed vector length will cause the signal to lose data pertaining to the width of the peaks which is not acceptable as the classes also depend on the amplitude and width of the peaks."}], "tags": [], "owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "is_accepted": false, "score": 0, "last_activity_date": 1434570166, "last_edit_date": 1434570166, "creation_date": 1434570046, "answer_id": 30900907, "question_id": 30900753, "link": "https://stackoverflow.com/questions/30900753/reduce-data-dimensionality-using-curve-fitting/30900907#30900907", "title": "Reduce data dimensionality using curve fitting", "body": "<p>If your problem is mostly due to the varying number of samples, interpolation and than re-sampling could indeed be the way to go. However, I would use a less constrained interpolation technique. If you have a large number of points, even linear interpolation would work. Alternatively, you could use Gaussian Process regression which is nicely implemented in scikit learn. You don't need to appply a Gaussian filter first then, since you are using regression. </p>\n\n<p>Check this link out for an example of how to apply GPs for regression: <a href=\"http://scikit-learn.org/stable/modules/gaussian_process.html\" rel=\"nofollow\">http://scikit-learn.org/stable/modules/gaussian_process.html</a></p>\n"}], "owner": {"reputation": 1923, "user_id": 3033441, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5128fcd3a14587660ea0cb737aa54143?s=128&d=identicon&r=PG&f=1", "display_name": "lakshayg", "link": "https://stackoverflow.com/users/3033441/lakshayg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1434580243, "creation_date": 1434569502, "last_edit_date": 1434580243, "question_id": 30900753, "link": "https://stackoverflow.com/questions/30900753/reduce-data-dimensionality-using-curve-fitting", "title": "Reduce data dimensionality using curve fitting", "body": "<p>I am a newbie to machine learning and haven't used scikit-learn before. I am working on a project. As a part of the project I need to train a machine learning algorithm to classify some observations into separate classes. I have processed the observations from the sensor to yield some data. But the problem with the processed data is that it is a vector of different lengths for different observations.</p>\n\n<p><img src=\"https://i.stack.imgur.com/m31a3.png\" alt=\"enter image description here\"></p>\n\n<p>This image shows some of the data. The green line is the raw data after the application of a Gaussian filter, and the red line shows a 16 degree polynomial fit to the data. The 1st row consists of data with 3 peaks, 2nd row contains data with 4 peaks and 3rd row contains data with 5 peaks. I want to be able to be able to classify the data into separate classes.</p>\n\n<p>I currently plan to use the coefficients of the polynomial as my feature vector. The first row is just fine but in cases with larger number of peaks the polynomial yields a poor fit and may not lead to proper classification. I have tried using higher degree polynomials but it causes the cases with lesser number of peaks to misbehave. Just counting the number of peaks cannot be used for classification because this is just a subset of the several classes, the classification will also depend on the relative sizes and separations of the observed peaks, but this information is not very clear in the polynomial fits for larger number of peaks.</p>\n\n<p>I want to know if there is</p>\n\n<ul>\n<li>Some other method instead of trying to fit a polynomial which can help me to generate a feature vector to classify the data.</li>\n<li>A way to visualize data of high dimensionality in python</li>\n</ul>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I am now fitting spline instead of a polynomial to the data using <code>scipy.interpolate.UnivariateSpline</code> and it is generating a much better fit. I can now use the locations of knots and the coefficients of the spline. But the length of these vectors is not constant and differs even for two repetitions of same observation. Can someone suggest a way to map it to a constant length vector.</p>\n\n<p><img src=\"https://i.stack.imgur.com/mzo4y.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "button", "tkinter", "widget"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 1, "creation_date": 1434569015, "post_id": 30900580, "comment_id": 49840043, "body": "Please make sure the indentation here is the same as it is in your script."}, {"owner": {"reputation": 1, "user_id": 5021213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/224d58bf71aeba4f1753e9ede380d92d?s=128&d=identicon&r=PG&f=1", "display_name": "pythoncoder500", "link": "https://stackoverflow.com/users/5021213/pythoncoder500"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1434569402, "post_id": 30900580, "comment_id": 49840304, "body": "The indentation is the same here as it is in the original script, but I am only getting the GUI window popping up, but no widgets"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1434585992, "post_id": 30900580, "comment_id": 49847409, "body": "If the code in the question is exactly what is in your script, it won&#39;t run at all due to the indentation errors."}], "answers": [{"tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": false, "score": 2, "last_activity_date": 1434569373, "creation_date": 1434569373, "answer_id": 30900711, "question_id": 30900580, "link": "https://stackoverflow.com/questions/30900580/the-widgets-are-not-showing-when-i-click-run-module-for-my-code/30900711#30900711", "title": "The widgets are not showing when I click run module for my code", "body": "<p>You forgot to call <code>create_widgets</code>. And your <code>def</code>s need to be indented inside the class.</p>\n\n<pre><code>from Tkinter import *\n\nclass Application(Frame):\n    \"\"\"Login\"\"\"\n\n    def __init__(self, master):\n        self.master = master\n\n    def create_widgets(self):\n        btn1 = Button(self.master, text = \"Login\")\n        btn1.pack()\n\n        btn2 = Button(self.master, text = \"Sign Up\")\n        btn2.pack()\n\n        btn3=Button(self.master, text = \"Exit\")\n        btn3.pack()\n\nroot = Tk()\nroot.title(\"Parent Pool\")\nroot.geometry(\"500x500\")\napp = Application(root)\napp.create_widgets()\nroot.mainloop()\n</code></pre>\n\n<p>By the way, your <code>_init_</code> function won't get called when you create an Application instance. You need to name it <code>__init__</code> if you want that behavior. (Your Buttons can still reference <code>self.master</code> even though <code>_init_</code> never runs, because <code>Frame.__init__</code> gets called as a fallback during instantiation, and creates the master attribute by coincidence)</p>\n"}], "owner": {"reputation": 1, "user_id": 5021213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/224d58bf71aeba4f1753e9ede380d92d?s=128&d=identicon&r=PG&f=1", "display_name": "pythoncoder500", "link": "https://stackoverflow.com/users/5021213/pythoncoder500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434569797, "creation_date": 1434568940, "last_edit_date": 1434569797, "question_id": 30900580, "link": "https://stackoverflow.com/questions/30900580/the-widgets-are-not-showing-when-i-click-run-module-for-my-code", "title": "The widgets are not showing when I click run module for my code", "body": "<p>I have attached my code so that you can all see if you can identify the problem. Everything is working, and the window is popping up, but the button widgets are not showing:</p>\n\n<pre><code>from Tkinter import *\n\nclass Application(Frame):\n  \"\"\"Login\"\"\"\n\ndef _init_(self, master):\n          self.master = master\n\ndef create_widgets(self):\n    btn1 = Button(self.master, text = \"Login\")\n    btn1.pack()\n\n    btn2 = Button(self.master, text = \"Sign Up\")\n    btn2.pack()\n\n    btn3=Button(self.master, text = \"Exit\")\n    btn3.pack()\n\n\nroot = Tk()\nroot.title(\"Parent Pool\")\nroot.geometry(\"500x500\")\napp = Application(root)\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1434569137, "post_id": 30900531, "comment_id": 49840134, "body": "If Python says it isn&#39;t defined, it isn&#39;t defined. Please provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 2, "creation_date": 1434569196, "post_id": 30900531, "comment_id": 49840177, "body": "&quot;however I don&#39;t need to define it because the commands I have set up work perfectly fine&quot;. I don&#39;t understand. You said you&#39;re getting an error, so it must not be working perfectly fine."}, {"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1434569731, "post_id": 30900531, "comment_id": 49840485, "body": "where is &#39;con&#39; in your code...someone&#39;s seeing it?"}, {"owner": {"reputation": 301, "user_id": 4024353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3336ee01af059323ac1951bc9a1515a9?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmicluck", "link": "https://stackoverflow.com/users/4024353/cosmicluck"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434569862, "post_id": 30900531, "comment_id": 49840573, "body": "@TigerhawkT3 Here is the code ( I stripped away the information that was un-needed or should not be shown to anyone, and I know the socket will die repeatedly, thats because I removed the bots authorization code for safety) <a href=\"http://pastebin.com/QDJDnE5m\" rel=\"nofollow noreferrer\">pastebin.com/QDJDnE5m</a>"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1434570114, "post_id": 30900531, "comment_id": 49840725, "body": "Include it in the post. If you feel that it&#39;s too big to include, it&#39;s probably not Minimal."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1434570237, "post_id": 30900531, "comment_id": 49840794, "body": "<code>mainloop</code> loops forever for as long as the window remains open, so none of the variables created after that will exist until the user closes the window. <code>con</code> happens to be one of those variables. So you can&#39;t reference it in any of the button commands."}, {"owner": {"reputation": 301, "user_id": 4024353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3336ee01af059323ac1951bc9a1515a9?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmicluck", "link": "https://stackoverflow.com/users/4024353/cosmicluck"}, "edited": false, "score": 0, "creation_date": 1434570238, "post_id": 30900531, "comment_id": 49840796, "body": "The code in the pastebin is everything required for the bot itself to work, with the Tkinter button code"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1434571031, "post_id": 30900531, "comment_id": 49841322, "body": "I realize that the external link contains the needed code. What I&#39;m strongly suggesting is that you actually include that code in the body of the question."}], "answers": [{"tags": [], "owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "is_accepted": false, "score": 0, "last_activity_date": 1434570293, "creation_date": 1434570293, "answer_id": 30900990, "question_id": 30900531, "link": "https://stackoverflow.com/questions/30900531/python-tkinter-button-issues-twitch-bot/30900990#30900990", "title": "Python Tkinter Button Issues (Twitch bot)", "body": "<p>The <code>con</code> referenced in your commands function is local and is not the same <code>con</code> defined in line 110:</p>\n\n<p><code>con = socket.socket()</code></p>\n\n<p>add parameter to your commands function, this way:</p>\n\n<pre><code>def send_pong(msg, conn):\n    conn.send(bytes('PONG %s\\r\\n' % msg, 'UTF-8'))\n</code></pre>\n\n<p>And when calling these functions, pass it as parameters:</p>\n\n<p><code>send_pong(line[1],con)</code></p>\n"}, {"comments": [{"owner": {"reputation": 301, "user_id": 4024353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3336ee01af059323ac1951bc9a1515a9?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmicluck", "link": "https://stackoverflow.com/users/4024353/cosmicluck"}, "edited": false, "score": 1, "creation_date": 1434570711, "post_id": 30901009, "comment_id": 49841117, "body": "This did work, it sends the message to the channel now perfectly fine."}], "tags": [], "owner": {"reputation": 402, "user_id": 4212472, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y3xEL.png?s=128&g=1", "display_name": "x otikoruk x", "link": "https://stackoverflow.com/users/4212472/x-otikoruk-x"}, "is_accepted": true, "score": 1, "last_activity_date": 1434570376, "creation_date": 1434570376, "answer_id": 30901009, "question_id": 30900531, "link": "https://stackoverflow.com/questions/30900531/python-tkinter-button-issues-twitch-bot/30901009#30901009", "title": "Python Tkinter Button Issues (Twitch bot)", "body": "<p>From your code, it appears you are attempting to call <code>mainloop()</code> before connecting to the socket. If the name implies that it is, in fact, the 'main loop', you need to call the <code>mainloop()</code> AFTER calling;</p>\n\n<pre><code>con = socket.socket()\ncon.connect((HOST, PORT))\n\nsend_pass(PASS)\nsend_nick(NICK)\njoin_channel(CHAN)\n</code></pre>\n\n<p>--Hence, changing</p>\n\n<pre><code>mainloop()\n\ncon = socket.socket()\ncon.connect((HOST, PORT))\n\nsend_pass(PASS)\nsend_nick(NICK)\njoin_channel(CHAN)\n\ndata = \"\"\n</code></pre>\n\n<p>to;</p>\n\n<pre><code>con = socket.socket()\ncon.connect((HOST, PORT))\n\nsend_pass(PASS)\nsend_nick(NICK)\njoin_channel(CHAN)\n\ndata = \"\"\n\nmainloop()\n</code></pre>\n\n<p>You will more than likely have to do a bit of other debugging, but, this <em>should</em> fix your 'con is not defined' issue.</p>\n"}], "owner": {"reputation": 301, "user_id": 4024353, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3336ee01af059323ac1951bc9a1515a9?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmicluck", "link": "https://stackoverflow.com/users/4024353/cosmicluck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 30901009, "answer_count": 2, "score": -2, "last_activity_date": 1434570376, "creation_date": 1434568816, "question_id": 30900531, "link": "https://stackoverflow.com/questions/30900531/python-tkinter-button-issues-twitch-bot", "title": "Python Tkinter Button Issues (Twitch bot)", "body": "<p>I am trying to make a test Tkinter button for my twitch chat bot. What this button would do when clicked is send a simple message to the channel it's connected to. However, I am encountering some issues when trying to figure out how to do this. I have the basic button created, however I get this console error when clicking it:</p>\n\n<pre><code>Exception in Tkinter callback\nTraceback (most recent call last):\n  File \"C:\\Python34\\lib\\tkinter\\__init__.py\", line 1533, in __call__\n    return self.func(*args)\n  File \"C:\\Users\\Cosmicluck\\Desktop\\bot.py\", line 122, in commandTest\n    send_message(CHAN, \"Click!\")\n  File \"C:\\Users\\Cosmicluck\\Desktop\\bot.py\", line 30, in send_message\n    con.send(bytes('PRIVMSG %s :%s\\r\\n' % (chan, msg), 'UTF-8'))\nNameError: name 'con' is not defined\n</code></pre>\n\n<p>Now it's saying \"con\" is not defined, however I don't need to define it because the commands I have set up work perfectly fine. Here is the code the NameError is referencing:</p>\n\n<pre><code>def send_pong(msg):\n    con.send(bytes('PONG %s\\r\\n' % msg, 'UTF-8'))\n\ndef send_message(chan, msg):\n    con.send(bytes('PRIVMSG %s :%s\\r\\n' % (chan, msg), 'UTF-8'))\n\ndef send_nick(nick):\n    con.send(bytes('NICK %s\\r\\n' % nick, 'UTF-8'))\n\ndef send_pass(password):\n    con.send(bytes('PASS %s\\r\\n' % password, 'UTF-8'))\n\ndef join_channel(chan):\n    con.send(bytes('JOIN %s\\r\\n' % chan, 'UTF-8'))\n\ndef part_channel(chan):\n    con.send(bytes('PART %s\\r\\n' % chan, 'UTF-8'))\n</code></pre>\n\n<p>And finally here is my Tkinter button code:</p>\n\n<pre><code>master = Tk()\n\ndef commandTest():\n    send_message(CHAN, \"Click!\")\n\nb = Button(master, text=\"OK\", command=commandTest)\nb.pack()\n\nmainloop()\n</code></pre>\n\n<p>I'm hoping someone can explain how this could be fixed, and if it's even possible to do. Thanks!</p>\n"}, {"tags": ["python", "django", "count", "django-queryset", "annotate"], "comments": [{"owner": {"reputation": 7151, "user_id": 1761827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SIjha.png?s=128&g=1", "display_name": "zxzak", "link": "https://stackoverflow.com/users/1761827/zxzak"}, "edited": false, "score": 0, "creation_date": 1434570481, "post_id": 30900514, "comment_id": 49840963, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/1265190/django-annotate-multiple-times-causes-wrong-answers\">Django annotate() multiple times causes wrong answers</a>"}, {"owner": {"reputation": 93, "user_id": 5021182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7deb3ced28d3e3ba472cef531262210?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Michel Provencher", "link": "https://stackoverflow.com/users/5021182/jean-michel-provencher"}, "reply_to_user": {"reputation": 7151, "user_id": 1761827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SIjha.png?s=128&g=1", "display_name": "zxzak", "link": "https://stackoverflow.com/users/1761827/zxzak"}, "edited": false, "score": 1, "creation_date": 1434571697, "post_id": 30900514, "comment_id": 49841772, "body": "The only solution was to add distinct=True which is not a good pratice and doesn&#39;t work in my case."}, {"owner": {"reputation": 501, "user_id": 1009342, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/058b843c0df6c538a6e91882498518e4?s=128&d=identicon&r=PG", "display_name": "ZAN", "link": "https://stackoverflow.com/users/1009342/zan"}, "edited": false, "score": 0, "creation_date": 1435248495, "post_id": 30900514, "comment_id": 50132181, "body": "Can you show GuideLike and NewsLike models?"}, {"owner": {"reputation": 501, "user_id": 1009342, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/058b843c0df6c538a6e91882498518e4?s=128&d=identicon&r=PG", "display_name": "ZAN", "link": "https://stackoverflow.com/users/1009342/zan"}, "edited": false, "score": 0, "creation_date": 1435248554, "post_id": 30900514, "comment_id": 50132225, "body": "Also, please show results for separate guide_like and news_like annotations calls"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 5021182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7deb3ced28d3e3ba472cef531262210?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Michel Provencher", "link": "https://stackoverflow.com/users/5021182/jean-michel-provencher"}, "edited": false, "score": 0, "creation_date": 1436802412, "post_id": 31243385, "comment_id": 50752302, "body": "Thanks a lot! Finally decided to simply split my multiple queries into single ones because they were taking way too long to respond."}], "tags": [], "owner": {"reputation": 398, "user_id": 4077967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/519b65d1cada4174c58fc406195ed6aa?s=128&d=identicon&r=PG", "display_name": "kammala", "link": "https://stackoverflow.com/users/4077967/kammala"}, "is_accepted": true, "score": 10, "last_activity_date": 1436178189, "creation_date": 1436178189, "answer_id": 31243385, "question_id": 30900514, "link": "https://stackoverflow.com/questions/30900514/django-how-to-make-multiple-annotate-in-a-single-queryset/31243385#31243385", "title": "Django, How to make multiple annotate in a single queryset", "body": "<p>This is how django annotate produce sql code: it's do all necessary joins and then group by over all User fields, aggregating with annotation function(count in your case). So, it joins users with all their guide likes and then with all news likes and then simply counts number of rows produced per user.</p>\n\n<p>If you can, you should use <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/querysets/#raw\" rel=\"noreferrer\">raw querysets</a>, or <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/querysets/#extra\" rel=\"noreferrer\"><code>extra</code></a> Queryset method. E.g:</p>\n\n<pre><code>User.objects.all().extra(select={\n    'guide_likes': 'select count(*) from tbl_guide_likes where user_id=tbl_users.id',\n    'news_like': 'select count(*) from tbl_news_likes where user_id=tbl_users.id'\n}).\\\nvalues_list('first_name', 'last_name', 'guide_like','news_like')\n</code></pre>\n\n<p>For more flexibility you can use <code>select_params</code> parameter of <code>extra</code> method for providing names of tables(which you can get through <code>Model._meta</code>). By the way this is very unconvenient and hackish method.\nSooner or later your logic become more complicated and then you should remove it from python code to sql(stored functions/procedures) and raw queries.</p>\n"}], "owner": {"reputation": 93, "user_id": 5021182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7deb3ced28d3e3ba472cef531262210?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Michel Provencher", "link": "https://stackoverflow.com/users/5021182/jean-michel-provencher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7400, "favorite_count": 3, "accepted_answer_id": 31243385, "answer_count": 1, "score": 8, "last_activity_date": 1436178189, "creation_date": 1434568764, "last_edit_date": 1434631360, "question_id": 30900514, "link": "https://stackoverflow.com/questions/30900514/django-how-to-make-multiple-annotate-in-a-single-queryset", "title": "Django, How to make multiple annotate in a single queryset", "body": "<p>I am currently trying to annotate two different number of likes to a User model in Django. </p>\n\n<p>Here's the code I'm using to return the desired querySet</p>\n\n<pre><code>def get_top_user(self):\n    return User.objects. \\\n        annotate(guide_like=Count('guidelike')).\\\n        annotate(news_like=Count('newslike')).\\\n        values_list('first_name', 'last_name', 'guide_like','news_like').\\\n        order_by('-guide_like')\n</code></pre>\n\n<p>However, the querySet returns [\"Bob\", \"Miller\", 612072, 612072]. As you can see, Django takes the two annotate values and multiply them together and that's why I'm getting 612072.</p>\n\n<p>Is there a way to call multiple annotate in a single querySet without getting these multiplied values.</p>\n\n<p>EDIT: Also tried to add distinct() at the end of the query or distinct=True in each count but the call simply gets into an infinite loop.</p>\n"}, {"tags": ["python", "theano", "deep-learning"], "comments": [{"owner": {"reputation": 4226, "user_id": 2929337, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e0fad97c24fbeec7e953f5d19ddc47a7?s=128&d=identicon&r=PG&f=1", "display_name": "cfh", "link": "https://stackoverflow.com/users/2929337/cfh"}, "edited": false, "score": 0, "creation_date": 1434575580, "post_id": 30900477, "comment_id": 49843889, "body": "You didn&#39;t show how <code>self.input</code> and <code>self.b</code> are defined. Are they shared variables? Also it might help debugging to give your Theano variables names."}, {"owner": {"reputation": 415, "user_id": 1357690, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/201628da7fc16b2ce6ca0b779d818139?s=128&d=identicon&r=PG", "display_name": "gaspercat", "link": "https://stackoverflow.com/users/1357690/gaspercat"}, "reply_to_user": {"reputation": 4226, "user_id": 2929337, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e0fad97c24fbeec7e953f5d19ddc47a7?s=128&d=identicon&r=PG&f=1", "display_name": "cfh", "link": "https://stackoverflow.com/users/2929337/cfh"}, "edited": false, "score": 0, "creation_date": 1434576384, "post_id": 30900477, "comment_id": 49844262, "body": "Thanks cfh, I&#39;ve edited the post. Both variables are indeed shared. Naming them though would be a bit confusing, since each layer in the network generates their own version of these variables."}], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 1985353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee101e680f0f36bb6082086bbd65444f?s=128&d=identicon&r=PG", "display_name": "Pascal Lamblin", "link": "https://stackoverflow.com/users/1985353/pascal-lamblin"}, "is_accepted": true, "score": 2, "last_activity_date": 1435699595, "creation_date": 1435699595, "answer_id": 31148806, "question_id": 30900477, "link": "https://stackoverflow.com/questions/30900477/scan-function-from-theano-replicates-non-sequences-shared-variables/31148806#31148806", "title": "Scan function from Theano replicates non_sequences shared variables", "body": "<p>It is possible that, when the scan is first created or at some point during the optimization process, a symbolic <code>Alloc</code> with that shape is created.\nHowever, it should be optimized at a later stage of the optimization process.</p>\n\n<p>We are aware that there was a but related to that recently, which should now be fixed in the development (\"bleeding-edge\") version of Theano. In fact, I just tried your snippet (slightly edited) with a recent development version, and had no memory error. Moreover, there was no 5D tensor anywhere in the computation graph, which would suggest the bug has indeed been fixed.</p>\n\n<p>Finally, please be aware that operations such as convolutions, which are not really recurrent, will probably be much slower when expressed with <code>scan</code> rather than with one of the existing convolution operations. In particular, <code>scan</code> will not be able to parallelize efficiently when the iterations of the loop do not depend on each other.</p>\n"}], "owner": {"reputation": 415, "user_id": 1357690, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/201628da7fc16b2ce6ca0b779d818139?s=128&d=identicon&r=PG", "display_name": "gaspercat", "link": "https://stackoverflow.com/users/1357690/gaspercat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 31148806, "answer_count": 1, "score": 2, "last_activity_date": 1435699595, "creation_date": 1434568655, "last_edit_date": 1434576285, "question_id": 30900477, "link": "https://stackoverflow.com/questions/30900477/scan-function-from-theano-replicates-non-sequences-shared-variables", "title": "Scan function from Theano replicates non_sequences shared variables", "body": "<p>I'm trying to implement a custom convolutional layer for a CNN network in Theano, and in order to do so I'm using the scan function. The idea is to apply the new convolution mask to each pixel.</p>\n\n<p>The <code>scan</code> function compiles correctly, but for some reason I get an out-of-memory error. The debug (see below) indicates that the <code>non_sequences</code> variables are replicated for each instance of the loop (for each pixel), which of course kills my GPU memory:</p>\n\n<pre><code>def convolve_location(index, input, bias):\n    hsize = self.W.shape / 2\n    t = T.switch(index[0]-hsize[0] &lt; 0, 0, index[0]-hsize[0])\n    l = T.switch(index[1]-hsize[1] &lt; 0, 0, index[1]-hsize[1])\n    b = T.switch(index[0]+hsize[0] &gt;= input.shape[2], input.shape[2]-1, index[0]+hsize[0])\n    r = T.switch(index[1]+hsize[1] &gt;= input.shape[3], input.shape[3]-1, index[1]+hsize[1])\n\n    r_image = (input[:, :, t:b, l:r] - input[:, :, index[0], index[1]][:, :, None, None]) ** 2\n    r_delta = (bias[:, :, t:b, l:r] - bias[:, :, index[0], index[1]][:, :, None, None]) ** 2\n    return T.sum(r_image*r_delta)\n\n# # Define cost function over all pixels\nself.inds = theano.shared(np.array([(i, j) for i in range(self.image_shape[2]) for j in range(self.image_shape[3])], dtype='int32'), borrow=True)\nself.cost = T.sum(theano.scan(\n    fn=convolve_location,\n    outputs_info=None,\n    sequences=[self.inds],\n    non_sequences=[self.input, self.b],\n    n_steps=np.prod(self.image_shape[-2:])\n)[0])\n</code></pre>\n\n<p>Here's the output from the debugger:</p>\n\n<pre><code>MemoryError: alloc failed Apply node that caused the error: Alloc(TensorConstant{0.0}, TensorConstant{1025}, TensorConstant{2000}, TensorConstant{3}, TensorConstant{32}, TensorConstant{32}) Inputs types: [TensorType(float32, scalar), TensorType(int64, scalar), TensorType(int64, scalar), TensorType(int64, scalar), TensorType(int64, scalar), TensorType(int64, scalar)] Inputs shapes: [(), (), (), (), (), ()] Inputs strides: [(), (), (), (), (), ()] Inputs values: [array(0.0, dtype=float32), array(1025), array(2000), array(3), array(32), array(32)]\n\nDebugprint of the apply node:  Alloc [@A] &lt;TensorType(float32, 5D)&gt; '' |TensorConstant{0.0} [@B] &lt;TensorType(float32, scalar)&gt;  |TensorConstant{1025} [@C] &lt;TensorType(int64, scalar)&gt;  |TensorConstant{2000} [@D] &lt;TensorType(int64, scalar)&gt;  |TensorConstant{3} [@E] &lt;TensorType(int64, scalar)&gt;  |TensorConstant{32} [@F] &lt;TensorType(int64, scalar)&gt;  |TensorConstant{32} [@F] &lt;TensorType(int64, scalar)&gt; Storage map footprint:\n - CudaNdarrayConstant{[[[[ 0.]]]]}, Shape: (1, 1, 1, 1), ElemSize: 4 Byte(s), TotalSize: 4 Byte(s)\n - Constant{18}, Shape: (1,), ElemSize: 8 Byte(s), TotalSize: 8.0 Byte(s)\n\n - TensorConstant{(1, 1) of 0}, Shape: (1, 1), ElemSize: 1 Byte(s), TotalSize: 1 Byte(s)\n - Constant{1024}, Shape: (1,), ElemSize: 8 Byte(s), TotalSize: 8.0 Byte(s)\n - Constant{-1}, Shape: (1,), ElemSize: 8 Byte(s), TotalSize: 8.0 Byte(s)\n - TensorConstant{32}, Shape: (1,), ElemSize: 8 Byte(s), TotalSize: 8.0 Byte(s)\n - Subtensor{:int64:}.0, Shape: (1024,), ElemSize: 4 Byte(s), TotalSize: 4096 Byte(s)\n - Constant{34}, Shape: (1,), ElemSize: 8 Byte(s), TotalSize: 8.0 Byte(s)\n - Constant{2}, Shape: (1,), ElemSize: 8 Byte(s), TotalSize: 8.0 Byte(s)\n - TensorConstant{[2000    3..  32   32]}, Shape: (4,), ElemSize: 8 Byte(s), TotalSize: 32 Byte(s)\n - Reshape{4}.0, Shape: (2000, 3, 32, 32), ElemSize: 4 Byte(s), TotalSize: 24576000 Byte(s)\n - TensorConstant{(1, 1, 1, 1) of 0}, Shape: (1, 1, 1, 1), ElemSize: 1 Byte(s), TotalSize: 1 Byte(s)\n - CudaNdarrayConstant{[[[[ 0.1]]]]}, Shape: (1, 1, 1, 1), ElemSize: 4 Byte(s), TotalSize: 4 Byte(s)\n - &lt;TensorType(float32, matrix)&gt;, Shape: (50000, 3072), ElemSize: 4 Byte(s), TotalSize: 614400000 Byte(s)\n</code></pre>\n\n<p>The input as you can see is shown as a 1025x2000x3x32x32 tensor, while the original tensor is of size 2000x3x32x32, and the 1025 is the number of iterations of scan + 1.</p>\n\n<p>Why are the <code>non_sequences</code> variables replicated for each iteration instead of simply being reused, and how can I fix it?</p>\n\n<p>EDIT:</p>\n\n<p>Both <code>self.input</code> and <code>self.b</code> are shared variables. Self.input is passed to the class when initialized, while self.b is defined inside the class as follows:</p>\n\n<pre><code>self.b = theano.shared(np.zeros(image_shape, dtype=theano.config.floatX), borrow=True)\n</code></pre>\n"}, {"tags": ["python", "elasticsearch"], "comments": [{"owner": {"reputation": 2569, "user_id": 514040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/98bb1ee1a1f3d1297acf493776066086?s=128&d=identicon&r=PG", "display_name": "neuronaut", "link": "https://stackoverflow.com/users/514040/neuronaut"}, "edited": false, "score": 1, "creation_date": 1434568528, "post_id": 30900337, "comment_id": 49839752, "body": "The only difference between <code>Q(&quot;match&quot;,&quot;attrubute_name&quot;=&quot;attribute_value&quot;)</code> and <code>Q(&quot;match&quot;,attribute_name=&quot;attribute_value&quot;)</code> is the addition of quotes. How would adding quotes make it more powerful or possible to do more things?"}, {"owner": {"reputation": 7892, "user_id": 2544036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0ac5bfd4795966e2378975bd2c34f660?s=128&d=identicon&r=PG", "display_name": "Jacobian", "link": "https://stackoverflow.com/users/2544036/jacobian"}, "reply_to_user": {"reputation": 2569, "user_id": 514040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/98bb1ee1a1f3d1297acf493776066086?s=128&d=identicon&r=PG", "display_name": "neuronaut", "link": "https://stackoverflow.com/users/514040/neuronaut"}, "edited": false, "score": 0, "creation_date": 1434568861, "post_id": 30900337, "comment_id": 49839942, "body": "It&#39;s not about quotes, it&#39;s about the way how the library interprets parameters. If we could build them dynamically (no problem in <code>MongoDb</code> for example), then it would be much more powerful tool. At this moment, I do not know the way how one builds dynamic queries for elastic."}, {"owner": {"reputation": 2569, "user_id": 514040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/98bb1ee1a1f3d1297acf493776066086?s=128&d=identicon&r=PG", "display_name": "neuronaut", "link": "https://stackoverflow.com/users/514040/neuronaut"}, "edited": false, "score": 1, "creation_date": 1434569823, "post_id": 30900337, "comment_id": 49840538, "body": "Have you tried reading the <a href=\"https://www.elastic.co/guide/index.html\" rel=\"nofollow noreferrer\">Elasticsearch documentation</a>? Elasticsearch&#39;s RESTful API is very powerful (much more so than MongoDB) and can easily handle dynamically generated queries. I don&#39;t know what Python library you are using to interface with ES, but if it has limitations that won&#39;t let you do what you want you might consider using the RESTful API directly, or try another Python library."}, {"owner": {"reputation": 7892, "user_id": 2544036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0ac5bfd4795966e2378975bd2c34f660?s=128&d=identicon&r=PG", "display_name": "Jacobian", "link": "https://stackoverflow.com/users/2544036/jacobian"}, "reply_to_user": {"reputation": 2569, "user_id": 514040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/98bb1ee1a1f3d1297acf493776066086?s=128&d=identicon&r=PG", "display_name": "neuronaut", "link": "https://stackoverflow.com/users/514040/neuronaut"}, "edited": false, "score": 0, "creation_date": 1434570246, "post_id": 30900337, "comment_id": 49840800, "body": "Thanks, I will check it. As for library, I&#39;m using elasticsearch_dsl. It greately simplifies the process of writing queries (in comparison to standard es.search etc.), but has its nuances, like the one that I address in my question."}, {"owner": {"reputation": 7892, "user_id": 2544036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0ac5bfd4795966e2378975bd2c34f660?s=128&d=identicon&r=PG", "display_name": "Jacobian", "link": "https://stackoverflow.com/users/2544036/jacobian"}, "reply_to_user": {"reputation": 2569, "user_id": 514040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/98bb1ee1a1f3d1297acf493776066086?s=128&d=identicon&r=PG", "display_name": "neuronaut", "link": "https://stackoverflow.com/users/514040/neuronaut"}, "edited": false, "score": 0, "creation_date": 1434571383, "post_id": 30900337, "comment_id": 49841603, "body": "Well, actually I found a solution =) The solution is to use <code>**</code> operator, like so: <code>Q(&#39;match&#39;,**{key:&quot;value 2&quot;})</code> where <code>key</code> can be a variable"}, {"owner": {"reputation": 603, "user_id": 5676912, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a77398b5acbc7ce453c01f56a936ca1b?s=128&d=identicon&r=PG&f=1", "display_name": "devanathan", "link": "https://stackoverflow.com/users/5676912/devanathan"}, "edited": false, "score": 0, "creation_date": 1475661316, "post_id": 30900337, "comment_id": 67028433, "body": "@Jacobian Is that issue resolved"}, {"owner": {"reputation": 7892, "user_id": 2544036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0ac5bfd4795966e2378975bd2c34f660?s=128&d=identicon&r=PG", "display_name": "Jacobian", "link": "https://stackoverflow.com/users/2544036/jacobian"}, "edited": false, "score": 0, "creation_date": 1475764402, "post_id": 30900337, "comment_id": 67083138, "body": "Yeah) See the comment one line above"}, {"owner": {"reputation": 2211, "user_id": 3778645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41591a4eaf3fbc678242d4413c444321?s=128&d=identicon&r=PG&f=1", "display_name": "Altus", "link": "https://stackoverflow.com/users/3778645/altus"}, "edited": false, "score": 0, "creation_date": 1518073003, "post_id": 30900337, "comment_id": 84355898, "body": "Might be helpful if you update your post or answer this question yourself and mark it accepted. This helped me tremendously."}], "owner": {"reputation": 7892, "user_id": 2544036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0ac5bfd4795966e2378975bd2c34f660?s=128&d=identicon&r=PG", "display_name": "Jacobian", "link": "https://stackoverflow.com/users/2544036/jacobian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1452471396, "creation_date": 1434568206, "question_id": 30900337, "link": "https://stackoverflow.com/questions/30900337/dynamic-queries-in-elasticsearch-and-issue-of-keywords", "title": "Dynamic queries in Elasticsearch and issue of keywords", "body": "<p>I'm currently running into a problem, trying to build dynamic queries for <code>Elasticsearch</code> in <code>Python</code>. To make a query I use <code>Q</code> short\u0441ut from <code>elasticsearch_dsl</code>. This is something I try to implement</p>\n\n<pre><code>...\ns = Search(using=db, index=\"reestr\")\ncondition = {\"attr_1_\":\"value 1\", \"attr_2_\":\"value 2\"} # try to build query from this\nmust = []\nfor key in condition:\n    must.append(Q('match',key=condition[key]))\n</code></pre>\n\n<p>But that in fact results to this condition:</p>\n\n<pre><code>[Q('match',key=\"value 1\"),Q('match',key=\"value 2\")]\n</code></pre>\n\n<p>However, what I want is:</p>\n\n<pre><code>[Q('match',attr_1_=\"value 1\"),Q('match',attr_2_=\"value 2\")]\n</code></pre>\n\n<p>IMHO, the way this library does queries is not effective. I think this syntax:</p>\n\n<pre><code>Q(\"match\",\"attrubute_name\"=\"attribute_value\")\n</code></pre>\n\n<p>is much more powerful and makes it possible to do a lot more things, than this one:</p>\n\n<pre><code>Q(\"match\",attribute_name=\"attribute_value\")\n</code></pre>\n\n<p>It seems, as if it is impossible to dynamically build <code>attribute_name</code>s. Or it is, of course, possible that I do not know the right way to do it.</p>\n"}, {"tags": ["python", "ggplot2", "python-ggplot"], "comments": [{"owner": {"reputation": 1079, "user_id": 5009318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e40f91a15075ec5317bd16de362467a?s=128&d=identicon&r=PG&f=1", "display_name": "tegancp", "link": "https://stackoverflow.com/users/5009318/tegancp"}, "edited": false, "score": 0, "creation_date": 1434575012, "post_id": 30900323, "comment_id": 49843593, "body": "Need more information to give a good answer, e.g. what code did you try for your plot, and what was the result/error.  Also, have you looked at the <a href=\"http://ggplot.yhathq.com/how-it-works.html\" rel=\"nofollow noreferrer\">ggplot docs</a>?"}, {"owner": {"reputation": 1425, "user_id": 924537, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b0afb72850b8c8aac555cd22db86baa2?s=128&d=identicon&r=PG", "display_name": "Logan", "link": "https://stackoverflow.com/users/924537/logan"}, "reply_to_user": {"reputation": 1079, "user_id": 5009318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e40f91a15075ec5317bd16de362467a?s=128&d=identicon&r=PG&f=1", "display_name": "tegancp", "link": "https://stackoverflow.com/users/5009318/tegancp"}, "edited": false, "score": 0, "creation_date": 1434579128, "post_id": 30900323, "comment_id": 49845432, "body": "Yes, I have. The issue (as mentioned below) was that I thought <code>&#39;identity&#39;</code> was the default parameter for <code>stat</code> for <code>geom_bar</code>. However, it doesn&#39;t work without it explicitly stated."}], "answers": [{"comments": [{"owner": {"reputation": 1425, "user_id": 924537, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b0afb72850b8c8aac555cd22db86baa2?s=128&d=identicon&r=PG", "display_name": "Logan", "link": "https://stackoverflow.com/users/924537/logan"}, "edited": false, "score": 0, "creation_date": 1434579053, "post_id": 30902582, "comment_id": 49845406, "body": "So, this was it, obviously. I thought that <code>&#39;identity&#39;</code> was the default parameter for <code>stat</code>, so I had not put it in any of my attempts."}, {"owner": {"reputation": 1626, "user_id": 2543727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkFul.jpg?s=128&g=1", "display_name": "cr1msonB1ade", "link": "https://stackoverflow.com/users/2543727/cr1msonb1ade"}, "reply_to_user": {"reputation": 1425, "user_id": 924537, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b0afb72850b8c8aac555cd22db86baa2?s=128&d=identicon&r=PG", "display_name": "Logan", "link": "https://stackoverflow.com/users/924537/logan"}, "edited": false, "score": 0, "creation_date": 1434579155, "post_id": 30902582, "comment_id": 49845440, "body": "Indeed the documentation for the Python version of ggplot is not mature yet so takes a little testing to get it right."}], "tags": [], "owner": {"reputation": 1626, "user_id": 2543727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkFul.jpg?s=128&g=1", "display_name": "cr1msonB1ade", "link": "https://stackoverflow.com/users/2543727/cr1msonb1ade"}, "is_accepted": true, "score": 1, "last_activity_date": 1434575993, "creation_date": 1434575993, "answer_id": 30902582, "question_id": 30900323, "link": "https://stackoverflow.com/questions/30900323/ggplot-bar-plot-semantics/30902582#30902582", "title": "ggplot Bar Plot semantics", "body": "<p>How about:</p>\n\n<pre><code>ggplot(aes(x='date', y='entries_sum'), data=data) + geom_bar(stat='identity')\n</code></pre>\n"}], "owner": {"reputation": 1425, "user_id": 924537, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b0afb72850b8c8aac555cd22db86baa2?s=128&d=identicon&r=PG", "display_name": "Logan", "link": "https://stackoverflow.com/users/924537/logan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 1, "accepted_answer_id": 30902582, "answer_count": 1, "score": 0, "last_activity_date": 1434575993, "creation_date": 1434568160, "question_id": 30900323, "link": "https://stackoverflow.com/questions/30900323/ggplot-bar-plot-semantics", "title": "ggplot Bar Plot semantics", "body": "<p>I am trying to use ggplot in Python for the first time and the semantics are completely unobvious to me.</p>\n\n<p>I have a pandas dataframe with two columns: <code>date</code> and <code>entries_sum</code>. What I would like to do is plot a bar plot with the <code>date</code> column as each entry on the <code>x-axis</code> and <code>entries_sum</code> as the respective heights.</p>\n\n<p>I cannot figure out how to do this with the <code>ggplot</code> API. Am I formatting my data wrong for this?</p>\n"}, {"tags": ["python", "dialog", "pyqt4"], "comments": [{"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1434568501, "post_id": 30900296, "comment_id": 49839734, "body": "What are your errors? Do you have a traceback to post?"}], "answers": [{"comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1434573623, "post_id": 30900862, "comment_id": 49842837, "body": "The apparent <code>__name__ == &#39;__main__&#39;</code> issue was just caused by wrong formatting of the code."}], "tags": [], "owner": {"reputation": 204, "user_id": 1857805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51647164d42a0b1435994530b9540201?s=128&d=identicon&r=PG", "display_name": "rajesh.kanakabandi", "link": "https://stackoverflow.com/users/1857805/rajesh-kanakabandi"}, "is_accepted": false, "score": 0, "last_activity_date": 1434569876, "creation_date": 1434569876, "answer_id": 30900862, "question_id": 30900296, "link": "https://stackoverflow.com/questions/30900296/show-dialog-window/30900862#30900862", "title": "Show dialog window", "body": "<p>first of all \nyou need to use </p>\n\n<pre><code>if __name__ == '__main__'\n</code></pre>\n\n<p>not</p>\n\n<pre><code>if name == 'main':\n</code></pre>\n\n<p>and also adding the Error Message and describing the behavior of the application when you run it will help trace the problem. \nfrom your question, it can be any number of problems.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 5021155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e1d8233856eba2c3923ecfcf55803d?s=128&d=identicon&r=PG", "display_name": "steph", "link": "https://stackoverflow.com/users/5021155/steph"}, "edited": false, "score": 0, "creation_date": 1434659282, "post_id": 30901926, "comment_id": 49887168, "body": "Thanks to you...  up and running"}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": false, "score": 0, "last_activity_date": 1434573456, "creation_date": 1434573456, "answer_id": 30901926, "question_id": 30900296, "link": "https://stackoverflow.com/questions/30900296/show-dialog-window/30901926#30901926", "title": "Show dialog window", "body": "<p>Your <code>UiViewer</code> class needs to inherit from the same class as the top-level widget in Qt Designer (presumably <code>QDialog</code>, in your case, but it could also be a <code>QMainWindow</code> or a <code>QWidget</code>):</p>\n\n<pre><code>class UiViewer(QtGui.QDialog, Test4.Ui_Dialog):\n    def __init__(self, parent=None):\n        super(UiViewer, self).__init__(parent)\n        self.setupUi(self)\n</code></pre>\n\n<p>And note that you must not put <code>return</code> before the <code>super</code> call, otherwise the <code>__init__</code> function will exit at that point, meaning the rest of its code won't be executed (in particular, <code>setupUi</code> would not be called).</p>\n"}], "owner": {"reputation": 29, "user_id": 5021155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e1d8233856eba2c3923ecfcf55803d?s=128&d=identicon&r=PG", "display_name": "steph", "link": "https://stackoverflow.com/users/5021155/steph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1434573456, "creation_date": 1434568065, "last_edit_date": 1434572977, "question_id": 30900296, "link": "https://stackoverflow.com/questions/30900296/show-dialog-window", "title": "Show dialog window", "body": "<p>Can anyone tell me why this code is not working? The <code>Test4</code> class is my converted simple UI:</p>\n\n<pre><code>import sys\nimport Test4\nfrom PyQt4 import QtGui, QtCore\n\nclass UiViewer(QtGui.QApplication, Test4.Ui_Dialog):\n\n    def __init__(self, parent=None):\n        return super(UiViewer, self).__init__(parent)\n        self.setupUi(self)\n\n    def main(self):\n        self.show()\n\nif __name__ == '__main__':\n\n    app = QtGui.QApplication(sys.argv)\n\n    uiViewer = UiViewer()\n    uiViewer.main()\n    app.exec_()\n</code></pre>\n"}, {"tags": ["python", "list", "python-2.7"], "comments": [{"owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "edited": false, "score": 1, "creation_date": 1434568573, "post_id": 30900263, "comment_id": 49839769, "body": "You&#39;ve asked two questions here; please don&#39;t do that. &quot;How to select words with five characters or less&quot; is a good Stack Overflow question. &quot;Here is my entire program \u2014 how should I improve it?&quot; belongs on <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}, {"owner": {"reputation": 6553, "user_id": 3524982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5NAb1.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3524982/james"}, "edited": false, "score": 0, "creation_date": 1434569546, "post_id": 30900263, "comment_id": 49840384, "body": "You can cut out a good 30 if statements. Replace <code>if lengthrandomword==x...</code> with <code>print &quot;_ &quot; * lengthrandomword</code>"}, {"owner": {"reputation": 6553, "user_id": 3524982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5NAb1.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3524982/james"}, "edited": false, "score": 0, "creation_date": 1434569585, "post_id": 30900263, "comment_id": 49840408, "body": "Also, you could just say <code>lastletter = randomword[-1:]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 4, "last_activity_date": 1434568091, "creation_date": 1434568091, "answer_id": 30900304, "question_id": 30900263, "link": "https://stackoverflow.com/questions/30900263/how-to-print-words-from-a-word-list-that-have-5-letters-or-less-python-2-7/30900304#30900304", "title": "How to print words from a word list that have 5 letters or less Python 2.7?", "body": "<pre><code>WORDS = txt.splitlines()\nWORDS_5_or_less = list(filter(lambda x: len(x) &lt;= 5, WORDS))\n</code></pre>\n\n<p>then just pick from <code>WORDS_5_or_less</code> instead of <code>WORDS</code></p>\n"}, {"tags": [], "owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "is_accepted": false, "score": 1, "last_activity_date": 1434568359, "creation_date": 1434568359, "answer_id": 30900375, "question_id": 30900263, "link": "https://stackoverflow.com/questions/30900263/how-to-print-words-from-a-word-list-that-have-5-letters-or-less-python-2-7/30900375#30900375", "title": "How to print words from a word list that have 5 letters or less Python 2.7?", "body": "<p>Use a list comprehension.</p>\n\n<pre><code>short_words = [word for word in txt.splitlines() if len(word) &lt;= 5]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13168, "user_id": 4725756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff02ffd62899a70a608571ec03d5a7b?s=128&d=identicon&r=PG&f=1", "display_name": "hspandher", "link": "https://stackoverflow.com/users/4725756/hspandher"}, "is_accepted": false, "score": 0, "last_activity_date": 1434568367, "creation_date": 1434568367, "answer_id": 30900376, "question_id": 30900263, "link": "https://stackoverflow.com/questions/30900263/how-to-print-words-from-a-word-list-that-have-5-letters-or-less-python-2-7/30900376#30900376", "title": "How to print words from a word list that have 5 letters or less Python 2.7?", "body": "<p>You need to use some data structures like (say dictionaries) and some loops. This is not how you are supposed to program in any language, the very least in languages like python or ruby.</p>\n"}, {"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 1, "last_activity_date": 1434568740, "last_edit_date": 1434568740, "creation_date": 1434568430, "answer_id": 30900397, "question_id": 30900263, "link": "https://stackoverflow.com/questions/30900263/how-to-print-words-from-a-word-list-that-have-5-letters-or-less-python-2-7/30900397#30900397", "title": "How to print words from a word list that have 5 letters or less Python 2.7?", "body": "<p>Also, you can get rid of that repeated block of <code>if</code>s:</p>\n\n<pre><code>    if randomword.endswith(\"a\"):\n        lastletter=\"a\"\n    elif randomword.endswith(\"b\"):\n        lastletter=\"b\"\n    elif randomword.endswith(\"c\"):\n        lastletter=\"c\"\n    elif randomword.endswith(\"d\"):\n        lastletter=\"d\"\n    elif randomword.endswith(\"e\"):\n        lastletter=\"e\"\n    ...\n    elif randomword.endswith(\"z\"):\n        lastletter=\"z\"\n    else:\n        lastletter=\"I CODED SOMETHING WRONG!\"\n</code></pre>\n\n<p>and just get the last letter:</p>\n\n<pre><code>    lastletter = randomword[-1]\n\n    if not lastletter.isalpha():\n        lastletter=\"I CODED SOMETHING WRONG!\"\n</code></pre>\n\n<p>The same applies for that other repeated block:</p>\n\n<pre><code>    if lengthrandomword==2:\n        print \"_ _\"\n        print \"\\n\"\n    elif  lengthrandomword==3:\n        print \"_ _ _\"\n        print \"\\n\"\n    ...\n    elif  lengthrandomword==15:\n        print \"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _\"\n        print \"\\n\"\n    else:\n        print \"I thought of a word and it's reeeaaaaaly long, you would never guess it, so I'm just gonna tell you that my word was \" + randomword\n</code></pre>\n\n<p>which you can just shorten to:</p>\n\n<pre><code>    if lengthrandomword in range(2,16):\n        print(' '.join('_' * lengthrandomword))\n        print('\\n')\n    else:\n        print(\"I thought of a word and it's reeeaaaaaly long, you would never guess it, so I'm just gonna tell you that my word was \" + randomword)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2512364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60ead5f01b12cd2f0c9fa11383f2d738?s=128&d=identicon&r=PG", "display_name": "user2512364", "link": "https://stackoverflow.com/users/2512364/user2512364"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1682, "favorite_count": 0, "accepted_answer_id": 30900304, "answer_count": 4, "score": -1, "last_activity_date": 1434568740, "creation_date": 1434567924, "question_id": 30900263, "link": "https://stackoverflow.com/questions/30900263/how-to-print-words-from-a-word-list-that-have-5-letters-or-less-python-2-7", "title": "How to print words from a word list that have 5 letters or less Python 2.7?", "body": "<p>I'm sorta new to python, which you can probably see by my crappy coding below. If you were to play this game, you would probably find that it's really hard, so to make it easier, I want to make it so it only gives the user 5 letter words or less from the list. My current code for that is:</p>\n\n<pre><code>word_site = \"http://www.instructables.com/files/orig/FLU/YE8L/H82UHPR8/FLUYE8LH82UHPR8.txt\"\nresponse = urllib2.urlopen(word_site)\ntxt = response.read()\nWORDS = txt.splitlines()\nrandomword=(random.choice(WORDS))\n</code></pre>\n\n<p>Currently the code above gets any random word from that word list, I would like it to only get words that have 5 or less letters in them.</p>\n\n<p>Here is all my code below, if it helps you:</p>\n\n<pre><code>import random\nimport urllib2\nloop=True\nwhile loop==True:\n    name=raw_input(\"Hello there! What might your name be? \")\n    yesorno=raw_input(\"Hello \" + name + \", would you like to play a friendly game of Guess the Word? Answer either 'yes' or 'no': \")\n    if yesorno == \"yes\":\n        loop=False\n        print \"Ok then, here we go!\"\n        print \"\\n\"\n        print \"You have 3 guesses\"\n        word_site = \"http://www.instructables.com/files/orig/FLU/YE8L/H82UHPR8/FLUYE8LH82UHPR8.txt\"\n        response = urllib2.urlopen(word_site)\n        txt = response.read()\n        WORDS = txt.splitlines()\n        randomword=(random.choice(WORDS))\n        lengthrandomword=len(randomword)\n        print \"I'm thinking of a word with \" + str(lengthrandomword) + \" letters\"\n        print \"\\n\"\n        if lengthrandomword==2:\n            print \"_ _\"\n            print \"\\n\"\n        elif  lengthrandomword==3:\n            print \"_ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==4:\n            print \"_ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==5:\n            print \"_ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==6:\n            print \"_ _ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==7:\n            print \"_ _ _ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==8:\n            print \"_ _ _ _ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==9:\n            print \"_ _ _ _ _ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==10:\n            print \"_ _ _ _ _ _ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==11:\n            print \"_ _ _ _ _ _ _ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==12:\n            print \"_ _ _ _ _ _ _ _ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==13:\n            print \"_ _ _ _ _ _ _ _ _ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==14:\n            print \"_ _ _ _ _ _ _ _ _ _ _ _ _ _\"\n            print \"\\n\"\n        elif  lengthrandomword==15:\n            print \"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _\"\n            print \"\\n\"\n        else:\n            print \"I thought of a word and it's reeeaaaaaly long, you would never guess it, so I'm just gonna tell you that my word was \" + randomword\n        print \"\\n\"\n        userguess=raw_input(\"Try and guess the word: \")\n        input = randomword\n        output = \"\"\n        for i in input.split():\n            output += i[0]\n        firstletter=output\n        if randomword.endswith(\"a\"):\n            lastletter=\"a\"\n        elif randomword.endswith(\"b\"):\n            lastletter=\"b\"\n        elif randomword.endswith(\"c\"):\n            lastletter=\"c\"\n        elif randomword.endswith(\"d\"):\n            lastletter=\"d\"\n        elif randomword.endswith(\"e\"):\n            lastletter=\"e\"\n        elif randomword.endswith(\"f\"):\n            lastletter=\"f\"\n        elif randomword.endswith(\"g\"):\n            lastletter=\"g\"\n        elif randomword.endswith(\"h\"):\n            lastletter=\"h\"\n        elif randomword.endswith(\"i\"):\n            lastletter=\"i\"\n        elif randomword.endswith(\"j\"):\n            lastletter=\"j\"\n        elif randomword.endswith(\"k\"):\n            lastletter=\"k\"\n        elif randomword.endswith(\"l\"):\n            lastletter=\"l\"\n        elif randomword.endswith(\"m\"):\n            lastletter=\"m\"\n        elif randomword.endswith(\"n\"):\n            lastletter=\"n\"\n        elif randomword.endswith(\"o\"):\n            lastletter=\"o\"\n        elif randomword.endswith(\"p\"):\n            lastletter=\"p\"\n        elif randomword.endswith(\"q\"):\n            lastletter=\"q\"\n        elif randomword.endswith(\"r\"):\n            lastletter=\"r\"\n        elif randomword.endswith(\"s\"):\n            lastletter=\"s\"\n        elif randomword.endswith(\"t\"):\n            lastletter=\"t\"\n        elif randomword.endswith(\"u\"):\n            lastletter=\"u\"\n        elif randomword.endswith(\"v\"):\n            lastletter=\"v\"\n        elif randomword.endswith(\"w\"):\n            lastletter=\"w\"\n        elif randomword.endswith(\"x\"):\n            lastletter=\"x\"\n        elif randomword.endswith(\"y\"):\n            lastletter=\"y\"\n        elif randomword.endswith(\"z\"):\n            lastletter=\"z\"\n        else:\n            lastletter=\"I CODED SOMETHING WRONG!\"\n        if userguess != randomword:\n            print \"You guessed wrong...\"\n            print \"\\n\"\n            print \"I'll give you a hint: the word STARTS with the letter \" + firstletter + \" and ENDS with the letter \" + lastletter\n            userguess=raw_input(\"I'll give you another chance to guess the word: \")\n            if userguess != randomword:\n                input = randomword\n                output = \"\"\n                for i in input.split():\n                    output += i[1]\n                secondletter=output\n                print \"You guessed wrong...\"\n                print \"\\n\"\n                print \"I'll give you another hint: the second letter of the word is \" + secondletter\n                userguess=raw_input(\"I'll give you one last chance to guess the word: \")\n                if userguess != randomword:\n                    print \"You guessed wrong...\"\n                    print \"\\n\"\n                    print \"You're out of chances... the word was: \" + randomword\n                    print \"I'm sorry to say this but...\"\n                    print \"YOU LOST!\"\n                    print \"\\n\"\n\n                elif userguess == randomword:\n                    print \"You guessed right!\"\n                    print \"YOU WON!\"\n                    print \"\\n\"\n                else:\n                    print \"I made a mistake in the code somewhere?!\"\n        elif userguess == randomword:\n            print \"You guessed right!\"\n            print \"YOU WON!\"\n            print \"/n\"\n        else:\n            print \"I made a mistake in the code somewhere?!\"\n        mindchange=raw_input(\"Wanna play again? If you do, just type 'Start'. If you don't then type 'Exit': \")\n        if mindchange==\"Exit\":\n            loop=False\n        elif mindchange==\"Start\":\n            loop=True\n        else:\n            print \"You didn't type either 'Start' or 'Exit' : remember to include the Capitals!\"\n            print \"\\n\"\n    elif yesorno == \"no\":\n        mindchange=raw_input(\"Well that's too bad, I was looking forward to beating you... well if you change your mind just type 'Start' but if you still don't want to play just type 'Exit':\")\n        if mindchange==\"Exit\":\n            loop=False\n        elif mindchange==\"Start\":\n            loop=True\n        else:\n            print \"You didn't type either 'no' or 'yes' : remember to not use capitals! \"\n            print \"\\n\"\n</code></pre>\n\n<p>This is what is returned:</p>\n\n<pre><code>Hello there! What might your name be? Alex\nHello Alex, would you like to play a friendly game of Guess the Word? Answer either 'yes' or 'no': yes\nOk then, here we go!\n\n\nYou have 3 guesses\nI'm thinking of a word with 14 letters\n\n\n_ _ _ _ _ _ _ _ _ _ _ _ _ _\n\n\n\n\nTry and guess the word: SOMEWORD\nYou guessed wrong...\n\n\nI'll give you a hint: the word STARTS with the letter o and ENDS with the letter g\nI'll give you another chance to guess the word: SOMEOTHERWORD\nYou guessed wrong...\n\n\nI'll give you another hint: the second letter of the word is v\nI'll give you one last chance to guess the word: SOMEOTHERWORD\nYou guessed wrong...\n\n\nYou're out of chances... the word was: overregulating\nI'm sorry to say this but...\nYOU LOST!\n\n\nWanna play again? If you do, just type 'Start'. If you don't then type 'Exit': \n</code></pre>\n\n<p>If you could also point out where I've been inefficient (which is probably everywhere) as well, that would be appreciated.</p>\n"}, {"tags": ["python", "google-app-engine", "session", "webapp2"], "owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1434567842, "creation_date": 1434567842, "last_edit_date": 1495541168, "question_id": 30900245, "link": "https://stackoverflow.com/questions/30900245/sharing-webapp2-session-between-gae-python-modules-with-custom-domain", "title": "Sharing webapp2 session between GAE python modules with custom domain?", "body": "<p>I have a multi-module GAE app sharing the session info properly across modules when served via <code>appspot.com</code>. I used <a href=\"https://stackoverflow.com/questions/24811286/how-to-share-sessions-between-modules-on-a-google-app-engine-python-application\">this recipe</a>:</p>\n\n<pre><code>config['webapp2_extras.sessions'] = {\n    'secret_key': 'my-super-secret-key',\n     cookie_args': { \n         'domain' : \".appspot.com\"\n}\n</code></pre>\n\n<p>But session sharing no longer works when served through my custom domain (modules are mapped to different hostnames on that domain) - understandable since that domain is not known to webapp2.</p>\n\n<p>If I update the config to match my custom domain instead session sharing no longer works between modules served by .appspot.com.</p>\n\n<p>Is there a way to make session sharing work on both .appspot.com <strong>and</strong> my custom domain?</p>\n\n<p>To clarify - I'm not talking about session sharing <em>across</em> domains, only <em>within the same</em> domain.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "plot"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4971401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76519bab160c18c08e274f80dc9741b5?s=128&d=identicon&r=PG&f=1", "display_name": "curious_programmer", "link": "https://stackoverflow.com/users/4971401/curious-programmer"}, "edited": false, "score": 0, "creation_date": 1434610894, "post_id": 30900433, "comment_id": 49854908, "body": "awesome, this is exactly what I was looking for--thanks! A bit of a stretch here, but do you know how to plot error bars for the points as well?"}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1434568550, "creation_date": 1434568550, "answer_id": 30900433, "question_id": 30900134, "link": "https://stackoverflow.com/questions/30900134/matplotlib-mean-interval-plot/30900433#30900433", "title": "matplotlib mean interval plot", "body": "<p>Here is an example to do it.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# simulate some artificial data\nx = np.random.randn(1000,)\ny = 5 * x ** 2 + np.random.randn(1000,)\ndata = pd.DataFrame(0.0, columns=['X', 'Y'], index=np.arange(1000))\ndata.X = x\ndata.Y = y\n\n# now do your stuff\n# ================================\n# use the pandas 'cut' function\ndata['X_bins'] = pd.cut(data.X, 3)\n# for each bin, calculate the mean of Y\nresult = data.groupby('X_bins')['Y'].mean()\n# do the plot\nresult.plot()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/ZPtiZ.png\" alt=\"enter image description here\"></p>\n"}, {"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": false, "score": 2, "last_activity_date": 1434615583, "creation_date": 1434615583, "answer_id": 30910024, "question_id": 30900134, "link": "https://stackoverflow.com/questions/30900134/matplotlib-mean-interval-plot/30910024#30910024", "title": "matplotlib mean interval plot", "body": "<p>For the follow-up questions, we can do something more powerful using boxplot.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# simulate some artificial data\nx = np.random.randn(1000,)\ny = 5 * x ** 2 + np.random.randn(1000,)\ndata = pd.DataFrame(0.0, columns=['X', 'Y'], index=np.arange(1000))\ndata.X = x\ndata.Y = y\n\n# now do your stuff\n# ================================\n# use the pandas 'cut' function\ndata['X_bins'] = pd.cut(data.X, 3)\ndata.set_index('X_bins', append=True, inplace=True)\ndata.drop('X', axis=1, inplace=True)\ndata.unstack(level=1).boxplot()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/dlAff.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 23, "user_id": 4971401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76519bab160c18c08e274f80dc9741b5?s=128&d=identicon&r=PG&f=1", "display_name": "curious_programmer", "link": "https://stackoverflow.com/users/4971401/curious-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1215, "favorite_count": 0, "accepted_answer_id": 30900433, "answer_count": 2, "score": 2, "last_activity_date": 1434615583, "creation_date": 1434567466, "last_edit_date": 1434568685, "question_id": 30900134, "link": "https://stackoverflow.com/questions/30900134/matplotlib-mean-interval-plot", "title": "matplotlib mean interval plot", "body": "<p>I'm transitioning from R to python, and was looking to plot the mean line of a two variables. It is the plot of the x variable is split into intervals for the x axis, and mean of the y variable for the y axis. </p>\n\n<p>For example, if I have 1000 points (x1,y1) to (x1000, y1000), and want to plot into 3 bins, I would have 3 bars of x intervals where each would have the mean of the y variables that fall into that respective interval.</p>\n\n<p>Does anyone know what this plot is called, and how I can do this in python? In R, I use the \"cut\" command and then plot the x,y of the cut.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "linux", "shell", "command-line"], "comments": [{"owner": {"reputation": 3815, "user_id": 1081942, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/21ce821be14be01f49366434da97cbbb?s=128&d=identicon&r=PG", "display_name": "G4bri3l", "link": "https://stackoverflow.com/users/1081942/g4bri3l"}, "edited": false, "score": 1, "creation_date": 1434567324, "post_id": 30900037, "comment_id": 49839005, "body": "Do you mean raw_input() ?"}, {"owner": {"reputation": 3542, "user_id": 777247, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/644d63893296ba85a17c7ce2f78a126a?s=128&d=identicon&r=PG", "display_name": "ronakg", "link": "https://stackoverflow.com/users/777247/ronakg"}, "edited": false, "score": 0, "creation_date": 1434567396, "post_id": 30900037, "comment_id": 49839051, "body": "I think he means piping output of a command straight to a python script."}, {"owner": {"reputation": 3271, "user_id": 232416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/23e8c255702b8c9c2f1228301796ef4b?s=128&d=identicon&r=PG", "display_name": "Shaun", "link": "https://stackoverflow.com/users/232416/shaun"}, "edited": false, "score": 1, "creation_date": 1434567561, "post_id": 30900037, "comment_id": 49839153, "body": "<a href=\"http://stackoverflow.com/questions/1450393/how-do-you-read-from-stdin-in-python\" title=\"how do you read from stdin in python\">stackoverflow.com/questions/1450393/&hellip;</a>"}, {"owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "edited": false, "score": 0, "creation_date": 1434569065, "post_id": 30900037, "comment_id": 49840076, "body": "Is <a href=\"http://stackoverflow.com/q/30899926/1157100\">this</a> another attempt at the same question?"}], "answers": [{"tags": [], "owner": {"reputation": 3542, "user_id": 777247, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/644d63893296ba85a17c7ce2f78a126a?s=128&d=identicon&r=PG", "display_name": "ronakg", "link": "https://stackoverflow.com/users/777247/ronakg"}, "is_accepted": true, "score": 4, "last_activity_date": 1434567516, "creation_date": 1434567516, "answer_id": 30900147, "question_id": 30900037, "link": "https://stackoverflow.com/questions/30900037/reading-from-linux-command-line-with-python/30900147#30900147", "title": "Reading from linux command line with Python", "body": "<p>You need to read <code>stdin</code> from the python script.</p>\n\n<pre><code>import sys\n\ndata = sys.stdin.read()\nprint 'Data from stdin -', data\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>$ date | python test.py\nData from stdin - Wed Jun 17 11:59:43 PDT 2015\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 495, "user_id": 4722347, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7c4f29b64a694ee99ceb4325022f2493?s=128&d=identicon&r=PG&f=1", "display_name": "pptt", "link": "https://stackoverflow.com/users/4722347/pptt"}, "is_accepted": false, "score": 0, "last_activity_date": 1434567521, "creation_date": 1434567521, "answer_id": 30900149, "question_id": 30900037, "link": "https://stackoverflow.com/questions/30900037/reading-from-linux-command-line-with-python/30900149#30900149", "title": "Reading from linux command line with Python", "body": "<p>use pipes</p>\n\n<pre><code>x = input()\n</code></pre>\n\n<p>does the magic</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 772454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c83f5587b6e171c96ec35d1901abb1?s=128&d=identicon&r=PG", "display_name": "Franck", "link": "https://stackoverflow.com/users/772454/franck"}, "is_accepted": false, "score": 0, "last_activity_date": 1551981182, "creation_date": 1551981182, "answer_id": 55050054, "question_id": 30900037, "link": "https://stackoverflow.com/questions/30900037/reading-from-linux-command-line-with-python/55050054#55050054", "title": "Reading from linux command line with Python", "body": "<p>Here is an example for future reference and also help others.<br/>\n<em>Tested with Python 2.6, 2.7, 3.6</em><br/></p>\n\n<pre class=\"lang-py prettyprint-override\"><code># coding=utf-8\n\"\"\"\nRead output from command line passed through a linux pipe\n$ vmstat 1 | python read_cmd_output.py 10 3 10\nThis will warn when the column value breached the threshold for N time consecutively\n\"\"\"\n\nimport sys\nimport re\n\ndef main():\n    \"\"\" Main \"\"\"\n    values = []\n    try:\n        column, occurrence, threshold = sys.argv[1:]\n        column = int(column)\n        occurrence = int(occurrence)\n        threshold = int(threshold)\n    except ValueError:\n        print('Usage: {0} &lt;column&gt; &lt;occurrence&gt; &lt;threshold&gt;'.format(sys.argv[0]))\n        sys.exit(1)\n\n    with sys.stdin:\n        for line in iter(sys.stdin.readline, b''):\n            line = line.strip()\n            if re.match(r'\\d', line):\n                elems = re.split(r'\\s+', line)\n                values.append(elems[column-1])\n                len(values) &gt; occurrence and values.pop(0)\n                nb_greater = len([x for x in values if int(x) &gt; threshold])\n                print(values, nb_greater, 'Warn' if nb_greater &gt;= len(values) else '')\n\nif __name__ == '__main__':\n    try:\n        main()\n    except KeyboardInterrupt:\n        print(\"\\nUser interrupted the script\")\n        sys.exit(1)\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 4901391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d658ad547df575f66c8223d0797d5654?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/4901391/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 1, "accepted_answer_id": 30900147, "answer_count": 3, "score": 1, "last_activity_date": 1551981182, "creation_date": 1434567208, "last_edit_date": 1434568775, "question_id": 30900037, "link": "https://stackoverflow.com/questions/30900037/reading-from-linux-command-line-with-python", "title": "Reading from linux command line with Python", "body": "<p>Is there a way to read data that is coming into the command-line, straight into another Python script for execution?</p>\n"}, {"tags": ["python", "regex", "string", "list"], "answers": [{"tags": [], "owner": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "is_accepted": false, "score": 2, "last_activity_date": 1434567385, "creation_date": 1434567385, "answer_id": 30900105, "question_id": 30900003, "link": "https://stackoverflow.com/questions/30900003/using-regular-expressions-on-a-list-that-has-been-converted-to-a-string/30900105#30900105", "title": "Using regular expressions on a list that has been converted to a string", "body": "<p>Can you just use list comprehension?</p>\n\n<pre><code>&gt;&gt;&gt; [re.findall('(\\d+)\\s+(\\w+)\\s', f) for f in foo]\n[[('1', 'word')], [('2', 'fds')]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 4, "last_activity_date": 1434567434, "creation_date": 1434567434, "answer_id": 30900124, "question_id": 30900003, "link": "https://stackoverflow.com/questions/30900003/using-regular-expressions-on-a-list-that-has-been-converted-to-a-string/30900124#30900124", "title": "Using regular expressions on a list that has been converted to a string", "body": "<p>The problem here is that <code>str(foo)</code> is creating a representation of <code>foo</code>:</p>\n\n<pre><code>&gt;&gt;&gt; str(foo)\n\"['abcdefgdfsrf1\\\\tword\\\\tfdsaerg32543', '2343221d2\\\\tfds\\\\tss']\"\n</code></pre>\n\n<p>so it will escape <code>'\\t'</code>, while you want the literal value.</p>\n\n<p>Either join it (with a space):</p>\n\n<pre><code>&gt;&gt;&gt; re.findall('(\\d+)\\s+(\\w+)\\s',' '.join(foo))\n[('1', 'word'), ('32543', '2343221d2')]\n</code></pre>\n\n<p>or join with a non-space char:</p>\n\n<pre><code>&gt;&gt;&gt; re.findall('(\\d+)\\s+(\\w+)\\s','x'.join(foo))\n[('1', 'word'), ('2', 'fds')]\n</code></pre>\n\n<p>or iterate:</p>\n\n<pre><code>&gt;&gt;&gt; [re.findall('(\\d+)\\s+(\\w+)\\s', str) for str in foo]\n[[('1', 'word')], [('2', 'fds')]]\n</code></pre>\n"}], "owner": {"reputation": 899, "user_id": 2084734, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c67bd40b2f0a99ae06b0d5b0eb52446?s=128&d=identicon&r=PG", "display_name": "G Warner", "link": "https://stackoverflow.com/users/2084734/g-warner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 30900124, "answer_count": 2, "score": -1, "last_activity_date": 1434567434, "creation_date": 1434567100, "question_id": 30900003, "link": "https://stackoverflow.com/questions/30900003/using-regular-expressions-on-a-list-that-has-been-converted-to-a-string", "title": "Using regular expressions on a list that has been converted to a string", "body": "<p>Take the following code:</p>\n\n<pre><code>&gt;&gt;&gt;foo = ['abcdefgdfsrf1\\tword\\tfdsaerg32543','2343221d2\\tfds\\tss']\n&gt;&gt;&gt;print re.findall('(\\d+)\\s+(\\w+)\\s',str(foo))\n[]\n</code></pre>\n\n<p>The regular expression isn't matching correctly because the single quotes surrounding each element of the list are interfering throwing up the quote matching for the entire string. What is the most pythonic way to alter this code so that it matches</p>\n\n<pre><code>1\\tword\\t\n</code></pre>\n\n<p>and </p>\n\n<pre><code>\\tfds\\t\n</code></pre>\n\n<p>?</p>\n"}]