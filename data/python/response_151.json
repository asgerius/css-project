[{"tags": ["python", "pandas", "matplotlib", "plot"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512001261, "post_id": 47563831, "comment_id": 82085963, "body": "The strange thing is that even if you only change the first item of <code>ts3</code> to one second later, it will already work, <code>2000-01-01 09:00:01</code>."}, {"owner": {"reputation": 12197, "user_id": 4390160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZHp9yDMYiGI/AAAAAAAAAAI/AAAAAAAAEsg/B9aVO59CDXU/photo.jpg?sz=128", "display_name": "Grismar", "link": "https://stackoverflow.com/users/4390160/grismar"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512001777, "post_id": 47563831, "comment_id": 82086095, "body": "Huh, that&#39;s interesting too... (I made an edit, your comment makes sense to me, but I simplified the example, so I get that you mean to say <code>ts2</code> - sorry). You&#39;re right, I can replicate that result. Crazy."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512002703, "post_id": 47563831, "comment_id": 82086329, "body": "I guess the problem is the <code>twinx</code>. It could be that pandas date locators are not capable of being &quot;twinned&quot;. You could open an issue on the pandas issue tracker about this."}, {"owner": {"reputation": 1792, "user_id": 6672746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba91b391da1f42e87437934cdd764a67?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/6672746/evan"}, "edited": false, "score": 0, "creation_date": 1512002732, "post_id": 47563831, "comment_id": 82086343, "body": "FWIW, I can&#39;t reproduce this exact bug: when I plot it, <code>a</code> is not shown on the middle plot, and the date tick marks are screwy. pandas 0.21."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 1792, "user_id": 6672746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba91b391da1f42e87437934cdd764a67?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/6672746/evan"}, "edited": false, "score": 0, "creation_date": 1512002966, "post_id": 47563831, "comment_id": 82086402, "body": "Yes, true, using pandas 0.20 the plot does come out a bit differently than shown in the question; the main point is still that the data is not shown correctly. @Evan you may probably find the other line by panning up to the year 2053."}, {"owner": {"reputation": 12197, "user_id": 4390160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZHp9yDMYiGI/AAAAAAAAAAI/AAAAAAAAEsg/B9aVO59CDXU/photo.jpg?sz=128", "display_name": "Grismar", "link": "https://stackoverflow.com/users/4390160/grismar"}, "edited": false, "score": 0, "creation_date": 1512003502, "post_id": 47563831, "comment_id": 82086557, "body": "I&#39;m adding used library versions to the question, in case more people experience difficulty reproducing (or find a version of the libraries that doesn&#39;t have this issue)"}, {"owner": {"reputation": 12197, "user_id": 4390160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZHp9yDMYiGI/AAAAAAAAAAI/AAAAAAAAEsg/B9aVO59CDXU/photo.jpg?sz=128", "display_name": "Grismar", "link": "https://stackoverflow.com/users/4390160/grismar"}, "edited": false, "score": 1, "creation_date": 1512013331, "post_id": 47563831, "comment_id": 82088956, "body": "Note that this item is now also registered as an issue on the pandas issue tracker. <a href=\"https://github.com/pandas-dev/pandas/issues/18571\" rel=\"nofollow noreferrer\">github.com/pandas-dev/pandas/issues/18571</a>"}], "owner": {"reputation": 12197, "user_id": 4390160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZHp9yDMYiGI/AAAAAAAAAAI/AAAAAAAAEsg/B9aVO59CDXU/photo.jpg?sz=128", "display_name": "Grismar", "link": "https://stackoverflow.com/users/4390160/grismar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1512003551, "creation_date": 1511999976, "last_edit_date": 1512003551, "question_id": 47563831, "link": "https://stackoverflow.com/questions/47563831/what-is-causing-this-python-pandas-matplotlib-time-shift", "title": "What is causing this Python pandas matplotlib time shift?", "body": "<p>In the following code example, note that the only difference between the data for the first and the second plot is the time series. <code>ts1</code> is used on the <code>b</code> data series in the first and <code>ts2</code> is used on the <code>b</code> data series in the second.</p>\n\n<p>And the only difference between the time series is the hour of the first and the last day. If I change either to <code>10</code> (as in <code>ts1</code>), the problem disappears.</p>\n\n<p>The code:</p>\n\n<pre><code>    from datetime import datetime\n    import pandas as pd\n    from matplotlib import pyplot as plt\n\n    f = '%Y-%m-%d %H:%M:%S'\n\n    data1 = [1, 2, 3]\n    data2 = [4, 3, 2]\n    ts1 = [datetime.strptime('2000-01-01 10:00:00', f), datetime.strptime('2000-01-02 10:00:00', f), datetime.strptime('2000-01-03 10:00:00', f)]\n    ts2 = [datetime.strptime('2000-01-01 09:00:00', f), datetime.strptime('2000-01-02 10:00:00', f), datetime.strptime('2000-01-03 11:00:00', f)]\n\n    a1 = pd.DataFrame(data1, ts1, ['a'])\n    a2 = pd.DataFrame(data2, ts1, ['b'])\n\n    b1 = pd.DataFrame(data1, ts1, ['a'])\n    b2 = pd.DataFrame(data2, ts2, ['b'])\n\n    fig, axs = plt.subplots(nrows=1, ncols=3, figsize=(15, 5))\n\n    a1.plot(ax=axs[0], color='r')\n    a2.plot(ax=axs[0].twinx())\n\n    b1.plot(ax=axs[1], color='r')\n    b2.plot(ax=axs[1].twinx())\n\n    axs[2].plot(ts1, data1, color='r')\n    axs[2].twinx().plot(ts2, data2)\n\n    fig.tight_layout()\n    fig.savefig('../output/plottest.png', format='png')\n</code></pre>\n\n<p>The output:\n<a href=\"https://i.stack.imgur.com/oIme3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oIme3.png\" alt=\"Note the weird output for the middle image]\"></a></p>\n\n<p>What is causing pandas to shift the <code>a</code> series to 2053 or thereabouts in the center plot, just because a single hour value changes? This problem is driving me up the walls... I've tried using <code>pd.Timestamp</code> instead, but that changes nothing.</p>\n\n<p>I included the third plot to show that a basic plot of the same data using only matplotlib does not appear to have this problem, so it would appear this is a problem with my use of pandas? Or a bug in pandas DataFrame.plot function?</p>\n\n<p>Edit:</p>\n\n<p>My used requirements.txt with this script, running on 3.6.3 64-bit Python on Windows: </p>\n\n<pre><code>    backports.functools-lru-cache==1.4\n    cycler==0.10.0\n    matplotlib==2.1.0\n    numpy==1.13.3\n    pandas==0.21.0\n    pyparsing==2.2.0\n    python-dateutil==2.6.1\n    pytz==2017.2\n    six==1.11.0\n</code></pre>\n\n<p>Installed through <code>pip install -r requirements.txt</code></p>\n"}, {"tags": ["python", "word2vec", "naivebayes"], "comments": [{"owner": {"reputation": 2265, "user_id": 4375397, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/7a3rf.jpg?s=128&g=1", "display_name": "Philip Bergstr&#246;m", "link": "https://stackoverflow.com/users/4375397/philip-bergstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1513427462, "post_id": 47563821, "comment_id": 82655399, "body": "You need to use convert your corpus to vectors using your embeddings: <a href=\"https://stackoverflow.com/questions/29760935/how-to-get-vector-for-a-sentence-from-the-word2vec-of-tokens-in-sentence\" title=\"how to get vector for a sentence from the word2vec of tokens in sentence\">stackoverflow.com/questions/29760935/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6403, "user_id": 155248, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/14ac90265ea3bc86acbfe98493e86b8d?s=128&d=identicon&r=PG", "display_name": "Onema", "link": "https://stackoverflow.com/users/155248/onema"}, "edited": false, "score": 2, "creation_date": 1544484651, "post_id": 47576513, "comment_id": 94284905, "body": "The link to &quot;here&quot; is broken"}], "tags": [], "owner": {"reputation": 300, "user_id": 8911476, "user_type": "registered", "profile_image": "https://graph.facebook.com/1709561395730045/picture?type=large", "display_name": "Elliot", "link": "https://stackoverflow.com/users/8911476/elliot"}, "is_accepted": false, "score": 3, "last_activity_date": 1512054325, "creation_date": 1512054325, "answer_id": 47576513, "question_id": 47563821, "link": "https://stackoverflow.com/questions/47563821/how-can-i-use-word2vec-to-train-a-classifier/47576513#47576513", "title": "How can I use word2vec to train a classifier?", "body": "<p>Word2Vec provides word embeddings only. If you want to characterize documents by embeddings, you'll need to perform an averaging/summing/max operation on embeddings of all words from each document to have a D-dimensional vector that can be used for classification. See <a href=\"https://www.mira.law/blogposts/2017/5/12/semantic-averaging-of-documents-using-word2vec-representations\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stats.stackexchange.com/questions/221715/apply-word-embeddings-to-entire-document-to-get-a-feature-vector\">there</a> for further information on this.</p>\n\n<p>Otherwise, you can use Doc2Vec model to directly produce document embeddings, for which gensim also gives a very good provider. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14454115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518f380287455133d49e4c212057c70b?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Bhargav", "link": "https://stackoverflow.com/users/14454115/abhishek-bhargav"}, "is_accepted": false, "score": 0, "last_activity_date": 1604221180, "creation_date": 1604221180, "answer_id": 64630179, "question_id": 47563821, "link": "https://stackoverflow.com/questions/47563821/how-can-i-use-word2vec-to-train-a-classifier/64630179#64630179", "title": "How can I use word2vec to train a classifier?", "body": "<p>You have vectors for each word, now you have two approaches to move forward, one could be simply take average of all the words in a sentence to find the sentence vector, another could be to use tfidf.</p>\n<p>I implemented the average approach in one of my ongoing projects and i am sharing the github link, please go to the heading &quot;text vectorization(word2vec)&quot; and you will find the code their.\n<a href=\"https://github.com/abhibhargav29/SentimentAnalysis/blob/master/SentimentAnalysis.ipynb\" rel=\"nofollow noreferrer\">https://github.com/abhibhargav29/SentimentAnalysis/blob/master/SentimentAnalysis.ipynb</a>. I would however suggest you to read data cleaning before as well to understand it in a better way.</p>\n<p>One important advice: Do not split the data into train, cv, test after vectorization, do it before vectorization or you will overfit the model.</p>\n"}], "owner": {"reputation": 21, "user_id": 7637840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9f5cf555019c4bccdf8053881c7c7c5?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7637840/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8216, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1604221180, "creation_date": 1511999899, "last_edit_date": 1513428771, "question_id": 47563821, "link": "https://stackoverflow.com/questions/47563821/how-can-i-use-word2vec-to-train-a-classifier", "title": "How can I use word2vec to train a classifier?", "body": "<p>The code is used to generate word2vec and use it to train the naive Bayes classifier.\nI am able to generate word2vec and use the similarity functions successfully.As a next step I would want to use the word2vec to train the naive bayes classifier. Currently the code given an error when I am trying to slit the data in test and training. How do i convert word2vec model into the array so that it can be used as training data.</p>\n\n<p># Importing the libraries\n    import numpy as np\n    import matplotlib.pyplot as plt\n    import pandas as pd\n    import gensim</p>\n\n<pre><code># Importing the dataset\ndataset = pd.read_csv('Restaurant_Reviews.tsv', delimiter = '\\t', quoting = 3)\n\n# Cleaning the texts\nimport re\nimport nltk\nnltk.download('stopwords')\nfrom nltk.corpus import stopwords\nfrom nltk.stem.porter import PorterStemmer\ncorpus = []\nfor i in range(0, 1000):\n    review = re.sub('[^a-zA-Z]', ' ', dataset['Review'][i])\n    review = review.lower()\n    review = review.split()\n    ps = PorterStemmer()\n    review = [ps.stem(word) for word in review if not word in set(stopwords.words('english'))]\n#    for word2vec we want an array of vectors\n\n    corpus.append(review)\n\n#print(corpus)\nX = gensim.models.Word2Vec(corpus, min_count=1,size=1000)\n#print (X.most_similar(\"love\"))\n\n\n#embedding_matrix = np.zeros(len(X.wv.vocab), dtype='float32')\n#for i in range(len(X.wv.vocab)):\n#    embedding_vector = X.wv[X.wv.index2word[i]]\n#    if embedding_vector is not None:\n#        embedding_matrix[i] = embedding_vector\n\n# Creating the Bag of Words model\n#from sklearn.feature_extraction.text import CountVectorizer\n#cv = CountVectorizer(max_features = 1500)\n#X = cv.fit_transform(corpus).toarray()\ny = dataset.iloc[:, 1].values\n\n# Splitting the dataset into the Training set and Test set\nfrom sklearn.cross_validation import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.20, random_state = 0)\n\n# Fitting Naive Bayes to the Training set\nfrom sklearn.naive_bayes import GaussianNB\nclassifier = GaussianNB()\nclassifier.fit(X_train, y_train)\n\n# Predicting the Test set results\ny_pred = classifier.predict(X_test)\n\n# Making the Confusion Matrix\nfrom sklearn.metrics import confusion_matrix\ncm = confusion_matrix(y_test, y_pred)\n\nIt gives an error on line -\nfrom sklearn.cross_validation import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.20, random_state = 0)\nTypeError: Expected sequence or array-like, got &lt;class 'gensim.models.word2vec.Word2Vec'&gt;\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 1992, "user_id": 3924496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YPKhm.jpg?s=128&g=1", "display_name": "roelofs", "link": "https://stackoverflow.com/users/3924496/roelofs"}, "edited": false, "score": 0, "creation_date": 1512001812, "post_id": 47563811, "comment_id": 82086106, "body": "Can you show is what you&#39;ve tried?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8874475"}, "reply_to_user": {"reputation": 1992, "user_id": 3924496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YPKhm.jpg?s=128&g=1", "display_name": "roelofs", "link": "https://stackoverflow.com/users/3924496/roelofs"}, "edited": false, "score": 0, "creation_date": 1512004223, "post_id": 47563811, "comment_id": 82086758, "body": "I&#39;ve tried what&#39;s there, I&#39;ve been trying things all day I can&#39;t remember exactly, I&#39;&#39;ll try to roughly recall.... I used a while statement like this      while ages&gt;=20 and ages&lt;=29:             print(ages)"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8874475"}, "edited": false, "score": 0, "creation_date": 1512000506, "post_id": 47563839, "comment_id": 82085794, "body": "I thought there might be a simpler way to do it as we haven&#39;t come across len yet or append... but thanks."}], "tags": [], "owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "is_accepted": false, "score": 2, "last_activity_date": 1512000056, "creation_date": 1512000056, "answer_id": 47563839, "question_id": 47563811, "link": "https://stackoverflow.com/questions/47563811/python-making-list-from-values-and-printing-certain-results/47563839#47563839", "title": "Python making list from values and printing certain results", "body": "<p>Is this what you want?</p>\n\n<pre><code>ages = []\nfor i in range(1,76):\n    input('Enter name for guest'+str( i)+': ')\n    ages.append(int(input('Enter age for guest '+str(i)+':')))\n\nn = len([a for a in ages if 20 &lt;= a &lt; 30])\nprint('Number of people in 20s is ' + str(n) )\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8874475"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1512003240, "creation_date": 1511999793, "last_edit_date": 1512003240, "question_id": 47563811, "link": "https://stackoverflow.com/questions/47563811/python-making-list-from-values-and-printing-certain-results", "title": "Python making list from values and printing certain results", "body": "<p>Here is my code:</p>\n\n<pre><code>for i in range(1,76):\n    input('Enter name for guest'+str( i)+': ')\n    ages=int(input('Enter age for guest '+str(i)+':'))\n\n    for x in range(20,30) in list(ages):\n        print('Number of people in 20s is ' +str(x) )\n</code></pre>\n\n<p>How do I put the results in a list and print out amount of people aged in their 20s? Thanks. </p>\n"}, {"tags": ["python", "filenames", "praw"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 6, "creation_date": 1511999160, "post_id": 47563709, "comment_id": 82085390, "body": "Yeah, well, <code>filenames</code> isn&#39;t in the global scope, nor is it in the local scope of <code>main</code> so it is undefined."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1512004706, "post_id": 47563709, "comment_id": 82086882, "body": "Post-edit, your problem is that you&#39;re invoking <code>main</code> before defining the other global variables. To ensure all your globals are set up correctly, you should always be invoking your <code>main()</code> function as the <i>last</i> step in your module, ideally under a <code>if __name__ == &#39;__main__&#39;:</code> guard."}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "reply_to_user": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512000222, "post_id": 47563742, "comment_id": 82085710, "body": "have you actually passed in a value somehow so that the variable &#39;filename&#39; contains a reference to the desired file?"}, {"owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512000267, "post_id": 47563742, "comment_id": 82085719, "body": "What do you mean by passed in a value?"}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "reply_to_user": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512000623, "post_id": 47563742, "comment_id": 82085823, "body": "If you run print(filename) do you have a value? The code is expecting the program to be called in the following format (lifted from the code): usage: notifier_bot.py file \\&quot;subject\\&quot; \\&quot;body\\&quot; this means you&#39;d have something like: notifier_bot.py &#39;directory\\with\\file&#39; &#39;I am a subject&#39; &#39;and I am a body&#39; or something to that effect, in which case: print(filename) will return something like &#39;directory\\with\\file&#39;"}, {"owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512000975, "post_id": 47563742, "comment_id": 82085909, "body": "So in the video, he inputs the equivalent in my code to: &#39;python notifier.py notifier.txt (his usernames.txt) &quot;subject&quot; &quot;body&quot; pytho&#39; in his command line. Is this perhaps what you mean? I am still confused, sorry."}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "reply_to_user": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512001482, "post_id": 47563742, "comment_id": 82086018, "body": "Yeah, so your variable &#39;filename&#39; if you were to correctly copy it, should contain the value &#39;notifier.txt&#39; if you run print(filename), what does it show?"}, {"owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512001786, "post_id": 47563742, "comment_id": 82086098, "body": "It shows the same <a href=\"https://gyazo.com/f301e084de15f315f743d8095c57888f\" rel=\"nofollow noreferrer\">error</a>...shall we move this to a chat?"}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "reply_to_user": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512001947, "post_id": 47563742, "comment_id": 82086152, "body": "I think you need minimum reputation to start a chat. Your filename variable is never instantiated. Do you have a line in your code that starts with &quot;filename = &quot;? If so, make sure your code is reaching that point, and the right hand side of the equation is correct. Are you able to edit your code in the original post so it shows exactly what you&#39;re trying to run atm?"}, {"owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512002483, "post_id": 47563742, "comment_id": 82086285, "body": "If you look near the end of my code, you\u2019ll see that I added the three lines you referenced earlier including filename=sys.argv[1]. Is that not helping?"}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "reply_to_user": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512002593, "post_id": 47563742, "comment_id": 82086305, "body": "Thanks, so when you call that code from the command line with python notifier.py notifier.txt &quot;subject&quot; &quot;body&quot;, it is still producing an error? Because now it looks as though you have correctly instantiated filename."}, {"owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512002685, "post_id": 47563742, "comment_id": 82086325, "body": "Yes indeed it is"}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "reply_to_user": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512003093, "post_id": 47563742, "comment_id": 82086440, "body": "I&#39;ve edited my answer to include a more complete fix, your main method is inconsistent with the video and the code. Effectively you need to move the authenticate and get_usernames to AFTER you&#39;ve done the sys.argv methods."}, {"owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512004177, "post_id": 47563742, "comment_id": 82086742, "body": "Maybe I am mistaken but bboe, the author of PRAW recommended to use &quot;def main()&quot; to organize the things I have put in it. Is that not true or am I using it in the wrong place/way?"}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "reply_to_user": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512004566, "post_id": 47563742, "comment_id": 82086849, "body": "I would recommend following the tutorial word for word to understand what they&#39;re doing, and after that begin expanding on it. You are correct in structuring the work into <b>main</b> is preferable as it <a href=\"https://stackoverflow.com/questions/419163/what-does-if-name-main-do\">behaves differently with being called from command line vs imported</a>, but first follow and grok the tutorial. Once that&#39;s done, have a play around with refactoring into more solid code."}, {"owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512004649, "post_id": 47563742, "comment_id": 82086868, "body": "Let me try that out"}, {"owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512005937, "post_id": 47563742, "comment_id": 82087204, "body": "OK so that part works. Now there is a new error. Should I create a new question?"}, {"owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "reply_to_user": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512007060, "post_id": 47563742, "comment_id": 82087423, "body": "You should search stack overflow and the internet before posting a question, make sure you&#39;ve copied the code in the tutorial letter for letter, and if still no luck after all that, post a new question, yeah"}, {"owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "edited": false, "score": 0, "creation_date": 1512008414, "post_id": 47563742, "comment_id": 82087743, "body": "Thanks for your help sir/ma\u2019am"}], "tags": [], "owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "is_accepted": true, "score": 1, "last_activity_date": 1512002993, "last_edit_date": 1512002993, "creation_date": 1511999292, "answer_id": 47563742, "question_id": 47563709, "link": "https://stackoverflow.com/questions/47563709/nameerror-name-filename-is-not-defined/47563742#47563742", "title": "NameError: name &#39;filename&#39; is not defined", "body": "<p>Your code is missing the part where it assigns a value to the variable 'filename'\nin the <a href=\"https://hastebin.com/koyifecake.py\" rel=\"nofollow noreferrer\">code</a> from the referenced video</p>\n\n<p>this is done on line 47 in the end code, line 37 at around 11m in:</p>\n\n<pre><code>47:    filename = sys.argv[1]\n48:    subject = sys.argv[2]\n49:    body = sys.argv[3]\n50:\n51:    r = bot_login()\n52:    usernames = get_usernames(filename)\n</code></pre>\n\n<p>EDIT: Now we've fixed that, we need to address the next problem, which is that you've got stuff in main that should just be straight after the values are passed in via sys.argv. That means the below code should not be in the 'main' method earlier in the program, but after line 50</p>\n\n<pre><code>reddit = authenticate()\nusernames = get_usernames(filename) #ERROR\nprint(usernames)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8951928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949ea829e5ea89318fea67a99b941418?s=128&d=identicon&r=PG&f=1", "display_name": "bluewizard3", "link": "https://stackoverflow.com/users/8951928/bluewizard3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6604, "favorite_count": 0, "accepted_answer_id": 47563742, "answer_count": 1, "score": -2, "last_activity_date": 1512002993, "creation_date": 1511999042, "last_edit_date": 1512000004, "question_id": 47563709, "link": "https://stackoverflow.com/questions/47563709/nameerror-name-filename-is-not-defined", "title": "NameError: name &#39;filename&#39; is not defined", "body": "<p>I am trying to follow reddit u/busterroni's <a href=\"https://www.youtube.com/watch?v=DyXXMazX4gU\" rel=\"nofollow noreferrer\">video</a> on how to make a reddit bot, but while his program runs fine, mine keeps getting hung up on \"filename\" on the line below that says...</p>\n\n<pre><code>usernames = get_usernames(filename)\n</code></pre>\n\n<p>...under main(). Can anyone tell me what the issue is? BTW I am at 12:11 in the video in case that helps at all.</p>\n\n<pre><code>import praw\nimport sys\n\n\ndef main():\n    reddit = authenticate()\n    usernames = get_usernames(filename) #ERROR\n    print(usernames)\n\n\ndef authenticate():\n    print('Authenticating...')\n\n    reddit = praw.Reddit(\n        'notifier',\n        user_agent=\"BlueWizard3's joketest v0.1\")\n\n    print('Authenticated as {}'.format(reddit.user.me()))\n\n    return reddit\n\n\ndef get_usernames(filename):\n    try:\n        with open(filename, 'r') as f:\n            usernames = f.read()\n            usernames = usernames.split('\\n')\n            usernames = filter(None, usernames)\n    except IOError:\n        print('Error: file ', filename, \" not found in the current directory.\")\n         quit()\n\n    return usernames\n\n\nmain()\n\n\ndef send_message(r, username, subject, body):\n    try:\n        r.redditor(username).message(subject, body)\n    except praw.exceptions.APIException as e:\n        if 'USER_DOESNT_EXIST' in e.args[0]:\n            print(e.args[0])\n\nif len(sys.argv) != 4:\n    print('usage: notifier.py file \"subject\" \"body\"')\n\nfilename = sys.argv[1] # ADDED\nsubject = sys.argv[2] # ADDED\nbody = sys.argv[3] # ADDED\n\nfor username in usernames:\n    send_message(r, username, subject, body)\n</code></pre>\n\n<p>First time posting on Stack Overflow so please be patient.</p>\n"}, {"tags": ["python", "list", "dictionary", "plot"], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 6382627, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/69e74f02018e556d046de5e794d4343b?s=128&d=identicon&r=PG&f=1", "display_name": "nat5142", "link": "https://stackoverflow.com/users/6382627/nat5142"}, "edited": false, "score": 0, "creation_date": 1512000279, "post_id": 47563782, "comment_id": 82085722, "body": "Seems like the answer to every question I&#39;ve ever asked on here is Pandas. I should probably up my proficiency in it a bit more. Thanks for the help!"}], "tags": [], "owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "is_accepted": false, "score": 5, "last_activity_date": 1511999599, "creation_date": 1511999599, "answer_id": 47563782, "question_id": 47563682, "link": "https://stackoverflow.com/questions/47563682/plot-data-stored-in-list-of-dicts-using-list-comprehension/47563782#47563782", "title": "Plot data stored in list of dicts using list comprehension", "body": "<p>You can use <code>pandas</code> for that:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport pandas as pd\n\ndecemberMeans = [\n    {'year': 1948, 'temp': 271.24}, {'year': 1949, 'temp': 271.28},\n    {'year': 1950, 'temp': 268.52}, {'year': 1951, 'temp': 269.63},\n    {'year': 2015, 'temp': 277.23}, {'year': 2016, 'temp': 271.25}\n]  \ndf = pd.DataFrame(decemberMeans)\n\nplt.figure(1)\nplt.plot(df['year'], df['temp'], 'k-')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 407, "user_id": 6382627, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/69e74f02018e556d046de5e794d4343b?s=128&d=identicon&r=PG&f=1", "display_name": "nat5142", "link": "https://stackoverflow.com/users/6382627/nat5142"}, "edited": false, "score": 0, "creation_date": 1512001272, "post_id": 47563970, "comment_id": 82085968, "body": "Hey, your marker zip is a great idea! Thanks for that!! Almost done with the function, will definitely be adding that."}], "tags": [], "owner": {"reputation": 581, "user_id": 9017455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950c22be5c4b5a0425f765eacb62ebec?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Bowly", "link": "https://stackoverflow.com/users/9017455/simon-bowly"}, "is_accepted": true, "score": 2, "last_activity_date": 1512000993, "creation_date": 1512000993, "answer_id": 47563970, "question_id": 47563682, "link": "https://stackoverflow.com/questions/47563682/plot-data-stored-in-list-of-dicts-using-list-comprehension/47563970#47563970", "title": "Plot data stored in list of dicts using list comprehension", "body": "<p>Yes <code>pandas</code> is definitely the way to go! Have a look at the examples <a href=\"https://pandas.pydata.org/pandas-docs/stable/visualization.html\" rel=\"nofollow noreferrer\">here</a> (second example should be exactly what you want, if you can get your data in that form). More generally though, there are a few things you can do to avoid the kind of repetition you have come across.</p>\n\n<p>Writing a function for commonly used code is a great start. It sounds like you have already come up with something like this:</p>\n\n<pre><code>def myplot(monthMeans, marker):\n    plt.plot([data['years'] for data in monthMeans],\n             [data['temp'] for data in monthMeans],\n             marker)\n</code></pre>\n\n<p>And then your code to plot each series to the active figure becomes:</p>\n\n<pre><code>myplot(decemberMeans, 'k-')\nmyplot(januaryMeans, 'r-')\nmyplot(februaryMeans, 'b-')\nmyplot(marchMeans, 'y-')\n</code></pre>\n\n<p>But this is still not ideal - what if you changed the name of <code>myplot</code> and had to change every line? You can shorten things again, because Python lets you create lists of anything:</p>\n\n<pre><code>allMonthMeans = [decemberMeans, januaryMeans, ...]\nmarkers = ['k-', 'r-', ...]\n\n# 'zip' loops over the two lists simultaneously\nfor monthMeans, marker in zip(allMonthMeans, markers):\n    myplot(monthMeans, marker)\n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 6382627, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/69e74f02018e556d046de5e794d4343b?s=128&d=identicon&r=PG&f=1", "display_name": "nat5142", "link": "https://stackoverflow.com/users/6382627/nat5142"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5118, "favorite_count": 1, "accepted_answer_id": 47563970, "answer_count": 2, "score": 3, "last_activity_date": 1512000993, "creation_date": 1511998824, "question_id": 47563682, "link": "https://stackoverflow.com/questions/47563682/plot-data-stored-in-list-of-dicts-using-list-comprehension", "title": "Plot data stored in list of dicts using list comprehension", "body": "<p>I have a netCDF file containing monthly average temperatures around the globe dating back to 1948. For an assignment, I have to select any one provided datapoint, extract its mean temperature values for the months of December, January, February, and March, and then display it.</p>\n\n<p>I've already unpacked the data and I have it collected in a list of dictionaries, as shown here:</p>\n\n<p><strong>For December</strong>:</p>\n\n<pre><code>decemberMeans = [\n    {'year': 1948, 'temp': 271.24}, {'year': 1949, 'temp': 271.28},\n    {'year': 1950, 'temp': 268.52}, {'year': 1951, 'temp': 269.63},\n    ...,\n    {'year': 2015, 'temp': 277.23}, {'year': 2016, 'temp': 271.25}\n]\n</code></pre>\n\n<p>Data corresponding to January, February, and March is structured in the same manner.</p>\n\n<p>My next step is to plot it. I have to plot one line on the same graph for each set of data, and I'm using list comprehensions to do it. Right now my plotting code looks like this:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nplt.figure(1)\nplt.hold(True)\nplt.plot([data['years'] for data in decemberMeans], \\\n    [data['temp'] for data in decemberMeans], 'k-')\nplt.plot([data['years'] for data in januaryMeans], \\\n    [data['temp'] for data in januaryMeans], 'r-')\nplt.plot([data['years'] for data in februaryMeans], \\\n    [data['temp'] for data in februaryMeans], 'b-')\nplt.plot([data['years'] for data in marchMeans], \\\n    [data['temp'] for data in marchMeans], 'y-')\nplt.grid(True)\nplt.show()\nplt.close()\n</code></pre>\n\n<p>It plots just fine, but I can see that all of my list comprehensions are really redundant. Would there be a way that I could unpack the dictionary values in one fowl swoop so that I don't have to write <code>data['...'] for data in list</code> twice for each set?</p>\n\n<hr>\n\n<p>P.S. - As I'm writing this I've started to realize that I could write a function to do the plotting (which would probably take even less time than writing out this post), but I'm still curious to know. Thanks to all in advance!</p>\n"}, {"tags": ["python", "pandas", "numpy", "vectorization"], "comments": [{"owner": {"reputation": 624, "user_id": 4562941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-36YvdOytLE4/AAAAAAAAAAI/AAAAAAAAAC8/qp7mLSjVsxE/photo.jpg?sz=128", "display_name": "Antoine Zambelli", "link": "https://stackoverflow.com/users/4562941/antoine-zambelli"}, "edited": false, "score": 0, "creation_date": 1511999080, "post_id": 47563638, "comment_id": 82085362, "body": "Just to confirm, you only want to extract the last date (that appears in your data) belonging to that 30-day window, right?"}, {"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "reply_to_user": {"reputation": 624, "user_id": 4562941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-36YvdOytLE4/AAAAAAAAAAI/AAAAAAAAAC8/qp7mLSjVsxE/photo.jpg?sz=128", "display_name": "Antoine Zambelli", "link": "https://stackoverflow.com/users/4562941/antoine-zambelli"}, "edited": false, "score": 0, "creation_date": 1511999406, "post_id": 47563638, "comment_id": 82085460, "body": "@AntoineZambelli I think I see what you mean.  I actually don&#39;t need to do a groupby operation in addition so no need to pick first/last dates in windows.  Just applying to the existing rows.  Apologies if I misunderstand."}, {"owner": {"reputation": 624, "user_id": 4562941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-36YvdOytLE4/AAAAAAAAAAI/AAAAAAAAAC8/qp7mLSjVsxE/photo.jpg?sz=128", "display_name": "Antoine Zambelli", "link": "https://stackoverflow.com/users/4562941/antoine-zambelli"}, "edited": false, "score": 0, "creation_date": 1512000640, "post_id": 47563638, "comment_id": 82085831, "body": "Ok, hopefully I understand it correctly, I think you want <code>resample</code>!"}], "answers": [{"comments": [{"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1512001424, "post_id": 47563784, "comment_id": 82086004, "body": "Thanks but I do not think this is what I&#39;d like.  I&#39;d like to be able to use arbitrary windows I define, not linked to calendar dates.  There is also no guarantee that these windows will be contiguous to each other."}, {"owner": {"reputation": 624, "user_id": 4562941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-36YvdOytLE4/AAAAAAAAAAI/AAAAAAAAAC8/qp7mLSjVsxE/photo.jpg?sz=128", "display_name": "Antoine Zambelli", "link": "https://stackoverflow.com/users/4562941/antoine-zambelli"}, "reply_to_user": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1512001693, "post_id": 47563784, "comment_id": 82086080, "body": "If arbitrary windows not linked to calendar dates, then I really am confused - maybe you can post expected output? I think <code>resample</code> works with non-contiguous data (just needs to be sorted). Maybe you want <code>rolling</code>?"}, {"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1512002837, "post_id": 47563784, "comment_id": 82086369, "body": "Added some explanation.  I have to join/merge the resultant data with a bunch of other data sources before I can start doing groupby type calcs, so I just need the window dates applied and nothing else changed.  If I resample/rolling, I&#39;d be doing transformation/aggregations prematurely."}, {"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1512064829, "post_id": 47563784, "comment_id": 82116745, "body": "Hmm, I get a value error thrown for this.  I think this has to do with if a date is out of the defined range which is also possible."}, {"owner": {"reputation": 624, "user_id": 4562941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-36YvdOytLE4/AAAAAAAAAAI/AAAAAAAAAC8/qp7mLSjVsxE/photo.jpg?sz=128", "display_name": "Antoine Zambelli", "link": "https://stackoverflow.com/users/4562941/antoine-zambelli"}, "reply_to_user": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1512072819, "post_id": 47563784, "comment_id": 82121141, "body": "Which line is the error being thrown on? Details on it?"}, {"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1512072957, "post_id": 47563784, "comment_id": 82121202, "body": "df[&#39;win_start_test&#39;] = pd.Series([start_date_period.end_time[x] for x in the_cut])"}, {"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1512089754, "post_id": 47563784, "comment_id": 82127812, "body": "This is a little faster for my test set:  16 min v. 22 min, but I think I will need to keep digging.  Thanks for your help."}], "tags": [], "owner": {"reputation": 624, "user_id": 4562941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-36YvdOytLE4/AAAAAAAAAAI/AAAAAAAAAC8/qp7mLSjVsxE/photo.jpg?sz=128", "display_name": "Antoine Zambelli", "link": "https://stackoverflow.com/users/4562941/antoine-zambelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1512077549, "last_edit_date": 1512077549, "creation_date": 1511999604, "answer_id": 47563784, "question_id": 47563638, "link": "https://stackoverflow.com/questions/47563638/python-pandas-vectorized-time-series-window-function/47563784#47563784", "title": "python pandas: vectorized time series window function", "body": "<p><strong>EDIT 2</strong>: <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.cut.html\" rel=\"nofollow noreferrer\">pandas.cut</a> is built-in:</p>\n\n<pre><code>    tt=[[1,'2004-01-02',0.1,25,47],\n[1,'2004-01-17',0.2,150,8],\n[2,'2004-01-29',0.2,150,25],\n[3,'2017-07-15',0.3,55,17],\n[3,'2016-05-12',0.3,55,47],\n[4,'2012-02-23',0.2,150,22],\n[4,'2009-10-10',0.1,25,12],\n[4,'2014-04-04',0.2,150,2],\n[5,'2008-07-09',0.2,150,43]]\n\n\n\nstart_date_period = pd.date_range('2004-01-01', '12-01-2017', freq='MS')\nend_date_period = pd.date_range('2004-01-30', '12-31-2017', freq='M')\n\ndf = pd.DataFrame(tt,columns=['customer_id','transaction_dt','product','price','units'])\ndf['transaction_dt'] = pd.Series([pd.to_datetime(sub_t[1],format='%Y-%m-%d') for sub_t in tt])\n\nthe_cut = pd.cut(df['transaction_dt'],bins=start_date_period,right=True,labels=False,include_lowest=True)\n\ndf['win_start_test'] = pd.Series([start_date_period[int(x)] if not np.isnan(x) else 0 for x in the_cut])\ndf['win_end_test'] = pd.Series([end_date_period[int(x)] if not np.isnan(x) else 0 for x in the_cut])\n\nprint(df.head())\n</code></pre>\n\n<p><code>win_start_test</code> and <code>win_end_test</code> should be equal to their counterparts computed using your function.</p>\n\n<p>The <code>ValueError</code> was coming from not casting <code>x</code> to <code>int</code> in the relevant line. I also added a <code>NaN</code> check, though it wasn't needed for this toy example.</p>\n\n<p>Note the change to <code>pd.date_range</code> and the use of the start-of-month and end-of-month flags <code>M</code> and <code>MS</code>, as well as converting the date strings into <code>datetime</code>.</p>\n"}], "owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512077549, "creation_date": 1511998550, "last_edit_date": 1512002583, "question_id": 47563638, "link": "https://stackoverflow.com/questions/47563638/python-pandas-vectorized-time-series-window-function", "title": "python pandas: vectorized time series window function", "body": "<p>I have a pandas dataframe in the following format:</p>\n\n<pre><code>'customer_id','transaction_dt','product','price','units'\n1,2004-01-02,thing1,25,47\n1,2004-01-17,thing2,150,8\n2,2004-01-29,thing2,150,25\n3,2017-07-15,thing3,55,17\n3,2016-05-12,thing3,55,47\n4,2012-02-23,thing2,150,22\n4,2009-10-10,thing1,25,12\n4,2014-04-04,thing2,150,2\n5,2008-07-09,thing2,150,43\n</code></pre>\n\n<p>I have written the following to create two new fields indicating 30 day windows:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\nstart_date_period = pd.period_range('2004-01-01', '12-31-2017', freq='30D')\nend_date_period = pd.period_range('2004-01-30', '12-31-2017', freq='30D')\n\ndef find_window_start_date(x):\n    window_start_date_idx = np.argmax(x &lt; start_date_period.end_time)\n    return start_date_period[window_start_date_idx]\n\ndf['window_start_dt'] = df['transaction_dt'].apply(find_window_start_date)\n\ndef find_window_end_date(x):\n    window_end_date_idx = np.argmin(x &gt; end_date_period.start_time)\n    return end_date_period[window_end_date_idx]\n\ndf['window_end_dt'] = df['transaction_dt'].apply(find_window_end_date)\n</code></pre>\n\n<p>Unfortunately, this is far too slow doing the row-wise apply for my application.  I would greatly appreciate any tips on vectorizing these functions if possible.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The resultant dataframe should have this layout:</p>\n\n<pre><code>'customer_id','transaction_dt','product','price','units','window_start_dt','window_end_dt'\n</code></pre>\n\n<p>It does not need to be resampled or windowed in the formal sense.  It just needs 'window_start_dt' and 'window_end_dt' columns to be added.  The current code works, it just need to be vectorized if possible.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9028417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f44d956d4867c4e647890cc72da7969b?s=128&d=identicon&r=PG&f=1", "display_name": "J. Choi", "link": "https://stackoverflow.com/users/9028417/j-choi"}, "edited": false, "score": 0, "creation_date": 1511998911, "post_id": 47563669, "comment_id": 82085303, "body": "Hey Andrea, there is already a new input for <code>guess2</code> at the end of the <code>while</code> loop."}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "reply_to_user": {"reputation": 13, "user_id": 9028417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f44d956d4867c4e647890cc72da7969b?s=128&d=identicon&r=PG&f=1", "display_name": "J. Choi", "link": "https://stackoverflow.com/users/9028417/j-choi"}, "edited": false, "score": 0, "creation_date": 1512195094, "post_id": 47563669, "comment_id": 82168906, "body": "@J.Choi: my bad, sorry, I missed it"}], "tags": [], "owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "is_accepted": false, "score": 1, "last_activity_date": 1511998740, "creation_date": 1511998740, "answer_id": 47563669, "question_id": 47563637, "link": "https://stackoverflow.com/questions/47563637/why-does-this-print-the-error-message-twice/47563669#47563669", "title": "Why does this print the error message twice?", "body": "<p>You want to call <code>input()</code> inside the <code>while</code> loop:</p>\n\n<pre><code># ...\nanswer2 = \"m\"\ni = 0\nwhile i &lt; 3:\n    guess2 = input(\"Please enter a single alphabet : \")\n    # ...\n</code></pre>\n\n<p>Otherwise the user doesn't have a chance to change their answer, <code>guess2</code> never changes and they get the same error message multiple times.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9028417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f44d956d4867c4e647890cc72da7969b?s=128&d=identicon&r=PG&f=1", "display_name": "J. Choi", "link": "https://stackoverflow.com/users/9028417/j-choi"}, "edited": false, "score": 0, "creation_date": 1511999764, "post_id": 47563733, "comment_id": 82085567, "body": "Do you mean when the condition is not met, since the code runs through <code>if</code> and <code>elif</code>, it will run twice before ending in <code>else</code>? If so, I understand now. Thank you!"}], "tags": [], "owner": {"reputation": 8919, "user_id": 8873508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uDHi.png?s=128&g=1", "display_name": "p-a-o-l-o", "link": "https://stackoverflow.com/users/8873508/p-a-o-l-o"}, "is_accepted": true, "score": 0, "last_activity_date": 1511999757, "last_edit_date": 1511999757, "creation_date": 1511999227, "answer_id": 47563733, "question_id": 47563637, "link": "https://stackoverflow.com/questions/47563637/why-does-this-print-the-error-message-twice/47563733#47563733", "title": "Why does this print the error message twice?", "body": "<p>You call the function twice, in first if and in elif, with the same wrong guess. You fixed it right calling only once and storing the return value.</p>\n\n<p>I try to explain it better: the function is always called by the first if, to evaluate its condition; if return value is false, is called again to evaluate the elif condition, with same arguments as before.</p>\n"}], "owner": {"reputation": 13, "user_id": 9028417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f44d956d4867c4e647890cc72da7969b?s=128&d=identicon&r=PG&f=1", "display_name": "J. Choi", "link": "https://stackoverflow.com/users/9028417/j-choi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 47563733, "answer_count": 2, "score": 1, "last_activity_date": 1516659177, "creation_date": 1511998542, "last_edit_date": 1516659177, "question_id": 47563637, "link": "https://stackoverflow.com/questions/47563637/why-does-this-print-the-error-message-twice", "title": "Why does this print the error message twice?", "body": "<p>New to stackoverflow, and new to python (python-3). Currently learning on edx.org and ran into the following error.</p>\n\n<p>I created a function that checks a user-input <strong>str</strong> against the answer <strong>str</strong> and returns <strong>True</strong> or <strong>False</strong>.</p>\n\n<p>When testing the function, I created a <strong>while</strong> loop to stop at the 3rd unsuccessful attempt. However, whenever there is an unsuccessful attempt, the function prints the error message twice when it should only print it once.</p>\n\n<p>I fixed the error by storing the returning <strong>Bool</strong> value of the function into a variable rather than calling the function directly in the <strong>if</strong> condition within the <strong>while</strong> loop. However, I would like to understand the logic behind the error message printing twice. Here is the original code that prints the error message twice :</p>\n\n<pre><code>def letter_guess(letter, guess):\n\n    if len(guess) == 1 and guess.isalpha() and guess &lt; letter:\n        print(guess,\"is lower than the answer. Try again.\\n\")\n        return False\n\n    elif len(guess) == 1 and guess.isalpha() and guess &gt; letter:\n        print(guess,\"is higher than the answer. Try again.\\n\")\n        return False\n\n    elif len(guess) == 1 and guess.isalpha() and guess == letter:\n        print(\"Correct answer!\")\n        return True\n\n    else:\n        print(\"Please only enter one alphabet for the letter. Try again.\\n\")\n        return False\n\nanswer2 = \"m\"\nguess2 = input(\"Please enter a single alphabet : \")    \n\ni = 0\n\nwhile i &lt; 3:\n\n\n    if letter_guess(answer2, guess2):\n        break\n\n    elif letter_guess(answer2, guess2) == False and i == 2:\n        print(\"You have reached 3 guesses. Game over.\")\n        break\n\n    else:\n        i += 1\n        guess2 = input(\"Please guess again : \")\n</code></pre>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1511998233, "post_id": 47563556, "comment_id": 82085069, "body": "It really depends on what exactly is happening in <code>get_data()</code>. If it&#39;s something that takes a while and is I/O bound, then using threads like this might be a good approach."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 1, "creation_date": 1511998305, "post_id": 47563556, "comment_id": 82085095, "body": "By the way, you can simplify your first loop by doing <code>for user_name, user_id in userIDS.items()</code>."}, {"owner": {"reputation": 721, "user_id": 7404996, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Vhaf0.gif?s=128&g=1", "display_name": "Giacomo Ciampoli", "link": "https://stackoverflow.com/users/7404996/giacomo-ciampoli"}, "edited": false, "score": 0, "creation_date": 1511998513, "post_id": 47563556, "comment_id": 82085178, "body": "your right on the first loop. the get_data function simply use the tweepy library and tweet api for get some data and write it into a file, i cannot wrote the entire function because i couldnt publish the post (lot of code and poor text)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 1, "creation_date": 1511998599, "post_id": 47563556, "comment_id": 82085205, "body": "So it&#39;s doing HTTP requests to the Twitter API? If so, using threads could speed things up a bit."}, {"owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "edited": false, "score": 0, "creation_date": 1512008155, "post_id": 47563556, "comment_id": 82087686, "body": "What you&#39;re doing here is pretty much replicating the behaviour of a thread pool. If you&#39;re running python &gt;= 3.5, you can simplify this code a bit using <a href=\"https://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "edited": false, "score": 0, "creation_date": 1512015219, "post_id": 47563556, "comment_id": 82089436, "body": "@viraptor: On older Python, <code>multiprocessing.dummy.Pool</code> will also get you a thread based pool (<code>multiprocessing.dummy</code> is the <code>multiprocessing</code> API, but backed by threads, not processes)."}], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 7802055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/285bb15143a1d29dc89713c606b52b95?s=128&d=identicon&r=PG&f=1", "display_name": "BatyaGG", "link": "https://stackoverflow.com/users/7802055/batyagg"}, "is_accepted": true, "score": 1, "last_activity_date": 1512003058, "creation_date": 1512003058, "answer_id": 47564222, "question_id": 47563556, "link": "https://stackoverflow.com/questions/47563556/python-threads-first-approaching/47564222#47564222", "title": "python threads: first approaching", "body": "<p>Yes, in my opinion it is good approach and pretty common. Threads are used in  cases such as: </p>\n\n<ul>\n<li>Asynchronous operations - when some process does not depend on output of the other</li>\n<li>Processes which can be parrallelized - like doing filtering on different parts of image</li>\n<li>Operations running on backgroud</li>\n</ul>\n\n<p>I think your case can be treated as first and second groups. Each person object analysis does not depend on the outputs of other people analysis. However, in case you have big data of users and words, it can cause problems for your computer, since it have to manage creation and destruction of each thread. Anyway, it is personal decision use threads or not.</p>\n"}], "owner": {"reputation": 721, "user_id": 7404996, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Vhaf0.gif?s=128&g=1", "display_name": "Giacomo Ciampoli", "link": "https://stackoverflow.com/users/7404996/giacomo-ciampoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47564222, "answer_count": 1, "score": 1, "last_activity_date": 1512007676, "creation_date": 1511998082, "last_edit_date": 1512007676, "question_id": 47563556, "link": "https://stackoverflow.com/questions/47563556/python-threads-first-approaching", "title": "python threads: first approaching", "body": "<p>i'm new to python threads, as first task i wrote this:</p>\n\n<pre><code>from twitterHandler import Twitter_User\nfrom text_analyzer import text_analyzer\nimport threading\n\nif __name__=='__main__':\n    usersIDS = {'user1':24503301,'user2':7375922343546478338,'user3':2144265434,'user4':50090727}\n    threads = {}\n\n    def get_data(user_id):\n    '''get the most common words used by twitter user un his text tweet and save it in a file object'''\n        ...\n\n    for user_name, user_id in usersIDS.items():\n        t = threading.Thread(target=get_data,args=(user_id,))\n        threads[user_name] = t\n        print('Starting to get data for: {}'.format(user_name)\n        t.start()\n\n\n    for name,t in threads.items():\n        t.join()\n        print('Process for {} Stopped'.format(name))\n</code></pre>\n\n<p>The code works, but i'm wondering if that is a typical use case for threads, or i simply could do something like that.</p>\n\n<pre><code>for user_id in usersIDS.values():\n    get_data(user_id)\n    ...\n</code></pre>\n\n<p>In other words, is multithreading the right choice for my problem? many thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 1, "creation_date": 1511998486, "post_id": 47563555, "comment_id": 82085169, "body": "because <code>&quot;&quot;</code> (empty string) in not <code>[]</code> (empty list). Just test for <code>[]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "is_accepted": true, "score": 1, "last_activity_date": 1511999757, "last_edit_date": 1511999757, "creation_date": 1511999169, "answer_id": 47563724, "question_id": 47563555, "link": "https://stackoverflow.com/questions/47563555/getting-typeerror-list-indices-must-be-integers-or-slices-not-str-when-the-body/47563724#47563724", "title": "Getting TypeError: list indices must be integers or slices not str when the body[] is empty", "body": "<p>Your problem is that <code>json_obj[\"message\"][\"body\"]</code> may be <code>[]</code>, but you test for <code>\"\"</code> (empty string) which is not <code>[]</code> (empty list). So just test for <code>[]</code>.</p>\n"}], "owner": {"reputation": 107, "user_id": 8874514, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5d7ba8261958cccb6fbc26aef0fccb2b?s=128&d=identicon&r=PG&f=1", "display_name": "OzzyW", "link": "https://stackoverflow.com/users/8874514/ozzyw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 47563724, "answer_count": 1, "score": -1, "last_activity_date": 1511999757, "creation_date": 1511998071, "question_id": 47563555, "link": "https://stackoverflow.com/questions/47563555/getting-typeerror-list-indices-must-be-integers-or-slices-not-str-when-the-body", "title": "Getting TypeError: list indices must be integers or slices not str when the body[] is empty", "body": "<p>Im using a public available method to get the lyrics for tracks using the musixmatch api. This method has this part:</p>\n\n<pre><code>    json_obj = json.loads(raw.decode('utf-8'))\n    body = json_obj[\"message\"][\"body\"][\"lyrics\"][\"lyrics_body\"]\n</code></pre>\n\n<p>print(json_obj) returns in this format if the track has a lyric associated:</p>\n\n<pre><code>{'message': {'header': {'status_code': 200, 'execute_time': 0.0032379627227783}, 'body': {'lyrics': {'lyrics_id': 1290130, 'can_edit': 0, 'locked': 0, 'action_requested': '', 'verified': 0, 'restricted': 1, 'instrumental': 0, 'explicit': 0, 'lyrics_body': '', 'lyrics_language': 'en', 'lyrics_language_description': 'English', 'script_tracking_url': 'https://tracking.musixmatch.com/t1.0/m_js/e_1/sn_0/l_1290130/su_0/tr_3vUCAELvdbv2u68t6EhkMnd-8HjFVDR8ySJtVDvx1wu2t7bIHzQn4QjBnewHmPfaFosJFYkWv3dp_LyRwBhUrXjOsX9TA-28yzdsLebCvaG9shILvno8F94Mm6EuA6PvOiTKdFVL6hW2DSHd2uQQbOF-URNHli0NCOG2mnJS7i_pRvQM6jbzTs8GWGmfkz6SPG6SiRAw7OD1_ALUcvL6DWgqTDzzQyn1mxFzSyUWB5ddJTf3oTmgBoRKQKJJqiO6h2S6T40I73gio9TzqXUMeTjB7jKbL7pm-ma6s4zx-uAlRzVKvyEMxjJGks6p2CKu_NE3MZ26VcV4EVhaL0QcXsmVW49T064RtrZFc4qY9gqHoc_wreBVUPoftX1SWDPGzG4HZOiRXpj-V_YIvaLA2QAVsAVcBkwi9Zmb0onjsHTbknSmzO-6kcez0zrFc44LZOQ45of1eATGIVI/', 'pixel_tracking_url': 'https://tracking.musixmatch.com/t1.0/m_img/e_1/sn_0/l_1290130/su_0/tr_3vUCAAVtFUMcReVeKMMElPrsIdyf5IcOQyLMIduxSpy9U549RTNLfGorynAbS03DhldhcSFwWs_f9EiFdRepDw_HGQFZC6-hNtxts2M9eU1uD2Ga8RXdRq9pgm29WoAj8zcfH45WsO-tAfyA3oajqe-momfl2S4n51WgrBj4RxpmZ3DhrilGRO1Rhq5rqTyXRLG86fM7Hi0Bh2hXrXg115SiPywxjuMzLR2DMmGvu_Q--jjtFU38jTurZCsdtJ8slsdpvUzUo5Rs0EKdxboiopgPdTScdSQ-J3NRlXq8CFlK0j78ZMGo8KI9ZwdfMag5gPo5hI56PdcsAkfLkmvGjE2einZMruGrZVy08cZxAX7_ZdhXuLUY3RvleHog089sBJnzXDVqi7zb2yZSxrxYENQZuSR7KjR1fDN45I18ingQsAHXy18mJ6CUzWkrzwpV0-XAeNBe2d5mG9M/', 'html_tracking_url': 'https://tracking.musixmatch.com/t1.0/m_html/e_1/sn_0/l_1290130/su_0/tr_3vUCAEHn0YKFfsSIWi8uC0aMlSrJxMwAjYKks94IRU-wF13uNtElVESehNa14ZOa5h19bOKSN10QRhFF4V-Jwo6DLkoN5VVBVDpw9pqL5Ff0--pA2EUtqzvjZb3Z35J2V51RY9AFv6VYWgQ6Nm7ijSbRcbnjyqB3rvCbhUNqN_egIfyVPkDCjZZnyFIs5Vt8teA7zLE2ms5EDF6NphXfezUcsDZfN8hBtT8lvd_EjunDSKs7QaCMHmi8YV7aSiLWyFeQKBzKWm-YRq2z9kyXtcreXlGagr6UHazj88UTK_LO_TzT99BO4XKJwmQ1ARm8-c4nug9kxUic3EvDxS0CNclEXAuKdKpzZvE25PQZUb_dCyPNvCVHHV4C1XtlmOVXoRET6fuguSHlA7Hg7TqDo_PP8cbR-Q4_VeromQ4evewwzWrrNQQSA4VX0Z78Ll5nKF9lYVa5wWQTWi8/', 'lyrics_copyright': \"Unfortunately we're not authorized to show these lyrics.\", 'writer_list': [], 'publisher_list': [], 'backlink_url': 'https://www.musixmatch.com/lyrics/Bruce-Springsteen/No-Surrender?utm_source=application&amp;utm_campaign=api&amp;utm_medium=none%3A1409616623501', 'updated_time': '2010-06-29T03:43:49Z'}}}}\n</code></pre>\n\n<p>But if there is no lyric for the track it returns with the body empty:</p>\n\n<pre><code>{'message': {'header': {'status_code': 404, 'execute_time': 0.0011160373687744}, 'body': []}}\nTraceback (most recent call last):\n</code></pre>\n\n<p>And when the body is empty it appears:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/ozzy/PycharmProjects/semantic/semantic.py\", line 240, in &lt;module&gt;\n    tracks[ID]['Lyric'] = song_lyric(title, tracks[ID]['Artist'])\n  File \"/Users/ozzy/PycharmProjects/semantic/semantic.py\", line 29, in song_lyric\n    body = json_obj[\"message\"][\"body\"][\"lyrics\"][\"lyrics_body\"]\nTypeError: list indices must be integers or slices, not str\n</code></pre>\n\n<p>To solve this Im using:</p>\n\n<pre><code> if json_obj[\"message\"][\"body\"] != \"\":\n            print(json_obj)\n            body = json_obj[\"message\"][\"body\"][\"lyrics\"][\"lyrics_body\"]\n</code></pre>\n\n<p>But its not working, I get the same issue. Do you know why?</p>\n\n<p><strong>complete method</strong>:</p>\n\n<pre><code>def song_lyric(song_name,artist_name):\n    while True:\n        querystring = apiurl_musixmatch + \"matcher.lyrics.get?q_track=\" + urllib.parse.quote(song_name) + \"&amp;q_artist=\" + urllib.parse.quote(artist_name) +\"&amp;apikey=\" + apikey_musixmatch + \"&amp;format=json&amp;f_has_lyrics=1\"\n        #matcher.lyrics.get?q_track=sexy%20and%20i%20know%20it&amp;q_artist=lmfao\n        request = urllib.request.Request(querystring)\n        #request.add_header(\"Authorization\", \"Bearer \" + client_access_token)\n        request.add_header(\"User-Agent\", \"curl/7.9.8 (i686-pc-linux-gnu) libcurl 7.9.8 (OpenSSL 0.9.6b) (ipv6 enabled)\") #Must include user agent of some sort, otherwise 403 returned\n        while True:\n            try:\n                response = urllib.request.urlopen(request, timeout=4) #timeout set to 4 seconds; automatically retries if times out\n                raw = response.read()\n                #print(raw)\n            except socket.timeout:\n                print(\"Timeout raised and caught\")\n                continue\n            break\n        json_obj = json.loads(raw.decode('utf-8'))\n        if json_obj[\"message\"][\"body\"] != \"\":\n            print(json_obj)\n            body = json_obj[\"message\"][\"body\"][\"lyrics\"][\"lyrics_body\"]\n            copyright = json_obj[\"message\"][\"body\"][\"lyrics\"][\"lyrics_copyright\"]\n            tracking_url = json_obj[\"message\"][\"body\"][\"lyrics\"][\"html_tracking_url\"]\n            if(tracking_url!= \"\"):\n                #print(body)\n                #print(tracking_url)\n                lyrics_tracking(tracking_url)\n                return (body + \"\\n\\n\" +copyright)\n            else:\n                return \"None\"\n        else:\n            return \"None\"\n\ndef lyrics_tracking(tracking_url):\n    while True:\n        querystring = tracking_url\n        request = urllib.request.Request(querystring)\n        #request.add_header(\"Authorization\", \"Bearer \" + client_access_token)\n        request.add_header(\"User-Agent\", \"curl/7.9.8 (i686-pc-linux-gnu) libcurl 7.9.8 (OpenSSL 0.9.6b) (ipv6 enabled)\") #Must include user agent of some sort, otherwise 403 returned\n        try:\n            response = urllib.request.urlopen(request, timeout=4) #timeout set to 4 seconds; automatically retries if times out\n            raw = response.read()\n        except socket.timeout:\n            print(\"Timeout raised and caught\")\n            continue\n        break\n        print(raw)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1511998067, "post_id": 47563539, "comment_id": 82085013, "body": "Do you also want to change &#39;10&#39; to &#39;1&#39;?"}, {"owner": {"reputation": 1533, "user_id": 6702495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36c783c141839b8fbf9aee4a91687fa2?s=128&d=identicon&r=PG&f=1", "display_name": "frozen", "link": "https://stackoverflow.com/users/6702495/frozen"}, "edited": false, "score": 0, "creation_date": 1511998117, "post_id": 47563539, "comment_id": 82085027, "body": "line.startswith(&quot;fit&quot;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7249622"}, "edited": false, "score": 0, "creation_date": 1511998823, "post_id": 47563539, "comment_id": 82085284, "body": "yes. like the example output"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1512003527, "post_id": 47563539, "comment_id": 82086566, "body": "More than just the last number have been changed in the example output. Please <a href=\"https://stackoverflow.com/posts/47563539/edit\">edit</a> your question and fix it or do a better job explaining the goal."}], "answers": [{"comments": [{"owner": {"reputation": 574, "user_id": 7802055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/285bb15143a1d29dc89713c606b52b95?s=128&d=identicon&r=PG&f=1", "display_name": "BatyaGG", "link": "https://stackoverflow.com/users/7802055/batyagg"}, "edited": false, "score": 0, "creation_date": 1512001923, "post_id": 47564024, "comment_id": 82086142, "body": "Your output is incorrect. It does not sum last row of digit group"}], "tags": [], "owner": {"reputation": 10990, "user_id": 1545917, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/o9dcW.png?s=128&g=1", "display_name": "Ghilas BELHADJ", "link": "https://stackoverflow.com/users/1545917/ghilas-belhadj"}, "is_accepted": false, "score": 2, "last_activity_date": 1512003207, "last_edit_date": 1512003207, "creation_date": 1512001418, "answer_id": 47564024, "question_id": 47563539, "link": "https://stackoverflow.com/questions/47563539/modifying-a-complex-fixed-text-file/47564024#47564024", "title": "Modifying a complex fixed text file?", "body": "<pre><code>lines = open(\"file.txt\", \"r\").read().splitlines()\n_sum = 0.\nfor i, line in enumerate(lines):\n  if not line.startswith('fit') :\n    _sum += float(line) \n    lines[i] = '{:0.6f}'.format(1.)\n\n  if line.startswith('fit') and  i &gt; 0:\n    lines[i-1] = '{:0.6f}'.format(_sum)\n    _sum = 0\n  elif i+1 &gt;= len(lines):\n    lines[i] = '{:0.6f}'.format(_sum)\n\n\nprint '\\n'.join(lines)\n</code></pre>\n\n<p>output</p>\n\n<pre><code>fit c3 start=1455035 step=1\n1.000000\n1.000000\n1.000000\n1.000000\n1.000000\n12.000000\nfit c2 start=5195348 step=1\n1.000000\n1.000000\n1.000000\n1.000000\n5.000000\nfit c4 start=6587009 step=1\n1.000000\n1.000000\n1.000000\n1.000000\n50.000000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 574, "user_id": 7802055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/285bb15143a1d29dc89713c606b52b95?s=128&d=identicon&r=PG&f=1", "display_name": "BatyaGG", "link": "https://stackoverflow.com/users/7802055/batyagg"}, "is_accepted": false, "score": 0, "last_activity_date": 1512008132, "last_edit_date": 1512008132, "creation_date": 1512001793, "answer_id": 47564074, "question_id": 47563539, "link": "https://stackoverflow.com/questions/47563539/modifying-a-complex-fixed-text-file/47564074#47564074", "title": "Modifying a complex fixed text file?", "body": "<p>Please, try this out.</p>\n\n<pre><code>prev_string = ' '\nglobal_string = ''\ntemp_sum = 0\n\nwith open('file.txt', 'r') as f:\n    prev_string = f.readline()\n    for line in f:\n        if prev_string[0] == 'f':\n            global_string += prev_string\n        elif (line[0].isdigit() and prev_string[0].isdigit()):\n            global_string += '1.000000\\n'\n            temp_sum += float(prev_string[:-1])\n        else:\n            temp_sum += float(prev_string[:-1])\n            global_string += str(format(temp_sum, '.6f')) + '\\n'\n            temp_sum = 0\n        prev_string = line\n    global_string += str(format(temp_sum + float(prev_string[:-1]), '.6f'))\n\nwith open('output.txt', 'w') as out:\n    out.write(global_string)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7249622"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512008132, "creation_date": 1511997942, "last_edit_date": 1512003290, "question_id": 47563539, "link": "https://stackoverflow.com/questions/47563539/modifying-a-complex-fixed-text-file", "title": "Modifying a complex fixed text file?", "body": "<p>I have a text file like this example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>fit c3 start=1455035 step=1\n2.000000\n2.000000\n2.000000\n2.000000\n2.000000\n2.000000\nfit c2 start=5195348 step=1\n1.000000\n1.000000\n1.000000\n1.000000\n1.000000\nfit c4 start=6587009 step=1\n10.000000\n10.000000\n10.000000\n10.000000\n10.000000\n</code></pre>\n\n<p>each text line(starting with fit) is followed by some number lines. I want to sum all numbers which are below each text line (so they are in the same group) and replace the last number of that group by the sum of number of that specific group and also replace the rest of numbers by 1.000000 - like in this output example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>fit c3 start=1455035 step=1\n1.000000\n1.000000\n1.000000\n1.000000\n1.000000\n12.000000\nfit c2 start=5195348 step=1\n1.000000\n1.000000\n1.000000\n1.000000\n5.000000\nfit c4 start=6587009 step=1\n1.000000\n1.000000\n1.000000\n1.000000\n50.000000\n</code></pre>\n\n<p>and write it into a new file.</p>\n\n<p>I tried this code in Python, but actually did not return what I want.</p>\n\n<pre><code>infile = open(\"file.txt\", \"r\")\nfor line in infile:\n    if line startswith\"fit\":\n        for l in len(line):\n            line[l] = line + line[l+1]\n</code></pre>\n\n<p>Do you know how to do that in python?</p>\n"}, {"tags": ["python", "selenium", "xpath"], "comments": [{"owner": {"reputation": 452, "user_id": 5796919, "user_type": "registered", "profile_image": "https://graph.facebook.com/500800856747120/picture?type=large", "display_name": "Petar Petrov", "link": "https://stackoverflow.com/users/5796919/petar-petrov"}, "edited": false, "score": 1, "creation_date": 1512031357, "post_id": 47563515, "comment_id": 82095661, "body": "I&#180;m no expert in Xpath but it looked wrong to me.  I tested the Xpath with this website <a href=\"http://www.xpathtester.com/xpath\" rel=\"nofollow noreferrer\">xpathtester.com/xpath</a> against the xml of the website in your question and it outputs error, probably thats why your code doesn&#180;t output anything.  Check your Xpath or first just try to get one element, if it works try to add another, until you get all you want."}, {"owner": {"reputation": 1, "user_id": 9028350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d57bdc238fe14c28118745b782d9aec?s=128&d=identicon&r=PG&f=1", "display_name": "ewt12", "link": "https://stackoverflow.com/users/9028350/ewt12"}, "reply_to_user": {"reputation": 452, "user_id": 5796919, "user_type": "registered", "profile_image": "https://graph.facebook.com/500800856747120/picture?type=large", "display_name": "Petar Petrov", "link": "https://stackoverflow.com/users/5796919/petar-petrov"}, "edited": false, "score": 0, "creation_date": 1512081776, "post_id": 47563515, "comment_id": 82125294, "body": "yeah i know it looks strange, but it works when i try: <code>if &quot;the&quot; in bodytext:</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1087, "user_id": 1082007, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/VIi3c.jpg?s=128&g=1", "display_name": "elliottregan", "link": "https://stackoverflow.com/users/1082007/elliottregan"}, "is_accepted": false, "score": 0, "last_activity_date": 1512036339, "last_edit_date": 1512036339, "creation_date": 1511998756, "answer_id": 47563670, "question_id": 47563515, "link": "https://stackoverflow.com/questions/47563515/selenium-find-element-by-xpath-not-working/47563670#47563670", "title": "Selenium find element by xpath not working", "body": "<p>You could try waiting for a few ms to ensure the page has rendered and the expected element is visible with:</p>\n\n<pre><code>time.sleep(1)\n</code></pre>\n\n<p>Alternatively, try using IDs or custom data attributes to target the elements instead of xpath. Something like <code>find_by_css_selector('.my_class')</code> may work better.</p>\n"}, {"tags": [], "owner": {"reputation": 683, "user_id": 4377095, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/--K9A2F3rTdo/AAAAAAAAAAI/AAAAAAAAACs/dJw8apFZdkg/photo.jpg?sz=128", "display_name": "Led", "link": "https://stackoverflow.com/users/4377095/led"}, "is_accepted": false, "score": 2, "last_activity_date": 1571666303, "last_edit_date": 1571666303, "creation_date": 1543482829, "answer_id": 53535402, "question_id": 47563515, "link": "https://stackoverflow.com/questions/47563515/selenium-find-element-by-xpath-not-working/53535402#53535402", "title": "Selenium find element by xpath not working", "body": "<p>Inspect the element and check if its inside the iframe, </p>\n\n<p>if it does, you need switch to the frame first</p>\n\n<pre><code>driver.switch_to_frame(frame_id)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9028350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d57bdc238fe14c28118745b782d9aec?s=128&d=identicon&r=PG&f=1", "display_name": "ewt12", "link": "https://stackoverflow.com/users/9028350/ewt12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1515, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571666303, "creation_date": 1511997772, "last_edit_date": 1512002750, "question_id": 47563515, "link": "https://stackoverflow.com/questions/47563515/selenium-find-element-by-xpath-not-working", "title": "Selenium find element by xpath not working", "body": "<p>So to find a word in a certain page i decided to do this:</p>\n\n<pre><code>    bodies = browser.find_elements_by_xpath('//*[self::span or self::strong or self::b or self::h1 or self::h2 or self::h3 or self::h4 or self::h5 or self::h6 or self::p]')\n    for i in bodies:\n        bodytext = i.text\n        if \"description\" in bodytext or \"Description\" in bodytext:\n            print(\"found\")\n            print(i.text)\n</code></pre>\n\n<p>I believe the code itself is fine, but ultimately I get nothing. To be honest I am not sure what is happening, it just seems like it doesn't work.\nHere is an example of what <a href=\"https://www.ebay.com/itm/Mummy-Sleeping-Bag-5F-15C-Camping-Hiking-With-Carrying-Case-Brand-New/310910954969?epid=22003301214&amp;hash=item4863bcadd9:g:u08AAOSwhqhaA6eT\" rel=\"nofollow noreferrer\">website</a> it would be ran on.  Here is some of the page source:</p>\n\n<pre><code>&lt;h2&gt;product description&lt;/h2&gt;\n</code></pre>\n\n<p>EDIT: It may be because the element is not in view, but I have tried to fix it with that in mind. Still, no luck.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "merge", "counter"], "comments": [{"owner": {"reputation": 969, "user_id": 3806649, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/63315452d63a9653e072e49416427558?s=128&d=identicon&r=PG&f=1", "display_name": "user3806649", "link": "https://stackoverflow.com/users/3806649/user3806649"}, "edited": false, "score": 0, "creation_date": 1511999527, "post_id": 47563510, "comment_id": 82085494, "body": "Could you please help me in order to improve the question, instead of vote for close? or at least explain your reason?"}, {"owner": {"reputation": 1107, "user_id": 4050591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/33f7b1d8979ad3e52fb472baf0965edf?s=128&d=identicon&r=PG&f=1", "display_name": "Alekhya Vemavarapu", "link": "https://stackoverflow.com/users/4050591/alekhya-vemavarapu"}, "edited": false, "score": 0, "creation_date": 1512000548, "post_id": 47563510, "comment_id": 82085805, "body": "Can you please post a sample of your dataframe"}, {"owner": {"reputation": 969, "user_id": 3806649, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/63315452d63a9653e072e49416427558?s=128&d=identicon&r=PG&f=1", "display_name": "user3806649", "link": "https://stackoverflow.com/users/3806649/user3806649"}, "reply_to_user": {"reputation": 1107, "user_id": 4050591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/33f7b1d8979ad3e52fb472baf0965edf?s=128&d=identicon&r=PG&f=1", "display_name": "Alekhya Vemavarapu", "link": "https://stackoverflow.com/users/4050591/alekhya-vemavarapu"}, "edited": false, "score": 0, "creation_date": 1512030929, "post_id": 47563510, "comment_id": 82095464, "body": "@AlekhyaVemavarapu, I added the explanation of the creation of the dataframe."}, {"owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 0, "creation_date": 1524810133, "post_id": 47563510, "comment_id": 87129207, "body": "@user3806649 In your <b>Edit2</b>, you have 2 occurrences of <code>i</code> (<code>i += 1</code> and <code>for i in ...</code>): this is definitely a mistake somewhere in your code (in particular, why do you have <code>i</code> in the first place since you don&#39;t use it). Moreover, using <code>dict( list( ...))</code> and then just using the keys of the dictionary seems strange."}, {"owner": {"reputation": 969, "user_id": 3806649, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/63315452d63a9653e072e49416427558?s=128&d=identicon&r=PG&f=1", "display_name": "user3806649", "link": "https://stackoverflow.com/users/3806649/user3806649"}, "reply_to_user": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 0, "creation_date": 1524898279, "post_id": 47563510, "comment_id": 87163842, "body": "@Jean-FrancoisT., the first use of i is additional as you mentioned. about the (key, value) pair, as I want to merge multiple dictionaries, the merged dict (<code>flows</code>) has the same value as the df2. <code>flows[&quot;%s, %s&quot; % (key,i)] = df2[i]</code>"}, {"owner": {"reputation": 9000, "user_id": 1603480, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8063844ba80a593f6cf123309ce15c34?s=128&d=identicon&r=PG", "display_name": "Jean-Francois T.", "link": "https://stackoverflow.com/users/1603480/jean-francois-t"}, "edited": false, "score": 0, "creation_date": 1525230573, "post_id": 47563510, "comment_id": 87271161, "body": "@user3806649 Maybe you could have done someting like <code>flows += { &quot;%s, %s&quot; % (key,k):v for k, v in dict(list(gp)).items() }</code>."}], "owner": {"reputation": 969, "user_id": 3806649, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/63315452d63a9653e072e49416427558?s=128&d=identicon&r=PG&f=1", "display_name": "user3806649", "link": "https://stackoverflow.com/users/3806649/user3806649"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530738224, "creation_date": 1511997755, "last_edit_date": 1530738224, "question_id": 47563510, "link": "https://stackoverflow.com/questions/47563510/how-to-merge-python-dictionary-and-create-new-key-for-the-intersections", "title": "How to merge python dictionary and create new key for the intersections", "body": "<p>I have a dictionary of python <code>dataframe</code> called <code>df</code>. I want to split each <code>dataframe</code> based on gap threshold of 4.5 on the <code>time_epoch</code> column and then merge all the result as a single collection.</p>\n\n<p>From the <a href=\"https://stackoverflow.com/questions/31543697/how-to-split-pandas-dataframe-based-on-difference-of-values-in-a-column%20and\">this question</a> and <a href=\"https://stackoverflow.com/questions/11290092/python-elegantly-merge-dictionaries-with-sum-of-values\">this question</a>, I came up with following code but I get an error:</p>\n\n<pre><code>keys= df.keys()    \nall = Counter()\nfor key in keys:\n    ids = (df[key]['time_epoch'] &gt; (df[key]['time_epoch'].shift() + 4.5)).cumsum()\n    gp= df[key].groupby(ids)\n    all.update(Counter(dict(list(gp))))\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Users\\...\\Miniconda3\\lib\\site-packages\\pandas\\core\\ops.py\", line 1176, in na_op\n    raise_on_error=True, **eval_kwargs)\nFile \"C:\\Users\\...\\Miniconda3\\lib\\site-packages\\pandas\\core\\computation\\expressions.py\", line 211, in evaluate\n    **eval_kwargs)\nFile \"C:\\Users\\...\\Miniconda3\\lib\\site-packages\\pandas\\core\\computation\\expressions.py\", line 64, in _evaluate_standard\n    return op(a, b)\nTypeError: must be str, not int\n\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile  \"C:\\Users\\...\\Miniconda3\\lib\\site-packages\\pandas\\core\\internals.py\",  line 1184, in eval\n     result = get_result(other)\nFile \"C:\\Users\\...\\Miniconda3\\lib\\site-packages\\pandas\\core\\internals.py\",  line 1153, in get_result\n     result = func(values, other)\nFile \"C:\\Users\\...\\Miniconda3\\lib\\site-packages\\pandas\\core\\ops.py\", line  1202, in na_op\n     result[mask] = op(xrav, y)\nTypeError: must be str, not int\n\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\nFile \"D:/code.py\", line 53, in  &lt;module&gt;\n     function()\nFile \"D:/code.py\", line 41, in function\n     all.update(Counter(dict(list(flow_key))))\n</code></pre>\n\n<p><strong>Edit1</strong> </p>\n\n<p>My <code>df</code> is created as follow:</p>\n\n<pre><code>dftemp = pd.read_csv(\n    \"traffic.csv\",\n    skipinitialspace=True,\n    usecols=[\n        'time_epoch', 'ip.src', 'ip.dst', 'tcp.srcport', 'tcp.dstport',\n        'frame.len', 'tcp.flags', 'Protocol',\n    ],\n    na_filter=False,\n    encoding=\"utf-8\")\ncomplete = pd.read_csv(\n    \"traffic.csv\",\n    skipinitialspace=True,\n    usecols=[\n        'frame.time_epoch', 'ip.src', 'ip.dst', 'tcp.srcport',\n        'tcp.dstport', 'frame.len', 'tcp.flags', 'Protocol',\n    ],\n    na_filter=False,\n    encoding=\"utf-8\")\n\ncomplete.loc[(complete['ip.dst'] == hostip[i]), 'frame.len'] = complete['frame.len'] * -1\ncomplete.loc[(complete['frame.len'] &lt; 0), 'ip.src'] = dftemp['ip.dst']\ncomplete.loc[(complete['frame.len'] &lt; 0), 'ip.dst'] = dftemp['ip.src']\ncomplete.loc[(complete['frame.len'] &lt; 0), 'tcp.srcport'] = dftemp['tcp.dstport']\ncomplete.loc[(complete['frame.len'] &lt; 0), 'tcp.dstport'] = dftemp['tcp.srcport']\n\ncomplete_flow = complete.groupby(\n    ['ip.src','ip.dst','tcp.srcport','tcp.dstport','Protocol'])\ndf = dict(list(complete_flow))\n</code></pre>\n\n<p><code>df</code> contains network traffic flows, which I want to split each flow using a threshold on packets timestamp gap.</p>\n\n<p><strong>Edit2</strong></p>\n\n<p>I find that counter only keep count of each key, so I iterate over new dictionary and create unique key for each, is there a pythonic way of doing this?</p>\n\n<pre><code>flows = {}\ni = 1\nfor key in keys:\n    i += 1\n    flow_ids = (df[key]['time_epoch'] &gt; (df[key]['time_epoch'].shift() + 4.5)).cumsum()\n    gp = df[key].groupby(ids)\n    df2 = dict(list(gp))\n    keys2 = df2.keys()\n    for i in keys2:\n        flows[\"%s, %s\" % (key,i)] = df2[i]\n    del df2\n</code></pre>\n"}, {"tags": ["python", "input", "output", "addition", "codio"], "comments": [{"owner": {"reputation": 3457, "user_id": 2364393, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1ec96cf8f037779b72871d14eab9a42?s=128&d=identicon&r=PG", "display_name": "Marek", "link": "https://stackoverflow.com/users/2364393/marek"}, "edited": false, "score": 1, "creation_date": 1511997961, "post_id": 47563506, "comment_id": 82084987, "body": "Try to edit your question, make the title more specific, so more people can help you."}, {"owner": {"reputation": 1087, "user_id": 1082007, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/VIi3c.jpg?s=128&g=1", "display_name": "elliottregan", "link": "https://stackoverflow.com/users/1082007/elliottregan"}, "edited": false, "score": 1, "creation_date": 1511997965, "post_id": 47563506, "comment_id": 82084989, "body": "You\u2019re goin to have to share more info than this."}], "answers": [{"tags": [], "owner": {"reputation": 580, "user_id": 8322055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47ff67e2d843eb69b55c877182de0?s=128&d=identicon&r=PG&f=1", "display_name": "Atto Allas", "link": "https://stackoverflow.com/users/8322055/atto-allas"}, "is_accepted": false, "score": 0, "last_activity_date": 1511997887, "creation_date": 1511997887, "answer_id": 47563535, "question_id": 47563506, "link": "https://stackoverflow.com/questions/47563506/addition-with-one-input/47563535#47563535", "title": "Addition with One input", "body": "<p>This is asking you to make a function which adds 12 to any number you input. </p>\n\n<p>This could be done as follows:</p>\n\n<pre><code>def add_12(num):\n    return num+12\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9701, "user_id": 5165332, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/93c5b8f16dce739cd7e4336034e1f76c?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Lisitsky", "link": "https://stackoverflow.com/users/5165332/eugene-lisitsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1512073439, "creation_date": 1512073439, "answer_id": 47581966, "question_id": 47563506, "link": "https://stackoverflow.com/questions/47563506/addition-with-one-input/47581966#47581966", "title": "Addition with One input", "body": "<p>It's a task definition. You have to write a function which accepts one input parameter, add <code>12</code> to it, and return back to caller.</p>\n"}, {"comments": [{"owner": {"reputation": 2478, "user_id": 4598175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b443bd1cc0f5af3cf9cc829e821a0f1?s=128&d=identicon&r=PG&f=1", "display_name": "Danizavtz", "link": "https://stackoverflow.com/users/4598175/danizavtz"}, "edited": false, "score": 0, "creation_date": 1591544191, "post_id": 62247414, "comment_id": 110090294, "body": "This question is already answered, if you think there is something to add to this question,  you should put at least a different solution from what is answered here."}], "tags": [], "owner": {"reputation": 1, "user_id": 11280795, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-trEN0I_isAU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3-81iDFA6pzM9utOBxjjTqTxUrQ/mo/photo.jpg?sz=128", "display_name": "APRO", "link": "https://stackoverflow.com/users/11280795/apro"}, "is_accepted": false, "score": 0, "last_activity_date": 1591542824, "creation_date": 1591542824, "answer_id": 62247414, "question_id": 47563506, "link": "https://stackoverflow.com/questions/47563506/addition-with-one-input/62247414#62247414", "title": "Addition with One input", "body": "<p>Your solution is as below:</p>\n\n<p>print(N+12)</p>\n"}], "owner": {"reputation": 1, "user_id": 9028396, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214364427280060/picture?type=large", "display_name": "Casey Watson", "link": "https://stackoverflow.com/users/9028396/casey-watson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1971, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1591542824, "creation_date": 1511997745, "last_edit_date": 1512073370, "question_id": 47563506, "link": "https://stackoverflow.com/questions/47563506/addition-with-one-input", "title": "Addition with One input", "body": "<p>I am using codio and ran into a challenge that doesn't make sense to me. \nIt says \"Your code should expect one input. All you need to do is add 12 to it and output the result\".</p>\n\n<p>I am new to Python and was wondering if someone could explain what this means. I can't seem to find any information anywhere else. </p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 834, "user_id": 280574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51a6f5a2878e4b7579ba425526529488?s=128&d=identicon&r=PG", "display_name": "Jason Wheeler", "link": "https://stackoverflow.com/users/280574/jason-wheeler"}, "edited": false, "score": 1, "creation_date": 1511998789, "post_id": 47563482, "comment_id": 82085265, "body": "it&#39;s much better to include the error message ouput in the question, especially when it&#39;s a short message"}], "answers": [{"tags": [], "owner": {"reputation": 2273, "user_id": 1943571, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/253e43bd3cb6d8989bbcde801d843f79?s=128&d=identicon&r=PG", "display_name": "Remolten", "link": "https://stackoverflow.com/users/1943571/remolten"}, "is_accepted": true, "score": 1, "last_activity_date": 1511997798, "creation_date": 1511997798, "answer_id": 47563519, "question_id": 47563482, "link": "https://stackoverflow.com/questions/47563482/pygame-cannot-blit-an-image-to-a-list-of-rectangles/47563519#47563519", "title": "Pygame Cannot Blit An Image To A List Of Rectangles", "body": "<p>From what I can see, you're trying to add the result of <code>image.get_rect()</code> to your <code>myBodies</code> list.</p>\n\n<p>You should use the <code>list.append</code> method to add an element to a <code>list</code> object.</p>\n\n<p>Change this line:</p>\n\n<pre><code>myBodies = myBodies + image.get_rect()\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>myBodies.append(image.get_rect())\n</code></pre>\n\n<p>That will fix your error.</p>\n"}], "owner": {"reputation": 5, "user_id": 8885777, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3ce67af30aef671b9481aaf4aa541c50?s=128&d=identicon&r=PG&f=1", "display_name": "Berkly", "link": "https://stackoverflow.com/users/8885777/berkly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 47563519, "answer_count": 1, "score": 0, "last_activity_date": 1511997798, "creation_date": 1511997523, "question_id": 47563482, "link": "https://stackoverflow.com/questions/47563482/pygame-cannot-blit-an-image-to-a-list-of-rectangles", "title": "Pygame Cannot Blit An Image To A List Of Rectangles", "body": "<p>I am working with pygame, and I thought it'd be a super neat idea to make it so that the bricks were automatically generated at the beginning of the game. So I made a function that asks for how many bricks you want generated, and then creates the \"bodies\" for those bricks in special locations and assigns them to a list. Then, in the while loop, I try to blit those with the according image. However, I get an error I have never seen before.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QAPT1.png\" rel=\"nofollow noreferrer\">Error Image</a>  </p>\n\n<pre><code>import pygame, sys\nimport random\nimport numpy\npygame.init()\n\ndef myPopulater(amountToMake, image, width, h):\n\n\n    myBodies = []\n    for i in range(amountToMake):\n        r1 = numpy.random.randint(0, width)\n        r2 = numpy.random.randint(0, h)\n        myBodies = myBodies + image.get_rect()\n        myBodies[i].x = r1\n        myBodies[i].x = r2\n    return myBodies\n\nwidth = 500\nh = 500\n\nball = pygame.image.load(\"c:\\\\python\\\\ball.png\")\nscreen = pygame.display.set_mode((width, h))\n\nmyList = myPopulater(25, ball, width, h)\nwhile (1):\n        #WHENEVER SOMETHING HAPPENS\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                sys.exit()\n\n        screen.fill(black)\n        for i in range(0, 25):\n            screen.blit(ball, myList[i])\n        pygame.display.flip()\n</code></pre>\n"}, {"tags": ["python", "deep-learning", "pytorch"], "comments": [{"owner": {"reputation": 2016, "user_id": 6076729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-4HZYb101vrI/AAAAAAAAAAI/AAAAAAAAHP0/F4XjN3SAfq4/photo.jpg?sz=128", "display_name": "Manuel Lagunas", "link": "https://stackoverflow.com/users/6076729/manuel-lagunas"}, "edited": false, "score": 1, "creation_date": 1512035967, "post_id": 47563398, "comment_id": 82098363, "body": "Well, your output has size: [3, 100, 1024] while <code>CrossEntropyLoss</code> says:  &quot;The <code>input</code> is expected to contain scores for each class.      <code>input</code> has to be a 2D <code>Tensor</code> of size <code>batch x n</code>.      This criterion expects a class index (0 to nClasses-1) as the     <code>target</code> for each value of a 1D tensor of size <code>n</code>&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 5244410, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/c2e125721f74672d38c5dcd66aaf5bb4?s=128&d=identicon&r=PG&f=1", "display_name": "wprins", "link": "https://stackoverflow.com/users/5244410/wprins"}, "edited": false, "score": 0, "creation_date": 1512262352, "post_id": 47573245, "comment_id": 82186777, "body": "Thanks so much, I posted updated code. I&#39;ve got my model training but its only getting ~33% accuracy (which is guessing). I&#39;m wondering if you see any specific errors. I couldn&#39;t get the dimensionality to workout in the forward propogation without running a .view(batch_size, -1) to change the concatenated hidden state sentences from [, batch_size, ] to the [batch_size, num_hidden] for the linear layer input. Is this correct?"}, {"owner": {"reputation": 1132, "user_id": 1069942, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b91cc26d7d112dfe5af12b2ed1ed387?s=128&d=identicon&r=PG", "display_name": "Egor Lakomkin", "link": "https://stackoverflow.com/users/1069942/egor-lakomkin"}, "reply_to_user": {"reputation": 658, "user_id": 5244410, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/c2e125721f74672d38c5dcd66aaf5bb4?s=128&d=identicon&r=PG&f=1", "display_name": "wprins", "link": "https://stackoverflow.com/users/5244410/wprins"}, "edited": false, "score": 0, "creation_date": 1512302743, "post_id": 47573245, "comment_id": 82194470, "body": "First thing to note is that your hidden size has torch.Size([2, 64, 128] dimensions.  We need to correctly reshape it to be (64, 256). Can you try h_1_last = h_1_last.transpose(0,1).contiguous().view(batch_size, -1) and then concatenate both hidden vectors?"}], "tags": [], "owner": {"reputation": 1132, "user_id": 1069942, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8b91cc26d7d112dfe5af12b2ed1ed387?s=128&d=identicon&r=PG", "display_name": "Egor Lakomkin", "link": "https://stackoverflow.com/users/1069942/egor-lakomkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1512066925, "last_edit_date": 1512066925, "creation_date": 1512044027, "answer_id": 47573245, "question_id": 47563398, "link": "https://stackoverflow.com/questions/47563398/loss-dimensionality-issue-in-pytorch-sequence-to-label-learning/47573245#47573245", "title": "Loss dimensionality issue in PyTorch (sequence to label learning)", "body": "<p>I think there is an issue in a way you are trying to solve an entailment problem.</p>\n\n<p>Maybe you can do it this way:</p>\n\n<ol>\n<li>design your module to accept two sentences as input</li>\n<li>embed both of them with your embeddings</li>\n<li>encode them using the LSTM module.</li>\n<li>now you have two fixed length vector representations of two sentences. Simpliest thing to do is to just concatenate them\ntogether.</li>\n<li>Add liner layer on top to evaluate scores for each entailment class (3 I suppose)</li>\n<li>apply softmax to get a proper probability distribution</li>\n</ol>\n\n<p>So your model can look like this (double check the dimensions):</p>\n\n<pre><code>class myLSTM(nn.Module):\n    def __init__(self, h_size=128, v_size=10, embed_d=300, num_classes = 3):\n        super(myLSTM, self).__init__()\n        self.embedding = nn.Embedding(v_size, embed_d)\n        self.lstm = nn.LSTM(embed_d, h_size, num_layers=1, bidirectional=True, batch_first=True)\n        self.mlp = nn.Linear(2*h_size*2, num_classes) #&lt;- change here\n\n    def forward(self, sentence1, sentence2):\n        embeds_1 = self.embedding(sentence1)\n        embeds_2 = self.embedding(sentence2)\n        _, (h_1_last, _) = self.lstm(embeds_1) #note the change here. Last hidden state is taken\n        _, (h_2_last, _) = self.lstm(embeds_2)\n        concat = torch.concat([h_1_last, h_2_last], dim=1) #double check the dimension\n        scores = self.mlp(concat)\n        probas = F.softmax(scores) #from torch.functional ...\n</code></pre>\n\n<p>Then you can play around with adding more hidden layers or thinking how combining two sentences can be done in more intelligent way (attention, etc).\nDouble check what CrossEntropyLoss accepts as input and target and adjust (is it unnormalized class scores or probability distribution). Check <a href=\"http://pytorch.org/docs/master/nn.html#lstm\" rel=\"nofollow noreferrer\">http://pytorch.org/docs/master/nn.html#lstm</a> for LSTM module documentation to clarify what LSTM returns (do you need hidden states for every word or just the representation after the last one).</p>\n"}], "owner": {"reputation": 658, "user_id": 5244410, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/c2e125721f74672d38c5dcd66aaf5bb4?s=128&d=identicon&r=PG&f=1", "display_name": "wprins", "link": "https://stackoverflow.com/users/5244410/wprins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3814, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512262336, "creation_date": 1511997019, "last_edit_date": 1512262336, "question_id": 47563398, "link": "https://stackoverflow.com/questions/47563398/loss-dimensionality-issue-in-pytorch-sequence-to-label-learning", "title": "Loss dimensionality issue in PyTorch (sequence to label learning)", "body": "<p>I am doing a sequence to label learning model in PyTorch. I have two sentences and I am classifying whether they are entailed or not (SNLI dataset). I concatenate two 50 word sentences together (sometimes padded) into a vector of length 100. I then send in minibatches into word embeddings -> LSTM -> Linear layer. I am doing cross entropy loss but I need a vector of [mini_batch, C] to go into the CrossEntropyLoss function. Instead I still have the 100 words in my vector as [mini_batch, 100, C]</p>\n\n<p>Here is my model:</p>\n\n<pre><code>class myLSTM(nn.Module):\n    def __init__(self, h_size=128, v_size=10, embed_d=300, mlp_d=256):\n        super(myLSTM, self).__init__()\n        self.embedding = nn.Embedding(v_size, embed_d)\n        self.lstm = nn.LSTM(embed_d, h_size, num_layers=1, bidirectional=True, batch_first=True)\n        self.mlp = nn.Linear(mlp_d, 1024)\n\n        # Set static embedding vectors\n        self.embedding.weight.requires_grad = False\n\n        #self.sm = nn.CrossEntropyLoss()\n\n    def display(self):\n        for param in self.parameters():\n            print(param.data.size())\n\n    def filter_params(self):\n        # Might not be compatible with python 3\n        #self.parameters = filter(lambda p: p.requires_grad, self.parameters())\n        pass\n\n    def init_hidden(self):\n        # Need to init hidden weights in LSTM\n        pass\n\n    def forward(self, sentence):\n        print(sentence.size())\n        embeds = self.embedding(sentence)\n        print(embeds.size())\n        out, _ = self.lstm(embeds)\n        print(out.size())\n        out = self.mlp(out)\n        return out\n</code></pre>\n\n<p>My training sequences with output:</p>\n\n<pre><code>batch_size = 3\nSGD_optimizer = optim.SGD(filter(lambda p: p.requires_grad, model.parameters()), lr=0.01, weight_decay=1e-4)\nADM_optimizer = optim.Adam(filter(lambda p: p.requires_grad, model.parameters()), lr=0.01)\n\ncriterion = nn.CrossEntropyLoss()\nnum_epochs = 50\n\nfrom torch.autograd import Variable\nfrom torch import optim\n\nfor epoch in range(num_epochs):\n    print(\"Epoch {0}/{1}: {2}%\".format(epoch, num_epochs, float(epoch)/num_epochs))\n    for start, end in tqdm(batch_index_gen(batch_size, len(n_data))):\n\n        # Convert minibatch to numpy\n        s1, s2, y = convert_to_numpy(n_data[start:end])\n\n        # Convert numpy to Tensor\n        res = np.concatenate((s1,s2), axis=1) # Attach two sentences into 1 input vector\n        input_tensor = torch.from_numpy(res).type(torch.LongTensor)\n        target_tensor = torch.from_numpy(y).type(torch.FloatTensor)\n        data, target = Variable(input_tensor), Variable(target_tensor)\n\n        # Zero gradients\n        SGD_optimizer.zero_grad()\n\n        # Forward Pass\n        output = model.forward(data) \n        print(\"Output size: \")\n        print(output.size())\n        print(\"Target size: \")\n        print(target.size())\n        # Calculate loss with respect to training labels\n        loss = criterion(output, target)\n\n        # Backprogogate and update optimizer\n        loss.backward()\n        SGD_optimizer.step()\n        #ADAM_optimizer.step()    \n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Epoch 0/50: 0.0%\ntorch.Size([3, 100])\ntorch.Size([3, 100, 300])\ntorch.Size([3, 100, 256])\nOutput size: \ntorch.Size([3, 100, 1024])\nTarget size: \ntorch.Size([3])\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>ValueError: Expected 2 or 4 dimensions (got 3)\n</code></pre>\n\n<p><strong>EDITED -------------------------------------------------------------------</strong></p>\n\n<p>I have now got my model training but I am getting low accuracy. Is there an issue with my LSTM outputs being concatenated and then condensed to a smaller tensor to go through my linear layer?</p>\n\n<p><strong>New Model:</strong></p>\n\n<pre><code>class myLSTM(nn.Module):\n    def __init__(self, h_size=128, v_size=10, embed_d=300, mlp_d=256, num_classes=3, lstm_layers=1):\n        super(myLSTM, self).__init__()\n        self.num_layers = lstm_layers\n        self.hidden_size = h_size\n        self.embedding = nn.Embedding(v_size, embed_d)\n        self.lstm = nn.LSTM(embed_d, h_size, num_layers=lstm_layers, bidirectional=True, batch_first=True)\n        self.mlp = nn.Linear(2 * h_size * 2, num_classes)\n\n        # Set static embedding vectors\n        self.embedding.weight.requires_grad = False\n\n    def forward(self, s1, s2):\n        # Set initial states\n        #h0 = Variable(torch.zeros(self.num_layers*2, s1.size(0), self.hidden_size)).cuda() # 2 for bidirection \n        #c0 = Variable(torch.zeros(self.num_layers*2, s1.size(0), self.hidden_size)).cuda()\n\n        batch_size = s1.size()[0]\n        embeds_1 = self.embedding(s1)\n        embeds_2 = self.embedding(s2)\n        _, (h_1_last, _) = self.lstm(embeds_1)#, (h0, c0)) #note the change here. Last hidden state is taken\n        _, (h_2_last, _) = self.lstm(embeds_2)#, (h0, c0))\n        concat = torch.cat( (h_1_last, h_2_last), dim=2) #double check the dimension\n        concat = concat.view(batch_size, -1)\n        scores = self.mlp(concat)\n        return scores\n</code></pre>\n\n<p><strong>New Training</strong></p>\n\n<pre><code>batch_size = 64\nSGD_optimizer = optim.SGD(filter(lambda p: p.requires_grad, model.parameters()), lr=0.001, weight_decay=1e-4)\n\ncriterion = nn.CrossEntropyLoss()\nnum_epochs = 10\nmodel.train()\n\nif cuda:\n    model = model.cuda()\n    criterion = criterion.cuda()\n\nfrom torch.autograd import Variable\nfrom torch import optim\n\nepoch_losses = []\n\nfor epoch in range(num_epochs):\n    print(\"Epoch {0}/{1}: {2}%\".format(epoch, num_epochs, 100*float(epoch)/num_epochs))\n\n    # Batch loss aggregator\n    losses = []\n\n    for start, end in tqdm(batch_index_gen(batch_size, len(n_data))):\n        # Convert minibatch to numpy\n        s1, s2, y = convert_to_numpy(n_data[start:end])\n\n        # Convert numpy to Tensor\n        s1_tensor = torch.from_numpy(s1).type(torch.LongTensor)\n        s2_tensor = torch.from_numpy(s2).type(torch.LongTensor)\n        target_tensor = torch.from_numpy(y).type(torch.LongTensor)\n\n        s1 = Variable(s1_tensor)\n        s2 = Variable(s2_tensor)\n        target = Variable(target_tensor)\n\n        if cuda:\n            s1 = s1.cuda()\n            s2 = s2.cuda()\n            target = target.cuda()\n\n        # Zero gradients\n        SGD_optimizer.zero_grad()\n\n        # Forward Pass\n        output = model.forward(s1,s2) \n\n        # Calculate loss with respect to training labels\n        loss = criterion(output, target)\n        losses.append(loss.data[0])\n\n        # Backprogogate and update optimizer\n        loss.backward()\n        SGD_optimizer.step()\n\n    # concat losses to epoch losses\n    epoch_losses += losses\n</code></pre>\n\n<p>training with tensor sizes printed:</p>\n\n<pre><code>Epoch 0/10: 0.0%\nBatch size: 64\nSentences\ntorch.Size([64, 50])\ntorch.Size([64, 50])\ntorch.Size([64, 50, 300])\ntorch.Size([64, 50, 300])\nHidden states\ntorch.Size([2, 64, 128])\ntorch.Size([2, 64, 128])\nConcatenated hidden states\ntorch.Size([2, 64, 256])\nReshaped tensors for linear layer\ntorch.Size([64, 512])\nLinear propogation\ntorch.Size([64, 3])\n</code></pre>\n\n<p><strong>Evaluation</strong></p>\n\n<pre><code>def eval_model(model, mode='dev'):\n    file_name = 'snli_1.0/snli_1.0_dev.jsonl' if mode == 'dev' else 'snli_1.0/snli_1.0_test.jsonl'\n\n    dev_data, _ = obtain_data(file_name)\n    dev_n_data = vocab.process_data(dev_data)\n\n    print(\"Length of data: {}\".format(len(dev_n_data)))\n\n    eval_batch_size = 1024\n    model.eval()\n\n    total = len(dev_n_data)\n    hit = 0\n    correct = 0\n\n    # Batch dev eval\n    for start, end in batch_index_gen(eval_batch_size, len(dev_n_data)):\n\n        s1, s2, y = convert_to_numpy(dev_n_data[start:end])\n\n        s1_tensor = torch.from_numpy(s1).type(torch.LongTensor)\n        s2_tensor = torch.from_numpy(s2).type(torch.LongTensor)\n        target_tensor = torch.from_numpy(y).type(torch.LongTensor)\n\n        s1 = Variable(s1_tensor, volatile=True)\n        s2 = Variable(s2_tensor, volatile=True)\n        target = Variable(target_tensor, volatile=True)\n\n        if cuda:\n            s1 = s1.cuda()\n            s2 = s2.cuda()\n            target = target.cuda()\n\n        output = model.forward(s1,s2)\n        loss = criterion(output, target)\n\n        #print(\"output size: {}\".format(output.size()))\n        #print(\"target size: {}\".format(target.size()))\n        pred = output.data.max(1)[1] # get the index of the max log-probability\n        #print(pred[:5])\n        #print(output[:])\n        correct += pred.eq(target.data).cpu().sum()\n\n    return correct / float(total)\n\neval_model(model)\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1511997008, "post_id": 47563379, "comment_id": 82084655, "body": "I don&#39;t understand what you are trying to do"}, {"owner": {"reputation": 247, "user_id": 4724046, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fde6adf4befb2874b931f3eea14b544?s=128&d=identicon&r=PG&f=1", "display_name": "ytutow", "link": "https://stackoverflow.com/users/4724046/ytutow"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511997128, "post_id": 47563379, "comment_id": 82084689, "body": "Added <code>d_i = a_i * c_i + (1-c_i) *b_i</code>, where each variable denotes each element in each array in list."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1511997658, "post_id": 47563379, "comment_id": 82084879, "body": "Why do you have lists of arrays?"}], "answers": [{"comments": [{"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1511997482, "post_id": 47563443, "comment_id": 82084810, "body": "Ideally a list comprehension is the most efficient for creating a list. However, as you say if you have further operations, it&#39;s good to defer list creation."}, {"owner": {"reputation": 247, "user_id": 4724046, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fde6adf4befb2874b931f3eea14b544?s=128&d=identicon&r=PG&f=1", "display_name": "ytutow", "link": "https://stackoverflow.com/users/4724046/ytutow"}, "edited": false, "score": 0, "creation_date": 1511997510, "post_id": 47563443, "comment_id": 82084824, "body": "Wow, you are clever!"}, {"owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1511997549, "post_id": 47563443, "comment_id": 82084840, "body": "@xaav I can update to use a list comprehension, but a generator comprehension is truly the most efficient as it doesn&#39;t save anything unnecessarily if the list is only being traversed once."}, {"owner": {"reputation": 247, "user_id": 4724046, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fde6adf4befb2874b931f3eea14b544?s=128&d=identicon&r=PG&f=1", "display_name": "ytutow", "link": "https://stackoverflow.com/users/4724046/ytutow"}, "edited": false, "score": 0, "creation_date": 1511997557, "post_id": 47563443, "comment_id": 82084844, "body": "You reminds me <code>d = [], for x, y, z in zip(a,b, c): d.append(z*x + (1-z) *y)</code>, could anyone comments on this way?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511997608, "post_id": 47563443, "comment_id": 82084865, "body": "It depends what y&#39;all mean by &quot;efficient&quot;. List comprehensions are marginally faster than equivalent for-loops at constructing lists. If you don&#39;t actually need a list, and merely need to process each element, then a generator-expression or some form of lazy-iterable would be ideal."}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "reply_to_user": {"reputation": 247, "user_id": 4724046, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fde6adf4befb2874b931f3eea14b544?s=128&d=identicon&r=PG&f=1", "display_name": "ytutow", "link": "https://stackoverflow.com/users/4724046/ytutow"}, "edited": false, "score": 0, "creation_date": 1511997691, "post_id": 47563443, "comment_id": 82084887, "body": "@ytutow That is horrible."}, {"owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "reply_to_user": {"reputation": 247, "user_id": 4724046, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fde6adf4befb2874b931f3eea14b544?s=128&d=identicon&r=PG&f=1", "display_name": "ytutow", "link": "https://stackoverflow.com/users/4724046/ytutow"}, "edited": false, "score": 0, "creation_date": 1511997784, "post_id": 47563443, "comment_id": 82084918, "body": "Yeah @ytutow you are <code>zip</code>ing the things together unnecessarily. So you are constructing a tuple and then unpacking it for no reason other than readability."}], "tags": [], "owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "is_accepted": true, "score": 1, "last_activity_date": 1511997582, "last_edit_date": 1511997582, "creation_date": 1511997288, "answer_id": 47563443, "question_id": 47563379, "link": "https://stackoverflow.com/questions/47563379/element-wise-combine-list-of-numpy-arrays/47563443#47563443", "title": "element wise combine list of numpy arrays", "body": "<p>Well assuming all of your lists are the same length then I don't think that there is going to be anything much more efficient than</p>\n\n<pre><code>d = [a[i] * c[i] + (1-c[i]) * b[i] for i in range(len(a))]\n</code></pre>\n\n<p>Now if all you need to do is operate upon the list <code>d</code> one time then maybe you could speed things up with a generator comprehension? </p>\n\n<pre><code>d = (a[i] * c[i] + (1-c[i]) * b[i] for i in range(len(a)))\n</code></pre>\n\n<p>But at the end of the day there is no way to create a linear combination of elements in less than linear time.</p>\n"}], "owner": {"reputation": 247, "user_id": 4724046, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2fde6adf4befb2874b931f3eea14b544?s=128&d=identicon&r=PG&f=1", "display_name": "ytutow", "link": "https://stackoverflow.com/users/4724046/ytutow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 1, "accepted_answer_id": 47563443, "answer_count": 1, "score": 0, "last_activity_date": 1511997582, "creation_date": 1511996942, "last_edit_date": 1511997159, "question_id": 47563379, "link": "https://stackoverflow.com/questions/47563379/element-wise-combine-list-of-numpy-arrays", "title": "element wise combine list of numpy arrays", "body": "<p>I am trying to do some linear combination of numpy arrays.</p>\n\n<p>I have three lists of numpy arrays: </p>\n\n<p><code>a = [np.random.normal(0,1, [1,2]), np.random.normal(0,1, [3,4]), np.random.normal(0,1, [10,11])]\nb = [np.random.normal(0,1, [1,2]), np.random.normal(0,1, [3,4]), np.random.normal(0,1, [10,11])] \nc = [np.random.normal(0,1, [1,2]), np.random.normal(0,1, [3,4]), np.random.normal(0,1, [10,11])]</code></p>\n\n<p>I want to element-wise combine each element in each array in list <code>a</code> and <code>b</code> based on corresponding element's value of <code>c</code> , to get a new list <code>d</code>: say <code>d_i = a_i * c_i + (1-c_i) *b_i</code>(linear combination).</p>\n\n<p>What I thought was to pick each element in each array in <code>a</code> and find corresponding elements in <code>b</code> and <code>c</code> and then combine. However, I found this is troublesome, inefficient and a bit stupid. Could anyone suggest a better way?</p>\n"}, {"tags": ["python", "matplotlib", "scatter-plot", "colorbar"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 7401279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee732f73442e850a8bccae28ddd854e1?s=128&d=identicon&r=PG&f=1", "display_name": "Raket Makhim", "link": "https://stackoverflow.com/users/7401279/raket-makhim"}, "edited": false, "score": 0, "creation_date": 1512050974, "post_id": 47565569, "comment_id": 82107646, "body": "What range of values does the &quot;[cm.jet(color) for color in c] &quot; take because  im only getting one colour out of it for a range of 0.22-0.25."}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "reply_to_user": {"reputation": 107, "user_id": 7401279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee732f73442e850a8bccae28ddd854e1?s=128&d=identicon&r=PG&f=1", "display_name": "Raket Makhim", "link": "https://stackoverflow.com/users/7401279/raket-makhim"}, "edited": false, "score": 0, "creation_date": 1512053115, "post_id": 47565569, "comment_id": 82109060, "body": "Try scaling your colors to the range 0 to 1. There may be an option to autoscale, but I am not an expert in colormaps."}, {"owner": {"reputation": 719, "user_id": 2506817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqIxT.jpg?s=128&g=1", "display_name": "Tanasis", "link": "https://stackoverflow.com/users/2506817/tanasis"}, "edited": false, "score": 0, "creation_date": 1541608928, "post_id": 47565569, "comment_id": 93276640, "body": "Is there any other way to get the color map without the <code>scatter</code> trick?"}], "tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": true, "score": 8, "last_activity_date": 1540468279, "last_edit_date": 1540468279, "creation_date": 1512013819, "answer_id": 47565569, "question_id": 47563373, "link": "https://stackoverflow.com/questions/47563373/plotting-circles-with-no-fill-colour-size-depending-on-variables-using-scatte/47565569#47565569", "title": "Plotting circles with no fill, colour &amp; size depending on variables using scatter", "body": "<p>I believe doing both approaches may achieve what you are trying to do. First draw the unfilled circles, then do a scatter plot with the same points. For the scatter plots, make the size 0 but use it to set the colorbar.</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\nimport matplotlib.cm as cm\n\n%matplotlib inline\n\n# generate some random data\nnpoints = 5\nx = np.random.randn(npoints)\ny = np.random.randn(npoints)\n\n# make the size proportional to the distance from the origin\ns = [0.1*np.linalg.norm([a, b]) for a, b in zip(x, y)]\ns = [a / max(s) for a in s]  # scale\n\n# set color based on size\nc = s\ncolors = [cm.jet(color) for color in c]  # gets the RGBA values from a float\n\n# create a new figure\nplt.figure()\nax = plt.gca()\nfor a, b, color, size in zip(x, y, colors, s):\n    # plot circles using the RGBA colors\n    circle = plt.Circle((a, b), size, color=color, fill=False)\n    ax.add_artist(circle)\n\n# you may need to adjust the lims based on your data\nminxy = 1.5*min(min(x), min(y))\nmaxxy = 1.5*max(max(x), max(y))\nplt.xlim([minxy, maxxy])\nplt.ylim([minxy, maxxy])\nax.set_aspect(1.0)  # make aspect ratio square\n\n# plot the scatter plot\nplt.scatter(x,y,s=0, c=c, cmap='jet', facecolors='none')\nplt.grid()\nplt.colorbar()  # this works because of the scatter\nplt.show()\n</code></pre>\n\n<p>Example plot from one of my runs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WL2eR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WL2eR.png\" alt=\"Example plot output\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 623, "user_id": 8205660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d06efa2772a1a7d8a0d1f7732755a8?s=128&d=identicon&r=PG&f=1", "display_name": "R. Cox", "link": "https://stackoverflow.com/users/8205660/r-cox"}, "edited": false, "score": 0, "creation_date": 1529919011, "post_id": 50992630, "comment_id": 89032993, "body": "<a href=\"https://stackoverflow.com/questions/51020192/circle-plot-with-color-bar\" title=\"circle plot with color bar\">stackoverflow.com/questions/51020192/circle-plot-with-color-&zwnj;&#8203;bar</a>"}], "tags": [], "owner": {"reputation": 623, "user_id": 8205660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d06efa2772a1a7d8a0d1f7732755a8?s=128&d=identicon&r=PG&f=1", "display_name": "R. Cox", "link": "https://stackoverflow.com/users/8205660/r-cox"}, "is_accepted": false, "score": 2, "last_activity_date": 1529918245, "last_edit_date": 1529918245, "creation_date": 1529686974, "answer_id": 50992630, "question_id": 47563373, "link": "https://stackoverflow.com/questions/47563373/plotting-circles-with-no-fill-colour-size-depending-on-variables-using-scatte/50992630#50992630", "title": "Plotting circles with no fill, colour &amp; size depending on variables using scatter", "body": "<p>@Raket Makhim wrote:</p>\n\n<pre><code>\"I'm only getting one colour\"\n</code></pre>\n\n<p>&amp; @pault  replied:</p>\n\n<pre><code>\"Try scaling your colors to the range 0 to 1.\" \n</code></pre>\n\n<p>I've implemented that:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yERnR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yERnR.png\" alt=\"enter image description here\"></a></p>\n\n<p>(However, the minimum value of the colour bar is currently 1; I would like to be able to set it to 0. I'll ask a new question)</p>\n\n<pre><code>import pandas            as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.cm     as cm\nfrom sklearn import preprocessing\n\ndf = pd.DataFrame({'A':[1,2,1,2,3,4,2,1,4], \n                   'B':[3,1,5,1,2,4,5,2,3], \n                   'C':[4,2,4,1,3,3,4,2,1]})\n\n# set the Colour\nx              = df.values\nmin_max_scaler = preprocessing.MinMaxScaler()\nx_scaled       = min_max_scaler.fit_transform(x)\ndf_S           = pd.DataFrame(x_scaled)\nc1             = df['C']\nc2             = df_S[2]\ncolors         = [cm.jet(color) for color in c2]\n\n# Graph\nplt.figure()\nax = plt.gca()\nfor a, b, color in zip(df['A'], df['B'], colors):\n    circle = plt.Circle((a, \n                         b), \n                         1, # Size\n                         color=color, \n                         lw=5, \n                         fill=False)\n    ax.add_artist(circle)\n\nplt.xlim([0,5])\nplt.ylim([0,5])\nplt.xlabel('A')\nplt.ylabel('B')\nax.set_aspect(1.0)\n\nsc = plt.scatter(df['A'], \n                 df['B'], \n                 s=0, \n                 c=c1, \n                 cmap='jet', \n                 facecolors='none')\nplt.grid()\n\ncbar = plt.colorbar(sc)\ncbar.set_label('C', rotation=270, labelpad=10)\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 7401279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee732f73442e850a8bccae28ddd854e1?s=128&d=identicon&r=PG&f=1", "display_name": "Raket Makhim", "link": "https://stackoverflow.com/users/7401279/raket-makhim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20575, "favorite_count": 1, "accepted_answer_id": 47565569, "answer_count": 2, "score": 9, "last_activity_date": 1540468279, "creation_date": 1511996923, "last_edit_date": 1515696155, "question_id": 47563373, "link": "https://stackoverflow.com/questions/47563373/plotting-circles-with-no-fill-colour-size-depending-on-variables-using-scatte", "title": "Plotting circles with no fill, colour &amp; size depending on variables using scatter", "body": "<p>The information I have to show on a plot are 2 coordinates: size &amp; colour (no fill). The colour is important as I need a colormap type of graph to display the information depending on a colour value. </p>\n\n<p>I went about trying two different ways of doing this:</p>\n\n<ol>\n<li><p>Create specific circles and add the individual circles.</p>\n\n<pre><code>circle1 = plt.Circle(x, y, size, color='black', fill=False)\n        ax.add_artist(circle1)\n</code></pre></li>\n</ol>\n\n<p>The problem with this method was that I could not find a way to set the colour depending on a colour value. i.e. for a value range of 0-1, I want 0 to be fully blue while 1 to be fully red hence in between are different shades of purple whose redness/blueness depend on how high/low the colour value is. </p>\n\n<ol start=\"2\">\n<li><p>After that I tried using the scatter function: </p>\n\n<pre><code>size.append(float(Info[i][8]))\nplt.scatter(x, y, c=color, cmap='jet', s=size, facecolors='none')\n</code></pre></li>\n</ol>\n\n<p>The problem with this method was that the size did not seem to vary, it could possibly be cause of the way I've created the array size. Hence if I replace the size with a big number the plot shows coloured in circles. The <code>facecolours = 'none'</code> was meant to plot the circumference only.</p>\n"}, {"tags": ["python", "arrays", "image", "numpy", "tiff"], "comments": [{"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1511997294, "post_id": 47563354, "comment_id": 82084751, "body": "What does the array represent? RGB requires three arrays. Hue/sat requires two I think."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1511998203, "post_id": 47563354, "comment_id": 82085060, "body": "@xaav in numpy, this would just be a single 4-dimensional array."}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1511998487, "post_id": 47563354, "comment_id": 82085170, "body": "What&#39;s the fourth dimension?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1511998514, "post_id": 47563354, "comment_id": 82085179, "body": "@xaav sorry, 3 dimensions, but the point is, it would be a single multidimensional array."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511998591, "post_id": 47563354, "comment_id": 82085203, "body": "Anyway, it seems to me that this may be an issue with your version of PIL. what version are you on?"}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1511998601, "post_id": 47563354, "comment_id": 82085206, "body": "<code>import imageio; im = imageio.imread(&#39;actin2.tif&#39;)</code>"}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1511998647, "post_id": 47563354, "comment_id": 82085222, "body": "Also <code>pip install imageio</code>."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1512015532, "post_id": 47563354, "comment_id": 82089506, "body": "Do you notice a difference with <code>Image.load()</code> instead of <code>Image.open()</code>? <code>Image.open()</code> is a lazy/deferred operation whereas <code>Image.load()</code> is an explicit call to load pixel data. If that doesn&#39;t work, try <code>numpy.array(a.getdata())</code>. Also does <code>show()</code> work?"}, {"owner": {"reputation": 281, "user_id": 6102131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RcFnf.png?s=128&g=1", "display_name": "Tuwuh S", "link": "https://stackoverflow.com/users/6102131/tuwuh-s"}, "edited": false, "score": 1, "creation_date": 1512049478, "post_id": 47563354, "comment_id": 82106651, "body": "Can you post the exact image? It works with arbitrary image on me."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5494269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1992d1a6e4c58164d3b034e8cdb04c58?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Shellington", "link": "https://stackoverflow.com/users/5494269/scott-shellington"}, "is_accepted": false, "score": 0, "last_activity_date": 1522941910, "creation_date": 1522941910, "answer_id": 49676124, "question_id": 47563354, "link": "https://stackoverflow.com/questions/47563354/numpy-array-is-not-converting-tiff-image-to-2d-array/49676124#49676124", "title": "numpy.array() is not converting tiff image to 2D array", "body": "<p>Ran across this same problem.  Turned out we were running PIL instead of Pillow.  This fixed it for us:</p>\n\n<blockquote>\n  <p>sudo pip uninstall PIL</p>\n  \n  <p>sudo pip install pillow -U</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 9026867, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m8fTJ6M5Trs/AAAAAAAAAAI/AAAAAAAAAD8/nILds7czmv8/photo.jpg?sz=128", "display_name": "Santiago Espinosa", "link": "https://stackoverflow.com/users/9026867/santiago-espinosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 734, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522941910, "creation_date": 1511996830, "question_id": 47563354, "link": "https://stackoverflow.com/questions/47563354/numpy-array-is-not-converting-tiff-image-to-2d-array", "title": "numpy.array() is not converting tiff image to 2D array", "body": "<p>I have been trying to figure out why the numpy.array() method is converting my tiff image into an object (dtype=object). I tried this with other tiff images and I did not encounter this problem. I am pretty sure it has to do something with how my \"actin2.tif\" image is acquired. I just need to be able to convert this particular tiff image to a 2D array. This is what my code looks like: </p>\n\n<pre><code>&gt;&gt;&gt; import numpy\n&gt;&gt;&gt; from PIL import Image\n&gt;&gt;&gt; a = Image.open('actin2.tif')\n&gt;&gt;&gt; a_array = numpy.array(a)\n&gt;&gt;&gt; a\n&lt;PIL.TiffImagePlugin.TiffImageFile image mode=I;16B size=37x58 at 0x14BBC68&gt;\n&gt;&gt;&gt; a_array\narray(&lt;PIL.TiffImagePlugin.TiffImageFile image mode=I;16B size=37x58 at 0x14BBC68&gt;, dtype=object)\n</code></pre>\n\n<p>I eventually need to be able to manipulate the value of the pixels in the image and I cannot do that without the image being converted to a 2D array. Currently, this is the error thrown when I try to manipulate the array:</p>\n\n<pre><code>structure_masked = numpy.multiply(structure_mask,image)\nTypeError: unsupported operand type(s) for *: 'bool' and 'instance'\n</code></pre>\n\n<p>which is a result from this line of code:</p>\n\n<pre><code>structure_masked = numpy.multiply(structure_mask,image)\n</code></pre>\n\n<p>\"structure_mask\" and \"image\" were converted to numpy arrays in the same way as mentioned above.</p>\n\n<p>I have tried changing mode and dtype but that does not seem to be working, any suggestions?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7090720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ae3b37a910b06553b5aaa03d82c7b2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis ", "link": "https://stackoverflow.com/users/7090720/dennis"}, "edited": false, "score": 0, "creation_date": 1511997991, "post_id": 47563415, "comment_id": 82084999, "body": "but that would create a new df right? I would like it to create a new row in the existing df:  Name     Location     Amount 1   xyz      london        23423 2  EEE     london        23423"}, {"owner": {"reputation": 55, "user_id": 7090720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ae3b37a910b06553b5aaa03d82c7b2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis ", "link": "https://stackoverflow.com/users/7090720/dennis"}, "edited": false, "score": 0, "creation_date": 1512001793, "post_id": 47563415, "comment_id": 82086102, "body": "I guess its possible to do it this way, have a second DF, and then have the two DFs concat to each other? but i am hoping there is a cleaner way to do this"}], "tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1511997106, "creation_date": 1511997106, "answer_id": 47563415, "question_id": 47563313, "link": "https://stackoverflow.com/questions/47563313/new-pandas-dataframe-row-based-on-existing-data-frame/47563415#47563415", "title": "new pandas dataframe row based on existing data frame?", "body": "<p>You can slice the dataframe based on the conditions, then change the name.</p>\n\n<pre><code>df2 = df[df.Location.eq('london') &amp; df.Amount.gt(2000)].reset_index(drop=True)\ndf2.Name = 'EEE'\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7090720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ae3b37a910b06553b5aaa03d82c7b2c1?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis ", "link": "https://stackoverflow.com/users/7090720/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512027367, "creation_date": 1511996567, "last_edit_date": 1511998112, "question_id": 47563313, "link": "https://stackoverflow.com/questions/47563313/new-pandas-dataframe-row-based-on-existing-data-frame", "title": "new pandas dataframe row based on existing data frame?", "body": "<p>Is it possible to create a row based on values of a previous row?</p>\n\n<p>Lets say </p>\n\n<pre><code>    Name     Location     Amount\n1   xyz      london        23423\n</code></pre>\n\n<p>is a row in a DF. and I want to scan the DF, and if amount > 2000 and Location == london I want to append another row that keeps the location and amount of row 1 but changes name to EEE</p>\n\n<p>As per my note, I would like the output to be the same DF but this:</p>\n\n<pre><code>    Name     Location     Amount\n1   xyz      london        23423\n2   EEE      london        23424\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1511997022, "post_id": 47563262, "comment_id": 82084661, "body": "use <code>print(subdir)</code> to see what you get. Besides char \\ has special meaning in text like &quot;\\n&quot; or &quot;\\t&quot; so better in path use \\\\ or / (<code>D:\\\\Python</code> or <code>D:&#47;Python</code>)"}, {"owner": {"reputation": 27, "user_id": 9008988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b7ff5dd00fc8c2454afe251914420a4?s=128&d=identicon&r=PG&f=1", "display_name": "cwl6", "link": "https://stackoverflow.com/users/9008988/cwl6"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1511997938, "post_id": 47563262, "comment_id": 82084981, "body": "Thank you! it works after I use \\\\ . In fact, I did try print (subdir) but it showed me D:\\Python\\project\\firstdata on cmd, so I used that but it didn&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 2273, "user_id": 1943571, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/253e43bd3cb6d8989bbcde801d843f79?s=128&d=identicon&r=PG", "display_name": "Remolten", "link": "https://stackoverflow.com/users/1943571/remolten"}, "is_accepted": true, "score": 2, "last_activity_date": 1511997025, "creation_date": 1511997025, "answer_id": 47563399, "question_id": 47563262, "link": "https://stackoverflow.com/questions/47563262/getting-data-from-different-folders/47563399#47563399", "title": "Getting data from different folders", "body": "<p>You are interpreting things wrong. See the docs for <a href=\"https://docs.python.org/2/library/os.html#os.walk\" rel=\"nofollow noreferrer\"><code>**os.walk**</code></a>.</p>\n\n<p>The 3 variables for your <code>for</code> loop should be <code>root</code>, <code>dirs</code>, and <code>files</code>, in that order.</p>\n\n<p><code>dirs</code> and <code>files</code> are lists, of the directories and files in the current directory respectively. <code>root</code> is the current directory you are in.</p>\n\n<p><code>subdir</code> is being ignored because you are using <code>os.walk</code> incorrectly.</p>\n"}], "owner": {"reputation": 27, "user_id": 9008988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b7ff5dd00fc8c2454afe251914420a4?s=128&d=identicon&r=PG&f=1", "display_name": "cwl6", "link": "https://stackoverflow.com/users/9008988/cwl6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 47563399, "answer_count": 1, "score": 0, "last_activity_date": 1511997025, "creation_date": 1511996315, "question_id": 47563262, "link": "https://stackoverflow.com/questions/47563262/getting-data-from-different-folders", "title": "Getting data from different folders", "body": "<p>I have two sets of json files store in two folders(named firstdata and seconddata) separately. I am trying to read all files in that two folders and put it into two arrays separately. Here is the code I did:</p>\n\n<pre><code>directory = os.path.normpath(\"D:\\Python\\project\")\nfor subdir, dir, file in os.walk(directory):\n    if subdir == 'D:\\Python\\project\\firstdata':\n        for f in file:\n            if f.endswith(\".json\"):\n                fread=open(os.path.join(subdir, f),'r')\n                a = fread.next().replace('\\n','').split(',')\n\n                for line in a:\n                    b = line.replace('.','').replace('\\n','').replace('\"','').split(': ')\n\n            print \"___________________________________________________________________\"\n            fread.close()   \n</code></pre>\n\n<p>However it ignores (if subdir == 'D:\\Python\\project\\firstdata': ) and get nothing at the end, can anyone helps?</p>\n"}, {"tags": ["python", "pymysql"], "answers": [{"tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 0, "last_activity_date": 1511995999, "creation_date": 1511995999, "answer_id": 47563204, "question_id": 47563189, "link": "https://stackoverflow.com/questions/47563189/pymysql-issue-with-syntax-during-insert/47563204#47563204", "title": "pymysql issue with Syntax during INSERT", "body": "<p>You can escape column names in MySQL using the ` character:</p>\n\n<pre><code>cursor.execute(\n    \"INSERT INTO deals.waterfall (`ProjectId`, `PlannedStartDate(IST)`, `2017-7`) VALUES (%s, %s, %s)\", row\n</code></pre>\n"}], "owner": {"reputation": 497, "user_id": 2480769, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/e18498c1a173797a970ab5cf1770df4b?s=128&d=identicon&r=PG", "display_name": "mnickey", "link": "https://stackoverflow.com/users/2480769/mnickey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511995999, "creation_date": 1511995893, "question_id": 47563189, "link": "https://stackoverflow.com/questions/47563189/pymysql-issue-with-syntax-during-insert", "title": "pymysql issue with Syntax during INSERT", "body": "<p>I'm trying to insert some rows from a csv file. I'm seeing the error TypeError: not all arguments converted to string formatting. I've started with this small query to run as the csv has 90 columns I need to account for. So to start, I've limited it to a few columns. ProjectId, PlannedStartDate(IST) and 2017-7.</p>\n\n<p>How can I escape the parenthesis in PlannedStartDate(IST)?\nI feel this is the error as the Traceback reads in part <code>near '(IST), 2017-7) VALUES ('PRJ278', '10/9/2017', '0')' at line 1\")</code> which tells me that this isn't being seen as part of the column name. I've tried a mixture of <code>\"</code> and <code>'</code> marks but so far nothing has worked right.\nIs the only viable option to rename the column name?</p>\n\n<pre><code>csv_data = csv.reader(open('C:\\\\Users\\\\Public\\\\Documents\\\\waterfall_data_test.csv'))\nnext(csv_data)  #skip the header row\nfor row in csv_data:\n    cursor.execute(\n        \"INSERT INTO deals.waterfall (ProjectId, PlannedStartDate(IST), 2017-7) VALUES (%s, %s, %s)\", row)\ndb.commit()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "datetime"], "comments": [{"owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 1, "creation_date": 1511996259, "post_id": 47563103, "comment_id": 82084382, "body": "See: <a href=\"https://stackoverflow.com/questions/4563272/convert-a-python-utc-datetime-to-a-local-datetime-using-only-python-standard-lib\" title=\"convert a python utc datetime to a local datetime using only python standard lib\">stackoverflow.com/questions/4563272/&hellip;</a>"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 1, "creation_date": 1511996688, "post_id": 47563103, "comment_id": 82084548, "body": "@rassar, thanks for the link. It&#39;s got useful info but doesn&#39;t answer the question I have."}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 1, "creation_date": 1511999224, "post_id": 47563103, "comment_id": 82085409, "body": "Your system&#39;s timezone is likely set to UTC.  What values do <a href=\"https://docs.python.org/3/library/time.html#timezone-constants\" rel=\"nofollow noreferrer\"><code>time.tzname</code> and friends</a> have?"}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 1, "creation_date": 1511999391, "post_id": 47563103, "comment_id": 82085456, "body": "<code>date</code> shows me the timezone; if you do <code>date -R</code> what does that say?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1511999433, "post_id": 47563103, "comment_id": 82085465, "body": "@NickT, <code>Wed, 29 Nov 2017 16:50:10 -0700</code>."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1511999759, "post_id": 47563103, "comment_id": 82085565, "body": "@jwodder, see the updated info in the question."}, {"owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 4, "creation_date": 1512017137, "post_id": 47563103, "comment_id": 82089876, "body": "You timezone is definitely hosed.  I am guessing the <code>&#39;Ame&#39;, &#39;ric&#39;</code> is the start of <code>America</code>. No clue how that happened. On my machine for <code>time.tzname</code> I get <code>(&#39;Pacific Standard Time&#39;, &#39;Pacific Daylight Time&#39;)</code>.  You did not specify your OS, etc, but track down how the timezone is set on your system..."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 0, "creation_date": 1512060475, "post_id": 47563103, "comment_id": 82113996, "body": "@StephenRauch, thanks for your input."}], "answers": [{"comments": [{"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 1, "creation_date": 1512672920, "post_id": 47578455, "comment_id": 82363705, "body": "Yet another reason I&#39;ll never use Cygwin."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 1, "creation_date": 1512673171, "post_id": 47578455, "comment_id": 82363831, "body": "@NickT, cygwin turned out to be a red herring though. The real problem is that if the environment variable <code>TZ</code> is set, even just in CMD console, the problem is still there. That&#39;s a fundamental Python problem."}, {"owner": {"reputation": 710, "user_id": 3788270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e3fed9f9ac097afe784d86ab44692d?s=128&d=identicon&r=PG&f=1", "display_name": "Ove", "link": "https://stackoverflow.com/users/3788270/ove"}, "edited": false, "score": 0, "creation_date": 1518703331, "post_id": 47578455, "comment_id": 84621293, "body": "So you&#39;re using a non-Cygwin version of Python from a Cygwin shell? Then yes, the TZ conventions will most likely be incompatible. It would probably be best to use the Cygwin version of Python if you want it to understand Unix-style TZ convention."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 710, "user_id": 3788270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e3fed9f9ac097afe784d86ab44692d?s=128&d=identicon&r=PG&f=1", "display_name": "Ove", "link": "https://stackoverflow.com/users/3788270/ove"}, "edited": false, "score": 0, "creation_date": 1518712775, "post_id": 47578455, "comment_id": 84627763, "body": "@Ove, ideally, yes. However, sometimes that&#39;s not an option."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1512065421, "last_edit_date": 1512065421, "creation_date": 1512060355, "answer_id": 47578455, "question_id": 47563103, "link": "https://stackoverflow.com/questions/47563103/why-datetime-now-and-datetime-today-show-time-in-utc-and-not-local-time-on-m/47578455#47578455", "title": "Why datetime.now() and datetime.today() show time in UTC and not local time on my PC?", "body": "<p>Initially, it appeared to be a problem caused by the use of cygwin.</p>\n\n<p>The question at <a href=\"https://stackoverflow.com/questions/40350812/cygwin-shows-utc-time-instead-of-local-time\">Cygwin shows UTC time instead of local time</a> helped further isolate the problem to the value of the environment variable <code>TZ</code> in cygwin.</p>\n\n<p>The updated script:</p>\n\n<pre><code>import time\nimport datetime\n\nif __name__ == \"__main__\":\n   print(datetime.datetime.now())\n   print(datetime.datetime.today())\n   print(datetime.datetime.fromtimestamp(time.time()))\n   print(time.altzone)\n   print(time.timezone)\n   print(time.tzname)\n</code></pre>\n\n<p>Output when run under a Windows CMD shell with, where <code>TZ</code> is not set:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"D:\\Program Files\\Python35\\python.exe\" test.py\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>2017-11-30 09:39:47.236798\n2017-11-30 09:39:47.236799\n2017-11-30 09:39:47.236799\n21600\n25200\n('Mountain Standard Time', 'Mountain Daylight Time')\n</code></pre>\n\n<p>Output when run under a cygwin bash shell with, where <code>TZ</code> is set to <code>\"America/Denver\"</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> /cygdrive/D/Program\\ Files/Python35/python.exe test.py\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>2017-11-30 16:39:45.419884\n2017-11-30 16:39:45.419884\n2017-11-30 16:39:45.419884\n-3600\n0\n('Ame', 'ric')\n</code></pre>\n\n<p>It's set to <code>\"America/Denver\"</code>. When I executed</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>env TZ=\"\" /cygdrive/D/Program\\ Files/Python35/python.exe test.py\n</code></pre>\n\n<p>I got a more sensible output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2017-11-30 09:56:08.643368\n2017-11-30 09:56:08.643368\n2017-11-30 09:56:08.643368\n21600\n25200\n('Mountain Standard Time', 'Mountain Daylight Time')\n</code></pre>\n\n<p>When I set the environment variable <code>TZ</code> to <code>\"America/Denver\"</code> in the windows CMD shell, I get the same output as when run in the cygwin shell.</p>\n\n<p>It's not clear to me how Python uses the environment variable <code>TZ</code> and what the correct values are for it.</p>\n"}, {"comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1518219852, "post_id": 48715648, "comment_id": 84430587, "body": "This sounds promising. I&#39;ll definite investigate further using your suggestion."}, {"owner": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1518545687, "post_id": 48715648, "comment_id": 84547687, "body": "Glad to hear it!"}], "tags": [], "owner": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "is_accepted": true, "score": 6, "last_activity_date": 1518224009, "last_edit_date": 1518224009, "creation_date": 1518219522, "answer_id": 48715648, "question_id": 47563103, "link": "https://stackoverflow.com/questions/47563103/why-datetime-now-and-datetime-today-show-time-in-utc-and-not-local-time-on-m/48715648#48715648", "title": "Why datetime.now() and datetime.today() show time in UTC and not local time on my PC?", "body": "<p>As you note in <a href=\"https://stackoverflow.com/a/47578455/9200529\">your answer</a>, the <code>TZ</code> environment variable is the key here. On unix-type systems, this supports more \"friendly\" values like \"US/Pacific\" or, indeed, \"America/Denver\", but on Windows, it doesn't. Although it's not available on Windows, the <a href=\"https://docs.python.org/2/library/time.html#time.tzset\" rel=\"noreferrer\">documentation for the <code>time.tzset</code> function</a> describes the format you'll need to set TZ in to get what you want. It's... not pretty. But it works:</p>\n\n<pre><code>C:\\Users\\zorb&gt;set TZ=MST+07MDT,M3.2.0,M11.1.0\nC:\\Users\\zorb&gt;python.exe\n&gt;&gt;&gt; import time\n&gt;&gt;&gt; time.tzname\n('MST', 'MDT')\n&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; datetime.datetime.now()\ndatetime.datetime(2018, 2, 9, 16, 27, 7, 164062)\n</code></pre>\n\n<p>(This was at 15:27 in Pacific time.) The structure of this format is:</p>\n\n<ul>\n<li>Standard time abbrevation (MST)</li>\n<li>UTC offset of standard time, in hours (+07)</li>\n<li>Daylight time abbreviation</li>\n<li>When daylight time starts (see below)</li>\n<li>When daylight time ends (see below)</li>\n</ul>\n\n<p>The format for the start and end of daylight time is:</p>\n\n<ul>\n<li><code>M</code> (for \"month-based\")</li>\n<li>Month number - 3/March or 11/November, in this case.</li>\n<li>Week of the month - 1 through 5, meaning the 1st through 5th occurrence of the day named below.</li>\n<li>Day of the week - 0 for Sunday through 6 for Saturday</li>\n</ul>\n\n<p>There are also options to specify the time at which daylight time starts and ends (but it defaults to 02:00:00, so unnecessary in this case) and the offset for daylight time (but it defaults to 1 hour, so also not necessary).</p>\n\n<p>(edit) Turns out this is actually a glibc feature, not directly a python one. More detailed info in the <a href=\"https://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html\" rel=\"noreferrer\">glibc docs</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1526310828, "post_id": 50333163, "comment_id": 87683579, "body": "Have you tried setting <code>TZ</code> using the form suggested in the accepted answer?"}, {"owner": {"reputation": 655, "user_id": 5885546, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6cb47f5080db0d3c33f49019c2d5a829?s=128&d=identicon&r=PG&f=1", "display_name": "oxer", "link": "https://stackoverflow.com/users/5885546/oxer"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1526311717, "post_id": 50333163, "comment_id": 87684109, "body": "Yes. Updated answer to reflect that. Thanks."}], "tags": [], "owner": {"reputation": 655, "user_id": 5885546, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6cb47f5080db0d3c33f49019c2d5a829?s=128&d=identicon&r=PG&f=1", "display_name": "oxer", "link": "https://stackoverflow.com/users/5885546/oxer"}, "is_accepted": false, "score": 1, "last_activity_date": 1526311664, "last_edit_date": 1526311664, "creation_date": 1526309196, "answer_id": 50333163, "question_id": 47563103, "link": "https://stackoverflow.com/questions/47563103/why-datetime-now-and-datetime-today-show-time-in-utc-and-not-local-time-on-m/50333163#50333163", "title": "Why datetime.now() and datetime.today() show time in UTC and not local time on my PC?", "body": "<p>I think there is some odd behavior going on with things using the glibc time and timezone libraries on Windows. I started noticing this behavior in both python and emacs recently.</p>\n\n<p>The best thing to do is probably to set TZ to the \"ugly\" version described in the best answer as that seems to fix issues in python and emacs and works correctly in cygwin as well.</p>\n\n<p>Another workaround I tried is to make sure the TZ environment variable is <em>NOT</em> set. The following illustrates the problem around 10:18 New York time in python. I get similar results using either cygwin or CMD on Windows. Emacs illustrates the same problem using the <code>current-time-string</code> function suggesting it is a glibc issue or at least some library which both python and emacs are using. Interestingly the <code>date</code> command in cygwin gives the correct result with TZ set to \"America/New York\" but incorrect if TZ is unset.</p>\n\n<p>Summary: some things (e.g., python, emacs) on Windows seem to not accept \"America/New_York\" for TZ while some things (e.g., cygwin) do accept it. Using something like <code>EST+05EDT,M4.1.0,M10.5.0</code> for eastern time (or appropriate ugly equivalent) works.</p>\n\n<pre><code>$ echo $TZ\nAmerica/New_York\n\n$ python -i\nPython 3.6.4 |Anaconda, Inc.| (default, Jan 16 2018, 10:22:32) [MSC v.1900 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; datetime.datetime.now()\ndatetime.datetime(2018, 5, 14, 15, 38, 6, 174073)\n&gt;&gt;&gt; datetime.datetime.now()\ndatetime.datetime(2018, 5, 14, 15, 38, 57, 141708)\n&gt;&gt;&gt; quit()\n\n$ export TZ=\n\n$ python -i\nPython 3.6.4 |Anaconda, Inc.| (default, Jan 16 2018, 10:22:32) [MSC v.1900 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; datetime.datetime.now()\ndatetime.datetime(2018, 5, 14, 10, 38, 41, 102117)\n</code></pre>\n"}], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1479, "favorite_count": 3, "accepted_answer_id": 48715648, "answer_count": 3, "score": 12, "last_activity_date": 1526311664, "creation_date": 1511995472, "last_edit_date": 1518683619, "question_id": 47563103, "link": "https://stackoverflow.com/questions/47563103/why-datetime-now-and-datetime-today-show-time-in-utc-and-not-local-time-on-m", "title": "Why datetime.now() and datetime.today() show time in UTC and not local time on my PC?", "body": "<p><code>datetime.now()</code> and <code>datetime.today()</code> return time in UTC on my computer even though <a href=\"https://docs.python.org/3/library/datetime.html#datetime-objects\" rel=\"noreferrer\">the documentation</a> says they should return local time.</p>\n\n<p>Here's the script I ran:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport time\nimport datetime\n\nif __name__ == \"__main__\":\n   print(datetime.datetime.now())\n   print(datetime.datetime.today())\n   print(datetime.datetime.fromtimestamp(time.time()))\n</code></pre>\n\n<p>and here's the output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2017-11-29 22:47:35.339914\n2017-11-29 22:47:35.340399\n2017-11-29 22:47:35.340399\n</code></pre>\n\n<p>The output of running <code>date</code> right after it is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Wed, Nov 29, 2017  3:47:43 PM\n</code></pre>\n\n<p>Why is my installation returning time in UTC?<br>\nWhat can I do get those functions to return local time?</p>\n\n<p><strong>PS</strong> We are in MST, which is UTC-7.</p>\n\n<p><strong>PS 2</strong> I realize there are methods to convert a UTC time to local time, such as those explained in <a href=\"https://stackoverflow.com/questions/4563272/convert-a-python-utc-datetime-to-a-local-datetime-using-only-python-standard-lib\">Convert a python UTC datetime to a local datetime using only python standard library?</a>. However, I am trying to understand the cause of the fundamental problem and not looking for a method to patch the problem in my own code.</p>\n\n<hr>\n\n<p>In response to comment by @jwodder:</p>\n\n<p>The output of executing</p>\n\n<pre><code>print(time.altzone)\nprint(time.timezone)\nprint(time.tzname)\n</code></pre>\n\n<p>is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-3600\n0\n('Ame', 'ric')\n</code></pre>\n"}, {"tags": ["python", "cuda"], "comments": [{"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 3, "creation_date": 1511996069, "post_id": 47563101, "comment_id": 82084302, "body": "Easiest method: build a library (static or shared) with a flat C API. Then build a Python extension that calls that C API with Cython."}, {"owner": {"reputation": 943, "user_id": 375556, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71b7c806c3f630c452b6eb5db0143a31?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/375556/thomas"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512557684, "post_id": 47563101, "comment_id": 82303970, "body": "I wasn&#39;t able to find a simple &quot;Hello World&quot;-style example on how to call a C library with Cython that doesn&#39;t involve using distutils."}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512583854, "post_id": 47563101, "comment_id": 82320809, "body": "The extension will be built with distutils. The library will not. Do you know how to build a C library?"}, {"owner": {"reputation": 943, "user_id": 375556, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71b7c806c3f630c452b6eb5db0143a31?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/375556/thomas"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512648981, "post_id": 47563101, "comment_id": 82349196, "body": "Yes, but I just haven&#39;t found a really simple example of calling an external C library with Cython yet."}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512682166, "post_id": 47563101, "comment_id": 82368296, "body": "Did you look at &quot;interfacing with external C code&quot; in the Cython  documentation? Step one is to obtain .lib and .h files from the &quot;build a C library&quot; procedure. Step two is to use &quot;cdef extern from &lt;header.h&gt;&quot;. Step three is to add your .lib file to the &quot;libraries&quot; keyword of the Python extension."}, {"owner": {"reputation": 943, "user_id": 375556, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71b7c806c3f630c452b6eb5db0143a31?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/375556/thomas"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512861589, "post_id": 47563101, "comment_id": 82428992, "body": "If instead of a .lib file we have a .dll, do we just put the .dll file in the &quot;libraries&quot; keyword?"}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512861684, "post_id": 47563101, "comment_id": 82429009, "body": "Link always generates a lib when linking a DLL. If you don&#39;t have the lib, then you can generate one from the DLL using hacks."}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512861813, "post_id": 47563101, "comment_id": 82429034, "body": "Personally, I would figure out where the .lib file is located. Which linker are you using?"}, {"owner": {"reputation": 943, "user_id": 375556, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71b7c806c3f630c452b6eb5db0143a31?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/375556/thomas"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512871436, "post_id": 47563101, "comment_id": 82430771, "body": "I built the DLL using GCC with the &quot;-shared&quot; flag, and it didn&#39;t produce a .lib file. Does Cython only work with .lib files, and not DLLs?"}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512871763, "post_id": 47563101, "comment_id": 82430832, "body": "So you are using the mingw ABI, correct? Note that you need to have MSVC installed to build ABI compatible Python extensions. Also note that nvcc uses the MSVC ABI and creates the lib file: <a href=\"https://devtalk.nvidia.com/default/topic/978822/cuda-setup-and-installation/nvcc-on-windows/post/5027381/#5027381\" rel=\"nofollow noreferrer\">devtalk.nvidia.com/default/topic/978822/&hellip;</a>"}, {"owner": {"reputation": 943, "user_id": 375556, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71b7c806c3f630c452b6eb5db0143a31?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/375556/thomas"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512872144, "post_id": 47563101, "comment_id": 82430906, "body": "I&#39;m using Cygwin. I&#39;m suspecting that DLLs can&#39;t be used by Cython because it looks like the &quot;cythonize&quot; method automatically appends &quot;.lib&quot; to the end of the &quot;libraries&quot; parameter."}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512872185, "post_id": 47563101, "comment_id": 82430914, "body": "Does nvcc even work with cygwin?"}, {"owner": {"reputation": 943, "user_id": 375556, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71b7c806c3f630c452b6eb5db0143a31?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/375556/thomas"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1512872248, "post_id": 47563101, "comment_id": 82430923, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/160866/discussion-between-thomas-and-xaav\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 943, "user_id": 375556, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71b7c806c3f630c452b6eb5db0143a31?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/375556/thomas"}, "is_accepted": true, "score": 3, "last_activity_date": 1513306483, "creation_date": 1513306483, "answer_id": 47825150, "question_id": 47563101, "link": "https://stackoverflow.com/questions/47563101/how-to-create-a-python-c-extension-without-using-distutils/47825150#47825150", "title": "How to create a Python C extension without using distutils?", "body": "<p>I was able to create a Cython extension that used CUDA by following the example found here:</p>\n\n<p><a href=\"https://github.com/saullocastro/programming/tree/master/cuda/cython/naive_add\" rel=\"nofollow noreferrer\">https://github.com/saullocastro/programming/tree/master/cuda/cython/naive_add</a></p>\n\n<p>Essentially you compile the CUDA code in the command line using nvcc to produce a .lib file. Then just use that .lib file when making the Cython extension as if it were compiled from C. This way distutils can still be used to build the extension, but after the CUDA code has been manually compiled by nvcc.</p>\n\n<p>One small change I had to make was to add the numpy include directory in the command to build the extension. This was the command I used:</p>\n\n<pre><code>python setup.py build_ext -i -I\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v8.0\\include\" -I\"C:\\Anaconda\\Lib\\site-packages\\numpy\\core\\include\" -lcudart -L\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v8.0\\lib\\x64\" --force clean\n</code></pre>\n"}], "owner": {"reputation": 943, "user_id": 375556, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71b7c806c3f630c452b6eb5db0143a31?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/375556/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 2, "accepted_answer_id": 47825150, "answer_count": 1, "score": 4, "last_activity_date": 1513306483, "creation_date": 1511995461, "question_id": 47563101, "link": "https://stackoverflow.com/questions/47563101/how-to-create-a-python-c-extension-without-using-distutils", "title": "How to create a Python C extension without using distutils?", "body": "<p>I'm trying to create a Python extension that is written in CUDA C. I don't think distutils supports using the nvcc compiler, so I'd like to learn how a Python C extension can be created without using distutils, and adapt that method to build an extension written in CUDA C.</p>\n\n<p>I'm using Windows and when using distutils I see that building an extension produces .exp, .lib, .obj, and .pyd files. I'm guessing the .exp, .lib, and .obj files are somehow combined into the .pyd file, but don't know how.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "edited": false, "score": 0, "creation_date": 1511996340, "post_id": 47563099, "comment_id": 82084425, "body": "Read from an environment variable?"}], "answers": [{"tags": [], "owner": {"reputation": 429, "user_id": 1014112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec04483e3f9bacedaa7614a0a611b8b?s=128&d=identicon&r=PG", "display_name": "Phuong Vu", "link": "https://stackoverflow.com/users/1014112/phuong-vu"}, "is_accepted": false, "score": 0, "last_activity_date": 1512010989, "creation_date": 1512010989, "answer_id": 47565236, "question_id": 47563099, "link": "https://stackoverflow.com/questions/47563099/django-how-to-limit-the-open-app/47565236#47565236", "title": "Django : how to limit the open app?", "body": "<p>First, I recommend use <a href=\"https://github.com/joke2k/django-environ\" rel=\"nofollow noreferrer\">django-environ</a> for dynamically var on each \"station\". Ignore this step if you're already apply <code>env</code> to your settings: </p>\n\n<pre><code>import environ\nenv = environ.Env()\n\nenv_file = 'path/to/env/file.env'\nif exists(env_file):\n    environ.Env.read_env(str(env_file))\n</code></pre>\n\n<p><strong>Dynamically change the INSTALLED_APPS value:</strong></p>\n\n<p>1) Change by switch settings when start your app:</p>\n\n<p><code>python manage.py runserver --settings=path.to.settings.production.station1</code></p>\n\n<p>2) Change by load LOCAL_APPS from env file:</p>\n\n<pre><code>LOCAL_APPS = ['your', 'app', 'here']\nINSTALLED_APPS = DJANGO_APPS + env.list('LOCAL_APPS', default=LOCAL_APPS)\n</code></pre>\n\n<p><strong>Dynamically change the urlpatterns value:</strong></p>\n\n<p>Change <code>ROOT_URLCONF</code> in your settings, get from env instead:</p>\n\n<pre><code># Define url config here\nROOT_URLCONF = env('ROOT_URLCONF', default='core.urls.development')\n</code></pre>\n\n<p>Dynamically change the INSTALLED_APPS value:</p>\n"}], "owner": {"reputation": 3378, "user_id": 3318273, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/nvfcf.png?s=128&g=1", "display_name": "Romain Jouin", "link": "https://stackoverflow.com/users/3318273/romain-jouin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512010989, "creation_date": 1511995450, "question_id": 47563099, "link": "https://stackoverflow.com/questions/47563099/django-how-to-limit-the-open-app", "title": "Django : how to limit the open app?", "body": "<p>I have several apps on my django project : </p>\n\n<pre><code>DJANGO_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    # 'django.contrib.gis.db',\n    ]\n\nLOCAL_APPS = [\n    #'cycliste'                  ,\n    #'logger'                    ,\n    'position'                  ,\n    'reseau'                    ,\n    'station'                   ,\n    #'trajet'                    ,\n    #'useful_functions'          ,\n    'velo'                      ,\n    #'ville'                     ,\n]\n\nINSTALLED_APPS = DJANGO_APPS + LOCAL_APPS\n</code></pre>\n\n<p>My url file is : </p>\n\n<pre><code>urlpatterns = [\n\n    url(r'^', include('reseau.urls')),\n    url(r'^', include('station.urls')),\n    url(r'^', include('velo.urls')),\n    url(r'^', include('position.urls')),\n\n\n]\n</code></pre>\n\n<p>Now, each app is a rest server. I want to start a different app on each of the servers of my cluster.\nI see 2 ways to do that : </p>\n\n<ol>\n<li>I comment the LOCAL_APPS I don't want on the server</li>\n<li>I change the urls file, removing the url I don't want to accept</li>\n</ol>\n\n<p>The issue is that I have 6 or 7 apps. For each one of them I just want to be able to start a \"station\" server, or  a \"logger\" server. So I need to dynamically change which app is included in LOCAL_APPS at runtime.</p>\n\n<p>I tried to do it through a --settings command, but had no luck. I tried to do it through a specific management.command but without succcess... Finally I think it should be simpler. \nMaybe a test on the settings file ? </p>\n\n<p>How can I dynamically change the INSTALLED_APPS value ?</p>\n\n<p>How can I dynamically change the urlpatterns value ?</p>\n"}, {"tags": ["python", "json", "scrapy"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1511996017, "post_id": 47563095, "comment_id": 82084280, "body": "A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is really needed to be able to address this."}, {"owner": {"reputation": 1993, "user_id": 3033436, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f4061162e1561d1a2f4e2fd159d445fe?s=128&d=identicon&r=PG&f=1", "display_name": "drsnark", "link": "https://stackoverflow.com/users/3033436/drsnark"}, "edited": false, "score": 0, "creation_date": 1511999656, "post_id": 47563095, "comment_id": 82085535, "body": "Is the &quot;a&quot; with the accent over it supposed to be in the url?"}, {"owner": {"reputation": 91, "user_id": 6170115, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ff70f46c0e41bbd536df296f2aec06e?s=128&d=identicon&r=PG&f=1", "display_name": "happyspace", "link": "https://stackoverflow.com/users/6170115/happyspace"}, "edited": false, "score": 0, "creation_date": 1512000159, "post_id": 47563095, "comment_id": 82085697, "body": "Yes. The original url comes from searching for the product from the home page and the JSON url has been picked up from the network traffic."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1512003877, "post_id": 47563095, "comment_id": 82086656, "body": "only idea to use local proxy server to catch real request sends from browser to server. Maybe it uses different char or the same char but in different encoding. Or maybe server checks some headers like <code>XHR</code> or <code>REFERER</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1498, "user_id": 5578348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99783dcf33b635d3a81e0ad0b6b72c83?s=128&d=identicon&r=PG&f=1", "display_name": "Wilfredo", "link": "https://stackoverflow.com/users/5578348/wilfredo"}, "is_accepted": true, "score": 2, "last_activity_date": 1512007830, "creation_date": 1512007830, "answer_id": 47564798, "question_id": 47563095, "link": "https://stackoverflow.com/questions/47563095/json-url-sometimes-returns-a-null-response/47564798#47564798", "title": "JSON URL sometimes returns a null response", "body": "<p>It seems to me that the problem is the headers, it seems to be very sensitive to at least the <code>Content-Type</code> header, it seems it's used internally on the server to decode the incoming URL or something like that.\nTry downloading the request like this (this is what the internal js is doing)</p>\n\n<pre><code>yield Request('https://www.boozebud.com/a/producturl/p/%C3%A0bloc/superprestigenaturalblondebeer', \n              headers={\"Content-Type\": \"application/json; charset=UTF-8\"})\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 6170115, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ff70f46c0e41bbd536df296f2aec06e?s=128&d=identicon&r=PG&f=1", "display_name": "happyspace", "link": "https://stackoverflow.com/users/6170115/happyspace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 2, "accepted_answer_id": 47564798, "answer_count": 1, "score": 0, "last_activity_date": 1512007830, "creation_date": 1511995433, "last_edit_date": 1511999446, "question_id": 47563095, "link": "https://stackoverflow.com/questions/47563095/json-url-sometimes-returns-a-null-response", "title": "JSON URL sometimes returns a null response", "body": "<p>I'm scraping a website which loads product data from individual JSON files. I found the URLs to the JSONs by inspecting the network traffic.</p>\n\n<p>The problem is this: when I follow the JSON URLs, most of the links will provide a JSON result. But the JSON URLs of products that have special characters in them, eg \u00e9, return a null response. Of course the data is shown on the browser but I can't seem to get the JSON response directly.</p>\n\n<p>Any tips?</p>\n\n<p>(I'm trying to find a similar website that acts in the same way so I can post it here for example)</p>\n\n<p>EDIT: </p>\n\n<p>Here is an example</p>\n\n<p>Product A url: <a href=\"https://www.boozebud.com/p/hopnationbrewingco/thedamned\" rel=\"nofollow noreferrer\">https://www.boozebud.com/p/hopnationbrewingco/thedamned</a></p>\n\n<p>WORKS: A's JSON url: <a href=\"https://www.boozebud.com/a/producturl/p/hopnationbrewingco/thedamned\" rel=\"nofollow noreferrer\">https://www.boozebud.com/a/producturl/p/hopnationbrewingco/thedamned</a></p>\n\n<p>Product B url: <a href=\"https://www.boozebud.com/p/%C3%A0bloc/superprestigenaturalblondebeer\" rel=\"nofollow noreferrer\">https://www.boozebud.com/p/\u00e0bloc/superprestigenaturalblondebeer</a> </p>\n\n<p>RETURNS NULL: B's JSON url: <a href=\"https://www.boozebud.com/a/producturl/p/%C3%A0bloc/superprestigenaturalblondebeer\" rel=\"nofollow noreferrer\">https://www.boozebud.com/a/producturl/p/\u00e0bloc/superprestigenaturalblondebeer</a> </p>\n\n<p>(Related to my previous unanswered question: <a href=\"https://stackoverflow.com/questions/46840714/scrapy-dealing-with-special-characters-in-url\">scrapy: dealing with special characters in url</a> which might need to be revised in light of this question)</p>\n"}, {"tags": ["python", "regex", "sublimetext"], "comments": [{"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1511995455, "post_id": 47563074, "comment_id": 82084055, "body": "how are you getting this <code>tree</code> are you using linux tree command"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 3, "creation_date": 1511995815, "post_id": 47563074, "comment_id": 82084181, "body": "<a href=\"https://regex101.com/r/fjvqMP/1\" rel=\"nofollow noreferrer\"><code>((?!feature)\\b\\w+\\b)(?=[\\s\\S]*\\b(\\1)\\b)</code></a> or <a href=\"https://regex101.com/r/fjvqMP/2\" rel=\"nofollow noreferrer\"><code>((?&lt;= )[\\w.]+$)(?=[\\s\\S]*(?&lt;= )(\\1)$)</code></a>?"}, {"owner": {"reputation": 144, "user_id": 4655579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMj5m.jpg?s=128&g=1", "display_name": "Raul Cabrera A.", "link": "https://stackoverflow.com/users/4655579/raul-cabrera-a"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1511996265, "post_id": 47563074, "comment_id": 82084386, "body": "@ctwheels <code>((?&lt;= )[\\w.]+$)(?=[\\s\\S]*(?&lt;= )(\\1)$)</code> Amazing it find duplicates! Can you explain how it works? or where I can read more about that, please"}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 144, "user_id": 4655579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMj5m.jpg?s=128&g=1", "display_name": "Raul Cabrera A.", "link": "https://stackoverflow.com/users/4655579/raul-cabrera-a"}, "edited": false, "score": 2, "creation_date": 1511996441, "post_id": 47563074, "comment_id": 82084454, "body": "@RaulCabreraAguilar ya but you\u2019ll have to give me a couple of hours, I\u2019m just on the road now. I\u2019ll post it as an answer when I get a chance. You can actually open the link and hover the tokens in regex101, it does pretty well at explaining. There\u2019s also a description section on the right."}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 1, "creation_date": 1511996541, "post_id": 47563074, "comment_id": 82084488, "body": "...or just google for &quot;lookahead lookbehind assertions&quot;"}, {"owner": {"reputation": 384, "user_id": 1999025, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/0TPP3.jpg?s=128&g=1", "display_name": "tkolleh", "link": "https://stackoverflow.com/users/1999025/tkolleh"}, "reply_to_user": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1512059011, "post_id": 47563074, "comment_id": 82113082, "body": "@user1767754 I used the linux <code>tree</code> command"}], "answers": [{"tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": true, "score": 3, "last_activity_date": 1512053126, "creation_date": 1512053126, "answer_id": 47576120, "question_id": 47563074, "link": "https://stackoverflow.com/questions/47563074/regex-find-duplicate-file-names-from-tree-output/47576120#47576120", "title": "Regex find duplicate file names from tree output", "body": "<h2>Code</h2>\n\n<p><a href=\"https://regex101.com/r/fjvqMP/4\" rel=\"nofollow noreferrer\">See regex in use here</a></p>\n\n<pre><code>((?&lt;= )[\\w.]+$)(?=[\\s\\S]*(?&lt;= )(\\1)$)\n</code></pre>\n\n<p>With the <code>s</code> modifier on (single line) as seen in the <a href=\"https://regex101.com/r/fjvqMP/3\" rel=\"nofollow noreferrer\">regex demo here</a></p>\n\n<pre><code>((?&lt;= )[\\w.]+$)(?=.*(?&lt;= )(\\1)$)\n</code></pre>\n\n<p><strong>Note</strong>: For some reason the pattern above (with single line mode enabled) results in a timeout on regex101. I've tested the code under <strong>Code Generator</strong> and it works just fine (<a href=\"https://ideone.com/SYQqKu\" rel=\"nofollow noreferrer\">doesn't timeout when used in code</a>).</p>\n\n<hr>\n\n<h2>Explanation</h2>\n\n<ul>\n<li><code>((?&lt;= )[\\w.]+$)</code> Capture the following into capture group 1\n\n<ul>\n<li><code>(?&lt;= )</code> Positive lookbehind ensuring what precedes is a space</li>\n<li><code>[\\w.]+</code> Match any word character or the dot character one or more times</li>\n<li><code>$</code> Assert position at the end of the line</li>\n</ul></li>\n<li><code>(?=[\\s\\S]*(?&lt;= )(\\1)$)</code> Positive lookahead ensuring what follows matches\n\n<ul>\n<li><code>[\\s\\S]*</code> Any character any number of times. (We don't use the dot here because it won't match newline characters. You can actually replace <code>[\\s\\S]</code> with <code>.</code> if you turn on the single line flag, which forces <code>.</code> to also match newlines)</li>\n<li><code>(?&lt;= )</code> Positive lookbehind ensuring what precedes is a space</li>\n<li><code>(\\1)</code> Capture the following into capture group 2\n\n<ul>\n<li><code>\\1</code> Matches the same text as most recently matched by capture group 1</li>\n</ul></li>\n<li><code>$</code> Assert position at the end of the line</li>\n</ul></li>\n</ul>\n\n<p>In layman's terms, it's matching the entire file name if it's after a space and before the end of the line. Then it's looking ahead to find a duplicate with the same rules (space before, end of line after).</p>\n"}], "owner": {"reputation": 384, "user_id": 1999025, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/0TPP3.jpg?s=128&g=1", "display_name": "tkolleh", "link": "https://stackoverflow.com/users/1999025/tkolleh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 47576120, "answer_count": 1, "score": 0, "last_activity_date": 1512053126, "creation_date": 1511995352, "question_id": 47563074, "link": "https://stackoverflow.com/questions/47563074/regex-find-duplicate-file-names-from-tree-output", "title": "Regex find duplicate file names from tree output", "body": "<p>Please assist in finding duplicate file names from tree output. I'm having trouble finding duplicate file names using regex in SublimeText. The file I am searching is from the output of a <code>tree</code> command sent to a text file:</p>\n\n<pre><code>src/test/resources\n|-- WPCDPS\n|   `-- RiskIndicatorsEvaluationRuleTest.feature\n|-- Accelerated.feature\n|-- AcceptedAFS.feature\n|-- AgeValidationRemoval.feature\n|-- Anxiety.feature\n|-- CheckDisabledOccupation.feature\n|-- Extended.feature\n|-- Financal.feature\n|-- Fainancial.feature\n|-- FloridaSpecific.feature\n|-- Hypertension.feature\n|-- LifeForceOrPending.feature\n|-- LifestyleInformation.feature\n|-- MinValue.feature\n|-- Occupations\n|   |-- OccupationTranslation.feature\n|   |-- OccupationsWithPreConditions.feature\n|   |-- Accelerated.feature\n|   `-- OccupationsWithoutPreConditions.feature\n|-- Florida.feature\n</code></pre>\n\n<p>I've tried to use different combinations of <code>(?m)(\\bAccelerated\\.feature\\b)(?=[\\s\\|\\-\\n]*\\1)</code> without success.</p>\n"}, {"tags": ["python", "object"], "comments": [{"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 1, "creation_date": 1511995485, "post_id": 47563065, "comment_id": 82084064, "body": "You&#39;re iterating over a dictionary - which will yield it&#39;s keys. You could return <code>people[max(...)]</code> or pass <code>people.items()</code> into the sort function (which you&#39;ll need to tweak)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1511995487, "post_id": 47563065, "comment_id": 82084065, "body": "Why do you believe you should get <code>&#39;martin&#39;</code>? <code>people</code> is a <code>dict</code> object containing various <code>Person</code> objects. You never access the <code>.name</code> attribute on these <code>Person</code> objects, rather, you simply iterate over the keys of your <code>dict</code>, which seem to be lower-case versions of the <code>.name</code> attribute..."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 9028255, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b660e098d75fc2746622a7f503bde9b?s=128&d=identicon&r=PG&f=1", "display_name": "Rose Ann", "link": "https://stackoverflow.com/users/9028255/rose-ann"}, "edited": false, "score": 0, "creation_date": 1511995693, "post_id": 47563130, "comment_id": 82084137, "body": "Thank U :) I really appreciate that :)"}], "tags": [], "owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "is_accepted": true, "score": 2, "last_activity_date": 1511996146, "last_edit_date": 1511996146, "creation_date": 1511995629, "answer_id": 47563130, "question_id": 47563065, "link": "https://stackoverflow.com/questions/47563065/linking-to-the-object/47563130#47563130", "title": "Linking to the object", "body": "<p>Your get_longest_name function is returning the key in the dictionary, rather than the attributes of the class.  The following would fix it:</p>\n\n<pre><code>def get_longest_name(people):\n    return people[max(people, key=lambda word: (len(word), word))].name\n</code></pre>\n\n<p>Edit to add a full working answer:</p>\n\n<pre><code>&gt;&gt;&gt; class Person:\n...     def __init__(self, name, year_of_birth, degree):\n...         self.name = name\n...         self.year_of_birth = year_of_birth\n...         self.degree = degree\n...         self.mentor = None\n...         self.mentees = []\n...\n&gt;&gt;&gt; def get_longest_name(people):\n...     return people[max(people, key=lambda word: (len(word), word))].name\n...\n&gt;&gt;&gt; people = {}\n&gt;&gt;&gt; people['martin'] = Person('Martin', 1991, 'phd')\n&gt;&gt;&gt; people['peter'] = Person('Peter', 1995, 'bc')\n&gt;&gt;&gt; get_longest_name(people)\nMartin\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "is_accepted": false, "score": 0, "last_activity_date": 1511995668, "creation_date": 1511995668, "answer_id": 47563144, "question_id": 47563065, "link": "https://stackoverflow.com/questions/47563065/linking-to-the-object/47563144#47563144", "title": "Linking to the object", "body": "<p>You are iterating over the keys, not the values. Try this:</p>\n\n<pre><code>return people[max(people, key=lambda word: (len(word), word))].name\n</code></pre>\n\n<p>Access the object in the <code>people</code> dictionary and return its name.</p>\n\n<p>As well, you could access the names of each <code>Person</code> object in the dictionary:</p>\n\n<pre><code>return max(people.values(), key=lambda person: (len(person.name), person.name)).name\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 9028255, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b660e098d75fc2746622a7f503bde9b?s=128&d=identicon&r=PG&f=1", "display_name": "Rose Ann", "link": "https://stackoverflow.com/users/9028255/rose-ann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 47563130, "answer_count": 2, "score": 1, "last_activity_date": 1512001752, "creation_date": 1511995303, "last_edit_date": 1512001752, "question_id": 47563065, "link": "https://stackoverflow.com/questions/47563065/linking-to-the-object", "title": "Linking to the object", "body": "<p>I am new in python and I have one problem :/ In the function get longest name I want to return the name of the person but instead of it I am keeping returning just link? of this person. Could you help me and say where it is a problem? Thank you :)</p>\n\n<pre><code>class Person:\n    def __init__(self, name, year_of_birth, degree):\n        self.name = name\n        self.year_of_birth = year_of_birth\n        self.degree = degree\n        self.mentor = None\n        self.mentees = []\n\n\ndef create_mentorship(mentor, mentee):\n    mentee.mentor = mentor\n    mentor.mentees.append(mentee)\n\n\ndef get_longest_name(people):\n    return (max(people, key=lambda word: (len(word), word)))\n\n\npeople = {}\npeople['martin'] = Person('Martin', 1991, 'phd')\npeople['peter'] = Person('Peter', 1995, 'bc')\nget_longest_name(people)\n</code></pre>\n\n<p>I am getting.... ->    'martin'</p>\n\n<p>I should get.... ->    'Martin'</p>\n"}, {"tags": ["python", "django", "python-3.x", "django-views"], "answers": [{"tags": [], "owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "is_accepted": true, "score": 48, "last_activity_date": 1511995255, "creation_date": 1511995255, "answer_id": 47563055, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/47563055#47563055", "title": "Unable to import path from django.urls", "body": "<p>The reason you cannot import path is because it is new in Django 2.0 as is mentioned here: <a href=\"https://docs.djangoproject.com/en/2.0/ref/urls/#path\" rel=\"noreferrer\">https://docs.djangoproject.com/en/2.0/ref/urls/#path</a>. </p>\n\n<p>On that page in the bottom right hand corner you can change the documentation version to the version that you have installed. If you do this you will see that there is no entry for <code>path</code> on the <code>1.11</code> docs.</p>\n"}, {"comments": [{"owner": {"reputation": 1777, "user_id": 1960231, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/xaGgz.jpg?s=128&g=1", "display_name": "CodeBiker", "link": "https://stackoverflow.com/users/1960231/codebiker"}, "edited": false, "score": 0, "creation_date": 1526658061, "post_id": 48847331, "comment_id": 87845492, "body": "I only needed to run <code>pip install --upgrade django</code>."}], "tags": [], "owner": {"reputation": 6127, "user_id": 1783588, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mU0bj.png?s=128&g=1", "display_name": "jasonleonhard", "link": "https://stackoverflow.com/users/1783588/jasonleonhard"}, "is_accepted": false, "score": 30, "last_activity_date": 1518914307, "creation_date": 1518914307, "answer_id": 48847331, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/48847331#48847331", "title": "Unable to import path from django.urls", "body": "<h1>You need Django version 2</h1>\n\n<pre><code>pip install --upgrade django\npip3 install --upgrade django\n\npython -m django --version # 2.0.2\npython3 -m django --version # 2.0.2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10194, "user_id": 2624806, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d83cab7407f779ce96a0a90222b8f729?s=128&d=identicon&r=PG&f=1", "display_name": "CoDe", "link": "https://stackoverflow.com/users/2624806/code"}, "edited": false, "score": 0, "creation_date": 1529284818, "post_id": 49126869, "comment_id": 88803261, "body": "What would be impact if use url instead of path !!, Any idea ?"}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 2, "creation_date": 1542301014, "post_id": 49126869, "comment_id": 93529183, "body": "Don&#39;t do this! From the Django 2.1 docs - <code>This function is an alias to django.urls.re_path(). It\u2019s likely to be deprecated in a future release.</code>"}], "tags": [], "owner": {"reputation": 425, "user_id": 6064822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3455b297121f6dad09cefcd6e4809cc?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Shukla", "link": "https://stackoverflow.com/users/6064822/saurabh-shukla"}, "is_accepted": false, "score": 25, "last_activity_date": 1562121154, "last_edit_date": 1562121154, "creation_date": 1520326710, "answer_id": 49126869, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/49126869#49126869", "title": "Unable to import path from django.urls", "body": "<p><strong>Use url instead of path.</strong></p>\n\n<pre><code>from django.conf.urls import url\n\nurlpatterns = [\n    url('', views.homepageview, name='home')\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2192, "user_id": 6028118, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207732365459658/picture?type=large", "display_name": "Krishnamoorthy Acharya", "link": "https://stackoverflow.com/users/6028118/krishnamoorthy-acharya"}, "is_accepted": false, "score": 2, "last_activity_date": 1527140469, "last_edit_date": 1527140469, "creation_date": 1527098046, "answer_id": 50494608, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/50494608#50494608", "title": "Unable to import path from django.urls", "body": "<p>How to use url both app(pages) and in the project.</p>\n\n<p>entire project url configuration root/urls.py</p>\n\n<pre><code> from django.conf.urls import url, include\n from django.contrib import admin\n urlpatterns = [\n     url(r'^admin/', admin.site.urls),\n     url('', include('pages.urls')),\n   ]\n</code></pre>\n\n<p>app pages url configuration root/pages/urls.py</p>\n\n<pre><code># pages/urls.py\nfrom django.conf.urls import url\nfrom . import views\nurlpatterns = [\nurl('', views.homePageView, name='home')\n]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 879, "user_id": 3476943, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ohIBb.jpg?s=128&g=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/3476943/lev"}, "edited": false, "score": 0, "creation_date": 1540483148, "post_id": 52990056, "comment_id": 92892150, "body": "Hi Lydia, thanks for contributing but that wasn&#39;t my issue, the issue was with me following a tutorial for version 2.0 and having Django 1.11 installed.  To your answer, it&#39;s possible to either uninstall the default osx python or associate python with python with 3.x instead of 2.0"}], "tags": [], "owner": {"reputation": 83, "user_id": 9333208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0c8da7afa81b3b82beefe8af1cba8d?s=128&d=identicon&r=PG&f=1", "display_name": "Lydia Thomas", "link": "https://stackoverflow.com/users/9333208/lydia-thomas"}, "is_accepted": false, "score": 7, "last_activity_date": 1540472836, "creation_date": 1540472836, "answer_id": 52990056, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/52990056#52990056", "title": "Unable to import path from django.urls", "body": "<p>Python 2 doesn't support Django 2. On a Mac once you've installed Python 3 and Django 2 run the following command from shell to run your app while keeping path:</p>\n\n<p><code>python3 manage.py runserver</code> </p>\n\n<p>Even if you have upgraded and are on a mac you will, by default, run Python 2 if you're entering the following command:</p>\n\n<p><code>python manage.py runserver</code></p>\n\n<p>The version of Django will then be wrong and you will see import errors for <code>path</code> </p>\n"}, {"tags": [], "owner": {"reputation": 2475, "user_id": 8930395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/966ee6715332222c1dd2ffce639ff4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Rishi Bansal", "link": "https://stackoverflow.com/users/8930395/rishi-bansal"}, "is_accepted": false, "score": 3, "last_activity_date": 1548227977, "creation_date": 1548227977, "answer_id": 54321896, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/54321896#54321896", "title": "Unable to import path from django.urls", "body": "<p>For those who are using python 2.7, python2.7 don't support django 2 so you can't install django.urls. If you are already using python 3.6 so you need to upgrade django to latest version which is greater than 2. </p>\n\n<ul>\n<li><p>On PowerShell</p>\n\n<p>pip install -U django</p></li>\n<li><p>Verification</p></li>\n</ul>\n\n<p>></p>\n\n<pre><code>PS C:\\Users\\xyz&gt; python\nPython 3.6.6 |Anaconda, Inc.| (default, Jul 25 2018, 15:27:00) [MSC v.1910 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n&gt;&gt;&gt; from django.urls import path\n&gt;&gt;&gt;\n</code></pre>\n\n<p>As next prompt came, it means it is installed now and ready to use.</p>\n"}, {"tags": [], "owner": {"reputation": 625, "user_id": 10428938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7bzhA.jpg?s=128&g=1", "display_name": "Anoop Kumar", "link": "https://stackoverflow.com/users/10428938/anoop-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1553693239, "creation_date": 1553693239, "answer_id": 55378377, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/55378377#55378377", "title": "Unable to import path from django.urls", "body": "<p>As error shows that path can not be imported.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MdfQz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MdfQz.png\" alt=\"enter image description here\"></a></p>\n\n<p>So here we will use the <strong>url</strong> instead of <strong>path</strong> as shown below:-</p>\n\n<p>first import the <strong>url</strong> package then replace the <strong>path</strong> with <strong>url</strong></p>\n\n<pre><code>from django.conf.urls import url\nurlpatterns = [\n    url('admin/', admin.site.urls),\n]\n</code></pre>\n\n<p>for more information you can take the reference of this <a href=\"https://docs.djangoproject.com/en/2.0/ref/urls/#path\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 3719458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cfaca629206237d0485b2178a8c69e?s=128&d=identicon&r=PG&f=1", "display_name": "user3719458", "link": "https://stackoverflow.com/users/3719458/user3719458"}, "is_accepted": false, "score": 3, "last_activity_date": 1555316792, "last_edit_date": 1555316792, "creation_date": 1555316364, "answer_id": 55685061, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/55685061#55685061", "title": "Unable to import path from django.urls", "body": "<p>My assumption you already have settings on your <code>urls.py</code></p>\n\n<pre><code>from django.urls import path, include \n# and probably something like this \n    urlpatterns = [\n    path('admin/', admin.site.urls),\n    path('', include('blog.urls')),\n]\n</code></pre>\n\n<p>and on your app you should have something like this <code>blog/urls.py</code></p>\n\n<pre><code> from django.urls import path\n\n from .views import HomePageView, CreateBlogView\n\n urlpatterns = [\n   path('', HomePageView.as_view(), name='home'),\n   path('post/', CreateBlogView.as_view(), name='add_blog')\n ]\n</code></pre>\n\n<p>if it's the case then most likely you haven't activated your environment \ntry the following to activate your environment first <code>pipenv shell</code>\nif you still get the same error try this methods below</p>\n\n<p>make sure Django is installed?? any another packages? i.e pillow\ntry the following </p>\n\n<pre><code>pipenv install django==2.1.5 pillow==5.4.1\n</code></pre>\n\n<p>then remember to activate your environment </p>\n\n<pre><code>pipenv shell\n</code></pre>\n\n<p>after the environment is activated try running</p>\n\n<pre><code>python3 manage.py makemigrations\n\npython3 manage.py migrate\n</code></pre>\n\n<p>then you will need to run</p>\n\n<pre><code>python3 manage.py runserver\n</code></pre>\n\n<p>I hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 3719458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cfaca629206237d0485b2178a8c69e?s=128&d=identicon&r=PG&f=1", "display_name": "user3719458", "link": "https://stackoverflow.com/users/3719458/user3719458"}, "is_accepted": false, "score": 0, "last_activity_date": 1558111944, "creation_date": 1558111944, "answer_id": 56190589, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/56190589#56190589", "title": "Unable to import path from django.urls", "body": "<p>It look's as if you forgot to activate you virtual environment\ntry running <code>python3 -m venv venv</code> or if you already have  virtual environment\nset up try to activate it by running  <code>source venv/bin/activate</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11823185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ecc41a62c17c41daa3449b371420a17?s=128&d=identicon&r=PG&f=1", "display_name": "JuliusKiura", "link": "https://stackoverflow.com/users/11823185/juliuskiura"}, "is_accepted": false, "score": 1, "last_activity_date": 1563870206, "last_edit_date": 1563870206, "creation_date": 1563868120, "answer_id": 57159188, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/57159188#57159188", "title": "Unable to import path from django.urls", "body": "<p>I changed the python interpreter and it worked. On the keyboard, I pressed ctrl+shift+p. On the next window, I typed python: select interpreter, and there was an option to select the interpreter I wanted. From here, I chose the python interpreter located in my virtual environment.<br>\nIn this case, it was my <code>~\\DevFolder\\myenv\\scripts\\python.exe</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12687280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fe839ffb775e6edc7f37c2aed80ed73?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/12687280/mary"}, "is_accepted": false, "score": 0, "last_activity_date": 1578636652, "last_edit_date": 1578636652, "creation_date": 1578636390, "answer_id": 59676286, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/59676286#59676286", "title": "Unable to import path from django.urls", "body": "<p>Create setting.json file in your project</p>\n\n<pre><code>{\n       \"python.pythonPath\": \"${workspaceFolder}/env/bin/python3\",\n       \"editor.formatOnSave\": true,\n       \"python.linting.pep8Enabled\": true,\n       \"python.linting.pylintPath\": \"pylint\",\n       \"python.linting.pylintArgs\": [\"--load-plugins\", \"pylint_django\"],\n       \"python.linting.pylintEnabled\": true,\n       \"python.venvPath\": \"${workspaceFolder}/env/bin/python3\",\n       \"python.linting.pep8Args\": [\"--ignore=E501\"],\n       \"files.exclude\": {\n           \"**/*.pyc\": true\n       }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13742929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgjfF-hB2ZqGzcQBriBfzgOfzlqqYpAy3f0xfEhSw=k-s128", "display_name": "Anupam Tirkey", "link": "https://stackoverflow.com/users/13742929/anupam-tirkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1599427157, "last_edit_date": 1599427157, "creation_date": 1599401640, "answer_id": 63765075, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls/63765075#63765075", "title": "Unable to import path from django.urls", "body": "<p>For someone having the same problem -</p>\n<pre><code>import name 'path' from 'django.urls' \n(C:\\Python38\\lib\\site-packages\\django\\urls\\__init__.py)\n</code></pre>\n<p>You can also try installing django-urls by</p>\n<pre><code>pipenv install django-urls\n</code></pre>\n"}], "owner": {"reputation": 879, "user_id": 3476943, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ohIBb.jpg?s=128&g=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/3476943/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117439, "favorite_count": 9, "accepted_answer_id": 47563055, "answer_count": 12, "score": 49, "last_activity_date": 1599427157, "creation_date": 1511995059, "last_edit_date": 1518924684, "question_id": 47563013, "link": "https://stackoverflow.com/questions/47563013/unable-to-import-path-from-django-urls", "title": "Unable to import path from django.urls", "body": "<p>Tried to run command:</p>\n\n<pre><code>from django.urls import path\n</code></pre>\n\n<p>Getting error:</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File \"&lt; stdin >\", line 1, in\n   ImportError: cannot import name 'path'</p>\n</blockquote>\n\n<p>I am using django version 1.11</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1511995960, "post_id": 47562902, "comment_id": 82084259, "body": "It sounds like you asked this question as part of an attempt to debug some <code>super</code>-related issue. If you can produce an MCVE where the externally-defined function actually has a <code>__class__</code> closure variable pointing to the class and <code>super</code> can&#39;t find it, you may want to ask a question specifically about that."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1511995052, "last_edit_date": 1511995052, "creation_date": 1511994744, "answer_id": 47562953, "question_id": 47562902, "link": "https://stackoverflow.com/questions/47562902/immediately-after-class-definition-is-complete-where-are-all-of-the-references/47562953#47562953", "title": "Immediately after class definition is complete, where are all of the references to the class object located?", "body": "<p>Let's take a look with <a href=\"https://docs.python.org/3/library/gc.html#gc.get_referrers\" rel=\"nofollow noreferrer\"><code>gc.get_referrers</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; import gc\n&gt;&gt;&gt; import pprint\n&gt;&gt;&gt; class Foo: pass\n... \n&gt;&gt;&gt; pprint.pprint(gc.get_referrers(Foo))\n[&lt;attribute '__dict__' of 'Foo' objects&gt;,\n &lt;attribute '__weakref__' of 'Foo' objects&gt;,\n (&lt;class '__main__.Foo'&gt;, &lt;class 'object'&gt;),\n {'Foo': &lt;class '__main__.Foo'&gt;,\n  '__annotations__': {},\n  '__builtins__': &lt;module 'builtins' (built-in)&gt;,\n  '__cached__': None,\n  '__doc__': None,\n  '__loader__': &lt;_frozen_importlib_external.SourceFileLoader object at 0x7ff284402da0&gt;,\n  '__name__': '__main__',\n  '__package__': None,\n  '__spec__': None,\n  'gc': &lt;module 'gc' (built-in)&gt;,\n  'pprint': &lt;module 'pprint' from '/usr/local/lib/python3.6/pprint.py'&gt;}]\n</code></pre>\n\n<p>We can see in this list that the 3 references you were missing are from the <code>__dict__</code> and <code>__weakref__</code> <a href=\"https://docs.python.org/3/reference/datamodel.html#implementing-descriptors\" rel=\"nofollow noreferrer\">descriptors</a> and the class's <a href=\"https://www.python.org/download/releases/2.3/mro/\" rel=\"nofollow noreferrer\"><code>__mro__</code></a>. (It might not be obvious that the third entry is the <code>__mro__</code>, but we can confirm:)</p>\n\n<pre><code>&gt;&gt;&gt; gc.get_referrers(Foo)[2] is Foo.__mro__\nTrue\n</code></pre>\n\n<p>The <code>__dict__</code> and <code>__weakref__</code> descriptors manage access to the <code>__dict__</code> and <code>__weakref__</code> attributes of <code>Foo</code> instances, and they need a reference to <code>Foo</code> for type checking, to make sure they're only used on <code>Foo</code> instances.</p>\n\n<p>The <code>__mro__</code> is the sequence of classes Python searches to resolve class attributes of <code>Foo</code>, and to resolve instance attributes of <code>Foo</code> which are managed by a data descriptor or which don't have an entry in the instance <code>__dict__</code>.</p>\n"}], "owner": {"reputation": 103, "user_id": 5511209, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8f039557443a022adae2d2fbb1e58f0e?s=128&d=identicon&r=PG&f=1", "display_name": "bup", "link": "https://stackoverflow.com/users/5511209/bup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1511995052, "creation_date": 1511994463, "question_id": 47562902, "link": "https://stackoverflow.com/questions/47562902/immediately-after-class-definition-is-complete-where-are-all-of-the-references", "title": "Immediately after class definition is complete, where are all of the references to the class object located?", "body": "<p>Four references to a class are produced when a class is created which that never had a <code>__classcell__</code> passed in the namespace argument of <code>type.__new__</code>, aka a class with no functions that ever need the opcode <code>LOAD_NAME - __class__</code>. I can account for one, but since I can barely read C I can only speculate about the other 3. Most obviously, the first is the reference in the <code>__dict__</code> of the module the class was defined in. Another I think one is in a cache in <code>typeobject.c</code>. After a while if the reference count of a class drops below 4 it is destroyed, which is a good thing for classes defined in in function since there's no way to delete it after the function has been executed. \nAlso there is perhaps a reference in whatever <code>type.mro</code> uses to generate mros. </p>\n\n<p>Finally, I'm guessing the last is somewhere zero argument <code>super</code> can access, and that is the real info I'm after: why does a function created outside a class definition not work with zero argument <code>super</code>, even when it has <code>'__class__'</code> in its <code>__code__.co_names</code> and a cell with the class in its <code>__closure__</code>? A <code>RuntimeError: super(): __class__ cell not found</code> is still produced.</p>\n\n<p>Classes that had a <code>__classcell__</code> (I say <em>had</em> because I believe that name is eventually deleted) have 5 references upon creation, one more than not. Seeing as the cell containing the class object in the <code>__closure__</code> of all functions that mention zero argument <code>super()</code> or <code>__class__</code> are identical I think it's a good bet that the additional reference is used by the <code>types.FunctionType.__closure__</code> descriptor to produce the <code>tuple</code> containing the cells.</p>\n"}, {"tags": ["python", "multithreading", "sockets"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 2, "creation_date": 1511996508, "post_id": 47562879, "comment_id": 82084479, "body": "<code>for thread in self.threads:</code> does start threads in <code>self.threads</code> every time server does get a connection from a client. It is not what you want."}, {"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 1, "creation_date": 1511996633, "post_id": 47562879, "comment_id": 82084526, "body": "Use this:  <code>Thread(target=self.handle_client, args=(client, addr)).start()</code>."}, {"owner": {"reputation": 35, "user_id": 7585236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7e42413fc1a4942e5ce650b65c2e87f1?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Cold", "link": "https://stackoverflow.com/users/7585236/frank-cold"}, "reply_to_user": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 0, "creation_date": 1511997781, "post_id": 47562879, "comment_id": 82084917, "body": "@xaav I used it eariel, hoped that for loop can change something."}], "answers": [{"tags": [], "owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "is_accepted": false, "score": 0, "last_activity_date": 1512165980, "creation_date": 1512165980, "answer_id": 47602143, "question_id": 47562879, "link": "https://stackoverflow.com/questions/47562879/server-loop-using-python-sockets-and-threading-module/47602143#47602143", "title": "Server Loop Using Python Sockets and Threading module", "body": "<p>You have to send exit message <code>'q^'</code> to client too to close client.</p>\n\n<p>Warning:\nUsing Unicode as encoding for string is not recommended in socket. A partial Unicode character may be received in server/client resulting in <code>UnicodeDecodeError</code> being raised.</p>\n\n<p>Code for server using threads is:</p>\n\n<p><strong>server.py:</strong></p>\n\n<pre><code>import socket\nfrom threading import Thread\n\n\nclass Server:\n    def __init__(self, host, port):\n        self.host = host\n        self.port = port\n        self.server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        self.server.bind((self.host, self.port))\n        self.server.listen(5)\n\n    def listen_for_clients(self):\n        print('Listening...')\n        while True:\n            client, addr = self.server.accept()\n            print(\n                'Accepted Connection from: ' + str(addr[0]) + ':' + str(addr[1])\n            )\n            Thread(target=self.handle_client, args=(client, addr)).start()\n\n    def handle_client(self, client_socket, address):\n        size = 1024\n        while True:\n            try:\n                data = client_socket.recv(size)\n                if 'q^' in data.decode():    \n                    print('Received request for exit from: ' + str(\n                        address[0]) + ':' + str(address[1]))\n                    break\n\n                else:\n                    # send getting after receiving from client\n                    client_socket.sendall('Welcome to server'.encode())\n\n                    print('Received: ' + data.decode() + ' from: ' + str(\n                        address[0]) + ':' + str(address[1]))\n\n            except socket.error:\n                client_socket.close()\n                return False\n\n        client_socket.sendall(\n            'Received request for exit. Deleted from server threads'.encode()\n        )\n\n        # send quit message to client too\n        client_socket.sendall(\n            'q^'.encode()\n        )\n        client_socket.close()\n\n\nif __name__ == \"__main__\":\n    host = '127.0.0.1'\n    port = 9999\n    main = Server(host, port)\n    # start listening for clients\n    main.listen_for_clients()\n</code></pre>\n\n<p><strong>client.py:</strong></p>\n\n<pre><code>import socket\nimport sys, time\n\n\ndef main():\n    target_host = '127.0.0.1'\n    target_port = 9999\n\n    try:\n        client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    except socket.error:\n        print('Could not create a socket')\n        time.sleep(1)\n        sys.exit()\n\n    try:\n        client.connect((target_host, target_port))\n    except socket.error:\n        print('Could not connect to server')\n        time.sleep(1)\n        sys.exit()\n\n    online = True\n    while online:\n        data = input()\n        client.sendall(data.encode())\n        while True:\n            message = client.recv(4096)\n            if 'q^' in message.decode():\n                client.close()\n                online = False\n                break\n\n            print('[+] Received: ' + message.decode())\n            break  # stop receiving\n\n\n# start client\nmain()\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7585236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7e42413fc1a4942e5ce650b65c2e87f1?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Cold", "link": "https://stackoverflow.com/users/7585236/frank-cold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3615, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1512165980, "creation_date": 1511994373, "question_id": 47562879, "link": "https://stackoverflow.com/questions/47562879/server-loop-using-python-sockets-and-threading-module", "title": "Server Loop Using Python Sockets and Threading module", "body": "<p>I am making server-client communication in python using sockets and threading module. I connect client to server, send some data, receive some data, but the problem is, I can send only two messages. After those, the server is not reciving my packets. Can someone tell me what's wrong? Thanks in advance.</p>\n\n<p><strong>Server.py:</strong></p>\n\n<pre><code>import socket\nfrom threading import Thread\n\n\nclass Server:\n    def __init__(self):\n        self.host = '127.0.0.1'\n        self.port = 9999\n        self.server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        self.server.bind((self.host, self.port))\n        self.server.listen(5)\n        self.threads = []\n\n        self.listen_for_clients()\n\n    def listen_for_clients(self):\n        print('Listening...')\n        while True:\n            client, addr = self.server.accept()\n            print('Accepted Connection from: '+str(addr[0])+':'+str(addr[1]))\n            self.threads.append(Thread(target=self.handle_client, args=(client, addr)))\n            for thread in self.threads:\n                thread.start()\n\n    def handle_client(self, client_socket, address):\n        client_socket.send('Welcome to server'.encode())\n        size = 1024\n        while True:\n            message = client_socket.recv(size)\n            if message.decode() == 'q^':\n                print('Received request for exit from: '+str(address[0])+':'+str(address[1]))\n                break\n            else:\n                print('Received: '+message.decode()+' from: '+str(address[0])+':'+str(address[1]))\n\n        client_socket.send('Received request for exit. Deleted from server threads'.encode())\n        client_socket.close()\n\nif __name__==\"__main__\":\n    main = Server()\n</code></pre>\n\n<p><strong>Client.py</strong></p>\n\n<pre><code>import socket\nimport sys, time\n\ndef main():\n    target_host = '127.0.0.1'\n    target_port = 9999\n\n    try:\n        client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    except socket.error:\n        print('Could not create a socket')\n        time.sleep(1)\n        sys.exit()\n\n    try:\n        client.connect((target_host, target_port))\n    except socket.error:\n        print('Could not connect to server')\n        time.sleep(1)\n        sys.exit()\n\n    while True:\n        data = input()\n        client.send(data.encode())\n        message = client.recv(4096)\n        print('[+] Received: '+ message.decode())\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "numpy", "gdcm"], "answers": [{"tags": [], "owner": {"reputation": 977, "user_id": 1183453, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a4feb83af6c7ddb92e965048e48456e?s=128&d=identicon&r=PG", "display_name": "haehn", "link": "https://stackoverflow.com/users/1183453/haehn"}, "is_accepted": false, "score": 0, "last_activity_date": 1512002871, "last_edit_date": 1512002871, "creation_date": 1512002565, "answer_id": 47564156, "question_id": 47562830, "link": "https://stackoverflow.com/questions/47562830/gdcm-imageregionreader-from-python/47564156#47564156", "title": "GDCM ImageRegionReader from Python", "body": "<p>I figured it out!!</p>\n\n<pre><code>nptypes = {gdcm.PixelFormat.UINT8  :numpy.int8,\n        gdcm.PixelFormat.INT8   :numpy.uint8,\n        gdcm.PixelFormat.UINT16 :numpy.uint16,\n        gdcm.PixelFormat.INT16  :numpy.int16,\n        gdcm.PixelFormat.UINT32 :numpy.uint32,\n        gdcm.PixelFormat.INT32  :numpy.int32,\n        gdcm.PixelFormat.FLOAT32:numpy.float32,\n        gdcm.PixelFormat.FLOAT64:numpy.float64 }\n\nbyte_buffer = np.zeros((bytes_per_slice), \ndtype=nptypes[pixelformat.GetScalarType()]).tobytes()\nr.ReadIntoBuffer(byte_buffer, bytes_per_slice)\n\nimage =  np.ndarray(shape=(bytes_per_slice/2,),dtype=nptypes[pixelformat.GetScalarType()], buffer=byte_buffer)\n\nimshow(image.reshape(dimensions[1],dimensions[0]))\n</code></pre>\n"}], "owner": {"reputation": 977, "user_id": 1183453, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a4feb83af6c7ddb92e965048e48456e?s=128&d=identicon&r=PG", "display_name": "haehn", "link": "https://stackoverflow.com/users/1183453/haehn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512002871, "creation_date": 1511994141, "question_id": 47562830, "link": "https://stackoverflow.com/questions/47562830/gdcm-imageregionreader-from-python", "title": "GDCM ImageRegionReader from Python", "body": "<p>I am trying to read only one slice from a dicom file using GDCM. The data is a multi slice dicom.</p>\n\n<pre><code>r = gdcm.ImageRegionReader()\nr.SetFileName( 'test.dcm' )\nr.ReadInformation()\n\nimage = r.GetImage()\ndimensions = image.GetDimensions()\npixelformat = image.GetPixelFormat()\npixelsize = pixelformat.GetPixelSize()\n\nbytes_per_slice = dimensions[0] * dimensions[1] * pixelsize\n\nbox = gdcm.BoxRegion()\nbox.SetDomain(0, dimensions[0] - 1, 0, dimensions[1] - 1, 1, 1)\n\nr.SetRegion(box)\n</code></pre>\n\n<p>This all works but how can I read the pixels?</p>\n\n<pre><code>nptypes = {gdcm.PixelFormat.UINT8  :numpy.int8,\n            gdcm.PixelFormat.INT8   :numpy.uint8,\n            gdcm.PixelFormat.UINT16 :numpy.uint16,\n            gdcm.PixelFormat.INT16  :numpy.int16,\n            gdcm.PixelFormat.UINT32 :numpy.uint32,\n            gdcm.PixelFormat.INT32  :numpy.int32,\n            gdcm.PixelFormat.FLOAT32:numpy.float32,\n            gdcm.PixelFormat.FLOAT64:numpy.float64 }\n\narr = np.array(bytes_per_slice, dtype=pixelformat.GetScalarType())\n# also tried np.uint8 as dtype\nbuffer = np.getbuffer(arr)\n\n\n#\n# now this fails\n#\nr.ReadIntoBuffer(buffer, bytes_per_slice)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-95-a8022420e1c1&gt; in &lt;module&gt;()\n----&gt; 1 r.ReadIntoBuffer(buffer, bytes_per_slice)\n\nlib/python2.7/site-packages/gdcmswig.pyc in ReadIntoBuffer(self, inreadbuffer, buflen)\n  20678         Read into buffer: false upon error\n  20679         \"\"\"\n&gt; 20680         return _gdcmswig.ImageRegionReader_ReadIntoBuffer(self, inreadbuffer, buflen)\n  20681 \n  20682 ImageRegionReader_swigregister = _gdcmswig.ImageRegionReader_swigregister\n\nTypeError: in method 'ImageRegionReader_ReadIntoBuffer', argument 2 of type 'char *'\n</code></pre>\n\n<p>How can I pass the numpy buffer? I tried some ctype stuff but it all did not work.</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 580, "user_id": 8322055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47ff67e2d843eb69b55c877182de0?s=128&d=identicon&r=PG&f=1", "display_name": "Atto Allas", "link": "https://stackoverflow.com/users/8322055/atto-allas"}, "is_accepted": true, "score": 0, "last_activity_date": 1511994374, "creation_date": 1511994374, "answer_id": 47562880, "question_id": 47562817, "link": "https://stackoverflow.com/questions/47562817/how-to-compute-the-product-some-of-parts-of-two-vectors/47562880#47562880", "title": "How to compute the product some of parts of two vectors", "body": "<p>If it's just that simple do:</p>\n\n<p><code>sum([A[i]*B[i] for i in range(3)])</code></p>\n\n<p>This sums the products of the first three values with each other.</p>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 5109, "user_id": 2373748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/moadr.png?s=128&g=1", "display_name": "galaxyan", "link": "https://stackoverflow.com/users/2373748/galaxyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1511994945, "last_edit_date": 1511994945, "creation_date": 1511994598, "answer_id": 47562925, "question_id": 47562817, "link": "https://stackoverflow.com/questions/47562817/how-to-compute-the-product-some-of-parts-of-two-vectors/47562925#47562925", "title": "How to compute the product some of parts of two vectors", "body": "<pre><code>import tensorflow as tf\n\ntf.multiply(A, B)\n</code></pre>\n\n<p>in python you can use numpy</p>\n\n<pre><code>A = numpy.array(A)\nB = numpy.array(B)\nA*B\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1511996369, "last_edit_date": 1511996369, "creation_date": 1511995802, "answer_id": 47563165, "question_id": 47562817, "link": "https://stackoverflow.com/questions/47562817/how-to-compute-the-product-some-of-parts-of-two-vectors/47563165#47563165", "title": "How to compute the product some of parts of two vectors", "body": "<p>Using built-in Python modules and functions, there are plenty of ways to do it.</p>\n\n<p>Given below lists:</p>\n\n<pre><code>A = [1,2,3,4,5]\nB = [4,5,6,7,8]\n</code></pre>\n\n<p>You can use the <code>zip</code> function to create pairs of elements from the two lists:</p>\n\n<pre><code>prod = list(zip(A,B))\nprint(prod)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[(1, 4), (2, 5), (3, 6), (4, 7), (5, 8)]\n</code></pre>\n\n<p>From there you can do it the following ways:</p>\n\n<p><strong>1) Using list comprehension:</strong></p>\n\n<pre><code>res = sum(a*b for a,b in prod[:3])\nprint(res)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>32\n</code></pre>\n\n<p><strong>2) Using <code>map</code> function:</strong></p>\n\n<pre><code>res = sum(map(lambda i: i[0]*i[1], prod[:3]))\nprint(res)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>32\n</code></pre>\n\n<p><strong>3) Using <code>reduce</code> function from <code>itertools</code> module:</strong></p>\n\n<pre><code>from functools import reduce #Need to import only if you're using Python 3\nimport operator\n\nres = sum(reduce(operator.mul, data) for data in prod[:3])\nprint(res)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>32\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 8401461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92b6a0b42c861dc9905e2ff47c82e9fb?s=128&d=identicon&r=PG&f=1", "display_name": "A. Mohammad", "link": "https://stackoverflow.com/users/8401461/a-mohammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1512002411, "accepted_answer_id": 47562880, "answer_count": 3, "score": 0, "last_activity_date": 1511996369, "creation_date": 1511994084, "last_edit_date": 1511994443, "question_id": 47562817, "link": "https://stackoverflow.com/questions/47562817/how-to-compute-the-product-some-of-parts-of-two-vectors", "closed_reason": "Needs more focus", "title": "How to compute the product some of parts of two vectors", "body": "<p>How can I compute the product sum of the first three elements of two vectors \n<code>A = [a1, a2, a3, a4, a5, a6]</code>and<code>B = [b1, b2, b3, b4, b5, b6] (i.e. [a1b1 + a2b2 + a3b3])</code>in python and tensorflow.</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5451396"}, "edited": false, "score": 0, "creation_date": 1511994089, "post_id": 47562800, "comment_id": 82083489, "body": "Why not make it a var or a lambda function? Just a suggestion. I don&#39;t mess with classes often so I don&#39;t know you can do that while initializing."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 2, "creation_date": 1511994127, "post_id": 47562800, "comment_id": 82083509, "body": "If you want identical Pages then you can just call them Page class several times."}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1511995986, "creation_date": 1511995986, "answer_id": 47563202, "question_id": 47562800, "link": "https://stackoverflow.com/questions/47562800/tkinter-navigate-through-pages-with-button/47563202#47563202", "title": "Tkinter: Navigate through pages with button", "body": "<p>The whole point of that example was to show how you could switch between different pages. I don't quite see a point of having multiple identical pages. </p>\n\n<p>That being said, there's nothing to prevent you from creating as many instances of a single page as you want. Here's a slight modification of the answer you linked to, which creates ten identical pages and lets you cycle between them:</p>\n\n<pre><code>import Tkinter as tk\n\nclass Page(tk.Frame):\n    def __init__(self, title):\n        tk.Frame.__init__(self, bd=1, relief=\"sunken\")\n        self.label = tk.Label(self, text=title)\n        self.label.pack(side=\"top\", fill=\"both\", expand=True)\n\n    def show(self):\n        self.lift()\n\nclass MainView(tk.Frame):\n    def __init__(self, *args, **kwargs):\n        tk.Frame.__init__(self, *args, **kwargs)\n\n        buttonframe = tk.Frame(self)\n        container = tk.Frame(self)\n\n        buttonframe.pack(side=\"top\", fill=\"x\", expand=False)\n        container.pack(side=\"top\", fill=\"both\", expand=True, padx=2, pady=2)\n\n        next_button = tk.Button(buttonframe, text=\" &gt; \", command=self.next_page)\n        prev_button = tk.Button(buttonframe, text=\" &lt; \", command=self.prev_page)\n        prev_button.pack(side=\"left\")\n        next_button.pack(side=\"left\")\n\n        self.pages = []\n        for i in range(10):\n            page = Page(title=\"page %d\" % i)\n            page.place(in_=container, x=0, y=0, relwidth=1, relheight=1)\n            self.pages.append(page)\n\n        self.pages[0].show()\n\n    def next_page(self):\n        # move the first page to the end of the list, \n        # then show the first page in the list\n        page = self.pages.pop(0)\n        self.pages.append(page)\n        self.pages[0].show()\n\n    def prev_page(self):\n        # move the last page in the list to the front of the list,\n        # then show the first page in the list.\n        page = self.pages.pop(-1)\n        self.pages.insert(0, page)\n        self.pages[0].show()\n\n\nif __name__ == \"__main__\":\n    root = tk.Tk()\n    main = MainView(root)\n    main.pack(side=\"top\", fill=\"both\", expand=True)\n    root.wm_geometry(\"400x400\")\n    root.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 532, "user_id": 5121340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c75ab024ebe80212d55045766b0efd?s=128&d=identicon&r=PG&f=1", "display_name": "itslwg", "link": "https://stackoverflow.com/users/5121340/itslwg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1857, "favorite_count": 0, "accepted_answer_id": 47563202, "answer_count": 1, "score": 0, "last_activity_date": 1511995986, "creation_date": 1511993996, "question_id": 47562800, "link": "https://stackoverflow.com/questions/47562800/tkinter-navigate-through-pages-with-button", "title": "Tkinter: Navigate through pages with button", "body": "<p>Given the accepted answer to this question: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/14817210/using-buttons-in-tkinter-to-navigate-to-different-pages-of-the-application\">Using buttons in Tkinter to navigate to different pages of the application?</a></p>\n\n<p>Is there a way to extend the Page class so that one can initialize an arbitrary amount of pages from MainView, instead of having to create a new class for every separate page?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "oop", "list-comprehension"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1511994061, "post_id": 47562792, "comment_id": 82083476, "body": "Stop putting <code>classmethod</code> on every method. It doesn&#39;t mean what you think it means."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 1, "creation_date": 1511994063, "post_id": 47562792, "comment_id": 82083478, "body": "<code>__init__</code> is <b>not</b> a <code>@classmethod</code> and by <code>toString</code> (which is not a classmethodas well) you probably mean <code>__str__</code>"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1511994137, "post_id": 47562792, "comment_id": 82083514, "body": "In this case, neither is <code>toString()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": true, "score": 1, "last_activity_date": 1511994127, "creation_date": 1511994127, "answer_id": 47562826, "question_id": 47562792, "link": "https://stackoverflow.com/questions/47562792/why-the-objects-i-make-in-a-loop-become-the-same/47562826#47562826", "title": "Why the objects I make in a loop become the same?", "body": "<p>Annotating a method with <code>@classmethod</code> means it belongs to the <strong>class</strong>, not to a specific instance. Remove those decorators from both methods in your <code>Employee</code> class and you should be OK.</p>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1511998171, "last_edit_date": 1511998171, "creation_date": 1511994653, "answer_id": 47562941, "question_id": 47562792, "link": "https://stackoverflow.com/questions/47562792/why-the-objects-i-make-in-a-loop-become-the-same/47562941#47562941", "title": "Why the objects I make in a loop become the same?", "body": "<p><code>classmethod</code> does not work the way you think it does in this case. Rather, you can use the Pythonic <code>__repr__</code> method:</p>\n\n<pre><code>class Employee:\n    def __init__(self, *args):\n       self.__dict__ = dict(zip(['id', 'name', 'password'], args))\n    def __repr__(self):\n       return \"{id}:{name} {password}\".format(**self.__dict__)\n\nlist = [Employee(item['id'], item['name'], item['password']) for item in json_list]\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 6258791, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040022422739645/picture?type=large", "display_name": "R&#244;mulo Tone", "link": "https://stackoverflow.com/users/6258791/r%c3%b4mulo-tone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 1, "accepted_answer_id": 47562826, "answer_count": 2, "score": -1, "last_activity_date": 1511998171, "creation_date": 1511993953, "last_edit_date": 1511995386, "question_id": 47562792, "link": "https://stackoverflow.com/questions/47562792/why-the-objects-i-make-in-a-loop-become-the-same", "title": "Why the objects I make in a loop become the same?", "body": "<p>Here is my program:</p>\n\n<p>some class:</p>\n\n<pre><code>class Employee (object):\n\n    @classmethod\n    def __init__(self, id, name, password):\n        self.id = id\n        self.name = name\n        self.password = password\n\n    @classmethod\n    def toString(self):\n        return(self.id + \": \" + self.name + \" \" + self.password)\n</code></pre>\n\n<p>Than I try to read some data from a JSON:</p>\n\n<pre><code>import os\nimport json\n\nif os.name == 'nt':\n    path = r'Storage\\employee.json'\nelse:\n    path  = r'Storage/employee.json'\n\nfrom employee import Employee\n\nif __name__ == '__main__':\n    with open(path, 'r') as file:\n        json_list = json.loads(file.read())\n        list = [Employee(item['id'], item['name'], item['password']) for item in json_list]\n        for elemt in list:\n            print (elemt.toString())\n</code></pre>\n\n<p>I can read the data without any problem but when I try to make a list of Employee with it. The list become repetitions of the last object.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "scipy", "correlation"], "comments": [{"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1511994354, "post_id": 47562775, "comment_id": 82083593, "body": "Definitely a bit odd since &quot;Changes in scipy 0.8.0: rewrite to add tie-handling, and axis.&quot; <a href=\"https://docs.scipy.org/doc/scipy-0.16.0/reference/generated/scipy.stats.spearmanr.html\" rel=\"nofollow noreferrer\">(source)</a>"}, {"owner": {"reputation": 581, "user_id": 9017455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950c22be5c4b5a0425f765eacb62ebec?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Bowly", "link": "https://stackoverflow.com/users/9017455/simon-bowly"}, "edited": false, "score": 0, "creation_date": 1511996680, "post_id": 47562775, "comment_id": 82084545, "body": "Side note - I think you want to be returning the result of <code>scipy.stats.spearmanr</code> in <code>applyspearman</code>, not assigning it to every row as an an additional column in the grouped dataframe?  Spearman rank is meant to be a summary statistic, not a per-row measure."}, {"owner": {"reputation": 542, "user_id": 6545542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bd62ef8dcbbe000232e720262ea62f35?s=128&d=identicon&r=PG", "display_name": "Christopher", "link": "https://stackoverflow.com/users/6545542/christopher"}, "edited": false, "score": 0, "creation_date": 1511997233, "post_id": 47562775, "comment_id": 82084732, "body": "I am using it as a summary statistic by interviewer. That is why I apply a groupby. Later in my analysis, I flatten my dataframe to one row per interviewer so I can then plot total interviews against the spearmanr score."}, {"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "reply_to_user": {"reputation": 581, "user_id": 9017455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950c22be5c4b5a0425f765eacb62ebec?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Bowly", "link": "https://stackoverflow.com/users/9017455/simon-bowly"}, "edited": false, "score": 0, "creation_date": 1511998430, "post_id": 47562775, "comment_id": 82085148, "body": "@SimonBowly the function as he has it is correct.  <code>.apply</code> applies the function to each grouped sub-DataFrame, so <code>row</code> here is really a DataFrame.  See <a href=\"https://stackoverflow.com/questions/45255236/how-is-pandas-groupby-method-actually-working/45255322#45255322\">here</a> for some detail"}, {"owner": {"reputation": 581, "user_id": 9017455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950c22be5c4b5a0425f765eacb62ebec?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Bowly", "link": "https://stackoverflow.com/users/9017455/simon-bowly"}, "edited": false, "score": 0, "creation_date": 1511999280, "post_id": 47562775, "comment_id": 82085427, "body": "Got it - I was thinking that there are only 2 groups, so you get 2 spearman values, but you copy those values over each row in the group. If you flatten later, makes total sense. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 542, "user_id": 6545542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bd62ef8dcbbe000232e720262ea62f35?s=128&d=identicon&r=PG", "display_name": "Christopher", "link": "https://stackoverflow.com/users/6545542/christopher"}, "edited": false, "score": 0, "creation_date": 1511999783, "post_id": 47563047, "comment_id": 82085575, "body": "Thanks @Brad  Solomon. Everything looks mostly good from a formula perspective... I&#39;d only add: d = ABS(rx - ry). But I don&#39;t think spearman is handling the tied rankings well. I tried this on my full dataset, and I wasn&#39;t getting negative values (this should vary between -1 and 1), so this is leading me to believe that spearman might not be a good approach for my problem. I&#39;m currently looking at fractional ranking with spearman, and exploring Kendall Tau."}, {"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "reply_to_user": {"reputation": 542, "user_id": 6545542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bd62ef8dcbbe000232e720262ea62f35?s=128&d=identicon&r=PG", "display_name": "Christopher", "link": "https://stackoverflow.com/users/6545542/christopher"}, "edited": false, "score": 0, "creation_date": 1512000051, "post_id": 47563047, "comment_id": 82085675, "body": "I was using the definition from <a href=\"https://www.hackerrank.com/challenges/s10-spearman-rank-correlation-coefficient/problem\" rel=\"nofollow noreferrer\">here</a>, if you&#39;re curious.  (You can confirm on the sample data.)  I&#39;ve seen it defined with slight variations and it&#39;s definitely sensitive to the inputs and ranking method.  But hopefully the structure of this is helpful."}], "tags": [], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "is_accepted": false, "score": 1, "last_activity_date": 1511995207, "creation_date": 1511995207, "answer_id": 47563047, "question_id": 47562775, "link": "https://stackoverflow.com/questions/47562775/scipy-spearman-correlation-coefficient-is-nan-in-some-cases/47563047#47563047", "title": "Scipy Spearman Correlation Coefficient is NaN in Some Cases", "body": "<p>Not sure exactly what's happening in the <a href=\"https://github.com/scipy/scipy/blob/v0.16.1/scipy/stats/stats.py#L2736\" rel=\"nofollow noreferrer\">source</a> but you can define your own function with pandas' <code>Series.rank(method='dense')</code> and this seems to clear things up:</p>\n\n<pre><code>def spearmanr(x, y):\n    \"\"\" `x`, `y` --&gt; pd.Series\"\"\"\n    assert x.shape == y.shape\n    rx = x.rank(method='dense')\n    ry = y.rank(method='dense')\n    d = rx - ry\n    dsq = np.sum(np.square(d))\n    n = x.shape[0]\n    coef = 1. - (6. * dsq) / (n * (n**2 - 1.))\n    return coef\n\ngrouped.apply(lambda frame: spearmanr(frame['Score_1'], frame['Score_2']))\nInterviewer_1    0.970\nInterviewer_2    0.998\n</code></pre>\n"}], "owner": {"reputation": 542, "user_id": 6545542, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bd62ef8dcbbe000232e720262ea62f35?s=128&d=identicon&r=PG", "display_name": "Christopher", "link": "https://stackoverflow.com/users/6545542/christopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1923, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1511995207, "creation_date": 1511993875, "question_id": 47562775, "link": "https://stackoverflow.com/questions/47562775/scipy-spearman-correlation-coefficient-is-nan-in-some-cases", "title": "Scipy Spearman Correlation Coefficient is NaN in Some Cases", "body": "<p>I'm computing Spearman correlation coefficients for interviewers. It works for Interviewer_1... I don't understand how Scipy interrupts interviewer_2 as having no correlation/0/nan.</p>\n\n<pre><code>import pandas as pd\nfrom pandas import DataFrame\nimport scipy.stats\n\n\ndf = pd.DataFrame({'Interviewer': ['Interviewer_1','Interviewer_1','Interviewer_1','Interviewer_1','Interviewer_1','Interviewer_1','Interviewer_1','Interviewer_1','Interviewer_1','Interviewer_1','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2','Interviewer_2'],\n                    'Score_1': [-1,-1,-1,1,1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,1,-1],\n                    'Score_2': [1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]\n                    })\n\ndf\n</code></pre>\n\n<p>Sample Data Yields:</p>\n\n<pre><code>    Interviewer Score_1 Score_2\n0   Interviewer_1   -1  1\n1   Interviewer_1   -1  -1\n2   Interviewer_1   -1  -1\n3   Interviewer_1   1   -1\n4   Interviewer_1   1   1\n5   Interviewer_1   -1  1\n6   Interviewer_1   -1  -1\n7   Interviewer_1   -1  -1\n8   Interviewer_1   1   -1\n9   Interviewer_1   1   -1\n10  Interviewer_2   -1  -1\n11  Interviewer_2   -1  -1\n12  Interviewer_2   -1  -1\n13  Interviewer_2   -1  -1\n14  Interviewer_2   -1  -1\n15  Interviewer_2   -1  -1\n16  Interviewer_2   -1  -1\n17  Interviewer_2   -1  -1\n18  Interviewer_2   -1  -1\n19  Interviewer_2   -1  -1\n20  Interviewer_2   -1  -1\n21  Interviewer_2   -1  -1\n22  Interviewer_2   -1  -1\n23  Interviewer_2   1   -1\n24  Interviewer_2   -1  -1\n25  Interviewer_2   -1  -1\n26  Interviewer_2   -1  -1\n27  Interviewer_2   -1  -1\n28  Interviewer_2   1   -1\n29  Interviewer_2   -1  -1\n\ndf.groupby('Interviewer').sum()\n</code></pre>\n\n<p>Yields the Sum:</p>\n\n<pre><code>           Score_1  Score_2\nInterviewer     \nInterviewer_1   -2  -4\nInterviewer_2   -16 -20\n</code></pre>\n\n<p>Using Scipy:</p>\n\n<pre><code>def applyspearman(row):\n    row['Cor'] = scipy.stats.spearmanr(row['Score_1'], row['Score_2'])[0]\n    return row\n\ndf = df.groupby('Interviewer').apply(applyspearman)\n\ndf\n    Interviewer Score_1 Score_2 Cor\n0   Interviewer_1   -1  1   -0.089087081\n1   Interviewer_1   -1  -1  -0.089087081\n2   Interviewer_1   -1  -1  -0.089087081\n3   Interviewer_1   1   -1  -0.089087081\n4   Interviewer_1   1   1   -0.089087081\n5   Interviewer_1   -1  1   -0.089087081\n6   Interviewer_1   -1  -1  -0.089087081\n7   Interviewer_1   -1  -1  -0.089087081\n8   Interviewer_1   1   -1  -0.089087081\n9   Interviewer_1   1   -1  -0.089087081\n10  Interviewer_2   -1  -1  \n11  Interviewer_2   -1  -1  \n12  Interviewer_2   -1  -1  \n13  Interviewer_2   -1  -1  \n14  Interviewer_2   -1  -1  \n15  Interviewer_2   -1  -1  \n16  Interviewer_2   -1  -1  \n17  Interviewer_2   -1  -1  \n18  Interviewer_2   -1  -1  \n19  Interviewer_2   -1  -1  \n20  Interviewer_2   -1  -1  \n21  Interviewer_2   -1  -1  \n22  Interviewer_2   -1  -1  \n23  Interviewer_2   1   -1  \n24  Interviewer_2   -1  -1  \n25  Interviewer_2   -1  -1  \n26  Interviewer_2   -1  -1  \n27  Interviewer_2   -1  -1  \n28  Interviewer_2   1   -1  \n29  Interviewer_2   -1  -1\n</code></pre>\n\n<p>I tried using this formula by hand in Excel (rank functions, abs difference, d^2, and sum of d^, and got different results for both interviewers: \np = 1 - (6 \u03a3 d^2i)/(n(n^2-1))</p>\n\n<p>interviewer_1, p = 0.878788</p>\n\n<p>interviewer_2, p = 0.993985</p>\n\n<p><strong>Questions</strong>:</p>\n\n<ol>\n<li>Why is Interviewer_2 null? Is the NaN issue related to rank ties?</li>\n<li>Why does Scipy's results differ from my results by hand?</li>\n</ol>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1511994271, "post_id": 47562773, "comment_id": 82083566, "body": "Can you explain in more detail in what way your code doesn&#39;t work as expected?"}, {"owner": {"reputation": 1633, "user_id": 6502500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EnuRp.png?s=128&g=1", "display_name": "Mangohero1", "link": "https://stackoverflow.com/users/6502500/mangohero1"}, "edited": false, "score": 0, "creation_date": 1511994982, "post_id": 47562773, "comment_id": 82083874, "body": "When calling <code>foundpos = searchforacct(accounttosearch)</code> (BTW, typing these in camelCase would make this a bit more readable) you set the position. But you reset the position when you call <code>calculatewithdrawal()</code> or <code>calculatedeposit()</code>. You need to pass that position as an <i>argument</i> to those two functions, and delete the <code>position = 0</code> line"}, {"owner": {"reputation": 1633, "user_id": 6502500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EnuRp.png?s=128&g=1", "display_name": "Mangohero1", "link": "https://stackoverflow.com/users/6502500/mangohero1"}, "edited": false, "score": 0, "creation_date": 1511995090, "post_id": 47562773, "comment_id": 82083911, "body": "You really shouldn&#39;t need a <code>while</code> loop within these at all... you&#39;re only updating one value at a time."}, {"owner": {"reputation": 1633, "user_id": 6502500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EnuRp.png?s=128&g=1", "display_name": "Mangohero1", "link": "https://stackoverflow.com/users/6502500/mangohero1"}, "edited": false, "score": 0, "creation_date": 1511995181, "post_id": 47562773, "comment_id": 82083954, "body": "Last remark, <code>balancelist</code> is a list of <i>strings</i>... you never cast them to ints so you&#39;re adding/subtracting ints and strings. HTH"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8895882"}, "edited": false, "score": 0, "creation_date": 1511996947, "post_id": 47562773, "comment_id": 82084634, "body": "Thanks everyone for your input. You Mangohero1, you were right regarding the &quot;while&#39;s&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 857, "user_id": 8692914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60e6b98c0348cc70952db1aedf455d0?s=128&d=identicon&r=PG&f=1", "display_name": "omeanwell", "link": "https://stackoverflow.com/users/8692914/omeanwell"}, "is_accepted": true, "score": 0, "last_activity_date": 1511994631, "creation_date": 1511994631, "answer_id": 47562932, "question_id": 47562773, "link": "https://stackoverflow.com/questions/47562773/stuck-on-an-assignment-at-least-part-of-it-atm-banking-choices/47562932#47562932", "title": "Stuck on an assignment. At least part of it. ATM Banking choices", "body": "<p>Your code wont compile, on line 45 add a : following your def. On line 45 change <code>withamount to withmount</code>. Then on Line 45 change</p>\n\n<pre><code>balancelist[position] = balancelist[position] + withamount\n</code></pre>\n\n<p>to this</p>\n\n<pre><code> balancelist[position] = int(balancelist[position]) - withamount\n</code></pre>\n\n<p>You need to cast the string in your balance list to an int. You also need to subtract (-) not add (+) from the list as its a withdrawal.</p>\n\n<p>There are a few other bugs in your code but thats enough to get you up and running. </p>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 5153628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfcbf1e8236dc94601a83285389f0ea2?s=128&d=identicon&r=PG&f=1", "display_name": "Ian E", "link": "https://stackoverflow.com/users/5153628/ian-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1511994912, "creation_date": 1511994912, "answer_id": 47562988, "question_id": 47562773, "link": "https://stackoverflow.com/questions/47562773/stuck-on-an-assignment-at-least-part-of-it-atm-banking-choices/47562988#47562988", "title": "Stuck on an assignment. At least part of it. ATM Banking choices", "body": "<p>Instead of looking at the 'account' you found from the users input, you loop through the first 2 balance lists and add a user given value.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8895882"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 47562932, "answer_count": 2, "score": 0, "last_activity_date": 1511994912, "creation_date": 1511993873, "question_id": 47562773, "link": "https://stackoverflow.com/questions/47562773/stuck-on-an-assignment-at-least-part-of-it-atm-banking-choices", "title": "Stuck on an assignment. At least part of it. ATM Banking choices", "body": "<p>below is my code that I have worked on to get this bank atm assignment going. I can't seem to add and subtract into the balance of the code. I'm pretty sure I'm doing something wrong. Below is what the part of what the assignment entails. Everything else is in working order in regards to choosing option P, S, and E. Options D, and W are where I have run into a problem.  Any help would be great. Thanks!</p>\n\n<p><em>If the user types D then:\n\u00b7       Ask the user for the account number.\n\u00b7        Search the accountnumbers() array for that account number and find its position.\n\u00b7        Ask the user for the amount to be deposited.\n\u00b7        Add the deposit amount to the balance for that account.\n\u00b7        If the user types W then:\n\u00b7        Ask the user for the account number.\n\u00b7        Search the accountnumbers() array for that account number and find its position.\n\u00b7        Ask the user for the amount to be withdrawn.\n\u00b7        Subtract withdrawal amount from  the  balance for that account.</em></p>\n\n<pre><code>namelist=[]\naccountnumberslist=[]\nbalancelist=[]\n\ndef populatelist():\n    print ('Great! Please enter the information below')\n    namecount=0\n    #This loops collects the five names,accounts,balances, and appends them to the namelist\n    while(namecount&lt; 2):\n        name= input('Enter a name: ')\n        namelist.append(name)\n        accountnumber = input('Please enter your Account Number: ')\n        accountnumberslist.append(accountnumber)\n        balances = input('Please enter your Balance: ')\n        balancelist.append(balances)\n        namecount = namecount + 1\n    return\n\ndef displayall():\n    print ('I am inside display function')\n    position =0\n    #This loop, prints one name at a time from the zero position to the end. \n    while ( position &lt; 2):\n        displayone(position)\n        position = position + 1\n    return\n\ndef displayone(position):\n    print ('Account Holder:',namelist[position])\n    print ('Balance:',balancelist[position])\n    return\n\ndef calculatedeposit():\n      position = 0\n      while (position &lt; 2):\n        depamount = int(input('Please enter the amount to deposit'))\n        balancelist[position] = balancelist[position] + depamount\n        position = position + 1\n      return      \n\ndef calculatewithdrawal()\n       position = 0\n       while (position &lt; 2):\n        withmount = int(input('Please enter the amount to deposit'))\n        balancelist[position] = balancelist[position] + withamount\n        position = position + 1\n\n#What does it receive. Account Number to search.\n#what does it do? Searches for the Account Holder.\n#what does it send back. Position of the Account Holder, if not found, -1\ndef searchforacct(accounttosearch):\n    foundposition=-1  # assume that it is not going to be found. \n    position=0\n    while (position &lt; 2):\n        if (accounttosearch==accountnumberslist[position]):\n            foundposition = position\n            break\n        position = position + 1\n    return foundposition\n\n#This function will display the menu, collect the users response and send back\ndef displaymenu():\n    print ('Enter P to Populate Data')\n    print ('Enter S to Search for Account ')\n    print ('Enter D to Deposit Amount ')\n    print ('Enter W to Withdraw Amount ')\n    print ('Enter E to Exit')\n    choice = input('How can we help you today?:')\n    return choice\n\nprint(\"=====================================\")\nprint(\" Welcome to Liberty City Bank ATM    \")\nprint(\"=====================================\")\n#main\nresponse=''\nwhile response!= 'E' and response!='e':\n    response = displaymenu()\n    if response=='P' or response=='p':\n        populatelist()\n    elif response=='S' or response=='s':\n        accounttosearch = input('Please enter the Account Number to search:')\n        foundpos = searchforacct(accounttosearch)\n        if ( foundpos == -1 ):\n            print ('Account not found')\n        else:\n            displayone(foundpos)\n    elif response=='D' or response=='d':\n         accounttosearch = input('Please enter the Account Number for Deposit:')\n         foundpos = searchforacct(accounttosearch)\n         if ( foundpos == -1 ):\n            print ('Account not found')\n         else:\n          calculatedeposit()\n\n    elif response=='W' or response=='w':\n          accounttosearch = input('Please enter the Account Number for Withdrawal:')\n          foundpos = searchforacct(accounttosearch)\n          if ( foundpos == -1 ):\n            print ('Account not found')\n          else:\n            calculatewithdrawal()\n\n    elif response=='E' or response=='e':\n        print ('Thank you for choosing Liberty City Bank!')\n        print ('Have a Nice Day!')\n    else:\n        print ('Invalid choice. Please try again')\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "file", "tkinter"], "comments": [{"owner": {"reputation": 522, "user_id": 8365557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09987ab1f11959fe1fa61b65f8a7d871?s=128&d=identicon&r=PG&f=1", "display_name": "r0the", "link": "https://stackoverflow.com/users/8365557/r0the"}, "edited": false, "score": 0, "creation_date": 1511994264, "post_id": 47562769, "comment_id": 82083564, "body": "This is probably a duplicate of <a href=\"https://stackoverflow.com/questions/3207219/how-do-i-list-all-files-of-a-directory\" title=\"how do i list all files of a directory\">stackoverflow.com/questions/3207219/&hellip;</a>."}, {"owner": {"reputation": 1354, "user_id": 5231118, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e37b8a5d4e5cafece85748739ec094c8?s=128&d=identicon&r=PG&f=1", "display_name": "randyr", "link": "https://stackoverflow.com/users/5231118/randyr"}, "edited": false, "score": 0, "creation_date": 1511994361, "post_id": 47562769, "comment_id": 82083599, "body": "What kind of data are you trying to store in the file?"}, {"owner": {"reputation": 75, "user_id": 7717327, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-5lxuqnzPF4o/AAAAAAAAAAI/AAAAAAAAAJM/XMgHNgP4HGk/photo.jpg?sz=128", "display_name": "Jordan Murray", "link": "https://stackoverflow.com/users/7717327/jordan-murray"}, "reply_to_user": {"reputation": 522, "user_id": 8365557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09987ab1f11959fe1fa61b65f8a7d871?s=128&d=identicon&r=PG&f=1", "display_name": "r0the", "link": "https://stackoverflow.com/users/8365557/r0the"}, "edited": false, "score": 0, "creation_date": 1511994790, "post_id": 47562769, "comment_id": 82083797, "body": "@r0the not entirely, it&#39;s more so that I want all my programs I need to run to be able to access the same file without manually selecting it every single time, only when it updates. And for ease of use, I would like to not have to modify the code every time I need to access the file."}, {"owner": {"reputation": 75, "user_id": 7717327, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-5lxuqnzPF4o/AAAAAAAAAAI/AAAAAAAAAJM/XMgHNgP4HGk/photo.jpg?sz=128", "display_name": "Jordan Murray", "link": "https://stackoverflow.com/users/7717327/jordan-murray"}, "reply_to_user": {"reputation": 1354, "user_id": 5231118, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e37b8a5d4e5cafece85748739ec094c8?s=128&d=identicon&r=PG&f=1", "display_name": "randyr", "link": "https://stackoverflow.com/users/5231118/randyr"}, "edited": false, "score": 0, "creation_date": 1511995437, "post_id": 47562769, "comment_id": 82084048, "body": "@Randyr The file is a large collection of companies and information about them, each line being a different company. There are certain fields of information I want to access from different programs and they need to run each other from time to time. For instance, when updating a company to be affiliated, I need to run my one program again that moves the information to an excel file and formats it to have a green background to show it is an affiliated company. I want to run that every time after my addAffiliate program without having to constantly select the file."}, {"owner": {"reputation": 1354, "user_id": 5231118, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e37b8a5d4e5cafece85748739ec094c8?s=128&d=identicon&r=PG&f=1", "display_name": "randyr", "link": "https://stackoverflow.com/users/5231118/randyr"}, "edited": false, "score": 0, "creation_date": 1511996189, "post_id": 47562769, "comment_id": 82084345, "body": "@JordanMurray Would a database such as sqlite perhaps be a better choice for such structured data?"}, {"owner": {"reputation": 75, "user_id": 7717327, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-5lxuqnzPF4o/AAAAAAAAAAI/AAAAAAAAAJM/XMgHNgP4HGk/photo.jpg?sz=128", "display_name": "Jordan Murray", "link": "https://stackoverflow.com/users/7717327/jordan-murray"}, "reply_to_user": {"reputation": 1354, "user_id": 5231118, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e37b8a5d4e5cafece85748739ec094c8?s=128&d=identicon&r=PG&f=1", "display_name": "randyr", "link": "https://stackoverflow.com/users/5231118/randyr"}, "edited": false, "score": 0, "creation_date": 1511996501, "post_id": 47562769, "comment_id": 82084477, "body": "@Randyr I have thought about using sqlite however, since the program will mostly be used by individuals with no sql experience but have experience with Excel and so I&#39;m trying to tailor it towards that. accessing the data itself is not quite the problem, as of right now everything works <i>if</i> I give it the exact paths to the file in the code but this will be used for years to come (where I will not be involved) and needs to be easy to use for individuals with almost no coding experience of any sort."}, {"owner": {"reputation": 1547, "user_id": 70131, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jF0eP.png?s=128&g=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/70131/marcin"}, "edited": false, "score": 0, "creation_date": 1512020528, "post_id": 47562769, "comment_id": 82090868, "body": "do you just want to open the most recently modified file in a pre-defined directory? - <a href=\"https://docs.python.org/3/library/os.html#os.stat\" rel=\"nofollow noreferrer\">docs.python.org/3/library/os.html#os.stat</a>"}, {"owner": {"reputation": 75, "user_id": 7717327, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-5lxuqnzPF4o/AAAAAAAAAAI/AAAAAAAAAJM/XMgHNgP4HGk/photo.jpg?sz=128", "display_name": "Jordan Murray", "link": "https://stackoverflow.com/users/7717327/jordan-murray"}, "reply_to_user": {"reputation": 1547, "user_id": 70131, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jF0eP.png?s=128&g=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/70131/marcin"}, "edited": false, "score": 0, "creation_date": 1512103139, "post_id": 47562769, "comment_id": 82131058, "body": "@Marcin in a sense yes."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 7717327, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-5lxuqnzPF4o/AAAAAAAAAAI/AAAAAAAAAJM/XMgHNgP4HGk/photo.jpg?sz=128", "display_name": "Jordan Murray", "link": "https://stackoverflow.com/users/7717327/jordan-murray"}, "edited": false, "score": 0, "creation_date": 1511994526, "post_id": 47562803, "comment_id": 82083668, "body": "Couldn&#39;t I also use fnmatch with for file in os.listdir(&#39;.&#39;):  if fnmatch.fnmatch(file, &#39;*.txt&#39;): ?"}, {"owner": {"reputation": 1354, "user_id": 5231118, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e37b8a5d4e5cafece85748739ec094c8?s=128&d=identicon&r=PG&f=1", "display_name": "randyr", "link": "https://stackoverflow.com/users/5231118/randyr"}, "edited": false, "score": 0, "creation_date": 1511994930, "post_id": 47562803, "comment_id": 82083855, "body": "The question doesn&#39;t seem to be about getting files in a folder, but more about being able to access a single file from multiple places in the code. Therefore this answer does not seem relevant to the question"}, {"owner": {"reputation": 12703, "user_id": 584597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d519ba6b69a89cc8ec99001eea2059b?s=128&d=identicon&r=PG", "display_name": "payne", "link": "https://stackoverflow.com/users/584597/payne"}, "reply_to_user": {"reputation": 1354, "user_id": 5231118, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e37b8a5d4e5cafece85748739ec094c8?s=128&d=identicon&r=PG&f=1", "display_name": "randyr", "link": "https://stackoverflow.com/users/5231118/randyr"}, "edited": false, "score": 0, "creation_date": 1511995234, "post_id": 47562803, "comment_id": 82083971, "body": "@Randyr OP stated problem as: &quot;I&#39;m writing several related python programs that need to access the same file however, this file will be updated/replaced intermittently and I need them all to access the new file&quot;.  I interpreted that as having different Python programs having to find and access the same file....?"}], "tags": [], "owner": {"reputation": 12703, "user_id": 584597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d519ba6b69a89cc8ec99001eea2059b?s=128&d=identicon&r=PG", "display_name": "payne", "link": "https://stackoverflow.com/users/584597/payne"}, "is_accepted": false, "score": -2, "last_activity_date": 1511994859, "last_edit_date": 1511994859, "creation_date": 1511994013, "answer_id": 47562803, "question_id": 47562769, "link": "https://stackoverflow.com/questions/47562769/how-to-have-multiple-programs-access-the-same-file-without-manually-giving-them/47562803#47562803", "title": "How to have multiple programs access the same file without manually giving them all the file path?", "body": "<p>To \"<em>have python select whatever text file is in the folder</em>\", you could use the <code>glob</code> library to get a list of file(s) in the directory, see:  <a href=\"https://docs.python.org/2/library/glob.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/glob.html</a></p>\n\n<p>You can also use <code>os.listdir()</code> to list all of the files in a directory, without matching pattern names.</p>\n\n<p>Then, <code>open()</code> and <code>read()</code> whatever file or files you find in that directory.</p>\n"}, {"comments": [{"owner": {"reputation": 12703, "user_id": 584597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d519ba6b69a89cc8ec99001eea2059b?s=128&d=identicon&r=PG", "display_name": "payne", "link": "https://stackoverflow.com/users/584597/payne"}, "edited": false, "score": 0, "creation_date": 1511994970, "post_id": 47562893, "comment_id": 82083870, "body": "Keep in mind that the singleton pattern alone doesn&#39;t address the underlying problem you asked about:  &quot;having several related Python programs access the same file&quot;."}, {"owner": {"reputation": 75, "user_id": 7717327, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-5lxuqnzPF4o/AAAAAAAAAAI/AAAAAAAAAJM/XMgHNgP4HGk/photo.jpg?sz=128", "display_name": "Jordan Murray", "link": "https://stackoverflow.com/users/7717327/jordan-murray"}, "reply_to_user": {"reputation": 12703, "user_id": 584597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d519ba6b69a89cc8ec99001eea2059b?s=128&d=identicon&r=PG", "display_name": "payne", "link": "https://stackoverflow.com/users/584597/payne"}, "edited": false, "score": 0, "creation_date": 1511995126, "post_id": 47562893, "comment_id": 82083930, "body": "True, @payne, I&#39;m wondering If by making a main controller program that accesses all of them and get the file originally from that, if I can save that information until I need to &quot;set up&quot; or provide a new file for the system. Then just access and pass the file information to the other programs from the controller program. <b>Edit:</b> This whole thing might be outside of the bounds of python but I like its ability to work with data."}], "tags": [], "owner": {"reputation": 313, "user_id": 3053405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97af3f6be0ec30b92f79beda9b1e8f28?s=128&d=identicon&r=PG&f=1", "display_name": "Zooby", "link": "https://stackoverflow.com/users/3053405/zooby"}, "is_accepted": false, "score": -1, "last_activity_date": 1511994424, "creation_date": 1511994424, "answer_id": 47562893, "question_id": 47562769, "link": "https://stackoverflow.com/questions/47562769/how-to-have-multiple-programs-access-the-same-file-without-manually-giving-them/47562893#47562893", "title": "How to have multiple programs access the same file without manually giving them all the file path?", "body": "<p>It sounds like you're looking for a <a href=\"http://python-3-patterns-idioms-test.readthedocs.io/en/latest/Singleton.html\" rel=\"nofollow noreferrer\">singleton pattern</a>, which is a neat way of hiding a lot of logic into an 'only one instance' object. \nThis means the logic for identifying, retrieving, and delivering the file is all in one place, and your programs interact with it by saying 'give me the one instance of that thing'. If you need to alter how it identifies, retrieves, or delivers what that one thing is, you can keep that hidden.</p>\n\n<p>It's worth noting that the singleton pattern can be considered an antipattern as it's a form of global state, it depends on the context of the program if this is a deal breaker or not. </p>\n"}, {"tags": [], "owner": {"reputation": 1547, "user_id": 70131, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jF0eP.png?s=128&g=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/70131/marcin"}, "is_accepted": false, "score": 0, "last_activity_date": 1515576349, "creation_date": 1515576349, "answer_id": 48184092, "question_id": 47562769, "link": "https://stackoverflow.com/questions/47562769/how-to-have-multiple-programs-access-the-same-file-without-manually-giving-them/48184092#48184092", "title": "How to have multiple programs access the same file without manually giving them all the file path?", "body": "<p>If the requirement is to get the most recently modified file in a specific directory:</p>\n\n<pre><code>import os\n\nmypath = r'C:\\path\\to\\wherever'\n\nmyfiles = [(f,os.stat(os.path.join(mypath,f)).st_mtime) for f in os.listdir(mypath)]\n\nmysortedfiles = sorted(myfiles,key=lambda x: x[1],reverse=True)\n\nprint('Most recently updated: %s'%mysortedfiles[0][0])\n</code></pre>\n\n<p>Basically, get a list of files in the directory, together with their modified time as a list of tuples, sort on modified date, then get the one you want.</p>\n"}], "owner": {"reputation": 75, "user_id": 7717327, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-5lxuqnzPF4o/AAAAAAAAAAI/AAAAAAAAAJM/XMgHNgP4HGk/photo.jpg?sz=128", "display_name": "Jordan Murray", "link": "https://stackoverflow.com/users/7717327/jordan-murray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1515576349, "creation_date": 1511993858, "last_edit_date": 1511996200, "question_id": 47562769, "link": "https://stackoverflow.com/questions/47562769/how-to-have-multiple-programs-access-the-same-file-without-manually-giving-them", "title": "How to have multiple programs access the same file without manually giving them all the file path?", "body": "<p>I'm writing several related python programs that need to access the same file however, this file will be updated/replaced intermittently and I need them all to access the new file. My current idea is to have a specific folder where the latest file is placed whenever it needs to be replaced and was curious how I could have python select <em>whatever</em> text file is in the folder.</p>\n\n<p>Or, would I be better off creating a program that has a Class entirely dedicated to holding the information of the file and have each program reference the file in that class. I could have the Class use <em>tkinter.filedialog</em> to select a new file whenever necessary and perhaps have a text file that has the path or name to the file that I need to access and have the other programs reference that.</p>\n\n<p>Edit: I don't need to write to the file at all just read from it. However, I would like to have it so that I do not need to manually update the path to the file every time I run the program or update the file path.</p>\n\n<p>Edit2: Changed title to suit the question more</p>\n"}, {"tags": ["python", "qt", "pyqt", "pyside"], "comments": [{"owner": {"reputation": 10926, "user_id": 300745, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7KEV8.png?s=128&g=1", "display_name": "Gearoid Murphy", "link": "https://stackoverflow.com/users/300745/gearoid-murphy"}, "edited": false, "score": 1, "creation_date": 1556410267, "post_id": 47562740, "comment_id": 98429725, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14610568/how-to-use-the-qgraphicsviews-translate-function\">How to use the QGraphicsView&#39;s translate() function?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2035, "user_id": 2123400, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/214ff1ea0cbbe0819244fdb421495363?s=128&d=identicon&r=PG&f=1", "display_name": "Eftekhari", "link": "https://stackoverflow.com/users/2123400/eftekhari"}, "edited": false, "score": 0, "creation_date": 1602163409, "post_id": 47562741, "comment_id": 113637771, "body": "Adding self as the parameter was needed on PySide2:   <code>self.horizontalScrollBar().disconnect(self)</code>   <code>self.verticalScrollBar().disconnect(self)</code>."}], "tags": [], "owner": {"reputation": 59, "user_id": 3684317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5399267dd7e4d2367dcae529d30cc186?s=128&d=identicon&r=PG&f=1", "display_name": "Robert McLeod", "link": "https://stackoverflow.com/users/3684317/robert-mcleod"}, "is_accepted": false, "score": 1, "last_activity_date": 1511993681, "creation_date": 1511993681, "answer_id": 47562741, "question_id": 47562740, "link": "https://stackoverflow.com/questions/47562740/pyqt-pyside-qgraphicsview-cannot-be-translated/47562741#47562741", "title": "PyQt/PySide QGraphicsView cannot be translated", "body": "<p>Because QGraphicsView:</p>\n\n<p><a href=\"http://pyside.github.io/docs/pyside/PySide/QtGui/QGraphicsView.html\" rel=\"nofollow noreferrer\">http://pyside.github.io/docs/pyside/PySide/QtGui/QGraphicsView.html</a></p>\n\n<p>is a child class of QAbstractScrollArea:</p>\n\n<p><a href=\"http://pyside.github.io/docs/pyside/PySide/QtGui/QAbstractScrollArea.html\" rel=\"nofollow noreferrer\">http://pyside.github.io/docs/pyside/PySide/QtGui/QAbstractScrollArea.html</a></p>\n\n<p><code>QGraphicsView.translate()</code> does move the scene, but then the parent class is called and the signals connected to the scroll bars move the scene back to the scroll-bar indicated position.  One solution is to turn off the scroll bar signals:</p>\n\n<pre><code>self.setVerticalScrollBarPolicy( QtCore.Qt.ScrollBarAlwaysOff )\nself.setHorizontalScrollBarPolicy( QtCore.Qt.ScrollBarAlwaysOff )\nself.horizontalScrollBar().disconnect()\nself.verticalScrollBar().disconnect()\n</code></pre>\n\n<p>If you want to retain the scroll bars, you have to set them directly:</p>\n\n<pre><code>self.horizontalScrollBar().setValue( self.horizontalScrollBar().value() + delta.x() )\nself.verticalScrollBar().setValue( self.verticalScrollBar().value() + delta.y() )\n</code></pre>\n\n<p>Or possibly you could replumb the signal/slots going into them.</p>\n"}], "owner": {"reputation": 59, "user_id": 3684317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5399267dd7e4d2367dcae529d30cc186?s=128&d=identicon&r=PG&f=1", "display_name": "Robert McLeod", "link": "https://stackoverflow.com/users/3684317/robert-mcleod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556405842, "creation_date": 1511993681, "question_id": 47562740, "link": "https://stackoverflow.com/questions/47562740/pyqt-pyside-qgraphicsview-cannot-be-translated", "title": "PyQt/PySide QGraphicsView cannot be translated", "body": "<p>I would like to subclass a Python-Qt QGraphicsView object to display some images, and I want to be able to pan with mouse dragging.  However, the methods <code>QGraphicsView.translate(x,y)</code> and <code>QGraphicsView.CenterOn(x,y)</code> don't work.  Here's a simple sample code fragment (for simplicity I left out <code>mouseMoveEvent</code>):</p>\n\n<pre><code>import sys\nfrom qtpy import QtGui, QtCore, QtWidgets\n\nclass MyView(QtWidgets.QGraphicsView):\n    def __init__(self):\n        QtWidgets.QGraphicsView.__init__(self)\n\n        self.scene = QtWidgets.QGraphicsScene(self)\n        self.item = QtWidgets.QGraphicsEllipseItem(-20, -10, 160, 160)\n        self.scene.addItem(self.item)\n        self.setScene(self.scene)\n        self._drag = False\n        self._pos = QtCore.QPointF(0.0, 0.0)\n\n    def wheelEvent(self, event):\n        if event.angleDelta().y() &gt; 0:\n            self.scale(1.5,1.5)   # Increase zoom\n        else:\n            self.scale(0.75,0.75) # Decrease zoom\n\n    def mousePressEvent(self, event):\n        self._drag = True\n        self._pos = event.pos()\n\n    def mouseReleaseEvent(self, event):\n        if self._drag:\n            self._drag = False\n            newPos = event.pos()\n            delta = self._pos - newPos\n            # What the docs say work to translate:\n            self.translate( delta.x(), delta.y() )\n\n            aff = self.transform()\n            print( 'isTranslating: {}, dx: {}, dy: {}'.format(aff.isTranslating(), aff.dx(), aff.dy()) )\n            print( 'hozScroll: {}, vertScroll: {}'.format( self.horizontalScrollBar().value(), self.verticalScrollBar().value() ) )\n\n\nif __name__ == '__main__':\n    app = QtWidgets.QApplication(sys.argv)\n    view = MyView()\n    view.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Substitute <code>PySide2</code> or <code>PyQt5</code> for <code>qtpy</code> if needed.  In order to enable translation, you first have to scroll in with the mouse wheel.  Then you try dragging you can see that while the affline transform matrix is changing, but the view doesn't translate.</p>\n"}, {"tags": ["python", "c", "numpy", "scipy", "package"], "comments": [{"owner": {"reputation": 7300, "user_id": 195644, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1a2ac3e1eba0c0d26672b2a55948b77?s=128&d=identicon&r=PG", "display_name": "xaav", "link": "https://stackoverflow.com/users/195644/xaav"}, "edited": false, "score": 2, "creation_date": 1512000445, "post_id": 47562695, "comment_id": 82085769, "body": "I would recommend using Cython. See here: <a href=\"http://cython.readthedocs.io/en/latest/src/tutorial/numpy.html\" rel=\"nofollow noreferrer\">cython.readthedocs.io/en/latest/src/tutorial/numpy.html</a>"}, {"owner": {"reputation": 14220, "user_id": 3547485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xGJWo.png?s=128&g=1", "display_name": "Kinght \u91d1", "link": "https://stackoverflow.com/users/3547485/kinght-%e9%87%91"}, "edited": false, "score": 0, "creation_date": 1512027014, "post_id": 47562695, "comment_id": 82093523, "body": "I make pure C dll for Python. To pass <code>numpy.ndarray</code> for the <code>void func(int*px);</code> of  <code>C</code> dll in Python, I use the pointer: <code>x = np.arange(10);px=x.ctypes.data</code>."}, {"owner": {"reputation": 840, "user_id": 2076725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/17802cc66a92cb6c980a23507ac5969f?s=128&d=identicon&r=PG", "display_name": "altroware", "link": "https://stackoverflow.com/users/2076725/altroware"}, "reply_to_user": {"reputation": 14220, "user_id": 3547485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xGJWo.png?s=128&g=1", "display_name": "Kinght \u91d1", "link": "https://stackoverflow.com/users/3547485/kinght-%e9%87%91"}, "edited": false, "score": 0, "creation_date": 1512031778, "post_id": 47562695, "comment_id": 82095858, "body": "thanks! Watch about performances? Would a well written cython package be as fast as the pure c one? @Silencer Where is documented the ctype for np.array?"}, {"owner": {"reputation": 14220, "user_id": 3547485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xGJWo.png?s=128&g=1", "display_name": "Kinght \u91d1", "link": "https://stackoverflow.com/users/3547485/kinght-%e9%87%91"}, "edited": false, "score": 0, "creation_date": 1512032855, "post_id": 47562695, "comment_id": 82096410, "body": "@altroware Cython is another language for me. I just write pure python with pure c code, and for now it&#39;s no need for me to use Cython. I learned this in a QQ group. It works well, so I have not search for document. You may google <code>numpy ctypes</code> for some links."}], "answers": [{"comments": [{"owner": {"reputation": 840, "user_id": 2076725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/17802cc66a92cb6c980a23507ac5969f?s=128&d=identicon&r=PG", "display_name": "altroware", "link": "https://stackoverflow.com/users/2076725/altroware"}, "edited": false, "score": 0, "creation_date": 1511994644, "post_id": 47562857, "comment_id": 82083727, "body": "But, How can I pass a \u2018numpy.array\u2019?"}], "tags": [], "owner": {"reputation": 12703, "user_id": 584597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d519ba6b69a89cc8ec99001eea2059b?s=128&d=identicon&r=PG", "display_name": "payne", "link": "https://stackoverflow.com/users/584597/payne"}, "is_accepted": false, "score": 0, "last_activity_date": 1511994266, "creation_date": 1511994266, "answer_id": 47562857, "question_id": 47562695, "link": "https://stackoverflow.com/questions/47562695/how-to-create-a-c-function-of-numpy-array/47562857#47562857", "title": "how to create a c function of `numpy.array`?", "body": "<p>To write a new Python function (generally) in C, see:  <a href=\"https://docs.python.org/2/extending/extending.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/extending/extending.html</a></p>\n\n<p>And here is page with an example function (addList) to use as a starting point:  <a href=\"http://book.pythontips.com/en/latest/python_c_extension.html#python-c-api\" rel=\"nofollow noreferrer\">http://book.pythontips.com/en/latest/python_c_extension.html#python-c-api</a></p>\n\n<p>Then, to access function arguments that are numpy arrays, see the Numpy C-API documentation, here:  <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/c-api.array.html#array-structure-and-data-access\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy-1.13.0/reference/c-api.array.html#array-structure-and-data-access</a></p>\n"}], "owner": {"reputation": 840, "user_id": 2076725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/17802cc66a92cb6c980a23507ac5969f?s=128&d=identicon&r=PG", "display_name": "altroware", "link": "https://stackoverflow.com/users/2076725/altroware"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511994266, "creation_date": 1511993440, "question_id": 47562695, "link": "https://stackoverflow.com/questions/47562695/how-to-create-a-c-function-of-numpy-array", "title": "how to create a c function of `numpy.array`?", "body": "<p>I was looking at this tutorial:\n<a href=\"https://docs.scipy.org/doc/numpy-1.13.0/user/c-info.ufunc-tutorial.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy-1.13.0/user/c-info.ufunc-tutorial.html</a>\nand understood how to write <code>c</code> functions of scalar arguments (which return, say, a <code>double</code>) and <em>broadcastable</em> functions that accept as argument <code>numpy.array</code>s and return another <code>numpy.array</code> by default.</p>\n\n<p>How can I write a <code>c</code> function that takes one or more <code>numpy.array</code>s and return a scalar value, instead?</p>\n"}, {"tags": ["python", "error-handling"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1511993656, "post_id": 47562685, "comment_id": 82083298, "body": "Where did you open <code>infile</code>?"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1511993699, "post_id": 47562685, "comment_id": 82083311, "body": "Post full error!"}], "answers": [{"tags": [], "owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "is_accepted": false, "score": 0, "last_activity_date": 1511995630, "creation_date": 1511995630, "answer_id": 47563132, "question_id": 47562685, "link": "https://stackoverflow.com/questions/47562685/unicodedecodeerror-ascii-codec-cant-decode-byte-0xff-in-position-36-ordinal/47563132#47563132", "title": "UnicodeDecodeError: &#39;ascii&#39; codec can&#39;t decode byte 0xff in position 36: ordinal not in range(128)", "body": "<p>Wherever you open infile you will need to open it with the correct encoding. The details of how to do this:</p>\n\n<ul>\n<li>Python 2.7: <a href=\"https://stackoverflow.com/questions/10971033/backporting-python-3-openencoding-utf-8-to-python-2\">Backporting Python 3 open(encoding=&quot;utf-8&quot;) to Python 2</a></li>\n<li>Python 3+: <a href=\"https://docs.python.org/3/library/functions.html#open\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/functions.html#open</a></li>\n</ul>\n\n<p>Most likely the issue is that you are using Python 2.7 and attempting to open a utf-8 file.</p>\n"}], "owner": {"reputation": 29, "user_id": 8659236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9dbaafde58e3ad7b7c13c857e9c80fa?s=128&d=identicon&r=PG&f=1", "display_name": "Brett Cohen", "link": "https://stackoverflow.com/users/8659236/brett-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 865, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511995630, "creation_date": 1511993383, "question_id": 47562685, "link": "https://stackoverflow.com/questions/47562685/unicodedecodeerror-ascii-codec-cant-decode-byte-0xff-in-position-36-ordinal", "title": "UnicodeDecodeError: &#39;ascii&#39; codec can&#39;t decode byte 0xff in position 36: ordinal not in range(128)", "body": "<p>I'm trying to run a program that administers a quiz based on the contents of a text file. My code looks like this:</p>\n\n<h1>This program administers a quiz on US states, capitals, and governors</h1>\n\n<h1>global for how many questions</h1>\n\n<p>HOW_MANY_QUESTIONS=10</p>\n\n<h1>open file with answers</h1>\n\n<p>answers_file=open('quiz_answers.txt','r')</p>\n\n<h1>open file to add results at end</h1>\n\n<p>results_file=open('quiz_results.txt','w')</p>\n\n<p>def main():</p>\n\n<pre><code>#dictionary with quiz answers\nanswer_dictionary={}\n\n#run create dictionary function, result is the answer dictionary\nanswer_dictionary=create_dictionary(answers_file)\n\n#close the files\nanswers_file.close()\nresults_file.close()\n\ngo_again='yes'\n\nwhile go_again=='yes':\n\n    #get name\n    name=input('Enter your name: ')\n\n    #initialize count variable\n    count=0\n\n    #accumulator for number of correct answers\n    number_correct=0\n\n    for count in range(0,HOW_MANY_QUESTIONS+1):\n\n\n        #pick question function\n        answer=pick_question(answer_dictionary)\n\n        if answer:\n\n            number_correct+=1\n\n    results_file.write(name,number_correct)\n\n\n\n    go_again=input('Go again? ')\n</code></pre>\n\n<p>def create_dictionary(infile):</p>\n\n<pre><code>#establish a dictionary \ndictionary={}\n\n#initialize a key\nkey=0\n\n#read the first line that is a state\nstate=infile.readline()\n\n#strip the new line\nstate=state.rstrip('\\n')\n\n#while the line is not blank\nwhile state!='':\n\n    #add it as the dictionary key\n    key=state\n\n    #read the capital line\n    capital=infile.readline()\n\n    #strip new line\n    capital=capital.rstrip('\\n')\n\n    #read the govenror line\n    governor=infile.readline()\n\n    governor=governor.rstrip('\\n')\n\n    #assign a list with capital and governor to the state key\n    dictionary[key]=[capital,governor]\n\nreturn dictionary\n</code></pre>\n\n<p>def pick_question(dictionary):</p>\n\n<pre><code>#make a list containing the keys\nkeys=[]\n\n#isolate the keys and append to the key list\nfor key in dictionary.keys():\n    keys.append(key)\n\n#import random\nimport random\n\n#initialize an index for keys list\nkey_index=0\n\n#randomly select the state to ask about\nstate_selection=random.randint(0,len(keys)-1)\n\n\nkey_index=state_selection\n\n#assign value to capital and governor to randomly\n#select which question to ask\ncapital=1\ngovernor=2\n\n\n#randomly select whether to ask for the governor or the capital\nquestion_choice=random.randint(capital,governor)\n\n#if the question choice is for capital\nif question_choice==capital:\n\n    #ask the capital question \n    question=input('What is the capital of',keys[key_index],'? ')\n\n    #if the answer is a value for that key\n    if question in keys[key_index]:\n\n        #it is correct\n        answer=True\n#if the question choice is for governor\nelif question_choice==governor:\n\n    #ask the governor question\n    question=input('Who is the governor of',keys[key_index],'?')\n\n    #if the answer is a value for that key\n    if question in keys[key_index]:\n\n        #it is correct\n        answer=True\n\nreturn answer\n</code></pre>\n\n<p>main()</p>\n\n<p>When I run the program, the error I get is: </p>\n\n<p>state=infile.readline()  File\"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/encodings/ascii.py\", line 26, in decode\n    return codecs.ascii_decode(input, self.errors)[0]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xff in position 36: ordinal not in range(128)</p>\n\n<p>So the problem stems from reading that first line of the text file; what is the issue and how can I fix it? I've never seen this error before. Thanks in advance!</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 481, "user_id": 7496337, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/M4gzU.jpg?s=128&g=1", "display_name": "codebrotherone", "link": "https://stackoverflow.com/users/7496337/codebrotherone"}, "edited": false, "score": 3, "creation_date": 1511993651, "post_id": 47562671, "comment_id": 82083296, "body": "Add examples of your dataframes so people don&#39;t have to guess"}, {"owner": {"reputation": 481, "user_id": 7496337, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/M4gzU.jpg?s=128&g=1", "display_name": "codebrotherone", "link": "https://stackoverflow.com/users/7496337/codebrotherone"}, "edited": false, "score": 0, "creation_date": 1511993854, "post_id": 47562671, "comment_id": 82083368, "body": "I would do a value_counts() on the below suggestion by ErroriSalvo then just take the values and update using conditional logic. I.E. if df.loc[df.StopNum == 2, &#39;PercentEarly&#39;] = percentEarly"}, {"owner": {"reputation": 190, "user_id": 4205830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f96a72aca2e0cb89f149eb9163a6b3b3?s=128&d=identicon&r=PG&f=1", "display_name": "TeneCursum", "link": "https://stackoverflow.com/users/4205830/tenecursum"}, "reply_to_user": {"reputation": 481, "user_id": 7496337, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/M4gzU.jpg?s=128&g=1", "display_name": "codebrotherone", "link": "https://stackoverflow.com/users/7496337/codebrotherone"}, "edited": false, "score": 0, "creation_date": 1512055111, "post_id": 47562671, "comment_id": 82110458, "body": "@codebrotherone added some examples"}], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 4205830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f96a72aca2e0cb89f149eb9163a6b3b3?s=128&d=identicon&r=PG&f=1", "display_name": "TeneCursum", "link": "https://stackoverflow.com/users/4205830/tenecursum"}, "edited": false, "score": 0, "creation_date": 1512055480, "post_id": 47562735, "comment_id": 82110701, "body": "Chaining <code>groupby()</code> gives the following error: <code>AttributeError: Cannot access callable attribute &#39;groupby&#39; of &#39;DataFrameGroupBy&#39; objects, try using the &#39;apply&#39; method</code>"}, {"owner": {"reputation": 3514, "user_id": 1506850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/529adde7e6c422b0ab9b990d9b09e8da?s=128&d=identicon&r=PG&f=1", "display_name": "00__00__00", "link": "https://stackoverflow.com/users/1506850/00-00-00"}, "reply_to_user": {"reputation": 190, "user_id": 4205830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f96a72aca2e0cb89f149eb9163a6b3b3?s=128&d=identicon&r=PG&f=1", "display_name": "TeneCursum", "link": "https://stackoverflow.com/users/4205830/tenecursum"}, "edited": false, "score": 0, "creation_date": 1512055720, "post_id": 47562735, "comment_id": 82110867, "body": "Ok then you might need a for loop"}], "tags": [], "owner": {"reputation": 3514, "user_id": 1506850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/529adde7e6c422b0ab9b990d9b09e8da?s=128&d=identicon&r=PG&f=1", "display_name": "00__00__00", "link": "https://stackoverflow.com/users/1506850/00-00-00"}, "is_accepted": false, "score": 0, "last_activity_date": 1512055774, "last_edit_date": 1512055774, "creation_date": 1511993669, "answer_id": 47562735, "question_id": 47562671, "link": "https://stackoverflow.com/questions/47562671/avoiding-iteration-to-get-count-of-occurences-in-pandas/47562735#47562735", "title": "Avoiding Iteration to get Count of Occurences in Pandas", "body": "<p>you can use groupby </p>\n\n<pre><code>for stops in df_arrivals.groupby('StopNum'):\n    stop[1].groupby('OnTimeStatus').count()\n</code></pre>\n\n<p>Does it work as expected now?</p>\n"}, {"tags": [], "owner": {"reputation": 190, "user_id": 4205830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f96a72aca2e0cb89f149eb9163a6b3b3?s=128&d=identicon&r=PG&f=1", "display_name": "TeneCursum", "link": "https://stackoverflow.com/users/4205830/tenecursum"}, "is_accepted": true, "score": 0, "last_activity_date": 1512067360, "creation_date": 1512067360, "answer_id": 47580508, "question_id": 47562671, "link": "https://stackoverflow.com/questions/47562671/avoiding-iteration-to-get-count-of-occurences-in-pandas/47580508#47580508", "title": "Avoiding Iteration to get Count of Occurences in Pandas", "body": "<p>I never ended up figuring out how to do it without iteration. I also decided to store the number of early/on-time/late instead of the percentage. Here's my solution that seems to be decently fast even given tens of thousands of entries:</p>\n\n<pre><code># find the number of arrivals, make a series, and merge it with the stops DataFrame\ndf_stop_counts = df_arrivals['stopNumber'].value_counts().reset_index()\ndf_stop_counts.columns = ['StopNumber', 'NumArrivals']\ndf_stops = pd.merge(df_stops, df_stop_counts, left_on='stopNumber', right_on='StopNumber')\n\n# iterate over all the stops and find the number of early/on-time/late arrivals\nfor index, row in df_stops.iterrows():\n    df_stops.at[index, 'NumEarly'] = len(df_arrivals.loc[(df_arrivals['stopNumber'] == index) &amp; (df_arrivals['OnTimeStatus'] == -1)])\n    df_stops.at[index, 'NumOnTime'] =  len(df_arrivals.loc[(df_arrivals['stopNumber'] == index) &amp; (df_arrivals['OnTimeStatus'] == 0)])\n    df_stops.at[index, 'NumLate'] =  len(df_arrivals.loc[(df_arrivals['stopNumber'] == index) &amp; (df_arrivals['OnTimeStatus'] == 1)])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481, "user_id": 7496337, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/M4gzU.jpg?s=128&g=1", "display_name": "codebrotherone", "link": "https://stackoverflow.com/users/7496337/codebrotherone"}, "is_accepted": false, "score": 0, "last_activity_date": 1512069040, "last_edit_date": 1512069040, "creation_date": 1512068698, "answer_id": 47580848, "question_id": 47562671, "link": "https://stackoverflow.com/questions/47562671/avoiding-iteration-to-get-count-of-occurences-in-pandas/47580848#47580848", "title": "Avoiding Iteration to get Count of Occurences in Pandas", "body": "<p>To answer your question on count of occurrences:</p>\n\n<p>What I would do is:</p>\n\n<pre><code>#This represents all early, ontime, and late arrivals. If you want to grab per stopnum then you need to groupby first (see below)\n#Define a specific stop num and store as stop_num = the number\nearly, ontime, late = df_arrivals[df_arrivals.stop_number == stop_num].OnTimeStatus.value_counts()[-1], df_arrivals.OnTimeStatus.value_counts()[0], df_arrivals.OnTimeStatus.value_counts()[1]\n\ntotal_stops = len(df_stops[df_stops.StopNumber == stop_num])\nEarlyPercent= early/total_stops\nOntimePercent= ontime/total_stops\nLatePercent= late/total_stops\n</code></pre>\n\n<p>Now keep in mind that this is only per one stop num. I actually don't think there is a way to avoid iterations in this case without overly complex code (chaining, etc...). </p>\n\n<pre><code>df_stops['PercentEarly'] = ''\ndf_stops['PercentOntime'] = ''\ndf_stops['PercentLate'] = ''\n\nfor stop_num in df_arrivals.stop_number.tolist():\n    early, ontime, late = df_arrivals[df_arrivals.stop_number == stop_num].OnTimeStatus.value_counts()[-1], df_arrivals.OnTimeStatus.value_counts()[0], df_arrivals.OnTimeStatus.value_counts()[1]\n    total_stops = len(df_stops[df_stops.StopNumber == stop_num])\n    EarlyPercent= early/total_stops\n    OntimePercent= ontime/total_stops\n    LatePercent= late/total_stops\n    df_stops.loc[df_stops.StopNumber == stop_num, 'PercentEarly'] =EarlyPercent\n    df_stops.loc[df_stops.StopNumber == stop_num, 'PercentOnTime'] = OntimePercent\n    df_stops.loc[df_stops.StopNumber == stop_num, 'PercentLate'] =LatePercent\n</code></pre>\n"}], "owner": {"reputation": 190, "user_id": 4205830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f96a72aca2e0cb89f149eb9163a6b3b3?s=128&d=identicon&r=PG&f=1", "display_name": "TeneCursum", "link": "https://stackoverflow.com/users/4205830/tenecursum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 47580508, "answer_count": 3, "score": 0, "last_activity_date": 1512069040, "creation_date": 1511993321, "last_edit_date": 1512055409, "question_id": 47562671, "link": "https://stackoverflow.com/questions/47562671/avoiding-iteration-to-get-count-of-occurences-in-pandas", "title": "Avoiding Iteration to get Count of Occurences in Pandas", "body": "<p>I have two DataFrames, one of which contains a list of bus stop numbers, <code>df_stops</code>, the other contains bus arrivals, <code>df_arrivals</code>, (<code>StopNumber</code> and <code>OnTimeStatus</code> = <code>-1</code>, <code>0</code>, or <code>1</code> which corresponds to if the bus was early, on time, or late, respectively).</p>\n\n<p>I'm looking to add 3 new columns to the <code>df_stops</code> DataFrame:</p>\n\n<ol>\n<li><code>PercentEarly</code></li>\n<li><code>PercentOnTime</code></li>\n<li><code>PercentLate</code></li>\n</ol>\n\n<p>I'm having a hard time figuring out how to do this without doing it iteratively using loops. If I were to do it iteratively, I would do something along the lines of:</p>\n\n<pre><code>for row in df_stops:\n    # number of early arrivals / total number of arrivals @ that stop\n    row['PercentEarly'] =\n        df_arrivals.loc[df_arrivals['StopNum'] == row['StopNum'] and df_arrivals['OnTimeStatus'] &lt; 0].count() \n        / df_arrivals.loc[df_arrivals['StopNum'] == row['StopNum']].count()\n\n    # same idea for on time and late arrivals\n</code></pre>\n\n<p>I'm relatively new to Pandas and data science in general, so any help is appreciated.</p>\n\n<p><strong>How can I do this without iterating over every row in <code>df_stops</code>?</strong></p>\n\n<p>EDIT:</p>\n\n<p><code>df_arrivals</code></p>\n\n<pre><code>       RouteNumber  ScheduledUnix  StopNumber OnTimeStatus\n0               44     1511977533       40888            0\n1               44     1511979273       40888            0\n2               44     1511979273       40888            0\n3               44     1511980353       40888            0\n4               44     1511979273       40888            0\n5               44     1511980353       40888            1\n...            ...            ...         ...          ...\n67538           85     1512005100       40900            0\n67539           85     1512008700       40900            0\n67540           85     1512008700       40900           -1\n67541           85     1512008700       40900            0\n67542           85     1512012300       40900            0\n</code></pre>\n\n<p><code>df_stops</code>:</p>\n\n<pre><code>     StopNumber\n0         40877\n1         40874\n2         40876\n3         40725\n4         40875\n5         40776\n6         40730\n7         40723\n8         40721\n9         40729\n10        40722\n</code></pre>\n\n<p>Desired output would looks something like:</p>\n\n<pre><code>     StopNumber    EarlyPercent    OnTimePercent    LatePercent\n0         40877            0.14             0.80           0.06\n...\n</code></pre>\n"}, {"tags": ["python", "numpy", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5150718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b900e7f5ad21e5effb70e131d826f4e?s=128&d=identicon&r=PG&f=1", "display_name": "Inquisitor", "link": "https://stackoverflow.com/users/5150718/inquisitor"}, "edited": false, "score": 0, "creation_date": 1511993614, "post_id": 47562725, "comment_id": 82083280, "body": "I figured that by adding &#39;us&#39; as the second parameter. But anyway. Thank you."}], "tags": [], "owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "is_accepted": false, "score": 5, "last_activity_date": 1511993574, "creation_date": 1511993574, "answer_id": 47562725, "question_id": 47562634, "link": "https://stackoverflow.com/questions/47562634/converting-numpy-datetime64-to-long-integer-and-back/47562725#47562725", "title": "Converting numpy datetime64 to long integer and back", "body": "<p>You need to specify the units of the long int (in this case, microseconds).</p>\n\n<pre><code> np.datetime64(np.datetime64(datetime.datetime.now()).astype(long), 'us')\n</code></pre>\n\n<p>returns</p>\n\n<pre><code> numpy.datetime64('2017-11-29T17:11:44.638713')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1119, "user_id": 5446933, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Y0izJ.gif?s=128&g=1", "display_name": "horseshoe", "link": "https://stackoverflow.com/users/5446933/horseshoe"}, "is_accepted": false, "score": 2, "last_activity_date": 1555573120, "creation_date": 1555573120, "answer_id": 55741253, "question_id": 47562634, "link": "https://stackoverflow.com/questions/47562634/converting-numpy-datetime64-to-long-integer-and-back/55741253#55741253", "title": "Converting numpy datetime64 to long integer and back", "body": "<p>'us' converts to microseconds. If you require a different format use:\n<a href=\"https://i.stack.imgur.com/Ps5ez.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ps5ez.png\" alt=\"enter image description here\"></a></p>\n\n<p>as shown <a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.datetime.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 31, "user_id": 5150718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b900e7f5ad21e5effb70e131d826f4e?s=128&d=identicon&r=PG&f=1", "display_name": "Inquisitor", "link": "https://stackoverflow.com/users/5150718/inquisitor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8342, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1555573120, "creation_date": 1511993124, "last_edit_date": 1511997191, "question_id": 47562634, "link": "https://stackoverflow.com/questions/47562634/converting-numpy-datetime64-to-long-integer-and-back", "title": "Converting numpy datetime64 to long integer and back", "body": "<p>How to convert NumPy datetime64 to a long ineteger and back?</p>\n\n<pre><code>import numpy as np\nimport datetime\n\nnp.datetime64(datetime.datetime.now()).astype(long)\n</code></pre>\n\n<p>Gives a value of 1511975032478959</p>\n\n<pre><code>np.datetime64(np.datetime64(datetime.datetime.now()).astype(long))\n</code></pre>\n\n<p>Gives an error: </p>\n\n<pre><code>ValueError: Converting an integer to a NumPy datetime requires a specified unit\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "ipython", "jupyter"], "comments": [{"owner": {"reputation": 481, "user_id": 7496337, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/M4gzU.jpg?s=128&g=1", "display_name": "codebrotherone", "link": "https://stackoverflow.com/users/7496337/codebrotherone"}, "edited": false, "score": 0, "creation_date": 1511993531, "post_id": 47562604, "comment_id": 82083233, "body": "just do df.reset_index(inplace=True) when you need to reset your index after you&#39;ve removed the rows you don&#39;t need."}, {"owner": {"reputation": 481, "user_id": 7496337, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/M4gzU.jpg?s=128&g=1", "display_name": "codebrotherone", "link": "https://stackoverflow.com/users/7496337/codebrotherone"}, "edited": false, "score": 0, "creation_date": 1511993589, "post_id": 47562604, "comment_id": 82083262, "body": "<a href=\"https://chrisalbon.com/python/pandas_dropping_column_and_rows.html\" rel=\"nofollow noreferrer\">chrisalbon.com/python/pandas_dropping_column_and_rows.html</a> might help"}, {"owner": {"reputation": 1, "user_id": 8804713, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155940846327722/picture?type=large", "display_name": "Alec Murphy", "link": "https://stackoverflow.com/users/8804713/alec-murphy"}, "reply_to_user": {"reputation": 481, "user_id": 7496337, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/M4gzU.jpg?s=128&g=1", "display_name": "codebrotherone", "link": "https://stackoverflow.com/users/7496337/codebrotherone"}, "edited": false, "score": 0, "creation_date": 1512007105, "post_id": 47562604, "comment_id": 82087433, "body": "I tried to reset the index and reindex the whole data frame, no luck :(. Could be I just wasn&#39;t using either method correctly. It was almost as if the indexes didn&#39;t exist to the point where nothing could even be assigned to them so reindexing didn&#39;t do the trick. It was like the reindexing didn&#39;t see anything &#39;wrong&#39;. Thank you for your help, I think you&#39;re correct I just don&#39;t know if it was me using the methods wrong, or if I&#39;m misunderstanding how dropping an index functions and it&#39;s results."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8804713, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155940846327722/picture?type=large", "display_name": "Alec Murphy", "link": "https://stackoverflow.com/users/8804713/alec-murphy"}, "edited": false, "score": 0, "creation_date": 1512006849, "post_id": 47563177, "comment_id": 82087374, "body": "Thanks, I appreciate your answer :). I assumed that by deleting a row from a data frame via the index method, wouldn&#39;t wreck the entire index of the data frame. Things would just be shuffled so you can still loop through the data frame and access things correctly by index. I find it confusing that deleting an index from a data frame not only removes all the data, but seemingly sucks the existence of that index into the abyss. If I had 10 rows and deleted row 9, I assumed row 10 would just become 9. Not that 9 would become a barren wasteland I can&#39;t even access anymore to reassign or reindex."}, {"owner": {"reputation": 1, "user_id": 8804713, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155940846327722/picture?type=large", "display_name": "Alec Murphy", "link": "https://stackoverflow.com/users/8804713/alec-murphy"}, "edited": false, "score": 0, "creation_date": 1512007230, "post_id": 47563177, "comment_id": 82087470, "body": "I think you&#39;re right and rather than dropping the indexes to remove rows, I should just reassign them all to nothings. I have to upload these dataframes to google contacts so i&#39;m worried about creating blank contacts I have to go through manually and delete later. Hence the wanting to just drop a row (the whole contact), rather than assign it NaN values. Do you know of another way to simply drop a row like dropping a column?"}], "tags": [], "owner": {"reputation": 1145, "user_id": 1901376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e85e4d2537592dbdc3ad4ea4d70c35b?s=128&d=identicon&r=PG", "display_name": "maschu", "link": "https://stackoverflow.com/users/1901376/maschu"}, "is_accepted": false, "score": 0, "last_activity_date": 1511995846, "creation_date": 1511995846, "answer_id": 47563177, "question_id": 47562604, "link": "https://stackoverflow.com/questions/47562604/deleting-row-in-pandas-dataframe-without-effecting-index/47563177#47563177", "title": "Deleting row in pandas dataframe without effecting index", "body": "<p>Unless I miss your point then it is pretty obvious that you should get a key error if you try to access something which you removed beforehand. It is possible that you misunderstand how indexing works in a dataframe, so please read the <a href=\"https://pandas.pydata.org/pandas-docs/stable/indexing.html\" rel=\"nofollow noreferrer\">docs</a>. Perhaps you rather want to set the values of \"invalid\" rows to missing value instead of dropping them?</p>\n"}], "owner": {"reputation": 1, "user_id": 8804713, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155940846327722/picture?type=large", "display_name": "Alec Murphy", "link": "https://stackoverflow.com/users/8804713/alec-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1419, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1511995846, "creation_date": 1511992943, "question_id": 47562604, "link": "https://stackoverflow.com/questions/47562604/deleting-row-in-pandas-dataframe-without-effecting-index", "title": "Deleting row in pandas dataframe without effecting index", "body": "<p>I was wondering if there is a way to delete a row from a pandas data frame (I've been using df.drop(df.index[], inplace=True)) that doesn't similarly remove the actual index number? After going through my data frame and removing the rows that need to be removed, I can't loop through the data from anymore. I get KeyError exceptions when ever I hit the index of a removed row. I tried re indexing the dataframe to no effect as well... Pretty new to pandas so I'm not sure what's going on here. </p>\n\n<p>I just need to be able to remove a whole row of data and have the dataframe handle it's own indexing update, or be able to repair and reorder the indexing of my data frame so there are no invalid keys. </p>\n\n<p>Thank you! </p>\n"}, {"tags": ["python", "amazon-ec2", "boto3"], "comments": [{"owner": {"reputation": 20893, "user_id": 118587, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d5f94f9183aadaf92fb191f77e3f827?s=128&d=identicon&r=PG", "display_name": "Grzegorz Oledzki", "link": "https://stackoverflow.com/users/118587/grzegorz-oledzki"}, "edited": false, "score": 0, "creation_date": 1511993290, "post_id": 47562599, "comment_id": 82083148, "body": "I am afraid the answer is: No and No."}, {"owner": {"reputation": 4373, "user_id": 1125714, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/r9s7B.jpg?s=128&g=1", "display_name": "TJ Biddle", "link": "https://stackoverflow.com/users/1125714/tj-biddle"}, "edited": false, "score": 0, "creation_date": 1511994045, "post_id": 47562599, "comment_id": 82083465, "body": "Seconded; no - and no. This type of question is not a good SO format as well."}, {"owner": {"reputation": 1633, "user_id": 6502500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EnuRp.png?s=128&g=1", "display_name": "Mangohero1", "link": "https://stackoverflow.com/users/6502500/mangohero1"}, "edited": false, "score": 0, "creation_date": 1511995343, "post_id": 47562599, "comment_id": 82084022, "body": "so.... task manager but through <code>boto3</code>? AFAIK, no"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9028172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402a7f680104595bf957c478ded8bb9e?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Saxena", "link": "https://stackoverflow.com/users/9028172/akshay-saxena"}, "edited": false, "score": 0, "creation_date": 1512015462, "post_id": 47562753, "comment_id": 82089488, "body": "Thanks a lot. I will try this approach!!"}], "tags": [], "owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1511993739, "creation_date": 1511993739, "answer_id": 47562753, "question_id": 47562599, "link": "https://stackoverflow.com/questions/47562599/aws-python-sdk-boto3/47562753#47562753", "title": "AWS Python SDK Boto3", "body": "<p>You can start a process on an EC2 instance using the AWS System Manager service, which you can <a href=\"https://boto3.readthedocs.io/en/latest/reference/services/ssm.html\" rel=\"nofollow noreferrer\">call via Boto3</a>. Note that this requires you to have the SSM agent running on the EC2 instance.</p>\n\n<p>Checking the processes running on an EC2 instance might be a bit more difficult. I suppose you could execute something like a <code>ps</code> command (not sure what the equivalent is in Windows) via the SSM service, and then parse the output in the response your Python function receives.</p>\n"}], "owner": {"reputation": 45, "user_id": 9028172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402a7f680104595bf957c478ded8bb9e?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Saxena", "link": "https://stackoverflow.com/users/9028172/akshay-saxena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 47562753, "answer_count": 1, "score": 0, "last_activity_date": 1511993739, "creation_date": 1511992929, "question_id": 47562599, "link": "https://stackoverflow.com/questions/47562599/aws-python-sdk-boto3", "title": "AWS Python SDK Boto3", "body": "<p>Is there a way to use Boto3 client in python to check processes running on a AWS EC2 Windows instance? Also is it possible to start an application on a AWS Windows EC2 instance using the boto3 Python SDK?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 2, "last_activity_date": 1511994412, "creation_date": 1511994412, "answer_id": 47562886, "question_id": 47562579, "link": "https://stackoverflow.com/questions/47562579/how-to-create-multiple-rows-and-columns-from-a-dictionary-value-in-pandas/47562886#47562886", "title": "how to create multiple rows and columns from a dictionary value in pandas", "body": "<p>IIUC PS: you can add <code>rename</code> at the end </p>\n\n<pre><code>df.set_index('id')['values'].apply(pd.Series).stack().reset_index()\nOut[920]: \n   id level_1     0\n0   1     bar   2.0\n1   1     foo   2.0\n2   2     baz  20.0\n</code></pre>\n"}], "owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "accepted_answer_id": 47562886, "answer_count": 1, "score": 1, "last_activity_date": 1511994412, "creation_date": 1511992805, "question_id": 47562579, "link": "https://stackoverflow.com/questions/47562579/how-to-create-multiple-rows-and-columns-from-a-dictionary-value-in-pandas", "title": "how to create multiple rows and columns from a dictionary value in pandas", "body": "<p>I have a data frame like following</p>\n\n<pre><code>id,  values\n1, {'foo':2 , 'bar':2}\n2, {'baz':20}\nand so on\n</code></pre>\n\n<p>I want to transform this dataframe into</p>\n\n<pre><code>id val1 val2\n1  foo    2\n1 bar     2\n2 baz     20\n</code></pre>\n\n<p>and so on.. \nI dont want to like iterate each row in dataframe.. as I am pretty sure there is a way in pandas to do the above?</p>\n"}, {"tags": ["java", "python", "oop", "porting"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1511992941, "post_id": 47562568, "comment_id": 82082989, "body": "Do you just want the <code>print()</code> function (or <code>print</code> statement in Python 2.x versions) to output a string?"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1511993118, "post_id": 47562568, "comment_id": 82083074, "body": "You should read the tutorial: <a href=\"https://docs.python.org/3/tutorial/\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial</a>"}, {"owner": {"reputation": 17, "user_id": 7977365, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ethmukohZSk/AAAAAAAAAAI/AAAAAAAAAF4/wNjQHKLAUIs/photo.jpg?sz=128", "display_name": "Pipo Ruiz", "link": "https://stackoverflow.com/users/7977365/pipo-ruiz"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1511993746, "post_id": 47562568, "comment_id": 82083322, "body": "I am using Python 2.7 :)"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1512003583, "post_id": 47562568, "comment_id": 82086582, "body": "Then the tutorial is <a href=\"https://docs.python.org/2.7/tutorial/\" rel=\"nofollow noreferrer\">docs.python.org/2.7/tutorial</a>"}], "answers": [{"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 0, "last_activity_date": 1511993078, "creation_date": 1511993078, "answer_id": 47562625, "question_id": 47562568, "link": "https://stackoverflow.com/questions/47562568/basic-object-instantiation-from-a-java-point-of-view-to-python/47562625#47562625", "title": "Basic object instantiation from a Java point of view to Python", "body": "<p>Here's how to translate AnotherClass to python</p>\n\n<pre><code>class AnotherClass:\n    def __init__(self):\n        print(\"Output from AnotherClass()\")\n        self._x = 0\n\n\nanother_class = AnotherClass()  # get instance of AnotherClass \n</code></pre>\n\n<p>There's no <code>new</code> in python. I assume You already know <code>this</code> keyword in Java, <code>self</code> in python do the same thing, you can access instance variables like <code>self._x</code> but <code>self</code> is not a reserved keyword</p>\n"}], "owner": {"reputation": 17, "user_id": 7977365, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ethmukohZSk/AAAAAAAAAAI/AAAAAAAAAF4/wNjQHKLAUIs/photo.jpg?sz=128", "display_name": "Pipo Ruiz", "link": "https://stackoverflow.com/users/7977365/pipo-ruiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 47562625, "answer_count": 1, "score": 1, "last_activity_date": 1511993985, "creation_date": 1511992750, "last_edit_date": 1511993985, "question_id": 47562568, "link": "https://stackoverflow.com/questions/47562568/basic-object-instantiation-from-a-java-point-of-view-to-python", "title": "Basic object instantiation from a Java point of view to Python", "body": "<p>I am trying to learn Python by porting an old Java project I did some time ago to Python.</p>\n\n<p>But I will present here my doubt in a more simplified way...</p>\n\n<p>I want to make my code as Object Oriented as possible...</p>\n\n<p>This is the basic doubt that I got...</p>\n\n<pre><code>public class MainApp {\npublic static void main(String[] args) {\n    AnotherClass another = new AnotherClass(); // I instantiated an object\n    System.exit(0);\n  }\n}\n</code></pre>\n\n<p>When I instantiate this object, I can work on procedural code in AnotherClass() and get the output from there...</p>\n\n<pre><code>public class AnotherClass {\n   public AnotherClass(){\n    System.out.println(\"Output from AnotherClass()\");\n   }\n}\n</code></pre>\n\n<p>and I get this:</p>\n\n<pre><code>Output from AnotherClass()\n</code></pre>\n\n<p>How can I do the same thing but in Python... (this is my first time trying to understand OOP but in Python!)</p>\n\n<p>I hope an answer to my question will help another programmer that wants to learn a new language through porting!</p>\n\n<p>EDIT: I am currently using python 2.7....\nSorry for not declaring the version...</p>\n"}, {"tags": ["python", "qt", "unit-testing", "pyqt"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1512069094, "post_id": 47562537, "comment_id": 82119176, "body": "Have you considered using something like <a href=\"https://docs.pytest.org/en/latest/\" rel=\"nofollow noreferrer\">pytest</a> with the <a href=\"https://pypi.python.org/pypi/pytest-qt\" rel=\"nofollow noreferrer\">pytest-qt</a> plugin? I haven&#39;t used either of these myself, but they both appear to be mature, well-maintained projects, with reasonably good <a href=\"https://pytest-qt.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">documentation</a>."}], "answers": [{"comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1511995084, "post_id": 47562958, "comment_id": 82083905, "body": "How does this help, given that <code>quit()</code> is identical to <code>exit(0)</code>?"}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1511996581, "post_id": 47562958, "comment_id": 82084507, "body": "True..... My intention is he can use &quot;exec&quot; to start the application. Rest is for readability."}, {"owner": {"reputation": 10441, "user_id": 42897, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oDPxy.png?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/42897/rich"}, "edited": false, "score": 0, "creation_date": 1512017545, "post_id": 47562958, "comment_id": 82089995, "body": "Hi, I tried this, I think the <code>pyqt</code> equivalent is <code>exec_</code> but that is a blocking call. Putting it in <code>setUp</code> causes the whole lot to freeze. I&#39;m not sure what to do here. Would it make sense to launch it in a thread?"}, {"owner": {"reputation": 352, "user_id": 11384184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89d99316065ac724e631fee9f865a43e?s=128&d=identicon&r=PG&f=1", "display_name": "Lenormju", "link": "https://stackoverflow.com/users/11384184/lenormju"}, "edited": false, "score": 0, "creation_date": 1615458256, "post_id": 47562958, "comment_id": 117698841, "body": "Indeed. <code>exec</code> is a built-in function in Python, so the PyQt function is named <code>exec_</code>. And yes, the <code>exec</code> call is blocking until the event loop is stopped (by <code>exit</code>), so you need to start it from another thread."}], "tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1511994757, "creation_date": 1511994757, "answer_id": 47562958, "question_id": 47562537, "link": "https://stackoverflow.com/questions/47562537/how-to-stop-and-restart-qapplication-in-unittest-framework/47562958#47562958", "title": "How to stop and restart `QApplication` in `unittest` framework?", "body": "<p>Use <code>::exec()</code> and <code>::exit()</code> methods of <code>QApplication</code> for your requirement.</p>\n\n<p>Calling <code>::exec()</code> enters the main event loop. Call it in your <code>setUp</code>.</p>\n\n<p>Calling <code>::exit()</code> leaves the main event loop. Call it in your <code>tearDown</code>.</p>\n"}], "owner": {"reputation": 10441, "user_id": 42897, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/oDPxy.png?s=128&g=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/42897/rich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511994757, "creation_date": 1511992628, "question_id": 47562537, "link": "https://stackoverflow.com/questions/47562537/how-to-stop-and-restart-qapplication-in-unittest-framework", "title": "How to stop and restart `QApplication` in `unittest` framework?", "body": "<p>I am a <code>Qt</code> newbie and I'm developing a user interface library based on <code>Qt</code>. I'd like to start the main <code>QApplication</code> on <code>setUp</code> and close it on <code>tearDown</code> so I don't have any events or other issues leaking between tests. Here's my <code>setUp</code>/<code>tearDown</code> methods now:</p>\n\n<pre><code>class _QtTest(unittest.TestCase):\n    def setUp(self):\n        \"\"\"Set up a QAppplication on each test case.\"\"\"\n        try:\n            QApplication = QtGui.QApplication\n        except AttributeError:\n            QApplication = QtWidgets.QApplication\n\n        self.qt_app = QApplication.instance()\n        if self.qt_app is None:\n            self.qt_app = QApplication(sys.argv)\n\n    def tearDown(self):\n        \"\"\"Clear the QApplication's event queue.\"\"\"\n        # After each test, empty the event queue.\n        # This should help to make sure that there aren't any event-based race\n        # conditions where a C/C++ object is deleted before a slot is called.\n        self.qt_app.sendPostedEvents()\n        self.qt_app.quit()\n</code></pre>\n\n<p>Unfortunately that last <code>self.qt_app.quit()</code> seems to shut down the <code>QApplication</code> permanently on all successive tests. Is there a way I can restart a new <code>QApplication</code> in the <code>setUp</code> method?</p>\n"}, {"tags": ["python", "inheritance", "kivy"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1511992798, "post_id": 47562521, "comment_id": 82082920, "body": "show your code."}], "answers": [{"tags": [], "owner": {"reputation": 437, "user_id": 7181046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9qmTL.png?s=128&g=1", "display_name": "Gumboy", "link": "https://stackoverflow.com/users/7181046/gumboy"}, "is_accepted": true, "score": 1, "last_activity_date": 1512023399, "last_edit_date": 1512023399, "creation_date": 1512021276, "answer_id": 47566741, "question_id": 47562521, "link": "https://stackoverflow.com/questions/47562521/kivy-text-input-inherit-behavior-from-slider/47566741#47566741", "title": "kivy Text Input inherit behavior from Slider", "body": "<pre><code>#Here is an example.\n\nfrom kivy.uix.boxlayout import BoxLayout\nfrom kivy.uix.textinput import TextInput\nfrom kivy.app import App\n\nclass Example(BoxLayout):\n\n    def __init__(self, **kwargs):\n        super(Example, self).__init__(**kwargs)\n\n        self.orientation = 'horizontal'\n        self.layout = BoxLayout(orientation = 'horizontal', size_hint = (1,1))\n        self.text = MyText(text= '500', font_size=40, size_hint = (0.6,0.5), multiline=True)\n\n        self.layout.add_widget(self.text)\n\n        self.add_widget(self.layout)\n\n\nclass MyText(TextInput): # MyText inherits from TextInput class\n    def on_touch_down(self, touch): # method to see if mouse is down/moving\n        if self.collide_point(*touch.pos): # only works if in the textinput region\n            if touch.button == 'scrollup': #check mouse wheel up\n                self.calc_plus()\n            elif touch.button == 'scrolldown': #check mouse wheel down\n                self.calc_minus()\n    def calc_plus(self):\n        Q = int(self.text)\n        self.text = str(Q + 25)\n    def calc_minus(self):\n        Q = int(self.text)\n        self.text = str(Q - 25)\n\nclass Test(App):\n    def build(self):\n        return Example()\n\nif __name__ == '__main__':\n    Test().run()\n</code></pre>\n"}], "owner": {"reputation": 723, "user_id": 3060854, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d0c9518c3a74a731b7872e7adc5ec12e?s=128&d=identicon&r=PG&f=1", "display_name": "user3060854", "link": "https://stackoverflow.com/users/3060854/user3060854"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 47566741, "answer_count": 1, "score": 0, "last_activity_date": 1512023399, "creation_date": 1511992579, "last_edit_date": 1511993259, "question_id": 47562521, "link": "https://stackoverflow.com/questions/47562521/kivy-text-input-inherit-behavior-from-slider", "title": "kivy Text Input inherit behavior from Slider", "body": "<p>I wish to create a spinner widget in kivy, consisting of a text entry with two small buttons. A value displayed in the text entry will be increased or decreased, depending on which button was pressed.</p>\n\n<p>That is an easy task, but furthermore I wish to change the values with the wheel of the mouse (scrolling up and down when the cursor is located within the text entry).</p>\n\n<p>Since the text entry doesn't have such a behavior, is it possible to inherit the behavior somehow from another widget, like slider? If so, how would that be accomplished? </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>As requested, this is the code until now:</p>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.textinput import TextInput\nfrom kivy.uix.boxlayout import BoxLayout\nfrom kivy.uix.button import Button\n\nclass LoginScreen(BoxLayout):\n\n    def __init__(self, **kwargs):\n        super(LoginScreen, self).__init__(**kwargs)\n        self.orientation = 'horizontal'\n\n        self.container_Flow = BoxLayout(orientation = 'horizontal', size_hint = (1,1))\n        self.text_flow = TextInput(text='500', font_size=40, size_hint = (0.6,1))\n        self.button_plus = Button(text = '+', size_hint = (0.2,1))\n        self.button_minus = Button(text = '-', size_hint = (0.2,1))\n        self.container_Flow.add_widget(self.text_flow)\n        self.container_Flow.add_widget(self.button_plus)\n        self.container_Flow.add_widget(self.button_minus)\n\n        self.add_widget(self.container_Flow)\n        self.button_plus.bind(on_press = self.calc_plus)\n        self.button_minus.bind(on_press = self.calc_minus)\n\n    def calc_plus(self, button_plus):\n        Q = int(self.text_flow.text)\n        self.text_flow.text = str(Q + 25)\n    def calc_minus(self, button_minus):\n        Q = int(self.text_flow.text)\n        self.text_flow.text = str(Q - 25)\n\nclass MyApp(App):\n\n    def build(self):\n        return LoginScreen()\n\nif __name__ == '__main__':\n    MyApp().run()\n</code></pre>\n"}, {"tags": ["python", "scipy", "statistics", "numerical-integration", "numerical-stability"], "comments": [{"owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "edited": false, "score": 0, "creation_date": 1511993174, "post_id": 47562490, "comment_id": 82083102, "body": "This might be better suited as a general mathematics question."}, {"owner": {"reputation": 5777, "user_id": 1485877, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tkdN8.jpg?s=128&g=1", "display_name": "drhagen", "link": "https://stackoverflow.com/users/1485877/drhagen"}, "reply_to_user": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "edited": false, "score": 1, "creation_date": 1511994478, "post_id": 47562490, "comment_id": 82083641, "body": "If I thought solving the integral analytically was tractable, I would agree. But I really only care about the solution from a numeric perspective. In my experience, numeric questions are best asked here. Though I agree that figuring this out will require a bit of math."}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1511994753, "post_id": 47562490, "comment_id": 82083780, "body": "A normal distribution is never 0.0 - it extends to infinity and has always a finite value.  In the wings the probabilities become too small to represent on a computer in a simple way.  Even if you came up with a way to calculate those values, you still would be unable to represent them with standard floating point numbers.  I think what you&#39;re looking for is not a solution to this particular math problem, but a means of representing floating point numbers with increased precision."}, {"owner": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "edited": false, "score": 0, "creation_date": 1511995056, "post_id": 47562490, "comment_id": 82083894, "body": "I&#39;d possibly take a look at SymPy, as it supports arbitrary precision."}, {"owner": {"reputation": 5777, "user_id": 1485877, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tkdN8.jpg?s=128&g=1", "display_name": "drhagen", "link": "https://stackoverflow.com/users/1485877/drhagen"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 1, "creation_date": 1511995162, "post_id": 47562490, "comment_id": 82083943, "body": "@PaulCornelius In the areas where the likelihood is too small to be represented by floating point numbers, the log likelihood can be represented accurately. I am looking for a way to calculate the log likelihood that doesn&#39;t involve just naively taking the log of the unrepresentable likelihood."}, {"owner": {"reputation": 5777, "user_id": 1485877, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tkdN8.jpg?s=128&g=1", "display_name": "drhagen", "link": "https://stackoverflow.com/users/1485877/drhagen"}, "edited": false, "score": 0, "creation_date": 1512007765, "post_id": 47562490, "comment_id": 82087600, "body": "@6&#39;whitemale I edited into the question a clarification that the 39 standard deviations fact is about the normal distribution. It is a little trickier to measure standard deviations for <code>prob_z</code>, which has a long tail. Ultimately, it will suffer from the same problem as any probability distribution\u2014the log probability should have a finite value, but the probability will be floating point zero and therefore unsuitable for calculating the log."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "reply_to_user": {"reputation": 2636, "user_id": 4418475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/587c38a6bf748e6b8727a132c6290195?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Mendez", "link": "https://stackoverflow.com/users/4418475/sebastian-mendez"}, "edited": false, "score": 0, "creation_date": 1512010997, "post_id": 47562490, "comment_id": 82088413, "body": "@Sebastian More specifically, mpmath supports arbitrary precision. SymPy does symbolic calculations; whatever it does numerically is via calling mpmath under the hood."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "edited": false, "score": 0, "creation_date": 1512089875, "post_id": 47562490, "comment_id": 82127848, "body": "Side comment: no, there is no magic math trick to somehow apply the logarithm before the integral. The only transformations that play well with integration are <b>linear</b> (and I used one in the 2nd part of my answer), and logarithm is not a linear function."}], "answers": [{"comments": [{"owner": {"reputation": 5777, "user_id": 1485877, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tkdN8.jpg?s=128&g=1", "display_name": "drhagen", "link": "https://stackoverflow.com/users/1485877/drhagen"}, "edited": false, "score": 0, "creation_date": 1512142519, "post_id": 47565200, "comment_id": 82151097, "body": "The mpmath version is easy to implement and surprisingly fast. I just went with that. It works are truly colossal ranges. It breaks down at about 1e20 standard deviations for my problem and that&#39;s at the default mp precision while relying on Scipy for the log-normal log-pdf."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "is_accepted": true, "score": 4, "last_activity_date": 1512010677, "creation_date": 1512010677, "answer_id": 47565200, "question_id": 47562490, "link": "https://stackoverflow.com/questions/47562490/numerically-stable-evaluation-of-log-of-integral-of-a-function-with-extremely-sm/47565200#47565200", "title": "Numerically stable evaluation of log of integral of a function with extremely small values", "body": "<p>The problem is that the values of the function you are integrating are too small to be represented in double precision, which is good only until 1e-308 or so. </p>\n\n<h3>mpmath to the rescue</h3>\n\n<p>When double-precision is not enough for numerical computations, <a href=\"http://mpmath.org/\" rel=\"nofollow noreferrer\">mpmath</a>, a library for arbitrary-precision floating point operations, is called for.  It has its own <code>quad</code> routine, but you'll need to implement your pdf functions so they work at mpmath level (otherwise there won't be anything to integrate). There are <a href=\"http://mpmath.org/doc/1.0.0/#advanced-mathematics\" rel=\"nofollow noreferrer\">many built-in functions</a>, including <a href=\"http://mpmath.org/doc/1.0.0/functions/expintegrals.html#npdf\" rel=\"nofollow noreferrer\">normal pdf</a>, so I'm going to use that for illustration. </p>\n\n<p>Here I convolve two normal pdfs at distance 70 apart with SciPy:</p>\n\n<pre><code>z = 70\np = quad(lambda t: norm.pdf(t, 0, 1)*norm.pdf(z-t, 0, 1), -np.inf, np.inf)[0]\n</code></pre>\n\n<p>Sadly, p is exactly 0.0.  </p>\n\n<p>And here I do the same with mpmath, after <code>import mpmath as mp</code>: </p>\n\n<pre><code>z = 70\np = mp.quad(lambda t: mp.npdf(t, 0, 1)*mp.npdf(z-t, 0, 1), [-mp.inf, mp.inf])\n</code></pre>\n\n<p>Now p is an mpmath object that prints as 2.95304756048889e-543, well beyond double-precision scale. And its logarithm, <code>mp.log(p)</code>, is -1249.22086778731. </p>\n\n<h3>SciPy-based alternative: logarithmic offset</h3>\n\n<p>If for some reason you can't use mpmath, you can at least try to \"normalize\" the function by moving its values into the double precision range. Here is an example: </p>\n\n<pre><code>z = 70\noffset = 2*norm.logpdf(z/2, 0, 1)\nlogp = offset + np.log(quad(lambda t: np.exp(norm.logpdf(t, 0, 1) + norm.logpdf(z-t, 0, 1) - offset), -np.inf, np.inf)[0])\n</code></pre>\n\n<p>Here logp prints -1264.66566393 which is not as good as mpmath result (so we lost some of the function) but it's reasonable. What I did was: </p>\n\n<ul>\n<li>calculate the logarithm of the maximal value of the logarithm of our function (this is the variable offset)</li>\n<li>subtract this offset from the logarithm of pdf; this is the part <code>norm.logpdf(t, 0, 1) + norm.logpdf(z-t, 0, 1) - offset</code></li>\n<li>exponentiate the result, since we can't just put logarithm inside integral. Algebraically, this would be the same as product of pdfs times exp(-offset). But numerically, this is a number that is less likely to overflow; indeed, at t = z/2 it is exp(0)=1. </li>\n<li>integrate normally; take the logarithm, add offset to the logarithm. Algebraically, the result is just the logarithm of the integral we wanted to take. </li>\n</ul>\n"}], "owner": {"reputation": 5777, "user_id": 1485877, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tkdN8.jpg?s=128&g=1", "display_name": "drhagen", "link": "https://stackoverflow.com/users/1485877/drhagen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 0, "accepted_answer_id": 47565200, "answer_count": 1, "score": 4, "last_activity_date": 1512010721, "creation_date": 1511992445, "last_edit_date": 1512010721, "question_id": 47562490, "link": "https://stackoverflow.com/questions/47562490/numerically-stable-evaluation-of-log-of-integral-of-a-function-with-extremely-sm", "title": "Numerically stable evaluation of log of integral of a function with extremely small values", "body": "<p>If I have a random number <code>Z</code> that is defined as the <a href=\"https://en.wikipedia.org/wiki/Convolution_of_probability_distributions\" rel=\"nofollow noreferrer\">sum of two other random numbers</a>, <code>X</code> and <code>Y</code>, then the probability distribution of <code>Z</code> is the convolution of the probability distributions for <code>X</code> and <code>Y</code>. Convolution is basically to an integral of the product of the distribution functions. Often there is no analytic solution to the integral in the convolution, so it must be calculated with a basic quadrature algorithm. In pseudocode:</p>\n\n<pre><code>prob_z(z) = integrate(lambda t: prob_x(t) * prob_y(z-t), -inf, inf)\n</code></pre>\n\n<p>For a concrete example, the sum <code>Z</code> of a normally distributed variable <code>X</code> and a log normally distributed variable <code>Y</code> can be calculated with the following Python/Scipy code:</p>\n\n<pre><code>from scipy.integrate import quad\nfrom scipy.stats import norm, lognorm\nfrom scipy import log\n\nprob_x = lambda x: norm.pdf(x, 0, 1)  # N(mu=0, sigma=1)\nprob_y = lambda y: lognorm.pdf(y, 0.1, scale=10)  # LogN(mu=log(10), sigma=0.1)\ndef prob_z(z):\n    return quad(lambda t: prob_x(t)*prob_y(z-t), -inf, inf)\n</code></pre>\n\n<p>Now I want to calculate the log probability. The naive solution is to simple do:</p>\n\n<pre><code>def log_prob_z(z):\n    return log(prob_z(z))\n</code></pre>\n\n<p>However, this is numerically unstable. After about 39 standard deviations, probability distributions are numerically 0.0, so even if the log probability has some finite value, it can't be calculated outside this by simply taking the log of the probability. Compare <code>norm.pdf(39, 1, 0)</code> which is 0.0 to <code>norm.logpdf(39, 1, 0)</code> which is about -761. Clearly, Scipy doesn't compute <code>logpdf</code> as <code>log(pdf)</code>\u2014it finds some other way\u2014because otherwise it would return <code>-inf</code>, an inferior response. In the same way, I want to find another way for my problem.</p>\n\n<p>(You may wonder why I care about the log likehood of values so far from the mean. The answer is parameter fitting. Fitting algorithms can get closer when the log likelihood is some hugely negative number, but nothing can be done when it is <code>-inf</code> or <code>nan</code>.)</p>\n\n<p>The question is: does anyone know how I can rearrange <code>log(quad(...))</code> so I don't compute <code>quad(...)</code> and thereby avoiding creating a 0.0 in the log?</p>\n"}, {"tags": ["python", "multithreading", "sockets", "client-server"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1511993093, "post_id": 47562457, "comment_id": 82083062, "body": "<code>data.decode()</code> why do you do this?"}, {"owner": {"reputation": 21, "user_id": 5959492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d1b7e562daf7ed6e58fe655dd9fadb9?s=128&d=identicon&r=PG&f=1", "display_name": "HAMZAA", "link": "https://stackoverflow.com/users/5959492/hamzaa"}, "edited": false, "score": 0, "creation_date": 1511994236, "post_id": 47562457, "comment_id": 82083552, "body": "this is the server side it accepts connection from the client in the while loop in the end conn,addr=s.accept()"}, {"owner": {"reputation": 21, "user_id": 5959492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d1b7e562daf7ed6e58fe655dd9fadb9?s=128&d=identicon&r=PG&f=1", "display_name": "HAMZAA", "link": "https://stackoverflow.com/users/5959492/hamzaa"}, "edited": false, "score": 0, "creation_date": 1511994279, "post_id": 47562457, "comment_id": 82083570, "body": "data.decode() is use to convert byte to string"}, {"owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "edited": false, "score": 0, "creation_date": 1511996285, "post_id": 47562457, "comment_id": 82084395, "body": "Apologies, the rest of the code was available, just needed scrolling :("}], "owner": {"reputation": 21, "user_id": 5959492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d1b7e562daf7ed6e58fe655dd9fadb9?s=128&d=identicon&r=PG&f=1", "display_name": "HAMZAA", "link": "https://stackoverflow.com/users/5959492/hamzaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511999199, "creation_date": 1511992298, "last_edit_date": 1511999199, "question_id": 47562457, "link": "https://stackoverflow.com/questions/47562457/python-client-sever-using-multi-threading", "title": "python client sever using multi threading", "body": "<p>I am making a client-server program in python using multi threading but when 2 clients send data to the server. It can only reply to the 2nd client can someone help to solve it, its my project requirement to do this in multi threading </p>\n\n<p>code :</p>\n\n<pre><code>import socket\nimport sys\nfrom _thread import *\n\nhost =''\n\nport=888\ns=socket.socket(socket.AF_INET,socket.SOCK_STREAM)\n\nprint(\"socket created \")\n\ntry:\n    s.bind((host,port))\nexcept socket.error:\n    print(\"BINDING FAILED\")\n    sys.exit()\nprint(\"socket hai bounded \")\n\n\ns.listen(10)#/upto 10 people can be connet\n\nprint(\"socket is ready\")\n\ndef clientthread(conn):\n    welcomemessage=\"WELCOME TO SERVER TYPE SOMETHING AND HIT ENTER \"\n    conn.send(welcomemessage.encode())\n    while True:\n        data=conn.recv(1024)\n        reply=\"OK.\" +data.decode()\n        if not data:\n            break;\n        print(reply)\n\n        reply1=input(\"your message :\")\n        conn.sendall(reply1.encode())\n    conn.close()\n\n\nwhile 1:\n    conn, addr = s.accept()\n    print(\"conneted with \" + addr[0] + \":\" + str(addr[1]))\n    start_new_thread(clientthread,(conn,))\ns.close()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 2, "creation_date": 1511992433, "post_id": 47562455, "comment_id": 82082732, "body": "Welcome to Stackoverflow, please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How To Ask</a>. Pay special attention to <a href=\"https://stackoverflow.com/help/mcve\">How To Create MCVE</a>. The more effort you&#39;ll put into posting a good question: one which is easy to read, understand and which is <a href=\"https://stackoverflow.com/help/on-topic\">on topic</a> - the chances are higher that it will attract the relevant people and you&#39;ll get help even faster. Good luck!"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 1, "creation_date": 1511992436, "post_id": 47562455, "comment_id": 82082734, "body": "That&#39;s pretty fascinating. Do you have a question?"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1511992464, "post_id": 47562455, "comment_id": 82082749, "body": "<code>if a&lt;0 or b&lt;0 and negative==&quot;false&quot;</code> ==&gt; <code>if a&lt;0 or b&lt;0 and negative</code>"}, {"owner": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "edited": false, "score": 0, "creation_date": 1511992464, "post_id": 47562455, "comment_id": 82082750, "body": "What&#39;s the issue? Also if you want <i>&quot;exactly one of the numbers is less than zero&quot;</i> you will want to use an XOR: <code>a&lt;0 ^ b&lt;0</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "edited": false, "score": 1, "creation_date": 1511992855, "post_id": 47562455, "comment_id": 82082949, "body": "@SpencerWieczorek note, that is technically the <i>bitwise</i> XOR, which will work differently than a boolean XOR (which doesn&#39;t actually exist in Python). It doesn&#39;t matter in this case because it is equivalent since you are using <code>bool</code> objects for both arguments, but perhaps worth noting"}, {"owner": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511993192, "post_id": 47562455, "comment_id": 82083110, "body": "@juanpa.arrivillaga Yes I&#39;m aware this is the bitwise XOR, but it&#39;s equivalent to a logical XOR for boolean comparisons which these are."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8652658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc3802015adb8cdda3584e0c0f38ae9?s=128&d=identicon&r=PG&f=1", "display_name": "mandy", "link": "https://stackoverflow.com/users/8652658/mandy"}, "edited": false, "score": 0, "creation_date": 1511993246, "post_id": 47562552, "comment_id": 82083128, "body": "thanks but it still get an error that says  Should return True because &#39; negative&#39; is False and ints have opposite signs.&quot;) AssertionError: False is not true : Should return True  because &#39;negative&#39; is False and ints have opposite signs."}, {"owner": {"reputation": 19688, "user_id": 3149020, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001905387968/picture?type=large", "display_name": "Spencer Wieczorek", "link": "https://stackoverflow.com/users/3149020/spencer-wieczorek"}, "reply_to_user": {"reputation": 1, "user_id": 8652658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc3802015adb8cdda3584e0c0f38ae9?s=128&d=identicon&r=PG&f=1", "display_name": "mandy", "link": "https://stackoverflow.com/users/8652658/mandy"}, "edited": false, "score": 0, "creation_date": 1511994154, "post_id": 47562552, "comment_id": 82083520, "body": "@mandy Your stating the opposite in your question, so which is it? Go back and edit your question to clarify what you are wanting."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 1, "user_id": 8652658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc3802015adb8cdda3584e0c0f38ae9?s=128&d=identicon&r=PG&f=1", "display_name": "mandy", "link": "https://stackoverflow.com/users/8652658/mandy"}, "edited": false, "score": 0, "creation_date": 1511997136, "post_id": 47562552, "comment_id": 82084695, "body": "@mandy the question didn&#39;t say anything about &quot;opposite signs&quot;, only negative values"}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1511997278, "last_edit_date": 1511997278, "creation_date": 1511992705, "answer_id": 47562552, "question_id": 47562455, "link": "https://stackoverflow.com/questions/47562455/how-to-write-method-with-three-parameters/47562552#47562552", "title": "how to write method with three parameters?", "body": "<blockquote>\n  <p>the third is a boolean value</p>\n</blockquote>\n\n<p><code>\"false\"</code> is a string. <code>False</code> is a boolean </p>\n\n<blockquote>\n  <p>Unless the boolean parameter is True</p>\n</blockquote>\n\n<p>So, why are you checking for false?</p>\n\n<p>Anyway, you can just use boolean logic to use the boolean as-is. </p>\n\n<p>Try this</p>\n\n<pre><code>def pos_neg(a,b,negative):\n    a_neg = a &lt; 0\n    b_neg = b &lt; 0\n    if negative: \n        return a_neg and b_neg  # return True if both numbers are less than zero, otherwise False\n    else:\n        return a_neg ^ b_neg  # returns True if *exactly* one of the numbers is less than zero, otherwise False\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511997089, "post_id": 47562823, "comment_id": 82084676, "body": "<code>if cond: return True else: return False</code> is simply <code>return cond</code>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511997215, "post_id": 47562823, "comment_id": 82084723, "body": "In other words, this seems to be the exact same logic as my answer"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511997332, "post_id": 47562823, "comment_id": 82084761, "body": "@cricket_007 Good point! I am just solving it line by line. It is more readable."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511997421, "post_id": 47562823, "comment_id": 82084787, "body": "@cricket_007 It is not."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511997478, "post_id": 47562823, "comment_id": 82084808, "body": "Why not? You&#39;re doing <code>return a &lt; 0 and b &lt; 0</code> when <code>if negative</code>"}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511997741, "post_id": 47562823, "comment_id": 82084901, "body": "@cricket_007 You were missing operator precedence. After edit you did use redundant variables."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511997796, "post_id": 47562823, "comment_id": 82084924, "body": "I have fixed my question to extract the <code>&lt; 0</code> operation"}], "tags": [], "owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "is_accepted": false, "score": 0, "last_activity_date": 1511994877, "last_edit_date": 1511994877, "creation_date": 1511994123, "answer_id": 47562823, "question_id": 47562455, "link": "https://stackoverflow.com/questions/47562455/how-to-write-method-with-three-parameters/47562823#47562823", "title": "how to write method with three parameters?", "body": "<p>Returns True if exactly one of the numbers is less than zero, unless the Boolean parameter is True.<br>\nIn this case [negative == True] it will only return True if both numbers are less than zero.<br>\nIf it doesn't return True, it returns False.</p>\n\n<pre><code>def pos_neg(a, b, negative):\n    if not negative:\n        if (a &lt; 0) ^ (b &lt; 0):\n            return True\n        else:\n            return False\n\n    else:\n        if a &lt; 0 and b &lt; 0:\n            return True\n        else:\n            return False\n\nprint(pos_neg(-1, 1, False))  # True\nprint(pos_neg(-1, -1, False))  # False\nprint(pos_neg(-1, 1, True))  # False\nprint(pos_neg(-1, -1, True))  # True\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>True\nFalse\nFalse\nTrue\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8652658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc3802015adb8cdda3584e0c0f38ae9?s=128&d=identicon&r=PG&f=1", "display_name": "mandy", "link": "https://stackoverflow.com/users/8652658/mandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": -8, "last_activity_date": 1512030910, "creation_date": 1511992285, "last_edit_date": 1512030910, "question_id": 47562455, "link": "https://stackoverflow.com/questions/47562455/how-to-write-method-with-three-parameters", "title": "how to write method with three parameters?", "body": "<p>This function will receive three parameters. The first two are numbers and the third is a boolean value.<br>\nThe function returns True if exactly one of the numbers is less than zero.  Unless the boolean parameter is True. In this case it will only return True if both numbers are less than zero.<br>\nIf it doesn't return True, it returns False.</p>\n\n<pre><code>def pos_neg(a,b,negative):\n    if a&lt;0 or b&lt;0 and negative==\"false\":\n       return True\n    else:\n       return False\n</code></pre>\n"}, {"tags": ["python", "list", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 13, "user_id": 8990453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7f925a7491763577c454d6b1c8e5a7?s=128&d=identicon&r=PG&f=1", "display_name": "DOS", "link": "https://stackoverflow.com/users/8990453/dos"}, "edited": false, "score": 0, "creation_date": 1511994867, "post_id": 47562470, "comment_id": 82083833, "body": "@DOS No problem! Strangely, this code ran fine for me. Did you run the code on <code>s = [[&#39;car58=C:&#47;Files&#47;SB.car58- 094.38.JPG&#39;], [&#39;bike53=C:&#47;Files&#47;SB.bike53- 006.33.JPG&#39;], [&#39;car46=C:&#47;Files&#47;SB.car46- 88.22.JPG&#39;], [&#39;bike12=C:&#47;Files&#47;SB.bike12- 006.33.JPG&#39;], [&#39;acc9=C:&#47;Files&#47;SB.acc9- 006.33.JPG&#39;]]</code>?"}, {"owner": {"reputation": 13, "user_id": 8990453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7f925a7491763577c454d6b1c8e5a7?s=128&d=identicon&r=PG&f=1", "display_name": "DOS", "link": "https://stackoverflow.com/users/8990453/dos"}, "edited": false, "score": 0, "creation_date": 1511995974, "post_id": 47562470, "comment_id": 82084263, "body": "@Ajax1234 Yes i ran it on that list.Im also afraid i may have made another mistake.I didnt realise that each induvidual  element in the list is not contained by &quot;[]&quot; and only seperated by &quot;,&quot;.Sorry im not sure if that has any significance but it is a difference between our solutions."}, {"owner": {"reputation": 13, "user_id": 8990453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7f925a7491763577c454d6b1c8e5a7?s=128&d=identicon&r=PG&f=1", "display_name": "DOS", "link": "https://stackoverflow.com/users/8990453/dos"}, "edited": false, "score": 0, "creation_date": 1511997217, "post_id": 47562470, "comment_id": 82084724, "body": "@Ajax1234 I think i may have found a fix to the second issue. i used &quot;try&quot; and &quot;except&quot; for the code and it worked.Thank you for your help and sorry for the mixup."}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 13, "user_id": 8990453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7f925a7491763577c454d6b1c8e5a7?s=128&d=identicon&r=PG&f=1", "display_name": "DOS", "link": "https://stackoverflow.com/users/8990453/dos"}, "edited": false, "score": 0, "creation_date": 1511997854, "post_id": 47562470, "comment_id": 82084948, "body": "@DOS Please see my recent edit. I wrote a cleaner solution with the new data."}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 13, "user_id": 8990453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7f925a7491763577c454d6b1c8e5a7?s=128&d=identicon&r=PG&f=1", "display_name": "DOS", "link": "https://stackoverflow.com/users/8990453/dos"}, "edited": false, "score": 0, "creation_date": 1511998441, "post_id": 47562470, "comment_id": 82085154, "body": "@DOS glad to help! If this answer assisted you, please accept it. Thank you!"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 1, "last_activity_date": 1511997830, "last_edit_date": 1511997830, "creation_date": 1511992357, "answer_id": 47562470, "question_id": 47562434, "link": "https://stackoverflow.com/questions/47562434/sort-list-of-strings/47562470#47562470", "title": "Sort list of strings", "body": "<p>You can use <code>.index()</code>:</p>\n\n<pre><code>s = [['car58=C:/Files/SB.car58- 094.38.JPG'],\n['bike53=C:/Files/SB.bike53- 006.33.JPG'],\n['car46=C:/Files/SB.car46- 88.22.JPG'],\n['bike12=C:/Files/SB.bike12- 006.33.JPG'],\n['acc9=C:/Files/SB.acc9- 006.33.JPG']]\nnew_s = sorted(s, key=lambda x:x[0][:x[0].index('=')])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['acc9=C:/Files/SB.acc9- 006.33.JPG'], ['bike12=C:/Files/SB.bike12- 006.33.JPG'], ['bike53=C:/Files/SB.bike53- 006.33.JPG'], ['car46=C:/Files/SB.car46- 88.22.JPG'], ['car58=C:/Files/SB.car58- 094.38.JPG']]\n</code></pre>\n\n<p>Edit: <code>list.sort()</code> will also produce the desired output:</p>\n\n<pre><code>s.sort()\nprint(s)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['acc9=C:/Files/SB.acc9- 006.33.JPG'], ['bike12=C:/Files/SB.bike12- 006.33.JPG'], ['bike53=C:/Files/SB.bike53- 006.33.JPG'], ['car46=C:/Files/SB.car46- 88.22.JPG'], ['car58=C:/Files/SB.car58- 094.38.JPG']]\n</code></pre>\n\n<p>Regarding your recent comment, this should work:</p>\n\n<pre><code>s = ['car58=C:/Files/SB.car58- 094.38.JPG', 'bike53=C:/Files/SB.bike53- 006.33.JPG', 'car46=C:/Files/SB.car46- 88.22.JPG', 'bike12=C:/Files/SB.bike12- 006.33.JPG', 'acc9=C:/Files/SB.acc9- 006.33.JPG']\nnew_s = sorted(s, key=lambda x:x[:x.index('=')])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['acc9=C:/Files/SB.acc9- 006.33.JPG', 'bike12=C:/Files/SB.bike12- 006.33.JPG', 'bike53=C:/Files/SB.bike53- 006.33.JPG', 'car46=C:/Files/SB.car46- 88.22.JPG', 'car58=C:/Files/SB.car58- 094.38.JPG']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "is_accepted": false, "score": 0, "last_activity_date": 1512172163, "last_edit_date": 1512172163, "creation_date": 1511992765, "answer_id": 47562571, "question_id": 47562434, "link": "https://stackoverflow.com/questions/47562434/sort-list-of-strings/47562571#47562571", "title": "Sort list of strings", "body": "<p>To sort a list use list's method <code>sort()</code>:</p>\n\n<pre><code>l = ['car58=C:/Files/SB.car58- 094.38.JPG',\n     'bike53=C:/Files/SB.bike53- 006.33.JPG',\n     'car46=C:/Files/SB.car46- 88.22.JPG',\n     'bike12=C:/Files/SB.bike12- 006.33.JPG',\n     'acc9=C:/Files/SB.acc9- 006.33.JPG']\n\n# sort list in place\nl.sort()\n\nprint('\\n'.join(l))\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>acc9=C:/Files/SB.acc9- 006.33.JPG\nbike12=C:/Files/SB.bike12- 006.33.JPG\nbike53=C:/Files/SB.bike53- 006.33.JPG\ncar46=C:/Files/SB.car46- 88.22.JPG\ncar58=C:/Files/SB.car58- 094.38.JPG\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8990453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7f925a7491763577c454d6b1c8e5a7?s=128&d=identicon&r=PG&f=1", "display_name": "DOS", "link": "https://stackoverflow.com/users/8990453/dos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 47562470, "answer_count": 2, "score": 1, "last_activity_date": 1512172163, "creation_date": 1511992230, "last_edit_date": 1512171997, "question_id": 47562434, "link": "https://stackoverflow.com/questions/47562434/sort-list-of-strings", "title": "Sort list of strings", "body": "<p>I have a list of strings like this:</p>\n\n<pre><code>l = ['car58=C:/Files/SB.car58- 094.38.JPG',\n     'bike53=C:/Files/SB.bike53- 006.33.JPG',\n     'car46=C:/Files/SB.car46- 88.22.JPG',\n     'bike12=C:/Files/SB.bike12- 006.33.JPG',\n     'acc9=C:/Files/SB.acc9- 006.33.JPG']\n</code></pre>\n\n<p>I'm trying to sort the list using the start (position 0) of each string up to the \"=\" character ignoring all characters after it, so that the outcome is:</p>\n\n<pre><code>s = ['acc9=C:/Files/SB.acc9- 116.95.JPG',\n     'bike12=C:/Files/SB.bike12- 006.33.JPG',\n     'bike53=C:/Files/SB.bike53- 002.12.JPG',\n     'car46=C:/Files/SB.car46- 88.22.JPG',\n     'car58=C:/Files/SB.car58- 094.38.JPG']\n</code></pre>\n\n<p>Edit:\nThe answer provided by Ajax1234 solved my issue:</p>\n\n<pre><code>s = sorted(l, key=lambda x:x[:x.index('=')])\n</code></pre>\n"}, {"tags": ["python", "tkinter", "tkinter-canvas"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1511996091, "post_id": 47562417, "comment_id": 82084312, "body": "You have indentation problems in your code."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1511994737, "last_edit_date": 1511994737, "creation_date": 1511993684, "answer_id": 47562742, "question_id": 47562417, "link": "https://stackoverflow.com/questions/47562417/tkinter-show-hide-canvas-line-with-checkbutton/47562742#47562742", "title": "TKinter show/hide canvas.line with Checkbutton", "body": "<p><code>command=</code> expects function which doesn't get arguments. </p>\n\n<p>You have to create line again. </p>\n\n<pre><code>from tkinter import *\n\n# --- functions ---\n\ndef click():\n    global redline\n\n    if not var.get():\n        canvas.delete(redline)\n    else:\n        redline = canvas.create_line(0, 100, 200, 50, fill=\"red\")\n\n# --- main ---\n\napp = Tk()\n\ncanvas = Canvas(app, width=400, height=600)\ncanvas.pack()\n\nredline = canvas.create_line(0, 100, 200, 50, fill=\"red\")\n\nvar = IntVar()\ncheck = Checkbutton(app, text = \"Redline\", variable=var, command=click)\ncheck.pack()\ncheck.toggle()\n\napp.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8704816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1700ace46c8bd41d97d099bd9fb6d483?s=128&d=identicon&r=PG&f=1", "display_name": "chaBing", "link": "https://stackoverflow.com/users/8704816/chabing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 47562742, "answer_count": 1, "score": 0, "last_activity_date": 1511994737, "creation_date": 1511992142, "question_id": 47562417, "link": "https://stackoverflow.com/questions/47562417/tkinter-show-hide-canvas-line-with-checkbutton", "title": "TKinter show/hide canvas.line with Checkbutton", "body": "<p>So i was trying to code for a project but i wasn't able to make any progress with this for a day so i decided to ask:\nMy goal is to have a checkbox (doesnt necessarily have to be checked at the start) that if checked shows a red line, but if unchecked the redline disappears (that's where i struggle). I have managed to make the redline appear with the button checked but afterwards if I uncheck, nothing happens and the redline remains. This is my latest try:</p>\n\n<pre><code>from tkinter import *\napp = Tk()\ncanvas = Canvas(app, width=400, height=600)\ncanvas.pack()\nredline = canvas.create_line(0, 100, 200, 50, fill=\"red\")\ndef click(canvas=redline, *event):\n       if var.get():\n       redline\n       else:canvas.delete(redline)\nvar = IntVar()\ncheck = Checkbutton(app, text = \"Redline\", variable=var, command=click)\ncheck.pack()\ncheck.toggle()\napp.mainloop()\n</code></pre>\n\n<p>Im grateful for any kind of help. </p>\n"}, {"tags": ["python", "list", "comparison"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7460619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-0_yPllfIg-Q/AAAAAAAAAAI/AAAAAAAAABM/NDSSr1UjK_k/photo.jpg?sz=128", "display_name": "D0USMOKEHAZE", "link": "https://stackoverflow.com/users/7460619/d0usmokehaze"}, "edited": false, "score": 0, "creation_date": 1511996590, "post_id": 47563274, "comment_id": 82084511, "body": "on the bottom i am calling each function individually  aren&#39;t I? main() newresponse() monitorchange()"}, {"owner": {"reputation": 1145, "user_id": 1901376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e85e4d2537592dbdc3ad4ea4d70c35b?s=128&d=identicon&r=PG", "display_name": "maschu", "link": "https://stackoverflow.com/users/1901376/maschu"}, "reply_to_user": {"reputation": 11, "user_id": 7460619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-0_yPllfIg-Q/AAAAAAAAAAI/AAAAAAAAABM/NDSSr1UjK_k/photo.jpg?sz=128", "display_name": "D0USMOKEHAZE", "link": "https://stackoverflow.com/users/7460619/d0usmokehaze"}, "edited": false, "score": 0, "creation_date": 1512029445, "post_id": 47563274, "comment_id": 82094726, "body": "Sorry - didn&#39;t scroll down. May have been a bit late yesterday. Anyhow: perhaps it is just the order of your subtraction that doesn&#39;t work as you expect? set(l1)-set(l2) is not the same as set(l2)-set(l1). From the doc: &quot;[-] Return a new set with elements in the set that are not in the other(s)&quot;."}], "tags": [], "owner": {"reputation": 1145, "user_id": 1901376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e85e4d2537592dbdc3ad4ea4d70c35b?s=128&d=identicon&r=PG", "display_name": "maschu", "link": "https://stackoverflow.com/users/1901376/maschu"}, "is_accepted": false, "score": 0, "last_activity_date": 1511996352, "creation_date": 1511996352, "answer_id": 47563274, "question_id": 47562411, "link": "https://stackoverflow.com/questions/47562411/return-difference-of-list/47563274#47563274", "title": "Return difference of list", "body": "<p>With def you are defining a function, not calling it. Your main() and newresponse() functions are never called. As a consequence, your old and new lists will remain empty and cannot show any difference.</p>\n"}], "owner": {"reputation": 11, "user_id": 7460619, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-0_yPllfIg-Q/AAAAAAAAAAI/AAAAAAAAABM/NDSSr1UjK_k/photo.jpg?sz=128", "display_name": "D0USMOKEHAZE", "link": "https://stackoverflow.com/users/7460619/d0usmokehaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1511996352, "creation_date": 1511992106, "last_edit_date": 1511994833, "question_id": 47562411, "link": "https://stackoverflow.com/questions/47562411/return-difference-of-list", "title": "Return difference of list", "body": "<p>I seem to bet getting no returned value on the difference of list old_urls and new_urls. This script is supposed to constantly poll until a difference append the difference and return the difference. Then back to def newresponse()  </p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\nimport time\nold_urls = []\nnew_urls = []\n\n\ndef main():\n  s = requests.session()\n  url = s.get('https://www.sivasdescalzo.com/sitemaps/en/sitemap-1.xml')\n  soup = BeautifulSoup(url.content, \"html.parser\")\n  all_urls = soup.find_all(\"url\")\n  for url in all_urls:\n     old_urls.append(url.find('loc').get_text())\ndef newresponse():\n  s = requests.session()\n  url = s.get('https://www.sivasdescalzo.com/sitemaps/en/sitemap-1.xml')\n  soup2 = BeautifulSoup(url.content, \"html.parser\")\n  all_newurls = soup2.find_all(\"url\")\n  for urls in all_newurls:\n     new_urls.append(urls.find('loc').get_text())\n\ndef monitorchange():\n  x = list(set(new_urls) - set(old_urls))\n  print \"looking for change\"\n  while True:\n     s =requests.session()\n     url = s.get('https://www.sivasdescalzo.com/sitemaps/en/sitemap-1.xml')\n     soup3 = BeautifulSoup(url.content, \"html.parser\")\n     if new_urls != old_urls:\n         return x\n         old_urls.append(x)\n         continue\n     elif url.status_code==403:\n         print \"bannned\"\n     else:\n         time.sleep(60)\n\nmain()\nnewresponse()\nmonitorchange()\n</code></pre>\n"}, {"tags": ["python", "django", "windows", "django-rest-framework", "geospatial"], "answers": [{"tags": [], "owner": {"reputation": 1145, "user_id": 1901376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e85e4d2537592dbdc3ad4ea4d70c35b?s=128&d=identicon&r=PG", "display_name": "maschu", "link": "https://stackoverflow.com/users/1901376/maschu"}, "is_accepted": false, "score": 0, "last_activity_date": 1512118115, "creation_date": 1512118115, "answer_id": 47589634, "question_id": 47562387, "link": "https://stackoverflow.com/questions/47562387/getting-started-with-django-restframework-gis-on-windows-10/47589634#47589634", "title": "Getting started with django-restframework-gis on Windows 10", "body": "<p>OK, after another day of searching and experimenting, I acknowledge that this has been the wrong question to ask - therefore I answer myself and close this issue. </p>\n\n<p>Apparently, I have been to naive about setting up a \"geo-aware\" service, thinking that I can get away with a special datatype or two for coordinates, and a special kind of serializer for GeoJSON - and, if really necessary, with a geo-enabled database.</p>\n\n<p>Turns out, that what I want to do in the end, is a GeoDjango application (even if I will use only a tiny fraction of what GeoDjango can do), and so the <a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/gis/\" rel=\"nofollow noreferrer\">GeoDjango docs</a> are the place to start from, and in particular their installation guide.</p>\n\n<p>The story isn't over yet as I am still having troubles to load the required libraries from Django, but the direction is clearer now.</p>\n\n<p>More specifically, the issue I ran into wasn't primarily a SpatiaLite issue. I was able to install SpatiaLite and enhance an existing sqlite database by running <code>SELECT load_extension('mod_spatialite'); SELECT InitSpatialMetaData();</code> (see also <a href=\"https://stackoverflow.com/questions/17761089/cannot-create-column-with-spatialite-unexpected-metadata-layout\">this post</a>. Django (python manage.py check) complained about not finding the gdal library, and once it found it, it was the wrong version. The <a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/gis/\" rel=\"nofollow noreferrer\">GeoDjango docs</a> report that this is indeed the most common problem when installing GeoDjango. It would be helpful if the error messages from ctypes were a bit more verbose to make it easier to search for solutions. It took several hops across various web sites and an extra print statement in the ctypes <strong>init</strong>.py file, before I found out that one needs to match the version of gdal, the version of python, and the compiler (DLL hell this was called by someone). </p>\n\n<p>Another part of the confusion arises from the manifold dependencies among the various required \"geo packages\". For example, SpatiaLite already comes with a gdal library, so why the need for installing gdal separately? Indeed, the <a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/gis/\" rel=\"nofollow noreferrer\">GeoDjango docs</a> recommend to work with <a href=\"https://trac.osgeo.org/osgeo4w/\" rel=\"nofollow noreferrer\">OSGEO4W</a>, because this program suite bundles everything together. Yet, this is not trivial if one starts from a system where OSGEO4W and Python/Django have been installed independently. This is the situation I start from. I installed OSGEO4W primarily to work with QGIS, and I installed Python and Django for other tasks. The realisation that the two must be linked for a GeoDjango application only came afterwards. I might need to start from scratch, but it would be good to know if people have been successful in a Windows 10, x64 environment with Python >= 3.4 recently.</p>\n"}], "owner": {"reputation": 1145, "user_id": 1901376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e85e4d2537592dbdc3ad4ea4d70c35b?s=128&d=identicon&r=PG", "display_name": "maschu", "link": "https://stackoverflow.com/users/1901376/maschu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512118115, "creation_date": 1511991992, "question_id": 47562387, "link": "https://stackoverflow.com/questions/47562387/getting-started-with-django-restframework-gis-on-windows-10", "title": "Getting started with django-restframework-gis on Windows 10", "body": "<p>I have some experience with Python-Django including its REST framework, a reasonable understanding of geographic information (and what GIS is about) and about databases, and I would like to develop a \"geo-aware\" REST service on my Windows machine based on Django. The application shall be limited to the REST service; visual exploration and other stuff shall be developed independently. Side-remark: once my application is running, it will be ported onto a Linux machine and PostGIS will then be used instead of SpatialLite.</p>\n\n<p>After several hours of web-searching, I still haven't come up with a good \"Quickstart\" guide. There are many tutorials and docs about various aspects related to my task, but they either refer to Linux, or their installation instructions are outdated. Here is what I have done so far:</p>\n\n<p>1) I use miniconda and Pycharm</p>\n\n<p>2) I created a new virtual environment like so:</p>\n\n<pre><code>conda create -n locations pip numpy requests\nactivate locations\nconda install -c conda-forge django djangorestframework djangorestframework-gis\n</code></pre>\n\n<p>3) I set-up the new Django project and my application and performed a database migration:</p>\n\n<pre><code>python [path-to..]\\django-admin.py startproject locations\ncd locations\npython [path-to..]\\django-admin.py startapp myapp\ncd ..\npython manage.py migrate\n</code></pre>\n\n<p>4) I added \"rest_framework\" and \"myapp.apps.MyAppConfig\" to the APPLICATIONS in settings.py</p>\n\n<p>5) I stopped reading the general django-restframework tutorial and began searching for django-restframework-gis specific information. What I understood from this is that I need to enhance my SQLite database to become a SpatialLite database. Windows binaries for SpatialLite are available at <a href=\"http://www.gaia-gis.it/gaia-sins/windows-bin-x86/\" rel=\"nofollow noreferrer\">gaia-sins</a> -- but which of these do I really need? I downloaded the mod_spatialite-4.3.0a-win-x86.7z file and unpacked it, and I added <code>SPATIALITE_LIBRARY_PATH= '[path-to..]\\mod_spatialite-4.3.0a-win-x86\\mod_spatialite.dll'</code> to my settings.py.</p>\n\n<p>What comes next?</p>\n\n<p>Specific questions:</p>\n\n<p>1) Do I really need to upgrade my SQLite database if I am not planning to store geospatial information but merely build a REST service to deliver information in GeoJSON which is coming from other sources (for example weather model output in netcdf data format)? Or would it suffice to describe my Django model in this case and simply ignore any database-related issues?</p>\n\n<p>2) What is the minimum code to get the basic \"wiring\" done? This could be an extremely simple service which would accept a lat/lon coordinate as parameter in the URL and return this location in GeoJSON format. Such code should highlight the differences between using the \"normal\" django-restframework from the gis version. Once I have this, I will probably find my way through the existing documentation (for example <a href=\"https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask\" rel=\"nofollow noreferrer\">Miguel Grinberg Tutorial</a> or <a href=\"https://github.com/djangonauts/django-rest-framework-gis\" rel=\"nofollow noreferrer\">GitHub description</a>).</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1511992213, "post_id": 47562382, "comment_id": 82082602, "body": "<code>the number of samples that I am expecting</code> What are you expecting? Please consider creating a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. Your desired output is missing!"}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1511992677, "post_id": 47562382, "comment_id": 82082864, "body": "Another thing, if you are trying to visualize data in real-time i would suggest using tools like <code>elasticsearch</code> with <code>kibana</code> You can basically send the data and read it in realtime"}, {"owner": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "edited": false, "score": 0, "creation_date": 1511993072, "post_id": 47562382, "comment_id": 82083048, "body": "Thanks for your suggestions.  To answer the first comment, I know that I am not receiving the correct number of samples, because when I sample with the manufacturer&#39;s development kit (with the same sampling parameters), I get 100k samples.  When I sample with the Python code (to allow for real-time visualization), I am getting around 25-35k samples."}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 1, "creation_date": 1512088189, "post_id": 47562382, "comment_id": 82127347, "body": "I saw this question yesterday but had no time to comment.  It seems that your problem has several moving parts: capturing the data, parsing it, writing it to a file, reading and presenting that file in another application.  You have to isolate where the performance bottleneck is.  For example, remove all the parsing code from the function readField and instead just increment an integer variable; print that variable&#39;s value every second.  That tells you how fast you are capturing the raw data.  Go down the chain and repeat that sort of thing until you find where the problem is."}], "owner": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 322, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511991975, "creation_date": 1511991975, "question_id": 47562382, "link": "https://stackoverflow.com/questions/47562382/efficient-writing-and-saving-of-real-time-data-in-python", "title": "Efficient writing and saving of real-time data in Python?", "body": "<p>I have a script that I am using to pull data from an accelerometer.  I am able to specify the bandwidth of the accelerometer (250 Hz), which sets the data rate to 500 Hz for sampling.</p>\n\n<p><strong>The problem</strong> that I am facing is that the <code>.txt</code> file is not saving the number of samples that I am expecting, and I am asking for support here to understand if my lines of code to write the data to the text file are the reason for my bottleneck.</p>\n\n<p>Once this file is saved in the data collection scipt, I am opening the <code>.txt</code> file in a Spyder script, that is creating a real-time calculation and visualization of the data, as it is being saved by the first script.</p>\n\n<p>The following lines are used in the 'data_pull' script, which is reading the data from the accelerometer.  The lines below are what I'm using to write to the text file.</p>\n\n<pre><code>file = open(\"C:\\\\Users\\\\User\\\\Documents\\\\test.txt\",\"a\")\nwriter = csv.writer(file)\nwhile True:\n      writer.writerow(convert2g(readField()))    \n      file.flush()\n</code></pre>\n\n<p>For Reference, two of the functions in the data pulling script from the accelerometer are shown below.  I didn't include the entire script, because it is unrelated to the saving and writing to the text file.</p>\n\n<pre><code>def convert2g(raw_accs):\n    return [acc / CONVERT_CONST for acc in raw_accs]\n\ndef readField():\n    values = myBoard.Read(0x02, 18) #check register map\n\n    bin_mask = 0b11110000\n    acc_x_lsb = values[0] &amp; bin_mask\n    acc_x_msb = values[1] &lt;&lt; 8\n    acc_x = (acc_x_msb | acc_x_lsb)\n    twos_x = twos_comp(acc_x) &gt;&gt; 4\n\n    acc_y_lsb = values[2] &amp; bin_mask\n    acc_y_msb = values[3] &lt;&lt; 8\n    acc_y = (acc_y_msb | acc_y_lsb)\n    twos_y = twos_comp(acc_y) &gt;&gt; 4\n\n    acc_z_lsb = values[4] &amp; bin_mask\n    acc_z_msb = values[5] &lt;&lt; 8\n    acc_z = (acc_z_msb | acc_z_lsb)\n    twos_z = twos_comp(acc_z) &gt;&gt; 4\n\n    return twos_x, twos_y, twos_z\n</code></pre>\n\n<p>The code below is what I'm using to build the animation.  </p>\n\n<pre><code>import pandas as pd\nimport sys\nimport numpy as np\nimport easygui\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n\n\ndef animate(i):\n\n    data = pd.read_csv(\"C:\\\\Users\\\\User\\\\Documents\\\\test.txt\")\n    data.columns = ['X', 'Y', 'Z']\n    xar = range(len(data))\n\n    yar = pd.DataFrame(data['Z'])\n    yar = yar[1050:]\n    xar = xar[1050:]\n\n    std = yar.rolling(window=10000).std()\n    std = std.as_matrix()\n\n    yar = data.as_matrix()\n    yar = yar[1050:len(data)]\n\n    ax1.clear()\n    ax1.set_xlabel(\"Sample Number\")\n    ax1.set_ylabel(\"Standard Deviation (g)\")\n\n    ax3.clear()\n    ax3.set_xlabel(\"Sample Number\")\n    ax3.set_ylabel(\"Acceleration (g)\")\n    ax1.plot(xar, std)\n    ax3.plot(xar, yar)\n    ax1.set_title('Rolling Standard Deviation')\n    ax3.set_title('Original Data')\n\nfig, (ax1, ax3) = plt.subplots(2, sharex = True)\nfig.subplots_adjust(hspace=1.5)\nani = animation.FuncAnimation(fig, animate, interval=.01)\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "virtualenv"], "answers": [{"comments": [{"owner": {"reputation": 11661, "user_id": 277267, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/F0Dwz.png?s=128&g=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/277267/daniel-f"}, "edited": false, "score": 0, "creation_date": 1511992066, "post_id": 47562380, "comment_id": 82082539, "body": "Thanks, I completely forgot about <code>virtualenvwrapper</code>. Have been using Docker for too long."}], "tags": [], "owner": {"reputation": 2779, "user_id": 957130, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/05be4f754d3836ad621740c90ee10bfb?s=128&d=identicon&r=PG", "display_name": "Marcin Pietraszek", "link": "https://stackoverflow.com/users/957130/marcin-pietraszek"}, "is_accepted": true, "score": 2, "last_activity_date": 1511991963, "creation_date": 1511991963, "answer_id": 47562380, "question_id": 47562348, "link": "https://stackoverflow.com/questions/47562348/virtualenv-have-project-directories-located-somewhere-else-is-that-ok/47562380#47562380", "title": "Virtualenv, have project directories located somewhere else, is that ok?", "body": "<p>Yes, it's ok. There is even a wrapper for virtualenv called <a href=\"https://virtualenvwrapper.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">virtualenvwrapper</a> which does similar thing. By default it stores all virtualenvs in <code>~/.virtualenvs</code>.</p>\n"}], "owner": {"reputation": 11661, "user_id": 277267, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/F0Dwz.png?s=128&g=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/277267/daniel-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 47562380, "answer_count": 1, "score": 0, "last_activity_date": 1511991963, "creation_date": 1511991840, "question_id": 47562348, "link": "https://stackoverflow.com/questions/47562348/virtualenv-have-project-directories-located-somewhere-else-is-that-ok", "title": "Virtualenv, have project directories located somewhere else, is that ok?", "body": "<p>I want to use the following directory hierarchy</p>\n\n<pre><code>~/python/project-1\n~/python/project-2\n~/python/project-3\n~/python/virtual-environments/environment-1 (virtual environment base)\n~/python/virtual-environments/environment-2 (virtual environment base)\n</code></pre>\n\n<p>and then use it like this</p>\n\n<pre><code># project-1 runs inside environment-1\nsource ~/python/virtual-environments/environment-1/bin/activate\ncd ~/python/project-1/\npython\n</code></pre>\n\n<p>.</p>\n\n<pre><code># project-2 runs inside environment-2\nsource ~/python/virtual-environments/environment-2/bin/activate\ncd ~/python/project-2/\npython\n</code></pre>\n\n<p>.</p>\n\n<pre><code># project-3 also runs inside environment-1\nsource ~/python/virtual-environments/environment-1/bin/activate\ncd ~/python/project-3/\npython\n</code></pre>\n\n<p>Is this allowed or could this cause some nasty problems?</p>\n\n<p>I ask because it seems that </p>\n\n<pre><code>~/python/virtual-environments/environment-1/ (virtual environment base)\n~/python/virtual-environments/environment-1/project-1\n~/python/virtual-environments/environment-1/project-3 (not sure if \"allowed\")\n\n~/python/virtual-environments/environment-2/ (virtual environment base)\n~/python/virtual-environments/environment-2/project-2\n</code></pre>\n\n<p>is the \"official\" way to do it. I don't want to tie the projects so tightly to the environments and also have multiple projects use the same environment, so it's not really the inside/outside discussion, but a \"completely somewhere else\" one.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1511991948, "post_id": 47562280, "comment_id": 82082472, "body": "Why would you want this: <code>(&#39;data forced&#39;)</code>? Is not <code>&#39;data forced&#39;</code> sufficient?"}], "answers": [{"tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 1, "last_activity_date": 1511991709, "creation_date": 1511991709, "answer_id": 47562320, "question_id": 47562280, "link": "https://stackoverflow.com/questions/47562280/cleaning-list-in-python/47562320#47562320", "title": "cleaning list in python", "body": "<p>List comprehensions to the rescue:</p>\n\n<pre><code>result = [x[0] for x in data]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2779, "user_id": 957130, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/05be4f754d3836ad621740c90ee10bfb?s=128&d=identicon&r=PG", "display_name": "Marcin Pietraszek", "link": "https://stackoverflow.com/users/957130/marcin-pietraszek"}, "is_accepted": false, "score": 0, "last_activity_date": 1511991723, "creation_date": 1511991723, "answer_id": 47562326, "question_id": 47562280, "link": "https://stackoverflow.com/questions/47562280/cleaning-list-in-python/47562326#47562326", "title": "cleaning list in python", "body": "<p>You could use list comprehension:</p>\n\n<pre><code>your_list = [('deployment appears', 4.0), ...]\nfiltered = [tuple(some_number) for _, some_number in your_list]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 0, "last_activity_date": 1511991896, "creation_date": 1511991896, "answer_id": 47562364, "question_id": 47562280, "link": "https://stackoverflow.com/questions/47562280/cleaning-list-in-python/47562364#47562364", "title": "cleaning list in python", "body": "<p>You can try this:</p>\n\n<pre><code>s = [('deployment appears', 4.0), ('times bigger', 4.0), ('data forced', 4.0), ('washington media', 4.0), ('barely understood', 4.0), ('american public', 4.0), ('country', 4.0), ('house', 4.0)]\nnew_s = [i[:1] for i in s]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[('deployment appears',), ('times bigger',), ('data forced',), ('washington media',), ('barely understood',), ('american public',), ('country',), ('house',)]\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7733100, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10211323585679717/picture?type=large", "display_name": "L.Bond", "link": "https://stackoverflow.com/users/7733100/l-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 47562364, "answer_count": 3, "score": -2, "last_activity_date": 1511995014, "creation_date": 1511991546, "last_edit_date": 1511995014, "question_id": 47562280, "link": "https://stackoverflow.com/questions/47562280/cleaning-list-in-python", "title": "cleaning list in python", "body": "<p>I have several list they have <code>2</code> values - one or more words and score,   <code>[(deployment appears', 4.0), ('times bigger', 4.0), ('data forced', 4.0), ('washington media', 4.0), ('barely understood', 4.0), ('american public', 4.0), ('country', 4.0), ('house', 4.0)]</code></p>\n\n<p>How can I create a list that has only words - for example, <code>[('deployment appears'), ('times bigger'), ('data forced'), ('washington media'), ('barely understood'), ('american public'), ('accurate accounting'), ('white house')]</code></p>\n"}, {"tags": ["python", "animation", "matplotlib", "plot", "3d"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1511994141, "post_id": 47562213, "comment_id": 82083516, "body": "I have severe problems understanding the issue. If you want to have one figure and one animation, why do you create 2 figures and 2 animations. Remove those and you&#39;ll be fine."}, {"owner": {"reputation": 61, "user_id": 8815297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e7dff13899429289732c95b3009c35?s=128&d=identicon&r=PG&f=1", "display_name": "JimmyDiJim", "link": "https://stackoverflow.com/users/8815297/jimmydijim"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512070315, "post_id": 47562213, "comment_id": 82119841, "body": "Thank you for your answer. I don&#39;t knwo how to move different objects (here: triangles and points) in one figure. Perhap it&#39;s easy, but i don&#39;t get it."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512159415, "post_id": 47562213, "comment_id": 82160300, "body": "The first step towards showing it all in one figure it of course to remove the second figure from the code. You then also only need one single <code>FuncAnimation</code> and one single updating function. ...and that&#39;s it. Animating a single figure is really much simpler than animating two different ones. Of course if you have done those steps and still have a problem you may edit your question to specifically ask for that problem."}, {"owner": {"reputation": 61, "user_id": 8815297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e7dff13899429289732c95b3009c35?s=128&d=identicon&r=PG&f=1", "display_name": "JimmyDiJim", "link": "https://stackoverflow.com/users/8815297/jimmydijim"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1512180199, "post_id": 47562213, "comment_id": 82166517, "body": "Thank you. I have now soled the problem with a colormap in the scatter command"}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 1, "last_activity_date": 1512218928, "creation_date": 1512218928, "answer_id": 47608070, "question_id": 47562213, "link": "https://stackoverflow.com/questions/47562213/animared-plot-two-different-colors-and-shapes-in-3d-in-matplotlib-python/47608070#47608070", "title": "animared plot two different colors and shapes in 3d in matplotlib python", "body": "<p>As said repeatedly in the comments, you need to remove the second figure from the code. You then also only need one single FuncAnimation and one single updating function. I left the rest of the code unchanged (although there might be room for optimizations as well) in order for you to see that this is really just about removing the second figure and all its dependencies from the script.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib.animation as animation\nimport numpy as np\nfrom mpl_toolkits.mplot3d import Axes3D\n\nnp.random.seed(19680801)\nn = 200\nbreite=20\n\ndef randrange(n, vmin, vmax):\n    '''\n    Helper function to make an array of random numbers having shape (n, )\n    with each number distributed Uniform(vmin, vmax).\n    '''\n    return (vmax - vmin)*np.random.rand(n) + vmin\n\ndef fun_ebene(x, y):\n    return x+y-breite**2/2\n\n#function for points\ndef fun_punkte(x,y):\n    return -x**2\n\n# min and max of the plane\nmaximum=-99999.9\nminimum=99999.9\nfor x in randrange(n, -breite, breite):\n    for y in randrange(n, -breite, breite):       \n        maximum=max(maximum,fun_ebene(x,y))\n        minimum=min(minimum,fun_ebene(x,y))\n\n# cache that the points not touch the plane\ncache=(maximum-minimum)/10\n\n#generate points\nxs = randrange(n, -breite, breite)\nys = randrange(n, -breite, breite)\nzs = randrange(n, fun_punkte(xs,ys)+cache, maximum)\nzs=fun_punkte(xs,ys)\naxlistxs = []\naxlistys = []\naxlistzs = []\nbxlistxs = []\nbxlistys = []\nbxlistzs = []\n\n#seperates Data in two lists\nfor i in range(len(zs)):\n    if zs[i]&lt;=fun_ebene(xs[i],ys[i]):\n        axlistxs.append(xs[i])\n        axlistys.append(ys[i])        \n        axlistzs.append(zs[i])\n    else:  \n        bxlistxs.append(xs[i])\n        bxlistys.append(ys[i])        \n        bxlistzs.append(zs[i])\n\n# only one figure and one axes\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\n\n\nax.set_xlim(-22,22)\nax.set_ylim(-22,22)\nax.set_zlim(0, -400)\n\n# only one updating function\ndef _update_plot(i):\n    axlistzs = []\n    # sets the z-coordinate +1 every frame\n    for date in range(0, len(axlistxs)):\n         axlistzs.append(-i)\n    scat._offsets3d = (axlistxs,axlistys,axlistzs)\n\n    bxlistzs = []\n    for  data in range(0, len(bxlistxs)):\n        bxlistzs.append(-i)\n    scat2._offsets3d = (bxlistxs,bxlistys,bxlistzs)\n\n#plot data to the same axes\nscat = ax.scatter([], [], color='red', marker='o') \nscat2 = ax.scatter([], [], color = 'blue', marker = '^')\n\n# only one FuncAnimation\nanim = animation.FuncAnimation(fig, _update_plot,\n                               frames=100, interval=100)\n\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8815297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e7dff13899429289732c95b3009c35?s=128&d=identicon&r=PG&f=1", "display_name": "JimmyDiJim", "link": "https://stackoverflow.com/users/8815297/jimmydijim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1512218928, "creation_date": 1511991300, "question_id": 47562213, "link": "https://stackoverflow.com/questions/47562213/animared-plot-two-different-colors-and-shapes-in-3d-in-matplotlib-python", "title": "animared plot two different colors and shapes in 3d in matplotlib python", "body": "<p>i try to animate two different classes \"red dots\" and \"blue triangles\". At the beginning they are all on the x-y plane and through the animation all of them should move along the z-axis. At the end it should look like on the picture.</p>\n\n<p><a href=\"https://i.stack.imgur.com/66OhN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/66OhN.png\" alt=\"enter image description here\"></a></p>\n\n<p>I reached what i want in two seperate figures</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib.animation as animation\nimport numpy as np\nfrom mpl_toolkits.mplot3d import Axes3D\n\nnp.random.seed(19680801)\nn = 200\nbreite=20\n\ndef randrange(n, vmin, vmax):\n    '''\n    Helper function to make an array of random numbers having shape (n, )\n    with each number distributed Uniform(vmin, vmax).\n    '''\n    return (vmax - vmin)*np.random.rand(n) + vmin\n\ndef fun_ebene(x, y):\n    return x+y-breite**2/2\n\n#function for points\ndef fun_punkte(x,y):\n    return -x**2\n\n# min and max of the plane\nmaximum=-99999.9\nminimum=99999.9\nfor x in randrange(n, -breite, breite):\n    for y in randrange(n, -breite, breite):       \n        maximum=max(maximum,fun_ebene(x,y))\n        minimum=min(minimum,fun_ebene(x,y))\n\n# cache that the points not touch the plane\ncache=(maximum-minimum)/10\n\n#generate points\nxs = randrange(n, -breite, breite)\nys = randrange(n, -breite, breite)\nzs = randrange(n, fun_punkte(xs,ys)+cache, maximum)\nzs=fun_punkte(xs,ys)\naxlistxs = []\naxlistys = []\naxlistzs = []\nbxlistxs = []\nbxlistys = []\nbxlistzs = []\n\n #seperates Data in two lists\n for i in range(len(zs)):\n    if zs[i]&lt;=fun_ebene(xs[i],ys[i]):\n        axlistxs.append(xs[i])\n        axlistys.append(ys[i])        \n        axlistzs.append(zs[i])\n    else:  \n        bxlistxs.append(xs[i])\n        bxlistys.append(ys[i])        \n        bxlistzs.append(zs[i])\n\nfig = plt.figure()\nfig2 = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nbx = fig2.add_subplot(111, projection='3d')\n\n#set limes for the coordinate system\nax.set_xlim(-22,22)\nax.set_ylim(-22,22)\nax.set_zlim(0, -400)\nbx.set_xlim(-22,22)\nbx.set_ylim(-22,22)\nbx.set_zlim(0, -400)\n\ndef _update_plot(i, fig, scat):\n    axlistzs = []\n    # sets the z-coordinate +1 every frame\n    for date in range(0, len(axlistxs)):\n         axlistzs.append(-i)\n    list1 =[]\n    list1.append(axlistxs) #x-coordinates\n    list1.append(axlistys) #y-coordinates\n    list1.append(axlistzs) #z-coordinates\n    scat._offsets3d = (*np.array(list1),)\n    return scat\n\ndef _update_plot2(i, fig, scat2):\n    bxlistzs = []\n    for  data in range(0, len(bxlistxs)):\n        bxlistzs.append(-i)\n    list2 = []\n    list2.append(bxlistxs) #x-coordinates\n    list2.append(bxlistys) #y-coordinates\n    list2.append(bxlistzs) #z-coordinates\n    np.array(list2)\n    scat2._offsets3d = (*np.array(list2),)\n    return scat2\n\n#plot data\nscat = ax.scatter([], [], color='red', marker='o') \nscat2 = bx.scatter([], [], color = 'blue', marker = '^')\n\nanim = animation.FuncAnimation(fig, _update_plot, fargs=(fig, scat),    \nframes=100, interval=100)\n\nanim2 = animation.FuncAnimation(fig2, _update_plot2, fargs=(fig2, scat2),  \nframes=100, interval=100)\n\nplt.show()\n</code></pre>\n\n<p>my problem is that i want all that in only one figure/animation. But i don't know how to scatter two different colors and shapes. in the update function i use:</p>\n\n<pre><code>scat._offsets3d = (*np.array(list1),)\n</code></pre>\n\n<p>to update a list of multiple x.y.z-coordinates, after that the data gets scattered by</p>\n\n<pre><code>scat = ax.scatter([], [], color='red', marker='o') \n</code></pre>\n\n<p>I see there no possibility to plot two different lists of classes in different colors and shapes in one figure. i hope somebody can help.</p>\n"}, {"tags": ["python", "list", "numpy", "unique"], "comments": [{"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 3, "creation_date": 1511993280, "post_id": 47562201, "comment_id": 82083140, "body": "The thing that can be confusing is that <code>np.unique(list_cor, axis=0)</code> gets you <i>the array with duplicates removed</i>; it does not <i>filter the array to elements that are unique in the original array</i>."}, {"owner": {"reputation": 3514, "user_id": 1506850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/529adde7e6c422b0ab9b990d9b09e8da?s=128&d=identicon&r=PG&f=1", "display_name": "00__00__00", "link": "https://stackoverflow.com/users/1506850/00-00-00"}, "edited": false, "score": 0, "creation_date": 1511993909, "post_id": 47562201, "comment_id": 82083400, "body": "Now I have understood"}], "answers": [{"comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1511992422, "post_id": 47562292, "comment_id": 82082724, "body": "Seems like <code>return_counts=True</code> is only possible with Numpy &gt;= 1.9 ,though."}, {"owner": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1511994861, "post_id": 47562292, "comment_id": 82083831, "body": "@B. M. Your code works, however I haven&#39;t used <code>numpy</code> yet and according to @tobias_k comment what means <b>Numpy &gt;= 1.9</b>?"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "reply_to_user": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "edited": false, "score": 0, "creation_date": 1511996602, "post_id": 47562292, "comment_id": 82084515, "body": "@PavelPereverzev I meant that this feature was added in Numpy version 1.9. You can check your version with <code>import numpy; print(numpy.__version__)</code>"}, {"owner": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1511997205, "post_id": 47562292, "comment_id": 82084719, "body": "@tobias_k checked version, it is 1.9.3 , so everything&#39;s working"}], "tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1511991977, "last_edit_date": 1511991977, "creation_date": 1511991583, "answer_id": 47562292, "question_id": 47562201, "link": "https://stackoverflow.com/questions/47562201/finding-only-unique-coordinates-in-list/47562292#47562292", "title": "Finding ONLY Unique Coordinates in List", "body": "<p>You're almost there :  </p>\n\n<pre><code>coords=[ x+1j*y for (x,y) in list_cor] # using complex; a way for grouping\nuniques,counts=np.unique(coords,return_counts=True)\nres=[ [x.real,x.imag] for x in uniques[counts==1] ] # ungroup\n</code></pre>\n\n<p>For :</p>\n\n<pre><code>[[4190022.7685999982, 7410217.8443000019],\n [4190035.7005000003, 7410208.6705000028],\n [4190091.4195999987, 7410226.6186999977]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "edited": false, "score": 0, "creation_date": 1511994214, "post_id": 47562509, "comment_id": 82083544, "body": "hmm, gives me <code>TypeError: only integer arrays with one element can be converted to an index</code>"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "reply_to_user": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "edited": false, "score": 0, "creation_date": 1511996819, "post_id": 47562509, "comment_id": 82084587, "body": "@PavelPereverzev That&#39;s weird. Note that I was assuming that your <code>list_cor</code> is a numpy array, as you tagged the question as <code>numpy</code>. Does it not work with an array?"}, {"owner": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "edited": false, "score": 0, "creation_date": 1511997066, "post_id": 47562509, "comment_id": 82084671, "body": "Yes, after conversation to an array everything works"}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1511996785, "last_edit_date": 1511996785, "creation_date": 1511992514, "answer_id": 47562509, "question_id": 47562201, "link": "https://stackoverflow.com/questions/47562201/finding-only-unique-coordinates-in-list/47562509#47562509", "title": "Finding ONLY Unique Coordinates in List", "body": "<p>For older version of numpy that don't have the <code>return_counts</code> parameter, you could help yourself with <code>collections.Counter</code>:</p>\n\n<pre><code>&gt;&gt;&gt; list_cor = np.array(list_cor)  # assuming list_cor is a numpy array\n&gt;&gt;&gt; counts = collections.Counter(map(tuple, list_cor))\n&gt;&gt;&gt; counts_arr = np.array([counts[tuple(x)] for x in list_cor])\n&gt;&gt;&gt; list_cor[counts_arr == 1]\narray([[ 4190091.4196,  7410226.6187],\n       [ 4190035.7005,  7410208.6705],\n       [ 4190022.7686,  7410217.8443]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "edited": false, "score": 0, "creation_date": 1511994049, "post_id": 47562621, "comment_id": 82083469, "body": "unfortunately it gives one value I don&#39;t need to be in list_cor_unique: <code>[4190033.2124999985, 7410220.0823]</code>"}], "tags": [], "owner": {"reputation": 3514, "user_id": 1506850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/529adde7e6c422b0ab9b990d9b09e8da?s=128&d=identicon&r=PG&f=1", "display_name": "00__00__00", "link": "https://stackoverflow.com/users/1506850/00-00-00"}, "is_accepted": false, "score": 1, "last_activity_date": 1511995841, "last_edit_date": 1511995841, "creation_date": 1511993032, "answer_id": 47562621, "question_id": 47562201, "link": "https://stackoverflow.com/questions/47562201/finding-only-unique-coordinates-in-list/47562621#47562621", "title": "Finding ONLY Unique Coordinates in List", "body": "<p>In simple pure python basic types:</p>\n\n<pre><code># transform to tuples\nlist_cor=[tuple(c) for c in list_cor]\n# transform back after using set to select unique elements only\nlist_cor_unique=[list(l) for l in list(set(list_cor))]\n# create a copy\nlist_cor_more_than_once = [i for i in list_cor]\n# drop all the elements appearing only once\n[list_cor_more_than_once.remove(tuple(l)) for l in list_cor_unique if tuple(l) in list_cor]\n# finally, keep the uniques not appearing more than once\nlist_cor_unique=[l for l in list_cor_unique if (tuple(l) in list_cor) and (not (tuple(l) in list_cor_more_than_once)) ]\n</code></pre>\n\n<p>Pros:</p>\n\n<ul>\n<li><p>no external libraries</p></li>\n<li><p>would work for higher dimension coordinates</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "edited": false, "score": 0, "creation_date": 1511994720, "post_id": 47562884, "comment_id": 82083770, "body": "I also thought about using dictionaries but thought that there is a faster way to get unique values instead of running more than one cycle. Anyway your code works right!"}, {"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "reply_to_user": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "edited": false, "score": 0, "creation_date": 1511995067, "post_id": 47562884, "comment_id": 82083898, "body": "I&#39;m not sure what the faster way would be. The only algorithm I can think of that wouldn&#39;t iterate again would be to create two sets: a &#39;found&#39; set and a &#39;found again&#39; set. For each coordinate, if it&#39;s already in the &#39;found&#39; set, add it to the &#39;found again&#39; set; otherwise add it to the &#39;found&#39; set. Then subtract the &#39;found again&#39; set from the &#39;found&#39; set to create a &#39;found once&#39; set."}, {"owner": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "edited": false, "score": 0, "creation_date": 1511995337, "post_id": 47562884, "comment_id": 82084021, "body": "got it. Well, I think that two sets will not save much time so dictionaries are simple and fast enough for me."}], "tags": [], "owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "is_accepted": false, "score": 1, "last_activity_date": 1511994399, "creation_date": 1511994399, "answer_id": 47562884, "question_id": 47562201, "link": "https://stackoverflow.com/questions/47562201/finding-only-unique-coordinates-in-list/47562884#47562884", "title": "Finding ONLY Unique Coordinates in List", "body": "<p>I like using a dictionary to keep track of counts:</p>\n\n<pre><code>&gt;&gt;&gt; counts = {}\n&gt;&gt;&gt; for coordinate in list_cor:\n...     coordinate = tuple(coordinate) # so it can be hashed and used as dict key\n...     counts.setdefault(coordinate, 0) # add coordinate to dict\n...     counts[coordinate] += 1 # increment count for coordinate\n...\n</code></pre>\n\n<p>You then have a dictionary that looks like this:</p>\n\n<pre><code>&gt;&gt;&gt; counts\n{(4190091.4195999987, 7410226.618699998): 1, (4190033.2124999985, 7410220.0823): 3, (4190035.7005000003, 7410208.670500003): 1, (4190022.768599998, 7410217.844300002): 1}\n</code></pre>\n\n<p>You can then use list comprehension to create a list of unique coordinates:</p>\n\n<pre><code>&gt;&gt;&gt; [list(coordinate) for coordinate, count in counts.items() if count == 1]\n[[4190091.4195999987, 7410226.618699998], [4190035.7005000003, 7410208.670500003], [4190022.768599998, 7410217.844300002]]\n</code></pre>\n\n<p>If you're fine leaving the coordinates as tuples, you can replace <code>list(coordinate)</code> with <code>coordinate</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 2556332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069b35ef2528d7365d807b6a1e18a441?s=128&d=identicon&r=PG", "display_name": "Radhey", "link": "https://stackoverflow.com/users/2556332/radhey"}, "is_accepted": false, "score": 6, "last_activity_date": 1545807550, "creation_date": 1545807550, "answer_id": 53928532, "question_id": 47562201, "link": "https://stackoverflow.com/questions/47562201/finding-only-unique-coordinates-in-list/53928532#53928532", "title": "Finding ONLY Unique Coordinates in List", "body": "<p>Use <code>numpy.unique</code> with <code>axis</code> and <code>return_counts</code> parameters:</p>\n\n<pre><code>arr, uniq_cnt = np.unique(list_cor, axis=0, return_counts=True)\nuniq_arr = arr[uniq_cnt==1]\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 8776330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9187bfac32a0e92d754648e84d4e8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Pereverzev", "link": "https://stackoverflow.com/users/8776330/pavel-pereverzev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4854, "favorite_count": 2, "answer_count": 5, "score": 5, "last_activity_date": 1614278977, "creation_date": 1511991234, "last_edit_date": 1574453282, "question_id": 47562201, "link": "https://stackoverflow.com/questions/47562201/finding-only-unique-coordinates-in-list", "title": "Finding ONLY Unique Coordinates in List", "body": "<p>I have a list of coordinates like</p>\n\n<pre><code>list_cor = \n    [[4190091.4195999987, 7410226.618699998], \n    [4190033.2124999985, 7410220.0823], \n    [4190033.2124999985, 7410220.0823], \n    [4190035.7005000003, 7410208.670500003], \n    [4190033.2124999985, 7410220.0823], \n    [4190022.768599998, 7410217.844300002]]\n</code></pre>\n\n<p>I need to get only these values:</p>\n\n<pre><code>[[4190091.4195999987, 7410226.618699998], \n[4190035.7005000003, 7410208.670500003], \n[4190022.768599998, 7410217.844300002]]\n</code></pre>\n\n<p>Tried <code>numpy.unique()</code> but it adds this item <code>[4190033.2124999985, 7410220.0823]</code>, which I don't need.</p>\n"}, {"tags": ["python", "tkinter", "zipfile"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1511992239, "post_id": 47562198, "comment_id": 82082619, "body": "the documentation for <code>extractall</code> says the first parameter is a file path. <code>askopenfile()</code> doesn&#39;t return a file path."}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 8345855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246851aaa24b9428db28018aa64afc60?s=128&d=identicon&r=PG&f=1", "display_name": "clarktwain", "link": "https://stackoverflow.com/users/8345855/clarktwain"}, "edited": false, "score": 0, "creation_date": 1512078749, "post_id": 47562446, "comment_id": 82123964, "body": "That did it! Thanks for answering what was probably a dumb question. You just put an end to a lot of aggravation."}, {"owner": {"reputation": 580, "user_id": 8322055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47ff67e2d843eb69b55c877182de0?s=128&d=identicon&r=PG&f=1", "display_name": "Atto Allas", "link": "https://stackoverflow.com/users/8322055/atto-allas"}, "reply_to_user": {"reputation": 159, "user_id": 8345855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246851aaa24b9428db28018aa64afc60?s=128&d=identicon&r=PG&f=1", "display_name": "clarktwain", "link": "https://stackoverflow.com/users/8345855/clarktwain"}, "edited": false, "score": 0, "creation_date": 1512085491, "post_id": 47562446, "comment_id": 82126564, "body": "@clarktwain If the answer was correct, please mark it as correct so others with the same problem can find an answer quickly."}], "tags": [], "owner": {"reputation": 580, "user_id": 8322055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a47ff67e2d843eb69b55c877182de0?s=128&d=identicon&r=PG&f=1", "display_name": "Atto Allas", "link": "https://stackoverflow.com/users/8322055/atto-allas"}, "is_accepted": false, "score": 1, "last_activity_date": 1511992253, "creation_date": 1511992253, "answer_id": 47562446, "question_id": 47562198, "link": "https://stackoverflow.com/questions/47562198/tkfiledialog-and-zipfile-error-attributeerror-io-textiowrapper-object-has/47562446#47562446", "title": "tkFileDialog and Zipfile error: &quot;AttributeError: &#39;_io.TextIOWrapper&#39; object has no attribute &#39;namelist&#39;&quot;", "body": "<p><code>filedialog.askopenfile()</code> returns a file object, however, <code>ZipFile.extractall</code> takes a string (for the path). What you want is <code>filedialog.askopenfilename()</code>, which just returns the absolute filepath of the selected file (which means that ZipFile can use it)</p>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": false, "score": 1, "last_activity_date": 1511992380, "creation_date": 1511992380, "answer_id": 47562477, "question_id": 47562198, "link": "https://stackoverflow.com/questions/47562198/tkfiledialog-and-zipfile-error-attributeerror-io-textiowrapper-object-has/47562477#47562477", "title": "tkFileDialog and Zipfile error: &quot;AttributeError: &#39;_io.TextIOWrapper&#39; object has no attribute &#39;namelist&#39;&quot;", "body": "<p>You are using the zipfile library incorrectly. Try this: </p>\n\n<pre><code>from zipfile import ZipFile\nfrom tkinter import filedialog\n\n\nzip_file = ZipFile(filedialog.askopenfilename())\nzip_file.extractall()\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 8345855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246851aaa24b9428db28018aa64afc60?s=128&d=identicon&r=PG&f=1", "display_name": "clarktwain", "link": "https://stackoverflow.com/users/8345855/clarktwain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1511992380, "creation_date": 1511991231, "question_id": 47562198, "link": "https://stackoverflow.com/questions/47562198/tkfiledialog-and-zipfile-error-attributeerror-io-textiowrapper-object-has", "title": "tkFileDialog and Zipfile error: &quot;AttributeError: &#39;_io.TextIOWrapper&#39; object has no attribute &#39;namelist&#39;&quot;", "body": "<p>I'm trying to use tkfiledialog to select a file, and then use Zipfile to extract the contents. </p>\n\n<pre><code>from zipfile import ZipFile\nfrom tkinter import filedialog\n\n\nZipFile.extractall(filedialog.askopenfile())\n</code></pre>\n\n<p>Which returns this error: </p>\n\n<pre><code>AttributeError: '_io.TextIOWrapper' object has no attribute 'namelist'\n</code></pre>\n\n<p>Googling it didn't give me a clear answer, but I tried several .zip files and got the message. Any ideas?</p>\n"}, {"tags": ["python", "numpy", "adafruit"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1511991213, "post_id": 47562155, "comment_id": 82082128, "body": "Why &quot;gives the appearance&quot;? Why are you concerned about what it <i>looks</i> like your code is doing? Are you trying to <i>pretend</i> your code is streaming data between processes?"}, {"owner": {"reputation": 509, "user_id": 4781181, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9c701c7a1e52a8595d73169722dc66a8?s=128&d=identicon&r=PG", "display_name": "knowads", "link": "https://stackoverflow.com/users/4781181/knowads"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1511991465, "post_id": 47562155, "comment_id": 82082233, "body": "Sorry that was extremely poor wording. My use case is visual, but that&#39;s not related to my problem. I want to have some sort of synchronized interprocess communication on the same machine with numpy/scipy arrays. Feel free to ignore everything regarding Raspberry Pi if it makes it more confusing, I just thought someone else with Pi might have done something similar before."}], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 9707725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GwX9i.jpg?s=128&g=1", "display_name": "charlie", "link": "https://stackoverflow.com/users/9707725/charlie"}, "is_accepted": true, "score": 1, "last_activity_date": 1524866666, "last_edit_date": 1524866666, "creation_date": 1524866127, "answer_id": 50070778, "question_id": 47562155, "link": "https://stackoverflow.com/questions/47562155/way-to-pipe-or-stream-array-in-numpy-scipy/50070778#50070778", "title": "Way to pipe or stream Array in Numpy/Scipy", "body": "<p>An easy and fast solution is to use the <code>numpy.memmap</code> <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.memmap.html\" rel=\"nofollow noreferrer\">library</a>. It just creates a memory-map to an array stored in a binary file on disk. In that way you can share numpy arrays between processes very easily and incredibly fast.</p>\n\n<p>For example, the main process that generates the RGB data can be:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\nmyshape = (100,100,3) # my RGB array\nshared_array = np.memmap(\"/tmp/testarray\", mode='w+', shape=myshape)\n\nwhile True:\n    data = some_function_to_get_rgb_data() # returns a numpy array of myshape\n    shared_array[:] = data[:]\n</code></pre>\n\n<p>And the other process that reads that array can be:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\nread_shape = (100,100,3)\nshared_array = np.memmap(\"/tmp/testarray\", mode='r', shape=read_shape)\n\nwhile True:\n    # shared_array will behave as a numpy ndarray\n    do_something_with_array(shared_array) \n</code></pre>\n\n<p>Only take into account that the shape must match (also the <code>dtype</code> of the array can be passed to the <code>memmap</code> function) and the process that creates the file must run first. In practice any change made to the <code>shared_array</code> in the main process will be reflected in the other process very fast. </p>\n\n<p>Tests I have done sharing a (480,360,21) array with 4 processes simultaneously it takes less than 1 millisec to read and write from that array.</p>\n"}], "owner": {"reputation": 509, "user_id": 4781181, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9c701c7a1e52a8595d73169722dc66a8?s=128&d=identicon&r=PG", "display_name": "knowads", "link": "https://stackoverflow.com/users/4781181/knowads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 0, "accepted_answer_id": 50070778, "answer_count": 1, "score": 0, "last_activity_date": 1524866666, "creation_date": 1511991016, "last_edit_date": 1511991534, "question_id": 47562155, "link": "https://stackoverflow.com/questions/47562155/way-to-pipe-or-stream-array-in-numpy-scipy", "title": "Way to pipe or stream Array in Numpy/Scipy", "body": "<p>This is my specific use case to better explain the problem, but I'm looking for a generalized solution. </p>\n\n<p>I am using a Raspberry Pi with the adafruit LED display that displays an RGB matrix (this code is in Python 2). I have a python script that generates RGB data every 1/n seconds.</p>\n\n<p>Is there a package or library that allows me to continuously generate RGB data in the form of an np.ndarray in one process and have it be polled by the the matrix script so that it does near-real time interprocess communication of numpy arrays. </p>\n"}, {"tags": ["python", "google-compute-engine"], "answers": [{"tags": [], "owner": {"reputation": 850, "user_id": 1618532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/f77QC.jpg?s=128&g=1", "display_name": "spracketchip", "link": "https://stackoverflow.com/users/1618532/spracketchip"}, "is_accepted": true, "score": 1, "last_activity_date": 1511992595, "creation_date": 1511992595, "answer_id": 47562529, "question_id": 47562101, "link": "https://stackoverflow.com/questions/47562101/gce-wont-keep-my-script-running/47562529#47562529", "title": "GCE won&#39;t keep my script running", "body": "<p>looking in /var/log/syslog is giving me the reason: out of memory. The kernel is killing my script for that reason. </p>\n"}], "owner": {"reputation": 850, "user_id": 1618532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/f77QC.jpg?s=128&g=1", "display_name": "spracketchip", "link": "https://stackoverflow.com/users/1618532/spracketchip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 47562529, "answer_count": 1, "score": 0, "last_activity_date": 1511992595, "creation_date": 1511990783, "last_edit_date": 1511992041, "question_id": 47562101, "link": "https://stackoverflow.com/questions/47562101/gce-wont-keep-my-script-running", "title": "GCE won&#39;t keep my script running", "body": "<p>I've tried using:</p>\n\n<pre><code>screen; main.py \nnohup python main.py &amp;\ntmux; python main.py\npython main.py &amp; disown\n</code></pre>\n\n<p>For all of these options the script stops running after about 1/2 hour after I exit the SSH. I can't seem to find any info why this is happening and it's baffling! </p>\n\n<p>I'm running on GCE on a standard CPU. The CPU runs at %100 w/ the script, but then dips to 0% about 1/2 after I exit the ssh connection. \n(when running on a local terminal the script runs to completion which normally takes several hours) </p>\n\n<p>(after some more reading, i'm questioning if what I really need is a daemon, but why? Every answer I come across on the subject suggests the options I've already tried should work )</p>\n"}, {"tags": ["python", "python-3.x", "matplotlib"], "comments": [{"owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 0, "creation_date": 1511992018, "post_id": 47562040, "comment_id": 82082512, "body": "Curious. What does <code>ax1.get_yticks() </code> return?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1511994247, "post_id": 47562040, "comment_id": 82083555, "body": "Please read and understand <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 75, "user_id": 9015463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56754e78caeb77f878378b7991d62a52?s=128&d=identicon&r=PG&f=1", "display_name": "J. McConnor", "link": "https://stackoverflow.com/users/9015463/j-mcconnor"}, "reply_to_user": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 0, "creation_date": 1511994915, "post_id": 47562040, "comment_id": 82083846, "body": "@Galen Printing to the shell I get <code>[0]</code>. If I do the same for <code>ax1.get_xticks()</code> I get <code>[ 20.  25.  30.  35.  40.  45.  50.  55.]</code>."}, {"owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 0, "creation_date": 1511996296, "post_id": 47562040, "comment_id": 82084400, "body": "Do you get anything if you remove <code>ax1.set_ylim((pred.min(),pred.max()))</code>?"}, {"owner": {"reputation": 1798, "user_id": 3715463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6194dc2c513eaf3f83798c4672d4da2c?s=128&d=identicon&r=PG", "display_name": "jonnybazookatone", "link": "https://stackoverflow.com/users/3715463/jonnybazookatone"}, "edited": false, "score": 0, "creation_date": 1512020299, "post_id": 47562040, "comment_id": 82090790, "body": "You should include your imports and some dummy data for a MCVE. At the moment I have no issues with your code (i.e., I get a y-axis) if I dummy out some of the parts you haven&#39;t included."}, {"owner": {"reputation": 75, "user_id": 9015463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56754e78caeb77f878378b7991d62a52?s=128&d=identicon&r=PG&f=1", "display_name": "J. McConnor", "link": "https://stackoverflow.com/users/9015463/j-mcconnor"}, "reply_to_user": {"reputation": 1798, "user_id": 3715463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6194dc2c513eaf3f83798c4672d4da2c?s=128&d=identicon&r=PG", "display_name": "jonnybazookatone", "link": "https://stackoverflow.com/users/3715463/jonnybazookatone"}, "edited": false, "score": 0, "creation_date": 1512055669, "post_id": 47562040, "comment_id": 82110828, "body": "@jonnybazookatone Updated with imports."}, {"owner": {"reputation": 75, "user_id": 9015463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56754e78caeb77f878378b7991d62a52?s=128&d=identicon&r=PG&f=1", "display_name": "J. McConnor", "link": "https://stackoverflow.com/users/9015463/j-mcconnor"}, "reply_to_user": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 0, "creation_date": 1512055883, "post_id": 47562040, "comment_id": 82110981, "body": "@Galen I added a picture of what happens when that is removed."}, {"owner": {"reputation": 1798, "user_id": 3715463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6194dc2c513eaf3f83798c4672d4da2c?s=128&d=identicon&r=PG", "display_name": "jonnybazookatone", "link": "https://stackoverflow.com/users/3715463/jonnybazookatone"}, "edited": false, "score": 0, "creation_date": 1512094779, "post_id": 47562040, "comment_id": 82129064, "body": "what do you pass for notebooktab?"}, {"owner": {"reputation": 75, "user_id": 9015463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56754e78caeb77f878378b7991d62a52?s=128&d=identicon&r=PG&f=1", "display_name": "J. McConnor", "link": "https://stackoverflow.com/users/9015463/j-mcconnor"}, "reply_to_user": {"reputation": 1798, "user_id": 3715463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6194dc2c513eaf3f83798c4672d4da2c?s=128&d=identicon&r=PG", "display_name": "jonnybazookatone", "link": "https://stackoverflow.com/users/3715463/jonnybazookatone"}, "edited": false, "score": 0, "creation_date": 1512145361, "post_id": 47562040, "comment_id": 82152934, "body": "@jonnybazookatone <code>ScatterPlotter(self.TNotebook1_tabMP, rfr_scatter, y_test, rfr_predictions)</code> is my call. The notebook tab is <code>self.TNotebook1_tabMP = ttk.Frame(self.TNotebook1)</code> with the frame <code>self.TNotebook1 = ttk.Notebook(top)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 9015463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56754e78caeb77f878378b7991d62a52?s=128&d=identicon&r=PG&f=1", "display_name": "J. McConnor", "link": "https://stackoverflow.com/users/9015463/j-mcconnor"}, "is_accepted": true, "score": 0, "last_activity_date": 1512741996, "creation_date": 1512741996, "answer_id": 47715993, "question_id": 47562040, "link": "https://stackoverflow.com/questions/47562040/matplotlib-y-tick-labels-not-showing/47715993#47715993", "title": "Matplotlib y-tick labels not showing", "body": "<p>Changing <code>ax1.plot(line,line,clr_red,'--', label = \"Perfect\")</code> to <code>ax1.plot(line,line,'r--', label = \"Perfect\")</code> fixed the problem</p>\n"}], "owner": {"reputation": 75, "user_id": 9015463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56754e78caeb77f878378b7991d62a52?s=128&d=identicon&r=PG&f=1", "display_name": "J. McConnor", "link": "https://stackoverflow.com/users/9015463/j-mcconnor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2927, "favorite_count": 0, "accepted_answer_id": 47715993, "answer_count": 1, "score": 1, "last_activity_date": 1512741996, "creation_date": 1511990506, "last_edit_date": 1512055632, "question_id": 47562040, "link": "https://stackoverflow.com/questions/47562040/matplotlib-y-tick-labels-not-showing", "title": "Matplotlib y-tick labels not showing", "body": "<p>For some reason the y-tick and y-tick labels aren't showing up on my plot. The variable <code>data</code> is a pandas dataframe: <code>rfr_scatter = pd.DataFrame({'Actual':y_test, 'Model Predicted':rfr_predictions})</code></p>\n\n<pre><code>import matplotlib\nmatplotlib.use(\"TkAgg\")\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg, NavigationToolbar2TkAgg\nfrom matplotlib.figure import Figure\nimport matplotlib.animation as animation\nfrom matplotlib import style\nfrom matplotlib import pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport tkinter as tk\nfrom tkinter import *\n\ndef ScatterPlotter(notebooktab, data, test, pred):\n    f = Figure(figsize=(7,5), dpi=100)\n    ax1 = f.add_subplot(111, title=\"Model Performance\")\n\n    for item in ([ax1.title, ax1.xaxis.label, ax1.yaxis.label] +\n                 ax1.get_xticklabels() + ax1.get_yticklabels()):\n        item.set_fontsize(8)\n        item.set_color('black')\n\n    markersize = 0.8\n    alpha = 0.05\n\n    line = np.arange(min(test), min(test) + 35, 5)\n    data.plot.scatter(x='Actual', y='Model Predicted', ax=ax1, s=markersize, alpha=alpha)\n    ax1.set_xlim((min(test),max(test)))\n    ax1.set_ylim((pred.min(),pred.max()))\n    ax1.plot(line,line,clr_red,'--', label = \"Perfect\")\n\n    canvas = FigureCanvasTkAgg(f, notebooktab)\n    canvas.show()\n    canvas.get_tk_widget().pack() \n</code></pre>\n\n<p>And i get this:\n<a href=\"https://i.stack.imgur.com/ipjqk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ipjqk.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried setting the yticks to visible, with no luck. I'm probably missing something simple...</p>\n\n<p>EDIT: removing <code>ax1.set_ylim((pred.min(),pred.max()))</code> gives me a couple marks on the graph, it almost looks like the label is over the text, or the text isn't finishing rendering.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UFviD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UFviD.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "oracle"], "comments": [{"owner": {"reputation": 38137, "user_id": 5841306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwk1C.jpg?s=128&g=1", "display_name": "Barbaros &#214;zhan", "link": "https://stackoverflow.com/users/5841306/barbaros-%c3%96zhan"}, "edited": false, "score": 0, "creation_date": 1511994584, "post_id": 47562032, "comment_id": 82083700, "body": "in your <code>tnsnames.ora</code> file your <code>service_name</code> parameter may be long with dots such as <code>mydb.mycomp.com</code>, then replace <code>service</code> keyword with this long dotted description."}, {"owner": {"reputation": 1518, "user_id": 802500, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/54cb6e5f1e23129af9e91ea9b31eaace?s=128&d=identicon&r=PG", "display_name": "Justin Blank", "link": "https://stackoverflow.com/users/802500/justin-blank"}, "reply_to_user": {"reputation": 38137, "user_id": 5841306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwk1C.jpg?s=128&g=1", "display_name": "Barbaros &#214;zhan", "link": "https://stackoverflow.com/users/5841306/barbaros-%c3%96zhan"}, "edited": false, "score": 0, "creation_date": 1511996257, "post_id": 47562032, "comment_id": 82084381, "body": "Barbaros: I believe this is the format that&#39;s intended to work without a tnsnames.ora file. Am I wrong about that?"}, {"owner": {"reputation": 38137, "user_id": 5841306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwk1C.jpg?s=128&g=1", "display_name": "Barbaros &#214;zhan", "link": "https://stackoverflow.com/users/5841306/barbaros-%c3%96zhan"}, "edited": false, "score": 0, "creation_date": 1511997180, "post_id": 47562032, "comment_id": 82084712, "body": "no i didn&#39;t mean this full description, and from your edit, i saw that forget about my comment :) , since your service_name is named just <code>service</code>(not like <code>service.mycompany.com.us</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 1518, "user_id": 802500, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/54cb6e5f1e23129af9e91ea9b31eaace?s=128&d=identicon&r=PG", "display_name": "Justin Blank", "link": "https://stackoverflow.com/users/802500/justin-blank"}, "edited": false, "score": 0, "creation_date": 1511996301, "post_id": 47562984, "comment_id": 82084404, "body": "I&#39;ve updated to show where I tried your advice, as well as with the version of Oracle. The service I know is right, because I&#39;ve copied it from the configuration of a java process that can connect."}], "tags": [], "owner": {"reputation": 6003, "user_id": 4799035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuyZM.jpg?s=128&g=1", "display_name": "Christopher Jones", "link": "https://stackoverflow.com/users/4799035/christopher-jones"}, "is_accepted": true, "score": 2, "last_activity_date": 1511994898, "creation_date": 1511994898, "answer_id": 47562984, "question_id": 47562032, "link": "https://stackoverflow.com/questions/47562032/python-ora-12504-error-when-using-ezconnect-syntax/47562984#47562984", "title": "Python ORA-12504 error when using EZConnect syntax", "body": "<p>The hostname and port sections are OK: you're getting through to the Oracle Network listener.  Somehow you need to find the correct service name, perhaps by running <code>lsnrctl status</code> on the machine hosting the database, or executing <code>show parameter service_names</code> in SQL*Plus (as a privileged user).  If you have PDBS, query one of the PDB views.</p>\n\n<p>If your DB is very old, it may be using a SID, not a service name so you will have to construct the long connection string like <code>\"(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = 10.1.1.24)(PORT = 1521)) (CONNECT_DATA = (SID = whatever) ) )\"</code></p>\n"}], "owner": {"reputation": 1518, "user_id": 802500, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/54cb6e5f1e23129af9e91ea9b31eaace?s=128&d=identicon&r=PG", "display_name": "Justin Blank", "link": "https://stackoverflow.com/users/802500/justin-blank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 47562984, "answer_count": 1, "score": 0, "last_activity_date": 1512053064, "creation_date": 1511990483, "last_edit_date": 1512053064, "question_id": 47562032, "link": "https://stackoverflow.com/questions/47562032/python-ora-12504-error-when-using-ezconnect-syntax", "title": "Python ORA-12504 error when using EZConnect syntax", "body": "<p>I'm using the python Oracle driver and Easy Connection syntax, but receiving an error:</p>\n\n<pre><code>DatabaseError: ORA-12514: TNS:listener does not currently know of service requested in connect descriptor\n\nimport cx_Oracle as cx_Oracle\n\ndef query_route():\n    con = cx_Oracle.connect('user/pwd@10.1.1.24:1521/service')\n</code></pre>\n\n<p>The server is version <code>11.2.0.4.0</code>. </p>\n\n<p>Following Christopher Jones's answer below, I tried:</p>\n\n<pre><code>con = cx_Oracle(\"oracle+cx_oracle://user:pwd@(DESCRIPTION = (LOAD_BALANCE=on) (FAILOVER=ON) (ADDRESS = (PROTOCOL = TCP)(HOST = 10.1.1.24)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = service)))\")\n</code></pre>\n\n<p>which failed with the same error </p>\n\n<p>I found a link that <a href=\"https://laurentschneider.com/wordpress/2011/02/ezconnect-and-hostname-resolution-methods.html\" rel=\"nofollow noreferrer\">suggested I need the service name</a>, but I'm using the service after the slash. </p>\n\n<p>What am I doing wrong?</p>\n\n<p>Update: as Christoper Jones said, the problem was the service name, and my mistake was assuming I knew how that was determined. I had copied from a jdbc datasource:</p>\n\n<pre><code>jdbc:oracle:thin:@10.1.1.24:1521:foo\n</code></pre>\n\n<p>however, in the python code, I needed to use:</p>\n\n<pre><code>mgowner/mgowner@10.1.1.24/foo.mycompany.com\n</code></pre>\n"}, {"tags": ["python", "regex", "string"], "comments": [{"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1511990593, "post_id": 47562030, "comment_id": 82081850, "body": "Try <a href=\"https://regex101.com/r/LifXkR/1\" rel=\"nofollow noreferrer\"><code>re.sub(r&#39;\\\\n.*|[^\\w\\s]+&#39;, &#39;&#39;, s)</code></a>"}, {"owner": {"reputation": 33, "user_id": 9028006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2e74fc544e28f2bac9d99e4af6715c?s=128&d=identicon&r=PG&f=1", "display_name": "Fee Geek", "link": "https://stackoverflow.com/users/9028006/fee-geek"}, "reply_to_user": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1511991706, "post_id": 47562030, "comment_id": 82082350, "body": "I get the following error - <code>AttributeError: &#39;str&#39; object has no attribute &#39;groups&#39;</code> (Updated my code in the post)"}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1511991775, "post_id": 47562030, "comment_id": 82082391, "body": "There can&#39;t be any groups, it is a <code>re.sub</code>, it removes the matches."}], "answers": [{"tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 0, "last_activity_date": 1511992379, "creation_date": 1511992379, "answer_id": 47562475, "question_id": 47562030, "link": "https://stackoverflow.com/questions/47562030/cropping-out-a-portion-of-a-string-and-printing-using-regex/47562475#47562475", "title": "Cropping out a portion of a string and printing using regex", "body": "<p>I know many people like to twist their minds into knots with regex but why not,</p>\n\n<pre><code>with open('geek_lines.txt') as lines:\n    for line in lines:\n        print (line.rstrip().split(r'\\n')[0])\n</code></pre>\n\n<p>Simple to write, simple to read, seems to produce the correct result.</p>\n\n<pre><code>Books are on the table\nPens are in the bag\nCats are roaming around\nDogs are sitting\nPencils, erasers, ruler cannot be found\nLaptops, headphones are lost\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 9028006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2e74fc544e28f2bac9d99e4af6715c?s=128&d=identicon&r=PG&f=1", "display_name": "Fee Geek", "link": "https://stackoverflow.com/users/9028006/fee-geek"}, "edited": false, "score": 0, "creation_date": 1511993854, "post_id": 47562644, "comment_id": 82083367, "body": "I have a small additional query with which I am struggling with. If the data looked like <code>V0.00 - Books are on the table\\nPick them up</code> and each digit in <code>V0.00</code> range from 0-3. What modifications do I need to make to get the output <code>Books are on the table</code>? I was trying to search for <code>-</code> and remove the string before that. But it&#39;s not working"}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 33, "user_id": 9028006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2e74fc544e28f2bac9d99e4af6715c?s=128&d=identicon&r=PG&f=1", "display_name": "Fee Geek", "link": "https://stackoverflow.com/users/9028006/fee-geek"}, "edited": false, "score": 0, "creation_date": 1511993998, "post_id": 47562644, "comment_id": 82083446, "body": "Not sure I get this requirement. If you mean all text from the start of the line up to the first space-hyphen-space should be removed, use <a href=\"https://regex101.com/r/LifXkR/2\" rel=\"nofollow noreferrer\"><code>(?m)^.*? - |\\\\n.*|[^\\w\\s]+</code></a>"}], "tags": [], "owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1511993216, "creation_date": 1511993216, "answer_id": 47562644, "question_id": 47562030, "link": "https://stackoverflow.com/questions/47562030/cropping-out-a-portion-of-a-string-and-printing-using-regex/47562644#47562644", "title": "Cropping out a portion of a string and printing using regex", "body": "<p>You may match and <em>remove</em> the line parts starting with a combination of a backslash and <code>n</code>, or all punctuation (non-word and non-whitespace) chars using a <a href=\"https://docs.python.org/2/library/re.html#re.sub\" rel=\"nofollow noreferrer\"><code>re.sub</code></a>:</p>\n\n<pre><code>a = re.sub(r'\\\\n.*|[^\\w\\s]+', '', a)\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/LifXkR/1\" rel=\"nofollow noreferrer\">regex demo</a></p>\n\n<p><strong>Details</strong></p>\n\n<ul>\n<li><code>\\\\n.*</code> - a <code>\\</code>, <code>n</code>, and then the rest of the line</li>\n<li><code>|</code> - or</li>\n<li><code>[^\\w\\s]+</code> - 1 or more chars other than word and whitespace chars</li>\n</ul>\n\n<p>If you need to make sure there is an uppercase letter after <code>\\n</code>, you may add <code>[A-Z]</code> after <code>n</code> in the pattern.</p>\n"}], "owner": {"reputation": 33, "user_id": 9028006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2e74fc544e28f2bac9d99e4af6715c?s=128&d=identicon&r=PG&f=1", "display_name": "Fee Geek", "link": "https://stackoverflow.com/users/9028006/fee-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 47562644, "answer_count": 2, "score": 2, "last_activity_date": 1511993216, "creation_date": 1511990465, "question_id": 47562030, "link": "https://stackoverflow.com/questions/47562030/cropping-out-a-portion-of-a-string-and-printing-using-regex", "title": "Cropping out a portion of a string and printing using regex", "body": "<p>I am trying to crop a portion of a list of strings and print them. The data looks like the following -</p>\n\n<pre><code>Books are on the table\\nPick them up\nPens are in the bag\\nBring them\nCats are roaming around\nDogs are sitting\nPencils, erasers, ruler cannot be found\\nSearch them\nLaptops, headphones are lost\\nSearch for them\n</code></pre>\n\n<p>(This is just few lines from 100 lines of data in the file)</p>\n\n<p>I have to crop the string before the \\n in line 1,2,5,6 and print them. I have to also print line 3,4 along with them. Expected output -</p>\n\n<pre><code>Books are on the table\nPens are in the bag\nCats are roaming around\nDogs are sitting\nPencils erasers ruler cannot be found\nLaptops headphones are lost\n</code></pre>\n\n<p>What I have tried so far -</p>\n\n<p>First I replace the <code>comma</code> with a <code>space</code> - <code>a = name.replace(',',' ');</code></p>\n\n<p>Then I use regex to crop out the substring. My regex expression is - <code>b = r'.*-\\s([\\w\\s]+)\\\\n'</code>. I am unable to print line 3 and 4 in which <code>\\n</code> is not present.</p>\n\n<p>The output that I am receiving now is -</p>\n\n<pre><code>Books are on the table\nPens are in the bag\nPencils erasers ruler cannot be found\nLaptops headphones are lost\n</code></pre>\n\n<p>What should I add to my expression to print out lines 3 and 4 as well?</p>\n\n<p>TIA</p>\n"}, {"tags": ["python", "aws-lambda", "pulp"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 2677445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec62804b640c9fbab96d3289f1e083e?s=128&d=identicon&r=PG&f=1", "display_name": "Flexecute", "link": "https://stackoverflow.com/users/2677445/flexecute"}, "is_accepted": false, "score": 2, "last_activity_date": 1512045558, "creation_date": 1512045558, "answer_id": 47573741, "question_id": 47562012, "link": "https://stackoverflow.com/questions/47562012/unable-to-access-python-pulp-solver-on-aws-lambda-instance/47573741#47573741", "title": "Unable to access Python Pulp solver on AWS Lambda instance", "body": "<p>I finally worked it out, it was a permissions problem on the solver (cbc). It may be related to the zipping process, I haven't got to the bottom of that yet, however I was able to get around the problem by copying the solver file (cbc) into /var/tmp (to allow access), then changing the permissions to be executable. The python code I used to do this is shown below:</p>\n\n<pre><code># Copy solver to tmp\ncopyfile('pulp/solverdir/cbc/linux/64/cbc', '/tmp/cbc')\n# Change permissions to executable\nmode = os.stat('/tmp/cbc').st_mode\nmode |= (mode &amp; 0o444) &gt;&gt; 2    # copy R bits to X\nos.chmod('/tmp/cbc', mode)   \n# Solve using the newly located cbc solver\nprob.solve(COIN_CMD(path=\"/tmp/cbc\"))\n</code></pre>\n"}], "owner": {"reputation": 46, "user_id": 2677445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec62804b640c9fbab96d3289f1e083e?s=128&d=identicon&r=PG&f=1", "display_name": "Flexecute", "link": "https://stackoverflow.com/users/2677445/flexecute"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512045558, "creation_date": 1511990375, "question_id": 47562012, "link": "https://stackoverflow.com/questions/47562012/unable-to-access-python-pulp-solver-on-aws-lambda-instance", "title": "Unable to access Python Pulp solver on AWS Lambda instance", "body": "<p>I'm trying to run an optimisation on AWS Lambda using Pulp in Python. I have packaged pulp (zipping the contents not the directory) along with my lambda_function and uploaded the zip. The error I'm stuck on is:</p>\n\n<pre><code>File \"/var/task/pulp/pulp.py\", line 1664, in solve\nstatus = solver.actualSolve(self, **kwargs)\nAttributeError: 'NoneType' object has no attribute 'actualSolve'\n</code></pre>\n\n<p>I've tried the fixes here:\n<a href=\"https://stackoverflow.com/questions/45431487/importing-python-module-pulp-on-amazon-aws-lambda\">Importing Python Module &quot;Pulp&quot; on Amazon AWS Lambda</a> in particular trying to specify the solver directly, and placing the solver (cbc) into the parent directory of the script to no avail. When I do try to specify the solver directly I get a different error:</p>\n\n<pre><code>Pulp: cannot execute cbc cwd: /var/task: PulpSolverError\nTraceback (most recent call last):\nFile \"/var/task/lambda_function.py\", line 14, in lambda_handler\nresult = ip_optimise(recipes, settings)\nFile \"/var/task/ip_optimise.py\", line 102, in ip_optimise\nprob.solve(COIN_CMD())\n</code></pre>\n\n<p>I've also tried putting in the path directly, eg:\n<code>prob.solve(COIN_CMD(\"/var/task/cbc\"))</code>\nwith the same error (cannot execute)</p>\n"}, {"tags": ["python", "for-loop", "text-files"], "comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1511990408, "post_id": 47561961, "comment_id": 82081759, "body": "can you please indent your code?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1511990551, "post_id": 47561961, "comment_id": 82081828, "body": "Sounds like you have an empty line somewhere in your file."}, {"owner": {"reputation": 15409, "user_id": 2877364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a101160e41fd7fd75f5fc701f8acb1c?s=128&d=identicon&r=PG", "display_name": "cxw", "link": "https://stackoverflow.com/users/2877364/cxw"}, "edited": false, "score": 0, "creation_date": 1511990558, "post_id": 47561961, "comment_id": 82081832, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/21254645/python-split-function-too-many-values-to-unpack-error\">Python split function. Too many values to unpack error</a>"}, {"owner": {"reputation": 9546, "user_id": 58866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6OsC0.jpg?s=128&g=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/58866/imran"}, "edited": false, "score": 1, "creation_date": 1511990565, "post_id": 47561961, "comment_id": 82081835, "body": "Your code runs fine for me when I use those three lines you provided. Most likely you have a blank line somewhere in your text file. Try printing a loop index along with data to track what line you are on before you get the error."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5672771, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/32cadbc970fdbf376039172f32427266?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald bergurman 3rd", "link": "https://stackoverflow.com/users/5672771/ronald-bergurman-3rd"}, "edited": false, "score": 0, "creation_date": 1511990816, "post_id": 47562070, "comment_id": 82081952, "body": "yep, I had an empty line. Never would have checked, thanks."}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 3, "last_activity_date": 1511990888, "last_edit_date": 1511990888, "creation_date": 1511990653, "answer_id": 47562070, "question_id": 47561961, "link": "https://stackoverflow.com/questions/47561961/valueerror-not-enough-values-to-unpack-expected-2-got-1-but-i-provide-2-valu/47562070#47562070", "title": "ValueError: not enough values to unpack (expected 2, got 1) BUT i provide 2 values", "body": "<p>You may have blank lines, you can make it work just add one condition checking:</p>\n\n<p><code>if data</code> would be false if you apply strip() on a blank line. you can check whether comma in the stripped line </p>\n\n<pre><code> for x in a_file.readlines():\n     data=x.strip()\n     if data and \",\" in data:  \n         school,score=data.split(\",\")\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5672771, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/32cadbc970fdbf376039172f32427266?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald bergurman 3rd", "link": "https://stackoverflow.com/users/5672771/ronald-bergurman-3rd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1268, "favorite_count": 0, "accepted_answer_id": 47562070, "answer_count": 1, "score": 1, "last_activity_date": 1511990888, "creation_date": 1511990180, "last_edit_date": 1511990451, "question_id": 47561961, "link": "https://stackoverflow.com/questions/47561961/valueerror-not-enough-values-to-unpack-expected-2-got-1-but-i-provide-2-valu", "title": "ValueError: not enough values to unpack (expected 2, got 1) BUT i provide 2 values", "body": "<p>Im working on this code that simply adds new data into a text file, and i had it working but then i ran it once more and it produced the errer \"ValueError: not enough values to unpack (expected 2, got 1)\". I know what this error means its just that i seem to provide two values? i must be missing something thats wrong?</p>\n\n<p>The code where it produces an error:</p>\n\n<pre><code>schoolnames=[]\nscores=[]\nwith open(\"Cdrive.txt\",\"r\")as a_file:\n     for x in a_file.readlines():\n         data=x.strip()   #Im aware i could just use data, but i use X to try fix the error, of course this didnt work \n         print(data)\n         school,score=data.split(\",\") #The error is produced here\n         schoolnames.append(school)\n         scores.append(score)\n</code></pre>\n\n<p>My text file looks like this (there are no lines between each bit of data in the text file):</p>\n\n<p>sjp,15</p>\n\n<p>chelmer,10</p>\n\n<p>newhall,20</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 8890, "user_id": 4349415, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ta4zl.png?s=128&g=1", "display_name": "Mike Scotty", "link": "https://stackoverflow.com/users/4349415/mike-scotty"}, "edited": false, "score": 1, "creation_date": 1511990015, "post_id": 47561883, "comment_id": 82081577, "body": "You should use a <code>dict</code> instead, it will make your live so much easier, than trying to build &quot;dynamic&quot; variables."}, {"owner": {"reputation": 2779, "user_id": 957130, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/05be4f754d3836ad621740c90ee10bfb?s=128&d=identicon&r=PG", "display_name": "Marcin Pietraszek", "link": "https://stackoverflow.com/users/957130/marcin-pietraszek"}, "edited": false, "score": 0, "creation_date": 1511990236, "post_id": 47561883, "comment_id": 82081684, "body": "Actually I&#39;d group it differently: something1 = (1000, 500, 5000), something2 = (2000, 400, 4000), something3 = (3000, 600, 6000) and iterate over [something1, something2, something3]..."}, {"owner": {"reputation": 1, "user_id": 8233173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kAGMxwvGzpg/AAAAAAAAAAI/AAAAAAAA7wg/nd6z5z5N-vc/photo.jpg?sz=128", "display_name": "Jim Wicklund", "link": "https://stackoverflow.com/users/8233173/jim-wicklund"}, "edited": false, "score": 0, "creation_date": 1512137449, "post_id": 47561883, "comment_id": 82147756, "body": "Thanks for the comments and links. I was trying to iterate over non-iterables. Making all of my variables and properties into lists or dicts was key."}], "owner": {"reputation": 1, "user_id": 8233173, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kAGMxwvGzpg/AAAAAAAAAAI/AAAAAAAA7wg/nd6z5z5N-vc/photo.jpg?sz=128", "display_name": "Jim Wicklund", "link": "https://stackoverflow.com/users/8233173/jim-wicklund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 1, "closed_date": 1511989941, "answer_count": 0, "score": 0, "last_activity_date": 1511989873, "creation_date": 1511989873, "question_id": 47561883, "link": "https://stackoverflow.com/questions/47561883/how-to-use-an-iterator-as-part-of-a-statement", "closed_reason": "Duplicate", "title": "How to use an iterator as part of a statement", "body": "<p>Not sure of the correct terminology for this so I'll give an example...</p>\n\n<pre><code>Light1 = 1000\nLight2 = 2000\nLight3 = 3000\nmin1 = 500\nmax1 = 5000\nmin2 = 400\nmax2 = 4000\nmin3 = 600\nmax3 = 6000\n\nfor x in range(3):\n    lt'x+1' = (Light'x+1'-min'x+1')/(max'x+1'-min'x+1')\n</code></pre>\n\n<p>I'm trying to get the value of the 'x+1' part to become part of the statement so I don't have to manually type out each assignment. This has to be possible right?</p>\n\n<p>I'm trying to get lt1, lt2 and lt3 get assigned automatically using the for loop.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 3, "last_activity_date": 1511989916, "creation_date": 1511989916, "answer_id": 47561893, "question_id": 47561843, "link": "https://stackoverflow.com/questions/47561843/python-pandas-sort-columns-after-merge/47561893#47561893", "title": "python pandas sort columns after merge", "body": "<p>Use <code>.sort_index(axis=1)</code>:</p>\n\n<pre><code>result = df1.merge(df2, how='outer').sort_index(axis=1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1511991187, "post_id": 47561955, "comment_id": 82082117, "body": "oh! i got it now, you want to apply it <b>after</b> it&#39;s been merged (in a second step), then it&#39;ll work +1"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1511991307, "post_id": 47561955, "comment_id": 82082175, "body": "@MaxU Yep, and the .tolist() was not necessary so I removed that. I also made it clear that you do it after."}], "tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 1, "last_activity_date": 1511991258, "last_edit_date": 1511991258, "creation_date": 1511990151, "answer_id": 47561955, "question_id": 47561843, "link": "https://stackoverflow.com/questions/47561843/python-pandas-sort-columns-after-merge/47561955#47561955", "title": "python pandas sort columns after merge", "body": "<p>Although MaxU answer might be the right one here, you can always use the following <strong>after</strong> the merge:</p>\n\n<pre><code>df[sorted(df.columns)]\n</code></pre>\n\n<p>The reason for this is if you want to use another key (with lambda):</p>\n\n<pre><code>df[sorted(df.columns,key=lambda x: x[1:])]\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>import pandas as pd\n\ncols = 'A,B,C,D,A_x,B_x,C_x,D_x'.split(',')\n\ndf = pd.DataFrame(columns=cols)\ndf.loc[0] = list(range(len(cols)))\ndf[sorted(df.columns)]\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>   A A_x  B B_x  C C_x  D D_x\n0  0   4  1   5  2   6  3   7\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 7476301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176aae579a552f7c136aa0c1c2c31a25?s=128&d=identicon&r=PG&f=1", "display_name": "sanhitamj", "link": "https://stackoverflow.com/users/7476301/sanhitamj"}, "is_accepted": false, "score": 0, "last_activity_date": 1511990283, "creation_date": 1511990283, "answer_id": 47561984, "question_id": 47561843, "link": "https://stackoverflow.com/questions/47561843/python-pandas-sort-columns-after-merge/47561984#47561984", "title": "python pandas sort columns after merge", "body": "<p>Another, possibly generic, solution to reorder columns can be -</p>\n\n<pre><code>cols_order = ['A', 'A_x' , 'B' , 'B_x', 'C' , 'C_x', 'D', 'D_x'] \nmerge = merge[cols_order]\n</code></pre>\n\n<p>This will simply rewrite the dataframe with the order of columns according to the order in the list, cols_order.</p>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1511990886, "creation_date": 1511990886, "answer_id": 47562129, "question_id": 47561843, "link": "https://stackoverflow.com/questions/47561843/python-pandas-sort-columns-after-merge/47562129#47562129", "title": "python pandas sort columns after merge", "body": "<pre><code># Create initial random data.\nnp.random.seed(0)\ndf1 = pd.DataFrame(np.random.randn(5, 3), columns=list('ABx'))\ndf2 = pd.DataFrame(np.random.randn(5, 3), columns=list('ABy'))\ndf = df1.merge(df2, how='outer', suffixes=['', '_x'], left_index=True, right_index=True)\n\n\ncol_order = []\ncommon_columns = df1.columns &amp; df2.columns\nfor c in common_columns:\n    col_order.append(c)\n    col_order.append(c + '_x')\n# Add non-common columns to right side of dataframe.\ncol_order.extend([c for c in df if c not in common_columns and not c.endswith('_x')])\n&gt;&gt;&gt; df[col_order]\n          A       A_x         B       B_x         x         y\n0  1.764052  0.333674  0.400157  1.494079  0.978738 -0.205158\n1  2.240893  0.313068  1.867558 -0.854096 -0.977278 -2.552990\n2  0.950088  0.653619 -0.151357  0.864436 -0.103219 -0.742165\n3  0.410599  2.269755  0.144044 -1.454366  1.454274  0.045759\n4  0.761038 -0.187184  0.121675  1.532779  0.443863  1.469359\n</code></pre>\n"}], "owner": {"reputation": 1366, "user_id": 907939, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2401e26208090098accc7fd5e3227db5?s=128&d=identicon&r=PG", "display_name": "twinturbotom", "link": "https://stackoverflow.com/users/907939/twinturbotom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1883, "favorite_count": 0, "accepted_answer_id": 47561893, "answer_count": 4, "score": 1, "last_activity_date": 1511991258, "creation_date": 1511989746, "question_id": 47561843, "link": "https://stackoverflow.com/questions/47561843/python-pandas-sort-columns-after-merge", "title": "python pandas sort columns after merge", "body": "<p>I have merged two pandas dataframes with multiple overlapping columns.  I would like to put the overlapping columns side by side.</p>\n\n<pre><code>merge = df1.merge(df2, how='outer')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>A,B,C,D,A_x,B_x,C_x,D_x\n</code></pre>\n\n<p>I would like the output to be:</p>\n\n<pre><code>A,A_x,B,B_x,C,C_x,D,D_x\n</code></pre>\n\n<p>I can do this explicitly but I have many columns and would like a 'dynamic' solution.</p>\n"}, {"tags": ["python", "file", "object", "decorator"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 9, "creation_date": 1511989777, "post_id": 47561840, "comment_id": 82081442, "body": "If you are new to Python, <b>just stick to the conventions</b> and keep all methods for a class in the same file."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 3, "creation_date": 1511989860, "post_id": 47561840, "comment_id": 82081494, "body": "If you must group your methods into separate modules, use inheritance; create a base class in one module, import it and subclass it in the other."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7729352"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1511989880, "post_id": 47561840, "comment_id": 82081502, "body": "@MartijnPieters I know I could do that, but none of the functions within the class are finalized, so I find myself scrolling a lot to find the appropriate one, which takes more time than I&#39;d like simply because there&#39;s so many."}, {"owner": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "edited": false, "score": 1, "creation_date": 1511991117, "post_id": 47561840, "comment_id": 82082086, "body": "That&#39;s not a problem to be solved by changing the code; that&#39;s a problem to be solved by using <a href=\"https://wiki.python.org/moin/IntegratedDevelopmentEnvironments\" rel=\"nofollow noreferrer\">an IDE</a> which allows you to jump to the location of a function. (Or use your text editor&#39;s &quot;find&quot; functionality.)"}, {"owner": {"reputation": 5742, "user_id": 1904584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GlhYH.jpg?s=128&g=1", "display_name": "trinchet", "link": "https://stackoverflow.com/users/1904584/trinchet"}, "edited": false, "score": 1, "creation_date": 1511991206, "post_id": 47561840, "comment_id": 82082124, "body": "If a file is not enough for all the methods, then likely you have a problem with the design. The class is too <code>heavy</code> and probably splitting it into two or three classes (and files) is the solution."}, {"owner": {"reputation": 19398, "user_id": 775345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/c6jtG.jpg?s=128&g=1", "display_name": "Robert Moskal", "link": "https://stackoverflow.com/users/775345/robert-moskal"}, "edited": false, "score": 0, "creation_date": 1566240327, "post_id": 47561840, "comment_id": 101586384, "body": "Ya, you have to ask your self why you have a class with so may big methofs."}, {"owner": {"reputation": 553, "user_id": 194305, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1bea25433dd75445237bc5c42a225287?s=128&d=identicon&r=PG", "display_name": "zzz777", "link": "https://stackoverflow.com/users/194305/zzz777"}, "edited": false, "score": 0, "creation_date": 1602691923, "post_id": 47561840, "comment_id": 113802802, "body": "I split a big class into core class and library module that takes class as argument. It works it is approved pattern, but it does no look very natural at the call points, I would rather have a big file. How bad is 2k lines in one .py file? It is easy to break this limit with explicit module names, type annotations and low limit on line length."}], "answers": [{"comments": [{"owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 0, "creation_date": 1511992477, "post_id": 47562412, "comment_id": 82082755, "body": "Are the private imports occur in <code>__init__</code> or outside of it? (Hint: check your indentation...)"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 1, "creation_date": 1511992523, "post_id": 47562412, "comment_id": 82082778, "body": "@cowbert Outside, see tabbing. I&#39;ll add some example code to make it clear. You only need it to compile once with the class, not every object."}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 2, "creation_date": 1511992956, "post_id": 47562412, "comment_id": 82082995, "body": "I&#39;d like to add as a general comment that sometimes it doesn&#39;t make sense to split a class into sub-classes, and refactoring long class code is something you may run into even in Python."}, {"owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 1, "creation_date": 1511995482, "post_id": 47562412, "comment_id": 82084062, "body": "Splitting a &quot;class&quot; into multiple files is also common ECMAScript pattern (using the <code>var PseudoClass = PseudoClass || {}</code> idiom), so if you are doing some fullstack development with Python middleware, it might make sense to split a Python class for various reasons."}, {"owner": {"reputation": 3258, "user_id": 1085848, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/86a0ff3564f750b3ed49cfc8b57f1275?s=128&d=identicon&r=PG", "display_name": "TomSawyer", "link": "https://stackoverflow.com/users/1085848/tomsawyer"}, "edited": false, "score": 0, "creation_date": 1555096319, "post_id": 47562412, "comment_id": 98004765, "body": "using import in middle of the file is bad practice"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 3258, "user_id": 1085848, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/86a0ff3564f750b3ed49cfc8b57f1275?s=128&d=identicon&r=PG", "display_name": "TomSawyer", "link": "https://stackoverflow.com/users/1085848/tomsawyer"}, "edited": false, "score": 0, "creation_date": 1555096483, "post_id": 47562412, "comment_id": 98004836, "body": "@TomSawyer Is that so? I never heard or had reason to believe what I did here is problematic. Can you explain what are the consequences?"}, {"owner": {"reputation": 3258, "user_id": 1085848, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/86a0ff3564f750b3ed49cfc8b57f1275?s=128&d=identicon&r=PG", "display_name": "TomSawyer", "link": "https://stackoverflow.com/users/1085848/tomsawyer"}, "edited": false, "score": 0, "creation_date": 1555123285, "post_id": 47562412, "comment_id": 98011034, "body": "@kabanus <a href=\"https://stackoverflow.com/questions/1188640/good-or-bad-practice-in-python-import-in-the-middle-of-a-file\" title=\"good or bad practice in python import in the middle of a file\">stackoverflow.com/questions/1188640/&hellip;</a>"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 3258, "user_id": 1085848, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/86a0ff3564f750b3ed49cfc8b57f1275?s=128&d=identicon&r=PG", "display_name": "TomSawyer", "link": "https://stackoverflow.com/users/1085848/tomsawyer"}, "edited": false, "score": 0, "creation_date": 1555145792, "post_id": 47562412, "comment_id": 98014709, "body": "@TomSawyer Thanks, I am familiar with the guidelines and the question, I thought you had something else in mind. My only 2 counterpoints are: 1. I usually put all in-class imports below init, which is not really &quot;middle&quot;, and you could put them before - which would be top. This happens often when there is an initial non-import line, such as conditional imports. Matter of preference and strictness I suppose. 2. This use-case is unique. The imports are not of some library, but of the defined class itself and by definition should be scoped. I have my own rule of thumb - it&#39;s good practice -"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1555145872, "post_id": 47562412, "comment_id": 98014723, "body": "- to consider applying guidelines on a case by case basis. This is of course, completely a matter of opinion. You are welcome to add your alternative solution, it would be good to have as many different useful answers as possible."}, {"owner": {"reputation": 682, "user_id": 8045346, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10210035814989798/picture?type=large", "display_name": "Tian", "link": "https://stackoverflow.com/users/8045346/tian"}, "edited": false, "score": 0, "creation_date": 1570601890, "post_id": 47562412, "comment_id": 102958870, "body": "Is there a way to put the __init__() in separate script just like the methods? I am keen to &#39;plug and play&#39; different initializations while maintaining everything else"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 682, "user_id": 8045346, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10210035814989798/picture?type=large", "display_name": "Tian", "link": "https://stackoverflow.com/users/8045346/tian"}, "edited": false, "score": 1, "creation_date": 1570609784, "post_id": 47562412, "comment_id": 102962740, "body": "@Tian Yup, same as any method. Make a file, and import it from there (<code>from .init1 import __init__</code>, where init1.py contains <code>def __init__(self...):...</code>) etc. Next time I syggest trying out these things yourself (probably faster)."}, {"owner": {"reputation": 2554, "user_id": 3424423, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f3d10a1c60893734d32d1c16a249163e?s=128&d=identicon&r=PG&f=1", "display_name": "Nearoo", "link": "https://stackoverflow.com/users/3424423/nearoo"}, "edited": false, "score": 0, "creation_date": 1582270818, "post_id": 47562412, "comment_id": 106726557, "body": "A way to create static methods is by calling <code>plot = staticmethod(plot)</code> after the import. You could also automate this process by writing a metaclass..."}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 2554, "user_id": 3424423, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f3d10a1c60893734d32d1c16a249163e?s=128&d=identicon&r=PG&f=1", "display_name": "Nearoo", "link": "https://stackoverflow.com/users/3424423/nearoo"}, "edited": false, "score": 0, "creation_date": 1582284081, "post_id": 47562412, "comment_id": 106733027, "body": "@Nearoo Thanks, I added that."}, {"owner": {"reputation": 1490, "user_id": 2402577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fn7Ch.png?s=128&g=1", "display_name": "alper", "link": "https://stackoverflow.com/users/2402577/alper"}, "edited": false, "score": 0, "creation_date": 1588677164, "post_id": 47562412, "comment_id": 108983919, "body": "This may create <code>circular (or cyclic) imports</code> issue if there is <code>if name == __main__ </code> on the imported modue which tests itself"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 1490, "user_id": 2402577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fn7Ch.png?s=128&g=1", "display_name": "alper", "link": "https://stackoverflow.com/users/2402577/alper"}, "edited": false, "score": 0, "creation_date": 1588677851, "post_id": 47562412, "comment_id": 108984243, "body": "@alper I&#39;m not sure I understand what you say. Which module tests for <code>__name__ == __main__</code> (I&#39;m guessing you had a typo?)? The modules imported into the class are by the way I defined above not supposed to be imported standalone, as they are an integral part of the class. That would be like importing methods from a class without a class. As such they really shouldn&#39;t have that <code>if</code> line at all. Regardless, it is also not clear to me how that <code>if</code> statement can create a circular import?"}, {"owner": {"reputation": 1490, "user_id": 2402577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fn7Ch.png?s=128&g=1", "display_name": "alper", "link": "https://stackoverflow.com/users/2402577/alper"}, "edited": false, "score": 0, "creation_date": 1588678289, "post_id": 47562412, "comment_id": 108984467, "body": "For example in <code>_plotstuff.py</code> file, lets say I write following for testing: <code>f = Fitter(); f.plot()           #Imported method</code> under a <code>if __name__ == &quot;__main__&quot;:</code>. When I add <code>from mymodule import Fitter</code> to top of the file <code>circular import</code> error shows up. So I had to carry <code>from mymodule import Fitter</code>into the <code>if __name__ == __main__:</code>"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 1490, "user_id": 2402577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fn7Ch.png?s=128&g=1", "display_name": "alper", "link": "https://stackoverflow.com/users/2402577/alper"}, "edited": false, "score": 0, "creation_date": 1588678700, "post_id": 47562412, "comment_id": 108984685, "body": "@alper I see - that would be a complete anti-pattern to this. <code>_plotstuff</code> cannot import <code>Fitter</code> by definition. In fact, it should never (the way this design is imagined) be invoked directly. That is like a method in your class trying to import your parsed class into an inner method (pre-parsing), after trying to invoke it without parsing the class - which does not make sense to me. To me it seems the circularity is made by hand here  - a bad design which causes this is not related specifically to whether we are splitting a class or just have two modules which have a circular dependence."}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 1490, "user_id": 2402577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fn7Ch.png?s=128&g=1", "display_name": "alper", "link": "https://stackoverflow.com/users/2402577/alper"}, "edited": false, "score": 0, "creation_date": 1588678829, "post_id": 47562412, "comment_id": 108984763, "body": "@alper The only place I can imagine something remotely close needed is if you have in a method in <code>_plotstuff</code> something like <code>Fitter.method(...)</code>. I think that is the only thing that is truly missing compared to a one-file class, but of course, you can always use <code>self</code> instead, which my opinion is better design (though up for debate I guess)."}, {"owner": {"reputation": 1490, "user_id": 2402577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fn7Ch.png?s=128&g=1", "display_name": "alper", "link": "https://stackoverflow.com/users/2402577/alper"}, "edited": false, "score": 0, "creation_date": 1588679147, "post_id": 47562412, "comment_id": 108984918, "body": "I was converting my code into your explained pattern but like all the files like <code>_plotstuff.py</code> have their <code>if __name__ == __main__: </code> to test themselfs. Basically when I call the <code>_plotstuff.py</code> it was testing <code>plot()</code> function. Along with this design I will carry my testing into completely different file, which would be a better design i guess"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 1490, "user_id": 2402577, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fn7Ch.png?s=128&g=1", "display_name": "alper", "link": "https://stackoverflow.com/users/2402577/alper"}, "edited": false, "score": 1, "creation_date": 1588679281, "post_id": 47562412, "comment_id": 108984996, "body": "@alper I&#39;m afraid that won&#39;t work for the above reasons. You have to test the class as a whole, and as such test <code>plot</code> only as part of a complete object, just like you would any class. I think your conclusion is correct - testing should be separated or at least only exist in the <code>__init__</code> file, where the class is actually made. That would fit better with the whole concept"}, {"owner": {"reputation": 436, "user_id": 1783988, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kRAbe.jpg?s=128&g=1", "display_name": "tevang", "link": "https://stackoverflow.com/users/1783988/tevang"}, "edited": false, "score": 0, "creation_date": 1593947004, "post_id": 47562412, "comment_id": 110948821, "body": "Is there a way to import necessary third-party modules only inside the top-level file (<b>init</b>.py) and not inside every single file of this class (_plotstuff.py, _fitstuff.py, _datastuff.py) ? I have many repetitive imports."}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 436, "user_id": 1783988, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kRAbe.jpg?s=128&g=1", "display_name": "tevang", "link": "https://stackoverflow.com/users/1783988/tevang"}, "edited": false, "score": 0, "creation_date": 1593951760, "post_id": 47562412, "comment_id": 110950106, "body": "@tevang If you have a dependency that is relevant to every implementation file (as in you call it from there), you will have to import it there. That is the dependency structure, the implementations do not see the <code>__init__</code> file at all. This also conforms to how Python works. Perhaps if you have a specific use-case it has a better solution? What do you need to import everywhere?"}, {"owner": {"reputation": 436, "user_id": 1783988, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kRAbe.jpg?s=128&g=1", "display_name": "tevang", "link": "https://stackoverflow.com/users/1783988/tevang"}, "edited": false, "score": 0, "creation_date": 1593952130, "post_id": 47562412, "comment_id": 110950210, "body": "@kabanus in the simplest scenario &quot;import copy&quot;, it the most complicated other necessary functions from my code. When you have all functions within a class placed within a single file, you import the modules only once at the top of the file. However, when you split the functions into separate files you have to import the same modules in every file individually, is this right?"}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 436, "user_id": 1783988, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kRAbe.jpg?s=128&g=1", "display_name": "tevang", "link": "https://stackoverflow.com/users/1783988/tevang"}, "edited": false, "score": 0, "creation_date": 1593953448, "post_id": 47562412, "comment_id": 110950592, "body": "@tevang That&#39;s still to general. The short answer to your question is yes, you must import individually. What I meant is it sometimes it makes sense to save these methods withing the object itself. For example, If you are <code>deepcopy</code>ing fields a lot, then it might make sense for the fields to have their own copy method. <code>numpy</code> arrays for example have their own copy methods (or function arguments). Another option is for the object itself to have a copy method (so you can use <code>self.my_copy(...)</code>, but again, this is very dependent on your exact use case whether this makes sense."}, {"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "reply_to_user": {"reputation": 436, "user_id": 1783988, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/kRAbe.jpg?s=128&g=1", "display_name": "tevang", "link": "https://stackoverflow.com/users/1783988/tevang"}, "edited": false, "score": 0, "creation_date": 1593953524, "post_id": 47562412, "comment_id": 110950621, "body": "@tevang This is too much for comments though, if you want you can post a question with specific examples of which libraries you need everywhere, so it will be clear if there are better solutions (within the split class framework) to your specific example."}, {"owner": {"reputation": 451, "user_id": 1749240, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/babd74dc36d20bcd78d1433c54a66c07?s=128&d=identicon&r=PG", "display_name": "Amir Katz", "link": "https://stackoverflow.com/users/1749240/amir-katz"}, "edited": false, "score": 0, "creation_date": 1600854822, "post_id": 47562412, "comment_id": 113217315, "body": "There is an error in the exampe: when calling Fitter.__init__ it expects a parameter"}, {"owner": {"reputation": 419, "user_id": 9681577, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4SxwpK4A_5M/AAAAAAAAAAI/AAAAAAAAAlc/azXjayboIJ0/photo.jpg?sz=128", "display_name": "olyk", "link": "https://stackoverflow.com/users/9681577/olyk"}, "edited": false, "score": 1, "creation_date": 1603409121, "post_id": 47562412, "comment_id": 114036648, "body": "Excellent work! Here lies the difference between responsible choices and bureaucracy. (The otherwise suggested) subclassing is intended to show inheritance, not as a workaround to group parts of the same entity. Sometimes even mixins don&#39;t fit well for this."}, {"owner": {"reputation": 419, "user_id": 9681577, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4SxwpK4A_5M/AAAAAAAAAAI/AAAAAAAAAlc/azXjayboIJ0/photo.jpg?sz=128", "display_name": "olyk", "link": "https://stackoverflow.com/users/9681577/olyk"}, "edited": false, "score": 1, "creation_date": 1603409552, "post_id": 47562412, "comment_id": 114036723, "body": "Additionally, if the tools (linter, IDE etc.) complain or cannot handle our sensible choices, the problem is with the tools. Software architecture should be served by the tools not the opposite. BTW, the Python built-in libs themselves are plenty of examples of better choices, including name convention, than that <i>recommended</i> by PEP8 (which is intended for the language development, not as a sacred book for everything else)."}, {"owner": {"reputation": 419, "user_id": 9681577, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4SxwpK4A_5M/AAAAAAAAAAI/AAAAAAAAAlc/azXjayboIJ0/photo.jpg?sz=128", "display_name": "olyk", "link": "https://stackoverflow.com/users/9681577/olyk"}, "edited": false, "score": 1, "creation_date": 1603409878, "post_id": 47562412, "comment_id": 114036776, "body": "No PEPper could predict all scenarios/hardware/software advances (very far from that, they were mostly worried with the language development itself), and no rule is perfect, and they knew that, as it is clearly stated as guidelines."}], "tags": [], "owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "is_accepted": false, "score": 92, "last_activity_date": 1582312621, "last_edit_date": 1582312621, "creation_date": 1511992110, "answer_id": 47562412, "question_id": 47561840, "link": "https://stackoverflow.com/questions/47561840/python-how-can-i-separate-functions-of-class-into-multiple-files/47562412#47562412", "title": "Python: How can I separate functions of class into multiple files?", "body": "<p>I'm actually surprised this isn't a duplicate. I saw some similar questions and I think there is nowhere a concise answer, so here is how I do it:</p>\n\n<ol>\n<li>Class (or group of) is actually a full module. You don't have to do it this way, but if you're splitting a class on multiple files I think this is 'cleanest' (opinion).</li>\n<li>The definition is in <code>__init__.py</code>, methods are split into files by a meaningful grouping.</li>\n<li>A method file is just a regular python file with functions, except you can't forget 'self' as a first argument. You can have auxiliary methods here, both taking <code>self</code> and not. </li>\n<li>Methods are imported directly into the class definition.</li>\n</ol>\n\n<p>Suppose my class is some fitting gui (this is actually what I did this for first time). So my file hierarchy may look something like</p>\n\n<pre><code>mymodule/\n     __init__.py\n     _plotstuff.py\n     _fitstuff.py\n     _datastuff.py\n</code></pre>\n\n<p>So plot stuff will have plotting methods, fit stuff contains fitting methods, and data stuff contains methods for loading and handling of data - you get the point. By convention I mark the files with a <code>_</code> to indicate these really aren't meant to be imported directly anywhere outside the module. So <code>_plotsuff.py</code> for example may look like:</p>\n\n<pre><code>def plot(self,x,y):\n     #body\ndef clear(self):\n     #body\n</code></pre>\n\n<p>etc. Now the important thing is <code>__init__.py</code>:</p>\n\n<pre><code>class Fitter(object):\n     def __init__(self,whatever):\n         self.field1 = 0\n         self.field2 = whatever\n\n     #Imported methods\n     from ._plotstuff import plot, clear\n     from ._fitstuff  import fit\n     from ._datastuff import load\n     from ._static_example import something\n\n     #Some more small functions\n     def printHi(self):\n         print(\"Hello world\")\n\n     #static methods need to be set\n     somthing = staticmethod(something)\n</code></pre>\n\n<p>Tom Sawyer mentions PEP-8 recommends putting all imports at the top, so you may wish to put them before <code>__init__</code>, but I prefer it this way. I have to say, my Flake8 checker does not complain, so likely this is PEP-8 compliant.</p>\n\n<p>Note the <code>from ... import ...</code> is particularly useful to hide some 'helper' functions to your methods you don't want accessible through objects of the class. I usually also place the custom exceptions for the class in the different files, but import them directly so they can be accessed as <code>Fitter.myexception</code>. </p>\n\n<p>If this module is in your path then you can access your class with</p>\n\n<pre><code>from mymodule import Fitter\nf = Fitter()\nf.load('somefile') #Imported method\nf.plot()           #Imported method\n</code></pre>\n\n<p>Not completely intuitive, but not to difficult either. The short version for your specific problem was your were close - just move the import into the class, and use</p>\n\n<pre><code>from separate import long_func_1\n</code></pre>\n\n<p>and don't forget your<code>self</code>!</p>\n"}, {"tags": [], "owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "is_accepted": false, "score": 3, "last_activity_date": 1511992412, "creation_date": 1511992412, "answer_id": 47562483, "question_id": 47561840, "link": "https://stackoverflow.com/questions/47561840/python-how-can-i-separate-functions-of-class-into-multiple-files/47562483#47562483", "title": "Python: How can I separate functions of class into multiple files?", "body": "<p>Here is an implementation of @Martijn Pieters\u2666's comment to use subclasses:</p>\n\n<p><code>main.py</code>:</p>\n\n<pre><code>from separate import BaseClass\n\nclass MainClass(BaseClass):\n    def long_func_1(self, a, b):\n        if self.global_var_1:\n            ...\n        self.func_2(z)\n        ...\n        return ...\n    # Lots of other similar functions that use info from BaseClass\n</code></pre>\n\n<p><code>separate.py</code>:</p>\n\n<pre><code>class BaseClass(object):\n\n    # You almost always want to initialize instance variables in the `__init__` method.\n    def __init__(self):\n        self.global_var_1 = ...\n        self.global_var_2 = ...\n\n    def func_1(self, x, y):\n        ...\n    def func_2(self, z):\n        ...\n    # tons of similar functions, and then the ones I moved out:\n    #\n    # Why are there \"tons\" of _similar_ functions?\n    # Remember that functions can be defined to take a\n    # variable number of/optional arguments, lists/tuples\n    # as arguments, dicts as arguments, etc.\n</code></pre>\n\n<p><code></code></p>\n\n<pre><code>from main import MainClass\nm = MainClass()\nm.func_1(1, 2)\n....\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5592, "user_id": 606496, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZwPBQ.jpg?s=128&g=1", "display_name": "mjspier", "link": "https://stackoverflow.com/users/606496/mjspier"}, "edited": false, "score": 1, "creation_date": 1574073149, "post_id": 57562083, "comment_id": 104087060, "body": "I think it&#39;s a valid approach. You might also raise an exception in <code>__init__</code> from the Mixin class to discourage users to instantiate the Mixin class."}, {"owner": {"reputation": 2565, "user_id": 1368703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95ccb92e85b56e1b19b7a1262efd06cf?s=128&d=identicon&r=PG", "display_name": "Wyrmwood", "link": "https://stackoverflow.com/users/1368703/wyrmwood"}, "edited": false, "score": 1, "creation_date": 1598569138, "post_id": 57562083, "comment_id": 112509877, "body": "I have used mixins, probably too much. It is an easy way to keep file sizes down but lets class sizes be any size. The problem is you aren&#39;t refactoring the way you do with inheritance, rather, just making a mega-class. Whether using mixins or monkey patching, the downfall is your linter can&#39;t process it, so you have to find errors the hard way. For this one reason, subclassing is preferred, not to mention better encapsulation, et al."}], "tags": [], "owner": {"reputation": 956, "user_id": 4296857, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/22bc0f1f5b151f66183aaa834cdcf605?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Tilton", "link": "https://stackoverflow.com/users/4296857/jeff-tilton"}, "is_accepted": false, "score": 8, "last_activity_date": 1566240138, "last_edit_date": 1566240138, "creation_date": 1566238960, "answer_id": 57562083, "question_id": 47561840, "link": "https://stackoverflow.com/questions/47561840/python-how-can-i-separate-functions-of-class-into-multiple-files/57562083#57562083", "title": "Python: How can I separate functions of class into multiple files?", "body": "<p>I use the approach I found <a href=\"http://www.qtrac.eu/pyclassmulti.html\" rel=\"noreferrer\">here</a>\nIt shows many different approaches, but if you scroll down to the end it the preferred method is to basically go the opposite direction of @Martin Pieter's suggestion which is have a base class that inherits other classes with your methods in those classes.</p>\n\n<p>so folder structure something like:</p>\n\n<pre><code>_DataStore/\n    __init__.py\n    DataStore.py\n    _DataStore.py\n\n</code></pre>\n\n<p>So your base class would be:</p>\n\n<pre><code># DataStore.py\n\nimport _DataStore\n\nclass DataStore(_DataStore.Mixin): # Could inherit many more mixins\n\n    def __init__(self):\n        self._a = 1\n        self._b = 2\n        self._c = 3\n\n    def small_method(self):\n        return self._a\n\n</code></pre>\n\n<p>Then your Mixin class:</p>\n\n<pre><code># _DataStore.py\n\nclass Mixin:\n\n    def big_method(self):\n        return self._b\n\n    def huge_method(self):\n        return self._c\n</code></pre>\n\n<p>Your separate methods would be located in other appropriately named files, in this example it is just _DataStore.</p>\n\n<p>I am interested to hear what others think about this approach, I showed it to someone at work and they were scared by it, but it seemed to be a clean and easy way to separate a class into multiple files.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7729352"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29802, "favorite_count": 22, "answer_count": 3, "score": 61, "last_activity_date": 1582312621, "creation_date": 1511989736, "last_edit_date": 1511990900, "question_id": 47561840, "link": "https://stackoverflow.com/questions/47561840/python-how-can-i-separate-functions-of-class-into-multiple-files", "title": "Python: How can I separate functions of class into multiple files?", "body": "<p>I know this has been asked a couple of times, but I couldn't quite understand the previous answers and/or I don't think the solution quite represents what I'm shooting for. I'm still pretty new to Python, so I'm having a tough time figuring this out.</p>\n\n<p>I have a main class that has a TON of different functions in it. It's getting hard to manage. I'd like to be able to separate those functions into a separate file, but I'm finding it hard to come up with a good way to do so.</p>\n\n<p>Here's what I've done so far:</p>\n\n<p><code>main.py</code></p>\n\n<pre><code>import separate\n\nclass MainClass(object):\n    self.global_var_1 = ...\n    self.global_var_2 = ...\n\n    def func_1(self, x, y):\n        ...\n    def func_2(self, z):\n        ...\n    # tons of similar functions, and then the ones I moved out:\n\n    def long_func_1(self, a, b):\n        return separate.long_func_1(self, a, b)\n</code></pre>\n\n<p><code>separate.py</code></p>\n\n<pre><code>def long_func_1(obj, a, b):\n    if obj.global_var_1:\n        ...\n    obj.func_2(z)\n    ...\n    return ...\n# Lots of other similar functions that use info from MainClass\n</code></pre>\n\n<p>I do this because if I do:</p>\n\n<p><code>obj_1 = MainClass()</code></p>\n\n<p>I want to be able to do:</p>\n\n<p><code>obj_1.long_func_1(a, b)</code></p>\n\n<p>instead of:</p>\n\n<p><code>separate.long_func_1(obj_1, a, b)</code></p>\n\n<p>I know this seems kind of nit-picky, but I want just about all of the code to start with <code>obj_1.</code> so there isn't confusion. </p>\n\n<p>Is there a better solution that what I'm currently doing? The only issues that I have with my current setup are:</p>\n\n<ol>\n<li>I have to change arguments for both instances of the function</li>\n<li>It seems needlessly repetitive</li>\n</ol>\n"}, {"tags": ["python", "config"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4289476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3c6b4066e02ace710ddd73b055de5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Ofrine", "link": "https://stackoverflow.com/users/4289476/ofrine"}, "edited": false, "score": 0, "creation_date": 1511991852, "post_id": 47562243, "comment_id": 82082422, "body": "Thank you for your answer, but I think this solution is a bit overkill and won&#39;t look nice. In my (non-working) solution, in order to access the ENV, you call config.ENV and you&#39;re done. In yours, you have to call JSONPropertiesFile.get()[&#39;ENV&#39;], and while it is very robust, I believe it is not pretty (and also requires reading/writing from/to a file)"}, {"owner": {"reputation": 351, "user_id": 8106112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fefa7d3f830011f7b719dbed7ea0e316?s=128&d=identicon&r=PG&f=1", "display_name": "J. Darnell", "link": "https://stackoverflow.com/users/8106112/j-darnell"}, "reply_to_user": {"reputation": 43, "user_id": 4289476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3c6b4066e02ace710ddd73b055de5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Ofrine", "link": "https://stackoverflow.com/users/4289476/ofrine"}, "edited": false, "score": 0, "creation_date": 1511992262, "post_id": 47562243, "comment_id": 82082638, "body": "I can understand this being overkill. It is possible to turn my solution into something that would allow you to do .ENV on it, although that would just make it more complicated. Are you wanting to load it from the file system once and then not every do anything again with the file system?"}], "tags": [], "owner": {"reputation": 351, "user_id": 8106112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fefa7d3f830011f7b719dbed7ea0e316?s=128&d=identicon&r=PG&f=1", "display_name": "J. Darnell", "link": "https://stackoverflow.com/users/8106112/j-darnell"}, "is_accepted": true, "score": 1, "last_activity_date": 1511991802, "last_edit_date": 1511991802, "creation_date": 1511991439, "answer_id": 47562243, "question_id": 47561835, "link": "https://stackoverflow.com/questions/47561835/best-practice-for-keeping-a-config-file-in-python/47562243#47562243", "title": "Best practice for keeping a config file in python", "body": "<p>I'm not sure exactly what the best practice is but I like using JSON files. I use the following class as a layer of abstraction for interfacing with the config (properties) file. You can create one JSONPropertiesFile and pass it around your application.</p>\n\n<pre><code>import json\nfrom collections import OrderedDict\nimport os\nfrom stat import * # ST_SIZE etc\nfrom datetime import datetime\nfrom copy import deepcopy\n\n\nclass JSONPropertiesFileError(Exception):\n    pass\n\n\nclass JSONPropertiesFile(object):\n\n    def __init__(self, file_path, default={}):\n        self.file_path = file_path\n        self._default_properties = default\n        self._validate_file_path(file_path)\n\n    def _validate_file_path(self, file_path):\n        if not file_path.endswith(\".json\"):\n            raise JSONPropertiesFileError(f\"Must be a JSON file: {file_path}\")\n        if not os.path.exists(file_path):\n            self.set(self._default_properties)\n\n    def set(self, properties):\n        new_properties = deepcopy(self._default_properties)\n        new_properties.update(properties)\n        with open(self.file_path, 'w') as file:\n            json.dump(new_properties, file, indent=4)\n\n\n    def get(self):\n        properties = deepcopy(self._default_properties)\n        with open(self.file_path) as file:\n            properties.update(json.load(file, object_pairs_hook=OrderedDict))\n        return properties\n\n    def get_file_info(self):\n        st = os.stat(self.file_path)\n        res = {\n            'size':st[ST_SIZE],\n            'size_str':str(round(st[ST_SIZE]/1000,2)) + ' KB',\n            'last_mod': datetime.fromtimestamp(st[ST_MTIME]).strftime(\"%Y-%m-%d\")\n         }\n         return res\n</code></pre>\n\n<p>In your case you might use it like this:</p>\n\n<pre><code>file_path = \"path/to/your/config/file\"\ndefault_properties = {\n    'PROD': 'production',\n    'DEV': 'dev',\n    'ENVIRONMENT': \"\"\n} \nconfig_file = JSONPropertiesFile(file_path, default_properties)\nconfig = config_file.get() \nprint(config[\"PROD\"])\nconfig[\"PROD\"] = \"something else\"\nconfig_file.set(config) #  save new config\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4289476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3c6b4066e02ace710ddd73b055de5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Ofrine", "link": "https://stackoverflow.com/users/4289476/ofrine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2863, "favorite_count": 0, "accepted_answer_id": 47562243, "answer_count": 1, "score": 3, "last_activity_date": 1511991897, "creation_date": 1511989731, "last_edit_date": 1511991897, "question_id": 47561835, "link": "https://stackoverflow.com/questions/47561835/best-practice-for-keeping-a-config-file-in-python", "title": "Best practice for keeping a config file in python", "body": "<p>I have a python script in which I have a config file which looks like this:</p>\n\n<pre><code>PROD = 'production'\nDEV = 'dev'\nENVIRONMENT = None\n</code></pre>\n\n<p>and I have a function which gets the wanted environment from a command argument and sets it like:</p>\n\n<pre><code>if sys.argv[1] in [config.PROD, config.DEV]:\n    config.ENVIRONMENT = sys.argv[1]\n</code></pre>\n\n<p>I understood it's not good practice when I started importing the config file in multiple files and ENV kept resetting back to None.</p>\n\n<p>So, my question is: what is the best practice is this case</p>\n"}, {"tags": ["python", "numpy", "anaconda"], "comments": [{"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1511990134, "post_id": 47561804, "comment_id": 82081630, "body": "Can you please show more of the output, and the exact command that you typed?"}, {"owner": {"reputation": 15, "user_id": 7711092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9a6e2c625e88e810777e8d1a6759ed2?s=128&d=identicon&r=PG", "display_name": "kizomba", "link": "https://stackoverflow.com/users/7711092/kizomba"}, "reply_to_user": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1512072501, "post_id": 47561804, "comment_id": 82120974, "body": "It wasn&#39;t text commands.  It was on the anaconda navigator.  I went to the environments tab and selected Numpy to update.  And then after clicking on apply in order to update, I received the above error.  That was the entire output of the error."}, {"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1512073311, "post_id": 47561804, "comment_id": 82121397, "body": "OK, well, what its saying is that you have the keras package installed, which doesn&#39;t support Numpy 1.13.3. You&#39;ll have to remove keras or not update Numpy"}], "owner": {"reputation": 15, "user_id": 7711092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9a6e2c625e88e810777e8d1a6759ed2?s=128&d=identicon&r=PG", "display_name": "kizomba", "link": "https://stackoverflow.com/users/7711092/kizomba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511989615, "creation_date": 1511989615, "question_id": 47561804, "link": "https://stackoverflow.com/questions/47561804/anaconda-updating-numpy-package-unsatisfiableerror", "title": "Anaconda, updating Numpy package, UnsatisfiableError", "body": "<p>When when I try to update Numpy on Anaconda-Navigator Environments section, I get the following error:</p>\n\n<p>UnsatisfiableError: The following specifications were found to be in conflict:\n  - keras\n  - numpy ==1.13.3\nUse \"conda info \" to see the dependencies for each package.</p>\n\n<p>What can I do?</p>\n"}, {"tags": ["python", "pandas", "calculated-columns"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9027963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b1551cf3dfe51b186338338f5d20212?s=128&d=identicon&r=PG&f=1", "display_name": "spc963", "link": "https://stackoverflow.com/users/9027963/spc963"}, "edited": false, "score": 0, "creation_date": 1511990438, "post_id": 47561846, "comment_id": 82081774, "body": "Thanks @MaxU. I guess nothing wrong with my &#39;df.iloc[:,1:]&#39; attempt at selecting which columns I wanted to perform the operations, but that I was replacing my dataframe with only the columns I selected. Using &#39;*=&#39; fixed it."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1511989757, "creation_date": 1511989757, "answer_id": 47561846, "question_id": 47561788, "link": "https://stackoverflow.com/questions/47561788/how-to-perform-an-operation-on-specific-columns-within-pandas-dataframe-while-pr/47561846#47561846", "title": "How to perform an operation on specific columns within pandas dataframe while preserving other columns", "body": "<p>Demo:</p>\n\n<pre><code>In [87]: d = pd.DataFrame(np.arange(25).reshape(5,5)).add_prefix('col')\n\nIn [88]: d\nOut[88]:\n   col0  col1  col2  col3  col4\n0     0     1     2     3     4\n1     5     6     7     8     9\n2    10    11    12    13    14\n3    15    16    17    18    19\n4    20    21    22    23    24\n\nIn [89]: d.loc[:, d.columns != 'col2'] *= 0.01\n\nIn [90]: d\nOut[90]:\n   col0  col1  col2  col3  col4\n0  0.00  0.01     2  0.03  0.04\n1  0.05  0.06     7  0.08  0.09\n2  0.10  0.11    12  0.13  0.14\n3  0.15  0.16    17  0.18  0.19\n4  0.20  0.21    22  0.23  0.24\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1409, "user_id": 7938658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b0fe37848fa39291257168555aa2e5?s=128&d=identicon&r=PG&f=1", "display_name": "imperialgendarme", "link": "https://stackoverflow.com/users/7938658/imperialgendarme"}, "is_accepted": false, "score": 1, "last_activity_date": 1511990334, "creation_date": 1511990334, "answer_id": 47561998, "question_id": 47561788, "link": "https://stackoverflow.com/questions/47561788/how-to-perform-an-operation-on-specific-columns-within-pandas-dataframe-while-pr/47561998#47561998", "title": "How to perform an operation on specific columns within pandas dataframe while preserving other columns", "body": "<pre><code>import pandas as pd\n\ndata = [[1,10, 5],[2,12,6],[3,13,7]]\ndf = pd.DataFrame(data,columns=['Name','Age', 'ID'])\nprint(df)\n\n      Name  Age  ID\n0     1     10   5\n1     2     12   6\n2     3     13   7\n\ncolnames = list(df.columns)\n\nprint(colnames)\n\n['Name', 'Age', 'ID']\n\ncolnames.pop(0)\n\n\nfor i in colnames:\n\n    df[i]  = df[i]*0.01\n\nprint(df)\n\n    Name    Age     ID\n0   1       0.10    0.05\n1   2       0.12    0.06\n2   3       0.13    0.07\n</code></pre>\n\n<p>The first column is left untouched. Although this may not be the best way to do it, it does what you ask</p>\n\n<p>If you want a specific column ignored then,</p>\n\n<p>in the line <code>colnames.pop(0)</code>\nreplace <code>0</code> with the index of column. Over here, since <code>Name</code> column is in index <code>0</code>, I did <code>colnames.pop(0)</code>. </p>\n"}], "owner": {"reputation": 31, "user_id": 9027963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b1551cf3dfe51b186338338f5d20212?s=128&d=identicon&r=PG&f=1", "display_name": "spc963", "link": "https://stackoverflow.com/users/9027963/spc963"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3769, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1511990334, "creation_date": 1511989557, "question_id": 47561788, "link": "https://stackoverflow.com/questions/47561788/how-to-perform-an-operation-on-specific-columns-within-pandas-dataframe-while-pr", "title": "How to perform an operation on specific columns within pandas dataframe while preserving other columns", "body": "<p>I am trying to perform an operation on all columns within my pandas dataframe except one. </p>\n\n<p>I first tried:</p>\n\n<pre><code>df=df[:,1:]*0.001\n</code></pre>\n\n<p>returned an error message. Then tried:</p>\n\n<pre><code>df=df.iloc[:,1:]*0.001\n</code></pre>\n\n<p>I want the operation to be performed on all columns except the first one. However, this replaces the dataframe with only the columns I have selected for the operation.</p>\n\n<p>How do you select specific columns to perform operations while leaving others unaltered? I may have situations where it is not necessarily the first column to remain untouched.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 315, "user_id": 7692956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-JgceB3vBNFY/AAAAAAAAAAI/AAAAAAAAACI/O41sYXdLqbk/photo.jpg?sz=128", "display_name": "Josh Dinsdale", "link": "https://stackoverflow.com/users/7692956/josh-dinsdale"}, "edited": false, "score": 1, "creation_date": 1511989613, "post_id": 47561787, "comment_id": 82081352, "body": "Why not just create a new list that originally has the same values as the original list, and then just modify that one so you have both lists?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1511989624, "post_id": 47561787, "comment_id": 82081354, "body": "<a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">You never made a second list.</a>"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1511989852, "post_id": 47561787, "comment_id": 82081491, "body": "<code>modifyList</code> receives a reference to, not a copy of, the original list. You are modifying it in-place and just returning a reference to it."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1511990015, "post_id": 47561787, "comment_id": 82081578, "body": "Doing what? I just described what your code is actually doing, compared to what you appear to have thought it was doing."}], "answers": [{"tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": true, "score": 2, "last_activity_date": 1511990071, "creation_date": 1511990071, "answer_id": 47561935, "question_id": 47561787, "link": "https://stackoverflow.com/questions/47561787/making-a-new-modified-version-of-a-list-without-modifying-the-original-list-in-p/47561935#47561935", "title": "making a new modified version of a list without modifying the original list in python", "body": "<p>You need to make a copy of the <code>list</code> that is inputted to the <code>modifyList</code> <code>function</code>. This copy isn't done with <code>myList[:]</code> as you are not working with <code>myList</code> here! You are working with a different <code>variable</code> called <code>newList</code> which you need to make a copy of.</p>\n\n<p>You need to remember that a <code>function</code> works with a variable that is <em>passed into it</em> but under the name it has been assigned in the function definition. So here, even though you only call the function with <code>modifyList(myList)</code>, inside the function, you are <em>always</em> working with <code>newList</code> so trying to do <em>anything</em> with <code>myList</code> here will throw an error saying its undefined.</p>\n\n<pre><code>def modifyList(newList):\n  newList = newList[:]\n  for j in range(0, len(newList)):\n    if j % 2 == 0:\n      newList[j]= newList[j] / 2\n    else:\n      newList[j]= newList[j] * 2\n  return newList\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": false, "score": 1, "last_activity_date": 1511991919, "creation_date": 1511991919, "answer_id": 47562370, "question_id": 47561787, "link": "https://stackoverflow.com/questions/47561787/making-a-new-modified-version-of-a-list-without-modifying-the-original-list-in-p/47562370#47562370", "title": "making a new modified version of a list without modifying the original list in python", "body": "<p>Here's an alternate way, with list comprehensions. In Python, you usually don't have to create a list with placeholders and put the elements one by one:</p>\n\n<pre><code>&gt;&gt;&gt; from random import randint\n&gt;&gt;&gt; my_list = [randint(1, 20) for _ in range(10)]\n&gt;&gt;&gt; my_list\n[1, 20, 2, 4, 8, 12, 16, 7, 4, 14]\n&gt;&gt;&gt; [x * 2 if i % 2 else x / 2 for i, x in enumerate(my_list)]\n[0.5, 40, 1.0, 8, 4.0, 24, 8.0, 14, 2.0, 28]\n</code></pre>\n\n<p>If you want to modify the original list in place, you could use numpy and advanced slicing:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; a = np.array([11, 13, 21, 12, 18, 2, 21, 1, 5, 9])\n&gt;&gt;&gt; a[::2] = a[::2] / 2\n&gt;&gt;&gt; a[1::2] = a[1::2] * 2\n&gt;&gt;&gt; a\narray([ 5, 26, 10, 24,  9,  4, 10,  2,  2, 18])\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8909742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cdc6183c11c0489ddaf3991bfd77d8a?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe", "link": "https://stackoverflow.com/users/8909742/gabe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 47561935, "answer_count": 2, "score": 1, "last_activity_date": 1511991919, "creation_date": 1511989548, "last_edit_date": 1511991034, "question_id": 47561787, "link": "https://stackoverflow.com/questions/47561787/making-a-new-modified-version-of-a-list-without-modifying-the-original-list-in-p", "title": "making a new modified version of a list without modifying the original list in python", "body": "<p>i need to modify the contents of my og list into a different list w/out actually changing my og list.   </p>\n\n<pre><code>def createList(numbers):\n  my_List= [0] * numbers \n  for q in range(0, len(my_List)):\n      myList[q]= randint (1, 21)\n      q=q+1\n  return my_List\n\ndef modifyList(newList):\n  for i in range(0, len(newList)):\n    if i % 2 == 0:\n      newList[i]= newList[i] / 2\n    else:\n      newList[i]= newList[i] * 2\n  return newList\n\ndef main():\n  my_List= createList(10)\n  print my_List\n  newList= modifyList(my_List)\n  print my_List\n  print newList\n</code></pre>\n"}, {"tags": ["python", "pandas", "networkx"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 9027958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12944970dec3bbafc3a6b878ef56edf?s=128&d=identicon&r=PG&f=1", "display_name": "Jie", "link": "https://stackoverflow.com/users/9027958/jie"}, "edited": false, "score": 0, "creation_date": 1512063344, "post_id": 47569594, "comment_id": 82115782, "body": "Thanks for your reply. But here I used from_pandas_adjacency why I need to change function about from_numpy_matrix?"}, {"owner": {"reputation": 71, "user_id": 9027958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12944970dec3bbafc3a6b878ef56edf?s=128&d=identicon&r=PG&f=1", "display_name": "Jie", "link": "https://stackoverflow.com/users/9027958/jie"}, "edited": false, "score": 0, "creation_date": 1512063388, "post_id": 47569594, "comment_id": 82115811, "body": "And I updated my networks to the latest version. It still doesn&#39;t work."}, {"owner": {"reputation": 2070, "user_id": 4125080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh5.googleusercontent.com/-wNwaT9zzxZs/AAAAAAAAAAI/AAAAAAAAAEw/DPbiLiDLzMg/photo.jpg?sz=128", "display_name": "rodgdor", "link": "https://stackoverflow.com/users/4125080/rodgdor"}, "reply_to_user": {"reputation": 71, "user_id": 9027958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12944970dec3bbafc3a6b878ef56edf?s=128&d=identicon&r=PG&f=1", "display_name": "Jie", "link": "https://stackoverflow.com/users/9027958/jie"}, "edited": false, "score": 0, "creation_date": 1512063758, "post_id": 47569594, "comment_id": 82116036, "body": "@Jie That code I wrote is on the function <code>from_pandas_adjacency</code>. After fixing that line the code works. By getting the final version I mean changing to the version on github by cloning the repository. I think is best if you follow my advice and change the line I told you about."}, {"owner": {"reputation": 71, "user_id": 9027958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12944970dec3bbafc3a6b878ef56edf?s=128&d=identicon&r=PG&f=1", "display_name": "Jie", "link": "https://stackoverflow.com/users/9027958/jie"}, "edited": false, "score": 0, "creation_date": 1512066885, "post_id": 47569594, "comment_id": 82117930, "body": "Hi I find the file but the 191 line is not the one you said and I didn&#39;t find from_pandas_adjacency in the file, I only find from_pandas_dataframe"}, {"owner": {"reputation": 71, "user_id": 9027958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12944970dec3bbafc3a6b878ef56edf?s=128&d=identicon&r=PG&f=1", "display_name": "Jie", "link": "https://stackoverflow.com/users/9027958/jie"}, "edited": false, "score": 0, "creation_date": 1512068068, "post_id": 47569594, "comment_id": 82118588, "body": "Hi, I find the 191 line the same as you said in another convert_matrix.py.(I don&#39;t know why I have 2 files named  convert_matrix.py). And I changed it as you said but it still not works......"}, {"owner": {"reputation": 2070, "user_id": 4125080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh5.googleusercontent.com/-wNwaT9zzxZs/AAAAAAAAAAI/AAAAAAAAAEw/DPbiLiDLzMg/photo.jpg?sz=128", "display_name": "rodgdor", "link": "https://stackoverflow.com/users/4125080/rodgdor"}, "reply_to_user": {"reputation": 71, "user_id": 9027958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12944970dec3bbafc3a6b878ef56edf?s=128&d=identicon&r=PG&f=1", "display_name": "Jie", "link": "https://stackoverflow.com/users/9027958/jie"}, "edited": false, "score": 0, "creation_date": 1512117215, "post_id": 47569594, "comment_id": 82135952, "body": "@Jie That&#39;s because you have two versions of python. What is the path to these files?"}], "tags": [], "owner": {"reputation": 2070, "user_id": 4125080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh5.googleusercontent.com/-wNwaT9zzxZs/AAAAAAAAAAI/AAAAAAAAAEw/DPbiLiDLzMg/photo.jpg?sz=128", "display_name": "rodgdor", "link": "https://stackoverflow.com/users/4125080/rodgdor"}, "is_accepted": false, "score": 0, "last_activity_date": 1512042893, "last_edit_date": 1512042893, "creation_date": 1512032938, "answer_id": 47569594, "question_id": 47561779, "link": "https://stackoverflow.com/questions/47561779/why-do-i-get-a-graph-when-i-specify-create-using-nx-digraph/47569594#47569594", "title": "Why do I get a Graph when I specify create_using=nx.DiGraph", "body": "<p>This is apparently a bug, that is fixed in the new version of <code>networkx</code>. The problem is on <a href=\"https://github.com/networkx/networkx/blob/242ca83f1216080449be506cea7c9b14223b6d68/networkx/convert_matrix.py#L1910\" rel=\"nofollow noreferrer\">this line</a>.</p>\n\n<p>You can either install the new version of <code>networkx</code> to fix it, or implement the solution yourself (you need just to add a word). If you chose the second, open the file <code>networkx.convert_matrix.py</code>, which in my system is found at: <code>/usr/local/lib/python3.6/site-packages/networkx/convert_matrix.py</code> (open the file as root using sudo), and change line 191 from:</p>\n\n<pre><code>G = from_numpy_matrix(A, create_using)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>G = from_numpy_matrix(A, create_using=create_using)\n</code></pre>\n\n<p>And listo, bug should be solved. Note: is <code>create_using=nx.DiGraph()</code>.</p>\n"}], "owner": {"reputation": 71, "user_id": 9027958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12944970dec3bbafc3a6b878ef56edf?s=128&d=identicon&r=PG&f=1", "display_name": "Jie", "link": "https://stackoverflow.com/users/9027958/jie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1512042893, "creation_date": 1511989529, "last_edit_date": 1512009186, "question_id": 47561779, "link": "https://stackoverflow.com/questions/47561779/why-do-i-get-a-graph-when-i-specify-create-using-nx-digraph", "title": "Why do I get a Graph when I specify create_using=nx.DiGraph", "body": "<p>I'm new to networkx in python and I had a problem in creating a DiGraph. I specify <code>create_using=nx.DiGraph</code> when I try to create a DiGraph using the adjacency matrix in pd dataframe, but I got a Graph instead of a DiGraph. Can anyone explain why?</p>\n\n<p><img src=\"https://i.stack.imgur.com/iQcGX.png\" alt=\"screenshot\"></p>\n"}, {"tags": ["python", "python-2.7", "urwid"], "comments": [{"owner": {"reputation": 2801, "user_id": 4360746, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1daf5b4cd599a49ba6464490ee2a7dd1?s=128&d=identicon&r=PG", "display_name": "Ray Salemi", "link": "https://stackoverflow.com/users/4360746/ray-salemi"}, "edited": false, "score": 1, "creation_date": 1511990033, "post_id": 47561768, "comment_id": 82081583, "body": "The real answer turns out to be &quot;Use a RadioButton&quot; but I think the question is still a good one.  Is it possible to change attributes on an widget without creating a new AttrMap object?"}], "answers": [{"tags": [], "owner": {"reputation": 5888, "user_id": 640916, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WX3vR.png?s=128&g=1", "display_name": "djangonaut", "link": "https://stackoverflow.com/users/640916/djangonaut"}, "is_accepted": true, "score": 1, "last_activity_date": 1608334562, "creation_date": 1608334562, "answer_id": 65365254, "question_id": 47561768, "link": "https://stackoverflow.com/questions/47561768/urwid-changing-a-display-attribute/65365254#65365254", "title": "urwid changing a display attribute", "body": "<p>I had the same problem with buttons but 3 years later I still could not find an answer. This worked for me after experimenting:</p>\n<pre><code>button = urwid.Button(&quot;some label&quot;)\nurwid.connect_signal(button, 'click', self.item_chosen, task)\n# Assigning original AttrMap \nbutton = urwid.AttrMap(button, None, focus_map='reversed')\n\n# At a later point you can change the AttrMap used like this and the button color will change:\nbutton.attr_map = {None: &quot;active task&quot;}\n</code></pre>\n"}], "owner": {"reputation": 2801, "user_id": 4360746, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1daf5b4cd599a49ba6464490ee2a7dd1?s=128&d=identicon&r=PG", "display_name": "Ray Salemi", "link": "https://stackoverflow.com/users/4360746/ray-salemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 65365254, "answer_count": 1, "score": 2, "last_activity_date": 1608334562, "creation_date": 1511989470, "question_id": 47561768, "link": "https://stackoverflow.com/questions/47561768/urwid-changing-a-display-attribute", "title": "urwid changing a display attribute", "body": "<p>I am creating a configurator that lets users choose from a set of legal values.  For each legal value I create a Choice (which is essentially a MenuButton).  If the user selects a Choice, then the choice changes the value to its caption. </p>\n\n<p>Notice that the Choice with the current value has a different attribute than the others.  I'd like to loop through the choices after a pick is made and change the attributes to match the new value.</p>\n\n<p>I can loop through the choices by passing the <code>legal_choices</code> list to all the Choices (or do something more clever) but I don't know how to write code that loops through a list of widgets and changes their attributes.</p>\n\n<pre><code>            for vv in leg_values:\n                choice = Choice(vv, self, item)\n                if vv == self.get_var(item):\n                    choice = urwid.AttrMap(choice,'cur_value')\n                legal_choices.append(choice)\n            var_item = SubMenu(top,item,legal_choices)\n</code></pre>\n\n<p>Does anyone know how to change attributes on a widget in urwid?</p>\n"}, {"tags": ["python", "arrays", "matrix"], "comments": [{"owner": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1511989448, "post_id": 47561752, "comment_id": 82081266, "body": "Care to elaborate?"}, {"owner": {"reputation": 1, "user_id": 9027926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d648fadb4f51f33839ef3719713efee4?s=128&d=identicon&r=PG&f=1", "display_name": "Rahms", "link": "https://stackoverflow.com/users/9027926/rahms"}, "reply_to_user": {"reputation": 485, "user_id": 6333462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KI35e.jpg?s=128&g=1", "display_name": "theBrainyGeek", "link": "https://stackoverflow.com/users/6333462/thebrainygeek"}, "edited": false, "score": 0, "creation_date": 1511989748, "post_id": 47561752, "comment_id": 82081431, "body": "I need to basically build a matrix A. And then fill in each individual i, jth element with the following formula - sum=sum + a x b. So i thought i should initially build the matrix A using zeros. But i do not know how to edit the zeros if that makes sense?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9027926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d648fadb4f51f33839ef3719713efee4?s=128&d=identicon&r=PG&f=1", "display_name": "Rahms", "link": "https://stackoverflow.com/users/9027926/rahms"}, "edited": false, "score": 0, "creation_date": 1511990106, "post_id": 47561822, "comment_id": 82081621, "body": "That&#39;s fab help. Therefore if i want to build a 3x3 array i would simply do variable= np.zeros(reshape(3,3)) ? But then how would i go about changing each element in a 3x3?"}, {"owner": {"reputation": 94, "user_id": 1420326, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/R1iQm.jpg?s=128&g=1", "display_name": "Marcin Gordziejewski", "link": "https://stackoverflow.com/users/1420326/marcin-gordziejewski"}, "reply_to_user": {"reputation": 1, "user_id": 9027926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d648fadb4f51f33839ef3719713efee4?s=128&d=identicon&r=PG&f=1", "display_name": "Rahms", "link": "https://stackoverflow.com/users/9027926/rahms"}, "edited": false, "score": 0, "creation_date": 1511990296, "post_id": 47561822, "comment_id": 82081710, "body": "You access first the row, then the column - for 2x2 last element would be <code>variable[1][1] = 1</code> See my edited answer"}, {"owner": {"reputation": 1, "user_id": 9027926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d648fadb4f51f33839ef3719713efee4?s=128&d=identicon&r=PG&f=1", "display_name": "Rahms", "link": "https://stackoverflow.com/users/9027926/rahms"}, "edited": false, "score": 0, "creation_date": 1511991435, "post_id": 47561822, "comment_id": 82082222, "body": "Thank you for that. Would you also happen to know how i could multiply a matrix A with its transpose? Would that simply be np.dot (A, np.tranpose (A)) ?"}], "tags": [], "owner": {"reputation": 94, "user_id": 1420326, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/R1iQm.jpg?s=128&g=1", "display_name": "Marcin Gordziejewski", "link": "https://stackoverflow.com/users/1420326/marcin-gordziejewski"}, "is_accepted": false, "score": 2, "last_activity_date": 1511990264, "last_edit_date": 1511990264, "creation_date": 1511989689, "answer_id": 47561822, "question_id": 47561752, "link": "https://stackoverflow.com/questions/47561752/editing-an-empty-array-in-python-from-a-zero-array-using-a-summation-function/47561822#47561822", "title": "Editing an empty Array in Python from a zero array using a summation function", "body": "<p>When you create an array using <code>variable = np.zeros(5)</code> you get an array consisting of 5 times zeros like so:</p>\n\n<pre><code>&gt;&gt;&gt; variable\n[0, 0, 0, 0, 0]\n</code></pre>\n\n<p>To access and change each element of an array you could use index of that element. To set first element to 1 you can write</p>\n\n<pre><code>variable[0] = 1\n</code></pre>\n\n<p>Then your variable will look like </p>\n\n<pre><code>&gt;&gt;&gt; variable\n[1, 0, 0, 0, 0]\n</code></pre>\n\n<p>To create multidimnesional array, use tuple like so</p>\n\n<pre><code>&gt;&gt;&gt; s = (2,2)\n&gt;&gt;&gt; np.zeros(s)\narray([[ 0.,  0.],\n       [ 0.,  0.]])\n</code></pre>\n\n<p><a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.zeros.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.zeros.html</a></p>\n"}], "owner": {"reputation": 1, "user_id": 9027926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d648fadb4f51f33839ef3719713efee4?s=128&d=identicon&r=PG&f=1", "display_name": "Rahms", "link": "https://stackoverflow.com/users/9027926/rahms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1511990264, "creation_date": 1511989384, "question_id": 47561752, "link": "https://stackoverflow.com/questions/47561752/editing-an-empty-array-in-python-from-a-zero-array-using-a-summation-function", "title": "Editing an empty Array in Python from a zero array using a summation function", "body": "<p>I have initially built np.zeros but have no idea how I input the values. As in change the zeros to the values of the function that I have. </p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 1, "creation_date": 1511989391, "post_id": 47561718, "comment_id": 82081237, "body": "Where are you having trouble? This seems pretty straightforward to implement using a <code>for</code> loop."}], "answers": [{"tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1511990517, "creation_date": 1511990517, "answer_id": 47562042, "question_id": 47561718, "link": "https://stackoverflow.com/questions/47561718/how-to-print-a-value-to-a-new-array-if-it-within-a-bound-of-previous-value-in-th/47562042#47562042", "title": "How to print a value to a new array if it within a bound of previous value in that array in Python/Numpy", "body": "<p>List is the good structure for this job:</p>\n\n<pre><code>StartArray=np.array([1, 2, 3, 1.4, 1.2, 0.6, 1.8, 1.5, 1.9, 2.2, 3, 4 ,2.3])\nref=StartArray[0]\nEnd=[]\nfor x in StartArray:\n    if abs(x- ref)&lt;.5:\n      End.append(x)\n      ref=x\nprint(np.array(End))      \n\n[ 1.   1.4  1.2  1.5  1.9  2.2  2.3]    \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": false, "score": 0, "last_activity_date": 1511990833, "creation_date": 1511990833, "answer_id": 47562113, "question_id": 47561718, "link": "https://stackoverflow.com/questions/47561718/how-to-print-a-value-to-a-new-array-if-it-within-a-bound-of-previous-value-in-th/47562113#47562113", "title": "How to print a value to a new array if it within a bound of previous value in that array in Python/Numpy", "body": "<p>There are multiple problems with your approach. First, you're initializing <code>EndArray</code> to be the same size as <code>StartArray</code>, but that's not what you want your desired output to be. Instead, initialize <code>EndArray</code> to be an empty list and append values as your loop through <code>StartArray</code>. Secondly, you want the output values to be within 0.5 of the last <em>kept</em> value, so you need to keep track of this.</p>\n\n<p>Adapting your code:</p>\n\n<pre><code>StartArray=np.array([1, 2, 3, 1.4, 1.2, 0.6, 1.8, 1.5, 1.9, 2.2, 3, 4 ,2.3])\nEndArray=[]\n\nlast_kept = StartArray[0]\nEndArray.append(last_kept)\nfor i in range(len(StartArray)-1):\n    if np.abs(StartArray[i+1] - last_kept) &lt; 0.5:\n        last_kept = StartArray[i+1]\n        EndArray.append(last_kept)\n\n# convert back to numpy array\nEndArray = np.array(EndArray)\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 47562042, "answer_count": 2, "score": 0, "last_activity_date": 1511990833, "creation_date": 1511989254, "last_edit_date": 1511990118, "question_id": 47561718, "link": "https://stackoverflow.com/questions/47561718/how-to-print-a-value-to-a-new-array-if-it-within-a-bound-of-previous-value-in-th", "title": "How to print a value to a new array if it within a bound of previous value in that array in Python/Numpy", "body": "<p>If I have an array:</p>\n\n<pre><code>StartArray=np.array([1, 2, 3, 1.4, 1.2, 0.6, 1.8, 1.5, 1.9, 2.2, 3, 4 ,2.3])\n</code></pre>\n\n<p>I would like to loop through this array starting with StartArray[0] and only keep values that are within +/- .5 of the last kept value to yield:</p>\n\n<pre><code>EndArray=[1, 1.4, 1.2, 1.5, 1.9, 2.2, 2.3]\n</code></pre>\n\n<p>This is what I have tried so far and the results don't make sense</p>\n\n<pre><code>StartArray=np.array([1, 2, 3, 1.4, 1.2, 0.6, 1.8, 1.5, 1.9, 2.2, 3, 4 ,2.3])\nEndArray=np.empty_like(StartArray)\nEndArray[0]=StartArray[0]\nfor i in range(len(StartArray)-1):\n    if EndArray[i]+.5&gt;StartArray[i+1]&gt;EndArray[i]-.5:\n        EndArray[i+1]=StartArray[i+1]\n\nOut:\narray([ 1.        ,  0.22559146,  0.13015365,  5.24910493,  0.63804761,\n    0.6       ,  1.73143364,  1.5       ,  1.9       ,  2.2       ,\n    6.82525036,  0.61641556,  6.82325036])\n</code></pre>\n"}, {"tags": ["python", "pandas", "join", "merge", "concatenation"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 1, "creation_date": 1511992307, "post_id": 47561694, "comment_id": 82082659, "body": "There is no <i>Scenario</i> in <i>df_single</i>. Do we split <i>df_single&#39;s</i> product rows equally for each distinct scenario in <i>df_multi</i>? Are we assured rows will evenly split always like this posted example of 3 and 3?"}, {"owner": {"reputation": 53, "user_id": 7693249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4bf69ccd39e48e321891e11aed87bd4?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/7693249/jon"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1511993914, "post_id": 47561694, "comment_id": 82083406, "body": "Indeed there&#39;s no scenario in df_single, because the new rows represented in df_single are the same for every scenario. As long as the &#39;Product&#39; matches en df_multi and df_single, I want to append the same slice of df_single to every scenario in df_multi, and automatically assign it the &quot;current&quot; scenario value."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1511995159, "post_id": 47561694, "comment_id": 82083942, "body": "Are you aware there are duplicates in <i>df_single</i>? If they are legitimate records, why then not append all 6 to both <i>A1</i> and <i>A2</i> scenarios instead of 3 and 3?"}, {"owner": {"reputation": 53, "user_id": 7693249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4bf69ccd39e48e321891e11aed87bd4?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/7693249/jon"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1511997487, "post_id": 47561694, "comment_id": 82084812, "body": "Apologies about the duplicates, I had a bit of a copy-paste issue there. I have now removed them. Is there a way to visualize the DataFrame the code is producing directly in Stackoverflow?"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1608714290, "post_id": 47561694, "comment_id": 115662545, "body": "(If you want people to test this on larger dataframes for scaleability, please edit the dataframe snippets to be seeded-random data of length 10**N rows. The extra columns shouldn&#39;t matter much, ignore them.)"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7693249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4bf69ccd39e48e321891e11aed87bd4?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/7693249/jon"}, "edited": false, "score": 0, "creation_date": 1512187875, "post_id": 47578438, "comment_id": 82167703, "body": "It works, thanks! I&#39;m curious about speed/scalability. I will test it on the real data I&#39;m using to see how it performs on large dataframes."}], "tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": true, "score": 1, "last_activity_date": 1512060316, "creation_date": 1512060316, "answer_id": 47578438, "question_id": 47561694, "link": "https://stackoverflow.com/questions/47561694/pandas-how-to-concatenate-a-multiindex-dataframe-with-a-single-index-dataframe/47578438#47578438", "title": "Pandas: how to concatenate a MultiIndex DataFrame with a single index DataFrame, and custom ordering", "body": "<p>Consider resetting indexes as columns for a <code>merge</code>, followed by a <code>groupby</code> aggregation only to return one occurrence per group and avoid duplicates. Afterwards, run a concatenation, <code>concat</code>, followed by column sorting and setting back the multi-index.</p>\n\n<pre><code># MERGE AND AGGREGATION\ndf_temp = df_multi.reset_index().merge(df_single.reset_index(), on='Product', suffixes=['','_'])\\\n                                .groupby(['Product', 'Scenario', 'Time_'])['Quantity_'].max()\\\n                                .reset_index().rename(columns={'Time_':'Time','Quantity_':'Quantity'})\n\n# ROW BIND CONCATENATION\ndf_final = pd.concat([df_multi.reset_index(), df_temp])\\\n                    .sort_values(['Product','Scenario', 'Time'])\\\n                    .set_index(['Product', 'Scenario'])[['Time', 'Quantity', 'Price']]\nprint(df_final)\n#                   Time  Quantity   Price\n# Product Scenario                        \n# A       A1          -3       100     NaN\n#         A1          -2       100     NaN\n#         A1          -1       100     NaN\n#         A1           0       234  2002.0\n#         A1           1       324  2550.0\n#         A1           2       345  3207.0\n#         A1           3       458  4560.0\n#         A2          -3       100     NaN\n#         A2          -2       100     NaN\n#         A2          -1       100     NaN\n#         A2           0       569  1980.0\n#         A2           1       657  2314.0\n#         A2           2       768  4568.0\n#         A2           3       823  5761.0\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 7693249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4bf69ccd39e48e321891e11aed87bd4?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/7693249/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1577, "favorite_count": 0, "accepted_answer_id": 47578438, "answer_count": 1, "score": 1, "last_activity_date": 1608714185, "creation_date": 1511989125, "last_edit_date": 1608714185, "question_id": 47561694, "link": "https://stackoverflow.com/questions/47561694/pandas-how-to-concatenate-a-multiindex-dataframe-with-a-single-index-dataframe", "title": "Pandas: how to concatenate a MultiIndex DataFrame with a single index DataFrame, and custom ordering", "body": "<p>I have a MultiIndex pandas DataFrame <code>df_multi</code> like:</p>\n<pre><code>import pandas as pd\n\ndf_multi = pd.DataFrame([['A', 'A1', 0,234,2002],['A', 'A1', 1,324,2550],\n['A', 'A1', 2,345,3207],['A', 'A1', 3,458,4560],['A', 'A2', 0,569,1980],\n['A', 'A2', 1,657,2314],['A', 'A2', 2,768,4568],['A', 'A2', 3,823,5761]], \ncolumns=['Product','Scenario','Time','Quantity','Price']).set_index(\n['Product', 'Scenario'])\n</code></pre>\n<p>and a single index DataFrame <code>df_single</code> like:</p>\n<pre><code>df_single = pd.DataFrame([['A', -3,100],['A', -2,100], ['A', -1,100]],\ncolumns=['Product','Time','Quantity']).set_index(['Product'])\n</code></pre>\n<p>For every 'Product' in the first index level of <code>df_multi</code>, and for every 'Scenario' in its second level, I would like to append/concatenate the rows in <code>df_single</code>, which contain some negative 'Time' values to be appended before the positive 'Time' values in <code>df_multi</code> begin.</p>\n<p>I would furthermore like the resulting DataFrame to be first MultiIndexed by ['Product','Scenario'] (just like <code>df_multi</code>), then secondly with the rows ordered by ascending value of 'Time'. In other words, the desired result is:</p>\n<pre><code>df_result = pd.DataFrame([['A', 'A1', -3,100,'NaN'],['A', 'A1', -2,100,'NaN'],\n['A', 'A1', -1,100,'NaN'],['A', 'A1', 0,234,2002],['A', 'A1', 1,324,2550],\n['A', 'A1', 2,345,3207],['A', 'A1', 3,458,4560],['A','A2', -3,100,'NaN'],\n['A', 'A2', -2,100,'NaN'],['A', 'A2', -1,100,'NaN'],['A', 'A2', 0,569,1980],\n['A', 'A2', 1,657,2314],['A', 'A2', 2,768,4568],['A', 'A2', 3,823,5761]],\ncolumns=['Product','Scenario','Time','Quantity','Price']).set_index(\n['Product', 'Scenario'])\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<ul>\n<li><code>df_single</code> has no 'Scenario' values, which can be confusing. As long as 'Product' matches, the same rows of <code>df_single</code> are to be appended to every scenario in <code>df_multi</code>, and they simply &quot;inherit&quot; the Scenario values for free.</li>\n<li>The actual DataFrames I'm working with are rather large (few thousand 'Product', few thousand 'Scenario' per product, and a few hundred 'Time' steps per scenario, plus extra columns which I did not write in the example), so I need to do this in a fully automated (and hopefully fast) way.</li>\n</ul>\n<p>I tried to implement this with all of <code>join</code>, <code>concat</code> and <code>merge</code>, and I did not succeed. What would be the best way of achieving the desired result?</p>\n"}, {"tags": ["python", "django", "python-3.x", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "edited": false, "score": 0, "creation_date": 1511991136, "post_id": 47561693, "comment_id": 82082093, "body": "See <a href=\"https://stackoverflow.com/questions/22358805/django-template-looping-through-two-lists\" title=\"django template looping through two lists\">stackoverflow.com/questions/22358805/&hellip;</a>"}, {"owner": {"reputation": 3061, "user_id": 6396981, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/1W4ME.png?s=128&g=1", "display_name": "binpy", "link": "https://stackoverflow.com/users/6396981/binpy"}, "edited": false, "score": 0, "creation_date": 1511991458, "post_id": 47561693, "comment_id": 82082230, "body": "<code>{{ a_new_list.forloop.counter0 }}</code> instead <code>{{ a_new_list.forloop.counter.0 }}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6199618, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N0mZSZvI2oY/AAAAAAAAAAI/AAAAAAAAACI/nKpT3rPsU-4/photo.jpg?sz=128", "display_name": "Deus Ralph", "link": "https://stackoverflow.com/users/6199618/deus-ralph"}, "edited": false, "score": 0, "creation_date": 1511991932, "post_id": 47562140, "comment_id": 82082462, "body": "Oh sorry I forget, I need value in List <b>a_list</b> too! So I can&#39;t iterate only new_list"}], "tags": [], "owner": {"reputation": 306, "user_id": 4142483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/02e87c5cac2e2aeb5ba34b6c32075ea7?s=128&d=identicon&r=PG&f=1", "display_name": "max", "link": "https://stackoverflow.com/users/4142483/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1511990944, "creation_date": 1511990944, "answer_id": 47562140, "question_id": 47561693, "link": "https://stackoverflow.com/questions/47561693/django-forloop-counter0-to-read-a-list/47562140#47562140", "title": "Django forloop.counter0 to read a list", "body": "<p>Why not iterate only new_list?</p>\n\n<pre><code>{% for value in new_list %}\n    &lt;h2&gt;{{ value }}&lt;/h2&gt;\n{% endfor %}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6199618, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N0mZSZvI2oY/AAAAAAAAAAI/AAAAAAAAACI/nKpT3rPsU-4/photo.jpg?sz=128", "display_name": "Deus Ralph", "link": "https://stackoverflow.com/users/6199618/deus-ralph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1511990944, "creation_date": 1511989119, "question_id": 47561693, "link": "https://stackoverflow.com/questions/47561693/django-forloop-counter0-to-read-a-list", "title": "Django forloop.counter0 to read a list", "body": "<p>read a list in a list in the template with example:</p>\n\n<pre><code>a_list = ['a', 'b', 'c', 'd']\nnew_list = [1, 2, 3, 4]\n</code></pre>\n\n<p>how to access to <strong>new_list</strong> value in the template</p>\n\n<pre><code>{% for value in a_list %}\n    &lt;h2&gt;{{ a_new_list.forloop.counter.0 }}&lt;/h2&gt;\n{% endfor %}\n</code></pre>\n\n<p>i do this and It's not work!</p>\n"}, {"tags": ["python", "image", "tkinter", "python-imaging-library"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1511991007, "post_id": 47561683, "comment_id": 82082041, "body": "did you run in in console to see error message ? It shows that <code>image</code> doesn&#39;t have <code>resize()</code> method. <code>tkinter</code> has <code>PhotoImage</code> to display image and it doesn&#39;t have <code>resize()</code>, and <code>PIL</code> has <code>Image</code> which have <code>resize()</code> - so you mix two different elements."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 8388809, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4e092350d1d7c25a9e360c00375fa0d3?s=128&d=identicon&r=PG&f=1", "display_name": "invisabuble", "link": "https://stackoverflow.com/users/8388809/invisabuble"}, "edited": false, "score": 0, "creation_date": 1511995513, "post_id": 47562405, "comment_id": 82084075, "body": "if i try this it returns: No module named ImageTk, like i said above i tried ImageTk but it didnt work, do you have any information as to how i could insall it. looking on the internet, theres not alot of information about this at all."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 103, "user_id": 8388809, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4e092350d1d7c25a9e360c00375fa0d3?s=128&d=identicon&r=PG&f=1", "display_name": "invisabuble", "link": "https://stackoverflow.com/users/8388809/invisabuble"}, "edited": false, "score": 0, "creation_date": 1511995876, "post_id": 47562405, "comment_id": 82084214, "body": "you didn&#39;t say why it doesn&#39;t work - so I assumed you have it but you don&#39;t know have to use it. Install <code>Pillow</code> using <code>pip install pillow</code>"}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 1, "last_activity_date": 1511992085, "creation_date": 1511992085, "answer_id": 47562405, "question_id": 47561683, "link": "https://stackoverflow.com/questions/47561683/i-cant-get-an-image-to-be-resized-and-displayed-using-tkinter/47562405#47562405", "title": "I Cant get an image to be resized and displayed using tkinter", "body": "<p>You mix two differnt class <code>PhotoImage</code> in <code>tkinter</code> which doesn't have <code>resize</code> and <code>PIL.Image</code> which have <code>resize</code> </p>\n\n<pre><code>import tkinter as tk\nfrom PIL import Image, ImageTk\n\napp = tk.Tk()\n\nfname = tk.Canvas(height=200, width=200)\nfname.pack()\n\npil_image = Image.open('Sun.png')\npil_image = pil_image.resize((25, 25), Image.ANTIALIAS)\n\nimage = ImageTk.PhotoImage(pil_image)\nicon = fname.create_image((0,0), image=image, anchor='nw')\n\napp.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 8388809, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4e092350d1d7c25a9e360c00375fa0d3?s=128&d=identicon&r=PG&f=1", "display_name": "invisabuble", "link": "https://stackoverflow.com/users/8388809/invisabuble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511992085, "creation_date": 1511989061, "question_id": 47561683, "link": "https://stackoverflow.com/questions/47561683/i-cant-get-an-image-to-be-resized-and-displayed-using-tkinter", "title": "I Cant get an image to be resized and displayed using tkinter", "body": "<p>So im trying to make an app that will display images, and the image I have is 1000*1000 but this is way too big, I need a way to resize the image. I've tried using PIL and ImageTK but that didn't work, here's my code so far:</p>\n\n<pre><code>from tkinter import *\n\napp = Tk()\napp.title('embeded image')\n\nfname = Canvas(bg = 'black', height=100, width=100)\nfname.pack(side=TOP)\n\nimage = PhotoImage('Sun.png')\nimage = image.resize((25, 25), Image.ANTIALIAS)\n\nicon = fname.create_image(image=image)\n\nfname.pack()\napp.mainloop()\n</code></pre>\n\n<p>I've no idea why this doesn't work, im relatively new to Tkinter so sorry if it's obvious.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 0, "creation_date": 1511990470, "post_id": 47561681, "comment_id": 82081791, "body": "<a href=\"https://stackoverflow.com/questions/8056496/python-get-unicode-string-size\" title=\"python get unicode string size\">stackoverflow.com/questions/8056496/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 896, "user_id": 9019560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7024d310c7521f85292ab4961accee31?s=128&d=identicon&r=PG&f=1", "display_name": "Turksarama", "link": "https://stackoverflow.com/users/9019560/turksarama"}, "is_accepted": false, "score": 1, "last_activity_date": 1511996735, "last_edit_date": 1511996735, "creation_date": 1511996429, "answer_id": 47563287, "question_id": 47561681, "link": "https://stackoverflow.com/questions/47561681/umlaut-counts-as-an-extra-letter-how-to-overrule-this-in-python/47563287#47563287", "title": "Umlaut counts as an extra letter. How to overrule this in python?", "body": "<p>If you're just trying to strip out all hyphens (and nothing you've said suggests you aren't) then you can just remove them like so:</p>\n\n<pre><code>&lt;string&gt;.replace('-','')\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>'zwei-ter Die-ner k\u00fcnst-li-che W\u00fcrst-chen'.replace('-','')\n'zweiter Diener k\u00fcnstliche W\u00fcrstchen'\n</code></pre>\n\n<p>I also don't get the problem you describe using join</p>\n\n<pre><code>&gt;&gt;&gt; y = 'zwei-ter Die-ner k\u00fcnst-li-che W\u00fcrst-chen'.split('-')\n&gt;&gt;&gt; y\n['zwei', 'ter Die', 'ner k\u00fcnst', 'li', 'che W\u00fcrst', 'chen']\n&gt;&gt;&gt; ''.join(y)\n'zweiter Diener k\u00fcnstliche W\u00fcrstchen'\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2650239, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/522794727/picture?type=large", "display_name": "KnRm", "link": "https://stackoverflow.com/users/2650239/knrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511996735, "creation_date": 1511989043, "question_id": 47561681, "link": "https://stackoverflow.com/questions/47561681/umlaut-counts-as-an-extra-letter-how-to-overrule-this-in-python", "title": "Umlaut counts as an extra letter. How to overrule this in python?", "body": "<p>I coded a reading experiment, in which words are presented one by one on a screen.These words are drawn from .txt files (UTF-8), containing German words that are divided into syllables. The division between syllables is done by means of \u2018-\u2019. So the .txt file contains words like this:</p>\n\n<blockquote>\n  <p>zwei-ter Die-ner k\u00fcnst-li-che W\u00fcrst-chen</p>\n</blockquote>\n\n<p>The aim of the program is to correctly show the word, so without the \u2018-\u2019:</p>\n\n<blockquote>\n  <p>zweiter Diener k\u00fcnstliche W\u00fcrstchen</p>\n</blockquote>\n\n<p>When a word does not contain an Umlaut everything goes fine, using the following code:</p>\n\n<pre><code># Strip newlines and split into syllables\n    syllables = word.strip().split( '-' )\n\n    word = ''.join( syllables )\n\n    # Index for keeping track in which color to display the next syllable\n    color_index = 0\n\n    letter_count = 0\n\n    for syllable in syllables:\n\n        # Pad the syllable for spaces for every letter of the word that is not part of this syllable\n        # This ensures proper placement of the syllable on the screen\n        padded_syllable = ' ' * letter_count + syllable + ' ' * ( len( word ) - letter_count - len( syllable ) )\n\n        text = visual.TextStim( \n                win=window, \n                text=padded_syllable, font='Courier New', color=colors[color_index], colorSpace='rgb',\n                units='pix', pos=( 0, -234 ),height =68,\n        )\n        text.draw()\n\n        letter_count += len( syllable ))\n</code></pre>\n\n<p>However, the spacing between word parts goes wrong when a letter contains an umlaut, then this letter seems to be counted as two.\n\u201ck\u00fcnst-li-che\u201d is then shown as \u201ck\u00fcnst li che\u201d, where it should be \"k\u00fcnstliche\".</p>\n\n<p>Is there a way to count a letter with Umlaut as one letter only?</p>\n"}, {"tags": ["python", "global-variables"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511989374, "post_id": 47561658, "comment_id": 82081225, "body": "Uh, are you aware of what <code>if __name__ == &#39;__main__&#39;:</code> does? It makes <i>sure</i> nothing inside the if-body gets run if you import the module as a module, it will only be executed if you do <code>python my_module.py</code>, not if, in another module, you do <code>import my_module</code>"}, {"owner": {"reputation": 49, "user_id": 2996622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe97b9648a93848ea9f60fb7741d006?s=128&d=identicon&r=PG&f=1", "display_name": "Cardelco", "link": "https://stackoverflow.com/users/2996622/cardelco"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511990050, "post_id": 47561658, "comment_id": 82081592, "body": "Hello, I though that after running the server, shared_instance was global across modules so I could get its updated value importing the server module. Is there any way to make shared_instance global across modules?. Thanks"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511990089, "post_id": 47561658, "comment_id": 82081614, "body": "Are you trying to share state across multiple processes?"}, {"owner": {"reputation": 49, "user_id": 2996622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe97b9648a93848ea9f60fb7741d006?s=128&d=identicon&r=PG&f=1", "display_name": "Cardelco", "link": "https://stackoverflow.com/users/2996622/cardelco"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511990205, "post_id": 47561658, "comment_id": 82081672, "body": "No, it is just an instance that takes a lot of time to create and that I want use in other modules"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511990330, "post_id": 47561658, "comment_id": 82081725, "body": "Um, then what do you mean &quot;after the server is running ... I could get its updated value importing the server module&quot;? So you run something like <code>python my_server_module.py</code>, and then what?"}, {"owner": {"reputation": 49, "user_id": 2996622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe97b9648a93848ea9f60fb7741d006?s=128&d=identicon&r=PG&f=1", "display_name": "Cardelco", "link": "https://stackoverflow.com/users/2996622/cardelco"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511990542, "post_id": 47561658, "comment_id": 82081823, "body": "So first I do &#39;python my_server_module.py&#39;. That generates the instance and the server starts running. Then, my use case would be an api call against the server which executes &#39;my_api_endpoint.py&#39;. On this endpoint I need to use that instance that was created before starting the server because I don&#39;t want to recreate it on every api call"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511990786, "post_id": 47561658, "comment_id": 82081938, "body": "&quot;api call against the server which executes &#39;my_api_endpoint.py&#39;&quot; what do you mean the api call ends up executing <code>my_api_endpiont.py</code>? As in subprocess?"}, {"owner": {"reputation": 49, "user_id": 2996622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe97b9648a93848ea9f60fb7741d006?s=128&d=identicon&r=PG&f=1", "display_name": "Cardelco", "link": "https://stackoverflow.com/users/2996622/cardelco"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511991209, "post_id": 47561658, "comment_id": 82082126, "body": "I mean that I have something like  project - server.py - api_folder -- api_endpoint1.py -- api_endpoint2.py -- api_endpoint3.py  Inside api_endpoint1.py I have functions to respond to GET, POST, etc.  So if I do a GET request like localhost:8888/api_endpoint1/, the get() function inside  api_endpoint1.py is triggered. Inside this get() function I need to call some functions from the Shared() class that resides in server.py, and I need an instance of Shared() that I want to retrieve from server.py so I don&#39;t need to recreate it again."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1511992669, "post_id": 47561658, "comment_id": 82082861, "body": "Right, I understand that you have a project structured over multiple files, but you are glossing over the important details: <b>how</b> does &quot;the get() function inside api_endpoint&quot; get triggered? You should elaborate as an edit to the question"}], "owner": {"reputation": 49, "user_id": 2996622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebe97b9648a93848ea9f60fb7741d006?s=128&d=identicon&r=PG&f=1", "display_name": "Cardelco", "link": "https://stackoverflow.com/users/2996622/cardelco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511988945, "creation_date": 1511988945, "question_id": 47561658, "link": "https://stackoverflow.com/questions/47561658/access-global-instance-modified-inside-main-function-of-a-server-from-differen", "title": "Access global instance modified inside main() function of a server from different modules", "body": "<p>I have a server that contains a class which performs an expensive computation\nduring its initialization. I want to initialize this class once, inside the main() method of the server module, before starting the server. Then, I want other modules that import the server module to be able to retrieve the instance of this class.</p>\n\n<p>Example (the sleep emulates the server running)</p>\n\n<pre><code>import time\n\n# I want to store the shared_instance of this global variable\nshared_instance = None\n\n\nclass Shared:\n    def __init__(self):\n        # Expensive computation that I only want to run once\n        pass\n\n\ndef main():\n\n    global shared_instance\n\n    shared_instance = Shared()  # Now instance_of_scorer is not None anymore\n    print(shared_instance)\n\n    print(\"Starting server...\")\n    time.sleep(1000)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>When I run this server it prints:</p>\n\n<pre><code>&lt;__main__.Shared object at 0x000001865A3C4320&gt;\nStarting server...\n</code></pre>\n\n<p>Now I have other module that should be able to see the instance:</p>\n\n<pre><code>import server\n\nprint(server.shared_instance)\n</code></pre>\n\n<p>However, shared_instance is not '&lt;<strong>main</strong>.Shared object at 0x000001865A3C4320>' as expected. It is 'None'. Could you please tell me want I'm doing wrong and how can I solve this issue and achieve this functionality?.</p>\n\n<p>Many thanks</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1511988963, "post_id": 47561564, "comment_id": 82081014, "body": "should it be &#39;width&#39; ?"}, {"owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1511989061, "post_id": 47561564, "comment_id": 82081062, "body": "@Wen Of course, but that is not my question"}, {"owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1511989455, "post_id": 47561564, "comment_id": 82081271, "body": "If this is not an appropriate question for SO please explain why. I am genuinely curious about the behavior of this code, which I do not understand at all"}], "answers": [{"comments": [{"owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 0, "creation_date": 1511999522, "post_id": 47563686, "comment_id": 82085491, "body": "Thank you for such detailed answer, this is really helpful! Part of me would argue that using undocumented arguments should result in an error (for exactly the reason that prompted my question). Regardless this makes much more sense now"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 1, "creation_date": 1511999869, "post_id": 47563686, "comment_id": 82085615, "body": "Ya well, this is an unlucky chain of events here. Pandas will not raise an error because it is not responsible for keyword arguments of matplotlib bar function. The bar function will not raise an error because it trusts Artist to raise the error if any invalid argument is given. Artist itself does not consider <code>wIdTh</code> to be invalid. So if anything one may argue that <code>Artist</code> should not take upper case arguments. On the other hand there may actually be a reason for it doing so."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1511998849, "creation_date": 1511998849, "answer_id": 47563686, "question_id": 47561564, "link": "https://stackoverflow.com/questions/47561564/matplotlib-pandas-barplot-uppercase-width-bug/47563686#47563686", "title": "Matplotlib Pandas barplot uppercase widtH bug?", "body": "<p>First of all, <code>widtH</code> is not a documented argument to <code>plot</code>. Using a non-documented argument allows anything to happen; and hence I would not consider this to be a bug. Just as you would not consider it a bug that when calling <code>df.plot(kind='bar', i_am_so=True)</code> it raises an error. </p>\n\n<p>From the pandas side, there is nothing strange here. Pandas <code>plot</code> function takes an argument <code>width</code> (case sensitive, lower case). If this is supplied its internal attribute <code>bar_width</code> is set to the given value, if not, a default of <code>0.5</code> is used [see <a href=\"https://github.com/pandas-dev/pandas/blob/7627ccaf9442f4101afda69b6077e7f035e23543/pandas/plotting/_core.py#L1167\" rel=\"nofollow noreferrer\">l.1167 of plotting/_core.py in current master</a>]</p>\n\n<pre><code>self.bar_width = kwargs.pop('width', 0.5)\n</code></pre>\n\n<p>Any other keyword arguments are passed on to the matplotlib bar function. Hence <code>matplotlib.axes._axes.bar</code> will be called with <code>widtH=1</code> as keyword argument, just like</p>\n\n<pre><code>pyplot.bar(... , width=0.5, widtH=1)\n</code></pre>\n\n<p>The unexpected result of this is that it indeed produces a plot with a bar of width 1.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nplt.bar(1,2,width=0.5, widtH=1)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6YZGW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6YZGW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note that the bar is ranging from x=0.75 to x=1.75. It is thus indeed 1 unit wide, as specified by <code>widtH</code>. Also note that without this argument we would see the bar centered at position x=1 as desired, ranging from x=0.75 to x=1.25, as <code>width=0.5</code> suggests. So the left corner of the bar is such as we would expect it.</p>\n\n<p>What happens here is the following. A bar centered at position 1 is created with a width of 0.5. This bar is a <code>Rectangle</code> object. Now again all arguments which are unknown to the <code>bar</code> function are passed on to the underlying artist, which is a <code>Rectangle</code>. The rectangle will try to use these arguments to update its properties. This updating involves a cast to lower case, <a href=\"https://github.com/matplotlib/matplotlib/blob/e36822f3956d2d60eb4fa6dad609488f9d1d7cae/lib/matplotlib/artist.py#L888\" rel=\"nofollow noreferrer\">line 888 of artist.py in the <code>Artist</code>'s <code>update</code> method</a> is</p>\n\n<pre><code>k = k.lower()\n</code></pre>\n\n<p>Since <code>\"widtH\".lower() == \"width\"</code>, the artist now updates its width to <code>1</code>. Its lower left corner stays the same, but instead of extending up to x=1.25, it will extend to 0.75 + 1 = 1.75.</p>\n\n<p>Coming back to the pandas plot, this is exactly what we observe. The bars start at their desired position, but their width is extended to 1 unit. </p>\n\n<p>I guess that's the whole story. Maybe as a take home message: Don't use undocumented arguments, or if you do, don't be surprised on what happens.</p>\n"}], "owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 47563686, "answer_count": 1, "score": 2, "last_activity_date": 1511998849, "creation_date": 1511988540, "last_edit_date": 1511994916, "question_id": 47561564, "link": "https://stackoverflow.com/questions/47561564/matplotlib-pandas-barplot-uppercase-width-bug", "title": "Matplotlib Pandas barplot uppercase widtH bug?", "body": "<p>This appears to be a bug, though I cannot figure out why or where it is coming from, I have not been able to find an issue for this on github in part because it is case sensitive...</p>\n\n<p>plotting a barplot in pandas with a width paramter:</p>\n\n<pre><code>df = pd.DataFrame([[1, 2, 3], [3, 2, 1]])\ndf.plot(kind='bar', width=1)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9UhQV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9UhQV.png\" alt=\"enter image description here\"></a></p>\n\n<p>The same plot with a <code>widtH</code> parameter note the capital H:</p>\n\n<pre><code>df.plot(kind='bar', widtH=1)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SqjED.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SqjED.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>print(pd.__version__)\nprint(mpl.__version__)\n\n0.20.3\n2.1.0\n</code></pre>\n\n<p>If this is a bug, can someone point me to the relevant issue? If it is not a bug what is the intended purpose of this?</p>\n"}, {"tags": ["python", "python-2.7", "proxy", "python-requests"], "answers": [{"tags": [], "owner": {"reputation": 756, "user_id": 8819662, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4c7xj.jpg?s=128&g=1", "display_name": "SPYBUG96", "link": "https://stackoverflow.com/users/8819662/spybug96"}, "is_accepted": true, "score": 0, "last_activity_date": 1513179196, "creation_date": 1513179196, "answer_id": 47796822, "question_id": 47561549, "link": "https://stackoverflow.com/questions/47561549/how-do-you-change-the-proxy-of-a-requests-session-object/47796822#47796822", "title": "How do you change the proxy of a requests.Session() Object?", "body": "<p>Just have a list of proxies and then cycle through them</p>\n\n<pre><code>s = requests.Session()\n\nproxyList = ['Just imagine there are a few proxies here']\n\nfor item in proxyList:\n    r2 = s.get(login_url, proxies = {'https' : item}, verify=False)\n\n\n    print r2.status_code\n    if r2.status_code == 200:\n        print \"It worked\"\n        usable_IP.append(item)\n\n\n    print usable_IP\nprint usable_IP\n</code></pre>\n\n<p>This is the code I'm currently using and it solved my problem that I was having. 12/13/2017</p>\n"}], "owner": {"reputation": 756, "user_id": 8819662, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4c7xj.jpg?s=128&g=1", "display_name": "SPYBUG96", "link": "https://stackoverflow.com/users/8819662/spybug96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1166, "favorite_count": 0, "accepted_answer_id": 47796822, "answer_count": 1, "score": 0, "last_activity_date": 1513179196, "creation_date": 1511988466, "last_edit_date": 1511989900, "question_id": 47561549, "link": "https://stackoverflow.com/questions/47561549/how-do-you-change-the-proxy-of-a-requests-session-object", "title": "How do you change the proxy of a requests.Session() Object?", "body": "<p><strong>General Background:</strong></p>\n\n<p>I have a list of proxies, and I have a list of PDF url's. I am downloading these PDF's.</p>\n\n<p>I want to be able to switch proxies every couple of downloads.</p>\n\n<p>I've seen the following in a few answers, but are all of the proxies used at once? Or is it random from the dict of proxies? How do I choose which proxy to use?</p>\n\n<pre><code>proxies = {\n    'https': 'http://username:password@ip:port', \n    'https': 'http://usernamepassword@ip:port',\n    'https': 'http://usernamepassword@ip:port',\n    'https': 'http://usernamepassword@ip:port',\n    'https': 'http://usernamepassword@ip:port',\n    'https': 'http://usernamepassword@ip:port'\n}\n</code></pre>\n\n<p>Here is an example sample of the current code I have</p>\n\n<p><strong>My Code:</strong></p>\n\n<pre><code>s = requests.Session()\ndata = {\"Username\":\"usr\", \"Password\":\"psw\"}\nurl = \"https://someSite.com\"\n#Logging into the site\ns.post(url, data=data) #add proxies=proxies here?\n\nfor download_url in PDFLinks:\n    temp = s.get(download_url).content\n</code></pre>\n\n<p>I have a list of usable proxy servers</p>\n\n<pre><code>https_proxy_list = \"https://IP:port\", \"https://IP:port\", \"https://IP:port\"\n</code></pre>\n\n<p><strong>How do I change the proxy of a request.Session() object? for both POST and GET</strong></p>\n\n<p>By changing the proxy I don't have to re-log into the site, right?</p>\n"}, {"tags": ["python", "zip", "gis", "unzip", "arcpy"], "comments": [{"owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 0, "creation_date": 1511988726, "post_id": 47561544, "comment_id": 82080891, "body": "What does &quot;stops working&quot; mean? Is there an error? Does <code>print(file_name)</code> show the correct path to the file? It looks like your code is not indented properly after <code>else:</code>."}, {"owner": {"reputation": 1, "user_id": 9027893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12ff829e4d07d1a52684aab144e6d0?s=128&d=identicon&r=PG&f=1", "display_name": "hawkia", "link": "https://stackoverflow.com/users/9027893/hawkia"}, "reply_to_user": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 0, "creation_date": 1511989528, "post_id": 47561544, "comment_id": 82081305, "body": "The indentation is correct in my program, it got moved to the left when I was posting on here.  I&#39;m terrible at explaining things, sorry. It will run completely through and I get the &quot;Process finished with exit code 0&quot; (I&#39;m using PyCharm)... but it didn&#39;t actually unzip the folder that I input for the directory. I&#39;m not sure why, I just tested some print statements and that&#39;s how I found out it is somewhere after the &quot;if item.endswith(&quot;.zip&quot;)&quot; line"}, {"owner": {"reputation": 139, "user_id": 933246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ebc80343b65c18cecca709dc252d8b?s=128&d=identicon&r=PG", "display_name": "Dev Uberoi", "link": "https://stackoverflow.com/users/933246/dev-uberoi"}, "edited": false, "score": 0, "creation_date": 1511991926, "post_id": 47561544, "comment_id": 82082458, "body": "I&#39;m not sure how you&#39;re looping over the files in your code. Either use <b>os.listdir</b> or <b>os.walk</b> to get the files inside the folder."}, {"owner": {"reputation": 1, "user_id": 9027893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12ff829e4d07d1a52684aab144e6d0?s=128&d=identicon&r=PG&f=1", "display_name": "hawkia", "link": "https://stackoverflow.com/users/9027893/hawkia"}, "edited": false, "score": 0, "creation_date": 1511992342, "post_id": 47561544, "comment_id": 82082679, "body": "I don&#39;t understand how to use os. this is all making me more confused"}, {"owner": {"reputation": 139, "user_id": 933246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ebc80343b65c18cecca709dc252d8b?s=128&d=identicon&r=PG", "display_name": "Dev Uberoi", "link": "https://stackoverflow.com/users/933246/dev-uberoi"}, "edited": false, "score": 0, "creation_date": 1512027206, "post_id": 47561544, "comment_id": 82093609, "body": "@hawkia <a href=\"https://docs.python.org/2/library/os.html\" rel=\"nofollow noreferrer\">os</a> is a python module which provides a portable way of using operating system dependent functionality. <a href=\"https://docs.python.org/2/library/os.html#os.listdir\" rel=\"nofollow noreferrer\">os.listdir</a> returns a list containing the names of the entries in the directory given by path Check some of the answers to understand how it is working"}, {"owner": {"reputation": 139, "user_id": 933246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ebc80343b65c18cecca709dc252d8b?s=128&d=identicon&r=PG", "display_name": "Dev Uberoi", "link": "https://stackoverflow.com/users/933246/dev-uberoi"}, "edited": false, "score": 0, "creation_date": 1512283396, "post_id": 47561544, "comment_id": 82190204, "body": "@hawkia if you&#39;re using <b>os.listdir</b>, then the nested for loop won&#39;t work and os.listdir returns only a single tuple. Replace with os.walk for above code to work <code>for dirpath, dirname, filenames in os.walk(mypath)</code>"}, {"owner": {"reputation": 139, "user_id": 933246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ebc80343b65c18cecca709dc252d8b?s=128&d=identicon&r=PG", "display_name": "Dev Uberoi", "link": "https://stackoverflow.com/users/933246/dev-uberoi"}, "edited": false, "score": 0, "creation_date": 1512283487, "post_id": 47561544, "comment_id": 82190227, "body": "replace :  <code>for dirpath, dirname, filenames in os.listdir(mypath):         for file in filenames:</code> with <code>for file in os.listdir(mypath):</code>"}, {"owner": {"reputation": 1, "user_id": 9027893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12ff829e4d07d1a52684aab144e6d0?s=128&d=identicon&r=PG&f=1", "display_name": "hawkia", "link": "https://stackoverflow.com/users/9027893/hawkia"}, "reply_to_user": {"reputation": 139, "user_id": 933246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ebc80343b65c18cecca709dc252d8b?s=128&d=identicon&r=PG", "display_name": "Dev Uberoi", "link": "https://stackoverflow.com/users/933246/dev-uberoi"}, "edited": false, "score": 0, "creation_date": 1512404673, "post_id": 47561544, "comment_id": 82233500, "body": "@DevUberoi that works to recognize the .ZIP folder now.. but there is still an error that says the following referring to the <code>with zipfile.ZipFile(os.path.abspath(file)) as z:</code> line.......  <b>line 1009, in__init__ self.fp = io.open(file, filemode)</b> <b>FileNotFoundError: [Errno 2] No such file or directory</b>"}, {"owner": {"reputation": 139, "user_id": 933246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ebc80343b65c18cecca709dc252d8b?s=128&d=identicon&r=PG", "display_name": "Dev Uberoi", "link": "https://stackoverflow.com/users/933246/dev-uberoi"}, "edited": false, "score": 0, "creation_date": 1512414625, "post_id": 47561544, "comment_id": 82238945, "body": "@hawkia Replace <code>os.path.abspath(file)</code> with <code>os.path.join(mypath, file)</code> everywhere. Should solve the issue."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9027893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12ff829e4d07d1a52684aab144e6d0?s=128&d=identicon&r=PG&f=1", "display_name": "hawkia", "link": "https://stackoverflow.com/users/9027893/hawkia"}, "edited": false, "score": 0, "creation_date": 1511990820, "post_id": 47561952, "comment_id": 82081956, "body": "I tried to make the changes you suggested and it still did not extract the files. I was using other people posts to figure out the extraction so I&#39;m clueless as to why it won&#39;t work still"}, {"owner": {"reputation": 309, "user_id": 8840163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZUg0i.gif?s=128&g=1", "display_name": "HSchmachty", "link": "https://stackoverflow.com/users/8840163/hschmachty"}, "reply_to_user": {"reputation": 1, "user_id": 9027893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12ff829e4d07d1a52684aab144e6d0?s=128&d=identicon&r=PG&f=1", "display_name": "hawkia", "link": "https://stackoverflow.com/users/9027893/hawkia"}, "edited": false, "score": 0, "creation_date": 1511991116, "post_id": 47561952, "comment_id": 82082085, "body": "If you can verify that the issue does not stem from arcpy (setting an environment in a file directory seems strange especially if you&#39;re just trying to extract a zip file), then you should check to see if the file_name is truly returning your zip file of interest."}], "tags": [], "owner": {"reputation": 309, "user_id": 8840163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZUg0i.gif?s=128&g=1", "display_name": "HSchmachty", "link": "https://stackoverflow.com/users/8840163/hschmachty"}, "is_accepted": false, "score": 0, "last_activity_date": 1511991495, "last_edit_date": 1511991495, "creation_date": 1511990143, "answer_id": 47561952, "question_id": 47561544, "link": "https://stackoverflow.com/questions/47561544/python-error-extracting-zip-file/47561952#47561952", "title": "Python error extracting zip file", "body": "<p>Your first if-block will negate the else-block if the location is invalid. I'd remove the 'else' operator entirely. If you keep it, the if-check effectively kills the program. The \"if folderExist\" is sufficient to replace the else.</p>\n\n<pre><code>import arcpy, zipfile, os\n\n\n# ask what directory to search in \nfolder = input(\"Where is the directory? \")\n# set workspace as variable so can change location\narcpy.env.workspace = folder\n\n# check if invalid entry - if bad, ask to input different location\nif len(folder) == 0:\n    print(\"Invalid location.\")\n    new_folder = input(\"Try another directory?\")\n    new_folder = folder\n    # does the above replace old location and re set as directory location?\n\n\n\n# check to see if folder exists\nfolderExist = arcpy.Exists(folder)\nif folderExist:\n    # loop through files in directory\n        for item in folder:\n        # check for .zip extension\n            if item.endswith(\".zip\"):\n                 file_name = os.path.abspath(item) # get full path of files\n                 print(file_name)\n                 zip_ref = zipfile.ZipFile(file_name) # create zipfile object\n                 zip_ref.extractall(folder) # extract all to directory\n                 zip_ref.close() # close file\n</code></pre>\n\n<p>This may be neater if you're okay not using your original code:</p>\n\n<pre><code>import zipfile, os\nfrom tkinter import filedialog as fd\n\n# ask what directory to search in \nfolder = fd.askdirectory(title=\"Where is the directory?\")\n\n# loop through files in directory\nfor item in os.listdir(folder):\n     # check for .zip extension\n     if zipfile.is_zipfile(item):\n         file_name = os.path.abspath(item) # get full path of files\n         # could string combine to ensure path\n         # file_name = folder + \"/\" + item\n         print(file_name)\n\n         zip_ref = zipfile.ZipFile(file_name) # create zipfile object\n         zip_ref.extractall(folder) # extract all to directory\n         zip_ref.close() # close file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "is_accepted": false, "score": 0, "last_activity_date": 1511990830, "last_edit_date": 1511990830, "creation_date": 1511990350, "answer_id": 47562004, "question_id": 47561544, "link": "https://stackoverflow.com/questions/47561544/python-error-extracting-zip-file/47562004#47562004", "title": "Python error extracting zip file", "body": "<p>I'm not sure on the use of <code>arcpy</code>. However...</p>\n\n<p>To iterate over entries in a directory, use <a href=\"https://docs.python.org/3/library/os.html#os.listdir\" rel=\"nofollow noreferrer\"><code>os.listdir</code></a>:</p>\n\n<pre><code>for entry_name in os.listdir(directory_path): \n    # ...\n</code></pre>\n\n<p>Inside the loop, <code>entry_name</code> will be the name of an item in the directory at <code>directory_path</code>. </p>\n\n<p>When checking if it ends with \".zip\", keep in mind that the comparison is case sensitive. You can use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.lower\" rel=\"nofollow noreferrer\"><code>str.lower</code></a> to effectively ignore case when using <a href=\"https://docs.python.org/3/library/stdtypes.html#str.endswith\" rel=\"nofollow noreferrer\"><code>str.endswith</code></a>:</p>\n\n<pre><code>if entry_name.lower().endswith('.zip'):\n        # ...\n</code></pre>\n\n<p>To get the full path to the entry (in this case, your .zip), use <a href=\"https://docs.python.org/3/library/os.path.html#os.path.join\" rel=\"nofollow noreferrer\"><code>os.path.join</code></a>:</p>\n\n<pre><code>entry_path = os.path.join(directory_path, entry_name)\n</code></pre>\n\n<p>Pass this full path to <code>zipfile.ZipFile</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 1, "creation_date": 1511990639, "post_id": 47562022, "comment_id": 82081873, "body": "Note that <a href=\"https://docs.python.org/3/library/os.html#os.walk\" rel=\"nofollow noreferrer\"><code>os.walk</code></a> covers the entire directory tree (using <code>os.listdir</code>) while <a href=\"https://docs.python.org/3/library/os.html#os.listdir\" rel=\"nofollow noreferrer\"><code>os.listdir</code></a> only covers the directory."}, {"owner": {"reputation": 1, "user_id": 9027893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12ff829e4d07d1a52684aab144e6d0?s=128&d=identicon&r=PG&f=1", "display_name": "hawkia", "link": "https://stackoverflow.com/users/9027893/hawkia"}, "edited": false, "score": 0, "creation_date": 1512066286, "post_id": 47562022, "comment_id": 82117612, "body": "When I tried this it says there is an error with &quot;for dirpath, dirnames, filenames in os.walk(mypath):&quot; saying there are too many variables to unpack"}, {"owner": {"reputation": 139, "user_id": 933246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ebc80343b65c18cecca709dc252d8b?s=128&d=identicon&r=PG", "display_name": "Dev Uberoi", "link": "https://stackoverflow.com/users/933246/dev-uberoi"}, "reply_to_user": {"reputation": 1, "user_id": 9027893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12ff829e4d07d1a52684aab144e6d0?s=128&d=identicon&r=PG&f=1", "display_name": "hawkia", "link": "https://stackoverflow.com/users/9027893/hawkia"}, "edited": false, "score": 0, "creation_date": 1512073402, "post_id": 47562022, "comment_id": 82121456, "body": "@hawkia that should not be happening, it works fine on mine. <a href=\"https://docs.python.org/2/library/os.html#os.walk\" rel=\"nofollow noreferrer\">os.walk</a> returns 3 tuples. Can you paste the code you tried?"}, {"owner": {"reputation": 1, "user_id": 9027893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12ff829e4d07d1a52684aab144e6d0?s=128&d=identicon&r=PG&f=1", "display_name": "hawkia", "link": "https://stackoverflow.com/users/9027893/hawkia"}, "edited": false, "score": 0, "creation_date": 1512158058, "post_id": 47562022, "comment_id": 82159627, "body": "@DevUberoi I wasn&#39;t sure how to add the code to the comment correctly so I added it to the end of my original post."}], "tags": [], "owner": {"reputation": 139, "user_id": 933246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15ebc80343b65c18cecca709dc252d8b?s=128&d=identicon&r=PG", "display_name": "Dev Uberoi", "link": "https://stackoverflow.com/users/933246/dev-uberoi"}, "is_accepted": false, "score": 0, "last_activity_date": 1512414815, "last_edit_date": 1512414815, "creation_date": 1511990429, "answer_id": 47562022, "question_id": 47561544, "link": "https://stackoverflow.com/questions/47561544/python-error-extracting-zip-file/47562022#47562022", "title": "Python error extracting zip file", "body": "<p>[UPDATED]</p>\n\n<p>I was able to solve the same with the following code</p>\n\n<pre><code>import os\nimport zipfile\n\nmypath = raw_input('Enter Folder: ')\n\nif os.path.isdir(mypath):\n    for file in os.listdir(mypath):\n        if file.endswith('.zip'):\n            with zipfile.ZipFile(os.path.join(mypath, file)) as z:\n                z.extractall(mypath)\nelse:\n    print('Directory does not exist')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9027893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f12ff829e4d07d1a52684aab144e6d0?s=128&d=identicon&r=PG&f=1", "display_name": "hawkia", "link": "https://stackoverflow.com/users/9027893/hawkia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2961, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1529501579, "creation_date": 1511988450, "last_edit_date": 1529501579, "question_id": 47561544, "link": "https://stackoverflow.com/questions/47561544/python-error-extracting-zip-file", "title": "Python error extracting zip file", "body": "<p>I only know how to write python for GIS purposes. There is more to this code using arcpy and geoprocessing tools.... this is just the beginning part I'm stuck on that is for trying to get data ready so I can then use the shapefiles within the zipped folder for the rest of my script</p>\n\n<p>I am trying to prompt the user to enter a directory to search through. For use of this script it will be searching for a compressed zip file, then extract all the files to that same directory. </p>\n\n<pre><code>import zipfile, os\n\n\n# ask what directory to search in \nmypath = input(\"Enter .zip folder path: \")\nextension = \".zip\"\n\nos.chdir(mypath) # change directory from working dir to dir with files\n\nfor item in os.listdir(mypath):\n    if item.endswith(extension):\n        filename = os.path.abspath(item)\n        zip_ref = zipfile.ZipFile(filename)\n        zip_ref.extractall(mypath)\n        zip_ref.close()\n</code></pre>\n\n<p>Tried with y'alls suggestions and still have issues with the following:</p>\n\n<pre><code>import zipfile, os\n\nmypath = input(\"Enter folder: \")\n\n\nif os.path.isdir(mypath):\n    for dirpath, dirname, filenames in os.listdir(mypath):\n        for file in filenames:\n            if file.endswith(\".zip\"):\n                print(os.path.abspath(file))\n                with zipfile.ZipFile(os.path.abspath(file)) as z:\n                    z.extractall(mypath)\n\nelse:\n    print(\"Directory does not exist.\")\n</code></pre>\n"}, {"tags": ["python", "tkinter", "radio-button", "variable-assignment", "tkinter-layout"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1511988968, "post_id": 47561543, "comment_id": 82081018, "body": "The variable must be one of the special tkinter variables (eg: <code>StringVar</code>, <code>IntVar</code>)"}, {"owner": {"reputation": 29, "user_id": 7244779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-1fI83wMzUIU/AAAAAAAAAAI/AAAAAAAAA78/iSx3sb9Y0a4/photo.jpg?sz=128", "display_name": "Cameron Hamilton", "link": "https://stackoverflow.com/users/7244779/cameron-hamilton"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1511990389, "post_id": 47561543, "comment_id": 82081754, "body": "but how would i then convert this into either an int or a variable as it is returning &#39;PY_VAR0&#39;"}, {"owner": {"reputation": 29, "user_id": 7244779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-1fI83wMzUIU/AAAAAAAAAAI/AAAAAAAAA78/iSx3sb9Y0a4/photo.jpg?sz=128", "display_name": "Cameron Hamilton", "link": "https://stackoverflow.com/users/7244779/cameron-hamilton"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1511990411, "post_id": 47561543, "comment_id": 82081763, "body": "I wanting to write the value of this variable to a database"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1511990583, "post_id": 47561543, "comment_id": 82081842, "body": "What you are asking can be found in tkinter documentation, as well as in many questions on this site."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1511992646, "post_id": 47561543, "comment_id": 82082842, "body": "with <code>StringVar</code> you have to use <code>var.get()</code>, <code>var.set()</code> to get and set value"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7244779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-1fI83wMzUIU/AAAAAAAAAAI/AAAAAAAAA78/iSx3sb9Y0a4/photo.jpg?sz=128", "display_name": "Cameron Hamilton", "link": "https://stackoverflow.com/users/7244779/cameron-hamilton"}, "edited": false, "score": 0, "creation_date": 1512066818, "post_id": 47565399, "comment_id": 82117888, "body": "Okay so according to this each radio button will return &#39;PY_VAR0&#39; right? How would I change the value of another variable according to the actual variable of &#39;v&#39;. For instance depending on which radio button is selected variable &#39;x&#39; equals &#39;y&#39;. and do this for each rad button"}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "reply_to_user": {"reputation": 29, "user_id": 7244779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-1fI83wMzUIU/AAAAAAAAAAI/AAAAAAAAA78/iSx3sb9Y0a4/photo.jpg?sz=128", "display_name": "Cameron Hamilton", "link": "https://stackoverflow.com/users/7244779/cameron-hamilton"}, "edited": false, "score": 0, "creation_date": 1512066871, "post_id": 47565399, "comment_id": 82117919, "body": "@CameronHamilton No in this example <code>v.get()</code> will return 1, 2, 3 etc."}, {"owner": {"reputation": 29, "user_id": 7244779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-1fI83wMzUIU/AAAAAAAAAAI/AAAAAAAAA78/iSx3sb9Y0a4/photo.jpg?sz=128", "display_name": "Cameron Hamilton", "link": "https://stackoverflow.com/users/7244779/cameron-hamilton"}, "edited": false, "score": 0, "creation_date": 1512066969, "post_id": 47565399, "comment_id": 82117978, "body": "ahhhh okay thankyou so there is no need to convert the string var into a string in my example code"}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "reply_to_user": {"reputation": 29, "user_id": 7244779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-1fI83wMzUIU/AAAAAAAAAAI/AAAAAAAAA78/iSx3sb9Y0a4/photo.jpg?sz=128", "display_name": "Cameron Hamilton", "link": "https://stackoverflow.com/users/7244779/cameron-hamilton"}, "edited": false, "score": 0, "creation_date": 1512068266, "post_id": 47565399, "comment_id": 82118737, "body": "@CameronHamilton You will need to use <code>v.get()</code> when you want that variable to manipulate other stuff. So there can be a need."}], "tags": [], "owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "is_accepted": false, "score": 0, "last_activity_date": 1512012360, "creation_date": 1512012360, "answer_id": 47565399, "question_id": 47561543, "link": "https://stackoverflow.com/questions/47561543/how-to-use-radio-buttons-to-assign-a-value-to-a-variable-in-python/47565399#47565399", "title": "How to use radio buttons to assign a value to a variable in Python?", "body": "<p>In the below code radiobuttons change the value of a variable <code>v</code> when selected. The initial value of <code>v</code> is <code>\"2\"</code>, so the 2nd radiobutton is selected by default.</p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\n\nv = tk.StringVar()\nv.set(\"2\")\n\ntk.Label(root, textvariable=v).pack()\n\ntk.Radiobutton(root, text=\"one\", variable=v, value=\"1\").pack()\ntk.Radiobutton(root, text=\"two\", variable=v, value=\"2\").pack()\ntk.Radiobutton(root, text=\"three\", variable=v, value=\"3\").pack()\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7244779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-1fI83wMzUIU/AAAAAAAAAAI/AAAAAAAAA78/iSx3sb9Y0a4/photo.jpg?sz=128", "display_name": "Cameron Hamilton", "link": "https://stackoverflow.com/users/7244779/cameron-hamilton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3232, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512012360, "creation_date": 1511988446, "last_edit_date": 1512003861, "question_id": 47561543, "link": "https://stackoverflow.com/questions/47561543/how-to-use-radio-buttons-to-assign-a-value-to-a-variable-in-python", "title": "How to use radio buttons to assign a value to a variable in Python?", "body": "<p>I am trying to assign a value to a variable using a radio button in python with the following code:</p>\n\n<pre><code>def print_me():\nglobal payment\nglobal membership\n\nif studentMemString == \"PY_VAR0\":\n    membership = \"STUDENT\"\n    payment = studentMem\nelif adultMemString == \"PY_VAR10\":\n    membership = \"ADULT\"\n    payment = adultMem\nelif childMemString == \"PY_VAR0\":\n    membership = \"CHILD\"\n    payment = childMem\nelse:\n    pass\nprint(membership)\nprint(payment)\n\n\nroot = tk.Tk()\nstudentMem = tk.StringVar()\nstudentMemString = str(studentMem)\n\nadultMem = tk.StringVar()\nadultMemString = str(adultMem)\n\nchildMem = tk.StringVar()\nchildMemString = str(childMem)\n\n\nstudentRadBtn = tk.Radiobutton(root, text=\"Student - \u00a319.99\", \nvariable=studentMem, value= 19.99)\nstudentRadBtn.pack()\nadultRadBtn = tk.Radiobutton(root, text=\"Adult - \u00a334.99\", variable=adultMem, \nvalue= 34.99)\nadultRadBtn.pack()\nchildRadBtn = tk.Radiobutton(root, text=\"Child - \u00a35.99\", variable=childMem, \nvalue=5.99)\nchildRadBtn.pack()\n\nbutton = tk.Button(root, text=\"click\", command=print_me)\nbutton.pack()\n\nroot.mainloop()\n</code></pre>\n\n<p>(update) Okay So now the issue is that when i start the program all the radio buttons are active and regardless of which one I try to click on the only one that is called is the first one. Why are they all selected?</p>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1511988428, "post_id": 47561527, "comment_id": 82080726, "body": "So break down the problem. Do you know how to sum an individual value list? Do you know how to loop over all values?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1511988449, "post_id": 47561527, "comment_id": 82080737, "body": "This is <i>really trivial</i> with a little looping. Have you tried anything yourself yet, did you get stuck anywhere?"}, {"owner": {"reputation": 9, "user_id": 8464498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e7ae796e347371f30ae655da49ed05?s=128&d=identicon&r=PG&f=1", "display_name": "shads", "link": "https://stackoverflow.com/users/8464498/shads"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1511988980, "post_id": 47561527, "comment_id": 82081027, "body": "I am able to get the sum of the individual value list                                     inv = {&#39;jan&#39;:[10,20],&#39;Feb&#39;:[33,40,50],&#39;mar&#39;:[20,56],&#39;apr&#39;:[20,21,3&zwnj;&#8203;0]} for key, values in inv.items():     print(key, sum(value))"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1511989049, "post_id": 47561527, "comment_id": 82081056, "body": "so how would you go about summing all those individual sums?"}], "answers": [{"tags": [], "owner": {"reputation": 188, "user_id": 8997676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e184c22ee51bcb52f9de4e130c640d?s=128&d=identicon&r=PG", "display_name": "Aaron Lael", "link": "https://stackoverflow.com/users/8997676/aaron-lael"}, "is_accepted": false, "score": 1, "last_activity_date": 1511989635, "creation_date": 1511989635, "answer_id": 47561806, "question_id": 47561527, "link": "https://stackoverflow.com/questions/47561527/python-sum-values-in-nested-dict/47561806#47561806", "title": "Python - Sum values in nested dict", "body": "<p>You can get a list of the keys in your dict</p>\n\n<pre><code>keys = list(inv.keys())\n</code></pre>\n\n<p>You can use that list to then loop through the keys to get their values and loop those lists to get the sum.</p>\n\n<pre><code>total = 0\nfor key in keys:\n    for val in inv[key]:\n        total += val\nprint(total)\n\n300\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 6272169, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10156870110820287/picture?type=large", "display_name": "mickNeill", "link": "https://stackoverflow.com/users/6272169/mickneill"}, "is_accepted": true, "score": 0, "last_activity_date": 1512061088, "last_edit_date": 1512061088, "creation_date": 1511989984, "answer_id": 47561908, "question_id": 47561527, "link": "https://stackoverflow.com/questions/47561527/python-sum-values-in-nested-dict/47561908#47561908", "title": "Python - Sum values in nested dict", "body": "<p>Create a list of lists from the values. Then sum the list of lists    </p>\n\n<pre><code>inv = {'jan':[10,20],'Feb':[33,40,50],'mar':[20,56],'apr':[20,21,30]}\n    sumList = []\n    for key in inv:\n        sumList.append(inv[key])\n\n    print sum(sum(x) for x in sumList)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8464498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73e7ae796e347371f30ae655da49ed05?s=128&d=identicon&r=PG&f=1", "display_name": "shads", "link": "https://stackoverflow.com/users/8464498/shads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1318, "favorite_count": 0, "accepted_answer_id": 47561908, "answer_count": 2, "score": -4, "last_activity_date": 1512061088, "creation_date": 1511988352, "last_edit_date": 1511989226, "question_id": 47561527, "link": "https://stackoverflow.com/questions/47561527/python-sum-values-in-nested-dict", "title": "Python - Sum values in nested dict", "body": "<p>I have a nested dict as follows.</p>\n\n<pre><code>inv = {'jan':[10,20],'Feb':[33,40,50],'mar':[20,56],'apr':[20,21,30]}\n    for value in inv.items():\nprint(sum(inv.values()))\n</code></pre>\n\n<p>I want the sum of the values to be returned as total.</p>\n\n<p>The total should be 300 </p>\n"}, {"tags": ["python", "csv", "plot"], "comments": [{"owner": {"reputation": 8890, "user_id": 4349415, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ta4zl.png?s=128&g=1", "display_name": "Mike Scotty", "link": "https://stackoverflow.com/users/4349415/mike-scotty"}, "edited": false, "score": 0, "creation_date": 1511988395, "post_id": 47561507, "comment_id": 82080714, "body": "Please include the exact error message / traceback in your question."}, {"owner": {"reputation": 13285, "user_id": 157770, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/870524e51f7b2cf270f9053abea676d5?s=128&d=identicon&r=PG", "display_name": "AlG", "link": "https://stackoverflow.com/users/157770/alg"}, "edited": false, "score": 0, "creation_date": 1511988444, "post_id": 47561507, "comment_id": 82080736, "body": "If you know which column in your CSV should be a float, you could run that conversion yourself and output the line (or lines) where you get that error."}, {"owner": {"reputation": 2508, "user_id": 1491278, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb9277b775f30c8d5574627cfb79ed14?s=128&d=identicon&r=PG", "display_name": "Grantly", "link": "https://stackoverflow.com/users/1491278/grantly"}, "edited": false, "score": 0, "creation_date": 1511988643, "post_id": 47561507, "comment_id": 82080847, "body": "Add a little of your CSV file to the question too please :) Welcome to Stackoverflow"}], "answers": [{"tags": [], "owner": {"reputation": 2508, "user_id": 1491278, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb9277b775f30c8d5574627cfb79ed14?s=128&d=identicon&r=PG", "display_name": "Grantly", "link": "https://stackoverflow.com/users/1491278/grantly"}, "is_accepted": false, "score": 0, "last_activity_date": 1511988810, "last_edit_date": 1511988810, "creation_date": 1511988505, "answer_id": 47561557, "question_id": 47561507, "link": "https://stackoverflow.com/questions/47561507/how-to-fix-this-error-could-not-convert-string-to-float-error-with-csv-file/47561557#47561557", "title": "How to fix this error: Could not convert string to float error with csv file", "body": "<p>I don't know <code>python</code> but I know CSV and programming and I will bet that you have values like <code>1,234.05</code> in your CSV file, where the python code does not like the comma...  You may have to pre-process your CSV values, by replacing commas with nothing (removing the commas) to get it to parse the string properly into a float.</p>\n\n<p>Post your exact error circumstances and I will review my answer.  For example, in Sweden the number 1234.05 would be expressed as text as <code>1 234,05</code>   - so you can see the parsing problems with multilingual data</p>\n"}], "owner": {"reputation": 21, "user_id": 8560824, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-CPZQV7UYZXE/AAAAAAAAAAI/AAAAAAAAAJ4/IhJuc_00FpA/photo.jpg?sz=128", "display_name": "Sarah Elton", "link": "https://stackoverflow.com/users/8560824/sarah-elton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 832, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511988810, "creation_date": 1511988271, "question_id": 47561507, "link": "https://stackoverflow.com/questions/47561507/how-to-fix-this-error-could-not-convert-string-to-float-error-with-csv-file", "title": "How to fix this error: Could not convert string to float error with csv file", "body": "<p>I am using a csv file and trying to take information to make a graph. Everything looks right until I try to plot the scatter plot and it gives me the error that it couldn't convert string to float.</p>\n\n<pre><code>   matrix=[]\n     doors= []\n     import csv\n     with open('9car.data.csv') as csvfile: \n         M=csv.reader(csvfile, delimiter=',')\n\n         for row in M:\n            rowlist= [x for x in row]\n            matrix.append(rowlist)\n         for index in range(len(matrix)):\n             if (index==0):\n                 pass\n             else:\n                 doors.append((matrix[index][2]))\n    import matplotlib.pyplot as plt\n    from math import *\n    import numpy as np\n    from numpy import *\n\n    n=1\n    a=np.arange(0,len(doors),n)\n    y=[doors[int(x)] for x in a ]\n    plt.scatter(a,y)\n    plt.show()\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 0, "last_activity_date": 1511988434, "creation_date": 1511988434, "answer_id": 47561540, "question_id": 47561505, "link": "https://stackoverflow.com/questions/47561505/trouble-serving-django-static-files/47561540#47561540", "title": "Trouble Serving Django Static Files", "body": "<p>The setting name is <code>STATICFILES_DIRS</code> (plural).</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 14955196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e44e0c4101d88dde32dc5177b6b9cc?s=128&d=identicon&r=PG&f=1", "display_name": "hallwyatt", "link": "https://stackoverflow.com/users/14955196/hallwyatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1617405051, "creation_date": 1617405051, "answer_id": 66926261, "question_id": 47561505, "link": "https://stackoverflow.com/questions/47561505/trouble-serving-django-static-files/66926261#66926261", "title": "Trouble Serving Django Static Files", "body": "<p>Your STATICFILES_DIR is a tuple, it should be a list. You have it enclosed in parentheses whereas it should be this:</p>\n<p><code>STATICFILES_DIR = [os.path.join(BASE_DIR, 'static'),]</code></p>\n"}], "owner": {"reputation": 95, "user_id": 3043969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/960cbf77b580caa6b16d5f7be0a7d80c?s=128&d=identicon&r=PG&f=1", "display_name": "Bernard2324", "link": "https://stackoverflow.com/users/3043969/bernard2324"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 953, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1617405051, "creation_date": 1511988268, "question_id": 47561505, "link": "https://stackoverflow.com/questions/47561505/trouble-serving-django-static-files", "title": "Trouble Serving Django Static Files", "body": "<p>I'm having a lot of difficulty serving static files using runserver.  I've included the configurations below, can someone help?</p>\n\n<pre><code>STATIC_URL = '/static/'\n\nSTATICFILES_DIR = (\n    os.path.join(BASE_DIR, 'static'),\n)\n\nSTATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')\n</code></pre>\n\n<p>Here is the top of my base.html file:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n{% load static %}\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'css/style.css' %}\"&gt;\n&lt;link href='https://fonts.googleapis.com/css?family=Satisfy' rel='stylesheet' type='text/css'&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>What I have done so far:</p>\n\n<p>I have already issued the 'python manage.py collectstatic' command, and only 'admin' static files where placed in the /staticfiles directory.  When running the command 'python manage.py findstatic css/style.css --verbosity 3' I get the following results:</p>\n\n<blockquote>\n  <p>C:\\Users\\john.doe\\Desktop\\sysnet>python manage.py findstatic\n  css/style.css --verbosity 3 No matching file found for\n  'css/style.css'.</p>\n  \n  <p>Looking in the following locations:<br>\n  C:\\Python27\\lib\\site-packages\\django\\contrib\\admin\\static</p>\n  \n  <p>C:\\Users\\john.doe\\Desktop\\sysnet></p>\n</blockquote>\n\n<p>Why is it searching Python27\\lib\\site-packages\\django\\contrib\\admin\\static ?  I'm guessing this is is why the collectstatic command did not place files from /static in the /staticfiles?  </p>\n\n<p>I have included the directory structure below (minus the files), can anybody help?</p>\n\n<pre><code>sysnet\n\u251c\u2500\u2500\u2500.idea\n\u251c\u2500\u2500\u2500chef\n\u2502   \u251c\u2500\u2500\u2500migrations\n\u2502   \u2514\u2500\u2500\u2500templates\n\u251c\u2500\u2500\u2500static\n\u2502   \u251c\u2500\u2500\u2500css\n\u2502   \u251c\u2500\u2500\u2500img\n\u2502   \u2514\u2500\u2500\u2500js\n\u251c\u2500\u2500\u2500staticfiles\n\u2502   \u2514\u2500\u2500\u2500admin\n\u2502       \u251c\u2500\u2500\u2500css\n\u2502       \u251c\u2500\u2500\u2500fonts\n\u2502       \u251c\u2500\u2500\u2500img\n\u2502       \u2502   \u2514\u2500\u2500\u2500gis\n\u2502       \u2514\u2500\u2500\u2500js\n\u2502           \u251c\u2500\u2500\u2500admin\n\u2502           \u2514\u2500\u2500\u2500vendor\n\u2502               \u251c\u2500\u2500\u2500jquery\n\u2502               \u2514\u2500\u2500\u2500xregexp\n\u2514\u2500\u2500\u2500sysnet\n</code></pre>\n\n<p>My style.css is in /static/css, and it should work.  The console output always shows 404 not found.</p>\n\n<pre><code>[29/Nov/2017 14:42:34] \"GET / HTTP/1.1\" 200 3588\n[29/Nov/2017 14:42:34] \"GET /static/css/style.css HTTP/1.1\" 404 1652\n</code></pre>\n\n<p><strong>I should note that everything works fine except for the static files.</strong></p>\n"}, {"tags": ["python", "turtle-graphics", "nonetype"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1511988632, "post_id": 47561491, "comment_id": 82080843, "body": "what is <code>rectangle</code> in last line of error ? Probably you have one element in <code>rectangle</code> but you use it as list in <code>min(p[0] for p in rectangle)</code>. You can use <code>print(rectangle)</code> or <code>print( type(rectangle) )</code> to check it."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1511988999, "post_id": 47561491, "comment_id": 82081037, "body": "you have variable <code>finish = ...</code> and function <code>def finish(...)</code> - it makes problem when you use <code>inside(..., finish)</code> because it puts function <code>finish</code> not variable <code>finish</code>. Bu tmaybe you should use something different instead of <code>finish</code> in <code>inside(..., finish)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "is_accepted": false, "score": 0, "last_activity_date": 1515945527, "creation_date": 1515945527, "answer_id": 48251402, "question_id": 47561491, "link": "https://stackoverflow.com/questions/47561491/python-turtle-game-making-walls-that-arent-outside-borders-fixing-nonetype-er/48251402#48251402", "title": "Python turtle game, making walls that aren&#39;t outside borders, fixing NoneType error code, not iterable", "body": "<p>You are assigning a polygon to these variables:</p>\n\n<pre><code>river = drawRiver(layout)\nbridge = drawBridge(layout)\nplanks = drawPlanks(layout)\nwinner = winLine(layout)\n</code></pre>\n\n<p>However, the two functions drawPlanks and winLine do not return a polygon; they return <code>None</code> by default, which is assigned to <code>planks</code> and <code>winner</code>; later, when you call <code>inside</code> on <code>winner</code>, it passes <code>None</code> instead of a <code>polygon</code> as argument. You need to add <code>return turtle.get_poly()</code> for both these functions:</p>\n\n<pre><code>def winLine(turtle):\n    turtle.up()\n    turtle.color('red')\n    turtle.goto(-WIDTH / 2, 0)\n\n    turtle.down()\n    turtle.begin_poly()\n    turtle.begin_fill()\n    turtle.forward(WIDTH)\n    turtle.right(90)\n    turtle.forward(50)\n    turtle.right(90)\n    turtle.forward(WIDTH)\n    turtle.end_fill()\n    turtle.end_poly()\n\n    return turtle.get_poly()      # &lt;-- here\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>def drawPlanks(turtle):\n    layout.goto(149, -125)\n    for i in range(37):\n        layout.pensize(.1)\n        layout.down()\n        layout.color(\"black\")\n        layout.forward(.3)\n        layout.left(90)\n        layout.forward(99)\n        layout.left(90)\n        layout.forward(.3)\n        layout.left(90)\n        layout.forward(99)\n        layout.left(90)\n        layout.up()\n        layout.forward(4)\n    layout.goto(149, 25)\n    layout.down()\n    layout.left(90)\n    layout.forward(100)\n    layout.pensize(.1)\n    layout.up()\n    layout.goto(149, -125)\n    layout.down()\n    layout.right(90)\n    layout.forward(151)\n    layout.up()\n    layout.goto(49, -125)\n    layout.down()\n    layout.forward(151)\n\n    return turtle.get_poly()      # &lt;-- and there\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8934332, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gX6VLl_PTTo/AAAAAAAAAAI/AAAAAAAAAAw/_DiTr-Fzxis/photo.jpg?sz=128", "display_name": "Jacob Farrell", "link": "https://stackoverflow.com/users/8934332/jacob-farrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1515945527, "creation_date": 1511988216, "last_edit_date": 1512147308, "question_id": 47561491, "link": "https://stackoverflow.com/questions/47561491/python-turtle-game-making-walls-that-arent-outside-borders-fixing-nonetype-er", "title": "Python turtle game, making walls that aren&#39;t outside borders, fixing NoneType error code, not iterable", "body": "<p>Everything was working fine until I put in everything involving win and finish, then it keeps telling me that a code that was working before, is now not iterable. What is supposed to happen is when they cross a certain distance they get somewhere else on the map, I don't care wear else, this is just a test. I keep getting the error code. </p>\n\n<pre><code>`Exception in Tkinter callback\nTraceback (most recent call last):\nFile \"C:\\Program Files\\Python36\\lib\\tkinter\\__init__.py\", line 1699, in \n__call__\nreturn self.func(*args)\nFile \"C:\\Program Files\\Python36\\lib\\turtle.py\", line 686, in eventfun\nfun()\nFile \"E:\\Home made game\\original.py\", line 183, in k1\nelif win(player):\nFile \"E:\\Home made game\\original.py\", line 37, in win\nreturn inside(position, winner)\nFile \"E:\\Home made game\\original.py\", line 7, in inside\nx1 = min(p[0] for p in rectangle)\nTypeError: 'NoneType' object is not iterable'\n</code></pre>\n\n<p>And here is the rest of my code.</p>\n\n<pre><code>from turtle import Turtle, Screen\n\ndef inside(point, rectangle):\n    x, y = point\n\n    # not efficient, just a quick solution\n    x1 = min(p[0] for p in rectangle)\n    y1 = min(p[1] for p in rectangle)\n    x2 = max(p[0] for p in rectangle)\n    y2 = max(p[1] for p in rectangle)\n\n    return x1 &lt; x &lt; x2 and y1 &lt; y &lt; y2\n\ndef not_safe(turtle):\n    position = turtle.position()\n    return inside(position, river) and not inside(position, bridge)\n\ndef winLine(turtle):\n    turtle.up()\n    turtle.color('red')\n    turtle.goto(-WIDTH / 2, 0)\n\n    turtle.down()\n    turtle.begin_poly()\n    turtle.begin_fill()\n    turtle.forward(WIDTH)\n    turtle.right(90)\n    turtle.forward(50)\n    turtle.right(90)\n    turtle.forward(WIDTH)\n    turtle.end_fill()\n    turtle.end_poly()\n\ndef win(turtle):\n    position = turtle.position()\n    return inside(position, winner)\n\ndef drawTree(t, sd):\n    for i in range(4):\n        layout.down()\n        t.forward(sd)\n        t.right(90)\n        layout.up()\n\ndef drawRiver(turtle):\n    turtle.color('darkblue', 'blue')\n\n    turtle.goto(-WIDTH / 2, 0)\n\n    turtle.begin_poly()\n    turtle.begin_fill()\n    turtle.forward(WIDTH)\n    turtle.right(90)\n    turtle.forward(100)\n    turtle.right(90)\n    turtle.forward(WIDTH)\n    turtle.end_fill()\n    turtle.end_poly()\n\n    return turtle.get_poly()\n\ndef tree(branchLen,layout):\n    if branchLen &gt; 6:\n        layout.down()\n        layout.forward(branchLen)\n        layout.right(20)\n        tree(branchLen-6,layout)\n        layout.left(40)\n        tree(branchLen-6,layout)\n        layout.right(20)\n        layout.backward(branchLen)\n        layout.up()\n\ndef main():\n    layout.speed('fastest')\n    layout.left(90)\n    layout.up()\n    layout.backward(100)\n    layout.down()\n    layout.color(\"brown\")\n    tree(36,layout)\n    layout.right(90)\n    layout.up()\n\n\ndef drawBridge(turtle):\n    turtle.goto(150, 25)\n    turtle.color('rosybrown4', 'saddlebrown')\n\n    turtle.begin_poly()\n    turtle.begin_fill()\n    turtle.forward(100)\n    turtle.left(90)\n    turtle.forward(150)\n    turtle.left(90)\n    turtle.forward(100)\n    turtle.left(90)\n    turtle.end_fill()\n    turtle.end_poly()\n\n    return turtle.get_poly()\n\ndef drawPlanks(turtle):\n    layout.goto(149, -125)\n    for i in range(37):\n        layout.pensize(.1)\n        layout.down()\n        layout.color(\"black\")\n        layout.forward(.3)\n        layout.left(90)\n        layout.forward(99)\n        layout.left(90)\n        layout.forward(.3)\n        layout.left(90)\n        layout.forward(99)\n        layout.left(90)\n        layout.up()\n        layout.forward(4)\n    layout.goto(149, 25)\n    layout.down()\n    layout.left(90)\n    layout.forward(100)\n    layout.pensize(.1)\n    layout.up()\n    layout.goto(149, -125)\n    layout.down()\n    layout.right(90)\n    layout.forward(151)\n    layout.up()\n    layout.goto(49, -125)\n    layout.down()\n    layout.forward(151)\n wn = Screen()\n wn.bgcolor('lightgreen')\n WIDTH = wn.window_width()\n\nlayout = Turtle(visible=False)\nlayout.speed('fastest')\nlayout.penup()\n\nriver = drawRiver(layout)\nbridge = drawBridge(layout)\nplanks = drawPlanks(layout)\nwinner= winLine(layout)\nlayout.up()\nlayout.right(90)\n\n# Tree locations\nlayout.goto(222, 198)\nmain()\nlayout.goto(-334, 155)\nmain()\nlayout.goto(132, 140)\nmain()\nlayout.goto(50, -222)\nmain()\nlayout.goto(200, -122)\nmain()\nlayout.goto(-362,200)\nmain()\nlayout.goto(-222, 198)\nmain()\nlayout.goto(350, 350)\nmain()\nlayout.goto(-200, -150)\nmain()\nlayout.color(\"blue\")\nlayout.goto(0, -50)\nplayer = Turtle('arrow')\nplayer.color('grey')\nplayer.penup()\n\nplayer.goto(0, -200)\nplayer.setheading(90)\n\n\ndef k1():\n    player.forward(45)\n    if not_safe(player):\n        player.goto(0, -200)\n        player.setheading(90)\n    elif win(player):\n        player.goto(200, 100)\n\ndef k4():\n    player.back(45)\n    if not_safe(player):\n        player.goto(0, -200)\n        player.setheading(90)\n    elif win(player):\n        player.goto(200, 100)\n\ndef k2():\n    player.left(30)\n\ndef k3():\n    player.right(30)\n\nwn.onkey(k1, \"Up\")\nwn.onkey(k2, \"Left\")\nwn.onkey(k3, \"Right\")\nwn.onkey(k4, \"Down\")\n\nwn.listen()\nwn.mainloop()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 13285, "user_id": 157770, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/870524e51f7b2cf270f9053abea676d5?s=128&d=identicon&r=PG", "display_name": "AlG", "link": "https://stackoverflow.com/users/157770/alg"}, "edited": false, "score": 0, "creation_date": 1511988571, "post_id": 47561475, "comment_id": 82080806, "body": "You need to compare the letter your user enters, to each letter in your word. What you have now compares your letter to the entire word."}, {"owner": {"reputation": 27, "user_id": 8827856, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-PfYYbqYgrow/AAAAAAAAAAI/AAAAAAAAALY/rPriRT1GTz8/photo.jpg?sz=128", "display_name": "Morph", "link": "https://stackoverflow.com/users/8827856/morph"}, "reply_to_user": {"reputation": 13285, "user_id": 157770, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/870524e51f7b2cf270f9053abea676d5?s=128&d=identicon&r=PG", "display_name": "AlG", "link": "https://stackoverflow.com/users/157770/alg"}, "edited": false, "score": 0, "creation_date": 1511988699, "post_id": 47561475, "comment_id": 82080876, "body": "That is what i am trying to do but i have tried to use the &#39;==&#39; method which doesn&#39;t work so i am unsure on how to compare characters to one another."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8827856, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-PfYYbqYgrow/AAAAAAAAAAI/AAAAAAAAALY/rPriRT1GTz8/photo.jpg?sz=128", "display_name": "Morph", "link": "https://stackoverflow.com/users/8827856/morph"}, "edited": false, "score": 0, "creation_date": 1512063577, "post_id": 47561834, "comment_id": 82115926, "body": "Champion! Thank you very much, i just extracted some of the code to other program&#39;s and work like a charm. Thanks :)"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 27, "user_id": 8827856, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-PfYYbqYgrow/AAAAAAAAAAI/AAAAAAAAALY/rPriRT1GTz8/photo.jpg?sz=128", "display_name": "Morph", "link": "https://stackoverflow.com/users/8827856/morph"}, "edited": false, "score": 0, "creation_date": 1512064143, "post_id": 47561834, "comment_id": 82116303, "body": "@Morph glad to hear and good luck in the future. Also consider marking my answer as an answrer :)"}], "tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 1, "last_activity_date": 1511989729, "creation_date": 1511989729, "answer_id": 47561834, "question_id": 47561475, "link": "https://stackoverflow.com/questions/47561475/matching-a-user-input-to-a-string/47561834#47561834", "title": "Matching a User Input to a string?", "body": "<p>I had some code lying around that I extracted the most relevant parts. Read it through and I think it answers your question:</p>\n\n<pre><code>alpha = list(\"abcdefghijklmnopqrstuvwxyz\") # valid inputs\nsecretword = \"animal\" # the secret word\nfound = [] # list with letters that are found\n\nwhile True:\n    print(' '.join(i if i in found else '_' for i in secretword))\n\n    # Only accept valid inputs\n    while True:\n        inp = input(\"Guess a letter [a-z]: \")\n        if inp in alpha:\n            break\n        else:\n            print(\"Not valid!\")\n\n    if inp in secretword:\n        print(\"Nice\")\n        found.append(inp) # add letter to found list\n        alpha.remove(inp) # remove letter from alpha (valid inputs)\n\n    # If len of unique letters (set) in secretword equals len found\n    # Break the game\n    if len(set(secretword)) == len(found):\n        print(\"You won\")\n        break\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 8812091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ca5c72f7e795523f1d05bdd4c4fc64?s=128&d=identicon&r=PG&f=1", "display_name": "ikom", "link": "https://stackoverflow.com/users/8812091/ikom"}, "is_accepted": false, "score": 0, "last_activity_date": 1511991423, "creation_date": 1511991423, "answer_id": 47562239, "question_id": 47561475, "link": "https://stackoverflow.com/questions/47561475/matching-a-user-input-to-a-string/47562239#47562239", "title": "Matching a User Input to a string?", "body": "<p>First part, to check if a letter or symbol is in a string:</p>\n\n<pre><code>if letter in string: \n    # do something\n</code></pre>\n\n<p>This will return true whenever \"letter\" in its exact form is present in the string. Different capitalisation, entered spaces or other differences will register as false, so you may want to clean up your user's input before checking it. </p>\n\n<blockquote>\n  <p>a = 'Factory'</p>\n  \n  <p>False</p>\n  \n  <p>'f' in a False </p>\n  \n  <p>'F' in a </p>\n  \n  <p>True </p>\n  \n  <p>'F ' in a </p>\n  \n  <p>False (Note the space after F)</p>\n</blockquote>\n\n<p>Second, to find the indices of the letter(s) there are several ways:</p>\n\n<pre><code>mystring.index('letter')\n# Returns the index of 'letter', but only the first one if there are more than one.\n# Raises ValueError if not found.\n</code></pre>\n\n<p>Or we can use list comprehension to iterate through the string and return a list of all the indices where 'letter' is: (<a href=\"https://stackoverflow.com/a/32794963/8812091\">https://stackoverflow.com/a/32794963/8812091</a>)</p>\n\n<pre><code>indices = [index for index, char in enumerate(mystring) \n           if char == 'letter']\n# Go over the string letter by letter and add the letter position \n# if it matches our guessed letter.\n</code></pre>\n\n<p>Third, to update the string with found letters we iterate over the '----' string and put in the guessed letter at the correct positions. See below.</p>\n\n<p>Putting it into your script:</p>\n\n<pre><code>word_guessed = input(\"Enter a Word to be guessed: \")\ntype(len(word_guessed))\nprint(len(word_guessed)* '-')\n\n\n\ncurrent_guess = str('-' * len(word_guessed))\n# The current state of the guessed word fixed as a variable for updating\n# and printing.\n\nguess_letter = 'F'\n# Fixed input letter for testing with the word \"Factory\".\n\nif guess_letter in word_guessed: \n    letter_indices = [index for index, char in enumerate(word_guessed) if char == guess_letter]\n    # Or if you want to show only one (the first) of the guessed letters:\n    # letter_indices = word_guessed.index(guess_letter) \n    print(\"Correct Guess, Guess again: \")\n    print(\"The Letter is located:\", letter_indices)\n\n# Now update the current guess to include the new letters.\ncurrent_guess = ''.join(guess_letter if index in letter_indices \n                        else char for index, char in enumerate(current_guess))\n# We can't change strings, so we build a new one by iterating over the current guess.\n# Put in the guess letter for the index positons where it should be, otherwise keep \n# the string as is. ''.join() is an efficient way of combining lots of strings.\n\nprint(current_guess)\n</code></pre>\n\n<blockquote>\n  <p>Enter a Word to be guessed: Factory</p>\n  \n  <p>\"-------\" (Added \" to avoid SO autoformatting) </p>\n  \n  <p>Correct Guess, Guess again:  </p>\n  \n  <p>The Letter is located: [0] </p>\n  \n  <p>F------</p>\n</blockquote>\n"}], "owner": {"reputation": 27, "user_id": 8827856, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-PfYYbqYgrow/AAAAAAAAAAI/AAAAAAAAALY/rPriRT1GTz8/photo.jpg?sz=128", "display_name": "Morph", "link": "https://stackoverflow.com/users/8827856/morph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1511991423, "creation_date": 1511988154, "last_edit_date": 1511988891, "question_id": 47561475, "link": "https://stackoverflow.com/questions/47561475/matching-a-user-input-to-a-string", "title": "Matching a User Input to a string?", "body": "<p>i am trying to print some code which matches the User's Input to the previous String Input. Then display where the character is matched (Like the game Hangman). </p>\n\n<p>The '-' indicates what the first string will look like, each '-' will be removed once a correct guess has been entered. Now i have tried to use a '==' method but that doesn't seem to be doing the trick, does anybody have any suggestion?</p>\n\n<pre><code>word_guessed = input(\"Enter a Word to be guessed: \")\ntype(len(word_guessed))\nprint(len(word_guessed)* '-')\n\nguess_letter = input(\"Enter a letter to be guessed: \")\nif guess_letter == word_guessed:\n    print(\"Correct Guess, Guess again: \")\n    print(\"The Letter is located:\" == len(word_guessed))\nelse:\n    guess_letter = word_guessed\n    print(\"Incorrect Character, again.\")\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "n-dimensional"], "comments": [{"owner": {"reputation": 837, "user_id": 5107872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e125b4c3710fb30e0372c64daacd6268?s=128&d=identicon&r=PG&f=1", "display_name": "ahed87", "link": "https://stackoverflow.com/users/5107872/ahed87"}, "edited": false, "score": 0, "creation_date": 1511989207, "post_id": 47561443, "comment_id": 82081140, "body": "what is your criteria for the comparison? numpy is really good at these things, plenty of examples around. check out <code>np.where</code> for starters, assuming that you want to know which one is the biggest I would start with <code>np.diff</code>"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4104459, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/KzgdD.png?s=128&g=1", "display_name": "Eduardo Andrade", "link": "https://stackoverflow.com/users/4104459/eduardo-andrade"}, "edited": false, "score": 0, "creation_date": 1511991501, "post_id": 47561769, "comment_id": 82082253, "body": "Thank you! When I do print(np.shape(my_array)) it shows me (1, 1, 2) and print(my_array) is returning [[[1. 1.]]] for everything."}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "reply_to_user": {"reputation": 109, "user_id": 4104459, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/KzgdD.png?s=128&g=1", "display_name": "Eduardo Andrade", "link": "https://stackoverflow.com/users/4104459/eduardo-andrade"}, "edited": false, "score": 0, "creation_date": 1511992061, "post_id": 47561769, "comment_id": 82082538, "body": "Please post the full contents of your <code>my_array</code> in the question so people can see what is going on..."}], "tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": false, "score": 1, "last_activity_date": 1511989472, "creation_date": 1511989472, "answer_id": 47561769, "question_id": 47561443, "link": "https://stackoverflow.com/questions/47561443/comparing-values-in-numpy-array-of-n-dimension/47561769#47561769", "title": "comparing values in numpy array of n-dimension", "body": "<p>Let's create an example case to work with:</p>\n\n<pre><code>a = np.array([[1, 2, 3], [4, 6, 5], [9, 1, 1]])\n</code></pre>\n\n<p>then we can iterate through with a <code>for-loop</code> over the last row (second last <code>axis</code>) and modify that <code>axis</code> accordingly:</p>\n\n<pre><code>for i in range(a.shape[-2]):\n    a[..., i, :] = a[..., i, :] == max(a[..., i, :])\n</code></pre>\n\n<p>And this will modify <code>a</code> to the correct result:</p>\n\n<pre><code>array([[0, 0, 1],\n       [0, 1, 0],\n       [1, 0, 0]])\n</code></pre>\n\n<hr>\n\n<p>And this same method will work for any rectangular <code>array</code>, such as:</p>\n\n<pre><code>a = np.array([[1, 2], [4, 3], [9, 7]])\n</code></pre>\n\n<p>giving:</p>\n\n<pre><code>array([[0, 1],\n       [1, 0],\n       [1, 0]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1511989809, "post_id": 47561811, "comment_id": 82081460, "body": "The OP wanted the <code>max</code> value in each row, not a <code>1</code> for the <code>max</code> value in the entire <code>array</code> so I&#39;m afraid this doesn&#39;t solve the problem."}, {"owner": {"reputation": 2204, "user_id": 7982275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d5ddeaf91306c9bae414dc55adc0c7?s=128&d=identicon&r=PG&f=1", "display_name": "EFT", "link": "https://stackoverflow.com/users/7982275/eft"}, "reply_to_user": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1511990318, "post_id": 47561811, "comment_id": 82081722, "body": "@JoeIddon The question does not specify. The max for both rows in the example is the same. I&#39;ll add a solution addressing your concern, though."}], "tags": [], "owner": {"reputation": 2204, "user_id": 7982275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d5ddeaf91306c9bae414dc55adc0c7?s=128&d=identicon&r=PG&f=1", "display_name": "EFT", "link": "https://stackoverflow.com/users/7982275/eft"}, "is_accepted": true, "score": 1, "last_activity_date": 1511993939, "last_edit_date": 1511993939, "creation_date": 1511989648, "answer_id": 47561811, "question_id": 47561443, "link": "https://stackoverflow.com/questions/47561443/comparing-values-in-numpy-array-of-n-dimension/47561811#47561811", "title": "comparing values in numpy array of n-dimension", "body": "<h2>Max over axis:</h2>\n\n<p>If, as suggested by Joe in the comments, you're looking for a maximum along an axis, then, for axis <code>axis</code>,</p>\n\n<pre><code>np.moveaxis((np.moveaxis(ar, axis, 0) == ar.max(axis)).astype(int), 0, axis)\n</code></pre>\n\n<p>or, a bit faster,</p>\n\n<pre><code>(ar == np.broadcast_to(np.expand_dims(ar.max(axis), axis), ar.shape)).astype(int)\n</code></pre>\n\n<p>Should cover the n-dimensional case.</p>\n\n<p>Ex:</p>\n\n<pre><code>ar = np.random.randint(0, 100, (2, 3, 4))\n\nar\nOut[157]: \narray([[[17, 28, 22, 31],\n        [99, 51, 65, 65],\n        [46, 24, 93,  4]],\n\n       [[ 5, 84, 85, 79],\n        [ 7, 80, 27, 25],\n        [46, 80, 90,  3]]])\n\n(ar == np.broadcast_to(np.expand_dims(ar.max(-1), -1), ar.shape)).astype(int)\nOut[159]: \narray([[[0, 0, 0, 1],\n        [1, 0, 0, 0],\n        [0, 0, 1, 0]],\n\n       [[0, 0, 1, 0],\n        [0, 1, 0, 0],\n        [0, 0, 1, 0]]])\nar.max(-1)\nOut[160]: \narray([[31, 99, 93],\n       [85, 80, 90]])\n</code></pre>\n\n<h2>Max over full array:</h2>\n\n<p>On the off-chance you're trying to identify elements equal to the maximum over the whole array,</p>\n\n<pre><code>(ar == ar.max()).astype(int)\n</code></pre>\n\n<p>should give what you're looking for.</p>\n"}], "owner": {"reputation": 109, "user_id": 4104459, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/KzgdD.png?s=128&g=1", "display_name": "Eduardo Andrade", "link": "https://stackoverflow.com/users/4104459/eduardo-andrade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "accepted_answer_id": 47561811, "answer_count": 2, "score": 2, "last_activity_date": 1511993939, "creation_date": 1511988040, "last_edit_date": 1511988455, "question_id": 47561443, "link": "https://stackoverflow.com/questions/47561443/comparing-values-in-numpy-array-of-n-dimension", "title": "comparing values in numpy array of n-dimension", "body": "<p>Need to compare each value inside a numpy array and return 1 to the largest value and 0 to the others. I am having problem with different numbers of [].</p>\n\n<p>Input Example:</p>\n\n<pre><code>[[[0.6673975 0.33333233]]\n.\n.\n.\n[[0.33260247 0.6673975]]]\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>[[[1 0]]\n.\n.\n.\n[[0 1]]]\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 2, "creation_date": 1511987956, "post_id": 47561392, "comment_id": 82080501, "body": "<code>df.loc[df[&#39;element&#39;]==&#39;N II&#39;] </code>"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1511988006, "post_id": 47561392, "comment_id": 82080527, "body": "Or <code>df.query(&quot;element==&#39;N II&#39;&quot;)</code>"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1511988011, "post_id": 47561392, "comment_id": 82080531, "body": "Or simply <code>df[df[&#39;element&#39;] == &#39;N II&#39;]</code> or <code>df[df.element == &#39;N II&#39;]</code> right? This is what is called boolean indexing."}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 7496337, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/M4gzU.jpg?s=128&g=1", "display_name": "codebrotherone", "link": "https://stackoverflow.com/users/7496337/codebrotherone"}, "is_accepted": true, "score": 1, "last_activity_date": 1511993308, "creation_date": 1511993308, "answer_id": 47562668, "question_id": 47561392, "link": "https://stackoverflow.com/questions/47561392/select-rows-with-repeated-string-label-in-a-column-of-a-dataframe-in-pandas/47562668#47562668", "title": "Select rows with repeated string label in a column of a dataframe in pandas", "body": "<pre><code>df[df.element == 'N II']\n</code></pre>\n\n<p>or</p>\n\n<pre><code>df.loc[df.element == 'N II']\n</code></pre>\n\n<p>or</p>\n\n<pre><code>df[df['element'] == 'N II']\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 7243601, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Dm8dN.jpg?s=128&g=1", "display_name": "Claudio Pierard", "link": "https://stackoverflow.com/users/7243601/claudio-pierard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 47562668, "answer_count": 1, "score": 0, "last_activity_date": 1511993308, "creation_date": 1511987794, "question_id": 47561392, "link": "https://stackoverflow.com/questions/47561392/select-rows-with-repeated-string-label-in-a-column-of-a-dataframe-in-pandas", "title": "Select rows with repeated string label in a column of a dataframe in pandas", "body": "<p>I have this kind of data:</p>\n\n<pre><code>   element  wavelength  rel. int\n0    N III      400.358     200.0\n7     N II      403.508     360.0\n8     N II      404.131     550.0\n9     N II      404.353     360.0\n12    N IV      405.776     150.0\n14   N III      409.733     250.0\n16     N I      409.994     140.0\n19   N III      410.343     200.0\n25     N I      410.995     185.0\n60    N II      417.616     285.0\n61   N III      419.576     120.0\n62   N III      420.010     150.0\n64    N II      422.774     285.0\n67    N II      423.691     285.0\n68    N II      423.705     220.0\n69    N II      424.178     450.0\n88   N III      433.291      90.0\n93   N III      434.568     120.0\n100  N III      437.911     300.0\n114   N II      443.274     285.0\n122   N II      444.703     650.0\n141  N III      451.091      90.0\n144  N III      451.486     120.0\n</code></pre>\n\n<p>I want to select only the rows with 'N II' in the 'element' column. What is a way of doing this? </p>\n\n<p>I tried something with df.loc['N II'] but it doesn't work. I couldn't find a question that asked this, sorry if I repeated an existing question.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "django", "web"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 1, "last_activity_date": 1511988786, "creation_date": 1511988786, "answer_id": 47561625, "question_id": 47561341, "link": "https://stackoverflow.com/questions/47561341/noreversematch-at-reverse-for-product-list-by-category-with-keyword-argument/47561625#47561625", "title": "NoReverseMatch at / Reverse for &#39;product_list_by_category&#39; with keyword arguments &#39;{&#39;slug&#39;: &#39;legume&#39;}&#39;", "body": "<p>You are using <code>category_slug</code> in the URL pattern, but have <code>slug</code> when you call reverse. Make sure that the URL pattern, <code>get_absolute_url</code> method and view all match.</p>\n"}, {"tags": [], "owner": {"reputation": 1281, "user_id": 2661592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d09cbddcf31e9b90822cf951a5b4f6?s=128&d=identicon&r=PG", "display_name": "quaspas", "link": "https://stackoverflow.com/users/2661592/quaspas"}, "is_accepted": false, "score": 0, "last_activity_date": 1511989025, "creation_date": 1511989025, "answer_id": 47561675, "question_id": 47561341, "link": "https://stackoverflow.com/questions/47561341/noreversematch-at-reverse-for-product-list-by-category-with-keyword-argument/47561675#47561675", "title": "NoReverseMatch at / Reverse for &#39;product_list_by_category&#39; with keyword arguments &#39;{&#39;slug&#39;: &#39;legume&#39;}&#39;", "body": "<p><a href=\"https://docs.djangoproject.com/en/1.11/ref/urlresolvers/#reverse\" rel=\"nofollow noreferrer\">You can use either:</a> </p>\n\n<p><code>reverse('shop:product_list_by_category', kwargs={\"category_slug\": \"myslug\"})</code></p>\n\n<p>Or:</p>\n\n<p><code>reverse('shop:product_list_by_category', args=[\"myslug\"])</code></p>\n\n<p>But <code>reverse('shop:product_list_by_category', kwargs={'slug': \"myslug\"})</code>\ndoes not work since the key <code>slug</code> in your kwarg does not match the argument in your url which is <code>category_slug</code></p>\n"}], "owner": {"reputation": 67, "user_id": 8111468, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a04b2670a33699592b7ffb812c62a7af?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Covaci", "link": "https://stackoverflow.com/users/8111468/adrian-covaci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1474, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511989025, "creation_date": 1511987599, "question_id": 47561341, "link": "https://stackoverflow.com/questions/47561341/noreversematch-at-reverse-for-product-list-by-category-with-keyword-argument", "title": "NoReverseMatch at / Reverse for &#39;product_list_by_category&#39; with keyword arguments &#39;{&#39;slug&#39;: &#39;legume&#39;}&#39;", "body": "<p>Everytime I run my django project, I get this error <code>NoReverseMatch at /\nReverse for 'product_list_by_category' with keyword arguments '{'slug': 'legume'}'</code>. I want to list my products and to be honest, I don't even know what the problem is.</p>\n\n<p>Full trace: django.urls.exceptions.NoReverseMatch: Reverse for 'product_list_by_category' with keyword arguments '{'slug': 'legume'}' not found. 1 pattern(s) tried: ['(?P\\w+)/$']\n[29/Nov/2017 22:18:22] \"GET / HTTP/1.1\" 500 180670</p>\n\n<p>My main <strong>URLS</strong></p>\n\n<pre><code>from django.conf.urls import url, include\nfrom django.contrib import admin\nfrom django.conf import settings\nfrom  django.conf.urls.static import static\n\nurlpatterns = [\n    url(r'^admin/', admin.site.urls),\n    url(r'^', include('shop.urls', namespace = 'shop'))\n]\n\nif settings.DEBUG:\n    urlpatterns += static(settings.MEDIA_URL, document_root = settings.MEDIA_ROOT)\n</code></pre>\n\n<p>My <strong>Models.py</strong> page</p>\n\n<pre><code>from django.db import models\nfrom django.core.urlresolvers import reverse\n\n# Create your models here.\n\nclass Category(models.Model):\n    name = models.CharField(max_length=120 , db_index = True)\n    slug = models.SlugField(max_length=200 , db_index = True , unique= True)\n\n    class Meta:\n        ordering = ('name',)\n        verbose_name = 'category'\n        verbose_name_plural = 'categories'\n\n    def __str__(self):\n        return self.name\n\n    def get_absolute_url(self):\n        return  reverse('shop:product_list_by_category', kwargs={'slug':self.slug})\n\n\nclass Product(models.Model):\n    category = models.ForeignKey(Category, related_name='products')\n    name = models.CharField(max_length=200, db_index = True)\n    slug = models.SlugField(max_length=200, db_index = True)\n    image = models.ImageField(upload_to='products/%y/%m/%d', blank=True)\n    description = models.TextField(blank = True)\n    price = models.DecimalField(max_digits=10, decimal_places=2)\n    stock = models.PositiveIntegerField()\n    available = models.BooleanField(default=True)\n    created = models.DateTimeField(auto_now_add=True)\n    updated = models.DateTimeField(auto_now= True)\n\n    class Meta:\n        ordering = ('-created',)\n        index_together = (('id','slug'),)\n\n    def __str__(self):\n        return self.name\n\n    def get_absolute_url(self):\n        return reverse('shop:product_detail', args=[self.id, self.slug])\n</code></pre>\n\n<p>My app <strong>URLS</strong></p>\n\n<pre><code>from django.conf.urls import url\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.product_list, name='product_list'),\n    url(r'^(?P&lt;category_slug&gt;\\w+)/$', views.product_list, name='product_list_by_category'),\n    url(r'^(?P&lt;id&gt;\\d+)/(?P&lt;slug&gt;[-\\w]+)/$', views.product_detail, name='product_detail'),\n]\n</code></pre>\n\n<p>Here is my <strong>Base.HTML</strong></p>\n\n<pre><code>{% load static %}\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;{% block title %}AgroShop{% endblock %}&lt;/title&gt;\n    &lt;link rel = stylesheet href = '{% static \"css/base.css\" %}'&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"header\"&gt;\n        &lt;a href=\"/\" class = \"logo\"&gt;AgroShop&lt;/a&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"subheader\"&gt;\n        &lt;div class=\"cart\"&gt;\n            {% with total_items=cart|length %}\n                {% if cart|length &gt; 0 %}\n                    Your cart :\n                    &lt;a href=\"{% url \"cart:cart_detail\" %}\"&gt;\n                        {{ total_items }} item{{ total_items|pluralize }}\n                    &lt;/a&gt;\n                {% else %}\n                    Your cart is empty.\n                {% endif %}\n            {% endwith %}\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"content\"&gt;\n        {% block content %}\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>List.HTML</strong></p>\n\n<pre><code>{% extends 'shop/base.html' %}\n{% load static %}\n\n{% block title %}\n    {% if category %}{{ category.name }}{% else %}{{ Products }}{% endif %}\n{% endblock %}\n\n{% block content %}\n    &lt;div class=\"sidebar\"&gt;\n        &lt;h3&gt;Categories:&lt;/h3&gt;\n        &lt;ul&gt;\n            &lt;li {% if not category %} class=\"selected\"&gt;{% endif %}&gt;\n                &lt;a href=\"{% url 'shop:product_list' %}\"&gt;All&lt;/a&gt;\n            &lt;/li&gt;\n        {% for c in categories %}\n            &lt;li {% if category.slug == c.slug %} class = 'selected{% endif %}'&gt;\n                &lt;a href=\"{{ c.get_absolute_url }}\"&gt;{{ c.name }}&lt;/a&gt;\n            &lt;/li&gt;\n        {% endfor %}\n        &lt;/ul&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"main\" class=\"product-list\"&gt;\n        &lt;h1&gt;{% if category %}{{ category.name }}{% else %}Products{% endif %}&lt;/h1&gt;\n        {% for product in products %}\n            &lt;div class=\"item\"&gt;\n                &lt;a href=\"{{ product.get_absolute_url }}\"&gt;\n                    &lt;img src=\"{% if product.image %}{{ product.image.url }}{% else %}{% static 'img/dirig.jpg' %}{% endif %}\" alt=\"\"&gt;\n                &lt;/a&gt;\n                &lt;a href=\"{{ product.get_absolute_url }}\"&gt;{{ product.name }}&lt;/a&gt;&lt;br&gt;\n                {{ product.price }}\n            &lt;/div&gt;\n        {% endfor %}\n    &lt;/div&gt;\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "pandas", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 3, "last_activity_date": 1511987768, "creation_date": 1511987768, "answer_id": 47561387, "question_id": 47561337, "link": "https://stackoverflow.com/questions/47561337/merging-two-dictionaries-into-one-dataframe/47561387#47561387", "title": "Merging two dictionaries into one dataframe", "body": "<pre><code>In [9]: (pd.Series(monkeydict).to_frame('monkey')\n           .join(pd.Series(pigdict).to_frame('pig'), how='outer'))\nOut[9]:\n       monkey  pig\n16:41     NaN  3.0\n16:43     1.0  NaN\n16:44     1.0  2.0\n16:49     3.0  NaN\n16:51     NaN  3.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 6, "last_activity_date": 1511988528, "last_edit_date": 1511988528, "creation_date": 1511987783, "answer_id": 47561390, "question_id": 47561337, "link": "https://stackoverflow.com/questions/47561337/merging-two-dictionaries-into-one-dataframe/47561390#47561390", "title": "Merging two dictionaries into one dataframe", "body": "<pre><code>pd.DataFrame({'monkeydict':pd.Series(monkeydict),'pigdict':pd.Series(pigdict)})\nOut[879]: \n       monkeydict  pigdict\n16:41         NaN      3.0\n16:43         1.0      NaN\n16:44         1.0      2.0\n16:49         3.0      NaN\n16:51         NaN      3.0\n</code></pre>\n\n<p>Or (Notice here, you need to rename your columns after create the data frame)</p>\n\n<pre><code>pd.DataFrame([monkeydict,pigdict]).T\nOut[887]: \n         0    1\n16:41  NaN  3.0\n16:43  1.0  NaN\n16:44  1.0  2.0\n16:49  3.0  NaN\n16:51  NaN  3.0\n</code></pre>\n"}], "owner": {"reputation": 1571, "user_id": 2273626, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/yNFiB.jpg?s=128&g=1", "display_name": "DIGSUM", "link": "https://stackoverflow.com/users/2273626/digsum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5666, "favorite_count": 0, "accepted_answer_id": 47561390, "answer_count": 2, "score": 4, "last_activity_date": 1511988528, "creation_date": 1511987585, "question_id": 47561337, "link": "https://stackoverflow.com/questions/47561337/merging-two-dictionaries-into-one-dataframe", "title": "Merging two dictionaries into one dataframe", "body": "<p>These are two dictionaries:</p>\n\n<pre><code>monkeydict = {'16:43': 1, '16:44': 1, '16:49': 3}\npigdict = {'16:41': 3, '16:44': 2, '16:51': 3}\n</code></pre>\n\n<p>This is the desired dataframe:</p>\n\n<pre><code>time,monkeydict,pigdict\n16:41,,3\n16:43,1,\n16:44,1,2\n16:49,3,\n16:51,,3\n</code></pre>\n"}, {"tags": ["python", "api", "oauth-2.0"], "comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1511995273, "post_id": 47561327, "comment_id": 82083993, "body": "Does the authentication you say mean the access token? You want to know the expilation time of access token, and know how to update the access token. Is my understanding correct?"}, {"owner": {"reputation": 1076, "user_id": 2409039, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1a6fe81fbfa68ab6b5c11d7f91c221bd?s=128&d=identicon&r=PG", "display_name": "riders994", "link": "https://stackoverflow.com/users/2409039/riders994"}, "reply_to_user": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1512055765, "post_id": 47561327, "comment_id": 82110904, "body": "Yeah, @Tanaike, pretty much."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1512081574, "post_id": 47561327, "comment_id": 82125208, "body": "Thank you for your reply. I posted my answer. Please confirm it."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1512452729, "post_id": 47561327, "comment_id": 82252093, "body": "Was my answer useful for you?"}], "answers": [{"tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": false, "score": 0, "last_activity_date": 1512081540, "creation_date": 1512081540, "answer_id": 47583809, "question_id": 47561327, "link": "https://stackoverflow.com/questions/47561327/verify-authentication-with-oauth2client-in-python/47583809#47583809", "title": "Verify Authentication with Oauth2client in Python", "body": "<p>How about this answer?</p>\n\n<h2>1. How to retrieve expiration time</h2>\n\n<p>In order to retrieve the expiration time of access token, you can use tokeninfo which is one of Google APIs.</p>\n\n<h3>Endpoint :</h3>\n\n<pre><code>GET https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=### access token ###\n</code></pre>\n\n<h3>curl sample :</h3>\n\n<pre><code>curl -L https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=### access token ###\n</code></pre>\n\n<p>You are not required to authorize to use this.</p>\n\n<h3>Response :</h3>\n\n<pre><code>{\n \"azp\": \"#####\",\n \"aud\": \"#####\",\n \"scope\": \"#####\",\n \"exp\": \"1234567890\",\n \"expires_in\": \"3600\",\n \"access_type\": \"offline\"\n}\n</code></pre>\n\n<p>You can retrieve the expiration time.</p>\n\n<ul>\n<li><code>exp</code> means the expiration time of access token.</li>\n<li><code>expires_in</code> means the remaining time of access token.</li>\n</ul>\n\n<h2>2. How to update the access token</h2>\n\n<p>You can retrieve new access token using refresh token. The expiration time is reset. When you retrieve access token, you already have the refresh token.</p>\n\n<p>If you have it, you can use it. If you have no refresh token, you can see how to retrieve it at <a href=\"https://stackoverflow.com/questions/42815450/refresh-google-drive-access-token/42822060#42822060\">here</a>. I remembered that I had answered about this before.</p>\n\n<h3>References :</h3>\n\n<ul>\n<li><a href=\"https://developers.google.com/identity/sign-in/web/backend-auth#calling-the-tokeninfo-endpoint\" rel=\"nofollow noreferrer\">tokeninfo</a>\n\n<ul>\n<li>In this document, the query is <code>id_token</code>. In the case of access token, please use <code>access_token</code>.</li>\n</ul></li>\n<li><a href=\"https://developers.google.com/identity/protocols/OAuth2WebServer#exchange-authorization-code\" rel=\"nofollow noreferrer\">refresh token</a></li>\n</ul>\n\n<p>If this was not useful for you, I'm sorry.</p>\n"}], "owner": {"reputation": 1076, "user_id": 2409039, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1a6fe81fbfa68ab6b5c11d7f91c221bd?s=128&d=identicon&r=PG", "display_name": "riders994", "link": "https://stackoverflow.com/users/2409039/riders994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512081540, "creation_date": 1511987511, "question_id": 47561327, "link": "https://stackoverflow.com/questions/47561327/verify-authentication-with-oauth2client-in-python", "title": "Verify Authentication with Oauth2client in Python", "body": "<p>I'm writing a script that periodically adds data to a google sheet using the API. Google recommends using the oauth2client python package for this process. Since I want to leave this script running for a while, is there a way to verify that the authentication is still valid, and if not, re-authenticate?</p>\n"}, {"tags": ["python", "python-3.x", "scrapy", "scrapy-spider"], "comments": [{"owner": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1511987872, "post_id": 47561312, "comment_id": 82080454, "body": "Is this a warning in the IDE or an actual error if you run the code from PyCharm? If it&#39;s an actual error, please copy and paste it here. Is there a chance that PyCharms is actually complaining about <code>pycountry</code> being missing rather than <code>base_url</code>, but the squiggly line (if that&#39;s what you&#39;re refering to) is in the wrong place?"}, {"owner": {"reputation": 61, "user_id": 8811712, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MOYtaaxaUQU/AAAAAAAAAAI/AAAAAAAAABc/Jdh-0fKtsfM/photo.jpg?sz=128", "display_name": "Bryce Freshcorn", "link": "https://stackoverflow.com/users/8811712/bryce-freshcorn"}, "reply_to_user": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1511988107, "post_id": 47561312, "comment_id": 82080571, "body": "I have updated my question with the error I receive when running the spider from the command line."}, {"owner": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 1, "creation_date": 1511988311, "post_id": 47561312, "comment_id": 82080677, "body": "That error refers to &quot;line 19&quot;, but the code in your question is not 19 lines long. That might sound pedantic but I&#39;m 100% sure the error you&#39;re getting is partly because of code that you haven&#39;t told us about. Please edit to include a snippet of code and an error you get from running EXACTLY that code."}, {"owner": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1511988497, "post_id": 47561312, "comment_id": 82080762, "body": "BTW, from that error I am suspicious that you have put your code in a class but not in a method of a class, which does not do what you expect. (I&#39;m not sure what you would expect but it doesn&#39;t do anything sensible.) But of course I&#39;m just guessing because I can&#39;t see all your code."}, {"owner": {"reputation": 61, "user_id": 8811712, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MOYtaaxaUQU/AAAAAAAAAAI/AAAAAAAAABc/Jdh-0fKtsfM/photo.jpg?sz=128", "display_name": "Bryce Freshcorn", "link": "https://stackoverflow.com/users/8811712/bryce-freshcorn"}, "reply_to_user": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1511988523, "post_id": 47561312, "comment_id": 82080775, "body": "Just updated the code to include all lines up to line 19.  The error listed is the same as running the command through <code>scrapy crawl</code>."}, {"owner": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1511989045, "post_id": 47561312, "comment_id": 82081053, "body": "After all that I actually don&#39;t have time to post a proper answer! I&#39;m AFK in 10 seconds. But you don&#39;t normally write code directly in classes, it goes in methods of classes, and <code>base_url</code> should be referred to as e.g. <code>self.base_url</code> (what is `self? well it doesn&#39;t exist in your code because you&#39;re not using classes properly)."}, {"owner": {"reputation": 61, "user_id": 8811712, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MOYtaaxaUQU/AAAAAAAAAAI/AAAAAAAAABc/Jdh-0fKtsfM/photo.jpg?sz=128", "display_name": "Bryce Freshcorn", "link": "https://stackoverflow.com/users/8811712/bryce-freshcorn"}, "reply_to_user": {"reputation": 6475, "user_id": 7008416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa92fca6ba297f9420e519fd789ac64?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Tacca", "link": "https://stackoverflow.com/users/7008416/arthur-tacca"}, "edited": false, "score": 0, "creation_date": 1511989418, "post_id": 47561312, "comment_id": 82081251, "body": "Is there a better way to do this in <code>scrapy</code>?  I am just trying to generate URLs for the spider to crawl.  <code>start_urls</code> is a list of URLs that will be pulled by the spider for processing in a parsing function.  That parsing function is the only function I need to work with in this class."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1511990106, "post_id": 47561312, "comment_id": 82081620, "body": "List comprehensions at class scope basically just don&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 8811712, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MOYtaaxaUQU/AAAAAAAAAAI/AAAAAAAAABc/Jdh-0fKtsfM/photo.jpg?sz=128", "display_name": "Bryce Freshcorn", "link": "https://stackoverflow.com/users/8811712/bryce-freshcorn"}, "is_accepted": true, "score": 1, "last_activity_date": 1511990031, "creation_date": 1511990031, "answer_id": 47561921, "question_id": 47561312, "link": "https://stackoverflow.com/questions/47561312/string-formatting-in-a-list-comprehension/47561921#47561921", "title": "String formatting in a list comprehension", "body": "<p>To answer my own question, if you need to generate your own list of starting URLs for <code>scrapy.Spider</code> classes, you should overwrite <code>scrapy.Spider.start_requests(self)</code>.  In my case, this would look like:</p>\n\n<pre><code>class UnrocaSpider(scrapy.Spider):\n    name = 'unroca'\n    allowed_domains = ['unroca.org']\n\n    def start_requests(self):\n        country_names = [country.official_name if hasattr(country, 'official_name')\n                         else country.name for country in list(pycountry.countries)]\n        country_names = [name.lower().replace(' ', '-') for name in country_names]\n\n        base_url = 'https://www.unroca.org/{}/report/{}/'\n        url_param_tuples = list(itertools.product(country_names, range(2010, 2017)))\n        start_urls = [base_url.format(param_tuple[0], param_tuple[1]) for param_tuple in url_param_tuples]\n        for url in start_urls:\n            yield scrapy.Request(url, self.parse)\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8811712, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MOYtaaxaUQU/AAAAAAAAAAI/AAAAAAAAABc/Jdh-0fKtsfM/photo.jpg?sz=128", "display_name": "Bryce Freshcorn", "link": "https://stackoverflow.com/users/8811712/bryce-freshcorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "closed_date": 1511990173, "accepted_answer_id": 47561921, "answer_count": 1, "score": 4, "last_activity_date": 1511990163, "creation_date": 1511987461, "last_edit_date": 1511990163, "question_id": 47561312, "link": "https://stackoverflow.com/questions/47561312/string-formatting-in-a-list-comprehension", "closed_reason": "Duplicate", "title": "String formatting in a list comprehension", "body": "<p>I am working on a web scraper, but I have stumbled across this weird behavior when using a string placeholder in a list comprehension (here is a snippet of my code from Pycharm):</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom arms_transfers.items import ArmsTransferItem\nimport itertools\nimport pycountry\nimport scrapy\nimport urllib3\n\n\nclass UnrocaSpider(scrapy.Spider):\n    name = 'unroca'\n    allowed_domains = ['unroca.org']\n\n    country_names = [country.official_name if hasattr(country, 'official_name')\n                     else country.name for country in list(pycountry.countries)]\n    country_names = [name.lower().replace(' ', '-') for name in country_names]\n\n    base_url = 'https://www.unroca.org/{}/report/{}/'\n    url_param_tuples = list(itertools.product(country_names, range(2010, 2017)))\n    start_urls = [base_url.format(param_tuple[0], param_tuple[1]) for param_tuple in url_param_tuples]\n</code></pre>\n\n<p>Here is the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"anaconda3/envs/scraper/bin/scrapy\", line 11, in &lt;module&gt;\n    sys.exit(execute())\n  File \"anaconda3/envs/scraper/lib/python3.6/site-packages/scrapy/cmdline.py\", line 148, in execute\n    cmd.crawler_process = CrawlerProcess(settings)\n  File \"anaconda3/envs/scraper/lib/python3.6/site-packages/scrapy/crawler.py\", line 243, in __init__\n    super(CrawlerProcess, self).__init__(settings)\n  File \"anaconda3/envs/scraper/lib/python3.6/site-packages/scrapy/crawler.py\", line 134, in __init__\n    self.spider_loader = _get_spider_loader(settings)\n  File \"/anaconda3/envs/scraper/lib/python3.6/site-packages/scrapy/crawler.py\", line 330, in _get_spider_loader\n    return loader_cls.from_settings(settings.frozencopy())\n  File \"anaconda3/envs/scraper/lib/python3.6/site-packages/scrapy/spiderloader.py\", line 61, in from_settings\n    return cls(settings)\n  File \"anaconda3/envs/scraper/lib/python3.6/site-packages/scrapy/spiderloader.py\", line 25, in __init__\n    self._load_all_spiders()\n  File \"anaconda3/envs/scraper/lib/python3.6/site-packages/scrapy/spiderloader.py\", line 47, in _load_all_spiders\n    for module in walk_modules(name):\n  File \"anaconda3/envs/scraper/lib/python3.6/site-packages/scrapy/utils/misc.py\", line 71, in walk_modules\n    submod = import_module(fullpath)\n  File \"anaconda3/envs/scraper/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 994, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 971, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 955, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 665, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 678, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 219, in _call_with_frames_removed\n  File \"Programming/my_projects/web-scrapers/arms_transfers/arms_transfers/spiders/unroca.py\", line 9, in &lt;module&gt;\n    class UnrocaSpider(scrapy.Spider):\n  File \"Programming/my_projects/web-scrapers/arms_transfers/arms_transfers/spiders/unroca.py\", line 19, in UnrocaSpider\n    start_urls = [base_url.format(param_tuple[0], param_tuple[1]) for param_tuple in url_param_tuples]\n  File \"Programming/my_projects/web-scrapers/arms_transfers/arms_transfers/spiders/unroca.py\", line 19, in &lt;listcomp&gt;\n    start_urls = [base_url.format(param_tuple[0], param_tuple[1]) for param_tuple in url_param_tuples]\nNameError: name 'base_url' is not defined\n</code></pre>\n\n<p>Weirdly though, when I run this in Jupyter notebook:</p>\n\n<pre><code>import pycountry\nimport itertools\n\ncountry_names = [country.official_name if hasattr(country, 'official_name')\n                     else country.name for country in list(pycountry.countries)]\ncountry_names = [name.lower().replace(' ', '-') for name in country_names]\n\nbase_url = 'https://www.unroca.org/{}/report/{}/'\nurl_param_tuples = list(itertools.product(country_names, range(2010, 2017)))\nstart_urls = [base_url.format(param_tuple[0], param_tuple[1]) for param_tuple in url_param_tuples]\n</code></pre>\n\n<p>It works just as I would expect it to in the Pycharm project:</p>\n\n<pre><code> ['https://www.unroca.org/aruba/report/2010/',\n 'https://www.unroca.org/aruba/report/2011/',\n 'https://www.unroca.org/aruba/report/2012/',\n 'https://www.unroca.org/aruba/report/2013/',\n 'https://www.unroca.org/aruba/report/2014/',\n 'https://www.unroca.org/aruba/report/2015/',\n 'https://www.unroca.org/aruba/report/2016/',\n 'https://www.unroca.org/islamic-republic-of-afghanistan/report/2010/',\n 'https://www.unroca.org/islamic-republic-of-afghanistan/report/2011/',\n 'https://www.unroca.org/islamic-republic-of-afghanistan/report/2012/',\n 'https://www.unroca.org/islamic-republic-of-afghanistan/report/2013/',...]\n</code></pre>\n\n<p>The Pycharm project and the Jupyter notebook are using the same conda environment and Python 3.6.3 interpreter. Can anyone offer insight into what could account for the behavior differences?</p>\n"}, {"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1511987690, "post_id": 47561298, "comment_id": 82080343, "body": "Please define what you mean by &quot;escape characters&quot;."}, {"owner": {"reputation": 1967, "user_id": 7552761, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1259153020839832/picture?type=large", "display_name": "Eric Kim", "link": "https://stackoverflow.com/users/7552761/eric-kim"}, "reply_to_user": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1511987931, "post_id": 47561298, "comment_id": 82080492, "body": "@Jan \\n \\t \\r ...."}, {"owner": {"reputation": 401, "user_id": 413238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869deec4e42e0404fb8ccbf8b7b01d4f?s=128&d=identicon&r=PG", "display_name": "Gunee", "link": "https://stackoverflow.com/users/413238/gunee"}, "edited": false, "score": 2, "creation_date": 1511988184, "post_id": 47561298, "comment_id": 82080612, "body": "@EricKim Did you have a look at the python page for the <code>re</code> module in charge of regular expressions? (<a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/re.html</a>) It&#39;s quite well explained there, I use it as my go-to document when I do regex stuff."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6457938, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-rEIuhBbhu70/AAAAAAAAAAI/AAAAAAAAAIM/JXOqOIuQzKU/photo.jpg?sz=128", "display_name": "faanbece", "link": "https://stackoverflow.com/users/6457938/faanbece"}, "is_accepted": false, "score": -1, "last_activity_date": 1511987969, "creation_date": 1511987969, "answer_id": 47561428, "question_id": 47561298, "link": "https://stackoverflow.com/questions/47561298/python-regex-remove-escape-characters-and-punctuation-except-for-apostrophe/47561428#47561428", "title": "python regex, remove escape characters and punctuation except for apostrophe", "body": "<p>I not sure what are you specifically browse, but <code>((\\\\n|\\\\t|\\.|\\ |\\,|\\;)+)+</code> can select your specification ... try your own regex in <a href=\"https://regexr.com\" rel=\"nofollow noreferrer\">regexr.com</a></p>\n"}, {"tags": [], "owner": {"reputation": 3525, "user_id": 7225971, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3eb7d161a79e0f2f674929bbdc6a714?s=128&d=identicon&r=PG", "display_name": "Mateus", "link": "https://stackoverflow.com/users/7225971/mateus"}, "is_accepted": true, "score": 7, "last_activity_date": 1511989719, "last_edit_date": 1511989719, "creation_date": 1511988762, "answer_id": 47561619, "question_id": 47561298, "link": "https://stackoverflow.com/questions/47561298/python-regex-remove-escape-characters-and-punctuation-except-for-apostrophe/47561619#47561619", "title": "python regex, remove escape characters and punctuation except for apostrophe", "body": "<p>You're looking for a search and replace method, which in Python should be <code>re#sub()</code>.</p>\n\n<p>Simply replace non-letters &amp; apostrophe (<code>[^a-zA-Z' ]+</code>) with <code>''</code> (nothing).</p>\n\n<p>- Oh well, what about the escaped characters?<br>\nR: They will turn into a single character when inside the string,  <code>\\n</code> will be turned into a newline character for example, which is not a letter or a <code>'</code>.</p>\n\n<p>Instead, if you actually have escaped an escaped character in your string (like: <code>\"abc\\\\nefg\"</code>), you should add a <code>\\\\\\\\.|</code> at the start of your regex, which will match the backslash + any other character (so it will be: <code>\\\\\\\\.|[^a-zA-Z' ]</code>)</p>\n\n<p>Here is the working exemple:</p>\n\n<pre><code>import re\ns = \"aaa\\n\\t\\n asd123asd water's tap413 water blooe's\"\nreplaced = re.sub(\"[^a-zA-Z' ]+\", '', s)\nprint(replaced)\n</code></pre>\n\n<p><a href=\"https://repl.it/repls/ReasonableUtterAnglerfish\" rel=\"noreferrer\">https://repl.it/repls/ReasonableUtterAnglerfish</a></p>\n\n<hr>\n\n<blockquote>\n  <p>Would appreciate it if you can explain what each expression means</p>\n</blockquote>\n\n<p>So, the explanation:</p>\n\n<ul>\n<li><code>\\\\\\\\</code> - Matches a backslash (Why four? Each pair will escape the slash for the Python string's compilation, which will turn into a <code>\\\\</code> which is how you match a backslash in regex).</li>\n<li><code>.</code> - Match any character except for the newline <strong>character</strong>.</li>\n<li><code>|</code> - OR expression, matches what is before OR what is after.</li>\n<li><code>[^...]</code> - Must <strong>NOT</strong> be one of these characters (inside).</li>\n<li><code>a-zA-Z'\u00a0</code> - Match characters from <code>a</code> to <code>z</code>, <code>A</code> to <code>Z</code>, <code>'</code> or <code>\u00a0</code>.</li>\n<li><code>+</code> - Quantifier, not needed here, but would be good to reduce the matches, hence reduce the time of execution (Which would translate as \"One or more occurrences of the term behind\").</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 192, "user_id": 3543575, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/eRKuX.jpg?s=128&g=1", "display_name": "AnilReddy", "link": "https://stackoverflow.com/users/3543575/anilreddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1531776286, "last_edit_date": 1531776286, "creation_date": 1531767164, "answer_id": 51368403, "question_id": 47561298, "link": "https://stackoverflow.com/questions/47561298/python-regex-remove-escape-characters-and-punctuation-except-for-apostrophe/51368403#51368403", "title": "python regex, remove escape characters and punctuation except for apostrophe", "body": "<pre><code>import re\nsnt=\"aaa\\n\\t\\n asd123asd water's tap413 water blooe's\"\n\"\".join(re.findall(\"[^\\n\\t\\d:.,]+\",snt))\n</code></pre>\n"}], "owner": {"reputation": 1967, "user_id": 7552761, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/1259153020839832/picture?type=large", "display_name": "Eric Kim", "link": "https://stackoverflow.com/users/7552761/eric-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7354, "favorite_count": 0, "accepted_answer_id": 47561619, "answer_count": 3, "score": 3, "last_activity_date": 1531776286, "creation_date": 1511987410, "last_edit_date": 1511987823, "question_id": 47561298, "link": "https://stackoverflow.com/questions/47561298/python-regex-remove-escape-characters-and-punctuation-except-for-apostrophe", "title": "python regex, remove escape characters and punctuation except for apostrophe", "body": "<p>I have a string that looks like this:</p>\n\n<pre><code>\"aaa\\n\\t\\n asd123asd water's tap413 water blooe's\"\n</code></pre>\n\n<p>How can I remove all escape characters, numbers, and punctuation except apostrophe using regex? </p>\n\n<p>I'm pretty new to regex, and would appreciate it if you can explain what each expression means, if the regex formula is to be complicated</p>\n"}]