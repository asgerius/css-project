[{"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1468454885, "post_id": 38363515, "comment_id": 64139445, "body": "I&#39;m not familiar with TensorFlow, but Googling <code>tensorflow division</code> shows that <a href=\"https://www.tensorflow.org/versions/r0.9/api_docs/python/math_ops.html#div\" rel=\"nofollow noreferrer\"><code>tf.div</code></a>, <a href=\"https://www.tensorflow.org/versions/r0.9/api_docs/python/math_ops.html#truediv\" rel=\"nofollow noreferrer\"><code>tf.truediv</code></a>, and <a href=\"https://www.tensorflow.org/versions/r0.9/api_docs/python/math_ops.html#floordiv\" rel=\"nofollow noreferrer\"><code>tf.floordiv</code></a> all take a <code>name</code> argument. Is that what you&#39;re looking for?"}, {"owner": {"reputation": 13667, "user_id": 1120370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8c82898ff7f2247a7fc0c1e224b4b3de?s=128&d=identicon&r=PG", "display_name": "W.P. McNeill", "link": "https://stackoverflow.com/users/1120370/w-p-mcneill"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1468455701, "post_id": 38363515, "comment_id": 64139625, "body": "Thanks. I don&#39;t know how I overlooked that. You should propose that an an answer."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1468463374, "creation_date": 1468463374, "answer_id": 38364558, "question_id": 38363515, "link": "https://stackoverflow.com/questions/38363515/how-do-i-name-a-division-operation-in-a-tensorflow-graph/38364558#38364558", "title": "How do I name a division operation in a TensorFlow graph?", "body": "<p><a href=\"https://www.tensorflow.org/versions/r0.9/api_docs/python/math_ops.html#div\" rel=\"nofollow\"><code>tf.div</code></a>, <a href=\"https://www.tensorflow.org/versions/r0.9/api_docs/python/math_ops.html#truediv\" rel=\"nofollow\"><code>tf.truediv</code></a>, and <a href=\"https://www.tensorflow.org/versions/r0.9/api_docs/python/math_ops.html#floordiv\" rel=\"nofollow\"><code>tf.floordiv</code></a> all take a <code>name</code> argument. Depending on which division operator you want, one of those is probably what you're looking for.</p>\n"}], "owner": {"reputation": 13667, "user_id": 1120370, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8c82898ff7f2247a7fc0c1e224b4b3de?s=128&d=identicon&r=PG", "display_name": "W.P. McNeill", "link": "https://stackoverflow.com/users/1120370/w-p-mcneill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "accepted_answer_id": 38364558, "answer_count": 1, "score": 3, "last_activity_date": 1468463374, "creation_date": 1468454191, "question_id": 38363515, "link": "https://stackoverflow.com/questions/38363515/how-do-i-name-a-division-operation-in-a-tensorflow-graph", "title": "How do I name a division operation in a TensorFlow graph?", "body": "<p>I am writing a language model in TensorFlow, following the example in <code>ptb_word_lm.py</code>. I calculate the batch cost like so:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    loss = tf.nn.seq2seq.sequence_loss_by_example([logits],\n                                                  [tf.reshape(y, [-1])],\n                                                  [tf.ones([batch_size * time_steps])],\n                                                  name=\"loss\")\n    cost = tf.reduce_sum(loss) / batch_size\n</code></pre>\n\n<p>I would like to attach a name to the cost node in the graph so that I can visualize and do a scalar summary of it in TensorBoard. However, I cannot figure how to attach a name to the <code>/</code> infix operator. I'm thinking I have to do something like</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>  cost = tf.DivisionOperator(cost, batch_size, name=\"cost\")\n</code></pre>\n\n<p>but the exact syntax eludes me.</p>\n"}, {"tags": ["python", "import", "raspberry-pi", "gdkpixbuf"], "comments": [{"owner": {"reputation": 4122, "user_id": 174605, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68fdf71a1519554403013964f2d4380e?s=128&d=identicon&r=PG", "display_name": "coelhudo", "link": "https://stackoverflow.com/users/174605/coelhudo"}, "edited": false, "score": 0, "creation_date": 1513420825, "post_id": 38363492, "comment_id": 82653582, "body": "Did you try to install gir1.2-gdkpixbuf-2.0 ?"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9531752, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gFCus6_8X2I/AAAAAAAAAAI/AAAAAAAABgU/cHySLKXqE2U/photo.jpg?sz=128", "display_name": "Manuel Genoves", "link": "https://stackoverflow.com/users/9531752/manuel-genoves"}, "is_accepted": false, "score": 2, "last_activity_date": 1521677656, "creation_date": 1521677656, "answer_id": 49418542, "question_id": 38363492, "link": "https://stackoverflow.com/questions/38363492/python-import-of-gdkpixbuf-says-introspection-typelib-not-found/49418542#49418542", "title": "Python import of GdkPixBuf says &quot;introspection typelib not found&quot;", "body": "<p>You're importing Pixbuf wrong, it should be</p>\n\n<pre><code>from gi.repository import Gdk, GdkPixbuf\n</code></pre>\n"}], "owner": {"reputation": 2262, "user_id": 1619521, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a54821d500ac089427ffe6bfec3d0e5c?s=128&d=identicon&r=PG", "display_name": "doom", "link": "https://stackoverflow.com/users/1619521/doom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1470, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521685252, "creation_date": 1468453978, "last_edit_date": 1521685252, "question_id": 38363492, "link": "https://stackoverflow.com/questions/38363492/python-import-of-gdkpixbuf-says-introspection-typelib-not-found", "title": "Python import of GdkPixBuf says &quot;introspection typelib not found&quot;", "body": "<p>I have some imports:</p>\n\n<pre><code>gi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk\nfrom gi.repository import Gdk, GdkPixBuf\n</code></pre>\n\n<p>An error (maybe 2) is raised:</p>\n\n<pre><code>WARNING **: Error retrieving accessibility bus address: org.freedesktop.DBus.Error.ServiceUnknown: The name org.a11y.Bus was not provided by any .service files\nTraceback (most recent call last):\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 2158, in _find_spec\nAttributeError: 'DynamicImporter' object has no attribute 'find_spec'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"camerapython.py\", line 10, in &lt;module&gt;\n    from gi.repository import Gdk, GdkPixBuf\n  File \"/usr/lib/python3/dist-packages/gi/importer.py\", line 53, in find_module\n    'introspection typelib not found' % namespace)\nImportError: cannot import name GdkPixBuf, introspection typelib not found\n</code></pre>\n\n<p>What I have noticed is that in the importer.py of gi, repository.enumerate_versions(namespace) returns [] for GdkPixBuf (and so raises the error).</p>\n\n<p>Other imports returns something:</p>\n\n<pre><code>Gtk : ['3.0']\nGObject : ['2.0', '2.0']\nGLib : ['2.0', '2.0']\nAtk : ['1.0', '1.0']\nGdk : ['3.0', '3.0']\ncairo : ['1.0', '1.0']\n</code></pre>\n\n<p>If needed, my dist is Raspbian (Raspberry Pi 3).</p>\n"}, {"tags": ["python", "django", "amazon-ec2", "bitnami"], "comments": [{"owner": {"reputation": 1328, "user_id": 2399208, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2656e44dcda681bd7f31969ffbd91432?s=128&d=identicon&r=PG", "display_name": "camden", "link": "https://stackoverflow.com/users/2399208/camden"}, "edited": false, "score": 1, "creation_date": 1468455163, "post_id": 38363474, "comment_id": 64139509, "body": "Try <code>projectname.movierec</code> instead of <code>movierec</code> under <code>INSTALLED_APPS</code>."}, {"owner": {"reputation": 31, "user_id": 6586912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54741a38642a035317dcf77c54b783?s=128&d=identicon&r=PG&f=1", "display_name": "Benjo", "link": "https://stackoverflow.com/users/6586912/benjo"}, "reply_to_user": {"reputation": 1328, "user_id": 2399208, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2656e44dcda681bd7f31969ffbd91432?s=128&d=identicon&r=PG", "display_name": "camden", "link": "https://stackoverflow.com/users/2399208/camden"}, "edited": false, "score": 0, "creation_date": 1468456045, "post_id": 38363474, "comment_id": 64139694, "body": "Thank you, but that doesn&#39;t appear to be the issue. Aside from admin issue, everything runs fine with &#39;movie&#39;rec&#39;. If I change it to &#39;Project.movierec&#39;, I get &quot;ImportError: No module named movierec&quot; when I run things from the command line."}, {"owner": {"reputation": 1328, "user_id": 2399208, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2656e44dcda681bd7f31969ffbd91432?s=128&d=identicon&r=PG", "display_name": "camden", "link": "https://stackoverflow.com/users/2399208/camden"}, "edited": false, "score": 0, "creation_date": 1468456445, "post_id": 38363474, "comment_id": 64139775, "body": "Bizarre. Is the issue happening locally or on the server?"}, {"owner": {"reputation": 31, "user_id": 6586912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54741a38642a035317dcf77c54b783?s=128&d=identicon&r=PG&f=1", "display_name": "Benjo", "link": "https://stackoverflow.com/users/6586912/benjo"}, "reply_to_user": {"reputation": 1328, "user_id": 2399208, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2656e44dcda681bd7f31969ffbd91432?s=128&d=identicon&r=PG", "display_name": "camden", "link": "https://stackoverflow.com/users/2399208/camden"}, "edited": false, "score": 0, "creation_date": 1468456603, "post_id": 38363474, "comment_id": 64139819, "body": "It is happening on the server. I also ensured that I was logged in as superuser."}, {"owner": {"reputation": 1328, "user_id": 2399208, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2656e44dcda681bd7f31969ffbd91432?s=128&d=identicon&r=PG", "display_name": "camden", "link": "https://stackoverflow.com/users/2399208/camden"}, "edited": false, "score": 0, "creation_date": 1468460361, "post_id": 38363474, "comment_id": 64140597, "body": "Try migrating, then try restarting the server. Past that, I&#39;m stumped."}, {"owner": {"reputation": 31, "user_id": 6586912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54741a38642a035317dcf77c54b783?s=128&d=identicon&r=PG&f=1", "display_name": "Benjo", "link": "https://stackoverflow.com/users/6586912/benjo"}, "reply_to_user": {"reputation": 1328, "user_id": 2399208, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2656e44dcda681bd7f31969ffbd91432?s=128&d=identicon&r=PG", "display_name": "camden", "link": "https://stackoverflow.com/users/2399208/camden"}, "edited": false, "score": 0, "creation_date": 1468460968, "post_id": 38363474, "comment_id": 64140717, "body": "Thank you for your help. I&#39;m starting to think something is strange with the bitnami stack. I changed some stuff in urls.py and though it is showing on the server&#39;s files, it does not appear to be reacting correctly &quot;in Django&quot;, if that makes any sense. Specifically, I just added a new view and url, Django isn&#39;t seeing the url path I&#39;m adding either."}, {"owner": {"reputation": 1328, "user_id": 2399208, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2656e44dcda681bd7f31969ffbd91432?s=128&d=identicon&r=PG", "display_name": "camden", "link": "https://stackoverflow.com/users/2399208/camden"}, "edited": false, "score": 0, "creation_date": 1468461295, "post_id": 38363474, "comment_id": 64140784, "body": "Strange. I usually develop locally, and then deal with headaches like this all at once when it&#39;s time to deploy. :)"}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 1, "creation_date": 1468462172, "post_id": 38363474, "comment_id": 64140971, "body": "is your admin actualy being read. Add a deliberate syntax error in it :)"}, {"owner": {"reputation": 31, "user_id": 6586912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54741a38642a035317dcf77c54b783?s=128&d=identicon&r=PG&f=1", "display_name": "Benjo", "link": "https://stackoverflow.com/users/6586912/benjo"}, "edited": false, "score": 0, "creation_date": 1468463013, "post_id": 38363474, "comment_id": 64141133, "body": "Well, I restarted Apache and now I can&#39;t access the admin. Wow. Haha. &quot;ImportError at /admin/ No module named views&quot;"}, {"owner": {"reputation": 31, "user_id": 6586912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54741a38642a035317dcf77c54b783?s=128&d=identicon&r=PG&f=1", "display_name": "Benjo", "link": "https://stackoverflow.com/users/6586912/benjo"}, "edited": false, "score": 0, "creation_date": 1468463457, "post_id": 38363474, "comment_id": 64141237, "body": "Okay. I can&#39;t exactly explained which step fixed the issue, but I fixed it. Thank you all deeply for your time. I can see everything in the admin panel now. I think I needed to restart Apache earlier. Again, thank you."}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 1, "creation_date": 1468471202, "post_id": 38363474, "comment_id": 64143012, "body": "It&#39;s not restart that you need but reload"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 6586912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54741a38642a035317dcf77c54b783?s=128&d=identicon&r=PG&f=1", "display_name": "Benjo", "link": "https://stackoverflow.com/users/6586912/benjo"}, "is_accepted": false, "score": 0, "last_activity_date": 1468497939, "creation_date": 1468497939, "answer_id": 38373763, "question_id": 38363474, "link": "https://stackoverflow.com/questions/38363474/django-models-not-showing-in-admin-py/38373763#38373763", "title": "Django Models not showing in Admin.py", "body": "<p>Sorry for the trouble.</p>\n\n<p>I forgot to reload / restart apache and my changes weren't showing up. </p>\n\n<p>Thank you everyone for your help!</p>\n"}], "owner": {"reputation": 31, "user_id": 6586912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54741a38642a035317dcf77c54b783?s=128&d=identicon&r=PG&f=1", "display_name": "Benjo", "link": "https://stackoverflow.com/users/6586912/benjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1468497939, "creation_date": 1468453830, "last_edit_date": 1468458850, "question_id": 38363474, "link": "https://stackoverflow.com/questions/38363474/django-models-not-showing-in-admin-py", "title": "Django Models not showing in Admin.py", "body": "<p>I have looked through the other answers extensively, but I just know this is going to turn out to be a silly oversight on my part.</p>\n\n<p>I am a noob on an AWS Bitnami stack. Just trying to make  of simple model show up in my admin.</p>\n\n<p>Models.py:</p>\n\n<pre><code>    from __future__ import unicode_literals\n\nfrom django.db import models\nfrom django.utils.encoding import python_2_unicode_compatible\n# Create your models here.\n\n\n\n# Scrollbar ######################################################\n@python_2_unicode_compatible\nclass Marquee(models.Model):\n    scrollbar_content = models.CharField(max_length = 2000)\n\n    def __str__(self):\n        return self.scrollbar_content\n</code></pre>\n\n<p>admin.py:</p>\n\n<pre><code>from django.contrib import admin\n\n# Register your models here.\nfrom .models import Marquee\n\nadmin.site.register(Marquee)\n</code></pre>\n\n<p>autodiscover() is in urls.py file</p>\n\n<p>my app name is under INSTALLED APPS in settings.py:</p>\n\n<pre><code>INSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'movierec',\n\n]\n</code></pre>\n\n<p>My PostgreSQL database is working and I have checked it through the Django shell.</p>\n\n<p>Again, I'm sure I've overlooked something foolish. I hope not to waste your time.</p>\n\n<p>Python 2.7 Django 1.9.7\nAWS Bitnami stack</p>\n\n<p>Thank you for your patience.</p>\n"}, {"tags": ["python", "c", "pointers", "structure", "swig"], "comments": [{"owner": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1468869859, "post_id": 38363419, "comment_id": 64294331, "body": "use the <code>array_functions(struct _DRIVE, _DRIVEArray)</code> for generating functions for creating an array, setting and getting structures from the array. You need no fancy typemaps."}, {"owner": {"reputation": 13, "user_id": 1927913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db46001bd850ca63835248df7f28a913?s=128&d=identicon&r=PG", "display_name": "user1927913", "link": "https://stackoverflow.com/users/1927913/user1927913"}, "reply_to_user": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1468959819, "post_id": 38363419, "comment_id": 64339706, "body": "Would you mind giving an example? .i file, using it in python etc.?"}, {"owner": {"reputation": 3868, "user_id": 2386026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b480a437c4c0af43ae3866177c79e142?s=128&d=identicon&r=PG&f=1", "display_name": "Jens Munk", "link": "https://stackoverflow.com/users/2386026/jens-munk"}, "edited": false, "score": 0, "creation_date": 1468994075, "post_id": 38363419, "comment_id": 64349505, "body": "See e.g. <a href=\"http://stackoverflow.com/questions/11998369/swig-python-structure-array\" title=\"swig python structure array\">stackoverflow.com/questions/11998369/&hellip;</a>"}], "owner": {"reputation": 13, "user_id": 1927913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db46001bd850ca63835248df7f28a913?s=128&d=identicon&r=PG", "display_name": "user1927913", "link": "https://stackoverflow.com/users/1927913/user1927913"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 652, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1468515198, "creation_date": 1468453409, "last_edit_date": 1468515198, "question_id": 38363419, "link": "https://stackoverflow.com/questions/38363419/swig-python-pointer-to-struct-array-as-method-argument", "title": "Swig Python pointer to struct array as method argument", "body": "<p>I've figured out how to handle pointer arguments to standard types like <code>int</code> using <code>%apply</code> in my interface file. I'm still having trouble using a function which takes a pointer to an array of structures as its argument.</p>\n\n<p>I've read the Swig 3.0 documentation about unbound arrays, structs, and making your own typemaps, but the documentation also says in most cases you shouldn't need to create a typemap.</p>\n\n<p>Could someone clear up for me if I really do need a typemap, or if there is another way of getting the below method working in python?</p>\n\n<p>Relevant C Code Being Wrapped</p>\n\n<pre><code>typedef struct _DRIVE\n{\n    int nDriveId;\n    DRIVE_TYPE nDriveType;\n    DEV_STATUS sStatus;\n    char strDriveName[64];\n    char strSerialNumber[24];\n    char strFirmwareRev[16];\n    char strModelNumber[48];\n    unsigned long long ullTotalCapacity;\n    int nSMARTEnabled;\n    DRIVERINFO Driver;\n\n    union\n    {\n        SMARTATTRIBUTE smartAttributes[MAX_SUPPORTED_ATTRIBUTES];\n        NVME_SMART_DATA sSmartData;\n        SAS_SMART_DATA sSASSmartData;\n    };\n\n    SMARTTHRESHOLD smartThresholds[MAX_SUPPORTED_ATTRIBUTES];\n\n    union\n    {\n        CLIENT_DRIVE_INFO ClientDriveInfo;\n        NVME_DRIVE_INFO NVMEDriveInfo;\n        SAS_DRIVE_INFO SASDriveInfo;\n    };\n} DRIVE, *PDRIVE;\n</code></pre>\n\n<p>The method with the pointer to an <strong>array</strong> of structures (<code>pDrives</code>).</p>\n\n<pre><code>STATUS GetAllDriveInfo(PDRIVE pDrives, int *nMaxDrives, DRIVE_TYPE type, STATUS *pDriveStatus);\n</code></pre>\n\n<p>Swig interface file:</p>\n\n<pre><code>%module api_python64\n%include \"typemaps.i\"\n\n%{\n/* Include the headers in the wrapper code */\n#include \"API-STATUS.h\"\n#include \"API.h\"\n%}\n\n/* Typemaps */\n%apply int *INOUT { int *nMaxDrives };\n\n/* Parse the header files to generate wrappers */\n%include \"STATUS.h\"\n%include \"API.h\"\n</code></pre>\n\n<p>Currently anything I try passing in Python as the first argument gives me:</p>\n\n<blockquote>\n  <p>TypeError: in method 'GetAllDriveInfo', argument 1 of type 'PDRIVE'</p>\n</blockquote>\n"}, {"tags": ["python", "loops", "datetime", "if-statement", "pandas"], "comments": [{"owner": {"reputation": 10312, "user_id": 1681480, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0wsSK.jpg?s=128&g=1", "display_name": "beroe", "link": "https://stackoverflow.com/users/1681480/beroe"}, "edited": false, "score": 0, "creation_date": 1468455816, "post_id": 38363359, "comment_id": 64139648, "body": "You typically should not iterate through data frames with a <code>for</code> loop. Try to figure out how to compare and subset, for example along <a href=\"http://stackoverflow.com/questions/32731498/how-to-select-cells-greater-than-a-value-in-a-multi-index-pandas-dataframe\">these lines</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4687733"}, "edited": false, "score": 0, "creation_date": 1468476001, "post_id": 38363450, "comment_id": 64144509, "body": "Is it possible to include an argument to keep the rows that falls within a 60 second time difference of the most recent <code>currenttime</code>?"}, {"owner": {"reputation": 10228, "user_id": 2327821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/57fa1b45f0d65360236c8ba7fc0feefb?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2327821/michael"}, "edited": false, "score": 0, "creation_date": 1468506753, "post_id": 38363450, "comment_id": 64164112, "body": "Yes, you can use datetime.timedelta."}], "tags": [], "owner": {"reputation": 10228, "user_id": 2327821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/57fa1b45f0d65360236c8ba7fc0feefb?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2327821/michael"}, "is_accepted": true, "score": 1, "last_activity_date": 1468455710, "last_edit_date": 1468455710, "creation_date": 1468453657, "answer_id": 38363450, "question_id": 38363359, "link": "https://stackoverflow.com/questions/38363359/python-iterrow-through-pandas-dataframe-and-assign-and-conditionally-update-da/38363450#38363450", "title": "Python - Iterrow through pandas dataframe and assign and conditionally update datetime variable", "body": "<p>Every time through the loop you are writing over the variable <code>index</code> before checking the inequality, so</p>\n\n<pre><code>if index &gt;= row['Time']:\n</code></pre>\n\n<p>is not only always <code>True</code>, but you always set index equal to the current time prior to checking this inequality. Based on the pattern in your description where in the desired result times are never earlier than in the previous row, I think you're looking for something more like this:</p>\n\n<pre><code>RecentTime = [] # Store list of most recent time for each row\npriortime = None\n# Loop through \nfor index, row in data.iterrows():\n    currenttime = row['Time']\n    if priortime is None:\n        priortime = currenttime\n\n    if priortime &gt; currenttime: # If prior time is greater than current row\n        currenttime = priortime\n\n    priortime = currenttime    \n    RecentTime.append(currenttime)\n</code></pre>\n\n<p>Finally, the line <code>Index: None</code> should throw the error <code>SyntaxError: invalid syntax</code>. Assuming you want to assign a value to a variable use <code>Index = None</code>. <code>index</code>, lower case, already is used in the dataframe loop to reference the index value in the dataframe, so even though your capitalized <code>Index</code> variable would not conflict, you should name it something else.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4687733"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1748, "favorite_count": 0, "accepted_answer_id": 38363450, "answer_count": 1, "score": 1, "last_activity_date": 1468455710, "creation_date": 1468452731, "question_id": 38363359, "link": "https://stackoverflow.com/questions/38363359/python-iterrow-through-pandas-dataframe-and-assign-and-conditionally-update-da", "title": "Python - Iterrow through pandas dataframe and assign and conditionally update datetime variable", "body": "<p>I'm a Python novice and was wondering if anyone could help me.</p>\n\n<p>I want to iterate through datetime column in a pandas data frame, while for each iteration update a variable with the most recent time. Let's assume this is my data:</p>\n\n<pre><code>    Time\n06:12:50\n06:13:51\n06:13:51\n06:13:50\n06:14:51\n06:14:49\n</code></pre>\n\n<p>For my result, I want it to look something like this:</p>\n\n<pre><code>RecentTime:\n   06:12:50\n   06:13:51\n   06:13:51\n   06:13:51\n   06:14:51\n   06:14:51\n</code></pre>\n\n<p>I think the code should look something like this, but I have had trouble with it and can't figure out why. This is my code:</p>\n\n<pre><code>RecentTime = [] # Store list of most recent time for each row\nIndex: None       # Create empty variable\n# Loop through \nfor index, row in data.iterrows():\n    index = row['Time']   # Save value as index\n    if index &gt;= row['Time']: # If time is greater than current row\n    index = row['Time']\n        RecentTime.append(index) # Append most recent variable into list\n    else:\n        continue\n</code></pre>\n\n<p>For some reason, this is my result:</p>\n\n<pre><code>RecentTime\n  06:12:50\n  06:13:51\n  06:13:51\n  06:13:50\n  06:14:51\n  06:14:49\n</code></pre>\n"}, {"tags": ["python", "lambda", "vectorization"], "comments": [{"owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "edited": false, "score": 0, "creation_date": 1468454245, "post_id": 38363311, "comment_id": 64139296, "body": "Could you post a small sample of your <code>r</code>?"}, {"owner": {"reputation": 744, "user_id": 5405338, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75550aaf5b7db5eba2283ac3171b05ea?s=128&d=identicon&r=PG&f=1", "display_name": "UpmostScarab", "link": "https://stackoverflow.com/users/5405338/upmostscarab"}, "reply_to_user": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "edited": false, "score": 0, "creation_date": 1468454373, "post_id": 38363311, "comment_id": 64139326, "body": "@AlbertoGarcia-Raboso Thanks for you reply. Edited."}, {"owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "edited": false, "score": 0, "creation_date": 1468454461, "post_id": 38363311, "comment_id": 64139343, "body": "That&#39;s 10 different lists, not one. Is there a third dimension, or do you mean to concatenate them,...?"}, {"owner": {"reputation": 744, "user_id": 5405338, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75550aaf5b7db5eba2283ac3171b05ea?s=128&d=identicon&r=PG&f=1", "display_name": "UpmostScarab", "link": "https://stackoverflow.com/users/5405338/upmostscarab"}, "reply_to_user": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "edited": false, "score": 0, "creation_date": 1468454840, "post_id": 38363311, "comment_id": 64139425, "body": "@AlbertoGarcia-Raboso If I got you right yes there&#39;s a third dimension."}], "answers": [{"comments": [{"owner": {"reputation": 744, "user_id": 5405338, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75550aaf5b7db5eba2283ac3171b05ea?s=128&d=identicon&r=PG&f=1", "display_name": "UpmostScarab", "link": "https://stackoverflow.com/users/5405338/upmostscarab"}, "edited": false, "score": 0, "creation_date": 1468497552, "post_id": 38365484, "comment_id": 64157589, "body": "Thanks. This isn&#39;t something I expected but it does the job."}], "tags": [], "owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "is_accepted": true, "score": 1, "last_activity_date": 1468470365, "creation_date": 1468470365, "answer_id": 38365484, "question_id": 38363311, "link": "https://stackoverflow.com/questions/38363311/optimization-of-groupby-in-python3/38365484#38365484", "title": "Optimization of groupby in python3", "body": "<p>Since the calculation of the <code>lambda</code> is where your bottleneck is, compute it once and only once.</p>\n\n<pre><code>from itertools import groupby\nfrom operator import itemgetter\nimport numpy as np\n\nr = np.array(\n    [[[ 9.5e-03, -1.1e-02, -7.6e-03], [4.3e+01, 4.3e+01, 4.3e+01]],\n     [[-6.8e-03, -6.4e-02, -1.0e-07], [4.3e+01, 4.0e+01, 4.0e+01]],\n     [[-8.1e-03,  1.4e-04, -9.3e-03], [4.3e+01, 4.3e+01, 4.2e+01]],\n     [[ 5.4e-03,  3.4e-02,  4.1e-03], [4.3e+01, 4.5e+01, 4.5e+01]],\n     [[-1.0e-02,  3.4e-03, -8.6e-03], [4.3e+01, 4.3e+01, 4.2e+01]],\n     [[ 7.8e-03, -2.9e-02,  1.8e-02], [4.3e+01, 4.2e+01, 4.3e+01]],\n     [[ 3.0e-02,  2.4e-02,  7.5e-04], [4.4e+01, 4.5e+01, 4.5e+01]],\n     [[-3.2e-02, -2.5e-02, -6.0e-03], [4.2e+01, 4.1e+01, 4.0e+01]],\n     [[-2.4e-02,  1.2e-02, -1.1e-02], [4.2e+01, 4.2e+01, 4.2e+01]],\n     [[-2.4e-02,  4.6e-03,  1.1e-03], [4.2e+01, 4.2e+01, 4.2e+01]]])\n</code></pre>\n\n<p>(I have truncated a bit your numbers). Start by computing the <code>lambda</code> and keeping with it <em>only</em> the index of your list-of-two-lists-with-three-elements &mdash; no need to carry along all of the data.</p>\n\n<pre><code>indices = [(np.sum(np.sign(x[0])), i) for i, x in enumerate(r)]\nprint(indices)\n\n# [(-1.0, 0), (-3.0, 1), (-1.0, 2), (3.0, 3), (-1.0, 4),\n#  (1.0, 5), (3.0, 6), (-3.0, 7), (-1.0, 8), (1.0, 9)]\n</code></pre>\n\n<p>Sort the above list of tuples by the values in their first entry.</p>\n\n<pre><code>indices = sorted(indices, key=itemgetter(0))\nprint(indices)\n\n# [(-3.0, 1), (-3.0, 7), (-1.0, 0), (-1.0, 2), (-1.0, 4),\n#  (-1.0, 8), (1.0, 5), (1.0, 9), (3.0, 3), (3.0, 6)]\n</code></pre>\n\n<p>You can now do your <code>groupby</code> to collect together the indices of the rows with the same key.</p>\n\n<pre><code>extract_indices = lambda g: [x[1] for x in list(g)]\ngrouped_indices = [(k, extract_indices(g))\n                   for k, g in groupby(indices, key=itemgetter(0))]\nprint(grouped_indices)\n\n# [(-3.0, [1, 7]), (-1.0, [0, 2, 4, 8]), (1.0, [5, 9]), (3.0, [3, 6])]\n</code></pre>\n\n<p>Take advantage of numpy's fancy indexing to extract the rows with the indices above from the original data (if you're not interested in the key, you can throw it away).</p>\n\n<pre><code>groups = [(k, r[i]) for k, i in grouped_indices]\nprint(groups)\n\n# [(-3.0, array([[[ -6.8e-03, -6.4e-02, -1.0e-07],\n#                 [  4.3e+01,  4.0e+01,  4.0e+01]],\n#                [[ -3.2e-02, -2.5e-02, -6.0e-03],\n#                 [  4.2e+01,  4.1e+01,  4.0e+01]]])),\n#  (-1.0, array([[[  9.5e-03, -1.1e-02, -7.6e-03],\n#                 [  4.3e+01,  4.3e+01,  4.3e+01]],\n#                [[ -8.1e-03,  1.4e-04, -9.3e-03],\n#                 [  4.3e+01,  4.3e+01,  4.2e+01]],\n#                [[ -1.0e-02,  3.4e-03, -8.6e-03],\n#                 [  4.3e+01,  4.3e+01,  4.2e+01]],\n#                [[ -2.4e-02,  1.2e-02, -1.1e-02],\n#                 [  4.2e+01,  4.2e+01,  4.2e+01]]])),\n#  ( 1.0, array([[[  7.8e-03, -2.9e-02,  1.8e-02],\n#                 [  4.3e+01,  4.2e+01,  4.3e+01]],\n#                [[ -2.4e-02,  4.6e-03,  1.1e-03],\n#                 [  4.2e+01,  4.2e+01,  4.2e+01]]])),\n#  ( 3.0, array([[[  5.4e-03,  3.4e-02,  4.1e-03],\n#                 [  4.3e+01,  4.5e+01,  4.5e+01]],\n#                [[  3.0e-02,  2.4e-02,  7.5e-04],\n#                 [  4.4e+01,  4.5e+01,  4.5e+01]]]))]\n</code></pre>\n\n<p>This runs 20% faster than your code. Here's some benchmarking.</p>\n\n<pre><code>from itertools import groupby\nfrom operator import itemgetter\nimport numpy as np\n\nr = np.array(\n    [[[ 9.5e-03, -1.1e-02, -7.6e-03], [4.3e+01, 4.3e+01, 4.3e+01]],\n     [[-6.8e-03, -6.4e-02, -1.0e-07], [4.3e+01, 4.0e+01, 4.0e+01]],\n     [[-8.1e-03,  1.4e-04, -9.3e-03], [4.3e+01, 4.3e+01, 4.2e+01]],\n     [[ 5.4e-03,  3.4e-02,  4.1e-03], [4.3e+01, 4.5e+01, 4.5e+01]],\n     [[-1.0e-02,  3.4e-03, -8.6e-03], [4.3e+01, 4.3e+01, 4.2e+01]],\n     [[ 7.8e-03, -2.9e-02,  1.8e-02], [4.3e+01, 4.2e+01, 4.3e+01]],\n     [[ 3.0e-02,  2.4e-02,  7.5e-04], [4.4e+01, 4.5e+01, 4.5e+01]],\n     [[-3.2e-02, -2.5e-02, -6.0e-03], [4.2e+01, 4.1e+01, 4.0e+01]],\n     [[-2.4e-02,  1.2e-02, -1.1e-02], [4.2e+01, 4.2e+01, 4.2e+01]],\n     [[-2.4e-02,  4.6e-03,  1.1e-03], [4.2e+01, 4.2e+01, 4.2e+01]]])\n\ndef approach1():\n    r1 = sorted(r, key=lambda x: np.sum(np.sign(x[0])))\n    r_sign1 = [list(g) for k, g in groupby(r, lambda x: np.sum(np.sign(x[0])))]\n\ndef approach2():\n    indices = [(np.sum(np.sign(x[0])), i) for i, x in enumerate(r)]\n    indices = sorted(indices, key=itemgetter(0))\n\n    extract_indices = lambda g: [x[1] for x in list(g)]\n    grouped_indices = [(k, extract_indices(g))\n                       for k, g in groupby(indices, key=itemgetter(0))]\n\n    groups = [(k, r[i]) for k, i in grouped_indices]\n\n%timeit approach1()     # =&gt; 10000 loops, best of 3: 105 \u00b5s per loop\n%timeit approach2()     # =&gt; 10000 loops, best of 3: 82 \u00b5s per loop\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10159, "user_id": 509824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c62e65b86aabdffdd1c628aad1fefe3?s=128&d=identicon&r=PG", "display_name": "Alberto Garcia-Raboso", "link": "https://stackoverflow.com/users/509824/alberto-garcia-raboso"}, "is_accepted": false, "score": 0, "last_activity_date": 1468471016, "creation_date": 1468471016, "answer_id": 38365577, "question_id": 38363311, "link": "https://stackoverflow.com/questions/38363311/optimization-of-groupby-in-python3/38365577#38365577", "title": "Optimization of groupby in python3", "body": "<p>The code below is way slower than my other answer or your code &mdash; it takes almost 4ms on my machine &mdash;, but it is more concise and easier to reason about, so I'm leaving it here.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\nr = [[[ 9.5e-03, -1.1e-02, -7.6e-03], [4.3e+01, 4.3e+01, 4.3e+01]],\n     [[-6.8e-03, -6.4e-02, -1.0e-07], [4.3e+01, 4.0e+01, 4.0e+01]],\n     [[-8.1e-03,  1.4e-04, -9.3e-03], [4.3e+01, 4.3e+01, 4.2e+01]],\n     [[ 5.4e-03,  3.4e-02,  4.1e-03], [4.3e+01, 4.5e+01, 4.5e+01]],\n     [[-1.0e-02,  3.4e-03, -8.6e-03], [4.3e+01, 4.3e+01, 4.2e+01]],\n     [[ 7.8e-03, -2.9e-02,  1.8e-02], [4.3e+01, 4.2e+01, 4.3e+01]],\n     [[ 3.0e-02,  2.4e-02,  7.5e-04], [4.4e+01, 4.5e+01, 4.5e+01]],\n     [[-3.2e-02, -2.5e-02, -6.0e-03], [4.2e+01, 4.1e+01, 4.0e+01]],\n     [[-2.4e-02,  1.2e-02, -1.1e-02], [4.2e+01, 4.2e+01, 4.2e+01]],\n     [[-2.4e-02,  4.6e-03,  1.1e-03], [4.2e+01, 4.2e+01, 4.2e+01]]]\n\ndf = pd.DataFrame(columns=['key', 'elements'])\ndf['elements'] = r\ndf['key'] = df['elements'].apply(lambda x: np.sum(np.sign(x[0])))\ns = df.groupby('key')['elements'].apply(list)\ngroups = [(k, g) for k, g in s.iteritems()]\n</code></pre>\n"}], "owner": {"reputation": 744, "user_id": 5405338, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75550aaf5b7db5eba2283ac3171b05ea?s=128&d=identicon&r=PG&f=1", "display_name": "UpmostScarab", "link": "https://stackoverflow.com/users/5405338/upmostscarab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 38365484, "answer_count": 2, "score": 0, "last_activity_date": 1570568882, "creation_date": 1468452412, "last_edit_date": 1570568882, "question_id": 38363311, "link": "https://stackoverflow.com/questions/38363311/optimization-of-groupby-in-python3", "title": "Optimization of groupby in python3", "body": "<p>I'm currently using following code:</p>\n\n<pre><code>r = sorted(r, key=lambda x: np.sum(np.sign(x[0])))\nr_sign = [list(g) for k, g in groupby(r, lambda x: np.sum(np.sign(x[0])))]\n</code></pre>\n\n<p>and this repeats dozen of times. This lambda calculates sum of signs in first subarray in array x.</p>\n\n<p>After using cProfile I found out that it takes fifth of all program time to execute this lambdas.\nIs there any way to make this faster?</p>\n\n<p>EDIT:\nSample r:</p>\n\n<pre><code>[\n[[0.00951770648888711 , -0.010632367736364043 ,-0.00762821730429671 ], [43.41121518753604 , 42.95209626953438 , 42.62569485872547 ]],\n[[-0.006837011753845527 ,-0.0635460919772306 , -0.00000010000000494736474], [42.70701121975766 , 40.077577445066126 , 40.07757343730839 ]],\n[[-0.00805079210543345 ,0.00013611978285009367 , -0.00928941925049471 ],[42.65520573526393 , 42.66101234779449 ,42.26655131202322 ]],\n[[0.0053552539095161516 ,0.034029663355880035 ,0.0040874730381727006 ], [43.23089361326043 , 44.72734381081924 ,44.91053977192976 ]],\n[[-0.00995255607863394 ,0.003448983498802789 , -0.008569474771224724 ], [42.574162688526165 , 42.721253784685985 ,42.35671924378283 ]],\n[[0.007829733915254721 ,-0.029076385744620153 , 0.01793276260136461 ], [43.33800005686172 ,42.096031132792795 , 42.85773861262677 ]],\n[[0.030049593754386345 ,0.02425545805866335 , 0.0007543244036476204 ], [44.3117424911824 ,45.399685036745204 ,45.43394404666549 ]],\n[[-0.031584760068658485 ,-0.024818728517988022 , -0.00604796913646777 ], [41.66307961235872 ,40.64178103974877 , 40.3967226022796 ]],\n[[-0.024428341523493616 ,0.012410082068531779 , -0.010577084021758344 ],[41.96230747078123 , 42.48630786915531 ,42.03929483570234 ]],\n[[-0.023662332321561542 ,0.004586640946688178 , 0.001141053576375452 ], [41.99446329869585 ,42.18751922425499 , 42.2356849185371 ]],\n]\n</code></pre>\n"}, {"tags": ["python", "excel", "win32com", "alm"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1468464037, "post_id": 38363282, "comment_id": 64141369, "body": "If scripts works, then the problem is <i>HP ALM</i>. Check its environment, settings, properties. Check if full fledged Python is installed with third-party modules like <code>win32com</code>?"}, {"owner": {"reputation": 1, "user_id": 6586843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lVrASl8ujWg/AAAAAAAAAAI/AAAAAAAAACU/Ktg4Ou-RzD4/photo.jpg?sz=128", "display_name": "Arun Padmanabhan", "link": "https://stackoverflow.com/users/6586843/arun-padmanabhan"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1468522702, "post_id": 38363282, "comment_id": 64174163, "body": "I did check the installation of Python. HP ALM use the same Python Interpreter to execute. Also, it was able to find other methods like &#39;Worksheet.Cells(1,1).Value&#39; which makes me think that its is getting confused about &#39;worksheet.Range(&quot;1:1&quot;)&#39;"}], "owner": {"reputation": 1, "user_id": 6586843, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lVrASl8ujWg/AAAAAAAAAAI/AAAAAAAAACU/Ktg4Ou-RzD4/photo.jpg?sz=128", "display_name": "Arun Padmanabhan", "link": "https://stackoverflow.com/users/6586843/arun-padmanabhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468457097, "creation_date": 1468452214, "last_edit_date": 1468457097, "question_id": 38363282, "link": "https://stackoverflow.com/questions/38363282/python-win32com-com-error-member-not-found-0x-7ffdfffd", "title": "Python win32COM - COM Error: Member not found. (0x-7ffdfffd)", "body": "<p>I am working on a Python script which opens an excel using win32com and make modification to it. </p>\n\n<p>I am facing an issue while calling <code>objNewRange=objWrkBook.Worksheets('Sheet1').Range('$A$2:$T$15')</code>.</p>\n\n<p>I am getting the error :</p>\n\n<pre><code>Run-time error -2147352573: Member not found. \n</code></pre>\n\n<p>The script works fine when I run it from python shell, but I am calling the same code from  HP ALM. I am able to write specifically to a cell using 'Cells' method but it looks like Python is unable to find the Range method.</p>\n\n<p>Below is the Code fragment    </p>\n\n<pre><code># Newin [PythonScript]\n# Created by Application Lifecycle Management\n# 7/7/2016 4:06:15 PM\n# ====================================================\nimport win32com.client\nimport pythoncom\nimport xlsxwriter\nimport string\nimport os\nimport shutil\nimport pythoncom\nimport sys\nimport win32com.client as win32\nimport datetime\nimport imp\nimport argparse\nimport glob\nimport re\nfrom xml.etree.ElementTree import parse, tostring\nfrom xml.etree import ElementTree as et\n\n\n\n\n# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------\n# StrVerifyExpResults Function:\n# Description: This is the main fucntion that is used to compare the expected values to the actual ones. This calls in subfucntions to perform different operations\n# Debug - Boolean. Equals to false if running in [Test Mode] : reporting to Application Lifecycle Management\n# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\ndef StrVerifyExpResults(strFileName, strFilePath, strCurrentTestCaseID, intRowNum):\n    '''Opening the Input sheet'''\n\n    #strFileOpenStatus ='Success'\n\n\n    strFileOpenStatus, objWrkBook=OpenInputSheet(strFileName, strFilePath)    \n    if strFileOpenStatus=='Success':\n\n        '''Get all row numbers from the input sheet'''\n        objWrkSheet=objWrkBook.Worksheets('Sheet1')        \n        objDataRange=GetUsedRowRange(objWrkBook, 'Sheet1')\n\n\n        #Getting Range where the Data Is available       \n        objNewRange=objWrkBook.Worksheets('Sheet1').Range('$A$2:$T$15')\n        print objNewRange.Address\n\n\n\n# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------\n# Main Function:\n# Description: This is the main fucntion that is used to compare the expected values to the actual ones. This calls in subfucntions to perform different operations\n# Debug - Boolean. Equals to false if running in [Test Mode] : reporting to Application Lifecycle Management\n# CurrentTestSet - [OTA COM Library].TestSet.\n# CurrentTSTest - [OTA COM Library].TSTest.\n# CurrentRun - [OTA COM Library].Run.\n# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------\ndef Test_Main(Debug, CurrentTestSet, CurrentTSTest, CurrentRun):\n    try:\n\n        # clear output window\n        TDOutput.Clear()\n        # TODO: put your code here        \n        status=StrVerifyExpResults('input.xlsx','D:\\\\GVOL\\\\01 - Docs\\\\Automation\\\\WS Automation\\\\Input Sheet\\\\','1',2)        \n    except pythoncom.com_error, (hr, desc, exc, arg):\n           TDOutput.Print(\"Run-time error %d: %s\" % (hr, desc))\n\n\n\n\ndef OpenInputSheet(strFileName2, strFilePath2):\n\n    #excel = win32.gencache.EnsureDispatch('Excel.Application')\n    excel = win32.Dispatch('Excel.Application')    \n    excel.Visible = False\n\n    wb = win32.GetObject(strFilePath2 + strFileName2)\n    ws = wb.Worksheets('Sheet1')\n    return ('Success', wb)\n</code></pre>\n"}, {"tags": ["python", "web-scraping", "urllib"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1468452595, "post_id": 38363276, "comment_id": 64138921, "body": "No problems with <code>requests</code>, by the way: <a href=\"http://stackoverflow.com/questions/16694907/how-to-download-large-file-in-python-with-requests-py\" title=\"how to download large file in python with requests py\">stackoverflow.com/questions/16694907/&hellip;</a>."}, {"owner": {"reputation": 111, "user_id": 5024557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8c2e8aee8510215336dfc32925829856?s=128&d=identicon&r=PG&f=1", "display_name": "NJay", "link": "https://stackoverflow.com/users/5024557/njay"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1468452751, "post_id": 38363276, "comment_id": 64138964, "body": "Thanks, I&#39;ll give it a shot. Any idea why this isn&#39;t working, though? Am I doing something wrong, or did I misunderstand how urlretrieve works?"}, {"owner": {"reputation": 111, "user_id": 5024557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8c2e8aee8510215336dfc32925829856?s=128&d=identicon&r=PG&f=1", "display_name": "NJay", "link": "https://stackoverflow.com/users/5024557/njay"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1468453415, "post_id": 38363276, "comment_id": 64139117, "body": "Thanks, requests worked perfectly. :)"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 5024557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8c2e8aee8510215336dfc32925829856?s=128&d=identicon&r=PG&f=1", "display_name": "NJay", "link": "https://stackoverflow.com/users/5024557/njay"}, "edited": false, "score": 0, "creation_date": 1468501488, "post_id": 38363632, "comment_id": 64160359, "body": "Abusive? How so? Too many hits on the server because of excessive scraping?"}, {"owner": {"reputation": 111, "user_id": 5024557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8c2e8aee8510215336dfc32925829856?s=128&d=identicon&r=PG&f=1", "display_name": "NJay", "link": "https://stackoverflow.com/users/5024557/njay"}, "edited": false, "score": 0, "creation_date": 1468501558, "post_id": 38363632, "comment_id": 64160405, "body": "And if the user blocked access with urllib, why hasn&#39;t he done the same with requests?"}, {"owner": {"reputation": 823, "user_id": 6562353, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0-gFN-Zdcq4/AAAAAAAAAAI/AAAAAAAAAEU/Qp7XbUkSN94/photo.jpg?sz=128", "display_name": "Feneric", "link": "https://stackoverflow.com/users/6562353/feneric"}, "reply_to_user": {"reputation": 111, "user_id": 5024557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8c2e8aee8510215336dfc32925829856?s=128&d=identicon&r=PG&f=1", "display_name": "NJay", "link": "https://stackoverflow.com/users/5024557/njay"}, "edited": false, "score": 0, "creation_date": 1468502571, "post_id": 38363632, "comment_id": 64161179, "body": "@NJay while I can&#39;t speak for the motivations of that particular server admin, I have some guesses based on what I&#39;ve seen on other servers. 1) Excessive scraping could be the problem for popular sites as usually they pay for bandwidth (and some people have been known to grab whole sites over short periods of time); 2) Some sites set blanket blocks trying to stop harvesting spiders; 3) Some admins just copy in 3rd-party tools that &quot;prevent abuse&quot; without questioning what they do or understanding the bigger situation."}, {"owner": {"reputation": 823, "user_id": 6562353, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0-gFN-Zdcq4/AAAAAAAAAAI/AAAAAAAAAEU/Qp7XbUkSN94/photo.jpg?sz=128", "display_name": "Feneric", "link": "https://stackoverflow.com/users/6562353/feneric"}, "reply_to_user": {"reputation": 111, "user_id": 5024557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8c2e8aee8510215336dfc32925829856?s=128&d=identicon&r=PG&f=1", "display_name": "NJay", "link": "https://stackoverflow.com/users/5024557/njay"}, "edited": false, "score": 0, "creation_date": 1468502683, "post_id": 38363632, "comment_id": 64161271, "body": "As for why requests isn&#39;t being blocked, it&#39;ll likely vary with the answer above. For 1 &amp; 2, it&#39;s likely that requests just isn&#39;t used as much as the built-in urllib and hasn&#39;t registered as a problem for them yet. For 3, it&#39;s probably that requests didn&#39;t even exist when the tool was written."}, {"owner": {"reputation": 111, "user_id": 5024557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8c2e8aee8510215336dfc32925829856?s=128&d=identicon&r=PG&f=1", "display_name": "NJay", "link": "https://stackoverflow.com/users/5024557/njay"}, "edited": false, "score": 0, "creation_date": 1468693224, "post_id": 38363632, "comment_id": 64235961, "body": "Interesting. Thanks! :)"}], "tags": [], "owner": {"reputation": 823, "user_id": 6562353, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0-gFN-Zdcq4/AAAAAAAAAAI/AAAAAAAAAEU/Qp7XbUkSN94/photo.jpg?sz=128", "display_name": "Feneric", "link": "https://stackoverflow.com/users/6562353/feneric"}, "is_accepted": true, "score": 1, "last_activity_date": 1468455239, "creation_date": 1468455239, "answer_id": 38363632, "question_id": 38363276, "link": "https://stackoverflow.com/questions/38363276/image-scraped-as-html-page-with-urlretrieve/38363632#38363632", "title": "Image scraped as HTML page with urlretrieve", "body": "<p>It's because the owner of the server hosting that image is deliberately blocking access from Python's <code>urllib</code>. That's why it's working with <code>requests</code>. You can also do it with pure Python, but you'll have to give it an HTTP <code>User-Agent</code> header that makes it look like something other than <code>urllib</code>. For example:</p>\n\n<pre><code>import urllib2\nreq = urllib2.Request('http://i9.mangareader.net/one-piece/3/one-piece-1668214.jpg')\nreq.add_header('User-Agent', 'Feneric Was Here')\nresp = urllib2.urlopen(req)\nimgdata = resp.read()\nwith open(path, 'wb') as outfile:\n    outfile.write(imgdata)\n</code></pre>\n\n<p>So it's a little more involved to get around, but still not too bad.</p>\n\n<p>Note that the site owner probably did this because some people had gotten abusive. Please don't be one of them! With great power comes great responsibility, and all that.</p>\n"}], "owner": {"reputation": 111, "user_id": 5024557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8c2e8aee8510215336dfc32925829856?s=128&d=identicon&r=PG&f=1", "display_name": "NJay", "link": "https://stackoverflow.com/users/5024557/njay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 38363632, "answer_count": 1, "score": 1, "last_activity_date": 1468455239, "creation_date": 1468452192, "question_id": 38363276, "link": "https://stackoverflow.com/questions/38363276/image-scraped-as-html-page-with-urlretrieve", "title": "Image scraped as HTML page with urlretrieve", "body": "<p>I'm trying to scrape <a href=\"http://i9.mangareader.net/one-piece/3/one-piece-1668214.jpg\" rel=\"nofollow\">this image</a> using urllib.urlretrieve.</p>\n\n<pre><code>&gt;&gt;&gt; import urllib\n&gt;&gt;&gt; urllib.urlretrieve('http://i9.mangareader.net/one-piece/3/one-piece-1668214.jpg', \n        path) # path was previously defined\n</code></pre>\n\n<p>This code successfully saves the file in the given path. However, when I try to open the file, I get:</p>\n\n<pre><code>Could not load image 'imagename.jpg':\n    Error interpreting JPEG image file (Not a JPEG file: starts with 0x3c 0x21)\n</code></pre>\n\n<p>When I do <code>file imagename.jpg</code> in my bash terminal, I get <code>imagefile.jpg: HTML document, ASCII text</code>. </p>\n\n<p>So how do I scrape this image as a JPEG file? </p>\n"}, {"tags": ["python", "constructor", "self", "python-object"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1468452922, "post_id": 38363265, "comment_id": 64139004, "body": "Show us the entire class definition, not just <code>__init__()</code>.  Or at least indicate where line 21 is."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 3, "creation_date": 1468453053, "post_id": 38363265, "comment_id": 64139039, "body": "It seems very odd that it&#39;s displaying the comment line <code># Determine Left Side Vertical Axis</code> in the error traceback, as if it thinks <i>that</i> is line 21.  Maybe it&#39;s getting confused by an old version of a <code>.pyc</code> file that never got removed?"}], "owner": {"reputation": 365, "user_id": 4905989, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/305de7f210e1aa951377c6692b23cb79?s=128&d=identicon&r=PG&f=1", "display_name": "Troll_Hunter", "link": "https://stackoverflow.com/users/4905989/troll-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468452112, "creation_date": 1468452112, "question_id": 38363265, "link": "https://stackoverflow.com/questions/38363265/getting-python-variable-definition-called-not-defined", "title": "Getting Python variable definition called &#39;not defined&#39;", "body": "<p>I am not exactly sure what this error means.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n File     \"/Users/johndoe/Documents/CHOP_CPR_Project/CHOP_Apr07/CPRPageClass.py\", line 21, in __init__\n# Determine Left Side Vertical Axis\nNameError: name 'size' is not defined\n</code></pre>\n\n<p>Relevant code for Class that I am attempting to construct:</p>\n\n<pre><code>def __init__(self, image):\n    # Gather initial values\n    self.image = image\n    self.size = image.size\n    self.pixel_array = np.asarray(self.image)\n    # Determine Right Side Vertical Axis\n    rsv_list = np.zeros(0)\n    for i in range(int(.2 * image.size[1]), int(.7 * image.size[1]), 5):\n        counter = 0\n        for value in self.pixel_array[i][::-1]:\n            if value != 255:\n                np.append(rsv_list, counter)\n                break\n            else:\n                counter += 1\n    self.rsva = image.size[0] - int(np.mean(rsv_list))\n    # Determine Left Side Vertical Axis\n    lsv_list = np.zeros(0)\n    for i in range(int(.2 * image.size[1]), int(.7 * image.size[1]), 5):\n        counter = 0\n        for value in self.pixel_array[i]:\n            if value != 255:\n                np.append(lsv_list, counter)\n                break\n            else:\n                counter += 1\n    self.lsva = int(np.mean(lsv_list))\n</code></pre>\n\n<p>It's been a while since I coded in python so I am pretty rusty. I was wondering if anybody could identify a solution to my error.</p>\n\n<p>The command I tried to run in terminal that produced the error:</p>\n\n<pre><code>&gt;&gt; image = Image.open('chop_april07_Page_01.jpg')\n&gt;&gt; test = CPRPageClass.CPRPage(image)\n</code></pre>\n"}, {"tags": ["python", "python-import", "pyqt5"], "comments": [{"owner": {"reputation": 106, "user_id": 5642888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a87ed2584c3364eb0a62f7bb83dc4830?s=128&d=identicon&r=PG&f=1", "display_name": "Pomadomaphin", "link": "https://stackoverflow.com/users/5642888/pomadomaphin"}, "edited": false, "score": 0, "creation_date": 1468452917, "post_id": 38363262, "comment_id": 64139001, "body": "does the QtWidgets QPushbutton do the same job?"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1468453286, "post_id": 38363262, "comment_id": 64139084, "body": "Shouldn&#39;t that be a capital B?"}, {"owner": {"reputation": 91, "user_id": 4932815, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/d0a56336ef9dbe88d7d97f8ea0ae5f2a?s=128&d=identicon&r=PG&f=1", "display_name": "silentcallz", "link": "https://stackoverflow.com/users/4932815/silentcallz"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1468453555, "post_id": 38363262, "comment_id": 64139146, "body": "@tdelaney With or without the capital B it doesnt work"}], "answers": [{"tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 3, "last_activity_date": 1468454596, "creation_date": 1468454596, "answer_id": 38363556, "question_id": 38363262, "link": "https://stackoverflow.com/questions/38363262/pyqt5-qtgui-doesnt-contain-qpushbutton/38363556#38363556", "title": "PyQT5 QtGui doesn&#39;t contain QPushbutton", "body": "<p>PyQt5 is not compitible with PyQt4, so it's very unlikely that you'll be able to run a PyQt4 application with PyQt5 without making some changes. For details, see: <a href=\"http://pyqt.sourceforge.net/Docs/PyQt5/pyqt4_differences.html\" rel=\"nofollow\">Differences Between PyQt4 and PyQt5</a>.</p>\n\n<p>As to the specific issue, try:</p>\n\n<pre><code>        btn = QtWidgets.QPushButton('Button')\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4932815, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/d0a56336ef9dbe88d7d97f8ea0ae5f2a?s=128&d=identicon&r=PG&f=1", "display_name": "silentcallz", "link": "https://stackoverflow.com/users/4932815/silentcallz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1924, "favorite_count": 1, "accepted_answer_id": 38363556, "answer_count": 1, "score": 0, "last_activity_date": 1468454596, "creation_date": 1468452092, "last_edit_date": 1468453577, "question_id": 38363262, "link": "https://stackoverflow.com/questions/38363262/pyqt5-qtgui-doesnt-contain-qpushbutton", "title": "PyQT5 QtGui doesn&#39;t contain QPushbutton", "body": "<p>This is the simple line of code for creating the Button Object</p>\n\n<pre><code>        btn = QtGui.QPushButton('Button')\n</code></pre>\n\n<p>and gives out this error </p>\n\n<pre><code>        AttributeError: module 'PyQt5.QtGui' has no attribute 'QPushbutton'\n</code></pre>\n\n<p>These are my imports</p>\n\n<pre><code>        from PyQt5 import QtGui\n        from PyQt5 import QtCore\n        from PyQt5.QtCore import *\n        from PyQt5.QtWidgets import *\n        from PyQt5.QtGui import *\n\n        import sys\n</code></pre>\n\n<p>I am running compatible versions of Python(3.5.2)32Bit and PyQt5 32bit\nI tried QtGui.QLabel also and no luck.</p>\n"}, {"tags": ["python", "google-app-engine", "google-cloud-vision"], "comments": [{"owner": {"reputation": 4263, "user_id": 1146653, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a2041cb94c0244d2e6d59b4b32f22a39?s=128&d=identicon&r=PG", "display_name": "Stefan Salatic", "link": "https://stackoverflow.com/users/1146653/stefan-salatic"}, "edited": false, "score": 0, "creation_date": 1482753033, "post_id": 38363182, "comment_id": 69864585, "body": "Hey have you managed to find an answer to this question? I&#39;m interested in this as well."}, {"owner": {"reputation": 4823, "user_id": 2521469, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4Imv8.jpg?s=128&g=1", "display_name": "Hillary Sanders", "link": "https://stackoverflow.com/users/2521469/hillary-sanders"}, "reply_to_user": {"reputation": 4263, "user_id": 1146653, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a2041cb94c0244d2e6d59b4b32f22a39?s=128&d=identicon&r=PG", "display_name": "Stefan Salatic", "link": "https://stackoverflow.com/users/1146653/stefan-salatic"}, "edited": false, "score": 0, "creation_date": 1482867296, "post_id": 38363182, "comment_id": 69903941, "body": "I haven&#39;t. At the time I basically scoured the documentation and couldn&#39;t find any reference to such a list (same with some googling), so I&#39;m fairly sure that there wasn&#39;t any officially available list at the time I looked into it (July 2016)."}, {"owner": {"reputation": 3469, "user_id": 2845311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618ffd8a1b2d5c77b0de3606f10b7c24?s=128&d=identicon&r=PG", "display_name": "Andrew Schultz", "link": "https://stackoverflow.com/users/2845311/andrew-schultz"}, "edited": false, "score": 0, "creation_date": 1527307869, "post_id": 38363182, "comment_id": 88090283, "body": "Any updates on this?"}, {"owner": {"reputation": 1497, "user_id": 2770195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec5ecb12a5198dbb705b12cd0e621235?s=128&d=identicon&r=PG", "display_name": "MuhsinFatih", "link": "https://stackoverflow.com/users/2770195/muhsinfatih"}, "edited": false, "score": 0, "creation_date": 1558045664, "post_id": 38363182, "comment_id": 98981090, "body": "any updates in 2019? @HillarySanders"}, {"owner": {"reputation": 344, "user_id": 5712576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d3345913770b035b74e93490570a10e?s=128&d=identicon&r=PG&f=1", "display_name": "Kays Kadhi", "link": "https://stackoverflow.com/users/5712576/kays-kadhi"}, "edited": false, "score": 0, "creation_date": 1562596912, "post_id": 38363182, "comment_id": 100414894, "body": "@HillarySanders did you manage to find the list of potential labels?"}], "answers": [{"comments": [{"owner": {"reputation": 3487, "user_id": 396472, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/352f8640a009e2d63d9d9ab749c4c80b?s=128&d=identicon&r=PG", "display_name": "Wiliam", "link": "https://stackoverflow.com/users/396472/wiliam"}, "edited": false, "score": 1, "creation_date": 1500316444, "post_id": 45151169, "comment_id": 77271648, "body": "Sorry, this is not a correct response. The keys returned by &quot;detectLabels&quot; doesn&#39;t exists in Knowledge Graph API, I&#39;m going to search for more info and fix the response. The DOC says that this is the correct method..."}], "tags": [], "owner": {"reputation": 3487, "user_id": 396472, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/352f8640a009e2d63d9d9ab749c4c80b?s=128&d=identicon&r=PG", "display_name": "Wiliam", "link": "https://stackoverflow.com/users/396472/wiliam"}, "is_accepted": false, "score": 4, "last_activity_date": 1500715919, "last_edit_date": 1500715919, "creation_date": 1500315991, "answer_id": 45151169, "question_id": 38363182, "link": "https://stackoverflow.com/questions/38363182/is-there-a-full-list-of-potential-labels-that-googles-vision-api-will-return/45151169#45151169", "title": "Is there a full list of potential labels that Google&#39;s Vision API will return?", "body": "<p>There is an API to search them called <strong>Google Knowledge Graph API</strong>:</p>\n\n<p><a href=\"https://developers.google.com/knowledge-graph/reference/rest/v1/\" rel=\"nofollow noreferrer\">https://developers.google.com/knowledge-graph/reference/rest/v1/</a></p>\n\n<p>They link it at the bottom of <strong>Google Vision API Documentation</strong>:</p>\n\n<p><a href=\"https://cloud.google.com/vision/docs/labels\" rel=\"nofollow noreferrer\">https://cloud.google.com/vision/docs/labels</a></p>\n\n<hr>\n\n<p><strong>Edit</strong>: more info</p>\n\n<p>Ok, mids starting with /g/ are google entities, mids starting with /m/ are Freebase identifiers, but google kgraph API doesn't returns them always.</p>\n\n<p>This data is public and can be downloaded, but there are too many records in the database and Google haven't published which ones of them they use.</p>\n\n<p>Example of MID returned in vision api and the record in Wikidata:</p>\n\n<pre><code>{\n    desc: \"institution\",\n    mid: \"/m/01r28c\",\n    score: 72.29216694831848,\n    confidence: 0,\n    locations: [ ],\n    properties: [ ]\n},\n</code></pre>\n\n<p><a href=\"https://www.wikidata.org/wiki/Q178706\" rel=\"nofollow noreferrer\">https://www.wikidata.org/wiki/Q178706</a></p>\n\n<hr>\n\n<p>The last freebase dump can be downloaded here:</p>\n\n<p><a href=\"https://developers.google.com/freebase/\" rel=\"nofollow noreferrer\">https://developers.google.com/freebase/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1216, "user_id": 1424378, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ffb07d39eccb7309c53b83f430345a34?s=128&d=identicon&r=PG&f=1", "display_name": "James Cameron", "link": "https://stackoverflow.com/users/1424378/james-cameron"}, "is_accepted": true, "score": 10, "last_activity_date": 1566761503, "creation_date": 1566761503, "answer_id": 57649116, "question_id": 38363182, "link": "https://stackoverflow.com/questions/38363182/is-there-a-full-list-of-potential-labels-that-googles-vision-api-will-return/57649116#57649116", "title": "Is there a full list of potential labels that Google&#39;s Vision API will return?", "body": "<p>While I can't verify the completeness of the database, the <a href=\"https://storage.googleapis.com/openimages/web/index.html\" rel=\"noreferrer\">Google Open Images</a> project has a list of around 20k classifications.</p>\n\n<p>If you browse to the <a href=\"https://storage.googleapis.com/openimages/web/download.html\" rel=\"noreferrer\">download</a> page you are able to download the list with those descriptions as <a href=\"https://storage.googleapis.com/openimages/v5/class-descriptions.csv\" rel=\"noreferrer\">CSV</a>.</p>\n\n<p>I checked a few reference images within CloudVision and had the following results:</p>\n\n<pre><code>ID / CloudVision Classification / OpenImages Classification\n1. 01ssh5 / Shoulder / Shoulder (Body Part)\n2. 09cx8 / Finger / Finger\n3. 068jd / Photograph / Photograph\n4. 01k74n / Facial expression / Facial expression\n5. 04hgtk / Head / Human Head\n</code></pre>\n\n<p>I was able to find all IDs with the same meaning in the CSV - so as a base list this should be sufficient. Be aware that you should always match by ID, not by classification, as there are a few slight changes.</p>\n\n<p>If you find any IDs in CloudVision but not in the list, I'd be interested to know in the comments!</p>\n"}], "owner": {"reputation": 4823, "user_id": 2521469, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4Imv8.jpg?s=128&g=1", "display_name": "Hillary Sanders", "link": "https://stackoverflow.com/users/2521469/hillary-sanders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5193, "favorite_count": 7, "accepted_answer_id": 57649116, "answer_count": 2, "score": 26, "last_activity_date": 1566761503, "creation_date": 1468451565, "last_edit_date": 1468512433, "question_id": 38363182, "link": "https://stackoverflow.com/questions/38363182/is-there-a-full-list-of-potential-labels-that-googles-vision-api-will-return", "title": "Is there a full list of potential labels that Google&#39;s Vision API will return?", "body": "<p>I've been testing out Google's Vision API to attach labels to different images.</p>\n\n<p>For a given image, I'll get back something like this:</p>\n\n<pre><code>\"google_labels\": {\n            \"responses\": [{\n                \"labelAnnotations\": [{\n                    \"score\": 0.8966763,\n                    \"description\": \"food\",\n                    \"mid\": \"/m/02wbm\"\n                }, {\n                    \"score\": 0.80512983,\n                    \"description\": \"produce\",\n                    \"mid\": \"/m/036qh8\"\n                }, {\n                    \"score\": 0.73635191,\n                    \"description\": \"juice\",\n                    \"mid\": \"/m/01z1kdw\"\n                }, {\n                    \"score\": 0.69849229,\n                    \"description\": \"meal\",\n                    \"mid\": \"/m/0krfg\"\n                }, {\n                    \"score\": 0.53875387,\n                    \"description\": \"fruit\",\n                    \"mid\": \"/m/02xwb\"\n                }]\n            }]\n        }\n</code></pre>\n\n<p>--> My questions are:</p>\n\n<ol>\n<li>Does anybody know if Google has published their full list of labels (<code>['produce', 'meal', ...]</code>) and where I could find that?</li>\n<li>Are those labels structured in any way? - e.g. is it known that 'food' is a superset of 'produce', for example.</li>\n</ol>\n\n<p>I'm guessing 'No' and 'No' as I haven't been able to find anything, but, maybe not. Thanks!</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "is_accepted": true, "score": 0, "last_activity_date": 1468451492, "creation_date": 1468451492, "answer_id": 38363171, "question_id": 38363138, "link": "https://stackoverflow.com/questions/38363138/how-can-i-add-a-dictionary-of-parameters-into-a-subprocess-call-in-python/38363171#38363171", "title": "How can I add a dictionary of parameters into a subprocess call in python?", "body": "<p>If I understand correctly, I think this is what you're looking for:</p>\n\n<pre><code>d = { 'var1': '1', 'var2': '2' }\nsubprocess.Popen([\"make\", \"make.mk\"] + [k + \"=\" + v for k, v in d.items()])\n</code></pre>\n\n<p>(My understanding is that you want to execute a command like <code>make make.mv var1=1 var2=2</code>.)</p>\n"}], "owner": {"reputation": 27, "user_id": 6586806, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f8c510235133135d68628fb13d8581ad?s=128&d=identicon&r=PG&f=1", "display_name": "user6586806", "link": "https://stackoverflow.com/users/6586806/user6586806"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 38363171, "answer_count": 1, "score": 2, "last_activity_date": 1468451536, "creation_date": 1468451302, "last_edit_date": 1468451536, "question_id": 38363138, "link": "https://stackoverflow.com/questions/38363138/how-can-i-add-a-dictionary-of-parameters-into-a-subprocess-call-in-python", "title": "How can I add a dictionary of parameters into a subprocess call in python?", "body": "<p>Let's say there is a dictionary called <code>dict</code> in which <code>dict['var1'] = '1'</code> and <code>dict['var2'] = '2'</code> ... I am trying to find a way to add it to a subprocess call to trigger a make file. Currently I have:</p>\n\n<pre><code>subprocess.Popen([\"make\", \"make.mk\"], **dict)\n</code></pre>\n\n<p>From the command line, this works: </p>\n\n<pre><code>$(make make.mk var1=1 var2=2)\n</code></pre>\n\n<p>Is there any way to do this from a subprocess?</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "numpy", "while-loop"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4806266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206097964750385/picture?type=large", "display_name": "Kaelan O&#39;reily", "link": "https://stackoverflow.com/users/4806266/kaelan-oreily"}, "edited": false, "score": 0, "creation_date": 1468453287, "post_id": 38363274, "comment_id": 64139085, "body": "It worked, I didn&#39;t realise that I had to state the code to explicitly do this. I thought it was implied."}], "tags": [], "owner": {"reputation": 26, "user_id": 2223053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e4f228edd598ea5379b61463796e023?s=128&d=identicon&r=PG", "display_name": "nate", "link": "https://stackoverflow.com/users/2223053/nate"}, "is_accepted": true, "score": 1, "last_activity_date": 1468452182, "creation_date": 1468452182, "answer_id": 38363274, "question_id": 38363124, "link": "https://stackoverflow.com/questions/38363124/np-loadtxt-not-overwritting-files/38363274#38363274", "title": "np.loadtxt not overwritting files", "body": "<p>I think the issue is with your plotting code.  If I understand you correctly, you want each plot to be its own figure.  Unless you make explicitly tell matplotlib otherwise, it will continue to add all your plots to the same axes.</p>\n\n<p>Try adding a call to plt.figure() at the end of your loop.</p>\n\n<p>Or, you can look up matplotlib subplots if you want them to be in a grid with one another.</p>\n"}], "owner": {"reputation": 83, "user_id": 4806266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206097964750385/picture?type=large", "display_name": "Kaelan O&#39;reily", "link": "https://stackoverflow.com/users/4806266/kaelan-oreily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 38363274, "answer_count": 1, "score": 0, "last_activity_date": 1468452182, "creation_date": 1468451227, "last_edit_date": 1468451578, "question_id": 38363124, "link": "https://stackoverflow.com/questions/38363124/np-loadtxt-not-overwritting-files", "title": "np.loadtxt not overwritting files", "body": "<p>I am importing a list that is not being overwritting by np.loadtxt. I have 6 text files that are being added into the same array, but what I would like to do is overwrite this array and print a new graph per file. Unfortunately it's printing a new image with one graph ontop of the other per file until it reaches the length( looking like graph1.jpg, graph1 +2 .jpg, graph1 + 2 + 3.jpg and so on). Can anyone help me with this? I found the problem to be in the line containing \"np.loadtxt....\". But I do not know what other code to use to pull up a text file and pull a column from it while overwriting the previous loop's code. Below is a portion of my code. Please not that all_txt_PL is a list of file txt names.</p>\n\n<pre><code>while i!= x2:\n    DataIn = np.loadtxt(all_txt_PL[i])\n    #DataIn = np.array(DataIn)\n    #print(DataIn, '\\n')\n    y = list()\n    v = list()\n    for column in DataIn:\n        v.append(column[1])\n        y.append(column[0])\n    plt.plot(y,v, 'b')  \n    plt.title('PL Spectrum')\n    plt.ylabel('Intensity A.U')\n    plt.xlabel('energy [eV]')\n    DataIn_PL_name = str(all_txt_PL[i])\n    #graphs_PL.append('PL_plot_coordinates_' + DataIn_PL_name.strip('.txt') + '.JPG')\n    #plt.savefig('PL of ' + DataIn_PL_name.strip('.txt') + '.JPG')\n    #print(i, all_txt_PL[i], '\\n')\n    i += 1\n    #DataIn = np.delete(DataIn, [0,1], axis = None)\n    #DataIn = np.delete(DataIn, 0, None)\n    y[:] = []\n    v[:] = []\n</code></pre>\n"}, {"tags": ["python", "windows", "batch-file"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6017774"}, "edited": false, "score": 0, "creation_date": 1468451955, "post_id": 38363108, "comment_id": 64138751, "body": "<code>echo hi &gt; COM3</code>. See a list of punctuation <a href=\"http://stackoverflow.com/questions/31820569/trouble-with-renaming-folders-and-sub-folders-using-batch\" title=\"trouble with renaming folders and sub folders using batch\">stackoverflow.com/questions/31820569/&hellip;</a>"}, {"owner": {"reputation": 432, "user_id": 6542561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uEiJr.png?s=128&g=1", "display_name": "Bruce David Wilner", "link": "https://stackoverflow.com/users/6542561/bruce-david-wilner"}, "edited": false, "score": 0, "creation_date": 1468455544, "post_id": 38363108, "comment_id": 64139594, "body": "That really threw ME for a loop.  I thought he was talking about RAW (non-canonized) input on a UNIX tty!"}], "answers": [{"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 0, "last_activity_date": 1468455129, "creation_date": 1468455129, "answer_id": 38363626, "question_id": 38363108, "link": "https://stackoverflow.com/questions/38363108/how-to-type-response-to-raw-input-on-terminal-via-batch-file/38363626#38363626", "title": "How to type response to raw input on terminal via batch file?", "body": "<p>Try a pipe, which directs the output of one command to the input of another:</p>\n\n<pre><code>echo COM3 | main.py\n</code></pre>\n\n<p>Ideally, however, your <code>main.py</code> would be written to take the port on the command line, instead of prompting for it (or only prompting if it's not found on the command line). Like this:</p>\n\n<pre><code>import sys\n\nif len(sys.argv) &lt; 2:\n    port = raw_input(\"Enter port number: \")\nelse:\n    port = sys.argv[1]\n</code></pre>\n\n<p>Then you can simply do <code>main.py COM3</code>.</p>\n"}], "owner": {"reputation": 17, "user_id": 6490746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2383dc28c315a915a6c39e0de784079f?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/6490746/jennifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468455129, "creation_date": 1468451073, "question_id": 38363108, "link": "https://stackoverflow.com/questions/38363108/how-to-type-response-to-raw-input-on-terminal-via-batch-file", "title": "How to type response to raw input on terminal via batch file?", "body": "<p>I'm trying to write a batch file that will automatically run a python script. After <code>python main.py</code> is executed, the script asks for what serial port the user is using (using the raw input function in python). </p>\n\n<p>I want to automatize the process by trying all the different COM ports until we find the correct port so users do not have to enter the COM port.</p>\n\n<p>Basically I am just wondering what batch command is used to write to the terminal? I'm new to batch and I couldn't find any information about my specific question...</p>\n\n<p>I have tried this so far:</p>\n\n<pre><code>    main.py\n    echo COM3\n    pause   \n</code></pre>\n\n<p>But the \"COM3\" does not get entered in to the terminal. Would really appreciate any help thanks so much!</p>\n"}, {"tags": ["python", "pandas", "histogram", "plotly"], "comments": [{"owner": {"reputation": 14691, "user_id": 3098818, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/f5a94273c00a346b63559ab9da92925f?s=128&d=identicon&r=PG&f=1", "display_name": "yoshiserry", "link": "https://stackoverflow.com/users/3098818/yoshiserry"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1468451928, "post_id": 38363078, "comment_id": 64138746, "body": "I explained what I have done - a simple pivot chart of the number of times each value in the industry column of a dataframe has occurred. This pivot results in a multi index which I want to visualise using a visualisation library like searborn, plotly etc"}, {"owner": {"reputation": 111, "user_id": 6587286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5440c2e7289dd9ec65696854f2a9f98?s=128&d=identicon&r=PG", "display_name": "Vamsi", "link": "https://stackoverflow.com/users/6587286/vamsi"}, "edited": false, "score": 0, "creation_date": 1468465474, "post_id": 38363078, "comment_id": 64141668, "body": "<code>reset_index</code> can be used to convert all the indices in a MultiIndex to columns creating a normal dataframe with no loss of data."}, {"owner": {"reputation": 14691, "user_id": 3098818, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/f5a94273c00a346b63559ab9da92925f?s=128&d=identicon&r=PG&f=1", "display_name": "yoshiserry", "link": "https://stackoverflow.com/users/3098818/yoshiserry"}, "reply_to_user": {"reputation": 111, "user_id": 6587286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5440c2e7289dd9ec65696854f2a9f98?s=128&d=identicon&r=PG", "display_name": "Vamsi", "link": "https://stackoverflow.com/users/6587286/vamsi"}, "edited": false, "score": 0, "creation_date": 1468465702, "post_id": 38363078, "comment_id": 64141714, "body": "Instead of reset _ index can you just say I just want the first level of index which would be &quot;industry name&quot;, &quot;count&quot;?"}, {"owner": {"reputation": 111, "user_id": 6587286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5440c2e7289dd9ec65696854f2a9f98?s=128&d=identicon&r=PG", "display_name": "Vamsi", "link": "https://stackoverflow.com/users/6587286/vamsi"}, "edited": false, "score": 0, "creation_date": 1468467882, "post_id": 38363078, "comment_id": 64142152, "body": "You can use reset_index to drop or move levels you want. Having a reproducible example with desired output would help convey your question better"}, {"owner": {"reputation": 14691, "user_id": 3098818, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/f5a94273c00a346b63559ab9da92925f?s=128&d=identicon&r=PG&f=1", "display_name": "yoshiserry", "link": "https://stackoverflow.com/users/3098818/yoshiserry"}, "reply_to_user": {"reputation": 111, "user_id": 6587286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5440c2e7289dd9ec65696854f2a9f98?s=128&d=identicon&r=PG", "display_name": "Vamsi", "link": "https://stackoverflow.com/users/6587286/vamsi"}, "edited": false, "score": 0, "creation_date": 1468468097, "post_id": 38363078, "comment_id": 64142211, "body": "Thanks vamsi I&#39;ll try to add an example"}], "answers": [{"tags": [], "owner": {"reputation": 14691, "user_id": 3098818, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/f5a94273c00a346b63559ab9da92925f?s=128&d=identicon&r=PG&f=1", "display_name": "yoshiserry", "link": "https://stackoverflow.com/users/3098818/yoshiserry"}, "is_accepted": false, "score": 0, "last_activity_date": 1468505236, "creation_date": 1468505236, "answer_id": 38376443, "question_id": 38363078, "link": "https://stackoverflow.com/questions/38363078/how-to-remove-multi-indexing-from-a-pandas-pivot-table-for-easy-visualisation/38376443#38376443", "title": "How to remove multi indexing from a pandas pivot table for easy visualisation", "body": "<p>Vamsi I tried reset the index multiple times on my industry pivot table example (above) and no matter how many times I reset the index I'm still left with a dataframe which has a multi index which makes it hard for me to graph/chart.</p>\n"}], "owner": {"reputation": 14691, "user_id": 3098818, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/f5a94273c00a346b63559ab9da92925f?s=128&d=identicon&r=PG&f=1", "display_name": "yoshiserry", "link": "https://stackoverflow.com/users/3098818/yoshiserry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 526, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1468505236, "creation_date": 1468450839, "question_id": 38363078, "link": "https://stackoverflow.com/questions/38363078/how-to-remove-multi-indexing-from-a-pandas-pivot-table-for-easy-visualisation", "title": "How to remove multi indexing from a pandas pivot table for easy visualisation", "body": "<p>When creating pivot tables there is often multi level indexing (two or more levels of index which show up as columns.</p>\n\n<p>In these cases the object that the pivot function returns is still a dataframe but to my limited knowledge it is difficult to chart in this multi index form.</p>\n\n<p>How do you go from a pivot table where you get the counts of one column line industry to putting that into a histogram with a charting library like plotly or d3 or bokeh or pygal or searborn without extracting series out of the pivot dataframe and creating a new dataframe with just one column index specifically for the visualisation.</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "cross-validation", "grid-search"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 1, "creation_date": 1468452641, "post_id": 38363020, "comment_id": 64138933, "body": "Have a look at <a href=\"http://stackoverflow.com/questions/21443865/scikit-learn-cross-validation-negative-values-with-mean-squared-error\">this</a> regarding how to interpret this value and why it&#39;s negative. The different values are easy to explain: grid-search uses some cross-validation, in your case 10-fold. The scores are calculated on these sets. Your alternative score uses some other set (x/y; which is not good to measure generalization because it seems you calculate the score on the training-data)."}, {"owner": {"reputation": 310, "user_id": 3767897, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FS7Uy.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/3767897/dmitry"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1468457930, "post_id": 38363020, "comment_id": 64140088, "body": "Thank you for your reply. Yes, now it&#39;s clear that score value is always maximized. I know that cross val score would be different from the estimated error on whole training data, I was a little bit confused by the different values, now I see that GridSearchCV does use the provided metric, and difference in values explained by cross validation issues. I will be happy to accept your answer as correct, thanks!"}], "owner": {"reputation": 310, "user_id": 3767897, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/FS7Uy.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/3767897/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1120, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1468450472, "creation_date": 1468450472, "question_id": 38363020, "link": "https://stackoverflow.com/questions/38363020/difference-between-gridsearchcv-score-and-error-function", "title": "Difference between GridSearchCV score and error function", "body": "<p>What is the meaning of best_score_ of GridSearchCV, when using custom error function?</p>\n\n<p>I'm running a simple experiment with Scikit GridSearchCV.</p>\n\n<p>1) Train simple svm:</p>\n\n<pre><code>from sklearn.svm import LinearSVR\nfrom sklearn.pipeline import Pipeline\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.metrics import mean_squared_error\n\nlin_svm_grid_params = dict(svm__C = [0.01])\nlin_svm = Pipeline([(\"scaler\", StandardScaler()), (\"svm\", LinearSVR(dual=False, loss='squared_epsilon_insensitive'))]) \nlin_svm_grid = GridSearchCV(lin_svm, lin_svm_grid_params, cv = 10, scoring='mean_squared_error', n_jobs = -1)\nlin_svm_grid.fit(x, y)\n</code></pre>\n\n<p>2) Print results:</p>\n\n<pre><code>print lin_svm_grid.best_score_\nprint mean_squared_error(y, lin_svm_grid.best_estimator_.predict(x))\n-610.141599985\n236.578850489\n</code></pre>\n\n<p>So here is the main trouble: why the values are different? I guess GridSearchCV score is R^2 score, and can i make GridSearchCV return error function value instead of R^2?</p>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 1983, "user_id": 1197616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c4cdf0d18819f891bebb0fcdf7a187?s=128&d=identicon&r=PG&f=1", "display_name": "mattias", "link": "https://stackoverflow.com/users/1197616/mattias"}, "edited": false, "score": 1, "creation_date": 1468450097, "post_id": 38362921, "comment_id": 64138234, "body": "Maybe <a href=\"http://askubuntu.com/questions/597906/how-to-install-pip-and-a-python-package-for-self-installed-python\" title=\"how to install pip and a python package for self installed python\">askubuntu.com/questions/597906/&hellip;</a> will guide you in the right direction"}, {"owner": {"reputation": 4676, "user_id": 30105, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a1dc4bddf38de8351ae70e98845242e9?s=128&d=identicon&r=PG", "display_name": "PyNEwbie", "link": "https://stackoverflow.com/users/30105/pynewbie"}, "edited": false, "score": 0, "creation_date": 1468450826, "post_id": 38362921, "comment_id": 64138467, "body": "I know on Windows I have to be in the scripts directory to run pip as it is not on my path.  I do not know how it works on Ubuntu"}, {"owner": {"reputation": 3679, "user_id": 2487336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6eae2a9fe7257a46c91f0515087e2940?s=128&d=identicon&r=PG", "display_name": "xgord", "link": "https://stackoverflow.com/users/2487336/xgord"}, "edited": false, "score": 0, "creation_date": 1468451235, "post_id": 38362921, "comment_id": 64138561, "body": "Are you sure the <code>pip</code> version installed on your machine is for python3 and not python2? <code>pip</code> is specific to the python version."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 2, "creation_date": 1468452884, "post_id": 38362921, "comment_id": 64138994, "body": "The version for Python 3 is in an other package, AFAIR is was <code>python3-pip</code> or something similar."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 1, "creation_date": 1468456517, "post_id": 38362921, "comment_id": 64139794, "body": "Go download <a href=\"https://bootstrap.pypa.io/get-pip.py\" rel=\"nofollow noreferrer\">bootstrap.pypa.io/get-pip.py</a> and do <code>python3 get-pip.py</code> (you may need to run as sudo)"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6261527"}, "is_accepted": false, "score": 0, "last_activity_date": 1482027847, "creation_date": 1482027847, "answer_id": 41204917, "question_id": 38362921, "link": "https://stackoverflow.com/questions/38362921/trying-to-install-discord-py-and-it-says-no-module-named-pip/41204917#41204917", "title": "Trying to install discord.py and it says &quot;no module named pip&quot;", "body": "<p>Just do <code>sudo apt-get python3-pip</code></p>\n\n<p>Then do <code>pip3 install -U discord.py</code></p>\n\n<p>Should fix it.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14451034, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/2025381e7404962daae024cf1ca8aee5?s=128&d=identicon&r=PG", "display_name": "Guest", "link": "https://stackoverflow.com/users/14451034/guest"}, "is_accepted": false, "score": 0, "last_activity_date": 1602698754, "creation_date": 1602698754, "answer_id": 64359116, "question_id": 38362921, "link": "https://stackoverflow.com/questions/38362921/trying-to-install-discord-py-and-it-says-no-module-named-pip/64359116#64359116", "title": "Trying to install discord.py and it says &quot;no module named pip&quot;", "body": "<p>Do <code>sudo apt install python3-pip</code></p>\n<p>And then <code>pip3 install -U discord.py</code></p>\n<p>I would have just commented on the previous answer but I'm a guest</p>\n"}], "owner": {"reputation": 1, "user_id": 6586803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402a1128cb8546b901c68359ab23575d?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6586803/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2844, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1602698754, "creation_date": 1468449796, "last_edit_date": 1468456414, "question_id": 38362921, "link": "https://stackoverflow.com/questions/38362921/trying-to-install-discord-py-and-it-says-no-module-named-pip", "title": "Trying to install discord.py and it says &quot;no module named pip&quot;", "body": "<p>When running the command to install <code>discord.py</code></p>\n\n<pre><code>python3 -m pip install -U discord.py\n</code></pre>\n\n<p>It says that there is no module named pip and thus I cannot complete the download or installation. I checked, and pip is installed on my machine. I am running Ubuntu.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1468449649, "post_id": 38362875, "comment_id": 64138067, "body": "One of the lines doesn&#39;t have a tab."}, {"owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 0, "creation_date": 1468449805, "post_id": 38362875, "comment_id": 64138133, "body": "Most likely one of your lines contains no tabs"}], "answers": [{"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 0, "last_activity_date": 1468450033, "last_edit_date": 1468450033, "creation_date": 1468449725, "answer_id": 38362910, "question_id": 38362875, "link": "https://stackoverflow.com/questions/38362875/index-error-is-occurring/38362910#38362910", "title": "Index Error is occurring", "body": "<p>You can add try except to your code as below and track which line broke your code</p>\n\n<pre><code>for line in open(file,'r').readlines():\n    try:\n        pieces = line.split('\\t')\n        ...\n\n    except IndexError as ie:\n        print ie\n</code></pre>\n\n<p>Alternatively, if all your lines are always split to same length of elements. you can check <code>len(pieces)</code>  If the length is not equal to the expected length value, use <code>continue</code> to ignore the rest code.</p>\n"}], "owner": {"reputation": 49, "user_id": 6272638, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff35a1f703f7930e99aa7c87c571e346?s=128&d=identicon&r=PG&f=1", "display_name": "Taehun Ahn", "link": "https://stackoverflow.com/users/6272638/taehun-ahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1468491422, "accepted_answer_id": 38362910, "answer_count": 1, "score": 1, "last_activity_date": 1533261878, "creation_date": 1468449544, "last_edit_date": 1533261878, "question_id": 38362875, "link": "https://stackoverflow.com/questions/38362875/index-error-is-occurring", "closed_reason": "Not suitable for this site", "title": "Index Error is occurring", "body": "<p>I am getting \"INDEXERROR: list index out of range\" problem. </p>\n\n<p>It does not occur for the similar code that I wrote.</p>\n\n<p>I indicate the error line with ------- sign -------.</p>\n\n<p>.\n.\n.\n.\n.\n.\n.</p>\n\n<pre><code>#import json\n\n\nresult = {}\n\n#declare variables\ncount = -1\ncategory = None\nparagraph = None\n\n#list of files\nfile_lists = [\"sc.txt\" ] \n\n\nfor file in file_lists:\n#read line \nfor line in open(file,'r').readlines():\n    pieces = line.split('\\t')\n\n\n    #if category is empty assign 'category' from line 1 \n    if (category == None):\n        category = pieces[0]\n\n    #if starts with 'Question' skip\n    elif (pieces[0].startswith('Question')):\n        continue\n\n    #if------ ERROR OCCURS RIGHT BELOW THIS LINE !!!!!------------\n    elif ((pieces[0] != '') and (pieces[1] == '')):\n        paragraph = pieces[0]\n\n    #add incorrect to the dict\n    elif ((pieces[0] != '') and (pieces[1] != '')):\n        count += 1\n        result[count] = {'Category': category,\n             'Question': paragraph,\n             'Given_sen': pieces[0],\n             'Incorrect':[pieces[1]],\n             'Correct': pieces[2],\n             'Rule': pieces[3]\n            }\n    elif (pieces[0].startswith('')):\n        result[count]['Incorrect'].append(pieces[1])\n</code></pre>\n"}, {"tags": ["javascript", "python", "json", "cherrypy"], "comments": [{"owner": {"reputation": 613, "user_id": 595220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/411092932361d175e66a92a2960599fe?s=128&d=identicon&r=PG", "display_name": "webknjaz", "link": "https://stackoverflow.com/users/595220/webknjaz"}, "edited": false, "score": 1, "creation_date": 1468564717, "post_id": 38362835, "comment_id": 64187692, "body": "You may also use <code>@cherrypy.tools.json_out()</code> and return dict instead of converting in to JSON manually."}, {"owner": {"reputation": 613, "user_id": 595220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/411092932361d175e66a92a2960599fe?s=128&d=identicon&r=PG", "display_name": "webknjaz", "link": "https://stackoverflow.com/users/595220/webknjaz"}, "edited": false, "score": 0, "creation_date": 1468787610, "post_id": 38362835, "comment_id": 64257879, "body": "Regarding sending raw JSON data via POST request with jQuery, remember to stringify the object first: <code>JSON.stringify({&quot;model&quot;:$scope.params[2], &quot;value&quot;: arr})</code>"}], "owner": {"reputation": 383, "user_id": 3219930, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f1e2e7d27dffae52eae799bfb4d05438?s=128&d=identicon&r=PG&f=1", "display_name": "maikelm", "link": "https://stackoverflow.com/users/3219930/maikelm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 567, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1469568574, "creation_date": 1468449355, "last_edit_date": 1469568574, "question_id": 38362835, "link": "https://stackoverflow.com/questions/38362835/request-post-pasing-json-using-cherrypy-python", "title": "Request post pasing JSON using cherrypy python", "body": "<p>I am trying send json in request post to python using cherrypy. When I send the request, the response is (400 bad request, Invalid JSON document), nevertheless using postman i make the same request and the server return the result withou errors.</p>\n\n<p>My python code:</p>\n\n\n\n<pre><code>import time, sys, cherrypy, os\nimport json\nimport ML_Training\nimport ML_Unsup_Predictor_Results\n\nclass Application(object):\n    @cherrypy.expose\n    @cherrypy.tools.json_in()\n    def predict(self):\n        try:\n            cherrypy.response.headers[\"Access-Control-Allow-Origin\"] = \"*\"\n            cherrypy.response.headers['Content-Type'] = \"application/json\"\n            input_json = cherrypy.request.json\n            r = ML_Unsup_Predictor_Results.Predict_New_Values(input_json[\"model\"], input_json[\"value\"])\n            return json.dumps(r)\n        except Exception as e:\n            print e.message\n            return e.message\n</code></pre>\n\n<p>In javascript my request post using angularjs</p>\n\n\n\n<pre><code>$http.post(mlService.getMlMultitenancyOrigin() + '/python/predict',\n           {\"model\":$scope.params[2], \"value\": arr}).then(function(result){\n        console.log(result);\n})\n</code></pre>\n\n<p>note: the structure of arr is arr = [1,2,3,4] (array of integers)</p>\n\n<p>My question is why \"invalid JSON\" </p>\n\n<p>attached image of postmant, when the result is ok</p>\n\n<p><a href=\"https://i.stack.imgur.com/1emRU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1emRU.jpg\" alt=\"postman screenshot\"></a> </p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "is_accepted": true, "score": 2, "last_activity_date": 1468449758, "last_edit_date": 1495541690, "creation_date": 1468449758, "answer_id": 38362916, "question_id": 38362833, "link": "https://stackoverflow.com/questions/38362833/indexerror-index-43770-is-out-of-bounds-for-axis-0-with-size-37550/38362916#38362916", "title": "IndexError: index 43770 is out of bounds for axis 0 with size 37550", "body": "<p>Instead of <code>(x, y)</code> pairs (i.e. <code>[(x1, y1), (x2, y2), ...]</code>), you need to pass something like <code>[(x1, x2, ...), (y1, y2, ...)]</code>. It was not what I was expecting, too (see a similar question <a href=\"https://stackoverflow.com/q/36989390/2285236\">here</a>). <a href=\"https://stackoverflow.com/a/36989677/2285236\">@hpaulj's suggestion</a> was to use zip. For your question:</p>\n\n<pre><code>im[tuple(zip(*location))] = 4\n</code></pre>\n\n<p>gives the result you are looking for.</p>\n"}], "owner": {"reputation": 35, "user_id": 6175329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2de16e637a01f8acf651d615dbc4873?s=128&d=identicon&r=PG&f=1", "display_name": "Vahid Azimi", "link": "https://stackoverflow.com/users/6175329/vahid-azimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1040, "favorite_count": 0, "accepted_answer_id": 38362916, "answer_count": 1, "score": 2, "last_activity_date": 1468449758, "creation_date": 1468449330, "question_id": 38362833, "link": "https://stackoverflow.com/questions/38362833/indexerror-index-43770-is-out-of-bounds-for-axis-0-with-size-37550", "title": "IndexError: index 43770 is out of bounds for axis 0 with size 37550", "body": "<p>When I run:</p>\n\n<pre><code>im = np.zeros((37550, 59759))  \n\nlocation = [(23913, 43770), (23914, 43731), (23914, 43734), (23916, 43734), \n            (23916, 43740), (23917, 43740), (23917, 43742), (23918, 43743),\n            (23918, 43745), (23919, 43746), (23919, 43748), (23920, 43750), \n            (23920, 43763), (23919, 43764), (23919, 43765), (23918, 43766), \n            (23918, 43768), (23917, 43769), (23917, 43770), (23916, 43771), \n            (23916, 43773), (23914, 43775), (23913, 43779), (23910, 43782), \n            (23909, 43784), (23909, 43786), (23906, 43792), (23906, 43795), \n            (23903, 43796), (23902, 43799), (23899, 43802), (23898, 43804), \n            (23897, 43805), (23896, 43808), (23892, 43810), (23891, 43813), \n            (23889, 43814), (23874, 43814), (23874, 43812), (23873, 43811), \n            (23873, 43809), (23872, 43808), (23870, 43802), (23869, 43801), \n            (23867, 43796), (23864, 43791), (23864, 43789), (23862, 43784), \n            (23861, 43783), (23860, 43781), (23857, 43780), (23856, 43779), \n            (23838, 43779), (23837, 43780), (23834, 43780), (23832, 43781), \n            (23830, 43783), (23828, 43783), (23827, 43785), (23823, 43789), \n            (23821, 43790), (23820, 43790), (23816, 43794), (23812, 43796), \n            (23810, 43798), (23806, 43800), (23802, 43801), (23797, 43801), \n            (23797, 43800), (23796, 43800), (23796, 43799), (23793, 43798), \n            (23793, 43796), (23791, 43794), (23791, 43764), (23792, 43762), \n            (23792, 43759), (23793, 43758), (23793, 43756), (23794, 43754),  \n            (23794, 43753), (23796, 43752), (23797, 43751), (23800, 43745),  \n            (23800, 43744), (23803, 43741), (23804, 43739), (23806, 43738), \n            (23807, 43735), (23808, 43733), (23810, 43731), (23811, 43728), \n            (23813, 43724), (23816, 43721), (23819, 43715), (23820, 43712), \n            (23822, 43709), (23823, 43705), (23828, 43700), (23830, 43696), \n            (23837, 43686), (23839, 43682), (23846, 43675), (23848, 43670), \n            (23851, 43666), (23853, 43662), (23856, 43659), (23860, 43654), \n            (23862, 43650), (23866, 43648), (23871, 43640), (23874, 43634), \n            (23877, 43632), (23878, 43630), (23880, 43628), (23881, 43625), \n            (23883, 43621), (23889, 43618), (23890, 43616), (23892, 43614), \n            (23903, 43614), (23907, 43615), (23908, 43616), (23909, 43618), \n            (23911, 43618), (23911, 43619), (23912, 43619), (23912, 43620), \n            (23913, 43621), (23913, 43623), (23914, 43625), (23914, 43626), \n            (23917, 43632), (23917, 43688), (23916, 43689), (23916, 43693), \n            (23914, 43695), (23914, 43698), (23913, 43700), (23913, 43770)]\n\nim[location] = 4\n</code></pre>\n\n<p>I get the following Traceback:</p>\n\n<pre><code>IndexError                                Traceback (most recent call last)\n&lt;ipython-input-6-2fb0def4341d&gt; in &lt;module&gt;()\n----&gt; 1 arr[location] = 4\n\nIndexError: index 43770 is out of bounds for axis 0 with size 37550\n</code></pre>\n\n<p>Why doesn't this work, and why does it think 43770 in (23913, 43770) should be along axis 0? I have tried reversing the tuples and I get the same error. Am I missing something obvious?</p>\n"}, {"tags": ["python", "ssh", "sftp", "paramiko", "pysftp"], "comments": [{"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1468479272, "post_id": 38362714, "comment_id": 64146136, "body": "If you enable logging, you will get more details about the &quot;Bad host key from server&quot; problem. Show us."}, {"owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "reply_to_user": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1468505598, "post_id": 38362714, "comment_id": 64163292, "body": "Enable logging from the pysftp library?"}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1468516503, "post_id": 38362714, "comment_id": 64170508, "body": "Yes, in Paramiko/Python."}, {"owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "reply_to_user": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1468518283, "post_id": 38362714, "comment_id": 64171534, "body": "Updated with what I think are &quot;secure&quot; details removed."}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1468518460, "post_id": 38362714, "comment_id": 64171651, "body": "Ssh host key is public key, hence public information. Please add it back."}, {"owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "reply_to_user": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1468518581, "post_id": 38362714, "comment_id": 64171725, "body": "Ah, ok wasn&#39;t sure if it was the private key being displayed -- updated"}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1468566251, "post_id": 38362714, "comment_id": 64188512, "body": "Please post your solution as an answer (though it does not really make sense as the pysftp is just a think wrapper around Paramiko)."}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 3625657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gBU5o.jpg?s=128&g=1", "display_name": "JagPK", "link": "https://stackoverflow.com/users/3625657/jagpk"}, "edited": false, "score": 0, "creation_date": 1513852449, "post_id": 38399163, "comment_id": 82813613, "body": "Can someone please tell me the equivalent path of &#39;~/.ssh/the_key&#39; on Windows 7 ? Also, what is the inventory[0] parameter ?"}, {"owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "reply_to_user": {"reputation": 138, "user_id": 3625657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gBU5o.jpg?s=128&g=1", "display_name": "JagPK", "link": "https://stackoverflow.com/users/3625657/jagpk"}, "edited": false, "score": 0, "creation_date": 1513855322, "post_id": 38399163, "comment_id": 82815235, "body": "<code>the_key</code> is the path to your stored ssh key to use for the RSA authentication -- it will probably be named something closer to <code>id_rsa</code> when you generate it. <code>inventory[0]</code> is the hostname. Here&#39;s a detailed example: <a href=\"https://github.com/paramiko/paramiko/blob/master/demos/demo_sftp.py\" rel=\"nofollow noreferrer\">github.com/paramiko/paramiko/blob/master/demos/demo_sftp.py</a>"}], "tags": [], "owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "is_accepted": true, "score": 5, "last_activity_date": 1468594301, "creation_date": 1468594301, "answer_id": 38399163, "question_id": 38362714, "link": "https://stackoverflow.com/questions/38362714/pysftp-paramiko-sshexception-bad-host-key-from-server/38399163#38399163", "title": "pysftp -- paramiko SSHException, Bad host key from server", "body": "<h1>Workaround</h1>\n\n<p>This seems to be some sort of bug with the <code>pysftp</code> wrapper... I'm not sure. Reverting to native <code>paramiko</code> got me connected just fine, so I'm going with that for now. Current working code:</p>\n\n<pre><code>rsa_key = paramiko.RSAKey.from_private_key_file('~/.ssh/the_key', password='myPassword')\ntransport = paramiko.Transport((inventory[0],8055))\ntransport.connect(username='theUser', pkey=rsa_key)\nsftp = paramiko.SFTPClient.from_transport(transport)\nprint sftp.listdir()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 7941309, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MLnwRTouYSg/AAAAAAAAAAI/AAAAAAAAAPA/s8OkAZLGHEg/photo.jpg?sz=128", "display_name": "Erik Iverson", "link": "https://stackoverflow.com/users/7941309/erik-iverson"}, "is_accepted": false, "score": 2, "last_activity_date": 1558134887, "creation_date": 1558134887, "answer_id": 56194618, "question_id": 38362714, "link": "https://stackoverflow.com/questions/38362714/pysftp-paramiko-sshexception-bad-host-key-from-server/56194618#56194618", "title": "pysftp -- paramiko SSHException, Bad host key from server", "body": "<p>For me, once I had the host public key loaded in .ssh\\known_hosts, the cookbook example worked. </p>\n\n<p>But, I don't recall being prompted to ever save the host public key to my .ssh\\known_hosts file. </p>\n\n<p><a href=\"https://security.stackexchange.com/questions/174692/what-are-the-risk-of-not-using-a-host-key-for-sftp-using-pysftp\">This link</a> is what helped me understand the host public key was separate from my own public/private key pair. I'm using exavault and they provide the public/private key pair, but did not provide the host public key. </p>\n\n<p>I used ssh-keyscan using git bash for windows:</p>\n\n<pre><code>$ ssh-keyscan example.com\n# example.com SSH-2.0-OpenSSH_5.3\nexample.com ssh-rsa AAAAB3NzaC1yc2EAAAADAQAB...\n</code></pre>\n\n<p>and copied the key to my known_hosts file. Then it worked with pysftp 0.2.9. </p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 6537552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92bf7a50ac7e2ff5efde475b1a6b82e5?s=128&d=identicon&r=PG&f=1", "display_name": "Bohdan", "link": "https://stackoverflow.com/users/6537552/bohdan"}, "is_accepted": false, "score": 0, "last_activity_date": 1582549939, "creation_date": 1582549939, "answer_id": 60376683, "question_id": 38362714, "link": "https://stackoverflow.com/questions/38362714/pysftp-paramiko-sshexception-bad-host-key-from-server/60376683#60376683", "title": "pysftp -- paramiko SSHException, Bad host key from server", "body": "<p>I've had a similar problem and for me the issue was in that host ssh key was changed, and my known_hosts file was containing the old one, so to fix it i've run:</p>\n\n<pre><code>ssh-keygen -f /Users/myUserName/.ssh/known_hosts -R myhost.com\n</code></pre>\n\n<p>Obviously you'll need to use path yo your known_hosts file and your hostname or IP.</p>\n"}], "owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8362, "favorite_count": 2, "accepted_answer_id": 38399163, "answer_count": 3, "score": 4, "last_activity_date": 1582549939, "creation_date": 1468448758, "last_edit_date": 1473243760, "question_id": 38362714, "link": "https://stackoverflow.com/questions/38362714/pysftp-paramiko-sshexception-bad-host-key-from-server", "title": "pysftp -- paramiko SSHException, Bad host key from server", "body": "<p>I'm trying to connect to a remote host via <code>pysftp</code>:</p>\n\n<pre><code>try:\n    with pysftp.Connection(inventory[0], username='transit',\n                           private_key='~/.ssh/id_rsa.sftp', port=8055) as sftp:\n        sftp.put('/home/me/test.file')\nexcept Exception, err:\n    print sys.exc_info()\n    print err\n</code></pre>\n\n<p>However, I get a weird exception raised that I can't find much detail on.</p>\n\n<pre><code>(&lt;class 'paramiko.ssh_exception.SSHException'&gt;, SSHException('Bad host key from server',), &lt;traceback object at 0x7fa76269c5a8&gt;)\nBad host key from server\n</code></pre>\n\n<p>I found a related question that suggested I run <code>ssh-keygen -R [host]</code> to replace the key in my <code>known_hosts</code> file -- once I did that, I got a new error:</p>\n\n<pre><code>(&lt;class 'paramiko.ssh_exception.SSHException'&gt;, SSHException('No hostkey for host abc.com found.',), &lt;traceback object at 0x7f6b8520cb48&gt;)\nNo hostkey for host abc.com found.\n</code></pre>\n\n<p>Now, if I try to ssh to this host, it prompts me again to trust the key to be put back into my <code>known_hosts</code> file, which I accept and can happily ssh onto the box. After this step, if I attempt to run my script again, I get the original error <code>Bad host key from server</code>.</p>\n\n<p>Am I doing something wrong here?</p>\n\n<p><em>ninja edit</em>: I should mention that the following works fine from the terminal: </p>\n\n<pre><code>sftp -i .ssh/id_rsa.sftp -oPort=8055 user@host.com\nsftp&gt; put /home/me/test.file\n</code></pre>\n\n<h1>Paramiko Debug Output</h1>\n\n<pre><code>[2016-07-14 10:32:23,809] | paramiko.transport - DEBUG - starting thread (client mode): 0x7f1dab10L\n[2016-07-14 10:32:23,810] | paramiko.transport - DEBUG - Local version/idstring: SSH-2.0-paramiko_2.0.1\n[2016-07-14 10:32:23,836] | paramiko.transport - DEBUG - Remote version/idstring: SSH-2.0-mod_sftp/0.9.9\n[2016-07-14 10:32:23,836] | paramiko.transport - INFO - Connected (version 2.0, client mod_sftp/0.9.9)\n[2016-07-14 10:32:23,837] | paramiko.transport - DEBUG - kex algos:[u'ecdh-sha2-nistp256', u'ecdh-sha2-nistp384', u'ecdh-sha2-nistp521', u'diffie-hellman-group-exchange-sha256', u'diffie-hellman-group-exchange-sha1', u'diffie-hellman-group14-sha1', u'diffie-hellman-group1-sha1', u'rsa1024-sha1'] server key:[u'ssh-rsa', u'ssh-dss'] client encrypt:[u'aes256-ctr', u'aes192-ctr', u'aes128-ctr', u'aes256-cbc', u'aes192-cbc', u'aes128-cbc', u'blowfish-ctr', u'blowfish-cbc', u'cast128-cbc', u'arcfour256', u'arcfour128', u'3des-ctr', u'3des-cbc'] server encrypt:[u'aes256-ctr', u'aes192-ctr', u'aes128-ctr', u'aes256-cbc', u'aes192-cbc', u'aes128-cbc', u'blowfish-ctr', u'blowfish-cbc', u'cast128-cbc', u'arcfour256', u'arcfour128', u'3des-ctr', u'3des-cbc'] client mac:[u'hmac-sha2-256', u'hmac-sha2-512', u'hmac-sha1', u'hmac-sha1-96', u'hmac-md5', u'hmac-md5-96', u'hmac-ripemd160', u'umac-64@openssh.com'] server mac:[u'hmac-sha2-256', u'hmac-sha2-512', u'hmac-sha1', u'hmac-sha1-96', u'hmac-md5', u'hmac-md5-96', u'hmac-ripemd160', u'umac-64@openssh.com'] client compress:[u'none'] server compress:[u'none'] client lang:[u''] server lang:[u''] kex follows?False\n[2016-07-14 10:32:23,837] | paramiko.transport - DEBUG - Kex agreed: diffie-hellman-group1-sha1\n[2016-07-14 10:32:23,838] | paramiko.transport - DEBUG - Cipher agreed: aes128-ctr\n[2016-07-14 10:32:23,838] | paramiko.transport - DEBUG - MAC agreed: hmac-sha2-256\n[2016-07-14 10:32:23,838] | paramiko.transport - DEBUG - Compression agreed: none\n[2016-07-14 10:32:23,935] | paramiko.transport - DEBUG - kex engine KexGroup1 specified hash_algo &lt;built-in function openssl_sha1&gt;\n[2016-07-14 10:32:23,936] | paramiko.transport - DEBUG - Switch to new keys ...\n[2016-07-14 10:32:23,952] | paramiko.transport - DEBUG - Bad host key from server\n[2016-07-14 10:32:23,952] | paramiko.transport - DEBUG - Expected: ssh-rsa: '\\x00\\x00\\x00\\x07ssh-rsa\\x00\\x00\\x00\\x01#\\x00\\x00\\x01\\x01\\x00\\xb9\\x05\\xddUF?o\\xeet\\xad\\x06=\\x83\\xd6\\xa8\\xb1\\x06\\x03\\xb7\\xb5\\xa5C\\x80\\x0c~\\xa8\\x83[w!\\x16y\\xe6@\\xdajX\\x90+c\\xd4\\x18X\\xd7\\xff\\x05\\x06\\xe2\\x19\\x96\\x8c&amp;J\\x0c\\x1f\\xd2\\xefC\\xa5\\xc6\\xbb\\x1f\\xc9N\\xd7r\\x12\\xd29\\x1f\\xe1\\xb6F\\xe8\\xdc(w~\\x1f\\xea\\xea\\xfdUT?^V\\xe8=\\'\\xd60\\xdc\\xc44gYnn\\xfe\\xe8^?\\x8b\\xa8\"\\xda\\xc7(\\x18\\xc3&lt;\\xa9\\x1c\\xa1)A3_\\x00&lt;$y\\xbe\\xd4$\\xc2S\\xe6\\x93\\xe3B^\\xef\\xe6\\xbf\\xb5\\x88\\xd6\\x98EeP\\x9aZm\\xa7\\xc5&amp;\\xffn\\xc1lb\\x1e[\\x8d!*\\xfa\\xa3\\xce\\xb6\\xe7\\xd5U\\r&lt;E\\xd2\\xe1\\x89.\\xed%o\\xefju\\xde&gt;=*b\\xaeBO\\xbf&gt;\\xe4/,\\xd5@R\\xc5\\x9e\\xac\\xf5\\x80\\x04\\xa9s)3\\xb5\\xbc\\xc2\\xcc\\xe7\\xa7\\xb8\\x04&gt;uA\\xb4O\\xa6\\xf3\\xdb\\x9c2\\xb5\"%n\\x89\\t\\x8192\\xe7#n\\x82p\\xee\\xdf\\x16]\\xb3A\\x93\\xebm|\\xb9\\xd7\\nXsmw\\x81\\xa9'\n[2016-07-14 10:32:23,953] | paramiko.transport - DEBUG - Got     : ssh-rsa: \"\\x00\\x00\\x00\\x07ssh-rsa\\x00\\x00\\x00\\x01#\\x00\\x00\\x01\\x01\\x00\\xc6_\\xea\\xc1yF\\xd5\\xdd\\x146\\x8c\\x0eU\\xeah[3\\x16VP\\xde2\\xbe~\\xed\\x92\\xef\\xb81\\x14\\xd8\\xb7\\xa7\\x08\\xa3\\x02\\xa8\\n\\x9f\\x7f{\\x896\\x1b\\x89/,\\x92\\x86\\xc7M\\xa5\\x7f0Cj\\xe6\\x93\\xb0\\x0eup%\\xa2p\\x9d3i\\xaco\\xf7\\x14\\xfb\\xfe\\x8f}a\\xcbJ :\\xdf\\xdd1\\x10\\xe8;\\xd3%\\x98k')\\xf8\\x1c\\xc1D\\x97\\\\\\xcc\\xe6\\xf5*6\\xc2\\xf1\\xb8\\xcf!\\xeed\\x1co\\xc1\\x03\\xb4v\\xc0,?\\xda\\xc7\\xa3\\xd9\\xe8\\xafy\\xf5k\\xf7\\xe8\\xa1\\x9cr\\xfa\\x81\\xcd\\xee\\xd3\\xeao\\xa7\\x072\\xce\\x8b\\xf9\\x95\\x03\\xa1\\xe2\\xaf\\t\\xa2\\xba\\xa1O\\xbc\\xbf}}\\x9e\\xc0t\\x9bC\\x88\\xbd\\x18'\\x00?-\\xa0\\x05\\x83I\\x1ah#I\\xfc\\xebc$\\xfc\\xa0\\xad\\xeeP\\x80\\x88Bh_\\xeb`\\xb6\\xab\\x8bC\\x83\\x987\\xba\\x05\\xb14\\xea\\x90\\xac&gt;\\x99&amp;\\x99\\xb3\\xf9\\nC\\xdf\\xfd\\xba&lt;\\xf8\\xaf\\xca\\xaf\\xfa\\x15+\\x1e,L\\xa1\\xf0\\x1e\\xa5`\\xbd&gt;\\xf4\\xa63)\\xae7F\\xd2\\xc9\\xf2\\xf3A\\xa4\\x10u\\xa9\"\n(&lt;class 'paramiko.ssh_exception.SSHException'&gt;, SSHException('Bad host key from server',), &lt;traceback object at 0x7fb87f143ef0&gt;)\nBad host key from server\n[2016-07-14 10:32:24,037] | paramiko.transport - DEBUG - EOF in transport thread\n</code></pre>\n"}, {"tags": ["python", "django", "python-2.7"], "comments": [{"owner": {"reputation": 11265, "user_id": 122012, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/neoBL.jpg?s=128&g=1", "display_name": "Juergen", "link": "https://stackoverflow.com/users/122012/juergen"}, "edited": false, "score": 0, "creation_date": 1468448989, "post_id": 38362702, "comment_id": 64137846, "body": "Do you have Django installed on the system?"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 6525258, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209861669607800/picture?type=large", "display_name": "Nick Read", "link": "https://stackoverflow.com/users/6525258/nick-read"}, "edited": false, "score": 0, "creation_date": 1468449745, "post_id": 38362782, "comment_id": 64138104, "body": "when I run pip install django I get a nasty error message any idea why?"}], "tags": [], "owner": {"reputation": 293, "user_id": 6586782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3feeb41759274e3019a5f7395c003888?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Lee", "link": "https://stackoverflow.com/users/6586782/jason-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1468449079, "creation_date": 1468449079, "answer_id": 38362782, "question_id": 38362702, "link": "https://stackoverflow.com/questions/38362702/python2-7-manage-py-runserver/38362782#38362782", "title": "python2.7 manage.py runserver", "body": "<p>Do you have the django package installed? go to your command line and type \"pip list\" and see if django is in the list. </p>\n\n<p>If it is not, \"pip install django\" should allow you to download and install the package. </p>\n"}], "owner": {"reputation": 7, "user_id": 6525258, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209861669607800/picture?type=large", "display_name": "Nick Read", "link": "https://stackoverflow.com/users/6525258/nick-read"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468450699, "creation_date": 1468448682, "last_edit_date": 1468450699, "question_id": 38362702, "link": "https://stackoverflow.com/questions/38362702/python2-7-manage-py-runserver", "title": "python2.7 manage.py runserver", "body": "<p>I'm using <strong>python 2.7</strong> and am having trouble running the server. I have entered </p>\n\n<p><code>python2.7 manage.py runserver</code> and got the following error message </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"manage.py\", line 8, in &lt;module&gt;\n    from django.core.management import execute_from_command_line\nImportError: No module named django.core.management\n</code></pre>\n\n<p>I went into the <code>manage.py</code> portion of the app and can see that I have </p>\n\n<pre><code>if __name__ == \"__main__\":\n    os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"myesite.settings\")\n\n    from django.core.management import execute_from_command_line\n\n    execute_from_command_line(sys.argv)\n</code></pre>\n\n<p>can someone please explain what I have done wrong or what I need to do? </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1468449091, "post_id": 38362699, "comment_id": 64137890, "body": "can you maybe paste  a small sample of your data, not necessarily enough to include more than one unit? perhaps the results of <code>df.head(40).to_dict()</code>"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1468449525, "post_id": 38362699, "comment_id": 64138011, "body": "See this post <a href=\"http://stackoverflow.com/a/38346697/2336654\">stackoverflow.com/a/38346697/2336654</a>"}, {"owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "edited": false, "score": 0, "creation_date": 1468449559, "post_id": 38362699, "comment_id": 64138028, "body": "Is your index level <code>Timestamp</code> really Pandas <code>DateTimeIndex</code>? Double check that."}, {"owner": {"reputation": 343, "user_id": 934757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/239c4db22bae3eaec81e3838bb0161f6?s=128&d=identicon&r=PG", "display_name": "djnz0feh", "link": "https://stackoverflow.com/users/934757/djnz0feh"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1468483497, "post_id": 38362699, "comment_id": 64148452, "body": "@piRSquared <code>type(tenth)</code> is <code>datetime.date</code>. Also I read about <code>slice</code> but I think it&#39;s in a later pandas version than I have available. Therefore @Karrtik, it is not a DateTimeIndex. That might well help!"}, {"owner": {"reputation": 343, "user_id": 934757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/239c4db22bae3eaec81e3838bb0161f6?s=128&d=identicon&r=PG", "display_name": "djnz0feh", "link": "https://stackoverflow.com/users/934757/djnz0feh"}, "reply_to_user": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "edited": false, "score": 0, "creation_date": 1468485843, "post_id": 38362699, "comment_id": 64149943, "body": "@Kartik - correction, yes the <code>Timestamp</code>s are of type <code>DatetimeIndex</code>"}], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 934757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/239c4db22bae3eaec81e3838bb0161f6?s=128&d=identicon&r=PG", "display_name": "djnz0feh", "link": "https://stackoverflow.com/users/934757/djnz0feh"}, "edited": false, "score": 0, "creation_date": 1468483929, "post_id": 38362958, "comment_id": 64148698, "body": "I reckoned something like that must be happening with <code>ix</code> processing the string; your solution does work in the sense that it does not give an error but I wanted a whole days&#39; worth of data. I want to take advantage of what <code>ix</code> does but using a variable. I did also try <code>df.ix[5,tenth.strftime(&#39;%Y-%d-%m&#39;)]</code> but that doesn&#39;t work either and starts to look more that a little silly!"}, {"owner": {"reputation": 343, "user_id": 934757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/239c4db22bae3eaec81e3838bb0161f6?s=128&d=identicon&r=PG", "display_name": "djnz0feh", "link": "https://stackoverflow.com/users/934757/djnz0feh"}, "edited": false, "score": 0, "creation_date": 1468485492, "post_id": 38362958, "comment_id": 64149716, "body": "<code>d2s(tenth)</code> gives me <code>&#39;2016-06-10&#39;</code> but <code>df.ix[5,d2s(tenth)]</code> gives me the same error."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 343, "user_id": 934757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/239c4db22bae3eaec81e3838bb0161f6?s=128&d=identicon&r=PG", "display_name": "djnz0feh", "link": "https://stackoverflow.com/users/934757/djnz0feh"}, "edited": false, "score": 0, "creation_date": 1468485910, "post_id": 38362958, "comment_id": 64149976, "body": "@djnz0feh fixed, I used wrong format.  I updated post."}, {"owner": {"reputation": 343, "user_id": 934757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/239c4db22bae3eaec81e3838bb0161f6?s=128&d=identicon&r=PG", "display_name": "djnz0feh", "link": "https://stackoverflow.com/users/934757/djnz0feh"}, "edited": false, "score": 0, "creation_date": 1468487234, "post_id": 38362958, "comment_id": 64150876, "body": "Arrgh! with <code>d2s = lambda d: d.strftime(&#39;%Y-%m-%d&#39;)</code> it does of course work. Well done. Funny I got that far before posting the question and didn&#39;t notice the wrong date format."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1468485892, "last_edit_date": 1468485892, "creation_date": 1468449964, "answer_id": 38362958, "question_id": 38362699, "link": "https://stackoverflow.com/questions/38362699/how-to-index-a-days-range-of-rows-in-a-dataframe-using-a-datetime-date/38362958#38362958", "title": "How to index a day&#39;s range of rows in a Dataframe, using a datetime.date?", "body": "<p>When you pass a string that looks like a datetime to the pandas selector <code>ix</code>, it uses it like a condition and returns all elements that satisfy.  In this case, the string you are using evaluates to a day.  Pandas runs <code>ix</code> and returns all rows within that day.  When you pass the datetime object, it looks for an exact match.  You don't have one since all your datetimes are non-zero hour times.</p>\n\n<p>Consider:</p>\n\n<pre><code>s = pd.Series(range(5), pd.date_range('2016-03-31 01:00:00', periods=5, freq='H'))\ns\n\n2016-03-31 01:00:00    0\n2016-03-31 02:00:00    1\n2016-03-31 03:00:00    2\n2016-03-31 04:00:00    3\n2016-03-31 05:00:00    4\nFreq: H, dtype: int64\n</code></pre>\n\n<p>get all elements on <code>'2016-03-31'</code></p>\n\n<pre><code>s.ix['2016-03-31']\n\n2016-03-31 01:00:00    0\n2016-03-31 02:00:00    1\n2016-03-31 03:00:00    2\n2016-03-31 04:00:00    3\n2016-03-31 05:00:00    4\nFreq: H, dtype: int64\n</code></pre>\n\n<p>Now assign a datetime</p>\n\n<pre><code>date = pd.to_datetime('2016-03-31')\n\ns.ix[date]\n</code></pre>\n\n<p>And... </p>\n\n<blockquote>\n<pre><code>KeyError: Timestamp('2016-03-31 00:00:00')\n</code></pre>\n</blockquote>\n\n<p>If instead we assigned a datetime where we do have an exact match, we should get a result.</p>\n\n<pre><code>date2 = pd.to_datetime('2016-03-31 02:00:00')\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>s.ix[date2]\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>1\n</code></pre>\n\n<p>That worked!</p>\n\n<p>To use datetimes and make it look pretty, use a function:</p>\n\n<pre><code>d2s = lambda d: d.strftime('%Y-%d-%m')\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>s.ix[d2s(date)]\n\n2016-03-31 01:00:00    0\n2016-03-31 02:00:00    1\n2016-03-31 03:00:00    2\n2016-03-31 04:00:00    3\n2016-03-31 05:00:00    4\nFreq: H, dtype: int64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 343, "user_id": 934757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/239c4db22bae3eaec81e3838bb0161f6?s=128&d=identicon&r=PG", "display_name": "djnz0feh", "link": "https://stackoverflow.com/users/934757/djnz0feh"}, "edited": false, "score": 0, "creation_date": 1468486637, "post_id": 38363494, "comment_id": 64150461, "body": "To use this approach exactly as you say I&#39;d need to maintain an <code>eleventh</code> and use it instead of the second <code>tenth</code> in suggestion. What does so far seem to work is <code>df[(df.index.get_level_values(&#39;Unit&#39;) == 6) &amp; (df.index.get_level_values(&#39;Timestamp&#39;).date == tenth.date())]</code>. Note which date is a function and which is a property!"}], "tags": [], "owner": {"reputation": 901, "user_id": 5113822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58NYk.jpg?s=128&g=1", "display_name": "Christin Jose", "link": "https://stackoverflow.com/users/5113822/christin-jose"}, "is_accepted": false, "score": 1, "last_activity_date": 1468454019, "creation_date": 1468454019, "answer_id": 38363494, "question_id": 38362699, "link": "https://stackoverflow.com/questions/38362699/how-to-index-a-days-range-of-rows-in-a-dataframe-using-a-datetime-date/38363494#38363494", "title": "How to index a day&#39;s range of rows in a Dataframe, using a datetime.date?", "body": "<p>Let me suggest you a different method rather than using ix. Why don't you directly use a range query?</p>\n\n<pre><code>df = df[df.index.get_level_values('Unit') == 6 &amp; \n        (df.index.get_level_values('Timestamp') &gt;= tenth &amp; \n        (df.index.get_level_values('Timestamp') &lt;= tenth)]\n</code></pre>\n\n<p>Can you just try whether this is working?</p>\n"}], "owner": {"reputation": 343, "user_id": 934757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/239c4db22bae3eaec81e3838bb0161f6?s=128&d=identicon&r=PG", "display_name": "djnz0feh", "link": "https://stackoverflow.com/users/934757/djnz0feh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 38362958, "answer_count": 2, "score": 1, "last_activity_date": 1468485892, "creation_date": 1468448667, "question_id": 38362699, "link": "https://stackoverflow.com/questions/38362699/how-to-index-a-days-range-of-rows-in-a-dataframe-using-a-datetime-date", "title": "How to index a day&#39;s range of rows in a Dataframe, using a datetime.date?", "body": "<p>My multi-indexed data frame is as follows:</p>\n\n<pre><code>df.head()\n                         Output  \nUnit    Timestamp                                               \n1   2016-06-01 00:00:00  225894.9\n    2016-06-01 01:00:00  225895.9\n    2016-06-01 02:00:00  225896.9   \n    2016-06-01 03:00:00  225897.9 \n    2016-06-01 04:00:00  225898.9 \n\ndf.tail()\n\n                         Output \nUnit Timestamp                                               \n16  2016-06-30 18:00:00  150543.1        \n    2016-06-30 19:00:00  150544.1        \n    2016-06-30 21:00:00  150546.1        \n    2016-06-30 22:00:00  150547.1     \n    2016-06-30 23:00:00  150548.1  \n</code></pre>\n\n<p>That is, one month's worth of hourly data for 16 units.</p>\n\n<p>I want to pick out one day's data for a given unit. I have an array of the days that appear in the dataframe, </p>\n\n<p><code>days = array([datetime.date(2016, 6, 1), datetime.date(2016, 6, 2),\n       datetime.date(2016, 6, 3), datetime.date(2016, 6, 4),...</code> etc etc</p>\n\n<p>If I do <code>df.ix[5,'2016-06-10']</code>, I get exactly what I want, that is the day's for unit 5 that date </p>\n\n<pre><code>                       Output\nTimestamp\n2016-06-10 00:00:00    152364.6\n2016-06-10 01:00:00    152365.7\n2016-06-10 02:00:00    152366.6\n...\n2016-06-10 21:00:00    152386.6\n2016-06-10 22:00:00    152386.6\n2016-06-10 23:00:00    152387.6\n</code></pre>\n\n<p>But the same indexing doesn't seem to work when I have a datetime.date object instead of a string. For example:</p>\n\n<p><code>tenth = days[9]</code> evaulates to <code>datetime.date(2016, 6, 10)</code>, so far so good.</p>\n\n<p>However when I do <code>df.ix[5,tenth]</code> I get \"KeyError: u'no item named 2016-06-10'\"</p>\n\n<p>So, the <code>'2016-06-10'</code> \"does what I mean\" and returns all the data on that day. How can I do the same if with a datetime.date?</p>\n"}, {"tags": ["python", "wav"], "comments": [{"owner": {"reputation": 3727, "user_id": 500098, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d0f6607a133fa379486fca179ec92c27?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/500098/matthias"}, "edited": false, "score": 0, "creation_date": 1469872783, "post_id": 38362652, "comment_id": 64725435, "body": "I don&#39;t know about <code>winsound</code>, but you might want to try the <a href=\"http://python-sounddevice.readthedocs.io/\" rel=\"nofollow noreferrer\">sounddevice</a> module instead."}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 8343265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef4929c49b6189f203b6ac0e319a812?s=128&d=identicon&r=PG&f=1", "display_name": "Silentstorm", "link": "https://stackoverflow.com/users/8343265/silentstorm"}, "is_accepted": false, "score": 2, "last_activity_date": 1500637908, "last_edit_date": 1500637908, "creation_date": 1500627235, "answer_id": 45233307, "question_id": 38362652, "link": "https://stackoverflow.com/questions/38362652/cant-play-wav-file-with-winsound-module/45233307#45233307", "title": "Can&#39;t Play .wav file with winsound module?", "body": "<p>Make sure the wav file you are trying to play is in the same folder as the py script is in. Otherwise you have to provide a correct relative path to the file or it won't find it.\nExample:</p>\n\n<pre><code>import winsound\nimport sys\n\nwinsound.PlaySound(Test.wav,winsound.SND_ASYNC)\n</code></pre>\n\n<p>With SND_ASYNC the windows beep shouldn't play and your wav file should play.</p>\n"}], "owner": {"reputation": 55, "user_id": 6586740, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KnJag.png?s=128&g=1", "display_name": "Tony Cicero", "link": "https://stackoverflow.com/users/6586740/tony-cicero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3839, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1534467328, "creation_date": 1468448372, "question_id": 38362652, "link": "https://stackoverflow.com/questions/38362652/cant-play-wav-file-with-winsound-module", "title": "Can&#39;t Play .wav file with winsound module?", "body": "<p>I am trying to play a .wav file like this:</p>\n\n<pre><code>import winsound\nwinsound.PlaySound('test.wav', winsound.SND_FILENAME)\n</code></pre>\n\n<p>When the script is ran there are no errors but a default windows alert sound is played instead of the test.wav file. </p>\n"}, {"tags": ["python", "class", "attributes"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1468449289, "post_id": 38362638, "comment_id": 64137948, "body": "Can you elaborate on what you mean by PS2?  Why does your hypothetical <code>__all_atr__</code> exclude <code>__init__</code> and <code>_print_atr</code> but it <i>does</i> include <code>attribute</code>?"}, {"owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1468449728, "post_id": 38362638, "comment_id": 64138095, "body": "@mgilson yes, sorry if that wasn&#39;t clear, that&#39;s exactly what it would do. It would print out my excepted example: <code>{&#39;other&#39;: &#39;4&#39;, &#39;attribute&#39;: &#39;3&#39;}</code>."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1468452369, "post_id": 38362638, "comment_id": 64138848, "body": "But <i>why</i>?  What are the rules for excluding some things and not others?"}, {"owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1468504387, "post_id": 38362638, "comment_id": 64162514, "body": "@mgilson The idea is to consider both <code>b</code>&#39;s attributes and <code>b</code>&#39;s class attributes as attributes of <code>b</code>, while still maintaining python&#39;s default of &quot;excluding&quot; attributes that start with an underscore. But maybe this is a stupid way to do it to begin with. Do you believe I should delete the question?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1468514902, "post_id": 38362638, "comment_id": 64169643, "body": "No, I don&#39;t think you should necessarily delete the question.  If you just want to filter &quot;dunder&quot; attributes/methods, you could easily filter the dictionary from my answer:  <code>d = {k: v for k, v in d.items() if not (k.startswith(&#39;__&#39;) and k.endswith(&#39;__&#39;)}</code>.  But I suppose it&#39;s also worth asking <i>why</i> you want to do this.  What is the end goal?"}], "answers": [{"comments": [{"owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "edited": false, "score": 1, "creation_date": 1468449108, "post_id": 38362658, "comment_id": 64137896, "body": "I get <code>AttributeError: &#39;dictproxy&#39; object has no attribute &#39;update&#39;</code> when running update on <code>d</code>. Also, please see my edit, specifically &quot;PS2&quot;."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": false, "score": 3, "last_activity_date": 1468449185, "last_edit_date": 1468449185, "creation_date": 1468448426, "answer_id": 38362658, "question_id": 38362638, "link": "https://stackoverflow.com/questions/38362638/getting-all-attributes-to-appear-on-pythons-dict-method/38362658#38362658", "title": "Getting all attributes to appear on python&#39;s `__dict__` method", "body": "<p><code>b.__dict__</code> is only a mapping of attributes on <code>b</code>, not on <code>b</code>'s class (notice that <code>__init__</code> isn't there either).  The attributes on <code>b</code>'s class are on the class's <code>__dict__</code>.</p>\n\n<pre><code>&gt;&gt;&gt; class test(object):\n...   attribute = 1\n...   def __init__(self):\n...     self.other = 2\n... \n&gt;&gt;&gt; b = test()\n&gt;&gt;&gt; b.__dict__\n{'other': 2}\n&gt;&gt;&gt; test.__dict__\ndict_proxy({'__module__': '__main__', 'attribute': 1, '__dict__': &lt;attribute '__dict__' of 'test' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'test' objects&gt;, '__doc__': None, '__init__': &lt;function __init__ at 0x1030f72a8&gt;})\n</code></pre>\n\n<p>If you want both, you can do something like:</p>\n\n<pre><code>d = dict(vars(type(b)))\nd.update(vars(b))\n</code></pre>\n\n<p>(note that some prefer <code>vars(b)</code> to <code>b.__dict__</code>)  Of course, this doesn't get subclasses ...</p>\n\n<p>If you want subclasses, you'll need to walk the method resolution order...</p>\n\n<pre><code>d = {}\nfor cls in type(b).__mro__:\n    d.update(vars(cls))\nd.update(vars(b))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 572251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hp0B9.png?s=128&g=1", "display_name": "Taranjeet Singh", "link": "https://stackoverflow.com/users/572251/taranjeet-singh"}, "edited": false, "score": 1, "creation_date": 1501850990, "post_id": 38362674, "comment_id": 77975277, "body": "+1 for this special mention: &quot;You can get attribute in the instance <b>dict</b> if you update the value of attribute from the instance&quot;"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 5, "last_activity_date": 1468448937, "last_edit_date": 1468448937, "creation_date": 1468448538, "answer_id": 38362674, "question_id": 38362638, "link": "https://stackoverflow.com/questions/38362638/getting-all-attributes-to-appear-on-pythons-dict-method/38362674#38362674", "title": "Getting all attributes to appear on python&#39;s `__dict__` method", "body": "<p><code>attribute</code> is not an instance attribute but a class attribute (can be seen in the <em>mappingproxy</em> <code>test.__dict__</code>). </p>\n\n<p>You can get <code>attribute</code> in the instance <code>__dict__</code> if you update the value of <code>attribute</code> from the instance:</p>\n\n<pre><code>&gt;&gt;&gt; b = test()\n&gt;&gt;&gt; b.__dict__\n{'other': '4'}\n&gt;&gt;&gt; b.attribute\n'3'\n&gt;&gt;&gt; b.attribute = 5\n&gt;&gt;&gt; b.__dict__\n{'attribute': 5, 'other': '4'}\n</code></pre>\n\n<p>Or keep the original value with</p>\n\n<pre><code>&gt;&gt;&gt; b.attribute  = b.__class__.attribute # may not be necessary\n</code></pre>\n\n<p>Or you could change the definition of the class and move <code>attribute</code> into one of the class methods and bind it to the instance via <code>self</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "edited": false, "score": 1, "creation_date": 1468448739, "post_id": 38362684, "comment_id": 64137760, "body": "Thats the same as <code>b.__class__.__dict__</code>, but that doesn&#39;t really help as much. Please check my edit in about 5 minutes"}], "tags": [], "owner": {"reputation": 71, "user_id": 5861582, "user_type": "registered", "profile_image": "https://graph.facebook.com/600555060122025/picture?type=large", "display_name": "Jo&#227;o Marcos Gris", "link": "https://stackoverflow.com/users/5861582/jo%c3%a3o-marcos-gris"}, "is_accepted": false, "score": 1, "last_activity_date": 1468448579, "creation_date": 1468448579, "answer_id": 38362684, "question_id": 38362638, "link": "https://stackoverflow.com/questions/38362638/getting-all-attributes-to-appear-on-pythons-dict-method/38362684#38362684", "title": "Getting all attributes to appear on python&#39;s `__dict__` method", "body": "<p>Try typing:</p>\n\n<pre><code>test.__dict__\n</code></pre>\n\n<p>And it shows a key with 'attribute'. This happens exactly because attribute is a class variable not an instance variable.</p>\n"}], "owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3683, "favorite_count": 0, "accepted_answer_id": 38362674, "answer_count": 3, "score": 5, "last_activity_date": 1468449756, "creation_date": 1468448306, "last_edit_date": 1495541291, "question_id": 38362638, "link": "https://stackoverflow.com/questions/38362638/getting-all-attributes-to-appear-on-pythons-dict-method", "title": "Getting all attributes to appear on python&#39;s `__dict__` method", "body": "<p>Please consider the following python example:</p>\n\n<pre><code>In [3]: class test(object):\n   ...:     attribute='3'\n   ...:     def __init__(self):\n   ...:         self.other='4'\n   ...:         \n\nIn [4]: b=test()\n\nIn [5]: b.attribute\nOut[5]: '3'\n\nIn [6]: b.__dict__\nOut[6]: {'other': '4'}\n</code></pre>\n\n<p>Why is it that <code>__dict__</code> only shows the <code>\"other\"</code> attribute and not <code>\"atribute\"</code>?</p>\n\n<p>And how do I get a dictionary with all the classe's attributes and values? That is, how do I get this?</p>\n\n<pre><code>{'other': '4', 'attribute': '3'}\n</code></pre>\n\n<p>And I mean by using <code>__dict__</code> or by some other simple means.</p>\n\n<p>PS: related to <a href=\"https://stackoverflow.com/questions/9058305/getting-attributes-of-a-class\">this question</a>, but couldn't quite get a dict from there.</p>\n\n<p>PS2: I'm not look for <code>test.__dict__</code> or <code>b.__class__.__dict__</code>, I'm looking for something that can be used as</p>\n\n<pre><code>In [3]: class test(object):\n   ...:     attribute='3'\n   ...:     def __init__(self):\n   ...:         self.other='4'\n   ...:     def _print_atr(self):\n   ...:         # This should print exactly {'other': '4', 'attribute': '3'}\n   ...:         print(self.__all_atr__)\n\nIn [4]: b=test()\n\nIn [5]: b.attribute\nOut[5]: '3'\n\nIn [6]: b.__dict__\nOut[6]: {'other': '4'}\n</code></pre>\n\n<p>Cheers</p>\n"}, {"tags": ["python", "labview"], "comments": [{"owner": {"reputation": 6811, "user_id": 163809, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/8LugB.jpg?s=128&g=1", "display_name": "Stedy", "link": "https://stackoverflow.com/users/163809/stedy"}, "edited": false, "score": 2, "creation_date": 1468448392, "post_id": 38362609, "comment_id": 64137645, "body": "Welcome to Stack Overflow! Generally we ask that users submit questions as <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that others can better answer them."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1468448572, "post_id": 38362609, "comment_id": 64137706, "body": "Do you have a sample TDMS file?"}, {"owner": {"reputation": 3, "user_id": 6586492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/727cb689355b6a0b2d6c63b605f84b24?s=128&d=identicon&r=PG&f=1", "display_name": "Mmoon", "link": "https://stackoverflow.com/users/6586492/mmoon"}, "edited": false, "score": 0, "creation_date": 1468453597, "post_id": 38362609, "comment_id": 64139159, "body": "Yes I will attached one"}, {"owner": {"reputation": 5254, "user_id": 24447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da74b7df5db7590fc140329c62b3e498?s=128&d=identicon&r=PG", "display_name": "nekomatic", "link": "https://stackoverflow.com/users/24447/nekomatic"}, "edited": false, "score": 0, "creation_date": 1468496377, "post_id": 38362609, "comment_id": 64156807, "body": "The pyTDMS page at <a href=\"https://github.com/petebachant/pyTDMS\" rel=\"nofollow noreferrer\">github.com/petebachant/pyTDMS</a> gives the usage as <code>objects, rawdata = pytdms.read(filename)</code>. What do you get when you do this? What do <code>print(objects)</code> and <code>print(rawdata)</code> return?"}, {"owner": {"reputation": 3, "user_id": 6586492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/727cb689355b6a0b2d6c63b605f84b24?s=128&d=identicon&r=PG&f=1", "display_name": "Mmoon", "link": "https://stackoverflow.com/users/6586492/mmoon"}, "edited": false, "score": 0, "creation_date": 1468597598, "post_id": 38362609, "comment_id": 64208777, "body": "When I run the pytdms module I get this error:    File &quot;C:\\Users\\mmunoz\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-&zwnj;&#8203;packages\\pytdms.py&quot;, line 173, in getValue     return struct.unpack(code, s)[0]  IndexError: tuple index out of range"}], "owner": {"reputation": 3, "user_id": 6586492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/727cb689355b6a0b2d6c63b605f84b24?s=128&d=identicon&r=PG&f=1", "display_name": "Mmoon", "link": "https://stackoverflow.com/users/6586492/mmoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 597, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468454077, "creation_date": 1468448129, "last_edit_date": 1468454077, "question_id": 38362609, "link": "https://stackoverflow.com/questions/38362609/using-pytdms-in-python", "title": "Using pyTDMS in Python", "body": "<p>I am currently running a labview script that uses a DAQmx controller to take in voltage readings from batteries. The script takes in the voltage data and the amount of time that the test was run for and writes a TDMS file.</p>\n\n<p>I would like to write a python script to take in this TDMS file and average some of the values. I have not been able to figure out how to use pyTDMS in order to read in this file. </p>\n\n<p>Does anyone know how to use pyTDMS in python? </p>\n\n<p>this is what my file looks like when I open it in notepad++</p>\n\n<p>TDSm\u00ae   i  \u00e4      \u00e4            /\u00ff\u00ff\u00ff\u00ff      name       junk071316_164717   /'DAQ Assistant_0'\u00ff\u00ff\u00ff\u00ff       /'DAQ Assistant_0'/'Voltage'i  \u00ff\u00ff\u00ff\u00ff                                             NI_Scaling_Status       unscaled   NI_Number_Of_Scales         NI_Scale[1]_Scale_Type       Linear   NI_Scale[1]_Linear_Slope\n   I\u00a0H\u00a0H\u00e04?   NI_Scale[1]_Linear_Y_Intercept\n       \u00bf\u00da$\u00c0   NI_Scale[1]_Linear_Input_Source          /'DAQ Assistant_0'/'Voltage_0'i  \u00ff\u00ff\u00ff\u00ff                                            NI_Scaling_Status       unscaled   NI_Number_Of_Scales         NI_Scale[1]_Scale_Type       Linear   NI_Scale[1]_Linear_Slope\n   \u00f2<code>\u00f2</code>\u00f2\u00e04?   NI_Scale[1]_Linear_Y_Intercept\n      `I\u00dd$\u00c0   N</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1468448022, "post_id": 38362575, "comment_id": 64137500, "body": "As of Python 3, <code>print</code> is now a function. Use <code>print()</code> like this: <code>print(&#39;hello world&#39;)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "is_accepted": false, "score": 0, "last_activity_date": 1468448087, "creation_date": 1468448087, "answer_id": 38362603, "question_id": 38362575, "link": "https://stackoverflow.com/questions/38362575/python-3-4-syntax-errors-from-using-print-function/38362603#38362603", "title": "Python 3.4 syntax errors from using print function", "body": "<p><a href=\"https://docs.python.org/3/tutorial/inputoutput.html\" rel=\"nofollow\">Check the Python 3 docs.</a></p>\n\n<p>Python 3 uses <code>()</code> around the print contents - <code>print ('python')</code></p>\n"}], "owner": {"reputation": 11, "user_id": 6558068, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/130605ba3976c3070c662960eddb7ce2?s=128&d=identicon&r=PG&f=1", "display_name": "CB001", "link": "https://stackoverflow.com/users/6558068/cb001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1468448142, "answer_count": 1, "score": -3, "last_activity_date": 1468448087, "creation_date": 1468447945, "last_edit_date": 1468448066, "question_id": 38362575, "link": "https://stackoverflow.com/questions/38362575/python-3-4-syntax-errors-from-using-print-function", "closed_reason": "Duplicate", "title": "Python 3.4 syntax errors from using print function", "body": "<p>I'm running files obtained from the web in my desktop's Python 3.4 install, and getting syntax errors, such as:</p>\n\n<pre><code>class MyClient(IBCpp.IBClient):\n  def setup(self):\n    self.stime=None\n    self.nextId=0\n#        self.symbol='STK.AAPL'\n#        self.symbol='CASH.EUR.USD'\n    self.symbol='FUT.ES.USD.201506'\n\n    self.state='first'\n</code></pre>\n\n<p>skipping a few defs which aren't pre-requisite, there's:</p>\n\n<pre><code> def orderStatus(self,orderId, status, filled, remaining, avgFillPrice,\n permId, parentId, lastFillPrice, clientId, whyHeld):\n    \"\"\"\n    call back function of IB C++ API which update status or certain order\n    indicated by orderId\n    \"\"\"\n    print self.symbol, status, 'filled=',filled, 'remaining=', remaining'\n</code></pre>\n\n<p>for which the interpreter responds</p>\n\n<pre><code>print self.symbol, status, 'filled=',filled, 'remaining=', remaining\n         ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Is this perhaps due to a difference of 2.7 vs 3.4? I'm not sure what version the source file was created in. Source is from <a href=\"https://github.com/IBridgePy\" rel=\"nofollow\">IBridgePy github repo</a></p>\n"}, {"tags": ["python", "pandas", "matplotlib", "seaborn"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1468448360, "post_id": 38362573, "comment_id": 64137629, "body": "Do you want to overplot some of those points in different colors, and then have a legend for the colors?"}], "answers": [{"comments": [{"owner": {"reputation": 682, "user_id": 5540779, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cQBwUxcnTU4/AAAAAAAAAAI/AAAAAAAABJE/5NECUAi1nR4/photo.jpg?sz=128", "display_name": "Joe B", "link": "https://stackoverflow.com/users/5540779/joe-b"}, "edited": false, "score": 4, "creation_date": 1572285282, "post_id": 38363155, "comment_id": 103504861, "body": "This doesn&#39;t work anymore. Seaborn throws an error <code>Supply a &#39;c&#39; argument or a &#39;color&#39; kwarg but not both; they differ but their functionalities overlap.</code>"}, {"owner": {"reputation": 3014, "user_id": 3621464, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lJc4V.jpg?s=128&g=1", "display_name": "MERose", "link": "https://stackoverflow.com/users/3621464/merose"}, "edited": false, "score": 0, "creation_date": 1610839334, "post_id": 38363155, "comment_id": 116260047, "body": "Nowadays you need to use the <code>color</code> keyword and provide a list of colors: <code>sns.regplot(data=DF_0, x=&quot;x&quot;, y=&quot;y&quot;, scatter_kws={&#39;color&#39;: list(DF_0[&#39;color&#39;].values)})</code>."}], "tags": [], "owner": {"reputation": 28401, "user_id": 2666859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtKyC.png?s=128&g=1", "display_name": "Serenity", "link": "https://stackoverflow.com/users/2666859/serenity"}, "is_accepted": true, "score": 5, "last_activity_date": 1468451416, "creation_date": 1468451416, "answer_id": 38363155, "question_id": 38362573, "link": "https://stackoverflow.com/questions/38362573/assign-map-colors-to-the-points-in-seaborn-regplot-python-3/38363155#38363155", "title": "Assign/map colors to the points in Seaborn.regplot (Python 3)", "body": "<p>Use <code>scatter_kws</code>:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pylab as plt\nimport seaborn as sns\n\nnp.random.seed(0)\n\n# Create dataframe\nDF_0 = pd.DataFrame(np.random.random((100,2)), columns=[\"x\",\"y\"])\nDF_0['color'] =  [\"#91FF61\"]*25 + [\"#BA61FF\"]*25 + [\"#91FF61\"]*25 + [\"#BA61FF\"]*25\n#print DF_0\n\nsns.regplot(data=DF_0, x=\"x\", y=\"y\", scatter_kws={'c':DF_0['color']})\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pRzOF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pRzOF.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4806, "favorite_count": 0, "accepted_answer_id": 38363155, "answer_count": 1, "score": 4, "last_activity_date": 1468451459, "creation_date": 1468447937, "last_edit_date": 1468451459, "question_id": 38362573, "link": "https://stackoverflow.com/questions/38362573/assign-map-colors-to-the-points-in-seaborn-regplot-python-3", "title": "Assign/map colors to the points in Seaborn.regplot (Python 3)", "body": "<p>I have a <code>seaborn</code> plot that I want to annotate with colors (preferably with a legend as well witht he color mapping).  I see that the <code>regplot</code> has a <code>color</code> method.  I don't know how to take use of this.  </p>\n\n<p>I set up my I tried a few different ways by either giving the <code>color</code> method a dictionary that maps the <code>{index : color}</code> and even added the color values to the dataframe itself. </p>\n\n<p><strong>How can I map the points with the colors I assigned?</strong> </p>\n\n<pre><code>np.random.seed(0)\n\n# Create dataframe\nDF_0 = pd.DataFrame(np.random.random((100,2)), columns=[\"x\",\"y\"])\n\n# Label to colors\nD_idx_color = {**dict(zip(range(0,25), [\"#91FF61\"]*25)),\n               **dict(zip(range(25,50), [\"#BA61FF\"]*25)),\n               **dict(zip(range(50,75), [\"#91FF61\"]*25)),\n               **dict(zip(range(75,100), [\"#BA61FF\"]*25))}\nDF_0[\"color\"] = pd.Series(list(D_idx_color.values()), index=list(D_idx_color.keys()))\n\n# Plot\nsns.regplot(data=DF_0, x=\"x\", y=\"y\") #works, plot below\n\n# sns.regplot(data=DF_0, x=\"x\", y=\"y\", color=\"color\") # doesn't work\n# ValueError: to_rgb: Invalid rgb arg \"color\"\n# could not convert string to float: 'color'\n\n# sns.regplot(data=DF_0, x=\"x\", y=\"y\", color=DF_0[\"color\"]) # doesn't work\n# ValueError: to_rgb: Invalid rgb arg \"('#91FF61', '#91FF61', ...\n\n# sns.regplot(data=DF_0, x=\"x\", y=\"y\", color=D_idx_color) # doesn't work\n# ValueError: to_rgb: Invalid rgb arg \"(0, 1, 2, ...\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/YJNYN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YJNYN.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "django-templates"], "answers": [{"tags": [], "owner": {"reputation": 2008, "user_id": 6504492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df1444ca55de7bf0fad0c53403641ef?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Danilov", "link": "https://stackoverflow.com/users/6504492/vladimir-danilov"}, "is_accepted": false, "score": 1, "last_activity_date": 1468618468, "last_edit_date": 1468618468, "creation_date": 1468459180, "answer_id": 38364078, "question_id": 38362572, "link": "https://stackoverflow.com/questions/38362572/context-processors-and-manual-rendering/38364078#38364078", "title": "Context processors and manual rendering", "body": "<p>Try to pass <code>request</code> to <code>render()</code> method:</p>\n\n<pre><code>new_body = tmpl8.render({ 'rows': MyModel.custom_query() }, request)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "is_accepted": true, "score": 2, "last_activity_date": 1468462382, "creation_date": 1468462382, "answer_id": 38364440, "question_id": 38362572, "link": "https://stackoverflow.com/questions/38362572/context-processors-and-manual-rendering/38364440#38364440", "title": "Context processors and manual rendering", "body": "<p>Let's see what the <a href=\"https://docs.djangoproject.com/en/1.9/topics/templates/#django.template.backends.base.Template.render\" rel=\"nofollow\">render</a> documentation says:</p>\n\n<blockquote>\n  <p>Template.render(context=None, request=None)<br>\n  Renders this template\n  with a given context.</p>\n  \n  <p>If context is provided, it must be a dict. If it isn\u2019t provided, the\n  engine will render the template with an empty context.</p>\n  \n  <p>If request is provided, it must be an HttpRequest. Then the engine\n  must make it, as well as the CSRF token, available in the template.\n  How this is achieved is up to each backend.</p>\n  \n  <p>Here\u2019s an example of the search algorithm. For this example the\n  TEMPLATES setting is:</p>\n</blockquote>\n\n<p>The second parameter is the request! So we have</p>\n\n<pre><code> new_body = tmpl8.render(render_context, request)\n</code></pre>\n"}], "owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 38364440, "answer_count": 2, "score": 3, "last_activity_date": 1468618468, "creation_date": 1468447932, "question_id": 38362572, "link": "https://stackoverflow.com/questions/38362572/context-processors-and-manual-rendering", "title": "Context processors and manual rendering", "body": "<p>In my Django app I need to refresh part of a page via an Ajax call. The associated view returns a <code>JsonResponse</code> object, where one key in the context is the re-rendered HTML.</p>\n\n<p>Something like this:</p>\n\n<pre><code>def myview(request):\n    ...\n    tmpl8 = template.loader.get_template('page-table.html')\n    new_body = tmpl8.render({ 'rows': MyModel.custom_query() })\n    context = { 'new_body': new_body,\n                'other_info': other_information_for_javascript }\n    return JsonResponse(request, context)\n</code></pre>\n\n<p>Now, I also have context processors which add generic information. Some of this is needed in rendering <code>page-table.html</code>.</p>\n\n<p>Unfortunately, context-processors don't get invoked by a bare <code>Template.render()</code>. They are invoked on the returned <code>JsonResponse</code> object, but it's too late by then as I've already rendered the template.</p>\n\n<p>In Django 1.9 you can supply a <code>RequestContext</code> to <code>Template.render</code> and things go well - except for a Deprecation Warning appearing in the console. Django 1.10 insists that <code>Template.render</code> be given a <code>dict</code>.</p>\n\n<p>So, the best I've been able to come up with is this:</p>\n\n<pre><code>from .context_processors import my_context_processor\n\ndef myview(request):\n    ...\n    tmpl8 = template.loader.get_template('page-table.html')\n\n    render_context = { 'rows': MyModel.custom_query() }\n    render_context.update(my_context_processor(request))\n    new_body = tmpl8.render(render_context)\n\n    context = { 'new_body': new_body,\n                'other_info': other_information_for_javascript }\n    return JsonResponse(request, context)\n</code></pre>\n\n<p>Basically explicitly invoking the processor.</p>\n\n<p>What am I missing? </p>\n"}, {"tags": ["python", "selenium", "web-scraping", "screen-scraping"], "answers": [{"comments": [{"owner": {"reputation": 2423, "user_id": 2049545, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d4aeaef11c851ca9ffb8f649abe94d43?s=128&d=identicon&r=PG&f=1", "display_name": "bill999", "link": "https://stackoverflow.com/users/2049545/bill999"}, "edited": false, "score": 0, "creation_date": 1468505204, "post_id": 38365489, "comment_id": 64163049, "body": "Thank you, @sagarwadhwa1. How did you see the code that enabled you to write down the CSS selector? And what process did you use that enabled you to figure my question out?"}, {"owner": {"reputation": 878, "user_id": 2517855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292f1bee8dbaa1dbb0e07308739491af?s=128&d=identicon&r=PG", "display_name": "sagarwadhwa1", "link": "https://stackoverflow.com/users/2517855/sagarwadhwa1"}, "reply_to_user": {"reputation": 2423, "user_id": 2049545, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d4aeaef11c851ca9ffb8f649abe94d43?s=128&d=identicon&r=PG&f=1", "display_name": "bill999", "link": "https://stackoverflow.com/users/2049545/bill999"}, "edited": false, "score": 0, "creation_date": 1468605324, "post_id": 38365489, "comment_id": 64212942, "body": "I had to automate the same chart some time back in another application. It took a lot of effort to find the elements corresponding to the hover in the HTML code but after that, it was easy. Click on the HTML code in inspect element window and use mouse to hover over the chart some time back."}, {"owner": {"reputation": 2423, "user_id": 2049545, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d4aeaef11c851ca9ffb8f649abe94d43?s=128&d=identicon&r=PG&f=1", "display_name": "bill999", "link": "https://stackoverflow.com/users/2049545/bill999"}, "edited": false, "score": 0, "creation_date": 1468687124, "post_id": 38365489, "comment_id": 64234338, "body": "I can&#39;t seem to get it because when the code changes from when I hover over because I have to move the mouse to select the proper code."}, {"owner": {"reputation": 878, "user_id": 2517855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292f1bee8dbaa1dbb0e07308739491af?s=128&d=identicon&r=PG", "display_name": "sagarwadhwa1", "link": "https://stackoverflow.com/users/2517855/sagarwadhwa1"}, "reply_to_user": {"reputation": 2423, "user_id": 2049545, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d4aeaef11c851ca9ffb8f649abe94d43?s=128&d=identicon&r=PG&f=1", "display_name": "bill999", "link": "https://stackoverflow.com/users/2049545/bill999"}, "edited": false, "score": 0, "creation_date": 1468776232, "post_id": 38365489, "comment_id": 64254402, "body": "Yes, it can be a bit tricky. You&#39;ll have to open the dev tools in a separate window and then keeping it in focus, use the mouse to just hover over the data points. Then, using keyboard arrow keys, navigate and find the element of the hover."}], "tags": [], "owner": {"reputation": 878, "user_id": 2517855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/292f1bee8dbaa1dbb0e07308739491af?s=128&d=identicon&r=PG", "display_name": "sagarwadhwa1", "link": "https://stackoverflow.com/users/2517855/sagarwadhwa1"}, "is_accepted": true, "score": 1, "last_activity_date": 1468470400, "creation_date": 1468470400, "answer_id": 38365489, "question_id": 38362531, "link": "https://stackoverflow.com/questions/38362531/how-to-view-code-for-scraping-of-interactive-graph-with-hover/38365489#38365489", "title": "How to View Code (for Scraping) of Interactive Graph with Hover", "body": "<p>What happens is that another element containing the hover is overlayed on the chart for each point. The good news is that for each hover, a single CSS selector can be created. The hover appears in the ending <code>&lt;g&gt;</code> tag of the performance chart and the data can be gathered by getting all the points you need the information for, hovering on them each one by one, and using the following CSS Selector to gather the information.</p>\n\n<pre><code>g&gt;text[text-anchor='start'][font-weight=bold]\n</code></pre>\n\n<p>Yes, it is a slow process but it works. If you want, you can also use JavaScript to get the data you need, but that would require diving deeper into the JS code of the website.  </p>\n"}], "owner": {"reputation": 2423, "user_id": 2049545, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d4aeaef11c851ca9ffb8f649abe94d43?s=128&d=identicon&r=PG&f=1", "display_name": "bill999", "link": "https://stackoverflow.com/users/2049545/bill999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "accepted_answer_id": 38365489, "answer_count": 1, "score": 0, "last_activity_date": 1468569150, "creation_date": 1468447762, "last_edit_date": 1468569150, "question_id": 38362531, "link": "https://stackoverflow.com/questions/38362531/how-to-view-code-for-scraping-of-interactive-graph-with-hover", "title": "How to View Code (for Scraping) of Interactive Graph with Hover", "body": "<p>I would like to scrape an interactive plot that displays different information based on where the pointer is hovering. This website is what I am interested in: <a href=\"https://www.pelotoncycle.com/workout/c52db950f5ec4fde85cb3997c52db8db\" rel=\"nofollow\">https://www.pelotoncycle.com/workout/c52db950f5ec4fde85cb3997c52db8db</a></p>\n\n<p>For each line, I would like to scrape the information that appears in the box when one hovers over different segments of the line. For example, for the red line, starting at the left and going right, I would like to scrape:</p>\n\n<pre><code>0.13  power 70.1\n0.58  power 74.9\n1     power 94.8\nand so on, repeating for each line\n</code></pre>\n\n<p>I have used python+Selenium to scrape dynamically-loading websites in the past, but am not sure how to handle this particular issue. I have tried, but have been unsuccessful in finding where in the code this information is contained. It is not in the page source HTML. I also can't find it using Firefox+Firebug or Chrome Canary when I use their inspect elements feature. The closest I can get when trying to find the relevant code is something like this:</p>\n\n<pre><code>&lt;circle cx=\"213.69063545150502\" cy=\"161.03099999999998\" r=\"6.5\" stroke=\"#000000\" stroke-width=\"1\" stroke-opacity=\"0.05\" fill-opacity=\"1\" fill=\"none\"&gt;\n</code></pre>\n\n<p>Unfortunately, this appears to refer to the circle on the line and not on the actual information contained in the hovering box.</p>\n\n<p>Any suggestion on what I should try?</p>\n"}, {"tags": ["python", "pyqt4", "qtablewidget"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1468455023, "post_id": 38362503, "comment_id": 64139475, "body": "Please avoid phrases like &quot;does not work&quot;. Instead, describe what actually happened and include any error messages you received."}, {"owner": {"reputation": 114, "user_id": 6434684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aEX3.jpg?s=128&g=1", "display_name": "Artem Rys", "link": "https://stackoverflow.com/users/6434684/artem-rys"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1468485866, "post_id": 38362503, "comment_id": 64149959, "body": "Nothing actually happened, it does not give an error, but do nothing."}], "owner": {"reputation": 114, "user_id": 6434684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aEX3.jpg?s=128&g=1", "display_name": "Artem Rys", "link": "https://stackoverflow.com/users/6434684/artem-rys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 13, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468447626, "creation_date": 1468447626, "question_id": 38362503, "link": "https://stackoverflow.com/questions/38362503/redefine-only-one-standard-method-of-pyqt4-qtablewidget-to-my-own-version-withou", "title": "Redefine only one standard method of PyQt4 QTableWidget to my own version without making custom QTableWidget", "body": "<p>I have some function. I want it to be instead one of standard methods of the QTableWidget and (!) I don't want to make overloaded class of QTableWidget.</p>\n\n<p>I tried to do this way:</p>\n\n<pre><code>def my_method():\n    do_something()\n\nself.ui.tableWidget.method = my_method\n</code></pre>\n\n<p>But it does not work.\nPlease help to solve this problem.</p>\n"}, {"tags": ["python", "inheritance", "openerp", "odoo-9"], "answers": [{"comments": [{"owner": {"reputation": 1028, "user_id": 2089889, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b3ee4cf1912a6709f4eb9e484664a16?s=128&d=identicon&r=PG", "display_name": "amchugh89", "link": "https://stackoverflow.com/users/2089889/amchugh89"}, "edited": false, "score": 1, "creation_date": 1468502966, "post_id": 38365681, "comment_id": 64161465, "body": "I&#39;m sorry but this doesn&#39;t answer my questions - is _inherit different from a normal inherit? And I&#39;m pretty sure your _inherits explanation is just wrong"}, {"owner": {"reputation": 14070, "user_id": 4093735, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/6hzqH.png?s=128&g=1", "display_name": "Emipro Technologies Pvt. Ltd.", "link": "https://stackoverflow.com/users/4093735/emipro-technologies-pvt-ltd"}, "reply_to_user": {"reputation": 1028, "user_id": 2089889, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b3ee4cf1912a6709f4eb9e484664a16?s=128&d=identicon&r=PG", "display_name": "amchugh89", "link": "https://stackoverflow.com/users/2089889/amchugh89"}, "edited": false, "score": 0, "creation_date": 1468503131, "post_id": 38365681, "comment_id": 64161587, "body": "Can you please tell me how ? Read last lines of answer it&#39;s about difference."}, {"owner": {"reputation": 1028, "user_id": 2089889, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b3ee4cf1912a6709f4eb9e484664a16?s=128&d=identicon&r=PG", "display_name": "amchugh89", "link": "https://stackoverflow.com/users/2089889/amchugh89"}, "edited": false, "score": 0, "creation_date": 1468503416, "post_id": 38365681, "comment_id": 64161798, "body": "is _inherit different from a normal inherit?"}, {"owner": {"reputation": 1028, "user_id": 2089889, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b3ee4cf1912a6709f4eb9e484664a16?s=128&d=identicon&r=PG", "display_name": "amchugh89", "link": "https://stackoverflow.com/users/2089889/amchugh89"}, "edited": false, "score": 0, "creation_date": 1468503485, "post_id": 38365681, "comment_id": 64161853, "body": "You: &quot;If you think about the normal pythonic way which will provide any ways to update the behaviors of the parent class and the additional things will be accessible through parent object only.&quot; &lt;-- nope"}, {"owner": {"reputation": 14070, "user_id": 4093735, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/6hzqH.png?s=128&g=1", "display_name": "Emipro Technologies Pvt. Ltd.", "link": "https://stackoverflow.com/users/4093735/emipro-technologies-pvt-ltd"}, "reply_to_user": {"reputation": 1028, "user_id": 2089889, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b3ee4cf1912a6709f4eb9e484664a16?s=128&d=identicon&r=PG", "display_name": "amchugh89", "link": "https://stackoverflow.com/users/2089889/amchugh89"}, "edited": false, "score": 0, "creation_date": 1468503562, "post_id": 38365681, "comment_id": 64161914, "body": "yes it differ than nornal inheritance, odoo have extended inheritance and created feature called_inherit."}, {"owner": {"reputation": 14070, "user_id": 4093735, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/6hzqH.png?s=128&g=1", "display_name": "Emipro Technologies Pvt. Ltd.", "link": "https://stackoverflow.com/users/4093735/emipro-technologies-pvt-ltd"}, "reply_to_user": {"reputation": 1028, "user_id": 2089889, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b3ee4cf1912a6709f4eb9e484664a16?s=128&d=identicon&r=PG", "display_name": "amchugh89", "link": "https://stackoverflow.com/users/2089889/amchugh89"}, "edited": false, "score": 0, "creation_date": 1468503868, "post_id": 38365681, "comment_id": 64162132, "body": "&quot;If you think about the normal pythonic way which will provide any ways to update the behaviors of the parent class and the additional things will be accessible through parent object only.&quot; =&gt; That&#39;s done by odoo just because of _inherit."}], "tags": [], "owner": {"reputation": 14070, "user_id": 4093735, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/6hzqH.png?s=128&g=1", "display_name": "Emipro Technologies Pvt. Ltd.", "link": "https://stackoverflow.com/users/4093735/emipro-technologies-pvt-ltd"}, "is_accepted": false, "score": 2, "last_activity_date": 1468471636, "creation_date": 1468471636, "answer_id": 38365681, "question_id": 38362501, "link": "https://stackoverflow.com/questions/38362501/odoo-extension-and-inheritance/38365681#38365681", "title": "Odoo extension and inheritance", "body": "<p><strong>_inherit</strong></p>\n\n<p>While this term comes into the picture it means that you are going to extend something to that current model. Whatever fields and methods you describe over there those will be appended to that model which you have specified in <strong>_inherit</strong>.</p>\n\n<p><strong>_inherits</strong></p>\n\n<p>It's an interesting concepts that will define another model which can access all those properties and methods of parent model without referencing object, it means all those fields and methods which are there in parent model will be directly accessible through the child class object and both the models will be connected through the Many2one => One2many reference which will need to be specified additionally.</p>\n\n<p>All those fields will not be physically cloned into the child model but it will be there while we can access it through it's object just because of _inherits.</p>\n\n<p><strong>Example</strong></p>\n\n<p><strong>_inherit</strong></p>\n\n<pre><code>class stock_picking(models.Model):\n    _inherit='stock.picking'\n\n    field_name = fields.Char(\"Title\")\n</code></pre>\n\n<p><strong>_inherits</strong></p>\n\n<pre><code>class product_product(osv.osv):\n    _name = \"product.product\"\n    _inherits = {'product.template': 'product_tmpl_id'}\n\n    _columns = {\n       'product_tmpl_id': fields.many2one('product.template', 'Product Template', required=True, ondelete=\"cascade\", select=True, auto_join=True), \n     }\n</code></pre>\n\n<p>If you think about the normal pythonic way which will provide any ways to update the behaviors of the parent class and the additional things will be accessible through parent object only. \nIn normal inheritance we can add fields &amp; methods but all those will be accessible through the child class's object only.</p>\n"}, {"tags": [], "owner": {"reputation": 1028, "user_id": 2089889, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b3ee4cf1912a6709f4eb9e484664a16?s=128&d=identicon&r=PG", "display_name": "amchugh89", "link": "https://stackoverflow.com/users/2089889/amchugh89"}, "is_accepted": false, "score": 4, "last_activity_date": 1468506346, "last_edit_date": 1468506346, "creation_date": 1468505701, "answer_id": 38376610, "question_id": 38362501, "link": "https://stackoverflow.com/questions/38362501/odoo-extension-and-inheritance/38376610#38376610", "title": "Odoo extension and inheritance", "body": "<p>I have been just messing around with the inheritance myself, below are examples of odoo 'classical' inheritance (pass _inherit and _name to child) and odoo 'extension,' only pass _inherit to child</p>\n\n<p>_inherits (delegation) is so wacky I'm not even going to test it out. I don't see how I would ever use it - the docs explain the how (<a href=\"http://www.odoo.com/documentation/9.0/reference/orm.html#delegation\" rel=\"nofollow\">http://www.odoo.com/documentation/9.0/reference/orm.html#delegation</a>) if anyone could explain the why that would be nice but I'm not going to keep stressing it.</p>\n\n<p><strong>MODELS</strong></p>\n\n<pre><code>class Parent(models.Model):\n    _name = 'aidentest.parent'\n\n    first = fields.Char()\n    last = fields.Char()\n\n    def call(self):\n        return self.check(self.first)\n\n    def check(self, s):\n        return \"name: {} familia: {}\".format(s, self.last)\n\n#normal inheritance of parent\nclass Child1(models.Model):\n    _name = 'aidentest.child1'\n    _inherit = 'aidentest.parent'\n\n    first = fields.Char()\n\n    def call(self):\n        return self.check(self.first)\n\n\n#this extends parent\nclass Child2(models.Model):\n    #_name = 'aidentest.child2' #no name - \"extension\" of inherited model\n    _inherit = 'aidentest.parent'\n\n    middle = fields.Char()\n\n    def call(self):\n        return self.check(self.first)\n</code></pre>\n\n<p><strong>CONSOLE</strong></p>\n\n<pre><code>&gt;&gt;&gt; p1 = self.env['aidentest.parent'].create({'first':'mr','last':'dad'})\n&gt;&gt;&gt; p1.read()\n[{'create_uid': (1, u'Administrator'), 'create_date': '2016-07-14 13:54:23', 'display_name': u'aidentest.parent,3', '__last_update': '2016-07-14 13:54:23', 'write_uid': (1, u'Administrator'), 'middle': False, 'write_date': '2016-07-14 13:54:23', 'last': u'dad', 'id': 3, 'first': u'mr'}]\n&gt;&gt;&gt; p1.call()\n'name: mr familia: dad'\n&gt;&gt;&gt; p1.middle\nFalse  \n</code></pre>\n\n<p>False means the field is there (via the 'extension' of Child2, but it is not populated) otherwise I would have gotten an Attribute Error</p>\n\n<pre><code>&gt;&gt;&gt; c1 = self.env['aidentest.child1'].create({})\n&gt;&gt;&gt; c1.first\nFalse\n&gt;&gt;&gt; c1.middle  \nTraceback (most recent call last):\n  File \"&lt;console&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'aidentest.child1' object has no attribute 'middle' \n</code></pre>\n\n<p>Child1 inherits from the base class only, not from the 'extended' base class - it ignores Child2's extension of parent. Child2 extended parent by adding 'middle' field, Child1 has no access to that field</p>\n\n<pre><code>&gt;&gt;&gt; c2 = self.env['aidentest.child2'].create({})\nTraceback (most recent call last):\n  File \"&lt;console&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Users\\mamwo\\Desktop\\odoo\\openerp\\api.py\", line 768, in __getitem__\n    return self.registry[model_name]._browse(self, ())\n  File \"C:\\Users\\mamwo\\Desktop\\odoo\\openerp\\modules\\registry.py\", line 84, in __getitem__\n    return self.models[model_name]\nKeyError: 'aidentest.child2'\n</code></pre>\n\n<p>The Extending model doesn't really exist (has no name and you can not instantiate it), it just adds stuff to the parent. </p>\n"}, {"tags": [], "owner": {"reputation": 11934, "user_id": 54606, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e7de961282b156410426c657342ef466?s=128&d=identicon&r=PG", "display_name": "Lo&#239;c Faure-Lacroix", "link": "https://stackoverflow.com/users/54606/lo%c3%afc-faure-lacroix"}, "is_accepted": false, "score": 4, "last_activity_date": 1490607081, "creation_date": 1490607081, "answer_id": 43042713, "question_id": 38362501, "link": "https://stackoverflow.com/questions/38362501/odoo-extension-and-inheritance/43042713#43042713", "title": "Odoo extension and inheritance", "body": "<p>Ok I'll explain this.</p>\n\n<p>Traditional inheritance in python doesn't extend the base class. So if you extend <code>A</code> from <code>B</code> then <code>A</code> will be an object of type <code>A</code> and <code>B</code>. If you create an object of type <code>B</code>. It won't have anything from <code>A</code>. It would be ridiculous to have something like this:</p>\n\n<pre><code>SortedDict(dict)\nRandomDict(dict)\n.... \n</code></pre>\n\n<p>And then have dict become a <code>SortedDict</code>,<code>RandomDict</code>...</p>\n\n<p>For python, since you extend what you want, you have to import the particular class you want to extend from and use that particular new class if necessary. In practice, in python, we don't extend much classes as it's not really necessary in most cases.</p>\n\n<p>Now about odoo.</p>\n\n<ol>\n<li>Odoo _inherit</li>\n</ol>\n\n<p>Odoo is made from modules a lot of modules. If we have to know each model that has been inherited to extend a particular model. We'd have to change the views to reference to the last extended model... It would be a pain to specify which class to use.</p>\n\n<p>The solution is simple: Make all model extend from a ModelClass. Inside the class definition, keep an instruction that tells odoo which database model should be extended. We can reference in our views to one single model and odoo take care of model inheritance (not class inheritance) at runtime. This will allow us to use <code>super</code> within the methods to call the methods defined in parent model definitions...\nThe nice thing is that we don't have to know the BaseClass in which the method is located. Otherwise, we'd have to know the particular class that has the model but since modules can be added/removed it's not possible to know which class is the latest in the model inheritance chain. That's why <code>_inherit</code> is pretty much necessary. We're not subclassing classes but models. It's not really pythonic, but if we wanted to make it pythonic, we'd have to implicitly extend a model with syntax sugar (which is also not really pythonic)... So technically explicitely defining which model we want to extend is more pythonic than using the standard class Inheritance Scheme. It kind of make a lot of sense after thinking about it.</p>\n\n<ol start=\"2\">\n<li>Why extension is used</li>\n</ol>\n\n<p>I pretty much explained it. But you'll have to understand that a lot of modules can be loaded in a non-determined order. That's why extension makes sense. Methods might be called in many different order but things still have to work right. If you have multiple modules loaded, your code still had to work when a module you never knew about will be added to odoo. The way inheritance works isn't completely non-deterministic but in some cases, the order of loading might differ on some computers/servers.</p>\n\n<ol start=\"3\">\n<li>_inherits makes a lot of sense.</li>\n</ol>\n\n<p>It's the closest thing you have to traditional python class inheritance for models.</p>\n\n<p>When you use _inherits, the child model doesn't extend the base model you're inheriting from. It's used to create a new model that doesn't duplicate the attributes from the parent model. Remember, we're making database objects. A reference is kept to which parent object contain more attributes. One simple example is the res.partner and res.user. A res.user is a res.partner with a login and password in short... It wouldn't make sense to add the login/password to all the res.partners that aren't users... And it's kind of great to be able to reuse all the res.partner UI for the res.users. If odoo didn't have inherits, we'd have to completely duplicate the res.partner UI/db for res.users... and we couldn't easily use a res.users in places where a res.partner has to be used.... The simple solution is to keep things id different models and keep a link... But wouldn't it be great to be able to access \"user.name\" instead of \"user.partner_id.name\". Obviously... In python you don't write... \"obj.super.property\" to gain access to parent class properties? Technically it's the same thing here. fields are being delegated... </p>\n\n<p>Now why methods aren't delegated? I guess that it pretty much has something to do with a problem with delegates in multiple inheritance. If you _inherits multiple models that override the <code>write</code> or <code>create</code>... Which one will you be calling? Technically none of the methods should be called because they're defined on the parent object. So if you want to call a res.partner method on a <code>res.users</code> object, the <code>self</code> that will be sent to the parent method will be a <code>res.user</code> and not a <code>res.partner</code>... Which would cause problems as the <code>res.partner</code> isn't expecting to be called by a <code>res.users</code>. Even if you'd call the \"res.partner\" method with the <code>partner_id</code> link... Then how the hell do you know the vals passed to the <code>res.users</code> should be actually passed to the <code>res.partner</code>? For that reason, it's safer to explicitly call the methods you want with <code>partner_id.write</code> with the explicit vals you want to send. For attributes, it's not really <em>important</em> to know which attribute will be used. In theory, it's pretty deterministic. I haven't tried it but chances are that a write for an attribute will be delegated to a particular parent depending on the order in which delegate fields are created. The dict which store the <code>_inherits</code> entry will return values in a determined order. And since you will read/write from the same object all the time, it doesn't really matter in most case which parent will own the data if duplicate attributes exists. There's also a possibility to add more delegated fields or specify a particular field for delegation so technically no problem here. But for methods, as I explained, you can't really expect odoo to know which method should be delegated and which shouldn't so it's better to play safe and explicitly request the programmer to tell what to do.</p>\n"}], "owner": {"reputation": 1028, "user_id": 2089889, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b3ee4cf1912a6709f4eb9e484664a16?s=128&d=identicon&r=PG", "display_name": "amchugh89", "link": "https://stackoverflow.com/users/2089889/amchugh89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8677, "favorite_count": 3, "answer_count": 3, "score": 6, "last_activity_date": 1521475664, "creation_date": 1468447615, "question_id": 38362501, "link": "https://stackoverflow.com/questions/38362501/odoo-extension-and-inheritance", "title": "Odoo extension and inheritance", "body": "<p>Odoo has three types of inheritance, and I have at least that number of questions.</p>\n\n<p><strong>1. 'Normal' Inheritance (_inherit)</strong></p>\n\n<p>This is relatively intuitive to me - but why don't they just do it in the pythonic way: </p>\n\n<pre><code>ChildClass(ParentClass):\n</code></pre>\n\n<p>Why do they have the (seemingly equivalent):</p>\n\n<pre><code>ChildClass(model.Model):\n     _inherit = 'module.parentclass'\n</code></pre>\n\n<p><strong>2. Extension</strong></p>\n\n<p>This makes no sense to me (in that I don't know why you would use it), an example is below, but can anyone give me a practical use case.\n<a href=\"http://www.odoo.com/documentation/9.0/reference/orm.html#extension\" rel=\"noreferrer\">http://www.odoo.com/documentation/9.0/reference/orm.html#extension</a></p>\n\n<p><strong>3. Delegating (_inherits)</strong></p>\n\n<p>This doesn't really make sense to me either, it seems like a multiple subclassing but of just fields, not methods.</p>\n\n<p><strong>QUESTION</strong></p>\n\n<ol>\n<li><p>Why does _inherit exist, what benefits/differences over normal subclassing?</p></li>\n<li><p>When/why would you extend? I think I have an idea, but I'm sure someone else can express clearer.</p></li>\n<li><p>Maybe a little what,why about _inherits</p></li>\n</ol>\n"}, {"tags": ["python", "python-2.7", "generator"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1468448163, "post_id": 38362479, "comment_id": 64137556, "body": "Your recursive call is invoked just fine, but all it does is make another generator. You don&#39;t do anything with the resulting generator."}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1468448196, "post_id": 38362479, "comment_id": 64137567, "body": "If a function <i>yield</i> something, it cannot <i>return</i> something. Only <code>return</code> without argument (equivalent to <code>raise StopIteration</code>). See PEP255 <code>&lt;https:&#47;&#47;www.python.org&#47;dev&#47;peps&#47;pep-0255&#47;&gt;</code>_."}, {"owner": {"reputation": 10956, "user_id": 953327, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df211e9d32e51f6dd7cde0e174b97f2f?s=128&d=identicon&r=PG", "display_name": "FGreg", "link": "https://stackoverflow.com/users/953327/fgreg"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1468448493, "post_id": 38362479, "comment_id": 64137684, "body": "@user2357112 you&#39;re right I just realized that I need to exhaust the recursively created generator. If I change line 10 to <code>for result in recurse(idx + 1, next_message): yield result</code> it works. The linked duplicate question pretty much covers my use case so I&#39;ll leave it as is. Thanks."}], "owner": {"reputation": 10956, "user_id": 953327, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df211e9d32e51f6dd7cde0e174b97f2f?s=128&d=identicon&r=PG", "display_name": "FGreg", "link": "https://stackoverflow.com/users/953327/fgreg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1468448088, "answer_count": 0, "score": 0, "last_activity_date": 1468447473, "creation_date": 1468447473, "question_id": 38362479, "link": "https://stackoverflow.com/questions/38362479/recursing-through-a-chain-of-generators", "closed_reason": "Duplicate", "title": "Recursing through a chain of generators", "body": "<h1>Use Case</h1>\n\n<p>I have a variable list of ordered generators that I am trying to chain together. By chain together I mean that I am taking some input and creating <code>generator_1</code> from that input. Then I get the <code>item_1</code> from <code>generator_1</code> and use that to create <code>generator_2</code>.</p>\n\n<p>This continues until I reach the last generator in the list; at which point I exhaust that generator.</p>\n\n<h1>Example</h1>\n\n<p>I have written this code, which reading it seems to do what I want but it is not functioning correctly:</p>\n\n<pre><code>def run(x):\n    functions = [one_produces_three, one_produces_one]\n\n    def recurse(idx, message):\n        if idx == len(functions) - 1:\n            yield message\n        else:\n            next_gen = functions[idx + 1](message)\n            for next_message in next_gen:\n                recurse(idx + 1, next_message)\n\n    return recurse(-1, x)\n\n\ndef one_produces_three(one_input):\n    for x in xrange(0, 3):\n        print \"one produces three %s %s\" % (one_input, x)\n        yield one_input + x\n\n\ndef one_produces_one(one_input):\n    print \"one produces one %s\" % one_input\n    yield one_input\n\n\nif __name__ == \"__main__\":\n    for r in run(1):\n        print r\n</code></pre>\n\n<p>When I step through this with a debugger, the problem appears to be on line 10: <code>recurse(idx + 1, next_message)</code>. For some reason this is a no-op, the recursive call never happens and the <code>one_produces_one</code> method is never called.</p>\n\n<p>This is obvious when I run the code because I only get the output:</p>\n\n<pre><code>one produces three 1 0\none produces three 1 1\none produces three 1 2\n</code></pre>\n\n<p>The output I would expect would be:</p>\n\n<pre><code>one produces three 1 0\none produces one 1\n1\none produces three 1 1\none produces one 2\n2\none produces three 1 2\none produces one 3\n3\n</code></pre>\n\n<p>Why is my recursive method call not being invoked?</p>\n"}, {"tags": ["python", "wxpython", "real-time"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6575188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6db382e0039196ecdaa2800be640d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/6575188/tyler"}, "edited": false, "score": 0, "creation_date": 1468582860, "post_id": 38370932, "comment_id": 64198722, "body": "Thank you very much, I did not realize I posted the wrong file, the files all have similar names, sorry about that. May you please tell me which is the best class to be used to design the UI which I posted after the codes. I need buttons like that and the &#39;enter&#39; button is not a square. I just found GirdSizer and I wonder if there are better classes avaliable? Thank you very much."}, {"owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "reply_to_user": {"reputation": 5, "user_id": 6575188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6db382e0039196ecdaa2800be640d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/6575188/tyler"}, "edited": false, "score": 0, "creation_date": 1468582974, "post_id": 38370932, "comment_id": 64198789, "body": "Check out <code>wx.FlexGridSizer</code> as well"}, {"owner": {"reputation": 5, "user_id": 6575188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6db382e0039196ecdaa2800be640d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/6575188/tyler"}, "edited": false, "score": 0, "creation_date": 1468597712, "post_id": 38370932, "comment_id": 64208840, "body": "Thank you, I just found a tutorial on that."}], "tags": [], "owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "is_accepted": true, "score": 0, "last_activity_date": 1468489737, "creation_date": 1468489737, "answer_id": 38370932, "question_id": 38362460, "link": "https://stackoverflow.com/questions/38362460/numeric-keyboard/38370932#38370932", "title": "Numeric Keyboard", "body": "<pre><code>import wx\n\nclass iCal(wx.Frame):\n\n    def __init__(self):\n        wx.Frame.__init__(self, None, wx.ID_ANY, \"Text\")\n        panel = MainPanel(self)\n\nclass MainPanel(wx.Panel):\n\n    def __init__(self, parent):\n        wx.Panel.__init__(self, parent=parent)\n        self.frame = parent\n        self.text_1 = wx.TextCtrl(self, value=\"0\")\n        button_0 = wx.Button(self, label=\"0\")\n        button_1 = wx.Button(self, label=\"1\")\n        button_2 = wx.Button(self, label=\"2\")\n        clear = wx.Button(self, label=\"Clear\")\n\n        button_0.Bind(wx.EVT_LEFT_DOWN,self.output0)\n        button_1.Bind(wx.EVT_LEFT_DOWN,self.output1)\n        button_2.Bind(wx.EVT_LEFT_DOWN,self.output2)\n        clear.Bind(wx.EVT_LEFT_DOWN,self.clear)\n\n        sizer = wx.BoxSizer(wx.VERTICAL)\n        sizer.Add(self.text_1, 0, wx.ALL|wx.CENTER, 5)\n        sizer.Add(button_0, 0, wx.ALL|wx.CENTER, 5)\n        sizer.Add(button_1, 0, wx.ALL|wx.CENTER, 5)\n        sizer.Add(button_2, 0, wx.ALL|wx.CENTER, 5)\n        sizer.Add(clear, 0, wx.ALL|wx.CENTER, 5)\n        self.SetSizer(sizer)\n\n    def output0(self,event):\n        num = \"0\"\n        my_string = self.text_1.GetValue() + num\n        self.text_1.SetValue(my_string)\n\n    def output1(self,event):\n        num = \"1\"\n        my_string = self.text_1.GetValue() + num\n        self.text_1.SetValue(my_string)\n\n    def output2(self,event):\n        num = \"2\"\n        my_string = self.text_1.GetValue() + num\n        self.text_1.SetValue(my_string)\n\n    def clear(self,event):\n        my_string = self.text_1.GetValue()\n        my_string = my_string[:len(my_string)-1]\n        self.text_1.SetValue(my_string)\n\nif __name__ == '__main__':\n    app = wx.App(False)\n    frame = iCal()\n    frame.Show()\n    app.MainLoop()\n</code></pre>\n\n<ol>\n<li>If you are going to post code, at least run it first to make sure that you aren't posting rubbish.    </li>\n<li>Read about manipulating strings before you post: <a href=\"http://www.tutorialspoint.com/python/python_strings.htm\" rel=\"nofollow\">Strings</a></li>\n</ol>\n"}], "owner": {"reputation": 5, "user_id": 6575188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6db382e0039196ecdaa2800be640d3e?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/6575188/tyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 38370932, "answer_count": 1, "score": 0, "last_activity_date": 1468489737, "creation_date": 1468447378, "question_id": 38362460, "link": "https://stackoverflow.com/questions/38362460/numeric-keyboard", "title": "Numeric Keyboard", "body": "<p>I would like to design a numeric keyboard and I do not know which function to use to have real time display when I clicked a button, say 1 is displayed in the textctrl when the button 1 is clicked like a calculator display. And it can display like 1234 when 1234 buttons are clicked in series. And I wonder how can I add backspace, clear functions to that</p>\n\n<pre><code>import wx\n\nclass iCal(wx.Frame):\n\n    def __init__(self):\n        wx.Frame.__init__(self, None, wx.ID_ANY, \"Text\")\n        panel = MainPanel(self)\n\nclass MainPanel(wx.Panel):\n\n    def __init__(self, parent):\n        wx.Panel.__init__(self, parent=parent)\n        self.frame = parent \n\n        text_1 = wx.TextCtrl(self, value=float(num))\n\n        button_0 = wx.Button(self, label=\"0\")        \n        button_1 = wx.Button(self, label=\"1\")\n        button_2 = wx.Button(self, label=\"2\")\n\n        button_0.Bind(wx.EVT_LEFT_DOWN,self.output0)\n        button_1.Bind(wx.EVT_LEFT_DOWN,self.output1)\n        button_2.Bind(wx.EVT_LEFT_DOWN,self.output2)\n\n        sizer = wx.BoxSizer(wx.VERTICAL)\n        sizer.Add(text_1, 0, wx.ALL|wx.CENTER, 5)\n        sizer.Add(button_0, 0, wx.ALL|wx.CENTER, 5)\n        sizer.Add(button_1, 0, wx.ALL|wx.CENTER, 5)\n        sizer.Add(button_2, 0, wx.ALL|wx.CENTER, 5)\n        self.SetSizer(sizer)\n\n    def self.output0(self,event):\n        if float(num) &gt; 0:\n            num = num + str(0)\n\n    def self.output1(self,event):\n        num = num + str(1)\n\n    def self.output1(self,event):\n        num = num + str(1)\n\n\n\nif __name__ == '__main__':\n    app = wx.App(False)\n    frame = iCal()\n    frame.Show()\n    app.MainLoop()\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/O3I9D.jpg\" rel=\"nofollow\">Numberic Keyboard</a></p>\n"}, {"tags": ["python", "python-2.7", "dictionary", "inheritance", "python-internals"], "comments": [{"owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1468448506, "post_id": 38362420, "comment_id": 64137687, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3387691/python-how-to-perfectly-override-a-dict\">Python: How to &quot;perfectly&quot; override a dict</a>"}, {"owner": {"reputation": 1388, "user_id": 2430857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cea3490e31b8204334b28a483485363d?s=128&d=identicon&r=PG", "display_name": "Kirk", "link": "https://stackoverflow.com/users/2430857/kirk"}, "reply_to_user": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1468449034, "post_id": 38362420, "comment_id": 64137865, "body": "My question isn&#39;t how to get around this, but &#39;why&#39; this is happening. I ended up subclassing MutableMapping to get my job done, but this seems like odd, undocumented behavior."}, {"owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1468449556, "post_id": 38362420, "comment_id": 64138023, "body": "<a href=\"https://pypy.readthedocs.io/en/latest/cpython_differences.html#subclasses-of-built-in-types\" rel=\"nofollow noreferrer\">Subclasses of built-in types</a>"}, {"owner": {"reputation": 1388, "user_id": 2430857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cea3490e31b8204334b28a483485363d?s=128&d=identicon&r=PG", "display_name": "Kirk", "link": "https://stackoverflow.com/users/2430857/kirk"}, "reply_to_user": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 1, "creation_date": 1468450255, "post_id": 38362420, "comment_id": 64138285, "body": "@ssdms Useful link, however I wouldn&#39;t classify a tiny blip in PyPy documentation documented behavior of built-in classes for CPython. If it is to be expected behavior, why not have a big warning about subclassing builtins <a href=\"https://docs.python.org/2/library/stdtypes.html#built-in-types\" rel=\"nofollow noreferrer\">here</a> The note is quite misleading."}, {"owner": {"reputation": 2374, "user_id": 400262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7184a5d85b7c0dcb10167ba164e078d?s=128&d=identicon&r=PG", "display_name": "BryceH", "link": "https://stackoverflow.com/users/400262/bryceh"}, "edited": false, "score": 0, "creation_date": 1468470039, "post_id": 38362420, "comment_id": 64142710, "body": "It sounds like something to submit a documentation bug/request - <a href=\"https://docs.python.org/2/bugs.html\" rel=\"nofollow noreferrer\">docs.python.org/2/bugs.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "is_accepted": true, "score": 7, "last_activity_date": 1469220103, "creation_date": 1469220103, "answer_id": 38534939, "question_id": 38362420, "link": "https://stackoverflow.com/questions/38362420/subclassing-dict-dict-update-returns-incorrrect-value-python-bug/38534939#38534939", "title": "subclassing dict; dict.update returns incorrrect value - python bug?", "body": "<p>This is an example of the <a href=\"https://en.wikipedia.org/wiki/Open/closed_principle\">open-closed-principle</a> (the class is open for extension but closed for modification).  It is good thing to have because it allows subclassers to extend or override a method without unintentionally triggering behavior changes in others and without breaking the classes's invariants.</p>\n\n<p>We even do this in pure python code as well; for example, <a href=\"https://hg.python.org/cpython/file/2.7/Lib/collections.py#l69\">inside the pure python ordered dict code</a>, the class local call from <code>__init__()</code> to <code>update()</code> is done using <a href=\"https://docs.python.org/2.7/tutorial/classes.html#private-variables-and-class-local-references\">name mangling</a>.  This allows a subclasser to override <code>update()</code> <a href=\"https://hg.python.org/cpython/file/2.7/Lib/collections.py#l145\">without accidentally breaking</a> <code>__init__()</code>.</p>\n\n<p>Sometimes, this is inconvenient.  It means that a subclasser has to override every method whose behavior they want to change including <code>get()</code>, <code>update()</code>, and others.  However, there are offsetting benefits (protection of internal invariants, preventing implementation details from leaking from the abstraction, and allowing users to assume the methods are independent of one another).</p>\n\n<p>This style (chosen by Guido from the outset) is the default for the builtin types (otherwise we would forever be fighting segfaulting invariant violations) and for some pure python classes.</p>\n\n<p>We do document when there is a departure from the default.  For example, the <a href=\"https://docs.python.org/3.5/library/cmd.html#cmd-example\">cmd module</a> uses the <a href=\"https://en.wikipedia.org/wiki/Software_framework\">framework design pattern</a>, letting the user define various do_action() methods.  Also, some of the http modules do the same, specifically documenting that a user's <a href=\"https://docs.python.org/2.7/library/simplehttpserver.html#SimpleHTTPServer.SimpleHTTPRequestHandler.do_GET\"><code>do_GET()</code> method</a> is called and that is how you attach customized HTTP event handlers.</p>\n\n<p>In the absence of specifically documented method hooks (i.e. those listed above or methods like <a href=\"https://docs.python.org/3/library/stdtypes.html#mapping-types-dict\"><code>dict.__missing__()</code></a>, a subclasser should presume method independence.  Otherwise, how are you to know whether <code>__getitem__()</code> calls <code>get()</code> under the hood or vice-versa?</p>\n\n<p>FWIW, this isn't unique to Python.  It comes up quite a bit in object oriented programming.  Correctly designed classes either document root methods that affect the behavior of other methods or they are presumed to be independent.</p>\n\n<p>There may need to be a FAQ for this, but nothing is broken or wrong here (other than Python having way too many dict variants to chose from).  If someone mistakenly assumes or believes that <code>__getitem__()</code> must be called by the other accessor methods, they find out very quickly that assumption is wrong (that is if they run even minimal tests on the code).</p>\n"}], "owner": {"reputation": 1388, "user_id": 2430857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cea3490e31b8204334b28a483485363d?s=128&d=identicon&r=PG", "display_name": "Kirk", "link": "https://stackoverflow.com/users/2430857/kirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 2, "accepted_answer_id": 38534939, "answer_count": 1, "score": 6, "last_activity_date": 1615663823, "creation_date": 1468447215, "last_edit_date": 1615663823, "question_id": 38362420, "link": "https://stackoverflow.com/questions/38362420/subclassing-dict-dict-update-returns-incorrrect-value-python-bug", "title": "subclassing dict; dict.update returns incorrrect value - python bug?", "body": "<p>I needed to make a class that extended dict and ran into an interesting problem illustrated by the dumb example in the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0ClOH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ClOH.png\" alt=\"subclassing_dict_problem\"></a></p>\n\n<p>Why is <code>d.update()</code> ignoring the class's <code>__getitem__</code>?</p>\n\n<p>EDIT: This is in python2.7 which does not appear to contain collections.UserDict\nThinking UserDict.UserDict is the equivalent I tried this, and it gets closer, but still behaves interestingly.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2NZd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2NZd7.png\" alt=\"updated to use UserDict\"></a></p>\n"}, {"tags": ["python", "sockets", "docker"], "comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 2, "creation_date": 1468447391, "post_id": 38362415, "comment_id": 64137262, "body": "what is the value of <code>host</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5965023, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSsCZeQBYF8/AAAAAAAAAAI/AAAAAAAAAKU/klmMvJcsFMc/photo.jpg?sz=128", "display_name": "pespinal", "link": "https://stackoverflow.com/users/5965023/pespinal"}, "edited": false, "score": 0, "creation_date": 1468532723, "post_id": 38362668, "comment_id": 64179374, "body": "Thank you so much. I already saw the error. I was reading variables <code>host</code> and <code>port</code> from a configuration file, wich my container is not recognizing. Your answer helped me figure that out!"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 23, "user_id": 5965023, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSsCZeQBYF8/AAAAAAAAAAI/AAAAAAAAAKU/klmMvJcsFMc/photo.jpg?sz=128", "display_name": "pespinal", "link": "https://stackoverflow.com/users/5965023/pespinal"}, "edited": false, "score": 0, "creation_date": 1468587646, "post_id": 38362668, "comment_id": 64201859, "body": "If my answer solved your problem, you should mark it as accepted by clicking the green checkmark to the left. If you find it a useful/well-written answer, then also feel free to upvote it :)"}], "tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": true, "score": 8, "last_activity_date": 1468448502, "creation_date": 1468448502, "answer_id": 38362668, "question_id": 38362415, "link": "https://stackoverflow.com/questions/38362415/how-can-i-connect-to-a-server-using-python-sockets-inside-a-docker-container/38362668#38362668", "title": "How can I connect to a server using python sockets inside a Docker container?", "body": "<p>Unless you've set it up in your <code>/etc/hosts</code> file of your docker container, it's unlikely that you're going to have the proper hostname setup.</p>\n\n<p>Luckily for you, Docker provides a nice way to expose this sort of information between two containers - environment variables. They're automatically exposed when you link two containers.</p>\n\n<p>In one terminal:</p>\n\n<pre><code>$ docker run --name camelot -it -p 5000 --rm python\nPython 3.5.2 (default, Jul  8 2016, 19:17:03) \n[GCC 4.9.2] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import socketserver\n&gt;&gt;&gt; \n&gt;&gt;&gt; class MyHandler(socketserver.BaseRequestHandler):\n...     def handle(self):\n...         self.data = self.request.recv(2048).strip()\n...         print('{} wrote: '.format(self.client_address[0]))\n...         print(self.data)\n...         self.request.sendall(self.data.upper())\n... \n&gt;&gt;&gt; \n&gt;&gt;&gt; server = socketserver.TCPServer(('0.0.0.0', 5000), MyHandler)\n&gt;&gt;&gt; server.serve_forever()\n</code></pre>\n\n<p>In a second:</p>\n\n<pre><code>$ docker run --rm -it --link camelot python\nPython 3.5.2 (default, Jul  8 2016, 19:17:03) \n[GCC 4.9.2] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import os\n&gt;&gt;&gt; import socket\n&gt;&gt;&gt; \n&gt;&gt;&gt; s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n&gt;&gt;&gt; s.connect((os.environ['CAMELOT_PORT_5000_TCP_ADDR'],\n...            int(os.environ['CAMELOT_PORT_5000_TCP_PORT'])))\n&gt;&gt;&gt; s.send(b'Hey dude!')\n9\n&gt;&gt;&gt; print(s.recv(2048))\nb'HEY DUDE!'\n&gt;&gt;&gt; s.close()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5965023, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSsCZeQBYF8/AAAAAAAAAAI/AAAAAAAAAKU/klmMvJcsFMc/photo.jpg?sz=128", "display_name": "pespinal", "link": "https://stackoverflow.com/users/5965023/pespinal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4465, "favorite_count": 1, "accepted_answer_id": 38362668, "answer_count": 1, "score": 2, "last_activity_date": 1468448502, "creation_date": 1468447200, "question_id": 38362415, "link": "https://stackoverflow.com/questions/38362415/how-can-i-connect-to-a-server-using-python-sockets-inside-a-docker-container", "title": "How can I connect to a server using python sockets inside a Docker container?", "body": "<p>I am new to Docker and I am trying to run my python program in a container.</p>\n\n<p>My program needs to connect to a server through a socket in order to work fine.\nI have created my program's docker image and its respective container, but when it gets to the following line it fails, and I have no idea why. </p>\n\n<pre><code> sock.connect((host, port)) \n</code></pre>\n\n<p>It shows this error message: </p>\n\n<blockquote>\n  <p>[Errno -2] Name or service not known</p>\n</blockquote>\n\n<p>It runs just fine outside the containter. I'm probably missing something really obvious but I can't see it. </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "mysql", "class", "optimization", "connection"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1468447303, "post_id": 38362396, "comment_id": 64137233, "body": "You can alternately post this to <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 2565, "user_id": 4733584, "user_type": "registered", "profile_image": "https://graph.facebook.com/883488668361599/picture?type=large", "display_name": "Tushar Niras", "link": "https://stackoverflow.com/users/4733584/tushar-niras"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1468447446, "post_id": 38362396, "comment_id": 64137282, "body": "Whoa!! That&#39;s great!! Thanks Buddy..."}, {"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1468447468, "post_id": 38362396, "comment_id": 64137292, "body": "You&#39;re very welcome :-)"}, {"owner": {"reputation": 2565, "user_id": 4733584, "user_type": "registered", "profile_image": "https://graph.facebook.com/883488668361599/picture?type=large", "display_name": "Tushar Niras", "link": "https://stackoverflow.com/users/4733584/tushar-niras"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1468481856, "post_id": 38362396, "comment_id": 64147603, "body": "Can you suggest for code optimization ? like is this the correct of function-parameters?"}], "owner": {"reputation": 2565, "user_id": 4733584, "user_type": "registered", "profile_image": "https://graph.facebook.com/883488668361599/picture?type=large", "display_name": "Tushar Niras", "link": "https://stackoverflow.com/users/4733584/tushar-niras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1468449042, "creation_date": 1468447133, "last_edit_date": 1468449042, "question_id": 38362396, "link": "https://stackoverflow.com/questions/38362396/need-python-programming-tips", "title": "Need Python Programming Tips", "body": "<p>I'm learning python since last few weeks. For better learning, I decided to work on some project. So here is my Class for MySQL connection and demo example as well. Can you please tell me. What other improvement can be possible for following code?</p>\n\n<ul>\n<li>Structure?</li>\n<li>What else I can do to optimize code?</li>\n</ul>\n\n<p>And Please forgive. If I'm doing some silly mistakes in code. (I'm learning)</p>\n\n<pre><code>#!/usr/bin/python\nimport pymysql\n\n# select (table, parameter)\n# insert (table, data)\n# update (table, id, data)\n# delete (table, id)\n\nclass MySQL:\n    def __init__(self):\n        self.sort_by = \"\"\n        self.order = \"\"\n        # initiate database connection.\n        self.connection = pymysql.connect(host='localhost',\n                             user='root',\n                             password='',\n                             db='sherlock',\n                             charset='utf8mb4')\n\n        self.cursor = self.connection.cursor(pymysql.cursors.DictCursor)\n    # this function is for selecting any feild on any table.(feilds veriable is optinal)     \n    def select(self, table, *feilds):\n        flds = \"\" #differnt name for feilds veriable.\n        if not feilds:\n            flds = '*'\n        else:\n            for f in feilds:\n                if not flds:\n                    flds = f\n                else:\n                    flds += \",`%s`\" % f\n        sql = \"SELECT %s FROM `%s` \" % (flds, table)\n        if self.sort_by:\n            sql = sql +\"order by \"+ str(self.sort_by) +\" \"+ str(self.order)\n        print sql\n        self.cursor.execute(sql)\n        result = self.cursor.fetchall()\n        return result    \n\n    # This function is for data sorting for Mysql; but optinal.\n    # example : SELECT * FROM `users`  order by id asc\n    def order_by(self, sort_by=\"\", order=\"\", *args, **kwargs):\n        self.sort_by = sort_by\n        self.order = order\n\n    # this function is for closing Mysql connection\n    def close(self):\n        self.connection.close()\n\n########### END OF MySQL CLASS #############\n\n\nsql = MySQL()\n\n# sql.order_by function should be called before the sql.select() function.\nsql.order_by(\"email\")\n\n# this will select all the feilds from `users` table.\n# you can specify whichever feilds you want to return. like : sql.select(\"users\", \"id, email\")\nresult = sql.select(\"users\", \"password\")\n\nfor email in result:\n    print email[\"password\"]\nsql.close()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "generator", "itertools", "cartesian-product"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 5708969, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cb957c759d945b24731a7f67a1dba5e?s=128&d=identicon&r=PG&f=1", "display_name": "CannedSpinach", "link": "https://stackoverflow.com/users/5708969/cannedspinach"}, "edited": false, "score": 0, "creation_date": 1468447451, "post_id": 38362395, "comment_id": 64137285, "body": "Using the asterisk to separate elements works perfectly, but the second part of your answer returns a TypeError: &#39;int&#39; object is not iterable."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 105, "user_id": 5708969, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cb957c759d945b24731a7f67a1dba5e?s=128&d=identicon&r=PG&f=1", "display_name": "CannedSpinach", "link": "https://stackoverflow.com/users/5708969/cannedspinach"}, "edited": false, "score": 1, "creation_date": 1468447875, "post_id": 38362395, "comment_id": 64137439, "body": "@CannedSpinach: That shouldn&#39;t happen. I did miss that it returns an iterator of tuples instead of lists (which you can <a href=\"http://ideone.com/X53U7S\" rel=\"nofollow noreferrer\">fix</a> with another <code>map</code> call), but even the version with tuples <a href=\"http://ideone.com/eKMOkj\" rel=\"nofollow noreferrer\">doesn&#39;t raise a TypeError</a>."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 7, "last_activity_date": 1468447815, "last_edit_date": 1468447815, "creation_date": 1468447128, "answer_id": 38362395, "question_id": 38362368, "link": "https://stackoverflow.com/questions/38362368/using-itertools-product-in-place-of-double-nested-for-loop-in-python-3/38362395#38362395", "title": "Using itertools.product in place of double-nested for loop in Python 3", "body": "<p>You need to pass the elements of the <code>map</code> iterator to <code>product</code> separately with <code>*</code>:</p>\n\n<pre><code>for x, y, z in product(*map(range, l))\n</code></pre>\n\n<p>Incidentally, with another <code>map</code> call, you could save another line, skip the overhead of a Python generator, and do all the work in C:</p>\n\n<pre><code>def gen(l):\n    return map(list, product(*map(range, l)))\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 5708969, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cb957c759d945b24731a7f67a1dba5e?s=128&d=identicon&r=PG&f=1", "display_name": "CannedSpinach", "link": "https://stackoverflow.com/users/5708969/cannedspinach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1366, "favorite_count": 0, "accepted_answer_id": 38362395, "answer_count": 1, "score": 4, "last_activity_date": 1468447815, "creation_date": 1468446933, "question_id": 38362368, "link": "https://stackoverflow.com/questions/38362368/using-itertools-product-in-place-of-double-nested-for-loop-in-python-3", "title": "Using itertools.product in place of double-nested for loop in Python 3", "body": "<p>The following code works, but appears verbose. </p>\n\n<pre><code>def gen(l):\n    for x in range(l[0]):\n        for y in range(l[1]):\n            for z in range(l[2]):\n                yield [x, y, z]\nl = [1, 2, 3]\nprint(list(gen(l)))\n\n&gt;&gt;&gt;[[0, 0, 0], [0, 0, 1], [0, 0, 2], [0, 1, 0], [0, 1, 1], [0, 1, 2]]\n</code></pre>\n\n<p>My intention was to cut down on LOC with itertools.product. Here's what I came up with. </p>\n\n<pre><code>from itertools import product\ndef gen(l):\n    for x, y, z in product(map(range, l)):\n        yield [x, y, z]\nl = [1, 2, 3]\nprint(list(gen(l)))\n\nValueError: not enough values to unpack (expected 3, got 1)\n</code></pre>\n\n<p>Is there a different way to use itertools.product so that there are enough values to unpack? </p>\n"}, {"tags": ["python", "class", "instance", "subobject"], "answers": [{"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": false, "score": 0, "last_activity_date": 1468448620, "creation_date": 1468448620, "answer_id": 38362691, "question_id": 38362338, "link": "https://stackoverflow.com/questions/38362338/split-big-object-into-smaller-sub-objects-in-instance/38362691#38362691", "title": "Split big object into smaller sub objects in instance", "body": "<p>If you use large numbers of instances, you can used <a href=\"https://docs.python.org/2/reference/datamodel.html?highlight=__slots__#slots\" rel=\"nofollow\"><strong>slots</strong></a> to reduce memory footprint.</p>\n"}], "owner": {"reputation": 13, "user_id": 5848048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9efa65797e9299d07398bebe384b6c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Wolf82", "link": "https://stackoverflow.com/users/5848048/wolf82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468448620, "creation_date": 1468446816, "question_id": 38362338, "link": "https://stackoverflow.com/questions/38362338/split-big-object-into-smaller-sub-objects-in-instance", "title": "Split big object into smaller sub objects in instance", "body": "<p>What is the pythonic way to handle large objects? In my example I could have one big class creating one instance with many attributes or I could group some of them together (See class Car and class Motor):</p>\n\n<pre><code>class Car(object):\n\n    color = \"red\"\n\n    def __init__(self, num_wheels):\n        self.burst = Motor(self)\n        self.wheels = num_wheels\n        for i in range(self.wheels):\n            setattr(self, \"wheel{}\".format(i), Wheel(self, i))\n\n    def _query(self, value):\n        print \"Get Serial Data: {}\".format(value)\n\n\nclass Motor(object):  # Object is loaded only once in Car instance\n\n    def __init__(self, top):\n        self._top = top\n\n    def temperature(self):\n        return self._top._query(\"GET MOTOR TEMP\")\n\n    def rpm(self):\n        return self._top._query(\"GET MOTOR RPM\")\n\n\nclass Wheel(object):  # Object could be loaded many times in Car instance\n\n    def __init__(self, top, number):\n        self._top = top\n        self._number = number\n\n    def temperature(self):\n        return self._top._query(\"GET WHEEL TEMP {}\".format(self._number))\n\n    def rpm(self):\n        return self._top._query(\"GET WHEEL RPM {}\".format(self._number))\n</code></pre>\n\n<p>I think this even makes more sense, when the Car has more than one wheel, as I could add more wheels.</p>\n\n<p>But since Motor is never used more than once and never used else where, is it better style to put them into the Car class:</p>\n\n<pre><code>class Car(object):\n\n    color = \"red\"\n\n    def __init__(self, num_wheels):\n        # Add wheels or other stuff\n\n    def _query(self, value):\n        print \"Get Serial Data: {}\".format(value)\n\n\n    def motor_temperature(self):\n        return self._query(\"GET MOTOR TEMP\")\n\n    def motor_rpm(self):\n        return self.._query(\"GET MOTOR RPM\")\n</code></pre>\n\n<p>I will have to access Car._query() from the Wheel and/or Motor class and my real life object contains about 40 attributes and methods I could group in 4-5 sub instances. Couldn't find much on this topic on the web.</p>\n"}, {"tags": ["python", "windows", "python-2.7", "pillow", "inkscape"], "owner": {"reputation": 31, "user_id": 4036489, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cf056d49d8f45a319be0da06bfbba241?s=128&d=identicon&r=PG&f=1", "display_name": "youngpadwan", "link": "https://stackoverflow.com/users/4036489/youngpadwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1468447105, "creation_date": 1468446699, "last_edit_date": 1468447105, "question_id": 38362320, "link": "https://stackoverflow.com/questions/38362320/importerror-the-imaging-c-module-is-not-installed-windows-7-python-2-7-alre", "title": "ImportError: The _imaging C module is not installed (Windows 7, python 2.7, already installed pillow with pip)", "body": "<p>Specs: \n - 32 bit python 2.7.12\n - Anaconda 4.1.1 (32 bit)\n - pillow 3.3.0\n - Windows 7</p>\n\n<p>I keep getting the error </p>\n\n<pre><code>ImportError: The _imaging C module is not installed\n</code></pre>\n\n<p>when trying to run a plugin in inkscape, so I looked up this tutorial (<a href=\"http://effbot.org/zone/pil-imaging-not-installed.htm\" rel=\"nofollow\">http://effbot.org/zone/pil-imaging-not-installed.htm</a>) and went through the steps.</p>\n\n<p>The second step was to type \"python -v\" into the terminal and then trying to import Image. Whenever I tried to import it, I would get the error</p>\n\n<pre><code>ImportError: No module named image\n</code></pre>\n\n<p>I checked sys.path, and C:\\Users\\Me\\Anaconda\\lib\\site-packages (which is where the PIL folder is) is there.</p>\n\n<p>What else can I do to eventually allow my inkscape plugin to work?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 2, "creation_date": 1468446836, "post_id": 38362278, "comment_id": 64137043, "body": "Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> containing a small dataset that produces the error?"}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 6395612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/442df50833a1e89314b44a4109306c47?s=128&d=identicon&r=PG&f=1", "display_name": "MathLal", "link": "https://stackoverflow.com/users/6395612/mathlal"}, "edited": false, "score": 0, "creation_date": 1468510948, "post_id": 38362682, "comment_id": 64167234, "body": "That would be in last resort but considering Your example... Is there a way to code it like this:     pd.DataFrame(np.arange(8).reshape(2,4, columns=(<code>A</code>) I don&#39;t mind what the others columns name are.... Thanks"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 301, "user_id": 6395612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/442df50833a1e89314b44a4109306c47?s=128&d=identicon&r=PG&f=1", "display_name": "MathLal", "link": "https://stackoverflow.com/users/6395612/mathlal"}, "edited": false, "score": 0, "creation_date": 1468520479, "post_id": 38362682, "comment_id": 64172785, "body": "@MathieuL&#39;Allier Updated post.  I addressed your comment towards the end of the post."}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1468520572, "post_id": 38362682, "comment_id": 64172829, "body": "I agree. Is there a good reason for not using rename afterwards?"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1468520452, "last_edit_date": 1468520452, "creation_date": 1468448569, "answer_id": 38362682, "question_id": 38362278, "link": "https://stackoverflow.com/questions/38362278/pandas-dataframe-naming-only-1-column/38362682#38362682", "title": "Pandas DataFrame naming only 1 column", "body": "<p>Consider the <code>df</code>:</p>\n\n<pre><code>df = pd.DataFrame(np.arange(8).reshape(2, 4), columns=list('ABCD'))\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hJQ0r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hJQ0r.png\" alt=\"enter image description here\"></a></p>\n\n<p>then use <code>rename</code> and pass a dictionary with the name changes to the argument <code>columns</code>:</p>\n\n<pre><code>df.rename(columns=dict(A='a', B='b'))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/q6VsL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q6VsL.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Instantiating a DataFrame while only naming a subset of the columns</h3>\n\n<p>When constructing a dataframe with <code>pd.DataFrame</code>, you either don't pass an index/columns argument and let pandas auto-generate the index/columns object, or you pass one in yourself.  If you pass it in yourself, it must match the dimensions of your data.  The trouble of mimicking the auto-generation of pandas while augmenting just the ones you want is not worth the trouble and is ugly and is probably non-performant.  In other words, I can't even think of a good reason to do it.</p>\n\n<p>On the other hand, it is super easy to rename the columns/index values.  In fact, we can rename just a few.  I think below is more in line with the spirit of your question:</p>\n\n<pre><code>df = pd.DataFrame(np.arange(8).reshape(2, 4)).rename(columns=str).rename(columns={'1': 'A', '3': 'F'})\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kzC4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kzC4a.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 301, "user_id": 6395612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/442df50833a1e89314b44a4109306c47?s=128&d=identicon&r=PG&f=1", "display_name": "MathLal", "link": "https://stackoverflow.com/users/6395612/mathlal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 38362682, "answer_count": 1, "score": 1, "last_activity_date": 1468520452, "creation_date": 1468446516, "last_edit_date": 1468446810, "question_id": 38362278, "link": "https://stackoverflow.com/questions/38362278/pandas-dataframe-naming-only-1-column", "title": "Pandas DataFrame naming only 1 column", "body": "<p>Is there a way with Pandas Dataframe to name only the first or first and second column even if there's 4 columns :</p>\n\n<p>Here</p>\n\n<pre><code>for x in range(1, len(table2_query) + 1):\n    if x == 1:\n        cursor.execute(table2_query[x])\n        df = pd.DataFrame(data=cursor.fetchall(), columns=['Q', col_name[x-1]])\n</code></pre>\n\n<p>and it gives me this :</p>\n\n<blockquote>\n  <p>AssertionError: 2 columns passed, passed data had 4 columns</p>\n</blockquote>\n"}, {"tags": ["python", "icecast"], "owner": {"reputation": 21, "user_id": 6569802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07af67bbc77265c7dd64f04713fd329f?s=128&d=identicon&r=PG&f=1", "display_name": "Carter Temm", "link": "https://stackoverflow.com/users/6569802/carter-temm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1468446452, "creation_date": 1468446452, "question_id": 38362262, "link": "https://stackoverflow.com/questions/38362262/streaming-to-ice-cast-server-using-python", "title": "streaming to ice cast server using python?", "body": "<p>When searching, I was unable to find something that would perform this function. I would like to start an icecast2 stream using python. Has this ever been tried before. and if so, how?\nthanks for responses</p>\n"}, {"tags": ["python", "python-2.7", "pylint", "tox"], "comments": [{"owner": {"reputation": 11423, "user_id": 853679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f95d3cf5265257cd964fc776cf0beb0?s=128&d=identicon&r=PG", "display_name": "sthenault", "link": "https://stackoverflow.com/users/853679/sthenault"}, "edited": false, "score": 0, "creation_date": 1468908181, "post_id": 38362242, "comment_id": 64306074, "body": "I don&#39;t think it exists but you may still submit a feature request on github (<a href=\"https://github.com/PyCQA/pylint/issues\" rel=\"nofollow noreferrer\">github.com/PyCQA/pylint/issues</a>)"}], "owner": {"reputation": 3897, "user_id": 1029816, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ec602a0a742941e5337ae322ddf40da?s=128&d=identicon&r=PG", "display_name": "Ahmet DAL", "link": "https://stackoverflow.com/users/1029816/ahmet-dal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 693, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1468526989, "creation_date": 1468446381, "last_edit_date": 1468526989, "question_id": 38362242, "link": "https://stackoverflow.com/questions/38362242/pylint-code-rating-fail-under", "title": "Pylint code rating fail under", "body": "<p>I am building a <code>tox</code> file includes testing, coverage and running pylint. As you may know, pylint generates reports at the end of it includes code rating. </p>\n\n<p>I want pylint not to break my tox build when the rating is over a score same as <code>--cov-fail-under</code> argument of <code>pytest-cov</code> package. By the way, there are two seperate pylint tasks which are for errors and general code rating. Of course I can't ignore pylint for errors. My need is for general code rating.</p>\n\n<pre><code>[testenv:pylint-code-quality]\nbasepython = python2.7\ndeps =\n    pylint\n    -retc/requirements/dev.txt\ncommands = pylint my_path -f colorized\n\n\n[testenv:pylint-errors]\nbasepython = python2.7\ndeps =\n    pylint\n    -retc/requirements/dev.txt\ncommands = pylint my_path -f colorized --disable R,C,W\n</code></pre>\n\n<p>Is there a way to do it in pylint?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-ec2", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 5350, "user_id": 4282745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a33f17c0a1e9b75aa7b2551f23a1a5a?s=128&d=identicon&r=PG&f=1", "display_name": "pfm", "link": "https://stackoverflow.com/users/4282745/pfm"}, "is_accepted": false, "score": 0, "last_activity_date": 1499459766, "creation_date": 1499459766, "answer_id": 44979229, "question_id": 38362217, "link": "https://stackoverflow.com/questions/38362217/how-to-run-tensorflow-on-an-aws-cluster/44979229#44979229", "title": "How to run TensorFlow on an AWS cluster?", "body": "<p>Since your question, AWS has released some code to ease the use of distributed TensorFlow on an EC2 cluster.   </p>\n\n<p>See this <a href=\"https://github.com/awslabs/deeplearning-cfn\" rel=\"nofollow noreferrer\">github repository</a>. Everything is described in the README.md but the short story is that, it will create an AWS stack with</p>\n\n<ul>\n<li>Security Groups</li>\n<li>Elastic File System</li>\n<li>EC2 instances with the AWS deeplearning AMI and the EFS mounted on them,</li>\n<li>The EC2 instances will be configured so you can easily run a distributed tensorflow run by running a command on the master node (see the Running Distributed Training on TensorFlow section).</li>\n</ul>\n"}], "owner": {"reputation": 797, "user_id": 6586428, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/N8QdB.png?s=128&g=1", "display_name": "charmander", "link": "https://stackoverflow.com/users/6586428/charmander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1602, "favorite_count": 0, "answer_count": 1, "score": 13, "last_activity_date": 1499459766, "creation_date": 1468446262, "question_id": 38362217, "link": "https://stackoverflow.com/questions/38362217/how-to-run-tensorflow-on-an-aws-cluster", "title": "How to run TensorFlow on an AWS cluster?", "body": "<p>I'm trying to run distributed tensorflow on an EMR/EC2 cluster but I don't know how to specify different instances in the cluster to run parts of the code. </p>\n\n<p>In the documentation, they've used <code>tf.device(\"/gpu:0\")</code> to specify a gpu. But what if I have a master CPU and 5 different slave GPU instances running in an EMR cluster and I want to specify those GPUs to run some code? I can't input <code>tf.device()</code> with the public DNS names of the instances because it throws an error saying the name cannot be resolved.</p>\n"}, {"tags": ["python", "mapreduce"], "comments": [{"owner": {"reputation": 2234, "user_id": 2757226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwnbH.jpg?s=128&g=1", "display_name": "chapelo", "link": "https://stackoverflow.com/users/2757226/chapelo"}, "edited": false, "score": 1, "creation_date": 1468447163, "post_id": 38362198, "comment_id": 64137170, "body": "<code>functools.reduce(reduce_func, p.map(map_func, data))</code> produces a list of numbers 0 to 9, the randomness depends on the order multiprocessing is mapping the data."}], "answers": [{"tags": [], "owner": {"reputation": 2234, "user_id": 2757226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwnbH.jpg?s=128&g=1", "display_name": "chapelo", "link": "https://stackoverflow.com/users/2757226/chapelo"}, "is_accepted": false, "score": 1, "last_activity_date": 1468449083, "creation_date": 1468449083, "answer_id": 38362783, "question_id": 38362198, "link": "https://stackoverflow.com/questions/38362198/map-reduce-with-multiprocessing/38362783#38362783", "title": "Map Reduce with multiprocessing", "body": "<p>According to the documentation, <code>multiprocessing.Pool.map()</code> blocks until the result is ready. Randomness is not possible. To achieve a random processing order, use the <code>imap_unordered()</code> method:</p>\n\n<pre><code>from functools import reduce\n\nresult = p.imap_unordered(map_func, data)\nfinal_result = reduce(reduce_func, result)\n\n# Three different runs:\n# [0, 1, 4, 5, 2, 6, 8, 9, 7, 3]\n# [0, 1, 4, 5, 2, 3, 8, 7, 6, 9]\n# [0, 1, 2, 5, 6, 7, 8, 4, 3, 9]\n</code></pre>\n"}], "owner": {"reputation": 10990, "user_id": 1545917, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/o9dcW.png?s=128&g=1", "display_name": "Ghilas BELHADJ", "link": "https://stackoverflow.com/users/1545917/ghilas-belhadj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3274, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1468449083, "creation_date": 1468446185, "last_edit_date": 1468447220, "question_id": 38362198, "link": "https://stackoverflow.com/questions/38362198/map-reduce-with-multiprocessing", "title": "Map Reduce with multiprocessing", "body": "<pre><code>import multiprocessing\n\ndata = range(10)\n\ndef map_func(i):\n    return [i]\n\ndef reduce_func(a,b):\n    return a+b\n\np = multiprocessing.Pool(processes=4)\np.map(map_func, data)\n</code></pre>\n\n<p>How can I use <code>reduce_func()</code> as a reduce function for the paralelised <code>map_func()</code>.</p>\n\n<p>Here is a <code>pySpark</code> example of what I want to do:</p>\n\n<pre><code>rdd = sc.parallelize(data)\nresult = rdd.map(map_func)\nfinal_result = result.reduce(reduce_func)\n</code></pre>\n"}, {"tags": ["python", "soap", "soap-client", "python-3.5"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6558192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1117914841564768/picture?type=large", "display_name": "Diego Astiazar&#225;n", "link": "https://stackoverflow.com/users/6558192/diego-astiazar%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1470240845, "post_id": 38725082, "comment_id": 64871334, "body": "It says &quot;SOAP headers are generally used for things like authentication&quot;, soooo is it used for this, I don&#180;t know a lot about web services, so a little help or explanation about this could be needed please. Thanks!"}, {"owner": {"reputation": 63, "user_id": 6558192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1117914841564768/picture?type=large", "display_name": "Diego Astiazar&#225;n", "link": "https://stackoverflow.com/users/6558192/diego-astiazar%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1470241316, "post_id": 38725082, "comment_id": 64871656, "body": "Tried what you did: <code>intProp_type = client.get_type(&#39;ns17:IntProp&#39;)       \tintProp = intProp_type(name = &quot;slots&quot;, value = 56)</code> but it didn&#180;t work, an error appears: KeyError: &quot;No type &#39;IntProp&#39; in namespace <a href=\"http://schemas.hp.com/ucmdb/ui/1/types\" rel=\"nofollow noreferrer\">schemas.hp.com/ucmdb/ui/1/types</a>. Available types are: {<a href=\"http://schemas.hp.com/ucmdb/ui/1/types\" rel=\"nofollow noreferrer\">schemas.hp.com/ucmdb/ui/1/types</a>}ClassNameAndIcons, {<a href=\"http://schemas.hp.com/ucmdb/ui/1/types\" rel=\"nofollow noreferrer\">schemas.hp.com/ucmdb/ui/1/types</a>}ClassNameAndIcon&quot;"}, {"owner": {"reputation": 63, "user_id": 6558192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1117914841564768/picture?type=large", "display_name": "Diego Astiazar&#225;n", "link": "https://stackoverflow.com/users/6558192/diego-astiazar%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1470241734, "post_id": 38725082, "comment_id": 64871904, "body": "Can you explain me what is the method &quot;client.service.create&quot; for?"}, {"owner": {"reputation": 116, "user_id": 6668537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c394564b6a28c4615184516aa772277?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Laurent", "link": "https://stackoverflow.com/users/6668537/bo-laurent"}, "reply_to_user": {"reputation": 63, "user_id": 6558192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1117914841564768/picture?type=large", "display_name": "Diego Astiazar&#225;n", "link": "https://stackoverflow.com/users/6558192/diego-astiazar%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1470435801, "post_id": 38725082, "comment_id": 64967351, "body": "&quot;client.service.create&quot; invokes the create method (as defined by the wsdl). There may or may not be such a method in your wsdl. It looks as if your wsdl does <i>not</i> contain a type &#39;ns17:IntProp&#39;.  You can examine what is in your wsdl as follows:  python -mzeep &lt;wsdl&gt;"}], "tags": [], "owner": {"reputation": 116, "user_id": 6668537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c394564b6a28c4615184516aa772277?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Laurent", "link": "https://stackoverflow.com/users/6668537/bo-laurent"}, "is_accepted": true, "score": 0, "last_activity_date": 1470152781, "creation_date": 1470152781, "answer_id": 38725082, "question_id": 38362158, "link": "https://stackoverflow.com/questions/38362158/how-to-create-complex-arguments-with-zeep-soap-client-for-python-and-nest-data/38725082#38725082", "title": "How to create complex arguments with Zeep (SOAP client for Python) and nest data?", "body": "<p>Have a look at the section \"Using SOAP headers\" in <a href=\"http://docs.python-zeep.org/en/latest/in-depth.html\" rel=\"nofollow\">http://docs.python-zeep.org/en/latest/in-depth.html</a>.</p>\n\n<p>I was able to use that info to write a script that integrates with Zuora, and needs complex types in the Soap Header. See <a href=\"http://community.zuora.com/t5/API/Python-quickstart/m-p/10779/highlight/true#M403\" rel=\"nofollow\">http://community.zuora.com/t5/API/Python-quickstart/m-p/10779/highlight/true#M403</a></p>\n"}], "owner": {"reputation": 63, "user_id": 6558192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1117914841564768/picture?type=large", "display_name": "Diego Astiazar&#225;n", "link": "https://stackoverflow.com/users/6558192/diego-astiazar%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3822, "favorite_count": 2, "accepted_answer_id": 38725082, "answer_count": 1, "score": 5, "last_activity_date": 1470152781, "creation_date": 1468446009, "question_id": 38362158, "link": "https://stackoverflow.com/questions/38362158/how-to-create-complex-arguments-with-zeep-soap-client-for-python-and-nest-data", "title": "How to create complex arguments with Zeep (SOAP client for Python) and nest data?", "body": "<p>I need to pass some nested data to my SOAP client, I think I know how to create the complex arguments...</p>\n\n<pre><code>id = ucmdb.get_type('ns17:ID')\n</code></pre>\n\n<p>Now I want to give some \"arguments\" to this 'ci', how can I do this?\nI'll show what I mean with an example using the old Suds which I know how to use:</p>\n\n<pre><code>id = ucmdb.factory.create('ns17:ID') #complex\nid._temp = \"true\" #first \"argument\"\nid.value = dict['logical_name'] #second \"argument\"\n</code></pre>\n\n<p>How can I do that with Zeep?</p>\n"}, {"tags": ["python", "simplehttpserver"], "answers": [{"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": true, "score": 1, "last_activity_date": 1468447387, "creation_date": 1468447387, "answer_id": 38362463, "question_id": 38362148, "link": "https://stackoverflow.com/questions/38362148/python-simplehttpserver-serve-a-subdirectory/38362463#38362463", "title": "Python SimpleHTTPServer serve a subdirectory", "body": "<p>Well, to serve the parent directory, just change the current working directory before running your Python script (<code>python -m SimpleHTTPServer 5002</code>).</p>\n\n<p>You can write your own script, eg.: 'my_server.py':</p>\n\n<pre><code>import SimpleHTTPServer\nimport os\n\n\ndef main():\n    pwd = os.getcwd()\n    try:\n        os.chdir(\"..\")  # or any path you like\n        SimpleHTTPServer.test()\n    finally:\n        os.chdir(pwd)\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>Then run 'my_server.py':</p>\n\n<pre><code>python -m my_server 5002\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 231, "user_id": 2628864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ceP4nmiRedY/AAAAAAAAAAI/AAAAAAAB4wE/lr0nHdd6iTE/photo.jpg?sz=128", "display_name": "Vin&#237;cius M", "link": "https://stackoverflow.com/users/2628864/vin%c3%adcius-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1584121549, "last_edit_date": 1584121549, "creation_date": 1584033497, "answer_id": 60658958, "question_id": 38362148, "link": "https://stackoverflow.com/questions/38362148/python-simplehttpserver-serve-a-subdirectory/60658958#60658958", "title": "Python SimpleHTTPServer serve a subdirectory", "body": "<p>If you're calling it from shell, you can just use shell features and do:  </p>\n\n<p>For Python 2:\n</p>\n\n<pre><code>pushd /path/you/want/to/serve; python -m SimpleHTTPServer; popd\n</code></pre>\n\n<p>For Python 3.6 you don't even need to do that.<br>\nThere's a directory argument to <code>http.server</code>, so just do:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>python3 -m http.server -d /path/you/want/to/serve\n</code></pre>\n\n<hr>\n\n<p>However, if you want to call it programatically, the solution proposed by <a href=\"https://stackoverflow.com/users/1240268/andy-hayden\">Andy Hayden</a> on \"<a href=\"https://stackoverflow.com/a/52531444/2628864\">How to run a http server which serves a specific path?</a>\" seems more appropriate.<br>\n(It's less 'hacky'/ dependent on side effects, and uses the class constructor instead.)</p>\n\n<p>Goes like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import http.server\nimport socketserver\n\nPORT = 8000\nDIRECTORY = \"web\"\n\n\nclass Handler(http.server.SimpleHTTPRequestHandler):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, directory=DIRECTORY, **kwargs)\n\n\nwith socketserver.TCPServer((\"\", PORT), Handler) as httpd:\n    print(\"serving at port\", PORT)\n    httpd.serve_forever()\n</code></pre>\n\n<p>The code above works for Python >= 3.6<br>\nFor Python up to 3.5, there was no contextmanager protocol available for TCPServer's base class, but that just means you need to change the <code>with</code> statement and turning it into a plain assignment:</p>\n\n<pre><code>httpd = socketserver.TCPServer((\"\", PORT), Handler)\n</code></pre>\n\n<p>Credits to <a href=\"https://stackoverflow.com/users/812183/anthony-sottile\">Anthony Sottile</a> for this <a href=\"https://stackoverflow.com/questions/46396575/cannot-run-python3-httpserver-on-arm-processor\">last detail</a>.</p>\n"}], "owner": {"reputation": 15947, "user_id": 1327651, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZDXNZ.png?s=128&g=1", "display_name": "nha", "link": "https://stackoverflow.com/users/1327651/nha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1848, "favorite_count": 1, "accepted_answer_id": 38362463, "answer_count": 2, "score": 2, "last_activity_date": 1584121549, "creation_date": 1468445946, "question_id": 38362148, "link": "https://stackoverflow.com/questions/38362148/python-simplehttpserver-serve-a-subdirectory", "title": "Python SimpleHTTPServer serve a subdirectory", "body": "<p>Is it possible to serve a subdirectory instead of the current directory with SimpleHTTPServer ?</p>\n\n<p>I use it from the command-line like so:</p>\n\n<pre><code>python -m SimpleHTTPServer 5002\n</code></pre>\n\n<p>The reason I would like to use this is that I have a <code>target</code> folder which I delete from time to time and is regenerated by my tooling. However when I do that I need to restart the SimpleHTTPServer as well. I think that serving it from the parent repository would allow me not to restart it.</p>\n"}, {"tags": ["python", "gnuplot"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 2757393, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/62f1da0ddaf7e466b2b9c10a5a76243d?s=128&d=identicon&r=PG&f=1", "display_name": "thelma", "link": "https://stackoverflow.com/users/2757393/thelma"}, "edited": false, "score": 0, "creation_date": 1468585028, "post_id": 38395159, "comment_id": 64200117, "body": "This removes the error in the Python code, but the change in font size still doesn&#39;t happen."}, {"owner": {"reputation": 179, "user_id": 2757393, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/62f1da0ddaf7e466b2b9c10a5a76243d?s=128&d=identicon&r=PG&f=1", "display_name": "thelma", "link": "https://stackoverflow.com/users/2757393/thelma"}, "edited": false, "score": 0, "creation_date": 1468642766, "post_id": 38395159, "comment_id": 64223601, "body": "Christoph, your solution worked only after I specified a font.g(&#39;set title &quot;eta_n as a Function of Time&quot; font &quot;courier,18&quot;&#39;)"}], "tags": [], "owner": {"reputation": 44000, "user_id": 2604213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O7ThK.png?s=128&g=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/2604213/christoph"}, "is_accepted": true, "score": 1, "last_activity_date": 1468582612, "creation_date": 1468582612, "answer_id": 38395159, "question_id": 38362075, "link": "https://stackoverflow.com/questions/38362075/how-do-i-set-font-size-of-the-figure-title-in-gnuplot-py/38395159#38395159", "title": "How do I set font size of the figure title in gnuplot-py?", "body": "<p><code>gnuplot-py</code> uses a very old syntax for setting the title's font which was already deprecated with version 4.4. Until version 4.6 this syntax could be enabled using a flag at compile time, but since version 5.0 the syntax isn't supported any more.</p>\n\n<p>You must send the complete command to get it working:</p>\n\n<pre><code>g('set title \"eta_n as a Function of Time\" font \",18\"')\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 2757393, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/62f1da0ddaf7e466b2b9c10a5a76243d?s=128&d=identicon&r=PG&f=1", "display_name": "thelma", "link": "https://stackoverflow.com/users/2757393/thelma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 38395159, "answer_count": 1, "score": 3, "last_activity_date": 1468582612, "creation_date": 1468445615, "last_edit_date": 1468582243, "question_id": 38362075, "link": "https://stackoverflow.com/questions/38362075/how-do-i-set-font-size-of-the-figure-title-in-gnuplot-py", "title": "How do I set font size of the figure title in gnuplot-py?", "body": "<p>I have a working plot with this title:</p>\n\n<pre><code>g.title('eta_n as a Function of Time')\n</code></pre>\n\n<p>The default font size is fine for axis labels, but I want a larger size for the plot title.</p>\n\n<pre><code>g.title('eta_n as a Function of Time', font=',18') failed.\n</code></pre>\n\n<p>I'm working on an imac screen with terminal set to 'aqua'.</p>\n"}, {"tags": ["python", "google-cloud-datastore", "google-app-engine-python", "gcloud-python", "google-cloud-python"], "comments": [{"owner": {"reputation": 5284, "user_id": 3953357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f0b6d4522d8c03a21c5c41d5ba5a23?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3953357/adam"}, "edited": false, "score": 0, "creation_date": 1469315851, "post_id": 38362061, "comment_id": 64486327, "body": "Approximately how frequent are the calls to put() and get()?"}], "answers": [{"tags": [], "owner": {"reputation": 5795, "user_id": 254109, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/788da16a4617bd79f2bf91d8dc258455?s=128&d=identicon&r=PG", "display_name": "xmedeko", "link": "https://stackoverflow.com/users/254109/xmedeko"}, "is_accepted": false, "score": 0, "last_activity_date": 1489336666, "creation_date": 1489336666, "answer_id": 42750039, "question_id": 38362061, "link": "https://stackoverflow.com/questions/38362061/google-cloud-datastore-timeout-errors-in-python/42750039#42750039", "title": "Google Cloud Datastore timeout errors in python", "body": "<p>You can use <code>requests</code> or <code>urllib3</code> without any problems, see <a href=\"https://google-auth.readthedocs.io/en/latest/user-guide.html#making-authenticated-requests\" rel=\"nofollow noreferrer\">https://google-auth.readthedocs.io/en/latest/user-guide.html#making-authenticated-requests</a> </p>\n\n<p>AFAIK the requests default timeout is None, so it waits infinitely (until the server closes it.) You can can pass own <code>Session</code> to the <code>AuthorizedSession</code> also, which override the <code>request</code> method and sets the default timeout as you like.</p>\n\n<p>If you still experience the problem, then I recommend some retry mechanism :-) Wath the issue <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-python/issues/2694\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-python/issues/2694</a></p>\n"}], "owner": {"reputation": 51, "user_id": 6586503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28197f324bd3dcd238da2d7a3aa84217?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/6586503/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 851, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1489336666, "creation_date": 1468445561, "last_edit_date": 1475193699, "question_id": 38362061, "link": "https://stackoverflow.com/questions/38362061/google-cloud-datastore-timeout-errors-in-python", "title": "Google Cloud Datastore timeout errors in python", "body": "<p>I have a table in Google Cloud Datastore where I store a small data structure which is written in one Python service and read in another. I am using gcloud version 0.15.0. Here is the Python code that I use to write/read data to/from GCD:</p>\n\n<pre><code>from gcloud import datastore\nimport datetime\nimport json\nclass GCD(object):\ndef __init__(self, project_id):\n    self.client = datastore.Client(project_id)\n\ndef put(self, table, key, data):\n    with self.client.transaction():\n        entity = datastore.Entity(self.client.key(table, key), exclude_from_indexes=['context'])\n        entity.update({'context': json.dumps(data), 'created': datetime.datetime.utcnow(), 'done': True})\n        try:\n            self.client.put(entity)\n        except Exception as e:\n            print \"GCD save failed with exception: %s\" % e\n    return None\n\ndef get(self, table, key):\n    entity_key = self.client.key(table, key)\n    entity = None\n    try:\n        entity = self.client.get(entity_key)\n    except Exception as e:\n        print \"GCD read failed with exception: %s\" % e\n    if not entity:\n        return None\n    else:\n        return json.loads(entity['context'])\n</code></pre>\n\n<p>I am observing a large number of read/write failures with the message \"The read operation timed out\"; >5% failures which is quite contrary to the documentation that mentions an expected failure rate of 1 in 30K.</p>\n\n<p>My questions then are:</p>\n\n<ol>\n<li><p>Is it possible to increase timeout in the datastore.client.get and datastore.client.put calls? I am not looking for answers based on retries; already tried and don't want to depend just on retries.</p></li>\n<li><p>Is there anything I should do when creating the table or setting up the client that can mitigate these timeout errors?</p></li>\n<li><p>I read somewhere (<a href=\"https://github.com/GoogleCloudPlatform/gcloud-python/issues/1214\" rel=\"nofollow\">https://github.com/GoogleCloudPlatform/gcloud-python/issues/1214</a>) that the Python gcloud uses httplib2.Http which is not threadsafe and has timeout issues. Is there a way to use the (more stable) Python requests package?</p></li>\n</ol>\n\n<p>Thanks,</p>\n"}, {"tags": ["python", "numpy", "nan"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1468445814, "post_id": 38362051, "comment_id": 64136616, "body": "Why do you have an array of object dtype?"}, {"owner": {"reputation": 724, "user_id": 2744342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e46375ea8161701c62f0a0e0cde23f0?s=128&d=identicon&r=PG&f=1", "display_name": "Alok--", "link": "https://stackoverflow.com/users/2744342/alok"}, "edited": false, "score": 4, "creation_date": 1468445830, "post_id": 38362051, "comment_id": 64136625, "body": "Your data has <code>dtype=object</code>, you need to convert it to <code>double</code>.  <code>numpy.nan_to_num(Load[:, 1].astype(&#39;d&#39;))</code> works."}], "owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1468445993, "creation_date": 1468445522, "last_edit_date": 1468445993, "question_id": 38362051, "link": "https://stackoverflow.com/questions/38362051/python-numpy-nan-to-num-error", "title": "Python numpy nan to num error", "body": "<p>I have a 2D array which looks something as:</p>\n\n<pre><code>Load\narray([[768.632379, nan],\n       [851.494329, nan],\n       [947.736291, nan],\n       [668.199965, nan],\n       [843.410303, nan],\n       [1022.489209, nan]], dtype=object)\n\ntype(Load)\n&lt;type 'numpy.ndarray'&gt;\n</code></pre>\n\n<p>When I try:</p>\n\n<pre><code>numpy.nan_to_num(Load[:,1])\n</code></pre>\n\n<p>it generates:</p>\n\n<pre><code>array([nan, nan, nan, nan, nan, nan], dtype=object)\n</code></pre>\n\n<p>when I try:</p>\n\n<pre><code>np.nan_to_num(Load)\narray([[768.632379, nan],\n       [851.494329, nan],\n       [947.736291, nan],\n       [668.199965, nan],\n       [837.19925, nan],\n       [1022.489209, nan], dtype=object)\n</code></pre>\n\n<p>I want to convert all the nan in the second column of Load array to 0.</p>\n\n<p>Also:</p>\n\n<pre><code>type(Load[0,1])\n&lt;type 'float'&gt;\n</code></pre>\n\n<p>Edit: I am reading data from a csv file using pandas so it creates objects there.</p>\n"}, {"tags": ["python", "string"], "answers": [{"tags": [], "owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "is_accepted": true, "score": 2, "last_activity_date": 1468445507, "creation_date": 1468445507, "answer_id": 38362048, "question_id": 38362026, "link": "https://stackoverflow.com/questions/38362026/how-do-i-replace-a-character-in-a-string-that-repeats-many-times-with-a-differen/38362048#38362048", "title": "How do I replace a character in a string that repeats many times with a different character in python?", "body": "<p>Just use <code>str.replace</code>:</p>\n\n<pre><code>text = text.replace('-', 'X')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1124, "user_id": 5199096, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7121c9c8b95b9b4ba519af1d02515dff?s=128&d=identicon&r=PG&f=1", "display_name": "mk8efz", "link": "https://stackoverflow.com/users/5199096/mk8efz"}, "is_accepted": false, "score": 0, "last_activity_date": 1468445930, "creation_date": 1468445930, "answer_id": 38362145, "question_id": 38362026, "link": "https://stackoverflow.com/questions/38362026/how-do-i-replace-a-character-in-a-string-that-repeats-many-times-with-a-differen/38362145#38362145", "title": "How do I replace a character in a string that repeats many times with a different character in python?", "body": "<p>You can parse over the text and do a if/else check - my answer will be a general answer on how to approach the problem - </p>\n\n<p>There are many ways to parse strings, but the \"split\" method is often useful:</p>\n\n<p><a href=\"http://www.tutorialspoint.com/python/string_split.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/python/string_split.htm</a></p>\n\n<p>From there, you can loop through the text and do a check for your character:</p>\n\n<pre><code> for txt in strings:\n     if txt == '-':\n         # execute your code here\n     else:\n         # else statement here\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6586598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c924eaf345bbd4445df9f7e75a740f?s=128&d=identicon&r=PG&f=1", "display_name": "Help Me", "link": "https://stackoverflow.com/users/6586598/help-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 38362048, "answer_count": 2, "score": 2, "last_activity_date": 1491887510, "creation_date": 1468445425, "last_edit_date": 1491887510, "question_id": 38362026, "link": "https://stackoverflow.com/questions/38362026/how-do-i-replace-a-character-in-a-string-that-repeats-many-times-with-a-differen", "title": "How do I replace a character in a string that repeats many times with a different character in python?", "body": "<p>How do I replace a character in a string that repeats many times with a different character in python?</p>\n\n<p>My code has a massive table in it that looks like this:</p>\n\n<pre><code>   A B C D E F G H I J\n\n 1 - - - - - - - - - -\n\n 2 - - - - - - - - - -\n\n 3 - - - - - - - - - -\n\n 4 - - - - - - - - - -\n\n 5 - - - - - - - - - -\n\n 6 - - - - - - - - - -\n\n 7 - - - - - - - - - -\n\n 8 - - - - - - - - - -\n\n 9 - - - - - - - - - -\n\n10 - - - - - - - - - -\n</code></pre>\n\n<p>I want it so that it will replace a \"-\" with a \"X\". Does anyone know how to do this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1468446161, "post_id": 38361968, "comment_id": 64136773, "body": "Show us the code. Just telling us the symptoms of a problem rarely lets us determine what the cause is."}], "owner": {"reputation": 29, "user_id": 6586591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a4892d8a322719c7d6c709c3ead1fb?s=128&d=identicon&r=PG&f=1", "display_name": "JamesVR", "link": "https://stackoverflow.com/users/6586591/jamesvr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1468445162, "creation_date": 1468445162, "question_id": 38361968, "link": "https://stackoverflow.com/questions/38361968/python-odeint-is-passed-non-zero-y-but-returns-zero-y-and-y", "title": "Python ODEINT is passed non-zero y&#39;&#39; but returns zero y&#39; and y", "body": "<p>I am attempting to build a balloon with hanging payload balloon dynamics simulator in Python. I solved the problem by hand first and now am attempting to implement it. I have created a function which serves as my dynamics simulator with three degrees of freedom. When I pass it my initial conditions,</p>\n\n<pre><code>u = [0]*6\nt = 0\n</code></pre>\n\n<p>it returns a non-zero value for all of my second order derivatives. However, when it is plugged into odeint, the third DOF is shown to be zero for all t. However, based on the dynamic simulation for the initial conditions above, the third DOF should experience some change. What is causing this incongruity?</p>\n"}, {"tags": ["python", "excel", "vba", "win32com"], "comments": [{"owner": {"reputation": 852, "user_id": 6563468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4c2119cfc1ee9a6c5deeec2ead9a261?s=128&d=identicon&r=PG&f=1", "display_name": "Logan Reed", "link": "https://stackoverflow.com/users/6563468/logan-reed"}, "edited": false, "score": 0, "creation_date": 1468446752, "post_id": 38361949, "comment_id": 64137002, "body": "<a href=\"http://xlwings.org/\" rel=\"nofollow noreferrer\">xlwings</a> may help."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5965536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zVk4.jpg?s=128&g=1", "display_name": "phtnm28", "link": "https://stackoverflow.com/users/5965536/phtnm28"}, "edited": false, "score": 0, "creation_date": 1468447465, "post_id": 38362340, "comment_id": 64137290, "body": "thank you very much that does seem to try and execute it. However, now I receive the &quot;User-defined type not defined&quot; which I believe is because there is an object that isn&#39;t being referenced. If you don&#39;t mind my follow up question would be how do I add references when executing from Python?"}, {"owner": {"reputation": 35, "user_id": 5965536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zVk4.jpg?s=128&g=1", "display_name": "phtnm28", "link": "https://stackoverflow.com/users/5965536/phtnm28"}, "edited": false, "score": 0, "creation_date": 1468448423, "post_id": 38362340, "comment_id": 64137659, "body": "Is there a way to call out references for my macro within Python?"}, {"owner": {"reputation": 35, "user_id": 5965536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zVk4.jpg?s=128&g=1", "display_name": "phtnm28", "link": "https://stackoverflow.com/users/5965536/phtnm28"}, "edited": false, "score": 0, "creation_date": 1468512023, "post_id": 38362340, "comment_id": 64167999, "body": "Thank you ThunderFrame for the awesome help, I&#39;m sooo close to wrapping this up, I&#39;ve called out all of my references that I need but I&#39;m still receiving a user-defined error and debug is pointing to this piece of code. Set cn = CurrentProject.Connection Set rst = New ADODB.Recordset Dim cn As Object: Set cn = CreateObject(&quot;ADODB.Connection&quot;) Dim rst As New ADODB.Recordset Dim ConnectionString As String  More specifically the ADODB.Recordset but I have &#39;Microsoft ActiveX Data Objects Recordset referenced....any ideas?"}], "tags": [], "owner": {"reputation": 8811, "user_id": 5757159, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/yxD51.png?s=128&g=1", "display_name": "ThunderFrame", "link": "https://stackoverflow.com/users/5757159/thunderframe"}, "is_accepted": true, "score": 1, "last_activity_date": 1468451265, "last_edit_date": 1468451265, "creation_date": 1468446839, "answer_id": 38362340, "question_id": 38361949, "link": "https://stackoverflow.com/questions/38361949/executing-vbascript-from-python/38362340#38362340", "title": "Executing VBAscript from Python", "body": "<p>You should be able to use Excel's <code>Application.Run</code> method:</p>\n\n<pre><code>xl.Run \"Download_Standard_BOM\"\n</code></pre>\n\n<p><strong>EDIT</strong>\nIf you need to refer to ADO, then you can either use late-binding, like this:</p>\n\n<pre><code>Dim cnn As Object 'ADODB.Connection\nDim rst As Object 'ADODB.Recordset\n\nSet cnn = CreateObject(\"ADODB.Connection\")\nSet rst = CreateObject(\"ADODB.Recordset\")\n</code></pre>\n\n<p>Or, use early binding and add a reference to the VBA Project:</p>\n\n<pre><code>ss.VBProject.References.AddFromGuid \"{2A75196C-D9EB-4129-B803-931327F72D5C}\", 2, 8\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5965536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zVk4.jpg?s=128&g=1", "display_name": "phtnm28", "link": "https://stackoverflow.com/users/5965536/phtnm28"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 38362340, "answer_count": 1, "score": 3, "last_activity_date": 1468451265, "creation_date": 1468445093, "question_id": 38361949, "link": "https://stackoverflow.com/questions/38361949/executing-vbascript-from-python", "title": "Executing VBAscript from Python", "body": "<p>I am in need of some help in regards to win32com.client. I have the code working as far as creating the macro from Python and using Excel but I would like this code to also run the vbascript.</p>\n\n<p>Thank you guys for all of your wonderful feedback!</p>\n\n<pre><code>import pyodbc\n\nimport win32com.client as win32\n\nxl = win32.gencache.EnsureDispatch('Excel.Application')\nxl.Visible = True\nss = xl.Workbooks.Add()\nsh = ss.ActiveSheet\n\nxlmodule = ss.VBProject.VBComponents.Add(1)  # vbext_ct_StdModule\n\nsCode = '''Sub Download_Standard_BOM()\n'Initializes variables\nDim cnn As New ADODB.Connection\nDim rst As New ADODB.Recordset\nDim ConnectionString As String\nDim StrQuery As String\n\n    ConnectionString = \"Provider=SQLOLEDB; Network Library=dbmssocn;Password=********;User ID=*******;Initial Catalog=**;Data Source=*************;\"\n\n    cnn.Open ConnectionString\n\n    cnn.CommandTimeout = 900\n\n    StrQuery = \"SELECT * FROM car_search WHERE shop_id = *******\"\n\n    rst.Open StrQuery, cnn\n\n    Sheets(1).Range(\"A2\").CopyFromRecordset rst\nEnd Sub'''\n\nxlmodule.CodeModule.AddFromString(sCode)\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1468445474, "post_id": 38361944, "comment_id": 64136452, "body": "<a href=\"https://github.com/numpy/numpy/issues/5809\" rel=\"nofollow noreferrer\">Did you switch OSes or otherwise move to an environment where Python ints are 32-bit?</a>"}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1468478735, "post_id": 38361944, "comment_id": 64145817, "body": "@user2357112: My guess is that the change from Python(x, y) replaced a 32-bit build of Python with a 64-bit build of Python (both on 64-bit Windows). On a 32-bit Windows build, the 32-bit C <code>long</code> underlying a Python int matches the C <code>ssize_t</code> used for array sizes. On a 64-bit build, we get the mismatch between the 32-bit C <code>long</code> and the 64-bit <code>ssize_t</code>."}], "owner": {"reputation": 31, "user_id": 5104335, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4771hTyGgwk/AAAAAAAAAAI/AAAAAAAAAA0/LLJb7tUb2D0/photo.jpg?sz=128", "display_name": "leka0024", "link": "https://stackoverflow.com/users/5104335/leka0024"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "closed_date": 1468445925, "answer_count": 0, "score": 0, "last_activity_date": 1468445063, "creation_date": 1468445063, "question_id": 38361944, "link": "https://stackoverflow.com/questions/38361944/numpy-shape-incorrectly-giving-l-in-tuple", "closed_reason": "Duplicate", "title": "Numpy shape incorrectly giving L in tuple?", "body": "<p>Removed Python(x,y) and installed Mini-conda. Numpy version is 1.11.1.</p>\n\n<pre><code>A = np.array([1,1,1])\n\nA\narray([1, 1, 1])\n\nA.dtype\ndtype('int32')\n\nA.shape\n(3L,)\n\n\nB = np.array([1.,1.,1.])\n\nB\narray([1., 1., 1.])\n\nB.dtype\ndtype('float64')\n\nB.shape\n(3L,)\n\n\n\nC = np.array([1,1,1],dtype=long)\n\nC\narray([1, 1, 1], dtype=int64)\n\nC.dtype\ndtype('int64')\n\nC.shape\n(3L,)\n</code></pre>\n\n<p>I would expect only the last array to have (3L,) shape. The first two have always given me a shape of (3,).</p>\n\n<p>Numpy documentation only shows examples without the L: <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.shape.html\" rel=\"nofollow\">http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.shape.html</a></p>\n\n<p>Anyone else seeing this, or did I break something??</p>\n\n<p>NOTE: This is not a duplicate of questions asking what the L means. I'm trying to find out why it's suddenly saying that arrays of regular sized int and float have L in the shape. It seems like an error to me.</p>\n"}, {"tags": ["python", "mongodb", "pymongo", "bulkinsert"], "comments": [{"owner": {"reputation": 7349, "user_id": 186334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f2aeb2c524d426fb0eed06768b7119c0?s=128&d=identicon&r=PG", "display_name": "CallMeLaNN", "link": "https://stackoverflow.com/users/186334/callmelann"}, "edited": false, "score": 0, "creation_date": 1487762118, "post_id": 38361916, "comment_id": 71927207, "body": "Based on your sample <code>posts</code> above, it seems like the document is duplicated because the content is the same. Please note that the FAQ says about inserting <b>single document</b> as multiple. I suspect your <code>dict(s)</code> is the same instance."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 6374630, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lspowwzNu48/AAAAAAAAAAI/AAAAAAAAH7Y/e5yk6H1sl8I/photo.jpg?sz=128", "display_name": "ghanshyam dudhatra", "link": "https://stackoverflow.com/users/6374630/ghanshyam-dudhatra"}, "is_accepted": false, "score": 0, "last_activity_date": 1468475429, "last_edit_date": 1468475429, "creation_date": 1468474859, "answer_id": 38366263, "question_id": 38361916, "link": "https://stackoverflow.com/questions/38361916/pymongo-insert-many-bulkwriteerror/38366263#38366263", "title": "Pymongo insert_many BulkWriteError", "body": "<p><a href=\"http://i.stack.imgur.com/SIZQQ.png\" rel=\"nofollow\">Here is output</a>\nin this output records are store which are in list.</p>\n\n<pre><code>from pymongo import MongoClient \nclient = MongoClient('localhost', 27017)\ndb = client['post']\nposts = [{'#AUTHID': 'fffafe151f07a30a0ede2038a897b680',\n    'Records': [\n        {'DATE': '07/22/09 05:54 PM',\n            'STATUS': 'Is flying back friday night in time to move the rest of his stuff then go to work the next morning... great.'},\n\n\n        {'DATE': '07/19/09 04:39 PM', 'STATUS': 'is stealing his net by the lake'}]},\n\n    {'#AUTHID': 'fffafe151f07a30a0ede2038a897b680',\n        'Records': [\n        {'DATE': '07/22/09 05:54 PM',\n        'STATUS': 'Is flying back friday night in time to move the rest of his stuff then go to work the next morning... great.'},\n        {'DATE': '07/19/09 04:39 PM', 'STATUS': 'is stealing his net by the lake'}]}]\ncollection = db.posti.insert_many(p for p in posts )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7349, "user_id": 186334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f2aeb2c524d426fb0eed06768b7119c0?s=128&d=identicon&r=PG", "display_name": "CallMeLaNN", "link": "https://stackoverflow.com/users/186334/callmelann"}, "is_accepted": false, "score": 1, "last_activity_date": 1487762326, "last_edit_date": 1487762326, "creation_date": 1487761702, "answer_id": 42389548, "question_id": 38361916, "link": "https://stackoverflow.com/questions/38361916/pymongo-insert-many-bulkwriteerror/42389548#42389548", "title": "Pymongo insert_many BulkWriteError", "body": "<p>Not to late to answer here, you almost there. I am not sure if the <a href=\"https://api.mongodb.com/python/current/api/pymongo/collection.html#pymongo.collection.Collection.insert_many\" rel=\"nofollow noreferrer\">FAQ</a> updated but please read it properly:</p>\n\n<blockquote>\n  <p>when calling <code>insert_many()</code> with a list of references to a <strong>single</strong> document raises BulkWriteError</p>\n</blockquote>\n\n<p>Note that it says <strong>single</strong> or in other word, <strong>same instance</strong>. The example in the FAQ shows how to produce the error with the same instance. You can check if it is the same by using <code>id()</code> to display the memory address. In fact, I can see the content of your documents is the same. Most probably (but not necessarily) it is the same instance.</p>\n\n<pre><code>print id(posts[0])\nprint id(posts[1])\n</code></pre>\n\n<p>If any of the dict having the same instance, then something wrong during preparing the <code>posts</code> variable. Just make sure all list items should have different instance because you are inserting (many) different documents!</p>\n"}], "owner": {"reputation": 61, "user_id": 6200575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f031d923d60451d377c0dcb753d8d5b9?s=128&d=identicon&r=PG&f=1", "display_name": "MadLily", "link": "https://stackoverflow.com/users/6200575/madlily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7329, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1601707095, "creation_date": 1468444943, "question_id": 38361916, "link": "https://stackoverflow.com/questions/38361916/pymongo-insert-many-bulkwriteerror", "title": "Pymongo insert_many BulkWriteError", "body": "<p>I am trying to insert the following list of dictionaries named <code>posts</code> to mongo, and got a <code>BulkWriteError: batch op errors occurred</code> error which I don't know how to fix.</p>\n\n<p><code>posts:</code>  </p>\n\n<pre><code>[{'#AUTHID': 'fffafe151f07a30a0ede2038a897b680',\n  'Records': [\n   {'DATE': '07/22/09 05:54 PM',\n    'STATUS': 'Is flying back friday night in time to move the rest of his stuff then go to work the next morning... great.'},\n    ......\n\n   {'DATE': '07/19/09 04:39 PM', 'STATUS': 'is stealing his net by the lake'}]},\n\n {'#AUTHID': 'fffafe151f07a30a0ede2038a897b680',\n  'Records': [\n   {'DATE': '07/22/09 05:54 PM',\n    'STATUS': 'Is flying back friday night in time to move the rest of his stuff then go to work the next morning... great.'},\n   {'DATE': '07/19/09 04:39 PM', 'STATUS': 'is stealing his net by the lake'},\n  ....\n</code></pre>\n\n<p>The code I used:  </p>\n\n<pre><code>collection = db.posts\ncollection.insert_many(p for p in posts )\n</code></pre>\n\n<p>But then I got an error that says <code>BulkWriteError: batch op errors occurred</code>  and only managed to import the first dictionary (corresponding to the first <code>#AUTHID</code>)  </p>\n\n<p>I found a link that describes similar situation but it doesn't explain much about why this happens or how to solve this issue. It's under the <strong>_Why does PyMongo add an <em>id field to all of my documents?</em></strong> in the following link:<br>\n<a href=\"https://github.com/mongodb/mongo-python-driver/blob/master/doc/faq.rst#id25\" rel=\"noreferrer\">https://github.com/mongodb/mongo-python-driver/blob/master/doc/faq.rst#id25</a></p>\n"}, {"tags": ["python", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "edited": false, "score": 0, "creation_date": 1468758723, "post_id": 38366250, "comment_id": 64248892, "body": "Hi Granitosaurus, I&#39;m trying to scrape all the pages &quot;p1&quot; till &quot;p255&quot;. The main page only has some of the links in it: &quot;p1&quot; to &quot;p7&quot; and &quot;p255&quot;. The other links only become visible after clicking &quot;Next&quot;. So I don&#39;t see how I could scrape all the pages using only links on the main page?"}, {"owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "reply_to_user": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "edited": false, "score": 0, "creation_date": 1468761280, "post_id": 38366250, "comment_id": 64249652, "body": "@khpeek your <code>rules</code> apply to every page your spider visits. So the spider extract links from every page it visits as long as your linkextractor&#39;s <code>allow</code> attribute allows to which it does for in your case."}], "tags": [], "owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "is_accepted": false, "score": 0, "last_activity_date": 1468475152, "last_edit_date": 1468475152, "creation_date": 1468474815, "answer_id": 38366250, "question_id": 38361893, "link": "https://stackoverflow.com/questions/38361893/in-scrapy-how-to-loop-over-several-start-urls-which-are-themselves-scraped/38366250#38366250", "title": "In Scrapy, how to loop over several start_urls which are themselves scraped", "body": "<p>You are over-complicating the issue here -- you don't need to know the max page.</p>\n\n<p>Scrapy has url dupefilter so you can use linkextractor to extract all visible pages every time and scrapy will be smart enough not to visit the pages it has been to unless you force it.</p>\n\n<p>So all you need here is two Rules with LinkExtractors: One that extracts all of the links and has a callback of <code>parse_item</code> and one that extracts all of the visible pages and has NO callback or <code>follow=True</code> <a href=\"http://doc.scrapy.org/en/latest/topics/spiders.html?highlight=follow#crawling-rules\" rel=\"nofollow\">see docs here</a></p>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1468475152, "creation_date": 1468444860, "question_id": 38361893, "link": "https://stackoverflow.com/questions/38361893/in-scrapy-how-to-loop-over-several-start-urls-which-are-themselves-scraped", "title": "In Scrapy, how to loop over several start_urls which are themselves scraped", "body": "<p>I'm trying to collect data on houses for sale in Amsterdam on <a href=\"http://www.funda.nl/koop/amsterdam/\" rel=\"nofollow noreferrer\">http://www.funda.nl/koop/amsterdam/</a>. The main page shows only a limited number of houses, and at the bottom there is a pager which looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d8aey.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d8aey.png\" alt=\"enter image description here\"></a></p>\n\n<p>(\"Volgende\" means \"Next\" in Dutch). From this I infer that there are 255 pages in total. Each of these pages has the URL <a href=\"http://www.funda.nl/koop/amsterdam/p2/\" rel=\"nofollow noreferrer\">http://www.funda.nl/koop/amsterdam/p2/</a>, <a href=\"http://www.funda.nl/koop/amsterdam/p3/\" rel=\"nofollow noreferrer\">http://www.funda.nl/koop/amsterdam/p3/</a>, and so on. To get data on all the houses, I would like to 'loop over' all the subpages p1, p2, ..., p255.</p>\n\n<p>I'm trying to see how I could 'set this up'. Till now I've written the following code:</p>\n\n<pre><code>import scrapy\nfrom scrapy.spiders import CrawlSpider, Rule\nfrom scrapy.linkextractors import LinkExtractor\nfrom Funda.items import FundaItem\n# from scrapy.shell import inspect_response\n\nclass FundaSpider(CrawlSpider):\n    name = \"Funda\"\n    allowed_domains = [\"funda.nl\"]\n    start_urls = [\"http://www.funda.nl/koop/amsterdam/\"]\n\n    le1 = LinkExtractor(allow=r'%s+huis-\\d{8}' % start_urls[0])     # Link to the page of an individual house, such as http://www.funda.nl/koop/amsterdam/huis-49805292-nieuwendammerdijk-21/\n\n    le2 = LinkExtractor(allow=r'%s+p\\d+' % start_urls[0])   # Link to a page containing thumbnails of several houses, such as http://www.funda.nl/koop/amsterdam/p10/\n\n    rules = (\n    Rule(le1, callback='parse_item'),\n    Rule(le2, callback='get_max_page_number')\n    )\n\n    def parse_item(self, response):\n        links = self.le1.extract_links(response)\n        for link in links:\n            if link.url.count('/') == 6 and link.url.endswith('/'):\n                item = FundaItem()\n                item['url'] = link.url\n                yield item\n\n    def get_max_page_number(self, response):\n        links = self.le2.extract_links(response)\n        max_page_number = 0\n        for link in links:\n            if link.url.count('/') == 6 and link.url.endswith('/'):\n                page_number = int(link.url.split(\"/\")[-2].strip('p'))\n                if page_number &gt; max_page_number:\n                    max_page_number = page_number\n        return max_page_number\n</code></pre>\n\n<p>The LinkExtractor <code>le2</code> calls back <code>get_max_page_number</code>, which simply returns the number 255. I would then like to use this number to 'synthesize' different <code>start_urls</code> for to be applied to LinkExtractor <code>le1</code>, which gets the links to individual houses on each page.</p>\n\n<p>The problem is that as I understand it, <code>scrapy</code> processes these requests asynchronously, so I can't ensure that it will first get the number 255 and then use that number to generate other requests. If this is so I need to use two spiders in sequence and call them from a script, and in the second spider the <code>start_url</code> would have to be passed as a variable.</p>\n\n<p>Any pointers on how to 'set this up'?</p>\n"}, {"tags": ["python", "matplotlib", "wolfram-mathematica"], "comments": [{"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1468579733, "post_id": 38361859, "comment_id": 64196954, "body": "aside just do <code>Static=KepSeq[[All, 1;;3]]</code>.  Have you studied the file to be sure it is all numeric?"}, {"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1468766136, "post_id": 38361859, "comment_id": 64251028, "body": "looking again, you are assigning <code>Static</code> to the <code>TableForm</code> formatted expression. Get rid of <code>TableForm</code> should fix things.  (completely pointless to follow <code>TableForm</code> with a semi colon anyway, it says &quot;format this nicely but don&#39;t show it&quot;..)"}, {"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1468852744, "post_id": 38361859, "comment_id": 64284726, "body": "precisely, as I said get rid of <code>TableForm</code>, or if you want to see it too do this: <code>(Static=KepSeq[[All, 1;;3]])&#47;&#47;TableForm</code>  Note the parenthesis which cause <code>Static</code> to be assigned the numbers before formatting."}, {"owner": {"reputation": 21, "user_id": 4954531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3e74a83a00bb77d063e653561d784ec?s=128&d=identicon&r=PG&f=1", "display_name": "Riccardo", "link": "https://stackoverflow.com/users/4954531/riccardo"}, "reply_to_user": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1468853117, "post_id": 38361859, "comment_id": 64285001, "body": "Yep, sorry I still have to completely understand how to edit and answer. Anyway I edited the main text trying to answer to your doubt."}, {"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1468853397, "post_id": 38361859, "comment_id": 64285208, "body": "also, stick with your original <code>Export</code>, not copy-paste."}, {"owner": {"reputation": 21, "user_id": 4954531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3e74a83a00bb77d063e653561d784ec?s=128&d=identicon&r=PG&f=1", "display_name": "Riccardo", "link": "https://stackoverflow.com/users/4954531/riccardo"}, "reply_to_user": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1468854761, "post_id": 38361859, "comment_id": 64286190, "body": "Ok, I understood the problem. The table was including a first line made by alphanumeric characters with the function of &quot;names&quot; of any columns. Then I was commenting it, in the .txt file, with <code>#</code> to make it readble by python. But, in this way, mathematica was wrongly exporting the hidden extra-characters. Just creating the table starting form the second line... <code>{i, 2, Length[KepSeq]}]</code> ...solved the problem. @agentp"}], "owner": {"reputation": 21, "user_id": 4954531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3e74a83a00bb77d063e653561d784ec?s=128&d=identicon&r=PG&f=1", "display_name": "Riccardo", "link": "https://stackoverflow.com/users/4954531/riccardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1468853287, "creation_date": 1468444708, "last_edit_date": 1468853287, "question_id": 38361859, "link": "https://stackoverflow.com/questions/38361859/indexerror-list-index-out-of-range-when-using-a-table-exported-from-mathematica", "title": "IndexError: list index out of range when using a table exported from mathematica", "body": "<p>I have a problem when trying to plot some data, using Matplotlib, with a text file obtained from Mathematica-Wolfram.\nThe code is the following:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.cm as cm\nimport matplotlib.pyplot as plt\nimport matplotlib.mlab as mlab\nimport matplotlib.artist as pltart\n\n\nparams = {'font.size': 11,\n'axes.labelsize' : 18, 'axes.titlesize' : 18,\n'xtick.labelsize' : 18, 'ytick.labelsize' : 18,\n'figure.figsize' : [6.0,4.4],\n'figure.subplot.left' : 0.13, 'figure.subplot.right' : 0.999,\n'figure.subplot.bottom' : 0.16, 'figure.subplot.top' : 0.999}\n\nplt.rcParams.update(params)\n\nx=np.arange(7,24,0.1)\n\nM3=0.47e-3*x**3\n\nplt.figure()\n\nRhoS,MS,RS,=np.loadtxt('Static.pnr',usecols=(0,1,2),unpack=True)\n\n# MtotVsRtot plot\n\nplt.plot(RS,MS,'k-',color='red',linewidth=2.0)\n\nplt.plot(x,M3,'k-.',color='grey',linewidth=1.5)\n\nplt.xlabel(r'$R_{\\rm eq}\\,(\\rm km)$',fontsize=20)\nplt.ylabel(r'$M/M_{\\odot}$', fontsize=20)\n\n#plt.show()\nplt.savefig('MvsR_L&amp;P_GM1.eps')\n#exit()\n</code></pre>\n\n<p>The text file is obtained from mathematica with the command:</p>\n\n<pre><code>Static = Table[{KepSeq[[i, 1]], \n KepSeq[[i, 2]], KepSeq[[i, 3]]}, {i, 1, \n Length[KepSeq]}] // TableForm\n\nExport[\"Static\", Static, \"Table\"]\n</code></pre>\n\n<p>where <code>KepSeq[[i,j]]</code> is just a matrix of values.</p>\n\n<p>It appears that, even if Mathematica correctly generates a three columns text file, Matplotlib is not able to recognize such columns, indeed, using a text file builded by hand for test, I get no problems.</p>\n\n<p>Using a .txt file do not solve the error, of course.</p>\n\n<p>The error, as from title is: <code>IndexError: list index out of range.</code></p>\n\n<p>EDIT: </p>\n\n<blockquote>\n  <p>aside just do Static=KepSeq[[All, 1;;3]]. Have you studied the file to be sure it is all numeric?</p>\n</blockquote>\n\n<p>I noticed that the table created by mathematica is composed only by numbers. BUT, \"copying and pasting\" it on a empty .txt file, shows a lot of hidden characters, as paranthesis, commas and other:</p>\n\n<pre><code>\\!\\(\\*\nTagBox[GridBox[{\n{\"19.30736436824425`\", \"0.49704178850444225`\"},\n</code></pre>\n\n<p>...</p>\n\n<pre><code>{\"11.327870685578393`\", \"2.199907624212163`\"}\n},\nGridBoxAlignment-&gt;{\n     \"Columns\" -&gt; {{Left}}, \"ColumnsIndexed\" -&gt; {}, \n      \"Rows\" -&gt; {{Baseline}}, \"RowsIndexed\" -&gt; {}},\nGridBoxSpacings-&gt;{\"Columns\" -&gt; {\nOffset[0.27999999999999997`], {\nOffset[2.0999999999999996`]}, \nOffset[0.27999999999999997`]}, \"ColumnsIndexed\" -&gt; {}, \"Rows\" -&gt; {\nOffset[0.2], {\nOffset[0.4]}, \nOffset[0.2]}, \"RowsIndexed\" -&gt; {}}],\nFunction[BoxForm`e$, \nTableForm[BoxForm`e$]]]\\)\n</code></pre>\n\n<p>Any idea on how to get rid of it? In the meanwhile, the (clearly unsatisfactory) solution has been copy and past and then delete by hand the extra-characters.</p>\n"}, {"tags": ["python", "zip", "temporary-files"], "answers": [{"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": true, "score": 1, "last_activity_date": 1468446113, "creation_date": 1468446113, "answer_id": 38362178, "question_id": 38361839, "link": "https://stackoverflow.com/questions/38361839/can-i-write-a-zip-consisting-of-temporaryfiles/38362178#38362178", "title": "Can I write a .zip consisting of TemporaryFiles?", "body": "<p>The best way to create a zip file is to store every required files (your HTML) files in a (temporary) directory. Then you can compress the directory.</p>\n\n<p>Say, you store your ZIP file in <code>work_dir</code> and you a a function <code>write_html</code> used to write your HTML file, you can compress your HTML files like this:</p>\n\n<pre><code>import os\nimport shutil\nimport tempfile\nimport zipfile\n\nwork_dir = \"...\"\nzip_path = os.path.join(work_dir, \"delivery.zip\")\n\nzip_dir = tempfile.mkdtemp()\ntry:\n    with zipfile.zipfile(zip_path, \"w\", compression=zipfile.ZIP_DEFLATED) as zfd:\n        for html_name in html_names:\n            html_path = os.path.join(zip_dir, html_name)\n            write_html(html_path, html_name)\n            zfd.write(html_path, html_name)\nfinally:\n    shutil.rmtree(zip_dir)\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 5889674, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208510864268915/picture?type=large", "display_name": "Cat Gallagher", "link": "https://stackoverflow.com/users/5889674/cat-gallagher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 878, "favorite_count": 0, "accepted_answer_id": 38362178, "answer_count": 1, "score": 1, "last_activity_date": 1468446113, "creation_date": 1468444603, "last_edit_date": 1468444941, "question_id": 38361839, "link": "https://stackoverflow.com/questions/38361839/can-i-write-a-zip-consisting-of-temporaryfiles", "title": "Can I write a .zip consisting of TemporaryFiles?", "body": "<p>I have a program that will output a .zip file consisting of a number of .html files to the user. I don't need the .html files to exist anywhere outside of the .zip, so my thought was to make them TemporaryFiles using the tempfile module. How do I write a .zip of TempFile (assuming that's possible)? </p>\n\n<p>If I can, can I also specify the names of the TemporaryFiles, so that when the user decompresses the .zip, the files will have readable names?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1468444577, "post_id": 38361806, "comment_id": 64136003, "body": "Why is your returned number not correct? &quot;Because it&#39;s not an integer&quot; - well if you force it to be, per standard conversion rules it&#39;d be <code>0</code>, and I suspect that&#39;s not what you want either."}, {"owner": {"reputation": 13, "user_id": 6586562, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6ASJGY16CjM/AAAAAAAAAAI/AAAAAAAAAEg/-pT4sLMhUX4/photo.jpg?sz=128", "display_name": "Bcmwolverine", "link": "https://stackoverflow.com/users/6586562/bcmwolverine"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1468447039, "post_id": 38361806, "comment_id": 64137116, "body": "That is true but for any number I put in whether it be a float or an integer it still returns &quot;.42880656&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6586562, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6ASJGY16CjM/AAAAAAAAAAI/AAAAAAAAAEg/-pT4sLMhUX4/photo.jpg?sz=128", "display_name": "Bcmwolverine", "link": "https://stackoverflow.com/users/6586562/bcmwolverine"}, "edited": false, "score": 0, "creation_date": 1468461148, "post_id": 38363457, "comment_id": 64140757, "body": "I tried that and I get this <code>Exception in Tkinter callback Traceback (most recent call last):   File &quot;C:\\Python27\\lib\\lib-tk\\Tkinter.py&quot;, line 1536, in __call__     return self.func(*args)   File &quot;C:&#47;Users&#47;bcmwolverine&#47;Desktop&#47;Home-Made Apps&#47;testing2.py&quot;, line 10, in prtent     distEnt = distEnt.getint() UnboundLocalError: local variable &#39;distEnt&#39; referenced before assignment</code>"}, {"owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "reply_to_user": {"reputation": 13, "user_id": 6586562, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6ASJGY16CjM/AAAAAAAAAAI/AAAAAAAAAEg/-pT4sLMhUX4/photo.jpg?sz=128", "display_name": "Bcmwolverine", "link": "https://stackoverflow.com/users/6586562/bcmwolverine"}, "edited": false, "score": 0, "creation_date": 1468462547, "post_id": 38363457, "comment_id": 64141051, "body": "you don&#39;t want to override distEnt with the integer you just fetched.  Create a new variable to store the integer, and then print that.  or if you really want to do it in one line, <code>print distEnt.getint()</code>"}], "tags": [], "owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "is_accepted": true, "score": 0, "last_activity_date": 1468463521, "last_edit_date": 1468463521, "creation_date": 1468453701, "answer_id": 38363457, "question_id": 38361806, "link": "https://stackoverflow.com/questions/38361806/i-am-trying-to-get-an-entry-as-an-integer-in-python/38363457#38363457", "title": "I am trying to get an entry as an integer in Python", "body": "<pre><code>print distEnt\n</code></pre>\n\n<p>This is your problem... <code>distEnt</code> is an Entry(), not a number.  I believe it should look like...</p>\n\n<pre><code>dist = distEnt.getint()\nprint dist\n</code></pre>\n\n<p>For a bit more explanation...</p>\n\n<p>the Entry() distEnt is the actual component that is displayed on your screen.  Fetching it as an integer doesn't make any sense- it is a textbox.  It has a helpful function .getint() that returns the <em>contents</em> of that text box formatted as an integer.  If you want to do something with those contents, you fetch that number and put it in a variable, and then use that variable to do your business logic.  If you set that variable equal to something else, you'll lose your reference to the textbox in the GUI.</p>\n\n<p>The error you actually saw there is a Python thing.  You can inherit variables from the next scope up without doing anything...</p>\n\n<pre><code>a_number = 7\ndef a_func():\n    print a_number # 7\n</code></pre>\n\n<p>will work.  However, if you try to <em>assign</em> to that variable, it will assume you must have made a mistake (why are you trying to mutate global state in a function?!?) and throw an error.  You have to inherit the global variable with the global keyword in that case to tell the interpreter that yes, you really do mean that.</p>\n\n<pre><code>a_number = 7\ndef a_func():\n    print a_number\n    a_number = 42 # exception\n\n\na_number = 7\ndef a_func():\n    global a_number\n    print a_number # 7\n    a_number = 42 \nf()\nprint a_number # 42\n</code></pre>\n\n<p>One further point- if you ASSIGN to it BEFORE you mutate it, you won't get the exception... because the variable name in the function scope is a brand new local that has no relation to the global variable.  You only get the exception if you try to use the global variable before mutating.</p>\n\n<pre><code>a_number = 7\ndef a_func():\n    a_number = 42\n    print a_number # 42\nf()\nprint a_number # 7\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6586562, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6ASJGY16CjM/AAAAAAAAAAI/AAAAAAAAAEg/-pT4sLMhUX4/photo.jpg?sz=128", "display_name": "Bcmwolverine", "link": "https://stackoverflow.com/users/6586562/bcmwolverine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 38363457, "answer_count": 1, "score": 1, "last_activity_date": 1468463521, "creation_date": 1468444427, "last_edit_date": 1468447742, "question_id": 38361806, "link": "https://stackoverflow.com/questions/38361806/i-am-trying-to-get-an-entry-as-an-integer-in-python", "title": "I am trying to get an entry as an integer in Python", "body": "<p>Here is my code: </p>\n\n<pre><code>from Tkinter import *\nimport tkMessageBox\nimport tkSimpleDialog\n\ndef blank(row, column):\n    blank = Label(text=\" \")\n    blank.grid(row=row, column=column)\n\ndef prtent():\n    distEnt.getint()\n    print distEnt\n\nroot = Tk()\n\n#title\n\nroot.title(\"Trip Time Calculator\")\n\nlabel = Label(text=\"Trip Time Calculator\", font=50)\nlabel.grid(columnspan=50)\n\nblank(2, 0)\nblank(3, 0)\n\n#distance\n\ndistLabel = Label(text=\"What is your distance?\")\ndistLabel.grid(row=4, column=0)\n\ndistEnt = Entry()\ndistEnt.grid(row=4, column=1)\n\nblank(5, 0)\n\n#speed\n\nspeedLabel = Label(text=\"What is your speed?\")\nspeedLabel.grid(row=6, column=0)\n\ndistEnt = Entry()\ndistEnt.grid(row=6, column=1)\n\nblank(7, 0)\n\n#test button\n\nbutton = Button(text=\"Done\", command=prtent)\nbutton.grid(row=8, column=0)\n\nroot.mainloop()\n</code></pre>\n\n<p>My problem is when I enter a number into a field in my GUI all that is returned in the console is \".42880656\". The application I am trying to make is where you can enter your distance and speed and get an approximate ETA in Python 2.7. </p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1468444583, "post_id": 38361803, "comment_id": 64136008, "body": "<code>get</code> only &quot;looks at&quot; the <code>default</code> if <code>key</code> isn&#39;t found, but the default is evaluated whether or not <code>get</code> looks at it."}], "answers": [{"comments": [{"owner": {"reputation": 1182, "user_id": 2977601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a11daa74a8ea45d4fbdf062d1b4e945?s=128&d=identicon&r=PG&f=1", "display_name": "shikhanshu", "link": "https://stackoverflow.com/users/2977601/shikhanshu"}, "edited": false, "score": 0, "creation_date": 1468445111, "post_id": 38361832, "comment_id": 64136283, "body": "Good to know.  I thought &#39;default&#39; is evaluated when needed. Thank you!"}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 5, "last_activity_date": 1468444537, "creation_date": 1468444537, "answer_id": 38361832, "question_id": 38361803, "link": "https://stackoverflow.com/questions/38361803/python-dict-get-function-not-doing-the-right-thing/38361832#38361832", "title": "Python dict get function not doing the right thing?", "body": "<p>The arguments to a function call are evaluated before the call is made.  When you use <code>backupDict[key]</code> as an argument, that has to be evaluated so the result can be passed to <code>get</code>.  The <code>default</code> argument is always <em>evaluated</em>; it's just not always <em>returned</em>.</p>\n\n<p>If you don't want to evaluate it, you could use some alternative formulation, like:</p>\n\n<pre><code>mainDict[key] if key in mainDict else backupDict[key]\n</code></pre>\n\n<p>This will only evaluate one or the other.</p>\n"}, {"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": false, "score": 2, "last_activity_date": 1468444973, "creation_date": 1468444973, "answer_id": 38361925, "question_id": 38361803, "link": "https://stackoverflow.com/questions/38361803/python-dict-get-function-not-doing-the-right-thing/38361925#38361925", "title": "Python dict get function not doing the right thing?", "body": "<p>Yes, the <a href=\"https://docs.python.org/2/library/stdtypes.html?highlight=dict.get#dict.get\" rel=\"nofollow\">dict.get</a> function return <code>default</code> if the key is not in the dictionary. But <code>default</code> is evaluated.</p>\n\n<p>You can use an intermediate dictionary like this.</p>\n\n<pre><code>main = dict(a=5, c=3)\nbackup = dict(a=6, b=9, c=4)\n\nintermediate = dict(backup, **main)\nprint(intermediate['a'])\nprint(intermediate['b'])\n</code></pre>\n\n<p>You get:</p>\n\n<pre><code>5  # from the ``main``dict,\n9  # from the ``backup dict``.\n</code></pre>\n\n<p>And with:</p>\n\n<pre><code>print(intermediate['d'])\n</code></pre>\n\n<p>You get an exception:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"python\", line 9, in &lt;module&gt;\nKeyError: 'd'\n</code></pre>\n"}], "owner": {"reputation": 1182, "user_id": 2977601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a11daa74a8ea45d4fbdf062d1b4e945?s=128&d=identicon&r=PG&f=1", "display_name": "shikhanshu", "link": "https://stackoverflow.com/users/2977601/shikhanshu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 38361832, "answer_count": 2, "score": 3, "last_activity_date": 1468444973, "creation_date": 1468444404, "question_id": 38361803, "link": "https://stackoverflow.com/questions/38361803/python-dict-get-function-not-doing-the-right-thing", "title": "Python dict get function not doing the right thing?", "body": "<p>I thought that the <code>.get(key, default=?)</code> function will look at the <code>default</code> part only if <code>key</code> is not in the dict.</p>\n\n<p>What I want to do is, see if a key exists in my main dictionary, if not, see if it exists in backup dictionary, and raise KeyError if it is neither in main or backup.</p>\n\n<p>So, literally translating the above English statement to Python, I wrote: <code>val = mainDict.get(key, backupDict[key])</code></p>\n\n<p>This way, if <code>mainDict</code> doesn't have <code>key</code>, it will look it up in <code>backupDict</code> and raise exception if it's not there either, because I am not using <code>get</code> for <code>backupDict</code> lookup.</p>\n\n<p>What is happening is, even before checking if <code>mainDict</code> has the <code>key</code> or not, Python is raising exception that it is not in <code>backupDict</code>. Yeah, it is not there, because it is there in <code>mainDict</code> !!</p>\n\n<p>Why is this happening?</p>\n"}, {"tags": ["python", "python-3.x", "math", "polynomial-math", "smoothing"], "comments": [{"owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "edited": false, "score": 0, "creation_date": 1468444771, "post_id": 38361792, "comment_id": 64136090, "body": "Have you tried to increase the order of your polynomial?"}, {"owner": {"reputation": 255, "user_id": 6092804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19bff585b70819185e142981aa6d20c5?s=128&d=identicon&r=PG&f=1", "display_name": "mcluka", "link": "https://stackoverflow.com/users/6092804/mcluka"}, "reply_to_user": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "edited": false, "score": 0, "creation_date": 1468444947, "post_id": 38361792, "comment_id": 64136181, "body": "I would like to use the same degree approximation polynomial as my original polynomial has. That is the idea of smoothing the mid section and compare their coefficients in the end..."}, {"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 0, "creation_date": 1468514630, "post_id": 38361792, "comment_id": 64169506, "body": "It&#39;ll be difficult to find one polynomial to span your space and reproduce that data.  It&#39;s easy with piecewise polynomials.  I&#39;d try that."}, {"owner": {"reputation": 255, "user_id": 6092804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19bff585b70819185e142981aa6d20c5?s=128&d=identicon&r=PG&f=1", "display_name": "mcluka", "link": "https://stackoverflow.com/users/6092804/mcluka"}, "edited": false, "score": 0, "creation_date": 1468523574, "post_id": 38361792, "comment_id": 64174667, "body": "Is it possible to connect this polynomial pieces together so I keep the continuity? How could I implement this extra conditions regarding polynomial derivatives in their contacts?"}], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 6092804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19bff585b70819185e142981aa6d20c5?s=128&d=identicon&r=PG&f=1", "display_name": "mcluka", "link": "https://stackoverflow.com/users/6092804/mcluka"}, "edited": false, "score": 0, "creation_date": 1468445631, "post_id": 38361952, "comment_id": 64136530, "body": "Is there a better way of smoothing a polynomial and solve this waving problem in general?"}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "reply_to_user": {"reputation": 255, "user_id": 6092804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19bff585b70819185e142981aa6d20c5?s=128&d=identicon&r=PG&f=1", "display_name": "mcluka", "link": "https://stackoverflow.com/users/6092804/mcluka"}, "edited": false, "score": 0, "creation_date": 1468445816, "post_id": 38361952, "comment_id": 64136617, "body": "it depends on exact setting, existing constraints, what is the true, underlying goal and why. Fitting that you proposed is based on MSE, which might not be optimal. There are many possible smoothness criterions which one can use (especially if you can leave space of polynomials). One of the typical solutions would be some spline instead, to simply &quot;stick&quot; a part of a curve that you want to look differently. But as I said, in general the problem is underdefined now, and requires lots of assumptions to be something we can &quot;solve&quot; rather then &quot;approach&quot; :-)"}, {"owner": {"reputation": 255, "user_id": 6092804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19bff585b70819185e142981aa6d20c5?s=128&d=identicon&r=PG&f=1", "display_name": "mcluka", "link": "https://stackoverflow.com/users/6092804/mcluka"}, "edited": false, "score": 0, "creation_date": 1468482898, "post_id": 38361952, "comment_id": 64148151, "body": "I&#39;m doing my MSc on this theme and through a mathematical procedure and experimental data I got extrapolated polynomials that would fit the best at all given experimental points. However, as you can see <a href=\"http://i.stack.imgur.com/FHDo5.png\" rel=\"nofollow noreferrer\">HERE</a>, higher grade polynomials (n=4, n=5) have this waving issue and I would like to get a continuous polynomials without any fluctuation. I don&#39;t know how to fix the original extrapolated polynomials, so I came to this idea here... but I would be glad if you could suggest me any literature or other sources that could be helpful on this matter. Thanks!"}], "tags": [], "owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "is_accepted": true, "score": 5, "last_activity_date": 1468445099, "creation_date": 1468445099, "answer_id": 38361952, "question_id": 38361792, "link": "https://stackoverflow.com/questions/38361792/approximation-polynomial-fit-to-given-data/38361952#38361952", "title": "Approximation polynomial fit to given data", "body": "<p>You are trying to fit a polynomial on regular data which is in exp-exp scale, and only plot it in log-log, where it looks like a polynomial. You will not be able to represent such relation with a polynomial. Preprocess everything to be in log scale in the first place, fit polynomial there, and if you want to go back to your exp-exp world, post-process again.</p>\n\n<pre><code>from sympy import*\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nS = np.linspace(25, 400, 1000)\nSS = np.log10(S)\ndef f(logS): # the polynomial that I got\n    return 10**(-57.2476193068601*logS**5 + 585.900632193053*logS**4 - 2384.35277925916*logS**3 + 4821.25582425353*logS**2 - 4845.47249368281*logS + 1943.75303313331)  \n\n\n\nxdata = np.log(f(SS))\nydata = np.log(S)\n\nplt.figure(figsize=(12, 10),facecolor='w', edgecolor='k')\nplt.plot(xdata, ydata, 'k-')\n#plt.loglog(xdata, ydata,'k-')\n# Data for new polynomial (approximation)\nXX = xdata[:40].tolist()\nX1 = xdata[len(xdata)-350:].tolist()\nYY = ydata[:40].tolist()\nY1 = ydata[len(ydata)-350:].tolist()\nfor i in range(len(X1)):\n    XX.append(X1[i])\n    YY.append(Y1[i])\n\n\n# Approximation polynomial fit\n#plt.loglog(XX,YY,'mo')\nx_t = np.linspace(np.min(xdata), np.max(xdata),1000)\np = np.poly1d(np.polyfit(XX,YY, deg=5))\n\n#plt.loglog(x_t, p(x_t),'g-')\nplt.plot(x_t, p(x_t),'g-')\nprint(p)\n\nplt.ylim((np.min(ydata), np.max(ydata)))\nplt.xlim((np.min(xdata), np.max(xdata)))  \n\nplt.xlabel('xdata')\nplt.ylabel('ydata')\nplt.grid(True, which=\"both\")\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0Wl9j.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0Wl9j.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 255, "user_id": 6092804, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19bff585b70819185e142981aa6d20c5?s=128&d=identicon&r=PG&f=1", "display_name": "mcluka", "link": "https://stackoverflow.com/users/6092804/mcluka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2098, "favorite_count": 0, "accepted_answer_id": 38361952, "answer_count": 1, "score": 1, "last_activity_date": 1468445099, "creation_date": 1468444309, "last_edit_date": 1495541291, "question_id": 38361792, "link": "https://stackoverflow.com/questions/38361792/approximation-polynomial-fit-to-given-data", "title": "Approximation polynomial fit to given data", "body": "<p>I'm facing a problem with aproximation polynomial fit. A more detailed review of my problem is shown <a href=\"https://stackoverflow.com/questions/38285811/smoothing-higher-order-polynomials-and-nonlinear-r-squared\">HERE</a>.\nBasically I want to smooth the mid section of the polynomial that I got through long mathematical manipulation and is shown below.\n<a href=\"https://i.stack.imgur.com/akSG9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/akSG9.png\" alt=\"enter image description here\"></a>\nThe idea that I got is to take a range from the beginning and a range from the end of the polynomial (its points) and make an approximation polynomial that hasn't got the waving in the mid section; selected points are shown below.\n<a href=\"https://i.stack.imgur.com/3exji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3exji.png\" alt=\"enter image description here\"></a>\nHowever by using the <code>polyfit</code> function I didn't quite get the polynomial that I've hoped for.\n<a href=\"https://i.stack.imgur.com/CnuSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CnuSF.png\" alt=\"enter image description here\"></a></p>\n\n<p>This the crucial part of my code:</p>\n\n<pre><code>from sympy import*\nimport numpy as np\ninit_printing()\n%matplotlib inline\nimport matplotlib.pyplot as plt\n\nS = np.linspace(25, 400, 1000)\nSS = np.log10(S)\ndef f(logS): # the polynomial that I got\n    return 10**(-57.2476193068601*logS**5 + 585.900632193053*logS**4 - 2384.35277925916*logS**3 + 4821.25582425353*logS**2 - 4845.47249368281*logS + 1943.75303313331)  \n\nxdata = f(SS)\nydata = S\n\nplt.figure(figsize=(12, 10), dpi= 600, facecolor='w', edgecolor='k')\n\nplt.loglog(xdata, ydata,'k-')\n# Data for new polynomial (approximation)\nXX = xdata[:40].tolist()\nX1 = xdata[len(xdata)-350:].tolist()\nYY = ydata[:40].tolist()\nY1 = ydata[len(ydata)-350:].tolist()\nfor i in range(len(X1)):\n    XX.append(X1[i])\n    YY.append(Y1[i])\n\n# Approximation polynomial fit\nplt.loglog(XX,YY,'mo')\nx_t = np.linspace(np.min(xdata), np.max(xdata),1000)\np = np.poly1d(np.polyfit(XX,YY, deg=5))\n\nplt.loglog(x_t, p(x_t),'g-')\nprint(p)\n\nplt.ylim((np.min(ydata), np.max(ydata)))\nplt.xlim((np.min(xdata), np.max(xdata)*0.7))  \n\nplt.xlabel('xdata')\nplt.ylabel('ydata')\nplt.grid(True, which=\"both\")\n</code></pre>\n\n<p>I would like some advice on how to fix this approximation polynomial problem or if there is another way to solve the waving in the mid section - a better way of smoothing.\nAny help is highly appreciated!</p>\n"}, {"tags": ["python", "default", "encoder"], "answers": [{"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 5, "last_activity_date": 1468444695, "creation_date": 1468444695, "answer_id": 38361858, "question_id": 38361769, "link": "https://stackoverflow.com/questions/38361769/default-method-in-python/38361858#38361858", "title": "default() method in Python", "body": "<p><code>JSONEncoder</code> has a <code>default</code> method which gets called if it doesn't know how to coerce a particular object into valid JSON.  The default implementation just raises <code>TypeError</code> (because it doesn't know how to coerce the type).  However, when <em>you</em> override the default method, you have a chance to return an object that the encoder <em>does</em> know how to handle.  If <em>you</em> don't know how to handle the type that is input (e.g. it isn't an instance of <code>my_custom_type</code>), then you should either <code>raise TypeError</code> yourself, or call the <code>default</code> method on <code>JSONencoder</code> so that it can raise the error.</p>\n\n<p>Frequently, you'll see <code>super</code> used here for cooperative inheritance:</p>\n\n<pre><code>class ComplexEncoder(json.JSONEncoder):\n    def default(self, obj):\n        if isinstance(obj, my_custom_object):\n            return str(obj)\n        return super(ComplexEncoder, self).default(obj)\n</code></pre>\n\n<p>If <em>all</em> the encoder classes you build are of this form, you can mix them together:</p>\n\n<pre><code>class MySuperEncoder(ComplexEncoder, WidgetEncoder, FooEncoder):\n    pass\n</code></pre>\n\n<p>Now <code>ComplexEncoder</code> will handle the things it knows about (e.g. <code>my_custom_object</code>), <code>WidgetEncoder</code> will encode the things that it knows how to handle (probably <code>Widget</code> instances), and so forth.</p>\n"}, {"tags": [], "owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "is_accepted": false, "score": 2, "last_activity_date": 1468444724, "creation_date": 1468444724, "answer_id": 38361867, "question_id": 38361769, "link": "https://stackoverflow.com/questions/38361769/default-method-in-python/38361867#38361867", "title": "default() method in Python", "body": "<p>Runnning <code>dir(JSONEncoder)</code> gives us:</p>\n\n<pre><code>['__class__',\n '__delattr__',\n '__dict__',\n '__doc__',\n '__format__',\n '__getattribute__',\n '__hash__',\n '__init__',\n '__module__',\n '__new__',\n '__reduce__',\n '__reduce_ex__',\n '__repr__',\n '__setattr__',\n '__sizeof__',\n '__str__',\n '__subclasshook__',\n '__weakref__',\n 'default',  # We found our method, let's see what it does\n 'encode',\n 'item_separator',\n 'iterencode',\n 'key_separator']\n</code></pre>\n\n<p>Running <code>help(JSONEncoder.default)</code> gives us:</p>\n\n<pre><code>default(self, o) unbound json.encoder.JSONEncoder method\n    Implement this method in a subclass such that it returns\n    a serializable object for ``o``, or calls the base implementation\n    (to raise a ``TypeError``).\n\n    For example, to support arbitrary iterators, you could\n    implement default like this::\n\n        def default(self, o):\n            try:\n                iterable = iter(o)\n            except TypeError:\n                pass\n            else:\n                return list(iterable)\n            # Let the base class default method raise the TypeError\n            return JSONEncoder.default(self, o)\n</code></pre>\n\n<p>So it would seem it's designed this way for you to write your own should you subclass this object.</p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 4171551, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d2f49ca6137cfb532a711fdb0025f01?s=128&d=identicon&r=PG&f=1", "display_name": "AmericanMade", "link": "https://stackoverflow.com/users/4171551/americanmade"}, "edited": false, "score": 0, "creation_date": 1468446991, "post_id": 38361872, "comment_id": 64137099, "body": "Yeah, that&#39;s what I kind of started thinking, too.  Just wasn&#39;t sure about if default() was some sort of <code>magic method</code> that I didn&#39;t know about.  Thanks!"}], "tags": [], "owner": {"reputation": 667, "user_id": 4442140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-kIg0Vc8AwW0/AAAAAAAAAAI/AAAAAAAAAFo/XAqbax1YW74/photo.jpg?sz=128", "display_name": "Luca Schimweg", "link": "https://stackoverflow.com/users/4442140/luca-schimweg"}, "is_accepted": false, "score": 1, "last_activity_date": 1468444748, "creation_date": 1468444748, "answer_id": 38361872, "question_id": 38361769, "link": "https://stackoverflow.com/questions/38361769/default-method-in-python/38361872#38361872", "title": "default() method in Python", "body": "<p>I think this method is defined in <code>json.JSONEncoder</code> as described <a href=\"https://docs.python.org/2.7/library/json.html\" rel=\"nofollow\">here</a>. <code>default(o)</code> should return a serializable version of the given object or pass it to its superclass. </p>\n"}], "owner": {"reputation": 303, "user_id": 4171551, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d2f49ca6137cfb532a711fdb0025f01?s=128&d=identicon&r=PG&f=1", "display_name": "AmericanMade", "link": "https://stackoverflow.com/users/4171551/americanmade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4285, "favorite_count": 0, "accepted_answer_id": 38361858, "answer_count": 3, "score": 4, "last_activity_date": 1468444748, "creation_date": 1468444200, "last_edit_date": 1468444484, "question_id": 38361769, "link": "https://stackoverflow.com/questions/38361769/default-method-in-python", "title": "default() method in Python", "body": "<p>I am making an Encoder for converting python objects to json and when researching I see a lot of solutions that include a <code>default</code> method.  I'm not an expert in Python, but definitely not a novice either, and I'm wondering if I somehow missed that there is a <code>default</code> method that gets run automatically when a class is called.  Or, is this just because I have inherited from the <code>JSONEcoder</code> class (which has a default method, and I am now just overriding)?  Can someone clarify?  And if so, is it basically the same as the </p>\n\n<pre><code>__init__()\n</code></pre>\n\n<p>method?</p>\n\n<p>By the way, my encoder looks like this if you need more of a visual:</p>\n\n<pre><code>class ComplexEncoder(json.JSONEncoder):\n    def default(self, obj):\n        if isinstance(obj, my_custom_object):\n            return str(obj)\n        return json.JSONEncoder.default(self, obj)\n</code></pre>\n"}, {"tags": ["python", "c++", "numpy", "fstream"], "comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 5, "creation_date": 1468444269, "post_id": 38361698, "comment_id": 64135873, "body": "<code>ifstream f(&quot;test.bin&quot;);</code> That&#39;s text mode. Read the <a href=\"http://en.cppreference.com/w/cpp/io/basic_ifstream\" rel=\"nofollow noreferrer\">docs</a>."}, {"owner": {"reputation": 1091, "user_id": 5302241, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2b58e25a907ac8e47c48204ba7e7a45f?s=128&d=identicon&r=PG&f=1", "display_name": "rxu", "link": "https://stackoverflow.com/users/5302241/rxu"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1468444476, "post_id": 38361698, "comment_id": 64135963, "body": "Thanks. didn&#39;t know that."}, {"owner": {"reputation": 1091, "user_id": 5302241, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2b58e25a907ac8e47c48204ba7e7a45f?s=128&d=identicon&r=PG&f=1", "display_name": "rxu", "link": "https://stackoverflow.com/users/5302241/rxu"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1468445163, "post_id": 38361698, "comment_id": 64136304, "body": "tried binary mode. <code>fstream f;f.open(&quot;test.bin&quot;, ios::in | ios::binary);</code> and updated question. still can&#39;t see 9,10,11,12,13."}], "owner": {"reputation": 1091, "user_id": 5302241, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2b58e25a907ac8e47c48204ba7e7a45f?s=128&d=identicon&r=PG&f=1", "display_name": "rxu", "link": "https://stackoverflow.com/users/5302241/rxu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1216, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1468510894, "creation_date": 1468443932, "last_edit_date": 1495542757, "question_id": 38361698, "link": "https://stackoverflow.com/questions/38361698/read-uint32-t-from-binary-file-from-numpy", "title": "Read uint32_t from binary file from numpy", "body": "<p>The tofile() method of numpy array was used to write a unsigned 32bit integer array as a binary file (test.bin). Then, c++ was used to read uint32_t from the file. The problem is the c++ program didn't read the correct value. How to fix that?</p>\n\n<p>Hex editor shows the test.bin is correct because the value increases one by one, as expected.</p>\n\n<p>fileio.py:</p>\n\n<pre><code>import numpy as np\nx = np.arange(20)+65536\ny = x.astype(np.uint32)\nprint(y)\nwith open(\"test.bin\", \"wb+\") as f:\n    y.tofile(f)\n</code></pre>\n\n<p>output of fileio.py:</p>\n\n<pre><code>[65536 65537 65538 65539 65540 65541 65542 65543 65544 65545 65546 65547\n 65548 65549 65550 65551 65552 65553 65554 65555]\n</code></pre>\n\n<p>test.bin: (in hex editor. vim with %!xxd command)</p>\n\n<pre><code>0000000: 0000 0100 0100 0100 0200 0100 0300 0100  ................\n0000010: 0400 0100 0500 0100 0600 0100 0700 0100  ................\n0000020: 0800 0100 0900 0100 0a00 0100 0b00 0100  ................\n0000030: 0c00 0100 0d00 0100 0e00 0100 0f00 0100  ................\n0000040: 1000 0100 1100 0100 1200 0100 1300 0100  ................\n0000050: 0a                                       .   \n</code></pre>\n\n<p>fileio.cpp:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\n#include &lt;byteswap.h&gt;\n\nusing namespace std;\n\nint main(void){\n    vector&lt;char&gt; arr;\n    char n;\n    int i;\n    int num_char=0;\n    //ifstream f(\"test.bin\");\n    fstream f;\n    f.open(\"test.bin\", ios::in | ios::binary);\n\n    while(f&gt;&gt;n){\n        cout &lt;&lt; int(n) &lt;&lt; ' ';\n        arr.push_back(n);\n        num_char++;\n    }\n    cout &lt;&lt; endl;\n    cout &lt;&lt; \"number of characters: \" &lt;&lt; num_char &lt;&lt; endl;\n    size_t uint32t_size = arr.size() * sizeof(char) / sizeof(uint32_t);\n    uint32_t* ptr_arr0 = (uint32_t*)arr.data();\n\n    cout &lt;&lt; \"uint32_t size: \" &lt;&lt; uint32t_size &lt;&lt; endl;\n    cout &lt;&lt; \"uint32_t interpretatin:\" &lt;&lt; endl;\n    for (i = 0; i &lt; uint32t_size; i++){\n        cout &lt;&lt; ptr_arr0[i] &lt;&lt; ' ';\n    }\n    cout &lt;&lt; endl;\n\n    cout &lt;&lt; \"32bit byteswap: \" &lt;&lt; endl;\n    for (i=0; i &lt; uint32t_size; i++){\n        ptr_arr0[i] = bswap_32(ptr_arr0[i]);\n        cout &lt;&lt; ptr_arr0[i] &lt;&lt; ' ';\n    }\n    cout &lt;&lt; endl;\n    cout &lt;&lt; \"characters after byte swap: \" &lt;&lt; endl;\n    for (i=0; i &lt; num_char; i++){\n        cout &lt;&lt; int(arr[i]) &lt;&lt; ' ';\n    }\n    cout &lt;&lt; endl;\n\n}   \n</code></pre>\n\n<p>output of fileio.cpp:</p>\n\n<pre><code>0 0 1 0 1 0 1 0 2 0 1 0 3 0 1 0 4 0 1 0 5 0 1 0 6 0 1 0 7 0 1 0 8 0 1 0 0 1 0 0 1 0 0 1 0 0 1 0 0 1 0 14 0 1 0 15 0 1 0 16 0 1 0 17 0 1 0 18 0 1 0 19 0 1 0 \nnumber of characters: 75\nuint32_t size: 18\nuint32_t interpretatin:\n65536 65537 65538 65539 65540 65541 65542 65543 65544 256 16777217 65536 234881280 251658496 268435712 285212928 301990144 318767360 \n32bit byteswap: \n256 16777472 33554688 50331904 67109120 83886336 100663552 117440768 134217984 65536 16777217 256 65550 65551 65552 65553 65554 65555 \ncharacters after byte swap: \n0 1 0 0 0 1 0 1 0 1 0 2 0 1 0 3 0 1 0 4 0 1 0 5 0 1 0 6 0 1 0 7 0 1 0 8 0 0 1 0 1 0 0 1 0 1 0 0 14 0 1 0 15 0 1 0 16 0 1 0 17 0 1 0 18 0 1 0 19 0 1 0 0 1 0 \n</code></pre>\n\n<p>It seems that byte swapping is not the only problem. The c++ program didn't even read all the 8bit integers correctly, as in:</p>\n\n<pre><code>... 1 0 8 0 1 0 0 1 0 0 1 0 0 1 0 0 1 0 0 1 0 14 ...\n</code></pre>\n\n<p>There is no number 9,10,11,12,13, despite these numbers exist in hex editor view of test.bin.</p>\n\n<p>Possibly related questions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/19787186/reading-an-uint32-t-from-a-byte-stream\">Reading an uint32_t from a byte stream</a> </li>\n<li><a href=\"https://stackoverflow.com/questions/23418818/read-uint32-t-values-from-file\">Read uint32_t values from file</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23831422/what-endianness-does-python-use-to-write-into-files\">What endianness does Python use to write into files?</a></li>\n</ul>\n\n<p>Update:</p>\n\n<p>readbinary.cpp\nIt is from <a href=\"https://stackoverflow.com/questions/15138353/reading-the-binary-file-into-the-vector-of-unsigned-chars\">reading the binary file into the vector of unsigned chars</a></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;fstream&gt;\n#include &lt;byteswap.h&gt;\n#include &lt;iterator&gt;\nusing namespace std;\n\ntypedef unsigned char BYTE;\nstd::vector&lt;BYTE&gt; readFile(const char* filename)\n{\n    // open the file:\n    std::ifstream file(filename, std::ios::binary);\n\n    // Stop eating new lines in binary mode!!!\n    file.unsetf(std::ios::skipws);\n\n    // get its size:\n    std::streampos fileSize;\n\n    file.seekg(0, std::ios::end);\n    fileSize = file.tellg();\n    file.seekg(0, std::ios::beg);\n\n    // reserve capacity\n    std::vector&lt;BYTE&gt; vec;\n    vec.reserve(fileSize);\n\n    // read the data:\n    vec.insert(vec.begin(),\n               std::istream_iterator&lt;BYTE&gt;(file),\n               std::istream_iterator&lt;BYTE&gt;());\n\n    return vec;\n}\n\n\nint main(void){\n    std::vector&lt;BYTE&gt;  arr = readFile(\"test.bin\");\n    int i;\n    for (i=0;i&lt;arr.size();i++){\n        cout &lt;&lt; int(arr[i]) &lt;&lt; ' ';\n    }\n} \n</code></pre>\n\n<p>output of readbinary.cpp (it has 9,10,11,12).</p>\n\n<pre><code>0 0 1 0 1 0 1 0 2 0 1 0 3 0 1 0 4 0 1 0 5 0 1 0 6 0 1 0 7 0 1 0 8 0 1 0 9 0 1 0 10 0 1 0 11 0 1 0 12 0 1 0 13 0 1 0 14 0 1 0 15 0 1 0 16 0 1 0 17 0 1 0 18 0 1 0 19 0 1 0\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1468444063, "post_id": 38361639, "comment_id": 64135784, "body": "Probably not related to your problem, but does <code>for row in rows: terms = row[1]</code> really do what you intended? Shouldn&#39;t that be <code>terms+= row</code> or <code>terms.append(row[1])</code>?"}, {"owner": {"reputation": 936, "user_id": 5080273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b26b400d54f2a52add7900c381fb1778?s=128&d=identicon&r=PG&f=1", "display_name": "semiflex", "link": "https://stackoverflow.com/users/5080273/semiflex"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1468444151, "post_id": 38361639, "comment_id": 64135821, "body": "Yep. It pulls everything from the column &quot;terms&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 1723, "user_id": 6580543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2d26bb59afa57a4a08d5000af6391d?s=128&d=identicon&r=PG&f=1", "display_name": "mitoRibo", "link": "https://stackoverflow.com/users/6580543/mitoribo"}, "is_accepted": false, "score": 1, "last_activity_date": 1468444492, "creation_date": 1468444492, "answer_id": 38361820, "question_id": 38361639, "link": "https://stackoverflow.com/questions/38361639/search-a-dictionary-criteria-with-terms-and-return-key/38361820#38361820", "title": "Search a dictionary criteria with terms and return key", "body": "<p>I don't know what the pyodbc or cursor part of this code is, but I have tried running the following and it works. I'm not sure if it's exactly what you want though as it's returning the answers in a list and I might have miss interpreted the form of the \"terms\" input.</p>\n\n<pre><code>import re\n\nkeyword_dictionary = {\n    'Animals' : {'animal', 'dog', 'cat'},\n    'Art' : {'art', 'sculpture', 'fearns','graphic','display','lights'},\n    'Fruit' : {'yellow','fruit'},\n}\ndef matcher(keywords, terms):\n    final_results = []\n    for term in terms:\n        for word in term.split(\" \"):\n            for key, words in keywords.items():\n                if word in words:\n                    result = []\n                    result.append(key)\n                    result1 = str(result).replace(\"['\", \"\")\n                    final_results.append(str(result1).replace(\"']\", \"\"))\n    return final_results\n\nterms = [\"wendy bought a dog\",\"that's a red fruit\"]\nresults = matcher(keyword_dictionary, terms)\nprint results\n</code></pre>\n\n<p>yielding:</p>\n\n<pre><code>['Animals', 'Fruit']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4893, "user_id": 2335020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ql0vj.png?s=128&g=1", "display_name": "576i", "link": "https://stackoverflow.com/users/2335020/576i"}, "is_accepted": false, "score": 1, "last_activity_date": 1468444624, "creation_date": 1468444624, "answer_id": 38361842, "question_id": 38361639, "link": "https://stackoverflow.com/questions/38361639/search-a-dictionary-criteria-with-terms-and-return-key/38361842#38361842", "title": "Search a dictionary criteria with terms and return key", "body": "<p>Your code splits the searcher into single letters,\nyou need to split by spaces.\nThe rest seems OK.</p>\n\n<p>Example:</p>\n\n<pre><code>searcher = 'wendy bought a dog'\n\n# result: single letters\nfor word in searcher:\n    print word\n\n# result: words\nfor word in searcher.split(' '):\n    print word\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7073, "user_id": 1708751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b03d21276ae07910a1ab8f22f7bf282?s=128&d=identicon&r=PG", "display_name": "Sunny Patel", "link": "https://stackoverflow.com/users/1708751/sunny-patel"}, "edited": false, "score": 0, "creation_date": 1468445829, "post_id": 38361882, "comment_id": 64136622, "body": "This is awesome! I totally forgot about set intersects."}], "tags": [], "owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "is_accepted": true, "score": 2, "last_activity_date": 1468444786, "creation_date": 1468444786, "answer_id": 38361882, "question_id": 38361639, "link": "https://stackoverflow.com/questions/38361639/search-a-dictionary-criteria-with-terms-and-return-key/38361882#38361882", "title": "Search a dictionary criteria with terms and return key", "body": "<p>Set operations are the way to go here:</p>\n\n<pre><code>def matcher(keywords, searcher):\n    for sentence in searcher:\n        sentence= set(sentence.split()) # split sentence into words\n        for key,words in keywords.iteritems():\n            if sentence &amp; words: # if these two sets of words intersect, output the key\n                print key\n\n\nkeyword_dictionary = {\n    'Animals' : {'animal', 'dog', 'cat'},\n    'Art' : {'art', 'sculpture', 'fearns','graphic','display','lights'},\n    'Fruit' : {'yellow','fruit'},\n}\n\nmatcher(keyword_dictionary, [\"wendy bought a dog\",\"that's a red fruit\"])\n# output: Animals\n#         Fruit\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7073, "user_id": 1708751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b03d21276ae07910a1ab8f22f7bf282?s=128&d=identicon&r=PG", "display_name": "Sunny Patel", "link": "https://stackoverflow.com/users/1708751/sunny-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1468445970, "last_edit_date": 1495541327, "creation_date": 1468445434, "answer_id": 38362027, "question_id": 38361639, "link": "https://stackoverflow.com/questions/38361639/search-a-dictionary-criteria-with-terms-and-return-key/38362027#38362027", "title": "Search a dictionary criteria with terms and return key", "body": "<p>I'd think the easiest way to solve this is to <a href=\"https://stackoverflow.com/questions/483666/python-reverse-inverse-a-mapping\">reverse the keys and values</a> of <code>keyword_dictionary</code> and perform a search on every word.</p>\n\n<p>I put a simple example of this on <a href=\"https://repl.it/Cbla/2\" rel=\"nofollow noreferrer\">repl.it</a>.</p>\n\n<pre><code>keyword_dictionary = {\n    'Animals' : {'animal', 'dog', 'cat'},\n    'Art' : {'art', 'sculpture', 'fearns','graphic','display','lights'},\n    'Fruit' : {'yellow','fruit'},\n}\n#Swap the keys and values\nkeywords = dict(pair for key in keyword_dictionary.keys() for pair in dict.fromkeys(keyword_dictionary[key], key).items())\n\ndef keyword(sentence):\n    for word in set(map(str.lower, sentence.split())):\n        if word in keywords:\n            return keywords[word]\n    return None\n\nprint keyword(\"Wendy bought a dog\")   #Returns \"Animal\"\nprint keyword(\"that's a red fruit\")   #Returns \"Fruit\"\n</code></pre>\n"}], "owner": {"reputation": 936, "user_id": 5080273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b26b400d54f2a52add7900c381fb1778?s=128&d=identicon&r=PG&f=1", "display_name": "semiflex", "link": "https://stackoverflow.com/users/5080273/semiflex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 38361882, "answer_count": 4, "score": 2, "last_activity_date": 1468445970, "creation_date": 1468443706, "last_edit_date": 1468444026, "question_id": 38361639, "link": "https://stackoverflow.com/questions/38361639/search-a-dictionary-criteria-with-terms-and-return-key", "title": "Search a dictionary criteria with terms and return key", "body": "<p>I have a dictionary with a criteria and I want to return one key if any one of the terms matches with the criteria. Here's what my code looks like so far: </p>\n\n<pre><code>import re\nimport pyodbc\n\nkeyword_dictionary = {\n    'Animals' : {'animal', 'dog', 'cat'},\n    'Art' : {'art', 'sculpture', 'fearns','graphic','display','lights'},\n    'Fruit' : {'yellow','fruit'},\n}\ndef matcher(keywords, searcher):\n    for word in searcher:\n        for key, words in keywords.items():\n            if word in words:\n                result = []\n                result.append(key)\n                result1 = str(result).replace(\"['\", \"\")\n                final_result = str(result1).replace(\"']\", \"\")\n                print final_result\n\ncnxn = pyodbc.connect('DRIVER={SQL Server};SERVER=INSERT SERVER NAME;DATABASE=INSERT DATABASE NAME;UID=INSERT USERNAME;PWD=INSERT PASSWORD')\ncursor = cnxn.cursor()\n\ncursor.execute(\"SELECT TOP 50 [unique_id] \\\n      ,[terms] \\\n      ,[url] \\ \n      FROM [INSERT DATABASE NAME].[dbo].[INSERT TABLE NAME]\")\n\nrows = cursor.fetchall()\n\nfor row in rows:\n    terms = row[1]\nmatcher(keyword_dictionary, terms)\n</code></pre>\n\n<p>A term may be something like </p>\n\n<pre><code>\"wendy bought a dog\" \n</code></pre>\n\n<p>which should print the key <code>Animals</code></p>\n\n<p>or </p>\n\n<pre><code>\"that's a red fruit\" \n</code></pre>\n\n<p>which should print the key <code>Fruit</code> </p>\n\n<p>Does anyone know how I would go about editing my code so it does this? </p>\n"}, {"tags": ["python", "csv", "pandas", "dataframe", "header"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1468443634, "post_id": 38361582, "comment_id": 64135583, "body": "if you want to append data to your CSV, try this: <code>df.to_csv(&#39;foo.csv&#39;, index = False, mode=&#39;a&#39;) </code>"}, {"owner": {"reputation": 361, "user_id": 6074722, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EPZeh.jpg?s=128&g=1", "display_name": "ThatRiddimGuy", "link": "https://stackoverflow.com/users/6074722/thatriddimguy"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1468444268, "post_id": 38361582, "comment_id": 64135871, "body": "Thanks @MaxU, but that part I understand, I need to write to the CSV file with headers in the first run, and then no header the following runs. Does that make sense?"}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 8, "last_activity_date": 1468444836, "creation_date": 1468444836, "answer_id": 38361891, "question_id": 38361582, "link": "https://stackoverflow.com/questions/38361582/skip-header-after-the-first-time-csv-file-is-written-into-python/38361891#38361891", "title": "Skip header after the first time CSV file is written into (Python)", "body": "<p>try this:</p>\n\n<pre><code>filename = '/path/to/file.csv'\ndf.to_csv(filename, index=False, mode='a', header=(not os.path.exists(filename)))\n</code></pre>\n"}], "owner": {"reputation": 361, "user_id": 6074722, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/EPZeh.jpg?s=128&g=1", "display_name": "ThatRiddimGuy", "link": "https://stackoverflow.com/users/6074722/thatriddimguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1467, "favorite_count": 0, "accepted_answer_id": 38361891, "answer_count": 1, "score": 4, "last_activity_date": 1468444836, "creation_date": 1468443506, "last_edit_date": 1468443642, "question_id": 38361582, "link": "https://stackoverflow.com/questions/38361582/skip-header-after-the-first-time-csv-file-is-written-into-python", "title": "Skip header after the first time CSV file is written into (Python)", "body": "<p>The following script for writing to a CSV file is going to run on a server which will automate the run.</p>\n\n<pre><code>    d = {'col1': a, col2': b, col3': c,}\n    df = pandas.DataFrame(d, index = [0])\n    with open('foo.csv', 'a') as f:\n            df.to_csv(f, index = False)    \n</code></pre>\n\n<p>The problem is, everytime I run it, the header gets copied to the CSV file. How can I modify this code to have the header copied to the CSV file only the first time its run, and never after that?</p>\n\n<p>Any help will be appreciated :)</p>\n"}, {"tags": ["python", "numpy", "pandas", "time-series"], "answers": [{"comments": [{"owner": {"reputation": 5330, "user_id": 4666038, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1b7dc5a512d97a4ebf22648eff6db61e?s=128&d=identicon&r=PG&f=1", "display_name": "User456898", "link": "https://stackoverflow.com/users/4666038/user456898"}, "edited": false, "score": 1, "creation_date": 1468465350, "post_id": 38361725, "comment_id": 64141638, "body": "When using bfill( ).reset_index( ), the following TypeError is displayed:  Only valid with DatetimeIndex, TimedeltaIndex or PeriodIndex, but got an instance of &#39;RangeIndex&#39;"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 5330, "user_id": 4666038, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1b7dc5a512d97a4ebf22648eff6db61e?s=128&d=identicon&r=PG&f=1", "display_name": "User456898", "link": "https://stackoverflow.com/users/4666038/user456898"}, "edited": false, "score": 2, "creation_date": 1468470419, "post_id": 38361725, "comment_id": 64142800, "body": "You need set index from column <code>PriceDate</code> - <code>data.set_index(&#39;PriceDate&#39;, inplace=True)</code>."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 5330, "user_id": 4666038, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1b7dc5a512d97a4ebf22648eff6db61e?s=128&d=identicon&r=PG&f=1", "display_name": "User456898", "link": "https://stackoverflow.com/users/4666038/user456898"}, "edited": false, "score": 2, "creation_date": 1468495441, "post_id": 38361725, "comment_id": 64156220, "body": "I am not sure if understand correctly - do you need set new column - <code>data[&#39;new&#39;] = data[&#39;PriceDate&#39;]</code> ?"}, {"owner": {"reputation": 5330, "user_id": 4666038, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1b7dc5a512d97a4ebf22648eff6db61e?s=128&d=identicon&r=PG&f=1", "display_name": "User456898", "link": "https://stackoverflow.com/users/4666038/user456898"}, "edited": false, "score": 0, "creation_date": 1468497028, "post_id": 38361725, "comment_id": 64157265, "body": "No, I actually got the solution. Wanted the corresponding dayname of data[&#39;PriceDate&#39;] without repetition. This is not related to this particular question.  Found the solution to print the daynames without repetition over here: <a href=\"http://stackoverflow.com/questions/30222533/create-a-day-of-week-column-in-a-pandas-dataframe-using-python\" title=\"create a day of week column in a pandas dataframe using python\">stackoverflow.com/questions/30222533/&hellip;</a>"}, {"owner": {"reputation": 428, "user_id": 7560187, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SFMKoTAemeQ/AAAAAAAAAAI/AAAAAAAAAKs/zLR2rz8KlWE/photo.jpg?sz=128", "display_name": "Renel Chesak", "link": "https://stackoverflow.com/users/7560187/renel-chesak"}, "edited": false, "score": 0, "creation_date": 1519356695, "post_id": 38361725, "comment_id": 84888278, "body": "@jezrael Any ideas on how to implement this when your data contains hundreds of different IDs? For example, I have time series data for 300 buildings and need to fill in time gaps for each as individual time series. I have written a function by hand which seems to work on small datasets but it&#39;s extremely slow."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 428, "user_id": 7560187, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SFMKoTAemeQ/AAAAAAAAAAI/AAAAAAAAAKs/zLR2rz8KlWE/photo.jpg?sz=128", "display_name": "Renel Chesak", "link": "https://stackoverflow.com/users/7560187/renel-chesak"}, "edited": false, "score": 0, "creation_date": 1519366776, "post_id": 38361725, "comment_id": 84891094, "body": "@RenelChesak - You need <code>data = data.groupby(&#39;ID&#39;).resample(&#39;D&#39;).ffill().reset_index(level=0&zwnj;&#8203;, drop=True).reset_index()</code>"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 20, "last_activity_date": 1468444370, "last_edit_date": 1468444370, "creation_date": 1468444050, "answer_id": 38361725, "question_id": 38361526, "link": "https://stackoverflow.com/questions/38361526/fill-the-missing-date-values-in-a-pandas-dataframe-column/38361725#38361725", "title": "Fill the missing date values in a Pandas Dataframe column", "body": "<p>I think you can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html\" rel=\"noreferrer\"><code>resample</code></a> with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.tseries.resample.Resampler.ffill.html\" rel=\"noreferrer\"><code>ffill</code></a> or <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.tseries.resample.Resampler.bfill.html\" rel=\"noreferrer\"><code>bfill</code></a>, but before <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_index.html\" rel=\"noreferrer\"><code>set_index</code></a> from column <code>PriceDate</code>:</p>\n\n<pre><code>print (data)\n   ID  PriceDate  OpenPrice  HighPrice\n0   1  6/24/2016          1          2\n1   2  6/23/2016          3          4\n2   2  6/22/2016          5          6\n3   2  6/21/2016          7          8\n4   2  6/20/2016          9         10\n5   2  6/17/2016         11         12\n6   2  6/16/2016         13         14\n</code></pre>\n\n\n\n<pre><code>data['PriceDate'] =  pd.to_datetime(data['PriceDate'], format='%m/%d/%Y')\ndata = data.sort_values(by=['PriceDate'], ascending=[True])\ndata.set_index('PriceDate', inplace=True)\nprint (data)\n            ID  OpenPrice  HighPrice\nPriceDate                           \n2016-06-16   2         13         14\n2016-06-17   2         11         12\n2016-06-20   2          9         10\n2016-06-21   2          7          8\n2016-06-22   2          5          6\n2016-06-23   2          3          4\n2016-06-24   1          1          2\n\ndata = data.resample('D').ffill().reset_index()\nprint (data)\n   PriceDate  ID  OpenPrice  HighPrice\n0 2016-06-16   2         13         14\n1 2016-06-17   2         11         12\n2 2016-06-18   2         11         12\n3 2016-06-19   2         11         12\n4 2016-06-20   2          9         10\n5 2016-06-21   2          7          8\n6 2016-06-22   2          5          6\n7 2016-06-23   2          3          4\n8 2016-06-24   1          1          2\n</code></pre>\n\n<hr>\n\n<pre><code>data = data.resample('D').bfill().reset_index()\nprint (data)\n   PriceDate  ID  OpenPrice  HighPrice\n0 2016-06-16   2         13         14\n1 2016-06-17   2         11         12\n2 2016-06-18   2          9         10\n3 2016-06-19   2          9         10\n4 2016-06-20   2          9         10\n5 2016-06-21   2          7          8\n6 2016-06-22   2          5          6\n7 2016-06-23   2          3          4\n8 2016-06-24   1          1          2\n</code></pre>\n"}], "owner": {"reputation": 5330, "user_id": 4666038, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1b7dc5a512d97a4ebf22648eff6db61e?s=128&d=identicon&r=PG&f=1", "display_name": "User456898", "link": "https://stackoverflow.com/users/4666038/user456898"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14714, "favorite_count": 2, "accepted_answer_id": 38361725, "answer_count": 1, "score": 11, "last_activity_date": 1468444370, "creation_date": 1468443301, "question_id": 38361526, "link": "https://stackoverflow.com/questions/38361526/fill-the-missing-date-values-in-a-pandas-dataframe-column", "title": "Fill the missing date values in a Pandas Dataframe column", "body": "<p>I'm using Pandas to store stock prices data using Data Frames. There are 2940 rows in the dataset. The Dataset snapshot is displayed below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ptPzP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ptPzP.png\" alt=\"enter image description here\"></a></p>\n\n<p>The time series data does not contain the values for Saturday and Sunday. Hence missing values have to be filled. \n<br>Here is the code I've written but it is not solving the problem:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport os\nos.chdir('C:/Users/Admin/Analytics/stock-prices')\n\ndata  = pd.read_csv('stock-data.csv')\n\n# PriceDate Column - Does not contain Saturday and Sunday stock entries\ndata['PriceDate'] =  pd.to_datetime(data['PriceDate'], format='%m/%d/%Y')\ndata = data.sort_index(by=['PriceDate'], ascending=[True])\n\n\n# Starting date is Aug 25 2004\nidx = pd.date_range('08-25-2004',periods=2940,freq='D')\n\n\ndata = data.set_index(idx)\ndata['newdate']=data.index\nnewdate=data['newdate'].values   # Create a time series column   \n\n\ndata = pd.merge(newdate, data, on='PriceDate', how='outer')\n</code></pre>\n\n<p><strong>How to fill the missing values for Saturday and Sunday?</strong></p>\n"}, {"tags": ["python", "python-requests"], "comments": [{"owner": {"reputation": 1513, "user_id": 6041527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pprLg.png?s=128&g=1", "display_name": "quikst3r", "link": "https://stackoverflow.com/users/6041527/quikst3r"}, "edited": false, "score": 0, "creation_date": 1468443474, "post_id": 38361506, "comment_id": 64135501, "body": "I copied your code and ran it 1000 times. Always got a 200 back."}, {"owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "edited": false, "score": 0, "creation_date": 1468443528, "post_id": 38361506, "comment_id": 64135536, "body": "Same here.  Did they block your ip as a rate limit or something?"}, {"owner": {"reputation": 3894, "user_id": 279355, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87dd83e44550f39bea6f712af8d3aef3?s=128&d=identicon&r=PG", "display_name": "grundic", "link": "https://stackoverflow.com/users/279355/grundic"}, "edited": false, "score": 0, "creation_date": 1468443605, "post_id": 38361506, "comment_id": 64135571, "body": "Same here, works just fine. Try opening this url in browser or use different tool - like curl: curl -L kat.cr"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1468443795, "post_id": 38361506, "comment_id": 64135662, "body": "Your code uses <code>http:</code>, but your reported error message has <code>https:</code>.  Which is it supposed to be?"}, {"owner": {"reputation": 295, "user_id": 3885884, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/348308da467250c343f7b6b1b2b120cc?s=128&d=identicon&r=PG&f=1", "display_name": "user3885884", "link": "https://stackoverflow.com/users/3885884/user3885884"}, "edited": false, "score": 0, "creation_date": 1468443955, "post_id": 38361506, "comment_id": 64135748, "body": "It worked for me too at the first day, but then it just stopped, and it works in the browser too, so I don&#39;t think they blocked my IP"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1468610750, "post_id": 38361506, "comment_id": 64215768, "body": "When dealing with torrent sites anything is possible"}], "owner": {"reputation": 295, "user_id": 3885884, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/348308da467250c343f7b6b1b2b120cc?s=128&d=identicon&r=PG&f=1", "display_name": "user3885884", "link": "https://stackoverflow.com/users/3885884/user3885884"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1468443249, "creation_date": 1468443249, "question_id": 38361506, "link": "https://stackoverflow.com/questions/38361506/python-requests-doesnt-load-site-content-anymore", "title": "Python requests doesn&#39;t load site content anymore", "body": "<p>I'm using requests module to retrieve content from the website <a href=\"http://kat.cr\" rel=\"nofollow\">kat.cr</a>\nand here is the code I used:</p>\n\n<pre><code>try:\n    response = requests.get('http://kat.cr')\n    response.raise_for_status()\nexcept Exception as e:\n    print(e)\nelse:\n    return response.text\n</code></pre>\n\n<p>At first the code works just fine and I could retrieve the website source code, but then it stopped and I keep receiving this message \"404 Client Error: Not Found for url: <a href=\"https://kat.cr\" rel=\"nofollow\">https://kat.cr</a>\" </p>\n\n<p>I tried fixing this issue with user-agent like this:</p>\n\n<pre><code>from fake_useragent import UserAgent\n\ntry:\n    ua = UserAgent()\n    ua.update()\n    headers = {'User-Agent': ua.random}\n    response = requests.get(url, headers=headers)\n    response.raise_for_status()\nexcept Exception as e:\n    print(e)\nelse:\n    return response.text\n</code></pre>\n\n<p>But this doesn't seem to work either</p>\n\n<p>Can you please help me fix this problem and thanks.</p>\n"}, {"tags": ["python", "command-line-interface", "httpie"], "answers": [{"comments": [{"owner": {"reputation": 830, "user_id": 3454650, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6ccec193e74c155b5575cf893799e694?s=128&d=identicon&r=PG&f=1", "display_name": "spanishgum", "link": "https://stackoverflow.com/users/3454650/spanishgum"}, "edited": false, "score": 0, "creation_date": 1468443497, "post_id": 38361546, "comment_id": 64135515, "body": "Awesome! I suppose I should have started my search from ~. Thanks for the help :)"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 830, "user_id": 3454650, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6ccec193e74c155b5575cf893799e694?s=128&d=identicon&r=PG&f=1", "display_name": "spanishgum", "link": "https://stackoverflow.com/users/3454650/spanishgum"}, "edited": false, "score": 0, "creation_date": 1468443669, "post_id": 38361546, "comment_id": 64135604, "body": "limiting things is always a good idea, when you can ;) If this solves your problem don&#39;t forget to mark it as accepted."}, {"owner": {"reputation": 830, "user_id": 3454650, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6ccec193e74c155b5575cf893799e694?s=128&d=identicon&r=PG&f=1", "display_name": "spanishgum", "link": "https://stackoverflow.com/users/3454650/spanishgum"}, "edited": false, "score": 0, "creation_date": 1468443873, "post_id": 38361546, "comment_id": 64135697, "body": "Absolutely! Just waiting for the timer to let me hit the check mark. Appreciate the quick response."}], "tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": true, "score": 1, "last_activity_date": 1468443370, "creation_date": 1468443370, "answer_id": 38361546, "question_id": 38361505, "link": "https://stackoverflow.com/questions/38361505/how-do-i-locate-python-command-line-tools-after-installing-to-non-root-user-ac/38361546#38361546", "title": "How do I locate python command line tools after installing to (non-root) user account?", "body": "<p>Typically they'll be installed to <code>~/.local/bin</code>.</p>\n\n<p>Add that to your path:</p>\n\n<p><code>export PATH=\"$PATH\":/home/grads/me/.local/bin</code></p>\n\n<p>And you should be able to run the command like you expect.</p>\n"}], "owner": {"reputation": 830, "user_id": 3454650, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6ccec193e74c155b5575cf893799e694?s=128&d=identicon&r=PG&f=1", "display_name": "spanishgum", "link": "https://stackoverflow.com/users/3454650/spanishgum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "accepted_answer_id": 38361546, "answer_count": 1, "score": 3, "last_activity_date": 1468443370, "creation_date": 1468443242, "question_id": 38361505, "link": "https://stackoverflow.com/questions/38361505/how-do-i-locate-python-command-line-tools-after-installing-to-non-root-user-ac", "title": "How do I locate python command line tools after installing to (non-root) user account?", "body": "<p>On my work server I run <code>sudo pip install httpie</code> which allows me to execute <code>http google.com</code>.</p>\n\n<p>On my school server I run <code>pip install --user httpie</code>. When I attempt to use the utility, I get a <code>http: command not found</code> error. I know that the package is installed at </p>\n\n<pre><code>/home/grads/me/.local/lib64/python2.7/site-packages/httpie\n</code></pre>\n\n<p>but I am not quite sure how to register the command line tool. My work server says the command is located in <code>/usr/bin/http</code> but I have not been able to locate a binary on my school server.</p>\n\n<p>I did try something like <code>find / |&amp; grep http</code> but there is way too many things to look at. I am assuming I just need to add something to my <code>PATH</code>, but the question is what?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1468443408, "post_id": 38361491, "comment_id": 64135463, "body": "You ought use a with statement to read/write a file: <code>with io.open(&quot;list.txt&quot;, mode=&quot;r&quot;) as in_file: content = in_file.read()</code>."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1468443575, "post_id": 38361491, "comment_id": 64135561, "body": "@LaurentLAPORTE if you&#39;re going to give good advice, don&#39;t give bad advice, too. The OP is already (properly) iterating over the file with <code>for i in infile</code>. Reading the entire file could potentially be a problem when they try to process a file with 2,000,000 rows in it"}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1468444425, "post_id": 38361491, "comment_id": 64135943, "body": "you&#39;re right. I only wanted to write a short comment here. Sorry."}, {"owner": {"reputation": 601, "user_id": 300978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f4b02ef0cd7a2d44c64922440b684f5?s=128&d=identicon&r=PG", "display_name": "brohjoe", "link": "https://stackoverflow.com/users/300978/brohjoe"}, "edited": false, "score": 0, "creation_date": 1468447051, "post_id": 38361491, "comment_id": 64137119, "body": "Thanks for your help Wayne!"}], "tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": false, "score": 0, "last_activity_date": 1468443212, "creation_date": 1468443212, "answer_id": 38361491, "question_id": 38361458, "link": "https://stackoverflow.com/questions/38361458/decimal-decimal-is-not-iterable-error/38361491#38361491", "title": "decimal.Decimal is not iterable error", "body": "<p><code>sum()</code> takes an iterable. Just change your code to <code>total += dollar_dec</code></p>\n"}, {"comments": [{"owner": {"reputation": 601, "user_id": 300978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f4b02ef0cd7a2d44c64922440b684f5?s=128&d=identicon&r=PG", "display_name": "brohjoe", "link": "https://stackoverflow.com/users/300978/brohjoe"}, "edited": false, "score": 0, "creation_date": 1468443711, "post_id": 38361522, "comment_id": 64135620, "body": "I&#39;m still getting the same error with   total += dollar_dec"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 601, "user_id": 300978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f4b02ef0cd7a2d44c64922440b684f5?s=128&d=identicon&r=PG", "display_name": "brohjoe", "link": "https://stackoverflow.com/users/300978/brohjoe"}, "edited": false, "score": 0, "creation_date": 1468443898, "post_id": 38361522, "comment_id": 64135709, "body": "@brohjoe: Are you sure you&#39;re not just getting an entirely different error that happens to be on the same line? Your code has more than one bug."}, {"owner": {"reputation": 601, "user_id": 300978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f4b02ef0cd7a2d44c64922440b684f5?s=128&d=identicon&r=PG", "display_name": "brohjoe", "link": "https://stackoverflow.com/users/300978/brohjoe"}, "edited": false, "score": 0, "creation_date": 1468444547, "post_id": 38361522, "comment_id": 64135994, "body": "I&#39;m getting unsupported operand type(s) for +=: &#39;float&#39; and &#39;decimal.Decimal&#39;"}, {"owner": {"reputation": 601, "user_id": 300978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f4b02ef0cd7a2d44c64922440b684f5?s=128&d=identicon&r=PG", "display_name": "brohjoe", "link": "https://stackoverflow.com/users/300978/brohjoe"}, "edited": false, "score": 0, "creation_date": 1468447026, "post_id": 38361522, "comment_id": 64137114, "body": "Thanks for your help Paul."}], "tags": [], "owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "is_accepted": false, "score": 1, "last_activity_date": 1468446400, "last_edit_date": 1468446400, "creation_date": 1468443291, "answer_id": 38361522, "question_id": 38361458, "link": "https://stackoverflow.com/questions/38361458/decimal-decimal-is-not-iterable-error/38361522#38361522", "title": "decimal.Decimal is not iterable error", "body": "<pre><code>total = sum(dollar_dec)\n</code></pre>\n\n<p>sum() takes an iterable (a list, for example) and adds up all the values.  You are passing it a single number, which is an error.  You probably want</p>\n\n<pre><code>total = Decimal('0.0')\n...\ntotal += dollar_dec\n</code></pre>\n\n<p>Which will keep a running total.</p>\n\n<p>(edit- total must be a Decimal for you to add Decimals to it)</p>\n"}, {"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": true, "score": 1, "last_activity_date": 1468444252, "creation_date": 1468444252, "answer_id": 38361784, "question_id": 38361458, "link": "https://stackoverflow.com/questions/38361458/decimal-decimal-is-not-iterable-error/38361784#38361784", "title": "decimal.Decimal is not iterable error", "body": "<p>Say, you have the following file content:</p>\n\n<pre><code>content = \"\"\"\\\none $1.50\ntwo $3.00\nthree $4.50\"\"\"\n</code></pre>\n\n<p>You can use the in-place operator <code>+=</code> to calculate the total:</p>\n\n<pre><code>from decimal import Decimal\nimport io\n\ntotal = Decimal(0)\nwith io.StringIO(content) as fd:\n    for line in fd:\n        parts = line.strip().split()\n        if len(parts) &gt; 1:\n            dollard_dec = Decimal(parts[1].strip(\"$\"))\n            total += dollard_dec\n\nprint(total)\n</code></pre>\n\n<p>Her, you get: 9.00</p>\n\n<p>You can also use <code>sum()</code> on a iterable (here a comprehension list):</p>\n\n<pre><code>with io.StringIO(content) as fd:\n    total = sum(Decimal(line.strip().split()[1].strip(\"$\"))\n                for line in fd)\nprint(total)\n</code></pre>\n\n<p>Yes, you get 9.00 too!</p>\n"}], "owner": {"reputation": 601, "user_id": 300978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f4b02ef0cd7a2d44c64922440b684f5?s=128&d=identicon&r=PG", "display_name": "brohjoe", "link": "https://stackoverflow.com/users/300978/brohjoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3244, "favorite_count": 0, "accepted_answer_id": 38361784, "answer_count": 3, "score": 0, "last_activity_date": 1468446400, "creation_date": 1468443085, "question_id": 38361458, "link": "https://stackoverflow.com/questions/38361458/decimal-decimal-is-not-iterable-error", "title": "decimal.Decimal is not iterable error", "body": "<p>I have a simple script that takes a list containing 3 columns of data.  The second column of data contains currency values with a leading dollar sign.  I have stripped away the dollar sign from the second column, now I need to add up the values.  I'm getting a \"decimal.Decimal is not iterable\" error.  Here is the code:</p>\n\n<pre><code>from decimal import Decimal\n\ndef main():\ntotal = 0.0\n\n\ntry:\n    infile = open('list.txt', 'r')\n\n    for i in infile:\n        parts = i.split()\n        if len(parts) &gt; 1:\n            dollar_dec = Decimal((parts[1]).strip('$'))\n            total = sum(dollar_dec)\n            print (total)\n\n    infile.close()\n\n\nexcept Exception as err:\n              print(err)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "comments": [{"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1468443775, "post_id": 38361419, "comment_id": 64135650, "body": "Use toLocalIterator and discard collected results?"}, {"owner": {"reputation": 2338, "user_id": 3080953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe6bc2a51d294b0d1d65fa203e496c7a?s=128&d=identicon&r=PG&f=1", "display_name": "c2huc2hu", "link": "https://stackoverflow.com/users/3080953/c2huc2hu"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1468445378, "post_id": 38361419, "comment_id": 64136410, "body": "I&#39;d like to modify the value of the <code>events</code> RDD though by adding a property, so I&#39;m not sure how discarding the collected results would work. I could create a new array of the new property using toLocalIterator, then zip and map, but ideally there would be a way to convert to a &quot;non-local iterator&quot;"}], "owner": {"reputation": 2338, "user_id": 3080953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe6bc2a51d294b0d1d65fa203e496c7a?s=128&d=identicon&r=PG&f=1", "display_name": "c2huc2hu", "link": "https://stackoverflow.com/users/3080953/c2huc2hu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1468450238, "creation_date": 1468442922, "question_id": 38361419, "link": "https://stackoverflow.com/questions/38361419/ordered-single-pass-pyspark", "title": "Ordered single pass pyspark", "body": "<p>I'm trying to process a csv containing rows with <code>start_time</code> and <code>end_time</code> to get the number of concurrent sessions. I'd like to iterate in a single pass over the data sorted by timestamp, and maintain an accumulator-like variable that keeps the number of active sessions, then do some other processing. To keep the accumulator accurate, I'd need to ensure that the order is guaranteed over the whole RDD (so I can't use <code>map</code> or <code>forEach</code>). </p>\n\n<p>The database is small enough that no parallelization is fine for this operation, but large enough that it won't fit in RAM. <code>toLocalIterator()</code> actually does what I want, but I can't figure out how I would do parallelized operations afterwards. </p>\n\n<p>Thanks! </p>\n\n<p>Example code: </p>\n\n<pre><code>concurrent = 0 \nsessions = sc.parallelize([\n    {start_time: '2016-01-01T00:00:00.000Z', end_time: '2016-01-01T00:01:00.000Z'}, ... ]) \nevents = sessions.flatMap(separate_end_time).sortBy(lambda x: x['timestamp']) \n    # RDD [{timestamp: '2016-01-01T00:00:00.000Z', change: 1}, \n    #      {timestamp: '2016-01-01T00:10:00.000Z', change: -1}, ...] \n\nevents.forEach(apply_accumulator)   # &lt;- replace this forEach!\n\ndef apply_accumulator(session): \n    global concurrent  \n    concurrent += change \n    session['concurrent'] = concurrent\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 1508, "user_id": 6405985, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/78736a4802ae6a766a28829994cd7fff?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wang", "link": "https://stackoverflow.com/users/6405985/peter-wang"}, "edited": false, "score": 1, "creation_date": 1468442966, "post_id": 38361413, "comment_id": 64135265, "body": "What do you mean you want it to include that stuff..isn&#39;t it already there?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1468443089, "post_id": 38361413, "comment_id": 64135320, "body": "Like <a href=\"https://regex101.com/r/nT1iR4/1\" rel=\"nofollow noreferrer\"><code>^(.*)(\\b\\d+\\b)(.+?)(\\bste?\\b)(.*)$</code></a>?"}, {"owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "reply_to_user": {"reputation": 1508, "user_id": 6405985, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/78736a4802ae6a766a28829994cd7fff?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wang", "link": "https://stackoverflow.com/users/6405985/peter-wang"}, "edited": false, "score": 0, "creation_date": 1468443137, "post_id": 38361413, "comment_id": 64135342, "body": "@PeterWang: as <code>findall</code> returns all possible combinations, I expected my second result as well. But it does not have <code>st</code> in group(3). It only gives result with <code>ste</code> in group 3"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1468443169, "post_id": 38361413, "comment_id": 64135351, "body": "It won&#39;t find overlapping matches. Each match starts from where the previous match ended."}, {"owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1468443258, "post_id": 38361413, "comment_id": 64135391, "body": "@WiktorStribi\u017cew: I need it to be more generic, as I want to replace st, ste with ave, st, blvd etc"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1468443294, "post_id": 38361413, "comment_id": 64135411, "body": "<a href=\"https://regex101.com/r/nT1iR4/4\" rel=\"nofollow noreferrer\"><code>^(.*)(\\b\\d+\\b)(.+?)(\\b(?:ste|st|ave|blvd)\\b)\\s*(.*)$</code></a>?"}, {"owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1468443359, "post_id": 38361413, "comment_id": 64135438, "body": "@Barmar: So, What are my options?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1468443427, "post_id": 38361413, "comment_id": 64135473, "body": "Use the regular expression to match the whole address, then find the strings within it that you want to replace with a separate <code>re.replace()</code>."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1468443751, "post_id": 38361413, "comment_id": 64135641, "body": "I&#39;m pretty sure y&#39;all are missing OP&#39;s point. His regex works fine. He just wants to get all possible overlapping matches."}], "answers": [{"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1468443655, "post_id": 38361539, "comment_id": 64135593, "body": "If it is working as expected, I will add the pattern explanation."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1468443710, "post_id": 38361539, "comment_id": 64135619, "body": "Did you see his comment about wanting to use this to find all the abbreviations like <code>st</code> and <code>ste</code>, so he can replace them? Your code doesn&#39;t extract <code>ste</code> as a separate match."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1468443949, "post_id": 38361539, "comment_id": 64135743, "body": "@Barmar You are thinking that up. OP wants to replace the current <code>ste</code> and <code>st</code> matching parts in the regex pattern, not in the found results. Quote from the pastebin: <i># also want to include this results: <code>(&#39;the fashion potential hq &#39;, &#39;116&#39;, &#39; w 23rd &#39;, &#39;st&#39;, &#39;ste 5 5th floor new york ny 10011&#39;)</code></i>  - just what my regex extracts."}, {"owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "edited": false, "score": 0, "creation_date": 1468443959, "post_id": 38361539, "comment_id": 64135750, "body": "@WiktorStribi\u017cew: I am expecting to have all those possibilities (as Barmar explained) B&#39;se I don&#39;t know which is going to be main address yet. So, I need all possibilities from that string to test it later."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "edited": false, "score": 0, "creation_date": 1468444009, "post_id": 38361539, "comment_id": 64135768, "body": "@inblueswithu: It is up to you to put all possible alternations you need into the pattern. Use the alternation like <code>(ste|st|ave|blvd)</code> and add up more items when you find a new one."}, {"owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "edited": false, "score": 0, "creation_date": 1468444202, "post_id": 38361539, "comment_id": 64135847, "body": "@all: I have updated the question to what I&#39;m expecting as a result."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1468444254, "post_id": 38361539, "comment_id": 64135869, "body": "@WiktorStribi\u017cew He does have both possibilities. The problem is that the string contains multiple matches, it has both <code>st</code> and <code>ste</code>, and the regexp only finds the first one."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1468444741, "post_id": 38361539, "comment_id": 64136070, "body": "@Barmar: Well, surely it is not possible with 1 regex. However, using 2 variations solve the current issue."}, {"owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "edited": false, "score": 0, "creation_date": 1468444800, "post_id": 38361539, "comment_id": 64136110, "body": "@WiktorStribi\u017cew: It is a good idea! But I guess it fails if <code>st</code> and <code>ste</code> are not next to each other. Say: <code>the fashion potential hq 116 w 23rd st 5 ste 5th floor new york ny 10011</code>. Both those two regex give same result."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "edited": false, "score": 1, "creation_date": 1468444886, "post_id": 38361539, "comment_id": 64136149, "body": "@inblueswithu: Use lazy matching with the first <code>(.*)</code> -&gt; <code>(.*?)</code>"}, {"owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "edited": false, "score": 1, "creation_date": 1468445560, "post_id": 38361539, "comment_id": 64136488, "body": "Alright. Atleast it solved part of the problem. Thank you all! Just to let you know, say if I add <code>ny</code> to my <code>st</code>, <code>ste</code> list it will still miss the <code>ste</code> result, even when used both regex expressions.  I understand this is a complicated problem and may be I have to use multiple regex expressions to filter all those street tail names I have got (st, ave, blvd etc). However, I&#39;m selecting this as correct answer as it gives me at least part of the answer I&#39;m looking for."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1468446059, "post_id": 38361539, "comment_id": 64136727, "body": "It is possible that your question sounds a bit unclear. It is possible that you just want to match some specific repeated part inside a string. Then, it would not be hard to match it once the context is more or less defined. Here, with no concrete sepcifications, with just some arbitrary text, this really is a bit hard. Note that regex is just a pattern based engine, it has no semantics support, it cannot match from the same position twice or from an earlier position, either. It is sort of limited."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 0, "last_activity_date": 1468445049, "last_edit_date": 1468445049, "creation_date": 1468443337, "answer_id": 38361539, "question_id": 38361413, "link": "https://stackoverflow.com/questions/38361413/regular-expression-with-multiple-matches-python/38361539#38361539", "title": "Regular Expression with multiple matches - Python", "body": "<p>You need to run 2 regex expressions, one with lazy dot and another with a greedy dot.</p>\n\n<p>First one is <a href=\"https://regex101.com/r/nT1iR4/7\" rel=\"nofollow\">this</a>:</p>\n\n<pre><code>^(.*?)(\\b\\d+\\b)(.+)\\b(ste|st|ave|blvd)\\b\\s*(.*)$\n</code></pre>\n\n<p>The second one with the use lazy dot matching pattern inside:</p>\n\n<pre><code>^(.*?)(\\b\\d+\\b)(.+?)\\b(ste|st|ave|blvd)\\b\\s*(.*)$\n                ^^^    ^^^^^^^^^^^^^^^\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/nT1iR4/8\" rel=\"nofollow\">regex demo</a></p>\n\n<p>Output:</p>\n\n<pre><code>the fashion potential hq \n116\n w 23rd \nst\nste 5 5th floor new york ny 10011\n</code></pre>\n\n<p><a href=\"http://ideone.com/xzO3fO\" rel=\"nofollow\">Python sample code</a>:</p>\n\n<pre><code>import re\np = re.compile(r'^(.*?)(\\b\\d+\\b)(.+?)\\b(ste|st|ave|blvd)\\b\\s*(.*)$')\np2 = re.compile(r'^(.*?)(\\b\\d+\\b)(.+)\\b(ste|st|ave|blvd)\\b\\s*(.*)$')\ns = \"the fashion potential hq 116 w 23rd st ste 5 5th floor new york ny 10011\"\nm = p.search(s)\nif m:\n    n = p2.search(s)\n    if n:\n        print([m.groups(), n.groups()])\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>[\n   ('the fashion potential hq ', '116', ' w 23rd ', 'st', 'ste 5 5th floor new york ny 10011'), \n   ('the fashion potential hq ', '116', ' w 23rd st ', 'ste', '5 5th floor new york ny 10011')\n ]\n</code></pre>\n"}], "owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 38361539, "answer_count": 1, "score": 1, "last_activity_date": 1468445904, "creation_date": 1468442894, "last_edit_date": 1468445904, "question_id": 38361413, "link": "https://stackoverflow.com/questions/38361413/regular-expression-with-multiple-matches-python", "title": "Regular Expression with multiple matches - Python", "body": "<p>I have searched the web to find a similar problem but couldn't.</p>\n\n<p>Here is an address:</p>\n\n<blockquote>\n  <p>the fashion potential hq 116 w 23rd st ste 5 5th floor new york ny\n  10011</p>\n</blockquote>\n\n<p>Using the following regex in python I tried to find the all possible main addresses in the above line: </p>\n\n<pre><code>re.findall(r'^(.*)(\\b\\d+\\b)(.+)(\\bst\\b|\\bste\\b)(.*)$', 'the fashion potential hq 116 w 23rd st ste 5 5th floor new york ny 10011')\n</code></pre>\n\n<p>I get result as: </p>\n\n<p><code>[('the fashion potential hq ', '116', ' w 23rd st ', 'ste', ' 5 5th floor new york ny 10011')]</code>. </p>\n\n<p>I also want the result to include this: <code>('the fash....', '116', 'w 23rd ', 'st', 'ste 5 5th....')</code>. I expected <code>findall</code> would do the trick but didn't. Any help is greatly appreciated.</p>\n\n<p>To make it clear what I want as output (or similar which includes all possibilities):\n<code>[\n('the fashion potential hq ', '116', ' w 23rd ', 'st', 'ste 5 5th floor new york ny 10011'), \n('the fashion potential hq ', '116', ' w 23rd st ', 'ste', ' 5 5th floor new york ny 10011')]</code></p>\n\n<p><a href=\"http://pastebin.com/tJuJgDx1\" rel=\"nofollow\">Online Python code</a></p>\n"}, {"tags": ["python", "virtual-machine", "bytecode"], "answers": [{"tags": [], "owner": {"reputation": 393, "user_id": 4040754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80d4065bd552099000f04038b31cde88?s=128&d=identicon&r=PG", "display_name": "qDot", "link": "https://stackoverflow.com/users/4040754/qdot"}, "is_accepted": false, "score": 1, "last_activity_date": 1468444580, "last_edit_date": 1468444580, "creation_date": 1468443803, "answer_id": 38361667, "question_id": 38361412, "link": "https://stackoverflow.com/questions/38361412/blank-lines-in-python-bytecode/38361667#38361667", "title": "Blank lines in python bytecode", "body": "<p>The blank lines are breaks between disassemblies of statements. The numbers at the front of the first lines of the block are the line numbers of the source, assuming you have them.</p>\n\n<p>For instance:</p>\n\n<pre><code>def test():\n    x = 1\n    y = 2\n</code></pre>\n\n<p>will show up as</p>\n\n<pre><code>2           0 LOAD_CONST               1 (1)\n            3 STORE_FAST               0 (x)\n\n3           6 LOAD_CONST               2 (2)\n            9 STORE_FAST               1 (y)\n</code></pre>\n\n<p>Where the 2 and 3 refer to lines 2 and 3 of the original source.</p>\n"}], "owner": {"reputation": 5821, "user_id": 634135, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e663a833765a8e904f7fe53827cc376e?s=128&d=identicon&r=PG", "display_name": "cobie", "link": "https://stackoverflow.com/users/634135/cobie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468444580, "creation_date": 1468442894, "question_id": 38361412, "link": "https://stackoverflow.com/questions/38361412/blank-lines-in-python-bytecode", "title": "Blank lines in python bytecode", "body": "<p>When once disassembles a python function using the <code>dis</code> function, there are blank lines between some opcodes as shown below.</p>\n\n<pre><code>  &gt;&gt;&gt; dis(fizzbuzz)\n  2           0 LOAD_FAST                0 (n)\n              3 LOAD_CONST               1 (3)\n              6 BINARY_MODULO\n              7 LOAD_CONST               2 (0)\n             10 COMPARE_OP               2 (==)\n             13 POP_JUMP_IF_FALSE       36\n             16 LOAD_FAST                0 (n)\n             19 LOAD_CONST               3 (5)\n             22 BINARY_MODULO\n             23 LOAD_CONST               2 (0)\n             26 COMPARE_OP               2 (==)\n             29 POP_JUMP_IF_FALSE       36\n\n  3          32 LOAD_CONST               4 ('FizzBuzz')\n             35 RETURN_VALUE\n\n  4     &gt;&gt;   36 LOAD_FAST                0 (n)\n             39 LOAD_CONST               1 (3)\n             42 BINARY_MODULO\n             43 LOAD_CONST               2 (0)\n             46 COMPARE_OP               2 (==)\n             49 POP_JUMP_IF_FALSE       56\n\n  5          52 LOAD_CONST               5 ('Fizz')\n             55 RETURN_VALUE\n\n  6     &gt;&gt;   56 LOAD_FAST                0 (n)\n             59 LOAD_CONST               3 (5)\n             62 BINARY_MODULO\n             63 LOAD_CONST               2 (0)\n             66 COMPARE_OP               2 (==)\n             69 POP_JUMP_IF_FALSE       76\n\n  7          72 LOAD_CONST               6 ('Buzz')\n             75 RETURN_VALUE\n\n  9     &gt;&gt;   76 LOAD_GLOBAL              0 (str)\n             79 LOAD_FAST                0 (n)\n             82 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\n             85 RETURN_VALUE\n             86 LOAD_CONST               0 (None)\n             89 RETURN_VALUE\n</code></pre>\n\n<p>The <code>&gt;&gt;</code> are used to indicate labelled instructions but I don't seem to get what the blank lines are for. Has anyone got any idea what these blank lines signify?</p>\n"}, {"tags": ["python", "python-3.x", "django-unittest"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 6586465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77c52f49e48a3b2d9447a7581b4897cf?s=128&d=identicon&r=PG&f=1", "display_name": "adam smith", "link": "https://stackoverflow.com/users/6586465/adam-smith"}, "edited": false, "score": 0, "creation_date": 1468523098, "post_id": 38366671, "comment_id": 64174387, "body": "Thanks, that makes sense!"}], "tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": true, "score": 0, "last_activity_date": 1468476583, "creation_date": 1468476583, "answer_id": 38366671, "question_id": 38361411, "link": "https://stackoverflow.com/questions/38361411/using-self-method-name-inside-a-class-method/38366671#38366671", "title": "using self.method_name inside a class method", "body": "<p>As specified in the <a href=\"https://docs.python.org/3.5/library/unittest.html#test-cases\" rel=\"nofollow\">documentation for <code>unittest</code></a>, <code>assertEqual</code> is a method provided by the <code>TestCase</code> class.</p>\n\n<p>In general, when a method is accessed (via <code>self.&lt;method_name&gt;</code>) the base classes are then searched for that method using the <a href=\"https://docs.python.org/3.5/glossary.html#term-method-resolution-order\" rel=\"nofollow\"><code>MRO</code></a> or method resolution order for that specific class.</p>\n"}], "owner": {"reputation": 27, "user_id": 6586465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77c52f49e48a3b2d9447a7581b4897cf?s=128&d=identicon&r=PG&f=1", "display_name": "adam smith", "link": "https://stackoverflow.com/users/6586465/adam-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 38366671, "answer_count": 1, "score": 1, "last_activity_date": 1468490900, "creation_date": 1468442892, "last_edit_date": 1468490900, "question_id": 38361411, "link": "https://stackoverflow.com/questions/38361411/using-self-method-name-inside-a-class-method", "title": "using self.method_name inside a class method", "body": "<p>I'm new to <strong>OOP</strong> in <strong>Python</strong>. I'm using the <code>unittest</code> package for the first time. In the code below, which is from Python official documentation, when we use <code>self.assertEqual</code> are we calling the <code>assertEqual</code> method from the base class <code>unittest.Testcase</code>? </p>\n\n<p>In general, whenever we call <code>self.method_name</code> inside another method definition of a class, does it call the method from the base class (assuming that <code>method_name</code> is not defined for the derived class)?</p>\n\n<pre><code>import random\nimport unittest\n\nclass TestSequenceFunctions(unittest.TestCase):\n\n    def setUp(self):\n        self.seq = list(range(10))\n\n    def test_shuffle(self):\n        # make sure the shuffled sequence does not lose any elements\n        random.shuffle(self.seq)\n        self.seq.sort()\n        self.assertEqual(self.seq, list(range(10)))\n</code></pre>\n"}, {"tags": ["python", "linux", "vim", "ipython"], "answers": [{"comments": [{"owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "edited": false, "score": 0, "creation_date": 1468445354, "post_id": 38361914, "comment_id": 64136399, "body": "yes this is what i do by pasting using the command shift +insert; it works but only paste the first line of any multi lines blocks - which is my problem"}, {"owner": {"reputation": 5701, "user_id": 4392605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IgDqF.png?s=128&g=1", "display_name": "Meninx - \u30e1\u30cd\u30f3\u30c3\u30af\u30b9", "link": "https://stackoverflow.com/users/4392605/meninx-%e3%83%a1%e3%83%8d%e3%83%b3%e3%83%83%e3%82%af%e3%82%b9"}, "reply_to_user": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "edited": false, "score": 0, "creation_date": 1468446216, "post_id": 38361914, "comment_id": 64136790, "body": "what do you mean by test ?"}, {"owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "edited": false, "score": 0, "creation_date": 1468446587, "post_id": 38361914, "comment_id": 64136949, "body": "yes, same - also it is strange that when text is already in the clipboard, i cannot yank at all from vim - ie yanking from vim doesnt overwrite what is already in the clipboard"}], "tags": [], "owner": {"reputation": 5701, "user_id": 4392605, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IgDqF.png?s=128&g=1", "display_name": "Meninx - \u30e1\u30cd\u30f3\u30c3\u30af\u30b9", "link": "https://stackoverflow.com/users/4392605/meninx-%e3%83%a1%e3%83%8d%e3%83%b3%e3%83%83%e3%82%af%e3%82%b9"}, "is_accepted": false, "score": 1, "last_activity_date": 1468445293, "last_edit_date": 1468445293, "creation_date": 1468444934, "answer_id": 38361914, "question_id": 38361387, "link": "https://stackoverflow.com/questions/38361387/python-vim-tmux-linux-copy-multiple-lines-from-vim-to-ipython/38361914#38361914", "title": "python vim tmux linux - copy multiple lines from vim to ipython", "body": "<p>When Typing <kbd>ctrl</kbd>+<kbd>z</kbd> while editing in vim keep in mind that you are back to the shell terminal so you cannot use any vim commands instead you need to use the shortcuts provided by your terminal of <code>Copy</code> and <code>Paste</code> by checking them in terminal <code>Edition &gt; Preferences &gt; shortcuts</code> or you can use your mouse clicks. </p>\n\n<p><strong><em>Note:</em></strong> in case you have a problem of copying the text using the mouse in vim you need to turn it off by this command <code>:set mouse=</code></p>\n"}, {"comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 1, "creation_date": 1520223126, "post_id": 38362116, "comment_id": 85211825, "body": "does the tmux solution really work for you? when i try it, i get exactly same behavior as OP (tested on debian and mac), only the first line is executed, the rest is ignored. somehow the tmux &quot;paste&quot; is different than system clipboard paste, which automatically goes into line continuation mode. (this is important if I&#39;m on a remote server where I don&#39;t have system clipboard)"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1520225551, "post_id": 38362116, "comment_id": 85212468, "body": "Are you sure that you&#39;ve actually copied things using tmux&#39;s copy? You&#39;ll probably want to do a region select (<code>v</code> after you start to copy, at least with my tmux.conf)..."}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1520227732, "post_id": 38362116, "comment_id": 85213071, "body": "yeah it&#39;s definitely copying, i can paste it no problems into another vim for example, i can also paste no problems with cmd-v, just with <code>C-a ]</code> the ipython command executes after the first line"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1520259857, "post_id": 38362116, "comment_id": 85230140, "body": "@maxymoo can you make an MCVE?"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1520309219, "post_id": 38362116, "comment_id": 85251720, "body": "I&#39;ve added a MCVE to the question"}, {"owner": {"reputation": 335, "user_id": 6382242, "user_type": "registered", "profile_image": "https://graph.facebook.com/1099113480127108/picture?type=large", "display_name": "Zaid Gharaybeh", "link": "https://stackoverflow.com/users/6382242/zaid-gharaybeh"}, "edited": false, "score": 0, "creation_date": 1603677191, "post_id": 38362116, "comment_id": 114103418, "body": "i have the same problem (just copies the first line). copying from system clipboard works fine though"}], "tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": true, "score": 1, "last_activity_date": 1468445797, "last_edit_date": 1495541633, "creation_date": 1468445797, "answer_id": 38362116, "question_id": 38361387, "link": "https://stackoverflow.com/questions/38361387/python-vim-tmux-linux-copy-multiple-lines-from-vim-to-ipython/38362116#38362116", "title": "python vim tmux linux - copy multiple lines from vim to ipython", "body": "<p>You have a couple of options:</p>\n\n<h1>Use your window manager</h1>\n\n<p>Highlight the text with your mouse and then middle click to paste. Some versions of Python have this behavior turned off, which is silly.</p>\n\n<h1>Use tmux</h1>\n\n<p>I have <a href=\"https://gist.github.com/waynew/bc84f66799a6529ffc9e0bfa128f51c4\" rel=\"nofollow noreferrer\">this tmux.conf</a></p>\n\n<p>So for me, <kbd>Ctrl</kbd>+<kbd>a</kbd>, <kbd>[</kbd> (you can think of it as <code>[</code>opy) then I just use vim-like keys to move the keyboard, <kbd>space</kbd> to start marking, and <kbd>Enter</kbd> to copy. Then <kbd>Ctrl</kbd>+<kbd>]</kbd> pastes.</p>\n\n<h1>Use <code>xclip</code></h1>\n\n<pre><code>$ cat yourfile.py | xclip\n</code></pre>\n\n<p>should copy your entire file into your system clipboard. Then you should be able to paste like normal.</p>\n\n<h1>Use the system clipboard</h1>\n\n<p><code>\"+y</code> should yank from vim into the system clipboard. <code>\"+yy</code> if you haven't visually selected text. Depending on how your environment works this may or may not work. Then your <kbd>shift</kbd>+<kbd>insert</kbd> option <em>should</em> work.</p>\n\n<h1>Use <code>ipython</code> magic functions</h1>\n\n<p><code>%run</code> or <code>%ed(it)</code></p>\n\n<p><a href=\"http://ipython.readthedocs.io/en/stable/interactive/magics.html?highlight=magic#magic-edit\" rel=\"nofollow noreferrer\"><code>%edit</code></a> lets you edit a specified file. Or, it will make you a temp file if you don't give it a filename. You can also give it the name of a function that you've defined and it will let you edit the function. On exit, it will execute your file. It uses the <code>EDITOR</code> env var to determine what editor to launch.</p>\n\n<p><a href=\"http://ipython.readthedocs.io/en/stable/interactive/magics.html?highlight=magic#magic-run\" rel=\"nofollow noreferrer\"><code>%run</code></a> using the specified filename will execute your file. </p>\n\n<blockquote>\n  <p>This is similar to running at a system prompt python file args, but with the advantage of giving you IPython\u2019s tracebacks, and of loading all variables into your interactive namespace for further use (unless -p is used, see below).</p>\n</blockquote>\n\n<p>You can find another answer where I talk about my IPython workflow <a href=\"https://stackoverflow.com/a/3531548/344286\">here</a>.</p>\n"}], "owner": {"reputation": 3802, "user_id": 4961888, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7371eb9208d7ada55f63d42cd324feb1?s=128&d=identicon&r=PG&f=1", "display_name": "jim basquiat", "link": "https://stackoverflow.com/users/4961888/jim-basquiat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1569, "favorite_count": 0, "accepted_answer_id": 38362116, "answer_count": 2, "score": 3, "last_activity_date": 1520375403, "creation_date": 1468442804, "last_edit_date": 1520375403, "question_id": 38361387, "link": "https://stackoverflow.com/questions/38361387/python-vim-tmux-linux-copy-multiple-lines-from-vim-to-ipython", "title": "python vim tmux linux - copy multiple lines from vim to ipython", "body": "<p>I am trying to copy a block of text (im in linux debian) from vim to ipython\nI select the block of text \"yank\", exit vim with ctrl-Z, enter ipython and shift-insert.</p>\n\n<p>However it always only paste the first line of my originaly copied block of text..</p>\n\n<p>Any idea how to paste multi lines?</p>\n\n<p>(Edit by @maxymoo to add a MCVE)</p>\n\n<pre><code>docker run -t -i ubuntu /bin/bash\napt-get update &amp;&amp; apt-get -y upgrade\napt-get install python-pip tmux vim\npip install --upgrade pip\npip install ipython\n</code></pre>\n\n<p>Now start up a tmux session, <code>C-b %</code> to split pane, start <code>vim</code> and enter the following lines:</p>\n\n<pre><code>print(\"first line\")\nprint(\"second line\")\n</code></pre>\n\n<p>Copy it to tmux clipboard with <code>C-b [ C-space &lt;arrow keys to select all&gt; M-w</code></p>\n\n<p>Switch to the other pane with <code>C-b o</code> and start an <code>ipython</code> session.\nPaste the text with <code>C-b ]</code></p>\n\n<p>Output:</p>\n\n<pre><code>In [1]: print(\"first line\")                                                                                                                                    \nfirst line                                                                                                                                                     \n\nIn [2]:                                                                                                                                                        \n</code></pre>\n\n<p>The paste works properly if I force line-continuation mode by using <code>%%time</code> cell magic:</p>\n\n<pre><code>In [3]: %%time\n   ...: print(\"first line\")\n   ...: print(\"second line\")\n   ...:\nfirst line\nsecond line\nCPU times: user 0 ns, sys: 0 ns, total: 0 ns\nWall time: 42.2 us\n</code></pre>\n"}, {"tags": ["python", "mysql", "pandas", "geopandas"], "answers": [{"comments": [{"owner": {"reputation": 1489, "user_id": 512111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e5f1d712b8bb45a9aed6b3989c4f2e9?s=128&d=identicon&r=PG", "display_name": "j08lue", "link": "https://stackoverflow.com/users/512111/j08lue"}, "edited": false, "score": 0, "creation_date": 1481547502, "post_id": 38363154, "comment_id": 69406888, "body": "Cool! This works on first call when the table does not exist. But consecutive calls give me a <code>DataError: (psycopg2.DataError) Geometry SRID (0) does not match column SRID (4326)</code>."}, {"owner": {"reputation": 1489, "user_id": 512111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e5f1d712b8bb45a9aed6b3989c4f2e9?s=128&d=identicon&r=PG", "display_name": "j08lue", "link": "https://stackoverflow.com/users/512111/j08lue"}, "edited": false, "score": 0, "creation_date": 1481547926, "post_id": 38363154, "comment_id": 69407139, "body": "<code>psycopg-postgis</code> might have some inspiration: <a href=\"https://github.com/yohanboniface/psycopg-postgis\" rel=\"nofollow noreferrer\">github.com/yohanboniface/psycopg-postgis</a>. However, they implement their own types rather than those in <code>shapely</code> / <code>geopandas</code>."}, {"owner": {"reputation": 1489, "user_id": 512111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e5f1d712b8bb45a9aed6b3989c4f2e9?s=128&d=identicon&r=PG", "display_name": "j08lue", "link": "https://stackoverflow.com/users/512111/j08lue"}, "edited": false, "score": 0, "creation_date": 1481550370, "post_id": 38363154, "comment_id": 69408605, "body": "This <b>can</b> conly work for a single call, not for appending data, since the <code>geom</code> column then expects the geometry to have an SRID."}, {"owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "reply_to_user": {"reputation": 1489, "user_id": 512111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e5f1d712b8bb45a9aed6b3989c4f2e9?s=128&d=identicon&r=PG", "display_name": "j08lue", "link": "https://stackoverflow.com/users/512111/j08lue"}, "edited": false, "score": 0, "creation_date": 1481565606, "post_id": 38363154, "comment_id": 69417692, "body": "@j08lue, Yes, you are correct. However, if you are expecting multiple inserts, then you simply avoid running the last <code>alter table</code> query till all inserts are finished. If it is an online system where inserts and queries may be interleaved, you may use a temporary table to insert your data from python, then copy it over to your working table while converting the columns appropriately. Or you may use string imputation to generate a SQL insert statement, with appropriate type casting applied to the columns, and execute that."}, {"owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "reply_to_user": {"reputation": 1489, "user_id": 512111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e5f1d712b8bb45a9aed6b3989c4f2e9?s=128&d=identicon&r=PG", "display_name": "j08lue", "link": "https://stackoverflow.com/users/512111/j08lue"}, "edited": false, "score": 0, "creation_date": 1481565967, "post_id": 38363154, "comment_id": 69417887, "body": "@j08lue, Ultimately, it depends on your specific needs. I&#39;d use string imputation if only a few rows need to be appended at a time, and a temporary table or csv intermediate for bulk inserts. This will likely remain the only solution unless an automatic converter is built into the packages. Also for PostGIS, WKB hex is the preferred method of loading and reading geo-typed data."}], "tags": [], "owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "is_accepted": true, "score": 7, "last_activity_date": 1468451414, "creation_date": 1468451414, "answer_id": 38363154, "question_id": 38361336, "link": "https://stackoverflow.com/questions/38361336/write-geodataframe-into-sql-database/38363154#38363154", "title": "Write GeoDataFrame into SQL Database", "body": "<p>So, I just implemented this for a PostGIS database, and I can paste my method here. For MySQL, you'll have to adapt the code.</p>\n\n<p>First step was to convert the geocoded columns into WKB hex string, because I use <a href=\"http://www.sqlalchemy.org/\" rel=\"noreferrer\">SQLAlchemy</a>, with an engine based on <a href=\"http://initd.org/psycopg/\" rel=\"noreferrer\">pyscopg</a>, and both of those packages do not understand geo-types natively. Next step is to write that data into a SQL DB, as usual (note that all geometry columns should be converted to text columns holding the WKB hex string), and finally change the type of the columns to Geometry by executing a query. Refer to the following pseudocode:</p>\n\n<pre><code># Imports\nimport sqlalchemy as sal\nimport geopandas as gpd\n\n# Function to generate WKB hex\ndef wkb_hexer(line):\n    return line.wkb_hex\n\n# Convert `'geom'` column in GeoDataFrame `gdf` to hex\n    # Note that following this step, the GeoDataFrame is just a regular DataFrame\n    # because it does not have a geometry column anymore. Also note that\n    # it is assumed the `'geom'` column is correctly datatyped.\ngdf['geom'] = gdf['geom'].apply(wkb_hexer)\n\n# Create SQL connection engine\nengine = sal.create_engine('postgresql://username:password@host:socket/database')\n\n# Connect to database using a context manager\nwith engine.connect() as conn, conn.begin():\n    # Note use of regular Pandas `to_sql()` method.\n    gdf.to_sql(table_name, con=conn, schema=schema_name,\n               if_exists='append', index=False)\n    # Convert the `'geom'` column back to Geometry datatype, from text\n    sql = \"\"\"ALTER TABLE schema_name.table_name\n               ALTER COLUMN geom TYPE Geometry(LINESTRING, &lt;SRID&gt;)\n                 USING ST_SetSRID(geom::Geometry, &lt;SRID&gt;)\"\"\"\n    conn.execute(sql)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 334, "user_id": 10756142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/210f65e5b4b062d1d09166d794a67ee0?s=128&d=identicon&r=PG&f=1", "display_name": "dhiraj", "link": "https://stackoverflow.com/users/10756142/dhiraj"}, "edited": false, "score": 0, "creation_date": 1603264043, "post_id": 43375829, "comment_id": 113978069, "body": "This doesn&#39;t close the database connection."}], "tags": [], "owner": {"reputation": 253, "user_id": 4144810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GmDba.png?s=128&g=1", "display_name": "Hamri Said", "link": "https://stackoverflow.com/users/4144810/hamri-said"}, "is_accepted": false, "score": 13, "last_activity_date": 1602570090, "last_edit_date": 1602570090, "creation_date": 1492017484, "answer_id": 43375829, "question_id": 38361336, "link": "https://stackoverflow.com/questions/38361336/write-geodataframe-into-sql-database/43375829#43375829", "title": "Write GeoDataFrame into SQL Database", "body": "<p>As mentioned before, @Kartik's answer works only for a single call, for appending data it raises a <code>DataError</code> since the <code>geom</code> column then expects the geometry to have an SRID. You can use <code>GeoAlchemy</code> to handle all the cases:</p>\n<pre><code># Imports\nfrom geoalchemy2 import Geometry, WKTElement\nfrom sqlalchemy import *\n\n# Use GeoAlchemy's WKTElement to create a geom with SRID\ndef create_wkt_element(geom):\n    return WKTElement(geom.wkt, srid = &lt;your_SRID&gt;)\n\ngeodataframe['geom'] = geodataframe['geom'].apply(create_wkt_element)\n\ndb_url = 'postgresql://username:password@host:socket/database'\nengine = create_engine(db_url, echo=False)\n\n# Use 'dtype' to specify column's type\n# For the geom column, we will use GeoAlchemy's type 'Geometry'\nyour_geodataframe.to_sql(table_name, engine, if_exists='append', index=False, \n                         dtype={'geom': Geometry('POINT', srid= &lt;your_srid&gt;)})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1457, "user_id": 2068931, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/hUTV7.png?s=128&g=1", "display_name": "wfgeo", "link": "https://stackoverflow.com/users/2068931/wfgeo"}, "is_accepted": false, "score": 2, "last_activity_date": 1602501397, "last_edit_date": 1602501397, "creation_date": 1596815462, "answer_id": 63305219, "question_id": 38361336, "link": "https://stackoverflow.com/questions/38361336/write-geodataframe-into-sql-database/63305219#63305219", "title": "Write GeoDataFrame into SQL Database", "body": "<p>A version of Hamri Said's answer, but using a lambda, which in my opinion is a bit nicer because it is such a short function:</p>\n<pre><code># Imports\nfrom geoalchemy2 import Geometry, WKTElement\nfrom sqlalchemy import *\n\ngeodataframe['geom'] = geodataframe['geom'].apply(lambda geom: WKTElement(geom.wkt, srid = &lt;your_SRID&gt;))\n\ndb_url = 'postgresql://username:password@host:socket/database'\nengine = create_engine(db_url, echo=False)\n\n# Use 'dtype' to specify column's type\n# For the geom column, we will use GeoAlchemy's type 'Geometry'\nyour_geodataframe.to_sql(table_name, engine, if_exists='append', index=False, \n                         dtype={'geom': Geometry('POINT', srid= &lt;your_srid&gt;)})\n</code></pre>\n"}], "owner": {"reputation": 511, "user_id": 3484568, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cde17fe14fd5dc1ddf509114d958052a?s=128&d=identicon&r=PG&f=1", "display_name": "Jhonny", "link": "https://stackoverflow.com/users/3484568/jhonny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8371, "favorite_count": 7, "accepted_answer_id": 38363154, "answer_count": 3, "score": 9, "last_activity_date": 1602570090, "creation_date": 1468442570, "question_id": 38361336, "link": "https://stackoverflow.com/questions/38361336/write-geodataframe-into-sql-database", "title": "Write GeoDataFrame into SQL Database", "body": "<p>I hope that my question is not ridiculous since, surprisingly, this question has apparently not really been asked yet (to the best of my knowledge) on the popular websites.</p>\n\n<p>The situation is that I have several csv files containing more than 1 Mio observations in total. Each observation contains, among others, a postal address. I am planning to read all files into a single GeoDataFrame, geocode the addresses, perform a spatial join given a shapefile and save some information from the polygon for each row. Quite standard, I suppose. This is a part of a one-time data cleaning process.</p>\n\n<p>My goal is to set up a database with this final dataset. This is because it allows me to share and search the data quite easily as well as e.g. plot some observations on a website. Also, it makes it quite easy to select observations based on some criteria and then run some analyses.</p>\n\n<p>My problem is that the feature of inserting a GeoDataFrame into a database seems not to be implemented yet - apparently because GeoPandas is supposed to be a subsitute for databases (\"GeoPandas enables you to easily do operations in python that would otherwise require a spatial database such as PostGIS\").</p>\n\n<p>Of course, I could iterate through each line and insert each data point \"manually\", but I am looking for the best solution here. For any workaround I would also be afraid that the datatype may conflict with that of the database. Is there \"a best way\" to take here?</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["python", "neo4j", "cypher", "py2neo"], "answers": [{"comments": [{"owner": {"reputation": 1450, "user_id": 1129408, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AzBww.jpg?s=128&g=1", "display_name": "Ahmedov", "link": "https://stackoverflow.com/users/1129408/ahmedov"}, "edited": false, "score": 0, "creation_date": 1468492461, "post_id": 38363017, "comment_id": 64154300, "body": "I still get a few errors:    File &quot;/Users/ahmedov/neo4j.py&quot;, line 14, in &lt;module&gt;     graph = Graph(neo4jUrl,secure=False)  TypeError: __new__() got an unexpected keyword argument &#39;secure&#39;  then, if I remove secure = false, I get:     File &quot;/Users/ahmedov/neo4j.py&quot;, line 21, in &lt;module&gt;     graph.run(&quot;CREATE CONSTRAINT ON (q:Question) ASSERT q.id IS UNIQUE;&quot;)  AttributeError: &#39;Graph&#39; object has no attribute &#39;run&#39;"}, {"owner": {"reputation": 17624, "user_id": 2662355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG", "display_name": "Christophe Willemsen", "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"}, "reply_to_user": {"reputation": 1450, "user_id": 1129408, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AzBww.jpg?s=128&g=1", "display_name": "Ahmedov", "link": "https://stackoverflow.com/users/1129408/ahmedov"}, "edited": false, "score": 1, "creation_date": 1468493372, "post_id": 38363017, "comment_id": 64154866, "body": "it seems you have a mismatch of py2neo versions, can you run <code>pip install py2neo --upgrade</code>"}, {"owner": {"reputation": 1450, "user_id": 1129408, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AzBww.jpg?s=128&g=1", "display_name": "Ahmedov", "link": "https://stackoverflow.com/users/1129408/ahmedov"}, "edited": false, "score": 0, "creation_date": 1468495058, "post_id": 38363017, "comment_id": 64155960, "body": "Thanks! finally got it working. Now it is time to solve a similar problem for the java driver :)"}], "tags": [], "owner": {"reputation": 17624, "user_id": 2662355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG", "display_name": "Christophe Willemsen", "link": "https://stackoverflow.com/users/2662355/christophe-willemsen"}, "is_accepted": true, "score": 5, "last_activity_date": 1468450452, "creation_date": 1468450452, "answer_id": 38363017, "question_id": 38361325, "link": "https://stackoverflow.com/questions/38361325/import-json-to-neo4j-using-py2neo/38363017#38363017", "title": "Import JSON to NEO4J using py2neo", "body": "<p>A couple of things to make your script work :</p>\n\n<p><code>from py2neo import neo4j</code> is not a valid dependency anymore</p>\n\n<p>In your query, you pass a json map as parameter but you don't use the parameters syntax in the query, I added <code>WITH {json} as data</code> in the beginning of the query.</p>\n\n<p>Added <code>secure=False</code> for the connection</p>\n\n<p>The last <code>tx.append(query,)</code> is not needed.</p>\n\n<p>Working script : </p>\n\n<pre><code>import os\nimport requests\n#from py2neo import neo4j\nfrom py2neo import Graph\nfrom py2neo import Path, authenticate\n# set up authentication parameters\nauthenticate(\"localhost:7474\", \"neo4j\", \"neo4j\")\n\n# connect to authenticated graph database\n#graph = Graph(\"http://localhost:7474/db/data/\")\n\n# Connect to graph and add constraints.\nneo4jUrl = os.environ.get('NEO4J_URL',\"http://localhost:7474/db/data/\")\ngraph = Graph(neo4jUrl,secure=False)\n\n# Connect to graph and add constraints.\n#neo4jUrl = os.environ.get('NEO4J_URL',\"http://localhost:7474/db/data/\")\n#graph = neo4j.GraphDatabaseService(neo4jUrl)\n\n# Add uniqueness constraints.\ngraph.run(\"CREATE CONSTRAINT ON (q:Question) ASSERT q.id IS UNIQUE;\")\n# Build URL.\napiUrl =\"https://api.stackexchange.com/2.2/questions?pagesize=100&amp;order=desc&amp;sort=creation&amp;tagged=neo4j&amp;site=stackoverflow&amp;filter=!5-i6Zw8Y)4W7vpy91PMYsKM-k9yzEsSC1_Uxlf\"\n# Send GET request.\njson = requests.get(apiUrl, headers = {\"accept\":\"application/json\"}).json()\n\n#print(json);\n\n# Build query.\nquery = \"\"\"\nWITH {json} as data\nUNWIND data.items as q\nMERGE (question:Question {id:q.question_id}) ON CREATE\n  SET question.title = q.title, question.share_link = q.share_link, question.favorite_count = q.favorite_count\n\nMERGE (owner:User {id:q.owner.user_id}) ON CREATE SET owner.display_name = q.owner.display_name\nMERGE (owner)-[:ASKED]-&gt;(question)\n\nFOREACH (tagName IN q.tags | MERGE (tag:Tag {name:tagName}) MERGE (question)-[:TAGGED]-&gt;(tag))\nFOREACH (a IN q.answers |\n   MERGE (question)&lt;-[:ANSWERS]-(answer:Answer {id:a.answer_id})\n   MERGE (answerer:User {id:a.owner.user_id}) ON CREATE SET answerer.display_name = a.owner.display_name\n   MERGE (answer)&lt;-[:PROVIDED]-(answerer)\n)\n\n\"\"\"\nstatement = \"MERGE (n:Person {name:{N}}) RETURN n\"\nresults = graph.run(query,json=json)\n\ntx = graph.begin()\n\ndef add_names(*names):\n    for name in names:\n        tx.append(statement, {\"N\": name})\n    tx.process()\n\nadd_names(\"Homer\", \"Marge\", \"Bart\", \"Lisa\", \"Maggie\")\nadd_names(\"Peter\", \"Lois\", \"Chris\", \"Meg\", \"Stewie\")\n#tx.append(query,)\ntx.commit()\n</code></pre>\n\n<p>Result :</p>\n\n<p><a href=\"https://i.stack.imgur.com/19U3h.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/19U3h.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1118, "user_id": 6373949, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-EYY_IdaEeaU/AAAAAAAAAAI/AAAAAAAAAfs/feCbMbQ8tZ4/photo.jpg?sz=128", "display_name": "Aipi", "link": "https://stackoverflow.com/users/6373949/aipi"}, "is_accepted": false, "score": 0, "last_activity_date": 1599675417, "creation_date": 1599675417, "answer_id": 63817367, "question_id": 38361325, "link": "https://stackoverflow.com/questions/38361325/import-json-to-neo4j-using-py2neo/63817367#63817367", "title": "Import JSON to NEO4J using py2neo", "body": "<p>Using a recent version of py2neo, the syntax changes a little bit. Rather than use <code>{json}</code>, is necessary to use <code>$json</code> as explained below:</p>\n<pre><code>from py2neo import Graph\n\ngraph = Graph(NEO4J_URI, user=NEO4J_USER, password=NEO4j_PASSWORD)\n\njson = ['22644198319', '15383242341']\n\nresult = graph.run(\n    &quot;&quot;&quot;WITH $json as data\n    UNWIND data as id\n    MATCH (c:Person {id: id}) RETURN c.name&quot;&quot;&quot;, \n    json=json\n)\ndata_frame_result = result.to_data_frame()\nprint(data_frame_result)\n</code></pre>\n<p>Making these changes in the @christophe-willemsen's example, the code can run in the newest versions.</p>\n"}], "owner": {"reputation": 1450, "user_id": 1129408, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AzBww.jpg?s=128&g=1", "display_name": "Ahmedov", "link": "https://stackoverflow.com/users/1129408/ahmedov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4196, "favorite_count": 1, "accepted_answer_id": 38363017, "answer_count": 2, "score": 2, "last_activity_date": 1599675417, "creation_date": 1468442525, "question_id": 38361325, "link": "https://stackoverflow.com/questions/38361325/import-json-to-neo4j-using-py2neo", "title": "Import JSON to NEO4J using py2neo", "body": "<p>I am trying to import a JSON file obtained thru an API request to StackOverflow to NEO4J. I have been following this <a href=\"https://neo4j.com/blog/cypher-load-json-from-url/\" rel=\"nofollow\">tutorial</a>. However, I get errors like the following while trying to execute the query:</p>\n\n<pre><code>  File \"/Users/ahmedov/anaconda/lib/python2.7/site-packages/py2neo/cypher/core.py\", line 306, in commit\n    return self.post(self.__commit or self.__begin_commit)\n\n  File \"/Users/ahmedov/anaconda/lib/python2.7/site-packages/py2neo/cypher/core.py\", line 261, in post\n    raise self.error_class.hydrate(error)\n\n  File \"/Users/ahmedov/anaconda/lib/python2.7/site-packages/py2neo/cypher/error/core.py\", line 54, in hydrate\n    error_cls = getattr(error_module, title)\n\nAttributeError: 'module' object has no attribute 'SyntaxError'\n</code></pre>\n\n<p>I am using the following code:</p>\n\n<pre><code>import os\nimport requests\nfrom py2neo import neo4j\nfrom py2neo import Graph\n\nfrom py2neo import Path, authenticate\n# set up authentication parameters\nauthenticate(\"localhost:7474\", \"neo4j\", \"neo4j\")\n\n# connect to authenticated graph database\n#graph = Graph(\"http://localhost:7474/db/data/\")\n\n# Connect to graph and add constraints.\nneo4jUrl = os.environ.get('NEO4J_URL',\"http://localhost:7474/db/data/\")\ngraph = neo4j.Graph(neo4jUrl)\n\n# Connect to graph and add constraints.\n#neo4jUrl = os.environ.get('NEO4J_URL',\"http://localhost:7474/db/data/\")\n#graph = neo4j.GraphDatabaseService(neo4jUrl)\n\n# Add uniqueness constraints.\ngraph.cypher.execute(\"CREATE CONSTRAINT ON (q:Question) ASSERT q.id IS UNIQUE;\")\n# Build URL.\napiUrl =\"https://api.stackexchange.com/2.2/questions?pagesize=100&amp;order=desc&amp;sort=creation&amp;tagged=neo4j&amp;site=stackoverflow&amp;filter=!5-i6Zw8Y)4W7vpy91PMYsKM-k9yzEsSC1_Uxlf\"\n# Send GET request.\njson = requests.get(apiUrl, headers = {\"accept\":\"application/json\"}).json()\n\n# Build query.\nquery = \"\"\"\nUNWIND data.items as q\nMERGE (question:Question {id:q.question_id}) ON CREATE\n  SET question.title = q.title, question.share_link = q.share_link, question.favorite_count = q.favorite_count\n\nMERGE (owner:User {id:q.owner.user_id}) ON CREATE SET owner.display_name = q.owner.display_name\nMERGE (owner)-[:ASKED]-&gt;(question)\n\nFOREACH (tagName IN q.tags | MERGE (tag:Tag {name:tagName}) MERGE (question)-[:TAGGED]-&gt;(tag))\nFOREACH (a IN q.answers |\n   MERGE (question)&lt;-[:ANSWERS]-(answer:Answer {id:a.answer_id})\n   MERGE (answerer:User {id:a.owner.user_id}) ON CREATE SET answerer.display_name = a.owner.display_name\n   MERGE (answer)&lt;-[:PROVIDED]-(answerer)\n)\n\n\"\"\"\nstatement = \"MERGE (n:Person {name:{N}}) RETURN n\"\nresults = graph.cypher.run(query,json=json)\n\ntx = graph.cypher.begin()\n\ndef add_names(*names):\n    for name in names:\n        tx.append(statement, {\"N\": name})\n    tx.process()\n\nadd_names(\"Homer\", \"Marge\", \"Bart\", \"Lisa\", \"Maggie\")\nadd_names(\"Peter\", \"Lois\", \"Chris\", \"Meg\", \"Stewie\")\ntx.append(query,)\ntx.commit()\n# Send Cypher query.\n</code></pre>\n\n<p>The problem originates from the following line:</p>\n\n<pre><code>    results = graph.cypher.run(query,json=json)\n</code></pre>\n\n<p>I had to change the above line to adjust it to the newer py2neo api. The original line looked like this:</p>\n\n<pre><code>neo4j.CypherQuery(graph, query).run(json=json)\n</code></pre>\n\n<p>So basically, I need to find a way to tell neo4j that I need to process the JSON file using the given query. I tried to read the documentary and searching the web with no luck. Any help would be appreciated. </p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6586297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hlAsVskD1dc/AAAAAAAAAAI/AAAAAAAAANk/EPP35sPrmfY/photo.jpg?sz=128", "display_name": "Rosario Pe&#241;a", "link": "https://stackoverflow.com/users/6586297/rosario-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1468445000, "post_id": 38361595, "comment_id": 64136215, "body": "Hi Steve , I had tested well and has the same error :("}], "tags": [], "owner": {"reputation": 8281, "user_id": 2046992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39c6c3f6b0d2f209e61c448bbd6221a8?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2046992/steve"}, "is_accepted": false, "score": 1, "last_activity_date": 1468443547, "creation_date": 1468443547, "answer_id": 38361595, "question_id": 38361312, "link": "https://stackoverflow.com/questions/38361312/upload-photos-to-flickr-with-api-flickr-python/38361595#38361595", "title": "Upload photos to Flickr With API Flickr Python", "body": "<p>I'm guessing you are using the API from <a href=\"https://stuvel.eu/flickrapi\" rel=\"nofollow\">https://stuvel.eu/flickrapi</a>?</p>\n\n<p>If so, the docs say the API key and secret need to be a unicode string (<a href=\"https://stuvel.eu/flickrapi-doc/2-calling.html\" rel=\"nofollow\">https://stuvel.eu/flickrapi-doc/2-calling.html</a>), so you'll need to prefix your literals with a 'u'.</p>\n\n<p>i.e.</p>\n\n<pre><code>api_key = u'xxxxxxx'\napi_secret = u'xxxxxxx'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3706, "user_id": 139560, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/885a6fe8a4179cf7b8c9b21869f5a8b2?s=128&d=identicon&r=PG", "display_name": "Jamie Kitson", "link": "https://stackoverflow.com/users/139560/jamie-kitson"}, "is_accepted": false, "score": 0, "last_activity_date": 1552383953, "last_edit_date": 1552383953, "creation_date": 1552383569, "answer_id": 55118266, "question_id": 38361312, "link": "https://stackoverflow.com/questions/38361312/upload-photos-to-flickr-with-api-flickr-python/55118266#55118266", "title": "Upload photos to Flickr With API Flickr Python", "body": "<p>If you are using <a href=\"https://stuvel.eu/flickrapi\" rel=\"nofollow noreferrer\">https://stuvel.eu/flickrapi</a> then you should be using <a href=\"https://stuvel.eu/flickrapi-doc/4-uploading.html\" rel=\"nofollow noreferrer\">flickr.upload</a>.</p>\n\n<p>If not then need to sign the call which uploads the photo, and I can't see that you actually upload the photo data as you are quoting photo here:</p>\n\n<pre><code>    result = requests.post('https://up.flickr.com/services/upload/', data = {'photo':'photo', 'title':'title', 'description':'description', 'tags':'tags'})\n</code></pre>\n\n<p>See <a href=\"https://github.com/ept/uploadr.py/blob/master/uploadr/uploadr.py#L360\" rel=\"nofollow noreferrer\">uploader.py</a> for a python example and the <a href=\"https://www.flickr.com/services/api/upload.api.html\" rel=\"nofollow noreferrer\">Flickr documentation</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 6586297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hlAsVskD1dc/AAAAAAAAAAI/AAAAAAAAANk/EPP35sPrmfY/photo.jpg?sz=128", "display_name": "Rosario Pe&#241;a", "link": "https://stackoverflow.com/users/6586297/rosario-pe%c3%b1a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1552383953, "creation_date": 1468442485, "last_edit_date": 1468498974, "question_id": 38361312, "link": "https://stackoverflow.com/questions/38361312/upload-photos-to-flickr-with-api-flickr-python", "title": "Upload photos to Flickr With API Flickr Python", "body": "<p>I tried upload photo to flickr with the API Python but I get this error:</p>\n\n<blockquote>\n  <p>err code=\"100\" msg=\"Invalid API Key (Key has invalid format)\"</p>\n</blockquote>\n\n<p>I'm supposed Flickr authenticated because simpler ones I call functions that also require authentication as flickr.photos.getInfo,  flickr.photos.getPerms or flickr.photos.geo.setLocation and return results without problem.</p>\n\n<p>This is my code:</p>\n\n<pre><code>import flickrapi\nimport csv\nimport requests\n\napi_key = 'xxxxxxx'\napi_secret = 'zzzzzzzz'\nflickr = flickrapi.FlickrAPI(api_key, api_secret)\nflickr.authenticate_via_browser(perms='delete')\n\ndef uploadPhoto(path_photo, title, description, tags):\n    result=False;\n    with open(path_photo, 'rb') as f:\n        photo = {'file': f}\n        try:    \n            result = requests.post('https://up.flickr.com/services/upload/', data = {'photo':'photo', 'title':'title', 'description':'description', 'tags':'tags'})\n            print(result.text)\n        except Exception as error:\n            print('Upload photo', error, '--- o --- titulo malo -&gt; ', title)        \n    return result\n\nwith open('/home/labsis06/djandoprojects/generales.csv') as csvfile:\n    spamreader = csv.DictReader(csvfile, delimiter=';')\n    #for row in spamreader:\n    try:\n        path_photo = '/home/labsis06/djandoprojects/Fotos_flickr/Phaeophytas4024/4024.55.165_C_sinuosa_000_01_600_778x820.jpg'\n        title = 'C_sinuosa_000_01_600_778x820.jpg'\n        description = 'Nombre Especie: Colpomenia sinuosa (Mertens ex Roth) Derb\u00e8s y Solier . Descripci\u00f3n: Sartedemie'\n        tags = 'OCHROPHYTA'+','+'Phaeophyceae'+','+'Scytosiphonaceae'+','+'Colpomenia'\n        print(\"Ingresando fotos: result: \"+str(uploadPhoto(path_photo, title, description, tags)))\n    except Exception as error:\n        print('Abiendo csv', error)\n</code></pre>\n\n<p>I have a group of pictures (approximately 3000 pictures) and I want to upload a csv file, but to prove what I'm doing with a static value.</p>\n\n<p>Any idea what is the problem?</p>\n\n<p>Appreciate your help.</p>\n\n<p>Regards</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1468442674, "post_id": 38361304, "comment_id": 64135134, "body": "show your view code."}], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 6586454, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dfa08dc5cc056645eb80664b306f88eb?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/6586454/john-smith"}, "edited": false, "score": 0, "creation_date": 1468443561, "post_id": 38361426, "comment_id": 64135553, "body": "what if I didn&#39;t know that my variable contained u&#39;4th-of-July&#39;? Basically I&#39;m going through a loop and getting values like x = {u&#39;4th-of-July&#39;: {&#39;name&#39;: 4th of July&#39;, &#39;slug&#39;: u&#39;4th-of-July&#39;}}"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 693, "user_id": 6586454, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dfa08dc5cc056645eb80664b306f88eb?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/6586454/john-smith"}, "edited": false, "score": 0, "creation_date": 1468444526, "post_id": 38361426, "comment_id": 64135983, "body": "@JohnSmith You can iterate over a doct in template with <code>items</code> -&gt; {% for key, value in  data.items %}"}, {"owner": {"reputation": 693, "user_id": 6586454, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dfa08dc5cc056645eb80664b306f88eb?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/6586454/john-smith"}, "edited": false, "score": 0, "creation_date": 1468445362, "post_id": 38361426, "comment_id": 64136403, "body": "Ok did some testing and this worked perfectly. Basically after the loop i did \tkey.name and was able to get the value I wanted"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 693, "user_id": 6586454, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dfa08dc5cc056645eb80664b306f88eb?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/6586454/john-smith"}, "edited": false, "score": 0, "creation_date": 1468445503, "post_id": 38361426, "comment_id": 64136462, "body": "@JohnSmith key or value? Keep in mind that in the loop you have the dict in value variable. You can not access the original dict (data) with the variable key -&gt; data.key"}], "tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": true, "score": 0, "last_activity_date": 1468442953, "creation_date": 1468442953, "answer_id": 38361426, "question_id": 38361304, "link": "https://stackoverflow.com/questions/38361304/how-do-i-parse-this-data-in-a-django-template/38361426#38361426", "title": "How do I parse this data in a Django template?", "body": "<p>You can access a dict in template with dot notation:</p>\n\n<p>Let's call your dictionary <code>data</code>:</p>\n\n<pre><code>{{ data.4th-of-July.name }}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>{{ data.4th-of-July.slug }}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 741, "user_id": 5553315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KbffG.jpg?s=128&g=1", "display_name": "Utkarsh Kaushik", "link": "https://stackoverflow.com/users/5553315/utkarsh-kaushik"}, "is_accepted": false, "score": 0, "last_activity_date": 1468642445, "creation_date": 1468642445, "answer_id": 38407647, "question_id": 38361304, "link": "https://stackoverflow.com/questions/38361304/how-do-i-parse-this-data-in-a-django-template/38407647#38407647", "title": "How do I parse this data in a Django template?", "body": "<p>Ideally in these cases you should iterate over the keys of the dict. Here is an example:</p>\n\n<pre><code>{% for key, value in dict_name.items %}  &lt;!-- where dict_name denotes name of the dictionary containing {u'4th-of-July': {'name': 4th of July', 'slug': u'4th-of-July'}} --&gt;\n    {{key}}  &lt;!-- '4th-of-July' for the index 4th-of-July --&gt;\n    {{value.name}} &lt;!-- equivalent to dict_name.4th-of-July.name for the index 4th-of-July --&gt;\n    {{value.slug}} &lt;!-- equivalent to dict_name.4th-of-July.slug for the index 4th-of-July --&gt;\n{% endfor %}\n</code></pre>\n"}], "owner": {"reputation": 693, "user_id": 6586454, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dfa08dc5cc056645eb80664b306f88eb?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/6586454/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 38361426, "answer_count": 2, "score": 0, "last_activity_date": 1468642445, "creation_date": 1468442433, "last_edit_date": 1468640295, "question_id": 38361304, "link": "https://stackoverflow.com/questions/38361304/how-do-i-parse-this-data-in-a-django-template", "title": "How do I parse this data in a Django template?", "body": "<pre><code>{u'4th-of-July': {'name': 4th of July', 'slug': u'4th-of-July'}}\n</code></pre>\n\n<p>I would like to have access to <code>'name'</code> and <code>'slug'</code> in a django HTML template. How do I go about doing this?</p>\n"}, {"tags": ["python", "pymssql"], "answers": [{"tags": [], "owner": {"reputation": 749, "user_id": 4764729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a797cbb67dcb94227fe22414edd47a2b?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Bell", "link": "https://stackoverflow.com/users/4764729/patrick-bell"}, "is_accepted": false, "score": 1, "last_activity_date": 1468443337, "creation_date": 1468443337, "answer_id": 38361538, "question_id": 38361249, "link": "https://stackoverflow.com/questions/38361249/how-to-access-a-previous-row-in-pymssql-in-python/38361538#38361538", "title": "How to access a previous row in pymssql in python?", "body": "<p>If you wanted to access the previous row from your <code>for</code> loop, you could use the following code.</p>\n\n<pre><code>previousrow = None\n\nfor row in cursor:\n    if (!(previousrow is None)):\n        # do your comparison with previous row and row here\n    previousrow = row\n</code></pre>\n\n<p>I don't write Python, but I think this compiles and should work for you.</p>\n"}], "owner": {"reputation": 123, "user_id": 4954188, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/10be752882a68e75e5a60cf2580def3c?s=128&d=identicon&r=PG&f=1", "display_name": "Rameen Rastan", "link": "https://stackoverflow.com/users/4954188/rameen-rastan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468443337, "creation_date": 1468442163, "question_id": 38361249, "link": "https://stackoverflow.com/questions/38361249/how-to-access-a-previous-row-in-pymssql-in-python", "title": "How to access a previous row in pymssql in python?", "body": "<p>For example, if I iterate over a query using:</p>\n\n<pre><code>for row in cursor:\n</code></pre>\n\n<p>And I want to make a comparison like:</p>\n\n<pre><code>if row[0] == previousrow[0]:\n     #do something\n</code></pre>\n\n<p>How can I actually access the previous row?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1468442818, "post_id": 38361235, "comment_id": 64135191, "body": "Please provide details on &quot;does not work&quot;; that&#39;s hardly a problem description.  Show us input and response for a few good &amp; bad cases."}], "answers": [{"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1468442814, "post_id": 38361344, "comment_id": 64135187, "body": "Even if Python ints are arbitrarily large, that doesn&#39;t mean it&#39;s a good idea to <i>let them</i> get arbitrarily large."}, {"owner": {"reputation": 1545, "user_id": 1872234, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ebaa7e51aa78b438266d08deb48fcfc4?s=128&d=identicon&r=PG", "display_name": "Wajahat", "link": "https://stackoverflow.com/users/1872234/wajahat"}, "edited": false, "score": 0, "creation_date": 1468443004, "post_id": 38361344, "comment_id": 64135285, "body": "Okay that works but for a long key, it exceeds the time limit. What can be done to speed up the calculation?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1468445863, "post_id": 38361344, "comment_id": 64136639, "body": "Rewrite your algorithm. Consider how you can avoid calling the exponentiation function altogether."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1468446670, "post_id": 38361344, "comment_id": 64136976, "body": "Here is one possible solution: <a href=\"http://ideone.com/tMMCtM\" rel=\"nofollow noreferrer\">spoiler alert</a>."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 3, "last_activity_date": 1468442637, "creation_date": 1468442637, "answer_id": 38361344, "question_id": 38361235, "link": "https://stackoverflow.com/questions/38361235/hash-function-not-correct-math-pow-does-not-handle-arbitrarily-large-numbers/38361344#38361344", "title": "Hash Function not correct? Math.pow does not handle arbitrarily large numbers", "body": "<blockquote>\n  <blockquote>\n    <p>Python handles arbitrarily large numbers by default</p>\n  </blockquote>\n</blockquote>\n\n<p>Yes, it does, but only integers are arbitrarily large. <code>math.pow()</code> deals in floats, which do have a size limit.</p>\n\n<p>Try:</p>\n\n<pre><code>#UNTESTED\nmultiplier=33**(len(key)-i-1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "reply_to_user": {"reputation": 1545, "user_id": 1872234, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ebaa7e51aa78b438266d08deb48fcfc4?s=128&d=identicon&r=PG", "display_name": "Wajahat", "link": "https://stackoverflow.com/users/1872234/wajahat"}, "edited": false, "score": 0, "creation_date": 1468444248, "post_id": 38361731, "comment_id": 64135865, "body": "Not on its own, but knowing that will help you use <code>pow()</code> effectively."}], "tags": [], "owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 3, "last_activity_date": 1468444073, "creation_date": 1468444073, "answer_id": 38361731, "question_id": 38361235, "link": "https://stackoverflow.com/questions/38361235/hash-function-not-correct-math-pow-does-not-handle-arbitrarily-large-numbers/38361731#38361731", "title": "Hash Function not correct? Math.pow does not handle arbitrarily large numbers", "body": "<p>A pair of facts that will lead you to a solution:</p>\n\n<ol>\n<li><p>The <code>pow(x, y, [z])</code> builtin function will accurately calculate <code>(x ** y) % z</code> without involving arbitrary-length integers.</p></li>\n<li><p><code>(a + b + \u2026) % x</code> is the same as <code>(a%x + b%x + \u2026) % x</code>. (That is, you can perform modulus operations within the sum without affecting the result.)</p></li>\n</ol>\n"}], "owner": {"reputation": 1545, "user_id": 1872234, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ebaa7e51aa78b438266d08deb48fcfc4?s=128&d=identicon&r=PG", "display_name": "Wajahat", "link": "https://stackoverflow.com/users/1872234/wajahat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 38361731, "answer_count": 2, "score": 1, "last_activity_date": 1468502620, "creation_date": 1468442109, "last_edit_date": 1468502620, "question_id": 38361235, "link": "https://stackoverflow.com/questions/38361235/hash-function-not-correct-math-pow-does-not-handle-arbitrarily-large-numbers", "title": "Hash Function not correct? Math.pow does not handle arbitrarily large numbers", "body": "<p>I am trying to solve this <a href=\"http://www.lintcode.com/en/problem/hash-function/\" rel=\"nofollow\">easy problem</a> on LintCode and I have my solution:</p>\n\n<pre><code>import math\nclass Solution:\n    \"\"\"\n    @param key: A String you should hash\n    @param HASH_SIZE: An integer\n    @return an integer\n    \"\"\"\n    def hashCode(self, key, HASH_SIZE):\n        # write your code here\n        ret=0\n        for i in range(0,len(key)):\n            multiplier=int(math.pow(33,len(key)-i-1))\n            ret += (multiplier* ord(key[i]))\n        return ret%HASH_SIZE\n</code></pre>\n\n<p>But it only works for keys of <code>length &lt;= 11</code> and does not work otherwise (wrong answer). Python handles arbitrarily large numbers by default, so what is the problem ? This is so simple and getting it wrong is driving me crazy.</p>\n\n<p>The description of problem reads:</p>\n\n<blockquote>\n  <p>In data structure Hash, hash function is used to convert a string(or\n  any other type) into an integer smaller than hash size and bigger or\n  equal to zero. The objective of designing a hash function is to \"hash\"\n  the key as unreasonable as possible. A good hash function can avoid\n  collision as less as possible. A widely used hash function algorithm\n  is using a magic number 33, consider any string as a 33 based big\n  integer like follow:</p>\n\n<pre><code>hashcode(\"abcd\") = (ascii(a) * 333 + ascii(b) * 332 + ascii(c) *33 +\nascii(d)) % HASH_SIZE \n\n                          = (97* 333 + 98 * 332 + 99 * 33 +100) % HASH_SIZE\n\n                          = 3595978 % HASH_SIZE\n</code></pre>\n  \n  <p>here HASH_SIZE is the capacity of the hash table (you can assume a\n  hash table is like an array with index 0 ~ HASH_SIZE-1).</p>\n  \n  <p>Given a string as a key and the size of hash table, return the hash\n  value of this key.f</p>\n</blockquote>\n\n<p><strong>Update:</strong> Rob's answer solves the issue of incorrect answer, but now speed is an issue.</p>\n\n<p><strong>Update2:</strong>\nBoth of the following techniques worked:</p>\n\n<pre><code>        ret=0\n        ## technique 1\n        for i in range(0,len(key)):\n            multiplier= pow(33,(len(key)-i-1),HASH_SIZE)\n            ret += (multiplier * ord(key[i]))\n        return ret%HASH_SIZE\n        # technique 2\n        ret=0\n        multiplier = 1\n        for ch in key[::-1]:\n            ret = (ret + ord(ch) * multiplier) % HASH_SIZE\n            multiplier = (multiplier * 33) % HASH_SIZE\n        return ret % HASH_SIZE\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "geospatial"], "answers": [{"comments": [{"owner": {"reputation": 662, "user_id": 4837077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ceXqL.jpg?s=128&g=1", "display_name": "JLT", "link": "https://stackoverflow.com/users/4837077/jlt"}, "edited": false, "score": 0, "creation_date": 1476793496, "post_id": 39447611, "comment_id": 67487583, "body": "See: <a href=\"http://stackoverflow.com/questions/38953668/plotting-2-variables-with-a-heat-map/39919592#comment67487195_39919592\" title=\"plotting 2 variables with a heat map\">stackoverflow.com/questions/38953668/&hellip;</a> for a solution to avoid the scatterplot in a loop by using meshgrid."}], "tags": [], "owner": {"reputation": 662, "user_id": 4837077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ceXqL.jpg?s=128&g=1", "display_name": "JLT", "link": "https://stackoverflow.com/users/4837077/jlt"}, "is_accepted": false, "score": 2, "last_activity_date": 1473677874, "last_edit_date": 1473677874, "creation_date": 1473673774, "answer_id": 39447611, "question_id": 38361230, "link": "https://stackoverflow.com/questions/38361230/matplotlib-plot-matrix-keeping-the-original-coordinates/39447611#39447611", "title": "matplotlib plot matrix keeping the original coordinates", "body": "<p>you possibly could use a scatter plot. </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nN = 40\nX = np.random.rand(N)\nY = np.random.rand(N)\ndef f(x,y): #function f\n    return x+y\nZ = np.zeros([N,N])\nfor i in range(N):\n    for j in range(N):\n        Z[i,j] = f(X[i],Y[j])\n        plt.scatter(X[i],Y[j],c=Z[i,j],s=40,vmin=0.0,vmax=2.0,cmap='viridis',marker='s')\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rKWuj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rKWuj.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 14057, "user_id": 2411173, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/52e928a6f9e3077749b75cddab339f4f?s=128&d=identicon&r=PG", "display_name": "Donbeo", "link": "https://stackoverflow.com/users/2411173/donbeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473677874, "creation_date": 1468442085, "last_edit_date": 1468444444, "question_id": 38361230, "link": "https://stackoverflow.com/questions/38361230/matplotlib-plot-matrix-keeping-the-original-coordinates", "title": "matplotlib plot matrix keeping the original coordinates", "body": "<p>I have two vectors <code>x</code> and <code>y</code> and a matrix such that <code>z[i,j] = f(x[i], y[j])</code></p>\n\n<p>I would like to plot <code>z</code> keeping on the axis the coordinates in <code>x</code> and <code>y</code>.  In other words the point <code>z[i, j]</code> should stay in position <code>x[i], y[j]</code> in the plot. </p>\n\n<p>I need to keep this relationship because I need to overlap different plots. </p>\n\n<p><code>plt.imshow(z)</code> does not work as <code>z[i,j]</code> is in position <code>(i, j)</code> and not <code>(x[i], x[j])</code></p>\n\n<p>How can I solve?</p>\n\n<p>EDIT:\nI need a 2 dimensional representation</p>\n"}, {"tags": ["python", "json"], "answers": [{"tags": [], "owner": {"reputation": 4910, "user_id": 3606603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PHdfv.jpg?s=128&g=1", "display_name": "valignatev", "link": "https://stackoverflow.com/users/3606603/valignatev"}, "is_accepted": false, "score": 2, "last_activity_date": 1468443453, "creation_date": 1468443453, "answer_id": 38361568, "question_id": 38361224, "link": "https://stackoverflow.com/questions/38361224/python-json-load-returning-string-instead-of-dictionary/38361568#38361568", "title": "Python json.load returning string instead of dictionary", "body": "<p>In your json stub <code>\"data\"</code> key contains list. In your code you refer to it as a dictionary: <code>i.get('data').get('BaselineExposure')</code></p>\n\n<p>Instead you should iterate through your <code>\"data\"</code>.\nFor example:</p>\n\n<pre><code>data = i.get('data')\nfor d in data:\n    print(d.get('BaselineExposure'))\n</code></pre>\n\n<p>So basically be careful with nested items.</p>\n\n<p>Also why do you use <code>i.get('id').get('value')</code>. Instead <code>i.get('id')</code> should be enough and additional <code>.get('value')</code> should raise <code>AttributeError</code>, isn't it?</p>\n"}, {"comments": [{"owner": {"reputation": 892, "user_id": 4001177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEikv.jpg?s=128&g=1", "display_name": "Golden Lion", "link": "https://stackoverflow.com/users/4001177/golden-lion"}, "edited": false, "score": 0, "creation_date": 1603898167, "post_id": 64575834, "comment_id": 114182811, "body": "otherwise manually search: def printDictionary(dict,leafNode):     for j in dict.keys():         if j==leafNode:             print(&quot;Found &quot; + j+&#39;:&#39;,dict[j])         else:             print(j+&#39;:&#39;,dict[j])  leafNode=&quot;BaselineExposure&quot;         for key in dict.keys():     #print(type(dict[key]))     if str(type(dict[key]))==&quot;&lt;class &#39;list&#39;&gt;&quot;:         listItems=dict[key]         for item in listItems:             if str(type(item))==&quot;&lt;class &#39;dict&#39;&gt;&quot;:                 printDictionary(item,leafNode)     else:         print(key+&#39;:&#39;,dict[key])"}], "tags": [], "owner": {"reputation": 892, "user_id": 4001177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEikv.jpg?s=128&g=1", "display_name": "Golden Lion", "link": "https://stackoverflow.com/users/4001177/golden-lion"}, "is_accepted": false, "score": 0, "last_activity_date": 1603898145, "creation_date": 1603898145, "answer_id": 64575834, "question_id": 38361224, "link": "https://stackoverflow.com/questions/38361224/python-json-load-returning-string-instead-of-dictionary/64575834#64575834", "title": "Python json.load returning string instead of dictionary", "body": "<p>Overview:  I assume the json is stored as a dictionary.  I convert the dictionary to a json string using json.dumps.  I pip install json2xml json2xml to convert the json string so it can be converted to xml.   I then load the xml into a dom tree for searching.  I search for the node in the xml tree using getElementsByTagName and display the value.  My approach is more programmer friendly.</p>\n<pre><code>from json2xml import json2xml\nfrom json2xml.utils import readfromurl, readfromstring, readfromjson\nfrom xml.dom.minidom import parse, parseString\n\ndict={\n  &quot;id&quot;: &quot;Canon EOS 100D&quot;,\n  &quot;data&quot;: [{\n    &quot;SourceFile&quot;: &quot;./Canon 100D/canon_eos_100d_11.dng&quot;,\n    &quot;ExifToolVersion&quot;: 10.07,\n    &quot;Directory&quot;: &quot;./Canon 100D&quot;,\n    &quot;FileSize&quot;: &quot;18 MB&quot;,\n    &quot;FileModifyDate&quot;: &quot;2016:05:02 23:03:14-07:00&quot;,\n    &quot;FileAccessDate&quot;: &quot;2016:05:03 01:45:03-07:00&quot;,\n    &quot;FileInodeChangeDate&quot;: &quot;2016:05:02 23:03:14-07:00&quot;,\n    &quot;FilePermissions&quot;: &quot;rw-r--r--&quot;,\n    &quot;ColorMatrix2&quot;: &quot;0.6602 -0.0841 -0.0939 -0.4472 1.2458 0.2247 -0.0975 0.2039 0.6148&quot;,\n    &quot;CameraCalibration1&quot;: &quot;1.0648 0 0 0 1 0 0 0 0.9881&quot;,\n    &quot;CameraCalibration2&quot;: &quot;1.0648 0 0 0 1 0 0 0 0.9881&quot;,\n    &quot;AnalogBalance&quot;: &quot;1 1 1&quot;,\n    &quot;AsShotNeutral&quot;: &quot;0.512769 1 0.584809&quot;,\n    &quot;BaselineExposure&quot;: -0.25,\n    &quot;RedBalance&quot;: 1.950195\n    }]\n }\n\n #convert dictionary to a string\n json_data=json.dumps(dict,indent=4)\n data=readfromstring(json_data)\n xml=json2xml.Json2xml(data).to_xml()\n\n dom=parseString(xml)\n\n element=dom.getElementsByTagName('BaselineExposure') \n print(element[0].firstChild.nodeValue)\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 6346986, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/10204750308318027/picture?type=large", "display_name": "Karsten Andersen", "link": "https://stackoverflow.com/users/6346986/karsten-andersen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2319, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1603898145, "creation_date": 1468442069, "question_id": 38361224, "link": "https://stackoverflow.com/questions/38361224/python-json-load-returning-string-instead-of-dictionary", "title": "Python json.load returning string instead of dictionary", "body": "<p>I'm taking in a json file and only copying the necesary keys and their values to a new json file. I'm getting the error \"TypeError: string indices must be integers\" in reference to where I'm copying the values to myDict. From what I gather, json.load is returning a string rather than a dictionary. I validated the json file and it has valid json format. I'm using Python 2.7.12. I've searched everywhere and haven't found an answer that answers my specific problem. Any help you can give me is greatly appreciated.</p>\n\n<pre><code>import os\nimport sys\nimport json\n\ndef stripSpec(inp, outp):\n    #Load json file as python dictionary\n    obj  = json.load(open(inp, \"r\"))\n\n    result=[]\n\n    #Go through JSON and save necessary keys and values\n    for i in obj:\n        myDict = {}\n        myDict[\"id\"]=i.get('id').get('value')\n        myDict[\"data\"][\"BaselineExposure\"]=i.get('data').get('BaselineExposure').get('value')\n        myDict[\"data\"][\"ColorMatrix2\"]=i.get('data').get('ColorMatrix2').get('value')\n        result.append(myDict)\n\n    # Output the updated file with pretty JSON\n    open(outp, \"w\").write(json.dumps(result, sort_keys=True, indent=4, ensure_ascii=False, separators=(',', ':')))\n    return\n\n#Save input and output paths as variables\ninp = sys.argv[1]\noutp = sys.argv[2]\n\n#Call function\nstripSpec(inp, outp)\n</code></pre>\n\n<p>an example of the json is here. It has been drastically reduced but basically there is more entries for each camera model</p>\n\n<pre><code>[\n{ \"id\": \"Canon EOS 100D\",\n \"data\":[{\n  \"SourceFile\": \"./Canon 100D/canon_eos_100d_11.dng\",\n  \"ExifToolVersion\": 10.07,\n  \"Directory\": \"./Canon 100D\",\n  \"FileSize\": \"18 MB\",\n  \"FileModifyDate\": \"2016:05:02 23:03:14-07:00\",\n  \"FileAccessDate\": \"2016:05:03 01:45:03-07:00\",\n  \"FileInodeChangeDate\": \"2016:05:02 23:03:14-07:00\",\n  \"FilePermissions\": \"rw-r--r--\",\n  \"ColorMatrix2\": \"0.6602 -0.0841 -0.0939 -0.4472 1.2458 0.2247 -0.0975 0.2039 0.6148\",\n  \"CameraCalibration1\": \"1.0648 0 0 0 1 0 0 0 0.9881\",\n  \"CameraCalibration2\": \"1.0648 0 0 0 1 0 0 0 0.9881\",\n  \"AnalogBalance\": \"1 1 1\",\n  \"AsShotNeutral\": \"0.512769 1 0.584809\",\n  \"BaselineExposure\": -0.25,\n  \"RedBalance\": 1.950195\n  }]\n},\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "edited": false, "score": 0, "creation_date": 1468442177, "post_id": 38361221, "comment_id": 64134887, "body": "See here: <a href=\"http://stackoverflow.com/a/75149/3928184\">stackoverflow.com/a/75149/3928184</a>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 7, "creation_date": 1468442200, "post_id": 38361221, "comment_id": 64134902, "body": "Also, see <a href=\"http://stackoverflow.com/questions/19605150/regex-for-password-must-be-contain-at-least-8-characters-least-1-number-and-bot\"><i>Regex for Password Must be contain at least 8 characters, least 1 number and both lower and uppercase letters and special characters</i></a>. Remove the &quot;special characters&quot; conditions and you have your answer."}, {"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1468442285, "post_id": 38361221, "comment_id": 64134943, "body": "@WiktorStribi\u017cew&#39;s suggestion is even more useful than mine"}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1468442508, "post_id": 38361221, "comment_id": 64135039, "body": "Relevant regex from that answer: <code>^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$</code> Another way to write that last part is <code>[^\\W_]{8,}</code>"}, {"owner": {"reputation": 63, "user_id": 6557235, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5c4872972dc11beac43ede5fefed6026?s=128&d=identicon&r=PG&f=1", "display_name": "brianhalperin", "link": "https://stackoverflow.com/users/6557235/brianhalperin"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1468442768, "post_id": 38361221, "comment_id": 64135167, "body": "@WiktorStribi\u017cew Although that code is pretty helpful, it&#39;s sort of confusing. I appreciate the answer, but any chance you mind helping me with my version of the code? No worries if not."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1468443738, "post_id": 38361221, "comment_id": 64135635, "body": "Here is the regex for your logic: <a href=\"http://ideone.com/o6a4N7\" rel=\"nofollow noreferrer\">ideone.com/o6a4N7</a>"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1468444161, "post_id": 38361221, "comment_id": 64135826, "body": "To be honest, your expression would even validate an empty string :)"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1468447780, "post_id": 38361221, "comment_id": 64137400, "body": "Before trying to write a regex to check a &quot;strong password&quot;, take the time to search and ask you what is a &quot;strong password&quot;."}, {"owner": {"reputation": 11191, "user_id": 310399, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d187650935da258c633a3a0742985891?s=128&d=identicon&r=PG", "display_name": "JS.", "link": "https://stackoverflow.com/users/310399/js"}, "edited": false, "score": 0, "creation_date": 1468448454, "post_id": 38361221, "comment_id": 64137670, "body": "Please consider changing your title to &quot;Python regex for strong password&quot; or similar.  It will help others with the same problem find your question easier than &quot;Python regex pattern&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6557235, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5c4872972dc11beac43ede5fefed6026?s=128&d=identicon&r=PG&f=1", "display_name": "brianhalperin", "link": "https://stackoverflow.com/users/6557235/brianhalperin"}, "edited": false, "score": 0, "creation_date": 1468443785, "post_id": 38361609, "comment_id": 64135657, "body": "I dont really understand your comments or what the anchors do.. Do you mind explaining in other words? Thanks!"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1468443791, "post_id": 38361609, "comment_id": 64135659, "body": "OP code actually already checks the string length, you needn&#39;t add <code>{8,}</code> at the end. <code>+</code> is enough :)"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1468443886, "post_id": 38361609, "comment_id": 64135705, "body": "@WiktorStribi\u017cew: Wasn&#39;t aware of that, thanks."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 63, "user_id": 6557235, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5c4872972dc11beac43ede5fefed6026?s=128&d=identicon&r=PG&f=1", "display_name": "brianhalperin", "link": "https://stackoverflow.com/users/6557235/brianhalperin"}, "edited": false, "score": 0, "creation_date": 1468444013, "post_id": 38361609, "comment_id": 64135769, "body": "@brianhalperin: <code>^</code> and <code>$</code> make sure to match at the start and end of the string, respectively."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 0, "last_activity_date": 1468443844, "last_edit_date": 1468443844, "creation_date": 1468443586, "answer_id": 38361609, "question_id": 38361221, "link": "https://stackoverflow.com/questions/38361221/regex-python-pattern/38361609#38361609", "title": "Regex Python pattern", "body": "<p>As mentioned by others, this is a typical use-case for lookarounds (lookaheads in this situation).<br>\nA lookahead <strong>looks ahead without consuming characters</strong> (this is an assertion).<br>\nBroken down to your needs:</p>\n\n<blockquote>\n  <p>A strong password is defined as one that is at least eight characters\n  long, contains both uppercase and lowercase characters, and has at\n  least one digit.</p>\n</blockquote>\n\n<pre><code>^                    # anchors the expression to the beginning\n    (?=[^a-z]*[a-z]) # not lowercase, followed by lowercase\n    (?=[^A-Z]*[A-Z]) # not UPPERCASE, followed by UPPERCASE\n    (?=\\D*\\d)        # not a digit, followed by a digit\n    .{8,}            # at least 8 characters long\n$                    # anchor the expression to the end\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/lU9zU9/1\" rel=\"nofollow\"><strong>a demo on regex101.com</strong></a>.<br>\n<hr>\nSo for your code snippet this would be:</p>\n\n<pre><code>import re\npass2Regex = re.compile(r\"\"\"\n    ^                    # anchors the expression to the beginning\n        (?=[^a-z]*[a-z]) # not lowercase, followed by lowercase\n        (?=[^A-Z]*[A-Z]) # not UPPERCASE, followed by UPPERCASE\n        (?=\\D*\\d)        # not a digit, followed by a digit\n        .{8,}            # at least 8 characters long\n    $                    # anchor the expression to the end\n\"\"\", re.VERBOSE)\n\npassword = \"WeaK1234\"\npassword2 = \"strong?\"\n\nif pass2Regex.search(password):\n    print \"Strong!\"\n\nif pass2Regex.search(password2):\n    print \"Strong!\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1468443941, "post_id": 38361678, "comment_id": 64135739, "body": "Why should he if he can have it all at once?"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1468444270, "post_id": 38361678, "comment_id": 64135874, "body": "Because any single-regexp &quot;solution&quot;, even yours, will be far less readable, verifiable or extensible (i.e., maintainable) than splitting it up."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1468444609, "post_id": 38361678, "comment_id": 64136016, "body": "I agree with you that most regex solutions suffer from not being written in verbose mode - however, if you <b>do add</b> comments (and this is what I usually do), I think they are often more straight-forward than looking up every function&#39;s parameter - after all it&#39;s a matter of taste, I guess :)"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1468445024, "post_id": 38361678, "comment_id": 64136230, "body": "Verbose mode is nice, but you&#39;ve still got a regexp where all the work is done in multiple overlapping lookaheads that don&#39;t even use non-greedy wildcards. Thanks but I&#39;ll pass. And comments are not verification-- they can be incorrect."}, {"owner": {"reputation": 11191, "user_id": 310399, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d187650935da258c633a3a0742985891?s=128&d=identicon&r=PG", "display_name": "JS.", "link": "https://stackoverflow.com/users/310399/js"}, "reply_to_user": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 2, "creation_date": 1468448835, "post_id": 38361678, "comment_id": 64137793, "body": "@Jan I love regex.  But fewer people can write/maintain a regex than can understand/update/maintain Python string methods.  If a simpler, clearer, more easily maintained way is available, choose it."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 5825, "user_id": 705471, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7b70ff8c30fa8f474a2ec92bf9675dcf?s=128&d=identicon&r=PG&f=1", "display_name": "Axe", "link": "https://stackoverflow.com/users/705471/axe"}, "edited": false, "score": 0, "creation_date": 1468448912, "post_id": 38361678, "comment_id": 64137822, "body": "@Akshit, what makes you think this not an answer? The answer is &quot;split it up into several regexps and you can have a very simple solution.&quot;"}], "tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": false, "score": 1, "last_activity_date": 1468449446, "last_edit_date": 1468449446, "creation_date": 1468443841, "answer_id": 38361678, "question_id": 38361221, "link": "https://stackoverflow.com/questions/38361221/regex-python-pattern/38361678#38361678", "title": "Regex Python pattern", "body": "<p>You have all of python to work with, so don't limit yourself to a single regexp. Write one regexp for each condition that the password must satisfy. \"Contains uppercase\"? Trivial. \"Lowercase\"? Also trivial. \"At least one digit\"? No problem. \"At least 8 characters long\"? You don't even need a regexp. </p>\n\n<p>You can cascade the tests, combine a series of tests with <code>and</code>, or put the tests in a list and apply them in one go like this:</p>\n\n<pre><code>tests = [ \"[A-Z]\", \"[a-z]\", r\"\\d\", \".{8}\" ]\nif all(re.search(pat, text) for pat in tests):\n    print(\"It's a strong password\")\n</code></pre>\n\n<p>Save your hours of effort for the next step.</p>\n"}], "owner": {"reputation": 63, "user_id": 6557235, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5c4872972dc11beac43ede5fefed6026?s=128&d=identicon&r=PG&f=1", "display_name": "brianhalperin", "link": "https://stackoverflow.com/users/6557235/brianhalperin"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "closed_date": 1469407131, "answer_count": 2, "score": 2, "last_activity_date": 1468449446, "creation_date": 1468442058, "last_edit_date": 1468442404, "question_id": 38361221, "link": "https://stackoverflow.com/questions/38361221/regex-python-pattern", "closed_reason": "Duplicate", "title": "Regex Python pattern", "body": "<p>I am trying to write a program that uses regular expressions to make sure the password string it is passed is strong. A strong password is defined as one that is at least eight characters long, contains both uppercase and lowercase characters, and has at least one digit. So far, I have the following code. I have spent hours tinkering the regular expression, however I cant make it so that it will pass. Each time I make a change, it seems a strong password gets marked as weak, or a weak as strong. Any idea how I can improve this?</p>\n\n<pre><code>import re\n\n\npass2Regex = re.compile(r'''\n    \\d*\n    [a-zA-Z]*\n    \\d*\n    [a-zA-Z]*\n    ''',re.VERBOSE)\n\n\ntext = raw_input(\"enter your password\\n\")\nif len(text) &gt;= 8:\n    search = pass2Regex.findall(text)\n    if text in search:\n        print \"%s is a strong password\" % (text)\n    else:\n        print \"%s is a weak password\" % (text)\nelse:\n    print \"%s is a weak password\" % (text)\n</code></pre>\n\n<p>For example, right now if the password were \"231242441\", it would be marked as a strong password even though there are no letters. Furthermore, When I try a + instead of a * it will only accept passwords that start with a digit, etc..</p>\n\n<p>Thanks for the help</p>\n"}, {"tags": ["python", "packages"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 6495266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/34868035d308897350f778dcdf3ab202?s=128&d=identicon&r=PG&f=1", "display_name": "Anders Andersson", "link": "https://stackoverflow.com/users/6495266/anders-andersson"}, "edited": false, "score": 1, "creation_date": 1468443846, "post_id": 38361507, "comment_id": 64135685, "body": "thank god for your help Kyle! Its working, its finally working, im so grateful right now! Thanks for saving my day"}], "tags": [], "owner": {"reputation": 3670, "user_id": 223981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d3eUr.jpg?s=128&g=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/223981/kyle"}, "is_accepted": true, "score": 1, "last_activity_date": 1468443251, "creation_date": 1468443251, "answer_id": 38361507, "question_id": 38361217, "link": "https://stackoverflow.com/questions/38361217/installing-packages-not-working-update/38361507#38361507", "title": "Installing packages, not working (update)", "body": "<p>You are running your file in Python 3, but you installed <code>terminaltables</code> for Python 2.</p>\n\n<p>Either use Python 2 (<code>python yatzy4.py</code>) or install <code>terminaltables</code> for Python 3 (Probably <code>pip3 install terminaltables</code>, depending on your setup.)</p>\n"}], "owner": {"reputation": 61, "user_id": 6495266, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/34868035d308897350f778dcdf3ab202?s=128&d=identicon&r=PG&f=1", "display_name": "Anders Andersson", "link": "https://stackoverflow.com/users/6495266/anders-andersson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "accepted_answer_id": 38361507, "answer_count": 1, "score": 1, "last_activity_date": 1468443251, "creation_date": 1468442049, "question_id": 38361217, "link": "https://stackoverflow.com/questions/38361217/installing-packages-not-working-update", "title": "Installing packages, not working (update)", "body": "<p>I need terminaltables, a package in python, for an assignment in school, the problem is, I can for some reason not make it work, I've installed pip, it's working and I can call pip help. I've used the commandoes: sudo pip install terminaltables and pip install terminaltables. After looking it up, my version of pip is 2.7 and python is 2.7.6, terminaltables is 3.0.0. I'm trying to use terminaltables with this code, notice that this is only example code copied:</p>\n\n<pre><code>from terminaltables import AsciiTable\ntable_data = [\n    ['Heading1', 'Heading2'],\n    ['row1 column1', 'row1 column2'],\n    ['row2 column1', 'row2 column2'],\n    ['row3 column1', 'row3 column2']\n]\ntable = AsciiTable(table_data)\nprint(table.table)\n</code></pre>\n\n<p>When I try to run this, I type python3 yatzy4.py (yatzy4 is the name of my file). It says that there is no module named \"terminaltables\". I'm not a good programmer, I'm trying to learn, I'm unsure of what I should do. I checked some other posts here on stackoverflow and there were discussion of paths.</p>\n\n<p>I'm unsure how my path should look like and how do I check this? Been stuck with this problem since earlier this day, and it seems like I can't figure it out myself. I'm probably gonna get downvoted and banned from writing again, but it drives me nuts that it simply wont work, I hope that someone, who might have had the same issue, can help me and hopefully others. Thank you!</p>\n"}, {"tags": ["python", "algorithm", "tic-tac-toe", "minimax"], "comments": [{"owner": {"reputation": 126927, "user_id": 791604, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ce991df7a056248d5e4f6fc3659ba733?s=128&d=identicon&r=PG", "display_name": "Daniel Wagner", "link": "https://stackoverflow.com/users/791604/daniel-wagner"}, "edited": false, "score": 1, "creation_date": 1468445627, "post_id": 38361182, "comment_id": 64136525, "body": "What debugging steps have you taken? What did you learn as a result? What problems are you facing in making progress during your debugging? If you were hoping that you could just dump your code on somebody else and have them do all the work for you, you need to adjust your expectations."}], "owner": {"reputation": 15, "user_id": 6585906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443b67334350342e00fd32c9d0d34de8?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew James", "link": "https://stackoverflow.com/users/6585906/matthew-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1468504827, "creation_date": 1468441938, "question_id": 38361182, "link": "https://stackoverflow.com/questions/38361182/python-minimax-algorithm-implementation-not-working-for-tic-tac-toe", "title": "Python minimax algorithm implementation not working for tic tac toe", "body": "<p>I have written a basic game of tic tac toe and attempted to implement the minimax algorithm for the game's ai. However, the algorithm does not seem to be working properly when the script is run. \nExample:     (the ai is O )</p>\n\n<pre><code>|X|X| |\n-------\n| | | |\n-------\n| |O| |\n-------\n</code></pre>\n\n<p>results in </p>\n\n<pre><code>|X|X| |\n-------\n| | |O|\n-------\n| |O| |\n-------\n</code></pre>\n\n<p>As well as this, the algorithm will often overwrite the player's previous moves</p>\n\n<p>Complete script</p>\n\n<pre><code>import random\nimport time\nimport sys\nfrom sys import maxsize\n\n\n\n\n#converts numbers from the board to X O and \"\" for printing out the board \ndef numToSymbol(board):\n    visual = board\n    for i in range(0, 9):\n        if visual[i] == -1:\n            visual[i]= \"X\"\n        elif visual[i] == 1:\n            visual[i] = \"O\"\n        elif visual[i] == 0:\n            visual[i] = \" \"\n    return visual\n\n\ndef symbolToNum(visual):\n    board = visual\n    for i in range(0, 9):\n        if board[i] == \"X\":\n            board[i] = -1\n        elif board[i] == \"O\":\n            board[i] = 1\n        elif board[i] == \" \":\n            board[i] = 0\n    return board\n\n\n# prints the board, first coverting numbers throught numtoSymbol\ndef drawBoard():\n    visual = numToSymbol(board)\n    print(\n        \"|\"+ str(visual[0]) + \"|\" + str(visual[1]) + \"|\" + str(visual[2]) + \"| \\n\"\n        \"-------\\n\"\n        \"|\"+ str(visual[3]) + \"|\" + str(visual[4]) + \"|\" + str(visual[5]) + \"| \\n\"\n        \"-------\\n\"\n        \"|\"+ str(visual[6]) + \"|\" + str(visual[7]) + \"|\" + str(visual[8]) + \"| \\n\"\n        \"-------\")\n    symbolToNum(visual)\n\n\n# checks the possible options for 3 in a row and if any are all held by one side returns true\ndef checkWin(board, winConditions, ai):\n    if ai == True:\n        win = 3\n    if ai == False:\n        win = -3\n    for row in winConditions:\n        checkA = board[row[0]]\n        checkB = board[row[1]]\n        checkC = board[row[2]]\n        if checkA + checkB + checkC == int(win):\n           return True\n\n    return False\n\ndef checkDraw(board):\n    emptyTile = 9\n    for tile in board:\n        if tile != 0:\n            emptyTile -= 1\n    if emptyTile == 0:\n        completion(2)\n\ndef availableMoves(board, bonus):\n    availableSlots = []\n    for position in range(0,9):\n        if board[position] == 0:\n            availableSlots.append(position + bonus)\n    return availableSlots\n\n\n\ndef playerTurn(board, remainingTurns):\n    board = board\n    checkDraw(board)\n    visual =drawBoard()\n    print(\"pick one of the available slots \\n\")\n    availableSlots = availableMoves(board, 1)\n    print(availableSlots)\n    choice = int(input('Select a tile from those shown above:\\n')) -1\n    while  True:    \n        if 0 &lt;= choice &lt;= 8:\n            if board[choice] == 0:\n                board[choice] = -1\n                break\n            else:\n                choice = int(input('Select a tile from those shown above which has not already been selected:\\n')) -1\n        else:\n            choice = int(input('Select a tile from those shown above:\\n')) -1\n    visual = drawBoard()\n    if checkWin(board, winConditions, False) == True:\n        completion(0)\n    else:\n        aiTurn(board, remainingTurns - 1)\n\n\nclass Node(object):\n\n    def __init__(self,  remainingTurns, playerNum, board, value = 0):\n        self.depth = remainingTurns\n        self.playerNum = playerNum\n        self.board = board[::]\n        self.value = value\n        self.moves = availableMoves(self.board, 0)\n        self.children = []\n        self.createChildren()\n\n    def availableMoves(self, board):\n        self.availableSlots = []\n        for position in range(0,9):\n            if board[position] == 0:\n                availableSlots.append(position)\n        return self.availableSlots\n\n    def winCheck(self, state, playerNum):\n        self.winConditions = [[0, 1, 2],[3, 4, 5],[6, 7, 8],[0, 3, 6],[1, 4, 7],[2, 5, 8],[0, 4, 8],[2, 4, 6]]\n        self.win = 3\n        for row in self.winConditions:\n            self.checkA = self.state[row[0]]\n            self.checkB = self.state[row[1]]\n            self.checkC = self.state[row[2]]\n            if self.checkA + self.checkB + self.checkC == int(self.win * self.playerNum):\n               return True\n        return False\n\n    def createChildren(self):\n        if self.depth &gt; 0:\n            for i in self.moves:\n                self.state = self.board\n                self.state[i] = self.playerNum\n                print(board)\n                self.children.append(Node(self.depth - 1, self.playerNum * -1, self.state, self.realVal(self.state, self.playerNum) ))\n\n\n    def realVal(self, value, playerNum):\n        value = self.winCheck(self.state, self.playerNum)\n        if value == True:\n            return maxsize * self.playerNum\n        else:\n            return 0\n\n\n\n\ndef minimax(node, depth, playerNum):\n    if depth == 0 or abs(node.value) == maxsize:\n        return node.value\n\n    bestValue = maxsize * -playerNum\n\n    for i in range(len(node.children)):\n        child = node.children[i]\n        val = minimax(child, depth - 1, -playerNum)\n        if (abs(maxsize * playerNum - val) &lt; abs(maxsize * playerNum - bestValue)):\n            bestValue = val\n    return bestValue\n\n\ndef aiTurn(board, remainingTurns):\n    checkDraw(board)\n    print('Waiting for ai')\n    time.sleep(2)\n    board = board\n    state = board\n    currentPlayer = 1\n    tree = Node(remainingTurns, currentPlayer, state)\n    bestChoice = -100\n    bestValue = maxsize * -1\n    for i in range(len(tree.children)):\n        n_child = tree.children[i]\n        i_val = minimax(n_child, remainingTurns, -currentPlayer,)\n        if (abs(currentPlayer * maxsize - i_val) &lt;= abs(currentPlayer * maxsize - bestValue)):\n            bestValue = i_val\n            bestChoice = i\n    print(bestChoice)\n    board[bestChoice] = 1\n    if checkWin(board, winConditions, True) == True:\n        completion(1)\n    else:\n        playerTurn(board, remainingTurns - 1)\n\n\n\ndef completion(state):\n    if state == 1:\n        print('The computer has won this game.')\n        choice = str(input('press y if you would like to play another game; Press n if you would not \\n'))\n        if choice == 'y' or choice == 'Y':\n            playGame()\n        else:\n            sys.exit()\n    if state == 0:\n        print('you win!')\n        choice = str(input('press y if you would like to play another game; Press n if you would not \\n'))\n        if choice == 'y' or choice == 'Y':\n            playGame()\n        else:\n            sys.exit()\n    if state == 2:\n        print('you drew')\n        choice = str(input('press y if you would like to play another game; Press n if you would not \\n'))\n        if choice == 'y' or choice == 'Y':\n            playGame()\n        else:\n            sys.exit()        \n\n\n\n\ndef playGame():\n    global board\n    board = [0,0,0,0,0,0,0,0,0]\n\n    global winConditions\n    winConditions = [\n                [0, 1, 2],\n                [3, 4, 5],\n                [6, 7, 8],\n                [0, 3, 6],\n                [1, 4, 7],\n                [2, 5, 8],\n                [0, 4, 8],\n                [2, 4, 6]\n                ]\n\n\n    global remainingTurns\n    remainingTurns = 9\n    playerFirst = random.choice([True, False])\n\n    if playerFirst == True:\n        playerTurn(board, remainingTurns)\n    else:\n        aiTurn(board, remainingTurns)\n\n\nif __name__ == '__main__':\n    playGame()\n</code></pre>\n"}, {"tags": ["python", "numpy", "scipy"], "comments": [{"owner": {"reputation": 1508, "user_id": 6405985, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/78736a4802ae6a766a28829994cd7fff?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wang", "link": "https://stackoverflow.com/users/6405985/peter-wang"}, "edited": false, "score": 0, "creation_date": 1468441934, "post_id": 38361148, "comment_id": 64134754, "body": "Usually you get that error when you&#39;re taking a log of a negative number; check all your values to make sure you&#39;re using the right domain for each function"}, {"owner": {"reputation": 178, "user_id": 4135363, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3243ae7ad7d2e0c43212210530d5e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/4135363/javier"}, "reply_to_user": {"reputation": 1508, "user_id": 6405985, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/78736a4802ae6a766a28829994cd7fff?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wang", "link": "https://stackoverflow.com/users/6405985/peter-wang"}, "edited": false, "score": 0, "creation_date": 1468442048, "post_id": 38361148, "comment_id": 64134813, "body": "<code>log( s &#47; k) = log( 0.8 )</code>, so I don&#39;t think that&#39;s quite it. Thank you though"}, {"owner": {"reputation": 1508, "user_id": 6405985, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/78736a4802ae6a766a28829994cd7fff?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wang", "link": "https://stackoverflow.com/users/6405985/peter-wang"}, "edited": false, "score": 0, "creation_date": 1468442397, "post_id": 38361148, "comment_id": 64134993, "body": "It could be that one of the other functions is receiving an input that is out of their domain. Square roots of negative numbers (although it doesn&#39;t look like you have any) would also throw that error. I&#39;m not sure about <code>norm.cdf</code> in the <code>scipy</code> package, but that may have some domain restrictions as well that you could maybe check out?"}, {"owner": {"reputation": 178, "user_id": 4135363, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3243ae7ad7d2e0c43212210530d5e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/4135363/javier"}, "reply_to_user": {"reputation": 1508, "user_id": 6405985, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/78736a4802ae6a766a28829994cd7fff?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wang", "link": "https://stackoverflow.com/users/6405985/peter-wang"}, "edited": false, "score": 0, "creation_date": 1468442444, "post_id": 38361148, "comment_id": 64135009, "body": "Okay, I will look out for that. Thank you so much!"}], "answers": [{"comments": [{"owner": {"reputation": 29797, "user_id": 58635, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/82903851b0e95dd132b1e5fe388e1f5d?s=128&d=identicon&r=PG", "display_name": "Will Vousden", "link": "https://stackoverflow.com/users/58635/will-vousden"}, "edited": false, "score": 2, "creation_date": 1468444747, "post_id": 38361449, "comment_id": 64136078, "body": "You can also put the following at the top of your script: <code>from __future__ import division</code>.  This will change Python&#39;s division semantics to those used in Python 3, where integer division doesn&#39;t happen unless you use the <code>&#47;&#47;</code> operator."}], "tags": [], "owner": {"reputation": 1508, "user_id": 6405985, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/78736a4802ae6a766a28829994cd7fff?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Wang", "link": "https://stackoverflow.com/users/6405985/peter-wang"}, "is_accepted": true, "score": 3, "last_activity_date": 1468443042, "creation_date": 1468443042, "answer_id": 38361449, "question_id": 38361148, "link": "https://stackoverflow.com/questions/38361148/valueerror-math-domain-error-black-scholes-option-valuation/38361449#38361449", "title": "ValueError: math domain error - Black-Scholes Option Valuation", "body": "<p><code>log(s/k)</code> is throwing the error. Even though 20/25 = 0.8, since they are both integers, 20/25 evaluates to 0, and <code>log(0)</code> throws the error. Convert s or k or both to a float, and that should solve your problem </p>\n"}], "owner": {"reputation": 178, "user_id": 4135363, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3243ae7ad7d2e0c43212210530d5e5e1?s=128&d=identicon&r=PG&f=1", "display_name": "Javier", "link": "https://stackoverflow.com/users/4135363/javier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 38361449, "answer_count": 1, "score": 2, "last_activity_date": 1468443149, "creation_date": 1468441798, "last_edit_date": 1468443149, "question_id": 38361148, "link": "https://stackoverflow.com/questions/38361148/valueerror-math-domain-error-black-scholes-option-valuation", "title": "ValueError: math domain error - Black-Scholes Option Valuation", "body": "<p>I am writing a program to calculate the price of a Call Option explicitly using the Black-Scholes formula under the necessary conditions. I am getting an error when I run my code.</p>\n\n<p>I am not sure what is causing it. Please, any and all help is very greatly appreciated. Here is my code thus far:</p>\n\n<pre><code>    ## This program is to perform an explicit Black-Scholes hedge using the formula:\n##\n## If a stock has a constant volatility of 18% and constant drift of 8%, with \n## continuously compounded interest rates constant at 6%, what is the value of\n## an option to buy the stock for $25 in two years time, given a current stock\n## price of $20?\n##\n## The description fits the Black-Scholes conditions. Thus, using s = 20, k = $25,\n## sigma = 0.18, r = 0.06, and t= 2, we can calculate V_0 = $1.221. We will verify\n## that this result is correct:\n##\nimport numpy as np\nfrom math import exp, log\nfrom scipy.stats import norm\nimport matplotlib.pyplot as plt\n\n# Parameters\ns = 20 # current stock price\nk = 25 #strike price of the option in dollars\nsigma = 0.18 # constant volatility\nr = 0.06 # constant interest rate\nT = 2 # expiry date of contract, 2 years time\n\ndef V(s,T):\n    return s * norm.cdf( (log(s / k) + (r + 0.5 * pow(sigma,2)) * T) / (sigma * np.sqrt(T)) ) \n    - k * exp(-r * T) * norm.cdf(  (log(s / k) + (r - 0.5 * pow(sigma,2.0)) * T) / (sigma * np.sqrt(T)) )\n\nV_0 = V(s,T) # the value of our option at time t=0 is the same at expiry T\n\nprint V_0\n</code></pre>\n\n<p>This is what I get when I run my code: \"ValueError: math domain error \" and it points to the line where I return a value for the function I defined. Thanks!</p>\n"}, {"tags": ["python", "heroku", "celery", "django-celery", "celerybeat"], "answers": [{"comments": [{"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1469218300, "post_id": 38411796, "comment_id": 64462848, "body": "That&#39;s too bad... It&#39;s weird that you can start a process in the terminal to get a third going."}], "tags": [], "owner": {"reputation": 176, "user_id": 4261741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726bceac0c7a8292c7c0beee1af4cd1f?s=128&d=identicon&r=PG&f=1", "display_name": "Muhlen", "link": "https://stackoverflow.com/users/4261741/muhlen"}, "is_accepted": true, "score": 4, "last_activity_date": 1468676398, "creation_date": 1468676398, "answer_id": 38411796, "question_id": 38361040, "link": "https://stackoverflow.com/questions/38361040/celery-beat-not-starting-on-heroku/38411796#38411796", "title": "Celery beat not starting on Heroku", "body": "<p>Heroku only allow two free Dyno instances in one application if I'm not mistaken.</p>\n"}, {"comments": [{"owner": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "edited": false, "score": 0, "creation_date": 1469118632, "post_id": 38509619, "comment_id": 64417078, "body": "PS: I&#39;m sorry about the poor format, SO gave me errors with quoted code."}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1469218420, "post_id": 38509619, "comment_id": 64462906, "body": "Tried this before and ran into the &quot;not enough dynos&quot; issue, oh well."}, {"owner": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "reply_to_user": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1469238816, "post_id": 38509619, "comment_id": 64468121, "body": "As @Muhlen said in the other answer, you need to upgrade your account, of course you can start it from terminal, but the same dyno will be attending it (<i>not recommended</i>)"}], "tags": [], "owner": {"reputation": 2330, "user_id": 2399397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LL1BT.jpg?s=128&g=1", "display_name": "Rafael Aguilar", "link": "https://stackoverflow.com/users/2399397/rafael-aguilar"}, "is_accepted": false, "score": 1, "last_activity_date": 1469118554, "creation_date": 1469118554, "answer_id": 38509619, "question_id": 38361040, "link": "https://stackoverflow.com/questions/38361040/celery-beat-not-starting-on-heroku/38509619#38509619", "title": "Celery beat not starting on Heroku", "body": "<p>@Jared Goguen: Hi pal,</p>\n\n<p>You probable need to scale up your workers in Heroku,</p>\n\n<blockquote>\n  <p>Deploying on Heroku</p>\n  \n  <p>If you already created a Procfile above and attached the appropriate add-ons for the message broker and result store, all that\u2019s left to do is push and scale your app:</p>\n</blockquote>\n\n<pre><code>git push heroku master\n\nheroku ps:scale worker=1\n</code></pre>\n\n<blockquote>\n  <p>Of course, at any time you can scale to any number of worker dynos. Now run a task just like you did locally:</p>\n</blockquote>\n\n<pre><code>heroku run python\n\n&gt;&gt;&gt; import tasks\n&gt;&gt;&gt; tasks.add.delay(1, 2)\n</code></pre>\n\n<blockquote>\n  <p>You should see the task running in the application logs:</p>\n</blockquote>\n\n<pre><code>heroku logs -t -p worker\n</code></pre>\n\n<p>Source: <a href=\"https://devcenter.heroku.com/articles/celery-heroku\" rel=\"nofollow\">Heroku Guides</a></p>\n"}, {"tags": [], "owner": {"reputation": 1006, "user_id": 4509876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gspjb.png?s=128&g=1", "display_name": "Timothy Mugayi", "link": "https://stackoverflow.com/users/4509876/timothy-mugayi"}, "is_accepted": false, "score": 6, "last_activity_date": 1487921168, "creation_date": 1487921168, "answer_id": 42432983, "question_id": 38361040, "link": "https://stackoverflow.com/questions/38361040/celery-beat-not-starting-on-heroku/42432983#42432983", "title": "Celery beat not starting on Heroku", "body": "<p>If your running on a free tier heroku with a single dyno then you best bet is to use honcho python clone of foreman a tool for managing Procfile-based applications. clone <a href=\"https://github.com/nickstenning/honcho\" rel=\"noreferrer\">https://github.com/nickstenning/honcho</a>, This will allow you to fork mutiple processes for your celery beat/workers. You will still be limited by heroku's free tier memory 512MB ram and dyno operating hours. So nothing too heavy good for quick dev and poc's</p>\n\n<p>install honcho </p>\n\n<blockquote>\n  <p>pip install honcho</p>\n</blockquote>\n\n<p>Ensure honcho is part of your requirement.txt</p>\n\n<blockquote>\n  <p>pip freeze > requirements.txt</p>\n</blockquote>\n\n<p>Create a ProcfileHoncho store all your original Procfile content</p>\n\n<p><strong>ProcfileHoncho</strong></p>\n\n<pre><code>web: gunicorn myDjangoApp.wsgi --log-file -\nworker1: celery -A myDjangoApp beat -l info\nworker2: celery -A myDjangoApp worker -l info\n</code></pre>\n\n<p><strong>Procfile</strong></p>\n\n<pre><code>web: honcho start -f ProcfileHoncho\n</code></pre>\n\n<p>ensure you load up your broker url via config vars and point to your free managed broker. Am sure you can find one free broker with a quick google search </p>\n\n<pre><code>git push heroku master\nheroku logs -t \n</code></pre>\n\n<p>Check out the logs see if they are any errors. At this point you should be good to go. </p>\n"}], "owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1876, "favorite_count": 0, "accepted_answer_id": 38411796, "answer_count": 3, "score": 8, "last_activity_date": 1487921168, "creation_date": 1468441295, "last_edit_date": 1468441670, "question_id": 38361040, "link": "https://stackoverflow.com/questions/38361040/celery-beat-not-starting-on-heroku", "title": "Celery beat not starting on Heroku", "body": "<p>I have an app that I've launched on Heroku, but the Celery beat process doesn't start when I start the server.</p>\n\n<p><strong>Procfile</strong></p>\n\n<pre><code>web: gunicorn -w 4 connect.wsgi\ncelery: python manage.py celeryd -c 3 --beat\n</code></pre>\n\n<p>The worker can be seen to be started after the Heroku app is launched:</p>\n\n<pre><code>$ heroku ps\n\n=== web (Free): gunicorn -w 4 connect.wsgi (1)\nweb.1: starting 2016/07/13 16:17:18 -0400 (~ 9s ago)\n\n=== celery (Free): python manage.py celeryd -c 3 --beat (1)\ncelery.1: up 2016/07/13 16:17:25 -0400 (~ 2s ago)\n</code></pre>\n\n<p>However, in order to get the Celery beat process running, I have to explicitly start it in Heroku with:</p>\n\n<pre><code>heroku run python manage.py celerybeat\n</code></pre>\n\n<p>Celery beat launches fine locally. Is this a limitation of Heroku or am I doing something wrong?</p>\n"}, {"tags": ["python", "pygame", "python-3.4"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6549827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd53cc3b74fbf0c570439b47eeb6a910?s=128&d=identicon&r=PG&f=1", "display_name": "Sconce", "link": "https://stackoverflow.com/users/6549827/sconce"}, "edited": false, "score": 0, "creation_date": 1468544779, "post_id": 38361202, "comment_id": 64182572, "body": "Sorry if I wasn&#39;t being specific enough, I dont know if its already in this code, sorry if I&#39;m just clueless on how certain parts of python work but, I want it to do it where if I have a sprite in the 1st slot in the picture that it&#39;ll be placed in the 2nd slot and vise versa if you understand what I mean now."}, {"owner": {"reputation": 1780, "user_id": 4258397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cj9KY.png?s=128&g=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4258397/erich"}, "reply_to_user": {"reputation": 11, "user_id": 6549827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd53cc3b74fbf0c570439b47eeb6a910?s=128&d=identicon&r=PG&f=1", "display_name": "Sconce", "link": "https://stackoverflow.com/users/6549827/sconce"}, "edited": false, "score": 0, "creation_date": 1468558441, "post_id": 38361202, "comment_id": 64185491, "body": "Not really .. Do you want to order a collection of sprites using a grid?"}, {"owner": {"reputation": 11, "user_id": 6549827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd53cc3b74fbf0c570439b47eeb6a910?s=128&d=identicon&r=PG&f=1", "display_name": "Sconce", "link": "https://stackoverflow.com/users/6549827/sconce"}, "edited": false, "score": 0, "creation_date": 1468674402, "post_id": 38361202, "comment_id": 64231013, "body": "Yeah, like I would like order a collection of sprites using a grid, because this is for an inventory system"}], "tags": [], "owner": {"reputation": 1780, "user_id": 4258397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cj9KY.png?s=128&g=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4258397/erich"}, "is_accepted": false, "score": 0, "last_activity_date": 1468558302, "last_edit_date": 1468558302, "creation_date": 1468441991, "answer_id": 38361202, "question_id": 38361027, "link": "https://stackoverflow.com/questions/38361027/python-3-4-pygame-i-want-to-create-a-grid-to-be-able-to-place-sprites-in-diff/38361202#38361202", "title": "Python 3.4, Pygame - I want to create a grid to be able to place sprites in differently", "body": "<p>You have to place the sprites manually.</p>\n\n<p>First, add them to a group:</p>\n\n<pre><code>group = pygame.sprite.Group()\n</code></pre>\n\n<p>This is very useful for drawing a collection of sprites.</p>\n\n<p>Second, use a nested for loop to create the sprites:</p>\n\n<pre><code>width, height = 10, 10  # 10 rows and 10 cols\nsprite_size = 15  # size of one sprite\nfor row in range(height):\n    for col in range(width):\n        pos_x, pos_y = col * sprite_size, row * sprite_size\n\n        # create your sprite at position pos_x and pos_y\n        # add creation code of your sprite here\n\n        group.add(sprite)  # add sprite to group\n</code></pre>\n\n<p>To remove a sprite from the group, you can use</p>\n\n<pre><code>group.remove(sprite)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6549827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd53cc3b74fbf0c570439b47eeb6a910?s=128&d=identicon&r=PG&f=1", "display_name": "Sconce", "link": "https://stackoverflow.com/users/6549827/sconce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1468558302, "creation_date": 1468441236, "question_id": 38361027, "link": "https://stackoverflow.com/questions/38361027/python-3-4-pygame-i-want-to-create-a-grid-to-be-able-to-place-sprites-in-diff", "title": "Python 3.4, Pygame - I want to create a grid to be able to place sprites in differently", "body": "<p>Since I am new in python I do not know how to create certain things, I am using pygame and I want to create a grid to interact with a grid like in this\n<a href=\"http://imgur.com/FGcn7DP\" rel=\"nofollow\">picture</a>. I am using python 3.4.3 and pygame. I would like some help figuring out how to create a program to interact with that grid to use to have sprites be added to it and removed.</p>\n"}, {"tags": ["python", "numpy", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 2, "creation_date": 1468441298, "post_id": 38361022, "comment_id": 64134404, "body": "<code>df.std()</code> should do what you want"}], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 12, "last_activity_date": 1500877918, "last_edit_date": 1500877918, "creation_date": 1468441398, "answer_id": 38361061, "question_id": 38361022, "link": "https://stackoverflow.com/questions/38361022/how-i-can-calculate-standard-deviation-for-rows-of-a-dataframe/38361061#38361061", "title": "How I can calculate standard deviation for rows of a dataframe?", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.std.html\" rel=\"noreferrer\"><code>DataFrame.std</code></a>, which omit non numeric columns:</p>\n\n<pre><code>print (df.std())\nS1    2.302173\nS2    2.774887\nS3    2.302173\ndtype: float64\n</code></pre>\n\n<p>If need <code>std</code> by columns:</p>\n\n<pre><code>print (df.std(axis=1))\n0    3.785939\n1    1.000000\n2    3.000000\n3    0.577350\n4    3.055050\ndtype: float64\n</code></pre>\n\n<p>If need select only some numeric columns, use subset:</p>\n\n<pre><code>print (df[['S1','S2']].std())\nS1    2.302173\nS2    2.774887\ndtype: float64\n</code></pre>\n\n<p>There is different with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.std.html\" rel=\"noreferrer\"><code>numpy.std</code></a> by default parameter <code>ddof</code> (Delta Degrees of Freedom):</p>\n\n<ul>\n<li>pandas by default <code>ddof=1</code></li>\n<li>numpy  by default <code>ddof=0</code></li>\n</ul>\n\n<p>So there are different outputs:</p>\n\n<pre><code>#ddof=1\nprint (df.std(axis=1))\n0    3.785939\n1    1.000000\n2    3.000000\n3    0.577350\n4    3.055050\ndtype: float64\n\n#ddof=0\nprint (np.std(df, axis=1))\n0    3.091206\n1    0.816497\n2    2.449490\n3    0.471405\n4    2.494438\ndtype: float64\n</code></pre>\n\n<p>But you can change it very easy:</p>\n\n<pre><code>#same output as pandas function\nprint (np.std(df, ddof=1, axis=1))\n0    3.785939\n1    1.000000\n2    3.000000\n3    0.577350\n4    3.055050\ndtype: float64\n\n#same output as numpy function\nprint (df.std(ddof=0, axis=1))\n0    3.091206\n1    0.816497\n2    2.449490\n3    0.471405\n4    2.494438\ndtype: float64   \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4773, "user_id": 5013143, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10153282800975700/picture?type=large", "display_name": "Stefano Fedele", "link": "https://stackoverflow.com/users/5013143/stefano-fedele"}, "is_accepted": false, "score": 0, "last_activity_date": 1468564424, "creation_date": 1468564424, "answer_id": 38389313, "question_id": 38361022, "link": "https://stackoverflow.com/questions/38361022/how-i-can-calculate-standard-deviation-for-rows-of-a-dataframe/38389313#38389313", "title": "How I can calculate standard deviation for rows of a dataframe?", "body": "<p>When you can not do on rows whatever you can do on column you may use \"transpose\"</p>\n\n<pre><code>np.std( df.transpose()['S1'] )\n</code></pre>\n"}], "owner": {"reputation": 817, "user_id": 6212894, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/947ef3673b4437fc46791b53d40404f7?s=128&d=identicon&r=PG&f=1", "display_name": "NamAshena", "link": "https://stackoverflow.com/users/6212894/namashena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23567, "favorite_count": 3, "answer_count": 2, "score": 3, "last_activity_date": 1500877918, "creation_date": 1468441221, "question_id": 38361022, "link": "https://stackoverflow.com/questions/38361022/how-i-can-calculate-standard-deviation-for-rows-of-a-dataframe", "title": "How I can calculate standard deviation for rows of a dataframe?", "body": "<pre><code>df:  \n\nname   group   S1   S2  S3        \nA      mn      1    2   8         \nB      mn      4    3   5        \nC      kl      5    8   2        \nD      kl      6    5   5         \nE      fh      7    1   3         \n\noutput: \n\nstd (S1,S2,S3)\n3.78\n1\n3\n0.57\n3.05\n</code></pre>\n\n<p>This is working for getting std for a column:</p>\n\n<pre><code>numpy.std(df['A'])\n</code></pre>\n\n<p>I want to do the same for rows</p>\n"}, {"tags": ["python", "list", "date", "merge", "average"], "comments": [{"owner": {"reputation": 4475, "user_id": 3846228, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/j0fFT.jpg?s=128&g=1", "display_name": "dot.Py", "link": "https://stackoverflow.com/users/3846228/dot-py"}, "edited": false, "score": 0, "creation_date": 1468441414, "post_id": 38360980, "comment_id": 64134457, "body": "try using pivot table! <a href=\"http://stackoverflow.com/questions/15570099/pandas-pivot-tables-row-subtotals\" title=\"pandas pivot tables row subtotals\">stackoverflow.com/questions/15570099/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 6584337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcde55618f5d25d03fc2ff66d430812a?s=128&d=identicon&r=PG&f=1", "display_name": "Domme", "link": "https://stackoverflow.com/users/6584337/domme"}, "is_accepted": false, "score": 0, "last_activity_date": 1468442060, "creation_date": 1468442060, "answer_id": 38361223, "question_id": 38360980, "link": "https://stackoverflow.com/questions/38360980/python-list-of-two-columns-from-excel/38361223#38361223", "title": "Python List of Two Columns from Excel", "body": "<p>You can combine list methods like .split and the [:] delimiters to get less loops and lists and keep a better overview. An example for a given tuple called \"tuple\":</p>\n\n<pre><code>    datelist=tuple.split(\" \")[0].split(\"/\")\n    month=datelist[0]\n    year=datelist[2]\n    value=tuple.split(\" \")[1]\n</code></pre>\n\n<p>If you keep your variables organized like this, I think you can figure out the rest by yourself =)</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6578976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fec7ebd87faef168f85d0c97240c9456?s=128&d=identicon&r=PG&f=1", "display_name": "HIM", "link": "https://stackoverflow.com/users/6578976/him"}, "is_accepted": false, "score": 0, "last_activity_date": 1468444125, "creation_date": 1468444125, "answer_id": 38361752, "question_id": 38360980, "link": "https://stackoverflow.com/questions/38360980/python-list-of-two-columns-from-excel/38361752#38361752", "title": "Python List of Two Columns from Excel", "body": "<p>Here's my solution. Hope this helps:</p>\n\n<pre><code>from datetime import datetime\n\ndef averageData(list_of_tuples):\n    dic = {}    \n    for i in list_of_tuples:\n        i = list(map(str,i.strip().split(' ')))\n        dt = datetime.strptime(i[0] , '%Y-%m-%d')\n        if (dt.month,dt.year) in dic:\n            dic[(dt.month,dt.year)].append(float(i[1]))\n        else:\n            dic[(dt.month,dt.year)] = [float(i[1])]\n\n    for i in dic.items():\n        #print(i)\n        print (str(i[0][0])+':'+str(i[0][1])+' '+str(round(sum(i[1])/len(i[1]),2)))\n\ntuples = ['2013-02-08 474','2013-02-07 463.25','2013-02-06 456.47',\n'2013-02-05 444.05',\n'2013-02-04 453.91',\n'2013-02-01 459.11',\n'2013-01-31 456.98',\n'2013-01-30 457',\n'2013-01-29 458.5',\n'2013-01-28 437.83',\n'2013-01-25 451.69',\n'2013-01-24 460',\n'2013-01-23 508.81',\n'2013-01-22 504.56',\n'2013-01-18 498.52',\n'2013-01-17 510.31']\n\naverageData(tuples)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6586319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15d102fcdbf4911670d84fdeec9c113?s=128&d=identicon&r=PG&f=1", "display_name": "NuktukHotS", "link": "https://stackoverflow.com/users/6586319/nuktukhots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1468444125, "creation_date": 1468441078, "question_id": 38360980, "link": "https://stackoverflow.com/questions/38360980/python-list-of-two-columns-from-excel", "title": "Python List of Two Columns from Excel", "body": "<p>So I have a list of dates in one column and a list of values in another. </p>\n\n<pre><code>2/8/13  474\n2/7/13  463.25\n2/6/13  456.47\n2/5/13  444.05\n2/4/13  453.91\n2/1/13  459.11\n1/31/13 456.98\n1/30/13 457\n1/29/13 458.5\n1/28/13 437.83\n1/25/13 451.69\n1/24/13 460\n1/23/13 508.81\n1/22/13 504.56\n1/18/13 498.52\n1/17/13 510.31\n</code></pre>\n\n<p>I need to find a way to compile the dates in the first column and output the average value for that month. </p>\n\n<p>The output should look like\nmonth:year average_value_for_month. </p>\n\n<p>For example, the first two outputs should look like </p>\n\n<pre><code>02:2013  458.46\n\n01:2013  500.08\n</code></pre>\n\n<p>^this says that for the months of feb,jan in 2013, the average values were 458.46,500.08</p>\n\n<p>Right now my code is, </p>\n\n<pre><code>def averageData(list_of_tuples):\n    #print(list_of_tuples) #prints out the list obtained from getDataList\n    sep_list = []\n    for i in range(0,len(list_of_tuples)): \n        split_list = list_of_tuples[i].split()\n        sep_list.append(split_list)\n        #print(sep_list[i]) #prints out list with index [i][0] being the date and index [i][1] being the column value\n    new_list = []\n    for i in range(0,len(sep_list)):\n        sep_list[i][0] = sep_list[i][0].split('-') #splits dates in year, month, day\n        #print(sep_list[i][0])\n        print(sep_list[i][0])\n    for i in range(0,len(sep_list)):\n        if sep_list[i][0][0] == sep_list[i+1][0][0] and sep_list[i][0][1] == sep_list[i+1][0][1]:\n            new_date = sep_list[i][0][1]+':'+sep_list[i][0][0]\n        new_list.append(new_date)\n        #print(new_list[i])\n</code></pre>\n\n<p>The original list is formatted like </p>\n\n<pre><code>['2013-02-08 474.00']\n</code></pre>\n\n<p>My first for loop makes the list become </p>\n\n<pre><code>['2013-02-08', '474.00']\n</code></pre>\n\n<p>then the second for loop turns the list into </p>\n\n<pre><code>[['2013', '02', '08'], '474.00']\n</code></pre>\n\n<p>I'm stuck on where to go from here. Please help.</p>\n"}, {"tags": ["python", "lambda"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 3, "creation_date": 1468440916, "post_id": 38360912, "comment_id": 64134225, "body": "<code>list(l)</code> &lt;-- it&#39;s lazily evaluated"}, {"owner": {"reputation": 550, "user_id": 6046281, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6a97f01723e54ef60ceb3a27151a1667?s=128&d=identicon&r=PG", "display_name": "duncster94", "link": "https://stackoverflow.com/users/6046281/duncster94"}, "edited": false, "score": 1, "creation_date": 1468440939, "post_id": 38360912, "comment_id": 64134236, "body": "Use <code>list</code> in front of the lamba expression. <a href=\"http://stackoverflow.com/questions/12319025/filters-in-python\">stackoverflow.com/questions/12319025/filters-in-python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2704, "user_id": 947040, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/wR4Ax.png?s=128&g=1", "display_name": "niklas", "link": "https://stackoverflow.com/users/947040/niklas"}, "is_accepted": false, "score": 11, "last_activity_date": 1468440978, "creation_date": 1468440978, "answer_id": 38360962, "question_id": 38360912, "link": "https://stackoverflow.com/questions/38360912/filtering-a-list-of-tuples-with-lambda-expressions-in-python/38360962#38360962", "title": "Filtering a list of tuples with lambda expressions in Python", "body": "<pre><code>&gt;&gt;&gt; l=[(0,5),(7,10),(9,20),(18,22)]\n&gt;&gt;&gt; l=filter(lambda x: x[0]&gt;6 and x[1]&lt;21, l)\n&gt;&gt;&gt; list(l)\n&gt;&gt;&gt; [(7,10),(9,20)]\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 6437783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ad9eb7f29c045ad7f6cb292a4eb179?s=128&d=identicon&r=PG&f=1", "display_name": "Beverly Williams", "link": "https://stackoverflow.com/users/6437783/beverly-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4415, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1491606404, "creation_date": 1468440811, "question_id": 38360912, "link": "https://stackoverflow.com/questions/38360912/filtering-a-list-of-tuples-with-lambda-expressions-in-python", "title": "Filtering a list of tuples with lambda expressions in Python", "body": "<p>What would be the right filter so l will contain [(7,10),(9,20)]</p>\n\n<pre><code>&gt;&gt;&gt; l=[(0,5),(7,10),(9,20),(18,22)]\n&gt;&gt;&gt; l=filter(lambda x: x[0]&gt;6 and x[1]&lt;21, l)\n&gt;&gt;&gt; l\n&lt;filter object at 0x7fb2349829e8&gt;\n&gt;&gt;&gt; \n</code></pre>\n\n<p>I'm getting a \"filter object\", rather than a list of the 2 middle tuples from the original list.</p>\n"}, {"tags": ["python", "flask", "flask-login"], "comments": [{"owner": {"reputation": 926, "user_id": 2690450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f55296749349c84bc014f4eecf442fcb?s=128&d=identicon&r=PG", "display_name": "Quint", "link": "https://stackoverflow.com/users/2690450/quint"}, "edited": false, "score": 0, "creation_date": 1468440581, "post_id": 38360805, "comment_id": 64134046, "body": "It would be difficult to try to answer your question without any sample code. Could you include a minimal example (runnable if possible) of the problem?"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1468440791, "post_id": 38360805, "comment_id": 64134166, "body": "I don&#39;t believe that the HTTP protocol allows for a redirect like that. Once the basic auth login finishes, I think the next request in the cycle is going to be a <code>GET</code> request."}], "answers": [{"tags": [], "owner": {"reputation": 10366, "user_id": 236195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53fd77df3990f126c69fb6ec4e0ea6de?s=128&d=identicon&r=PG", "display_name": "frnhr", "link": "https://stackoverflow.com/users/236195/frnhr"}, "is_accepted": false, "score": 0, "last_activity_date": 1468440913, "creation_date": 1468440913, "answer_id": 38360944, "question_id": 38360805, "link": "https://stackoverflow.com/questions/38360805/flask-login-post-requests-turn-into-get-requests-after-login/38360944#38360944", "title": "Flask-Login POST requests turn into GET requests after login", "body": "<p>This is more then a redirect (which also might still be problematic for some browsers / clients). Your client would need to remember the body of the initial request, and re-post it later. No such mechanism exists in HTTP specification.</p>\n\n<p>What you can do is remember the request (in session on something similar), then do a redirect, and then process the stored request. I don't think there are any shortcuts here.</p>\n"}, {"comments": [{"owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "edited": false, "score": 0, "creation_date": 1468441941, "post_id": 38361013, "comment_id": 64134761, "body": "It&#39;s an interesting idea, valentjedi, but how do you force the redirect to the <code>login</code> view to use POST?  Override <code>LoginManager.unauthorized_handler</code> ?"}, {"owner": {"reputation": 4910, "user_id": 3606603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PHdfv.jpg?s=128&g=1", "display_name": "valignatev", "link": "https://stackoverflow.com/users/3606603/valignatev"}, "reply_to_user": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "edited": false, "score": 0, "creation_date": 1468442139, "post_id": 38361013, "comment_id": 64134875, "body": "Pretty much yeah, I&#39;ll update my answer"}], "tags": [], "owner": {"reputation": 4910, "user_id": 3606603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PHdfv.jpg?s=128&g=1", "display_name": "valignatev", "link": "https://stackoverflow.com/users/3606603/valignatev"}, "is_accepted": false, "score": 0, "last_activity_date": 1468442187, "last_edit_date": 1495540289, "creation_date": 1468441170, "answer_id": 38361013, "question_id": 38360805, "link": "https://stackoverflow.com/questions/38360805/flask-login-post-requests-turn-into-get-requests-after-login/38361013#38361013", "title": "Flask-Login POST requests turn into GET requests after login", "body": "<p>If you really need to redirect as POST, you can do this.\nSuppose you have a view with redirect like this (taken shamelessly from flask-login docs):</p>\n\n<pre><code>@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    # Here we use a class of some kind to represent and validate our\n    # client-side form data. For example, WTForms is a library that will\n    # handle this for us, and we use a custom LoginForm to validate.\n    form = LoginForm()\n    if form.validate_on_submit():\n        # Login and validate the user.\n        # user should be an instance of your `User` class\n        login_user(user)\n\n        flask.flash('Logged in successfully.')\n\n        next = flask.request.args.get('next')\n        # next_is_valid should check if the user has valid\n        # permission to access the `next` url\n        if not next_is_valid(next):\n            return flask.abort(400)\n\n        return flask.redirect(next or flask.url_for('index'))\n    return flask.render_template('login.html', form=form)\n</code></pre>\n\n<p>Then as <a href=\"https://stackoverflow.com/a/15480983/3606603\">this answer</a> quotes Wikipedia:</p>\n\n<blockquote>\n  <p>Many web browsers implemented this code in a manner that violated this\n  standard, changing the request type of the new request to GET,\n  regardless of the type employed in the original request (e.g. POST).\n  <a href=\"https://stackoverflow.com/a/15480983/3606603\">1</a> For this reason, HTTP/1.1 (RFC 2616) added the new status codes\n  303 and 307 to disambiguate between the two behaviours, with 303\n  mandating the change of request type to GET, and 307 preserving the\n  request type as originally sent.</p>\n</blockquote>\n\n<p>So your answer is change redirect to <code>flask.redirect(next or flask.url_for('index'), code=307)</code></p>\n\n<p>Also note that you'll probably need to redirect to <code>login</code> view as POST also to make it work. You can make your custom unauthorized handler:</p>\n\n<pre><code>@login_manager.unauthorized_handler\ndef unauthorized():\n    # do stuff\n    return a_response\n</code></pre>\n"}], "owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 958, "favorite_count": 1, "closed_date": 1468441537, "answer_count": 2, "score": 0, "last_activity_date": 1468442187, "creation_date": 1468440452, "question_id": 38360805, "link": "https://stackoverflow.com/questions/38360805/flask-login-post-requests-turn-into-get-requests-after-login", "closed_reason": "Duplicate", "title": "Flask-Login POST requests turn into GET requests after login", "body": "<p>I'm using flask-login to handle authentication for my app, which is an API that expects HTTP Basic Authorization headers as part of each request (so the user can login and make the request without worrying about sessions, cookies, or having to do the login and requesting in separate steps).</p>\n\n<p>My requests are working out like this:</p>\n\n<pre><code>POST /api/group/48\nGET /login?next=%2Fapi%2Fgroup%2F48\nGET /api/group/48 \n</code></pre>\n\n<p>That is, a POST request to <code>/api/group/48</code> is getting intercepted and redirected to the /login endpoint (as expected).  What happens in /login is not interactive - it takes the Basic Authorization header and logs the user in.  </p>\n\n<p>After the login has completed, the client is redirected back to <code>/api/group/48</code> - but this time as a <strong>GET</strong> request, not a <strong>POST</strong>.  And in this app, the <code>/api/group/48</code> endpoint is expecting only POST data, so it dies with a 405 (Method not allowed) error.</p>\n\n<p>Is this the expected behavior of flask-login?  How can I have it pass through the POST request as originally submitted?  (or alternatively, should I be using some different architecture so that the redirect to <code>/login</code>, then back to <code>/api/group/48</code> doesn't take place and the POST data isn't lost?)</p>\n\n<p>I haven't included code, since I don't think this is a code-specific issue.  But if it turns out I'm doing something wrong, I can post some sample code.</p>\n\n<p>Thanks to anyone who can help.</p>\n"}, {"tags": ["python", "list", "set"], "comments": [{"owner": {"reputation": 443, "user_id": 5948237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338252eadaab6846d185b8927a05e621?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Chavda", "link": "https://stackoverflow.com/users/5948237/vivek-chavda"}, "edited": false, "score": 1, "creation_date": 1468441079, "post_id": 38360784, "comment_id": 64134307, "body": "I can&#39;t edit for formatting since it requires substantial changes (6 characters). Could you remove the initial indentation, and use two newlines instead of one for the line breaks?"}, {"owner": {"reputation": 1140, "user_id": 1859661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cbdaacd66868fd537159391864aacf0?s=128&d=identicon&r=PG", "display_name": "svn", "link": "https://stackoverflow.com/users/1859661/svn"}, "edited": false, "score": 0, "creation_date": 1468442535, "post_id": 38360784, "comment_id": 64135054, "body": "what language are you using? Please add the tag for that language"}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1468447694, "post_id": 38360784, "comment_id": 64137376, "body": "the order of element in the list matter? the list can have multiples of the same element?"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6586342, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/fe6ad65da7460b1edad5db2b1c4bded2?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/6586342/kenny"}, "edited": false, "score": 0, "creation_date": 1468444802, "post_id": 38361768, "comment_id": 64136112, "body": "What if the sample list was this though? [[1,2,3,4], [2,1,3,4],[4,3,2,1],[7,6,2,1] ]  I&#39;d still want the end list to look like this; [[1,2,3,4],[7,6,2,1]]"}], "tags": [], "owner": {"reputation": 111, "user_id": 6584337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcde55618f5d25d03fc2ff66d430812a?s=128&d=identicon&r=PG&f=1", "display_name": "Domme", "link": "https://stackoverflow.com/users/6584337/domme"}, "is_accepted": false, "score": 0, "last_activity_date": 1468445828, "last_edit_date": 1468445828, "creation_date": 1468444188, "answer_id": 38361768, "question_id": 38360784, "link": "https://stackoverflow.com/questions/38360784/how-can-i-successfully-cull-a-list-of-lists/38361768#38361768", "title": "How can I successfully cull a list of lists", "body": "<p>If the order inside the sampleList's lists doesn't matter you can sort ALL the lists before appending them with the .sort() method. This would uncover duplicates and provide a check possibility.</p>\n\n<pre><code>    sampleList=[[1,2,3][4,5,6][7,8,9]]\n    l=[2,3,1]\n    if not(l.sort() in sampleList): sampleList.append(l.sort())\n</code></pre>\n\n<p>This would not add l to sampleList, because l.sort (which is [1,2,3]) sampleList already contains an identical element.</p>\n\n<hr>\n\n<p>EDIT</p>\n\n<pre><code>    culledList=[]\n    sortedList=[]\n    for i in sampleList:\n        if not(i.sort() in sortedList):\n            sortedList.append(i.sort())\n            culledList.append(i)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 1, "creation_date": 1468446905, "post_id": 38362263, "comment_id": 64137068, "body": "you can use <code>frozenset</code> instead, is a hashable and inmutable set"}], "tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": false, "score": 1, "last_activity_date": 1468447056, "last_edit_date": 1468447056, "creation_date": 1468446461, "answer_id": 38362263, "question_id": 38360784, "link": "https://stackoverflow.com/questions/38360784/how-can-i-successfully-cull-a-list-of-lists/38362263#38362263", "title": "How can I successfully cull a list of lists", "body": "<p>If you're fine with discarding duplicates, you can actually create sets, cause they're easy:</p>\n\n<pre><code>sample_list = [\n    [0,5,1,4,8,9],\n    [5, 4, 8, 9, 0, 1],\n    [1, 0, 4, 5, 8, 9],\n    [4, 8, 1, 0, 5, 9],\n    [7,6,2],\n]\n\n# This is a set comprehension. Unfortunately,\n# sets are not hashable, so we have to convert\n# to a `tuple`, which is.\nculled_data = {tuple(set(sublist)) for sublist in sample_list}\n\n# or as @Copperfield so helpfully pointed out, a frozenset\nculled_data = {frozenset(sublist) for sublist in sample_list}\n\nprint(culled_data)\nprint(list(culled_data))\n\n# Here is a list comprehension to produce a list of\n# lists kind of like our original format. If that\n# is important, anyway.\nculled_list = [list(data) for data in culled_data]\nprint(culled_list)\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6586342, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/fe6ad65da7460b1edad5db2b1c4bded2?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/6586342/kenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1468447056, "creation_date": 1468440387, "last_edit_date": 1468446107, "question_id": 38360784, "link": "https://stackoverflow.com/questions/38360784/how-can-i-successfully-cull-a-list-of-lists", "title": "How can I successfully cull a list of lists", "body": "<p>So I'm running a script that's appending to a list, lists of values, but in several instances I'll end up with virtually the same data, it'll just be re-ordered differently, I want to put in a check against this by checking my appended list to see if my re-ordered list is essentially there.  For instance, I'll have a list like this:</p>\n\n<pre><code>sampleList = [\n    [0,5,1,4,8,9],\n    [5, 4, 8, 9, 0, 1],\n    [1, 0, 4, 5, 8, 9],\n    [4, 8, 1, 0, 5, 9],\n    [7,6,2],\n]\n</code></pre>\n\n<p>I essentially want to either remove \"duplicates\" (which can have another order of the same elements) from this list or append just the first and non-duplicate results and ditch the rest to end up with a list like this:</p>\n\n<pre><code>culledList = [\n    [0,5,1,4,8,9],\n    [7,6,2],\n] \n</code></pre>\n"}, {"tags": ["python", "html", "email", "mime", "gmail-api"], "comments": [{"owner": {"reputation": 926, "user_id": 2690450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f55296749349c84bc014f4eecf442fcb?s=128&d=identicon&r=PG", "display_name": "Quint", "link": "https://stackoverflow.com/users/2690450/quint"}, "edited": false, "score": 0, "creation_date": 1468441076, "post_id": 38360758, "comment_id": 64134306, "body": "The =3D is coming from the content-printable encoding used by email. Note the &#39;Content-Transfer-Encoding: quoted-printable&#39; in your message. From the article <a href=\"http://girders.org/blog/2007/08/04/email-basics/\" rel=\"nofollow noreferrer\">girders.org/blog/2007/08/04/email-basics</a> &quot;Quoted-printable encoding escapes special characters with an equal symbol (=) followed by the 2-character hexadecimal ASCII representation of the character value. For example, any equal symbols in the body are replaced with \u201d=3D\u201d, where 3D is the hexadecimal representation of the equal symbol in the ASCII collating sequence.&quot;"}, {"owner": {"reputation": 10366, "user_id": 236195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53fd77df3990f126c69fb6ec4e0ea6de?s=128&d=identicon&r=PG", "display_name": "frnhr", "link": "https://stackoverflow.com/users/236195/frnhr"}, "edited": false, "score": 0, "creation_date": 1468441289, "post_id": 38360758, "comment_id": 64134396, "body": "Does the image show in Gmail or some other browser-based email client? If so, then the problem is in your email client. Rule of thumb for emails: code HTML like it&#39;s 1995."}, {"owner": {"reputation": 11202, "user_id": 886669, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c56f1eac6c5b31b32bdffa4f741f3aed?s=128&d=identicon&r=PG", "display_name": "yasar", "link": "https://stackoverflow.com/users/886669/yasar"}, "reply_to_user": {"reputation": 10366, "user_id": 236195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53fd77df3990f126c69fb6ec4e0ea6de?s=128&d=identicon&r=PG", "display_name": "frnhr", "link": "https://stackoverflow.com/users/236195/frnhr"}, "edited": false, "score": 0, "creation_date": 1468441474, "post_id": 38360758, "comment_id": 64134485, "body": "@frnhr Neither browser nor thunderbird is able to show the image, even though I can see the image in my test html file."}], "answers": [{"tags": [], "owner": {"reputation": 3306, "user_id": 1951463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ8Ii.jpg?s=128&g=1", "display_name": "Terry Carmen", "link": "https://stackoverflow.com/users/1951463/terry-carmen"}, "is_accepted": false, "score": 0, "last_activity_date": 1468441365, "creation_date": 1468441365, "answer_id": 38361054, "question_id": 38360758, "link": "https://stackoverflow.com/questions/38360758/base64-encoded-image-in-email/38361054#38361054", "title": "Base64 encoded image in email", "body": "<p>The \"=\" character is an escape character when using Quoted-Printable HTML, so the =3D is just an escaped equals.</p>\n\n<p>There is probably something else wrong with the email. I don't think the =3D is it.</p>\n\n<p>Try feeding your message to a message lint utility and see if it complains about anything.</p>\n\n<p><a href=\"https://tools.ietf.org/tools/msglint/\" rel=\"nofollow\">https://tools.ietf.org/tools/msglint/</a></p>\n"}, {"tags": [], "owner": {"reputation": 11202, "user_id": 886669, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c56f1eac6c5b31b32bdffa4f741f3aed?s=128&d=identicon&r=PG", "display_name": "yasar", "link": "https://stackoverflow.com/users/886669/yasar"}, "is_accepted": true, "score": 5, "last_activity_date": 1468446322, "creation_date": 1468446322, "answer_id": 38362229, "question_id": 38360758, "link": "https://stackoverflow.com/questions/38360758/base64-encoded-image-in-email/38362229#38362229", "title": "Base64 encoded image in email", "body": "<p>Instead of using embed base64 encoding, I decided to add images as attachments. Here is my new <code>test.html</code> file;</p>\n\n<pre><code>&lt;h1&gt;This is a test message&lt;/h1&gt;\n    &lt;p&gt;\n    &lt;img src=\"cid:asdfgh\"&gt;\n    &lt;/p&gt;\n</code></pre>\n\n<p>And here is my code</p>\n\n<pre><code>\"\"\"Send an email message from the user's account.\n\"\"\"\n\nimport base64\nfrom email.mime.audio import MIMEAudio\nfrom email.mime.base import MIMEBase\nfrom email.mime.image import MIMEImage\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\nimport mimetypes\nimport os\n\nfrom apiclient import errors\n\n\ndef send_message(service, user_id, message):\n  \"\"\"Send an email message.\n\n  Args:\n    service: Authorized Gmail API service instance.\n    user_id: User's email address. The special value \"me\"\n    can be used to indicate the authenticated user.\n    message: Message to be sent.\n\n  Returns:\n    Sent Message.\n  \"\"\"\n  try:\n    message = (service.users().messages().send(userId=user_id, body=message)\n               .execute())\n    print 'Message Id: %s' % message['id']\n    return message\n  except errors.HttpError, error:\n    print 'An error occurred: %s' % error\n\n\ndef create_message(sender, to, subject, message_text):\n  \"\"\"Create a message for an email.\n\n  Args:\n    sender: Email address of the sender.\n    to: Email address of the receiver.\n    subject: The subject of the email message.\n    message_text: The text of the email message.\n\n  Returns:\n    An object containing a base64url encoded email object.\n  \"\"\"\n  message = MIMEText(message_text,'html')\n  message['to'] = to\n  message['from'] = sender\n  message['subject'] = subject\n  return {'raw': base64.urlsafe_b64encode(message.as_string())}\n\ndef create_multipart_message(sender, to, subject, message_text):\n\n      message = MIMEMultipart()\n      message['to'] = to\n      message['from'] = sender\n      message['subject'] = subject\n\n      msg = MIMEText(message_text,'html')\n      message.attach(msg)\n\n      return message\n\ndef attach_file_to_multipart_message(message, file, content_id=None):\n\n  content_type, encoding = mimetypes.guess_type(file)\n\n  if content_type is None or encoding is not None:\n    content_type = 'application/octet-stream'\n\n  main_type, sub_type = content_type.split('/', 1)\n  if main_type == 'text':\n    fp = open(file, 'rb')\n    msg = MIMEText(fp.read(), _subtype=sub_type)\n    fp.close()\n  elif main_type == 'image':\n    fp = open(file, 'rb')\n    msg = MIMEImage(fp.read(), _subtype=sub_type)\n    fp.close()\n  elif main_type == 'audio':\n    fp = open(file, 'rb')\n    msg = MIMEAudio(fp.read(), _subtype=sub_type)\n    fp.close()\n  else:\n    fp = open(file, 'rb')\n    msg = MIMEBase(main_type, sub_type)\n    msg.set_payload(fp.read())\n    fp.close()\n  filename = os.path.basename(file)\n  msg.add_header('Content-Disposition', 'attachment', filename=filename)\n  if content_id:\n    msg.add_header('Content-ID', '&lt;%s&gt;' % content_id)\n\n  message.attach(msg)\n\ndef finalize_message(message):\n    return {\"raw\": base64.urlsafe_b64encode(message.as_string())}\n\nif __name__ == \"__main__\":\n    from login import service\n\n    m = create_multipart_message(\"xxxx@gmail\",\"xxxx@gmail.com\",\"test message\", open(\"test.html\").read())\n    attach_file_to_multipart_message(m, \"placeholder.png\", \"asdfgh\")\n\n    m_final = finalize_message(m)\n\n    send_message(service, \"me\", m_final)\n</code></pre>\n\n<p>Using this method, I was able to show images in my html e-mails.</p>\n"}], "owner": {"reputation": 11202, "user_id": 886669, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c56f1eac6c5b31b32bdffa4f741f3aed?s=128&d=identicon&r=PG", "display_name": "yasar", "link": "https://stackoverflow.com/users/886669/yasar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4400, "favorite_count": 1, "accepted_answer_id": 38362229, "answer_count": 2, "score": 3, "last_activity_date": 1468446322, "creation_date": 1468440283, "last_edit_date": 1468442240, "question_id": 38360758, "link": "https://stackoverflow.com/questions/38360758/base64-encoded-image-in-email", "title": "Base64 encoded image in email", "body": "<p>I am trying to send html e-mails with base64 encoded images embeded in them, using gmail api and python.</p>\n\n<p>This is the html file that I want to send as email</p>\n\n<pre><code>&lt;h1&gt;This is a test message&lt;/h1&gt;\n&lt;p&gt;\n&lt;img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjFO5zj5AAAA5FBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWwvIjAAAATHRSTlMAAgMEBQYICgsMDQ4QERMUFRYXGBkaGxwdHh8hIyUnKCkrLS4vMTI0Nzg5Ojs8PkJDRUhMTlFSVFhaW19iY2hrbnF0dnd6f4CEiIyPu8o/fwAAB+RJREFUeNrt3WFb00gUhuFDXCoWCpQVFgvNAksFSoEVRRR1S3HBkvn//2c/zDTJJE3SklDX6TNfQMnpJHcmk0l8uRSxWm1ltUUzbX3lpWS2lfbJOc1qp/76wjiq5SNsxrWTRopqYQeWrOa/YFg9dXAtA5LfNmLXIOOqaKKvhVjMV4XtkItwirbFRTh5O9ML1AYSk7RdERHxLcDDPZ5zdPMPrQeaIxGRhdPY3xwsCi1jpV4TkVdxK4Dsth3DWbenrDPGVbK9te+Hr6M/7oGTbLELsSUireiPbXByrsMEVgucZGuBBRZYYIEFFlhggQUWWGCBBRZYYIH1q2K5FXTLTaqVxHIx6JaVVCuJ5WwiaUxSrSSW00G3ZFKtJJbjQbf8wTUllvsZm43KsOYgYxNLqpXEmoeg22FFWPMRdNuqBGtOgm5nL6vAmpeg224VWM4G3cYl1UpiuRx0SyfVSmK5HXRLJtVKYjkedHtbfD+cAsvxoNtO8TuEKbAcD7ptPxeWi29RW2CBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWDPDOvqhwnYrIvLm7treYunjY7RJN1nzTUTkj3+iv1B1Eal/DjxTvvejO20/3ph9S/ezNnOsq1jv6kpE2kr17GN4iG+ym6h5bOqaqB3rmoEp/5CuUR/y++mP2bd0P8HMR9aeShxnLVDKtzb5ZG2yatUEn+uia0bt7o2pudLVv6dqivu5TO1buh8z1GaK9SE8j5t62OwqpZrWJoEeLCLS06czqjFtV4NMVtMs7udSqUFBP4OQdIZYfX1NiMi+3pNjpZS1xaq59kTkWp/OqMa04/g1UVTj61ktr59vSl3n9+MpFazNHCtQqhOeTjMEblOns66/vdenMxoC0fD8llUzSNb0lBpm9WOGzVBPZ9G+pfrZVEF75nfDVaVUKzydZghcJU/nUH9XU0p1rCEQDc/LiWtusvsxw6aulPKtfUv1s9utzX7pYN1e1JGIqOSwsW5jalPX2DNU9ONOcc29UhcZ/ZgZqqWns7a9GLH62f8Z66xu/KD6nshaatjcWgdeE+kmZ6g16xMKamr6UMf2Y2aojl5pde21XbwftfkzsK6j/ofvPDP9WsPGs477Ppqyo+aPPqHrFdds6kMd20/HuhleW4uRWD/af/ZYg+QNp5ccNs3UTWqQnKGmqtnXw2ZsTTR7XuXvm5nVZovlpWaO6+TaJjYEAqV61hCYoGaYrLkIh026pj6qCZr5+5ZYpM0Gq5m64YwbNsPozumXrskZnsPRsAl2CvbtOPb8ODOs/eh0Wnf6WLsJZxuzECpZM9QPOzk1rw9qRfuWWNvPBusiOVdvquRz9X24h129jLywNmnn1xyPq1nLqDFtL9y3VD/BSnjn7M4c60Y92M9n+/EdfFgSqSn1xRsthIKmHgL2YU5b082oiX2kZPTTCRd2fW/mWN8/1+0NY6fz8f2SiGyG6wEZfG2INQTUj7+Kam5TNf/642tGy4/wP91L9xOuIZqP7zzelPJaGSywwAILLLDAAgsssMACCyywwAILLLDA+mWwvDC+2BYR791QKXUjIuLfmbzbk6KVTmJ5X+LZBq8fhiO7YXzxKdFKN7HC+OLdkoic6+9bOhFphs1TopXOzllNpdTf+qNMPs8kie7HZNcmjFY6i+VHYQPtUtdJonR2beJopbtYvTBsYFxaOklkvjwlWuku1nWYCDWXU0eHpsyXp0Qr3cUahP/MbjJ9lzq0Zr5kxiTrHx9Nzj0VrXQWy4uyiyYK2tcrrb4OFGXFJFceRjzpaKWzWE2zHpV4dPtC4nm3sTHJT+FQS0Ur3cXyw18z8qI5yaSx2/kxSTOr9Sq8Gf7PsXrhr0eYfN5ulMZey49WXmbEJN3Fim6GJgraDdPYgeTHJPsZMUlXsWp/3odLzAvtcmWNl7yYZJARk3QUqzN6qvuuXS717e9cj5cjKYxWjo1JuokVJhyDpojcq7slEc+8gFDqH+9pMUlHsb4bqq8NEak9vv9NRJr61zNMPjI3WpkRk+RNKW9KwQILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMpi7YBVULEV/cx3EGu7UqzV6GdHDmLtRYe3XR5r+bz4437d1ogd3UZ5rBdn0Q/PNlyzOo1hrZTHkoPY550ftBxqW+34oZ1KBVivz+ej7VWBtXg2H1irVWDNydDal0qw5HAOrE4WK8KqzcGF2JCKsObgQvSlMizZdnxs+QsVYsnykcNUp41pnrUnePRe2HHW6mBRKsYSWfZPHJQ621+f8i3OpC/4XrVca43pX3k5/ja02veDYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBdazY+2AU4DleCK5ZEsEmh1PJJdsiUCz24nkki0ZaHY6kVzWKhVodjeR/AyB5nlJJFcSaJ6XRHI1gWaG1jSB5kMsJg8017gQpwg0cyFOE2jeZmxNEWh2OpFceaDZ4UTycwSa3UwkP1+g+RXPOHmB5v8A5Tz/tpGY9IQAAAAASUVORK5CYII=\"&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>Here are my codes</p>\n\n<pre><code>\"\"\"Send an email message from the user's account.\n\"\"\"\n\nimport base64\nfrom email.mime.audio import MIMEAudio\nfrom email.mime.base import MIMEBase\nfrom email.mime.image import MIMEImage\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\nimport mimetypes\nimport os\n\nfrom apiclient import errors\n\n\n\ndef send_message(service, user_id, message):\n  \"\"\"Send an email message.\n\n  Args:\n    service: Authorized Gmail API service instance.\n    user_id: User's email address. The special value \"me\"\n    can be used to indicate the authenticated user.\n    message: Message to be sent.\n\n  Returns:\n    Sent Message.\n  \"\"\"\n  try:\n    message = (service.users().messages().send(userId=user_id, body=message)\n               .execute())\n    print 'Message Id: %s' % message['id']\n    return message\n  except errors.HttpError, error:\n    print 'An error occurred: %s' % error\n\n\ndef create_message(sender, to, subject, message_text):\n  \"\"\"Create a message for an email.\n\n  Args:\n    sender: Email address of the sender.\n    to: Email address of the receiver.\n    subject: The subject of the email message.\n    message_text: The text of the email message.\n\n  Returns:\n    An object containing a base64url encoded email object.\n  \"\"\"\n  message = MIMEText(message_text,'html')\n  message['to'] = to\n  message['from'] = sender\n  message['subject'] = subject\n  return {'raw': base64.urlsafe_b64encode(message.as_string())}\n\nif __name__ == \"__main__\":\n    from login import service\n\n    with open(\"test.html\",\"rb\") as f:\n        message_body = f.read()\n\n    m = create_message(\"xxx@gmail.com\",\"xxx@gmail.com\",\"test message\",message_body)\n\n    send_message(service, \"me\", m)\n</code></pre>\n\n<p>However, I don't see my image in the e-mail content. When I inspect the original, I can see that my html is malformed like this;</p>\n\n<pre><code>Content-Type: multipart/alternative; boundary=001a114442124f125f053789c367\n\n--001a114442124f125f053789c367\nContent-Type: text/plain; charset=UTF-8\n\nThis is a test message\n\n--001a114442124f125f053789c367\nContent-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: quoted-printable\n\n&lt;h1&gt;This is a test message&lt;/h1&gt;\n    &lt;p&gt;\n    &lt;img src=3D\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAA=\nABOo35HAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQA=\nAAAZdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjFO5zj5AAAA5FBMVEUAAAAAAAAAAAAAAAA=\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWwvIjAAAATHR=\nSTlMAAgMEBQYICgsMDQ4QERMUFRYXGBkaGxwdHh8hIyUnKCkrLS4vMTI0Nzg5Ojs8PkJDRUhMTl=\nFSVFhaW19iY2hrbnF0dnd6f4CEiIyPu8o/fwAAB+RJREFUeNrt3WFb00gUhuFDXCoWCpQVFgvNA=\nksFSoEVRRR1S3HBkvn//2c/zDTJJE3SklDX6TNfQMnpJHcmk0l8uRSxWm1ltUUzbX3lpWS2lfbJ=\nOc1qp/76wjiq5SNsxrWTRopqYQeWrOa/YFg9dXAtA5LfNmLXIOOqaKKvhVjMV4XtkItwirbFRTh=\n5O9ML1AYSk7RdERHxLcDDPZ5zdPMPrQeaIxGRhdPY3xwsCi1jpV4TkVdxK4Dsth3DWbenrDPGVb=\nK9te+Hr6M/7oGTbLELsSUireiPbXByrsMEVgucZGuBBRZYYIEFFlhggQUWWGCBBRZYYIH1q2K5F=\nXTLTaqVxHIx6JaVVCuJ5WwiaUxSrSSW00G3ZFKtJJbjQbf8wTUllvsZm43KsOYgYxNLqpXEmoeg=\n22FFWPMRdNuqBGtOgm5nL6vAmpeg224VWM4G3cYl1UpiuRx0SyfVSmK5HXRLJtVKYjkedHtbfD+=\ncAsvxoNtO8TuEKbAcD7ptPxeWi29RW2CBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBR=\nZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQUWW=\nGCBBRZYYIEFFlhggQUWWDPDOvqhwnYrIvLm7treYunjY7RJN1nzTUTkj3+iv1B1Eal/DjxTvvej=\nO20/3ph9S/ezNnOsq1jv6kpE2kr17GN4iG+ym6h5bOqaqB3rmoEp/5CuUR/y++mP2bd0P8HMR9a=\neShxnLVDKtzb5ZG2yatUEn+uia0bt7o2pudLVv6dqivu5TO1buh8z1GaK9SE8j5t62OwqpZrWJo=\nEeLCLS06czqjFtV4NMVtMs7udSqUFBP4OQdIZYfX1NiMi+3pNjpZS1xaq59kTkWp/OqMa04/g1U=\nVTj61ktr59vSl3n9+MpFazNHCtQqhOeTjMEblOns66/vdenMxoC0fD8llUzSNb0lBpm9WOGzVBP=\nZ9G+pfrZVEF75nfDVaVUKzydZghcJU/nUH9XU0p1rCEQDc/LiWtusvsxw6aulPKtfUv1s9utzX7=\npYN1e1JGIqOSwsW5jalPX2DNU9ONOcc29UhcZ/ZgZqqWns7a9GLH62f8Z66xu/KD6nshaatjcWg=\ndeE+kmZ6g16xMKamr6UMf2Y2aojl5pde21XbwftfkzsK6j/ofvPDP9WsPGs477Ppqyo+aPPqHrF=\ndds6kMd20/HuhleW4uRWD/af/ZYg+QNp5ccNs3UTWqQnKGmqtnXw2ZsTTR7XuXvm5nVZovlpWaO=\n6+TaJjYEAqV61hCYoGaYrLkIh026pj6qCZr5+5ZYpM0Gq5m64YwbNsPozumXrskZnsPRsAl2Cvb=\ntOPb8ODOs/eh0Wnf6WLsJZxuzECpZM9QPOzk1rw9qRfuWWNvPBusiOVdvquRz9X24h129jLywNm=\nnn1xyPq1nLqDFtL9y3VD/BSnjn7M4c60Y92M9n+/EdfFgSqSn1xRsthIKmHgL2YU5b082oiX2kZ=\nPTTCRd2fW/mWN8/1+0NY6fz8f2SiGyG6wEZfG2INQTUj7+Kam5TNf/642tGy4/wP91L9xOuIZqP=\n7zzelPJaGSywwAILLLDAAgsssMACCyywwAILLLDA+mWwvDC+2BYR791QKXUjIuLfmbzbk6KVTmJ=\n5X+LZBq8fhiO7YXzxKdFKN7HC+OLdkoic6+9bOhFphs1TopXOzllNpdTf+qNMPs8kie7HZNcmjF=\nY6i+VHYQPtUtdJonR2beJopbtYvTBsYFxaOklkvjwlWuku1nWYCDWXU0eHpsyXp0Qr3cUahP/Mb=\njJ9lzq0Zr5kxiTrHx9Nzj0VrXQWy4uyiyYK2tcrrb4OFGXFJFceRjzpaKWzWE2zHpV4dPtC4nm3=\nsTHJT+FQS0Ur3cXyw18z8qI5yaSx2/kxSTOr9Sq8Gf7PsXrhr0eYfN5ulMZey49WXmbEJN3Fim6=\nGJgraDdPYgeTHJPsZMUlXsWp/3odLzAvtcmWNl7yYZJARk3QUqzN6qvuuXS717e9cj5cjKYxWjo=\n1JuokVJhyDpojcq7slEc+8gFDqH+9pMUlHsb4bqq8NEak9vv9NRJr61zNMPjI3WpkRk+RNKW9Kw=\nQILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMAC=\nCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMpi7YBVULEV/cx3EGu=\n7UqzV6GdHDmLtRYe3XR5r+bz4437d1ogd3UZ5rBdn0Q/PNlyzOo1hrZTHkoPY550ftBxqW+34oZ=\n1KBVivz+ej7VWBtXg2H1irVWDNydDal0qw5HAOrE4WK8KqzcGF2JCKsObgQvSlMizZdnxs+QsVY=\nsnykcNUp41pnrUnePRe2HHW6mBRKsYSWfZPHJQ621+f8i3OpC/4XrVca43pX3k5/ja02veDYIEF=\nFlhggQUWWGCBBRZYYIEFFlhggQUWWGCBBdazY+2AU4DleCK5ZEsEmh1PJJdsiUCz24nkki0ZaHY=\n6kVzWKhVodjeR/AyB5nlJJFcSaJ6XRHI1gWaG1jSB5kMsJg8017gQpwg0cyFOE2jeZmxNEWh2Op=\nFceaDZ4UTycwSa3UwkP1+g+RXPOHmB5v8A5Tz/tpGY9IQAAAAASUVORK5CYII=3D\"&gt;\n    &lt;/p&gt;\n\n--001a114442124f125f053789c367--\n</code></pre>\n\n<p>As you can see, there is a <code>3D</code> inserted in <code>&lt;img src=3D\"data:image/png;base64 ...</code> part.</p>\n\n<p>What is the correct way to embed images in e-mails using gmail api?</p>\n\n<h1>Addition</h1>\n\n<p>After further investigation, I have realized that if I convert <code>=3D</code> in my e-mail back to <code>=</code>, image is still broken. </p>\n\n<p>I think problem might be related to the fact that my base64 encoded data is splitted into multiple lines in e-mail source code.</p>\n"}, {"tags": ["python", "python-3.x", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": true, "score": 1, "last_activity_date": 1468443136, "last_edit_date": 1468443136, "creation_date": 1468440474, "answer_id": 38360815, "question_id": 38360729, "link": "https://stackoverflow.com/questions/38360729/play-2048-using-selenium/38360815#38360815", "title": "Play 2048 using selenium", "body": "<p>After quickly playing the game, the retry button looks to be:</p>\n\n<pre><code>&lt;a class=\"retry-button\"&gt;Try again&lt;/a&gt;\n</code></pre>\n\n<p>So</p>\n\n<pre><code>browser.find_element_by_class_name('retry-button').click()\n</code></pre>\n\n<p>Should work for you</p>\n"}], "owner": {"reputation": 15, "user_id": 6231150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff2333c31dc45c793621d4faded6beb?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Putta", "link": "https://stackoverflow.com/users/6231150/dheeraj-putta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 38360815, "answer_count": 1, "score": 1, "last_activity_date": 1468443136, "creation_date": 1468440175, "question_id": 38360729, "link": "https://stackoverflow.com/questions/38360729/play-2048-using-selenium", "title": "Play 2048 using selenium", "body": "<p>I have written code that will play 2048 untill the game end but is there any way to have selenium click the try again button when it pops up?</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.common.keys import Keys\n\nbrowser = webdriver.Chrome()\nbrowser.get('https://gabrielecirulli.github.io/2048/')\n\ngrid = browser.find_element_by_tag_name('body')\ndirection = {0: Keys.UP, 1: Keys.RIGHT, 2: Keys.DOWN, 3: Keys.LEFT}\ncount = 0\nbrowser.find_element_by_class_name('grid-container').click()\nwhile True:\n    count += 1\n    grid.send_keys(direction[count % 4])\n    try:\n        WebDriverWait(browser, .00001).until(\n            EC.presence_of_element_located((By.ID, \"game-message game-over\")))\n        browser.find_element_by_class_name('game-over').click()\n    except:\n        print(\"OK\")\n</code></pre>\n"}, {"tags": ["java", "python", "apache-spark", "pyspark", "spark-hive"], "comments": [{"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1468441716, "post_id": 38360692, "comment_id": 64134632, "body": "It looks like you&#39;ve build Spark by yourself, am I right? If this is the case can you provide some details about the method?"}, {"owner": {"reputation": 962, "user_id": 5920927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Tk5aZ.png?s=128&g=1", "display_name": "masta-g3", "link": "https://stackoverflow.com/users/5920927/masta-g3"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1468443422, "post_id": 38360692, "comment_id": 64135470, "body": "@zero323 Yes, I followed a tutorial that was very similar to this one: <a href=\"http://blog.prabeeshk.com/blog/2014/10/31/install-apache-spark-on-ubuntu-14-dot-04/\" rel=\"nofollow noreferrer\">blog.prabeeshk.com/blog/2014/10/31/&hellip;</a>. Does it looks like a config issue? I&#39;m willing to reinstall if you have any advice on how to solve this. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 962, "user_id": 5920927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Tk5aZ.png?s=128&g=1", "display_name": "masta-g3", "link": "https://stackoverflow.com/users/5920927/masta-g3"}, "edited": false, "score": 0, "creation_date": 1468509035, "post_id": 38362611, "comment_id": 64165823, "body": "Thanks, I&#39;ve tried <code>sbt -Phive assembly</code>, but now it is complaining about <code>Not a valid command: Phive</code>. Do I need to download anything or perform any other action before attempting the assembly?"}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "reply_to_user": {"reputation": 962, "user_id": 5920927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Tk5aZ.png?s=128&g=1", "display_name": "masta-g3", "link": "https://stackoverflow.com/users/5920927/masta-g3"}, "edited": false, "score": 0, "creation_date": 1468509629, "post_id": 38362611, "comment_id": 64166264, "body": "I doesn&#39;t sound right. Are you sure there is nothing missing there? Do you have sbt installed? If not then you can use <code>build&#47;sbt</code>. If you cannot solve this you can also try deprecated: <code>SPARK_HIVE=true build&#47;sbt assembly</code>"}, {"owner": {"reputation": 962, "user_id": 5920927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Tk5aZ.png?s=128&g=1", "display_name": "masta-g3", "link": "https://stackoverflow.com/users/5920927/masta-g3"}, "edited": false, "score": 0, "creation_date": 1469472110, "post_id": 38362611, "comment_id": 64539464, "body": "I do have sbt installed, when I run the command it does starts compiling, but it fails after a couple of minutes. Here is the complete output log for sbt -Phive assembly: <a href=\"http://pastebin.com/yMDzk5WD\" rel=\"nofollow noreferrer\">pastebin.com/yMDzk5WD</a> Do you have any suggestion? I&#39;m kind of stuck here without access to all the HiveContext functions."}, {"owner": {"reputation": 962, "user_id": 5920927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Tk5aZ.png?s=128&g=1", "display_name": "masta-g3", "link": "https://stackoverflow.com/users/5920927/masta-g3"}, "edited": false, "score": 0, "creation_date": 1469548346, "post_id": 38362611, "comment_id": 64577165, "body": "Finally got it working! The issue is that I was doing the assembly with the version of sbt that I have installed on my machine, and not the one that came with spark. So the correct way to run it was:  <code>&#47;home&#47;scala&#47;spark-1.6.1$sudo sbt&#47;sbt -Phive assembly</code>. Thanks for the help."}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 1, "last_activity_date": 1468448134, "creation_date": 1468448134, "answer_id": 38362611, "question_id": 38360692, "link": "https://stackoverflow.com/questions/38360692/hivecontext-createdataframe-not-working-on-pyspark-jupyter/38362611#38362611", "title": "HiveContext createDataFrame not working on pySpark (jupyter)", "body": "<p><code>HiveContext</code> requires binaries build with Hive support. It means you have to enable Hive profile. Since you use <code>sbt assembly</code> you need at least:</p>\n\n<pre><code>sbt -Phive assembly\n</code></pre>\n\n<p>The same is required when building with Maven, for example:</p>\n\n<pre><code>mvn -Phive -DskipTests clean package\n</code></pre>\n"}], "owner": {"reputation": 962, "user_id": 5920927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Tk5aZ.png?s=128&g=1", "display_name": "masta-g3", "link": "https://stackoverflow.com/users/5920927/masta-g3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1512, "favorite_count": 0, "accepted_answer_id": 38362611, "answer_count": 1, "score": 3, "last_activity_date": 1468448134, "creation_date": 1468440046, "last_edit_date": 1468442733, "question_id": 38360692, "link": "https://stackoverflow.com/questions/38360692/hivecontext-createdataframe-not-working-on-pyspark-jupyter", "title": "HiveContext createDataFrame not working on pySpark (jupyter)", "body": "<p>I am doing an analysis on pySpark using the Jupyter notebooks. My code originally build dataframes using sqlContext = <strong>SQLContext</strong>(sc), but now I've switched to <strong>HiveContext</strong> since I will be using window functions.</p>\n\n<p>My problem is that now I'm getting a Java error when trying to create the dataframe:</p>\n\n<pre><code>## Create new SQL Context.\nfrom pyspark.sql import SQLContext\nfrom pyspark.sql import DataFrame\nfrom pyspark.sql import Window\nfrom pyspark.sql.types import *\nimport pyspark.sql.functions as func\n\nsqlContext = HiveContext(sc)\n</code></pre>\n\n<p>After this I read my data into an RDD, and create the schema for my DF.</p>\n\n<pre><code>## After loading the data we define the schema.\nfields = [StructField(field_name, StringType(), True) for field_name in data_header]\nschema = StructType(fields)\n</code></pre>\n\n<p>Now, when I try to build the DF this is the error I get:</p>\n\n<pre><code>## Build the DF.\ndata_df = sqlContext.createDataFrame(data_tmp, schema)\n\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\n/home/scala/spark-1.6.1/python/pyspark/sql/context.pyc in _get_hive_ctx(self)\n    690 \n    691     def _get_hive_ctx(self):\n--&gt; 692         return self._jvm.HiveContext(self._jsc.sc())\n    693 \n    694     def refreshTable(self, tableName):\n\nTypeError: 'JavaPackage' object is not callable\n</code></pre>\n\n<p>I have been googling it without luck so far. Any advice is greatly appreciated.</p>\n"}, {"tags": ["python", "scipy", "sparse-matrix"], "comments": [{"owner": {"reputation": 1491, "user_id": 6480793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe10b5df5ec1164b5bade347d8599f8?s=128&d=identicon&r=PG&f=1", "display_name": "Delioth", "link": "https://stackoverflow.com/users/6480793/delioth"}, "edited": false, "score": 0, "creation_date": 1468440938, "post_id": 38360674, "comment_id": 64134235, "body": "A noticeable part of it is probably due to printing it, as most consoles still have to store what is in them (i.e. text of numbers 0-10.000.000 + &#39;\\n&#39;)."}, {"owner": {"reputation": 25, "user_id": 3146633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49dda1091f3543120150ce213fda64a2?s=128&d=identicon&r=PG&f=1", "display_name": "pjdrm", "link": "https://stackoverflow.com/users/3146633/pjdrm"}, "reply_to_user": {"reputation": 1491, "user_id": 6480793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe10b5df5ec1164b5bade347d8599f8?s=128&d=identicon&r=PG&f=1", "display_name": "Delioth", "link": "https://stackoverflow.com/users/6480793/delioth"}, "edited": false, "score": 0, "creation_date": 1468441850, "post_id": 38360674, "comment_id": 64134707, "body": "When I comment the c = a.todense() line the memory used is constant."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 3146633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49dda1091f3543120150ce213fda64a2?s=128&d=identicon&r=PG&f=1", "display_name": "pjdrm", "link": "https://stackoverflow.com/users/3146633/pjdrm"}, "edited": false, "score": 0, "creation_date": 1470087723, "post_id": 38361530, "comment_id": 64794689, "body": "Just to confirm that this issue has effictively been fixed in scipy 0.18.0."}], "tags": [], "owner": {"reputation": 28915, "user_id": 108184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f11d5dec13b8e2d9abe53f4b66192e9?s=128&d=identicon&r=PG", "display_name": "pv.", "link": "https://stackoverflow.com/users/108184/pv"}, "is_accepted": true, "score": 3, "last_activity_date": 1468443318, "creation_date": 1468443318, "answer_id": 38361530, "question_id": 38360674, "link": "https://stackoverflow.com/questions/38360674/converting-row-of-sparse-matrix-to-dense-leaks-memory/38361530#38361530", "title": "Converting row of sparse matrix to dense leaks memory", "body": "<p>This is <a href=\"https://github.com/scipy/scipy/pull/5847\" rel=\"nofollow\">a bug</a>, will be fixed in scipy 0.18.0. There is no workaround.</p>\n"}], "owner": {"reputation": 25, "user_id": 3146633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49dda1091f3543120150ce213fda64a2?s=128&d=identicon&r=PG&f=1", "display_name": "pjdrm", "link": "https://stackoverflow.com/users/3146633/pjdrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 38361530, "answer_count": 1, "score": 2, "last_activity_date": 1468443318, "creation_date": 1468439988, "question_id": 38360674, "link": "https://stackoverflow.com/questions/38360674/converting-row-of-sparse-matrix-to-dense-leaks-memory", "title": "Converting row of sparse matrix to dense leaks memory", "body": "<p>In my program I have two scipy.sparse.csr_matrix. One has only one row and the other is actually large. In each iteration of the program, I add and subtract rows of the matrices. Eventually I need to use .todense() on the single row matrix. I noticed that just calling this function makes the used memory grow without apparent reason. I need to do many iterations and cannot afford to have this memory leak.</p>\n\n<p>I was able to write a simple program that illustrates my problem:</p>\n\n<pre><code>import numpy as np\nfrom scipy import sparse\n\na = sparse.csr_matrix(np.matrix(np.random.random((1, 250))))\nb = sparse.csr_matrix(np.matrix(np.random.random((250, 250))))\n\nfor i in range(10000000):\n    a = a - b[4]\n    c = a.todense()\n    print(i)\n</code></pre>\n\n<p>So when I run the above program I see that at after a certain point the memory used does not stop growing.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 0, "last_activity_date": 1468440385, "creation_date": 1468440385, "answer_id": 38360782, "question_id": 38360617, "link": "https://stackoverflow.com/questions/38360617/pandas-dataframe-if-statement-using-apply-errors/38360782#38360782", "title": "Pandas Dataframe if statement using apply errors", "body": "<p>I think you need <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.mask.html\" rel=\"nofollow\"><code>mask</code></a>:</p>\n\n<pre><code>hist = pd.DataFrame({'Pwer':[-.3,-1.3,-2.4], 'Trend':[1.3,-1.3,-1.7]} )\nprint (hist)\n    Pwer  Trend\n0  -0.3    1.3\n1  -1.3   -1.3\n2  -2.4   -1.7\n\nhist['Pwer']=hist['Pwer'].mask((hist['Pwer']&lt;0) &amp; (hist['Trend']&lt;0), \n                                hist['Pwer'].apply(lambda x:'&lt;span class=\"Negative Trend_neg\"&gt;{0}&lt;/span&gt;'.format(x))) \nprint (hist)\n                                           Pwer  Trend\n0                                          -0.3    1.3\n1  &lt;span class=\"Negative Trend_neg\"&gt;-1.3&lt;/span&gt;   -1.3\n2  &lt;span class=\"Negative Trend_neg\"&gt;-2.4&lt;/span&gt;   -1.7\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "is_accepted": false, "score": 2, "last_activity_date": 1468440520, "creation_date": 1468440520, "answer_id": 38360831, "question_id": 38360617, "link": "https://stackoverflow.com/questions/38360617/pandas-dataframe-if-statement-using-apply-errors/38360831#38360831", "title": "Pandas Dataframe if statement using apply errors", "body": "<p>Something like this will work:</p>\n\n<pre><code>cond =  ((hist['Pwer']&lt;0) &amp; (hist['Trend']&lt;0))\nhist['Pwer'][cond] = hist['Pwer'][cond].apply(lambda x:'&lt;span class=\"Negative Trend_neg\"&gt;{0}&lt;/span&gt;'.format(x))\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>                                           Pwer  Trend\n0                                          -0.3    1.3\n1  &lt;span class=\"Negative Trend_neg\"&gt;-1.3&lt;/span&gt;   -1.3\n2  &lt;span class=\"Negative Trend_neg\"&gt;-2.4&lt;/span&gt;   -1.7\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6388082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/218feadc7bc90a9b1277b2b5c7db6bee?s=128&d=identicon&r=PG&f=1", "display_name": "Gumbz", "link": "https://stackoverflow.com/users/6388082/gumbz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1468440520, "creation_date": 1468439789, "question_id": 38360617, "link": "https://stackoverflow.com/questions/38360617/pandas-dataframe-if-statement-using-apply-errors", "title": "Pandas Dataframe if statement using apply errors", "body": "<p>I am Currently trying to create IF statements to apply a class element to certain cells so I can style them using CSS. I currently can't use the styling options that pandas gives because I am using the .to_html function. </p>\n\n<p>My table is as follows. \n{'Pwer':[-.3,-1.3,-2.4], 'Trend':[1.3,-1.3,-1.7]}  </p>\n\n<p>I tried</p>\n\n<pre><code>if((hist['Pwer']&lt;0) &amp; (hist['Trend']&lt;0)):\n            hist['Pwer']=hist['Pwer'].apply(lambda x:'&lt;span class=\"Negative Trend_neg\"&gt;{0}&lt;/span&gt;'.format(x))\n</code></pre>\n\n<p>But it results in</p>\n\n<pre><code>The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(),     a.any() or a.all().\n</code></pre>\n\n<p>I'm not quite sure I understand what is going on even if I apply .all() to both hist['Pwer'] and hist['Trend']. Any help would be appreciative. </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 617, "user_id": 3388684, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b953bbb193894842d4cf737c6963979a?s=128&d=identicon&r=PG&f=1", "display_name": "Snorlax", "link": "https://stackoverflow.com/users/3388684/snorlax"}, "edited": false, "score": 0, "creation_date": 1468440212, "post_id": 38360683, "comment_id": 64133851, "body": "And if I would like to filter results only to OK or KO ?"}, {"owner": {"reputation": 617, "user_id": 3388684, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b953bbb193894842d4cf737c6963979a?s=128&d=identicon&r=PG&f=1", "display_name": "Snorlax", "link": "https://stackoverflow.com/users/3388684/snorlax"}, "edited": false, "score": 0, "creation_date": 1468440799, "post_id": 38360683, "comment_id": 64134168, "body": "And one more question, how to format Time axis to show only hour and minute?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 617, "user_id": 3388684, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b953bbb193894842d4cf737c6963979a?s=128&d=identicon&r=PG&f=1", "display_name": "Snorlax", "link": "https://stackoverflow.com/users/3388684/snorlax"}, "edited": false, "score": 1, "creation_date": 1468441094, "post_id": 38360683, "comment_id": 64134315, "body": "@kulawyjoe simple way is to <code>df1.index = df1.index.strftime(&#39;%H:%M&#39;)</code>.  Then run plots."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 617, "user_id": 3388684, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b953bbb193894842d4cf737c6963979a?s=128&d=identicon&r=PG&f=1", "display_name": "Snorlax", "link": "https://stackoverflow.com/users/3388684/snorlax"}, "edited": false, "score": 1, "creation_date": 1468441186, "post_id": 38360683, "comment_id": 64134353, "body": "@kulawyjoe a better answer is found here --- &gt; <a href=\"http://stackoverflow.com/a/14946444/2336654\">stackoverflow.com/a/14946444/2336654</a>"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1468440363, "last_edit_date": 1468440363, "creation_date": 1468440008, "answer_id": 38360683, "question_id": 38360546, "link": "https://stackoverflow.com/questions/38360546/get-number-of-fails-and-successes-from-a-dataframe-in-time-series/38360683#38360683", "title": "Get number of fails and successes from a dataframe in time series", "body": "<pre><code>text = \"\"\"Time                    Status      ResponseTime     PID\n2016-07-13 17:33:49     OK          1623             42\n2016-07-13 17:33:50     KO          1593             35\n2016-07-13 17:33:50     OK          1604             19\n2016-07-13 17:33:51     KO          1605             28\n2016-07-13 17:33:51     OK          1617             42\n2016-07-13 17:33:52     OK          1654             35\n2016-07-13 17:33:52     OK          2044             19\n2016-07-13 17:33:53     KO          1630             42\n2016-07-13 17:34:49     OK          1623             42\n2016-07-13 17:34:50     KO          1593             35\n2016-07-13 17:34:50     OK          1604             19\n2016-07-13 17:34:51     KO          1605             28\n2016-07-13 17:34:51     OK          1617             42\n2016-07-13 17:34:52     OK          1654             35\n2016-07-13 17:34:52     OK          2044             19\n2016-07-13 17:34:53     KO          1630             42\n\"\"\"\n\ndf = pd.read_csv(StringIO(text), sep='\\s{2,}', engine='python', index_col=0, parse_dates=[0])\n\ndf1 = df.groupby(pd.TimeGrouper('Min')).Status.value_counts().unstack()\ndf1\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lqiTs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqiTs.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>df1.plot.bar()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/bEcOe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bEcOe.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you want to limit to <code>'KO'</code>:</p>\n\n<pre><code>df1.KO.plot.bar()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WaaLK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WaaLK.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 617, "user_id": 3388684, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b953bbb193894842d4cf737c6963979a?s=128&d=identicon&r=PG&f=1", "display_name": "Snorlax", "link": "https://stackoverflow.com/users/3388684/snorlax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "accepted_answer_id": 38360683, "answer_count": 1, "score": 1, "last_activity_date": 1504433673, "creation_date": 1468439562, "last_edit_date": 1504433673, "question_id": 38360546, "link": "https://stackoverflow.com/questions/38360546/get-number-of-fails-and-successes-from-a-dataframe-in-time-series", "title": "Get number of fails and successes from a dataframe in time series", "body": "<p>With a dataFrame like this:</p>\n\n<pre><code>Time                    Status      ResponseTime     PID\n2016-07-13 17:33:49     OK          1623             42\n2016-07-13 17:33:50     KO          1593             35\n2016-07-13 17:33:50     OK          1604             19\n2016-07-13 17:33:51     KO          1605             28\n2016-07-13 17:33:51     OK          1617             42\n2016-07-13 17:33:52     OK          1654             35\n2016-07-13 17:33:52     OK          2044             19\n2016-07-13 17:33:53     KO          1630             42\n</code></pre>\n\n<p>How can I draw a kind of a histogram which would present number of KOs and OKs for each minute?</p>\n"}, {"tags": ["python", "euclidean-distance"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4022729, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c49326dc17acea2ff5ce0e6b071d3139?s=128&d=identicon&r=PG&f=1", "display_name": "tiajuana6", "link": "https://stackoverflow.com/users/4022729/tiajuana6"}, "edited": false, "score": 0, "creation_date": 1468446905, "post_id": 38360795, "comment_id": 64137067, "body": "I just need a dictionary that for each id, gives the other id&#39;s whose distances were less than some threshold. I have the <code>donotcluster</code> dictionary so I don&#39;t have to compute a distance if the same symmetric distance was previously found (and shown to not satisfy the threshold)."}, {"owner": {"reputation": 1598, "user_id": 5021530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/951e7a649ceb85f418634f44c1383b7b?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5021530/brian"}, "reply_to_user": {"reputation": 27, "user_id": 4022729, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c49326dc17acea2ff5ce0e6b071d3139?s=128&d=identicon&r=PG&f=1", "display_name": "tiajuana6", "link": "https://stackoverflow.com/users/4022729/tiajuana6"}, "edited": false, "score": 0, "creation_date": 1468501052, "post_id": 38360795, "comment_id": 64160033, "body": "My code checks using a <code>set</code> instead of a <code>dict</code>, which is much more efficient :)"}], "tags": [], "owner": {"reputation": 1598, "user_id": 5021530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/951e7a649ceb85f418634f44c1383b7b?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5021530/brian"}, "is_accepted": false, "score": 1, "last_activity_date": 1468440733, "last_edit_date": 1468440733, "creation_date": 1468440404, "answer_id": 38360795, "question_id": 38360515, "link": "https://stackoverflow.com/questions/38360515/python-compute-all-possible-pairwise-distances-of-a-list-dtw/38360795#38360795", "title": "Python: Compute all possible pairwise distances of a list (DTW)", "body": "<p>I would recommend <strong>keeping a <code>set</code> of all of the pairs you've done so far</strong>, keeping in mind that <code>set</code> has a constant time lookup operation. Besides that, you should consider other approaches where you <strong>don't extend your lists so often</strong> (that nasty <code>+=</code> you're doing) since it can be rather expensive. I don't know enough of the implementation of your application to comment on that though. If you provide more information, I may be able to figure a way to get rid of some of the <code>+=</code> that you don't need. One idea (for efficiency) would be to <code>append</code> each list to a list of lists, and then flatten it at the end of your script with something like</p>\n\n<pre><code>[i for x in cluster[lst[0]] for i in x]\n</code></pre>\n\n<p>I modified your code as follows:</p>\n\n<pre><code>cluster = defaultdict( list )\ndonotcluster = defaultdict( list )\nseen = set() # added this\nfor i, lst1 in tqdm(enumerate(T)):\n    for lst2 in tqdm(T):\n        if hashPair( lst1[1], lst2[1] ) not in seen and lst2 not in cluster[lst1[0]] and lst2 not in donotcluster[lst1[0]]: # changed around your condition\n            seen.add( hashPair( lst1[1], lst2[1] ) # added this\n            distance, path = fastdtw(lst1[1], lst2[1], dist=euclidean)\n            if distance &lt;= distance_threshold:\n                cluster[lst1[0]] += [ lst2 ]\n                cluster[lst2[0]] += [ lst1 ]\n            else:\n                donotcluster[lst1[0]] += [ lst2 ]\n                donotcluster[lst2[0]] += [ lst1 ]\n\ndef hashPair( a, b ): # added this\n    return ','.join(max(a,b), min(a,b))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2020, "user_id": 1433712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2be98543dfefb8fbc4c9560de093c34c?s=128&d=identicon&r=PG", "display_name": "Alden", "link": "https://stackoverflow.com/users/1433712/alden"}, "is_accepted": false, "score": 0, "last_activity_date": 1468441310, "last_edit_date": 1468441310, "creation_date": 1468440828, "answer_id": 38360919, "question_id": 38360515, "link": "https://stackoverflow.com/questions/38360515/python-compute-all-possible-pairwise-distances-of-a-list-dtw/38360919#38360919", "title": "Python: Compute all possible pairwise distances of a list (DTW)", "body": "<p>I cannot answer your question about whether there is a more optimized dtw library, but you can use <code>itertools</code> to get the combinations you want without duplicates:</p>\n\n<pre><code>import itertools\n\nfor combination in itertools.combinations(T, 2):\n        f(combination[0], combination[1])\n</code></pre>\n\n<p>Here is an example of the combinations:</p>\n\n<pre><code>('T_1', 'T_2')\n('T_1', 'T_3')\n('T_1', 'T_4')\n('T_1', 'T_5')\n('T_2', 'T_3')\n('T_2', 'T_4')\n('T_2', 'T_5')\n('T_3', 'T_4')\n('T_3', 'T_5')\n('T_4', 'T_5')\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 4022729, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c49326dc17acea2ff5ce0e6b071d3139?s=128&d=identicon&r=PG&f=1", "display_name": "tiajuana6", "link": "https://stackoverflow.com/users/4022729/tiajuana6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1018, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534266376, "creation_date": 1468439451, "question_id": 38360515, "link": "https://stackoverflow.com/questions/38360515/python-compute-all-possible-pairwise-distances-of-a-list-dtw", "title": "Python: Compute all possible pairwise distances of a list (DTW)", "body": "<p>I have a list of items like so: <code>T=[T_0, T_1, ..., T_N]</code> where each of <code>T_i</code> is itself a time series. I want to find the pairwise distances (via DTW) for all potential pairs. </p>\n\n<p>E.g. If <code>T=[T_0, T_1, T_2]</code> and I had a DTW function <code>f</code>, I want to find <code>f(T_0, T_1), f(T_0, T_2), f(T_1, T_2)</code>.</p>\n\n<p>Note <code>T_i</code> actually looks like <code>( id of i, [ time series values ] )</code>.</p>\n\n<p>My code snippet looks like this:</p>\n\n<pre><code>cluster = defaultdict( list )                                                                                                                                                                                                                                                                                                                           \ndonotcluster = defaultdict( list )                                                                                                                          \nfor i, lst1 in tqdm(enumerate(T)):                                                                                                           \n    for lst2 in tqdm(T):                                                                                                                     \n        if lst2 in cluster[lst1[0]] or lst2 in donotcluster[lst1[0]]:                                                                                       \n            pass                                                                                                                                            \n        else:                                                                                                                                               \n            distance, path = fastdtw(lst1[1], lst2[1], dist=euclidean)                                                                                      \n            if distance &lt;= distance_threshold:                                                                                                              \n                cluster[lst1[0]] += [ lst2 ]                                                                                                                \n                cluster[lst2[0]] += [ lst1 ]                                                                                                                \n            else:                                                                                                                                           \n                donotcluster[lst1[0]] += [ lst2 ]                                                                                                           \n                donotcluster[lst2[0]] += [ lst1 ]\n</code></pre>\n\n<p>Right now I have around 20,000 time series and this take way too long (it will run in about 5 days). I am using the python library <code>fastdtw</code>. Is there a more optimised library? Or just a better/faster way of computing all possible distances? Since distances are symmetric I don't have to calculate for example <code>f(T_41,T_33)</code> if I have already calculated <code>f(T_33, T_41)</code></p>\n"}]