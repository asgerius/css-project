[{"tags": ["php", "python", "pyqt4"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437609546, "post_id": 31575994, "comment_id": 51106648, "body": "<i>Folder already exists</i>"}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 1, "creation_date": 1437610043, "post_id": 31575994, "comment_id": 51106745, "body": "<a href=\"http://meta.stackoverflow.com/questions/253787/are-there-legitimate-fix-my-code-questions\" title=\"are there legitimate fix my code questions\">meta.stackoverflow.com/questions/253787/&hellip;</a>"}, {"owner": {"reputation": 319, "user_id": 4704542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hwfm6.jpg?s=128&g=1", "display_name": "Sophus", "link": "https://stackoverflow.com/users/4704542/sophus"}, "edited": false, "score": 0, "creation_date": 1437610638, "post_id": 31575994, "comment_id": 51106893, "body": "Hey guys, I created a test-account for you: user_name --&gt; test_account and user_password --&gt; test_user You have to put this data in the auth=HTTPBasicAuth."}], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 4704542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hwfm6.jpg?s=128&g=1", "display_name": "Sophus", "link": "https://stackoverflow.com/users/4704542/sophus"}, "is_accepted": false, "score": 0, "last_activity_date": 1437667722, "last_edit_date": 1437667722, "creation_date": 1437662745, "answer_id": 31590748, "question_id": 31575994, "link": "https://stackoverflow.com/questions/31575994/python-downloading-from-a-protected-folder-htaccess/31590748#31590748", "title": "Python: Downloading from a protected folder (.htaccess)", "body": "<p>I haven't found a solution, but I have reduced my source. I hope that helps us to find the problem.</p>\n\n<pre><code>import requests\nimport shutil\nfrom requests.auth import HTTPBasicAuth\n\ndef log_in(user, pwd):\n    s = requests.session()\n    resp = s.get('http://xarphus.de/protect_folder/', auth=HTTPBasicAuth(user, pwd))\n    print \"Status: \", resp.status_code\n    content_txt_file = resp.text\n    print \"Cookies: \", requests.utils.dict_from_cookiejar(s.cookies)\n    print \"Content of txt file: \", content_txt_file\n    print \"start downloading\"\n    response = s.get(content_txt_file, stream=True)\n    with open('test_rar.rar', 'wb') as out_file:\n        shutil.copyfileobj(response.raw, out_file)\n    del response\n\nif __name__ == '__main__':\n    user_name = 'test_account'\n    user_password = 'test_user'\n    log_in(user_name, user_password)\n</code></pre>\n\n<p>If I run this program that downloads the file, but the file has only 209 bytes. Its to small. The original file has round about 36 megabytes.</p>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 4704542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hwfm6.jpg?s=128&g=1", "display_name": "Sophus", "link": "https://stackoverflow.com/users/4704542/sophus"}, "is_accepted": false, "score": 0, "last_activity_date": 1437688609, "creation_date": 1437688609, "answer_id": 31598763, "question_id": 31575994, "link": "https://stackoverflow.com/questions/31575994/python-downloading-from-a-protected-folder-htaccess/31598763#31598763", "title": "Python: Downloading from a protected folder (.htaccess)", "body": "<p>So guy, although no one has helped me (for whatever reason), I found a solution. Here is the correct code:</p>\n\n<pre><code>def get_logged_in_session(user, pwd):\n\n    url = 'http://xarphus.de/protect_folder'\n    s = requests.session()\n\n    auth = HTTPBasicAuth(user, pwd)\n    resp = s.get(url=url, auth=auth)\n\n    print \"Status: \", resp.status_code\n    content_txt_file = resp.text\n    print \"Cookies: \", s.cookies\n    print \"Content of txt file: \", content_txt_file\n    print \"init the download\"\n    response = s.get(url=content_txt_file, auth=auth, stream=True)\n    print \"start downloading\"\n    with open('test_rar.rar', 'wb') as out_file:\n        shutil.copyfileobj(response.raw, out_file)\n    print \"Closing response\"\n    response.close\n    print \"response is closed\"\n    print \"Closing resp\"\n    resp.close\n    print \"resp is closed\"\n</code></pre>\n\n<p>I have changed this line</p>\n\n<pre><code>response = s.get(content_txt_file, stream=True)\n</code></pre>\n\n<p>into this line</p>\n\n<pre><code>response = s.get(url=content_txt_file, auth=auth, stream=True)\n</code></pre>\n\n<p>Why? Well, so I can get access to the file, I need to authenticate me one more time. </p>\n"}], "owner": {"reputation": 319, "user_id": 4704542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hwfm6.jpg?s=128&g=1", "display_name": "Sophus", "link": "https://stackoverflow.com/users/4704542/sophus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 360, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437688609, "creation_date": 1437609487, "last_edit_date": 1437629410, "question_id": 31575994, "link": "https://stackoverflow.com/questions/31575994/python-downloading-from-a-protected-folder-htaccess", "title": "Python: Downloading from a protected folder (.htaccess)", "body": "<p>I set up on my Web server a protected area. There are two files - one txt-file and a rar-file. In the rar-file you will find a pdf-file. I have an executable program here. First, I get after a successful login to the contents of the text file. Following I grab the path (<strong>download_path = self.url.text</strong>). And now I try to download the file. But it does not work. Can someone help me?</p>\n\n<pre><code>FILE_NAME = \"downloader2.py\"\n\nimport os\nimport requests\nimport sys\nfrom requests.auth import HTTPBasicAuth\n\nfrom PyQt4.QtCore import QThread, pyqtSignal, Qt, QSemaphore\nfrom PyQt4.QtGui import QVBoxLayout, QPushButton, QDialog, QProgressBar, QApplication, QMessageBox   \n\nclass Download_Thread(QThread):\n    finished_thread = pyqtSignal()\n    error_http = pyqtSignal()\n    finished_download = pyqtSignal()\n    notify_progress = pyqtSignal(int)\n\n    def __init__(self, location, link, parent=None):\n        QThread.__init__(self, parent)\n\n        self.link = link\n\n        self.location = location\n\n        self._run_semaphore = QSemaphore(1)\n\n\n\n    def run(self):\n        try:\n            self.url= requests.get(self.link, auth=HTTPBasicAuth('user_name', 'user_password'))\n            download_path = self.url.text\n            print \"URL PATH \", download_path\n            file = requests.get(download_path, stream=True)\n            status = self.url.status_code\n            print \"STATUS \", status\n\n            if not status == 200:\n                self.error_http.emit()\n\n        except (requests.exceptions.URLRequired,\n                requests.exceptions.ConnectionError,\n                requests.exceptions.HTTPError,\n                requests.exceptions.Timeout,\n                requests.exceptions.ConnectTimeout,\n                requests.exceptions.ReadTimeout), g:\n            print 'Could not download ', g\n            self.error_http.emit()\n        else:\n            file_size = int(requests.head(download_path).headers.get('content-length', [0]))\n            print \"file_size\", file_size\n            r = requests.head(download_path)\n            print \"heanders\", r.headers\n\n            print \"%s Byte\" %file_size\n            result = 2000 / (1024*5)\n            print \"result\", result\n            chunk_size = int(result)\n            print \"chunk_size\", chunk_size\n            downloaded_bytes = 0\n\n            with open(self.location, 'wb') as fd:\n                for chunk in file.iter_content(chunk_size):\n                    fd.write(chunk)\n                    downloaded_bytes = fd.tell()\n                    #print (float(downloaded_bytes)/file_size*100)\n                    self.notify_progress.emit(float(downloaded_bytes)/file_size*100)\n\n                    if self._run_semaphore.available() == 0:\n                        self._run_semaphore.release(1)\n                        break\n\n                print \"Finish\"\n                self.finished_download.emit()\n                self.finished_thread.emit()\n\n    def stop(self):\n        print \"stop\"\n        self._run_semaphore.acquire(1)\n\nclass MyCustomDialog(QDialog):\n\n    def __init__(self):\n        super(MyCustomDialog, self).__init__()\n        layout = QVBoxLayout(self)\n\n        #self.url = get_access_data_and_link('Sophus','danny5658')\n        #print \"CALLING DOWNLOAD\", self.url\n\n        self.url = 'http://xarphus.de/schutz/'\n\n        # Create a progress bar and a button and add them to the main layout\n        self.progressBarUpdate = QProgressBar(self)\n        self.progressBarUpdate.setAlignment(Qt.AlignCenter)\n        layout.addWidget(self.progressBarUpdate)\n\n        pushButtonUpdate = QPushButton(\"Start\", self)\n        layout.addWidget(pushButtonUpdate)\n        pushButtonCancel = QPushButton(\"Cancel\", self)\n        layout.addWidget(pushButtonCancel)\n\n        pushButtonUpdate.clicked.connect(self.check_folder_exists)\n\n        # Set data for download and saving in path\n        self.location = os.path.abspath(os.path.join('temp', 'example-app-0.3.win32.zip'))\n        #self.url = 'http://sophus.bplaced.net/download/example-app-0.3.win32.zip'\n\n        self.download_task = Download_Thread(self.location, self.url)\n        self.download_task.notify_progress.connect(self.on_progress)\n        self.download_task.finished_thread.connect(self.on_finished)\n        self.download_task.error_http.connect(self.on_HTTPError)\n        self.download_task.finished_download.connect(self.on_finish_download)\n\n        pushButtonCancel.clicked.connect(self.on_finished)\n\n    def on_start(self):\n        self.progressBarUpdate.setRange(0, 0)\n        self.download_task.start()\n\n    def on_finish_download(self):\n        msg_box = QMessageBox()\n\n        QMessageBox.question(msg_box, ' Message ',\n                                           \"The file has been fully downloaded.\", msg_box.Ok)\n\n    def on_HTTPError(self):\n        reply = QMessageBox.question(self, ' Error ',\n                                           \"The file could not be downloaded. Will they do it again?\", QMessageBox.Yes | \n            QMessageBox.No, QMessageBox.No)\n\n        if reply == QMessageBox.Yes:\n            self.on_start()\n        else:\n            print \"Close button pressed\"\n            #event.ignore()\n\n    def on_progress(self, i):\n        self.progressBarUpdate.setRange(0, 100)\n        self.progressBarUpdate.setValue(i)\n\n    def check_folder_exists(self):\n        location = os.path.abspath(os.path.join('temp'))\n        if not os.path.exists(location):\n            os.makedirs(location)\n            print \"Folder was created\"\n            self.on_start()\n        else:\n            print \"Folder already exists\"\n            self.on_start()\n\n    def on_finished(self):\n        self.progressBarUpdate.setValue(0)\n        self.close()\n\n    def closeEvent(self, event):\n        self.download_task.stop()\n\ndef main():\n    app = QApplication(sys.argv)\n    window = MyCustomDialog()\n    window.resize(600, 400)\n    window.show()\n    sys.exit(app.exec_())\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>If I run this program I get this lines on my console:</p>\n\n<blockquote>\n  <p>Folder already exists\n  URL PATH  <a href=\"http://xarphus.de/schutz/datei.rar\" rel=\"nofollow\">http://xarphus.de/schutz/datei.rar</a>\n  STATUS  200\n  file_size 290\n  heanders {'content-length': '290', 'x-varnish': '150708046 150707392', 'content-encoding': 'gzip', 'accept-ranges': 'bytes', 'vary': 'Accept-Encoding', 'server': 'Apache', 'age': '0', 'connection': 'keep-alive', 'via': '1.1 varnish', 'date': 'Wed, 22 Jul 2015 23:20:06 GMT', 'content-type': 'text/html; charset=iso-8859-1', 'www-authenticate': 'Basic realm=\"Service-Bereich\"'}\n  290 Byte\n  result 0\n  chunk_size 0\n  Finish\n  stop</p>\n</blockquote>\n"}, {"tags": ["python", "django", "python-3.4", "instagram-api", "django-1.8"], "answers": [{"tags": [], "owner": {"reputation": 817, "user_id": 5145800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ca025f397bd10460e52920cf0479ce9?s=128&d=identicon&r=PG", "display_name": "jlnabais", "link": "https://stackoverflow.com/users/5145800/jlnabais"}, "is_accepted": true, "score": 0, "last_activity_date": 1437611304, "creation_date": 1437611304, "answer_id": 31576220, "question_id": 31575967, "link": "https://stackoverflow.com/questions/31575967/python-instagram-trouble-with-user-recent-media/31576220#31576220", "title": "python-instagram trouble with user_recent_media", "body": "<p>Found it, I was wrongly using user name instead of user id...xD</p>\n"}], "owner": {"reputation": 817, "user_id": 5145800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ca025f397bd10460e52920cf0479ce9?s=128&d=identicon&r=PG", "display_name": "jlnabais", "link": "https://stackoverflow.com/users/5145800/jlnabais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 31576220, "answer_count": 1, "score": 0, "last_activity_date": 1437611304, "creation_date": 1437609334, "question_id": 31575967, "link": "https://stackoverflow.com/questions/31575967/python-instagram-trouble-with-user-recent-media", "title": "python-instagram trouble with user_recent_media", "body": "<p>I'm trying to use python-instagram (<a href=\"https://github.com/Instagram/python-instagram\" rel=\"nofollow\">https://github.com/Instagram/python-instagram</a>) to retrieve last media from user, but I'm having trouble (python3.4, python-instagram 1.3.2):</p>\n\n<p>got (django StackTrace):</p>\n\n<pre><code>(404) Unable to parse response, not valid JSON.\n\n(...)\n\nresponse = wrapped_callback(request, *callback_args, **callback_kwargs) ...\n\u25b6 Local vars\n(...)views.py in get_instagram_media\n                media = SocialFeed.get_instagram_media(user_id) ...\n\u25b6 Local vars\n(...)social_networks.py in get_instagram_media\n                    recent_media, next_ = cls.instagram_api.user_recent_media(user_id=user_id, count=count) ...\n\u25b6 Local vars\n(...)/lib/python3.4/site-packages/instagram/bind.py in _call\n                    return method.execute() ...\n\u25b6 Local vars\n(...)/lib/python3.4/site-packages/instagram/bind.py in execute\n                            content, next = self._do_api_request(url, method, body, headers) ...\n\u25b6 Local vars\n(...)/lib/python3.4/site-packages/instagram/bind.py in _do_api_request\n                            raise InstagramClientError('Unable to parse response, not valid JSON.', status_code=response['status']) \n</code></pre>\n\n<p>My code (based on project documentation/ other stackoverflow questions)</p>\n\n<pre><code>class SocialFeed:\n    instagram_api = InstagramAPI(client_id=settings.SOCIAL_AUTH_INSTAGRAM_KEY, client_secret=settings.SOCIAL_AUTH_INSTAGRAM_SECRET)\n\n    (...)\n\n    @classmethod\n    def get_instagram_media(cls, user_id, count=6):\n        recent_media, next_ = cls.instagram_api.user_recent_media(user_id=user_id, count=count)\n        for media in recent_media:\n            print(media.caption.text)\n(...)\n</code></pre>\n\n<p>the user_id I'm testing with is \"instagram\"</p>\n\n<p>Also tried with token (which I got performing token flow on my browser):</p>\n\n<pre><code>instagram_api = InstagramAPI(access_token=settings.SOCIAL_INSTAGRAM_TOKEN)\n</code></pre>\n\n<p>What am I missing?</p>\n\n<p>Thanks! :)</p>\n"}, {"tags": ["python", "css", "django", "python-3.x", "static"], "comments": [{"owner": {"reputation": 507, "user_id": 1644831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/122f6dc4a44a748aa1e156b27a138b45?s=128&d=identicon&r=PG", "display_name": "Sandwich Heat", "link": "https://stackoverflow.com/users/1644831/sandwich-heat"}, "edited": false, "score": 1, "creation_date": 1437609408, "post_id": 31575924, "comment_id": 51106614, "body": "Did you attempt to run &#39;python manage.py collectstatic&#39;?"}], "answers": [{"tags": [], "owner": {"reputation": 1842, "user_id": 4592608, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/9hXR4.jpg?s=128&g=1", "display_name": "Zagorodniy Olexiy", "link": "https://stackoverflow.com/users/4592608/zagorodniy-olexiy"}, "is_accepted": false, "score": 0, "last_activity_date": 1437614719, "creation_date": 1437614719, "answer_id": 31576704, "question_id": 31575924, "link": "https://stackoverflow.com/questions/31575924/django-css-background-image-will-not-change/31576704#31576704", "title": "Django CSS background image will not change", "body": "<p>Click right button of mouse in Chrome browser and choose \"Inspect element\", you can see Error message in \"Console\" window, if it is 403 error than you have to change rights to 644 (<code>chmod 644 background.jpg</code>) or change owner of the file (<code>chown www-data:www-data background.jpg</code>). If it is 404 error than change the path of the file in css code.</p>\n"}], "owner": {"reputation": 61, "user_id": 5141709, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/786ce04d44dab0dd374f46573f01af96?s=128&d=identicon&r=PG&f=1", "display_name": "RyanYue", "link": "https://stackoverflow.com/users/5141709/ryanyue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 894, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437614719, "creation_date": 1437609040, "question_id": 31575924, "link": "https://stackoverflow.com/questions/31575924/django-css-background-image-will-not-change", "title": "Django CSS background image will not change", "body": "<p>I have downloaded an HTML template, and I am trying to change the background image inside the css file.</p>\n\n<p>The code in the css is:</p>\n\n<pre><code>background: url(../img/background.jpg)\n</code></pre>\n\n<p>However, when I change it to the image I want, the background on the website when I run the server remains the same. The image exists and is in the correct location. The filepath is correct as well.</p>\n\n<p>This is the code in my settings.py file:</p>\n\n<pre><code>STATIC_URL = '/static/'\nSTATICFILES_DIRS = (\n    os.path.join(BASE_DIR, \"products/static\"),\n)\n</code></pre>\n"}, {"tags": ["python", "django", "datetime"], "comments": [{"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1437616023, "post_id": 31575896, "comment_id": 51108149, "body": "MySQL.... That should not be an issue hahahahaha"}], "answers": [{"comments": [{"owner": {"reputation": 355, "user_id": 2868880, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/VayEK.jpg?s=128&g=1", "display_name": "tsantor", "link": "https://stackoverflow.com/users/2868880/tsantor"}, "edited": false, "score": 0, "creation_date": 1437661679, "post_id": 31582199, "comment_id": 51132352, "body": "Updated MySQL to 5.6.25, restarted MySQL, restarted Apache...same issue."}], "tags": [], "owner": {"reputation": 345, "user_id": 1823605, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/5gZMB.jpg?s=128&g=1", "display_name": "Mohl", "link": "https://stackoverflow.com/users/1823605/mohl"}, "is_accepted": false, "score": 0, "last_activity_date": 1437640587, "creation_date": 1437640587, "answer_id": 31582199, "question_id": 31575896, "link": "https://stackoverflow.com/questions/31575896/bizarre-django-model-behavior-with-created-updated-datetimefields/31582199#31582199", "title": "Bizarre Django model behavior with created/updated DateTimeFields", "body": "<p>There is a Datetime Bug that got fixed in 5.6.25 (see <a href=\"http://dev.mysql.com/doc/relnotes/mysql/5.6/en/news-5-6-25.html#mysqld-5-6-25-bug\" rel=\"nofollow\">http://dev.mysql.com/doc/relnotes/mysql/5.6/en/news-5-6-25.html#mysqld-5-6-25-bug</a>) - try updating your live system.</p>\n"}], "owner": {"reputation": 355, "user_id": 2868880, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/VayEK.jpg?s=128&g=1", "display_name": "tsantor", "link": "https://stackoverflow.com/users/2868880/tsantor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437640587, "creation_date": 1437608881, "question_id": 31575896, "link": "https://stackoverflow.com/questions/31575896/bizarre-django-model-behavior-with-created-updated-datetimefields", "title": "Bizarre Django model behavior with created/updated DateTimeFields", "body": "<p>On each of my models, I like to track created and modified times. I always add this to my model classes:</p>\n\n<pre><code>class SomeModel(models.Model):\n    ...\n    creation_date = models.DateTimeField(auto_now_add=True)\n    modified_date = models.DateTimeField(auto_now=True)\n</code></pre>\n\n<p>Cool. Simple right? Yup. Or you could always do this:</p>\n\n<pre><code>from django_extensions.db.models import TimeStampedModel\n\nclass SomeModel(TimeStampedModel):\n    ...\n</code></pre>\n\n<p>Now today, for the first time ever, I'm seeing strange behavior when simply running the project on my development server vs. my live server. </p>\n\n<p><strong>NOTE:</strong> It is worth noting that the below behavior occurs with my manual model creation_date/modified_date setup as well as if I use TimeStampedModel from django_extensions.</p>\n\n<p>On my <strong>development server</strong> it works as expected:</p>\n\n<p><strong>Add new model instance</strong></p>\n\n<ol>\n<li>Auto updates the creation_date</li>\n<li>Auto updates the modified_date</li>\n</ol>\n\n<p><strong>Update model instance</strong></p>\n\n<ol>\n<li>creation_date remains unmodified from its original (expected behavior)</li>\n<li>Auto updates the modified_date</li>\n</ol>\n\n<p>However, once pulled to my <strong>live server</strong> we get this behavior:</p>\n\n<p><strong>Add new model instance</strong></p>\n\n<ol>\n<li>Auto updates the creation_date</li>\n<li>Auto updates the modified_date</li>\n</ol>\n\n<p><strong>Update model instance</strong></p>\n\n<ol>\n<li>creation_date gets set to 0000-00-00 00:00:00.000000 (<strong>unexpected behavior</strong>)</li>\n<li>Auto updates the modified_date</li>\n</ol>\n\n<p>Development Server:</p>\n\n<ul>\n<li>Django 1.8</li>\n<li>Python 2.7.9</li>\n<li>MySQL Ver 14.14 Distrib 5.6.<strong>25</strong></li>\n</ul>\n\n<p>Live Server:</p>\n\n<ul>\n<li>Django 1.8</li>\n<li>Python 2.7.9</li>\n<li>MySQL Ver 14.14 Distrib 5.6.<strong>24</strong></li>\n</ul>\n\n<p>As you can see the only difference between them is a slight revision to MySQL.  That should not be an issue, but yet, here I am...getting this odd behavior.  Any ideas?</p>\n"}, {"tags": ["python", "matlab", "numpy", "scipy", "scikit-image"], "comments": [{"owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1437616099, "post_id": 31575847, "comment_id": 51108171, "body": "Use skimage.imread to read in the file, and then write the bytes out with standard Python functionality, or with numpy&#39;s save or with skimage.imsave."}, {"owner": {"reputation": 1143, "user_id": 4226095, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/77ce54a3a4af8d5cc82b529414f35480?s=128&d=identicon&r=PG&f=1", "display_name": "Borys", "link": "https://stackoverflow.com/users/4226095/borys"}, "reply_to_user": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1437623415, "post_id": 31575847, "comment_id": 51109868, "body": "@StefanvanderWalt So, <code>data = skimage.imread(&#39;infile.tif&#39;); skimage.imsave(&#39;outfile.bin&#39;, data)</code> is sufficient?"}, {"owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1437679703, "post_id": 31575847, "comment_id": 51144541, "body": "It depends on the output format you want.  Imsave will write to formats like JPG or TIFF.  Do you just want a dump of the bytes?"}, {"owner": {"reputation": 1143, "user_id": 4226095, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/77ce54a3a4af8d5cc82b529414f35480?s=128&d=identicon&r=PG&f=1", "display_name": "Borys", "link": "https://stackoverflow.com/users/4226095/borys"}, "reply_to_user": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1437686406, "post_id": 31575847, "comment_id": 51148207, "body": "@StefanvanderWalt Since the output is <code>.bin</code> I think yes just dumping of bytes."}, {"owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "edited": false, "score": 1, "creation_date": 1437702316, "post_id": 31575847, "comment_id": 51153126, "body": "b = io.imread(&#39;/tmp/image.png&#39;); with open(&#39;/tmp/file.bin&#39;, &#39;wb&#39;) as f:      f.write(b)"}], "owner": {"reputation": 1143, "user_id": 4226095, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/77ce54a3a4af8d5cc82b529414f35480?s=128&d=identicon&r=PG&f=1", "display_name": "Borys", "link": "https://stackoverflow.com/users/4226095/borys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1437705480, "creation_date": 1437608494, "last_edit_date": 1437705480, "question_id": 31575847, "link": "https://stackoverflow.com/questions/31575847/writing-a-binary-file", "title": "Writing a binary file", "body": "<p>The following code writes a binary file in matlab:</p>\n\n<pre><code>data = readtif('infile.tif')\nfid = fopen('outfile.bin', 'w');\nfwrite(fid, data, 'float');\nfclose(fid);\n</code></pre>\n\n<p>How can I do it using python? I have a tiff file (data type is float).</p>\n"}, {"tags": ["python", "sys.path"], "comments": [{"owner": {"reputation": 27181, "user_id": 292477, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ca3cdf733e5ad7ca41c58ba43d06dcd?s=128&d=identicon&r=PG", "display_name": "Krumelur", "link": "https://stackoverflow.com/users/292477/krumelur"}, "edited": false, "score": 0, "creation_date": 1437678193, "post_id": 31575771, "comment_id": 51143670, "body": "It would help to know more specifically what you are trying to solve. Why do you need a binary, relocatable build (as opposed to, say, a build script and letting the users compile it)?"}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 5136386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/849f19966cd14d9afae2d9bef7b6b02f?s=128&d=identicon&r=PG&f=1", "display_name": "ghoff", "link": "https://stackoverflow.com/users/5136386/ghoff"}, "edited": false, "score": 0, "creation_date": 1437677156, "post_id": 31575844, "comment_id": 51143083, "body": "Thanks for your comment.  Even just focusing on a single platform, there doesn&#39;t seem to be a  way to build a relocatable python without hacking the build process.   I have no control over where users will copy the directory containing the python installation. It seems like there should be a standard way to  build/install a relocatable python."}, {"owner": {"reputation": 151, "user_id": 5136386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/849f19966cd14d9afae2d9bef7b6b02f?s=128&d=identicon&r=PG&f=1", "display_name": "ghoff", "link": "https://stackoverflow.com/users/5136386/ghoff"}, "edited": false, "score": 0, "creation_date": 1437677443, "post_id": 31575844, "comment_id": 51143243, "body": "Also, I don&#39;t want to use a virtualenv, even with --relocatable, because I expect users to make their own virtualenvs from my installation, and I understand there are problems with creating virtualenvs from other virtualenvs.  Some related links I found that seem to try to address this need in one way or another:  [<a href=\"http://cd-docdb.fnal.gov/0051/005182/001/relocatable-python.pdf]\" rel=\"nofollow noreferrer\">cd-docdb.fnal.gov/0051/005182/001/relocatable-python.pdf]</a>  and [<a href=\"https://github.com/Infinidat/relocatable-python3]\" rel=\"nofollow noreferrer\">github.com/Infinidat/relocatable-python3]</a>."}, {"owner": {"reputation": 27181, "user_id": 292477, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ca3cdf733e5ad7ca41c58ba43d06dcd?s=128&d=identicon&r=PG", "display_name": "Krumelur", "link": "https://stackoverflow.com/users/292477/krumelur"}, "reply_to_user": {"reputation": 151, "user_id": 5136386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/849f19966cd14d9afae2d9bef7b6b02f?s=128&d=identicon&r=PG&f=1", "display_name": "ghoff", "link": "https://stackoverflow.com/users/5136386/ghoff"}, "edited": false, "score": 0, "creation_date": 1437679329, "post_id": 31575844, "comment_id": 51144323, "body": "<a href=\"https://github.com/edwardgeorge/virtualenv-clone\" rel=\"nofollow noreferrer\">virtualenv-clone</a> can help you with letting the user create virtualenvs."}], "tags": [], "owner": {"reputation": 27181, "user_id": 292477, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ca3cdf733e5ad7ca41c58ba43d06dcd?s=128&d=identicon&r=PG", "display_name": "Krumelur", "link": "https://stackoverflow.com/users/292477/krumelur"}, "is_accepted": false, "score": 1, "last_activity_date": 1437679457, "last_edit_date": 1437679457, "creation_date": 1437608473, "answer_id": 31575844, "question_id": 31575771, "link": "https://stackoverflow.com/questions/31575771/installing-python-into-a-portable-self-contained-directory-on-the-network/31575844#31575844", "title": "Installing python into a portable, self-contained directory on the network", "body": "<p>You will probably not be able to do portable (as in: works across different OS versions, archs), but <code>virtualenv</code> can help you create self-contained installations.</p>\n\n<p>Virtualenv has a <code>--relocatable</code> option that solves the case if the mountpoints differ, but it has issues according to the documentation, and I never used it. However, virtualenv is sort of a hack that forces Python to do something it was not designed to do (being moved to a self-contained directory) and you always end up shooting yourself in the foot with it.</p>\n\n<p>What I would have preferred is to just do a <code>pip freeze &gt; requirements.txt</code> to easily install all the dependencies. That, and/or <a href=\"https://www.docker.io\" rel=\"nofollow\">Docker</a>. If you need to patch Python itself or have a custom build configuration, I have preferred to just let the users do <code>./configure &amp;&amp; make &amp;&amp; make install</code> themselves.</p>\n"}], "owner": {"reputation": 151, "user_id": 5136386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/849f19966cd14d9afae2d9bef7b6b02f?s=128&d=identicon&r=PG&f=1", "display_name": "ghoff", "link": "https://stackoverflow.com/users/5136386/ghoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1857, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437679457, "creation_date": 1437607973, "last_edit_date": 1437608422, "question_id": 31575771, "link": "https://stackoverflow.com/questions/31575771/installing-python-into-a-portable-self-contained-directory-on-the-network", "title": "Installing python into a portable, self-contained directory on the network", "body": "<p>I need to install python 2.7 and 3.4 for linux/unix (built from source) into a directory on the network other than the location from which it will ultimately be used. </p>\n\n<p>I.e. the directory containing the installation must be portable and self-contained. </p>\n\n<p>Thus, it seems like things such as the \"installation-dependent default\" sys.path should be defined relative to the current location of the python installation.</p>\n\n<p>However, --prefix and --exec_prefix require absolute paths.</p>\n\n<p>For example: \nI might create the installation in \"/stage/tools/python\", then copy the \"python\" directory to \"/tools/knights/ni\". If I then invoke \"/tools/knights/ni/$platform/bin/python\", python should find everything it needs from its installation under \"/tools/knights/ni/\"</p>\n\n<p>How can I do a portable, self-contained install?</p>\n\n<p>Thanks much for any guidance.</p>\n"}, {"tags": ["python", "datetime", "time"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437607855, "post_id": 31575703, "comment_id": 51106215, "body": "Should you not be writing data?"}, {"owner": {"reputation": 954, "user_id": 4181692, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EhyWX.png?s=128&g=1", "display_name": "Renae Lider", "link": "https://stackoverflow.com/users/4181692/renae-lider"}, "edited": false, "score": 0, "creation_date": 1437607884, "post_id": 31575703, "comment_id": 51106225, "body": "There are many corrections that needs to be made here. For a better solution, I would recommend you post this on <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 954, "user_id": 4181692, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EhyWX.png?s=128&g=1", "display_name": "Renae Lider", "link": "https://stackoverflow.com/users/4181692/renae-lider"}, "edited": false, "score": 0, "creation_date": 1437607993, "post_id": 31575703, "comment_id": 51106253, "body": "If you&#39;d like to move it over to codereview, flag this question and ask a moderator to do it for you."}], "answers": [{"tags": [], "owner": {"reputation": 7933, "user_id": 222421, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Zrns4.png?s=128&g=1", "display_name": "jramirez", "link": "https://stackoverflow.com/users/222421/jramirez"}, "is_accepted": false, "score": 0, "last_activity_date": 1437607853, "creation_date": 1437607853, "answer_id": 31575750, "question_id": 31575703, "link": "https://stackoverflow.com/questions/31575703/writing-file-with-output-of-variable-and-timestamp/31575750#31575750", "title": "writing file with output of variable and timestamp", "body": "<p>I think this is your problem:</p>\n\n<p><code>file.write(time + '\\n')</code></p>\n\n<p>The <code>time</code> variable is not a string. What you want is this: </p>\n\n<p><code>file.write(data+ '\\n')</code></p>\n"}, {"tags": [], "owner": {"reputation": 955, "user_id": 1327710, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bd13dffa2769c3e5f7ff9fd3f843152?s=128&d=identicon&r=PG", "display_name": "Ned Rockson", "link": "https://stackoverflow.com/users/1327710/ned-rockson"}, "is_accepted": false, "score": 0, "last_activity_date": 1437607937, "creation_date": 1437607937, "answer_id": 31575765, "question_id": 31575703, "link": "https://stackoverflow.com/questions/31575703/writing-file-with-output-of-variable-and-timestamp/31575765#31575765", "title": "writing file with output of variable and timestamp", "body": "<p>Datetime is an object and it doesn't automatically format itself. You need to use strftime [1] in order to make it look the way you'd like. Based on your filenames, you could set it up via the Year-month-day by doing:</p>\n\n<pre><code>timeString = time.strftime('%Y-%d-%m')\n</code></pre>\n\n<p>If instead you wanted the number of seconds since epoch you could do</p>\n\n<pre><code>timeString = time.strftime('%s')\n</code></pre>\n\n<p>Then you should print timeString instead of time when you're writing to file:</p>\n\n<pre><code>file.write(timeString + '\\n')\n</code></pre>\n\n<p>[1] - <a href=\"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior\" rel=\"nofollow\">https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior</a></p>\n"}, {"tags": [], "owner": {"reputation": 507, "user_id": 1644831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/122f6dc4a44a748aa1e156b27a138b45?s=128&d=identicon&r=PG", "display_name": "Sandwich Heat", "link": "https://stackoverflow.com/users/1644831/sandwich-heat"}, "is_accepted": false, "score": 2, "last_activity_date": 1437608308, "last_edit_date": 1495541687, "creation_date": 1437608308, "answer_id": 31575818, "question_id": 31575703, "link": "https://stackoverflow.com/questions/31575703/writing-file-with-output-of-variable-and-timestamp/31575818#31575818", "title": "writing file with output of variable and timestamp", "body": "<p><code>datetime.datetime.now</code> only references the method, but does not call it. It should be <code>str(datetime.datetime.now())</code> or:</p>\n\n<pre><code>time = datetime.datetime.now()\ntime.strftime('%m/%d/%Y') #formats the date as a string\n</code></pre>\n\n<p>More information on formatting <a href=\"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Referencing a previous question <a href=\"https://stackoverflow.com/questions/10624937/convert-datetime-object-to-a-string-of-date-only-in-python\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5145760, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2323430caa9d216236fe10bdc00effe?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica C", "link": "https://stackoverflow.com/users/5145760/jessica-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1437609209, "creation_date": 1437609209, "answer_id": 31575944, "question_id": 31575703, "link": "https://stackoverflow.com/questions/31575703/writing-file-with-output-of-variable-and-timestamp/31575944#31575944", "title": "writing file with output of variable and timestamp", "body": "<pre><code>MyColor = random.choice(['red','blue','green','pink','purple','orange','yellow','black','white'])\ntime = str(datetime.datetime.now())\ndata = MyColor + \"     \" + time\nmsg = visual.TextStim(win, text=Phrase,pos=[0,4],color=MyColor)\nmsg.draw()\nwin.flip()\ncore.wait(.1)\nfile.write(data + '\\n')\n</code></pre>\n\n<p>Thanks!appreciate the help, I think i figured it out.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5104666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1de29ffd36bf4fbdb2a27ae780f284?s=128&d=identicon&r=PG&f=1", "display_name": "jweiner", "link": "https://stackoverflow.com/users/5104666/jweiner"}, "is_accepted": false, "score": 0, "last_activity_date": 1437611960, "creation_date": 1437611960, "answer_id": 31576333, "question_id": 31575703, "link": "https://stackoverflow.com/questions/31575703/writing-file-with-output-of-variable-and-timestamp/31576333#31576333", "title": "writing file with output of variable and timestamp", "body": "<p>To concatenate them you have to do str() of the datetime object. Also:</p>\n\n<pre><code>f = open('2015-07-15-Random-Output.txt', 'w')\nprint f\n\nfile = open ('2015-07-15-Random-Output.txt', 'w')\n</code></pre>\n\n<p>It's kind of redundant and simpler if you just delete the file = open line and instead do this:</p>\n\n<pre><code>from psychopy import visual, core\nimport random\nimport time\nimport datetime\nimport time \nfrom time import strftime\n\n\nwith open('2015-07-15-Random-Output.txt', 'w') as f:\n  print f\n  win = visual.Window([800,800],monitor=\"testmonitor\", units=\"deg\")\n  HolaMundo = \"Hola Mundo\"\n\n  for frameN in range(10):\n    MyColor =   random.choice(['red','blue','green','pink','purple','orange','yellow','black','white'])\n    time = datetime.datetime.now()\n    print time\n    data = MyColor + str(time)\n    msg = visual.TextStim(win, text=HolaMundo,pos=[-4,0],color=MyColor)\n    msg.draw()\n    win.flip()\n    core.wait(.1)\n    datetime.datetime.now\n    f.write(time + '\\n')\n\nf.close()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5145760, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a2323430caa9d216236fe10bdc00effe?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica C", "link": "https://stackoverflow.com/users/5145760/jessica-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2146, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1437611960, "creation_date": 1437607550, "last_edit_date": 1437607787, "question_id": 31575703, "link": "https://stackoverflow.com/questions/31575703/writing-file-with-output-of-variable-and-timestamp", "title": "writing file with output of variable and timestamp", "body": "<p>I am trying to create a simple output file containing a timestamp (of when the stimulus appears) and the colour of the stimuli.</p>\n\n<p>I am able to write a file with just the colours, however whenever I try to create a file with both the timestamp and the colour I get an error.\n\"TypeError: cannot concatenate 'str' and 'datetime.datetime' objects\"</p>\n\n<p>Code below:</p>\n\n<pre><code>from psychopy import visual, core\nimport random\nimport time\nimport datetime\nimport time \nfrom time import strftime\n\n\nf = open('2015-07-15-Random-Output.txt', 'w')\nprint f\n\nfile = open ('2015-07-15-Random-Output.txt', 'w')\n\n\nwin = visual.Window([800,800],monitor=\"testmonitor\", units=\"deg\")\n\nHolaMundo = \"Hola Mundo\"\n\nfor frameN in range(10):\n    MyColor = random.choice(['red','blue','green','pink','purple','orange','yellow','black','white'])\n    time = datetime.datetime.now()\n    print time\n    data = MyColor + str(time)\n    msg = visual.TextStim(win, text=HolaMundo,pos=[-4,0],color=MyColor)\n    msg.draw()\n    win.flip()\n    core.wait(.1)\n    datetime.datetime.now\n    file.write(time + '\\n')\n\n\nfile.close()\n</code></pre>\n"}, {"tags": ["python", "html"], "comments": [{"owner": {"reputation": 376, "user_id": 1468798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae282b36a465ca18159c29e902870e2e?s=128&d=identicon&r=PG", "display_name": "poros", "link": "https://stackoverflow.com/users/1468798/poros"}, "edited": false, "score": 1, "creation_date": 1437608418, "post_id": 31575682, "comment_id": 51106362, "body": "Have you looked at <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">crummy.com/software/BeautifulSoup/bs4/doc</a> already?"}, {"owner": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "reply_to_user": {"reputation": 376, "user_id": 1468798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae282b36a465ca18159c29e902870e2e?s=128&d=identicon&r=PG", "display_name": "poros", "link": "https://stackoverflow.com/users/1468798/poros"}, "edited": false, "score": 0, "creation_date": 1437609266, "post_id": 31575682, "comment_id": 51106579, "body": "I took a short look but actually did not find fitting functions for my case - you have a hint?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "edited": false, "score": 0, "creation_date": 1437745166, "post_id": 31576181, "comment_id": 51173646, "body": "Thanks russOnXMaps, the code works - but I need to define, which string to search for and I need to do it for the entire sourcecode of a website which can contain multiple links of course. With your code and redefining myString with <code>&#39;AnyKindOfString &lt;a href=&quot;http:&#47;&#47;www.link-to-get.com&quot;&gt;SearchString&lt;&#47;a&gt;AndEvenMor&zwnj;&#8203;eString and &lt;a href=&quot;http:&#47;&#47;www.beispielseite.com&quot;&gt;SearchString2&lt;&#47;a&gt; other Stuff&#39;</code> this leads to an infinite loop.... O.o"}, {"owner": {"reputation": 119, "user_id": 4843078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5u0tO.png?s=128&g=1", "display_name": "russOnXMaps", "link": "https://stackoverflow.com/users/4843078/russonxmaps"}, "reply_to_user": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "edited": false, "score": 0, "creation_date": 1437755694, "post_id": 31576181, "comment_id": 51180641, "body": "Yup,   Change      tempStr = tempStr[endLoc:] to     tempStr = tempStr[endLoc+1:]"}], "tags": [], "owner": {"reputation": 119, "user_id": 4843078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5u0tO.png?s=128&g=1", "display_name": "russOnXMaps", "link": "https://stackoverflow.com/users/4843078/russonxmaps"}, "is_accepted": false, "score": 0, "last_activity_date": 1437755726, "last_edit_date": 1437755726, "creation_date": 1437611012, "answer_id": 31576181, "question_id": 31575682, "link": "https://stackoverflow.com/questions/31575682/python-find-specific-link-within-html-a-tag/31576181#31576181", "title": "Python: Find specific link within HTML &lt;a&gt; tag", "body": "<p>I've roughed up some code that should work, at least it works on the example string you gave.</p>\n\n<pre><code>myString = 'AnyKindOfString &lt;a href=\"http://www.link-to-get.com\"&gt;SearchString&lt;/a&gt; AndEvenMoreString'\n\ntheLimit = len(myString)\nsearchStringLinkPairs = []\ntempStr = myString[:]\ni =0\n\n\nwhile i &lt; theLimit:\n    startLoc = tempStr.find('&lt;a')\n    endLoc = tempStr.find(\"&lt;/a\")\n    print startLoc,\"\\t\",endLoc\n    subStr = tempStr[startLoc:endLoc]\n    startLink = subStr.find(\"\\\"\")\n    subTwo = subStr[startLink+1:]\n    endLink = subTwo.find(\"\\\"\")\n    myLink = subStr[startLink+1:startLink+1+endLink]\n\n    searchStringStart = subStr.find(\"&gt;\")\n    searchString = subStr[searchStringStart+1:endLoc]\n\n    if myLink != \"\" and searchString != \"\":\n        searchStringLinkPairs.append([myLink, searchString])\n    tempStr = tempStr[endLoc+1:]\n    i = endLoc\n    if startLoc == -1 or endLoc == -1:\n        i = 10 * theLimit\n\nprint searchStringLinkPairs\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "edited": false, "score": 0, "creation_date": 1437744711, "post_id": 31576462, "comment_id": 51173295, "body": "Hey Michael, thank you very much first. I think I&#39;ve a problem with BeautifulSoup: I downloaded it and put it in my lib folder as &quot;BeautifulSoup&quot; - anyway, the &quot;import BeautifulSoup&quot; statement doesn&#39;t work: &quot;Unsolved reference&quot;, PyCharm says. U got an idea?"}, {"owner": {"reputation": 209, "user_id": 4313503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/116b97fda3c9fb880c96ae2e5caa9f41?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Moura", "link": "https://stackoverflow.com/users/4313503/michael-moura"}, "reply_to_user": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "edited": false, "score": 0, "creation_date": 1437747726, "post_id": 31576462, "comment_id": 51175538, "body": "it sounds like it may not be properly installed. have you tried installing it through pycharms package interpreter manager? are you using a virtualenv?"}, {"owner": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "edited": false, "score": 0, "creation_date": 1437750848, "post_id": 31576462, "comment_id": 51177725, "body": "Successfully installed now via cmd :)"}, {"owner": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "edited": false, "score": 0, "creation_date": 1437750914, "post_id": 31576462, "comment_id": 51177782, "body": "For line <code>anchors = [[row[&#39;href&#39;], row.text] for row in soup.findAll(&#39;a&#39;) if row[&#39;href&#39;].find(search_String) &lt;&gt; -1 or search_String in row.text]</code>, PyCharm simply says &quot;invalid synthax&quot; and <code>row[&#39;href&#39;].find(search_String) &lt;&gt; -1</code> is underlined. You have an idea?"}, {"owner": {"reputation": 209, "user_id": 4313503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/116b97fda3c9fb880c96ae2e5caa9f41?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Moura", "link": "https://stackoverflow.com/users/4313503/michael-moura"}, "reply_to_user": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "edited": false, "score": 0, "creation_date": 1437917106, "post_id": 31576462, "comment_id": 51221369, "body": "can you post the full error message as i can run it in my pycharm with only a warning saying that the line exceeds 125 characters"}, {"owner": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "edited": false, "score": 0, "creation_date": 1438078534, "post_id": 31576462, "comment_id": 51289122, "body": "<code>C:\\Python34\\python.exe &quot;C:&#47;Users&#47;Atilla&#47;Google Drive&#47;Internetrecherchen&#47;Python Projects&#47;SnippetTest_SearchStringLinkPairs&#47;LinkFinder.py&quot;   File &quot;C:&#47;Users&#47;Atilla&#47;Google Drive&#47;Internetrecherchen&#47;Python Projects&#47;SnippetTest_SearchStringLinkPairs&#47;LinkFinder.py&quot;, line 11     anchors = [[row[&#39;href&#39;], row.text] for row in soup.findAll(&#39;a&#39;) if row[&#39;href&#39;].find(search_string) &lt;&gt; -1 or search_string in row.text]                                                                                                         ^ SyntaxError: invalid syntax  Process finished with exit code 1</code>"}], "tags": [], "owner": {"reputation": 209, "user_id": 4313503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/116b97fda3c9fb880c96ae2e5caa9f41?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Moura", "link": "https://stackoverflow.com/users/4313503/michael-moura"}, "is_accepted": false, "score": 1, "last_activity_date": 1438129583, "last_edit_date": 1438129583, "creation_date": 1437612914, "answer_id": 31576462, "question_id": 31575682, "link": "https://stackoverflow.com/questions/31575682/python-find-specific-link-within-html-a-tag/31576462#31576462", "title": "Python: Find specific link within HTML &lt;a&gt; tag", "body": "<p>using BeautifulSoup 3.2.1 with python 2.7</p>\n\n<pre><code>from BeautifulSoup import BeautifulSoup\n\nsearch_string = 'SearchString'\n\nwebsite_source = '&lt;a href=\"http://www.link-to-get.com\"&gt;SearchString&lt;/a&gt; &lt;a href=\"http://www.link-to-get.com\"&gt;OtherString&lt;/a&gt;\\\n                  &lt;a href=\"http://www.link-to-getSearchString.com\"&gt;otherString&lt;/a&gt;'\n\nsoup = BeautifulSoup(website_source)\n\n# this will return a list of lists that has the url's and the name for the link\nanchors = [[row['href'], row.text] for row in soup.findAll('a') if row['href'].find(search_string) &lt;&gt; -1 or search_string in row.text]\n\n# prints whole list\nprint anchors\n\n#prints first list\nprint anchors[0]\n\n# prints the url for the first list\nprint anchors[0][0]\n</code></pre>\n\n<p>The issue seems to be that I tested the above with BeautifulSoup 3.2.1 which only works in python 2.x and you are using python 3.4 hence the error.<br>\nIf you install BeautifulSoup4 and try the below code it should work. also to note that BeautifulSoup4 which works in both 2.x and 3.x.</p>\n\n<p>Please note that the below has not been tested.</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nsearch_string = 'SearchString'\n\nwebsite_source = '&lt;a href=\"http://www.link-to-get.com\"&gt;SearchString&lt;/a&gt; &lt;a href=\"http://www.link-to-get.com\"&gt;OtherString&lt;/a&gt;\\\n                  &lt;a href=\"http://www.link-to-getSearchString.com\"&gt;otherString&lt;/a&gt;'\n\nsoup = BeautifulSoup(website_source)\n\n# this will return a list of lists that has the url's and the name for the link\nanchors = [[row['href'], row.text] for row in soup.findAll('a') if row['href'].find(search_string) != -1 or search_string in row.text]\n\n# prints whole list\nprint(anchors)\n\n# prints first list\nprint(anchors[0])\n\n# prints the url for the first list\nprint(anchors[0][0])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 487, "user_id": 2533037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/323e29406ee979325782cb3d563a9280?s=128&d=identicon&r=PG", "display_name": "Shaikhul", "link": "https://stackoverflow.com/users/2533037/shaikhul"}, "is_accepted": false, "score": 0, "last_activity_date": 1437758580, "creation_date": 1437758580, "answer_id": 31616340, "question_id": 31575682, "link": "https://stackoverflow.com/questions/31575682/python-find-specific-link-within-html-a-tag/31616340#31616340", "title": "Python: Find specific link within HTML &lt;a&gt; tag", "body": "<p>Can be done with the help of <code>pyquery</code>(<a href=\"http://pythonhosted.org/pyquery/index.html\" rel=\"nofollow\">http://pythonhosted.org/pyquery/index.html</a>) + <code>lxml</code>(<a href=\"http://lxml.de/tutorial.html\" rel=\"nofollow\">http://lxml.de/tutorial.html</a>) as follows</p>\n\n<pre><code>from pyquery import PyQuery as pq\nfrom lxml import etree\n\npq_obj = pq(etree.fromstring('&lt;body&gt;&lt;p&gt;AnyKindOfString &lt;a href=\"http://www.link-to-get.com\"&gt;SearchString&lt;/a&gt; AndEvenMoreString&lt;/p&gt;&lt;p&gt;this is another string goes here&lt;/p&gt;&lt;a&gt; other&lt;/a&gt;&lt;/body&gt;'))\nsearch_string = 'SearchString'\n\nlinks = pq_obj('a')\nfor link in links:\n    if search_string in link.text:\n        attrib = link.attrib\n        print attrib.get('href')\n\n# output\n# http://www.link-to-get.com\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4121807, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/5d65726349e746604335532f01b76b07?s=128&d=identicon&r=PG&f=1", "display_name": "Atilla W.", "link": "https://stackoverflow.com/users/4121807/atilla-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1438129583, "creation_date": 1437607405, "last_edit_date": 1437607890, "question_id": 31575682, "link": "https://stackoverflow.com/questions/31575682/python-find-specific-link-within-html-a-tag", "title": "Python: Find specific link within HTML &lt;a&gt; tag", "body": "<p>In Python I have a string containing the sourcecode of a website. Within this sourcecode I want to get the link within an tag, if the tag contains a specific substring.</p>\n\n<p>The input e.g. looks like this:</p>\n\n<pre><code>AnyKindOfString &lt;a href=\"http://www.link-to-get.com\"&gt;SearchString&lt;/a&gt; AndEvenMoreString\n</code></pre>\n\n<p>So what I want to tell Python is to search for <code>SearchString</code> in the all  tags within string and give me the first found <code>http://www.link-to-get.com</code> back.</p>\n\n<p>This should only work, if <code>SearchString</code> is within the  tag - and it should also work, if \"SearchString\" is part (substring) of <code>http://www.link-to-get.com</code>.</p>\n\n<p>I'm searching for an answer like more than 30 minutes know and the only thing I found for Python was simply to extract every (or only external or only internal) links from a string.</p>\n\n<p>Anyone having an idea?</p>\n\n<p>Thx in advance!</p>\n"}, {"tags": ["python", "arrays", "numpy", "dictionary"], "comments": [{"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1437607602, "post_id": 31575675, "comment_id": 51106147, "body": "Flatten it and <code>zip</code> it with <code>numpy.arange()</code>, pass the zipped structure to <code>dict()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": true, "score": 17, "last_activity_date": 1437607685, "creation_date": 1437607685, "answer_id": 31575721, "question_id": 31575675, "link": "https://stackoverflow.com/questions/31575675/how-to-convert-numpy-array-to-python-dictionary-with-sequential-keys/31575721#31575721", "title": "How to convert Numpy Array to Python Dictionary with Sequential Keys?", "body": "<p>Use <code>flatten</code> and then create the dictionary with the help of <code>enumerate</code> starting from 1:</p>\n\n<pre><code>myarray = np.array([[0,400,405,411,415,417,418,0],\n                   [0,404,412,419,423,422,422,0],\n                   [0,409,416,421,424,425,425,0],\n                   [0,411,414,417,420,423,426,0],\n                   [0,409,410,410,413,419,424,0],\n                   [0,405,404,404,409,414,419,0]])\n\nd = dict(enumerate(myarray.flatten(), 1))\n</code></pre>\n\n<p>Output of <code>d</code>:</p>\n\n<pre><code>{1: 0,\n 2: 400,\n 3: 405,\n 4: 411,\n 5: 415,\n 6: 417,\n 7: 418,\n 8: 0,\n 9: 0,\n 10: 404,\n ...\n</code></pre>\n"}], "owner": {"reputation": 499, "user_id": 3758685, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8c625e71f72e1e12c504ff0499241127?s=128&d=identicon&r=PG&f=1", "display_name": "Faizalprbw", "link": "https://stackoverflow.com/users/3758685/faizalprbw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12181, "favorite_count": 1, "accepted_answer_id": 31575721, "answer_count": 1, "score": 8, "last_activity_date": 1437607685, "creation_date": 1437607347, "question_id": 31575675, "link": "https://stackoverflow.com/questions/31575675/how-to-convert-numpy-array-to-python-dictionary-with-sequential-keys", "title": "How to convert Numpy Array to Python Dictionary with Sequential Keys?", "body": "<p>I have a matrix in the form of a numpy array like this :</p>\n\n<pre><code>myarray = np.array[[0,400,405,411,415,417,418,0]\n                   [0,404,412,419,423,422,422,0]\n                   [0,409,416,421,424,425,425,0]\n                   [0,411,414,417,420,423,426,0]\n                   [0,409,410,410,413,419,424,0]\n                   [0,405,404,404,409,414,419,0]]\n</code></pre>\n\n<p>and also empty dictionary :</p>\n\n<pre><code>dict = { }\n</code></pre>\n\n<p>In my case, i want to convert that array to python dictionary where the keys of dictionary are sequential number calculated from up-left value (<code>myarray[0][0]</code>) until bottom-right value (<code>myarray[5][7]</code>) interleaved by row.\nSo the result will be like this :</p>\n\n<pre><code>dict = { 1 : 0, 2 : 400, 3: 405, ........, 47 : 419 ,48 : 0 } \n</code></pre>\n\n<p>is there any solution for this condition?\nwish for your help.. Any help would be very appreciated..</p>\n"}, {"tags": ["python", "python-2.7", "pycharm"], "comments": [{"owner": {"reputation": 56659, "user_id": 450128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2f72b3fdc99fe9fd1bbeb2f9da1d2c0a?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/450128/ben"}, "edited": false, "score": 6, "creation_date": 1483673242, "post_id": 31575659, "comment_id": 70202794, "body": "You don&#39;t actually have a <code>__main__</code> <b>function</b>, just some module-scope code that&#39;s only executed if <code>__name__ == &quot;__main__&quot;</code>. Hence there&#39;s no local scope for the &quot;main part&quot;; the for loop takes place (and binds <code>x</code>) at module scope."}, {"owner": {"reputation": 2367, "user_id": 3742823, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qSDYy.jpg?s=128&g=1", "display_name": "The Wanderer", "link": "https://stackoverflow.com/users/3742823/the-wanderer"}, "reply_to_user": {"reputation": 56659, "user_id": 450128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2f72b3fdc99fe9fd1bbeb2f9da1d2c0a?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/450128/ben"}, "edited": false, "score": 0, "creation_date": 1483743183, "post_id": 31575659, "comment_id": 70237313, "body": "Thanks Ben for the explanation."}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1437607967, "last_edit_date": 1437607967, "creation_date": 1437607556, "answer_id": 31575705, "question_id": 31575659, "link": "https://stackoverflow.com/questions/31575659/shadows-name-xyz-from-outer-scope/31575705#31575705", "title": "Shadows name xyz from outer scope", "body": "<p>It is just a <em>warning</em>, as explained in the linked question there are times when it can cause issues but in you case  <code>x</code> is local to your function. You are getting the warning because of the <code>x</code> inside your <code>if __name__ == \"__main__\":</code> being in globals. It won't have any effect on the <code>x</code> in your function so I would not worry about the warning. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4805123"}, "edited": false, "score": 0, "creation_date": 1482710830, "post_id": 31575708, "comment_id": 69854446, "body": "I tried accesing x inside the sample_func (before its for x in range statement) and received &#39;UnboundLocalError: local variable &#39;x&#39; referenced before assignment&quot;.    `    def sample_func():         print(x)         for x in range(1, 5):             print(x)       if <b>name</b> == &quot;<b>main</b>&quot;:         for x in range(1, 5):             sample_func() `"}, {"owner": {"reputation": 955, "user_id": 1327710, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bd13dffa2769c3e5f7ff9fd3f843152?s=128&d=identicon&r=PG", "display_name": "Ned Rockson", "link": "https://stackoverflow.com/users/1327710/ned-rockson"}, "edited": false, "score": 0, "creation_date": 1483471727, "post_id": 31575708, "comment_id": 70108343, "body": "@SurestTexas That&#39;s correct functionality. In most languages (python being one of them) an exception will be thrown if your runtime reads from an uninitialized / undefined variable."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4805123"}, "edited": false, "score": 0, "creation_date": 1483564449, "post_id": 31575708, "comment_id": 70152373, "body": "@NedRockson what I was saying is that I tried reading the <code>x</code> (as you suggested), and I was not able to read from it (per your &#39;try it out&#39;).  I tried it  and you CAN NOT read the outer scope&#39;s <code>x</code>."}, {"owner": {"reputation": 955, "user_id": 1327710, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bd13dffa2769c3e5f7ff9fd3f843152?s=128&d=identicon&r=PG", "display_name": "Ned Rockson", "link": "https://stackoverflow.com/users/1327710/ned-rockson"}, "edited": false, "score": 0, "creation_date": 1483598015, "post_id": 31575708, "comment_id": 70162688, "body": "@SurestTexas I guess my answer wasn&#39;t clear but I was pointing out in the original question&#39;s code that <code>x</code> was available within the <code>sample_func</code> prior to it being declared in the function. Apologies for lack of clarity!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4805123"}, "edited": false, "score": 0, "creation_date": 1483637260, "post_id": 31575708, "comment_id": 70187888, "body": "Are you saying that the OP&#39;s code above has been modded and is not what you originally responded to?  ..Because what is currently showing in the OP&#39;s code above is what I was using for my test.  I just added a <code>print(x)</code> statement between lines one and two of the OP code above.  That attempt yielded the error I described.  I.e., I attempted to access the outer scope <code>x</code> from within sample_func&#39;s code before sample_func defines it in its for loop...?"}, {"owner": {"reputation": 955, "user_id": 1327710, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bd13dffa2769c3e5f7ff9fd3f843152?s=128&d=identicon&r=PG", "display_name": "Ned Rockson", "link": "https://stackoverflow.com/users/1327710/ned-rockson"}, "edited": false, "score": 0, "creation_date": 1483672440, "post_id": 31575708, "comment_id": 70202619, "body": "You&#39;re right! It looks like the interpreter is being smart about x being used in that for loop and automatically shadowing. Thus, if you see the code here: <a href=\"https://gist.github.com/nedrocks/fe42a4c3b5d05f1cb61e18c4dabe1e7a\" rel=\"nofollow noreferrer\">gist.github.com/nedrocks/fe42a4c3b5d05f1cb61e18c4dabe1e7a</a> it works, however when doing the above (where it failed for you) it throws an error. Nice catch!"}, {"owner": {"reputation": 56659, "user_id": 450128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2f72b3fdc99fe9fd1bbeb2f9da1d2c0a?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/450128/ben"}, "edited": false, "score": 1, "creation_date": 1483673036, "post_id": 31575708, "comment_id": 70202733, "body": "Because the name <code>x</code> is written in <code>sample_func</code>, it&#39;s a local variable over the whole scope of that function; the module global <code>x</code> is inaccessible, even before the local <code>x</code> actually has a value. If <code>x</code> is only ever read in the function, it&#39;ll read the global <code>x</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4805123"}, "edited": false, "score": 0, "creation_date": 1483673504, "post_id": 31575708, "comment_id": 70202848, "body": "...understanding ..deepened.  Thanks!"}], "tags": [], "owner": {"reputation": 955, "user_id": 1327710, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bd13dffa2769c3e5f7ff9fd3f843152?s=128&d=identicon&r=PG", "display_name": "Ned Rockson", "link": "https://stackoverflow.com/users/1327710/ned-rockson"}, "is_accepted": false, "score": 14, "last_activity_date": 1483672512, "last_edit_date": 1483672512, "creation_date": 1437607585, "answer_id": 31575708, "question_id": 31575659, "link": "https://stackoverflow.com/questions/31575659/shadows-name-xyz-from-outer-scope/31575708#31575708", "title": "Shadows name xyz from outer scope", "body": "<p>The code inside of your if branch of your main function is actually in scope when you're inside of sample_func. You can read from the variable <code>x</code> (try it out). This is okay as you don't really care about it so you have a few options to move forward.</p>\n\n<p>1) Disable shadowing warnings in pycharm. Honestly this is the most straightforward and depending on how experienced of a coder you are it probably makes the most sense (if you're relatively new I would not do this though.)</p>\n\n<p>2) Put your main code into a main function. This is probably the best solution for any production level code. Python is very good at doing things the way you want to do them so you should be careful not to fall into traps. If you are building a module, having lots of logic at the module level can get you into sticky situations. Instead, something like the following could be helpful:</p>\n\n<pre><code>def main():\n    # Note, as of python 2.7 the interpreter became smart enough\n    # to realize that x is defined in a loop, so printing x on this\n    # line (prior to the for loop executing) will throw an exception!\n    # However, if you print x by itself without the for loop it will\n    # expose that it's still in scope. See https://gist.github.com/nedrocks/fe42a4c3b5d05f1cb61e18c4dabe1e7a\n    for x in range(1, 5):\n        sample_func()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>3) Don't use the same variable names that you're using in broader scopes. This is pretty hard to enforce and is kinda the opposite of #1.</p>\n"}, {"comments": [{"owner": {"reputation": 2367, "user_id": 3742823, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qSDYy.jpg?s=128&g=1", "display_name": "The Wanderer", "link": "https://stackoverflow.com/users/3742823/the-wanderer"}, "edited": false, "score": 0, "creation_date": 1437608023, "post_id": 31575753, "comment_id": 51106261, "body": "This is a very good example. However, irrespective of how much you try you will always have some variable names that would be common. What do you suggest is a better way to scope out variable names? As Ned suggested, does using another function named <code>main()</code> scopes out the variables ?"}, {"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "reply_to_user": {"reputation": 2367, "user_id": 3742823, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qSDYy.jpg?s=128&g=1", "display_name": "The Wanderer", "link": "https://stackoverflow.com/users/3742823/the-wanderer"}, "edited": false, "score": 1, "creation_date": 1437608192, "post_id": 31575753, "comment_id": 51106310, "body": "@TheWanderer yes by defining a <code>main</code> function, he has changed the scope of the original definition so that they no longer conflict."}, {"owner": {"reputation": 2367, "user_id": 3742823, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qSDYy.jpg?s=128&g=1", "display_name": "The Wanderer", "link": "https://stackoverflow.com/users/3742823/the-wanderer"}, "edited": false, "score": 0, "creation_date": 1437608473, "post_id": 31575753, "comment_id": 51106376, "body": "Thanks mehtunguh this is very useful. Just one last quick question? My script takes a few arguments as input. Should I parse them inside <code>__main__</code> and then send as arguments to <code>main()</code> ? I know it is a very stupid question but still asking just to understand the best practices."}, {"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "reply_to_user": {"reputation": 2367, "user_id": 3742823, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qSDYy.jpg?s=128&g=1", "display_name": "The Wanderer", "link": "https://stackoverflow.com/users/3742823/the-wanderer"}, "edited": false, "score": 0, "creation_date": 1437608637, "post_id": 31575753, "comment_id": 51106414, "body": "That&#39;s my preference, and from what I&#39;ve  seen the most common way."}, {"owner": {"reputation": 9044, "user_id": 968442, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/TjxYW.jpg?s=128&g=1", "display_name": "nehem", "link": "https://stackoverflow.com/users/968442/nehem"}, "edited": false, "score": 0, "creation_date": 1545020752, "post_id": 31575753, "comment_id": 94466288, "body": "Nice try, but now realistic this scenario ? This PEP8 guideline is definitely due to paranoia. Most IDEs nowadays have built-in spell checkers for variable names. Hence one could supress this part of PEP8 safely."}], "tags": [], "owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "is_accepted": true, "score": 20, "last_activity_date": 1437607889, "creation_date": 1437607889, "answer_id": 31575753, "question_id": 31575659, "link": "https://stackoverflow.com/questions/31575659/shadows-name-xyz-from-outer-scope/31575753#31575753", "title": "Shadows name xyz from outer scope", "body": "<p>The warning is about the potential danger you are introducing by re-using these names at inner scopes. It can cause you to miss a bug. For example, consider this</p>\n\n<pre><code>def sample_func(*args):\n    smaple = sum(args) # note the misspelling of `sample here`\n    print(sample * sample)\n\nif __name__ == \"__main__\":\n    for sample in range(1, 5):\n        sample_func()\n</code></pre>\n\n<p>Because you used the same name, your misspelling inside the function does not cause an error.</p>\n\n<p>When your code is very simple, you will get away with this type of thing with no consequences. But it's good to use these \"best practices\" in order to avoid mistakes on more complex code.</p>\n"}, {"tags": [], "owner": {"reputation": 601, "user_id": 4713933, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/93Ht5.png?s=128&g=1", "display_name": "Mark Smith", "link": "https://stackoverflow.com/users/4713933/mark-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1500751770, "last_edit_date": 1500751770, "creation_date": 1500751433, "answer_id": 45258339, "question_id": 31575659, "link": "https://stackoverflow.com/questions/31575659/shadows-name-xyz-from-outer-scope/45258339#45258339", "title": "Shadows name xyz from outer scope", "body": "<p>I know this is an old thread and this isn't appropriate for the problem the asker was trying to find out about, but I was searching for an answer to why PyCharm was showing me a 'Shadows name  from outer scope' message on a complex if/elif statement block...</p>\n\n<p>It turns out I had capitalised some global variable names at the start of the function but used lower case in my if/elif block much further down in the  function.</p>\n\n<p>School boy error I know, but once I corrected this, the 'Shadows name  from outer scope' message in PyCharm disappeared and the variables stopped showing as greyed out...</p>\n\n<p>So the lesson I learned is that this PyCharm message may be caused by something as simple as a upper/lower case error in a variable name...</p>\n\n<p>I only realised the problem while I was breaking the function into three functions to see if this would remove the 'Shadows...' error, as I was thinking I had an issue with indentation and this was causing the problem!</p>\n\n<p>This may help another newbie who is scratching their head wondering why they are getting this error :-)</p>\n"}, {"tags": [], "owner": {"reputation": 1863, "user_id": 317445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7ee224462bbd4ec4b4a18acd18777f77?s=128&d=identicon&r=PG", "display_name": "David Baucum", "link": "https://stackoverflow.com/users/317445/david-baucum"}, "is_accepted": false, "score": 0, "last_activity_date": 1569934936, "creation_date": 1569934936, "answer_id": 58185362, "question_id": 31575659, "link": "https://stackoverflow.com/questions/31575659/shadows-name-xyz-from-outer-scope/58185362#58185362", "title": "Shadows name xyz from outer scope", "body": "<p>I was running into this warning for an argument in a method named <code>year</code>, but no other variable was sharing that name. I then realized that it was because of the line <code>from pyspark.sql.functions import *</code> which was importing a <code>year</code> variable. Changing this to only import the functionality we needed go rid of the warning.</p>\n"}], "owner": {"reputation": 2367, "user_id": 3742823, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qSDYy.jpg?s=128&g=1", "display_name": "The Wanderer", "link": "https://stackoverflow.com/users/3742823/the-wanderer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41537, "favorite_count": 8, "accepted_answer_id": 31575753, "answer_count": 5, "score": 26, "last_activity_date": 1569934936, "creation_date": 1437607291, "last_edit_date": 1495540484, "question_id": 31575659, "link": "https://stackoverflow.com/questions/31575659/shadows-name-xyz-from-outer-scope", "title": "Shadows name xyz from outer scope", "body": "<p>I am using <code>pycharm</code> and it lists out all the errors/warnings associated with the code. While I understand most of them I am not sure of this one \"Shadows name xyz from outer scope\". There are a few SO posts regarding this: <a href=\"https://stackoverflow.com/questions/20125172/how-bad-is-shadowing-names-defined-in-outer-scopes\">How bad is shadowing names defined in outer scopes?</a> but then they seem to be accessing a global variable. </p>\n\n<p>In my case, my <code>__main__</code> function has a few variable names and then it is calling another function <code>sample_func</code> which uses those variable names again (primarily the loop variable names). I am assuming because I am in a different function, the scope for these variables will be local, however the warning seem to suggest otherwise. </p>\n\n<p>Any thoughts? For your reference here is some code:</p>\n\n<pre><code>def sample_func():\n    for x in range(1, 5):  --&gt; shadows name x from outer scope\n        print x\n\nif __name__ == \"__main__\":\n    for x in range(1, 5):\n        sample_func()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "label", "networkx"], "comments": [{"owner": {"reputation": 4109, "user_id": 4077205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa824cf184d59d187862336dbae09183?s=128&d=identicon&r=PG&f=1", "display_name": "Clayton Wilkinson", "link": "https://stackoverflow.com/users/4077205/clayton-wilkinson"}, "edited": false, "score": 0, "creation_date": 1437607783, "post_id": 31575634, "comment_id": 51106190, "body": "it would help to see the code that is printing the edge - the problem is you are printing a dictionary vs a value in the dictionary."}], "answers": [{"tags": [], "owner": {"reputation": 2106, "user_id": 1301827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e0339ea80a604666c01b56dd4c4ede6?s=128&d=identicon&r=PG", "display_name": "A_A", "link": "https://stackoverflow.com/users/1301827/a-a"}, "is_accepted": false, "score": 4, "last_activity_date": 1437643863, "creation_date": 1437643863, "answer_id": 31583400, "question_id": 31575634, "link": "https://stackoverflow.com/questions/31575634/problems-printing-weight-in-a-networkx-graph/31583400#31583400", "title": "Problems printing weight in a NetworkX graph", "body": "<p>Some observations regarding the existing code:</p>\n\n<ol>\n<li><p>That <code>read_edgelist</code> is not going to work well with that edge list file because the 'special' delimiter <code>;</code> has not been specified.</p></li>\n<li><p>The edge labels should be specified in the <code>draw_networkx_edge_labels</code> function call, rather than the <code>draw_networkx_edges</code>; and also</p></li>\n<li><p>The <code>edge_labels</code> is <em>a dictionary keyed by edge two-tuple of text labels (default=None). Only labels for the keys in the dictionary are drawn.</em> (from <a href=\"http://networkx.lanl.gov/reference/generated/networkx.drawing.nx_pylab.draw_networkx_edge_labels.html\" rel=\"nofollow noreferrer\">the documentation</a>)</p></li>\n</ol>\n\n<p>So, the general idea is to use the <code>edge_labels</code> to selectively print edge weights. Please see inline comments below:</p>\n\n<pre><code>import networkx as nx\nimport pylab as plt\n\nG=nx.Graph()\n#Please note the use of the delimiter parameter below\nG=nx.read_edgelist('test.edges', data= (('weight',int),), delimiter=\";\")\npos = nx.spring_layout(G)\n\n#Here we go, essentially, build a dictionary where the key is tuple\n#denoting an edge between two nodes and the value of it is the label for\n#that edge. While constructing the dictionary, do some simple processing\n#as well. In this case, just print the labels that have a weight less\n#than or equal to 3. Variations to the way new_labels is constructed\n#produce different results.\nnew_labels = dict(map(lambda x:((x[0],x[1]), str(x[2]['weight'] if x[2]['weight']&lt;=3 else \"\") ), G.edges(data = True)))\n\nnx.draw_networkx(G, pos=pos)\n\n#Please note use of edge_labels below.\nnx.draw_networkx_edge_labels(G, pos=pos, edge_labels = new_labels)\nnx.draw_networkx_edges(G,pos,width=4, edge_color='g', arrows=False)\n\nplt.show()\n</code></pre>\n\n<p>Given a data file <code>test.edges</code> that looks like...</p>\n\n<pre><code>1;2;3\n2;3;3\n3;4;3\n2;4;4\n4;6;5\n1;6;5\n</code></pre>\n\n<p>...the above snippet will produce a result similar to:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q3EWt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q3EWt.png\" alt=\"Conditional printing of edge weights\"></a></p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 67, "user_id": 5145725, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/410ef483d7ee1e8e6137210013869a93?s=128&d=identicon&r=PG&f=1", "display_name": "Obi Wannabe Coder", "link": "https://stackoverflow.com/users/5145725/obi-wannabe-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2843, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1558549646, "creation_date": 1437607121, "last_edit_date": 1558549646, "question_id": 31575634, "link": "https://stackoverflow.com/questions/31575634/problems-printing-weight-in-a-networkx-graph", "title": "Problems printing weight in a NetworkX graph", "body": "<p>I'm reading an edgelist using networkX. The edgelist contains entries of the form:</p>\n\n<pre><code>1; 2; 3\n\n2; 3; 5\n\n3; 1; 4\n</code></pre>\n\n<p>where 3rd column is the weight. When I plot this, it displays the weight 3 as:</p>\n\n<pre><code>{'weight': 3}\n</code></pre>\n\n<p>instead of just 3. Ultimately I want to be able to perform operations using the weight (e.g. calculated highest weight, display only the edges which have a weight:</p>\n\n<blockquote>\n  <p>'x', etc., </p>\n</blockquote>\n\n<p>Here is the minimal working code:</p>\n\n<pre><code>import networkx as nx\nimport pylab as plt\n\nG=nx.Graph()\nG=nx.read_edgelist('sample_with_weights.edges', data= (('weight',int),))\npos = nx.spring_layout(G)\nnx.draw_networkx(G, pos=pos)\nnx.draw_networkx_edge_labels(G, pos=pos)\nnx.draw_networkx_edges(G,pos,width=4, edge_color='g', edge_labels = 'weight', arrows=False)\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "mysql", "flask", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 0, "last_activity_date": 1437607333, "creation_date": 1437607333, "answer_id": 31575670, "question_id": 31575614, "link": "https://stackoverflow.com/questions/31575614/unknown-database-error-after-creating-it-sqlalchemy/31575670#31575670", "title": "Unknown database error after creating it (sqlalchemy)", "body": "<p>You have confused MySQL, a database server, with SQLite, a database in a file.  You created a SQLite file, but are trying to tell MySQL to connect to it, which makes no sense.</p>\n\n<p>Use the <code>sqlite</code> dialect in the connection string.</p>\n\n<p>You can avoid typing the whole path (and tying the app to that path) by pointing to the file relative to the app's location.</p>\n\n<pre><code>import os\ndb_path = os.path.realpath(os.path.join(os.path.dirname(__file__), 'app2.db'))\nengine = create_engine('sqlite://{}'.format(db_path))\n</code></pre>\n\n<p>Consider using <a href=\"http://flask-sqlalchemy.pocoo.org/\" rel=\"nofollow\">Flask-SQLAlchemy</a> rather than trying to manage the database yourself.</p>\n"}], "owner": {"reputation": 955, "user_id": 2621320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F4NfU.jpg?s=128&g=1", "display_name": "Gerardo Tarragona", "link": "https://stackoverflow.com/users/2621320/gerardo-tarragona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2760, "favorite_count": 0, "accepted_answer_id": 31575670, "answer_count": 1, "score": 0, "last_activity_date": 1437607333, "creation_date": 1437606970, "question_id": 31575614, "link": "https://stackoverflow.com/questions/31575614/unknown-database-error-after-creating-it-sqlalchemy", "title": "Unknown database error after creating it (sqlalchemy)", "body": "<p>I'm getting the next error while trying to run my Flask app:</p>\n\n<pre><code>sqlalchemy.exc.OperationalError\nOperationalError: (_mysql_exceptions.OperationalError) (1049, \"Unknown database '/home/gerardo/Documentos/python_web_dev/flask-intro/app2.db'\")\n</code></pre>\n\n<p>so it seems like there is no database.. but I ran the next scripts using sqlalchemy_utils and everything was ok:</p>\n\n<pre><code>engine = create_engine(\"mysql://root:@localhost/home/gerardo/Documentos/python_web_dev/flask-intro/app2.db\")\n\ncreate_database(engine.url)\n</code></pre>\n\n<p>but still I get the error..</p>\n"}, {"tags": ["python", "sqlalchemy", "alembic"], "comments": [{"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1437607219, "post_id": 31575609, "comment_id": 51106060, "body": "Are you asking squashing all existing migrations to one initial migration or something more sophisticated?"}, {"owner": {"reputation": 28469, "user_id": 438982, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b0eb92aa440068ffb941daf9a92187ed?s=128&d=identicon&r=PG", "display_name": "ipmcc", "link": "https://stackoverflow.com/users/438982/ipmcc"}, "reply_to_user": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "edited": false, "score": 0, "creation_date": 1437609798, "post_id": 31575609, "comment_id": 51106697, "body": "I&#39;m asking if there&#39;s a way to flatten them and use the resulting projection as an input to the ORM metadata. I assume the flattening part will be needed because any given Alembic rev only captures the differences from the last one."}], "owner": {"reputation": 28469, "user_id": 438982, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b0eb92aa440068ffb941daf9a92187ed?s=128&d=identicon&r=PG", "display_name": "ipmcc", "link": "https://stackoverflow.com/users/438982/ipmcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1437606944, "creation_date": 1437606944, "question_id": 31575609, "link": "https://stackoverflow.com/questions/31575609/is-there-a-way-for-alembics-migration-metadata-and-sqlalchemys-orm-mapping-met", "title": "Is there a way for Alembic&#39;s migration metadata and SqlAlchemy&#39;s ORM mapping metadata to be shared automatically?", "body": "<p>Been coming up to speed with SqlAlchemy and Alembic (for migration). I understand that the Alembic revision files get \"locked down\" as a form of documentation of the migration history. That said, it seems like there ought to be a way to \"flatten\" all the revisions at run time in a way that yields enough metadata to reduce the duplication/overlap I'm seeing between the Alembic DDL-ish python code and the SqlAlchemy ORM mapping model code. (Especially in cases where you're mapping python classes one to one with tables.)</p>\n\n<p>Has anyone found a good way to do this?</p>\n"}, {"tags": ["python", "ocr"], "comments": [{"owner": {"reputation": 7838, "user_id": 339869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056fd1b12fa8e01b4dfcaa67ad6d9052?s=128&d=identicon&r=PG", "display_name": "Soravux", "link": "https://stackoverflow.com/users/339869/soravux"}, "edited": false, "score": 1, "creation_date": 1437627124, "post_id": 31575493, "comment_id": 51110885, "body": "Have you tried segmenting your image first and applying your recognition algorithm on each different characters instead of the whole image at once? You would only have to handle characters 0-9 (and the dot) instead of a thousand samples. Since your image already seems binary (black or white), you would only have to perform a connected component labeling, along the lines of OpenCV&#39;s connected_components or cvFindContours."}, {"owner": {"reputation": 465, "user_id": 5011347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d921497656e1243a1135e147738090ff?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier Villafaina", "link": "https://stackoverflow.com/users/5011347/xavier-villafaina"}, "reply_to_user": {"reputation": 7838, "user_id": 339869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056fd1b12fa8e01b4dfcaa67ad6d9052?s=128&d=identicon&r=PG", "display_name": "Soravux", "link": "https://stackoverflow.com/users/339869/soravux"}, "edited": false, "score": 0, "creation_date": 1437642791, "post_id": 31575493, "comment_id": 51118778, "body": "Thaks for your idea. I go to search how to do this image segmentation."}, {"owner": {"reputation": 465, "user_id": 5011347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d921497656e1243a1135e147738090ff?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier Villafaina", "link": "https://stackoverflow.com/users/5011347/xavier-villafaina"}, "reply_to_user": {"reputation": 7838, "user_id": 339869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056fd1b12fa8e01b4dfcaa67ad6d9052?s=128&d=identicon&r=PG", "display_name": "Soravux", "link": "https://stackoverflow.com/users/339869/soravux"}, "edited": false, "score": 0, "creation_date": 1437642907, "post_id": 31575493, "comment_id": 51118849, "body": "But yesterday I start to work with pytesseract and maybe could be more easy."}], "owner": {"reputation": 465, "user_id": 5011347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d921497656e1243a1135e147738090ff?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier Villafaina", "link": "https://stackoverflow.com/users/5011347/xavier-villafaina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1403, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1437836409, "creation_date": 1437606199, "last_edit_date": 1437836409, "question_id": 31575493, "link": "https://stackoverflow.com/questions/31575493/ocr-with-python", "title": "OCR with python", "body": "<p>Hi I'm trying to to OCR for this sample of numbers <a href=\"https://drive.google.com/folderview?id=0B68PDhV5SW8BTjd0T0FqTG94cG8&amp;usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/folderview?id=0B68PDhV5SW8BTjd0T0FqTG94cG8&amp;usp=sharing</a></p>\n\n<p>I make database of numbers, I take screenshot of number 1, 2, 3.......</p>\n\n<p>Later for recognize the numbers I take screenshot and compare with my database screenshots.</p>\n\n<p>The code works pecfect but I have one lazy problem, numbers could be 0.00 to 999.99 so I need take all this screenshots and I not able to create the numbers so I think I need find other solution.</p>\n\n<p>I think if I can broke screenshots between . (100.99 = 100 and 99) I only need 999 samples in my database.</p>\n\n<p>So  you think could be good solution? </p>\n\n<p>News!!!\nI continue searching and finally I found solution with pytesseract</p>\n\n<p>Few things, I need resize height of images to min 25 pixels for 100% good results.</p>\n\n<p>If I save image with png format don't work but with jpg work prefect.\nIf I open png images with paint and save  without change nothing code work perfect with png images. I can not understand this. </p>\n\n<p>I really need work with png because I need code work fast. \nAny idea to solve this isue with png format?</p>\n\n<pre><code>import pytesseract\nfrom PIL import Image\nx = pytesseract.image_to_string(Image.open('101.jpg'))\ny = float(x)\n\nprint y\n</code></pre>\n\n<p>I search code about image segmentation, find contours and connected components.\nI found this code to find region of numbers and dot. </p>\n\n<p><a href=\"https://i.stack.imgur.com/pA8T3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pA8T3.png\" alt=\"samplenumbers\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/wdo4q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wdo4q.png\" alt=\"samplenumbersregion\"></a></p>\n\n<p>Found 1 region in numbers 0,1,6,8 and dot, in others found 2 regions. </p>\n\n<p>I not able to change code for work with my image (number white background black, ) so I change my image colour and I see impossible edit code for fix the problem with regions.</p>\n\n<p>I appreciate your help</p>\n\n<p>I thinking is possible I no need change code, if I able to save every region in different image in order I can do something like this.</p>\n\n<pre><code>i=0\nwhile i &lt; len(regionfound)\n   if height(region[i] = 13 #(max height)\n     compare region with dabatabe image of numbers 0,1,6 and 8\n\n   if height = 2\n     region are dot\n\n   if height = .....  \n\n   i+=1\n</code></pre>\n\n<hr>\n\n<pre><code>import sys\nfrom PIL import Image, ImageDraw\n\nclass Region():\n    def __init__(self, x, y):\n        self._pixels = [(x, y)]\n        self._min_x = x\n        self._max_x = x\n        self._min_y = y\n        self._max_y = y\n\n    def add(self, x, y):\n        self._pixels.append((x, y))\n        self._min_x = min(self._min_x, x)\n        self._max_x = max(self._max_x, x)\n        self._min_y = min(self._min_y, y)\n        self._max_y = max(self._max_y, y)\n\n    def box(self):\n        return [(self._min_x, self._min_y), (self._max_x, self._max_y)]\n\ndef find_regions(im):\n    width, height  = im.size\n    regions = {}\n    pixel_region = [[0 for y in range(height)] for x in range(width)]\n    equivalences = {}\n    n_regions = 0\n    #first pass. find regions.\n    for x in xrange(width):\n        for y in xrange(height):\n            #look for a black pixel\n            if im.getpixel((x, y)) == (0, 0, 0, 255): #BLACK NUMBERS FOR WHITE NUMBER USE (255, 255, 255, 255)\n                # get the region number from north or west\n                # or create new region\n                region_n = pixel_region[x-1][y] if x &gt; 0 else 0\n                region_w = pixel_region[x][y-1] if y &gt; 0 else 0\n                max_region = max(region_n, region_w)\n\n                if max_region &gt; 0:\n                    #a neighbour already has a region\n                    #new region is the smallest &gt; 0\n                    new_region = min(filter(lambda i: i &gt; 0, (region_n, region_w)))\n                    #update equivalences\n                    if max_region &gt; new_region:\n                        if max_region in equivalences:\n                            equivalences[max_region].add(new_region)\n                        else:\n                            equivalences[max_region] = set((new_region, ))\n                else:\n                    n_regions += 1\n                    new_region = n_regions\n\n                pixel_region[x][y] = new_region\n\n    #Scan image again, assigning all equivalent regions the same region value.\n    for x in xrange(width):\n        for y in xrange(height):\n                r = pixel_region[x][y]\n                if r &gt; 0:\n                    while r in equivalences:\n                        r = min(equivalences[r])\n\n                    if not r in regions:\n                        regions[r] = Region(x, y)\n                    else:\n                        regions[r].add(x, y)\n\n    return list(regions.itervalues())\n\ndef main():\n    im = Image.open(r\"0.png\")\n    regions = find_regions(im)\n    draw = ImageDraw.Draw(im)\n    for r in regions:\n        draw.rectangle(r.box(), outline=(255, 0, 0))\n    del draw \n    #im.show()\n    output = file(\"output.png\", \"wb\")\n    im.save(output)\n    output.close()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}, {"tags": ["python", "mergesort"], "comments": [{"owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 0, "creation_date": 1437607043, "post_id": 31575482, "comment_id": 51106015, "body": "There is nothing wrong with your code. I suspect what&#39;s going on here is that your debug console is pausing after the recursive calls so that the contents of <code>lefthalf</code> and <code>righthalf</code> are sorted already."}, {"owner": {"reputation": 67, "user_id": 5145653, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/027f11571d6eff6761b15b51b8f57928?s=128&d=identicon&r=PG&f=1", "display_name": "genesis", "link": "https://stackoverflow.com/users/5145653/genesis"}, "edited": false, "score": 0, "creation_date": 1437624643, "post_id": 31575482, "comment_id": 51110158, "body": "Using the Shell Debug before running and Stepping there"}], "answers": [{"comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 2, "creation_date": 1437607941, "post_id": 31575690, "comment_id": 51106245, "body": "Your comment that slices are not new lists is misleading. When dealing with regular Python lists (rather than numpy arrays or similar), you <i>do</i> get a new list when you slice an existing one."}, {"owner": {"reputation": 67, "user_id": 5145653, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/027f11571d6eff6761b15b51b8f57928?s=128&d=identicon&r=PG&f=1", "display_name": "genesis", "link": "https://stackoverflow.com/users/5145653/genesis"}, "edited": false, "score": 0, "creation_date": 1437613981, "post_id": 31575690, "comment_id": 51107695, "body": "If the list is updated (i.e.    alist = [26, 54, 93, 17] after the iteration we discussed above), then why does my debug window after the next step show a local    alist = [54, 26, 93, 17] and    lefthalf = [26, 54]?        Apologies for requiring more information guys!"}], "tags": [], "owner": {"reputation": 69, "user_id": 5139684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd3b37dd6604dc8971bf1abe0e267a89?s=128&d=identicon&r=PG", "display_name": "Stephen Jackson", "link": "https://stackoverflow.com/users/5139684/stephen-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1437612093, "last_edit_date": 1437612093, "creation_date": 1437607458, "answer_id": 31575690, "question_id": 31575482, "link": "https://stackoverflow.com/questions/31575482/mergesort-implementation-in-python/31575690#31575690", "title": "Mergesort implementation in Python", "body": "<p>Lists in python are mutable (ie, their contents can change) inside functions. When the list is changed inside the function, the change happens to the list that you called the function with, because it is the same list.</p>\n\n<p>Therefore, the update to your list, happens every time something manipulates <code>alist</code> or a slice of <code>alist</code>, either in the first call or in any of the recursive calls.</p>\n\n<p>Edit: removed misleading bit</p>\n"}, {"comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 67, "user_id": 5145653, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/027f11571d6eff6761b15b51b8f57928?s=128&d=identicon&r=PG&f=1", "display_name": "genesis", "link": "https://stackoverflow.com/users/5145653/genesis"}, "edited": false, "score": 0, "creation_date": 1437627588, "post_id": 31576719, "comment_id": 51110993, "body": "I&#39;ve added an extra bit to the answer explaining a bit more about how mutable objects can be modified while they are bound to some other name (whether that new name comes up via a function call or just a simple assignment). I hope the whole thing helps!"}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 1, "last_activity_date": 1437627506, "last_edit_date": 1437627506, "creation_date": 1437614870, "answer_id": 31576719, "question_id": 31575482, "link": "https://stackoverflow.com/questions/31575482/mergesort-implementation-in-python/31576719#31576719", "title": "Mergesort implementation in Python", "body": "<p>Your <code>mergesort</code> function modifies the list you pass to it in place. That is, it changes the contents so that the items are in order, rather than returning a new list.</p>\n\n<p>This is what you're seeing in your debugger, during the recursive calls. In the first level of the recursion, <code>lefthalf</code> is created by copying some values from the original list (with slice syntax). It starts out containing <code>[54, 26]</code>. This list is then passed to another call of <code>mergesort</code>. Note that the naming can get confusing, as in the inner call it refers to the list as <code>alist</code> (and it has its own separate <code>lefthalf</code> list). When the inner call returns, the contents of the outer call's <code>lefthalf</code> turn out to have been modified to <code>[26, 54]</code> (they're in order, which is what we want!).</p>\n\n<p>It may be that your debugger isn't making it clear when the return is happening. Since it's all the same function (due to the recursion), it may not be obvious when the inner call ends and the control flow of the outer call resumes.</p>\n\n<p>Here's a walkthrough of your code in which I show the the values of the the different variables in the various levels of the recursion as you sort your example list. Note that this isn't runnable Python code, I'm indenting to indicate the level of recursion, not for control flow. To keep the example relatively short, I'm also leaving out some steps such as as comparing the values from the two sublists and updating the <code>i</code> <code>j</code> and <code>k</code> indexes during the merge process:</p>\n\n<pre><code>plist = [54,26,93,17]\nmergesort(plist)\n    # alist is a referece to plist which contains [54,26,93,17]\n    lefthalf = alist[:mid]  # new list which initially contains [54,26]\n    righthalf = alist[mid:] # new list which initially contains [93,17]\n    mergesort(lefthalf)\n        # alist is a reference to the outer lefthalf list, which contains [54,26]\n        lefthalf = alist[:mid]  # new list, initially contains [54]\n        righthalf = alist[mid:] # new list, initially contains [26]\n        mergesort(lefthalf)\n            # alist is a reference to the previous level's lefthalf, [54]\n            # the if statement doesn't pass its test, so we do nothing here (base case)\n        # lefthalf was not changed by the recursive call\n        mergesort(righthalf)\n            # alist is a reference to the previous level's righthalf, [26]\n            # base case again\n        # righthalf was not changed\n        alist[k]=righthalf[j] # now we merge lefthalf and righthalf back into alist\n        alist[k]=lefthalf[i] # these statements change the contents of alist\n    # lefthalf's contents changed, it is now sorted, [26,54]\n    mergesort(righthalf)\n        # alist is a reference to the outer righthalf list, which contains [93,17]\n        lefthalf = alist[:mid]  # new list, initially contains [93]\n        righthalf = alist[mid:] # new list, initially contains [17]\n        mergesort(lefthalf) # base case, nothing happens (I'll skip the details)\n        mergesort(righthalf) # base case, nothing happens\n        alist[k]=righthalf[j] # merge lefthalf and righthalf back into alist\n        alist[k]=lefthalf[i]  # we change the contents of alist to [17,93]\n    # righthalf's contents changed, it is now sorted, [17,93]\n    alist[k]=righthalf[j] # merge lefthalf and righthalf back into alist (more steps)\n    alist[k]=lefthalf[i]\n    alist[k]=lefthalf[i]\n    alist[k]=righthalf[j] # after these statements, alist is [17,26,54,93]\n# plists's contents are changed so it contains [17,26,54,93]\n</code></pre>\n\n<p>It might help you to step back a bit from this complex recursive situation and look at a simpler example to make sure you understand how lists can be mutated:</p>\n\n<pre><code>a = [1, 2] # create a list object with some initial contents\n\nb = a      # b refers to the same list object as a, nothing is copied\nb[1] = 3   # this modifies the list object itself, replacing the 2 with a 3\n\nprint(a)   # prints [1, 3] even through we're looking at a rather than b\n\ndef func(lst): # lst will be a new name bound to whatever is passed to the function\n    lst[1] = 4 # we can modify that passed-in object (assuming it's the right type)\n\nfunc(a)    # lst in the function will become another name for the list object\nprint(a)   # prints [1, 4]\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 5145653, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/027f11571d6eff6761b15b51b8f57928?s=128&d=identicon&r=PG&f=1", "display_name": "genesis", "link": "https://stackoverflow.com/users/5145653/genesis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1494570621, "creation_date": 1437606159, "question_id": 31575482, "link": "https://stackoverflow.com/questions/31575482/mergesort-implementation-in-python", "title": "Mergesort implementation in Python", "body": "<p>I've been implementing a mergesort (from interactivepython) in Python/C++. The code fully works, but my issue is that I can't seem to figure out why a particular portion of the code actually does work.</p>\n\n<p>Code is:</p>\n\n<pre><code>def mergeSort(alist):\n    if len(alist)&gt;1:\n        mid = len(alist)//2\n        lefthalf = alist[:mid]\n        righthalf = alist[mid:]\n\n        mergeSort(lefthalf)\n        mergeSort(righthalf)\n\n        i=0\n        j=0\n        k=0\n        while i&lt;len(lefthalf) and j&lt;len(righthalf):\n            if lefthalf[i]&lt;righthalf[j]:\n                alist[k]=lefthalf[i]\n                i=i+1\n            else:\n                alist[k]=righthalf[j]\n                j=j+1\n            k=k+1\n\n        while i&lt;len(lefthalf):\n            alist[k]=lefthalf[i]\n            i=i+1\n            k=k+1\n\n        while j&lt;len(righthalf):\n            alist[k]=righthalf[j]\n            j=j+1\n            k=k+1\n\nplist = [54,26,93,17]\nmergeSort(plist)\nprint(plist)\n</code></pre>\n\n<p>After lefthalf = [54 26], the further subroutine split to lefthalf = [54] and righthalf = [26], the merge code works to provide alist = [26, 54] (which is the sorted left half).</p>\n\n<p>Now the next step that I do in the debug window, I get a lefthalf = [26, 54]. How is this possible, as the first debug shows it defined as [54, 26] before. Where does the update to [26, 54] happen?</p>\n\n<p>Any help would be super appreciated!</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 449, "user_id": 3590113, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100008167867163/picture?type=large", "display_name": "user3590113", "link": "https://stackoverflow.com/users/3590113/user3590113"}, "is_accepted": false, "score": 0, "last_activity_date": 1437614465, "creation_date": 1437614465, "answer_id": 31576671, "question_id": 31575420, "link": "https://stackoverflow.com/questions/31575420/parsing-with-placeholders/31576671#31576671", "title": "Parsing with placeholders", "body": "<pre><code>def extract_contact(url):\n    r=requests.get(url)\n    soup=BeautifulSoup(r.content,'lxml')\n    tbl=soup.findAll('table')[2]\n    list=[]\n    Contact=tbl.findAll('p')[0]\n\n    for br in Contact.findAll('br'):\n        next = br.nextSibling\n        if not (next and isinstance(next,NavigableString)):\n            continue\n        next2 = next.nextSibling\n        if next2 and isinstance(next2,Tag) and next2.name == 'br':  \n            text = re.sub(r'[\\n\\r\\t\\xa0]','',next).replace('Phone:','').strip()\n            list.append(text)\n    Street=[s for s in list if ',' not in s and '-' not in s]\n    CityStateZip=[s for s in list if ',' in s]  \n    Phone = [s for s in list if '-' in s]\n    if not Street:\n        Street=''\n    else:\n        Street=Street[0]    \n    if not CityStateZip:\n        CityStateZip=''\n    else:\n        City,StateZip= CityStateZip[0].split(',')\n        State,Zip= StateZip.split(' ')  \n    if not Phone:\n        Phone=''\n    else:\n        Phone=Phone[0]      \n    list=[]\n</code></pre>\n\n<p>I figured out an alternative solution using substrings and if statements. Since there are only 3 values max in the list, all with defining characteristics i realized that i could delegate by looking for special characters rather than the position of the record. </p>\n"}], "owner": {"reputation": 449, "user_id": 3590113, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/100008167867163/picture?type=large", "display_name": "user3590113", "link": "https://stackoverflow.com/users/3590113/user3590113"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1437614465, "creation_date": 1437605760, "last_edit_date": 1437606529, "question_id": 31575420, "link": "https://stackoverflow.com/questions/31575420/parsing-with-placeholders", "title": "Parsing with placeholders", "body": "<p>I am trying to scrape all the different variations of this webpage.For instance the code that should scrape this webpage <a href=\"http://www.virginiaequestrian.com/main.cfm?action=greenpages&amp;sub=view&amp;ID=11849\" rel=\"nofollow\">http://www.virginiaequestrian.com/main.cfm?action=greenpages&amp;sub=view&amp;ID=11849</a>.\nshould be the same as the code i use to scrape this webpage\n<a href=\"http://www.virginiaequestrian.com/main.cfm?action=greenpages&amp;sub=view&amp;ID=11849\" rel=\"nofollow\">http://www.virginiaequestrian.com/main.cfm?action=greenpages&amp;sub=view&amp;ID=11849</a></p>\n\n<pre><code>def extract_contact(url):\n    r=requests.get(url)\n    soup=BeautifulSoup(r.content,'lxml')\n    tbl=soup.findAll('table')[2]\n    list=[]\n    Contact=tbl.findAll('p')[0]\n\n    for br in Contact.findAll('br'):\n        next = br.nextSibling\n        if not (next and isinstance(next,NavigableString)):\n            continue\n        next2 = next.nextSibling\n        if next2 and isinstance(next2,Tag) and next2.name == 'br':  \n            text = re.sub(r'[\\n\\r\\t\\xa0]','',next).replace('Phone:','').strip()\n            list.append(text)\n    print list      \n\n    #Street=list.pop(0)\n    #CityStateZip=list.pop(0)\n    #Phone=list.pop(0)\n    #City,StateZip= CityStateZip.split(',')\n    #State,Zip= StateZip.split(' ') \n    #ContactName = Contact.findAll('b')[1]\n    #ContactEmail = Contact.findAll('a')[1]\n    #Body=tbl.findAll('p')[1]\n    #Website = Contact.findAll('a')[2]\n    #Email = ContactEmail.text.strip()\n    #ContactName = ContactName.text.strip()\n    #Website = Website.text.strip()\n    #Body = Body.text\n    #Body = re.sub(r'[\\n\\r\\t\\xa0]','',Body).strip()\n    #list.extend([Street,City,State,Zip,ContactName,Phone,Email,Website,Body])\n    return list\n</code></pre>\n\n<p>The way i believe i will need to write the code in order it to work, is to set it up so that print list returns the same number of values, ordered identically.Currently, the above script returns these values</p>\n\n<p>[u'2133 Craigs Store Road', u'Afton,VA 22920', u'434-882-3150']\n[u'Alexandria,VA 22305']</p>\n\n<p>Accounting for missing values,in order to be able to parse this page consistently,\nI need the print list command to return something similar to this </p>\n\n<pre><code>[u'2133 Craigs Store Road', u'Afton,VA 22920', u'434-882-3150']\n['',u'Alexandria,VA 22305','']\n</code></pre>\n\n<p>this way i will be able to manipulate values by position(as they will be in consistent order). The problem is that i don't know how to accomplish this as I am still very new to parsing. If anybody has any insight as to how to solve the problem i would be highly appreciative.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 2, "creation_date": 1437606584, "post_id": 31575400, "comment_id": 51105897, "body": "Have you tried using a colormap that uses the alpha channel? I can&#39;t think of a built-in one, but I made one for <a href=\"http://stackoverflow.com/questions/23684928/making-figure-transparent-with-colored-background/23798831#23798831\">this related question</a>. That is, I would try a colormap that plots small values to some color with low alpha and higher values to distinctive colors, with high alpha."}, {"owner": {"reputation": 43, "user_id": 5145665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbaf4bf270d950e63dd17ce9a365459e?s=128&d=identicon&r=PG&f=1", "display_name": "rkruse", "link": "https://stackoverflow.com/users/5145665/rkruse"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1437606803, "post_id": 31575400, "comment_id": 51105963, "body": "That sounds like the kind of answer I was looking for, but I don&#39;t know much about the color schemes. I will definitely give this a try. Thanks!"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1437607542, "post_id": 31575400, "comment_id": 51106141, "body": "The colormap from that example would be the one I call <code>dropout_high</code>, except you probably want to drop-out the low values. You&#39;ll edit the alpha section of the dictionary it&#39;s made from."}], "answers": [{"tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": true, "score": 3, "last_activity_date": 1437613283, "creation_date": 1437613283, "answer_id": 31576520, "question_id": 31575400, "link": "https://stackoverflow.com/questions/31575400/how-to-fade-color-to-transparent-using-hexbin-and-matplotlib/31576520#31576520", "title": "How to fade color to transparent using hexbin and matplotlib?", "body": "<p>Rough example to be going on with:</p>\n\n<pre><code>n = 100000\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom matplotlib.colors import LinearSegmentedColormap\n\n\nx = np.random.standard_normal(n)\nimg = plt.imread(\"soccer.jpg\")\ny = 2.0 + 3.0 * x + 4.0 * np.random.standard_normal(n)\n\nred_high = ((0., 0., 0.),\n         (.3, .5, 0.5),\n         (1., 1., 1.))\n\nblue_middle = ((0., .2, .2),\n         (.3, .5, .5),\n         (.8, .2, .2),\n         (1., .1, .1))\n\ngreen_none = ((0,0,0),(1,0,0))\n\ncdict3 = {'red':  red_high,\n\n     'green': green_none,\n\n     'blue': blue_middle,\n\n     'alpha': ((0.0, 0.0, 0.0),\n               (0.3, 0.5, 0.5),\n               (1.0, 1.0, 1.0))\n    }\n\n\ndropout_high = LinearSegmentedColormap('Dropout', cdict3)\nplt.register_cmap(cmap = dropout_high)\n\nplt.hexbin(x,y, bins='log', cmap=dropout_high)\nplt.imshow(img,zorder=0, extent=[-10, 10, -20, 20])\nplt.show()\n#plt.savefig('map.png') \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4y14f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4y14f.png\" alt=\"enter image description here\"></a></p>\n\n<p>(I'm afraid my soccer field is sideways. I usually play as though it is, so.)</p>\n"}], "owner": {"reputation": 43, "user_id": 5145665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbaf4bf270d950e63dd17ce9a365459e?s=128&d=identicon&r=PG&f=1", "display_name": "rkruse", "link": "https://stackoverflow.com/users/5145665/rkruse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2189, "favorite_count": 2, "accepted_answer_id": 31576520, "answer_count": 1, "score": 4, "last_activity_date": 1437613283, "creation_date": 1437605655, "last_edit_date": 1437606441, "question_id": 31575400, "link": "https://stackoverflow.com/questions/31575400/how-to-fade-color-to-transparent-using-hexbin-and-matplotlib", "title": "How to fade color to transparent using hexbin and matplotlib?", "body": "<p>I am creating a \"heatmap\" using hexbin, and want this heatmap to be placed on top of an image. However, I would like to have the coloring of the plot fade to transparent as the frequency does (i.e. as the color fades to white, it disappears). I have tried changing the alpha value but that does not produce the desired effect. </p>\n\n<p>My code is:</p>\n\n<pre><code>n = 100000\nx = np.random.standard_normal(n)\nimg = imread(\"soccer.jpg\")\ny = 2.0 + 3.0 * x + 4.0 * np.random.standard_normal(n)\nplt.hexbin(x,y, bins='log', cmap=plt.cm.Reds, alpha = 0.3)\nplt.imshow(img,zorder=0, extent=[-10, 10, -20, 20])\n#plt.show()\nplt.savefig('map.png') \n</code></pre>\n\n<p>I am open to using a 2d-histogram or any other plotting function. Even just being transparent when there are no values in that hexagon would be great, as many of my areas have zero data points. </p>\n\n<p>The image produced by my current code is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AgWah.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AgWah.png\" alt=\"Heatmap image\"></a></p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1437608456, "post_id": 31575399, "comment_id": 51106371, "body": "what would the correct output look like in this case?"}, {"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1437610193, "post_id": 31575399, "comment_id": 51106781, "body": "Oh sorry, I thought it was obvious. I just want all the plots tiled and taking as much space of the window as possible.  So in the above example, I want the plot that appears at the bottom to appear in the second column. The final set of subplots should be displayed as a 4x3 (4 rows, 3 cols) grid with one empty space at the end (since we only have 11 plots)"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1437610258, "post_id": 31575399, "comment_id": 51106798, "body": "Do you know the number of columns and total number of plots <i>a priori</i>?"}, {"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1437611197, "post_id": 31575399, "comment_id": 51107030, "body": "The total number of plots is known from the length of a list that is global and constant but whose length might be different depending on initialization. The number of columns is under user-control. Does this change anything? Both are variables either way. I modified the question. I think it is clearer now"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1437611456, "post_id": 31575399, "comment_id": 51107108, "body": "See my answer. I was concerned that knowledge of the number of columns or the total numbers of plots were coming from say, a GUI event that could change midway through drawing. Things would be a lot more complicated then."}], "answers": [{"comments": [{"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1437611704, "post_id": 31575923, "comment_id": 51107171, "body": "I get the following error when I copy-paste your code to enthought canopy: TypeError: can&#39;t multiply sequence by non-int of type &#39;float&#39; . Error occurs on &quot;ax = fig.add_subplot(gs[n])&quot; Naively changing it to &quot;ax = fig.add_subplot(int(gs[n]))&quot; results in another error: TypeError: int() argument must be a string or a number, not &#39;SubplotSpec&#39;"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "reply_to_user": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1437611749, "post_id": 31575923, "comment_id": 51107184, "body": "Haha that&#39;s Python 2 vs 3 (I think). I&#39;ll fix in a second."}, {"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1437611811, "post_id": 31575923, "comment_id": 51107196, "body": "I should be on Python 3, and thanx!"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "reply_to_user": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1437611882, "post_id": 31575923, "comment_id": 51107215, "body": "@DirkHaupt oh wait, I misread the error. Which version of MPL are you using?"}, {"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1437612113, "post_id": 31575923, "comment_id": 51107285, "body": "1.4.2 (took me a while to figure out that the add comment button wasn&#39;t broken and that I needed to insert more characters)"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "reply_to_user": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1437612213, "post_id": 31575923, "comment_id": 51107320, "body": "@DirkHaupt Weird. That should work then -- unless this was a bug fixed with v1.4.3, which I&#39;m using from python 3."}, {"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1437612255, "post_id": 31575923, "comment_id": 51107332, "body": "Well would you look at that, my package manager appears to be stuck behind a proxy firewall. Let me guess. That&#39;s an old version? <i>reads your comment</i> drats. Hmm, guess I&#39;ll try to get my package manager up again and see if that changes anything"}, {"owner": {"reputation": 13993, "user_id": 232794, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/o1pji.png?s=128&g=1", "display_name": "Sardathrion - against SE abuse", "link": "https://stackoverflow.com/users/232794/sardathrion-against-se-abuse"}, "edited": false, "score": 0, "creation_date": 1437634497, "post_id": 31575923, "comment_id": 51113811, "body": "Thank you indeed!  I was not aware of gridspec which makes all this a lot easier!"}, {"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1437671468, "post_id": 31575923, "comment_id": 51139665, "body": "I am sad to report that I still get &quot;TypeError: can&#39;t multiply sequence by non-int of type &#39;float&#39; &quot; copy-pasting the above code. I am running python 2.6.7 (I read 3 isn&#39;t supported yet in canopy) and I did update MPL to v1.4.3. As such my problem remains"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "reply_to_user": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1437671624, "post_id": 31575923, "comment_id": 51139772, "body": "@DirkHaupt don&#39;t cast <code>gs[n]</code> to <code>int</code> -- that doesn&#39;t make any sense. Instead cast <code>rows</code> (<code>rows = math.ceil(N &#47; cols)</code> -- see the edit)"}], "tags": [], "owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "is_accepted": false, "score": 18, "last_activity_date": 1437671667, "last_edit_date": 1437671667, "creation_date": 1437609039, "answer_id": 31575923, "question_id": 31575399, "link": "https://stackoverflow.com/questions/31575399/dynamically-add-subplots-in-matplotlib-with-more-than-one-column/31575923#31575923", "title": "Dynamically add subplots in matplotlib with more than one column", "body": "<p>Assuming at least 1 dimension of your grid and the total number of plots is known, I would use the <code>gridspec</code> module and a little bit of math.</p>\n\n<pre><code>import math\n\nimport matplotlib.pyplot as plt\nfrom matplotlib import gridspec\n\ndef do_plot(ax):\n    ax.plot([1,2,3], [4,5,6], 'k.')\n\n\nN = 11\ncols = 3\nrows = int(math.ceil(N / cols))\n\ngs = gridspec.GridSpec(rows, cols)\nfig = plt.figure()\nfor n in range(N):\n    ax = fig.add_subplot(gs[n])\n    do_plot(ax)\n\nfig.tight_layout()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SO5BJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SO5BJ.png\" alt=\"enter image description here\"></a>    </p>\n"}, {"tags": [], "owner": {"reputation": 8590, "user_id": 851699, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/jDiPy.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/851699/peter"}, "is_accepted": false, "score": 1, "last_activity_date": 1477475556, "last_edit_date": 1477475556, "creation_date": 1477474604, "answer_id": 40258681, "question_id": 31575399, "link": "https://stackoverflow.com/questions/31575399/dynamically-add-subplots-in-matplotlib-with-more-than-one-column/40258681#40258681", "title": "Dynamically add subplots in matplotlib with more than one column", "body": "<p>Here's the solution I ended up with.  It lets you reference subplots by name, and adds a new subplot if that name has not been used yet, repositioning all previous subplots in the process.</p>\n\n<p>Usage:</p>\n\n<pre><code>set_named_subplot('plot-a')  # Create a new plot\nplt.plot(np.sin(np.linspace(0, 10, 100)))  # Plot a curve\n\nset_named_subplot('plot-b')  # Create a new plot\nplt.imshow(np.random.randn(10, 10))   # Draw image\n\nset_named_subplot('plot-a')   # Set the first plot as the current one\nplt.plot(np.cos(np.linspace(0, 10, 100)))  # Plot another curve in the first plot\n\nplt.show()  # Will show two plots\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\n\ndef add_subplot(fig = None, layout = 'grid'):\n    \"\"\"\n    Add a subplot, and adjust the positions of the other subplots appropriately.\n    Lifted from this answer: http://stackoverflow.com/a/29962074/851699\n\n    :param fig: The figure, or None to select current figure\n    :param layout: 'h' for horizontal layout, 'v' for vertical layout, 'g' for approximately-square grid\n    :return: A new axes object\n    \"\"\"\n    if fig is None:\n        fig = plt.gcf()\n    n = len(fig.axes)\n    n_rows, n_cols = (1, n+1) if layout in ('h', 'horizontal') else (n+1, 1) if layout in ('v', 'vertical') else \\\n        vector_length_to_tile_dims(n+1) if layout in ('g', 'grid') else bad_value(layout)\n    for i in range(n):\n        fig.axes[i].change_geometry(n_rows, n_cols, i+1)\n    ax = fig.add_subplot(n_rows, n_cols, n+1)\n    return ax\n\n\n_subplots = {}\n\n\ndef set_named_subplot(name, fig=None, layout='grid'):\n    \"\"\"\n    Set the current axes.  If \"name\" has been defined, just return that axes, otherwise make a new one.\n\n    :param name: The name of the subplot\n    :param fig: The figure, or None to select current figure\n    :param layout: 'h' for horizontal layout, 'v' for vertical layout, 'g' for approximately-square grid\n    :return: An axes object\n    \"\"\"\n    if name in _subplots:\n        plt.subplot(_subplots[name])\n    else:\n        _subplots[name] = add_subplot(fig=fig, layout=layout)\n    return _subplots[name]\n\n\ndef vector_length_to_tile_dims(vector_length):\n    \"\"\"\n    You have vector_length tiles to put in a 2-D grid.  Find the size\n    of the grid that best matches the desired aspect ratio.\n\n    TODO: Actually do this with aspect ratio\n\n    :param vector_length:\n    :param desired_aspect_ratio:\n    :return: n_rows, n_cols\n    \"\"\"\n    n_cols = np.ceil(np.sqrt(vector_length))\n    n_rows = np.ceil(vector_length/n_cols)\n    grid_shape = int(n_rows), int(n_cols)\n    return grid_shape\n\n\ndef bad_value(value, explanation = None):\n    \"\"\"\n    :param value: Raise ValueError.  Useful when doing conditional assignment.\n    e.g.\n    dutch_hand = 'links' if eng_hand=='left' else 'rechts' if eng_hand=='right' else bad_value(eng_hand)\n    \"\"\"\n    raise ValueError('Bad Value: %s%s' % (value, ': '+explanation if explanation is not None else ''))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8883171, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/f2fc55712ee72f1e81c50399d5df4900?s=128&d=identicon&r=PG", "display_name": "user8883171", "link": "https://stackoverflow.com/users/8883171/user8883171"}, "is_accepted": false, "score": 0, "last_activity_date": 1510749152, "creation_date": 1510749152, "answer_id": 47307537, "question_id": 31575399, "link": "https://stackoverflow.com/questions/31575399/dynamically-add-subplots-in-matplotlib-with-more-than-one-column/47307537#47307537", "title": "Dynamically add subplots in matplotlib with more than one column", "body": "<pre><code>from math import ceil\nfrom PyQt5 import QtWidgets, QtCore\nfrom matplotlib.gridspec import GridSpec\nfrom matplotlib.figure import Figure\nfrom matplotlib.backends.backend_qt5agg import FigureCanvasQTAgg as FigureCanvas\nfrom matplotlib.backends.backend_qt5agg import NavigationToolbar2QT as NavigationToolbar\n\n\nclass MplCanvas(FigureCanvas):\n    \"\"\"\n    Frontend class. This is the FigureCanvas as well as plotting functionality.\n    Plotting use pyqt5.\n    \"\"\"\n\n    def __init__(self, parent=None):\n        self.figure = Figure()\n\n        gs = GridSpec(1,1)\n\n        self.figure.add_subplot(gs[0])\n        self.axes = self.figure.axes\n\n        super().__init__(self.figure)\n\n        self.canvas = self.figure.canvas\n        self.setSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding)\n        self.updateGeometry()\n        self.setParent(parent)\n\n    def add(self, cols=2):\n        N = len(self.axes) + 1\n        rows = int(ceil(N / cols))\n        grid = GridSpec(rows, cols)\n\n        for gs, ax in zip(grid, self.axes):\n            ax.set_position(gs.get_position(self.figure))\n\n        self.figure.add_subplot(grid[N-1])\n        self.axes = self.figure.axes\n        self.canvas.draw()\n</code></pre>\n\n<p>Was doing some PyQt5 work, but the add method shows how to dynamically add a new subplot. The set_position method of Axes is used to change the old position to new position. Then you add a new subplot with the new position. </p>\n"}], "owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13010, "favorite_count": 6, "answer_count": 3, "score": 8, "last_activity_date": 1510749152, "creation_date": 1437605648, "last_edit_date": 1495539943, "question_id": 31575399, "link": "https://stackoverflow.com/questions/31575399/dynamically-add-subplots-in-matplotlib-with-more-than-one-column", "title": "Dynamically add subplots in matplotlib with more than one column", "body": "<p>How can I dynamically add a new plot to bunch of subplots if I'm using more than one column to display my subplots? <a href=\"https://stackoverflow.com/questions/12319796/dynamically-add-create-subplots-in-matplotlib\">This</a> answers this question for one column, but I cant seem to modify the answers there to make it dynamically add to a subplot with <code>x</code> columns</p>\n\n<p>I modified <a href=\"https://stackoverflow.com/questions/12319796/dynamically-add-create-subplots-in-matplotlib\">Sadarthrion's answer</a> and attempted the following. Here, for sake of an example, I made <code>number_of_subplots=11</code> and <code>num_cols = 3</code>. </p>\n\n<pre><code>import matplotlib.pyplot as plt\n\ndef plotSubplots(number_of_subplots,num_cols):\n    # Start with one\n    fig = plt.figure()\n    ax = fig.add_subplot(111)\n    ax.plot([1,2,3])\n\n    for j in range(number_of_subplots):\n        if j &gt; 0: \n            # Now later you get a new subplot; change the geometry of the existing\n            n = len(fig.axes)\n            for i in range(n):\n                fig.axes[i].change_geometry(n+1, num_cols, i+1)\n\n            # Add the new\n            ax = fig.add_subplot(n+1, 1, n+1)\n            ax.plot([4,5,6])\n\n            plt.show() \n\n   plotSubplots(11,3) \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AGK3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AGK3w.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see this isn't giving me what I want. The first plot takes up all the columns and the additional plots are smaller than they should be</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p><code>('2.7.6 | 64-bit | (default, Sep 15 2014, 17:36:35) [MSC v.1500 64 bit (AMD64)]'</code></p>\n\n<p>Also I have matplotlib version 1.4.3:</p>\n\n<pre><code>import matplotlib as mpl\nprint mpl.__version__\n1.4.3\n</code></pre>\n\n<p>I tried Paul's answer below and get the following error message:</p>\n\n<pre><code>import math\n\nimport matplotlib.pyplot as plt\nfrom matplotlib import gridspec\n\ndef do_plot(ax):\n    ax.plot([1,2,3], [4,5,6], 'k.')\n\n\nN = 11\ncols = 3\nrows = math.ceil(N / cols)\n\ngs = gridspec.GridSpec(rows, cols)\nfig = plt.figure()\nfor n in range(N):\n    ax = fig.add_subplot(gs[n])\n    do_plot(ax)\n\nfig.tight_layout() \n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-1-f74203b1c1bf&gt; in &lt;module&gt;()\n     15 fig = plt.figure()\n     16 for n in range(N):\n---&gt; 17     ax = fig.add_subplot(gs[n])\n     18     do_plot(ax)\n     19 \n\nC:\\Users\\user\\AppData\\Local\\Enthought\\Canopy\\User\\lib\\site-packages\\matplotlib\\figure.pyc in add_subplot(self, *args, **kwargs)\n    962                     self._axstack.remove(ax)\n    963 \n--&gt; 964             a = subplot_class_factory(projection_class)(self, *args, **kwargs)\n    965 \n    966         self._axstack.add(key, a)\n\nC:\\Users\\user\\AppData\\Local\\Enthought\\Canopy\\User\\lib\\site-packages\\matplotlib\\axes\\_subplots.pyc in __init__(self, fig, *args, **kwargs)\n     73             raise ValueError('Illegal argument(s) to subplot: %s' % (args,))\n     74 \n---&gt; 75         self.update_params()\n     76 \n     77         # _axes_class is set in the subplot_class_factory\n\nC:\\Users\\user\\AppData\\Local\\Enthought\\Canopy\\User\\lib\\site-packages\\matplotlib\\axes\\_subplots.pyc in update_params(self)\n    113         self.figbox, self.rowNum, self.colNum, self.numRows, self.numCols =     114             self.get_subplotspec().get_position(self.figure,\n--&gt; 115                                                 return_all=True)\n    116 \n    117     def is_first_col(self):\n\nC:\\Users\\user\\AppData\\Local\\Enthought\\Canopy\\User\\lib\\site-packages\\matplotlib\\gridspec.pyc in get_position(self, fig, return_all)\n    423 \n    424         figBottoms, figTops, figLefts, figRights = --&gt; 425                     gridspec.get_grid_positions(fig)\n    426 \n    427 \n\nC:\\Users\\user\\AppData\\Local\\Enthought\\Canopy\\User\\lib\\site-packages\\matplotlib\\gridspec.pyc in get_grid_positions(self, fig)\n    103             cellHeights = [netHeight*r/tr for r in self._row_height_ratios]\n    104         else:\n--&gt; 105             cellHeights = [cellH] * nrows\n    106 \n    107         sepHeights = [0] + ([sepH] * (nrows-1))\n\nTypeError: can't multiply sequence by non-int of type 'float' \n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 2852, "user_id": 259453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fwt6n.jpg?s=128&g=1", "display_name": "volvox", "link": "https://stackoverflow.com/users/259453/volvox"}, "edited": false, "score": 0, "creation_date": 1437606524, "post_id": 31575374, "comment_id": 51105883, "body": "I&#39;m happy to change my question so that it refers to sets if it pleases the moderators (I don&#39;t want to fu replies below).  I thought these were dictionaries as they essentially appeared to me to be associative arrays of keys without values (yet).  Maybe I need to R more of TFM."}], "answers": [{"comments": [{"owner": {"reputation": 2852, "user_id": 259453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fwt6n.jpg?s=128&g=1", "display_name": "volvox", "link": "https://stackoverflow.com/users/259453/volvox"}, "edited": false, "score": 0, "creation_date": 1437606173, "post_id": 31575435, "comment_id": 51105791, "body": "This gets the nod for me not needing to import anything. Chrs."}, {"owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "edited": false, "score": 0, "creation_date": 1437606785, "post_id": 31575435, "comment_id": 51105952, "body": "IMO, you should still look at the <a href=\"http://pandas.pydata.org/pandas-docs/stable/\" rel=\"nofollow noreferrer\">pandas package</a> since it is its exact purpose to have 2d dictionaries..."}], "tags": [], "owner": {"reputation": 1716, "user_id": 3757614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56bd133b7feaee7fde836a20e59d9e49?s=128&d=identicon&r=PG&f=1", "display_name": "user3757614", "link": "https://stackoverflow.com/users/3757614/user3757614"}, "is_accepted": true, "score": 2, "last_activity_date": 1437605860, "creation_date": 1437605860, "answer_id": 31575435, "question_id": 31575374, "link": "https://stackoverflow.com/questions/31575374/create-and-instantiate-python-2d-dictionary/31575435#31575435", "title": "Create and instantiate python 2d dictionary", "body": "<pre><code>for ccy in ccyAr:\n    for d in data:\n        table['ccy']['d'] = 0\n</code></pre>\n\n<p>Is close.</p>\n\n<pre><code>table = {}\nfor ccy in ccyAr:\n    table[ccy] = {}\n    for d in data:\n        table[ccy][d] = 0\n</code></pre>\n\n<p>Also, ccyAr and data in your question are sets, not dictionaries.</p>\n"}, {"tags": [], "owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "is_accepted": false, "score": 1, "last_activity_date": 1437606403, "creation_date": 1437606403, "answer_id": 31575519, "question_id": 31575374, "link": "https://stackoverflow.com/questions/31575374/create-and-instantiate-python-2d-dictionary/31575519#31575519", "title": "Create and instantiate python 2d dictionary", "body": "<p>What you are searching for is a <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame\" rel=\"nofollow\">pandas DataFrame</a> of shape <code>data</code> x <code>ccyAr</code>. I give a minimal example here:</p>\n\n<pre><code>import pandas as pd\n\ndata = {'1', '2'}\nccyAr = {'a','b','c'}\n\ndf = pd.DataFrame(np.zeros((len(data), len(ccyAr))))\n</code></pre>\n\n<p>Then the most important step is to set both the columns and the index. If your two so-called dictionaries are in fact sets (as it seems in your code), use:</p>\n\n<pre><code>df.columns = ccyAr\ndf.index = data\n</code></pre>\n\n<p>If they are indeed dictionaries, you instead have to call their keys method:</p>\n\n<pre><code>df.columns = ccyAr.keys()\ndf.index = data.keys()\n</code></pre>\n\n<p>You can <code>print df</code> to see that this is actually what you wanted:</p>\n\n<pre><code>  | a | c | b\n-------------\n1 | 0   0   0\n2 | 0   0   0\n</code></pre>\n\n<p>And now if you try to access via <code>df['a'][1]</code> it returns you 0. It is the best solution to your problem.</p>\n"}, {"comments": [{"owner": {"reputation": 2852, "user_id": 259453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fwt6n.jpg?s=128&g=1", "display_name": "volvox", "link": "https://stackoverflow.com/users/259453/volvox"}, "edited": false, "score": 0, "creation_date": 1437722778, "post_id": 31575776, "comment_id": 51159583, "body": "Does the notion of the absence of values make each member =0? This was what I was looking for, of course {} instead of [] was the difference , at least I think. I will have to run it the check."}, {"owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "reply_to_user": {"reputation": 2852, "user_id": 259453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fwt6n.jpg?s=128&g=1", "display_name": "volvox", "link": "https://stackoverflow.com/users/259453/volvox"}, "edited": false, "score": 0, "creation_date": 1437737872, "post_id": 31575776, "comment_id": 51168707, "body": "That was my mistake. I don&#39;t know why I thought you wanted an empty dict. That can be changed to 0."}], "tags": [], "owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1437737884, "last_edit_date": 1437737884, "creation_date": 1437607994, "answer_id": 31575776, "question_id": 31575374, "link": "https://stackoverflow.com/questions/31575374/create-and-instantiate-python-2d-dictionary/31575776#31575776", "title": "Create and instantiate python 2d dictionary", "body": "<p>How to do this using a dictionary comprehension:</p>\n\n<pre><code>table = {ccy:{d:0 for d in data} for ccy in ccyAr}\n</code></pre>\n"}], "owner": {"reputation": 2852, "user_id": 259453, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fwt6n.jpg?s=128&g=1", "display_name": "volvox", "link": "https://stackoverflow.com/users/259453/volvox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1236, "favorite_count": 0, "accepted_answer_id": 31575435, "answer_count": 3, "score": 0, "last_activity_date": 1437737884, "creation_date": 1437605540, "question_id": 31575374, "link": "https://stackoverflow.com/questions/31575374/create-and-instantiate-python-2d-dictionary", "title": "Create and instantiate python 2d dictionary", "body": "<p>I have two python dictionaries:</p>\n\n<pre><code>ccyAr = {'AUDCAD','AUDCHF','AUDJPY','AUDNZD','AUDUSD','CADCHF','CADJPY','CHFJPY','EURAUD','EURCAD','EURCHF','EURGBP','EURJPY','EURNZD','EURUSD','GBPAUD','GBPCAD','GBPCHF','GBPJPY','GBPNZD','GBPUSD','NZDCAD','NZDCHF','NZDJPY','NZDUSD','USDCAD','USDCHF','USDJPY'}\n\ndata  = {'BTrades', 'BPips', 'BProfit', 'STrades', 'SPips', 'SProfit', 'Trades', 'Pips', 'Profit', 'Won', 'WonPC', 'Lost', 'LostPC'}\n</code></pre>\n\n<p>I've been trying to get my head round how to most elegantly create a construct in which each of 'data' exists in each of 'ccyAr'.  The following are the two I feel are the closest, but the first results (now I realise) in arrays and the latter i more like pseudocode:</p>\n\n<p>1.</p>\n\n<pre><code>table={ { data:[] for d in data } for ccy in ccyAr }\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>for ccy in ccyAr:\n    for d in data:\n        table['ccy']['d'] = 0\n</code></pre>\n\n<p>I also want to set each of the entries to int 0 and I'd like to do it in one go.  I'm struggling with the comprehension method as I end up creating each value of each inside directory member as a list instead of a value 0.</p>\n\n<p>I've seen the autovivification piece but I don't want to mimic perl, I want to do it the pythonic way.  Any help = cheers.</p>\n"}, {"tags": ["python", "ipython-notebook"], "answers": [{"tags": [], "owner": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "is_accepted": true, "score": 0, "last_activity_date": 1437605998, "creation_date": 1437605998, "answer_id": 31575455, "question_id": 31575359, "link": "https://stackoverflow.com/questions/31575359/executing-python-setup-py-install-inside-an-ipython-notebook/31575455#31575455", "title": "Executing &quot;python setup.py install&quot; inside an iPython notebook", "body": "<p>No, installing a python module in the terminal is sufficient. There is not such thing as installing within the IPython notebook.</p>\n\n<p>Simply restart your IPython notebook after the install. If it still does not work, you are probably not using the same python interpreter between the two: check python version (<code>which python</code>), make sure you are not using a virtual environment, and that <code>$PYTHON_PATH</code> is not somehow different, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 4378, "user_id": 4358680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGQtt.jpg?s=128&g=1", "display_name": "Meghdeep Ray", "link": "https://stackoverflow.com/users/4358680/meghdeep-ray"}, "is_accepted": false, "score": 0, "last_activity_date": 1437613737, "creation_date": 1437613737, "answer_id": 31576569, "question_id": 31575359, "link": "https://stackoverflow.com/questions/31575359/executing-python-setup-py-install-inside-an-ipython-notebook/31576569#31576569", "title": "Executing &quot;python setup.py install&quot; inside an iPython notebook", "body": "<p>You might be using the wrong version of the iPython notebook.\n<br>\nPerhaps you've been using <code>ipython3 notebook</code> instead of <code>ipython notebook</code> or vice-versa. If Python2.7 has the package you want, it won't work if you try to import it into the <code>ipython3 notebook</code>.\n<br><br>\nIf there's a version mismatch then you can usually just get the relevant package using a <code>sudo pip3 install package_name</code> or <code>sudo pip install package_name</code> depending on the version you want.\n<br><br>\nOf course pip can be obtained by <code>sudo apt-get install python3-pip</code> for Python 3 and <code>sudo apt-get install python-pip</code> for Python2.7.</p>\n"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2657, "favorite_count": 1, "accepted_answer_id": 31575455, "answer_count": 2, "score": 3, "last_activity_date": 1437613737, "creation_date": 1437605399, "question_id": 31575359, "link": "https://stackoverflow.com/questions/31575359/executing-python-setup-py-install-inside-an-ipython-notebook", "title": "Executing &quot;python setup.py install&quot; inside an iPython notebook", "body": "<p>I recently downloaded some software that requires one to change to the directory with python files, and run <code>python setup.py install --user</code> in the Terminal. </p>\n\n<p>One then checks whether the code is running correctly by trying <code>from [x] import [y]</code></p>\n\n<p>This works on my Terminal. However, when I then try <code>from [x] import [y]</code> in the notebook, it never works. So, this makes me think I must install the <code>setup.py</code> file within the iPython notebook. </p>\n\n<p>How does one do this? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1437604780, "post_id": 31575251, "comment_id": 51105351, "body": "there is no reason to use it"}, {"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1437604799, "post_id": 31575251, "comment_id": 51105358, "body": "Could you reference one of these tutorials that does this? That would help with context."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1437605002, "post_id": 31575251, "comment_id": 51105431, "body": "I was wondering who was teaching this non-pattern. No, there is absolutely no reason to use that."}, {"owner": {"reputation": 553, "user_id": 194305, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1bea25433dd75445237bc5c42a225287?s=128&d=identicon&r=PG", "display_name": "zzz777", "link": "https://stackoverflow.com/users/194305/zzz777"}, "edited": false, "score": 0, "creation_date": 1511634440, "post_id": 31575251, "comment_id": 81933453, "body": "What about equivalent of"}], "answers": [{"tags": [], "owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "is_accepted": true, "score": 7, "last_activity_date": 1437605023, "last_edit_date": 1437605023, "creation_date": 1437604874, "answer_id": 31575279, "question_id": 31575251, "link": "https://stackoverflow.com/questions/31575251/necessity-of-an-empty-else-statement-in-python/31575279#31575279", "title": "Necessity of an &#39;empty&#39; else statement in Python", "body": "<p>There is no reason for an <code>else</code> to be there if you are not using it. It just may be the person's code style preference, but this is an unusual style choice that wastes space.</p>\n"}, {"tags": [], "owner": {"reputation": 253, "user_id": 3029329, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HAfn7.png?s=128&g=1", "display_name": "mickm", "link": "https://stackoverflow.com/users/3029329/mickm"}, "is_accepted": false, "score": 2, "last_activity_date": 1437607317, "creation_date": 1437607317, "answer_id": 31575667, "question_id": 31575251, "link": "https://stackoverflow.com/questions/31575251/necessity-of-an-empty-else-statement-in-python/31575667#31575667", "title": "Necessity of an &#39;empty&#39; else statement in Python", "body": "<p>This is a matter of much debate. </p>\n\n<p>Some say it may be useful in certain circumstances:</p>\n\n<ul>\n<li><p>as a stub, where you are intending to add a future exception.</p></li>\n<li><p>in certain circumstances, where it may improve the readability of your code.</p></li>\n</ul>\n\n<p>Some say never.</p>\n\n<p>However, I would say an empty else statement is usually unnecessary, save where the above circumstances apply.</p>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 5133008, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pAJlE.png?s=128&g=1", "display_name": "svs", "link": "https://stackoverflow.com/users/5133008/svs"}, "is_accepted": false, "score": 0, "last_activity_date": 1437638169, "creation_date": 1437638169, "answer_id": 31581341, "question_id": 31575251, "link": "https://stackoverflow.com/questions/31575251/necessity-of-an-empty-else-statement-in-python/31581341#31581341", "title": "Necessity of an &#39;empty&#39; else statement in Python", "body": "<p>I don't think there is a reason to do that but maybe it's for no confusion.</p>\n"}], "owner": {"reputation": 4989, "user_id": 3633487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pVoco.jpg?s=128&g=1", "display_name": "The Nightman", "link": "https://stackoverflow.com/users/3633487/the-nightman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6159, "favorite_count": 1, "accepted_answer_id": 31575279, "answer_count": 3, "score": 2, "last_activity_date": 1437638169, "creation_date": 1437604736, "question_id": 31575251, "link": "https://stackoverflow.com/questions/31575251/necessity-of-an-empty-else-statement-in-python", "title": "Necessity of an &#39;empty&#39; else statement in Python", "body": "<p>I have now seen the following multiple times in some python tutorials.</p>\n\n<pre><code>if True:\n    do something\nelse:\n    pass\n</code></pre>\n\n<p>To me the else statement seems pretty unnecessary. Is this just to make the code more clear? Or is there some safety reason why this needs to be done? Thanks.</p>\n"}, {"tags": ["python", "matplotlib", "matplotlib-basemap"], "answers": [{"tags": [], "owner": {"reputation": 15970, "user_id": 210945, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/20cb8dcc17ad4334c0f8cb1ddc28bcd0?s=128&d=identicon&r=PG", "display_name": "naught101", "link": "https://stackoverflow.com/users/210945/naught101"}, "is_accepted": true, "score": 1, "last_activity_date": 1466399824, "creation_date": 1466399824, "answer_id": 37915030, "question_id": 31575249, "link": "https://stackoverflow.com/questions/31575249/add-axis-to-geographical-plot-in-basemap-pyplot/37915030#37915030", "title": "Add axis to geographical plot in basemap/pyplot", "body": "<p>Try <a href=\"http://matplotlib.org/basemap/api/basemap_api.html#mpl_toolkits.basemap.Basemap.drawmeridians\" rel=\"nofollow\"><code>map.drawmeridians(meridians, ...)</code></a> for lines of longitude, and <a href=\"http://matplotlib.org/basemap/api/basemap_api.html#mpl_toolkits.basemap.Basemap.drawparallels\" rel=\"nofollow\"><code>map.drawparallels(circles, ...)</code></a> for lines of latitude.</p>\n"}], "owner": {"reputation": 1899, "user_id": 2169327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/66c9bad39b0964c92cc01cfdd8bb4753?s=128&d=identicon&r=PG", "display_name": "bjornasm", "link": "https://stackoverflow.com/users/2169327/bjornasm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 37915030, "answer_count": 1, "score": 0, "last_activity_date": 1466399824, "creation_date": 1437604728, "last_edit_date": 1437688031, "question_id": 31575249, "link": "https://stackoverflow.com/questions/31575249/add-axis-to-geographical-plot-in-basemap-pyplot", "title": "Add axis to geographical plot in basemap/pyplot", "body": "<p>I've done some plots using pythons basemap. I want to provide some additional information to my plots, by adding the latitude and longitude as axes around my geographical plot. Preferably with tick marks thats pretty accurate. Just as a normal map.</p>\n\n<p>Is this possible? </p>\n\n<p>This is my plotting code:</p>\n\n<pre><code>map = Basemap(\nprojection=\"merc\",\nresolution = 'h', area_thresh = 0.001,\nllcrnrlon=bottomlong, llcrnrlat=bottomlat,\nurcrnrlon=toplong, urcrnrlat=toplat)\nmap.drawcoastlines(color='black')\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "csv", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 4502651, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3692ab9892b0b6f99fc2a94256c4617f?s=128&d=identicon&r=PG&f=1", "display_name": "BoobaGump", "link": "https://stackoverflow.com/users/4502651/boobagump"}, "edited": false, "score": 0, "creation_date": 1437643325, "post_id": 31575717, "comment_id": 51119089, "body": "Thank you for your clear answer. But i&#39;m not sure that works precisely as i want it to work. I wasn&#39;t very clear and i&#39;m sorry for that. Indeed, in your final dic, we don&#39;t have the information than in the field &#39;y&#39;, 5 comes from the third URL. Indeed, it is placed in the first position, right below, a1 which come form the first URL ."}, {"owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "reply_to_user": {"reputation": 395, "user_id": 4502651, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3692ab9892b0b6f99fc2a94256c4617f?s=128&d=identicon&r=PG&f=1", "display_name": "BoobaGump", "link": "https://stackoverflow.com/users/4502651/boobagump"}, "edited": false, "score": 0, "creation_date": 1437684239, "post_id": 31575717, "comment_id": 51147076, "body": "okay and how do you know when a url is finished ? Is there like a &quot;stop code&quot; to know one url is finished and another one begins ?"}, {"owner": {"reputation": 395, "user_id": 4502651, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3692ab9892b0b6f99fc2a94256c4617f?s=128&d=identicon&r=PG&f=1", "display_name": "BoobaGump", "link": "https://stackoverflow.com/users/4502651/boobagump"}, "edited": false, "score": 0, "creation_date": 1437688489, "post_id": 31575717, "comment_id": 51149148, "body": "No. There is not. Now there is a list of list of pairs that allows me to know when a URL stops. It works now. I&#39;ll update a working&#39; answer."}], "tags": [], "owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "is_accepted": false, "score": 0, "last_activity_date": 1437607653, "creation_date": 1437607653, "answer_id": 31575717, "question_id": 31575240, "link": "https://stackoverflow.com/questions/31575240/how-to-create-this-kind-of-dictionary/31575717#31575717", "title": "How to create this kind of dictionary?", "body": "<p>You can have <code>list</code> objects as value for your <code>dict</code>. So it is as simple as:</p>\n\n<pre><code>content = \"\"\"a;1\nb;2\nc;3\nd;4\ne;5\na;7\nb;3\nc;5\nd;8\ne;9\na;9\nb;3\ny;5\"\"\"\n\ncsv_data = []\nfor line in content.split('\\n'):\n    csv_data.append( [x.strip() for x in line.split(';')] )\n\ns = csv_data\ndic = {}\nfor n in range(0,len(s)):\n    if (len(s[n]) == 2):\n        key = s[n][0]\n        val = s[n][1]\n        if key not in dic:\n            dic[key] = []\n        dic[key].append(val)\n</code></pre>\n\n<p>And now <code>dic</code> is:</p>\n\n<pre><code>{'a': ['1', '7', '9'],\n 'b': ['2', '3', '3'],\n 'c': ['3', '5'],\n 'd': ['4', '8'],\n 'e': ['5', '9'],\n 'y': ['5']}\n</code></pre>\n\n<p>Which is what you wanted I guess.</p>\n\n<p>On a side note, I would strongly advise you never to use <code>from package_xx import *</code> because it can clutter your environment.</p>\n"}, {"tags": [], "owner": {"reputation": 395, "user_id": 4502651, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3692ab9892b0b6f99fc2a94256c4617f?s=128&d=identicon&r=PG&f=1", "display_name": "BoobaGump", "link": "https://stackoverflow.com/users/4502651/boobagump"}, "is_accepted": true, "score": 0, "last_activity_date": 1437688535, "creation_date": 1437688535, "answer_id": 31598745, "question_id": 31575240, "link": "https://stackoverflow.com/questions/31575240/how-to-create-this-kind-of-dictionary/31598745#31598745", "title": "How to create this kind of dictionary?", "body": "<pre><code>from bs4 import BeautifulSoup\nimport csv\nimport urllib.request\nfrom collections import *\n\n\ndef parse_csv(content, delimiter = ';'):  ##We use here \";\" to parse CSV because of the European way of dealing with excel-csv\n  csv_data = []\n  for line in content.split('\\n'):\n    csv_data.append( [x.strip() for x in line.split( delimiter )] ) # strips spaces also\n  return csv_data\n\nList_of_list_of_pairs=[]\nList_of_pairs=[]\n\nlist_url=parse_csv(open('url.csv','rU').read())\n\n\nfor i in range(0,len(list_url)) :\n    List_of_pairs = []\n\n    url=str(list_url[i][0]) ## read URL from an array coming from an Url-CSV\n    page=urllib.request.urlopen(url)\n    soup_0 = BeautifulSoup(page.read(),\"html.parser\")\n    restricted_webpage= soup_0.find( \"div\", {\"id\":\"ingredients\"} )\n    readable_restricted=str(restricted_webpage)\n    soup=BeautifulSoup(readable_restricted,\"html.parser\")\n\n\n    trs = soup.find_all('tr')\n\n    for tr in trs:\n        tds = tr.find_all(\"td\")\n\n        try: #we are using \"try\" because the table is not well formatted. This allows the program to continue after encountering an error.\n            Nutriments = str(tds[0].get_text().strip())\n            print(Nutriments)\n        # This structure $isolate the item by its column in the table and converts it into a string.\n            Quantity = str(tds[1].get_text().strip())\n            print(Quantity)\n            Pair=[Nutriments,Quantity]\n            List_of_pairs.append(Pair)\n\n        except:\n            print (\"bad tr string\")\n            continue #This tells the computer to move on to the next item after it encounters an error\n    List_of_list_of_pairs.append(List_of_pairs)\n\nprint(List_of_list_of_pairs)\ndico = defaultdict(list)\n\nfor n,list_of_pairs in enumerate(List_of_list_of_pairs):\n    for i,pairs in enumerate(list_of_pairs):\n        if (len(pairs) == 2):\n             cle = pairs[0]\n             val = pairs[1]\n             while (len(dico[cle]) &lt; n):\n                   dico[cle].append('ND')\n             dico[cle].append(val)\nfor cle in dico:\n    while (len(dico[cle]) &lt; n):\n            dico[cle].append('ND')\n\n\nimport csv\nwith open(\"dict2csv.csv\", 'w',encoding='utf8') as outfile:\n   csv_writer = csv.writer(outfile, delimiter=';', quotechar='|', quoting=csv.QUOTE_MINIMAL,)\n\n   for k,v in dico.items():\n       csv_writer.writerow([k] + v)\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 4502651, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3692ab9892b0b6f99fc2a94256c4617f?s=128&d=identicon&r=PG&f=1", "display_name": "BoobaGump", "link": "https://stackoverflow.com/users/4502651/boobagump"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 31598745, "answer_count": 2, "score": 0, "last_activity_date": 1437688535, "creation_date": 1437604650, "last_edit_date": 1437605464, "question_id": 31575240, "link": "https://stackoverflow.com/questions/31575240/how-to-create-this-kind-of-dictionary", "title": "How to create this kind of dictionary?", "body": "<p>I'm scrapping datas from several URL tables. My code allows me to get such a csv (using semi-colon as coma ... EUROPE) </p>\n\n<pre><code>a;1  -------- 1st URL\nb;2\nc;3\nd;4\ne;5\na;7 ---------- 2nd URL\nb;3\nc;5\nd;8\ne;9\na;9 ---------- 3rd URL\nb;3\ny;5\n</code></pre>\n\n<p>The ---URL are not part of the CSV. It's just to show you where datas for URL1 begin, and so on.<br>\nI never know in advance how much fields an URL is gonna contain and what are the fields he is gonna contain. \nI want to get to a CSV well-organized looking like this (with the example) :</p>\n\n<pre><code>Name ; 1stUrl ;2ndURl ;3rd Url\na;1;7;9\nb;2;3;3\nc;3;5;\u00f8\nd;4;8;\u00f8\ne;5;9;\u00f8\ny;\u00f8;\u00f8;5\n</code></pre>\n\n<p>I don't care very much about the order of the a,b,c,d. The fields can be in the ordre they prefer most. </p>\n\n<p>The thing is i have two problems : \n- when the code encounter a new field, it must add it to the list of field (example of the 'y' field). \n- the code must leave a blank/vacuumed space ;\u00f8; when there is no key in the URL for that field. </p>\n\n<p>I've tried something poorly but that's clearly not it. Even conceptually, i'm not there.</p>\n\n<pre><code>from collections import *\nimport csv\n\ndef parse_csv(content, delimiter = ';'):\n  csv_data = []\n  for line in content.split('\\n'):\n    csv_data.append( [x.strip() for x in line.split( delimiter )] ) # strips spaces also\n  return csv_data\n\n\ns =parse_csv(open('raw.csv','rU', encoding='utf8').read())\nprint(len(s))\ndic = defaultdict(list)\nfor n in range(0,len(s)):\n    if (len(s[n]) == 2):\n        key = s[n][0]\n        val = s[n][1]\n        print(key)\n        print(val)\n\n\nwriter = csv.writer(open('dict.csv', 'w',encoding='utf8'), delimiter=';')\nfor key, value in dico.items():\n   writer.writerow([key, value])\n</code></pre>\n\n<p>What do you think of it ?<br>\nAny help would be appreciated guys :) ! </p>\n"}, {"tags": ["python", "mysql", "mysql-python"], "answers": [{"comments": [{"owner": {"reputation": 1281, "user_id": 1982483, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/jCDSl.jpg?s=128&g=1", "display_name": "ramu", "link": "https://stackoverflow.com/users/1982483/ramu"}, "edited": false, "score": 1, "creation_date": 1437606072, "post_id": 31575190, "comment_id": 51105753, "body": "In case when I pass multiple arguments it fails eg:  cursor.execute(&quot;&quot;&quot;insert into table1(%s) values (%s)&quot;&quot;&quot;, (query_columns,query_values,)) bcoz it appends &#39; single quotes  mysqlerror 1064 :&#39;source_schema_name&#39;) values (&#39;wtf&#39;)&#39;"}], "tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": true, "score": 1, "last_activity_date": 1437606479, "last_edit_date": 1437606479, "creation_date": 1437604379, "answer_id": 31575190, "question_id": 31575159, "link": "https://stackoverflow.com/questions/31575159/mysqldb-appends-single-quotes-to-string-when-trying-to-insert/31575190#31575190", "title": "MysqlDB appends single quotes to string when trying to insert", "body": "<p>You have sql syntax error. You forgot parentheses after values. Also <code>table</code> is a reserved word. I would quote with backticks. Use the following instead:</p>\n\n<pre><code>cursor.execute(\"\"\"insert into `table`(schema_name) values (%s)\"\"\", (b,))\n</code></pre>\n\n<p>Also you can't pass fields as parameters. You can use:</p>\n\n<pre><code>list_of_keys = ''.join(['key1','key2','key3'])\nsql = \"\"\"insert into `table`(%s) values (%%s)\"\"\" % list_of_keys\ncursor.execute(sql, ['v1', None, 'v2'])\n</code></pre>\n"}], "owner": {"reputation": 1281, "user_id": 1982483, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/jCDSl.jpg?s=128&g=1", "display_name": "ramu", "link": "https://stackoverflow.com/users/1982483/ramu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 1, "accepted_answer_id": 31575190, "answer_count": 1, "score": 3, "last_activity_date": 1437606479, "creation_date": 1437604178, "question_id": 31575159, "link": "https://stackoverflow.com/questions/31575159/mysqldb-appends-single-quotes-to-string-when-trying-to-insert", "title": "MysqlDB appends single quotes to string when trying to insert", "body": "<p>I have been tirelessly trying to resolve the issue of using parameterized mysql query in python and haven`t found a solution yet.</p>\n\n<p>What I am trying to do is this simple thing:-</p>\n\n<pre><code>  def parameterized_dml_query(self, sql, param):\n    print sql, param\n    cursor = self.connection.cursor()\n    b='wtf'\n    cursor.execute(\"\"\"insert into table(schema_name) values %s\"\"\", (b,))\n    self.connection.commit()\n    logger.info(\"Row(s) were updated/ inserted :%s for sql : %s\",str(cursor.rowcount), sql)\n    no_of_rows_update = str(cursor.rowcount)\n    return no_of_rows_update\n</code></pre>\n\n<p>But I always get this error : </p>\n\n<pre><code>(1064, \"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''wtf'' at line 1\")\n</code></pre>\n\n<p>I don`t know why this ... API is adding single quotes to it.</p>\n\n<p>Other questions :-\n1. Is there any way to parameterize table_name.\n2. In case of inserting NULL if I have a list of values like </p>\n\n<pre><code>list_of_keys = ''.join(['key1','key2','key3'])\nlist_of_values =''.join(['v1', None, 'v2'])\n\nsql = \"\"\"insert into table(%s) values %s\"\"\"\nparam = (list_of_keys, list_of_values)\n</code></pre>\n\n<p>And I call the <code>parameterized_dml_query</code> function it doesn`t work. So whats the best way to handle None.</p>\n"}, {"tags": ["python", "xml", "lxml"], "comments": [{"owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "edited": false, "score": 1, "creation_date": 1437612485, "post_id": 31575152, "comment_id": 51107391, "body": "Post <a href=\"http://stackoverflow.com/help/mcve\"><i>short but complete</i></a> codes to demonstrate the problem, so we can see what was wrong exactly, and may suggest a fix."}, {"owner": {"reputation": 1, "user_id": 4480153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57417a642bb9c3a2d0c2f487bf92b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "leon2225", "link": "https://stackoverflow.com/users/4480153/leon2225"}, "reply_to_user": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "edited": false, "score": 0, "creation_date": 1437646226, "post_id": 31575152, "comment_id": 51120942, "body": "@har07 added the codes."}], "answers": [{"tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": false, "score": 0, "last_activity_date": 1437615145, "creation_date": 1437615145, "answer_id": 31576755, "question_id": 31575152, "link": "https://stackoverflow.com/questions/31575152/python-lxml-add-own-tags-to-a-xml-file/31576755#31576755", "title": "Python Lxml: Add own tags to a XML File", "body": "<p>You have to directly find the root and then insert. The tutorial you are looking at does not parse an example xml file but actually creates root and child elements:</p>\n\n<pre><code>import lxml.etree as ET\n\ndom = ET.parse('C:\\Path\\To\\XMLFile.xml')\n\nfor elements in dom.iter('root'):        \n    child = ET.Element(\"child\")\n    elements.insert(1,child)\n    child.text = '...'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4480153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57417a642bb9c3a2d0c2f487bf92b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "leon2225", "link": "https://stackoverflow.com/users/4480153/leon2225"}, "is_accepted": false, "score": 0, "last_activity_date": 1437646600, "creation_date": 1437646600, "answer_id": 31584424, "question_id": 31575152, "link": "https://stackoverflow.com/questions/31575152/python-lxml-add-own-tags-to-a-xml-file/31584424#31584424", "title": "Python Lxml: Add own tags to a XML File", "body": "<p>I've got found the Error by myself.\nIf I add my own parser to the parse method, I'll get a well formated XML output, also the interna are working well now. </p>\n"}], "owner": {"reputation": 1, "user_id": 4480153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57417a642bb9c3a2d0c2f487bf92b1f3?s=128&d=identicon&r=PG&f=1", "display_name": "leon2225", "link": "https://stackoverflow.com/users/4480153/leon2225"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 509, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437646600, "creation_date": 1437604144, "last_edit_date": 1437646202, "question_id": 31575152, "link": "https://stackoverflow.com/questions/31575152/python-lxml-add-own-tags-to-a-xml-file", "title": "Python Lxml: Add own tags to a XML File", "body": "<p>I've got a problem while adding my own Elements (tags)  to an XML tree I've parsed from a file. </p>\n\n<p>If I'm trying to add a Element to the existing tree, that one from the file, it doesn't add it correctly, no matter if I use <code>new_tag = etree.Subelement(self.root, \"new_tag\")</code> or <br> \n<code>new_tag = Element(\"new_tag\")\nself.root.append(new_tag)</code></p>\n\n<p>The returning of <code>self.root.tostring()</code> is looking awesome, the added elements where not indented in the right way and for example <code>len(self.root)</code> still returns the same value as it did before I added the Element. </p>\n\n<p>The only thing I did diffrent from the <a href=\"http://lxml.de/tutorial.html\" rel=\"nofollow\">examples at lxml.de</a> is that I put all these thing into a class ... but why shouldn't that work?</p>\n\n<p>I hope you could help me, because I was searching for that bug about 3 hours and I didn't find it.</p>\n\n<p>Leon</p>\n\n<p>edit:</p>\n\n<p>here is the code:</p>\n\n<pre><code>#!/usr/bin/env python3\n\nfrom lxml import etree\n\nclass MyClass(object):\n    def __init__(self, xml_filepath = \"data.xml\"):\n        '''\n        Constructor\n        '''\n        self._xml_path = xml_filepath\n\n        with open(self._xml_path) as input_file:\n            self.tree = etree.parse(input_file)\n        self.xml_tags = self.tree.getroot()[0]\n\n    def read_something(self):\n\n\n        return [tag.tag for tag in self.tree.iter(\"child\")]\n\n    def change_something(self):\n        self.xml_tags[0].tag = \"test\"\n\n    def add_something(self):\n        for elements in self.tree.iter('Home'):        \n            child = etree.Element(\"child\")\n            child2 = etree.Element(\"child2\")\n            elements.insert(1,child)\n            child.insert(0, child2)\n            child2.text = \"23123\"\n\n    def to_string(self):\n        list_ = list(self.tree.getroot()[0])\n        print(list_)\n        return(etree.tostring(self.tree, pretty_print=True, xml_declaration=True).decode())\n\nif __name__ == '__main__':\n    testClass = MyClass()\n    testClass.change_something()\n    testClass.add_something()\n    print(testClass.to_string())\n    print(testClass.read_something())\n</code></pre>\n\n<p>the returning is:</p>\n\n<pre><code>[&lt;Element test at 0x765e7e68&gt;, &lt;Element child at 0x765e7e90&gt;]\n&lt;?xml version='1.0' encoding='ASCII'?&gt;\n&lt;root&gt;\n  &lt;Home&gt;\n    &lt;test&gt;\n      &lt;name&gt;Hello world&lt;/name&gt;\n    &lt;/test&gt;\n  &lt;child&gt;&lt;child2&gt;23123&lt;/child2&gt;&lt;/child&gt;&lt;/Home&gt;\n&lt;/root&gt;\n\n['child']\n</code></pre>\n\n<p>and the original xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;root&gt;\n  &lt;Home&gt;\n    &lt;test&gt;      \n      &lt;name&gt;Hello world&lt;/name&gt;\n    &lt;/test&gt;    \n  &lt;/Home&gt;\n&lt;/root&gt;\n</code></pre>\n"}, {"tags": ["python", "web2py"], "comments": [{"owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "edited": false, "score": 0, "creation_date": 1437604624, "post_id": 31575008, "comment_id": 51105297, "body": "What is <code>sequencer</code> and where/how is <code>db</code> defined? Please show more of the relevant code."}, {"owner": {"reputation": 10059, "user_id": 1004725, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/70933c957372222f139e1283208692ae?s=128&d=identicon&r=PG", "display_name": "Hans Then", "link": "https://stackoverflow.com/users/1004725/hans-then"}, "edited": false, "score": 0, "creation_date": 1437604737, "post_id": 31575008, "comment_id": 51105337, "body": "Can&#39;t really tell if you do not show how the code interacts."}, {"owner": {"reputation": 11, "user_id": 1485988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ShF5.jpg?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1485988/jim"}, "reply_to_user": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "edited": false, "score": 1, "creation_date": 1437605652, "post_id": 31575008, "comment_id": 51105639, "body": "@Anthony - Sequencer is just a class I&#39;ve written and stored in the modules directory.  If you think it is relevant I can post here."}, {"owner": {"reputation": 11, "user_id": 1485988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ShF5.jpg?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1485988/jim"}, "edited": false, "score": 0, "creation_date": 1437606354, "post_id": 31575008, "comment_id": 51105833, "body": "I just found this:  <a href=\"http://stackoverflow.com/questions/8309902/are-python-instance-variables-thread-safe\" title=\"are python instance variables thread safe\">stackoverflow.com/questions/8309902/&hellip;</a>   I think my problem may be that I had all my variables as &#39;class&#39; variables instead of instances variables (which was what I thought I was getting).  I&#39;ve implemented the change and will see if this works better."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 1485988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ShF5.jpg?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1485988/jim"}, "is_accepted": false, "score": 0, "last_activity_date": 1437672312, "creation_date": 1437672312, "answer_id": 31594217, "question_id": 31575008, "link": "https://stackoverflow.com/questions/31575008/web2py-is-this-thread-safe/31594217#31594217", "title": "web2py - is this thread-safe", "body": "<p>My problem was that I had my variables defined as class variables instead of instance variables.  Changed that up and now it all works.</p>\n"}], "owner": {"reputation": 11, "user_id": 1485988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ShF5.jpg?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/1485988/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437672312, "creation_date": 1437603480, "question_id": 31575008, "link": "https://stackoverflow.com/questions/31575008/web2py-is-this-thread-safe", "title": "web2py - is this thread-safe", "body": "<p>I'm not really that knowledgeable about thread-safe vs non-thread-safe operations but am wondering if a problem I'm seeing might be because of that.</p>\n\n<p>In my modules directory I've created a module that has a class defined.</p>\n\n<p>Then in db.py I have an _after_insert trigger like so:</p>\n\n<pre><code>db.workorder._after_insert.append(lambda s,f: workorderAfterInsert(s,f))\n</code></pre>\n\n<p>In my _after_insert trigger I'm instantiating the class from my module like this:</p>\n\n<pre><code>import workorder.sequencer as sequencer\n\nworkorderId = id\nwo = db.workorder(workorderId)\n\nsequencer = sequencer.Sequencer(workorder_id=workorderId, db=db)\nsequencer.build_bom()\nsequencer.sequence()\nsequencer.save_sequenced_workorder()\n\ndb.commit()\n</code></pre>\n\n<p>I'm not sure how to describe it, but I'm seeing random errors popping up in the execution of sequencer.sequence().  My only thought at this point is that there are thread-safe or concurrency issues going on.</p>\n\n<p>I'd really appreciate it if someone could tell me whether or not this is safe (or wise).  Any input would be appreciated.</p>\n\n<p>-Jim</p>\n"}, {"tags": ["python", "django", "repr"], "comments": [{"owner": {"reputation": 507, "user_id": 1644831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/122f6dc4a44a748aa1e156b27a138b45?s=128&d=identicon&r=PG", "display_name": "Sandwich Heat", "link": "https://stackoverflow.com/users/1644831/sandwich-heat"}, "edited": false, "score": 0, "creation_date": 1437603845, "post_id": 31574990, "comment_id": 51104970, "body": "What version of Python are you using? Is it also possible to get the full model of Deal?"}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437604685, "post_id": 31574990, "comment_id": 51105319, "body": "I think you might have to define a <code>__repr__</code> yourself"}, {"owner": {"reputation": 1103, "user_id": 3579379, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jrNuj.jpg?s=128&g=1", "display_name": "PANDA Stack", "link": "https://stackoverflow.com/users/3579379/panda-stack"}, "reply_to_user": {"reputation": 507, "user_id": 1644831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/122f6dc4a44a748aa1e156b27a138b45?s=128&d=identicon&r=PG", "display_name": "Sandwich Heat", "link": "https://stackoverflow.com/users/1644831/sandwich-heat"}, "edited": false, "score": 0, "creation_date": 1437606276, "post_id": 31574990, "comment_id": 51105815, "body": "@Sandwich Heat: Using Python 2.7.8 for this project, and Django 1.8.3.  @NightShadeQueen: As far as <code>__repr__</code>, I&#39;ve not heard this before. I&#39;m certainly willing to do it, but I feel like I haven&#39;t needed this step in past projects."}], "answers": [{"comments": [{"owner": {"reputation": 1103, "user_id": 3579379, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jrNuj.jpg?s=128&g=1", "display_name": "PANDA Stack", "link": "https://stackoverflow.com/users/3579379/panda-stack"}, "edited": false, "score": 0, "creation_date": 1437703617, "post_id": 31575608, "comment_id": 51153426, "body": "Another note: even though the <code>__str__</code> method was working fine, this answer inspired me to use the @python_2_unicode_compatible decorator for the applicable classes. Thanks."}, {"owner": {"reputation": 10185, "user_id": 28070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108534f65d8d2d7de6995973c1f49889?s=128&d=identicon&r=PG", "display_name": "James Bennett", "link": "https://stackoverflow.com/users/28070/james-bennett"}, "edited": false, "score": 2, "creation_date": 1437788221, "post_id": 31575608, "comment_id": 51192755, "body": "It&#39;s not a <code>__str__</code> vs. <code>__unicode__</code> problem; Django supports both, via the decorator (and has to, as Python2/3 each require a different one). It is, as noted in the reddit thread where the user asked this question, because <code>__repr__</code> ends up calling <code>__str__</code>, and the <code>__str__</code> method is raising an exception due to a non-string argument passed to <code>join()</code>."}], "tags": [], "owner": {"reputation": 507, "user_id": 1644831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/122f6dc4a44a748aa1e156b27a138b45?s=128&d=identicon&r=PG", "display_name": "Sandwich Heat", "link": "https://stackoverflow.com/users/1644831/sandwich-heat"}, "is_accepted": false, "score": 0, "last_activity_date": 1437679580, "last_edit_date": 1437679580, "creation_date": 1437606942, "answer_id": 31575608, "question_id": 31574990, "link": "https://stackoverflow.com/questions/31574990/django-assigning-foreignkey-unable-to-get-repr-for-class/31575608#31575608", "title": "Django: Assigning ForeignKey - Unable to get repr for class", "body": "<p>I'm going to venture a guess that the <code>__str__</code> method should be replaced with <code>__unicode__</code>. This may not entirely fix the problem, but based on the documentation from the Django tutorial, I see this:</p>\n\n<pre><code>from django.db import models\n\nclass Question(models.Model):\n    # ...\n    def __str__(self):              # __unicode__ on Python 2\n        return self.question_text\n\nclass Choice(models.Model):\n    # ...\n    def __str__(self):              # __unicode__ on Python 2\n        return self.choice_text\n</code></pre>\n\n<p>However, you're using the str method for this model:</p>\n\n<pre><code>def __str__(self):\n    return ', '.join([self.deal.name, self.created_at.date()])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1103, "user_id": 3579379, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jrNuj.jpg?s=128&g=1", "display_name": "PANDA Stack", "link": "https://stackoverflow.com/users/3579379/panda-stack"}, "is_accepted": true, "score": 10, "last_activity_date": 1476828407, "last_edit_date": 1476828407, "creation_date": 1437810488, "answer_id": 31624232, "question_id": 31574990, "link": "https://stackoverflow.com/questions/31574990/django-assigning-foreignkey-unable-to-get-repr-for-class/31624232#31624232", "title": "Django: Assigning ForeignKey - Unable to get repr for class", "body": "<p>The solution was pointed out by James Bennet's comment on the answer from Sandwich Heat:</p>\n\n<p>In the <code>HistoricalDeal</code> model's <code>__str__</code> method, I passed a date object to <code>''.join([...])</code> (which is not a string). Simply coercing that value into a string with str() eliminated the problem. </p>\n"}], "owner": {"reputation": 1103, "user_id": 3579379, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jrNuj.jpg?s=128&g=1", "display_name": "PANDA Stack", "link": "https://stackoverflow.com/users/3579379/panda-stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15998, "favorite_count": 0, "accepted_answer_id": 31624232, "answer_count": 2, "score": 6, "last_activity_date": 1476828407, "creation_date": 1437603408, "last_edit_date": 1437606450, "question_id": 31574990, "link": "https://stackoverflow.com/questions/31574990/django-assigning-foreignkey-unable-to-get-repr-for-class", "title": "Django: Assigning ForeignKey - Unable to get repr for class", "body": "<p>I ask this question here because, in my searches, this error has been generally related to queries rather than ForeignKey assignment.</p>\n\n<p>The error I am getting occurs in a method of a model. Here is the code:</p>\n\n<pre><code>class Deal(models.Model):\n\n    ...model_fields...\n\n    def _update_existing_deal(self, deal_dict):\n        #deal made from deal_dict here, psuedo code below\n        deal = Deal(deal_dict)\n        HistoricalDeal().create_historical_deal(deal)\n\n\n        self.price = deal_dict.get('price', self.price)\n        if self.comment != deal_dict.get['comment']:\n            self.comment = deal_dict.get('comment', '')\n        self.set_unit_price()\n        logger.debug(\n            'Existing deal, (pk: %d), updated.',\n            self.pk\n        )\n\nclass HistoricalDeal(models.Model):\n    deal = models.ForeignKey(Deal)\n    created_at = models.DateTimeField(auto_now_add=True)\n    price = models.DecimalField(max_digits=8, decimal_places=2, blank=True,\n                                default=0)\n    unit_price = models.DecimalField(decimal_places=2, max_digits=6,\n                                     null=True, blank=True)\n\n    def create_historical_deal(self, deal):\n        self.deal = deal\n        self.price = deal.price\n        self.unit_price = deal.unit_price\n        self.save()\n        logger.debug(\n            'HistoricalDeal created for Deal with pk: %d.',\n            deal.pk\n        )\n\n    def __str__(self):\n        return ', '.join([self.deal.name, self.created_at.date()])\n</code></pre>\n\n<p>The thing is, the <code>Deal</code> I am passing to <code>HistoricalDeal.create_historical_deal</code> is legit. Here's a picture of the debugger in PyCharm.\n<a href=\"https://i.stack.imgur.com/ErTP6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ErTP6.png\" alt=\"Debugger Message\"></a></p>\n\n<p>For search engines, the message there is:</p>\n\n<pre><code>Unable to get repr for &lt;class 'deals.models.HistoricalDeal'&gt;\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Edit: Full code for Deal below:</p>\n\n<pre><code>class Deal(models.Model):\n    LUMBER = 'lumber'\n    WOODBLANK = 'woodblank'\n    DOWEL = 'dowel'\n    VENEER = 'veneer'\n    PLYWOOD = 'plywood'\n\n    TYPE_CHOICES = (\n        (LUMBER, 'Lumber'),\n        (WOODBLANK, 'Wood Blank'),\n        (DOWEL, 'Dowel'),\n        (VENEER, 'Veneer'),\n        (PLYWOOD, 'Plywood'),\n    )\n\n    # define the correct method and unit for each material type\n    # mainly used in `get_unit_price`\n    MATERIAL_MAPPING = {\n        LUMBER: {\n            'method': lambda self: float(self.price) / (float(self.board_feet) or 1),\n            'unit': 'BF',\n        },\n        WOODBLANK: {\n            'method': lambda self: self.price,\n            'unit': 'Purchase',\n        },\n        DOWEL: {\n            'method': lambda self: float(self.price) / (float(self.linear_feet) or 1),\n            'unit': 'LF',\n        },\n        VENEER: {\n            'method': lambda self: float(self.price) / (float(self.square_feet) or 1),\n            'unit': 'SF',\n        },\n        PLYWOOD: {\n            'method': lambda self: float(self.price) / (float(self.square_feet) or 1),\n            'unit': 'SF',\n        }\n    }\n\n    name = models.CharField(max_length=200)\n    slug = models.SlugField(max_length=100)\n    url = models.CharField(max_length=200, blank=True)\n    vendor = models.ForeignKey('Vendor')\n    category = models.ForeignKey('Category')\n    active = models.BooleanField(default=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    price = models.DecimalField(max_digits=8, decimal_places=2, blank=True,\n                                default=0)\n    comment = models.TextField(blank=True)\n    img = models.ImageField(blank=True)\n    unique_lot = models.IntegerField(default=None, blank=True, null=True)\n\n    material_type = models.CharField(max_length=9, choices=TYPE_CHOICES)\n\n    # attributes specific to material types\n    board_feet = models.DecimalField(decimal_places=2, max_digits=6,\n                                     null=True, blank=True)\n    thickness = models.CharField(max_length=15,\n                                 null=True, blank=True)\n    length = models.CharField(max_length=15,\n                              null=True, blank=True)\n    width = models.CharField(max_length=15,\n                             null=True, blank=True)\n    diameter = models.CharField(max_length=15,\n                                null=True, blank=True)\n    linear_feet = models.DecimalField(decimal_places=2, max_digits=6,\n                                      null=True, blank=True)\n    square_feet = models.DecimalField(decimal_places=2, max_digits=6,\n                                      null=True, blank=True)\n    adhesive_backing = models.NullBooleanField(default=False,\n                                               null=True, blank=True)\n\n    image = models.ForeignKey('Image', null=True, blank=True)\n\n    unit_price = models.DecimalField(decimal_places=2, max_digits=6,\n                                     null=True, blank=True)\n\n    def set_unit_price(self):\n        method = self.MATERIAL_MAPPING[self.material_type]['method']\n        self.unit_price = method(self)\n        self.save()\n\n    @property\n    def get_unit_price(self):\n        method = self.MATERIAL_MAPPING[self.material_type]['method']\n        unit = self.MATERIAL_MAPPING[self.material_type]['unit']\n        return {\n            'value': method(self),\n            'units': unit\n        }\n\n    @classmethod\n    def _find_matching_deal(cls, deal_dict):\n        \"\"\" Check for an existing deal that matches `deal_dict` \"\"\"\n        # TODO: use get_or_create?\n        match = cls.objects.filter(\n            material_type=deal_dict.get('deal_type', None),\n            board_feet=deal_dict.get('boardfeet', None),\n            thickness=deal_dict.get('thickness', None),\n            length=deal_dict.get('length', None),\n            width=deal_dict.get('width', None),\n            diameter=deal_dict.get('diameter', None),\n            linear_feet=deal_dict.get('linear_feet', None),\n            square_feet=deal_dict.get('square_feet', None),\n            adhesive_backing=deal_dict.get('adhesive_backing', None),\n            unique_lot=deal_dict.get('unique_lot', None),\n            category=deal_dict['category'],\n            url=deal_dict['url']\n        )\n        if not match:\n            return None\n        # Because of the unique constraint, there should only be one match\n        assert len(match) == 1\n        return match[0]\n\n    @staticmethod\n    def _guess_category(name, url):\n        \"\"\" Find the category that best matches the deal name/url \"\"\"\n        name = name.lower()\n        url = url.lower()\n        # create a string of unique possible name variants\n        search_string = '|'.join({\n            name,\n            name.replace(' ', ''),\n            name.replace('_', ' '),\n            name.replace('-', ' '),\n            name.replace('_', ''),\n            name.replace('-', ''),\n            url.replace(' ', ''),\n            url.replace('-', ' '),\n            url.replace('_', ' '),\n            url.replace('-', ''),\n            url.replace('_', ''),\n        })\n        # TODO: cache categories, don't query each time\n        all_categories = Category.objects.all()\n\n        # get a list of categories that might match\n        matching_categories = [\n            category for category in all_categories\n            if category.name.lower() in search_string\n            ]\n        logger.debug('Found these category matches for %s: %s', name,\n                     matching_categories)\n        if len(matching_categories) == 0:\n            matching_categories = [\n                category for category in all_categories\n                if category.name.replace(' ', '').lower() in search_string\n                ]\n        if len(matching_categories) == 0:\n            # add it to the Misc category\n            return Category.objects.get_or_create(\n                name=\"Miscellaneous\",\n                defaults={'slug': 'misc'}\n            )[0]\n        # return the first match\n        return matching_categories[0]\n\n    @staticmethod\n    def _get_vendor(vendor_name):\n        return Vendor.objects.get_or_create(\n            name=vendor_name,\n            defaults={'shipping': False}\n        )[0]\n\n    @staticmethod\n    def _capitalize_name(name):\n        return name.replace('-', ' ').replace('_', ' ').title()\n\n    def _update_existing_deal(self, deal_dict):\n        self.price = deal_dict.get('price', self.price)\n        if self.comment != deal_dict.get['comment']:\n            self.comment = deal_dict.get('comment', '')\n        self.set_unit_price()\n        logger.debug(\n            'Existing deal, (pk: %d), updated.',\n            self.pk\n        )\n\n    @classmethod\n    def save_from_dict(cls, deal_dict):\n        logger.debug('saving deal from dict: %s', deal_dict)\n        deal_dict['category'] = cls._guess_category(deal_dict['name'], deal_dict['url'])\n        deal_dict['name'] = cls._capitalize_name(deal_dict['name'])\n        existing_deal = cls._find_matching_deal(deal_dict)\n        if not existing_deal:\n            logger.debug('This is a new deal, saving it')\n            current_deal = cls.objects.create(\n                name=deal_dict.get('name'),\n                slug=deal_dict.get('slug', ''),\n                url=deal_dict.get('url'),\n                image=Image.from_url(deal_dict.get('image_url', None)),\n                price=deal_dict.get('price'),\n                comment=''.join(deal_dict.get('comment', [])),\n                material_type=deal_dict.get('deal_type', None),\n                board_feet=deal_dict.get('boardfeet', None),\n                thickness=deal_dict.get('thickness', None),\n                length=deal_dict.get('length', None),\n                width=deal_dict.get('width', None),\n                diameter=deal_dict.get('diameter', None),\n                linear_feet=deal_dict.get('linear_feet', None),\n                square_feet=deal_dict.get('square_feet', None),\n                adhesive_backing=deal_dict.get('adhesive_backing', None),\n                unique_lot=deal_dict.get('unique_lot', None),\n                category=deal_dict['category'],\n                vendor=cls._get_vendor(deal_dict['vendor_name']),\n            )\n            current_deal.set_unit_price()\n        else:\n            logger.debug(\n                'Existing deal, updating it (pk: %d)',\n                existing_deal.pk\n            )\n            HistoricalDeal().create_historical_deal(existing_deal)\n            existing_deal._update_existing_deal(deal_dict)\n\n    def __str__(self):\n        return '&lt;Deal: %d, %s&gt;' % (self.pk, self.name)\n\n    class Meta(object):\n        unique_together = ((\n                               'material_type',\n                               'board_feet',\n                               'thickness',\n                               'length',\n                               'width',\n                               'diameter',\n                               'linear_feet',\n                               'square_feet',\n                               'adhesive_backing',\n                               'unique_lot',\n                               'category',\n                               'url'\n                           ),)\n</code></pre>\n"}, {"tags": ["python", "datetime", "python-3.x", "timedelta"], "comments": [{"owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 0, "creation_date": 1437603666, "post_id": 31574971, "comment_id": 51104896, "body": "Does timezone matter here?"}, {"owner": {"reputation": 73072, "user_id": 283296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ilsZ4.jpg?s=128&g=1", "display_name": "Amelio Vazquez-Reina", "link": "https://stackoverflow.com/users/283296/amelio-vazquez-reina"}, "reply_to_user": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 0, "creation_date": 1437603761, "post_id": 31574971, "comment_id": 51104940, "body": "Thanks @SimeonVisser We can assume everything refers to the same time zone. I will clarify in the OP."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1437603763, "post_id": 31574971, "comment_id": 51104941, "body": "So basically, how many 2pm Wednesdays are there between 2015-07-22 17:58:54 and 2015-08-30 10:22:36?"}, {"owner": {"reputation": 73072, "user_id": 283296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ilsZ4.jpg?s=128&g=1", "display_name": "Amelio Vazquez-Reina", "link": "https://stackoverflow.com/users/283296/amelio-vazquez-reina"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1437603817, "post_id": 31574971, "comment_id": 51104963, "body": "@TigerhawkT3 Correct."}, {"owner": {"reputation": 4151, "user_id": 2018369, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wgGbD.png?s=128&g=1", "display_name": "running.t", "link": "https://stackoverflow.com/users/2018369/running-t"}, "edited": false, "score": 1, "creation_date": 1437604453, "post_id": 31574971, "comment_id": 51105228, "body": "I believe what you should start with, is to count number of weeks between 2 time points. See <a href=\"http://stackoverflow.com/a/14191912/2018369\">this answer</a>."}], "answers": [{"tags": [], "owner": {"reputation": 136, "user_id": 2177070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f0202ac3e3b584ec4ac7c6e9d194a2?s=128&d=identicon&r=PG", "display_name": "neingeist", "link": "https://stackoverflow.com/users/2177070/neingeist"}, "is_accepted": false, "score": 0, "last_activity_date": 1437605334, "creation_date": 1437605334, "answer_id": 31575346, "question_id": 31574971, "link": "https://stackoverflow.com/questions/31574971/counting-day-of-week-hour-pairs-between-two-dates/31575346#31575346", "title": "Counting day-of-week-hour pairs between two dates", "body": "<p>So, if I understand your question correctly, I'd start with finding the first occurence of the \"hour\" within the time range and then look for the next occurences week by week. Like this:</p>\n\n<pre><code>#!/usr/bin/python\nfrom __future__ import print_function\nimport datetime\nimport dateutil.relativedelta\n\n\ndef hours_between(start, end, weekday, hour):\n    first = start + dateutil.relativedelta.relativedelta(\n        weekday=weekday, hour=hour,\n        minute=0, second=0, microsecond=0)\n    week = dateutil.relativedelta.relativedelta(weeks=1)\n\n    all_dates = []\n    d = first\n    while d &lt; end:\n        all_dates.append(d)\n        d += week\n\n    return all_dates\n\n\ndef main():\n    start = datetime.datetime(2015, 7, 22, 17, 58, 54, 746784)\n    end = datetime.datetime(2015, 8, 30, 10, 22, 36, 363912)\n    all_dates = hours_between(start, end, dateutil.relativedelta.WE, 14)\n    print(all_dates)\n    print(len(all_dates))\n\nmain()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1437606934, "last_edit_date": 1437606934, "creation_date": 1437605345, "answer_id": 31575348, "question_id": 31574971, "link": "https://stackoverflow.com/questions/31574971/counting-day-of-week-hour-pairs-between-two-dates/31575348#31575348", "title": "Counting day-of-week-hour pairs between two dates", "body": "<p>Maybe I am not grasping your issue fully but you could get all the hours between the two dates and sum how many times each hour and day appears between the two dates:</p>\n\n<pre><code>from datetime import datetime\nfrom dateutil import  rrule,parser\n\n\nd={\n 'Mon': [9, 23],\n 'Thu': [12, 13, 14],\n 'Tue': [11, 12, 14],\n 'Wed': [11, 12, 13, 14],\n 'Fri': [13],\n 'Sat': [],\n 'Sun': [],\n}\n\nst = datetime(2015, 7, 22, 17, 58, 54, 746784)\n\ned = datetime(2015, 8, 30, 10, 22, 36, 363912)\ndates = list(rrule.rrule(rrule.HOURLY,\n                         dtstart=parser.parse(st.strftime(\"%Y-%m-%d %H:%M:%S\")),\n                         until=parser.parse(ed.strftime(\"%Y-%m-%d %H:%M:%S\"))))\n\n\ndays = {\"Mon\":0,\"Tue\": 1,\"Wed\":2,\"Thu\": 3,\"Fri\":4,\"Sat\":5,\"Sun\":6}\n\nfor k, val in d.items():\n    for v in val:\n        print(\"day: {} hour: {}\".format(k,v))\n        day = days[k]\n        print(sum((v == dt.hour and dt.weekday() == day) for dt in dates))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>day: Wed hour: 11\n5\nday: Wed hour: 12\n5\nday: Wed hour: 13\n5\nday: Wed hour: 14\n5\nday: Fri hour: 13\n6\nday: Tue hour: 11\n5\nday: Tue hour: 12\n5\nday: Tue hour: 14\n5\nday: Mon hour: 9\n6\nday: Mon hour: 23\n5\nday: Thu hour: 12\n5\nday: Thu hour: 13\n5\nday: Thu hour: 14\n5\n</code></pre>\n\n<p>Not sure if you want the sum for all hours in each list or the total for each individual hour but either way you can store the output in a dict.</p>\n\n<pre><code>counts = {'Thu':{}, 'Sun':{}, 'Fri':{}, 'Mon':{}, 'Tue':{}, 'Sat':{}, 'Wed':{}}\nfor k, val in d.items():\n    for v in val:\n        day = days[k]\n        sm = sum((v == dt.hour and dt.weekday() == day) for dt in dates)\n        counts[k][v] = sm\n\nfrom pprint import pprint as pp\npp(counts)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'Fri': {13: 6},\n 'Mon': {9: 5, 23: 5},\n 'Sat': {},\n 'Sun': {},\n 'Thu': {12: 6, 13: 6, 14: 6},\n 'Tue': {11: 5, 12: 5, 14: 5},\n 'Wed': {11: 5, 12: 5, 13: 5, 14: 5}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "is_accepted": true, "score": 4, "last_activity_date": 1437605915, "last_edit_date": 1437605915, "creation_date": 1437605503, "answer_id": 31575371, "question_id": 31574971, "link": "https://stackoverflow.com/questions/31574971/counting-day-of-week-hour-pairs-between-two-dates/31575371#31575371", "title": "Counting day-of-week-hour pairs between two dates", "body": "<p>Perhaps something like this:</p>\n\n<pre><code>from calendar import day_abbr\nfrom datetime import datetime, timedelta\n\n\ndef solve(start, end, data):\n    days = list(day_abbr)\n    output = dict.fromkeys(days, 0)\n\n    while start &lt;= end:\n        day = days[start.weekday()]\n        if start.hour in data[day]:\n            output[day] += 1\n        start = start + timedelta(minutes=60)\n\n    return output\n\n\ndata = {\n 'Mon': [9, 23],\n 'Thu': [12, 13, 14],\n 'Tue': [11, 12, 14],\n 'Wed': [11, 12, 13, 14],\n 'Fri': [13],\n 'Sat': [],\n 'Sun': [],\n}\n\nstart = datetime(2015, 7, 22, 17, 58, 54, 746784)\nend = datetime(2015, 8, 30, 10, 22, 36, 363912)\n\nprint solve(start, end, data)\n# {'Wed': 20, 'Sun': 0, 'Fri': 6, 'Tue': 15, 'Mon': 10, 'Thu': 18, 'Sat': 0} \n</code></pre>\n\n<p>Getting count for each day by hour:</p>\n\n<pre><code>from calendar import day_abbr\nfrom collections import defaultdict\nfrom datetime import datetime, timedelta\nfrom pprint import pprint\n\n\ndef solve(start, end, data):\n    days = list(day_abbr)\n    output = defaultdict(lambda: defaultdict(int))\n\n    while start &lt;= end:\n        day = days[start.weekday()]\n        if start.hour in data[day]:\n            output[day][start.hour] += 1\n        start = start + timedelta(minutes=60)\n    return {k: dict(v) for k, v in output.items()}\n\n\ndata = {\n 'Mon': [9, 23],\n 'Thu': [12, 13, 14],\n 'Tue': [11, 12, 14],\n 'Wed': [11, 12, 13, 14],\n 'Fri': [13],\n 'Sat': [],\n 'Sun': [],\n}\n\nstart = datetime(2015, 7, 22, 17, 58, 54, 746784)\nend = datetime(2015, 8, 30, 10, 22, 36, 363912)\n\npprint(solve(start, end, data))\n# output \n{'Fri': {13: 6},\n 'Mon': {9: 5, 23: 5},\n 'Thu': {12: 6, 13: 6, 14: 6},\n 'Tue': {11: 5, 12: 5, 14: 5},\n 'Wed': {11: 5, 12: 5, 13: 5, 14: 5}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 2, "last_activity_date": 1437612601, "last_edit_date": 1437612601, "creation_date": 1437605699, "answer_id": 31575410, "question_id": 31574971, "link": "https://stackoverflow.com/questions/31574971/counting-day-of-week-hour-pairs-between-two-dates/31575410#31575410", "title": "Counting day-of-week-hour pairs between two dates", "body": "<p>Here's a solution with loops and <code>datetime</code>:</p>\n\n<pre><code>import datetime\n\npairs = {1: [9,23],\n2: [11, 12, 14],\n3: [11, 12, 13, 14],\n4: [12, 13, 14],\n5: [13],\n6: [],\n7: []\n}\n\nstart = datetime.datetime(2015, 7, 22, 17, 58, 54, 746784)\nend = datetime.datetime(2015, 8, 30, 10, 22, 36, 363912)\nresult={}\nfor d,hl in pairs.items():\n    for h in hl:\n        result[(d,h)] = 0\n        for diff in range((end-start).days*24):\n            comp = start + datetime.timedelta(hours=diff)\n            if comp.isoweekday() == d and comp.hour == h:\n                result[(d,h)] += 1\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>&gt;&gt;&gt; result\n{(3, 12): 5, (5, 13): 6, (3, 13): 5, (1, 23): 5, (2, 11): 5, (3, 11): 5, (4, 14): 6, (4, 13): 6, (4, 12): 6, (2, 12): 5, (2, 14): 5, (3, 14): 5, (1, 9): 5}\n</code></pre>\n\n<p>I'll also try for a solution with <code>timestamp()</code> and <code>%</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 73072, "user_id": 283296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ilsZ4.jpg?s=128&g=1", "display_name": "Amelio Vazquez-Reina", "link": "https://stackoverflow.com/users/283296/amelio-vazquez-reina"}, "edited": false, "score": 0, "creation_date": 1437620618, "post_id": 31576182, "comment_id": 51109226, "body": "Thanks! -- Any reasons to believe one of the solutions is more efficient than the other? (e.g. looping through hundreds of thousands of <code>pairs</code> examples)"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 73072, "user_id": 283296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ilsZ4.jpg?s=128&g=1", "display_name": "Amelio Vazquez-Reina", "link": "https://stackoverflow.com/users/283296/amelio-vazquez-reina"}, "edited": false, "score": 0, "creation_date": 1437621256, "post_id": 31576182, "comment_id": 51109371, "body": "@AmelioVazquez-Reina - I&#39;m not sure; I didn&#39;t test it. I just had the suspicion that a bit of arithmetic would be faster than looping through every possible hour. If you want to try some of these solutions out and let us know your results, I&#39;d be interested in seeing them."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 73072, "user_id": 283296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ilsZ4.jpg?s=128&g=1", "display_name": "Amelio Vazquez-Reina", "link": "https://stackoverflow.com/users/283296/amelio-vazquez-reina"}, "edited": false, "score": 0, "creation_date": 1437623366, "post_id": 31576182, "comment_id": 51109854, "body": "To clarify, I didn&#39;t test the relative <i>performance</i> of each algorithm."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 73072, "user_id": 283296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ilsZ4.jpg?s=128&g=1", "display_name": "Amelio Vazquez-Reina", "link": "https://stackoverflow.com/users/283296/amelio-vazquez-reina"}, "edited": false, "score": 0, "creation_date": 1437671799, "post_id": 31576182, "comment_id": 51139884, "body": "@AmelioVazquez-Reina - I just refactored this, removing a lot of unnecessary stuff. It should be clearer and faster now."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 2, "last_activity_date": 1437671643, "last_edit_date": 1437671643, "creation_date": 1437611014, "answer_id": 31576182, "question_id": 31574971, "link": "https://stackoverflow.com/questions/31574971/counting-day-of-week-hour-pairs-between-two-dates/31576182#31576182", "title": "Counting day-of-week-hour pairs between two dates", "body": "<p>Here is another solution with arithmetic:</p>\n\n<pre><code>import datetime\n\npairs = {1: [9,23],\n2: [11, 12, 14],\n3: [11, 12, 13, 14],\n4: [12, 13, 14],\n5: [13],\n6: [],\n7: []\n}\n\nstart = datetime.datetime(2015, 7, 22, 17, 58, 54, 746784)\nend = datetime.datetime(2015, 8, 30, 10, 22, 36, 363912)\nresult={}\nweeks = (end-start).days//7\n\nfor d,hl in pairs.items():\n    for h in hl:\n        initial = weeks\n        if d &gt; start.isoweekday() or (\n           d == start.isoweekday() and h &gt;= start.hour):\n            initial += 1\n        result[(d,h)] = initial\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>&gt;&gt;&gt; for k in sorted(result):\n...     print(k, result[k])\n...\n(1, 9) 5\n(1, 23) 5\n(2, 11) 5\n(2, 12) 5\n(2, 14) 5\n(3, 11) 5\n(3, 12) 5\n(3, 13) 5\n(3, 14) 5\n(4, 12) 6\n(4, 13) 6\n(4, 14) 6\n(5, 13) 6\n</code></pre>\n"}], "owner": {"reputation": 73072, "user_id": 283296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ilsZ4.jpg?s=128&g=1", "display_name": "Amelio Vazquez-Reina", "link": "https://stackoverflow.com/users/283296/amelio-vazquez-reina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 31575371, "answer_count": 5, "score": 7, "last_activity_date": 1437671643, "creation_date": 1437603324, "last_edit_date": 1437603807, "question_id": 31574971, "link": "https://stackoverflow.com/questions/31574971/counting-day-of-week-hour-pairs-between-two-dates", "title": "Counting day-of-week-hour pairs between two dates", "body": "<p>Consider the following list of <strong>day-of-week-hour</strong> pairs in <code>24H</code> format:</p>\n\n<pre><code>{\n 'Mon': [9,23],\n 'Thu': [12, 13, 14],\n 'Tue': [11, 12, 14],\n 'Wed': [11, 12, 13, 14]\n 'Fri': [13],\n 'Sat': [],\n 'Sun': [],\n}\n</code></pre>\n\n<p>and two time points, e.g.:</p>\n\n<ul>\n<li><p><strong>Start:</strong></p>\n\n<pre><code>datetime.datetime(2015, 7, 22, 17, 58, 54, 746784)\n</code></pre></li>\n<li><p><strong>End</strong>:</p>\n\n<pre><code>datetime.datetime(2015, 8, 30, 10, 22, 36, 363912)\n</code></pre></li>\n</ul>\n\n<p>Say we need to know how many hours there are between these two datetimes (either rounding up or down) for each of the <strong>day-of-week-hour</strong> pairs specified above.</p>\n\n<p>How can I approach this problem in Python? I explored <code>timedelta</code> and <code>relativedelta</code> in a general level of detail but I didn't find anything that provides something close to this.</p>\n\n<p>For simplicity, we can assume that everything refers to the same timezone.</p>\n\n<hr>\n\n<p>Perhaps a simpler problem is to focus on a single day-hour pair, e.g. How many <code>Wednesdays: 14</code> are there between two arbitrary datetimes?</p>\n"}, {"tags": ["python", "python-2.7", "amazon-web-services", "boto", "aws-sdk"], "comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1439478146, "post_id": 31574860, "comment_id": 51888047, "body": "Why did you remove the code from your question?  It&#39;s no longer a good question.  I suggest rolling back your edit or deleting your question."}], "answers": [{"tags": [], "owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "is_accepted": true, "score": 1, "last_activity_date": 1437665621, "creation_date": 1437665621, "answer_id": 31591931, "question_id": 31574860, "link": "https://stackoverflow.com/questions/31574860/unexpected-output-while-using-listand-nested-dictionary/31591931#31591931", "title": "unexpected output while using list(and nested dictionary)", "body": "<p>This loop assigns a new list to <code>tsg.SecurityGroupIngress</code> for each iteration:</p>\n\n<pre><code>for i in mylist:\n    tsg.SecurityGroupIngress = mksg(i['cidr'], i['proto'], [i['port']])\n</code></pre>\n\n<p>Change it to:</p>\n\n<pre><code>tsg.SecurityGroupIngress = []\nfor i in mylist:\n    tsg.SecurityGroupIngress.extend(mksg(i['cidr'], i['proto'], [i['port']]))\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 4088929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8a8c0513103010c83e61d15614ebd361?s=128&d=identicon&r=PG&f=1", "display_name": "max scalf", "link": "https://stackoverflow.com/users/4088929/max-scalf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 1, "accepted_answer_id": 31591931, "answer_count": 1, "score": 0, "last_activity_date": 1439411222, "creation_date": 1437602844, "last_edit_date": 1439411222, "question_id": 31574860, "link": "https://stackoverflow.com/questions/31574860/unexpected-output-while-using-listand-nested-dictionary", "title": "unexpected output while using list(and nested dictionary)", "body": "<p>I am trying to work on some cloudformation template using the python libarary called troposhere.  Here is the general overview of how troposhere works if one does not know about it....you can skip this part to go to my question section, if you know how troposhere work....</p>\n\n<p>And onto my question ...\nHere is where all my trouble starts.  Here i have a funtion called get_data that does some text parsing...followed by a simple for loop that will create a list for me which has multiple dictionry in it called \"mylist\"...</p>\n\n<p>Here is what i was expecting my output to look like, but as mentioned i only get one rule back</p>\n"}, {"tags": ["python", "indexoutofboundsexception"], "comments": [{"owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "edited": false, "score": 2, "creation_date": 1437603410, "post_id": 31574859, "comment_id": 51104797, "body": "You should refine your question to follow some of stackoverflow&#39;s guidelines. You have no clear question, no explanation whatsoever. Please elaborate."}], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 4, "last_activity_date": 1437615431, "last_edit_date": 1495541960, "creation_date": 1437602986, "answer_id": 31574890, "question_id": 31574859, "link": "https://stackoverflow.com/questions/31574859/index-1-is-out-of-bounds-for-axis-0-with-size-1/31574890#31574890", "title": "index 1 is out of bounds for axis 0 with size 1", "body": "<pre><code>activ=np.zeros((1,N))\n</code></pre>\n\n<p>means that <code>activ</code> has 1 row and <code>N</code> columns. <code>activ[0]</code> refers to the first row. <code>activ[1]</code> would raise an IndexError because there is no second row.</p>\n\n<p><code>for i in range(N)</code> makes <code>i</code> range from 0 to <code>N-1</code>. Hence, an error occurs if <code>N</code> is greater than 1.</p>\n\n<p>One way to fix the error while changing the least amount of your current code would be to use</p>\n\n<pre><code>activ[0, neuron] = np.dot(PreSynInput.T,autocorrelation_matrix[:,neuron])\n</code></pre>\n\n<hr>\n\n<p>However, assigning values to a NumPy array element-by-element is usually not the ideal way to take advantage of NumPy. You'll get much better performance if you can express the computation as one done on larger arrays and without the Python for-loops.</p>\n\n<p>For example, If I understand the shapes of the undefined arrays correctly, you\ncould replace</p>\n\n<pre><code>activ=np.zeros((1,N))\nfor neuron in range(N):\n    PreSynInput = rate.T + (Testing_pattern[neuron, pattern] * clamp)\n    activ[neuron] = np.dot(PreSynInput.T,autocorrelation_matrix[:,neuron])\n</code></pre>\n\n<p>with </p>\n\n<pre><code>PreSynInput = (rate.T + (Testing_pattern[:, pattern] * clamp))\nactiv = np.einsum('ij,ij-&gt;j', PreSynInput, autocorrelation_matrix)\n</code></pre>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>import numpy as np\nnp.random.seed(2015)\nN, M, pattern = 10, 5, 0\nclamp = 1\nautocorrelation_matrix = np.random.randint(10, size=(N, N))\nTesting_pattern = np.random.randint(10, size=(N, M))\nrate = np.random.randint(10, size=(1,N))\n\nactiv=np.zeros((1,N))\nfor neuron in range(N):\n    PreSynInput = rate.T + (Testing_pattern[neuron, pattern] * clamp)\n    activ[:, neuron] = np.dot(PreSynInput.T, autocorrelation_matrix[:,neuron])\n\nPreSynInput = (rate.T + (Testing_pattern[:, pattern] * clamp))\nactiv2 = np.einsum('ij,ij-&gt;j', PreSynInput, autocorrelation_matrix)\n\nprint(activ)\n# [[ 405.  421.  272.  475.  227.  424.  644.  212.  325.  502.]]\n\nprint(activ2)\n# [405 421 272 475 227 424 644 212 325 502]\n</code></pre>\n\n<hr>\n\n<p>You would get even better performance if you can find a way to eliminate the\n<code>for pattern</code>-loop and <code>for epoch</code>-loop.</p>\n\n<p>How to eliminate those loops is a problem sufficiently difficult and interesting\nto justify a separate question. If you do post a new question about it, please include a <a href=\"https://stackoverflow.com/help/mcve\">minimal example with runnable code</a> so it\nis absolutely clear what the desired output is for the given input.</p>\n"}], "owner": {"reputation": 61, "user_id": 5145599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50af834e1df9a29fe2d7f0f04ed4ec87?s=128&d=identicon&r=PG&f=1", "display_name": "Edoardo ", "link": "https://stackoverflow.com/users/5145599/edoardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29393, "favorite_count": 0, "accepted_answer_id": 31574890, "answer_count": 1, "score": 1, "last_activity_date": 1437615431, "creation_date": 1437602840, "question_id": 31574859, "link": "https://stackoverflow.com/questions/31574859/index-1-is-out-of-bounds-for-axis-0-with-size-1", "title": "index 1 is out of bounds for axis 0 with size 1", "body": "<pre><code>N=100\nnumbers_training_pattern=10\nfor pattern in range(number_training_pattern):\nrate=np.zeros((1,N))\n\n\n   for epoch in range(1,nepochs+1):\n\n\n        if epoch&lt;=1:\n           clamp=1\n        else:\n           clamp=0\n\n       activ=np.zeros((1,N))\n       for neuron in range(N):\n\n\n          PreSynInput = rate.T + (Testing_pattern[neuron, pattern] * clamp)\n\n\n          activ[neuron] = np.dot(PreSynInput.T,autocorrelation_matrix[:,neuron])\n</code></pre>\n\n<p>error\nIndexError                                Traceback (most recent call last)\n in ()\n     17 \n     18 \n---> 19    activ[neuron] = np.dot(PreSynInput.T,autocorrelation_matrix[:,neuron])\n     20 \n     21 </p>\n\n<p>IndexError: index 1 is out of bounds for axis 0 with size 1</p>\n"}, {"tags": ["python", "xml", "python-2.7", "lxml"], "answers": [{"comments": [{"owner": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "edited": false, "score": 0, "creation_date": 1437605384, "post_id": 31575006, "comment_id": 51105539, "body": "I will just have one <code>settings</code> tag, which will have many values, is there any way to avoid doing <code>findall</code> on the <code>settings</code> tag please?"}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "reply_to_user": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "edited": false, "score": 0, "creation_date": 1437605499, "post_id": 31575006, "comment_id": 51105587, "body": "@MarcoDinatsoli:Then why did the code use <code>module.findall()</code> in the first place?  I&#39;ve noticed that the code uses <code>module.find()</code> elsewhere."}, {"owner": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "edited": false, "score": 0, "creation_date": 1437605684, "post_id": 31575006, "comment_id": 51105645, "body": "It was my mistake, however, i tried now to use just find and use just one loop (instead of two) but now i am getting empty results in the settings, nothing is being saved"}, {"owner": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "edited": false, "score": 0, "creation_date": 1437605714, "post_id": 31575006, "comment_id": 51105659, "body": "you can try the code yourself, it is a working code, you just need to run it"}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "reply_to_user": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "edited": false, "score": 0, "creation_date": 1437605828, "post_id": 31575006, "comment_id": 51105689, "body": "I can&#39;t in fact try the code myself, because you changed the code and haven&#39;t posted the changes.  But I have updated the answer."}, {"owner": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "edited": false, "score": 0, "creation_date": 1437605970, "post_id": 31575006, "comment_id": 51105723, "body": "it is working, it was my mistake also, i puted the .tag in the dictionary not in the key, thank you now working great"}], "tags": [], "owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "is_accepted": true, "score": 2, "last_activity_date": 1437605776, "last_edit_date": 1437605776, "creation_date": 1437603477, "answer_id": 31575006, "question_id": 31574825, "link": "https://stackoverflow.com/questions/31574825/python-lxml-get-the-name-of-a-node/31575006#31575006", "title": "python lxml get the name of a node", "body": "<p>Since <code>findall()</code> returns a list, you want to iterate over the contents of elements of that list, rather than the list itself.  You also want to use the element's tag as a key, rather than using the element itself.</p>\n\n<pre><code>settingsDict = {}\nfor settingsNode in module.findall('settings'):\n    for setting in settingsNode:\n        settingsDict[setting.tag] = setting.text\n</code></pre>\n\n<p>Or, if you only have one <code>settings</code> tag,</p>\n\n<pre><code>settingsDict = {}\nfor setting in module.find('settings'):\n    settingsDict[setting.tag] = setting.text\n</code></pre>\n\n<p>Which can be simplified to:</p>\n\n<pre><code>settingsDict = {setting.tag: setting.text\n                for setting in module.find('settings')}\n</code></pre>\n"}], "owner": {"reputation": 9194, "user_id": 2038257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d7c4839a46ca7fc6d9a950aa362166ba?s=128&d=identicon&r=PG", "display_name": "Marco Dinatsoli", "link": "https://stackoverflow.com/users/2038257/marco-dinatsoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2821, "favorite_count": 0, "accepted_answer_id": 31575006, "answer_count": 1, "score": 2, "last_activity_date": 1437605776, "creation_date": 1437602708, "last_edit_date": 1437603239, "question_id": 31574825, "link": "https://stackoverflow.com/questions/31574825/python-lxml-get-the-name-of-a-node", "title": "python lxml get the name of a node", "body": "<p>This is my xml file:</p>\n\n<pre><code>&lt;FuzzyComparison&gt;\n    &lt;Modules&gt;\n        &lt;Module&gt;\n            &lt;name&gt;AutosoukModelMakeFuzzyComparisonModule&lt;/name&gt;\n            &lt;configurationLoader&gt;DefaultLoader&lt;/configurationLoader&gt;\n            &lt;configurationFile&gt;MakesModels.conf&lt;/configurationFile&gt;\n            &lt;settings&gt;&lt;/settings&gt;\n        &lt;/Module&gt;\n        &lt;Module&gt;\n            &lt;name&gt;DefaultFuzzyComparisonModule&lt;/name&gt;\n            &lt;configurationLoader&gt;DefaultLoader&lt;/configurationLoader&gt;\n            &lt;configurationFile&gt;Buildings.conf&lt;/configurationFile&gt;\n            &lt;settings&gt;\n                &lt;attribute&gt;building&lt;/attribute&gt;\n            &lt;/settings&gt;\n        &lt;/Module&gt;\n    &lt;/Modules&gt;\n    &lt;/FuzzyComparison&gt;\n</code></pre>\n\n<p>This is the code I've been trying to parse it with:</p>\n\n<pre><code>from lxml import etree\nclass AttributesXMLParser():\n    def __init__(self):\n        self.doc=etree.parse('Items.xml')\n\n    def getValueOfTag(self, tagName): #This function returns the value of a specific tag for exmaple, the tageName could be \"FirstDate\"\n        return self.doc.find(tagName).text\n\n    def loadFuzzySettings(self):\n        modulesDict = list()\n        modules = self.doc.findall('FuzzyComparison/Modules/Module')\n        for module in modules:\n            moduleDict = dict()\n            moduleName = module.find('name').text\n            moduleDict['name'] = moduleName\n            moduleConfigurationLoader = module.find('configurationLoader').text\n            moduleDict['configurationLoader'] = moduleConfigurationLoader\n            moduleConfigurationFile = module.find('configurationFile').text\n            moduleDict['moduleConfigurationFile'] = moduleConfigurationFile\n            settings = module.findall('settings')\n            settingsDict = dict()\n            for oneSetting in settings:\n                settingsDict[oneSetting] = oneSetting.text\n            moduleDict['settings'] = settingsDict\n            modulesDict.append(moduleDict)\n        return modulesDict\n</code></pre>\n\n<p>and this is the results:</p>\n\n<pre><code>[{'moduleConfigurationFile': 'MakesModels.conf', 'configurationLoader': 'Default\nLoader', 'name': 'AutosoukModelMakeFuzzyComparisonModule', 'settings': {&lt;Element\n settings at 0x25257c8&gt;: None}}, {'moduleConfigurationFile': 'Buildings.conf', '\nconfigurationLoader': 'DefaultLoader', 'name': 'DefaultFuzzyComparisonModule', '\nsettings': {&lt;Element settings at 0x2525e48&gt;: '\\n\\t\\t\\t\\t'}}]\n</code></pre>\n\n<h3>My problem</h3>\n\n<p>I don't know how to get the name and value of the <code>settings</code> node, because as you see everything is working great except the <code>settings</code>, I need to have it like this:</p>\n\n<pre><code>\"attribute\": building\n</code></pre>\n\n<p>But my code gives me: </p>\n\n<pre><code>{&lt;Element settings at 0x2525e48&gt;: '\\n\\t\\t\\t\\t'}}]\n</code></pre>\n\n<p>Could you help please to solve that?</p>\n"}, {"tags": ["python", "xpath", "scrapy"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1437602854, "post_id": 31574638, "comment_id": 51104548, "body": "Also note, you have a typo <code>descirption</code> -&gt; <code>description</code>."}, {"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1437615139, "post_id": 31574638, "comment_id": 51107939, "body": "When you ask why one piece of code does &quot;work&quot; and the other doesn&#39;t, define what you mean: what did you expect the code to do, and what did it actually do?"}], "answers": [{"comments": [{"owner": {"reputation": 3716, "user_id": 3968703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kEz4J.png?s=128&g=1", "display_name": "ham-sandwich", "link": "https://stackoverflow.com/users/3968703/ham-sandwich"}, "edited": false, "score": 0, "creation_date": 1437605411, "post_id": 31574773, "comment_id": 51105556, "body": "Upvote for ditching the loop. I think you have an extra bracket on Line 6 <code>text())</code>"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 4, "last_activity_date": 1437605672, "last_edit_date": 1437605672, "creation_date": 1437602470, "answer_id": 31574773, "question_id": 31574638, "link": "https://stackoverflow.com/questions/31574638/scrapy-xpath-selector/31574773#31574773", "title": "Scrapy XPath selector", "body": "<p>The <code>for title in response.xpath('//body'):</code> option does not work because your XPath expressions in the loop make it search for <code>h1</code> element directly inside the <code>body</code> element. </p>\n\n<p>Moreover, since there is only one desired entity to extract you don't need a loop here at all:</p>\n\n<pre><code>def parse_item(self, response):\n    item = BotItem()\n\n    item[\"title\"] = response.xpath('//h1/strong/text()').extract()\n    item[\"wage\"] = response.xpath('//h1/span[@class=\"price\"]/text()').extract()\n    item[\"description\"] = response.xpath('//div[@id=\"description\"]/p/text()').extract()\n\n    return item\n</code></pre>\n\n<p>(this should also answer your second question about the <code>description</code>)</p>\n"}], "owner": {"reputation": 273, "user_id": 4730984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7758c495739acb61bbc8e7ce23390c17?s=128&d=identicon&r=PG&f=1", "display_name": "plotplot", "link": "https://stackoverflow.com/users/4730984/plotplot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 1, "accepted_answer_id": 31574773, "answer_count": 1, "score": 0, "last_activity_date": 1476334877, "creation_date": 1437601870, "question_id": 31574638, "link": "https://stackoverflow.com/questions/31574638/scrapy-xpath-selector", "title": "Scrapy XPath selector", "body": "<p>I am scraping <a href=\"http://mufmuf.ro/locuri-de-munca/joburi-in-strainatate\" rel=\"nofollow\">this site</a> and I'm using Scrapy as the means. However, I am having trouble with the XPath. I'm not entirely sure what is going on:</p>\n\n<p>Why does this work:</p>\n\n<pre><code>def parse_item(self, response):\n    item = BotItem()\n\n    for title in response.xpath('//h1'):\n        item['title'] = title.xpath('strong/text()').extract()\n        item['wage'] = title.xpath('span[@class=\"price\"]/text()').extract()\n        yield item\n</code></pre>\n\n<p>and the following code not?</p>\n\n<pre><code>def parse_item(self, response):\n    item = BotItem()\n\n    for title in response.xpath('//body'):\n        item['title'] = title.xpath('h1/strong/text()').extract()\n        item['wage'] = title.xpath('h1/span[@class=\"price\"]/text()').extract()\n        yield item\n</code></pre>\n\n<p>I aim to also extract the XPath for: </p>\n\n<pre><code>//div[@id=\"description\"]/p\n</code></pre>\n\n<p>But I can't because it is outside the <code>h1</code> node. How can I achieve this? My full code is:</p>\n\n<pre><code>import scrapy\nfrom scrapy.linkextractors import LinkExtractor\nfrom scrapy.spiders import CrawlSpider, Rule\n\nfrom bot.items import BotItem\n\n\nclass MufmufSpider(CrawlSpider):\n    name = 'mufmuf'\n    allowed_domains = ['mufmuf.ro']\n    start_urls = ['http://mufmuf.ro/locuri-de-munca/joburi-in-strainatate/']\n\n    rules = (\n        Rule(\n            LinkExtractor(restrict_xpaths='//div[@class=\"paginate\"][position() = last()]'), \n            #callback='parse_start_url', \n            follow=True\n        ),\n        Rule(\n            LinkExtractor(restrict_xpaths='//h3/a'), \n            callback='parse_item', \n            follow=True\n        ),\n\n    def parse_item(self, response):\n        item = BotItem()\n\n        for title in response.xpath('//h1'):\n            item['title'] = title.xpath('strong/text()').extract()\n            item['wage'] = title.xpath('span[@class=\"price\"]/text()').extract()\n            #item['description'] = title.xpath('div[@id=\"descirption\"]/p/text()').extract()\n            yield item\n</code></pre>\n"}, {"tags": ["python", "pdf", "pdfminer", "pdf-scraping"], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 3368835, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8b079dc1648a6e2fcf1b09f7ee64c409?s=128&d=identicon&r=PG&f=1", "display_name": "user3368835", "link": "https://stackoverflow.com/users/3368835/user3368835"}, "edited": false, "score": 1, "creation_date": 1437602221, "post_id": 31574652, "comment_id": 51104264, "body": "When I tried that it says that &quot;can&#39;t open file &#39;pdf2txt.py&#39;: [Errno2] No such file or directory&quot;"}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 4, "creation_date": 1437602427, "post_id": 31574652, "comment_id": 51104359, "body": "did you provide the full path to the file? <code>python path&#47;to&#47;pdf2txt.py</code>?"}, {"owner": {"reputation": 327, "user_id": 3368835, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8b079dc1648a6e2fcf1b09f7ee64c409?s=128&d=identicon&r=PG&f=1", "display_name": "user3368835", "link": "https://stackoverflow.com/users/3368835/user3368835"}, "edited": false, "score": 0, "creation_date": 1437604807, "post_id": 31574652, "comment_id": 51105360, "body": "I did not.  I just did and it worked! thanks so much!"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1437604915, "post_id": 31574652, "comment_id": 51105410, "body": "No he doesn&#39;t have to run it as python pdf2txt,py if he doesn&#39;t want to! 1. Windows doesn&#39;t use the execution line on top of scripts but uses extensions and will start python automatically. 2. Python installer doesn&#39;t add Python to the %PATH% environment variable, so typing only python into prompt will produce an error. C:\\Python27\\python.exe pdf2txt.py or similar would work though."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1437605294, "post_id": 31574652, "comment_id": 51105508, "body": "If you run in some more trouble, have in mind that there are some slightly backward incompatible pdfminer versions. I had a problem with pdf2txt that used the older pdfminer and it didn&#39;t work with my version."}, {"owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "reply_to_user": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1437605546, "post_id": 31574652, "comment_id": 51105597, "body": "@Dalen It is common(at least in people i know) to associate .py files with text editors for devs. Hence, I didn&#39;t mention it. However, you are right. Windows uses extensions for detecting what program for call for execution."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1437633408, "post_id": 31574652, "comment_id": 51113183, "body": "@Akshat I would never do that. I am using  Open with to get to the source, and not closing the file while developing. I&#39;ts obvious that  Anony has custom install, because Python installer associates *.py with the interpreter by default. At least Python 2.x installer did."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1437633856, "post_id": 31574652, "comment_id": 51113430, "body": "I mean, when first time I accidentally ommited the interpreter on Windows I received a slight shock when thing worked. I mean, it&#39;s alright for clicking but as you get used to on Unixes that console does what you tell it and no more or less it was still a surprise."}], "tags": [], "owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "is_accepted": false, "score": 3, "last_activity_date": 1437601942, "creation_date": 1437601942, "answer_id": 31574652, "question_id": 31574629, "link": "https://stackoverflow.com/questions/31574629/pdf2txt-py-not-executing-command/31574652#31574652", "title": "pdf2txt.py not executing command", "body": "<p>You need to run it as </p>\n\n<pre><code>python pdf2txt.py -c UTF-8 output.txt \"my file.pdf\n</code></pre>\n\n<p>Windows doesn't use the !# syntax, I think.</p>\n"}], "owner": {"reputation": 327, "user_id": 3368835, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8b079dc1648a6e2fcf1b09f7ee64c409?s=128&d=identicon&r=PG&f=1", "display_name": "user3368835", "link": "https://stackoverflow.com/users/3368835/user3368835"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8329, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1437605595, "creation_date": 1437601843, "last_edit_date": 1437605595, "question_id": 31574629, "link": "https://stackoverflow.com/questions/31574629/pdf2txt-py-not-executing-command", "title": "pdf2txt.py not executing command", "body": "<p>Whenever I use pdf2txt.py on my command line the source file opens and the command does not execute. I've just installed the packages and haven't been able to get it to run.  For example, I will type the command:</p>\n\n<pre><code>pdf2txt.py -c UTF-8 output.txt \"my file.pdf\"\n</code></pre>\n\n<p>after typing the command, the file pdf2txt.py will open and the command won't execute.  Has anyone encountered this before? What am I doing wrong?</p>\n\n<p>I'm using windows command prompt. Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "dictionary", "key", "default"], "comments": [{"owner": {"reputation": 829, "user_id": 3557327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff2c9f3eb0de137929fd3893d62b044c?s=128&d=identicon&r=PG&f=1", "display_name": "user3557327", "link": "https://stackoverflow.com/users/3557327/user3557327"}, "edited": false, "score": 0, "creation_date": 1437602149, "post_id": 31574601, "comment_id": 51104240, "body": "Python dictionaries uses hashes of your objects. Make sure <code>hash(instance.breed_code)</code> is the same value as <code>hash(bc)</code>. There might be some magic there giving you an object in one line but the string in another."}, {"owner": {"reputation": 61, "user_id": 5090722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b89af37b7c7a5581a0d3f52cd1de2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Le Tran", "link": "https://stackoverflow.com/users/5090722/le-tran"}, "reply_to_user": {"reputation": 829, "user_id": 3557327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff2c9f3eb0de137929fd3893d62b044c?s=128&d=identicon&r=PG&f=1", "display_name": "user3557327", "link": "https://stackoverflow.com/users/3557327/user3557327"}, "edited": false, "score": 0, "creation_date": 1437602440, "post_id": 31574601, "comment_id": 51104363, "body": "Okay those two hash&#39;s are not the same value.  How would I go about using the breed_code to work as a key to access the dictionary then?  I thought    return BREED_CLASS[instance.breed_code][0] would work but it doesn&#39;t."}, {"owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "edited": false, "score": 0, "creation_date": 1437602470, "post_id": 31574601, "comment_id": 51104378, "body": "How do you instantiate instance?"}, {"owner": {"reputation": 61, "user_id": 5090722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b89af37b7c7a5581a0d3f52cd1de2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Le Tran", "link": "https://stackoverflow.com/users/5090722/le-tran"}, "edited": false, "score": 0, "creation_date": 1437602643, "post_id": 31574601, "comment_id": 51104453, "body": "From the template  \t    <code>&lt;select name=&quot;breed_code&quot; required=&quot;required&quot;&gt; \t        {% for key, value in breed_types %} \t\t  \t\t&lt;option value={{key}}&gt;{{value.0}}&lt;&#47;option&gt;   \t\t\t{% endfor %} \t\t&lt;&#47;select&gt; </code>  and then  <code>breed_code = request.POST.get(&#39;breed_code&#39;, &#39;&#39;)</code> <code>new_dog = BREED_CLASS[breed_code][1](breed_code=breed_code)</code>"}, {"owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "edited": false, "score": 0, "creation_date": 1437602919, "post_id": 31574601, "comment_id": 51104573, "body": "Can you try quoting {{key]} ?"}, {"owner": {"reputation": 61, "user_id": 5090722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b89af37b7c7a5581a0d3f52cd1de2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Le Tran", "link": "https://stackoverflow.com/users/5090722/le-tran"}, "edited": false, "score": 0, "creation_date": 1437603570, "post_id": 31574601, "comment_id": 51104855, "body": "That doesn&#39;t seem to be where the problem lies because the same error occurs even if I create a new instance via the django admin interface (Add dog +)"}, {"owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "edited": false, "score": 0, "creation_date": 1437603633, "post_id": 31574601, "comment_id": 51104882, "body": "You never know. Also can you tell the output of <code>type(bc)</code>"}, {"owner": {"reputation": 61, "user_id": 5090722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b89af37b7c7a5581a0d3f52cd1de2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Le Tran", "link": "https://stackoverflow.com/users/5090722/le-tran"}, "edited": false, "score": 0, "creation_date": 1437603921, "post_id": 31574601, "comment_id": 51105005, "body": "With <code>bc = instance.breed_code</code>, <code>type(bc)</code> returns <code>&lt;class &#39;str&#39;&gt;</code>"}, {"owner": {"reputation": 61, "user_id": 5090722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b89af37b7c7a5581a0d3f52cd1de2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Le Tran", "link": "https://stackoverflow.com/users/5090722/le-tran"}, "edited": false, "score": 0, "creation_date": 1437604148, "post_id": 31574601, "comment_id": 51105106, "body": "And I tried doing &quot;{{key}}&quot; and that didn&#39;t work either"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5090722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b89af37b7c7a5581a0d3f52cd1de2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Le Tran", "link": "https://stackoverflow.com/users/5090722/le-tran"}, "edited": false, "score": 0, "creation_date": 1437603273, "post_id": 31574911, "comment_id": 51104734, "body": "Thanks for the suggestion, but that doesn&#39;t seem to work either. Getting the same errors :/"}, {"owner": {"reputation": 61, "user_id": 5090722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b89af37b7c7a5581a0d3f52cd1de2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Le Tran", "link": "https://stackoverflow.com/users/5090722/le-tran"}, "edited": false, "score": 0, "creation_date": 1437603633, "post_id": 31574911, "comment_id": 51104881, "body": "bdcl. And that&#39;s why it&#39;s tearing me up. Because it seems like using that as a key would work, but it doesn&#39;t and I have no idea why."}], "tags": [], "owner": {"reputation": 829, "user_id": 3557327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff2c9f3eb0de137929fd3893d62b044c?s=128&d=identicon&r=PG&f=1", "display_name": "user3557327", "link": "https://stackoverflow.com/users/3557327/user3557327"}, "is_accepted": false, "score": 0, "last_activity_date": 1437603064, "creation_date": 1437603064, "answer_id": 31574911, "question_id": 31574601, "link": "https://stackoverflow.com/questions/31574601/using-models-field-as-a-dictionary-key-but-its-reading-it-as-the-default-value/31574911#31574911", "title": "Using models field as a dictionary key, but it&#39;s reading it as the default value?", "body": "<p>The CharField class seems to be using the <code>__str__</code> magic method to return a string when you print it, giving you the illusion it is a string but it's actually an object. Your dictionary uses the actual string for storing the value but when you use <code>BREED_CLASS[instance.breed_code]</code> you are passing it the object. Converting your object to a string should fix it. Try this:</p>\n\n<pre><code>BREED_CLASS[str(instance.breed_code)][0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 5090722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b89af37b7c7a5581a0d3f52cd1de2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Le Tran", "link": "https://stackoverflow.com/users/5090722/le-tran"}, "is_accepted": false, "score": 0, "last_activity_date": 1437607897, "creation_date": 1437607897, "answer_id": 31575756, "question_id": 31574601, "link": "https://stackoverflow.com/questions/31574601/using-models-field-as-a-dictionary-key-but-its-reading-it-as-the-default-value/31575756#31575756", "title": "Using models field as a dictionary key, but it&#39;s reading it as the default value?", "body": "<p>So I figured out a workaround that gets me what I want, but I have no idea why it works.</p>\n\n<p>This by itself does not work</p>\n\n<pre><code>return BREED_CLASS[instance.breed_code][2]\n</code></pre>\n\n<p>But having this for loop that iterates through the keys does</p>\n\n<pre><code>for key in BREED_CLASS:\n    if key == instance.breed_code:\n        return  BREED_CLASS[instance.breed_code][2]\n</code></pre>\n\n<p>Notice that both return calls are identical, with instance.breed_code being used for the dict key index.\nDoes anyone have an answer as for why this is?</p>\n"}], "owner": {"reputation": 61, "user_id": 5090722, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b89af37b7c7a5581a0d3f52cd1de2fd?s=128&d=identicon&r=PG&f=1", "display_name": "Le Tran", "link": "https://stackoverflow.com/users/5090722/le-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1437607897, "creation_date": 1437601728, "question_id": 31574601, "link": "https://stackoverflow.com/questions/31574601/using-models-field-as-a-dictionary-key-but-its-reading-it-as-the-default-value", "title": "Using models field as a dictionary key, but it&#39;s reading it as the default value?", "body": "<p>I have a dictionary defined as</p>\n\n<pre><code>BREED_CLASS = {\n    'bdcl': ['Border Collie', BreedBdcl, 'BreedBdcl'],\n}\n</code></pre>\n\n<p>and a model defined as</p>\n\n<pre><code>class Dog(models.Model):\n    breed_code = models.CharField(max_length=4, default='')\n</code></pre>\n\n<p>I'm trying to use the breed_code as a key to access the items in the dictionary, for example like this</p>\n\n<pre><code>return BREED_CLASS[instance.breed_code][0]\n</code></pre>\n\n<p>but that raises a KeyError, with exception value '' aka the default value. </p>\n\n<p>I've tried doing something like</p>\n\n<pre><code>bc = instance.breed_code\n</code></pre>\n\n<p>and that correctly returns the value saved to that instantiated object ('bdcl'). But when I put that into the dictionary access as so</p>\n\n<pre><code>    return BREED_CLASS[bc][0]\n</code></pre>\n\n<p>it gets me the same exact KeyError with the same exact exception value. How do I figure this out?</p>\n"}, {"tags": ["python", "built-in"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 3, "creation_date": 1437601673, "post_id": 31574541, "comment_id": 51104049, "body": "<code>sum(i.x for i in s)</code> works just as well."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1437601711, "post_id": 31574541, "comment_id": 51104066, "body": "why would it need one?"}, {"owner": {"reputation": 5009, "user_id": 1455108, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/zaRtd.jpg?s=128&g=1", "display_name": "Jo&#227;o Paulo", "link": "https://stackoverflow.com/users/1455108/jo%c3%a3o-paulo"}, "edited": false, "score": 0, "creation_date": 1437601790, "post_id": 31574541, "comment_id": 51104108, "body": "Yeah... In case that I need a complex function... generator expressions would solve all the situations?"}], "answers": [{"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": true, "score": 7, "last_activity_date": 1437601784, "creation_date": 1437601784, "answer_id": 31574613, "question_id": 31574541, "link": "https://stackoverflow.com/questions/31574541/why-sum-does-not-have-the-key-arg/31574613#31574613", "title": "Why sum() does not have the key arg?", "body": "<p>Because you can just write <code>sum(foo.x for foo in s)</code> instead.  If you tried to do this with one of the functions that does take a <code>key</code> argument (<code>sorted</code>, <code>min</code>, <code>max</code>, etc.), the function would end up returning the key(s) rather than the original item(s), and getting the original items while sorting by keys is tricky enough that Python gives you a built-in way to do that via a keyword argument.</p>\n\n<p>Thus: There's no special reason for <code>sum</code> to not take a <code>key</code>; rather, those other functions have special reasons why they <em>do</em> take a <code>key</code>.  <code>key</code> is the exception, not the rule.</p>\n"}, {"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 2, "last_activity_date": 1437601932, "creation_date": 1437601932, "answer_id": 31574648, "question_id": 31574541, "link": "https://stackoverflow.com/questions/31574541/why-sum-does-not-have-the-key-arg/31574648#31574648", "title": "Why sum() does not have the key arg?", "body": "<p>There is no <code>key</code> argument because <code>sum()</code> doesn't return the original elements (like <code>sorted()</code>, <code>min()</code> and <code>max()</code> do). Instead, it just sums the inputs.</p>\n\n<p>If, say, <code>min()</code> did not take a <code>key</code> argument, it could not return the minimum <code>Foo()</code> object based on an attribute; it could only return the value of that attribute. But <code>sum()</code> doesn't work that way, it doesn't need to preserve the original objects.</p>\n\n<p>You can easily transform the inputs in a generator expression:</p>\n\n<pre><code>sum(item.x for item in s)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "is_accepted": false, "score": 1, "last_activity_date": 1437606396, "last_edit_date": 1437606396, "creation_date": 1437604918, "answer_id": 31575290, "question_id": 31574541, "link": "https://stackoverflow.com/questions/31574541/why-sum-does-not-have-the-key-arg/31575290#31575290", "title": "Why sum() does not have the key arg?", "body": "<p>Although there is no <code>key</code> param, the good news is that You <em>can</em> use <code>sum</code>\nwith your <code>Foo</code> object! Others have already pointed out that the easiest way to\ndo this</p>\n\n<pre><code>sum(item.x for item in s)\n</code></pre>\n\n<p>However, it's also possible to use it without the comprehension.</p>\n\n<h1>Object addition</h1>\n\n<p>In order for sum to work, basic addition needs to work first.</p>\n\n<pre><code>In [2]: class Foo:\n...:     def __init__(self, x):\n...:         self.x = x\n...:\n\nIn [3]: Foo(3) + Foo(5)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-3-f0e9c3a4abb9&gt; in &lt;module&gt;()\n----&gt; 1 Foo(3) + Foo(5)\n\nTypeError: unsupported operand type(s) for +: 'Foo' and 'Foo'\n</code></pre>\n\n<p>We can enable addition by defining the <code>__add__</code> method.</p>\n\n<pre><code>In [4]: class Foo:\n...:     def __init__(self, x):\n...:         self.x = x\n...:     def __add__(self, other):\n...:         return Foo(self.x + other.x)\n...:\n\nIn [5]: Foo(3) + Foo(5)\nOut[5]: &lt;__main__.Foo at 0x102bdc2e8&gt;\n</code></pre>\n\n<p>to make clear that it worked</p>\n\n<pre><code>In [6]: result = Foo(3) + Foo(5)\n\nIn [7]: result.x\nOut[7]: 8\n</code></pre>\n\n<p>But this doesn't solve everything.</p>\n\n<pre><code>In [8]: sum([Foo(3), Foo(5)])\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-8-70968119f3ba&gt; in &lt;module&gt;()\n----&gt; 1 sum([Foo(3), Foo(5)])\n\nTypeError: unsupported operand type(s) for +: 'int' and 'Foo'\n</code></pre>\n\n<p>We didn't try to add an <code>int</code>, but the <code>sum</code> function thinks we did. What gives?</p>\n\n<h1>THE <code>sum</code> FUNCTION</h1>\n\n<p>using ipython to inspect the <code>sum</code> function, you can see that it includes an\noptional <code>start</code> parameter</p>\n\n<pre><code>In [1]: sum??\nDocstring:\nsum(iterable[, start]) -&gt; value\n\nReturn the sum of an iterable of numbers (NOT strings) plus the value\nof parameter 'start' (which defaults to 0).  When the iterable is\nempty, return start.\nType:      builtin_function_or_method\n</code></pre>\n\n<p>So according to that, <code>sum(s)</code> is the same as <code>sum(s, 0)</code> and it's this start\nvalue that is causing the error. All we have to do is replace the start value\nwith the equivalent <code>Foo</code> object</p>\n\n<pre><code>In [9]: sum([Foo(3), Foo(5)], Foo(0))\nOut[9]: &lt;__main__.Foo at 0x102bdc9e8&gt;\n\nIn [10]: result = sum([Foo(3), Foo(5)], Foo(0))\n\nIn [11]: result.x\nOut[11]: 8\n</code></pre>\n\n<p>This also applies to some other types</p>\n\n<pre><code>In [12]: sum([[1,2,3], [4,5,6]], [])\nOut[12]: [1, 2, 3, 4, 5, 6]\n</code></pre>\n\n<p>but not all of them</p>\n\n<pre><code>In [13]: sum([\"abc\", \"def\"], \"\")\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-13-452a33de0457&gt; in &lt;module&gt;()\n----&gt; 1 sum([\"abc\", \"def\"], \"\")\n\nTypeError: sum() can't sum strings [use ''.join(seq) instead]\n</code></pre>\n"}], "owner": {"reputation": 5009, "user_id": 1455108, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/zaRtd.jpg?s=128&g=1", "display_name": "Jo&#227;o Paulo", "link": "https://stackoverflow.com/users/1455108/jo%c3%a3o-paulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3071, "favorite_count": 0, "accepted_answer_id": 31574613, "answer_count": 3, "score": 2, "last_activity_date": 1437606396, "creation_date": 1437601514, "question_id": 31574541, "link": "https://stackoverflow.com/questions/31574541/why-sum-does-not-have-the-key-arg", "title": "Why sum() does not have the key arg?", "body": "<p>Today, I automatically wrote some thing like this:</p>\n\n<pre><code>class Foo():\n    def __init__(self, x):\n        self.x = x\n\ns = [Foo(1), Foo(2), Foo(3)]\nsum_x = sum(s, key = lambda foo: foo.x)\n</code></pre>\n\n<p>And got this:</p>\n\n<blockquote>\n  <p>TypeError: sum() takes no keyword arguments</p>\n</blockquote>\n\n<p>Is there any special reason for <code>sum()</code> does not have a <code>key</code> arg?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1437601488, "post_id": 31574494, "comment_id": 51103963, "body": "What do you think this line does: <code>text[1:]</code> ?"}, {"owner": {"reputation": 719, "user_id": 4052200, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/34175b46df03b2defa96c6d0a86fe2d9?s=128&d=identicon&r=PG&f=1", "display_name": "jukhamil", "link": "https://stackoverflow.com/users/4052200/jukhamil"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1437601546, "post_id": 31574494, "comment_id": 51103987, "body": "That was a mistake; I meant <code>text = text[1:]</code>"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1437601875, "post_id": 31574494, "comment_id": 51104138, "body": "I wonder if this would be better suited to <a href=\"http://codereview.stackexchange.com\">codereview.stackexchange.com</a> ?"}, {"owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "edited": false, "score": 0, "creation_date": 1437602136, "post_id": 31574494, "comment_id": 51104235, "body": "<a href=\"http://stackoverflow.com/questions/17137490/pythonic-enumeration-of-while-loop\" title=\"pythonic enumeration of while loop\">stackoverflow.com/questions/17137490/&hellip;</a>"}, {"owner": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "edited": false, "score": 0, "creation_date": 1437603067, "post_id": 31574494, "comment_id": 51104649, "body": "Presumably your function should also <code>return match_locations</code>?"}, {"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1437603701, "post_id": 31574494, "comment_id": 51104910, "body": "@Rob\u1d69 Good question! In this particular case, I&#39;d say it fits about evenly on both sites. This is a specific enough question to be on-topic on Stack Overflow, I believe. For future reference, you might want to read <a href=\"http://meta.codereview.stackexchange.com/questions/5777/a-guide-to-code-review-for-stack-overflow-users\">A Guide to Code Review for Stack Overflow users</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 1, "creation_date": 1437601651, "post_id": 31574520, "comment_id": 51104035, "body": "In this case, no need to  reassign <code>text = text[1:]</code>. Just switch to <code>if PrefixTrieMatching(text[i:], trie)</code>  is probably better."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1437601875, "post_id": 31574520, "comment_id": 51104137, "body": "@mehtunguh, yes, it is more there to show that you actually need to reassign text to actually change what the name points to. <code>text[i:]</code> in the OP&#39;s code is not doing much"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 4, "last_activity_date": 1437601983, "last_edit_date": 1437601983, "creation_date": 1437601439, "answer_id": 31574520, "question_id": 31574494, "link": "https://stackoverflow.com/questions/31574494/is-there-a-pythonic-way-to-do-a-while-loop-with-an-index/31574520#31574520", "title": "Is there a pythonic way to do a while-loop with an index?", "body": "<p>You are always increasing <code>i</code> so just use range:</p>\n\n<pre><code>def TrieMatching(text, trie):\n    match_locations = []\n    for i in range(len(text)):\n        if PrefixTrieMatching(text[i:], trie):\n            match_locations.append(i)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "edited": false, "score": 0, "creation_date": 1437603153, "post_id": 31574586, "comment_id": 51104680, "body": "But you will find it you try to use it in this particular problem that it doesn&#39;t help very much."}, {"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "reply_to_user": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "edited": false, "score": 0, "creation_date": 1437607053, "post_id": 31574586, "comment_id": 51106017, "body": "@holdenweb it actually answers the question that is asked very well, even though it isn&#39;t very good for the specific example given."}, {"owner": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "reply_to_user": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1437698466, "post_id": 31574586, "comment_id": 51152220, "body": "@mehtungu Thanks for your comment. The issue would seem to be whether it does answer that question. I should like to see an actual answer to the question (<i>&quot;Is there a more Pythonic way&quot;</i>) using <code>enumerate</code> before I delete that comment (which, if wrong, I will happily do - I have no interest in promoting false technical information and I&#39;m not infallible). Unfortunately my downvote is now locked in unless the A is edited."}], "tags": [], "owner": {"reputation": 69, "user_id": 5139684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd3b37dd6604dc8971bf1abe0e267a89?s=128&d=identicon&r=PG", "display_name": "Stephen Jackson", "link": "https://stackoverflow.com/users/5139684/stephen-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1437601677, "creation_date": 1437601677, "answer_id": 31574586, "question_id": 31574494, "link": "https://stackoverflow.com/questions/31574494/is-there-a-pythonic-way-to-do-a-while-loop-with-an-index/31574586#31574586", "title": "Is there a pythonic way to do a while-loop with an index?", "body": "<p><code>enumerate()</code> is a great way to iterate over something and get an index as well. It returns an iterable that yields tuples of (counter, value)</p>\n\n<p><a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow\">https://docs.python.org/2/library/functions.html#enumerate</a></p>\n\n<p>From the docs:</p>\n\n<pre><code>&gt;&gt;&gt; seasons = ['Spring', 'Summer', 'Fall', 'Winter']\n&gt;&gt;&gt; list(enumerate(seasons))\n[(0, 'Spring'), (1, 'Summer'), (2, 'Fall'), (3, 'Winter')]\n</code></pre>\n\n<p>So you can use it in a for loop really easily:</p>\n\n<pre><code>for (i,season) in enumerate(seasons):\n     print \"{} {}\".format(i,season)\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>0 Spring\n1 Summer\n2 Fall\n3 Winer\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "edited": false, "score": 0, "creation_date": 1437603212, "post_id": 31574589, "comment_id": 51104706, "body": "Please give solutions as answers, not suggestions"}], "tags": [], "owner": {"reputation": 5613, "user_id": 2339708, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dL2a0.jpg?s=128&g=1", "display_name": "Eli Rose", "link": "https://stackoverflow.com/users/2339708/eli-rose"}, "is_accepted": false, "score": -1, "last_activity_date": 1437601687, "creation_date": 1437601687, "answer_id": 31574589, "question_id": 31574494, "link": "https://stackoverflow.com/questions/31574494/is-there-a-pythonic-way-to-do-a-while-loop-with-an-index/31574589#31574589", "title": "Is there a pythonic way to do a while-loop with an index?", "body": "<p>I wouldn't necessarily use this, but <code>itertools.count()</code> is <code>[1, 2, 3, ...]</code>.</p>\n\n<pre><code>import itertools\nfor i in itertools.count():\n    ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "edited": false, "score": 1, "creation_date": 1437603400, "post_id": 31574592, "comment_id": 51104793, "body": "Presumably you omitted <code>return</code> because the question also did, but it does render the function less than useful"}, {"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1437607348, "post_id": 31574592, "comment_id": 51106089, "body": "Meh. If your list comprehension has to split many lines, just use a for loop."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 5, "last_activity_date": 1437601693, "creation_date": 1437601693, "answer_id": 31574592, "question_id": 31574494, "link": "https://stackoverflow.com/questions/31574494/is-there-a-pythonic-way-to-do-a-while-loop-with-an-index/31574592#31574592", "title": "Is there a pythonic way to do a while-loop with an index?", "body": "<p>I'm always fond of list comprehensions.</p>\n\n<pre><code>def TrieMatching(text, trie):\n    match_locations = [\n        location\n        for location in range(len(text))\n        if PrefixTrieMatch(text[location:],trie)\n    ]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "is_accepted": false, "score": 0, "last_activity_date": 1437602028, "creation_date": 1437602028, "answer_id": 31574670, "question_id": 31574494, "link": "https://stackoverflow.com/questions/31574494/is-there-a-pythonic-way-to-do-a-while-loop-with-an-index/31574670#31574670", "title": "Is there a pythonic way to do a while-loop with an index?", "body": "<p><code>enumerate</code> is often used for tracking the index in a for loop. Here is an example of how to use it.</p>\n\n<pre><code>for i, elem in enumerate(\"abc\"):\n    print(i, elem)\n\n0 a\n1 b\n2 c\n</code></pre>\n\n<p>In your example, you aren't using the <code>elem</code> as in the above case, so <code>enumerate</code> may not be the best solution. You should probably either try using <code>range</code> or stick with the <code>while</code> loop you already have. </p>\n\n<pre><code>for location in range(len(text)):\n    if PrefixTrieMatching(text[location:], trie):\n        match_locations.append(location)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "is_accepted": false, "score": 1, "last_activity_date": 1437699341, "last_edit_date": 1437699341, "creation_date": 1437603004, "answer_id": 31574893, "question_id": 31574494, "link": "https://stackoverflow.com/questions/31574494/is-there-a-pythonic-way-to-do-a-while-loop-with-an-index/31574893#31574893", "title": "Is there a pythonic way to do a while-loop with an index?", "body": "<p>Have you ever heard the old saying \"Give a man a hammer and suddenly all his problems look like nails\"? The <code>while</code> loop is not a hammer.</p>\n\n<p>Why use a <code>while</code> loop at all? If I am correct your problem can be stated without reference to them as \"produce a list of the locations of all suffixes of <code>text</code> which match a given <code>trie</code>\".</p>\n\n<p>This can be written as a list comprehension:</p>\n\n<pre><code>def TrieMatching(text, trie):\n   return [l for l in range(len(text)) if PrefixTrieMatching(text[l:], trie)]\n</code></pre>\n\n<p>I added a <code>return</code> as there is little point in computing a value only to retain no reference to it.</p>\n"}], "owner": {"reputation": 719, "user_id": 4052200, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/34175b46df03b2defa96c6d0a86fe2d9?s=128&d=identicon&r=PG&f=1", "display_name": "jukhamil", "link": "https://stackoverflow.com/users/4052200/jukhamil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 6, "score": 3, "last_activity_date": 1437699341, "creation_date": 1437601315, "last_edit_date": 1437602339, "question_id": 31574494, "link": "https://stackoverflow.com/questions/31574494/is-there-a-pythonic-way-to-do-a-while-loop-with-an-index", "title": "Is there a pythonic way to do a while-loop with an index?", "body": "<p>Is there a more Pythonic way to write the code beneath, so that it iterates over some condition but also keeps an index of the iterations?</p>\n\n<pre><code>def TrieMatching(text, trie):\n    match_locations = []\n    location = 0\n    while text:\n        if PrefixTrieMatching(text, trie):\n            match_locations.append(location)\n        text = text[1:]\n        location += 1\n</code></pre>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1437601429, "post_id": 31574425, "comment_id": 51103949, "body": "Are you sure it&#39;s not failing on the first package? What sort of failure? Can you paste the error? Can you paste the requirements.txt file?"}, {"owner": {"reputation": 829, "user_id": 3557327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff2c9f3eb0de137929fd3893d62b044c?s=128&d=identicon&r=PG&f=1", "display_name": "user3557327", "link": "https://stackoverflow.com/users/3557327/user3557327"}, "edited": false, "score": 1, "creation_date": 1437601536, "post_id": 31574425, "comment_id": 51103982, "body": "When a package is already installed, pip just says <code>Requirement already satisfied (use --upgrade to upgrade): packagename&gt;=version in &#47;some&#47;path</code>. It doesn&#39;t reinstalls it"}, {"owner": {"reputation": 1250, "user_id": 3626406, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/292edf62f7e356454a28b5d8f6c6cb3d?s=128&d=identicon&r=PG&f=1", "display_name": "cyberjoac", "link": "https://stackoverflow.com/users/3626406/cyberjoac"}, "edited": false, "score": 0, "creation_date": 1437601672, "post_id": 31574425, "comment_id": 51104047, "body": "I&#39;m talking about the situation where pip installs a lot of packages inside the requirements.txt file, and when getting to the package that fails, and relaunching the command pip install -r requirements.txt, it restarts from the very beginning (I can identify the same packages that got previously installed). It looks like I have issue with pip install scipy numpy (but my question is more generic)"}, {"owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "edited": false, "score": 0, "creation_date": 1437604417, "post_id": 31574425, "comment_id": 51105216, "body": "What version of pip do you have? It&#39;s normal that it starts from the beginning though - newer versions of pip should have better caching to reduce the time to do this."}], "answers": [{"comments": [{"owner": {"reputation": 1250, "user_id": 3626406, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/292edf62f7e356454a28b5d8f6c6cb3d?s=128&d=identicon&r=PG&f=1", "display_name": "cyberjoac", "link": "https://stackoverflow.com/users/3626406/cyberjoac"}, "edited": false, "score": 0, "creation_date": 1437638388, "post_id": 31576628, "comment_id": 51115971, "body": "I resolved it by running sudo apt-get build-dep python-matplotlib (or python-scipy)."}, {"owner": {"reputation": 4378, "user_id": 4358680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGQtt.jpg?s=128&g=1", "display_name": "Meghdeep Ray", "link": "https://stackoverflow.com/users/4358680/meghdeep-ray"}, "reply_to_user": {"reputation": 1250, "user_id": 3626406, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/292edf62f7e356454a28b5d8f6c6cb3d?s=128&d=identicon&r=PG&f=1", "display_name": "cyberjoac", "link": "https://stackoverflow.com/users/3626406/cyberjoac"}, "edited": false, "score": 0, "creation_date": 1437639131, "post_id": 31576628, "comment_id": 51116364, "body": "The dependencies are downloaded and installed on the <code>sudo apt-get install</code> directly as well though. Anyway glad it worked for you !"}], "tags": [], "owner": {"reputation": 4378, "user_id": 4358680, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGQtt.jpg?s=128&g=1", "display_name": "Meghdeep Ray", "link": "https://stackoverflow.com/users/4358680/meghdeep-ray"}, "is_accepted": false, "score": 1, "last_activity_date": 1437614133, "creation_date": 1437614133, "answer_id": 31576628, "question_id": 31574425, "link": "https://stackoverflow.com/questions/31574425/pip-install-r-requirements-delete-all-packages-on-failure/31576628#31576628", "title": "pip install -r requirements delete all packages on failure", "body": "<p>I had a similar issue, it was resolved for me by manually installing the libraries that had the most dependencies with <code>sudo apt-get install</code>.\n<br>\nIf you manually go for :</p>\n\n<ul>\n<li>sudo apt-get install python-scipy</li>\n<li>sudo apt-get install python-numpy</li>\n<li>sudo apt-get install pandas</li>\n</ul>\n\n<p>Once these large packages which have many dependencies are installed using <code>apt-get</code>, installing the rest via <code>pip</code> will be easy and will go smoothly.\n<br><br>\nN.B. - Use <code>pip3</code> and <code>sudo apt-get install python3-scipy</code> commands if you're using Python3.</p>\n"}], "owner": {"reputation": 1250, "user_id": 3626406, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/292edf62f7e356454a28b5d8f6c6cb3d?s=128&d=identicon&r=PG&f=1", "display_name": "cyberjoac", "link": "https://stackoverflow.com/users/3626406/cyberjoac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437614133, "creation_date": 1437600963, "question_id": 31574425, "link": "https://stackoverflow.com/questions/31574425/pip-install-r-requirements-delete-all-packages-on-failure", "title": "pip install -r requirements delete all packages on failure", "body": "<p>I have a very long requirements.txt file and everytime a single package fails installing from pip install -r requirements.txt and I relaunch the same command again, it will restart from the very beginning of the list.</p>\n\n<p>Is there any option to save the successful installs and not start it all over from scratch (some are very long to compile).</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 955, "user_id": 2521957, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/06b79c37b59335a7886613e671c5cac4?s=128&d=identicon&r=PG", "display_name": "jars121", "link": "https://stackoverflow.com/users/2521957/jars121"}, "edited": false, "score": 0, "creation_date": 1437603367, "post_id": 31574931, "comment_id": 51104780, "body": "Thanks for that Challensois. My application is already calling several other plots, so ideally I&#39;d like to implement a single plot, but this is a great alternative if I&#39;m unable to."}, {"owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "reply_to_user": {"reputation": 955, "user_id": 2521957, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/06b79c37b59335a7886613e671c5cac4?s=128&d=identicon&r=PG", "display_name": "jars121", "link": "https://stackoverflow.com/users/2521957/jars121"}, "edited": false, "score": 0, "creation_date": 1437603591, "post_id": 31574931, "comment_id": 51104865, "body": "Not sure what you mean by &#39;a single plot&#39;. I edited my answer to show you that you can plot on the same subplot <code>cax</code>. Is that what you meant ?"}, {"owner": {"reputation": 955, "user_id": 2521957, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/06b79c37b59335a7886613e671c5cac4?s=128&d=identicon&r=PG", "display_name": "jars121", "link": "https://stackoverflow.com/users/2521957/jars121"}, "edited": false, "score": 0, "creation_date": 1437603754, "post_id": 31574931, "comment_id": 51104937, "body": "My apologies, I got myself a little confused there. Your edit makes it more clear, thanks for that. I&#39;ll give it a go now."}], "tags": [], "owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "is_accepted": true, "score": 3, "last_activity_date": 1437603518, "last_edit_date": 1437603518, "creation_date": 1437603137, "answer_id": 31574931, "question_id": 31574403, "link": "https://stackoverflow.com/questions/31574403/bar-graph-color-dependent-on-value-in-matplotlib/31574931#31574931", "title": "Bar graph color dependent on value in Matplotlib", "body": "<p>This is by far not the best solution in terms of reusability and/or scalability, but if you only want to have red bars for negative numbers and blue bars for positive number, you can call the barplot twice, by filtering the values before hand. Here is a minimal example of what I mean:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pylab as pl\n\narray = np.random.randn(100)\ngreater_than_zero = array &gt; 0\nlesser_than_zero = array &lt; 0\ncax = pl.subplot(111)\ncax.bar(np.arange(len(array))[greater_than_zero], array[greater_than_zero], color='b')\ncax.bar(np.arange(len(array))[lesser_than_zero], array[lesser_than_zero], color='r')\n</code></pre>\n\n<p><a href=\"http://img11.hostingpics.net/pics/547091download.png\" rel=\"nofollow noreferrer\">result http://img11.hostingpics.net/pics/547091download.png</a></p>\n"}, {"comments": [{"owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "edited": false, "score": 0, "creation_date": 1437605370, "post_id": 31575254, "comment_id": 51105534, "body": "Even better than the solution I suggested! This <code>np.array([(1,0,0)]*len(y))</code> is really neat!"}, {"owner": {"reputation": 955, "user_id": 2521957, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/06b79c37b59335a7886613e671c5cac4?s=128&d=identicon&r=PG", "display_name": "jars121", "link": "https://stackoverflow.com/users/2521957/jars121"}, "edited": false, "score": 0, "creation_date": 1437605775, "post_id": 31575254, "comment_id": 51105677, "body": "Really nice csunday95! Thank you for your contribution!"}], "tags": [], "owner": {"reputation": 1229, "user_id": 3916223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae66ded0b6a3f8ec8522661af9d964f0?s=128&d=identicon&r=PG&f=1", "display_name": "csunday95", "link": "https://stackoverflow.com/users/3916223/csunday95"}, "is_accepted": false, "score": 9, "last_activity_date": 1437606178, "last_edit_date": 1437606178, "creation_date": 1437604754, "answer_id": 31575254, "question_id": 31574403, "link": "https://stackoverflow.com/questions/31574403/bar-graph-color-dependent-on-value-in-matplotlib/31575254#31575254", "title": "Bar graph color dependent on value in Matplotlib", "body": "<p>You can also specify an arraylike as the color kwarg as such:</p>\n\n<pre><code>x = np.arange(1,100)\ny = np.sin(np.arange(1,100))\ncolors = np.array([(1,0,0)]*len(y))\ncolors[y &gt;= 0] = (0,0,1)\nplt.bar(x,y,color = colors)\n</code></pre>\n\n<p>So long as colors is the same length as y, you can specify the colors however you want. </p>\n\n<p><a href=\"https://i.stack.imgur.com/tUnMP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tUnMP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Or for something a little fancier:</p>\n\n<pre><code>x = np.arange(1,100)\ny = np.sin(3*np.arange(1,100))\ncolors = np.array([(1,0,0)]*len(y))\ncolors[y &gt;= 0] = (0,0,1)\nmult = np.reshape(np.repeat(np.abs(y)/np.max(np.abs(y)),3),(len(y),3))\ncolors =  mult*colors\nplt.bar(x,y,color = colors)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2pSt8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2pSt8.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 955, "user_id": 2521957, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/06b79c37b59335a7886613e671c5cac4?s=128&d=identicon&r=PG", "display_name": "jars121", "link": "https://stackoverflow.com/users/2521957/jars121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4000, "favorite_count": 1, "accepted_answer_id": 31574931, "answer_count": 2, "score": 1, "last_activity_date": 1437606178, "creation_date": 1437600901, "question_id": 31574403, "link": "https://stackoverflow.com/questions/31574403/bar-graph-color-dependent-on-value-in-matplotlib", "title": "Bar graph color dependent on value in Matplotlib", "body": "<p>I've created a bar graph, as follows:</p>\n\n<pre><code>from matplotlib.backends.backend_qt4agg import FigureCanvasQTAgg as FigureCanvas\nimport matplotlib.pyplot as plt\n\n#self.Data1 is an array containing all the data points, inherited from a separate class\n\nDataSet = range(46)\nself.Figure1 = plt.figure()\nself.Figure1.patch.set_alpha(0)\nself.Canvas1 = FigureCanvas(self.Figure1)\n\n#Add canvas to pre-existing Widget#\nself.Widget.addWidget(self.Canvas1)\nself.Ax1 = plt.subplot(1, 1, 1, axisbg='black')\nself.Ax1.bar(DataSet, self.Data1, width=1, color='r')\nself.Ax1.tick_params(axis='y', colors='white')\nplt.title('GRAPH TITLE', color='w', fontsize=30, fontname='Sans Serif', fontweight='bold')\nself.Figure1.tight_layout()\n</code></pre>\n\n<p>This is working nicely, producing the following graph:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dNo0S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dNo0S.png\" alt=\"Current graph\"></a></p>\n\n<p>What I'd like to do is set the bar color depending on the value. I.e. blue if the value is positive and red if the value is negative. What's the easiest way to do so? Do I need to create a Color Map?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1437600644, "post_id": 31574277, "comment_id": 51103612, "body": "How do you run this on the console? What do you type to start the program?"}, {"owner": {"reputation": 73, "user_id": 5141032, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05f88c425bf87280c623c52bedc5265a?s=128&d=identicon&r=PG&f=1", "display_name": "qlzlahs", "link": "https://stackoverflow.com/users/5141032/qlzlahs"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1437600888, "post_id": 31574277, "comment_id": 51103717, "body": "I&#39;m using Spyder 3.4 so I just have to run it. I don&#39;t have to type anything. @Rob\u1d69"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1437601243, "post_id": 31574277, "comment_id": 51103874, "body": "The <code>input</code> line is executed only during the first <code>import game</code> of each Python session. I guess that Spyder doesn&#39;t start a new Python session when you &quot;just run it.&quot; How to fix it depends upon why that code is there. Tell us more about why you placed that code outside of a function."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437602962, "post_id": 31574277, "comment_id": 51104589, "body": "I have run your code using spyder and it works fine, where do you see the output when you run your code?"}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 4863831, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EAfUzXwZ7Cg/AAAAAAAAAAI/AAAAAAAAAbI/bnjFV_k1trU/photo.jpg?sz=128", "display_name": "Chris Hanning", "link": "https://stackoverflow.com/users/4863831/chris-hanning"}, "is_accepted": false, "score": 0, "last_activity_date": 1437603019, "last_edit_date": 1495540694, "creation_date": 1437602574, "answer_id": 31574794, "question_id": 31574277, "link": "https://stackoverflow.com/questions/31574277/python-calling-2-functions-from-another-python-file-in-main/31574794#31574794", "title": "Python - calling 2 functions from another python file in main()", "body": "<p>maingame.py:</p>\n\n<pre><code>import game\n\ngame.game()\n\nif __name__ == \"__main__\":\n    print(\"maingame.py is being run directly\")\nelse:\n    print(\"maingame.py is being imported into another module\")\n</code></pre>\n\n<p>game.py:</p>\n\n<pre><code>def game():\n    h = input(\"Pick number 1 or 2:\\n\")\n    if h == 1:\n        print(\"You lose!\")\n    if h == 2:\n        print(\"You win!\")\n    play_again()\n\ndef play_again():\n    rounds = raw_input(\"Play again? (Y/N): \") # just use input() for python3\n    if rounds == 'Y':\n        game()\n    if rounds == 'N':\n        print(\"Game Over\")\n</code></pre>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/419163/what-does-if-name-main-do\">What does if __name__ == &quot;__main__&quot;: do?</a></p>\n\n<p>and: <a href=\"https://stackoverflow.com/questions/4960208/python-2-7-getting-user-input-and-manipulating-as-string-without-quotations\">Python 2.7 getting user input and manipulating as string without quotations</a> </p>\n\n<p>You can delete the three bottom lines from maingame.py but you <em>should</em> read the associated link to understand what <code>if __name__ == \"__main__\":</code> does and why. Normally you would just write:</p>\n\n<pre><code>if __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>And this will ensure that your file will run, beginning with main(), when called from the command line.</p>\n"}], "owner": {"reputation": 73, "user_id": 5141032, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05f88c425bf87280c623c52bedc5265a?s=128&d=identicon&r=PG&f=1", "display_name": "qlzlahs", "link": "https://stackoverflow.com/users/5141032/qlzlahs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1653, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437603019, "creation_date": 1437600379, "last_edit_date": 1437600571, "question_id": 31574277, "link": "https://stackoverflow.com/questions/31574277/python-calling-2-functions-from-another-python-file-in-main", "title": "Python - calling 2 functions from another python file in main()", "body": "<p>I created 2 different python files.\nThe first file named \"game.py\" has the code:</p>\n\n<pre><code>h = int(input(\"Pick number 1 or 2: \"))\n\ndef game():\n\n    if h == 1:\n        print (\"You lose!\")\n    if h == 2:\n        print (\"You win!\")\n\ndef play_again():\n\n    rounds = input(\"Play again? (Y/N): \")\n    if rounds == \"Y\":\n        game()\n    if rounds == \"NO\":\n        print (\"Game Over\")\n</code></pre>\n\n<p>As shown, I have 2 functions in this file.</p>\n\n<p>Then I created another file with my main function that calls these 2 functions. The following is the code inside it:</p>\n\n<pre><code>import game\n\ndef main():\n\n    game.game()\n\n    game.play_again()\n\nmain()\n</code></pre>\n\n<p>When I run this on the console, it prints \"Pick number 1 or 2: \". But if I run it again, it prints \"Play again? (Y/N): \". </p>\n\n<p>How do I fix this so that it only prints \"Pick number 1 or 2 : \" whenever I run the code?</p>\n"}, {"tags": ["python", "json", "urllib2"], "answers": [{"tags": [], "owner": {"reputation": 425, "user_id": 3839692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqEFW.jpg?s=128&g=1", "display_name": "Liron", "link": "https://stackoverflow.com/users/3839692/liron"}, "is_accepted": false, "score": -1, "last_activity_date": 1437602088, "creation_date": 1437602088, "answer_id": 31574683, "question_id": 31574267, "link": "https://stackoverflow.com/questions/31574267/http-post-using-urllib2/31574683#31574683", "title": "HTTP POST using urllib2", "body": "<p>The following code works for me:</p>\n\n<pre><code>import json\nimport urllib2\nimport logging \n\ndef post_json_request(url, post_data, optional_headers = {}):\n    \"\"\"\n    HTTP POST to server with json as parameter\n    @param url: url to post the data to\n    @param post_data: JSON formatted data \n    @return:  response as raw data\n    \"\"\"\n    response = \"\"\n    try:\n        req = urllib2.Request(url, post_data, optional_headers)\n        jsonDump = json.dumps(post_data)\n        response = urllib2.urlopen(req, jsonDump)\n    except Exception, e:\n        logging.fatal(\"Exception while trying to post data to server - %s\", e)\n    return response\n</code></pre>\n\n<p>I'm using it in various stubborn platforms that insist to retrieve data on a specific method.</p>\n\n<p>Hope it will help,<br>\nLiron</p>\n"}], "owner": {"reputation": 97, "user_id": 3249763, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/82d50e8a7751feddd499d87e5c6744c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3249763", "link": "https://stackoverflow.com/users/3249763/user3249763"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1540, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437602088, "creation_date": 1437600355, "question_id": 31574267, "link": "https://stackoverflow.com/questions/31574267/http-post-using-urllib2", "title": "HTTP POST using urllib2", "body": "<p>IN the code below, I am trying to make a POST of data with urllib2. However, I am getting a HTTP 400 bad request error. Can anyone help me with why this might be the case? The URL is reachable from my computer and all relevant ports are open.</p>\n\n<pre><code>    data = {'operation' : 'all'}\n    results = an.post(an.get_cookie(), 'http://{}:8080/api/v1/data/controller/core/action/switch/update-host-stats'.format(an.TARGET), data)\n    print results \n</code></pre>\n\n<hr>\n\n<pre><code>   def post(session_cookie, url, payload):\n      data = urllib.urlencode(payload)\n      req = urllib2.Request(url, data)\n      req.add_header('Cookie','session_cookie=' + session_cookie)\n\n      try:\n        returnedData = urllib2.urlopen(req, data, timeout = 30)\n        data = json.load(returnedData)\n      except urllib2.URLError, e:\n        print e.code\n        print 'URL ERROR'\n        return {}\n      return data\n</code></pre>\n"}, {"tags": ["python", "unicode", "utf-8", "internationalization"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1437600628, "post_id": 31574266, "comment_id": 51103606, "body": "Okay, I have to ask: what are <i>multi-byte</i> characters? Anything outside the Latin-1 range? Or are you talking about multiple UTF-8 bytes? Or UTF-16 code units perhaps? Not that your question is on-topic."}, {"owner": {"reputation": 1717, "user_id": 891441, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7d498503d9a55df34133c5092d72c905?s=128&d=identicon&r=PG", "display_name": "morfys", "link": "https://stackoverflow.com/users/891441/morfys"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1437600908, "post_id": 31574266, "comment_id": 51103725, "body": "I meant a UTF-8 character sequence, where each character is represented by multiple bytes.  Sorry if this was off-topic.  I searched for a module online to do this, but couldn&#39;t find one.  I rephrased the question."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1437601091, "post_id": 31574266, "comment_id": 51103821, "body": "That covers everything outside of the ASCII range, so codepoints U+0080 through to <code>sys.maxunicode</code>. Why not just use the <code>random</code> module to produce those directly?"}], "answers": [{"comments": [{"owner": {"reputation": 1717, "user_id": 891441, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7d498503d9a55df34133c5092d72c905?s=128&d=identicon&r=PG", "display_name": "morfys", "link": "https://stackoverflow.com/users/891441/morfys"}, "edited": false, "score": 0, "creation_date": 1437604061, "post_id": 31574868, "comment_id": 51105061, "body": "Thank you very much, Martijn."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 2, "last_activity_date": 1437602874, "creation_date": 1437602874, "answer_id": 31574868, "question_id": 31574266, "link": "https://stackoverflow.com/questions/31574266/how-to-generate-unicode-strings-only-with-multi-byte-characters/31574868#31574868", "title": "how to generate unicode strings only with multi-byte characters", "body": "<p>Anything outside the ASCII range (U+0000 - U+007F) gives you a Unicode character that encodes to multiple UTF-8 bytes.</p>\n\n<p>Just randomly generate those:</p>\n\n<pre><code>import sys\nimport random\n\ndef random_nonascii_unicode(length):\n    return u''.join(unichr(random.randint(0x80, sys.maxunicode)) for _ in range(length))\n</code></pre>\n\n<p>and encode to UTF-8 as needed:</p>\n\n<pre><code>&gt;&gt;&gt; random_nonascii_unicode(10)\nu'\\ue82a\\u62ac\\ufe97\\u97a3\\u02c5\\u4955\\u1ad8\\u9cf7\\u8cba\\u62e7'\n&gt;&gt;&gt; random_nonascii_unicode(10).encode('utf8')\n'\\xe3\\x98\\xb8\\xe6\\x91\\x84\\xe9\\x99\\xab\\xeb\\xb3\\x8d\\xef\\xb7\\x91\\xe9\\x9e\\x9f\\xe9\\x99\\xb8\\xee\\x9a\\x9d\\xec\\x86\\x87\\xed\\xa1\\xb0'\n</code></pre>\n"}], "owner": {"reputation": 1717, "user_id": 891441, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7d498503d9a55df34133c5092d72c905?s=128&d=identicon&r=PG", "display_name": "morfys", "link": "https://stackoverflow.com/users/891441/morfys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 0, "accepted_answer_id": 31574868, "answer_count": 1, "score": -2, "last_activity_date": 1437605409, "creation_date": 1437600345, "last_edit_date": 1437605409, "question_id": 31574266, "link": "https://stackoverflow.com/questions/31574266/how-to-generate-unicode-strings-only-with-multi-byte-characters", "title": "how to generate unicode strings only with multi-byte characters", "body": "<p>How does one generate a UTF-8 character sequence where each character is represented by multiple bytes, and each character is chosen from the set of all characters with multi-byte presentations?</p>\n\n<p>I'm trying to test how my application handles UTF-8 with multi-byte characters.  Thanks. </p>\n"}, {"tags": ["python", "odoo"], "comments": [{"owner": {"reputation": 829, "user_id": 3557327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff2c9f3eb0de137929fd3893d62b044c?s=128&d=identicon&r=PG&f=1", "display_name": "user3557327", "link": "https://stackoverflow.com/users/3557327/user3557327"}, "edited": false, "score": 0, "creation_date": 1437601365, "post_id": 31574240, "comment_id": 51103927, "body": "You mean monkeypatching?"}, {"owner": {"reputation": 37, "user_id": 4011969, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/17zUk.jpg?s=128&g=1", "display_name": "Isaac Balam", "link": "https://stackoverflow.com/users/4011969/isaac-balam"}, "reply_to_user": {"reputation": 829, "user_id": 3557327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff2c9f3eb0de137929fd3893d62b044c?s=128&d=identicon&r=PG&f=1", "display_name": "user3557327", "link": "https://stackoverflow.com/users/3557327/user3557327"}, "edited": false, "score": 0, "creation_date": 1437751477, "post_id": 31574240, "comment_id": 51178136, "body": "not necessarily attempt to take native objects inherits from Odoo to handle variables in another .py and return it to the model of precedence. thnks in davance"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4011969, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/17zUk.jpg?s=128&g=1", "display_name": "Isaac Balam", "link": "https://stackoverflow.com/users/4011969/isaac-balam"}, "edited": false, "score": 0, "creation_date": 1437751977, "post_id": 31580787, "comment_id": 51178400, "body": "yes, very similar to the method by which classes are extended between CSS and HTML;am trying to inherit native values from account.py to send objs to another library.py, to handle and return the values to account.py to continue with the normal flow in the views,greetings"}], "tags": [], "owner": {"reputation": 8643, "user_id": 2886640, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/aDdRk.jpg?s=128&g=1", "display_name": "forvas", "link": "https://stackoverflow.com/users/2886640/forvas"}, "is_accepted": false, "score": 1, "last_activity_date": 1437636487, "creation_date": 1437636487, "answer_id": 31580787, "question_id": 31574240, "link": "https://stackoverflow.com/questions/31574240/extend-python-function-in-odoo-from-another-custom-python/31580787#31580787", "title": "extend python function in odoo from another custom python?", "body": "<p>If you want to extend a python function in Odoo, you can do it by writing:</p>\n\n<pre><code>def _generate_xml(self,xml):\n   get_xml = super(account_invoice, self)._generate_xml(xml)\n   # And from now on you can add whatever you want...\n</code></pre>\n\n<p><strong>NOTE</strong></p>\n\n<p>I've just realized that you are trying to extend the method in a class which does not inherit from <code>account.invoice</code>. To be honest, I've never tried to extend a function from a class which does not inherit from the class where the original method was declared. I'm not sure if that's possible.</p>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 4011969, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/17zUk.jpg?s=128&g=1", "display_name": "Isaac Balam", "link": "https://stackoverflow.com/users/4011969/isaac-balam"}, "is_accepted": false, "score": 0, "last_activity_date": 1465159528, "last_edit_date": 1465159528, "creation_date": 1465107811, "answer_id": 37639098, "question_id": 31574240, "link": "https://stackoverflow.com/questions/31574240/extend-python-function-in-odoo-from-another-custom-python/37639098#37639098", "title": "extend python function in odoo from another custom python?", "body": "<p>Finaly done</p>\n\n<p>first, i need to load the file in the <strong>init</strong>.py</p>\n\n<p>import main</p>\n\n<p>import library #for exmaple</p>\n\n<p>after, its able call the funcion anywhere main.py by self.pool.get like this</p>\n\n<p>from library import library_invoice\nvar = self.pool.get('library.invoice')._generate_xml(param)</p>\n"}], "owner": {"reputation": 37, "user_id": 4011969, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/17zUk.jpg?s=128&g=1", "display_name": "Isaac Balam", "link": "https://stackoverflow.com/users/4011969/isaac-balam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1516214595, "creation_date": 1437600217, "last_edit_date": 1516214595, "question_id": 31574240, "link": "https://stackoverflow.com/questions/31574240/extend-python-function-in-odoo-from-another-custom-python", "title": "extend python function in odoo from another custom python?", "body": "<p>how can i extend a python function from another py with params in same folder in framework odoo?. for example:</p>\n\n<p>main.py</p>\n\n<pre><code>class account_invoice(osv.osv):\n    _inherit = 'account.invoice'\n\n    def create(self, cr, uid, ids, vals, context=None):\n        get_xml = self._generate_xml(ids.xml)\n</code></pre>\n\n<p>library.py</p>\n\n<pre><code>class library_invoice(osv.osv):\n\n    def _generate_xml(self,xml):\n        build xml......\n        return xml\n</code></pre>\n\n<p>thanks in advance.</p>\n"}, {"tags": ["python", "image", "python-requests"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1437600267, "post_id": 31574218, "comment_id": 51103411, "body": "I get 403 forbidden when I try and click your link... most likely there is some smarts on the server end trying to prevent others from serving their images (ie it probably works fine when you navigate to it using their site... but not directly linking)"}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "edited": false, "score": 0, "creation_date": 1437600409, "post_id": 31574218, "comment_id": 51103482, "body": "i can not access the image through mozilla firefox browser. maybe the direct access from external sources is forbidden. can you provide the blog article which includes this image?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1437601004, "post_id": 31574218, "comment_id": 51103776, "body": "its here <a href=\"http://aussietaste.recipes/vegetables/leek-vegetables/leek-and-sweet-potato-gratin/\" rel=\"nofollow noreferrer\">aussietaste.recipes/vegetables/leek-vegetables/&hellip;</a> ... i"}, {"owner": {"reputation": 23491, "user_id": 984003, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0b9cb16fb2d2addbed5387f610d79f77?s=128&d=identicon&r=PG", "display_name": "user984003", "link": "https://stackoverflow.com/users/984003/user984003"}, "edited": false, "score": 0, "creation_date": 1437601245, "post_id": 31574218, "comment_id": 51103877, "body": "Ah, yes. It seems the link only works if I have already visited the site. I suppose the browser then uses the cached version. Any workaround?"}], "answers": [{"tags": [], "owner": {"reputation": 1886, "user_id": 5107060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd82997a60e997c9fd480c8de0f2a7f1?s=128&d=identicon&r=PG&f=1", "display_name": "mooiamaduck", "link": "https://stackoverflow.com/users/5107060/mooiamaduck"}, "is_accepted": true, "score": 6, "last_activity_date": 1437601802, "creation_date": 1437601802, "answer_id": 31574619, "question_id": 31574218, "link": "https://stackoverflow.com/questions/31574218/image-url-does-not-return-an-image-using-python-requests/31574619#31574619", "title": "Image url does not return an image. Using Python requests", "body": "<p>The site is validating the <code>Referer</code> header. This prevents other sites from including the image in their web pages and using the image host's bandwidth. Set it to the site you mentioned in your post, and it will work.</p>\n\n<p>More info:\n<a href=\"https://en.wikipedia.org/wiki/HTTP_referer\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/HTTP_referer</a></p>\n\n<pre><code>import requests\nimage_url = \"http://recipes.thetasteofaussie.netdna-cdn.com/wp-content/uploads/2015/07/Leek-and-Sweet-Potato-Gratin.jpg\"\nheaders = {\n    'User-agent' : 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.76 Safari/537.36',\n    'Accept' : 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n    'Accept-Encoding' : 'gzip,deflate,sdch',\n    'Referer' : 'http://aussietaste.recipes/vegetables/leek-vegetables/leek-and-sweet-potato-gratin/'\n}\nr = requests.get(image_url, headers=headers)\nprint r\n</code></pre>\n\n<p>For me, this prints</p>\n\n<pre><code>&lt;Response [200]&gt;\n</code></pre>\n"}], "owner": {"reputation": 23491, "user_id": 984003, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0b9cb16fb2d2addbed5387f610d79f77?s=128&d=identicon&r=PG", "display_name": "user984003", "link": "https://stackoverflow.com/users/984003/user984003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 1, "accepted_answer_id": 31574619, "answer_count": 1, "score": 1, "last_activity_date": 1437601802, "creation_date": 1437600119, "last_edit_date": 1437601336, "question_id": 31574218, "link": "https://stackoverflow.com/questions/31574218/image-url-does-not-return-an-image-using-python-requests", "title": "Image url does not return an image. Using Python requests", "body": "<p>I use Python requests to get images, but in some case sit doesn't work. It seems to happen more often. An example is</p>\n\n<p><a href=\"http://recipes.thetasteofaussie.netdna-cdn.com/wp-content/uploads/2015/07/Leek-and-Sweet-Potato-Gratin.jpg\" rel=\"nofollow\">http://recipes.thetasteofaussie.netdna-cdn.com/wp-content/uploads/2015/07/Leek-and-Sweet-Potato-Gratin.jpg</a></p>\n\n<p>It loads fine in my browser, but using requests, it returns html that says \"403 forbidden\" and \"nginx/1.7.11\"</p>\n\n<pre><code>import requests\nimage_url = \"&lt;the_url&gt;\"\nheaders = {'User-agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.76 Safari/537.36', 'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Encoding':'gzip,deflate,sdch'}\nr = requests.get(image_url, headers=headers)\n# r.content is html '403 forbidden', not an image\n</code></pre>\n\n<p>I have also tried with this header, which has been necessary in some cases. Same result.</p>\n\n<pre><code>headers = {'User-agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.76 Safari/537.36', 'Accept':'image/webp,*/*;q=0.8','Accept-Encoding':'gzip,deflate,sdch'}\n</code></pre>\n\n<p>(I had a similar question a few weeks ago, but this was answered by the particular image file types not being supported by PIL. This is different.)</p>\n\n<p><strong>EDIT: Based on comments:</strong></p>\n\n<p>It seems the link only works if you have already visited the original site <a href=\"http://aussietaste.recipes/vegetables/leek-vegetables/leek-and-sweet-potato-gratin/\" rel=\"nofollow\">http://aussietaste.recipes/vegetables/leek-vegetables/leek-and-sweet-potato-gratin/</a> with the image. I suppose the browser then uses the cached version. Any workaround?</p>\n"}, {"tags": ["python", "firefox", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1437600343, "post_id": 31574211, "comment_id": 51103446, "body": "Can you try moving the <code>xpi</code> from inside the <code>appdata</code> and point <code>add_extension()</code> directly to the file? Thanks."}, {"owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1437600614, "post_id": 31574211, "comment_id": 51103596, "body": "@alecxe - sorry slightly confused by what you are suggesting (for reference, the location that the file is installing from is not in appdata)"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1437600645, "post_id": 31574211, "comment_id": 51103613, "body": "Okay. Try moving the xpi into a different location.."}, {"owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1437600906, "post_id": 31574211, "comment_id": 51103723, "body": "@alecxe - changed to <code>firefox_profile.add_extension(&quot;C:\\\\firebug-2.0.11-fx.xpi&quot;)</code> - still results in exactly the same error message."}, {"owner": {"reputation": 507, "user_id": 1644831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/122f6dc4a44a748aa1e156b27a138b45?s=128&d=identicon&r=PG", "display_name": "Sandwich Heat", "link": "https://stackoverflow.com/users/1644831/sandwich-heat"}, "edited": false, "score": 0, "creation_date": 1437609318, "post_id": 31574211, "comment_id": 51106592, "body": "Have you tried running your script under administrative mode? It looks like you don&#39;t have permissions."}, {"owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "reply_to_user": {"reputation": 507, "user_id": 1644831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/122f6dc4a44a748aa1e156b27a138b45?s=128&d=identicon&r=PG", "display_name": "Sandwich Heat", "link": "https://stackoverflow.com/users/1644831/sandwich-heat"}, "edited": false, "score": 0, "creation_date": 1437609619, "post_id": 31574211, "comment_id": 51106664, "body": "@sandwichheat yep - running as administrator - as note some extensions install without problems, others not. It seems like installation gets half way through (i.e. some files are created in the folder, `...temp\\\\tmpxu73xr.firebug-2.0.11-fx.xpi` before it throws up error)."}, {"owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "reply_to_user": {"reputation": 507, "user_id": 1644831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/122f6dc4a44a748aa1e156b27a138b45?s=128&d=identicon&r=PG", "display_name": "Sandwich Heat", "link": "https://stackoverflow.com/users/1644831/sandwich-heat"}, "edited": false, "score": 0, "creation_date": 1437611859, "post_id": 31574211, "comment_id": 51107211, "body": "Thanks - @sandwichheat - your prior answer on bug 734 - led me to solve problem (although it is still an issue in the most stable release)."}], "answers": [{"tags": [], "owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "is_accepted": true, "score": 3, "last_activity_date": 1437611778, "creation_date": 1437611778, "answer_id": 31576306, "question_id": 31574211, "link": "https://stackoverflow.com/questions/31574211/cant-install-certain-firefox-extensions-using-selenium/31576306#31576306", "title": "Can&#39;t install certain firefox extensions using Selenium", "body": "<p>With thanks to @sandwich Heat who initially posted part of the answer (before he/she or someone else deleted it) - this was a bug with Salenium - <a href=\"https://github.com/SeleniumHQ/selenium/issues/734\" rel=\"nofollow\">https://github.com/SeleniumHQ/selenium/issues/734</a></p>\n\n<p>This issue is fixed on the the github page <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/py/selenium/webdriver/firefox/firefox_profile.py\" rel=\"nofollow\">https://github.com/SeleniumHQ/selenium/blob/master/py/selenium/webdriver/firefox/firefox_profile.py</a> but as of yet is not in the stable release of Selenium (2.46.0)</p>\n\n<p>I thus solved my problem by replacing the file <code>firefox_profile.py</code> with that on Github.</p>\n"}], "owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 1, "accepted_answer_id": 31576306, "answer_count": 1, "score": 1, "last_activity_date": 1437611778, "creation_date": 1437600099, "last_edit_date": 1437601251, "question_id": 31574211, "link": "https://stackoverflow.com/questions/31574211/cant-install-certain-firefox-extensions-using-selenium", "title": "Can&#39;t install certain firefox extensions using Selenium", "body": "<p>When I attempt to install Firefox extensions using Selenium on Python, I receive a <code>IOError: [Errno 13] Permission denied</code> error for about 50% of the extensions that i attempt to install. For example, when I try to install the latest version of firebug, with the command:</p>\n\n<pre><code> firefox_profile.add_extension(working_director + \"\\\\firebug-2.0.11-fx.xpi\")\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code> File \"C:\\Python27\\lib\\site-packages\\selenium\\webdriver\\firefox\\firefox_profile.py\", line 265, in _install_extension\nwith open(os.path.join(tmpdir, name), 'wb') as f:\n IOError: [Errno 13] Permission denied: 'c:\\\\users\\\\USERNAME\\\\appdata\\\\local\\\\temp\\\\tmpxu73xr.firebug-2.0.11-fx.xpi\\\\content/firebug/'\n</code></pre>\n\n<p>(n.b. this does not happen with version 2.0.9 of firebug, which works fine)</p>\n\n<p>I get similar errors when trying to install quickjava (quickjava-2.0.6-fx), and imageblock (imageblock-2.1-fx). I suspect the error originates in the <code>/</code> which is at the end of the install path (as opposed to <code>\\\\</code> elsewhere) i.e. <code>...temp\\\\tmpxu73xr.firebug-2.0.11-fx.xpi\\\\content/firebug/</code>. </p>\n\n<p>Can't understand why i don't have problems with some extensions. Looking for a work-around for those which don't work. For reference, I am using Firefox 39, and Selenium 2.46.0 on Windows  </p>\n"}, {"tags": ["python", "xpath", "soap", "lxml"], "comments": [{"owner": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 0, "creation_date": 1437819253, "post_id": 31574173, "comment_id": 51198524, "body": "The fact that one of the namespaces is defined using a URN does not matter. It is just as valid as a URL."}, {"owner": {"reputation": 31, "user_id": 5145433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DrChm60ERcE/AAAAAAAAAAI/AAAAAAAACvM/1Ad4JE-kjV4/photo.jpg?sz=128", "display_name": "Raketemensch", "link": "https://stackoverflow.com/users/5145433/raketemensch"}, "reply_to_user": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 0, "creation_date": 1437941890, "post_id": 31574173, "comment_id": 51229589, "body": "Thanks, I had assumed so, but since it wasn&#39;t working I wasn&#39;t certain. I&#39;d give you an upvote if I could :]"}], "answers": [{"tags": [], "owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "is_accepted": false, "score": 2, "last_activity_date": 1437612247, "creation_date": 1437612247, "answer_id": 31576368, "question_id": 31574173, "link": "https://stackoverflow.com/questions/31574173/using-lxml-to-parse-xml-with-multiple-namespaces/31576368#31576368", "title": "Using lxml to parse xml with multiple namespaces", "body": "<p>Your XPath doesn't correctly corresponds to the XML structure. Try this way instead :</p>\n\n<pre><code>r = tree.xpath('/e:Envelope/e:Body/s:GetItemsByQueryResponse/s:return/s:item/s:id/s:tableId', \n        namespaces={'e': 'http://schemas.xmlsoap.org/soap/envelope/',\n                    's': 'urn:sbmappservices72'})\n</code></pre>\n\n<p>For small XML, you may want to use <code>//</code> instead of <code>/</code> to simplify the expression, for example :</p>\n\n<pre><code>r = tree.xpath('/e:Envelope/e:Body//s:tableId', \n        namespaces={'e': 'http://schemas.xmlsoap.org/soap/envelope/',\n                    's': 'urn:sbmappservices72'})\n</code></pre>\n\n<p><code>/e:Body//s:tableId</code> will find <code>tableId</code> no matter how depth it is nested within <code>Body</code>. Note however that <code>//</code> surely slower than <code>/</code> especially when applied for a huge XML.</p>\n"}], "owner": {"reputation": 31, "user_id": 5145433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DrChm60ERcE/AAAAAAAAAAI/AAAAAAAACvM/1Ad4JE-kjV4/photo.jpg?sz=128", "display_name": "Raketemensch", "link": "https://stackoverflow.com/users/5145433/raketemensch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1437819057, "creation_date": 1437599957, "last_edit_date": 1437819057, "question_id": 31574173, "link": "https://stackoverflow.com/questions/31574173/using-lxml-to-parse-xml-with-multiple-namespaces", "title": "Using lxml to parse xml with multiple namespaces", "body": "<p>I'm pulling xml from a SOAP api that looks like this:</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ae=\"urn:sbmappservices72\" xmlns:c14n=\"http://www.w3.org/2001/10/xml-exc-c14n#\" xmlns:diag=\"urn:SerenaDiagnostics\" xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xmlns:xenc=\"http://www.w3.org/2001/04/xmlenc#\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;SOAP-ENV:Header/&gt;\n&lt;SOAP-ENV:Body&gt;\n    &lt;ae:GetItemsByQueryResponse&gt;\n      &lt;ae:return&gt;\n        &lt;ae:item&gt;\n          &lt;ae:id xsi:type=\"ae:ItemIdentifier\"&gt;\n            &lt;ae:displayName/&gt;\n            &lt;ae:id&gt;10&lt;/ae:id&gt;\n            &lt;ae:uuid&gt;a9b91034-8f4d-4043-b9b6-517ba4ed3a33&lt;/ae:uuid&gt;\n            &lt;ae:tableId&gt;1541&lt;/ae:tableId&gt;\n            &lt;ae:tableIdItemId&gt;1541:10&lt;/ae:tableIdItemId&gt;\n            &lt;ae:issueId/&gt;\n          &lt;/ae:id&gt;\n</code></pre>\n\n<p>I can't for the life of me use findall to pull something like tableId. Most of the tutorials on parsing using lxml don't include namespaces, but <a href=\"http://lxml.de/xpathxslt.html#namespaces-and-prefixes\" rel=\"nofollow\">the one at lxml.de</a> does, and I've been trying to follow it.</p>\n\n<p>According to their tutorial you should create a dictionary of the namespaces, which I've done like so:</p>\n\n<pre><code>r = tree.xpath('/e:SOAP-ENV/s:ae', \n        namespaces={'e': 'http://schemas.xmlsoap.org/soap/envelope/',\n                    's': 'urn:sbmappservices72'})\n</code></pre>\n\n<p>But that appears to not be working, as when I try to get the len of r, it comes back as 0:</p>\n\n<pre><code>print 'length: ' + str(len(r)) #&lt;---- always equals 0\n</code></pre>\n\n<p>Since the URI for the second namespace is a \"urn:\", I tried using a real URL to the wsdl as well, but that gives me the same result.</p>\n\n<p>Is there something obvious that I'm missing? I just need to be able to pull values like the one for tableIdItemId.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "redhat", "grequests"], "owner": {"reputation": 4929, "user_id": 1054435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DYDWj.png?s=128&g=1", "display_name": "I Z", "link": "https://stackoverflow.com/users/1054435/i-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1765, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1437681025, "creation_date": 1437599888, "last_edit_date": 1437659259, "question_id": 31574155, "link": "https://stackoverflow.com/questions/31574155/address-family-not-supported-by-protocol-errors-when-using-grequests", "title": "&#39;Address family not supported by protocol&#39; errors when using grequests", "body": "<p>When I invoke the following function to process a long list of URLs (accessing the same site (i.e. <code>http://foo.bar.com/url1</code>, <code>http://foo.bar.com/url2</code> etc):</p>\n\n<pre><code>import time\nimport grequests\n\ndef processUrls(block=2500, write=100000, timeout=0.5):\n    urls = ...  ## generate long array of URLs\n    chunks = [urls[i:i+block] for i in xrange(0, len(urls), block)] ## chunk 'em\n\n    def callback(response, *args, **kwargs):\n        txt = response.text\n        ## do something with txt\n        response.close()\n\n    for i, chunk in enumerate(chunks):\n        rs = [grequests.get(url, callback=callback) for url in chunk]\n        grequests.map(rs, stream=False, size=block / 10)\n        time.sleep(timeout)\n        ## do stuff\n</code></pre>\n\n<p>I get a bunch of errors like this:</p>\n\n<pre><code>File \"/.../python2.7/site-packages/gevent/greenlet.py\", line 327, in run\nresult = self._run(*self.args, **self.kwargs)\nFile \"/.../python2.7/site-packages/grequests.py\", line 71, in send\nself.url, **merged_kwargs)\nFile \"/.../python2.7/site-packages/requests/sessions.py\", line 465, in request\nresp = self.send(prep, **send_kwargs)\nFile \"/.../python2.7/site-packages/requests/sessions.py\", line 573, in send\nr = adapter.send(request, **kwargs)\nFile \"/.../python2.7/site-packages/requests/adapters.py\", line 415, in send\nraise ConnectionError(err, request=request)\nConnectionError: ('Connection aborted.', error(97, 'Address family not supported by protocol'))\n&lt;Greenlet at 0x7f8ce2c0ec30: &lt;bound method AsyncRequest.send of &lt;grequests.AsyncRequest object at 0x7f8ce31e2890&gt;&gt;(stream=False)&gt; failed with ConnectionError\n</code></pre>\n\n<p>The number of messages is a lot smaller than the number of URLs.</p>\n\n<p>What could be causing these errors? I am running this on RedHat 6.6</p>\n\n<p>UPDATE: I collected all URLs that gave me the error from the full dataset I've been working with. They all appeared to be OK (well-formed etc) and when I pasted one of them into a browser, I got meaningful results and no error messages. Then, I reran the test with just a subset of data. Again, got some errors and collected the bad URL list for the subset. Turns out, none of the bad URLs from the subset are in the list of bad URLs for the full set. Which suggests that the error is not really URL-specific but rather some type of hiccup, either on my side or on the other side. Does this ring any bells?</p>\n"}, {"tags": ["python", "encoding", "utf-8", "decode"], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 183330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/583751bebe3ad9bda17695976ca3e33c?s=128&d=identicon&r=PG&f=1", "display_name": "jian2587", "link": "https://stackoverflow.com/users/183330/jian2587"}, "is_accepted": true, "score": 1, "last_activity_date": 1437616397, "creation_date": 1437616397, "answer_id": 31576916, "question_id": 31574125, "link": "https://stackoverflow.com/questions/31574125/decoding-a-chinese-stopwords-file-and-appending-to-a-list/31576916#31576916", "title": "decoding a chinese stopwords file and appending to a list", "body": "<p>The list hasn't reverted to the undecoded characters. If you print the type of the element in the list:</p>\n\n<p><code>&gt;&gt;&gt; print type(word_list[0])</code></p>\n\n<p>You'd get:</p>\n\n<p><code>&lt;type 'unicode'&gt;</code></p>\n\n<p>So there isn't anything wrong with your list. Now we turn our attention to the print function. When you call print on an object, it prints whatever that object's <strong>str</strong> function returns. In the case of a list, however, its <strong>str</strong> function iteratively calls <strong>repr</strong> on each element, which returns the Python representation string of said element instead.</p>\n\n<p>The behavior that you want here is to have <strong>str</strong> invoked instead of <strong>repr</strong> on each element in the list. There is one caveat here: <strong>str</strong> will attempt to encode the given object using 'ascii' encoding, which will invariably fail as the list elements are in unicode. For the purpose of displaying on screen, you likely want whatever sys.stdout.encoding is, and it's usually 'UTF-8'.</p>\n\n<p>Thus, to print a unicode list on screen:</p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; print '[' + ','.join(w.encode(sys.stdout.encoding) for w in word_list) + ']'\n</code></pre>\n\n<p>Alternatively, we can pass in a unicode string and let print deal with the on-screen encoding:</p>\n\n<pre><code>&gt;&gt;&gt; print u'[' + u','.join(word_list) + u']'\n</code></pre>\n\n<p>And one last thing: it appears that the elements in your word_list contains newline characters as well. You may want to omit them since you're building a list of stop words. Your final solution would be:</p>\n\n<pre><code>&gt;&gt;&gt; print u'[' + u','.join(w[0] for w in word_list) + u']'\n</code></pre>\n"}], "owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 1, "accepted_answer_id": 31576916, "answer_count": 1, "score": 1, "last_activity_date": 1437616397, "creation_date": 1437599772, "question_id": 31574125, "link": "https://stackoverflow.com/questions/31574125/decoding-a-chinese-stopwords-file-and-appending-to-a-list", "title": "decoding a chinese stopwords file and appending to a list", "body": "<p>I am trying to read a chinese stopwords file and append the characters to a list. This is my code:</p>\n\n<pre><code>word_list=[]\nwith open(\"stop-words_chinese_1_zh.txt\", \"r\") as f:\n    for row in f:\n        decoded=row.decode(\"utf-8\")\n        print decoded\n        word_list.append(decoded)\nprint word_list[:10]\n</code></pre>\n\n<p>This is my output. Decoded looks fine but after i append decoded to a list, it reverts back to the undecoded characters.</p>\n\n<pre><code>\u7740\n\n\u8bf8\n\n\u81ea\n[u'\\u7684\\r\\n', u'\\u4e00\\r\\n', u'\\u4e0d\\r\\n', u'\\u5728\\r\\n', u'\\u4eba\\r\\n', u'\\u6709\\r\\n', u'\\u662f\\r\\n', u'\\u4e3a\\r\\n', u'\\u4ee5\\r\\n', u'\\u4e8e\\r\\n']\n</code></pre>\n"}, {"tags": ["python", "unicode", "utf-8", "codepoint"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1437599853, "post_id": 31574115, "comment_id": 51103204, "body": "Whatever you have there is not valid UTF-8.."}, {"owner": {"reputation": 23, "user_id": 2357676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt2VL.png?s=128&g=1", "display_name": "pawss", "link": "https://stackoverflow.com/users/2357676/pawss"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1437599901, "post_id": 31574115, "comment_id": 51103240, "body": "@MartijnPieters: What can I do with this?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1437600098, "post_id": 31574115, "comment_id": 51103338, "body": "Start with actually giving us a valid byte string; <code>\\xF0\\x9F\\x92\\x96</code> is a valid UTF-8 byte sequence (encoding \ud83d\udc96 aka <a href=\"https://codepoints.net/U+1F496\" rel=\"nofollow noreferrer\">U+1F496 SPARKLING HEART</a>), but the value of <code>s</code> is not."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1437600325, "post_id": 31574115, "comment_id": 51103436, "body": "But MySQL cannot handle non-BMP codepoints unless you use the <a href=\"https://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb4.html\" rel=\"nofollow noreferrer\">utf8mb4 codec</a> on the MySQL side."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1437600539, "post_id": 31574115, "comment_id": 51103555, "body": "I duped you to <a href=\"https://stackoverflow.com/q/10798605\">Warning raised by inserting 4-byte unicode to mysql</a> because that does hold the solution (how to remove the codepoints MySQL utf8mb3 doesn&#39;t support) but you do need to decode your bytestring to Unicode first."}, {"owner": {"reputation": 23, "user_id": 2357676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt2VL.png?s=128&g=1", "display_name": "pawss", "link": "https://stackoverflow.com/users/2357676/pawss"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1437600930, "post_id": 31574115, "comment_id": 51103741, "body": "@MartijnPieters: thanks. Is similar in postgres?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1437600993, "post_id": 31574115, "comment_id": 51103769, "body": "Postgres doesn&#39;t have a broken UTF-8 support like MySQL has."}], "owner": {"reputation": 23, "user_id": 2357676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt2VL.png?s=128&g=1", "display_name": "pawss", "link": "https://stackoverflow.com/users/2357676/pawss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1058, "favorite_count": 0, "closed_date": 1437600503, "answer_count": 0, "score": 0, "last_activity_date": 1437600953, "creation_date": 1437599743, "last_edit_date": 1437600953, "question_id": 31574115, "link": "https://stackoverflow.com/questions/31574115/emoticons-in-python-string-xf0-x9f-x92-x96-xf0", "closed_reason": "Duplicate", "title": "Emoticons in python string - \\xF0\\x9F\\x92\\x96 \\xF0", "body": "<blockquote>\n  <p>_mysql_exceptions.Warning: Incorrect string value: '\\xF0\\x9F\\x92\\x96 \\xF0...' for column 'title' at row 1</p>\n</blockquote>\n\n<p>s = \"This is my string. \u00dcber! 0\\x9F\\x92\\x96 \\xF0\"</p>\n\n<p>How can I remove only this value -> <code>0\\x9F\\x92\\x96 \\xF0</code> from this string?(or encode this)</p>\n\n<p>EDIT:</p>\n\n<pre><code>&gt;&gt;&gt; s = \"So simple \ud83d\ude01 google.com\"\n&gt;&gt;&gt; s\n'So simple \\xf0\\x9f\\x98\\x81 google.com'\n&gt;&gt;&gt; s.decode('utf-8')\nu'So simple \\U0001f601 google.com'\n&gt;&gt;&gt; print s.decode('utf-8')\nSo simple \ud83d\ude01 google.com\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["android", "python", "virtual-machine", "kivy", "ubuntu"], "comments": [{"owner": {"reputation": 829, "user_id": 3557327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff2c9f3eb0de137929fd3893d62b044c?s=128&d=identicon&r=PG&f=1", "display_name": "user3557327", "link": "https://stackoverflow.com/users/3557327/user3557327"}, "edited": false, "score": 0, "creation_date": 1437603458, "post_id": 31574105, "comment_id": 51104815, "body": "Not the reason for your problem, but <code># &#47;usr&#47;bin&#47;kivy</code> should be <code>#! &#47;usr&#47;bin&#47;python</code>."}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 15, "user_id": 4892123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f92233ab7450bf9d86bb0a1b31fe0c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Smith Black", "link": "https://stackoverflow.com/users/4892123/smith-black"}, "edited": false, "score": 0, "creation_date": 1437615508, "post_id": 31574231, "comment_id": 51108030, "body": "what happens if you type <code>&#47;usr&#47;bin&#47;kivy</code> ?"}, {"owner": {"reputation": 15, "user_id": 4892123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f92233ab7450bf9d86bb0a1b31fe0c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Smith Black", "link": "https://stackoverflow.com/users/4892123/smith-black"}, "edited": false, "score": 0, "creation_date": 1437656826, "post_id": 31574231, "comment_id": 51128263, "body": "When I use ls in /usr/bin/ I see kivy in red, but I can&#39;t cd or find it in the file manager."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 15, "user_id": 4892123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f92233ab7450bf9d86bb0a1b31fe0c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Smith Black", "link": "https://stackoverflow.com/users/4892123/smith-black"}, "edited": false, "score": 0, "creation_date": 1437664789, "post_id": 31574231, "comment_id": 51135097, "body": "use ls -l to see where its trying to point .... and then use <code>locate fname</code> to find it... your problem seems to be an incorrectly installed kivy ... are you sure you just used the image they offer?"}, {"owner": {"reputation": 15, "user_id": 4892123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f92233ab7450bf9d86bb0a1b31fe0c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Smith Black", "link": "https://stackoverflow.com/users/4892123/smith-black"}, "edited": false, "score": 0, "creation_date": 1437673806, "post_id": 31574231, "comment_id": 51141009, "body": "Yeah I just downloaded the vm image. It has the kivy background and everything! Is it best for you to just TV into my machine?"}, {"owner": {"reputation": 15, "user_id": 4892123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f92233ab7450bf9d86bb0a1b31fe0c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Smith Black", "link": "https://stackoverflow.com/users/4892123/smith-black"}, "edited": false, "score": 0, "creation_date": 1437747710, "post_id": 31574231, "comment_id": 51175531, "body": "I installed kivy manually, which I found weird that I had to do. But now when I run buildozer I get  &quot;raise ExceptionPexpect (&#39;The command was not found or was not executable: %s.&#39; % self.command)&quot;"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1437600198, "creation_date": 1437600198, "answer_id": 31574231, "question_id": 31574105, "link": "https://stackoverflow.com/questions/31574105/how-to-run-a-kivy-script-in-the-kivy-vm/31574231#31574231", "title": "How to run a kivy script in the kivy VM?", "body": "<p>do you have a file named kivy.py in the same folder as main.py?</p>\n\n<p>try </p>\n\n<pre><code>#!/usr/bin/kivy\nimport kivy\nprint kivy.__file__\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 4892123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f92233ab7450bf9d86bb0a1b31fe0c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Smith Black", "link": "https://stackoverflow.com/users/4892123/smith-black"}, "is_accepted": true, "score": 0, "last_activity_date": 1437942154, "creation_date": 1437942154, "answer_id": 31641551, "question_id": 31574105, "link": "https://stackoverflow.com/questions/31574105/how-to-run-a-kivy-script-in-the-kivy-vm/31641551#31641551", "title": "How to run a kivy script in the kivy VM?", "body": "<p>I tried just plain installing kivy as they say to on their website, and it worked.</p>\n\n<pre><code>sudo add-apt-repository ppa:kivy-team/kivy\napt-get install python-kivy\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4892123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f92233ab7450bf9d86bb0a1b31fe0c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Smith Black", "link": "https://stackoverflow.com/users/4892123/smith-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 31641551, "answer_count": 2, "score": 0, "last_activity_date": 1437942154, "creation_date": 1437599676, "question_id": 31574105, "link": "https://stackoverflow.com/questions/31574105/how-to-run-a-kivy-script-in-the-kivy-vm", "title": "How to run a kivy script in the kivy VM?", "body": "<p>So I am looking into using Kivy for Android development. Defeating the jedi etc.</p>\n\n<p>But I have hit a roadblock! I installed the Kivy VM image in VirtualBox, but when I try to run the test script:</p>\n\n<pre><code># /usr/bin/kivy\n__version__ = 1.0\nfrom kivy.app import App\nfrom kivy.uix.button import Button\n\nclass Hello(App):\n    def build(self):\n        btn = Button(text='Hello World')\n        return  btn\n\nHello().run()\n</code></pre>\n\n<p>Using:\npython main.py</p>\n\n<p>I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"main.py\", line 3, in &lt;module&gt;\n    from kivy.app import App\nImportError: No module named kivy.app\n</code></pre>\n"}, {"tags": ["python", "module"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 3, "creation_date": 1437599341, "post_id": 31574002, "comment_id": 51102928, "body": ".....why are you doing this?"}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437599428, "post_id": 31574002, "comment_id": 51102969, "body": "This is probably a terrible idea, and something you should never do unless the entire point is messing around with python&#39;s importing, but see <code>reload</code> (python 2) and <a href=\"https://docs.python.org/3.1/library/imp.html\" rel=\"nofollow noreferrer\"><code>imp.reload</code> (python 3)</a>."}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437599571, "post_id": 31574002, "comment_id": 51103041, "body": "Note that what <code>reload</code> does is that it basically goes over, finds the file, and <code>exec</code>s it. There&#39;s all sorts of corner cases it doesn&#39;t handle. Again. Don&#39;t do this, why are you doing this, what are you trying to do, this is a terrible idea."}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "reply_to_user": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437602690, "post_id": 31574002, "comment_id": 51104472, "body": "@NightShadeQueen I&#39;m trying to write a &quot;Programming Helper&quot; where you can define functions for it, and it can run these functions later in a specified order. (These functions should also be accessible after the program is done running). The easiest way I could think of to store and access these functions was by putting them in another module/file, and having it use the definitions from there."}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437603542, "post_id": 31574002, "comment_id": 51104847, "body": "Fun fact: <code>foo.__code__</code> in python is <i>mutable</i> :P"}, {"owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "reply_to_user": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437604069, "post_id": 31574002, "comment_id": 51105067, "body": "@NightShadeQueen I am curious and google didn&#39;t reveal much. Can you tell me the reasoning behind mutability of <code>__code__</code>? Or some good use case?"}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437604141, "post_id": 31574002, "comment_id": 51105101, "body": "see: <a href=\"https://www.youtube.com/watch?v=H2yfXnUb1S4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=H2yfXnUb1S4</a> (&quot;Don&#39;t Do This&quot;, Richard Jones, pycon 2013)"}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "reply_to_user": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437605706, "post_id": 31574002, "comment_id": 51105657, "body": "@NightShadeQueen I watched up to 7:39, and I still don&#39;t see how I could use the mutability of <code>__code__</code> to save the definitions of functions in a way such that they can be accessed even after my program is done running without using a file. I would also like the definitions to be human-readable, if that makes a difference."}], "answers": [{"comments": [{"owner": {"reputation": 33595, "user_id": 350890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/186bebdcf5f3045b53362efe34e56e8a?s=128&d=identicon&r=PG", "display_name": "Peter Tillemans", "link": "https://stackoverflow.com/users/350890/peter-tillemans"}, "edited": false, "score": 0, "creation_date": 1437599611, "post_id": 31574054, "comment_id": 51103063, "body": "it&#39;s no longer a standard function in python &gt;=3.4, it is a method in &#39;importlib&#39; so you have to import it from importlib first."}, {"owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "edited": false, "score": 0, "creation_date": 1437600449, "post_id": 31574054, "comment_id": 51103502, "body": "I tested it out as the question seemed interesting, and on Python 2.7 I am not getting the new(er) module loaded, even after reload. Can you check the output of dir(Test1) and check if it changed?"}, {"owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "edited": false, "score": 0, "creation_date": 1437600683, "post_id": 31574054, "comment_id": 51103637, "body": "On further investigation, I had to add os.remove(&quot;Test1.pyc&quot;) to remove the pyc file so that reload was successful. Also interestingly, the reloaded module still has the original function along with foo2. Can you confirm this behavior?"}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "reply_to_user": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "edited": false, "score": 0, "creation_date": 1437603244, "post_id": 31574054, "comment_id": 51104722, "body": "@AkshatHarit But if I overwrite foo with a new definition, it uses the new definition, not the old one."}, {"owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "reply_to_user": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1437603645, "post_id": 31574054, "comment_id": 51104889, "body": "@ProQ Did you also need os.remove to remove the original .pyc? I think pyc files are generated when the timestamp of py is newer. Due to the short time nature of the program, it seems the time stamp doesn&#39;t change. So I had to remove the .pyc file."}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "reply_to_user": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "edited": false, "score": 0, "creation_date": 1437606055, "post_id": 31574054, "comment_id": 51105745, "body": "@AkshatHarit Yes I did; it did not work without <code>os.remove(&quot;Test1.pyc&quot;)</code>."}], "tags": [], "owner": {"reputation": 5935, "user_id": 893324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b24d4de5ae7afebfee98aa85e8a960e?s=128&d=identicon&r=PG", "display_name": "Brien", "link": "https://stackoverflow.com/users/893324/brien"}, "is_accepted": true, "score": 2, "last_activity_date": 1437599496, "creation_date": 1437599496, "answer_id": 31574054, "question_id": 31574002, "link": "https://stackoverflow.com/questions/31574002/python-how-to-update-a-module-within-the-program/31574054#31574054", "title": "Python: How to update a module within the program", "body": "<p>It seems like you would want to use the <a href=\"https://docs.python.org/2/library/functions.html#reload\" rel=\"nofollow\"><code>reload</code></a> keyword, like so:</p>\n\n<pre><code>&gt;&gt;&gt; reload(Test1)\n</code></pre>\n"}], "owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 31574054, "answer_count": 1, "score": 1, "last_activity_date": 1437599496, "creation_date": 1437599275, "last_edit_date": 1495541694, "question_id": 31574002, "link": "https://stackoverflow.com/questions/31574002/python-how-to-update-a-module-within-the-program", "title": "Python: How to update a module within the program", "body": "<p>I have the following code in Python:</p>\n\n<pre><code>myFile = open(\"Test1.py\", \"w\")\nmyFile.write(\"def foo():\\n\\tprint('hello world!')\") #defining foo in the module Test1\nmyFile.close()\nimport Test1\n\nTest1.foo() #this works great\n\nmyFile = open(\"Test1.py\", \"w\")\n#replace foo() with foo2() and a new definition\nmyFile.write(\"def foo2():\\n\\tprint('second hello world!')\") \nmyFile.close()\n\nimport Test1 #re-import to get the new functionality\n\nTest1.foo2() #this currently throws an error since the old functionality is not replaced\n</code></pre>\n\n<p>I would like it if when I re-imported Test1, the functionality of foo2() replaced foo(), and the program would print \"second hello world!\" at the end.</p>\n\n<p>The best solution I could find was to <a href=\"https://stackoverflow.com/questions/1668223/how-to-de-import-a-python-module\">\"de-import\"</a> the module, which looks potentially dangerous, and also seems unnecessary (I haven't tried it yet).</p>\n\n<p>What would be the best way to get the new functionality of foo2() into the program?</p>\n"}, {"tags": ["python", "matplotlib", "plot", "range", "axis"], "comments": [{"owner": {"reputation": 1548, "user_id": 904117, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/299fd8a53d1b1ebac4d7ca45335e6ee4?s=128&d=identicon&r=PG", "display_name": "Ming", "link": "https://stackoverflow.com/users/904117/ming"}, "edited": false, "score": 0, "creation_date": 1437599358, "post_id": 31573989, "comment_id": 51102936, "body": "I proposed an edit to add matplotlib tag. Hopefully, you get more relevant views that way."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1437599888, "post_id": 31573989, "comment_id": 51103230, "body": "Look at the docs for <code>plt.subplots</code> -- you give it row, col for the axes. Try <code>fig,(ax,ax2,ax3,ax4,ax5) = plt.subplots(1,5,sharey=True)</code> instead."}], "answers": [{"tags": [], "owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "is_accepted": false, "score": 2, "last_activity_date": 1437601652, "last_edit_date": 1437601652, "creation_date": 1437599998, "answer_id": 31574185, "question_id": 31573989, "link": "https://stackoverflow.com/questions/31573989/break-x-axis-in-more-than-2-parts-python/31574185#31574185", "title": "Break x axis in more than 2 parts (Python)", "body": "<h1>Problem 1</h1>\n\n<p>You are not calling <code>plt.subplots</code> correctly. Here is the default usage</p>\n\n<blockquote>\n  <p>subplots(nrows=1, ncols=1, sharex=False, sharey=False, squeeze=True, subplot_kw=None, gridspec_kw=None, **fig_kw)</p>\n</blockquote>\n\n<p>Seems like you want 5 subplots in a row, so set <code>nrows=1</code>, and <code>ncols=5</code></p>\n\n<pre><code>fig,axs = plt.subplots(nrows=1,ncols=5,sharey=True)\nax, ax2, ax3, ax4, ax5  = axs\n</code></pre>\n\n<h1>Problem 2</h1>\n\n<p>You need to set the spines correctly- you only want the leftmost and rightmost to ve visible. It is easy to accomplish this with a function:</p>\n\n<pre><code>def multi_spine_adj( axs):\n    axs[0].spines['right'].set_visible(False)\n    axs[0].yaxis.tick_left()\n    for ax in axs[1:-1]:\n        ax.spines['right'].set_visible(False)\n        ax.spines['left'].set_visible(False)\n    axs[-1].spines['left'].set_visible(False)\n    axs[-1].yaxis.tick_right()\n\n#wvln0 = np.linspace( 0,5,50) # make some fake data\n#alb0 =  np.random.random(50) #make some fake data \n\nopts = {'linestyle':'-', 'marker':'o', 'color':'r','linewidth':1,'label':'Haze = 0T'}\n\nfig,axs = plt.subplots(1,5,sharey=True)\n\nxlims = [(0.15,1.10),\n        (1.15,2.25),\n        (1.20,1.30),\n        (1.55,1.65),\n        (1.95,2.15)]\n\nfor i,ax in enumerate(axs):\n    x1,x2 = xlims[i]\n    ax.plot(wvln0,alb0,**opts)\n    ax.set_xlim(x1,x2)\n\nmulti_spine_adj(axs)    \nplt.show()\n</code></pre>\n\n<h1>Tip</h1>\n\n<p>Note how you can easily iterate over the <code>axs</code>, this makes your code cleaner and easier to modify (if you want to add more breaks for example)</p>\n"}, {"tags": [], "owner": {"reputation": 2409, "user_id": 4481445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qJO0.png?s=128&g=1", "display_name": "Jean-S&#233;bastien", "link": "https://stackoverflow.com/users/4481445/jean-s%c3%a9bastien"}, "is_accepted": true, "score": 5, "last_activity_date": 1478186415, "last_edit_date": 1478186415, "creation_date": 1437658771, "answer_id": 31589096, "question_id": 31573989, "link": "https://stackoverflow.com/questions/31573989/break-x-axis-in-more-than-2-parts-python/31589096#31589096", "title": "Break x axis in more than 2 parts (Python)", "body": "<p>This is a example showing how I've done it by placing three axes manually in a figure.</p>\n\n<pre><code>from __future__ import division, unicode_literals\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nplt.close('all')\n\n# ----- PREPARE DATA ----\n\nt = np.arange(0, 7 * 10**5, 10)\nx = np.abs(np.sin(t/10.**2)) * 300\n\n# ----- FIG CREATION ----\n\nfig = plt.figure(figsize=(8, 5), facecolor='white')\n\n# Margins (dimensions are in inches):\nleft_margin = 0.6 / fig.get_figwidth()\nright_margin = 0.25 / fig.get_figwidth()\nbottom_margin = 0.75 / fig.get_figheight()\ntop_margin = 0.25 / fig.get_figwidth()\nmid_margin = 0.1 / fig.get_figwidth()  # horizontal space between subplots\n\n# ----- DEFINE PARAMETERS FOR EACH AXE ----\n\n# Proportion of the figure's width taken by each axe (the sum must == 1):\nf = [0.5, 0.3, 0.2]\n\nxmin = [200, 50, 0]     # xaxis minimum values for each axe\nxmax = [8200, 200, 50]  # xaxis maximum values for each axe\nxscl = [2000, 50, 10]   # xaxis scale for each axe\n\nymin, ymax = 0, 320  # yaxis minimum and maximum values\n\ncolors = ['green', 'blue', 'red']  # colors of each plot\nlabels = ['label1', 'label2', 'label3']  # labels of each plot for the legend\n\nNaxes = len(f)  # Total number of axes to add to the figure.\n\nx0, y0 = left_margin, bottom_margin   # origin point of the axe\nh = 1 - (bottom_margin + top_margin)  # height of the axe\n\n# total width of the axes:\nwtot = 1 - (left_margin + right_margin + (Naxes-1)*mid_margin)\n\nlines = []  # to store handles for generating the legend later on\nfor i in range(Naxes):\n\n    # ----- AXES CREATION ----\n\n    w = wtot*f[i]  # width of the current axe\n    ax = fig.add_axes([x0, y0, w, h], frameon=True, axisbg='none')\n\n    if i == 0:  # First axe to the left\n        ax.spines['right'].set_visible(False)\n        ax.tick_params(right='off', labelright='off')\n\n    elif i == Naxes-1:  # Last axe to the right\n        ax.spines['left'].set_visible(False)\n        ax.tick_params(left='off', labelleft='off',\n                       right='off', labelright='off')\n    else:\n        ax.spines['left'].set_visible(False)\n        ax.spines['right'].set_visible(False)\n        ax.tick_params(left='off', labelleft='off',\n                       right='off', labelright='off')\n\n    # origin point of the next axe to be added to the figure:\n    x0 += w + mid_margin\n\n    # ----- SETUP XTICKS ----\n\n    if i == Naxes-1:\n        xticks = np.arange(xmin[i], xmax[i] + xscl[i]/2, xscl[i])\n    else:\n        xticks = np.arange(xmin[i]+xscl[i], xmax[i] + xscl[i]/2, xscl[i])\n    ax.set_xticks(xticks)\n    ax.xaxis.set_ticks_position('bottom')\n    ax.tick_params(axis='x', direction='out', labelsize=8)\n\n    xticks_minor = np.arange(xmin[i], xmax[i] + xscl[i]/5., xscl[i] / 5.)\n    ax.set_xticks(xticks_minor, minor=True)\n    ax.tick_params(axis='x', which='minor', direction='out')\n\n    # ----- PLOT DATA ----\n\n    line, = ax.plot(t, x, color=colors[i])\n    lines.append(line)  # for plotting the legend\n\n    ax.axis([xmin[i], xmax[i], ymin, ymax])\n    ax.invert_xaxis()\n\n# ---- SET XAXIS LABEL ----\n\nfig.axes[0].set_xlabel('Time (years)', fontsize=12, va='bottom', ha='center')\nfig.axes[0].xaxis.set_label_coords(0.5, 0.05, transform=fig.transFigure)\n\n# -----  LEGEND ----\n\nfig.axes[0].legend(lines, labels, loc=(0.1, 0.1), ncol=1, fancybox=True,\n                   fontsize=12)\n\n# ----- SHOW FIG ----\n\nfig.savefig('SingleAxeThreeScale.png')\nplt.show()\n</code></pre>\n\n<p>Which results in:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IPPcP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IPPcP.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 89, "user_id": 2813228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/xkkJL.jpg?s=128&g=1", "display_name": "JadeChee", "link": "https://stackoverflow.com/users/2813228/jadechee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1891, "favorite_count": 0, "accepted_answer_id": 31589096, "answer_count": 2, "score": 1, "last_activity_date": 1478186415, "creation_date": 1437599223, "last_edit_date": 1437599575, "question_id": 31573989, "link": "https://stackoverflow.com/questions/31573989/break-x-axis-in-more-than-2-parts-python", "title": "Break x axis in more than 2 parts (Python)", "body": "<p>I'm trying to break up my x axis in 5 parts. There exists many answers on how to break it up in 2 parts, so I've followed the same strategy but it doesn't work for more than 2 parts.\nHas anyone ever succeeded breaking up an axis in more than 2 parts? </p>\n\n<pre><code>import numpy as np\nfrom pylab import *\nimport matplotlib.pyplot as plt\n\nfig,(ax,ax2,ax3,ax4,ax5) = plt.subplots(1,2,sharey=True)\nax.plot(wvln0,alb0,linestyle='-', marker='o', color='r',linewidth=1.0,label='Haze = 0T')\nax2.plot(wvln0,alb0,linestyle='-', marker='o', color='r',linewidth=1.0,label='Haze = 0T')\nax3.plot(wvln0,alb0,linestyle='-', marker='o', color='r',linewidth=1.0,label='Haze = 0T')\nax4.plot(wvln0,alb0,linestyle='-', marker='o', color='r',linewidth=1.0,label='Haze = 0T')\nax5.plot(wvln0,alb0,linestyle='-', marker='o', color='r',linewidth=1.0,label='Haze = 0T')\nax.set_xlim(0.15,1.10)\nax2.set_xlim(1.15,2.25)\nax3.set_xlim(1.20,1.30)\nax4.set_xlim(1.55,1.65)\nax5.set_xlim(1.95,2.15)\n\nax.spines['right'].set_visible(False)\nax2.spines['left'].set_visible(False)\nax.yaxis.tick_left()\nax.tick_params(labeltop='off') # don't put tick labels at the top\nax2.yaxis.tick_right()\nplt.subplots_adjust(wspace=0.1)\n\naxes = plt.gca()\naxes.set_ylim([0.0,0.72])\nplt.show()\n</code></pre>\n\n<p>Returns</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/jadecheclair/Documents/NASA Ames Research/NASA Codes/Wavlengths_Rages/wvln_alb.py\", line 37, in &lt;module&gt;\nfig,(ax,ax2,ax3,ax4,ax5) = plt.subplots(1,2,sharey=True)\nValueError: need more than 2 values to unpack\n</code></pre>\n\n<p>And if I try to change the line to </p>\n\n<pre><code>fig,(ax,ax2,ax3,ax4,ax5) = plt.subplots(1,2,3,4,5,sharey=True)\n</code></pre>\n\n<p>It returns</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/jadecheclair/Documents/NASA Ames Research/NASA Codes/Wavlengths_Rages/wvln_alb.py\", line 37, in &lt;module&gt;\nfig,(ax,ax2,ax3,ax4,ax5) = plt.subplots(1,2,3,4,5,sharey=True)\nTypeError: subplots() got multiple values for keyword argument 'sharey'\n</code></pre>\n"}, {"tags": ["python", "numpy", "errno", "numpy-memmap"], "answers": [{"comments": [{"owner": {"reputation": 2214, "user_id": 2864250, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/svmFB.jpg?s=128&g=1", "display_name": "dubbbdan", "link": "https://stackoverflow.com/users/2864250/dubbbdan"}, "edited": false, "score": 0, "creation_date": 1437599241, "post_id": 31573940, "comment_id": 51102881, "body": "I have tried <code>wb</code>, <code>w+b</code> and <code>w+</code> modes.  The mode <code>w+</code> works on some files while not on others.  And why would it work with <code>w+</code> mode when i pass it to the python interpreter?"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 2214, "user_id": 2864250, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/svmFB.jpg?s=128&g=1", "display_name": "dubbbdan", "link": "https://stackoverflow.com/users/2864250/dubbbdan"}, "edited": false, "score": 0, "creation_date": 1437599468, "post_id": 31573940, "comment_id": 51102987, "body": "Have you really? Your traceback doesn&#39;t agree with you. <code>wb</code> is for opening in binary mode. There is no point in opening a file in <code>w+</code>: the plus symbol doesn&#39;t do anything. Have you read the relevant documentation?"}, {"owner": {"reputation": 2214, "user_id": 2864250, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/svmFB.jpg?s=128&g=1", "display_name": "dubbbdan", "link": "https://stackoverflow.com/users/2864250/dubbbdan"}, "edited": false, "score": 0, "creation_date": 1437599973, "post_id": 31573940, "comment_id": 51103277, "body": "I really have.  I have been trying to debug this for quite some time now and feel someone else might have encountered this problem before.  The mode <code>w+</code> opens a file for reading and writing.  As i understand the <code>+</code> allows you to override the files content.  It can be found <a href=\"http://www.tutorialspoint.com/python/python_files_io.htm\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.python.org/2/library/io.html\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 2214, "user_id": 2864250, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/svmFB.jpg?s=128&g=1", "display_name": "dubbbdan", "link": "https://stackoverflow.com/users/2864250/dubbbdan"}, "edited": false, "score": 0, "creation_date": 1437600024, "post_id": 31573940, "comment_id": 51103309, "body": "I don&#39;t know, I certainly haven&#39;t run into this behaviour before. Like you, I have high hopes someone will be able to explain this."}, {"owner": {"reputation": 2214, "user_id": 2864250, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/svmFB.jpg?s=128&g=1", "display_name": "dubbbdan", "link": "https://stackoverflow.com/users/2864250/dubbbdan"}, "edited": false, "score": 0, "creation_date": 1437600998, "post_id": 31573940, "comment_id": 51103771, "body": "I keep thinking it has something to do with the runtime compiler.  I think thats the only reason it would work in an interpreter and not in my script."}], "tags": [], "owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "is_accepted": false, "score": 0, "last_activity_date": 1437599006, "creation_date": 1437599006, "answer_id": 31573940, "question_id": 31573911, "link": "https://stackoverflow.com/questions/31573911/open-np-memmap-binary-file-within-a-python-with-context-manager/31573940#31573940", "title": "Open np.memmap() binary file within a python with-context manager", "body": "<p>Your opening it like a normal file, hence the error: <code>IOError: [Errno 22] invalid mode</code>. Do this instead: </p>\n\n<pre><code>with open(path, 'wb') as f:\n    pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "is_accepted": false, "score": 0, "last_activity_date": 1444328506, "last_edit_date": 1444328506, "creation_date": 1444205806, "answer_id": 32987102, "question_id": 31573911, "link": "https://stackoverflow.com/questions/31573911/open-np-memmap-binary-file-within-a-python-with-context-manager/32987102#32987102", "title": "Open np.memmap() binary file within a python with-context manager", "body": "<p>after some trial-errors, instruct <strong><code>np.memmap()</code></strong> to open a file with other than <code>.__doc__</code> reported <strong><code>mode</code></strong> strings.</p>\n\n<pre><code>#------------------------------------------------------++++++++ TRY:\n#                                                      ||||||||\n#                                                      vvvvvvvv\n|&gt;&gt;&gt; MM = np.memmap( \"temporary_DATA.memmap\", mode = 'wNONSENSE+' )\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27.anaconda\\lib\\site-packages\\numpy\\core\\memmap.py\", line 208, in __new__\n    (valid_filemodes + list(mode_equivalents.keys())))\nValueError: mode must be one of ['r', 'c', 'r+', 'w+', 'readwrite', 'write', 'readonly', 'copyonwrite']\n#                                 ^    ^    ^     ^     ^            ^        ^           ^\n#                                 |    |    |     |     |            |        |           |\n#---------------------------------+----+----+-----+-----+------------+--------+-----------+\n</code></pre>\n\n<p>finally this error Traceback has shown alternative strings, not listed in <code>np.memmap.__doc__</code>, which do work fine</p>\n\n<pre><code>with open( os.path.normpath( os.path.join( sonpath,\n                                           base + '_data_dwnhi.dat'\n                                           )\n                             ),\n           'w+'\n           ) as    ff:\n   fp = np.memmap( ff, mode  = 'readwrite',      # options listed in np Traceback\n                       shape = np.shape( tmp2 ),\n                       dtype = 'int16'\n                       )\n</code></pre>\n\n<hr>\n\n<p><sub>For hawkish pythoneers, the post intentionally uses non-PEP-8 source code formatting as it is authors experience that during a learning phase, code read-ability improves the focus on task solution and helps getting used to the underlying concepts rather than to spend efforts on formally adhering typography. Hope the principle of providing help is respected and the non-PEP-8 styling format is forgiven in the name of the ease of reading.</sub></p>\n"}], "owner": {"reputation": 2214, "user_id": 2864250, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/svmFB.jpg?s=128&g=1", "display_name": "dubbbdan", "link": "https://stackoverflow.com/users/2864250/dubbbdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1444328506, "creation_date": 1437598914, "last_edit_date": 1444206065, "question_id": 31573911, "link": "https://stackoverflow.com/questions/31573911/open-np-memmap-binary-file-within-a-python-with-context-manager", "title": "Open np.memmap() binary file within a python with-context manager", "body": "<p>I have a very strange problem where I can't open a file from one of my larger scripts.</p>\n\n<p>This problem is intermittent and I can't seem to understand the error.\nI am getting this error:</p>\n\n<pre><code>IOError: [Errno 22] invalid mode ('w+') or filename: 'D:\\\\R4a\\\\2014_05\\\\R01359\\\\R01359_data_dwnhi.dat'\n</code></pre>\n\n<p>from this command in my script:</p>\n\n<pre><code>with open(os.path.normpath(os.path.join(sonpath,base+'_data_dwnhi.dat')), 'w+') as ff:\n   fp = np.memmap(ff, dtype='int16', mode='w+', shape=np.shape(tmp2))\n</code></pre>\n\n<p>when I use:</p>\n\n<pre><code> if os.path.exists(os.path.normpath(os.path.join(sonpath,base+'_data_dwnhi.dat')))== True:\n    print os.path.normpath(os.path.join(sonpath,base+'_data_dwnhi.dat')) + ' is a file'\n</code></pre>\n\n<p>it evaluates as <strong><code>True</code></strong>.  Also when I run the <code>open</code> command by itself in <code>ipython</code> it sucessfully opens the file with:</p>\n\n<pre><code>open('D:\\\\R4a\\\\2014_05\\\\R01359\\\\R01359_data_dwnhi.dat', 'w+')\n</code></pre>\n\n<p>I am at a loss for words and think <strong><code>errno 22</code></strong> error is misleading.  As I stated earlier, the problem is intermittent and works on some files.  Does anyone have an idea what I am doing wrong?</p>\n\n<p>I am working on a windows 8 machine 64 bit and running python version 2.7.8  from an Anaconda 2.1.0 (64-bit) distribution.</p>\n"}, {"tags": ["python", "arrays", "matplotlib"], "comments": [{"owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "edited": false, "score": 0, "creation_date": 1437669898, "post_id": 31573900, "comment_id": 51138690, "body": "Could you please clarify the meaning of the numbers &quot;1:1, 2:3, 3:5, 4:9, 5:14, 6:20, etc&quot;?  Also, see comments in @farenorth&#39;s answer."}], "answers": [{"comments": [{"owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "edited": false, "score": 0, "creation_date": 1437602426, "post_id": 31574087, "comment_id": 51104358, "body": "How does this deal with the ranges that were requested, ie, &quot;[f]or example, 1:1, 2:3, 3:5, 4:9, 5:14, 6:20, etc&quot;?"}, {"owner": {"reputation": 8002, "user_id": 2121597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o31zM.png?s=128&g=1", "display_name": "farenorth", "link": "https://stackoverflow.com/users/2121597/farenorth"}, "reply_to_user": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "edited": false, "score": 0, "creation_date": 1437666476, "post_id": 31574087, "comment_id": 51136360, "body": "I&#39;m not sure those values are consistent with the definition of <code>arr</code>, and the definition of <code>summation</code>. Not only should the first pair be <code>0:0</code>, but I believe the 3rd+ should be one higher than they are. Unless I&#39;m missing something? If @ShanZhengYang makes his question consistent, I&#39;ll make my answer specific."}], "tags": [], "owner": {"reputation": 8002, "user_id": 2121597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o31zM.png?s=128&g=1", "display_name": "farenorth", "link": "https://stackoverflow.com/users/2121597/farenorth"}, "is_accepted": true, "score": 2, "last_activity_date": 1437599597, "creation_date": 1437599597, "answer_id": 31574087, "question_id": 31573900, "link": "https://stackoverflow.com/questions/31573900/plotting-the-sum-of-an-array-array0i-vs-i/31574087#31574087", "title": "plotting the sum of an array array[0:i] vs i", "body": "<p>I think what you are looking for is <code>cumsum</code>. For example:</p>\n\n<pre><code>y = np.cumsum(arr)\n</code></pre>\n\n<p>To plot the data, you could simply do,</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nplt.plot(arr, y)\n</code></pre>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "accepted_answer_id": 31574087, "answer_count": 1, "score": 0, "last_activity_date": 1437676233, "creation_date": 1437598879, "last_edit_date": 1437676233, "question_id": 31573900, "link": "https://stackoverflow.com/questions/31573900/plotting-the-sum-of-an-array-array0i-vs-i", "title": "plotting the sum of an array array[0:i] vs i", "body": "<p>This is a simple question, but I seem to be stuck:</p>\n\n<p>Let's say there is an array of 1000 values, i.e.</p>\n\n<pre><code>import numpy\narr = np.arange(1000)\n</code></pre>\n\n<p>I would like to plot these values along the x-axis with the sum of these values against the y-axis. For example, 0:0, 1:1, 2:3, 3:6, 4:10, 5:15, 6:21, etc. Furthermore, I would like to do this as efficiently as possible using <code>np.sum()</code>. </p>\n\n<p>Using matplotlib, the xaxis is <code>arr</code>. How would you code the y-axis? \nPerhaps</p>\n\n<pre><code>def summation(i):\n    return np.sum(arr[0:i])\n</code></pre>\n\n<p>and then use this function to create an array? That doesn't quite work. </p>\n"}, {"tags": ["python", "bash", "pipe", "subprocess", "popen"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 3, "creation_date": 1437598910, "post_id": 31573890, "comment_id": 51102721, "body": "So how should Python know where the string starts or ends if you use the same quotes as are contained in the string?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1437599045, "post_id": 31573890, "comment_id": 51102776, "body": "Also, when asking for help with an error, <i>include the error message</i>. For Python, that means the full traceback should be included in your question, so we don&#39;t have to guess at the error you are getting."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 11716409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7752a7a2737b8a5bf443c25b98d66b21?s=128&d=identicon&r=PG&f=1", "display_name": "enthu", "link": "https://stackoverflow.com/users/11716409/enthu"}, "edited": false, "score": 0, "creation_date": 1573378419, "post_id": 31573938, "comment_id": 103856947, "body": "<b>+1m</b>! thank you Martijn; the way you describe parts of the code helped me understand the code syntax. Not everyone (including me) is professional to understand the basics of the codes. The way you answered this question was great. Thank you."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 2, "last_activity_date": 1437599601, "last_edit_date": 1437599601, "creation_date": 1437598998, "answer_id": 31573938, "question_id": 31573890, "link": "https://stackoverflow.com/questions/31573890/python-subprocess-popen-invalid-syntax/31573938#31573938", "title": "python subprocess &amp; popen invalid syntax", "body": "<p>So how should Python know where the string starts or ends if you use the same quotes as are contained in the string? Switch to using <code>\"</code> double quotes to enclose your shell command.</p>\n\n<p>Also, you'll need to tell <code>subprocess</code> to use a shell to run your command, otherwise it'll just try to run the command directly (and thus not support shell syntax):</p>\n\n<pre><code>numcpu = sub.Popen(\"($(cat /proc/cpuinfo | grep 'physical id' | awk '{print $NF}' | sort | uniq | wc -l))\",\n                   shell=True, stdout=sub.PIPE, stderr=sub.PIPE)\n</code></pre>\n\n<p>You may want to just read from <code>proc/cpuinfo</code> directly, and process that in Python:</p>\n\n<pre><code>cpu_ids = set()\nwith open('/proc/cpuinfo') as cpuinfo:\n    for line in cpuinfo:\n        if 'physical id' in line:\n            cpu_ids.add(line.rsplit(None, 1)[-1])\nnumcpu = len(cpu_ids)  \n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5145416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d0162f17f15911c310ceaf4ab13f2d?s=128&d=identicon&r=PG&f=1", "display_name": "Klyde", "link": "https://stackoverflow.com/users/5145416/klyde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 0, "accepted_answer_id": 31573938, "answer_count": 1, "score": 0, "last_activity_date": 1437599601, "creation_date": 1437598828, "last_edit_date": 1437599022, "question_id": 31573890, "link": "https://stackoverflow.com/questions/31573890/python-subprocess-popen-invalid-syntax", "title": "python subprocess &amp; popen invalid syntax", "body": "<p>I am new to scripting. I have this line in bash I'm trying to write in python. </p>\n\n<pre><code>numcpu = ($(cat /proc/cpuinfo | grep 'physical id' | awk '{print $NF}' | sort | uniq | wc -l))\n</code></pre>\n\n<p>I have tried using sub and popen and couldnt get it to work. Here's the line:</p>\n\n<pre><code>numcpu = sub.Popen('($(cat /proc/cpuinfo | grep 'physical id' | awk '{print $NF}' | sort | uniq | wc -l))',stdout=sub.PIPE,stderr=sub.PIPE)\n</code></pre>\n\n<p>It keeps throwing errors. Any ideas on what the problem is or another way I could do it? I know maybe importing and calling os?</p>\n\n<p>I am using Python v2.6 and I can't upgrade.</p>\n"}, {"tags": ["python", "image-processing", "matrix", "multidimensional-array", "concatenation"], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 3258925, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/P7XRi.jpg?s=128&g=1", "display_name": "nandhos", "link": "https://stackoverflow.com/users/3258925/nandhos"}, "edited": false, "score": 0, "creation_date": 1437600797, "post_id": 31574101, "comment_id": 51103690, "body": "Sorry, I was looking for in other posts and find some similar that I wanted <a href=\"http://stackoverflow.com/questions/12406927/read-multiple-files-by-python\">here</a>. Actually, I tried to follow the post but I dont see, where we can concatenate. You are wright with the identation and the extension, I just copied wrongly. So thanks, you help with my first question, actually I was using imread from pyplot, now I change to imread from scipy that accept the keyword argument flatten. Now, How could read and concatenate all this 2D-arrays (each image) into a 3D-array. I need do a loop, but how?"}, {"owner": {"reputation": 583, "user_id": 2796082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893dc5352285592b8a564c2215851d42?s=128&d=identicon&r=PG&f=1", "display_name": "youngmit", "link": "https://stackoverflow.com/users/2796082/youngmit"}, "reply_to_user": {"reputation": 611, "user_id": 3258925, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/P7XRi.jpg?s=128&g=1", "display_name": "nandhos", "link": "https://stackoverflow.com/users/3258925/nandhos"}, "edited": false, "score": 1, "creation_date": 1437611081, "post_id": 31574101, "comment_id": 51106999, "body": "My apologies, I neglected to address that padding issue. You have converted to a string and called zfill(), which is fine, but you can also pad the filename with zeroes in situ with your format specifier , like: &quot;{0:03d}.txt&quot;.format(i+1). the first &#39;0&#39; is refers to the zeroth argument to format() and the second zero indicates zero padding, and &#39;3&#39; tells it to pad to a 3 digits."}], "tags": [], "owner": {"reputation": 583, "user_id": 2796082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893dc5352285592b8a564c2215851d42?s=128&d=identicon&r=PG&f=1", "display_name": "youngmit", "link": "https://stackoverflow.com/users/2796082/youngmit"}, "is_accepted": false, "score": 2, "last_activity_date": 1437599671, "creation_date": 1437599671, "answer_id": 31574101, "question_id": 31573872, "link": "https://stackoverflow.com/questions/31573872/how-to-read-multiple-images-and-create-a-3d-matrix-with-them/31574101#31574101", "title": "How to read multiple images and create a 3D matrix with them?", "body": "<p>First, you are right that the last dimension are the color channels. I assume you want a grayscale image, which you can get with:</p>\n\n<pre><code>data = imread(fname, flatten=1)\n</code></pre>\n\n<p>That comes from the imread documentation <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.misc.imread.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>Second, your issue with the loop can be due to a couple of things. First, I don't see indentation in the code in your post, so make sure that is there on the loop body in the code that you are actually trying to run. Second, the code has a \".txt\" extension. Are you sure you don't actually want \".bmp\"? </p>\n"}], "owner": {"reputation": 611, "user_id": 3258925, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/P7XRi.jpg?s=128&g=1", "display_name": "nandhos", "link": "https://stackoverflow.com/users/3258925/nandhos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1221, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1437603959, "creation_date": 1437598755, "last_edit_date": 1437603959, "question_id": 31573872, "link": "https://stackoverflow.com/questions/31573872/how-to-read-multiple-images-and-create-a-3d-matrix-with-them", "title": "How to read multiple images and create a 3D matrix with them?", "body": "<p>I have a bunch of images (300 images of 400 X 400 pixels) with filenames like:</p>\n\n<ul>\n<li>001.bmp</li>\n<li>002.bmp</li>\n<li>003.bmp</li>\n<li>... </li>\n</ul>\n\n<p>First, I tried reading one of them, e.g. using <code>imread</code> I get a (400L, 400L, 3L) matrix, the problem is the 3L (I think is RBG format), so the question here is: how can I read them and get a (400L, 400L, 1L) matrix that I need to proccess them?</p>\n\n<p>Second, I tried to read the 300 images using a loop like the following:</p>\n\n<pre><code>data = np.zeros((400,400,300))\nfor i in range(300):\n    data[:,:,i] = imread('{0}.bmp'.format(i))\n</code></pre>\n\n<p>but it doesn't work, very probably my code is wrong. Actually doing this, I want to concatenate each (300) image data (400 X 400) into a matrix of (400 X 400 X 300).</p>\n\n<p>When trying to use:</p>\n\n<pre><code>data[:,:,i] = imread('{0}.bmp'.format(i))\n</code></pre>\n\n<p>search for <code>'1.bmp'</code> and not <code>'001.bmp'</code>, but due to the list go from 000 to 299, I got a problem with that and I cant write <code>'00{0}.bmp'.format(i)</code> to complete the filename, because for two- and three digits numbers I got <code>'0012.bmp'</code> or <code>'00123.bmp'</code></p>\n\n<p>Well, after hours, I got to do this</p>\n\n<pre><code>arrays = []\nfor number in range(0, 299):\n    numstr = str(number).zfill(3)\n    fname = numstr + '.bmp'\n    a = imread(fname, flatten=1)\n    arrays.append(a)\ndata = np.array(arrays)\n</code></pre>\n\n<p>This code its work well. Thankyou, for give me clues!</p>\n"}, {"tags": ["python", "matplotlib", "plot", "stacked-chart", "stacked-area-chart"], "comments": [{"owner": {"reputation": 16783, "user_id": 213525, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/99239814919612b7bc4e6de9e219027b?s=128&d=identicon&r=PG", "display_name": "Neil Traft", "link": "https://stackoverflow.com/users/213525/neil-traft"}, "edited": false, "score": 0, "creation_date": 1453349506, "post_id": 31573869, "comment_id": 57565568, "body": "Newcomers to this question may be confused because <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.stackplot\" rel=\"nofollow noreferrer\">the documentation</a> suggests that labels are supported, but this <a href=\"https://github.com/matplotlib/matplotlib/issues/1943\" rel=\"nofollow noreferrer\">appears to be a lie</a>. I get this error: <code>AttributeError: Unknown property labels</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1519, "user_id": 1873237, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/veSG6.jpg?s=128&g=1", "display_name": "Docuemada", "link": "https://stackoverflow.com/users/1873237/docuemada"}, "edited": false, "score": 0, "creation_date": 1437615619, "post_id": 31574436, "comment_id": 51108057, "body": "very clever. What I like about this is that it has the potential to be applied in a loop for an arbitrary number of labels. And even if it isn&#39;t perfect, I find your chart easier to quickly interpret than a comparable chart with a color key--especially when stacking &gt;10 plots."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 1519, "user_id": 1873237, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/veSG6.jpg?s=128&g=1", "display_name": "Docuemada", "link": "https://stackoverflow.com/users/1873237/docuemada"}, "edited": false, "score": 0, "creation_date": 1437620839, "post_id": 31574436, "comment_id": 51109281, "body": "There are plots you can&#39;t label this way -- if area2 was all tiny, or if the values leapt up and down so there wasn&#39;t much horizontal area. It could maybe be a little clearer if the area colors were tied to the text colors somehow (text bordered with area color?)."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 1519, "user_id": 1873237, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/veSG6.jpg?s=128&g=1", "display_name": "Docuemada", "link": "https://stackoverflow.com/users/1873237/docuemada"}, "edited": false, "score": 0, "creation_date": 1437620902, "post_id": 31574436, "comment_id": 51109298, "body": "yeah, <code>loc</code> should be defined in a loop for an arbitrary series of y?. Left as an exercise for the reader!"}], "tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": true, "score": 4, "last_activity_date": 1437611817, "last_edit_date": 1437611817, "creation_date": 1437601015, "answer_id": 31574436, "question_id": 31573869, "link": "https://stackoverflow.com/questions/31573869/label-areas-in-python-matplotlib-stackplot/31574436#31574436", "title": "Label Areas in Python Matplotlib stackplot", "body": "<p>Ah, heuristics. Something like this?:</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\n\nlength = 10\nfnx = lambda : np.random.randint(5, 50, length)\nx = np.arange(length)\ny1, y2, y3 = fnx(), fnx(), fnx()\nareaLabels=['area1','area2','area3']\nfig, ax = plt.subplots()\nax.stackplot(x, y1, y2, y3)\n\nloc = y1.argmax()\nax.text(loc, y1[loc]*0.25, areaLabels[0])\n\nloc = y2.argmax()\nax.text(loc, y1[loc] + y2[loc]*0.33, areaLabels[1])\n\nloc = y3.argmax()\nax.text(loc, y1[loc] + y2[loc] + y3[loc]*0.75, areaLabels[2]) \n\nplt.show()\n</code></pre>\n\n<p>which in test runs is okayish:</p>\n\n<p><a href=\"https://i.stack.imgur.com/naEP8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/naEP8.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/BaZ04.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BaZ04.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/P2IJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2IJW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Finding the best <code>loc</code> could be fancier -- maybe one wants the <code>x_n, x_(n+1)</code> with the highest average value. </p>\n"}], "owner": {"reputation": 1519, "user_id": 1873237, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/veSG6.jpg?s=128&g=1", "display_name": "Docuemada", "link": "https://stackoverflow.com/users/1873237/docuemada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4139, "favorite_count": 0, "accepted_answer_id": 31574436, "answer_count": 1, "score": 5, "last_activity_date": 1437611817, "creation_date": 1437598730, "question_id": 31573869, "link": "https://stackoverflow.com/questions/31573869/label-areas-in-python-matplotlib-stackplot", "title": "Label Areas in Python Matplotlib stackplot", "body": "<p>I would like to generate labels inside the areas of a matplotlib stackplot. I would settle for labeling a line used to bound the area. Consider the example:</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\n\nfnx = lambda : np.random.randint(5, 50, 10)\nx = np.arange(10)\ny1, y2, y3 = fnx(), fnx(), fnx()\nareaLabels=['area1','area2','area3']\nfig, ax = plt.subplots()\nax.stackplot(x, y1, y2, y3)\nplt.show()\n</code></pre>\n\n<p>This produces:<a href=\"https://i.stack.imgur.com/18lG5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/18lG5.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I would like to produce something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CZcoG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CZcoG.png\" alt=\"enter image description here\"></a></p>\n\n<p>The matplotlib contour plots have this type of labeling functionality (though the lines are labeled in the case of the contour plot).</p>\n\n<p>Any help (or even redirection to a post I might have missed) is appreciated. </p>\n"}, {"tags": ["python", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 1223941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ef881033e8606db8e7cbfe62975ff0?s=128&d=identicon&r=PG", "display_name": "Jyotika", "link": "https://stackoverflow.com/users/1223941/jyotika"}, "edited": false, "score": 0, "creation_date": 1438881279, "post_id": 31574750, "comment_id": 51643212, "body": "Thank you for the hint. This is how the changed my code and it works now.  Sorry, posting the code as a separate post. The reply box has a character limit."}], "tags": [], "owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "is_accepted": true, "score": 1, "last_activity_date": 1437602344, "creation_date": 1437602344, "answer_id": 31574750, "question_id": 31573786, "link": "https://stackoverflow.com/questions/31573786/time-dependent-input-in-scipy-integrate-odeint/31574750#31574750", "title": "Time dependent input in scipy.integrate.odeint?", "body": "<p>The key of the problem will be <code>ip[time]</code>, because value of <code>time</code> continuously changes inside of the function, which is called repeatedly. <code>time</code> increases, and then it reaches the max index value of <code>ip</code> i.e. <code>1000</code>.\nThere would be something wrong, because time is a float, but it is used as index to <code>ip</code>.\nWhat should be the purpose of <code>time</code> here?</p>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 1223941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ef881033e8606db8e7cbfe62975ff0?s=128&d=identicon&r=PG", "display_name": "Jyotika", "link": "https://stackoverflow.com/users/1223941/jyotika"}, "is_accepted": false, "score": 0, "last_activity_date": 1438881538, "creation_date": 1438881538, "answer_id": 31861972, "question_id": 31573786, "link": "https://stackoverflow.com/questions/31573786/time-dependent-input-in-scipy-integrate-odeint/31861972#31861972", "title": "Time dependent input in scipy.integrate.odeint?", "body": "<pre><code>import numpy as np\nfrom scipy.integrate import odeint\n\ndef getIp(time):\n        if time &gt; 300 and time &lt; 600:\n                x = 5\n        else:\n                x = 0\n        return x\ndef func1(Rates,time):\n        # 0 = x, 1 = y\n        # dx/dt = -x+ ax+by, dy/dt =-y+ cx+dy\n        leak = -0.3\n        a = d = 0.1\n        b = c = -0.2\n        dxbydt = leak*Rates[0]+ a*Rates[0]+b/2.*Rates[1]+getIp(time)\n        dybydt = leak*Rates[1]+ c*Rates[0]+d*Rates[1]+getIp(time)\n        return [dxbydt, dybydt]\n\ntimeGrid = np.arange(0,1000,0.01)\nip = np.zeros((len(timeGrid)))\n\n#ip[300:600] = 5.0\ninitR = np.ones((2))*10\nfR = odeint(func1,initR,timeGrid)\n\npl.figure()\npl.plot(timeGrid,ip,'k-',label='ip')\npl.plot(timeGrid,fR[:,0],'b-',label='x')\npl.plot(timeGrid,fR[:,1],'r-',label='y')\npl.legend()\npl.show()\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 1223941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ef881033e8606db8e7cbfe62975ff0?s=128&d=identicon&r=PG", "display_name": "Jyotika", "link": "https://stackoverflow.com/users/1223941/jyotika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2170, "favorite_count": 0, "accepted_answer_id": 31574750, "answer_count": 2, "score": 2, "last_activity_date": 1438881538, "creation_date": 1437598392, "question_id": 31573786, "link": "https://stackoverflow.com/questions/31573786/time-dependent-input-in-scipy-integrate-odeint", "title": "Time dependent input in scipy.integrate.odeint?", "body": "<p>I want to integrate a square wave as input to a coupled differential equations using odeint. The code below seems to working, however, it throws an error:\n\"IndexError: index out of bounds\" on line number 12.</p>\n\n<p>Can anyone help me with this ? </p>\n\n<p>Thanks in advance,</p>\n\n<p>Jyotika</p>\n\n<pre><code>   1 import pylab as pl\n   2 import numpy as np\n   3 from scipy.integrate import odeint\n   4 \n   5 \n   6 def func1(Rates,time,ip):\n   7         # 0 = x, 1 = y\n   8         # dx/dt = -x+ ax+by, dy/dt =-y+ cx+dy\n   9         leak = -0.3\n   10         a = d = 0.1     \n   11         b = c = -0.2    \n   12         dxbydt = leak*Rates[0]+ a*Rates[0]+b/2.*Rates[1]+ip[time]\n   13         dybydt = leak*Rates[1]+ c*Rates[0]+d*Rates[1]+ip[time]\n   14                                 \n   15         return [dxbydt, dybydt]\n\n   16 time = np.arange(0,1000,1)\n   17 ip = np.zeros((len(time)))\n   18         \n   19 ip[300:600] = 5.0\n   20 initR = np.ones((2))*10\n   21 fR = odeint(func1,initR,time,args=(ip,))\n   22         \n   23 pl.figure()\n   24 #pl.plot(time,ip,'k-',label='ip')\n   25 pl.plot(time,fR[:,0],'b-',label='x')\n   26 pl.plot(time,fR[:,1],'r-',label='y')\n   27 pl.legend()\n   28 \n   29 pl.show()\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 1899, "user_id": 2169327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/66c9bad39b0964c92cc01cfdd8bb4753?s=128&d=identicon&r=PG", "display_name": "bjornasm", "link": "https://stackoverflow.com/users/2169327/bjornasm"}, "edited": false, "score": 0, "creation_date": 1437599034, "post_id": 31573835, "comment_id": 51102773, "body": "Thank you! To find the number of samples, I guess you found the difference between the two values, and divided it with the step size I wanted, then flooring the value or something like that?"}, {"owner": {"reputation": 5712, "user_id": 1583239, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a66e4b4b2d325f1b369fa0b4d6a2a237?s=128&d=identicon&r=PG", "display_name": "qwwqwwq", "link": "https://stackoverflow.com/users/1583239/qwwqwwq"}, "reply_to_user": {"reputation": 1899, "user_id": 2169327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/66c9bad39b0964c92cc01cfdd8bb4753?s=128&d=identicon&r=PG", "display_name": "bjornasm", "link": "https://stackoverflow.com/users/2169327/bjornasm"}, "edited": false, "score": 0, "creation_date": 1437599164, "post_id": 31573835, "comment_id": 51102841, "body": "yes that is exactly what i did to get number of steps, will update answer"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 1899, "user_id": 2169327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/66c9bad39b0964c92cc01cfdd8bb4753?s=128&d=identicon&r=PG", "display_name": "bjornasm", "link": "https://stackoverflow.com/users/2169327/bjornasm"}, "edited": false, "score": 1, "creation_date": 1437599187, "post_id": 31573835, "comment_id": 51102856, "body": "@bjornasm it&#39;s a little more complicated than that. Floor the distance, multiply by the step size, and add that to the starting value. You might need to add a small fudge factor to make sure that rounding doesn&#39;t cause <code>floor</code> to lose the last value."}], "tags": [], "owner": {"reputation": 5712, "user_id": 1583239, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a66e4b4b2d325f1b369fa0b4d6a2a237?s=128&d=identicon&r=PG", "display_name": "qwwqwwq", "link": "https://stackoverflow.com/users/1583239/qwwqwwq"}, "is_accepted": false, "score": 3, "last_activity_date": 1437598566, "creation_date": 1437598566, "answer_id": 31573835, "question_id": 31573775, "link": "https://stackoverflow.com/questions/31573775/clever-way-to-iterate-over-whole-interval/31573835#31573835", "title": "Clever way to iterate over whole interval", "body": "<p>You can use <code>numpy.linspace</code>, it returns evenly spaced values within a given interval, you just give it three arguments, start, stop, and number of steps:</p>\n\n<pre><code>numpy.linspace(70.390829, 70.855549, 464)\n</code></pre>\n\n<p>Using 464 samples in this range will be close to a step size of 0.001, but you will be guaranteed by linspace that the first and last values will be exactly equal to your start and stop, so whole range is covered.</p>\n"}, {"tags": [], "owner": {"reputation": 19107, "user_id": 216356, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dc105cdd75395154274f9da3d7612a9f?s=128&d=identicon&r=PG", "display_name": "Noctis Skytower", "link": "https://stackoverflow.com/users/216356/noctis-skytower"}, "is_accepted": true, "score": 3, "last_activity_date": 1437600940, "last_edit_date": 1437600940, "creation_date": 1437599707, "answer_id": 31574110, "question_id": 31573775, "link": "https://stackoverflow.com/questions/31573775/clever-way-to-iterate-over-whole-interval/31574110#31574110", "title": "Clever way to iterate over whole interval", "body": "<p>Since you seem to be concerned about rounding errors occurring with floats, the following code uses the <code>decimal</code> module to allow you to select whatever precision your application requires:</p>\n\n<pre><code>&gt;&gt;&gt; from decimal import Decimal as D\n&gt;&gt;&gt; compare = lambda a, b: (a &gt; b) - (a &lt; b)\n&gt;&gt;&gt; def drange(start, stop, step):\n        relation = compare(stop, start)\n        if not relation:\n            raise ValueError('start and stop may not have the same value')\n        if compare(relation, 0) != compare(step, 0):\n            raise ValueError('step will not allow the sequence to finish')\n        while True:\n            yield start\n            start += step\n            if compare(stop, start) != relation:\n                break\n\n&gt;&gt;&gt; sequence = tuple(drange(D('70.390829'), D('70.855549'), D('0.001')))\n&gt;&gt;&gt; len(sequence)\n465\n</code></pre>\n\n<p>If you are not too worried about floating point rounding errors, you can also use the numbers directly with the <code>drange</code> generator and get a sequence with exactly the same length as with decimals:</p>\n\n<pre><code>&gt;&gt;&gt; sequence = tuple(drange(70.390829, 70.855549, 0.001))\n&gt;&gt;&gt; len(sequence)\n465\n</code></pre>\n"}], "owner": {"reputation": 1899, "user_id": 2169327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/66c9bad39b0964c92cc01cfdd8bb4753?s=128&d=identicon&r=PG", "display_name": "bjornasm", "link": "https://stackoverflow.com/users/2169327/bjornasm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 1, "accepted_answer_id": 31574110, "answer_count": 2, "score": 4, "last_activity_date": 1437600940, "creation_date": 1437598335, "last_edit_date": 1495541649, "question_id": 31573775, "link": "https://stackoverflow.com/questions/31573775/clever-way-to-iterate-over-whole-interval", "title": "Clever way to iterate over whole interval", "body": "<p>I am iterating over an interval of decimal points, using the code in this solution: <a href=\"https://stackoverflow.com/a/13286671/2169327\">https://stackoverflow.com/a/13286671/2169327</a></p>\n\n<pre><code>def seq(start, end, step):\n    assert(step != 0)\n    sample_count = abs(end - start) / step\n    return itertools.islice(itertools.count(start, step), sample_count)\n</code></pre>\n\n<p>But I have a problem. My step size is going to be approximately 0.001, while my interval is 70.390829 to 70.855549. How to I assure that I actually iterate over as much as the interval as possible? Should I maybe round down to three decimals, to assure that I got as much of the area as possible? With this I mean that I need to start as close to the start, and end as close to the end as possible. Would that help? Any other clever ideas?</p>\n"}, {"tags": ["python", "tkinter", "virtualenv"], "comments": [{"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1437599484, "post_id": 31573752, "comment_id": 51102997, "body": "Saying which operating system you are using might also be helpful..."}, {"owner": {"reputation": 5182, "user_id": 1492613, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d05f70836a7f9f7bcde2eb0142f0424e?s=128&d=identicon&r=PG", "display_name": "Wang", "link": "https://stackoverflow.com/users/1492613/wang"}, "reply_to_user": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1437599722, "post_id": 31573752, "comment_id": 51103130, "body": "@nbro thanks. I would like to see a solution regardless the OS since it is locally installed python not system-wide python. But I added the OS to allow more OS specified answer anyway."}], "owner": {"reputation": 5182, "user_id": 1492613, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d05f70836a7f9f7bcde2eb0142f0424e?s=128&d=identicon&r=PG", "display_name": "Wang", "link": "https://stackoverflow.com/users/1492613/wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1437599620, "creation_date": 1437598273, "last_edit_date": 1437599620, "question_id": 31573752, "link": "https://stackoverflow.com/questions/31573752/is-it-possible-to-just-compile-new-version-of-tkinter", "title": "Is it possible to just compile new version of tkinter?", "body": "<p>I had built and installed a <code>Python2.7</code> locally in ubuntu 14.04. Since I upgrade my system to use <code>libtk8.6</code>, I would like to upgrade my tkinter version. However, I do not want to recompile and install all the packages from beginning.</p>\n\n<p>Is it possible to just compile the tkinter against libtk8.6 and install it into current local Python environment?</p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 1, "creation_date": 1437598098, "post_id": 31573678, "comment_id": 51102279, "body": "where is <code>asaa </code>anywhere, must be the entry username ?"}, {"owner": {"reputation": 391, "user_id": 4132888, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/bb7cacbdb2047200a0c04fa4c39594a1?s=128&d=identicon&r=PG&f=1", "display_name": "Bolshoi Booze", "link": "https://stackoverflow.com/users/4132888/bolshoi-booze"}, "reply_to_user": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 0, "creation_date": 1437598210, "post_id": 31573678, "comment_id": 51102355, "body": "it is the username that user has entered. (Btw, this &#39;asaa&#39; username exists in the username column in mysql table)"}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 2, "last_activity_date": 1437598853, "last_edit_date": 1437598853, "creation_date": 1437598149, "answer_id": 31573718, "question_id": 31573678, "link": "https://stackoverflow.com/questions/31573678/checking-whether-user-entered-username-and-password-exists-in-mysql-database/31573718#31573718", "title": "Checking whether user entered username and password exists in MYSQL database", "body": "<pre><code>mycursor.execute( loadname,a.username)\n</code></pre>\n\n<p>the query first then the args ...</p>\n\n<p>I would strongly recommend you immediatly switch to an ORM like sqlalchemy</p>\n"}, {"tags": [], "owner": {"reputation": 2647, "user_id": 248390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0defac4e8b7c8e21418a95762bc747d0?s=128&d=identicon&r=PG", "display_name": "bufh", "link": "https://stackoverflow.com/users/248390/bufh"}, "is_accepted": false, "score": 0, "last_activity_date": 1437598295, "creation_date": 1437598295, "answer_id": 31573757, "question_id": 31573678, "link": "https://stackoverflow.com/questions/31573678/checking-whether-user-entered-username-and-password-exists-in-mysql-database/31573757#31573757", "title": "Checking whether user entered username and password exists in MYSQL database", "body": "<p>i don't know \"mysql.connector\" but if it work as MySQLdb, it should be something along the lines:</p>\n\n<pre><code>mycursor=conn.cursor()\nmycursor.execute(\"select username from user where username=%s\", a.username)\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 4132888, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/bb7cacbdb2047200a0c04fa4c39594a1?s=128&d=identicon&r=PG&f=1", "display_name": "Bolshoi Booze", "link": "https://stackoverflow.com/users/4132888/bolshoi-booze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5134, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1437598853, "creation_date": 1437597992, "question_id": 31573678, "link": "https://stackoverflow.com/questions/31573678/checking-whether-user-entered-username-and-password-exists-in-mysql-database", "title": "Checking whether user entered username and password exists in MYSQL database", "body": "<p>Im new to python and I am creating a program that checks whether desired user entered username and password exists in database. Here is the code:    </p>\n\n<pre><code> import mysql.connector\n class data:\n def __init__(self):\n\n    self.usernam = input(\"Enter user name: \")\n    self.password= input(\"Enter Password: \")\n\n a=data()\n conn = mysql.connector.connect(host='localhost',user='root',passwd='root',database='user')\n\n\n loadname= (\"select username from user where username='%s'\")\n mycursor=conn.cursor()\n mycursor.execute(a.usernam, loadname)\n usercheck=mycursor.fetchone()\n loadpass= (\"select pass from user where pass ='%s'\")\n mycursor2=conncursor()\n mycursor2.execute(a.password,loadpass)\n passcheck=mycursor2.fetchone()\n\n\n if a.username == usercheck and a.password == passcheck:\n     print (\"pass\")\n\n else:\n     print (\"sorry\")\n conn.commit()\n conn.close()\n</code></pre>\n\n<p>Im getting the following errors:</p>\n\n<pre><code>   Traceback (most recent call last):\n     File \"C:\\Users\\HP\\Desktop\\2nd.py\", line 16, in &lt;module&gt;\n     mycursor.execute(a.usernam, loadname)\n     File \"C:\\Python34\\lib\\site-packages\\mysql\\connector\\cursor.py\", line                                 507, in execute\n     self._handle_result(self._connection.cmd_query(stmt))\n     File \"C:\\Python34\\lib\\site-packages\\mysql\\connector\\connection.py\", line 722, in cmd_query\n     result = self._handle_result(self._send_cmd(ServerCmd.QUERY, query))\n     File \"C:\\Python34\\lib\\site-packages\\mysql\\connector\\connection.py\", line 640, in _handle_result\n      raise errors.get_exception(packet)\n     mysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'asaa' at line 1\n</code></pre>\n"}, {"tags": ["python", "numpy", "flatten"], "comments": [{"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1437597999, "post_id": 31573661, "comment_id": 51102233, "body": "<code>flatten</code> is a method, call it."}], "answers": [{"comments": [{"owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "edited": false, "score": 1, "creation_date": 1437598277, "post_id": 31573682, "comment_id": 51102389, "body": "Wow! I did not know it is so easy to get a handle to the method. Thank you!"}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "edited": false, "score": 0, "creation_date": 1437598371, "post_id": 31573682, "comment_id": 51102443, "body": "@user1700890 - no worries :)"}], "tags": [], "owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "is_accepted": true, "score": 3, "last_activity_date": 1437598010, "creation_date": 1437598010, "answer_id": 31573682, "question_id": 31573661, "link": "https://stackoverflow.com/questions/31573661/numpy-flatten-how-to-print-output/31573682#31573682", "title": "numpy flatten - how to print output", "body": "<p>You forgot parentheses.  You need to call the method.  You're only getting a handle to the method if you omit the parentheses:</p>\n\n<pre><code>s1 = random.poisson(5,100).flatten()\n</code></pre>\n\n<p>However, for completeness, you <em>can</em> do this... but probably shouldn't for code readability:</p>\n\n<pre><code>s1 = random.poisson(5,100).flatten\nprint(s1()) # &lt;-- Calling the function\n</code></pre>\n\n<p><code>s1</code> would contain the actual <code>flatten</code> method, and you can call it by doing <code>s1()</code>.</p>\n"}], "owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1063, "favorite_count": 0, "accepted_answer_id": 31573682, "answer_count": 1, "score": 2, "last_activity_date": 1437598115, "creation_date": 1437597917, "last_edit_date": 1437598115, "question_id": 31573661, "link": "https://stackoverflow.com/questions/31573661/numpy-flatten-how-to-print-output", "title": "numpy flatten - how to print output", "body": "<p>I need to turn array into vector. Here is my code.</p>\n\n<pre><code>from numpy import *\ns1 = random.poisson(5,100).flatten\nprint(s1)\n</code></pre>\n\n<p>the output</p>\n\n<pre><code>&lt;built-in method flatten of numpy.ndarray object at 0x0508DE80&gt;\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "python-3.x", "scipy", "healpy"], "answers": [{"tags": [], "owner": {"reputation": 2207, "user_id": 4874233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAIXK.jpg?s=128&g=1", "display_name": "Daniel Lenz", "link": "https://stackoverflow.com/users/4874233/daniel-lenz"}, "is_accepted": false, "score": 2, "last_activity_date": 1558722329, "last_edit_date": 1558722329, "creation_date": 1508646011, "answer_id": 46870460, "question_id": 31573572, "link": "https://stackoverflow.com/questions/31573572/healpy-from-data-to-healpix-map/46870460#46870460", "title": "Healpy: From Data to Healpix map", "body": "<p>There you go, hope it's what you're looking for. Feel free to comment with questions :)</p>\n\n<pre><code>import healpy as hp\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Set the number of sources and the coordinates for the input\nnsources = int(1.e4)\nnside = 16\nnpix = hp.nside2npix(nside)\n\n# Coordinates and the density field f\nthetas = np.random.random(nsources) * np.pi\nphis = np.random.random(nsources) * np.pi * 2.\nfs = np.random.randn(nsources)\n\n# Go from HEALPix coordinates to indices\nindices = hp.ang2pix(nside, thetas, phis)\n\n# Initate the map and fill it with the values\nhpxmap = np.zeros(npix, dtype=np.float)\nfor i in range(nsources):\n    hpxmap[indices[i]] += fs[i]\n\n# Inspect the map\nhp.mollview(hpxmap)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/LAjAt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LAjAt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Since the map above contains nothing but noise, the power spectrum should just contain shot noise, i.e. be flat.</p>\n\n<pre><code># Get the power spectrum\nCl = hp.anafast(hpxmap)\nplt.figure()\nplt.plot(Cl)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Tk2Eq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tk2Eq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 623453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf4f559484a0203d68d9bf49e25d2fc?s=128&d=identicon&r=PG", "display_name": "ampw", "link": "https://stackoverflow.com/users/623453/ampw"}, "is_accepted": false, "score": 2, "last_activity_date": 1572311722, "creation_date": 1572311722, "answer_id": 58600295, "question_id": 31573572, "link": "https://stackoverflow.com/questions/31573572/healpy-from-data-to-healpix-map/58600295#58600295", "title": "Healpy: From Data to Healpix map", "body": "<p>There is a faster way to do the map initialization using <code>numpy.add.at</code>, following <a href=\"https://stackoverflow.com/a/23914036/623453\">this answer</a>.</p>\n\n<p>This is several times faster on my machine as compared to the first section of <a href=\"https://stackoverflow.com/a/46870460/623453\">Daniel's excellent answer</a>:</p>\n\n<pre><code>import healpy as hp\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# Set the number of sources and the coordinates for the input\nnsources = int(1e7)\nnside = 64\nnpix = hp.nside2npix(nside)\n\n# Coordinates and the density field f\nthetas = np.random.uniform(0, np.pi, nsources)\nphis = np.random.uniform(0, 2*np.pi, nsources)\nfs = np.random.randn(nsources)\n\n# Go from HEALPix coordinates to indices\nindices = hp.ang2pix(nside, thetas, phis)\n\n# Baseline, from Daniel Lenz's answer:\n# time: ~5 s\nhpxmap1 = np.zeros(npix, dtype=np.float)\nfor i in range(nsources):\n    hpxmap1[indices[i]] += fs[i]\n\n# Using numpy.add.at\n# time: ~0.6 ms\nhpxmap2 = np.zeros(npix, dtype=np.float)\nnp.add.at(hpxmap2, indices, fs)\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 3188290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8fefa0928e6dd9cb68098093fed79e0?s=128&d=identicon&r=PG&f=1", "display_name": "user3188290", "link": "https://stackoverflow.com/users/3188290/user3188290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2522, "favorite_count": 2, "answer_count": 2, "score": 9, "last_activity_date": 1572311722, "creation_date": 1437597591, "last_edit_date": 1437619148, "question_id": 31573572, "link": "https://stackoverflow.com/questions/31573572/healpy-from-data-to-healpix-map", "title": "Healpy: From Data to Healpix map", "body": "<p>I have a data grid where the rows represent theta (0, pi) and the columns represent phi (0, 2*pi) and where f(theta,phi) is the density of dark matter at that location. I wanted to calculate the power spectrum for this and have decided to use healpy.</p>\n\n<p>What I can not understand is how to format my data for healpy to use. If someone could provide code (in python for obvious reasons) or point me to a tutorial, that would be great! I have tried my hand at doing it with the following code:</p>\n\n<pre><code>#grid dimensions are Nrows*Ncols (subject to change)\ntheta = np.linspace(0, np.pi, num=grid.shape[0])[:, None]\nphi = np.linspace(0, 2*np.pi, num=grid.shape[1])\nnside = 512\nprint \"Pixel area: %.2f square degrees\" % hp.nside2pixarea(nside, degrees=True)\npix = hp.ang2pix(nside, theta, phi)\nhealpix_map = np.zeros(hp.nside2npix(nside), dtype=np.double)\nhealpix_map[pix] = grid \n</code></pre>\n\n<p>But, when I try to execute the code to do the power spectrum. Specifically, :</p>\n\n<pre><code>cl = hp.anafast(healpix_map[pix], lmax=1024)\n</code></pre>\n\n<p>I get this error:</p>\n\n<p>TypeError: bad number of pixels </p>\n\n<p>If anyone could point me to a good tutorial or help edit my code that would be great. </p>\n\n<p>More specifications:\nmy data is in a 2d np array and I can change the numRows/numCols if I need to.</p>\n\n<p>Edit:</p>\n\n<p>I have solved this problem by first changing the args of anafast to healpix_map.\nI also improved the spacing by making my Nrows*Ncols=12*nside*nside. \nBut, my power spectrum is still giving errors. If anyone has links to good documentation/tutorial on how to calculate the power spectrum (condition of theta/phi args), that would be incredibly helpful. </p>\n"}, {"tags": ["python", "regex", "text-processing"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5112914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PaXME.jpg?s=128&g=1", "display_name": "TKS", "link": "https://stackoverflow.com/users/5112914/tks"}, "edited": false, "score": 0, "creation_date": 1437598961, "post_id": 31573540, "comment_id": 51102741, "body": "Thank you so much for your suggestions. My apologies, I made a couple edits. How would you suggest skipping lines that have blah in them?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 25, "user_id": 5112914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PaXME.jpg?s=128&g=1", "display_name": "TKS", "link": "https://stackoverflow.com/users/5112914/tks"}, "edited": false, "score": 0, "creation_date": 1437599062, "post_id": 31573540, "comment_id": 51102792, "body": "@TKS,split and check the length, I eddited again"}, {"owner": {"reputation": 25, "user_id": 5112914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PaXME.jpg?s=128&g=1", "display_name": "TKS", "link": "https://stackoverflow.com/users/5112914/tks"}, "edited": false, "score": 1, "creation_date": 1437599760, "post_id": 31573540, "comment_id": 51103154, "body": "Bingo! Worked like a charm. Thank you so much!"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 3, "last_activity_date": 1437599045, "last_edit_date": 1437599045, "creation_date": 1437597474, "answer_id": 31573540, "question_id": 31573495, "link": "https://stackoverflow.com/questions/31573495/python-how-to-skip-lines-that-have-extra-characters-while-using-regular-express/31573540#31573540", "title": "Python: How to skip lines that have extra characters while using Regular Expressions?", "body": "<p>Based on your edit you can definitely split:</p>\n\n<pre><code>with open(\"in.txt\") as f:\n    for line in f:\n        if line.startswith(\"DATE/USER:\"):\n            spl = line.split()\n            if len(spl) == 3:\n                print(spl[2])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>string1\nstring2\nstring3\nstring4\nstring6\nstring7\nstring9\n</code></pre>\n\n<p>using re:</p>\n\n<pre><code>with open(\"in.txt\") as f:\n    import re\n    r = re.compile(r'(^DATE/USER:\\s+\\d+/\\d+/\\d+\\s+(\\w+$))')\n    for line in f:\n        match = r.search(line)\n        if match:\n           print(match.group(2))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>string1\nstring2\nstring3\nstring4\nstring6\nstring7\nstring9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 2, "last_activity_date": 1437597651, "creation_date": 1437597651, "answer_id": 31573583, "question_id": 31573495, "link": "https://stackoverflow.com/questions/31573495/python-how-to-skip-lines-that-have-extra-characters-while-using-regular-express/31573583#31573583", "title": "Python: How to skip lines that have extra characters while using Regular Expressions?", "body": "<pre><code>re.findall('DATE/USER: \\d\\d/\\d\\d/\\d\\d\\s+([A-Z])', line)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1558, "user_id": 3583715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b78414f3d877e8bca674b3a2aebe7e9?s=128&d=identicon&r=PG&f=1", "display_name": "rkh", "link": "https://stackoverflow.com/users/3583715/rkh"}, "is_accepted": false, "score": 1, "last_activity_date": 1437598081, "creation_date": 1437598081, "answer_id": 31573697, "question_id": 31573495, "link": "https://stackoverflow.com/questions/31573495/python-how-to-skip-lines-that-have-extra-characters-while-using-regular-express/31573697#31573697", "title": "Python: How to skip lines that have extra characters while using Regular Expressions?", "body": "<p>The '$' below will actually exclude any of the lines that have * blah * after them:</p>\n\n<pre><code>rphfind = re.findall('(?&lt;=DATE/USER: \\d\\d/\\d\\d/\\d\\d)\\s+([A-Z])$', line)\n</code></pre>\n\n<p>will only match A,B,C,D,F,G,I </p>\n\n<p>The capture group ([A-Z]) will just grab that single capital letter, but will still allow any line to match (prints A through J in your example)</p>\n\n<pre><code>rphfind = re.findall('(?&lt;=DATE/USER: \\d\\d/\\d\\d/\\d\\d)\\s+([A-Z])', line)\n</code></pre>\n\n<p>Not exactly sure which version you were looking for</p>\n"}], "owner": {"reputation": 25, "user_id": 5112914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PaXME.jpg?s=128&g=1", "display_name": "TKS", "link": "https://stackoverflow.com/users/5112914/tks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 31573540, "answer_count": 3, "score": 2, "last_activity_date": 1437599245, "creation_date": 1437597336, "last_edit_date": 1437598514, "question_id": 31573495, "link": "https://stackoverflow.com/questions/31573495/python-how-to-skip-lines-that-have-extra-characters-while-using-regular-express", "title": "Python: How to skip lines that have extra characters while using Regular Expressions?", "body": "<p>When using Regular Expressions, how do you select only text from lines that do not have extra text after your text of interest?</p>\n\n<p>For the following input text, I'd like to select only string1 through string10 and skip strings that have \"blah\" on the same line.</p>\n\n<p>Input text file:</p>\n\n<pre><code>[random lines of text]\nDATE/USER: 07/01/15   string1\n[random lines of text]\nDATE/USER: 07/12/15   string2\n[random lines of text]\nDATE/USER: 07/04/15   string3\n[random lines of text]\nDATE/USER: 07/12/15   string4\n[random lines of text]\nDATE/USER: 07/05/15   string5      * blah1 *\n[random lines of text]\nDATE/USER: 07/02/15   string6\n[random lines of text]\nDATE/USER: 07/08/15   string7\n[random lines of text]\nDATE/USER: 07/11/15   string8      * blah2 *\n[random lines of text]\nDATE/USER: 07/03/15   string9\n[random lines of text]\nDATE/USER: 07/10/15   string10      * blah3 *\n[random lines of text]\n</code></pre>\n\n<p>My current code:</p>\n\n<pre><code>rphfind = re.findall('(?&lt;=DATE/USER: \\d\\d/\\d\\d/\\d\\d).+', line)\n    if rphfind:\n    print rphfind[0].strip()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>string1\nstring2\nstring3\nstring4\nstring5      * blah1 *\nstring6\nstring7\nstring8      * blah2 *\nstring9\nstring10      * blah3 *\n</code></pre>\n\n<p>Again, only trying to grab the strings and skip those that have \"blah\" on the same lines. My output should exclude string5, string 8, and string10.</p>\n\n<p>Edit: Apologies. Made a couple edits to refine what I'm asking to achieve.</p>\n"}, {"tags": ["javascript", "python", "django", "web"], "comments": [{"owner": {"reputation": 19107, "user_id": 216356, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dc105cdd75395154274f9da3d7612a9f?s=128&d=identicon&r=PG", "display_name": "Noctis Skytower", "link": "https://stackoverflow.com/users/216356/noctis-skytower"}, "edited": false, "score": 0, "creation_date": 1437601532, "post_id": 31573410, "comment_id": 51103981, "body": "&quot;Java-based website in Python&quot; Do you mean you are using Jython?"}, {"owner": {"reputation": 91, "user_id": 4996390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QqvXq.jpg?s=128&g=1", "display_name": "Rae", "link": "https://stackoverflow.com/users/4996390/rae"}, "reply_to_user": {"reputation": 19107, "user_id": 216356, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dc105cdd75395154274f9da3d7612a9f?s=128&d=identicon&r=PG", "display_name": "Noctis Skytower", "link": "https://stackoverflow.com/users/216356/noctis-skytower"}, "edited": false, "score": 0, "creation_date": 1437601614, "post_id": 31573410, "comment_id": 51104014, "body": "@NoctisSkytower I meant I am writing a website in Python based off of an existing website that&#39;s written in Java! Sorry I didn&#39;t make myself clear."}], "answers": [{"tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": false, "score": 0, "last_activity_date": 1437597475, "creation_date": 1437597475, "answer_id": 31573542, "question_id": 31573410, "link": "https://stackoverflow.com/questions/31573410/integration-of-javascript-with-django/31573542#31573542", "title": "Integration of Javascript with Django", "body": "<p>Yes, you just need to put your <code>script.js</code> in your <code>/static/</code> folder.</p>\n\n<pre><code>static/\n  js/\n    script.js\n</code></pre>\n\n<p>In your templates you call it</p>\n\n<pre><code>...\n&lt;script src={% static 'js/script.js' %}&gt;&lt;/script&gt;\n...\n</code></pre>\n\n<p>And that's all, you are able to use <code>gatewayGetAllInformation</code> and <code>gatewayGetShifts</code> functions.</p>\n\n<p>But keep in mind update the constants values inside <code>script.js</code></p>\n"}, {"tags": [], "owner": {"reputation": 3716, "user_id": 1202697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7e30740d9c2e688190e79b4eca0268?s=128&d=identicon&r=PG", "display_name": "Alexis N-o", "link": "https://stackoverflow.com/users/1202697/alexis-n-o"}, "is_accepted": true, "score": 2, "last_activity_date": 1437598434, "last_edit_date": 1437598434, "creation_date": 1437598113, "answer_id": 31573704, "question_id": 31573410, "link": "https://stackoverflow.com/questions/31573410/integration-of-javascript-with-django/31573704#31573704", "title": "Integration of Javascript with Django", "body": "<p>You can put your javascript files in the static folder.</p>\n\n<pre><code>&lt;!-- on top of the template file --&gt;\n{% load static %}\n\n&lt;!-- Where you want to load the javascript file template file --&gt;\n&lt;script type=\"text/javascript\" src=\"{% static 'path/to/your/file.js' %}\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><code>path/to/your/file.js</code> is a path relative to the <code>static</code> folder.</p>\n\n<p>You should use <a href=\"http://django-compressor.readthedocs.org/en/latest/\" rel=\"nofollow\">django-compressor</a> to minify your files on production environment.</p>\n\n<p>As long as the routes you defined in the Django app are the same that in the Java app for the AJAX calls, you shouldn't have to change the content of your javascript file.</p>\n"}], "owner": {"reputation": 91, "user_id": 4996390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QqvXq.jpg?s=128&g=1", "display_name": "Rae", "link": "https://stackoverflow.com/users/4996390/rae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3642, "favorite_count": 1, "accepted_answer_id": 31573704, "answer_count": 2, "score": 2, "last_activity_date": 1437598434, "creation_date": 1437597044, "question_id": 31573410, "link": "https://stackoverflow.com/questions/31573410/integration-of-javascript-with-django", "title": "Integration of Javascript with Django", "body": "<p>I am rewriting an existing Java-based website in Python. After much research, I've settled on using Django and have so far made some good progress with the project.</p>\n\n<p>I am, however, stuck trying to use some of the codes from the previous website. I am especially interested in using the <code>scripts.js</code> file which seems to have all the necessary JavaScript functions for the website, but not sure how to integrate it with my Django project.</p>\n\n<p>Would I be able to just simply put this file in my <code>static</code> folder and refer to the functions from individual apps? If so, how would I call the functions? Would I have to make any changes to the file given that it now has to work with a Python-based website, as opposed to a Java-based website?</p>\n\n<p>I'm also attaching a snippet of the <code>scripts.js</code> file to give you an idea of what the functions look like.</p>\n\n<pre><code>function gatewayGetAllInformation(){\n    if(controlsLocked) {\n        return;\n    }\n    lockControls();\n    getFiles();\n    gatewayGetShifts();\n    getCatNews();\n    getDepNews();\n    getSales();\n    getPermanentSales();\n    adminGetUsers();\n    unlockControls();\n};\n\nfunction gatewayGetShifts(){\n    var url = root +\"/AjaxResponder?action=getShifts\";\n    var xmlHttp = GetXmlHttpObject();\n    xmlHttp.onreadystate = function() {\n        if(xmlHttp.readyState == 4) {\n            if(xmlHttp.status == 200) {\n                var shiftsHTML =gatewayParseShifts(xmlHttp.responseXML);\n                setInnerHTML(\"upcomingShiftsList\",shiftsHTML); // added semicolon\n            }\n            else {\n                setInnerHTML(\"upcomingShiftsList\", \"Error Getting Users\");\n            }\n        }\n    };\n    xmlHttp.open(\"POST\", url, true);\n    xmlHttp.send(null);\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas", "dask"], "comments": [{"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 1, "creation_date": 1437597202, "post_id": 31573399, "comment_id": 51101792, "body": "first of all, <code>dask</code> doesn&#39;t help in your case, because your problem is I/O and memory bound instead of CPU bound, and <code>dask</code> is based on <code>multiprocessing</code> module."}, {"owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 0, "creation_date": 1437603585, "post_id": 31573399, "comment_id": 51104862, "body": "Dask can use threading, multiprocessing, or distributed computing.  In his case though he needs none of these, merely a way to intelligently handle streaming data from disk."}, {"owner": {"reputation": 4335, "user_id": 1898534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XKxNa.jpg?s=128&g=1", "display_name": "PlagTag", "link": "https://stackoverflow.com/users/1898534/plagtag"}, "edited": false, "score": 0, "creation_date": 1437644715, "post_id": 31573399, "comment_id": 51119916, "body": "whats about using the apply method?"}], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 3137396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/66cd605c1e3fbb4acc4bbe854ecf0333?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3137396/christopher"}, "edited": false, "score": 0, "creation_date": 1437598848, "post_id": 31573647, "comment_id": 51102686, "body": "Wow.  This is incredibly mind numbingly fast.  Using python3 I ended up with:   <code>df[&#39;course_combined&#39;] = [str(a).join(b) for (a, b) in itertools.zip_longest(df[&#39;col1&#39;], df[&#39;col2&#39;])]</code>  Pandas must be doing something very inefficient with iloc, I would have thought that would have been a fast but ugly way to iterate over the dataframe."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 4, "last_activity_date": 1437597882, "creation_date": 1437597882, "answer_id": 31573647, "question_id": 31573399, "link": "https://stackoverflow.com/questions/31573399/how-to-deal-with-modifying-large-pandas-dataframes/31573647#31573647", "title": "How to deal with modifying large pandas dataframes", "body": "<p>I would try using list comprehension + <a href=\"https://docs.python.org/2/library/itertools.html\" rel=\"nofollow\"><code>itertools</code></a>:</p>\n\n<pre><code>df = pd.DataFrame({\n    'a': ['ab'] * 200,\n    'b': ['ffff'] * 200\n})\n\n\nimport itertools\n\n[a.join(b) for (a, b) in itertools.izip(df.a, df.b)]\n</code></pre>\n\n<p>It might be \"unpandas\", but pandas doesn't seem to have a <code>.str</code> method that helps you here, and it isn't \"unpythonic\".</p>\n\n<p>To create another column, just use:</p>\n\n<pre><code>df['c'] = [a.join(b) for (a, b) in itertools.izip(df.a, df.b)]\n</code></pre>\n\n<p>Incidentally, you can also get your chunking using:</p>\n\n<pre><code>[a.join(b) for (a, b) in itertools.izip(df.a[10: 20], df.b[10: 20])]\n</code></pre>\n\n<p>If you'd like to play with parallelization. I would first try the above version, as list comprehension and itertools are often surprisingly fast, and parallelization would require an overhead that would need to be outweighed.</p>\n"}, {"tags": [], "owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "is_accepted": false, "score": 1, "last_activity_date": 1437603942, "creation_date": 1437603942, "answer_id": 31575117, "question_id": 31573399, "link": "https://stackoverflow.com/questions/31573399/how-to-deal-with-modifying-large-pandas-dataframes/31575117#31575117", "title": "How to deal with modifying large pandas dataframes", "body": "<p>One nice way to create a new column in <a href=\"http://pandas.pydata.org\" rel=\"nofollow\"><code>pandas</code></a> or <a href=\"http://dask.pydata.org/en/latest/dataframe.html\" rel=\"nofollow\"><code>dask.dataframe</code></a>  is with the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.assign.html\" rel=\"nofollow\"><code>.assign</code></a> method.</p>\n\n<pre><code>In [1]: import pandas as pd\n\nIn [2]: df = pd.DataFrame({'x': [1, 2, 3, 4], 'y': ['a', 'b', 'a', 'b']})\n\nIn [3]: df\nOut[3]: \n   x  y\n0  1  a\n1  2  b\n2  3  a\n3  4  b\n\nIn [4]: df.assign(z=df.x * df.y)\nOut[4]: \n   x  y     z\n0  1  a     a\n1  2  b    bb\n2  3  a   aaa\n3  4  b  bbbb\n</code></pre>\n\n<p>However, if your operation is highly custom (as it appears to be) and if Python iterators are fast enough (as they seem to be) then you might just want to stick with that.  Anytime you find yourself using <code>apply</code> or <code>iloc</code> in a loop it's likely that Pandas is operating much slower than is optimal.</p>\n"}], "owner": {"reputation": 463, "user_id": 3137396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/66cd605c1e3fbb4acc4bbe854ecf0333?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3137396/christopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 3, "accepted_answer_id": 31573647, "answer_count": 2, "score": 5, "last_activity_date": 1437603942, "creation_date": 1437597000, "question_id": 31573399, "link": "https://stackoverflow.com/questions/31573399/how-to-deal-with-modifying-large-pandas-dataframes", "title": "How to deal with modifying large pandas dataframes", "body": "<p>I have a largish pandas dataframe (1.5gig .csv on disk).  I can load it into memory and query it.  I want to create a new column that is combined value of two other columns, and I tried this:</p>\n\n<pre><code>def combined(row):\n    row['combined'] = row['col1'].join(str(row['col2']))\nreturn row\n\ndf = df.apply(combined, axis=1)\n</code></pre>\n\n<p>This results in my python process being killed, presumably because of memory issues.</p>\n\n<p>A more iterative solution to the problem seems to be:</p>\n\n<pre><code>df['combined'] = ''\ncol_pos = list(df.columns).index('combined')\ncrs_pos = list(df.columns).index('col1')\nsub_pos = list(df.columns).index('col2')\n\nfor row_pos in range(0, len(df) - 1):\n    df.iloc[row_pos, col_pos] = df.iloc[row_pos, sub_pos].join(str(df.iloc[row_pos, crs_pos]))\n</code></pre>\n\n<p>This of course seems very unpandas.  And is very slow.</p>\n\n<p>Ideally I would like something like <code>apply_chunk()</code> which is the same as apply but only works on a piece of the dataframe.  I thought <code>dask</code> might be an option for this, but <code>dask</code> dataframes seemed to have other issues when I used them.  This has to be a common problem though, is there a design pattern I should be using for adding columns to large pandas dataframes?</p>\n"}, {"tags": ["python", "python-multiprocessing"], "comments": [{"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439189627, "post_id": 31573347, "comment_id": 51739704, "body": "Did one of the answers solve your problem? If so, please accept it :)."}], "answers": [{"tags": [], "owner": {"reputation": 812, "user_id": 2867076, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100003035657402/picture?type=large", "display_name": "Hannes Karppila", "link": "https://stackoverflow.com/users/2867076/hannes-karppila"}, "is_accepted": false, "score": 0, "last_activity_date": 1437598412, "creation_date": 1437598412, "answer_id": 31573791, "question_id": 31573347, "link": "https://stackoverflow.com/questions/31573347/python-writing-multiprocess-shared-list-in-background/31573791#31573791", "title": "Python: Writing multiprocess shared list in background", "body": "<p>I think that your main problem with increasing memory usage is that you don't remove contents from that list when writing them to file. \nMaybe you should do <code>del output_list[:]</code> after writing it to file.</p>\n"}, {"tags": [], "owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "is_accepted": false, "score": 0, "last_activity_date": 1437600464, "creation_date": 1437600464, "answer_id": 31574294, "question_id": 31573347, "link": "https://stackoverflow.com/questions/31573347/python-writing-multiprocess-shared-list-in-background/31574294#31574294", "title": "Python: Writing multiprocess shared list in background", "body": "<p>Have each of the workers write their output to a <a href=\"https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue\" rel=\"nofollow\">Queue</a>, then have another worker (or the main thread) read from the Queue and write to a file. That way you don't have to store everything in memory.</p>\n\n<p><strong>Don't write directly to the file from the workers</strong>; otherwise you can have issues with multiple processes trying to write to the same file at the same time, which will just give you a headache until you fix it anyway.</p>\n"}], "owner": {"reputation": 1, "user_id": 5145278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d49c2ac9b0f06886b139a78fdb274d?s=128&d=identicon&r=PG&f=1", "display_name": "r0bst3r", "link": "https://stackoverflow.com/users/5145278/r0bst3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437600464, "creation_date": 1437596815, "question_id": 31573347, "link": "https://stackoverflow.com/questions/31573347/python-writing-multiprocess-shared-list-in-background", "title": "Python: Writing multiprocess shared list in background", "body": "<p>I believe I am about to ask a definite newbie question, but here goes:</p>\n\n<p>I written a python script that does snmp queries. The snmp query function uses a global list as its output.</p>\n\n<pre><code>def get_snmp(community_string, mac_ip):\n    global output_list\n\n    snmp get here\n\n    output_list.append(output_string)\n</code></pre>\n\n<p>The get_snmp querier's are launched using the following code:</p>\n\n<pre><code>pool.starmap_async(get_snmp, zip(itertools.repeat(COMMUNITY_STRING),    input_list))\npool.close()\npool.join()\n\nif output_file_name != None:\n        csv_writer(output_list, output_file_name)\n</code></pre>\n\n<p>This setup works fine, all of the get_snmp process write their output out to a shared list output_list, and then the csv_write function is called and that list is dumped to disk.</p>\n\n<p>The main issue with this program is on a large run the memory usage can become quite high as the list is being built.  I would like to write the results to the text file in the background to keep memory usage down, and I'm not sure how to do it.  I went with the global list to eliminate file locking issues.</p>\n"}, {"tags": ["python", "numpy", "matrix", "convolution"], "answers": [{"comments": [{"owner": {"reputation": 1026, "user_id": 4255477, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f2479decdc82a5135f9b1fc128e0930?s=128&d=identicon&r=PG&f=1", "display_name": "Litwos", "link": "https://stackoverflow.com/users/4255477/litwos"}, "edited": false, "score": 0, "creation_date": 1437640689, "post_id": 31575018, "comment_id": 51117380, "body": "Thanks for the answer. I will try to print each line in the for loops so I can understand it better!"}, {"owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "reply_to_user": {"reputation": 1026, "user_id": 4255477, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f2479decdc82a5135f9b1fc128e0930?s=128&d=identicon&r=PG&f=1", "display_name": "Litwos", "link": "https://stackoverflow.com/users/4255477/litwos"}, "edited": false, "score": 0, "creation_date": 1437683031, "post_id": 31575018, "comment_id": 51146407, "body": "@Litwos: Thanks for accepting, I shouldn&#39;t have been snarky.  In general, it is helpful to accept answers to show others that the question is answered.  (Of course, you shouldn&#39;t feel compelled to accept an incomplete or unsatisfactory answer either; though, at the same time, this question was too open-ended to really have a truly complete answer.)"}], "tags": [], "owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "is_accepted": true, "score": 1, "last_activity_date": 1437622735, "last_edit_date": 1437622735, "creation_date": 1437603517, "answer_id": 31575018, "question_id": 31573291, "link": "https://stackoverflow.com/questions/31573291/does-this-function-compute-convolution-correctly/31575018#31575018", "title": "Does this function compute convolution correctly?", "body": "<p>Yes, that function computes the convolution correctly.  You can check this using <code>scipy.signal.convolve2d</code></p>\n\n<pre><code>import numpy as np\nfrom scipy.signal import convolve2d\n\nkernel = np.array([(1, 1, -1), (1, 0, -1), (1, -1, -1)])\nfile = np.ones((5,5))\n\nx = convolve2d(file, kernel)\nprint x\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre><code>[[ 1.  2.  1.  1.  1.  0. -1.]\n [ 2.  3.  1.  1.  1. -1. -2.]\n [ 3.  3.  0.  0.  0. -3. -3.]\n [ 3.  3.  0.  0.  0. -3. -3.]\n [ 3.  3.  0.  0.  0. -3. -3.]\n [ 2.  1. -1. -1. -1. -3. -2.]\n [ 1.  0. -1. -1. -1. -2. -1.]]\n</code></pre>\n\n<p>It's impossible to know how to explain all this to you since I don't know where to start, and I don't know how all the other explanations aren't working for you.  I think, though, that you are doing all of this as a learning exercise so you can figure this out for yourself.  From what I've seen on SO, asking big questions on SO is not a substitute for working it through yourself.</p>\n\n<p>Your specific question of why does </p>\n\n<pre><code>h[0,0] = 0 \n</code></pre>\n\n<p>in your calculation not match this matrix is a good one.  In fact, both are correct. The reason for mismatch is that the output of the convolution doesn't have the mathematical indices specified, but instead they are implied.  The center, which is mathematically indicated by the indices <code>[0,0]</code> corresponds to <code>x[3,3]</code> in the matrix above.</p>\n"}], "owner": {"reputation": 1026, "user_id": 4255477, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f2479decdc82a5135f9b1fc128e0930?s=128&d=identicon&r=PG&f=1", "display_name": "Litwos", "link": "https://stackoverflow.com/users/4255477/litwos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1248, "favorite_count": 0, "accepted_answer_id": 31575018, "answer_count": 1, "score": 1, "last_activity_date": 1437622735, "creation_date": 1437596625, "last_edit_date": 1437597267, "question_id": 31573291, "link": "https://stackoverflow.com/questions/31573291/does-this-function-compute-convolution-correctly", "title": "Does this function compute convolution correctly?", "body": "<p>I need to write a basic function that computes a 2D convolution between a matrix and a kernel.\nI have recently got into Python, so I'm sorry for my mistakes.\nMy dissertation teacher said that I should write one by myself so I can handle it better and to be able to modify it for future improvements.\nI have found an example of this function on a website, but I don't understand how the returned values are obtained.</p>\n\n<p>This is the code (from <a href=\"http://docs.cython.org/src/tutorial/numpy.html\" rel=\"nofollow\">http://docs.cython.org/src/tutorial/numpy.html</a> )</p>\n\n<pre><code>from __future__ import division\nimport numpy as np\ndef naive_convolve(f, g):\n    # f is an image and is indexed by (v, w)\n    # g is a filter kernel and is indexed by (s, t),\n    #   it needs odd dimensions\n    # h is the output image and is indexed by (x, y),\n    #   it is not cropped\n    if g.shape[0] % 2 != 1 or g.shape[1] % 2 != 1:\n        raise ValueError(\"Only odd dimensions on filter supported\")\n    # smid and tmid are number of pixels between the center pixel\n    # and the edge, ie for a 5x5 filter they will be 2.\n    #\n    # The output size is calculated by adding smid, tmid to each\n    # side of the dimensions of the input image.\n    vmax = f.shape[0]\n    wmax = f.shape[1]\n    smax = g.shape[0]\n    tmax = g.shape[1]\n    smid = smax // 2\n    tmid = tmax // 2\n    xmax = vmax + 2*smid\n    ymax = wmax + 2*tmid\n    # Allocate result image.\n    h = np.zeros([xmax, ymax], dtype=f.dtype)\n    # Do convolution\n    for x in range(xmax):\n        for y in range(ymax):\n            # Calculate pixel value for h at (x,y). Sum one component\n            # for each pixel (s, t) of the filter g.\n            s_from = max(smid - x, -smid)\n            s_to = min((xmax - x) - smid, smid + 1)\n            t_from = max(tmid - y, -tmid)\n            t_to = min((ymax - y) - tmid, tmid + 1)\n            value = 0\n            for s in range(s_from, s_to):\n                for t in range(t_from, t_to):\n                    v = x - smid + s\n                    w = y - tmid + t\n                    value += g[smid - s, tmid - t] * f[v, w]\n            h[x, y] = value\n    return h\n</code></pre>\n\n<p>I don't know if this function does the weighted sum from input and filter, because I see no sum here.\nI applied this with</p>\n\n<pre><code>kernel = np.array([(1, 1, -1), (1, 0, -1), (1, -1, -1)])\nfile = np.ones((5,5))\nnaive_convolve(file, kernel)\n</code></pre>\n\n<p>I got this matrix:</p>\n\n<pre><code>[[ 1.  2.  1.  1.  1.  0. -1.]\n [ 2.  3.  1.  1.  1. -1. -2.]\n [ 3.  3.  0.  0.  0. -3. -3.]\n [ 3.  3.  0.  0.  0. -3. -3.]\n [ 3.  3.  0.  0.  0. -3. -3.]\n [ 2.  1. -1. -1. -1. -3. -2.]\n [ 1.  0. -1. -1. -1. -2. -1.]]\n</code></pre>\n\n<p>I tried to do a manual calculation (on paper) for the first full iteration of the function and I got 'h[0,0] = 0', because of the matrix product: 'filter[0, 0] * matrix[0, 0]', but the function returns 1. I am very confused with this.\nIf anyone can help me understand what is going on here, I would be very grateful. Thanks! :)</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "edited": false, "score": 0, "creation_date": 1437596637, "post_id": 31573252, "comment_id": 51101424, "body": "y=[[(j,i) for i in x] for j in x] works. But I am assuming it is not efficient enough for your purposes?"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1437596664, "post_id": 31573252, "comment_id": 51101437, "body": "Could you be more specific?  Nothing you&#39;ve shown is an array -- you have a list, and then a list of lists of tuples -- and your output object would need to be a 3D array, not a 2D array, in numpy if the underlying elements are intended to be integers."}, {"owner": {"reputation": 1430, "user_id": 3681744, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6921bacfad9bc18fc661bd14c17082d3?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/3681744/a-m"}, "reply_to_user": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "edited": false, "score": 0, "creation_date": 1437596807, "post_id": 31573252, "comment_id": 51101536, "body": "@AkshatHarit Thanks."}, {"owner": {"reputation": 1430, "user_id": 3681744, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6921bacfad9bc18fc661bd14c17082d3?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/3681744/a-m"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1437596870, "post_id": 31573252, "comment_id": 51101582, "body": "@DSM I am basically looking for sorted list of tuples. I have also edited the 3D thing. Thanks."}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "reply_to_user": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "edited": false, "score": 0, "creation_date": 1437597183, "post_id": 31573252, "comment_id": 51101781, "body": "A.M.: I don&#39;t think you&#39;re following the difference between Python native types (which can contain different objects) and numpy&#39;s array type (which can&#39;t, not really).  On the bright side I think both @AkshatHarit&#39;s suggestion and the linked answer should give you what you need."}, {"owner": {"reputation": 1430, "user_id": 3681744, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6921bacfad9bc18fc661bd14c17082d3?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/3681744/a-m"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1437597231, "post_id": 31573252, "comment_id": 51101809, "body": "@DSM You are right. Both of them are very useful. Thanks :)"}], "owner": {"reputation": 1430, "user_id": 3681744, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6921bacfad9bc18fc661bd14c17082d3?s=128&d=identicon&r=PG&f=1", "display_name": "A.M.", "link": "https://stackoverflow.com/users/3681744/a-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1437596644, "answer_count": 0, "score": 1, "last_activity_date": 1437597273, "creation_date": 1437596472, "last_edit_date": 1437597273, "question_id": 31573252, "link": "https://stackoverflow.com/questions/31573252/1d-to-3d-array-conversion", "closed_reason": "Duplicate", "title": "1D to 3D Array Conversion", "body": "<p>Is there any efficient way to convert a 1D array like </p>\n\n<pre><code>[1,2,3] \n</code></pre>\n\n<p>to a 3D array like </p>\n\n<pre><code>[[(1,1),(1,2),(1,3)],\n [(2,1),(2,2),(2,3)],\n [(3,1),(3,2),(3,3)]]\n</code></pre>\n\n<p>in Numpy/Python? </p>\n"}, {"tags": ["python", "xml", "deployment", "xsd"], "answers": [{"comments": [{"owner": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1437598428, "post_id": 31573369, "comment_id": 51102479, "body": "&quot;Yes, it really can be used to locate and load the XSD file that the XML is supposed to adhere to.&quot; How? If I have the function <code>validateXML(schema, xmlFile)</code> how do I get the name of the XSD file and pass it as <code>schema</code>?"}, {"owner": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "reply_to_user": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1437599753, "post_id": 31573369, "comment_id": 51103148, "body": "The XML parser will read it from <code>schemaLocation</code> or <code>noNamespaceSchemaLocation</code>.  Just be sure that you&#39;ve configured it to validate.  For Xerces-J-based parsers, see <a href=\"https://xerces.apache.org/xerces2-j/features.html#validation.schema\" rel=\"nofollow noreferrer\">xerces.apache.org/xerces2-j/features.html#validation.schema</a>"}], "tags": [], "owner": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "is_accepted": false, "score": 1, "last_activity_date": 1437597482, "last_edit_date": 1437597482, "creation_date": 1437596895, "answer_id": 31573369, "question_id": 31573178, "link": "https://stackoverflow.com/questions/31573178/knowing-xsd-to-use-to-validate-xml-config-file-for-program/31573369#31573369", "title": "Knowing XSD to use to validate XML config file for program", "body": "<blockquote>\n  <p>What is the point of the attribute <code>schemaLocation</code></p>\n</blockquote>\n\n<p>The <code>xsd:schema/@schemaLocation</code> attribute provides a hint as to the location of the XSD to use for this XML document.</p>\n\n<blockquote>\n  <p>because it can't be used to load an XSD file the XML file is supposed to adhere to?</p>\n</blockquote>\n\n<p>Yes, it really can be used to locate and load the XSD file that the XML is supposed to adhere to.</p>\n\n<blockquote>\n  <p>My question is, how is the program made aware of the XSD file?</p>\n</blockquote>\n\n<p>The most common way is to use <code>schemaLocation</code> for namespaced XML and <code>noNamespaceSchemaLocation</code> for XML without namespaces.  Conformant XML parsers typically by default will use these attributes to locate an XSD.</p>\n\n<blockquote>\n  <p>Is it passed by a command line argument, obtained through parsing the\n  string of schemaLocation or can it be hard coded into the program as\n  the schema for the input file will never change (or at least it's name\n  wouldn't change)?</p>\n</blockquote>\n\n<p>All of these options are possible, but as mentioned above, <code>schemaLocation</code> and <code>noNamespaceSchemaLocation</code> are most common.</p>\n"}], "owner": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437597482, "creation_date": 1437596211, "question_id": 31573178, "link": "https://stackoverflow.com/questions/31573178/knowing-xsd-to-use-to-validate-xml-config-file-for-program", "title": "Knowing XSD to use to validate XML config file for program", "body": "<p>I know how to write XML and XSD files but this is the first time I've actually used them in development. What is the point of the attribute <a href=\"http://www.w3schools.com/schema/schema_schema.asp\" rel=\"nofollow\">schemaLocation</a> (e.g. <code>&lt;note xmlns=\"http://www.w3schools.com\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://www.w3schools.com note.xsd\"&gt;</code>) because it can't be used to load an XSD file the XML file is supposed to adhere to?</p>\n\n<p>Here is my situation. The project requirements are to have an input XML configuration file, and to have an XSD file for it. When the program is run, it first validates the XML against the XSD schema. My question is, how is the program made aware of the XSD file? Is it passed by a command line argument, obtained through parsing the string of <code>schemaLocation</code> or can it be hard coded into the program as the schema for the input file will never change (or at least it's name wouldn't change)?</p>\n\n<p>What's the \"common practice\" for validating an xml config file for a program?</p>\n"}, {"tags": ["python", "trigonometry"], "comments": [{"owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "edited": false, "score": 1, "creation_date": 1437596257, "post_id": 31573138, "comment_id": 51101169, "body": "Please post the relevant code you have till now."}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 2, "creation_date": 1437596260, "post_id": 31573138, "comment_id": 51101171, "body": "I think math.sin and math.cos etc want radians."}, {"owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 2, "creation_date": 1437596270, "post_id": 31573138, "comment_id": 51101175, "body": "What code have you tried? What results are you getting? I suspect this is a radians vs. degrees issue, but without code, I have no idea."}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1437596495, "post_id": 31573138, "comment_id": 51101322, "body": "Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. And more importantly, please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1437596857, "post_id": 31573138, "comment_id": 51101571, "body": "More suited for <a href=\"http://math.stackexchange.com/\">math.stackexchange.com</a>"}, {"owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1437597948, "post_id": 31573138, "comment_id": 51102204, "body": "@MorganThrapp youre on a rampage today with those comments"}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "reply_to_user": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "edited": false, "score": 1, "creation_date": 1437598037, "post_id": 31573138, "comment_id": 51102254, "body": "@heinst It&#39;s a slow day at work today. Lots of &quot;run this thing for half an hour and see where it errors out&quot;."}, {"owner": {"reputation": 193, "user_id": 1951357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c3e5a2885626d0cbea2b1d42d965e5be?s=128&d=identicon&r=PG", "display_name": "Bill in Kansas City", "link": "https://stackoverflow.com/users/1951357/bill-in-kansas-city"}, "edited": false, "score": 0, "creation_date": 1437605124, "post_id": 31573138, "comment_id": 51105464, "body": "B = 6 * math.sin(29) / math.sin(90) - or -     B = A * math.sin(j) / math.sin(f) ... where 29 and 90 are degrees."}, {"owner": {"reputation": 193, "user_id": 1951357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c3e5a2885626d0cbea2b1d42d965e5be?s=128&d=identicon&r=PG", "display_name": "Bill in Kansas City", "link": "https://stackoverflow.com/users/1951357/bill-in-kansas-city"}, "edited": false, "score": 0, "creation_date": 1437605239, "post_id": 31573138, "comment_id": 51105494, "body": "This isn&#39;t a math question, btw. I know the forumla, I just can&#39;t make it work in python."}, {"owner": {"reputation": 193, "user_id": 1951357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c3e5a2885626d0cbea2b1d42d965e5be?s=128&d=identicon&r=PG", "display_name": "Bill in Kansas City", "link": "https://stackoverflow.com/users/1951357/bill-in-kansas-city"}, "reply_to_user": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437605745, "post_id": 31573138, "comment_id": 51105670, "body": "@NightShadeQueen You dropped the hint I needed. It is a radians vs. degrees issue. When I introduced math.radians into the equation, it worked a treat.  -- B = A * math.sin(math.radians(j)) / math.sin(math.radians(f))"}, {"owner": {"reputation": 2256, "user_id": 3076272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/48919202ec2e5a16d47356c6db33a5e9?s=128&d=identicon&r=PG", "display_name": "Dan Oberlam", "link": "https://stackoverflow.com/users/3076272/dan-oberlam"}, "edited": false, "score": 0, "creation_date": 1437658385, "post_id": 31573138, "comment_id": 51129625, "body": "Bill if you&#39;ve solved your problem then answer your own question so future users can get some use out of it."}, {"owner": {"reputation": 193, "user_id": 1951357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c3e5a2885626d0cbea2b1d42d965e5be?s=128&d=identicon&r=PG", "display_name": "Bill in Kansas City", "link": "https://stackoverflow.com/users/1951357/bill-in-kansas-city"}, "edited": false, "score": 0, "creation_date": 1437680927, "post_id": 31573138, "comment_id": 51145209, "body": "I did, in my comment. There&#39;s quite a lot of etiquette I&#39;m still learning apparently."}], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 1951357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c3e5a2885626d0cbea2b1d42d965e5be?s=128&d=identicon&r=PG", "display_name": "Bill in Kansas City", "link": "https://stackoverflow.com/users/1951357/bill-in-kansas-city"}, "is_accepted": false, "score": 0, "last_activity_date": 1437680984, "creation_date": 1437680984, "answer_id": 31596806, "question_id": 31573138, "link": "https://stackoverflow.com/questions/31573138/solving-a-triangle-in-python/31596806#31596806", "title": "Solving a triangle in python", "body": "<p>@NightShadeQueen You dropped the hint I needed. It is a radians vs. degrees issue. When I introduced math.radians into the equation, it worked a treat. -- B = A * math.sin(math.radians(j)) / math.sin(math.radians(f)) </p>\n"}], "owner": {"reputation": 193, "user_id": 1951357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c3e5a2885626d0cbea2b1d42d965e5be?s=128&d=identicon&r=PG", "display_name": "Bill in Kansas City", "link": "https://stackoverflow.com/users/1951357/bill-in-kansas-city"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 636, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1437680984, "creation_date": 1437596096, "question_id": 31573138, "link": "https://stackoverflow.com/questions/31573138/solving-a-triangle-in-python", "title": "Solving a triangle in python", "body": "<p>What math.function do I need to solve an AAS triangle?</p>\n\n<p><a href=\"https://i.stack.imgur.com/nHcRx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nHcRx.png\" alt=\"sample triangle\"></a></p>\n\n<p>Given measurement A and angles j and g (h is 90), I need to solve for C or B. Doesn't matter which, Pythagoras will take it from there.</p>\n\n<p>I have looked up \"solving AAS triangles\" and using an online calculator (and estimates in my head) I know what the numbers should be plus or minus, but I'm not even coming close to that answer in my python code. I'm pretty sure I'm just using the wrong function for my calculation.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437597320, "post_id": 31573119, "comment_id": 51101866, "body": "You might also want to look at a collections.defaultdict <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a>"}, {"owner": {"reputation": 320781, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1437597779, "post_id": 31573119, "comment_id": 51102124, "body": "Note that <code>exists</code> is completely superfluous in that code. <code>$rollUpHash{$hashKey}</code> is either undefined (false) or a reference to an array (true), so <code>if ($rollUpHash{$hashKey})</code> is sufficient."}], "answers": [{"tags": [], "owner": {"reputation": 700, "user_id": 5104778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1d0588e47ac1f641ef21f90a5e302aa?s=128&d=identicon&r=PG&f=1", "display_name": "blasko", "link": "https://stackoverflow.com/users/5104778/blasko"}, "is_accepted": false, "score": 6, "last_activity_date": 1437597493, "last_edit_date": 1437597493, "creation_date": 1437596135, "answer_id": 31573147, "question_id": 31573119, "link": "https://stackoverflow.com/questions/31573119/what-is-the-python-equivalent-of-perls-if-exists-for-hashes/31573147#31573147", "title": "What is the Python equivalent of Perl&#39;s &#39;if exists&#39; for hashes?", "body": "<p>If you're just checking if the key exists, you can do <code>if \"key\" in your_dictionary</code></p>\n\n<p>Edit:</p>\n\n<p>To handle the unintended second part of your question, about adding the new value to the array, you can do something like this</p>\n\n<pre><code># -1 will give you the last item in the list every time\nfor key, value in nums.iteritems():\n    nums[key].append(value[-1]+value[-1])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1437602749, "post_id": 31573191, "comment_id": 51104494, "body": "So if I want to add the rest of the line as a list to my dictionary using key as the key, how would that look?"}, {"owner": {"reputation": 8765, "user_id": 3417069, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1504657819/picture?type=large", "display_name": "omri_saadon", "link": "https://stackoverflow.com/users/3417069/omri-saadon"}, "reply_to_user": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1437603177, "post_id": 31573191, "comment_id": 51104691, "body": "I&#39;m not quite sure what you are asking, can you elaborate? @flybonzai"}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1437669090, "post_id": 31573191, "comment_id": 51138172, "body": "Sorry, my question wasn&#39;t very clear.  I essentially was trying to figure out how to create my dictionary so that my key is a concatenated name and my row is the value.  Figured it out:)"}], "tags": [], "owner": {"reputation": 8765, "user_id": 3417069, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1504657819/picture?type=large", "display_name": "omri_saadon", "link": "https://stackoverflow.com/users/3417069/omri-saadon"}, "is_accepted": false, "score": 3, "last_activity_date": 1437597968, "last_edit_date": 1437597968, "creation_date": 1437596255, "answer_id": 31573191, "question_id": 31573119, "link": "https://stackoverflow.com/questions/31573119/what-is-the-python-equivalent-of-perls-if-exists-for-hashes/31573191#31573191", "title": "What is the Python equivalent of Perl&#39;s &#39;if exists&#39; for hashes?", "body": "<p>You can use this as well</p>\n\n<pre><code>rollUpHash.get(key, None)\n</code></pre>\n\n<p>If the key exists then the function return the value of this key, else the function will return whatever you assigned as the default value (second parameter)</p>\n\n<pre><code>if rollUpHash.has_key(hashkey):\n    print \"Same key found, summing up!\"\n    rollUpHash[hashkey][14] += lineFields[14]\n    ...\n    ...\n    rollUpHash[hashkey].append(sumDeduct_NonDeduct_ytd)\nelse:\n    rollUpHash[hashkey] = lineFields\n</code></pre>\n"}], "owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1437597968, "creation_date": 1437596037, "last_edit_date": 1437597786, "question_id": 31573119, "link": "https://stackoverflow.com/questions/31573119/what-is-the-python-equivalent-of-perls-if-exists-for-hashes", "title": "What is the Python equivalent of Perl&#39;s &#39;if exists&#39; for hashes?", "body": "<p>I'm writing a script for work, and need to be able to create a hash of arrays that will check to see if a key exists in the hash (or dictionary), and if it does I will roll up some values from the new line into the existing hash values.  Here is my code in Perl, what would be the translation in Python?</p>\n\n<pre><code>if (exists($rollUpHash{$hashKey}))\n        {\n          say(\"Same key found, summing up!\")\n          $rollUpHash{$hashKey}[14] += $lineFields[14];\n          $rollUpHash{$hashKey}[15] += $lineFields[15];\n          $rollUpHash{$hashKey}[16] += $lineFields[16];\n          $rollUpHash{$hashKey}[17] += $lineFields[17];\n          $rollUpHash{$hashKey}[24] += $lineFields[24];\n          push @{$rollUpHash{$hashKey}}, $sumDeduct_NonDeduct_ytd;\n          # print %rollUpHash;\n        }\n      else\n        {\n          $rollUpHash{$hashKey} = \\@lineFields;\n        }\n</code></pre>\n"}, {"tags": ["python", "mayavi"], "answers": [{"comments": [{"owner": {"reputation": 6094, "user_id": 616730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/HRl3V.jpg?s=128&g=1", "display_name": "foobarbecue", "link": "https://stackoverflow.com/users/616730/foobarbecue"}, "edited": false, "score": 0, "creation_date": 1437596602, "post_id": 31573185, "comment_id": 51101394, "body": "Wonderful! All I had to do was call &quot;import logging&quot; before &quot;from mayavi import mlab&quot;, and now I get popup messages when there&#39;s an exception. MayaVi really needs to add this to their documention..."}], "tags": [], "owner": {"reputation": 698, "user_id": 2594088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/648e6e3b6d999a9a443a121ec6fb9110?s=128&d=identicon&r=PG", "display_name": "Josh Allemon", "link": "https://stackoverflow.com/users/2594088/josh-allemon"}, "is_accepted": true, "score": 2, "last_activity_date": 1437596229, "creation_date": 1437596229, "answer_id": 31573185, "question_id": 31573114, "link": "https://stackoverflow.com/questions/31573114/every-mayavi-exception-hangs-my-ipython-interpreter/31573185#31573185", "title": "Every MayaVi exception hangs my ipython interpreter", "body": "<p>The library you are using is trying to make a call to Python's logging module but your application apparently isn't making use of logging.</p>\n\n<p>See more here:<a href=\"https://docs.python.org/3.1/library/logging.html#configuring-logging-for-a-library\" rel=\"nofollow\">https://docs.python.org/3.1/library/logging.html#configuring-logging-for-a-library</a></p>\n"}], "owner": {"reputation": 6094, "user_id": 616730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/HRl3V.jpg?s=128&g=1", "display_name": "foobarbecue", "link": "https://stackoverflow.com/users/616730/foobarbecue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 31573185, "answer_count": 1, "score": 1, "last_activity_date": 1437596229, "creation_date": 1437596018, "question_id": 31573114, "link": "https://stackoverflow.com/questions/31573114/every-mayavi-exception-hangs-my-ipython-interpreter", "title": "Every MayaVi exception hangs my ipython interpreter", "body": "<p>Whenever I trigger an error in MayaVi, such as calling mlab.outline() when there is no plot figure, I get</p>\n\n<pre><code>No handlers could be found for logger \"mayavi.core.common\"\n</code></pre>\n\n<p>and my ipython interpreter becomes totally unresponsive, even to Ctrl-D or Ctrl-C; I have no choice but to kill the parent process.</p>\n\n<p>If you do something similar in matplotlib, you'll get an Exception of some sort that is usually pretty descriptive and you're allowed to continue using your interpreter.</p>\n\n<p>I've had this behavior when I launch with ipython --gui=wx and also with --gui=qt.</p>\n\n<p>Am I doing something wrong, or is MayaVi just awful at error handling?</p>\n"}, {"tags": ["python", "setup.py", "python-wheel"], "comments": [{"owner": {"reputation": 4394, "user_id": 534238, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nZVSf.jpg?s=128&g=1", "display_name": "Mike Williamson", "link": "https://stackoverflow.com/users/534238/mike-williamson"}, "edited": false, "score": 0, "creation_date": 1524533119, "post_id": 31573107, "comment_id": 87000887, "body": "I have noticed that when I create packages using the <code>--universal</code> flag mentioned below, that <b>both</b> a <code>bdist.macosx-10.7-x86_64</code> <i>directory</i> and a <code>&lt;my_package&gt;-py2.py3-none-any.whl</code> <i>file</i> are created.  (My package was universal 2/3 and not platform-specific.)  I am curious if this is <b>supposed</b> to happen when all runs properly, or if they <i>both</i> should have ended with <code>...-py2.py3-none-any.whl</code>.  Anyone know?"}], "answers": [{"tags": [], "owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "is_accepted": false, "score": 12, "last_activity_date": 1454232372, "creation_date": 1454232372, "answer_id": 35112241, "question_id": 31573107, "link": "https://stackoverflow.com/questions/31573107/how-to-create-a-pure-python-wheel/35112241#35112241", "title": "How to create a Pure-Python wheel", "body": "<p>The simplistic way is to add <code>--universal</code> to your commandline, as you can see from running <code>python setup.py bdist_wheel --help</code>:</p>\n\n<pre><code>  --universal       make a universal wheel (default: false)\n</code></pre>\n\n<p>Alternatively you can add a <code>setup.cfg</code> file next to your <code>setup.py</code> that\ntakes care of this:</p>\n\n<pre><code>[bdist_wheel]\nuniversal = 1\n</code></pre>\n\n<p>If you don't like yet another configuration file clobbering your package, \nyou can just write such a file in your <code>setup.py</code> just before it calls <code>setup()</code> and then remove it after that call returns, this is what I do \nin the shared <a href=\"https://bitbucket.org/ruamel/yaml/src/cb145ae09f937e7eac9a1855e7b61932881347f5/setup.py?at=default&amp;fileviewer=file-view-default\" rel=\"noreferrer\"><code>setup.py</code></a> for all my projects on PyPI e.g. used in <a href=\"https://pypi.python.org/pypi/ruamel.yaml\" rel=\"noreferrer\">ruamel.yaml</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5145220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3425a4caa334b639d153f1fbbbe842e6?s=128&d=identicon&r=PG&f=1", "display_name": "seadugo", "link": "https://stackoverflow.com/users/5145220/seadugo"}, "is_accepted": true, "score": 2, "last_activity_date": 1454356934, "creation_date": 1454356934, "answer_id": 35139276, "question_id": 31573107, "link": "https://stackoverflow.com/questions/31573107/how-to-create-a-pure-python-wheel/35139276#35139276", "title": "How to create a Pure-Python wheel", "body": "<p>Adding the classifiers field to my setup.py fixed this issue.</p>\n\n<pre><code>from setuptools import setup\n\nsetup(\n    name='foo',\n    version='0.0.1',\n    description='',\n    url='',\n    classifiers=[\n        'Programming Language :: Python :: 2.7',\n    ],\n    install_requires=[\n        'bpython',\n        'Django==1.8.2',\n    ],\n)\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5145220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3425a4caa334b639d153f1fbbbe842e6?s=128&d=identicon&r=PG&f=1", "display_name": "seadugo", "link": "https://stackoverflow.com/users/5145220/seadugo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5265, "favorite_count": 1, "accepted_answer_id": 35139276, "answer_count": 2, "score": 9, "last_activity_date": 1454356934, "creation_date": 1437595991, "last_edit_date": 1437596811, "question_id": 31573107, "link": "https://stackoverflow.com/questions/31573107/how-to-create-a-pure-python-wheel", "title": "How to create a Pure-Python wheel", "body": "<p>From the following setup.py file, I am trying to create a pure-python wheel from a project that should contain only python 2.7 code.</p>\n\n<pre><code>from setuptools import setup\n\nsetup(\n    name='foo',\n    version='0.0.1',\n    description='',\n    url='',\n    install_requires=[\n        'bpython',\n        'Django==1.8.2',\n    ],\n)\n</code></pre>\n\n<p>However, when I run <code>python setup.py bdist_wheel</code> the wheel file that is generated is platform specific <code>foo-0.0.1-cp27-none-macosx_10_9_x86_64.whl</code> wheel file instead of the expected <code>foo-0.0.1-cp27-none-any.whl</code>.  When I try to install this wheel on a different platform it fails saying <code>it is not compatible with this Python</code>.</p>\n\n<p>I there something I need to change about the setup.py file or python interpreter, perhaps, that will allow this wheel to be used on any platform?</p>\n"}, {"tags": ["python", "numpy", "eigenvector"], "comments": [{"owner": {"reputation": 757, "user_id": 738981, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/4b4bb33c03b3222115633882806c20b1?s=128&d=identicon&r=PG", "display_name": "db1234", "link": "https://stackoverflow.com/users/738981/db1234"}, "edited": false, "score": 0, "creation_date": 1437596635, "post_id": 31572871, "comment_id": 51101421, "body": "One brute force way is to find all the eigenavlues, then from those store the ones where the imaginary part is zero into a separate array.  I don&#39;t think there is a method that finds only the real ones and not the imaginary ones, but could be wrong"}, {"owner": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "reply_to_user": {"reputation": 757, "user_id": 738981, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/4b4bb33c03b3222115633882806c20b1?s=128&d=identicon&r=PG", "display_name": "db1234", "link": "https://stackoverflow.com/users/738981/db1234"}, "edited": false, "score": 1, "creation_date": 1437596996, "post_id": 31572871, "comment_id": 51101665, "body": "My question is not about finding the real eigenvalues. They are all real. My question is about finding the real eigenvectors."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1437598759, "post_id": 31572871, "comment_id": 51102636, "body": "For a real symmetric matrix, <code>eigh</code> should work.  If it didn&#39;t, please show the details in the question, so we can try to reproduce the problem."}, {"owner": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 0, "creation_date": 1437599352, "post_id": 31572871, "comment_id": 51102935, "body": "I think I have made an error. I am using the qutip library (<a href=\"http://qutip.org/\" rel=\"nofollow noreferrer\">qutip.org</a>), and I called all(isreal()) on the qutip object, which returned true. However when I called all(isreal()) on the full matrix which the qutip object represents, it returned false. This I think was the source of my confusion. I think then that Warren your answer is probably the correct answer to my question."}, {"owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "edited": false, "score": 0, "creation_date": 1437599374, "post_id": 31572871, "comment_id": 51102942, "body": "Try posting an analytical answer to an example matrix, or a desired result from a given inpu. That is easier to interpret as opposed to one&#39;s choice of wording"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 1, "creation_date": 1437598510, "post_id": 31573539, "comment_id": 51102520, "body": "The eig function returns a set of eigenvectors which are not unique to the matrix under consideration. This is because the matrix is degenerate. Your proposal does not find a complete set of real eigenvectors for the matrix under consideration, it simply takes the arbitrary set of complex eigenvectors which eig has returned, and selects any that happen to be real. This is not what I have in mind."}, {"owner": {"reputation": 8742, "user_id": 3393459, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a319b01208db420f5f8c6a7c3a24a3c?s=128&d=identicon&r=PG&f=1", "display_name": "exp1orer", "link": "https://stackoverflow.com/users/3393459/exp1orer"}, "reply_to_user": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 0, "creation_date": 1437600864, "post_id": 31573539, "comment_id": 51103708, "body": "Ah. Then I think your question needs clarification. Saying you want &quot;the real-valued eigenvectors&quot; is ambiguous."}], "tags": [], "owner": {"reputation": 8742, "user_id": 3393459, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7a319b01208db420f5f8c6a7c3a24a3c?s=128&d=identicon&r=PG&f=1", "display_name": "exp1orer", "link": "https://stackoverflow.com/users/3393459/exp1orer"}, "is_accepted": false, "score": 1, "last_activity_date": 1437597474, "creation_date": 1437597474, "answer_id": 31573539, "question_id": 31572871, "link": "https://stackoverflow.com/questions/31572871/finding-the-real-eigenvectors-of-a-real-symmetric-matrix-in-numpy-or-scipy/31573539#31573539", "title": "finding the real eigenvectors of a real symmetric matrix in numpy or scipy", "body": "<p>Easy.</p>\n\n<p>With a little help from <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.eig.html\" rel=\"nofollow\">the docs</a>:</p>\n\n<pre><code>import numpy as np\nfrom numpy import linalg as LA\na = np.array([[1, 1j], [-1j, 1]])\nw, v = LA.eig(a)\n# w are the eigenvalues, v are the eigenvectors\n# v.real gives the real-valued parts of the eigenvectors\n# v == v.real gives a boolean mask for where the vector equals its own real part\nreal_eigenvectors = v[v.real == v]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 0, "creation_date": 1437598189, "post_id": 31573618, "comment_id": 51102338, "body": "I tried that and it did not give me real eigenvectors"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 0, "creation_date": 1437598240, "post_id": 31573618, "comment_id": 51102371, "body": "Can you show me an example where it returns complex eigenvectors?"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 0, "creation_date": 1437598684, "post_id": 31573618, "comment_id": 51102597, "body": "@JoelKlassen Also, it would be helpful if you included more details of what you have already tried in the question."}, {"owner": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 0, "creation_date": 1437598738, "post_id": 31573618, "comment_id": 51102621, "body": "the matrix I am using is a 71 x 71 matrix. I know that it is both real and hermitian. I will try to find a smaller matrix with similar properties."}, {"owner": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 0, "creation_date": 1437598868, "post_id": 31573618, "comment_id": 51102698, "body": "Is there some guarantee that the eigh function will return real valued eigenvectors for any real symmetric matrix?"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 0, "creation_date": 1437599636, "post_id": 31573618, "comment_id": 51103078, "body": "I just double-checked the source, and it looks like that is the case.  If the input matrix is real, the eigenvectors that <code>numpy.linalg.eigh</code> returns are real."}, {"owner": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "edited": false, "score": 0, "creation_date": 1437600202, "post_id": 31573618, "comment_id": 51103379, "body": "There was a mistake in how I was using a different library. So my question turned out to be kind of silly and wrong. But this is useful information anyways. Thanks!"}], "tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 4, "last_activity_date": 1437598201, "last_edit_date": 1437598201, "creation_date": 1437597744, "answer_id": 31573618, "question_id": 31572871, "link": "https://stackoverflow.com/questions/31572871/finding-the-real-eigenvectors-of-a-real-symmetric-matrix-in-numpy-or-scipy/31573618#31573618", "title": "finding the real eigenvectors of a real symmetric matrix in numpy or scipy", "body": "<p>Use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.eigh.html\" rel=\"nofollow\"><code>numpy.linalg.eigh</code></a> or <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.linalg.eigh.html\" rel=\"nofollow\"><code>scipy.linalg.eigh</code></a>.  These functions are designed for symmetric (or Hermitian) matrices, and with a real symmetric matrix, they should always return real eigenvalues and eigenvectors.</p>\n\n<p>For example,</p>\n\n<pre><code>In [62]: from numpy.linalg import eigh\n\nIn [63]: a\nOut[63]: \narray([[ 2.,  1.,  0.,  0.],\n       [ 1.,  2.,  0.,  0.],\n       [ 0.,  0.,  2.,  1.],\n       [ 0.,  0.,  1.,  2.]])\n\nIn [64]: vals, vecs = eigh(a)\n</code></pre>\n\n<p>The eigenvalues are in <code>vals</code>, and the corresponding eigenvectors are in the columns of <code>vecs</code>:</p>\n\n<pre><code>In [65]: vals\nOut[65]: array([ 1.,  1.,  3.,  3.])\n\nIn [66]: vecs\nOut[66]: \narray([[-0.70710678,  0.        ,  0.        ,  0.70710678],\n       [ 0.70710678,  0.        ,  0.        ,  0.70710678],\n       [ 0.        , -0.70710678,  0.70710678,  0.        ],\n       [ 0.        ,  0.70710678,  0.70710678,  0.        ]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155, "user_id": 10610281, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-doLrT8qGXcg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBuXGqjqGEQ7WRAcoxInQs5zfj1tQ/mo/photo.jpg?sz=128", "display_name": "py_newbie", "link": "https://stackoverflow.com/users/10610281/py-newbie"}, "is_accepted": false, "score": 0, "last_activity_date": 1613679241, "creation_date": 1613679241, "answer_id": 66267518, "question_id": 31572871, "link": "https://stackoverflow.com/questions/31572871/finding-the-real-eigenvectors-of-a-real-symmetric-matrix-in-numpy-or-scipy/66267518#66267518", "title": "finding the real eigenvectors of a real symmetric matrix in numpy or scipy", "body": "<pre><code>vals, vecs = eigh(a)\nvals = vals.real\nvecs = vecs.real\n</code></pre>\n<p>should work.</p>\n"}], "owner": {"reputation": 143, "user_id": 5145252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e96a53a6762d1b2cdc2d888094037d8?s=128&d=identicon&r=PG", "display_name": "Joel Klassen", "link": "https://stackoverflow.com/users/5145252/joel-klassen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5493, "favorite_count": 0, "accepted_answer_id": 31573618, "answer_count": 3, "score": 4, "last_activity_date": 1613679241, "creation_date": 1437595149, "question_id": 31572871, "link": "https://stackoverflow.com/questions/31572871/finding-the-real-eigenvectors-of-a-real-symmetric-matrix-in-numpy-or-scipy", "title": "finding the real eigenvectors of a real symmetric matrix in numpy or scipy", "body": "<p>I have a real symmetric matrix with a lot of degenerate eigenvalues, and I would like to find the real valued eigenvectors of this matrix. I am struggling to find a method in numpy or scipy that does this for me, the ones I have tried give complex valued eigenvectors. Does anyone know if such a function exists?</p>\n"}, {"tags": ["python", "probability"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 6, "creation_date": 1437594936, "post_id": 31572781, "comment_id": 51100342, "body": "It should be, but why don&#39;t you run a billion random numbers and count them up just to be sure?"}, {"owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "edited": false, "score": 0, "creation_date": 1437595266, "post_id": 31572781, "comment_id": 51100551, "body": "You can read about the system used by <code>random.random()</code> at <a href=\"https://en.wikipedia.org/wiki/Mersenne_Twister\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Mersenne_Twister</a>."}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1437595334, "post_id": 31572781, "comment_id": 51100593, "body": "Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. And more importantly, please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1437595336, "post_id": 31572781, "comment_id": 51100597, "body": "That is what <code>random.random()</code> is trying to do. However, if you require a cryptographically-secure random number, use something like <code>random.SystemRandom()</code>."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "edited": false, "score": 1, "creation_date": 1437595364, "post_id": 31572781, "comment_id": 51100615, "body": "@Sam does that article address the transition from a bit pattern to a floating point number? This seems like a valid question."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1437595499, "post_id": 31572781, "comment_id": 51100696, "body": "&quot;greater than 0.5&quot; and &quot;less than 0.5&quot; can&#39;t both be exactly 50% likely, because then <code>random()</code> would never return 0.5 ;-)"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1437595658, "post_id": 31572781, "comment_id": 51100793, "body": "@Kevin easily fixed by specifying <code>&gt;= 0.5</code> instead of <code>&gt; 0.5</code>."}], "answers": [{"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1437595593, "post_id": 31572925, "comment_id": 51100750, "body": "This answer depends on you knowing the precise definition of &quot;uniformly&quot;. For example, will it ever generate a denormalized number?"}], "tags": [], "owner": {"reputation": 1385, "user_id": 4421248, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CFPcCX16UXQ/AAAAAAAAAAI/AAAAAAAAAIc/Q7C_WE543mw/photo.jpg?sz=128", "display_name": "Chad Miller", "link": "https://stackoverflow.com/users/4421248/chad-miller"}, "is_accepted": true, "score": 3, "last_activity_date": 1437595354, "creation_date": 1437595354, "answer_id": 31572925, "question_id": 31572781, "link": "https://stackoverflow.com/questions/31572781/python-probability-of-a-random-number-between-0-and-1/31572925#31572925", "title": "Python - probability of a random number between 0 and 1", "body": "<p>Yes. From docs:</p>\n\n<blockquote>\n  <p>Almost all module functions depend on the basic function random(), which generates a random float <strong>uniformly</strong> in the semi-open range [0.0, 1.0). Python uses the Mersenne Twister as the core generator.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1437625194, "post_id": 31573150, "comment_id": 51110321, "body": "The difference in the odds is approximately 1/2**52. I challenge you to measure it."}], "tags": [], "owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "is_accepted": false, "score": 0, "last_activity_date": 1437596145, "creation_date": 1437596145, "answer_id": 31573150, "question_id": 31572781, "link": "https://stackoverflow.com/questions/31572781/python-probability-of-a-random-number-between-0-and-1/31573150#31573150", "title": "Python - probability of a random number between 0 and 1", "body": "<p>A small snippet for testing it yourself. But what Chad Miller said seems the most correct answer. It will indeed always have a slightly lower probability of generating a number greater than 0.5, than the probability of generating a number lesser than 0.5.\nThis is due to the fact that (0.5,1.0) is a <strong>smaller infinite set of numbers</strong> than [0.0,0.5), because the 0.0 is included and the 1.0 is excluded.</p>\n\n<pre><code>import random\n\nN_ITER = 10000000\nresults_greater = 0\nresults_lesser = 0\nfor i in xrange(N_ITER):\n    random_number = random.random()\n    results_greater += random_number &gt; 0.5\n    results_lesser += random_number &lt; 0.5\nprint results_greater / float(N_ITER)\nprint results_lesser / float(N_ITER)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 1, "creation_date": 1437596912, "post_id": 31573243, "comment_id": 51101611, "body": "I bet your memory errors go away if you use <code>xrange</code> instead of <code>range</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2062025"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1437597537, "post_id": 31573243, "comment_id": 51101992, "body": "@Rob\u1d69 Didn&#39;t know about xrange, but yes, it solved the issue (up to 2^30 due to long limitations). Thanks!"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1437598856, "post_id": 31573243, "comment_id": 51102695, "body": "The odds of hitting a floating point value exactly are about 1 in 2**52, so it&#39;s not surprising that none were equal to 0.5."}, {"owner": {"reputation": 1385, "user_id": 4421248, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CFPcCX16UXQ/AAAAAAAAAAI/AAAAAAAAAIc/Q7C_WE543mw/photo.jpg?sz=128", "display_name": "Chad Miller", "link": "https://stackoverflow.com/users/4421248/chad-miller"}, "edited": false, "score": 0, "creation_date": 1437658888, "post_id": 31573243, "comment_id": 51130100, "body": "FFH, consider flipping to Python3 as your default, and you don&#39;t have to remember dumb hacks like &quot;xrange&quot; and other ugly warts. But you will have to put parens around your print args."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2062025"}, "is_accepted": false, "score": 1, "last_activity_date": 1437596440, "creation_date": 1437596440, "answer_id": 31573243, "question_id": 31572781, "link": "https://stackoverflow.com/questions/31572781/python-probability-of-a-random-number-between-0-and-1/31573243#31573243", "title": "Python - probability of a random number between 0 and 1", "body": "<p>After a quick test using the following:</p>\n\n<pre><code>import random\n\nrandom.seed( None )\n\nless_than_half = 0\ngreater_than_half = 0\nequal_to_half = 0\n\nfor i in range( 0, 2**26 ):\n    x = random.random()\n    if x &lt; .5:\n        less_than_half += 1\n    elif x &gt; .5:\n        greater_than_half += 1\n    else:\n        equal_to_half += 1\n\nprint less_than_half\nprint greater_than_half\nprint equal_to_half\n</code></pre>\n\n<p>Running four times (due to memory errors), I had a total of 134,217,147 results less than .5, 134,218,309 results greater than .5, and none equal to .5.\nThat resulted a total of 49.9997836% of the results being less than .5.</p>\n\n<p>Actual results may vary due to a seed of your system clock.</p>\n"}], "owner": {"reputation": 73, "user_id": 5141032, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/05f88c425bf87280c623c52bedc5265a?s=128&d=identicon&r=PG&f=1", "display_name": "qlzlahs", "link": "https://stackoverflow.com/users/5141032/qlzlahs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2250, "favorite_count": 0, "accepted_answer_id": 31572925, "answer_count": 3, "score": 0, "last_activity_date": 1437596440, "creation_date": 1437594844, "question_id": 31572781, "link": "https://stackoverflow.com/questions/31572781/python-probability-of-a-random-number-between-0-and-1", "title": "Python - probability of a random number between 0 and 1", "body": "<p>I know that we use random.random() to generate a random decimal between 0 and 1.\nIs the probability that the random number is less than .5 equal to 50%? \nAnd that the random number is greater than .5 equal to 50%?</p>\n"}, {"tags": ["python", "selenium", "hyperlink", "web-crawler", "scrapy"], "comments": [{"owner": {"reputation": 13041, "user_id": 466611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4acb374856006427ab9b84ff57c37371?s=128&d=identicon&r=PG", "display_name": "starrify", "link": "https://stackoverflow.com/users/466611/starrify"}, "edited": false, "score": 0, "creation_date": 1437628018, "post_id": 31572727, "comment_id": 51111109, "body": "Please first fix your code with your actual indents (or are these the actual indents of your code?), since Python cares about that, and human beings who read your code care about that. :)"}, {"owner": {"reputation": 13041, "user_id": 466611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4acb374856006427ab9b84ff57c37371?s=128&d=identicon&r=PG", "display_name": "starrify", "link": "https://stackoverflow.com/users/466611/starrify"}, "edited": false, "score": 0, "creation_date": 1437628431, "post_id": 31572727, "comment_id": 51111231, "body": "Also, it seems you&#39;re still doing the things using <code>selenium.webdriver</code>, not <code>scrapy</code>. Seems you could have your task finished by using either one of them."}, {"owner": {"reputation": 59, "user_id": 5136063, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/42098b23c4c7f81bd6148c273abf2d92?s=128&d=identicon&r=PG&f=1", "display_name": "Atika", "link": "https://stackoverflow.com/users/5136063/atika"}, "reply_to_user": {"reputation": 13041, "user_id": 466611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4acb374856006427ab9b84ff57c37371?s=128&d=identicon&r=PG", "display_name": "starrify", "link": "https://stackoverflow.com/users/466611/starrify"}, "edited": false, "score": 0, "creation_date": 1437662957, "post_id": 31572727, "comment_id": 51133506, "body": "Ok, I edited my code @starrify"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 4266724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688208b4f66843a9d05845d497897ea?s=128&d=identicon&r=PG&f=1", "display_name": "Morden", "link": "https://stackoverflow.com/users/4266724/morden"}, "reply_to_user": {"reputation": 59, "user_id": 5136063, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/42098b23c4c7f81bd6148c273abf2d92?s=128&d=identicon&r=PG&f=1", "display_name": "Atika", "link": "https://stackoverflow.com/users/5136063/atika"}, "edited": false, "score": 0, "creation_date": 1437667895, "post_id": 31582943, "comment_id": 51137386, "body": "OK, but you&#39;re still not yielding any Request objects. Either rename your parse function to some other name and assign it as the default request callback, or generate Requests yourself."}], "tags": [], "owner": {"reputation": 123, "user_id": 4266724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688208b4f66843a9d05845d497897ea?s=128&d=identicon&r=PG&f=1", "display_name": "Morden", "link": "https://stackoverflow.com/users/4266724/morden"}, "is_accepted": false, "score": 1, "last_activity_date": 1437642611, "creation_date": 1437642611, "answer_id": 31582943, "question_id": 31572727, "link": "https://stackoverflow.com/questions/31572727/how-to-crawl-items-from-a-list-of-links-with-scrapy-and-selenium/31582943#31582943", "title": "How to crawl items from a list of links with Scrapy and Selenium", "body": "<p>So there are a few issues with your script. </p>\n\n<p>1) Your <code>parse</code> function overrides CrawlSpider's implementation of the same function. That means that CrawlSpider's default behaviour, <strong>which is in charge of extracting links from the page for continued crawling</strong>, is not being called. That's not recommended when using CrawlSpider. See here for details:</p>\n\n<p><a href=\"http://doc.scrapy.org/en/latest/topics/spiders.html\" rel=\"nofollow\">http://doc.scrapy.org/en/latest/topics/spiders.html</a> </p>\n\n<p>2) You don't yield any followup URLs yourself. You only yield Items. If you want Scrapy to keep processing URLs, you have to yield some form of Request object alongside your items. </p>\n\n<p>3) You kill Selenium's driver at the end of the parse function. That will probably cause it to fail on a followup call anyway. There's no need to do that. </p>\n\n<p>4) You're using Selenium &amp; Scrapy's URL grabbing concurrently. That's not necessarily wrong, but keep in mind that it might result in some erratic behaviour. </p>\n\n<p>5) Your script indentation is definitely off, that makes it difficult to look at your code.  </p>\n"}], "owner": {"reputation": 59, "user_id": 5136063, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/42098b23c4c7f81bd6148c273abf2d92?s=128&d=identicon&r=PG&f=1", "display_name": "Atika", "link": "https://stackoverflow.com/users/5136063/atika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1225, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1437661708, "creation_date": 1437594644, "last_edit_date": 1437661708, "question_id": 31572727, "link": "https://stackoverflow.com/questions/31572727/how-to-crawl-items-from-a-list-of-links-with-scrapy-and-selenium", "title": "How to crawl items from a list of links with Scrapy and Selenium", "body": "<p>Can you help me please to correct this script: I have a list of links search results and I want to vist and crawl each one of these links.<br>\nBut this script click just the first link and then my crawler stops.<br>\nAny help is appreciated<br>\nCode \"Spider\" :</p>\n\n<pre><code>    from scrapy.contrib.spiders import CrawlSpider\n    from scrapy import Selector\n    from selenium import webdriver\n    from selenium.webdriver.support.select import Select\n    from time import sleep\n    import selenium.webdriver.support.ui as ui\n    from scrapy.xlib.pydispatch import dispatcher\n    from scrapy.http import HtmlResponse, TextResponse\n    from extraction.items import ProduitItem\n    from scrapy import log\n\n    class RunnerSpider(CrawlSpider):\n       name = 'products_d'\n       allowed_domains = ['amazon.com']\n       start_urls = ['http://www.amazon.com']\n\n       def __init__(self):\n           self.driver = webdriver.Firefox()\n       def parse(self, response):\n\n         sel = Selector(response)\n         self.driver.get(response.url)\n         recherche = self.driver.find_element_by_xpath('//*[@id=\"twotabsearchtextbox\"]')\n         recherche.send_keys(\"A\")\n         recherche.submit()\n\n         resultat = self.driver.find_element_by_xpath('//ul[@id=\"s-results-list-atf\"]')\n         #Links\n         resultas = resultat.find_elements_by_xpath('//li/div[@class=\"s-item-container\"]/div/div/div[2]/div[1]/a')\n         links = []\n         for lien in resultas:\n            l = lien.get_attribute('href')\n            links.append(l)\n         for result in links:\n           item = ProduitItem()\n           link = result\n           self.driver.get(link)\n           item['URL'] = link\n           item['Title'] = self.driver.find_element_by_xpath('//h1[@id=\"aiv-content-title\"]').text                     \n           yield item\n\n         self.driver.close()\n</code></pre>\n"}, {"tags": ["python", "string", "parsing"], "comments": [{"owner": {"reputation": 2647, "user_id": 248390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0defac4e8b7c8e21418a95762bc747d0?s=128&d=identicon&r=PG", "display_name": "bufh", "link": "https://stackoverflow.com/users/248390/bufh"}, "edited": false, "score": 0, "creation_date": 1437597438, "post_id": 31572676, "comment_id": 51101932, "body": "You could try to write a grammar using a lib like <a href=\"http://pythonhosted.org/pyparsing/\" rel=\"nofollow noreferrer\">pyparsing</a> or <a href=\"http://www.dabeaz.com/ply/\" rel=\"nofollow noreferrer\">ply</a>"}, {"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 0, "creation_date": 1495644333, "post_id": 31572676, "comment_id": 75344985, "body": "If you&#39;re still around, could you mark one of the answers to this question as correct?"}], "answers": [{"tags": [], "owner": {"reputation": 1164, "user_id": 3704291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4765f40b9788ab42e575036273910fe7?s=128&d=identicon&r=PG&f=1", "display_name": "gkusner", "link": "https://stackoverflow.com/users/3704291/gkusner"}, "is_accepted": false, "score": 2, "last_activity_date": 1437595399, "creation_date": 1437595399, "answer_id": 31572938, "question_id": 31572676, "link": "https://stackoverflow.com/questions/31572676/tricky-string-parsing-with-python/31572938#31572938", "title": "tricky string parsing with python", "body": "<p>something like this:</p>\n\n<pre><code>ll = []\nfor line in fp:\n    tt = tuple(int(x) for x in line.split())\n    ll.append(tt)\n</code></pre>\n\n<p>that will produce a list of tuples to assign to the key for your dictionary</p>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 2603222, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9b7eeac5e8cfa19a0a475e0e5f103ba3?s=128&d=identicon&r=PG", "display_name": "Niles Bernoulli", "link": "https://stackoverflow.com/users/2603222/niles-bernoulli"}, "edited": false, "score": 0, "creation_date": 1437615485, "post_id": 31573554, "comment_id": 51108025, "body": "hey this worked excellently. i needed the tuples as ints, so i made a quick lambda func: <code>lambda A: [int(x) for x in A]</code> and it looked great. thank you for this!"}, {"owner": {"reputation": 2114, "user_id": 2044733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182ea1934b25cb8da3642ca86350c808?s=128&d=identicon&r=PG", "display_name": "bbill", "link": "https://stackoverflow.com/users/2044733/bbill"}, "reply_to_user": {"reputation": 127, "user_id": 2603222, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9b7eeac5e8cfa19a0a475e0e5f103ba3?s=128&d=identicon&r=PG", "display_name": "Niles Bernoulli", "link": "https://stackoverflow.com/users/2603222/niles-bernoulli"}, "edited": false, "score": 0, "creation_date": 1437677909, "post_id": 31573554, "comment_id": 51143518, "body": "Cool, forgot about that detail. I added the map in there."}], "tags": [], "owner": {"reputation": 2114, "user_id": 2044733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182ea1934b25cb8da3642ca86350c808?s=128&d=identicon&r=PG", "display_name": "bbill", "link": "https://stackoverflow.com/users/2044733/bbill"}, "is_accepted": false, "score": 2, "last_activity_date": 1437677871, "last_edit_date": 1437677871, "creation_date": 1437597529, "answer_id": 31573554, "question_id": 31572676, "link": "https://stackoverflow.com/questions/31572676/tricky-string-parsing-with-python/31573554#31573554", "title": "tricky string parsing with python", "body": "<p>Python's great for this stuff, why not write up a 5-10 liner for it? It's kind of what the language is meant to excel at.</p>\n\n<pre><code>$ cat test\nID = 31\nNe = 5122\n============\nList of 104 four tuples:\n1       2       12      40\n2       3       4       21\n\nID = 34\nNe = 5122\n============\nList of 104 four tuples:\n3       2       12      40\n4       3       4       21\n\n\ndata = {}\nfor block in open('test').read().split('ID = '):\n    if not block:\n        continue #empty line\n    lines = block.split('\\n')\n    ID = int(lines[0])\n    tups = map(lambda y: int(y), [filter(lambda x: x, line.split('\\t')) for line in lines[4:]])\n    data[ID] = tuple(filter(lambda x: x, tups))\nprint(data)\n\n# {34: ([3, 2, 12, 40], [4, 3, 4, 21]), 31: ([1, 2, 12, 40], [2, 3, 4, 21])}\n</code></pre>\n\n<p>Only annoying thing is all the filters - sorry, that's just the result of empty strings and stuff from extra newlines, etc. For a one-off little script, it's no biggie.</p>\n"}, {"tags": [], "owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "is_accepted": false, "score": 1, "last_activity_date": 1437600951, "last_edit_date": 1437600951, "creation_date": 1437600209, "answer_id": 31574237, "question_id": 31572676, "link": "https://stackoverflow.com/questions/31572676/tricky-string-parsing-with-python/31574237#31574237", "title": "tricky string parsing with python", "body": "<p>I think this will do the trick for you:</p>\n\n<pre><code>import csv\n\ndef parse_file(filename):\n  \"\"\"\n  Parses an input data file containing tags of the form \"ID = ##\" (where ## is a\n  number) followed by rows of data. Returns a dictionary where the ID numbers\n  are the keys and all of the rows of data are stored as a list of tuples\n  associated with the key.\n\n  Args:\n    filename (string) name of the file you want to parse\n\n  Returns:\n    my_dict (dictionary) dictionary of data with ID numbers as keys\n\n  \"\"\"\n  my_dict = {}\n  with open(filename, \"r\") as my_file:  # handles opening and closing file\n    rows = my_file.readlines()\n    for row in rows:\n      if \"ID = \" in row:\n        my_key = int(row.split(\"ID = \")[1])  # grab the ID number\n        my_list = []  # initialize a new data list for a new ID\n      elif row != \"\\n\":  # skip rows that only have newline char\n        try:  # if this fails, we don't have a valid data line\n          my_list.append(tuple([int(x) for x in row.split()]))\n        except:\n          my_dict[my_key] = my_list  # stores the data list\n          continue  # repeat until done with file\n  return my_dict\n</code></pre>\n\n<p>I made it a function so that you can it from anywhere, just passing the filename. It makes assumptions about the file format, but if the file format is always what you showed us here, it should work for you. You would call it on your <code>data.txt</code> file like:</p>\n\n<pre><code>a_dictionary = parse_file(\"data.txt\")\n</code></pre>\n\n<p>I tested it on the data that you gave us and it seems to work just fine after deleting the \"...\" rows.</p>\n\n<p><strong>Edit:</strong> I noticed one small bug. As written, it will add an empty tuple in place of a new line character (<code>\"\\n\"</code>) wherever that appears alone on a line. To fix this, put the <code>try:</code> and <code>except:</code> clauses inside of this:</p>\n\n<pre><code>elif row != \"\\n\":  # skips rows that only contain newline char\n</code></pre>\n\n<p>I added this to the full code above as well.</p>\n"}], "owner": {"reputation": 127, "user_id": 2603222, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9b7eeac5e8cfa19a0a475e0e5f103ba3?s=128&d=identicon&r=PG", "display_name": "Niles Bernoulli", "link": "https://stackoverflow.com/users/2603222/niles-bernoulli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1437677871, "creation_date": 1437594501, "question_id": 31572676, "link": "https://stackoverflow.com/questions/31572676/tricky-string-parsing-with-python", "title": "tricky string parsing with python", "body": "<p>I have a text file like this:</p>\n\n<pre><code>ID = 31\nNe = 5122\n============\nList of 104 four tuples:\n1    2    12    40\n2    3    4     21\n.\n.\n51   21   41    42   \n\nID = 34\nNe = 5122\n============\nList of 104 four tuples:\n3    2    12    40\n4    3    4     21\n.\n.\n</code></pre>\n\n<p>The four-tuples are tab delimited.</p>\n\n<p>For each ID, I'm trying to make a dictionary with the ID being the key and the four-tuples (in list/tuple form) as elements of that key.</p>\n\n<pre><code> dict = {31: (1,2,12,40),(2,3,4,21)....., 32:(3,2,12,40), (4,3,4,21)..\n</code></pre>\n\n<p>My string parsing knowledge is limited to adding using a reference object for file.readlines(), using str.replace() and str.split() on 'ID = '. But there has to be a better way. Here some beginnings of what I have.</p>\n\n<pre><code>file = open('text.txt', 'r')\nfp = file.readlines()\nB = [];\nfor x in fp:\n    x.replace('\\t',',')\n    x.replace('\\n',')')\n    B.append(x)\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2805274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7d1c14a39c50983ba5bf86221735e9?s=128&d=identicon&r=PG&f=1", "display_name": "Linocomp", "link": "https://stackoverflow.com/users/2805274/linocomp"}, "edited": false, "score": 0, "creation_date": 1437595953, "post_id": 31572841, "comment_id": 51100969, "body": "I thought about it. But I want to keep one test name and delete others and preserve the order. For ex. Keep test1 (this is one long test name) and delete others as I go though file line by line. While doing that I don&#39;t want to do anything to the lines that starts with word &#39;error&#39;"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 39, "user_id": 2805274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7d1c14a39c50983ba5bf86221735e9?s=128&d=identicon&r=PG&f=1", "display_name": "Linocomp", "link": "https://stackoverflow.com/users/2805274/linocomp"}, "edited": false, "score": 0, "creation_date": 1437596250, "post_id": 31572841, "comment_id": 51101159, "body": "@Linocomp I made a simple change try it now!"}, {"owner": {"reputation": 39, "user_id": 2805274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7d1c14a39c50983ba5bf86221735e9?s=128&d=identicon&r=PG&f=1", "display_name": "Linocomp", "link": "https://stackoverflow.com/users/2805274/linocomp"}, "edited": false, "score": 0, "creation_date": 1437596742, "post_id": 31572841, "comment_id": 51101487, "body": "yes, I tried. it is not working. Basically my test names are superlong, but all start with common word &#39;test&#39;. My logic is to just compare test names , delete repeating ones and write as it is with errors in the preserved order."}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1437597352, "last_edit_date": 1437597352, "creation_date": 1437595002, "answer_id": 31572841, "question_id": 31572630, "link": "https://stackoverflow.com/questions/31572630/how-to-delete-repeating-lines-starting-with-specific-word-in-python/31572841#31572841", "title": "How to delete repeating lines starting with specific word in python", "body": "<p>All you need is to preserve the lines that starts with <code>Test</code> in a set and check if you have it already just don't write it in output file : </p>\n\n<pre><code>def delete_duplicate(inputfile,outputfile,seen={}):\n    with open(outputfile, \"w\") as output,open(inputfile, \"r\") as input: \n      for line in input:\n        if line not in seen:\n             output.write(line+'\\n')\n        if line.startswith('Test'):\n            seen.add(line)\n</code></pre>\n\n<p>The advantage of <code>set</code> is that its order is O(1) for check the membership and adding items.</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 2805274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7d1c14a39c50983ba5bf86221735e9?s=128&d=identicon&r=PG&f=1", "display_name": "Linocomp", "link": "https://stackoverflow.com/users/2805274/linocomp"}, "edited": false, "score": 0, "creation_date": 1437597366, "post_id": 31573146, "comment_id": 51101893, "body": "Fantastic!! Thanks a lot"}, {"owner": {"reputation": 39, "user_id": 2805274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7d1c14a39c50983ba5bf86221735e9?s=128&d=identicon&r=PG&f=1", "display_name": "Linocomp", "link": "https://stackoverflow.com/users/2805274/linocomp"}, "edited": false, "score": 0, "creation_date": 1437597547, "post_id": 31573146, "comment_id": 51101994, "body": "I have one query, it doesn&#39;t actually print some lines at the start of file like Report start! etc. it ignores lines while going through it one by one."}, {"owner": {"reputation": 28, "user_id": 5065943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c262c3a4907ee090cfee8a266bc7bdd7?s=128&d=identicon&r=PG&f=1", "display_name": "Firebarrage", "link": "https://stackoverflow.com/users/5065943/firebarrage"}, "reply_to_user": {"reputation": 39, "user_id": 2805274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7d1c14a39c50983ba5bf86221735e9?s=128&d=identicon&r=PG&f=1", "display_name": "Linocomp", "link": "https://stackoverflow.com/users/2805274/linocomp"}, "edited": false, "score": 0, "creation_date": 1437598071, "post_id": 31573146, "comment_id": 51102264, "body": "Ah. I had assumed that it was safe to ignore any extra lines.  You should be able to modify it to keep other lines by adding <code>output_dict[&#39;&#39;] = []</code> after output_dict is declared and changing the <code>elif line.startswith(&#39;Error&#39;):</code> to <code>elif line != &#39;&#39;:</code>. A bit of a workaround, but it should do the trick."}], "tags": [], "owner": {"reputation": 28, "user_id": 5065943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c262c3a4907ee090cfee8a266bc7bdd7?s=128&d=identicon&r=PG&f=1", "display_name": "Firebarrage", "link": "https://stackoverflow.com/users/5065943/firebarrage"}, "is_accepted": true, "score": 0, "last_activity_date": 1437596124, "creation_date": 1437596124, "answer_id": 31573146, "question_id": 31572630, "link": "https://stackoverflow.com/questions/31572630/how-to-delete-repeating-lines-starting-with-specific-word-in-python/31573146#31573146", "title": "How to delete repeating lines starting with specific word in python", "body": "<p>At the moment it looks like your code is simply inserting each line into the dictionary if it hasn't come across it before. It also seems like you want to track the errors independently for each test. You could do this with an OrderedDict that would look a bit like this:</p>\n\n<pre><code>output_dict = {\n    'test1' : ['Error1','Error1','Error2','Error3'],\n    'test2' : ['Error1','Error4','Error5','Error1']\n}\n</code></pre>\n\n<p>The code to handle this would look like the following.</p>\n\n<pre><code>import os\nimport sys\nimport optparse\nfrom collections import OrderedDict\n\n\ndef delete_duplicate(inputfile,outputfile): \n    # Declare the files and get the lines\n    outfile = open(outputfile, \"w\")\n    infile = open(inputfile, \"r\")\n    lines = (line.strip() for line in infile)\n\n    output_dict = OrderedDict()\n    currentTest = '' # Used to keep track of which test we are working with\n\n    for line in lines:\n        if line.startswith('Test'): # A new test is starting\n            currentTest = line\n            if currentTest not in output_dict:\n                output_dict[currentTest] = []\n        elif line.startswith('Error'): # Add the error to the current test\n            output_dict[currentTest].append(line)\n\n    for test in output_dict.keys():\n        outfile.write(test + '\\n') # Write the test number\n        for error in output_dict[test]:\n            outfile.write(error + '\\n') # Write the errors for that test\n        outfile.write('\\n')\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2805274, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7d1c14a39c50983ba5bf86221735e9?s=128&d=identicon&r=PG&f=1", "display_name": "Linocomp", "link": "https://stackoverflow.com/users/2805274/linocomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 31573146, "answer_count": 2, "score": 0, "last_activity_date": 1437607474, "creation_date": 1437594374, "question_id": 31572630, "link": "https://stackoverflow.com/questions/31572630/how-to-delete-repeating-lines-starting-with-specific-word-in-python", "title": "How to delete repeating lines starting with specific word in python", "body": "<p>I have an inputfile of the form </p>\n\n<p>All tests start with the word \"Test\" and all errors start with the word \"error\" </p>\n\n<pre><code>Test1\nError1\nError1 \nError2\nTest1\nError3\n\nTest2\nError1\nError4 \n\nTest2\nError5\nError1\n\nTest3\nError1\n\nI want it in the format:\nTest1\nError1\nError1\nError2\nError3 // Removed test1 \n\nTest2\nError1\nError4\nError5\nError1\n\nTest3\nError1 \n</code></pre>\n\n<p>Basically while going through the file, it should delete repeated testnames and write it in the same order to an output file. \nFollowing is my code</p>\n\n<pre><code>import os\nimport sys\nimport optparse\n\ndef delete_duplicate(inputfile,outputfile): \n    output = open(outputfile, \"w\")\n    from collections import OrderedDict\n    input = open(inputfile, \"r\")\n    lines = (line.strip() for line in input)\n    unique_lines = OrderedDict.fromkeys((line for line in lines if line))\n    for unique_line in unique_lines:\n        output.write(unique_line)\n        output.write(\"\\n\") \n\nMy code removes duplicate lines and gives result as below: \nTest1\nError1\nError2\nError3 \n\nTest2\nError4\nError5\n\nTest3 \n</code></pre>\n\n<p>It is working fine with testnames but not with errors. Can anybody help?</p>\n"}, {"tags": ["python", "facebook"], "comments": [{"owner": {"reputation": 796, "user_id": 4920579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EGG30.jpg?s=128&g=1", "display_name": "amza", "link": "https://stackoverflow.com/users/4920579/amza"}, "edited": false, "score": 0, "creation_date": 1437594542, "post_id": 31572627, "comment_id": 51100114, "body": "Does it work with other users? People can change their permissions, which could explain why it works one day and not another."}, {"owner": {"reputation": 74, "user_id": 4730972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f2fef633aaa372cf31437cd33bcc35?s=128&d=identicon&r=PG&f=1", "display_name": "Teuszie", "link": "https://stackoverflow.com/users/4730972/teuszie"}, "reply_to_user": {"reputation": 796, "user_id": 4920579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EGG30.jpg?s=128&g=1", "display_name": "amza", "link": "https://stackoverflow.com/users/4920579/amza"}, "edited": false, "score": 0, "creation_date": 1437594707, "post_id": 31572627, "comment_id": 51100213, "body": "Unfortunately not - I&#39;ve tried several different users to no avail."}], "answers": [{"tags": [], "owner": {"reputation": 74, "user_id": 4730972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f2fef633aaa372cf31437cd33bcc35?s=128&d=identicon&r=PG&f=1", "display_name": "Teuszie", "link": "https://stackoverflow.com/users/4730972/teuszie"}, "is_accepted": false, "score": 0, "last_activity_date": 1437655794, "creation_date": 1437655794, "answer_id": 31587892, "question_id": 31572627, "link": "https://stackoverflow.com/questions/31572627/python-facebook-sdk-not-pulling-page-likes/31587892#31587892", "title": "Python facebook-sdk not pulling page likes", "body": "<p>So it started working again today. I did not touch anything or change any code. I used my original token which was throwing the error \"An unknown error has occurred.\". In-case anyone out there is wondering - <strong>An app access token will not expire!</strong> so creating a new token was pointless.</p>\n\n<p>So the answer is: facebook API <code>\u00af\\_(\u30c4)_/\u00af</code></p>\n"}], "owner": {"reputation": 74, "user_id": 4730972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f2fef633aaa372cf31437cd33bcc35?s=128&d=identicon&r=PG&f=1", "display_name": "Teuszie", "link": "https://stackoverflow.com/users/4730972/teuszie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437655794, "creation_date": 1437594369, "question_id": 31572627, "link": "https://stackoverflow.com/questions/31572627/python-facebook-sdk-not-pulling-page-likes", "title": "Python facebook-sdk not pulling page likes", "body": "<p>I'm trying to pull the number of likes for a Facebook page. I have two access tokens: one keeps giving me an error of \"An unknown error has occurred.\" so I created a new one which is not able to pull the number of likes for a page.  </p>\n\n<p>Here's what my example code looks like (partially taken from the pythonforfacebook/facebook-sdk GitHub repository):</p>\n\n<pre><code>import facebook\nimport requests\nFACEBOOK_APP_ID = \"*********\"\nFACEBOOK_APP_SECRET = \"*********\"\naccess_token = facebook.get_app_access_token(FACEBOOK_APP_ID, FACEBOOK_APP_SECRET)\nuser = 'BillGates'\ngraph = facebook.GraphAPI(access_token)\nprofile = graph.get_object(user)\nprint profile['likes']\n</code></pre>\n\n<p>And the error I'm recieving is \"Keyerror: 'likes'\". (Which obviously means the key 'likes' is not in the object I created - however, I used this same code yesterday without any issues and it suddenly bugged out today with no changes to the code).</p>\n\n<p>Other calls with the object work, such as:</p>\n\n<pre><code>posts = graph.get_connections(profile['id'], 'posts')\n</code></pre>\n\n<p>Why has the 'likes' key disappeared suddenly? </p>\n"}, {"tags": ["python", "arrays", "encoding", "suds"], "answers": [{"tags": [], "owner": {"reputation": 637, "user_id": 5062638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tT4pJ.jpg?s=128&g=1", "display_name": "cunniemm", "link": "https://stackoverflow.com/users/5062638/cunniemm"}, "is_accepted": true, "score": 0, "last_activity_date": 1437662572, "creation_date": 1437662572, "answer_id": 31590680, "question_id": 31572592, "link": "https://stackoverflow.com/questions/31572592/pass-an-array-to-web-service-suds-jurko/31590680#31590680", "title": "Pass an array to web service SUDS (Jurko)", "body": "<p>Nevermind everyone, looks like the array needed was an array of TankLevelData and I was just giving it integers therefor causing my error. My bad.</p>\n"}], "owner": {"reputation": 637, "user_id": 5062638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tT4pJ.jpg?s=128&g=1", "display_name": "cunniemm", "link": "https://stackoverflow.com/users/5062638/cunniemm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 31590680, "answer_count": 1, "score": 0, "last_activity_date": 1446316462, "creation_date": 1437594278, "last_edit_date": 1446316462, "question_id": 31572592, "link": "https://stackoverflow.com/questions/31572592/pass-an-array-to-web-service-suds-jurko", "title": "Pass an array to web service SUDS (Jurko)", "body": "<p>I know I'm probably doing something pretty stupid or small (I hope) but what I'm doing is passing suds an array of data but all I'm getting is this error.</p>\n\n<blockquote>\n  <p>suds.WebFault: Server raised fault: 'The formatter threw an exception while trying to deserialize the message: There was an error while trying to deserialize parameter <a href=\"http://tempuri.org/:tankLevelDataArray\" rel=\"nofollow\">http://tempuri.org/:tankLevelDataArray</a>. The InnerException message was 'Error in line 1 position 407. Expecting state 'Element'.. Encountered 'Text'  with name '', namespace ''. '.  Please see InnerException for more details.'</p>\n</blockquote>\n\n<p>No matter what I try my program will keep getting this issue, this is my code that I am currently using to pass it the array.</p>\n\n<pre><code>def PosEncodedTankData( Id, encodedTankData ):\n    global HOST2\n    global PORT2\n    global DATA\n\n    date = datetime.datetime.now()\n    #Setup Soap\n    client = Client(HOST2)\n\n    try:\n        #Send data\n        print (client)\n        tankLevelDataArray = client.factory.create('tankLevelDataArray')\n\n        tankLevelDataArray = np.array(sortData(DATA, 21, tankLevelDataArray))\n\n        client.service.PostTankDataArray (1, tankLevelDataArray)\n        print (\"Message Recieved\")\n\n\n    except TimeoutError:\n        print (\"Message was not sent\")\n</code></pre>\n\n<p>So when go through that method is just fails.. But I haven't been able to figure out what is happening.</p>\n\n<p>I am passing a array of arrays.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 696, "user_id": 803749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b453f9ad2fcc791f2c7980e4a6274962?s=128&d=identicon&r=PG", "display_name": "myersjustinc", "link": "https://stackoverflow.com/users/803749/myersjustinc"}, "edited": false, "score": 0, "creation_date": 1437594547, "post_id": 31572589, "comment_id": 51100121, "body": "Do you have a link to where you&#39;re seeing this?"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 5145193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1e0071f63fd032045473df52d22ce906?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank Sharma", "link": "https://stackoverflow.com/users/5145193/mayank-sharma"}, "edited": false, "score": 0, "creation_date": 1437595674, "post_id": 31572732, "comment_id": 51100805, "body": "but the second one has invalid syntax if i am not wrong"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 3, "last_activity_date": 1437594674, "creation_date": 1437594674, "answer_id": 31572732, "question_id": 31572589, "link": "https://stackoverflow.com/questions/31572589/difference-between-logical-line-and-physical-line-in-python/31572732#31572732", "title": "Difference between logical line and physical line in python", "body": "<p>This is from the Python documentation regarding <a href=\"https://docs.python.org/3/reference/lexical_analysis.html\" rel=\"nofollow\">lexical analysis</a>.</p>\n\n<p>Here is one logical and physical line:</p>\n\n<pre><code>my_list = [1, 2, 3, 4]\n</code></pre>\n\n<p>Here is one logical line on two physical lines:</p>\n\n<pre><code>my_list = [1, 2,\n           3, 4]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1437594739, "creation_date": 1437594739, "answer_id": 31572754, "question_id": 31572589, "link": "https://stackoverflow.com/questions/31572589/difference-between-logical-line-and-physical-line-in-python/31572754#31572754", "title": "Difference between logical line and physical line in python", "body": "<p>When you write a program , what you see is considered to be a <code>physical line</code>.</p>\n\n<p><code>Logical line</code> refers to a single statement what python sees.</p>\n\n<p>An example of a logical line is a statement like print 'Hello World!'.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5258747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61425ee19a27fd8b310d1de8be617fa8?s=128&d=identicon&r=PG&f=1", "display_name": "apoorv gupta", "link": "https://stackoverflow.com/users/5258747/apoorv-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1453957854, "last_edit_date": 1453957854, "creation_date": 1453957317, "answer_id": 35053210, "question_id": 31572589, "link": "https://stackoverflow.com/questions/31572589/difference-between-logical-line-and-physical-line-in-python/35053210#35053210", "title": "Difference between logical line and physical line in python", "body": "<p>Two or more physical lines may be joined into logical lines using backslash characters (), as follows: when a physical line ends in a backslash that is not part of a string literal or comment, it is joined with the following forming a single logical line, deleting the backslash and the following end-of-line character.</p>\n\n<pre><code>if 1900 &lt; year &lt; 2100 and 1 &lt;= month &lt;= 12 \\\nand 1 &lt;= day &lt;= 31 and 0 &lt;= hour &lt; 24 \\\nand 0 &lt;= minute &lt; 60 and 0 &lt;= second &lt; 60:   # Looks like a valid date\nreturn 1\n</code></pre>\n\n<p><strong>Remember:</strong></p>\n\n<ul>\n<li>A line ending in a backslash cannot carry a comment.</li>\n<li>A backslash does not continue a comment.</li>\n<li>A backslash does not continue a token except for string literals (i.e., tokens other than string literals cannot be split across physical lines using a backslash).</li>\n<li>A backslash is illegal elsewhere on a line outside a string literal.</li>\n</ul>\n"}], "owner": {"reputation": 103, "user_id": 5145193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1e0071f63fd032045473df52d22ce906?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank Sharma", "link": "https://stackoverflow.com/users/5145193/mayank-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2302, "favorite_count": 1, "accepted_answer_id": 31572732, "answer_count": 3, "score": 1, "last_activity_date": 1453957854, "creation_date": 1437594270, "last_edit_date": 1437594728, "question_id": 31572589, "link": "https://stackoverflow.com/questions/31572589/difference-between-logical-line-and-physical-line-in-python", "title": "Difference between logical line and physical line in python", "body": "<p>I was reading and i got these two terms and i am confused as in logical line it says \"The end of a logical line is represented by the token NEWLINE\".\nNewline means go to the next line which eventually ends the line.</p>\n\n<p>And in physical line its written \"A physical line is a sequence of characters terminated by an end-of-line sequence\". so the same thing happens when we use newline with logical line. so what is the difference?</p>\n\n<p>the link is '<a href=\"https://docs.python.org/3.3/reference/lexical_analysis.html#logical-lines\" rel=\"nofollow\">https://docs.python.org/3.3/reference/lexical_analysis.html#logical-lines</a>'</p>\n"}, {"tags": ["python", "django", "pointers", "structure", "ctypes"], "comments": [{"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 0, "creation_date": 1437606475, "post_id": 31572545, "comment_id": 51105870, "body": "You are defining <code>restype</code> and <code>argtypes</code> for <code>DismDelete</code> but calling <code>DismGetLastErrorMessage</code>. Could you fix that inconsistency first?"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1437619665, "post_id": 31572545, "comment_id": 51109040, "body": "Define a base class named <code>DismStructure</code> that has no fields. Use this as the base class for DISM structures such as <code>DismString</code>. Set <code>DismDelete.argtypes = [POINTER(DismStructure)]</code>. Set <code>DismGetLastErrorMessage.argtypes = [POINTER(POINTER(DismString))]</code>. Instantiate <code>ps = POINTER(DismString)()</code>. Call <code>DismGetLastErrorMessage(byref(ps))</code>. Get the string value as <code>s = ps[0].Value</code>, and then deallocate the structure by calling <code>DismDelete(ps)</code>."}, {"owner": {"reputation": 787, "user_id": 3357313, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nF5eZ.gif?s=128&g=1", "display_name": "FalloutBoy", "link": "https://stackoverflow.com/users/3357313/falloutboy"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1437685789, "post_id": 31572545, "comment_id": 51147896, "body": "@eryksun You are the best!!!!!!! It works fine. Thank you!"}], "owner": {"reputation": 787, "user_id": 3357313, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nF5eZ.gif?s=128&g=1", "display_name": "FalloutBoy", "link": "https://stackoverflow.com/users/3357313/falloutboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1437594107, "creation_date": 1437594107, "question_id": 31572545, "link": "https://stackoverflow.com/questions/31572545/pass-pointer-to-c-function-in-python", "title": "Pass pointer to c++ function in python", "body": "<p>i try to call a function of a Windows dll, called DISM.</p>\n\n<pre><code>HRESULT WINAPI DismGetLastErrorMessage(\n   _Out_ DismString** ErrorMessage \n);\n</code></pre>\n\n<p>Here an example:</p>\n\n<pre><code>HRESULT hr = S_OK;\nDismString* ErrorMessage;\n\nhr = DismGetLastErrorMessage(&amp;ErrorMessage);\n</code></pre>\n\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/hh824754.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/desktop/hh824754.aspx</a></p>\n\n<p>The structure looks like</p>\n\n<pre><code>typedef struct _DismString\n{\n    PCWSTR Value;\n}\nDismString;\n</code></pre>\n\n<p>while Value is \"A null-terminated Unicode string.\"</p>\n\n<p>Here is my code:\nmodels.py</p>\n\n<pre><code>from django.db import models\nfrom ctypes import *\n\nclass DismString(Structure):\n_fields_ = [(\"Value\", c_wchar_p)]\n\nclass DismManager(models.Model):\n\nclass Meta:\n    abstract = True\n\ndef __init__(self, dll):\n\n    self.hDism = OleDLL(dll)\n\n\n\ndef GetLastErrorMessage(self):\n    self.hDism.DismDelete.restype = HRESULT\n    self.hDism.DismDelete.argtypes = [POINTER(DismString)]\n    s = DismString()\n    try:\n        test = self.hDism.DismGetLastErrorMessage(byref(s))\n        print(test)\n        #print(s)\n        return s\n    except WindowsError as e:\n        return print(\"Error message\", e.strerror, \"\\nError code\", e)\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>from ctypes import OleDLL\nfrom django.http import HttpResponse\n\nfrom api.models import DismManager\n\ndef index(request):\n\n    # Load library\n    obj = DismManager(\"C:\\\\Program Files (x86)\\\\Windows Kits\\\\8.0\\Assessment and Deployment Kit\\\\Deployment Tools\\\\amd64\\\\DISM\\\\dismapi.dll\")\n\n    obj.Init(2, u\"C:\\\\newDism\")\n\n    session = obj.OpenSession(u\"C:\\\\mounter\") # throws an error\n    last_error = obj.GetLastErrorMessage() # want to catch the error with it\n    print(last_error.Value) # throws *** UnicodeEncodeError: 'charmap' codec can't encode character '\\ua0b0' in position 1: character maps to &lt;undefined&gt;\n\n    return HttpResponse(\"Hello, world.\")\n</code></pre>\n\n<p>It looks like i am not able to get a proper returning string. I either get an error or an unreadable string.\nWhen i write last.error.encode(), it returns b'\\xea\\x82\\xb0P'.</p>\n\n<p>I hope someone can help.</p>\n"}, {"tags": ["python", "html", "virtual-machine", "anaconda", "userappdatapath"], "answers": [{"tags": [], "owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "is_accepted": true, "score": 0, "last_activity_date": 1437671879, "creation_date": 1437671879, "answer_id": 31594070, "question_id": 31572540, "link": "https://stackoverflow.com/questions/31572540/using-a-remote-deskdop-connection-to-run-python-empty-html-files/31594070#31594070", "title": "Using a Remote Deskdop Connection to run Python, empty html files", "body": "<p>The problem was that Internet Explorer on the VM was very old and therefore not running the html code properly. Updated to Firefox and it worked!</p>\n"}], "owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 31594070, "answer_count": 1, "score": 0, "last_activity_date": 1437671879, "creation_date": 1437594102, "last_edit_date": 1437597063, "question_id": 31572540, "link": "https://stackoverflow.com/questions/31572540/using-a-remote-deskdop-connection-to-run-python-empty-html-files", "title": "Using a Remote Deskdop Connection to run Python, empty html files", "body": "<p>I am trying to run my python files from a Remote Desktop Connection (virtual machine?). I copied over a few folders I thought would be relevant and ran Anaconda to install python and the add-ons.</p>\n\n<p>My code runs, but the output is html files and in the VM they are empty. I checked the code for the html and it looks like it writes information from my local C:\\ drive. For example, this is a snippet from the html: <code>BEGIN C:\\Users\\jbyrusb\\AppData\\Local\\Continuum\\Anaconda\\lib\\site-packages\\bokeh\\server\\static\\css/bokeh.min.css</code></p>\n\n<p>I tried to copy the AppData folder over to the VM. Still, the html files come up empty. </p>\n\n<p>Does anyone know why/ a better way to move my things onto a VM? This is my first time using one. </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "edited": false, "score": 0, "creation_date": 1437596273, "post_id": 31573052, "comment_id": 51101179, "body": "Very close! the <code>from_dt_x</code> and <code>to_dt_x</code> in result aren&#39;t what I&#39;m looking for but this is a huge step in the right direction!"}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "reply_to_user": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "edited": false, "score": 1, "creation_date": 1437596660, "post_id": 31573052, "comment_id": 51101434, "body": "@pyCthon my bad, I misunderstood your question. I&#39;ve updated code and now it keeps the overlap periods as <code>from_dt</code> and <code>to_dt</code>. :-)"}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1437596613, "last_edit_date": 1437596613, "creation_date": 1437595810, "answer_id": 31573052, "question_id": 31572535, "link": "https://stackoverflow.com/questions/31572535/pandas-join-two-dataframes-based-on-multiple-dates/31573052#31573052", "title": "Pandas join two dataframes based on multiple dates", "body": "<p>This can be done in two steps. First do a outer-merge, and second keep the rows that do overlap.</p>\n\n<pre><code>import pandas as pd\n\n# your data\n# ===================================\ndf\n\n   value my_key     from_dt       to_dt\n0      1      a  2007-01-01  2009-02-01\n1      2      b  2001-01-01  2011-01-01\n2      3      c  2015-01-01  2020-01-01\n\ndf2\n\n  my_key value2     from_dt       to_dt\n0      a     a1  2007-01-01  2008-01-01\n1      a     a2  2008-01-01  2010-01-01\n2      b     b1  2009-01-01  2015-01-01\n3      c     c1  2011-01-01  2011-12-30\n\n# processing\n# ======================================\n# outer merge\ndf_temp = pd.merge(df, df2, on=['my_key'], how='outer')\n\n# just make sure that the columns are in proper datetime type\n# you don't have to do this if your data is already in datetime\ndf_temp.from_dt_x = pd.to_datetime(df_temp.from_dt_x)\ndf_temp.to_dt_x = pd.to_datetime(df_temp.to_dt_x)\ndf_temp.from_dt_y = pd.to_datetime(df_temp.from_dt_y)\ndf_temp.to_dt_y = pd.to_datetime(df_temp.to_dt_y)\n\n   value my_key  from_dt_x    to_dt_x value2  from_dt_y    to_dt_y\n0      1      a 2007-01-01 2009-02-01     a1 2007-01-01 2008-01-01\n1      1      a 2007-01-01 2009-02-01     a2 2008-01-01 2010-01-01\n2      2      b 2001-01-01 2011-01-01     b1 2009-01-01 2015-01-01\n3      3      c 2015-01-01 2020-01-01     c1 2011-01-01 2011-12-30\n\n# get rows that do overlap\nresult = df_temp[(df_temp.to_dt_x &gt;= df_temp.from_dt_y) &amp; (df_temp.from_dt_x &lt;= df_temp.to_dt_y)]\n\n   value my_key  from_dt_x    to_dt_x value2  from_dt_y    to_dt_y\n0      1      a 2007-01-01 2009-02-01     a1 2007-01-01 2008-01-01\n1      1      a 2007-01-01 2009-02-01     a2 2008-01-01 2010-01-01\n2      2      b 2001-01-01 2011-01-01     b1 2009-01-01 2015-01-01\n</code></pre>\n\n<h3>Update:</h3>\n\n<pre><code>result['from_dt'] = result[['from_dt_x', 'from_dt_y']].max(axis=1)\nresult['to_dt'] = result[['to_dt_x', 'to_dt_y']].min(axis=1)\nresult.drop(['from_dt_x', 'to_dt_x', 'from_dt_y', 'to_dt_y'], axis=1)\n\n   value my_key value2    from_dt      to_dt\n0      1      a     a1 2007-01-01 2008-01-01\n1      1      a     a2 2008-01-01 2009-02-01\n2      2      b     b1 2009-01-01 2011-01-01\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 2271603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f59439b6cdef697a54fbd92bf19025f?s=128&d=identicon&r=PG", "display_name": "operatorbeats", "link": "https://stackoverflow.com/users/2271603/operatorbeats"}, "is_accepted": false, "score": 2, "last_activity_date": 1437597445, "creation_date": 1437597445, "answer_id": 31573530, "question_id": 31572535, "link": "https://stackoverflow.com/questions/31572535/pandas-join-two-dataframes-based-on-multiple-dates/31573530#31573530", "title": "Pandas join two dataframes based on multiple dates", "body": "<p>@Jianxun's answer is great-- note also that if your data is in CSV as the question seems to suggest, you can get <code>pd.datetime</code> automatically with </p>\n\n<pre><code>df = pd.read_csv(\"df.csv\", parse_dates=True)\n</code></pre>\n\n<p>You may want to check out <a href=\"http://pandas.pydata.org/pandas-docs/stable/merging.html\" rel=\"nofollow\">these</a> <a href=\"http://pandas.pydata.org/pandas-docs/stable/timeseries.html\" rel=\"nofollow\">sections</a> of the pandas docs.</p>\n"}], "owner": {"reputation": 10175, "user_id": 848277, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5cdc781dc896e21c88f1cd5ad1cc6b1?s=128&d=identicon&r=PG", "display_name": "pyCthon", "link": "https://stackoverflow.com/users/848277/pycthon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 31573052, "answer_count": 2, "score": 0, "last_activity_date": 1437597445, "creation_date": 1437594094, "last_edit_date": 1437595241, "question_id": 31572535, "link": "https://stackoverflow.com/questions/31572535/pandas-join-two-dataframes-based-on-multiple-dates", "title": "Pandas join two dataframes based on multiple dates", "body": "<p>I have two<code>pandas</code> <code>DataFrames</code>, where I am trying to preform an advanced join. In the following example I want to join <code>df</code> and <code>df2</code> based on <code>my_key</code> where the date range <code>from_dt</code> and <code>to_dt</code> have an overlap. How can I do this using pandas?</p>\n\n<p><strong>Ex df:</strong></p>\n\n<pre><code>value, my_key, from_dt, to_dt\n1, a, 2007-01-01, 2009-02-01\n2, b, 2001-01-01, 2011-01-01\n3, c, 2015-01-01, 2020-01-01\n</code></pre>\n\n<p><strong>df2:</strong></p>\n\n<pre><code>my_key, value2, from_dt, to_dt\na, a1, 2007-01-01, 2008-01-01\na, a2, 2008-01-01, 2010-01-01\nb, b1, 2009-01-01, 2015-01-01\nc, c1, 2011-01-01, 2011-12-30\n</code></pre>\n\n<p><strong>desired result:</strong></p>\n\n<pre><code>value, value2, from_dt, to_dt\n1, a1, 2007-01-01, 2008-01-01\n1, a2, 2008-01-01, 2009-02-01\n2, b1, 2009-01-01, 2011-01-01\n</code></pre>\n"}, {"tags": ["python", "virtualenv", "osx-mavericks", "homebrew", "virtualenvwrapper"], "comments": [{"owner": {"reputation": 3764, "user_id": 544057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a87a44d905cfb69a4cbc8f4a60359d4?s=128&d=identicon&r=PG", "display_name": "rholmes", "link": "https://stackoverflow.com/users/544057/rholmes"}, "edited": false, "score": 0, "creation_date": 1437598154, "post_id": 31572506, "comment_id": 51102313, "body": "Did you upgrade the OS or just restore from a backup?  If upgrade, from what to what? Thanks."}, {"owner": {"reputation": 103, "user_id": 582310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f63438acabfcda61f87f57c6422379c?s=128&d=identicon&r=PG", "display_name": "steph", "link": "https://stackoverflow.com/users/582310/steph"}, "reply_to_user": {"reputation": 3764, "user_id": 544057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a87a44d905cfb69a4cbc8f4a60359d4?s=128&d=identicon&r=PG", "display_name": "rholmes", "link": "https://stackoverflow.com/users/544057/rholmes"}, "edited": false, "score": 0, "creation_date": 1437601828, "post_id": 31572506, "comment_id": 51104120, "body": "@rholmes, I did not upgrade the OS. I erased the disk and restored from backup (Time Machine)."}, {"owner": {"reputation": 3764, "user_id": 544057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a87a44d905cfb69a4cbc8f4a60359d4?s=128&d=identicon&r=PG", "display_name": "rholmes", "link": "https://stackoverflow.com/users/544057/rholmes"}, "edited": false, "score": 0, "creation_date": 1440897529, "post_id": 31572506, "comment_id": 52461870, "body": "You&#39;re probably back up and running by now - forgot about this one for a while."}], "answers": [{"tags": [], "owner": {"reputation": 3764, "user_id": 544057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a87a44d905cfb69a4cbc8f4a60359d4?s=128&d=identicon&r=PG", "display_name": "rholmes", "link": "https://stackoverflow.com/users/544057/rholmes"}, "is_accepted": false, "score": 1, "last_activity_date": 1440897753, "last_edit_date": 1495540837, "creation_date": 1440897100, "answer_id": 32292273, "question_id": 31572506, "link": "https://stackoverflow.com/questions/31572506/virtualenvwrapper-user-scripts-could-not-find-get-env-details/32292273#32292273", "title": "virtualenvwrapper.user_scripts could not find get_env_details", "body": "<p>When things like this have happened to me, I usually reinstall Homebrew.  See this link on SO: <a href=\"https://stackoverflow.com/questions/11038028/what-is-the-best-safest-way-to-reinstall-homebrew\">Safest way to reinstall Homebrew</a></p>\n\n<p>Afterwards, you may have to recreate your Python Virtualenv (to pick up the right Python binaries and libraries).</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 582310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f63438acabfcda61f87f57c6422379c?s=128&d=identicon&r=PG", "display_name": "steph", "link": "https://stackoverflow.com/users/582310/steph"}, "is_accepted": true, "score": 1, "last_activity_date": 1477581501, "creation_date": 1477581501, "answer_id": 40288398, "question_id": 31572506, "link": "https://stackoverflow.com/questions/31572506/virtualenvwrapper-user-scripts-could-not-find-get-env-details/40288398#40288398", "title": "virtualenvwrapper.user_scripts could not find get_env_details", "body": "<p>It's a bit late for an actual answer but I hope it helps someone with the same problem in the future.</p>\n\n<p>What actually happened:</p>\n\n<ul>\n<li><p>I did a fresh install of the OS.</p></li>\n<li><p>I used Migration Assistant to migrate my data from Time Machine.  I believe this step corrupted my environment and paths.</p></li>\n</ul>\n\n<p>The solution was to use <a href=\"https://support.apple.com/en-us/HT201314\" rel=\"nofollow\">macOS Recovery</a> and choose \"Restore from Time Machine\".</p>\n"}], "owner": {"reputation": 103, "user_id": 582310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f63438acabfcda61f87f57c6422379c?s=128&d=identicon&r=PG", "display_name": "steph", "link": "https://stackoverflow.com/users/582310/steph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1107, "favorite_count": 0, "accepted_answer_id": 40288398, "answer_count": 2, "score": 2, "last_activity_date": 1477581501, "creation_date": 1437593977, "question_id": 31572506, "link": "https://stackoverflow.com/questions/31572506/virtualenvwrapper-user-scripts-could-not-find-get-env-details", "title": "virtualenvwrapper.user_scripts could not find get_env_details", "body": "<p>When I run <code>mkvirtualenv TESTING</code>:</p>\n\n<pre><code>New python executable in TESTING/bin/python2.7\nAlso creating executable in TESTING/bin/python\nInstalling setuptools, pip, wheel...done.\nvirtualenvwrapper.user_scripts could not run \"/Users/admin/.virtualenvs/TESTING/bin/preactivate\": [Errno 2] No such file or directory\n</code></pre>\n\n<p>A similar error appears when I run <code>lsvirtualenv</code>:</p>\n\n<pre><code>bpython-dev\n===========\nvirtualenvwrapper.user_scripts could not run\n\"/Users/admin/.virtualenvs/bpython-dev/bin/get_env_details\": [Errno 2] No such file or directory\n</code></pre>\n\n<p>I've checked into the .virtualenvs/bpython-dev/ (and other virtual envs) to see if get_env_details is there, and it is.</p>\n\n<p>This problem happened after I performed Migration Assistant with Time Machine on Mavericks.</p>\n\n<p>I'm using Python 2 installed with Homebrew.\n<code>which python</code> yields <code>usr/local/bin/python</code> and <code>which pip</code> yields <code>usr/local/bin/pip</code>.</p>\n\n<p>My <code>.bash_profile</code>:</p>\n\n<pre><code># Load /usr/local/ before /usr/bin/\nexport PATH=/usr/local/bin:$PATH\nexport PATH=$HOME/bin:$PATH\n\n\n# Load the default .profile\n[[ -s \"$HOME/.profile\" ]] &amp;&amp; source \"$HOME/.profile\"\n\n\n# Virtualenvwrapper\nexport WORKON_HOME=$HOME/.virtualenvs\nexport PROJECT_HOME=$HOME/Hacker\\ School/\nexport PIP_VIRTUALENV_BASE=$WORKON_HOME\nexport PIP_RESPECT_VIRTUALENV=true\nsource /usr/local/bin/virtualenvwrapper.sh \n\n\n# Timing terminal directory tracking\nPROMPT_TITLE='echo -ne \"\\033]0;${USER}@${HOSTNAME%%.*}:${PWD/#$HOME/~}\\007\"'\nexport PROMPT_COMMAND=\"${PROMPT_COMMAND} ${PROMPT_TITLE}; \"\n\nexport DJANGO_COLORS=\"dark\"\n\n\n# _django_completion()\n# {\n#     COMPREPLY=( $( COMP_WORDS=\"${COMP_WORDS[*]}\" \\\n#                    COMP_CWORD=$COMP_CWORD \\\n#                    DJANGO_AUTO_COMPLETE=1 $1 ) )\n# }\n# complete -F _django_completion -o default django-admin.py manage.py django-admin\n\n# _python_django_completion()\n# {\n#     if [[ ${COMP_CWORD} -ge 2 ]]; then\n#         PYTHON_EXE=${COMP_WORDS[0]##*/}\n#         echo $PYTHON_EXE | egrep \"python([2-9]\\.[0-9])?\" &gt;/dev/null 2&gt;&amp;1\n#         if [[ $? == 0 ]]; then\n#             PYTHON_SCRIPT=${COMP_WORDS[1]##*/}\n#             echo $PYTHON_SCRIPT | egrep \"manage\\.py|django-admin(\\.py)?\" &gt;/dev/null 2&gt;&amp;1\n#             if [[ $? == 0 ]]; then\n#                 COMPREPLY=( $( COMP_WORDS=\"${COMP_WORDS[*]:1}\" \\\n#                                COMP_CWORD=$(( COMP_CWORD-1 )) \\\n#                                DJANGO_AUTO_COMPLETE=1 ${COMP_WORDS[*]} ) )\n#             fi\n#         fi\n#     fi\n# }\n\n# # Support for multiple interpreters.\n# unset pythons\n# if command -v whereis &amp;&gt;/dev/null; then\n#     python_interpreters=$(whereis python | cut -d \" \" -f 2-)\n#     for python in $python_interpreters; do\n#         pythons=\"${pythons} ${python##*/}\"\n#     done\n#     pythons=$(echo $pythons | tr \" \" \"\\n\" | sort -u | tr \"\\n\" \" \")\n# else\n#     pythons=python\n# fi\n\n# complete -F _python_django_completion -o default $pythons\n# Setting PATH for Python 2.7\n# The orginal version is saved in .bash_profile.pysave\nPATH=\"usr/local/Cellar/python/2.7.10_2/bin/:${PATH}\"\nexport PATH\n\n# Homebrew, OpenCV\nexport PATH=\"/usr/local/Cellar/opencv/2.4.9/lib/python2.7:$PATH\"\nexport PYTHONPATH=/usr/local/lib/python2.7/site-packages:$PYTHONPATH\n</code></pre>\n"}, {"tags": ["python", "overloading"], "comments": [{"owner": {"reputation": 33, "user_id": 5107376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a211f4cba5b18e460b5588d10c222a89?s=128&d=identicon&r=PG&f=1", "display_name": "dje", "link": "https://stackoverflow.com/users/5107376/dje"}, "edited": false, "score": 0, "creation_date": 1437594722, "post_id": 31572503, "comment_id": 51100223, "body": "I should also mention that it appears to work under canopy/Python 2.7 on my Macbook Pro but not on the MIT edX web based grader. I don&#39;t know what version the grader is using."}], "answers": [{"tags": [], "owner": {"reputation": 4301, "user_id": 423955, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/21306ab5c55a1e70ae23991665941efe?s=128&d=identicon&r=PG", "display_name": "Alessandro Da Rugna", "link": "https://stackoverflow.com/users/423955/alessandro-da-rugna"}, "is_accepted": true, "score": 2, "last_activity_date": 1437594260, "creation_date": 1437594260, "answer_id": 31572582, "question_id": 31572503, "link": "https://stackoverflow.com/questions/31572503/python-cant-get-overload-to-work/31572582#31572582", "title": "Python - Can&#39;t get overload to work", "body": "<p>The <code>__len__</code> magic method does not take extra arguments. Your code should be</p>\n\n<pre><code>class IntSet(object):\n\"\"\"An intSet is a set of integers\nThe value is represented by a list of ints, self.vals.\nEach int in the set occurs in self.vals exactly once.\"\"\"\n\ndef __init__(self):\n    \"\"\"Create an empty set of integers\"\"\"\n    self.vals = []\n\n&gt;&gt;&gt;&gt;&gt;&gt; more methods left out for brevity &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n\ndef __len__(self):\n    \"\"\"Returns the number of elements in this set\"\"\"\n    return len(self.vals)\n</code></pre>\n\n<p>Then in your code you use it this way</p>\n\n<pre><code>myset = IntSet()\nprint 'My set contains ', len(myset)\nmyset.insert(9)\nmyset.insert(10)\nprint 'My set contains ', len(myset)\nmyset.insert(9)\nprint 'My set contains ', len(myset)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": false, "score": 0, "last_activity_date": 1437594411, "creation_date": 1437594411, "answer_id": 31572646, "question_id": 31572503, "link": "https://stackoverflow.com/questions/31572503/python-cant-get-overload-to-work/31572646#31572646", "title": "Python - Can&#39;t get overload to work", "body": "<pre><code>class intSet(object):\n    def __init__(self):\n        self.vals = []\n\n    def insert(self, e):\n        if not e in self.vals:\n            self.vals.append(e)\n\n    def __len__(self):\n        return len(self.vals)\n\ns = intSet()\n\ns.insert(1)\ns.insert(2)\ns.insert(3)\ns.insert(2)\n\nprint(len(s))\n# 3\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5107376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a211f4cba5b18e460b5588d10c222a89?s=128&d=identicon&r=PG&f=1", "display_name": "dje", "link": "https://stackoverflow.com/users/5107376/dje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 31572582, "answer_count": 2, "score": 1, "last_activity_date": 1437657802, "creation_date": 1437593966, "last_edit_date": 1437594134, "question_id": 31572503, "link": "https://stackoverflow.com/questions/31572503/python-cant-get-overload-to-work", "title": "Python - Can&#39;t get overload to work", "body": "<p>All, I've been at this for a couple of days now and still cannot get this overload to work.</p>\n\n<pre><code>Error:\n    setA: {-10,-8,3,5,10,17,20}\n    intSet.len(setA):\n    TypeError: __len__() takes exactly 2 arguments (1 given)\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>class intSet(object):\n    \"\"\"An intSet is a set of integers\n    The value is represented by a list of ints, self.vals.\n    Each int in the set occurs in self.vals exactly once.\"\"\"\n\n    def __init__(self):\n        \"\"\"Create an empty set of integers\"\"\"\n        self.vals = []\n\n    def insert(self, e):\n        \"\"\"Assumes e is an integer and inserts e into self\"\"\" \n        if not e in self.vals:\n            self.vals.append(e)\n\n    &gt;&gt;&gt;&gt;&gt;&gt; more methods left out for brevity &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n\n    def __len__(self, s):\n        \"\"\" Returns the length of the string provided\"\"\"\n        return len(s)\n</code></pre>\n\n<p>Any help would be greatly appreciated...</p>\n"}, {"tags": ["python", "pandas", "dataframe", "interpolation"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1437594699, "post_id": 31572427, "comment_id": 51100210, "body": "In your example above, could you please clarify between column names (which are integers) and the actual values used in df_input (which are also integers).  It is easy to confuse the two (pun intended)."}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1437596984, "post_id": 31572427, "comment_id": 51101657, "body": "the formula you supplied is unclear. Just based on the first row in input <code>df</code>, where does the <code>(6 - 3)</code> come from in <code>1.33 =  2 * (5-3) &#47; (6-3)</code>?"}], "owner": {"reputation": 51, "user_id": 3538043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1c300a091cd88efa7fbdc875b000b558?s=128&d=identicon&r=PG&f=1", "display_name": "user3538043", "link": "https://stackoverflow.com/users/3538043/user3538043"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1437686910, "creation_date": 1437593717, "question_id": 31572427, "link": "https://stackoverflow.com/questions/31572427/how-to-transform-interpolate-rebucket-columns-in-pandas-dataframes-based-on", "title": "How to transform / interpolate / rebucket columns in Pandas DataFrames based on column names?", "body": "<p>How do I transform from df_input to df_output below, using interpolation / rebucketing?</p>\n\n<pre><code>import pandas as pd\ndf_input=pd.DataFrame([ [1,2],[1,3],[0,-6]], columns=[2,5])\ndf_output=pd.DataFrame([ [1,0.67,1.33],[1,1,2],[0,-2,-4]], columns=[2, 3, 6])\n</code></pre>\n\n<p>df_input:</p>\n\n<pre><code>   2  5\n0  1  2\n1  1  3\n2  0 -6\n</code></pre>\n\n<p>df_output:</p>\n\n<pre><code>   2     3     6\n0  1  0.67  1.33\n1  1  1.00  2.00\n2  0 -2.00 -4.00\n</code></pre>\n\n<p>Eg.</p>\n\n<p>To go from df_input.loc[0,5] (value = 2) to df_output.loc[0,3] (value = 0.67) and df_output.loc[0,6] (value = 1.33), the rebucketing is done based on the value of column names:</p>\n\n<pre><code>0.67 =  2 * (6-5) / (6-3)\n1.33 =  2 * (5-3) / (6-3)\n</code></pre>\n\n<p>The column \"2\" is same between df_input and df_output as \"2\" is in both [2,5] and [2,3,6].</p>\n\n<p>This is a simple example, and I also want to generalize the column names [2,5] and [2,3,6] to any given vectors of numbers.</p>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["python", "image", "python-imaging-library", "pillow"], "answers": [{"comments": [{"owner": {"reputation": 1183, "user_id": 3416136, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KpFq0.jpg?s=128&g=1", "display_name": "malisit", "link": "https://stackoverflow.com/users/3416136/malisit"}, "edited": false, "score": 0, "creation_date": 1437605875, "post_id": 31573018, "comment_id": 51105698, "body": "Thanks for answer but it raises this error: <code>TypeError: &#39;int&#39; object is not iterable</code> for line of <code>lofpixels.extend(pixel)</code>"}, {"owner": {"reputation": 1183, "user_id": 3416136, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KpFq0.jpg?s=128&g=1", "display_name": "malisit", "link": "https://stackoverflow.com/users/3416136/malisit"}, "edited": false, "score": 2, "creation_date": 1437607951, "post_id": 31573018, "comment_id": 51106247, "body": "works like this <code>pixels = imgobj.convert(&#39;RGBA&#39;) \t\t        data = pixels.getdata() \t\t        lofpixels = [] \t\t        for pixel in data: \t\t\tlofpixels.extend(pixel)</code> it&#39;s much more fast that old one but it&#39;s still too slow for my case."}, {"owner": {"reputation": 696, "user_id": 803749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b453f9ad2fcc791f2c7980e4a6274962?s=128&d=identicon&r=PG", "display_name": "myersjustinc", "link": "https://stackoverflow.com/users/803749/myersjustinc"}, "reply_to_user": {"reputation": 1183, "user_id": 3416136, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KpFq0.jpg?s=128&g=1", "display_name": "malisit", "link": "https://stackoverflow.com/users/3416136/malisit"}, "edited": false, "score": 1, "creation_date": 1437660128, "post_id": 31573018, "comment_id": 51131104, "body": "Ah yes, forgot to use <code>pixels</code> instead of <code>imgobj</code>. (When I was testing this on my own machine, I started with an RGBA image, so I didn&#39;t perform that conversion step.) Sorry to hear it still isn&#39;t fast enough."}, {"owner": {"reputation": 395, "user_id": 4934609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a210d2fa0d005e788c4d27d0df7abccf?s=128&d=identicon&r=PG&f=1", "display_name": "Liron Lavi", "link": "https://stackoverflow.com/users/4934609/liron-lavi"}, "edited": false, "score": 0, "creation_date": 1520969379, "post_id": 31573018, "comment_id": 85532173, "body": "@myersjustinc just to make clear, does every 4 integers in lofpixels represent a R, G, B, A values of 1 pixel?"}, {"owner": {"reputation": 696, "user_id": 803749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b453f9ad2fcc791f2c7980e4a6274962?s=128&d=identicon&r=PG", "display_name": "myersjustinc", "link": "https://stackoverflow.com/users/803749/myersjustinc"}, "reply_to_user": {"reputation": 395, "user_id": 4934609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a210d2fa0d005e788c4d27d0df7abccf?s=128&d=identicon&r=PG&f=1", "display_name": "Liron Lavi", "link": "https://stackoverflow.com/users/4934609/liron-lavi"}, "edited": false, "score": 1, "creation_date": 1520979433, "post_id": 31573018, "comment_id": 85536860, "body": "@LironLavi: Assuming your color mode is RGBA (as in the example code here), then yes: Each element of the returned sequence will be a tuple representing one pixel, and that tuple will contain four elements representing that pixel&#39;s red, green, blue and alpha values, in that order. Otherwise, it depends. <a href=\"http://pillow.readthedocs.io/en/latest/handbook/concepts.html#concept-modes\" rel=\"nofollow noreferrer\">You can see here</a> what other cases you might run into."}], "tags": [], "owner": {"reputation": 696, "user_id": 803749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b453f9ad2fcc791f2c7980e4a6274962?s=128&d=identicon&r=PG", "display_name": "myersjustinc", "link": "https://stackoverflow.com/users/803749/myersjustinc"}, "is_accepted": true, "score": 1, "last_activity_date": 1437595674, "creation_date": 1437595674, "answer_id": 31573018, "question_id": 31572425, "link": "https://stackoverflow.com/questions/31572425/list-all-rgba-values-of-an-image-with-pil/31573018#31573018", "title": "List all RGBA values of an image with PIL", "body": "<p><code>imgobj.getdata()</code> will give you a sequence of <code>(red, green, blue, alpha)</code> tuples pretty quickly. (<a href=\"http://pillow.readthedocs.org/en/latest/reference/Image.html#PIL.Image.Image.getdata\" rel=\"nofollow\">Docs here</a>.)</p>\n\n<p>Not sure what your use case is here, since it looks like you're just making one big flat array with all your reds, greens, blues and alphas jumbled together, but I suppose you could do something like this to get the same result:</p>\n\n<pre><code>imgobj = Image.open('x.png')\npixels = imgobj.convert('RGBA')\ndata = imgobj.getdata()\nlofpixels = []\nfor pixel in data:\n    lofpixels.extend(pixel)\n</code></pre>\n\n<p>You also could get a count of each unique pixel value with <code>collections.Counter</code> (<a href=\"https://docs.python.org/3.5/library/collections.html#collections.Counter\" rel=\"nofollow\">docs here</a>), for example:</p>\n\n<pre><code>imgobj = Image.open('x.png')\npixels = imgobj.convert('RGBA')\ndata = imgobj.getdata()\ncounts = collections.Counter(data)\nprint(counts[(0, 0, 0, 255)])  # or some other value\n</code></pre>\n"}], "owner": {"reputation": 1183, "user_id": 3416136, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KpFq0.jpg?s=128&g=1", "display_name": "malisit", "link": "https://stackoverflow.com/users/3416136/malisit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5296, "favorite_count": 0, "accepted_answer_id": 31573018, "answer_count": 1, "score": 1, "last_activity_date": 1437595674, "creation_date": 1437593714, "question_id": 31572425, "link": "https://stackoverflow.com/questions/31572425/list-all-rgba-values-of-an-image-with-pil", "title": "List all RGBA values of an image with PIL", "body": "<p>I need all RGBA values of an image in a list. I can use <code>getpixel()</code> function but I have to iterate for all pixels which is my aim and it does very slow. I need to do this in a few seconds.\nThis is my current code: </p>\n\n<pre><code>imgobj = Image.open('x.png')\npixels = imgobj.convert('RGBA')\nlofpixels = []\nw = 1920\nh = 1080\nfor i in range(w):\n    for j in range(h):\n        r,g,b,a = pixels.getpixel((i,j))\n        lofpixels.append(r)\n        lofpixels.append(g)\n        lofpixels.append(b)\n        lofpixels.append(a)\n</code></pre>\n\n<p>Any suggestions? Thanks.</p>\n"}, {"tags": ["python", "colors", "rgb", "pixel", "hsv"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 3, "creation_date": 1437593488, "post_id": 31572360, "comment_id": 51099538, "body": "Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. And more importantly, please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1437593843, "post_id": 31572360, "comment_id": 51099748, "body": "Sounds like you would benefit from the <a href=\"https://docs.python.org/3.4/tutorial\" rel=\"nofollow noreferrer\">official Python tutorial</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2407420"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1437594032, "post_id": 31572360, "comment_id": 51099843, "body": "@MorganThrapp - What is wrong with my question? Care to give me a reason rather than linking to a page that contains every reason possible?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1437594383, "post_id": 31572360, "comment_id": 51100018, "body": "Also, you might want to mention what paper you read and provide some context for the given equation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2407420"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1437594662, "post_id": 31572360, "comment_id": 51100185, "body": "@TigerhawkT3 &quot;Normalized Cuts and Image Segmentation&quot; by Jianbo Shi and Jitendra Malik."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1437595084, "post_id": 31572360, "comment_id": 51100430, "body": "If it&#39;s not Python, how are we supposed to know what kind of syntax the authors were using? In fact, I found it on page 7 <a href=\"http://www.cs.berkeley.edu/~malik/papers/SM-ncut.pdf\" rel=\"nofollow noreferrer\">here</a>, and I&#39;m still not sure what they&#39;re talking about. Maybe you could provide some more explanation instead of complaining that no one wants to make guesses about the meaning of a context-free equation snippet?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2407420"}, "edited": false, "score": 0, "creation_date": 1437600947, "post_id": 31572360, "comment_id": 51103748, "body": "Did an admin seriously delete or edit every one of my comments that said something negative about TigerHawkT3? Are you serious? Or did he flag every single one of my comments? All you accomplished, Tiger, was make your last comment sound even more douchey than it did before. The community on this site is toxic"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2407420"}, "edited": false, "score": 0, "creation_date": 1437596432, "post_id": 31572631, "comment_id": 51101283, "body": "So youre saying that F(i) does not have to be a single number and can be in vector form, and F(i) - F(j) would still give a sigle number?"}, {"owner": {"reputation": 7695, "user_id": 1881196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b474cd12efa0089277b12d6e6dc43eea?s=128&d=identicon&r=PG", "display_name": "dlask", "link": "https://stackoverflow.com/users/1881196/dlask"}, "edited": false, "score": 0, "creation_date": 1437597739, "post_id": 31572631, "comment_id": 51102101, "body": "<a href=\"http://mathworld.wolfram.com/VectorAddition.html\" rel=\"nofollow noreferrer\">Vector addition</a> (or subtraction) still gives a vector, but you can use the <i>size</i> of this resulting vector as that <i>single number</i> you are interested in."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2407420"}, "edited": false, "score": 0, "creation_date": 1437600760, "post_id": 31572631, "comment_id": 51103673, "body": "I see, thanks for your answers! So if I am considering two pixels, each being described in the form of a numpy array with three values ([R,G,B]), I can preform F(i)-F(j) with something like  <code>numpy.linalg.norm(i - j)</code>?"}, {"owner": {"reputation": 7695, "user_id": 1881196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b474cd12efa0089277b12d6e6dc43eea?s=128&d=identicon&r=PG", "display_name": "dlask", "link": "https://stackoverflow.com/users/1881196/dlask"}, "edited": false, "score": 0, "creation_date": 1437626429, "post_id": 31572631, "comment_id": 51110675, "body": "Keeping <code>i</code> and <code>j</code> reserved for point identification we can better write: <code>f1 = numpy.array([1,2,3])</code>, <code>f2 = numpy.array([0,2,3])</code>, and then the distance is <code>d = numpy.linalg.norm(f1-f2)</code>."}, {"owner": {"reputation": 13906, "user_id": 1187220, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AwroB.jpg?s=128&g=1", "display_name": "Michel Keijzers", "link": "https://stackoverflow.com/users/1187220/michel-keijzers"}, "edited": false, "score": 1, "creation_date": 1437638193, "post_id": 31572631, "comment_id": 51115869, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes."}, {"owner": {"reputation": 7695, "user_id": 1881196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b474cd12efa0089277b12d6e6dc43eea?s=128&d=identicon&r=PG", "display_name": "dlask", "link": "https://stackoverflow.com/users/1881196/dlask"}, "reply_to_user": {"reputation": 13906, "user_id": 1187220, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AwroB.jpg?s=128&g=1", "display_name": "Michel Keijzers", "link": "https://stackoverflow.com/users/1187220/michel-keijzers"}, "edited": false, "score": 1, "creation_date": 1437638463, "post_id": 31572631, "comment_id": 51116012, "body": "@MichelKeijzers You are right. I have updated my answer with a Python code illustrating the intention. Thank you."}], "tags": [], "owner": {"reputation": 7695, "user_id": 1881196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b474cd12efa0089277b12d6e6dc43eea?s=128&d=identicon&r=PG", "display_name": "dlask", "link": "https://stackoverflow.com/users/1881196/dlask"}, "is_accepted": false, "score": 2, "last_activity_date": 1437638366, "last_edit_date": 1437638366, "creation_date": 1437594382, "answer_id": 31572631, "question_id": 31572360, "link": "https://stackoverflow.com/questions/31572360/how-would-i-translate-this-equation-into-code/31572631#31572631", "title": "How would I translate this equation into code?", "body": "<p>Features can be <a href=\"https://en.wikipedia.org/wiki/Vector_(mathematics_and_physics)\" rel=\"nofollow\">vectors</a> and you can calculate <a href=\"https://en.wikipedia.org/wiki/Euclidean_distance\" rel=\"nofollow\">distance</a> between vectors.</p>\n\n<pre><code>f1 = numpy.array([1,2,3])\nf2 = numpy.array([0,2,3])\ndistance = numpy.linalg.norm(f1 - f2).\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2407420"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1437638366, "creation_date": 1437593443, "last_edit_date": 1437593857, "question_id": 31572360, "link": "https://stackoverflow.com/questions/31572360/how-would-i-translate-this-equation-into-code", "title": "How would I translate this equation into code?", "body": "<p>I am working in Python, and I a trying to compute a wight matrix for a graph of pixels, and the weight of each edge is dependent on their \"feature\" similarity <code>(F(i) - F(j))</code>, and their location similarity <code>(X(i)-X(j))</code>. \"Features\" includes intensity, color, texture. </p>\n\n<p>Right now I have it implemented and it is working, but not for color images. I at first tried to simply take some RGB values and average each pixel to convert the entire image to greyscale. But that didn't work as I had hoped, and I have read throgh a paper that suggests a different method. </p>\n\n<p>They say to use this: F(i) = [<em>v, v*s*sin(h), v*s*cos(h)</em>](i)</p>\n\n<p>where <em>h</em>, <em>s</em>, and <em>v</em> and the HSV color values. </p>\n\n<p>I am just confused on the notation. What is this suppsed to mean? What does it mean to have three different terms separated by commas inside square brackets? I'm also confused with what the (i) at the end is supposed to mean. The solution to F(i) for any given pixel should be a single number, to be able to carry out <code>F(i)-F(j)</code>?</p>\n\n<p>I'm not asking for someone to do this for me I just need some clarification.</p>\n"}, {"tags": ["python", "image-processing"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 2, "creation_date": 1437593206, "post_id": 31572281, "comment_id": 51099373, "body": "have you attempted anything at all?"}, {"owner": {"reputation": 24862, "user_id": 492372, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81dd7ca53fcae94443677a01ac638676?s=128&d=identicon&r=PG", "display_name": "London guy", "link": "https://stackoverflow.com/users/492372/london-guy"}, "reply_to_user": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1437593321, "post_id": 31572281, "comment_id": 51099449, "body": "@depperm I just edited the question with one of my attempt."}, {"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 1, "creation_date": 1437593350, "post_id": 31572281, "comment_id": 51099472, "body": "add code, not just an explanation of what you did"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1437593519, "post_id": 31572281, "comment_id": 51099562, "body": "If you reduce an intensely-focused glare, what do you expect to see in its place? If it&#39;s just a bit highlighted then there are algorithms to reduce the highlighting and increase what&#39;s left, but an area with a direct reflection of the sun probably doesn&#39;t contain any other data - you&#39;d have to reconstruct it based on the surroundings. In a nutshell, it&#39;s hard."}, {"owner": {"reputation": 24862, "user_id": 492372, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81dd7ca53fcae94443677a01ac638676?s=128&d=identicon&r=PG", "display_name": "London guy", "link": "https://stackoverflow.com/users/492372/london-guy"}, "reply_to_user": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1437593529, "post_id": 31572281, "comment_id": 51099571, "body": "@depperm Alright, I will add some code too. Thanks for the suggestion."}, {"owner": {"reputation": 2135, "user_id": 2545927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6728f1b6150c39e34d9e154e0585e9af?s=128&d=identicon&r=PG", "display_name": "kkuilla", "link": "https://stackoverflow.com/users/2545927/kkuilla"}, "edited": false, "score": 0, "creation_date": 1437644900, "post_id": 31572281, "comment_id": 51120055, "body": "And a sample image please together with another image where you might draw by hand in red to indicate the region(s) you would like to remove."}], "answers": [{"tags": [], "owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "is_accepted": false, "score": 0, "last_activity_date": 1437634579, "creation_date": 1437634579, "answer_id": 31580201, "question_id": 31572281, "link": "https://stackoverflow.com/questions/31572281/how-to-remove-suns-reflection-on-a-photo-using-image-processing/31580201#31580201", "title": "How to remove sun&#39;s reflection on a photo using image processing", "body": "<p>do not forget to add some sample images ,... </p>\n\n<p><strong>I would try first identify the sun spot</strong></p>\n\n<ul>\n<li>by intensity and the shape of graph <code>intensity=f(distance from spot middle)</code></li>\n<li>it may have a distinct shape that could be used to identify the spot more reliably</li>\n</ul>\n\n<p><strong>After that I would bleed colors</strong></p>\n\n<ul>\n<li>from spot outer area to the its inside</li>\n<li>recoloring the spot with its surrounding color ...</li>\n<li>by finding all spot pixels that are next to non spot pixels</li>\n<li>recoloring them to average of neighboring non spot pixels</li>\n<li>and clearing them in spot mask</li>\n<li>looping this until no spot pixel in mask is left</li>\n</ul>\n\n<p><strong>[notes]</strong></p>\n\n<ul>\n<li>But without any input images to test is this just a theory</li>\n<li>also if you have the source RGB image not just gray the color patterns can may be also be used to help identify the spots</li>\n<li>by checking for saturation of white and or some rainbow like pattern</li>\n</ul>\n"}], "owner": {"reputation": 24862, "user_id": 492372, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81dd7ca53fcae94443677a01ac638676?s=128&d=identicon&r=PG", "display_name": "London guy", "link": "https://stackoverflow.com/users/492372/london-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1443, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1437634579, "creation_date": 1437593177, "last_edit_date": 1437593303, "question_id": 31572281, "link": "https://stackoverflow.com/questions/31572281/how-to-remove-suns-reflection-on-a-photo-using-image-processing", "title": "How to remove sun&#39;s reflection on a photo using image processing", "body": "<p>I have multiple grayscale images in which each image has the sun's reflection or also known as glare as a bright glaring spot. It looks like a bright white blob which I want to remove. It is basically the front portion of a car image when the sun's reflection falls on the front steel grill of the car.</p>\n\n<p>I want to remove this reflection as much as possible. I would appreciate if anyone can point me to a good algorithm , preferably in Python, that I can leverage to remove this glare and pre-process as much as possible.</p>\n\n<p>I tried the approach of applying a threshold to the image pixels and then setting anything that is above 200 to a value of 128. It doesn't work very well because there are other parts of the image that contains white and those get affected.</p>\n"}, {"tags": ["python", "python-2.7", "parsing", "csv", "numpy"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1437592994, "post_id": 31572212, "comment_id": 51099239, "body": "what have you tried/done so far? Also is your csv comma or space separated?"}, {"owner": {"reputation": 6315, "user_id": 1555990, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a743aed2f5b809958ebb17d4d952b7b2?s=128&d=identicon&r=PG", "display_name": "That1Guy", "link": "https://stackoverflow.com/users/1555990/that1guy"}, "edited": false, "score": 0, "creation_date": 1437593218, "post_id": 31572212, "comment_id": 51099384, "body": "You&#39;ve described your file and explained your requirements, but what is your question?"}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1437593525, "post_id": 31572212, "comment_id": 51099569, "body": "Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. And more importantly, please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."}, {"owner": {"reputation": 349, "user_id": 5145073, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f99ee4e1bdaf7d2701e9229cd7d4481f?s=128&d=identicon&r=PG&f=1", "display_name": "royalblue", "link": "https://stackoverflow.com/users/5145073/royalblue"}, "edited": false, "score": 0, "creation_date": 1438185356, "post_id": 31572212, "comment_id": 51349328, "body": "Ok Sorry. I was in a rush. I have tried using pandas, but it is looking at all the columns and not just the TSD and REquirement columns."}, {"owner": {"reputation": 349, "user_id": 5145073, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f99ee4e1bdaf7d2701e9229cd7d4481f?s=128&d=identicon&r=PG&f=1", "display_name": "royalblue", "link": "https://stackoverflow.com/users/5145073/royalblue"}, "edited": false, "score": 0, "creation_date": 1438185371, "post_id": 31572212, "comment_id": 51349336, "body": "I have edit my question also for those who could not understand"}], "answers": [{"tags": [], "owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "is_accepted": false, "score": 2, "last_activity_date": 1437593606, "creation_date": 1437593606, "answer_id": 31572394, "question_id": 31572212, "link": "https://stackoverflow.com/questions/31572212/csv-pandas-python/31572394#31572394", "title": "CSV Pandas PYTHON", "body": "<p>I would suggest using a dictionary:</p>\n\n<pre><code>my_dict = {}\nwith open(your_file, 'r') as infile:\n    for line in infile:\n        line_list = line.split(' ')\n        if len(line_list) == 2:\n            key, requirement = line_list\n            if key in my_dict:\n                my_dict[key] += 1\n            else:\n                my_dict[key] = 0\n        elif len(line_list) == 1:\n            key = line_list[0]\n            if key not in my_dict:\n                my_dict[key] = 0\n</code></pre>\n\n<p>And then write the dictionary <code>my_dict</code> to another csv file...</p>\n\n<p>EDIT: this is assuming you have a space-separated file, but you can change the separator in <code>line.split(' ')</code> by any separator...</p>\n"}, {"comments": [{"owner": {"reputation": 349, "user_id": 5145073, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f99ee4e1bdaf7d2701e9229cd7d4481f?s=128&d=identicon&r=PG&f=1", "display_name": "royalblue", "link": "https://stackoverflow.com/users/5145073/royalblue"}, "edited": false, "score": 0, "creation_date": 1438186008, "post_id": 31573269, "comment_id": 51349766, "body": "How would I parse the csv in pandas."}, {"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "reply_to_user": {"reputation": 349, "user_id": 5145073, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f99ee4e1bdaf7d2701e9229cd7d4481f?s=128&d=identicon&r=PG&f=1", "display_name": "royalblue", "link": "https://stackoverflow.com/users/5145073/royalblue"}, "edited": false, "score": 0, "creation_date": 1438193214, "post_id": 31573269, "comment_id": 51354119, "body": "The <code>pd.read_csv(...)</code> part will read in the csv for you. Based on your edited question, since your file doesn&#39;t have any headers and the columns are Script, TSD, Requirement, you would use the following: <code>names=[&#39;Script&#39;,&#39;TSD&#39;,&#39;Requirement&#39;]</code>. If you do have a header row in the first row, you can remove the <code>skiprows=1</code> part. The rest of the functionality in my answer will work the same."}], "tags": [], "owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "is_accepted": true, "score": 3, "last_activity_date": 1437596549, "creation_date": 1437596549, "answer_id": 31573269, "question_id": 31572212, "link": "https://stackoverflow.com/questions/31572212/csv-pandas-python/31573269#31573269", "title": "CSV Pandas PYTHON", "body": "<p><code>Pandas</code> approach is pretty nice for this.</p>\n\n<p>Read data:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('data_in.csv', names=['Label','Requirements'], skiprows=1) # This assumes and skips the header row ('TSD' in your question)\n\n&gt;&gt;&gt; df\n   Label  Requirements\n0      A             1\n1      A             2\n2      A             3\n3      A             4\n4      A             5\n5      B            11\n6      B            22\n7      B            45\n8      C           NaN\n9      C           NaN\n10     C           NaN\n</code></pre>\n\n<p>Count requirements:</p>\n\n<pre><code>df_out = df.groupby('Label').count().reset_index()\n\n&gt;&gt;&gt; df_out\n  Label  Requirements\n0     A             5\n1     B             3\n2     C             0\n</code></pre>\n\n<p>Format to your needs:</p>\n\n<pre><code>df_out['Output'] = df_out.apply(lambda row: '%s doesn\\'t have any requirement'%(row['Label']) if row['Requirements']==0 else '%s has %d requirements'%(row['Label'],row['Requirements']), axis=1)\n\n&gt;&gt;&gt; df_out\n  Label  Requirements                          Output\n0     A             5            A has 5 requirements\n1     B             3            B has 3 requirements\n2     C             0  C doesn't have any requirement\n</code></pre>\n\n<p>Export to CSV:</p>\n\n<pre><code>df_out.to_csv('processed_data_out.csv', columns=['Output'], header=False, index=False)\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 5145073, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f99ee4e1bdaf7d2701e9229cd7d4481f?s=128&d=identicon&r=PG&f=1", "display_name": "royalblue", "link": "https://stackoverflow.com/users/5145073/royalblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 31573269, "answer_count": 2, "score": -2, "last_activity_date": 1439783862, "creation_date": 1437592927, "last_edit_date": 1439783862, "question_id": 31572212, "link": "https://stackoverflow.com/questions/31572212/csv-pandas-python", "title": "CSV Pandas PYTHON", "body": "<p><strong>I have a CSV file that looks like this</strong></p>\n\n<pre><code>S1,    22,   MD  , 0.022, ,  523.324\nS2,    22,   MD  , 4.32,  , 342.54 \nS3,    22,   MD  , 3.54,  ,   0.32\nS4,    22,   MD  , 4.32,  ,  0.54  \nS1,    33,   MD  , 5.32,  ,  0.43\nS2,    33,   MD  , 11.54, ,  0.65\nS3,    33,   MD  , 22.5,  ,  0.324\nS4,    33,   MD  , 45.89  ,  0.32\nS1,    44,  MD  , 3.53   ,  3.32\nS2,    44,  MD  ,  4.5   ,  0.322\nS3,    44,  MD  , 43.65  ,   45.78\nS4,    44,   MD,   43.54 , 0.321\n</code></pre>\n\n<p>The file doesn't have any headers, however I do not care about the <strong>MD</strong> column</p>\n\n<p>I need for my output file to look like this:</p>\n\n<pre><code> Size ,   S1` ,    S2  ,   S3  ,   S4   \n\n  22   ,  0.022 ,  4.32 ,  45.89 ,  4.32\n\n  33  ,  5.32,    11.54 ,  22.5,   45.89, \n\n  44  ,  3.53,    4.5,     43.65,  43.54\n\n        3 values, 3 values, 3,values, 3 values\n</code></pre>\n\n<p>As you can see the output file includes headers. Also the last row indicates the total number of values in each column.</p>\n\n<p>My code thus far:</p>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n      <p>import pandas as pd</p>\n      \n      <p>import numpy as np</p>\n      \n      <p>import csv</p>\n      \n      <p>df=pd.read_csv(r'C:\\Users\\testuser\\Desktop\\file.csv',usecols=[0,1,2,3,4])</p>\n      \n      <p>df.columns=pd.MultiIndex.from_tuples(zip(['Names','FileSize','x','y','z'],df.columns)) <em>#add column headers... (this did not do it correctly)</em></p>\n      \n      <p>df_out=df.groupby('Names','FileSize').count().reset_index() <em>#suppose to print distinct values</em></p>\n      \n      <p>df_out.to_csv('processed_data_out.csv', columns['Names','FileSize','x','y','z'], header=False,index=False)</p>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p><strong>I did not use the last column in my output because that column should be generated if the user asks to see that information. Which again I am having trouble doing.</strong></p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": true, "score": 0, "last_activity_date": 1437593065, "creation_date": 1437593065, "answer_id": 31572250, "question_id": 31572196, "link": "https://stackoverflow.com/questions/31572196/make-python-create-a-new-object/31572250#31572250", "title": "Make python create a new object", "body": "<p>No need to create individual named objects initialized to <code>None</code>, just create an empty list and add to it in a loop.</p>\n\n<pre><code>seq = []\nfor i in range(100):\n    seq.append(SomeRandomObject())\n</code></pre>\n\n<p>Or use a list comprehension.</p>\n\n<pre><code>seq = [SomeRandomObject() for i in range(100)]\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 5132735, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c7d8f8e32ec5ed4efb2f31320a584526?s=128&d=identicon&r=PG&f=1", "display_name": "Bubibob", "link": "https://stackoverflow.com/users/5132735/bubibob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 31572250, "answer_count": 1, "score": 0, "last_activity_date": 1437593453, "creation_date": 1437592887, "last_edit_date": 1437593453, "question_id": 31572196, "link": "https://stackoverflow.com/questions/31572196/make-python-create-a-new-object", "title": "Make python create a new object", "body": "<p>So lets say, that I have a class: test(a, b, c) and I want python(v3) to create random objects that use this class. The only idea i was able to come up with, is to create all the objects first with None value, put them in a list and then use this list to create the objects. So something in this direction (not a real code):</p>\n\n<pre><code>a=None\nb=None\nc=None\nlist=[a, b, c]\nfor i in list:\n    i=test(something random, something random, something random)\n</code></pre>\n\n<p>the problem with this solution is that in this way I can only have len(list) of those random objects and I have to create them myself upfront. Is there a way for python(v3) to create an object all by himself, so that I can potentially create an infinite number of  those random objects? </p>\n\n<p>Side note: I tried to find it out by myself but, since I just shortly started to teach myself programming, it might very well be that I could not find an answer because I don\u00b4t know how to formulate it correctly or maybe even saw it but not recognized it as a solution.</p>\n\n<p>Thanks upfront for every bit of help and sorry if my English is not perfect :)</p>\n"}, {"tags": ["python", "scipy", "scikit-learn"], "comments": [{"owner": {"reputation": 6315, "user_id": 1555990, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a743aed2f5b809958ebb17d4d952b7b2?s=128&d=identicon&r=PG", "display_name": "That1Guy", "link": "https://stackoverflow.com/users/1555990/that1guy"}, "edited": false, "score": 0, "creation_date": 1437593554, "post_id": 31572165, "comment_id": 51099586, "body": "This is not a &quot;compiler error&quot;, it is an <code>ImportError</code>. It cannot import the name <code>line_search_wolfe2</code>."}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 4905989, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/305de7f210e1aa951377c6692b23cb79?s=128&d=identicon&r=PG&f=1", "display_name": "Troll_Hunter", "link": "https://stackoverflow.com/users/4905989/troll-hunter"}, "edited": false, "score": 0, "creation_date": 1437594506, "post_id": 31572560, "comment_id": 51100098, "body": "i tried updating both sci-kit learn and scipy i used   <code>pip install --user --install-option=&quot;--prefix= -U scikit-learn</code> and <code>easy_install scipy</code>"}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 365, "user_id": 4905989, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/305de7f210e1aa951377c6692b23cb79?s=128&d=identicon&r=PG&f=1", "display_name": "Troll_Hunter", "link": "https://stackoverflow.com/users/4905989/troll-hunter"}, "edited": false, "score": 0, "creation_date": 1437595895, "post_id": 31572560, "comment_id": 51100932, "body": "Is not possible that remained some parts of the earlier scikit version? If yes you should wipe all traces of them, if not or it will even not work, you should ask it the sckit forum or group or whatever."}, {"owner": {"reputation": 365, "user_id": 4905989, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/305de7f210e1aa951377c6692b23cb79?s=128&d=identicon&r=PG&f=1", "display_name": "Troll_Hunter", "link": "https://stackoverflow.com/users/4905989/troll-hunter"}, "edited": false, "score": 0, "creation_date": 1437596383, "post_id": 31572560, "comment_id": 51101255, "body": "could using python 2.6.6 be the problem?"}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 365, "user_id": 4905989, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/305de7f210e1aa951377c6692b23cb79?s=128&d=identicon&r=PG&f=1", "display_name": "Troll_Hunter", "link": "https://stackoverflow.com/users/4905989/troll-hunter"}, "edited": false, "score": 0, "creation_date": 1437598176, "post_id": 31572560, "comment_id": 51102331, "body": "Hard to tell, but I can say that for me in Python 2.76 works well."}, {"owner": {"reputation": 365, "user_id": 4905989, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/305de7f210e1aa951377c6692b23cb79?s=128&d=identicon&r=PG&f=1", "display_name": "Troll_Hunter", "link": "https://stackoverflow.com/users/4905989/troll-hunter"}, "edited": false, "score": 0, "creation_date": 1437599126, "post_id": 31572560, "comment_id": 51102815, "body": "I am now installing Python 3.4.3 and doing package stuff so I guess Ill try it after this"}], "tags": [], "owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "is_accepted": false, "score": 0, "last_activity_date": 1437594171, "creation_date": 1437594171, "answer_id": 31572560, "question_id": 31572165, "link": "https://stackoverflow.com/questions/31572165/how-do-i-fix-this-line-search-wolfe2-error-when-using-sci-kit-learn/31572560#31572560", "title": "How do I fix this &quot;line_search_wolfe2&quot; error when using sci-kit learn?", "body": "<p>I guess this is a version / deprecation problem.</p>\n\n<p>So you should update your scikit-learn package.</p>\n"}], "owner": {"reputation": 365, "user_id": 4905989, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/305de7f210e1aa951377c6692b23cb79?s=128&d=identicon&r=PG&f=1", "display_name": "Troll_Hunter", "link": "https://stackoverflow.com/users/4905989/troll-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1437594309, "creation_date": 1437592818, "last_edit_date": 1437594309, "question_id": 31572165, "link": "https://stackoverflow.com/questions/31572165/how-do-i-fix-this-line-search-wolfe2-error-when-using-sci-kit-learn", "title": "How do I fix this &quot;line_search_wolfe2&quot; error when using sci-kit learn?", "body": "<p>I am getting an error when trying to run a Python script that implements Sci-Kit Learn. Here is my code:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom sklearn import datasets\nfrom sklearn import svm\n\ndigits = datasets.load_digits()\nprint (digits.data)\nprint (digits.target)\nprint (digits.images[0])\n\nclf = svm.SVC(gamma=0.001, C=100)\n\nx, y = digits.data[:-1], digits.target[:-1]\n</code></pre>\n\n<p>And here is the error I get when running \"python scidigits.py\"\nin my terminal:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"Practice.py\", line 6, in &lt;module&gt;\n    from sklearn import svm\n  File \"/home/jdoe/.local/lib/python2.6/site-packages/sklearn/svm/__init__.py\", line 13, in &lt;module&gt;\nfrom .classes import SVC, NuSVC, SVR, NuSVR, OneClassSVM, LinearSVC, \\\n  File \"/home/jdoe/.local/lib/python2.6/site-packages/sklearn/svm/classes.py\", line 6, in &lt;module&gt;\nfrom ..linear_model.base import LinearClassifierMixin, SparseCoefMixin, \\\n  File \"/home/jdoe/.local/lib/python2.6/site-packages/sklearn/linear_model/__init__.py\", line 25, in &lt;module&gt;\nfrom .logistic import (LogisticRegression, LogisticRegressionCV,\n  File \"/home/jdoe/.local/lib/python2.6/site-packages/sklearn/linear_model/logistic.py\", line 25, in &lt;module&gt;\nfrom ..utils.optimize import newton_cg\n  File \"/home/jdoe/.local/lib/python2.6/site-packages/sklearn/utils/optimize.py\", line 18, in &lt;module&gt;\nfrom scipy.optimize.linesearch import line_search_wolfe2, line_search_wolfe1\nImportError: cannot import name line_search_wolfe2\n</code></pre>\n\n<p>Could anybody please shed light on this issue?</p>\n"}, {"tags": ["python", "performance", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5038181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b184548261ed7ac38e965a9ab0dcd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/5038181/jacob"}, "edited": false, "score": 0, "creation_date": 1437596896, "post_id": 31572236, "comment_id": 51101600, "body": "yeah, I don&#39;t really code, just needed to transfer some matlab script into python, thanks though"}], "tags": [], "owner": {"reputation": 502, "user_id": 5123306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de68c75523b3c2d682f39300f69c50f?s=128&d=identicon&r=PG", "display_name": "Challensois", "link": "https://stackoverflow.com/users/5123306/challensois"}, "is_accepted": false, "score": 0, "last_activity_date": 1437593015, "creation_date": 1437593015, "answer_id": 31572236, "question_id": 31572068, "link": "https://stackoverflow.com/questions/31572068/how-to-efficiently-locate-and-save-pixels-with-a-certain-value-using-opencv/31572236#31572236", "title": "How to efficiently locate and save pixels with a certain value using OPENCV?", "body": "<p>It seems your <code>thresh2</code> is a numpy array. If this is the case, why not use numpy filtering directly, which is far more efficient: <code>thresh2.nonzero()</code> will return the indexes of white pixels. You can then use it directly to mask your array: <code>thresh2[thresh2.nonzero()]</code> or whatever you want to do next...</p>\n\n<p>Generally speaking, in python, loops that can be avoided should.</p>\n"}, {"tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 0, "last_activity_date": 1437594274, "creation_date": 1437594274, "answer_id": 31572591, "question_id": 31572068, "link": "https://stackoverflow.com/questions/31572068/how-to-efficiently-locate-and-save-pixels-with-a-certain-value-using-opencv/31572591#31572591", "title": "How to efficiently locate and save pixels with a certain value using OPENCV?", "body": "<p>You can do it in two ways:</p>\n\n<p>1) Using Numpy functions</p>\n\n<pre><code>pixelpoints = np.transpose(np.nonzero(mask))\n</code></pre>\n\n<p>2) Using OpenCV functions</p>\n\n<pre><code>pixelpoints = cv2.findNonZero(mask)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5038181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b184548261ed7ac38e965a9ab0dcd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/5038181/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 31572591, "answer_count": 2, "score": 2, "last_activity_date": 1437654382, "creation_date": 1437592524, "last_edit_date": 1437654382, "question_id": 31572068, "link": "https://stackoverflow.com/questions/31572068/how-to-efficiently-locate-and-save-pixels-with-a-certain-value-using-opencv", "title": "How to efficiently locate and save pixels with a certain value using OPENCV?", "body": "<p>I'm using OpenCV to search through a binary image and extract all the white pixels into a list.  <br>However, my process takes roughly 10-12 seconds, and I'm trying to maximize efficiency as much as possible.  </p>\n\n<p>Here's what I have (<code>thresh2</code> is the image after thresholding):</p>\n\n<pre><code>h,w=thresh2.shape[:2]\nWhitePix=[]\nfor in range(0,h):\n   TstVal=thresh2[i]\n   if TstVal.max()=255:\n      for j in range(0,w):\n         if thresh2[i,j]==255:\n            WhitePix.append([i,j])\n</code></pre>\n\n<p>I check each row to see if it has a white pixel, and if it does, I append it to my list.  </p>\n\n<p><em>Is there any function in OpenCV to speeds this search?</em></p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "telnet"], "answers": [{"comments": [{"owner": {"reputation": 1318, "user_id": 2202669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3tiEd.png?s=128&g=1", "display_name": "fenceop", "link": "https://stackoverflow.com/users/2202669/fenceop"}, "edited": false, "score": 0, "creation_date": 1437595574, "post_id": 31572898, "comment_id": 51100738, "body": "OP is using Python 3."}, {"owner": {"reputation": 25, "user_id": 5066429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6022380c65b4ee6a0116ea2c8a80793?s=128&d=identicon&r=PG&f=1", "display_name": "Onamar", "link": "https://stackoverflow.com/users/5066429/onamar"}, "edited": false, "score": 0, "creation_date": 1437743569, "post_id": 31572898, "comment_id": 51172410, "body": "I should&#39;ve specified, I&#39;m using Python 3. Your code gives me the error &quot;TypeError: &#39;in &lt;string&gt;&#39; requires string as left operand, not bytes&quot;, stemming from the line &quot;command = input(&quot;Enter command: &quot;)&quot;"}, {"owner": {"reputation": 25, "user_id": 5066429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6022380c65b4ee6a0116ea2c8a80793?s=128&d=identicon&r=PG&f=1", "display_name": "Onamar", "link": "https://stackoverflow.com/users/5066429/onamar"}, "edited": false, "score": 0, "creation_date": 1437745964, "post_id": 31572898, "comment_id": 51174270, "body": "Looks like it worked, thanks. Now my only problem is that it only returns b&#39; &#39; instead of any actual text but I think I can figure that out, it might be something on the server&#39;s end."}], "tags": [], "owner": {"reputation": 362, "user_id": 5036657, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/08b40ac61c1cdffefa72dab69466ea60?s=128&d=identicon&r=PG&f=1", "display_name": "SivanBH", "link": "https://stackoverflow.com/users/5036657/sivanbh"}, "is_accepted": true, "score": 1, "last_activity_date": 1437745845, "last_edit_date": 1437745845, "creation_date": 1437595232, "answer_id": 31572898, "question_id": 31572002, "link": "https://stackoverflow.com/questions/31572002/telnet-and-encoding-in-python/31572898#31572898", "title": "Telnet and Encoding in Python", "body": "<p>I'm assuming you're using Python 2 and not 3.\nI didn't mess about with any sort of encoding and it worked. Basically, my code was as follows:</p>\n\n<pre><code>HOST = input(\"IP Address: \")\ntn = telnetlib.Telnet(HOST, port = 23, timeout = 20)\ntime.sleep(10)\ncommand = input(\"Enter command: \")\ntn.write(command + \"\\r\\n\")\nret1 = tn.read_eager()\nprint(ret1)\n</code></pre>\n\n<p>I will point out these 3 things:\n 1. the encode function returns the encoded version of the string, it does't alter the string itself, so if you wish to change the command variable, you should use <code>command = command.encode(\"utf-8\")</code>.\n 2. I used <code>\\r\\n</code>, since this is a Windows machine.\n 3. Also, I am not sure if this is what you meant to do, but your <code>join</code> was inserting a <code>\\n</code> between every single character in your command string.</p>\n\n<p><strong>EDIT 24.07.15</strong> Since you are using Python 3, I downloaded Python 3 and gave it another go. Here's a code that worked for me:</p>\n\n<pre><code>HOST = input(\"IP Address: \")\ntn = telnetlib.Telnet(HOST, port = 23, timeout = 20)\ntime.sleep(10)\ncommand = input(\"Enter command: \") + \"\\r\\n\"\ntn.write(command.encode('utf-8'))\nret1 = tn.read_eager()\nprint(ret1)\n</code></pre>\n\n<p>The reason you received this error, is because you didn't receive <code>encode</code>'s return value back into the <code>command</code> variable, so it stayed unaltered. Therefore, when you called <code>write</code> with <code>command</code>, it still received a string, which it was not expecting.\n2 side notes - you need to use <code>\"\\r\\n\"</code>, not just <code>\"\\n\"</code>, assuming you're using a Windows telnet server, though <code>\"\\n\"</code> is fine with UNIX systems; I don't know the configuration of your telnet server, but, by default, they require authentication, so there's a chance you will have to enter credentials before entering a command.</p>\n"}], "owner": {"reputation": 25, "user_id": 5066429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6022380c65b4ee6a0116ea2c8a80793?s=128&d=identicon&r=PG&f=1", "display_name": "Onamar", "link": "https://stackoverflow.com/users/5066429/onamar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3482, "favorite_count": 0, "accepted_answer_id": 31572898, "answer_count": 1, "score": 2, "last_activity_date": 1437745845, "creation_date": 1437592305, "question_id": 31572002, "link": "https://stackoverflow.com/questions/31572002/telnet-and-encoding-in-python", "title": "Telnet and Encoding in Python", "body": "<p>This question is probably simple but so far I have not been able to find a solution anywhere. Basically, the following code is supposed to connect to a host, take a command, and print everything the host returns.</p>\n\n<pre><code>import telnetlib\nimport time\n\nHOST = input(\"IP Address: \")\ntn = telnetlib.Telnet(HOST, port = 23, timeout = 20)\ntime.sleep(10)\ncommand = input(\"Enter command: \")\ncommand.encode('utf-8')\ntn.write(b\"\\n\".join(command))\nret1 = tn.read_eager()\nprint(ret1)\n\nprint(\"Success!\")\ntn.close()\n</code></pre>\n\n<p>However, no matter what I try I keep on getting the same error:</p>\n\n<pre><code>C:\\Python34&gt;call python34 telnet_test.py\nIP Address: 10.20.249.64\nEnter command: 001 rq version\nTraceback (most recent call last):\n  File \"telnet_test.py\", line 9, in &lt;module&gt;\n    tn.write(b\"\\n\".join(command))\nTypeError: sequence item 0: expected a bytes-like object, str found\n</code></pre>\n\n<p>I've tried other solutions based on similar questions I looked up but none of them seemed to work specifically here, I always end up getting the same error.</p>\n"}, {"tags": ["python", "tweepy"], "comments": [{"owner": {"reputation": 4001, "user_id": 599765, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/836ed996b63a770fb92cbe40ea29586a?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Schild", "link": "https://stackoverflow.com/users/599765/andr%c3%a9-schild"}, "edited": false, "score": 0, "creation_date": 1437592546, "post_id": 31571995, "comment_id": 51098968, "body": "Error status 401 usually means not authorized (For whatever reason)"}, {"owner": {"reputation": 61, "user_id": 5126325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b7a970487b5bdffbacc8ec8b5fc5f09?s=128&d=identicon&r=PG&f=1", "display_name": "Arjinder Singh", "link": "https://stackoverflow.com/users/5126325/arjinder-singh"}, "reply_to_user": {"reputation": 4001, "user_id": 599765, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/836ed996b63a770fb92cbe40ea29586a?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Schild", "link": "https://stackoverflow.com/users/599765/andr%c3%a9-schild"}, "edited": false, "score": 0, "creation_date": 1437592779, "post_id": 31571995, "comment_id": 51099113, "body": "@Andr&#233;Schild But, i searched google on how to get authentication number for twitter api and in images i followed the steps mobile verification, and also i tried putting some link into urls[ ] acc. to <a href=\"https://twittercommunity.com/t/error-401-unauthorized/367/37\" rel=\"nofollow noreferrer\">twittercommunity.com/t/error-401-unauthorized/367/37</a>  do u know any other specific step that i could be missing"}, {"owner": {"reputation": 4001, "user_id": 599765, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/836ed996b63a770fb92cbe40ea29586a?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Schild", "link": "https://stackoverflow.com/users/599765/andr%c3%a9-schild"}, "edited": false, "score": 0, "creation_date": 1437592852, "post_id": 31571995, "comment_id": 51099162, "body": "Double &amp; Triple check the auth settings/numbers"}, {"owner": {"reputation": 61, "user_id": 5126325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b7a970487b5bdffbacc8ec8b5fc5f09?s=128&d=identicon&r=PG&f=1", "display_name": "Arjinder Singh", "link": "https://stackoverflow.com/users/5126325/arjinder-singh"}, "reply_to_user": {"reputation": 4001, "user_id": 599765, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/836ed996b63a770fb92cbe40ea29586a?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Schild", "link": "https://stackoverflow.com/users/599765/andr%c3%a9-schild"}, "edited": false, "score": 0, "creation_date": 1437594354, "post_id": 31571995, "comment_id": 51100000, "body": "been doing that for 3-4 hours now"}], "answers": [{"comments": [{"owner": {"reputation": 5443, "user_id": 4068678, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-swupfdjNFhY/AAAAAAAAAAI/AAAAAAAAACI/4mU53lBQFrQ/photo.jpg?sz=128", "display_name": "LetsPlayYahtzee", "link": "https://stackoverflow.com/users/4068678/letsplayyahtzee"}, "edited": false, "score": 6, "creation_date": 1460859081, "post_id": 31572101, "comment_id": 60935033, "body": "usually the <code>unauthorized</code> status code means that you don&#39;t have the right to retrieve data from a user because probably this user has set some kind of privacy rule on his/her profile on twitter"}], "tags": [], "owner": {"reputation": 595, "user_id": 2533895, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/22835d391304cbcbdd901d3bb7f8fd34?s=128&d=identicon&r=PG", "display_name": "ganduG", "link": "https://stackoverflow.com/users/2533895/gandug"}, "is_accepted": true, "score": 11, "last_activity_date": 1535120812, "last_edit_date": 1535120812, "creation_date": 1437592606, "answer_id": 31572101, "question_id": 31571995, "link": "https://stackoverflow.com/questions/31571995/tweepy-error-tweeperror-twitter-error-response-status-code-401/31572101#31572101", "title": "tweepy.error.TweepError: Twitter error response: status code = 401", "body": "<p>401 is the <code>Unauthorized</code> status code. It means that your credentials (in this case, your consumer/access tokens) are invalid. Try re-creating the credentials correctly again following the instructions <a href=\"https://dev.twitter.com/oauth/overview/application-owner-access-tokens\" rel=\"noreferrer\">here.</a></p>\n\n<p>Edit: If you're running <em>exactly</em> the code you posted, note that you must replace all the keys with the keys you generated using the above link.</p>\n\n<p>EDIT:</p>\n\n<p>As precised by LetsPlayYahtzee in comments below, it can also mean that you don't have access to the data you're requesting. </p>\n\n<p>It can for instance happen when you're trying to retrieve tweets from a private user.</p>\n"}], "owner": {"reputation": 61, "user_id": 5126325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b7a970487b5bdffbacc8ec8b5fc5f09?s=128&d=identicon&r=PG&f=1", "display_name": "Arjinder Singh", "link": "https://stackoverflow.com/users/5126325/arjinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16478, "favorite_count": 2, "accepted_answer_id": 31572101, "answer_count": 1, "score": 5, "last_activity_date": 1604376330, "creation_date": 1437592285, "question_id": 31571995, "link": "https://stackoverflow.com/questions/31571995/tweepy-error-tweeperror-twitter-error-response-status-code-401", "title": "tweepy.error.TweepError: Twitter error response: status code = 401", "body": "<p>I am using python 3.4.3 and  I followed all the instruction on the link:\n<a href=\"http://www.lyonwj.com/2015/05/28/content-recommendation-from-links-shared-on-twitter/\" rel=\"noreferrer\">http://www.lyonwj.com/2015/05/28/content-recommendation-from-links-shared-on-twitter/</a>\ni am getting error when i try running the code from the link</p>\n\n<pre><code>import tweepy\n\nconsumer_key = 'xxx'\nconsumer_secret = 'xxx'\naccess_token = 'xxx'\naccess_token_secret = 'xxx'\nauth = tweepy.OAuthHandler(consumer_key, consumer_secret)\nauth.set_access_token(access_token, access_token_secret)\n\napi = tweepy.API(auth, wait_on_rate_limit = True, wait_on_rate_limit_notify =         True)\nids = api.friends_ids()\nurls = []\n\nfor friend in ids:\nstatuses = api.user_timeline(id=friend, count=200)\nfor status in statuses:\n    if status.entities and status.entities['urls']:\n        for url in status.entities['urls']:\n            urls.append((url['expanded_url'], status.author.screen_name))\nwith open('urls.csv', 'w') as f:\nfor url in urls:\n    f.write(url[0] + ',' + url[1] + '\\n')\nf.close()\n</code></pre>\n\n<hr>\n\n<h2>ERROR</h2>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Python34/file11.py\", line 11, in &lt;module&gt;\n    ids = api.friends_ids()\n  File \"C:\\Python34\\Lib\\site-packages\\tweepy\\binder.py\", line 239, in _call\n    return method.execute()\n  File \"C:\\Python34\\Lib\\site-packages\\tweepy\\binder.py\", line 223, in execute\n    raise TweepError(error_msg, resp)\ntweepy.error.TweepError: Twitter error response: status code = 401\n</code></pre>\n"}, {"tags": ["java", "python", "jython-2.7"], "comments": [{"owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "edited": false, "score": 1, "creation_date": 1437592801, "post_id": 31571990, "comment_id": 51099127, "body": "show your import statements"}, {"owner": {"reputation": 91, "user_id": 3514981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4335d01115f853bdfe3223063d3f6f78?s=128&d=identicon&r=PG&f=1", "display_name": "dkkashyap", "link": "https://stackoverflow.com/users/3514981/dkkashyap"}, "reply_to_user": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "edited": false, "score": 0, "creation_date": 1437593320, "post_id": 31571990, "comment_id": 51099448, "body": "These are the import statements:PythonInterpreter interpreter = new PythonInterpreter(); \t       PySystemState sys = interpreter.getSystemState(); \t       sys.path.append(new PyString(&quot;/usr/lib/pymodules/python2.7&quot;)); \t       interpreter.exec(&quot;from nltk import wordpunct_tokenize&quot;); \t       interpreter.exec(&quot;from nltk.corpus import stopwords&quot;); \t       interpreter.exec(&quot;import nltk&quot;); \t      interpreter.exec(&quot;import svm&quot;); \t      interpreter.exec(&quot;from svmutil import *&quot;); \t       interpreter.exec(&quot;from nltk.classify import *&quot;);"}, {"owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "edited": false, "score": 0, "creation_date": 1437593440, "post_id": 31571990, "comment_id": 51099512, "body": "please edit your question and put it in your question in a code block. it is unreadable as a comment."}, {"owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "edited": false, "score": 0, "creation_date": 1437593577, "post_id": 31571990, "comment_id": 51099599, "body": "from what I see above, you don&#39;t have <code>import util</code> so no wonder it cannot find it."}, {"owner": {"reputation": 91, "user_id": 3514981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4335d01115f853bdfe3223063d3f6f78?s=128&d=identicon&r=PG&f=1", "display_name": "dkkashyap", "link": "https://stackoverflow.com/users/3514981/dkkashyap"}, "reply_to_user": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "edited": false, "score": 0, "creation_date": 1437594309, "post_id": 31571990, "comment_id": 51099985, "body": "after importing util:  Traceback (most recent call last):   File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt; ImportError: No module named util"}, {"owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "edited": false, "score": 0, "creation_date": 1437594387, "post_id": 31571990, "comment_id": 51100019, "body": "the problem seems to be ctypes. do you have that library installed?"}, {"owner": {"reputation": 31984, "user_id": 4125191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAHVV.jpg?s=128&g=1", "display_name": "RealSkeptic", "link": "https://stackoverflow.com/users/4125191/realskeptic"}, "edited": false, "score": 0, "creation_date": 1437594440, "post_id": 31571990, "comment_id": 51100053, "body": "The comment section is not intended for multi-line text or code. If you have any additions or information to add, please add it as an edit to your question, and properly format it. For example, write &quot;Edit: after importing <code>util</code>, this happens:...&quot;. Use the comments to notify people of your changes or to make short comments."}, {"owner": {"reputation": 91, "user_id": 3514981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4335d01115f853bdfe3223063d3f6f78?s=128&d=identicon&r=PG&f=1", "display_name": "dkkashyap", "link": "https://stackoverflow.com/users/3514981/dkkashyap"}, "reply_to_user": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "edited": false, "score": 0, "creation_date": 1437595000, "post_id": 31571990, "comment_id": 51100387, "body": "@bisounours_tronconneuse  yes library is there"}, {"owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "edited": false, "score": 0, "creation_date": 1437595666, "post_id": 31571990, "comment_id": 51100797, "body": "hmm.. ok, I don&#39;t know, it seems svm.py is not finding that library."}, {"owner": {"reputation": 91, "user_id": 3514981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4335d01115f853bdfe3223063d3f6f78?s=128&d=identicon&r=PG&f=1", "display_name": "dkkashyap", "link": "https://stackoverflow.com/users/3514981/dkkashyap"}, "edited": false, "score": 0, "creation_date": 1437670896, "post_id": 31571990, "comment_id": 51139293, "body": "is there any possibility that Jython version  is a problem i&#39;m using 2.7.0?"}], "owner": {"reputation": 91, "user_id": 3514981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4335d01115f853bdfe3223063d3f6f78?s=128&d=identicon&r=PG&f=1", "display_name": "dkkashyap", "link": "https://stackoverflow.com/users/3514981/dkkashyap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 601, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1437594162, "creation_date": 1437592276, "last_edit_date": 1437594162, "question_id": 31571990, "link": "https://stackoverflow.com/questions/31571990/jython-is-not-able-to-find-the-module", "title": "Jython is not able to find the module", "body": "<p>These are the import statements:</p>\n\n<pre><code>PythonInterpreter interpreter = new PythonInterpreter();\nPySystemState sys = interpreter.getSystemState(); \nsys.path.append(new PyString(\"/usr/lib/pymodules/python2.7\")); interpreter.exec(\"from nltk import wordpunct_tokenize\"); interpreter.exec(\"from nltk.corpus import stopwords\"); interpreter.exec(\"import nltk\"); \ninterpreter.exec(\"import svm\"); interpreter.exec(\"from svmutil import *\");\ninterpreter.exec(\"from nltk.classify import *\");\n</code></pre>\n\n<p>The output of S.o.p(sys.path):</p>\n\n<pre><code>['/home/deepak/.m2/repository/org/python/jython-standalone/2.7.0/Lib', '/home/deepak/.m2/repository/org/python/jython-standalone/2.7.0/jython-standalone-2.7.0.jar/Lib', '__classpath__', '__pyclasspath__/', '/usr/local/lib/python2.7/dist-packages', '/usr/lib/pymodules/python2.7']\n</code></pre>\n\n<p><code>dir = \"/usr/local/lib/python2.7/dist-packages</code> contains the nltk module, which is working fine.</p>\n\n<p><code>dir= \"/usr/lib/pymodules/python2.7\"</code> contains svm module.</p>\n\n<p>Here is the output error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/lib/pymodules/python2.7/svmutil.py\", line 3, in &lt;module&gt;\n    from svm import *\n  File \"/usr/lib/pymodules/python2.7/svm.py\", line 4, in &lt;module&gt;\n    from ctypes.util import find_library\nImportError: No module named util\n</code></pre>\n\n<p>What do I need to do to get Jython to find the module?</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "is_accepted": true, "score": 5, "last_activity_date": 1437593610, "last_edit_date": 1437593610, "creation_date": 1437592343, "answer_id": 31572021, "question_id": 31571971, "link": "https://stackoverflow.com/questions/31571971/unpack-numpy-array-shape-for-general-arrays/31572021#31572021", "title": "Unpack numpy array shape for general arrays", "body": "<p>Your array has ndim=1, which means <code>len(array.shape)==1</code>. Thus, you cannot unpack the <code>shape</code> tuple as if it were of length==2.</p>\n\n<p>To \"stretch\" your array to have 2dim in case it currently has fewer, use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.atleast_2d.html\" rel=\"nofollow\"><code>np.atleast_2d</code></a>.</p>\n\n<pre><code>&gt;&gt;&gt; x = np.arange(3.0)\n&gt;&gt;&gt; y = np.atleast_2d(x)\n&gt;&gt;&gt; y\narray([[ 0.,  1.,  2.]])\n&gt;&gt;&gt; m, n = y.shape\n</code></pre>\n\n<p>BTW, <code>list</code> and <code>array</code> are not good names for variables in python.</p>\n"}, {"comments": [{"owner": {"reputation": 1488, "user_id": 1557865, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/30e1f64aa3cbdf93433e19f286fae855?s=128&d=identicon&r=PG", "display_name": "Dipole", "link": "https://stackoverflow.com/users/1557865/dipole"}, "edited": false, "score": 0, "creation_date": 1437592567, "post_id": 31572060, "comment_id": 51098984, "body": "Thanks. Can you please explain why the extra [ ] makes the difference?"}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 1488, "user_id": 1557865, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/30e1f64aa3cbdf93433e19f286fae855?s=128&d=identicon&r=PG", "display_name": "Dipole", "link": "https://stackoverflow.com/users/1557865/dipole"}, "edited": false, "score": 0, "creation_date": 1437592775, "post_id": 31572060, "comment_id": 51099107, "body": "Because numpy handle the array as 1D array and np.shape return the value of shape of this 1D array, when add [], we made a 2D array."}, {"owner": {"reputation": 1488, "user_id": 1557865, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/30e1f64aa3cbdf93433e19f286fae855?s=128&d=identicon&r=PG", "display_name": "Dipole", "link": "https://stackoverflow.com/users/1557865/dipole"}, "edited": false, "score": 0, "creation_date": 1437649580, "post_id": 31572060, "comment_id": 51123161, "body": "Great, that makes sense - +1 for your effort and good explanation."}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 1488, "user_id": 1557865, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/30e1f64aa3cbdf93433e19f286fae855?s=128&d=identicon&r=PG", "display_name": "Dipole", "link": "https://stackoverflow.com/users/1557865/dipole"}, "edited": false, "score": 0, "creation_date": 1437651713, "post_id": 31572060, "comment_id": 51124602, "body": "Thank you, I am happy to help you. However, you didn&#39;t accept this as the answer. :)"}], "tags": [], "owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "is_accepted": false, "score": 1, "last_activity_date": 1437652106, "last_edit_date": 1437652106, "creation_date": 1437592496, "answer_id": 31572060, "question_id": 31571971, "link": "https://stackoverflow.com/questions/31571971/unpack-numpy-array-shape-for-general-arrays/31572060#31572060", "title": "Unpack numpy array shape for general arrays", "body": "<p>It's because numpy handle this array as <code>1D array</code> and <code>np.shape</code> returns the value of shape of this <code>1D array</code>, which is a <code>tuple</code> with a single element.<br>\nThus we can alter it to a <code>2D array</code> with adding [ ] like <code>[[1,2,3,4]]</code>.</p>\n\n<p>You can do as follows:</p>\n\n<pre><code>import numpy as np    \n\nlist = [[1,2,3,4]]\narray = np.asarray(list)\nprint np.shape(array)\nm, n = np.shape(array)\nprint m,n\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>(1, 4)\n1 4\n</code></pre>\n\n<p>Alternatively you can do this too:</p>\n\n<pre><code>import numpy as np    \n\nlist = [1,2,3,4]\nlist = [list]\narray = np.asarray(list)\nprint np.shape(array)\nm, n = np.shape(array)\nprint m,n\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>(1, 4)\n1 4\n</code></pre>\n\n<p>I hope, it helps.</p>\n\n<p>And yes, you should avoid using the names <code>list</code> and <code>array</code> as variable name in Python.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 2, "last_activity_date": 1437598565, "last_edit_date": 1437598565, "creation_date": 1437593521, "answer_id": 31572379, "question_id": 31571971, "link": "https://stackoverflow.com/questions/31571971/unpack-numpy-array-shape-for-general-arrays/31572379#31572379", "title": "Unpack numpy array shape for general arrays", "body": "<p>You showed us that:</p>\n\n<pre><code>&gt;&gt;&gt; np.shape(array)\n    (4,)\n</code></pre>\n\n<p>that is, it is a single element tuple.</p>\n\n<pre><code>m, n = (4,)\n</code></pre>\n\n<p>produces the same error.  There is one element in the tuple, so Python can only unpack it into 1 variable.  This isn't a <code>numpy</code> issue.  When doing this kind of unpacking, the numer of variables has to match the number of terms in the tuple (or list).</p>\n\n<p>If you come from  MATLAB you may expect all arrays to be 2d or larger.  But in numpy, arrays can be 1d or even 0d (with shape <code>()</code>).  There are multiple of ensuring that your array has 2 dimensions - <code>reshape</code>, extra <code>[]</code>, <code>[None,...]</code>, <code>np.atleast_2d</code>.</p>\n"}], "owner": {"reputation": 1488, "user_id": 1557865, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/30e1f64aa3cbdf93433e19f286fae855?s=128&d=identicon&r=PG", "display_name": "Dipole", "link": "https://stackoverflow.com/users/1557865/dipole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4657, "favorite_count": 0, "accepted_answer_id": 31572021, "answer_count": 3, "score": 2, "last_activity_date": 1437652106, "creation_date": 1437592220, "question_id": 31571971, "link": "https://stackoverflow.com/questions/31571971/unpack-numpy-array-shape-for-general-arrays", "title": "Unpack numpy array shape for general arrays", "body": "<p>An example:</p>\n\n<pre><code>    &gt;&gt;&gt; import numpy as np    \n    &gt;&gt;&gt; list = [1,2,3,4]\n    &gt;&gt;&gt; array = np.asarray(list)\n    &gt;&gt;&gt; np.shape(array)\n    (4,)\n</code></pre>\n\n<p>Now say I want to process a general array and read the number of rows and columns into variables <code>m</code> and <code>n</code> respectively, I would do:</p>\n\n<pre><code>&gt;&gt;&gt; m, n = np.shape(array)\n</code></pre>\n\n<p>But this results in the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nValueError: need more than 1 value to unpack\n</code></pre>\n\n<p>for the example above. In my example above I would have thought <code>m=1</code> and <code>n = 4</code> would instead have been an appropriate result. What am I missing?</p>\n"}, {"tags": ["python", "plone", "data-migration", "zope", "dexterity"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 2379337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a214fc4464ba91ade9a481383b598c8?s=128&d=identicon&r=PG", "display_name": "Domingos", "link": "https://stackoverflow.com/users/2379337/domingos"}, "edited": false, "score": 0, "creation_date": 1437657615, "post_id": 31574853, "comment_id": 51128897, "body": "Thank you. It would solve the problem if i didn&#39;t get permission exception when try to import RichTextValue from plone.app.textfield.value at ZMI."}, {"owner": {"reputation": 2825, "user_id": 644075, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3wKFs.jpg?s=128&g=1", "display_name": "hvelarde", "link": "https://stackoverflow.com/users/644075/hvelarde"}, "reply_to_user": {"reputation": 31, "user_id": 2379337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a214fc4464ba91ade9a481383b598c8?s=128&d=identicon&r=PG", "display_name": "Domingos", "link": "https://stackoverflow.com/users/2379337/domingos"}, "edited": false, "score": 1, "creation_date": 1437663995, "post_id": 31574853, "comment_id": 51134434, "body": "you can&#39;t access that module on the ZMI because of <a href=\"https://pypi.python.org/pypi/RestrictedPython\" rel=\"nofollow noreferrer\">RestrictedPython</a>."}, {"owner": {"reputation": 31, "user_id": 2379337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a214fc4464ba91ade9a481383b598c8?s=128&d=identicon&r=PG", "display_name": "Domingos", "link": "https://stackoverflow.com/users/2379337/domingos"}, "edited": false, "score": 0, "creation_date": 1437676935, "post_id": 31574853, "comment_id": 51142950, "body": "Well, is there any other way to set an rich text that&#39;s allowed inside untrusted code by default?   Without being able to set the text (wich is rich text), create an NITF item via Script (Python) are pretty much pointless."}, {"owner": {"reputation": 2825, "user_id": 644075, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3wKFs.jpg?s=128&g=1", "display_name": "hvelarde", "link": "https://stackoverflow.com/users/644075/hvelarde"}, "reply_to_user": {"reputation": 31, "user_id": 2379337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a214fc4464ba91ade9a481383b598c8?s=128&d=identicon&r=PG", "display_name": "Domingos", "link": "https://stackoverflow.com/users/2379337/domingos"}, "edited": false, "score": 0, "creation_date": 1437683062, "post_id": 31574853, "comment_id": 51146421, "body": "the obvious question then is why you want to create such an object on a script via ZMI?"}, {"owner": {"reputation": 31, "user_id": 2379337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a214fc4464ba91ade9a481383b598c8?s=128&d=identicon&r=PG", "display_name": "Domingos", "link": "https://stackoverflow.com/users/2379337/domingos"}, "edited": false, "score": 2, "creation_date": 1437689995, "post_id": 31574853, "comment_id": 51149725, "body": "Because I have to migrate some content (10k+) to a server that I haven&#39;t access to filesystem nor I have the Quick Import product installed server-side. And I have not enough power to change any security or enterprise polictics. Then I have no option besides create such object on a script via ZMI."}, {"owner": {"reputation": 6058, "user_id": 624821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d030b4a63da7ea36578874e512eebc?s=128&d=identicon&r=PG", "display_name": "SteveM", "link": "https://stackoverflow.com/users/624821/stevem"}, "edited": false, "score": 0, "creation_date": 1437754132, "post_id": 31574853, "comment_id": 51179699, "body": "See if your enterprise politics will allow the designation of RichTextValue as an allowed type via a mechanism like <a href=\"https://github.com/collective/collective.localfunctions\" rel=\"nofollow noreferrer\">github.com/collective/collective.localfunctions</a>"}, {"owner": {"reputation": 3253, "user_id": 627308, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57cfb84d84599c89426c6b9aba72b0c5?s=128&d=identicon&r=PG", "display_name": "vangheem", "link": "https://stackoverflow.com/users/627308/vangheem"}, "edited": false, "score": 2, "creation_date": 1437946344, "post_id": 31574853, "comment_id": 51230948, "body": "Being asked to migration 10k items only through the ZMI, yikes. Bad idea. No tests, no backups, asking for trouble."}, {"owner": {"reputation": 6880, "user_id": 681548, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1010c8a32ba6615297b1904fca57b6de?s=128&d=identicon&r=PG", "display_name": "keul", "link": "https://stackoverflow.com/users/681548/keul"}, "edited": false, "score": 0, "creation_date": 1470236644, "post_id": 31574853, "comment_id": 64868342, "body": "Agree. Still: I found this way to do complex, not pythonic and unreadable"}], "tags": [], "owner": {"reputation": 2825, "user_id": 644075, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3wKFs.jpg?s=128&g=1", "display_name": "hvelarde", "link": "https://stackoverflow.com/users/644075/hvelarde"}, "is_accepted": false, "score": 4, "last_activity_date": 1437602809, "creation_date": 1437602809, "answer_id": 31574853, "question_id": 31571895, "link": "https://stackoverflow.com/questions/31571895/how-can-i-set-a-richtext-field-on-a-dexterity-based-content-type-over-the-zmi/31574853#31574853", "title": "How can I set a RichText field on a Dexterity-based content type over the ZMI?", "body": "<p>collective.nitf is a Dexterity-based content type, so there is no need to use setters here, you should assign the value directly to the field.</p>\n\n<p>Also, note the <code>text</code> is a <code>RichText</code> field; you should use a <code>RichTextValue</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from plone.app.textfield.value import RichTextValue\n\nn.text = RichTextValue(u'The body.', 'text/plain', 'text/html')\n</code></pre>\n\n<p>Take a look at the tests, specifically, the <a href=\"https://github.com/collective/collective.nitf/blob/master/src/collective/nitf/tests/test_catalog.py#L81\" rel=\"nofollow\">test_catalog</a> module.</p>\n"}], "owner": {"reputation": 31, "user_id": 2379337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a214fc4464ba91ade9a481383b598c8?s=128&d=identicon&r=PG", "display_name": "Domingos", "link": "https://stackoverflow.com/users/2379337/domingos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1437695976, "creation_date": 1437591988, "last_edit_date": 1437695976, "question_id": 31571895, "link": "https://stackoverflow.com/questions/31571895/how-can-i-set-a-richtext-field-on-a-dexterity-based-content-type-over-the-zmi", "title": "How can I set a RichText field on a Dexterity-based content type over the ZMI?", "body": "<p>I tried to create an collective.nitf.content object using Script (Python) at ZMI.</p>\n\n<p>The code I've used:</p>\n\n<pre><code>from Products.CMFCore.utils import getToolByName\n\nnews_folder = context.test_folder\nwf = getToolByName(news_folder, \"portal_workflow\")\nid=\"test_news\"\n\nnews_folder.invokeFactory('collective.nitf.content', id)\n\nn = news_folder[id]\n\nn.setTitle('Test went OK')\nn.setText('The test went OK.')\nn.indexObject()\nwf.doActionFor(n, \"publish\")\n</code></pre>\n\n<p>When I call <code>n.setTitle()</code>, the object is created OK, but when I call <code>n.setText()</code>, this error is thrown:</p>\n\n<pre><code>Traceback (innermost last):\n  Module ZPublisher.Publish, line 138, in publish\n  Module ZPublisher.mapply, line 77, in mapply\n  Module ZPublisher.Publish, line 48, in call_object\n  Module Shared.DC.Scripts.Bindings, line 322, in __call__\n  Module Shared.DC.Scripts.Bindings, line 359, in _bindAndExec\n  Module Products.PythonScripts.PythonScript, line 344, in _exec\n  Module script, line 28, in mais_teste\n   - &lt;PythonScript at /plone/news_folder/test_script&gt;\n   - Line 28\nAttributeError: setText\n</code></pre>\n\n<p>What am I doing wrong? I've researched for days and found no answer at all to this question.</p>\n\n<p>Versions: </p>\n\n<ul>\n<li>Plone 4.3.3 (4308) </li>\n<li>CMF 2.2.7 </li>\n<li>Zope 2.13.22 </li>\n<li>Python 2.7.9 (default, Apr\n9 2015, 14:50:13) [GCC 4.8.3 20140911 (Red Hat 4.8.3-9)] </li>\n<li>PIL 2.3.0\n(Pillow)</li>\n</ul>\n"}, {"tags": ["python", "pandas", "plot", "histogram"], "comments": [{"owner": {"reputation": 1165, "user_id": 104847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f09ebc6a8ea0ff36d43d86557c27d36?s=128&d=identicon&r=PG", "display_name": "Ale", "link": "https://stackoverflow.com/users/104847/ale"}, "edited": false, "score": 0, "creation_date": 1437592110, "post_id": 31571830, "comment_id": 51098696, "body": "did you try this from the examples: <a href=\"http://bokeh.pydata.org/en/latest/docs/gallery/histograms_chart.html\" rel=\"nofollow noreferrer\">bokeh.pydata.org/en/latest/docs/gallery/histograms_chart.htm&zwnj;&#8203;l</a> it uses bokeh, sorry."}], "answers": [{"tags": [], "owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "is_accepted": false, "score": 6, "last_activity_date": 1437592147, "creation_date": 1437592147, "answer_id": 31571945, "question_id": 31571830, "link": "https://stackoverflow.com/questions/31571830/pandas-histogram-from-two-columns/31571945#31571945", "title": "pandas - histogram from two columns?", "body": "<p>Since you already have the bin frequencies computed (the <code>total</code> column), just use <code>pandas.DataFrame.plot</code></p>\n\n<pre><code>data.plot( x='_id', y='total', kind='hist')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 8, "last_activity_date": 1437592793, "last_edit_date": 1437592793, "creation_date": 1437592225, "answer_id": 31571972, "question_id": 31571830, "link": "https://stackoverflow.com/questions/31571830/pandas-histogram-from-two-columns/31571972#31571972", "title": "pandas - histogram from two columns?", "body": "<p>You can always drop to the lower-level <a href=\"http://matplotlib.org/examples/pylab_examples/histogram_demo_extended.html\" rel=\"noreferrer\"><code>matplotlib.hist</code></a>:</p>\n\n<pre><code>from matplotlib.pyplot import hist\ndf = pd.DataFrame({\n    '_id': np.random.randn(100),\n    'total': 100 * np.random.rand()\n})\nhist(df._id, weights=df.total)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jouSi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jouSi.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 14432, "user_id": 940208, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f915e5849f63f612de2832bad2348ab4?s=128&d=identicon&r=PG", "display_name": "mnowotka", "link": "https://stackoverflow.com/users/940208/mnowotka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31591, "favorite_count": 0, "accepted_answer_id": 31571972, "answer_count": 2, "score": 6, "last_activity_date": 1437592793, "creation_date": 1437591749, "question_id": 31571830, "link": "https://stackoverflow.com/questions/31571830/pandas-histogram-from-two-columns", "title": "pandas - histogram from two columns?", "body": "<p>I have this data:</p>\n\n<pre><code>data = pd.DataFrame().from_dict([r for r in response])\nprint data\n\n     _id  total\n0    213      1\n1    194      3\n2    205      156\n...\n</code></pre>\n\n<p>Now, if I call:</p>\n\n<pre><code>data.hist()\n</code></pre>\n\n<p>I will get two separate histograms, one for each column. This is not what I want. What I want is a single histogram made using those two columns, where one column is interpreted as a value and another one as a number of occurrences of this value. What should I do to generate such a histogram?</p>\n\n<p>I tried:</p>\n\n<pre><code>data.hist(column=\"_id\", by=\"total\")\n</code></pre>\n\n<p>But this generates even more (empty) histograms with error message.</p>\n"}]