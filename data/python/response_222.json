[{"tags": ["python", "f5"], "answers": [{"tags": [], "owner": {"reputation": 590, "user_id": 3147979, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/45cef215ec4357f58f1cc2d5e64b5a68?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Rahm", "link": "https://stackoverflow.com/users/3147979/jason-rahm"}, "is_accepted": false, "score": 0, "last_activity_date": 1555005257, "creation_date": 1555005257, "answer_id": 55638560, "question_id": 55622832, "link": "https://stackoverflow.com/questions/55622832/how-to-filtering-f5-monitors-with-python-script-and-bigsuds/55638560#55638560", "title": "How to filtering F5 monitors with python script and bigsuds", "body": "<p>It would be easier just to set your active partition (<strong>set_active_partition</strong> method) and grab only the Common monitors. Here's an example that loops through all the partitions and prints the monitors in each:</p>\n\n<pre><code>&gt;&gt;&gt; partitions = b.Management.Partition.get_partition_list()\n&gt;&gt;&gt; for partition in partitions:\n...     print \"\\t{}\".format(partition['partition_name'])\n...     b.Management.Partition.set_active_partition(active_partition=partition['partition_name'])\n...     mons = b.LocalLB.Monitor.get_template_list()\n...     for mon in mons:\n...         print \"\\t\\t{}\".format(mon['template_name'])\n...         \n    Common\n        /Common/none\n        /Common/diameter\n        /Common/external\n        /Common/firepass\n        /Common/ftp\n        /Common/gateway_icmp\n        /Common/http\n        /Common/http_head_f5\n        /Common/https\n        /Common/https_443\n        /Common/https_head_f5\n        /Common/icmp\n        /Common/imap\n        /Common/inband\n        /Common/ldap\n        /Common/module_score\n        /Common/mssql\n        /Common/mysql\n        /Common/nntp\n        /Common/oracle\n        /Common/pop3\n        /Common/postgresql\n        /Common/radius\n        /Common/radius_accounting\n        /Common/real_server\n        /Common/rpc\n        /Common/sasp\n        /Common/scripted\n        /Common/sip\n        /Common/smb\n        /Common/smtp\n        /Common/snmp_dca\n        /Common/snmp_dca_base\n        /Common/soap\n        /Common/tcp\n        /Common/tcp_echo\n        /Common/tcp_half_open\n        /Common/udp\n        /Common/dns\n        /Common/virtual_location\n        /Common/wap\n        /Common/wmi\n        /Common/mqtt\n        /Common/myhttp\n    bc\n        /bc/new_http_test\n    mc\n        /mc/new_http_test\n    part1\n    part2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11343170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cfa8a6ed4d6851784e74d3a1e892dec?s=128&d=identicon&r=PG&f=1", "display_name": "oryble", "link": "https://stackoverflow.com/users/11343170/oryble"}, "is_accepted": false, "score": 0, "last_activity_date": 1556995262, "creation_date": 1556995262, "answer_id": 55985714, "question_id": 55622832, "link": "https://stackoverflow.com/questions/55622832/how-to-filtering-f5-monitors-with-python-script-and-bigsuds/55985714#55985714", "title": "How to filtering F5 monitors with python script and bigsuds", "body": "<p>Thanks for the answer, I took example on your answer. I have also created functions to retrieve data from a monitor. Then, I will build a json file to display the data with Datables for example :</p>\n\n<pre><code>#!/usr/bin/python\n\nimport bigsuds\nimport re\nimport datetime\nimport json\n\n# Fonction pour recuperer les strings d'un moniteur\ndef get_moniteur_type(obj, monitor):\n    try:\n        return obj.LocalLB.Monitor.get_template_type([monitor])[0]\n    except Exception, e:\n        print e\n\n# Fonction pour recuperer les strings d'un moniteur\ndef get_stype_string(obj, monitor, stype):\n    try:\n        return obj.LocalLB.Monitor.get_template_string_property([monitor],[stype])[0]['value']\n    except Exception, e:\n        print e\n\n# Fonction reverse sur la reponse attendue a un test applicatif, si true, on ne doit pas avoir la reponse indiquee dans la receive string\ndef get_reverse_mode(obj, monitor):\n    try:\n       return obj.LocalLB.Monitor.get_template_reverse_mode([monitor])[0]\n    except Exception, e:\n        print e\n\n# Fonction pour recuperer l'intervalle et le timeout d'un moniteur\ndef get_itype_string(obj, monitor, itype):\n    try:\n        return obj.LocalLB.Monitor.get_template_integer_property([monitor],[itype])[0]['value']\n    except Exception, e:\n        print e\n\n# Fonction pour recuperer le port utilise par le moniteur\ndef get_moniteur_port(obj, monitor):\n    try:\n        return obj.LocalLB.Monitor.get_template_destination([monitor])[0]['ipport']['port']\n    except Exception, e:\n        print e\n\n# Information de connexion au F5\ntry:\n    b = bigsuds.BIGIP(\n            hostname = \"server-f5.domaine\",\n            username = \"user\",\n            password = \"password\",\n            )\n\nexcept Exception, e:\n    print e\n\n#On recupere tous les moniteurs present dans la partition Common, qui est l'emplacement des moniteurs crees par le reseau\nb.Management.Partition.set_active_partition(active_partition='Common')\nnoms_long = b.LocalLB.Monitor.get_template_list()\n#On boucle sur les noms des moniteurs en filtrant ceux crees pour dune\nfor nom in noms_long:\n#On supprime \\Common\\ dans le nom long pour avoir le nom du moniteur\n    moniteur = format(nom['template_name'])[8:]\n#On ne va recuperer que les moniteurs qui commencent par\"startname\"\n    if re.match(r'^startname', moniteur):\n\n        print \"{ \\\"moniteur\\\": \\\"\",moniteur,\"\\\", \\\"type\\\": \\\"\",get_moniteur_type(b, moniteur),\"\\\", \\\"requette_http\\\": \\\"\",get_stype_string(b, moniteur, \"STYPE_SEND\"),\"\\\", \\\"reponse_attendue\\\": \\\"\",get_stype_string(b, moniteur, \"STYPE_RECEIVE\"),\"\\\", \\\"mode_reverse\\\": \\\"\",get_reverse_mode(b, moniteur),\"\\\", \\\"timeout\\\": \\\"\",get_itype_string(b, moniteur, \"ITYPE_TIMEOUT\"),\"\\\", \\\"intervale\\\": \\\"\",get_itype_string(b, moniteur, \"ITYPE_INTERVAL\"),\"\\\", \\\"port\\\": \\\"\",get_moniteur_port(b, moniteur),\"\\\", \\\"type\\\": \\\"\",get_moniteur_type(b, moniteur),\"\\\"},\"\n</code></pre>\n\n<p>In this example, what interests me is to recover on an application test, the request sent and the answer expected or not, but globally, I can have tests on a particular port or UDP tests. It's all about having the main data.</p>\n"}], "owner": {"reputation": 1, "user_id": 11343170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cfa8a6ed4d6851784e74d3a1e892dec?s=128&d=identicon&r=PG&f=1", "display_name": "oryble", "link": "https://stackoverflow.com/users/11343170/oryble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556995262, "creation_date": 1554940507, "question_id": 55622832, "link": "https://stackoverflow.com/questions/55622832/how-to-filtering-f5-monitors-with-python-script-and-bigsuds", "title": "How to filtering F5 monitors with python script and bigsuds", "body": "<p>i try to filter a list of monitors to keep only those that contain a specific string of characters.\nI get a list with my function.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\nimport bigsuds\nimport re\nimport string\n\ndef get_monitors(obj):\n    try:\n        return obj.LocalLB.Monitor.get_template_list()\n    except Exception, e:\n        print e\n\ntry:\n    b = bigsuds.BIGIP(\n            hostname = \"F5.serveur.com\",\n            username = \"user\",\n            password = \"password\",\n            )\n\nexcept Exception, e:\n    print e\n\nmonitors = get_monitors(b)\n\n</code></pre>\n\n<p>Here is an example of a result :</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>[{'template_type': 'TTYPE_DIAMETER', 'template_name': '/Common/diameter'}, {'template_type': 'TTYPE_DNS', 'template_name': '/Common/dns'}, {'template_type': 'TTYPE_HTTP', 'template_name': '/Common/namexxxxx'}]\n</code></pre>\n\n<p>I need to filter this list to keep only items containing \"Common \\ name\"</p>\n\n<p>I try for exemple :</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>moniteur_ok = list(filter(lambda x: 'Common\\name' in x, monitors))\n\nor\n\nmoniteur_ok = re.findall(r'(?&lt;=\\s)/Common/name\\S+' ,monitors)\n</code></pre>\n\n<p>Ideas to filter according to my needs ?</p>\n\n<p>I could then recover via my F5 some info.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>monitor_property= b.LocalLB.Monitor.get_template_string_property([\"\\Common\\namexxxxx\"],[\"STYPE_SEND\"],[\"STYPE_RECEIVE\"],[\"STYPE_TIMEOUT_PACKETS\"])\n</code></pre>\n"}, {"tags": ["python", "git", "gitpython"], "answers": [{"tags": [], "owner": {"reputation": 7791, "user_id": 7200715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JB53.jpg?s=128&g=1", "display_name": "Arount", "link": "https://stackoverflow.com/users/7200715/arount"}, "is_accepted": true, "score": 3, "last_activity_date": 1554954163, "creation_date": 1554954163, "answer_id": 55624366, "question_id": 55622824, "link": "https://stackoverflow.com/questions/55622824/how-to-query-the-log-of-a-specific-git-repo-branch-using-gitpython/55624366#55624366", "title": "How to query the log of a specific git repo branch using gitpython?", "body": "<p>You need to split command line arguments into <code>*args</code> (list):</p>\n\n<p>from: </p>\n\n<pre><code>repo.git.log('-L :dataLoad:/home/ubuntu/projects/alpha-draw/py/enigma.py')\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>repo.git.log('-L', ':dataLoad:/home/ubuntu/projects/alpha-draw/py/enigma.py')\n</code></pre>\n\n<p>(comma)</p>\n"}], "owner": {"reputation": 838, "user_id": 4468329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vgn0B.jpg?s=128&g=1", "display_name": "Kyle Swanson", "link": "https://stackoverflow.com/users/4468329/kyle-swanson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 55624366, "answer_count": 1, "score": 0, "last_activity_date": 1554954163, "creation_date": 1554940446, "question_id": 55622824, "link": "https://stackoverflow.com/questions/55622824/how-to-query-the-log-of-a-specific-git-repo-branch-using-gitpython", "title": "How to query the log of a specific git repo branch using gitpython?", "body": "<p>Goal: Perform the following git command within a python script using gitpython.</p>\n\n<p>cmdLine Version:</p>\n\n<pre><code>git log -L :dataLoad:/home/ubuntu/projects/alpha-draw/py/enigma.py\n</code></pre>\n\n<p>Script Version:</p>\n\n<pre><code>repo.git.log(f'-L :dataLoad:/home/ubuntu/projects/alpha-draw/py/enigma.py')\n</code></pre>\n\n<p>This results in the following error,</p>\n\n<pre><code>git.exc.GitCommandError: Cmd('git') failed due to: exit code(128)\ncmdline: git log -L :dataLoad:/home/ubuntu/projects/alpha-draw/py/enigma.py\nstderr: 'fatal: -L argument not 'start,end:file' or ':funcname:file':  :dataLoad:/home/ubuntu/projects/alpha-draw/py/enigma.py'\n</code></pre>\n\n<p>When I copy and paste the cmdLine version from the error straight into... well the command line it works as expected.</p>\n\n<p>My hypothesis is that gitpython is looking at the master branch, when the actual working branch is not master.</p>\n\n<p>Reasons for this hypothesis:</p>\n\n<p>1) I have found many posts discussing the use of the command</p>\n\n<pre><code>repo.git.checkout(\"&lt;branch&gt;\")\n</code></pre>\n\n<p>This has the effect of letting me know that my branch is up to date. When I query the commits from the repo after using this command I still get commits from master.</p>\n\n<p>2) Another reason to believe this is an issue with not successfully changing the branch within gitpython is with the following example.</p>\n\n<pre><code>commits = list(repo.iter_commits('&lt;branch&gt;'))[:5]\n</code></pre>\n\n<p>When I change the branch I get the expected result of retrieving the commits associated with the specified .</p>\n\n<p>I am open to using other python git libraries. Not tied to gitpython in anyway. I suppose another option would be to forego git libraries and interact with git through python command line calls.</p>\n\n<p>All help is appreciated, thanks!</p>\n"}, {"tags": ["python", "matplotlib", "matplotlib-venn"], "answers": [{"tags": [], "owner": {"reputation": 516, "user_id": 11346909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vcun6.jpg?s=128&g=1", "display_name": "Gabriel H.", "link": "https://stackoverflow.com/users/11346909/gabriel-h"}, "is_accepted": true, "score": 3, "last_activity_date": 1555465210, "creation_date": 1555465210, "answer_id": 55718730, "question_id": 55622820, "link": "https://stackoverflow.com/questions/55622820/python-venn-diagram-actual-label/55718730#55718730", "title": "Python Venn diagram actual label", "body": "<p>See <a href=\"https://stackoverflow.com/a/55718006/11346909\">https://stackoverflow.com/a/55718006/11346909</a></p>\n\n<p>Here's a personalized demonstration:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom matplotlib_venn import venn3\n\nset1 = set(['A', 'B', 'C', 'D'])\nset2 = set(['B', 'C', 'D', 'E'])\nset3 = set(['C', 'D',' E', 'F', 'G'])\n\nvenn = venn3([set1, set2, set3], ('Set1', 'Set2', 'Set3'))\n\nvenn.get_label_by_id('100').set_text('\\n'.join(set1-set2-set3))\nvenn.get_label_by_id('110').set_text('\\n'.join(set1&amp;set2-set3))\nvenn.get_label_by_id('010').set_text('\\n'.join(set2-set3-set1))\nvenn.get_label_by_id('101').set_text('\\n'.join(set1&amp;set3-set2))\nvenn.get_label_by_id('111').set_text('\\n'.join(set1&amp;set2&amp;set3))\nvenn.get_label_by_id('011').set_text('\\n'.join(set2&amp;set3-set1))\nvenn.get_label_by_id('001').set_text('\\n'.join(set3-set2-set1))\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5powV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5powV.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 461, "user_id": 4919575, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e7ed2995045899d43c1294b0d9fed328?s=128&d=identicon&r=PG&f=1", "display_name": "Rebin", "link": "https://stackoverflow.com/users/4919575/rebin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 2, "accepted_answer_id": 55718730, "answer_count": 1, "score": 2, "last_activity_date": 1555465210, "creation_date": 1554940425, "question_id": 55622820, "link": "https://stackoverflow.com/questions/55622820/python-venn-diagram-actual-label", "title": "Python Venn diagram actual label", "body": "<p>I wrote the following code to create a Venn diagram to show the intersection of 3 sets. What I plot is just the numbers of elements in common. What I want is to print the real A,B,C,... inside the intersection not counting them. Is there a way? </p>\n\n<p>my code and output: </p>\n\n<pre><code>set1 = set(['A', 'B', 'C', 'D'])\nset2 = set(['B', 'C', 'D', 'E'])\nset3 = set(['C', 'D',' E', 'F', 'G'])\nv=venn3([set1, set2, set3], ('Set1', 'Set2', 'Set3'))\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Zqbrc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zqbrc.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I want is something like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/DvsGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DvsGG.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "r", "excel", "plot", "plotly"], "comments": [{"owner": {"reputation": 213, "user_id": 9592902, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "StackOne", "link": "https://stackoverflow.com/users/9592902/stackone"}, "edited": false, "score": 0, "creation_date": 1557884338, "post_id": 55622818, "comment_id": 98911719, "body": "Stacked Bar Plots, Plotly library can be used in R programming to plot such graphs."}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 9592902, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "StackOne", "link": "https://stackoverflow.com/users/9592902/stackone"}, "edited": false, "score": 0, "creation_date": 1557884271, "post_id": 55622964, "comment_id": 98911708, "body": "Works Fine on Plotly"}], "tags": [], "owner": {"reputation": 46, "user_id": 8200738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c6ee9f8e586678c016727dad807fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Raphael Scheinkoenig", "link": "https://stackoverflow.com/users/8200738/raphael-scheinkoenig"}, "is_accepted": true, "score": 1, "last_activity_date": 1554941640, "creation_date": 1554941640, "answer_id": 55622964, "question_id": 55622818, "link": "https://stackoverflow.com/questions/55622818/recommend-software-or-techniques-to-plot-multiple-items-on-x-axis/55622964#55622964", "title": "Recommend Software or Techniques to plot multiple items on x-axis", "body": "<p>You could Try on of the following Libaries: </p>\n\n<p>Mathplot (<a href=\"https://matplotlib.org/\" rel=\"nofollow noreferrer\">https://matplotlib.org/</a>)\nPlotly (<a href=\"https://plot.ly/python/\" rel=\"nofollow noreferrer\">https://plot.ly/python/</a>)</p>\n"}], "owner": {"reputation": 213, "user_id": 9592902, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "StackOne", "link": "https://stackoverflow.com/users/9592902/stackone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "closed_date": 1559906283, "accepted_answer_id": 55622964, "answer_count": 1, "score": -3, "last_activity_date": 1557884579, "creation_date": 1554940410, "last_edit_date": 1557884579, "question_id": 55622818, "link": "https://stackoverflow.com/questions/55622818/recommend-software-or-techniques-to-plot-multiple-items-on-x-axis", "closed_reason": "Not suitable for this site", "title": "Recommend Software or Techniques to plot multiple items on x-axis", "body": "<p>I need to plot two variables(Fruits, Vegetables) on X axis and the prices on y axis, for multiple states.</p>\n\n<p>What kind of plot do you recommend?</p>\n"}, {"tags": ["python", "pandas", "algorithm", "machine-learning", "jupyter-notebook"], "comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 0, "creation_date": 1554942153, "post_id": 55622812, "comment_id": 97938890, "body": "Try wrapping object in quotation marks."}, {"owner": {"reputation": 2338, "user_id": 3080953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe6bc2a51d294b0d1d65fa203e496c7a?s=128&d=identicon&r=PG&f=1", "display_name": "c2huc2hu", "link": "https://stackoverflow.com/users/3080953/c2huc2hu"}, "edited": false, "score": 0, "creation_date": 1554959706, "post_id": 55622812, "comment_id": 97942428, "body": "Python is indentation sensitive. Could you update the code in the question to match your code exactly (especially the whitespace)?"}, {"owner": {"reputation": 79, "user_id": 9032932, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WzrG6PgGUpA/AAAAAAAAAAI/AAAAAAAAEY0/IVnUpEYWOVQ/photo.jpg?sz=128", "display_name": "Tapesh Patel", "link": "https://stackoverflow.com/users/9032932/tapesh-patel"}, "edited": false, "score": 0, "creation_date": 1554975918, "post_id": 55622812, "comment_id": 97950364, "body": "Hi i tried that and now im getting other error  which is this :::: def preprocess_features(X):             output = pd.DataFrame(index = X.index)                 for col, col_df in X.iteritems():                                  File &quot;&lt;ipython-input-91-43ecf6dbb517&gt;&quot;, line 22     def preprocess_features(X):     ^ IndentationError: unexpected indent"}, {"owner": {"reputation": 79, "user_id": 9032932, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WzrG6PgGUpA/AAAAAAAAAAI/AAAAAAAAEY0/IVnUpEYWOVQ/photo.jpg?sz=128", "display_name": "Tapesh Patel", "link": "https://stackoverflow.com/users/9032932/tapesh-patel"}, "edited": false, "score": 0, "creation_date": 1554976910, "post_id": 55622812, "comment_id": 97950993, "body": "File &quot;&lt;ipython-input-107-9bf61c654c95&gt;&quot;, line 15     print &quot;Processed feature columns ({} total features):\\n{}&quot;.format(len(X_all.columns), list(X_all.columns))                                                              ^ SyntaxError: invalid syntax  this is the recent error after indentation i have got now"}], "owner": {"reputation": 79, "user_id": 9032932, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WzrG6PgGUpA/AAAAAAAAAAI/AAAAAAAAEY0/IVnUpEYWOVQ/photo.jpg?sz=128", "display_name": "Tapesh Patel", "link": "https://stackoverflow.com/users/9032932/tapesh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554957534, "creation_date": 1554940367, "last_edit_date": 1554957534, "question_id": 55622812, "link": "https://stackoverflow.com/questions/55622812/how-can-i-fix-the-indentation-error-in-using-pandas-and-jupyter-notebook", "title": "how can i fix the Indentation Error in using pandas and jupyter notebook?", "body": "<p>Below is the code which i have tried and also i have posted the error what i got. Please help</p>\n\n<pre><code> X_all.HM1 = X_all.HM1.astype('str')\n X_all.HM2 = X_all.HM2.astype('str')\n                X_all.HM3 = X_all.HM3.astype('str')\n                X_all.AM1 = X_all.AM1.astype('str')\n                X_all.AM2 = X_all.AM2.astype('str')\n                X_all.AM3 = X_all.AM3.astype('str')\n\ndef preprocess_features(X):\n                    output = pd.DataFrame(index = X.index)\n\n                    for col, col_df in X.iteritems():\n\n             if col_df.dtype == object:\n                        col_df = pd.get_dummies(col_df, prefix = col)\n\n                       output = output.join(col_df)\n\n                         return output\n\n            X_all = preprocess_features(X_all)\n            print \"Processed feature columns ({} total features):\\n{}\".format(len(X_all.columns), list(X_all.columns))\n\n            print \"\\nFeature values:\"\n            display (X_all)`\n</code></pre>\n\n<p>This is the error i have got \n            File \"\", line 37\n                if col_df.dtype == object:</p>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 7, "creation_date": 1554940390, "post_id": 55622802, "comment_id": 97938522, "body": "&quot;is not working&quot; is a much too imprecise error description. What is the error or output, what is the expected output and behavior (edit the question to show it as properly formatted text)?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554940569, "post_id": 55622802, "comment_id": 97938560, "body": "Sounds like you know one is not working. Which one and how did you determine this?"}, {"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 2, "creation_date": 1554941068, "post_id": 55622802, "comment_id": 97938665, "body": "I think you&#39;ll probably find that if you don&#39;t define a function inside a loop your code might work. You really shouldn&#39;t ever define a function inside a loop. It has many pitfalls, and the only advantage I can think of (off the top of my head) is if you are doing things with mutable parameters"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1554941762, "post_id": 55622966, "comment_id": 97938814, "body": "I would say, only define a function in a loop <i>if that&#39;s what you mean to do</i>. There are certainly valid use-cases..."}, {"owner": {"reputation": 11, "user_id": 11343269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb41265b042c84198a47c88a88b3136?s=128&d=identicon&r=PG&f=1", "display_name": "BlindxKing", "link": "https://stackoverflow.com/users/11343269/blindxking"}, "edited": false, "score": 0, "creation_date": 1554994817, "post_id": 55622966, "comment_id": 97962469, "body": "I appreciate the feedback. I do not like utilizing the function within a loop because I don&#39;t think it is as easy to follow. I really like the way you have everything defined and how easy the code is to follow. This helped a lot. Thanks."}], "tags": [], "owner": {"reputation": 168, "user_id": 2218522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0cb19c17100c8d6c3793daa0598d633?s=128&d=identicon&r=PG", "display_name": "User111213", "link": "https://stackoverflow.com/users/2218522/user111213"}, "is_accepted": false, "score": 0, "last_activity_date": 1554941696, "creation_date": 1554941696, "answer_id": 55622966, "question_id": 55622802, "link": "https://stackoverflow.com/questions/55622802/multiple-functions-but-one-is-failing/55622966#55622966", "title": "Multiple functions but one is failing", "body": "<p>Your code has a lot of issues in it. Never define a function inside a loop. This is not a good programming practice and affects your program a lot. For example, When you use result=[] within the loop, everytime the value of result is made empty and the statement result.append(a) only has the latest value in it. Also you have declared result=[] twice. Same with other variables. Always try passing and returning variables when you use many functions. Change your program like this.</p>\n\n<pre><code>def readfile(filepath):\n    #Your code to read the contents and store them\n    return number_list\n\ndef squares(n):\n    #code to square the numbers, store and return the numbers\n    return ans\n\ndef Total():\n    #code to calculate the sum\n    # you can also check out the built-in sum() function\n    return sum\n\ndef main():\n    numbers = readfile(filepath)\n    sq = squares(numbers)\n    result = Total(sq)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 11343269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb41265b042c84198a47c88a88b3136?s=128&d=identicon&r=PG&f=1", "display_name": "BlindxKing", "link": "https://stackoverflow.com/users/11343269/blindxking"}, "edited": false, "score": 0, "creation_date": 1554994735, "post_id": 55623123, "comment_id": 97962396, "body": "I really like the way you have everything defined and the code is much easier to follow. Honestly, I&#39;ve learned a lot just from looking through this suggestion."}], "tags": [], "owner": {"reputation": 2429, "user_id": 5091805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e4vgq.png?s=128&g=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/5091805/ari"}, "is_accepted": false, "score": 0, "last_activity_date": 1554944131, "last_edit_date": 1554944131, "creation_date": 1554943223, "answer_id": 55623123, "question_id": 55622802, "link": "https://stackoverflow.com/questions/55622802/multiple-functions-but-one-is-failing/55623123#55623123", "title": "Multiple functions but one is failing", "body": "<p>There are a few things wrong in your code. My basic rule is to make each step its own function. You can do this whole thing in one function but it makes it hard to add things later on.</p>\n\n<pre><code># Opens the file and appends each number to a list, returns list\ndef open_file(filename):\n    output = []\n    f = open(filename, \"r\")\n    for line in f:\n        output.append(int(line.strip()))\n    return output\n\n# Takes an input like a list and squared each number, returns the list\ndef square_number(input):\n    return [num*num for num in input]\n\n# sums the list\ndef sum_numbers(input):\n    return sum(input)\n\n# the start, function calls within function calls\nthe_sum = sum_numbers(square_number(open_file('4numsin.txt')))\n\n#check the result\nprint(the_sum)\n&gt;&gt; 204\n</code></pre>\n\n<p>See how more efficient it is to have separate methods/functions?</p>\n\n<pre><code># look at other things\nprint(open_file('4numsin.txt'))\n&gt;&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8]\n\nprint(sum_numbers(open_file('4numsin.txt')))\n&gt;&gt; 36\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11343269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb41265b042c84198a47c88a88b3136?s=128&d=identicon&r=PG&f=1", "display_name": "BlindxKing", "link": "https://stackoverflow.com/users/11343269/blindxking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1554946383, "creation_date": 1554940198, "last_edit_date": 1554946383, "question_id": 55622802, "link": "https://stackoverflow.com/questions/55622802/multiple-functions-but-one-is-failing", "title": "Multiple functions but one is failing", "body": "<p>I'm coding a process to pull information from a text file, turn the file from strings into integers, squaring the integers, and summing the squares before finally printing the result. The final portion of the code (summing the squares) is not working and I cannot identify why. I'm using Python 3.7.2. Any help would be appreciated.</p>\n\n<pre><code>\"\"\"\nUse the functions from the previous three problems to implement a main() program that computes the sums of the squares of the numbers read from a file.\nYour program should prompt for a file name and print out the sum of the squares of the numbers in the file.\nHint: You may want to use readline()\n\nTest Cases\nInput(s)  :  Output(s)\n4numsin.txt  \n\n\"\"\"\ndef main():\n    f = open(\"4numsin.txt\", \"r\")\n    for line in f:\n        line = line.strip()\n        strNumber = line\n        number = []\n        result = []\n\n        def toNumbers():\n            for n in strNumber:\n                n = int(strNumber)\n                x = number.append(n)\n            return number\n        toNumbers()\n\n        for line in number:\n            def squareEach():\n                z = 0\n                result = []\n                while number != []:\n                    z = number.pop(0)\n                    a = int(z) ** 2\n                    b = result.append(a)\n                print(strNumber, result)\n            squareEach()\n\n        while result != []:\n            def Total():\n                i = 0\n                theSum = 0\n                i = result.pop()\n                theSum += i\n            print(theSum)\n            Total()\nmain()\n\n\"\"\"Text File:\n4numsin.txt\n0\n1\n2\n3\n4\n5\n6\n7\n8\n\"\"\"\n</code></pre>\n"}, {"tags": ["python", "django", "python-3.x", "model"], "answers": [{"tags": [], "owner": {"reputation": 197, "user_id": 4963368, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207283427912706/picture?type=large", "display_name": "George D.", "link": "https://stackoverflow.com/users/4963368/george-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1554940106, "creation_date": 1554940106, "answer_id": 55622791, "question_id": 55622738, "link": "https://stackoverflow.com/questions/55622738/how-to-represent-a-us-state-in-my-django-model/55622791#55622791", "title": "How to represent a US state in my Django model?", "body": "<p><a href=\"https://docs.djangoproject.com/en/1.8/topics/localflavor/\" rel=\"nofollow noreferrer\">Per the docs</a>, <code>localflavor</code> has been separated out into a third party library. You can follow the installation instructions <a href=\"https://django-localflavor.readthedocs.io/en/latest/#installation\" rel=\"nofollow noreferrer\">here</a>, then:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from localflavor.us.models import USStateField\n...\nclass UsLocation(models.Model):\n    ...\n    state = USStateField(...)\n</code></pre>\n"}], "owner": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554940106, "creation_date": 1554939691, "question_id": 55622738, "link": "https://stackoverflow.com/questions/55622738/how-to-represent-a-us-state-in-my-django-model", "title": "How to represent a US state in my Django model?", "body": "<p>I'm using Django, Python 3.7.  I want to represent a US state field in my model.  So I added this</p>\n\n<pre><code>from django.contrib.localflavor.us.models import USStateField\n...\nclass UsLocation(models.Model):\n    address_1 = models.CharField(_(\"address\"), max_length=128)\n    address_2 = models.CharField(_(\"address cont'd\"), max_length=128, blank=True)\n\n    city = models.CharField(_(\"city\"), max_length=64, null=False)\n    state = USStateField(_(\"state\"), null=False)\n    zip_code = models.CharField(_(\"zip code\"), max_length=10, null=False)\n</code></pre>\n\n<p>Bu tthis is resulting in an \"Unresolved reference 'USStateField'\" in the import line.  I'm not tied to using this library.  Is there another way I can conveniently represent a US state and if not, what's wrong with the above?</p>\n"}, {"tags": ["python", "python-3.x", "list", "dictionary-comprehension"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1554939544, "post_id": 55622689, "comment_id": 97938359, "body": "But why would you use a <i>dictionary</i> comprehension, do you want a <i>list</i> of keys, or a dictionary from only a subset of keys? <i>list</i> comprehensions build <i>lists</i>, dictionary comprehensions build <i>dictionaries</i>. Can you provide inputs with expected outputs? Note, if you want a list of keys, you can just do <code>ky_list = list(nw_dt)</code> if you have some list of keys, and want the values in <code>some_dict</code>, do <code>[some_dict[k] for k in keys_list]</code>"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1554939815, "post_id": 55622689, "comment_id": 97938417, "body": "Use dictionary comprehensions outside of format strings."}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1554940023, "post_id": 55622689, "comment_id": 97938456, "body": "Your question is not very clear but this will probably do: <code>{key: value for key, value in nw_dt.items() if key in ky_lit}</code>"}, {"owner": {"reputation": 11, "user_id": 11343159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7c857c14d80faef7b36b2a8bd0b20c?s=128&d=identicon&r=PG&f=1", "display_name": "user11343159", "link": "https://stackoverflow.com/users/11343159/user11343159"}, "edited": false, "score": 0, "creation_date": 1554941668, "post_id": 55622689, "comment_id": 97938794, "body": "I&#39;m trying to alter the value in nw_dt but only for a subset of keys without creating a new dictionary. However, my issue is that I&#39;m trying to be pythonic and access all the keys all at once and I&#39;m not able to. i.e search for a key in the ky_lit and if it exists change its value in nw_dit."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1554942611, "post_id": 55622689, "comment_id": 97938974, "body": "Loop over the list of keys, if it exists in the dictionary, then alter. That seems pythonic. If you want to alter a dictionary, then don&#39;t use a dictionary comprehension, that&#39;s not what they are for."}, {"owner": {"reputation": 11, "user_id": 11343159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7c857c14d80faef7b36b2a8bd0b20c?s=128&d=identicon&r=PG&f=1", "display_name": "user11343159", "link": "https://stackoverflow.com/users/11343159/user11343159"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1555042916, "post_id": 55622689, "comment_id": 97978465, "body": "@juanpa.arrivillaga Ok. That makes sense. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1554941327, "creation_date": 1554941327, "answer_id": 55622927, "question_id": 55622689, "link": "https://stackoverflow.com/questions/55622689/access-a-dictionarys-keys-given-a-list-of-keys-using-dict-comprehension/55622927#55622927", "title": "Access a dictionary&#39;s keys given a list of keys using dict comprehension", "body": "<p>You can iterate over the list in the dictionary comprehension:</p>\n\n<pre><code>{key: nw_dt[key] for key in ky_lit}\n</code></pre>\n\n<p>A dictionary comprehension <em>creates</em> a new dictionary, but it can iterate over any iterable type.</p>\n"}], "owner": {"reputation": 11, "user_id": 11343159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7c857c14d80faef7b36b2a8bd0b20c?s=128&d=identicon&r=PG&f=1", "display_name": "user11343159", "link": "https://stackoverflow.com/users/11343159/user11343159"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554941327, "creation_date": 1554939267, "last_edit_date": 1554940618, "question_id": 55622689, "link": "https://stackoverflow.com/questions/55622689/access-a-dictionarys-keys-given-a-list-of-keys-using-dict-comprehension", "title": "Access a dictionary&#39;s keys given a list of keys using dict comprehension", "body": "<p>I'm new to Python and I am trying to understand dictionary comprehension better. Suppose I have a dictionary with a large set of keys, and list contain a smaller subset (but a bit large) of keys in the dictionary. How would you, if it is possible, using dict comprehension, access all the values with the keys in the list?</p>\n\n<pre><code>nw_dt = {}\nfor i in range(101):\n    nw_dt[chr(i)] = randint(0, 101)\nky_lit = [chr(b) for b in range(50, 101)]\n</code></pre>\n\n<p>What I have tired are the following:</p>\n\n<pre><code>for kys in nw_dt:\n    nw_dt[f'{kys for v in ky_lit}']\n</code></pre>\n\n<p>But the string is a generator expression which returns a KeyError</p>\n\n<p>I've also tried to search for a single key:</p>\n\n<pre><code>for kys in nw_dt:\n    nw_dt[f'{kys if kys == chr(51)}']\n</code></pre>\n\n<p>It returns a EOF parsing error for the string</p>\n"}, {"tags": ["python", "com"], "comments": [{"owner": {"reputation": 131, "user_id": 6686511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0600e09cea3d1e4c6d4543ddbf0e4bb3?s=128&d=identicon&r=PG&f=1", "display_name": "Felix Labelle", "link": "https://stackoverflow.com/users/6686511/felix-labelle"}, "edited": false, "score": 0, "creation_date": 1554940010, "post_id": 55622679, "comment_id": 97938455, "body": "The answer to this post is exactly what I want to do. <a href=\"https://stackoverflow.com/questions/31167967/python-3-4-text-to-speech-with-sapi/31172101#31172101\" title=\"python 3 4 text to speech with sapi\">stackoverflow.com/questions/31167967/&hellip;</a>. However I have no way of commenting and the answer is not included."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 6686511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0600e09cea3d1e4c6d4543ddbf0e4bb3?s=128&d=identicon&r=PG&f=1", "display_name": "Felix Labelle", "link": "https://stackoverflow.com/users/6686511/felix-labelle"}, "edited": false, "score": 0, "creation_date": 1576698535, "post_id": 59376730, "comment_id": 104987309, "body": "Thanks! I haven&#39;t looked at this code in a while, but I&#39;ll try your suggestions tonight."}, {"owner": {"reputation": 131, "user_id": 6686511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0600e09cea3d1e4c6d4543ddbf0e4bb3?s=128&d=identicon&r=PG&f=1", "display_name": "Felix Labelle", "link": "https://stackoverflow.com/users/6686511/felix-labelle"}, "edited": false, "score": 0, "creation_date": 1576809543, "post_id": 59376730, "comment_id": 105025572, "body": "I think I was using an Arpabet based corpus.. I&#39;m trying to find a large enough IPA based corpus just to be sure that this is the issue"}, {"owner": {"reputation": 131, "user_id": 6686511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0600e09cea3d1e4c6d4543ddbf0e4bb3?s=128&d=identicon&r=PG&f=1", "display_name": "Felix Labelle", "link": "https://stackoverflow.com/users/6686511/felix-labelle"}, "edited": false, "score": 0, "creation_date": 1576812172, "post_id": 59376730, "comment_id": 105025980, "body": "The error was really silly, there was a trailing comma in certain phonemes. The file was being read incorrectly."}], "tags": [], "owner": {"reputation": 61, "user_id": 8641146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rNirT.jpg?s=128&g=1", "display_name": "JeRRy74rus", "link": "https://stackoverflow.com/users/8641146/jerry74rus"}, "is_accepted": true, "score": 2, "last_activity_date": 1576594885, "last_edit_date": 1576594885, "creation_date": 1576594204, "answer_id": 59376730, "question_id": 55622679, "link": "https://stackoverflow.com/questions/55622679/python-using-ssml-with-sapi-comtypes/59376730#59376730", "title": "Python: Using SSML with SAPI (comtypes)", "body": "<p>Try to use single quotes inside ph attrubute.\nLike this</p>\n\n<pre><code>my_text = '&lt;speak&gt;&lt;phoneme alphabet=\"x-sampa\" ph=\\'v\"e.de.ni.e\\'&gt;\u0432\u0435\u0434\u0435\u043d\u0438\u0435&lt;/phoneme&gt;&lt;/speak&gt;'\n</code></pre>\n\n<p>also remember to use \\ to escape single quote</p>\n\n<p><strong>UPD</strong>\nAlso this error could mean that your ph cannot be parsed. You can check docs there: <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/speech-service/speech-synthesis-markup\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/cognitive-services/speech-service/speech-synthesis-markup</a></p>\n\n<p>this example will work</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;speak version=\"1.0\" xmlns=\"https://www.w3.org/2001/10/synthesis\" xml:lang=\"en-US\"&gt;\n  &lt;voice  name=\"en-US-Jessa24kRUS\"&gt;\n    &lt;s&gt;His name is Mike &lt;phoneme alphabet=\"ups\" ph=\"JH AU\"&gt; Zhou &lt;/phoneme&gt;&lt;/s&gt;\n  &lt;/voice&gt;\n&lt;/speak&gt;\n</code></pre>\n\n<p>but this doesn't</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;speak version=\"1.0\" xmlns=\"https://www.w3.org/2001/10/synthesis\" xml:lang=\"en-US\"&gt;\n  &lt;voice  name=\"en-US-Jessa24kRUS\"&gt;\n    &lt;s&gt;His name is Mike &lt;phoneme alphabet=\"ups\" ph=\"JHU AUA\"&gt; Zhou &lt;/phoneme&gt;&lt;/s&gt;\n  &lt;/voice&gt;\n&lt;/speak&gt;\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 6686511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0600e09cea3d1e4c6d4543ddbf0e4bb3?s=128&d=identicon&r=PG&f=1", "display_name": "Felix Labelle", "link": "https://stackoverflow.com/users/6686511/felix-labelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 59376730, "answer_count": 1, "score": 1, "last_activity_date": 1576594885, "creation_date": 1554939184, "last_edit_date": 1554939687, "question_id": 55622679, "link": "https://stackoverflow.com/questions/55622679/python-using-ssml-with-sapi-comtypes", "title": "Python: Using SSML with SAPI (comtypes)", "body": "<p><b> TL;DR: </b> I'm trying to pass an XML object (using ET) to a Comtypes (SAPI) object in python 3.7.2 on Windows 10. It's failing due to invalid chars (see error below). Unicode characters are read correctly from the file, can be printed (but do not display correctly on the console). It seems like the XML is being passed as ASCII or that I'm missing a flag? (<a href=\"https://docs.microsoft.com/en-us/previous-versions/windows/desktop/ee431843(v%3Dvs.85)\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/previous-versions/windows/desktop/ee431843(v%3Dvs.85)</a>). If it is a missing flag, how do I pass it? (I haven't figured that part out yet..)</p>\n\n<h2>Long form description</h2>\n\n<p>I'm using Python 3.7.2 on Windows 10 and trying to send create an XML (SSML: <a href=\"https://www.w3.org/TR/speech-synthesis/\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/speech-synthesis/</a>) file to use with Microsoft's speech API. The voice struggles with certain words and when I looked at the SSML format and it supports a phoneme tag, which allows you to specify how to pronounce a given word. Microsoft implements parts of the standard (<a href=\"https://docs.microsoft.com/en-us/cortana/skills/speech-synthesis-markup-language#phoneme-element\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/cortana/skills/speech-synthesis-markup-language#phoneme-element</a>) so I found a UTF-8 encoded library containing IPA pronunciations. When I try to call the SAPI, with parts of the code replaced I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"pdf_to_speech.py\", line 132, in &lt;module&gt;\n    audioConverter(text = \"Hello world extended test\",outputFile = output_file)\n  File \"pdf_to_speech.py\", line 88, in __call__\n    self.engine.speak(text)\n_ctypes.COMError: (-2147200902, None, (\"'ph' attribute in 'phoneme' element is not valid.\", None, None, 0, None))\n</code></pre>\n\n<p>I've been trying to debug, but when I print the pronunciations of the words the characters are boxes. However if I copy and paste them from my console, they look fine (see below).</p>\n\n<pre><code>h\u0259\u02c8lo\u028a,\n\u02c8w\u025d\u02d0ld\n\u026ak\u02c8st\u025bnd\u0259d,\n\u02c8t\u025bst\n</code></pre>\n\n<h2>Best Guess</h2>\n\n<p>I'm unsure whether the problem is caused by \n1) I've changed versions of pythons to be able to print unicode\n2) I fixed problems with reading the file\n3) I had incorrect manipulations of the string</p>\n\n<p>I'm pretty sure the problem is that I'm not passing it as a unicode to the comtype object. The ideas I'm looking into are\n1) Is there a flag missing?\n2) Is it being converted to ascii when its being passed to comtypes (C types error)?\n3) Is the XML being passed incorrectly/ am I missing a step?</p>\n\n<h2>Sneak peek at the code</h2>\n\n<p>This is the class that reads the IPA dictionary and then generates the XML file. Look at _load_phonemes and _pronounce.</p>\n\n<pre><code>class SSML_Generator:\n    def __init__(self,pause,phonemeFile):\n        self.pause = pause\n        if isinstance(phonemeFile,str):\n            print(\"Loading dictionary\")\n            self.phonemeDict = self._load_phonemes(phonemeFile)\n            print(len(self.phonemeDict))\n        else:\n            self.phonemeDict = {}\n\n    def _load_phonemes(self, phonemeFile):\n        phonemeDict = {}\n        with io.open(phonemeFile, 'r',encoding='utf-8') as f:\n            for line in f:\n                tok = line.split()\n                #print(len(tok))\n                phonemeDict[tok[0].lower()] = tok[1].lower()\n        return phonemeDict\n\n    def __call__(self,text):\n        SSML_document = self._header()\n        for utterance in text:\n            parent_tag = self._pronounce(utterance,SSML_document)\n            #parent_tag.tail = self._pause(parent_tag)\n            SSML_document.append(parent_tag)\n        ET.dump(SSML_document)\n        return SSML_document\n\n    def _pause(self,parent_tag):\n        return  ET.fromstring(\"&lt;break time=\\\"150ms\\\" /&gt;\") # ET.SubElement(parent_tag,\"break\",{\"time\":str(self.pause)+\"ms\"})\n\n    def _header(self):\n        return ET.Element(\"speak\",{\"version\":\"1.0\", \"xmlns\":\"http://www.w3.org/2001/10/synthesis\", \"xml:lang\":\"en-US\"})\n\n    # TODO: Add rate https://docs.microsoft.com/en-us/cortana/skills/speech-synthesis-markup-language#prosody-element\n    def _rate(self):\n        pass\n\n    # TODO: Add pitch \n    def _pitch(self):\n        pass\n\n    def _pronounce(self,word,parent_tag):\n        if word in self.phonemeDict:\n            sys.stdout.buffer.write(self.phonemeDict[word].encode(\"utf-8\"))\n            return ET.fromstring(\"&lt;phoneme alphabet=\\\"ipa\\\" ph=\\\"\" + self.phonemeDict[word] + \"\\\"&gt; &lt;/phoneme&gt;\")#ET.SubElement(parent_tag,\"phoneme\",{\"alphabet\":\"ipa\",\"ph\":self.phonemeDict[word]})#&lt;phoneme alphabet=\"string\" ph=\"string\"&gt;&lt;/phoneme&gt;\n        else:\n            return parent_tag\n    # Nice to have: Transform acronyms into their pronunciation (See say as tag)\n</code></pre>\n\n<p>I've also added how the code writes to the comtype object (SAPI) in case the error is there.</p>\n\n<pre><code>def __call__(self,text,outputFile):\n        # https://docs.microsoft.com/en-us/previous-versions/windows/desktop/ms723606(v%3Dvs.85)\n        self.stream.Open(outputFile + \".wav\", self.SpeechLib.SSFMCreateForWrite)\n        self.engine.AudioOutputStream = self.stream\n        text = self._text_processing(text)\n        text = self.SSML_generator(text)\n        text = ET.tostring(text,encoding='utf8', method='xml').decode('utf-8')\n        self.engine.speak(text)\n        self.stream.Close()\n</code></pre>\n\n<p>Thanks in advance for your help!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 8513743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7efbf47ce0f423825ea85df0c1f8f9f6?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Schweitzer", "link": "https://stackoverflow.com/users/8513743/michael-schweitzer"}, "edited": false, "score": 0, "creation_date": 1554941125, "post_id": 55622807, "comment_id": 97938676, "body": "Function worked perfectly, and very simply! I tried something similar, but left out the axis=1 argument--thank you very much."}], "tags": [], "owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "is_accepted": true, "score": 1, "last_activity_date": 1554940884, "last_edit_date": 1554940884, "creation_date": 1554940267, "answer_id": 55622807, "question_id": 55622673, "link": "https://stackoverflow.com/questions/55622673/python-pandas-applying-a-function-to-a-dataframe-with-arguments-defined-within/55622807#55622807", "title": "Python PANDAS: Applying a function to a dataframe, with arguments defined within dataframe", "body": "<p>Probably not the prettiest solution (because of the iterrows), but what comes to mind is to iterate through the sets of factors and set the 'Result' value at each index:</p>\n\n<pre><code>for i, factors in df[['UseFactorA', 'UseFactorB']].iterrows():\n    df.loc[i, 'Result'] = df[factors['UseFactorA']] / df[factors['UseFactorB']]\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Another option:</p>\n\n<pre><code>def factor_calc_for_row(row):\n    factorA = row['UseFactorA']\n    factorB = row['UseFactorB']\n    return row[factorA] / row[factorB]\n\ndf['Result'] = df.apply(factor_calc_for_row, axis=1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2424, "user_id": 10286422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8eee83d47bbcbfaf55bb18f7077890?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Pap", "link": "https://stackoverflow.com/users/10286422/ben-pap"}, "is_accepted": false, "score": 1, "last_activity_date": 1554945391, "last_edit_date": 1554945391, "creation_date": 1554940871, "answer_id": 55622864, "question_id": 55622673, "link": "https://stackoverflow.com/questions/55622673/python-pandas-applying-a-function-to-a-dataframe-with-arguments-defined-within/55622864#55622864", "title": "Python PANDAS: Applying a function to a dataframe, with arguments defined within dataframe", "body": "<p>Here's the one liner:</p>\n\n<pre><code>df['Results'] = [df[df['UseFactorA'][x]][x]/df[df['UseFactorB'][x]][x] for x in range(len(df))]\n</code></pre>\n\n<p>How it works is:</p>\n\n<pre><code>df[df['UseFactorA']]\n</code></pre>\n\n<p>Returns a data frame,</p>\n\n<pre><code>df[df['UseFactorA'][x]]\n</code></pre>\n\n<p>Returns a Series</p>\n\n<pre><code>df[df['UseFactorA'][x]][x]\n</code></pre>\n\n<p>Pulls a single value from the series.</p>\n"}], "owner": {"reputation": 95, "user_id": 8513743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7efbf47ce0f423825ea85df0c1f8f9f6?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Schweitzer", "link": "https://stackoverflow.com/users/8513743/michael-schweitzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 55622807, "answer_count": 2, "score": 0, "last_activity_date": 1554945391, "creation_date": 1554939154, "question_id": 55622673, "link": "https://stackoverflow.com/questions/55622673/python-pandas-applying-a-function-to-a-dataframe-with-arguments-defined-within", "title": "Python PANDAS: Applying a function to a dataframe, with arguments defined within dataframe", "body": "<p>I have a dataframe with headers 'Category', 'Factor1', 'Factor2', 'Factor3', 'Factor4', 'UseFactorA', 'UseFactorB'.</p>\n\n<p>The value of 'UseFactorA' and 'UseFactorB' are one of the strings ['Factor1', 'Factor2', 'Factor3', 'Factor4'], keyed based on the value in 'Category'.</p>\n\n<p>I want to generate a column, 'Result', which equals dataframe[UseFactorA]/dataframe[UseFactorB]</p>\n\n<p>Take the below dataframe as an example:</p>\n\n<pre><code>[Category] [Factor1] [Factor2] [Factor3] [Factor4] [useFactor1] [useFactor2]\n     A         1        2         5           8     'Factor1'    'Factor3'\n     B         2        7         4           2     'Factor3'    'Factor1'\n</code></pre>\n\n<p>The 'Result' series should be [2, .2]</p>\n\n<p>However, I cannot figure out how to feed the value of useFactor1 and useFactor2 into an index to make this happen--if the columns to use were fixed, I would just give</p>\n\n<pre><code>df['Result'] = df['Factor1']/df['Factor2']\n</code></pre>\n\n<p>However, when I try to give</p>\n\n<pre><code>df['Results'] = df[df['useFactorA']]/df[df['useFactorB']]\n</code></pre>\n\n<p>I get the error</p>\n\n<pre><code>ValueError: Wrong number of items passed 3842, placement implies 1\n</code></pre>\n\n<p>Is there a method for doing what I am trying here?</p>\n"}, {"tags": ["python", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1554940839, "post_id": 55622663, "comment_id": 97938618, "body": "Check the type and shape of <code>X</code> and <code>Y</code> after <code>meshgrid</code>.  I don&#39;t think you need the extra <code>B</code> and <code>N</code> step.  What is the shape of <code>Z</code>?  Does it match <code>X</code>?  What does <code>plot_surface</code> expect?"}, {"owner": {"reputation": 1, "user_id": 11343200, "user_type": "registered", "profile_image": "https://graph.facebook.com/316442335708948/picture?type=large", "display_name": "Yiyang Hu", "link": "https://stackoverflow.com/users/11343200/yiyang-hu"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1554943956, "post_id": 55622663, "comment_id": 97939233, "body": "M is a list and i wanna to have a Continuous graphics to show the relationship between X Y and Z.I think the error is i do not show the relationship between xy and z in that list"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1554946501, "post_id": 55622663, "comment_id": 97939732, "body": "<code>X</code> is a (100,100) array, <code>Y</code> likewise.  <code>Z</code> should be the same.  A simple case would be <code>Z = X + Y</code>.  It needs to be a (100,100) array, with one value for each grid point defined by the <code>X</code> and <code>Y</code> grid.  I can&#39;t replicate your <code>M</code> calculation, but I suspect it has <code>len(M)</code> 10000.  <code>Z=np.array(M).reshape(X.shape)</code> might work."}], "owner": {"reputation": 1, "user_id": 11343200, "user_type": "registered", "profile_image": "https://graph.facebook.com/316442335708948/picture?type=large", "display_name": "Yiyang Hu", "link": "https://stackoverflow.com/users/11343200/yiyang-hu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 962, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554940706, "creation_date": 1554939075, "last_edit_date": 1554940706, "question_id": 55622663, "link": "https://stackoverflow.com/questions/55622663/how-to-fix-argument-z-must-be-2-dimensional", "title": "HOW to fix &quot; Argument Z must be 2-dimensional&quot;", "body": "<p>I want to draw a 3d PLOT of my work ,but the error shows that Argument Z must be 2-dimensional</p>\n\n<pre><code>from mpl_toolkits.mplot3d import Axes3D\nfigure = plt.figure()\nax = Axes3D(figure)\nX = np.arange(0,1,0.01)\nY = np.arange(0,1,0.01)\nX,Y = np.meshgrid(X,Y)\nM=[]\nfor i in X:\n for j in Y:\n  NEW_smoothed=holt(Airline_passengers,alpha=i,beta=j)\n  M.append(sse(new_smoothed[:-2],Airline_passengers.values[2:]))\nB=np.array(X)\nN=np.array(Y)\nZ=np.array(M)\nax.plot_surface(B,N,Z,rstride=1,cstride=1,cmap='rainbow')\nplt.show()\n</code></pre>\n\n<p>I expected a 3d-plot</p>\n"}, {"tags": ["python", "python-3.x", "kivy", "kivy-language"], "comments": [{"owner": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "edited": false, "score": 1, "creation_date": 1554940683, "post_id": 55622613, "comment_id": 97938590, "body": "I believed that there is some error(s) in your kv file. Please correct it."}, {"owner": {"reputation": 554, "user_id": 10177977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf188e08a450371c5a16b079a6bf451f?s=128&d=identicon&r=PG&f=1", "display_name": "Hmerman6006", "link": "https://stackoverflow.com/users/10177977/hmerman6006"}, "reply_to_user": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "edited": false, "score": 0, "creation_date": 1555145530, "post_id": 55622613, "comment_id": 98014651, "body": "@ikolim I fixed the indentation and missing class reference in kivy.  I only posted a snippet of the code, because I thought if more was needed someone would ask.  Thank you very much for your answer below as it solved my question.  I also marked it as such."}], "answers": [{"comments": [{"owner": {"reputation": 554, "user_id": 10177977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf188e08a450371c5a16b079a6bf451f?s=128&d=identicon&r=PG&f=1", "display_name": "Hmerman6006", "link": "https://stackoverflow.com/users/10177977/hmerman6006"}, "edited": false, "score": 0, "creation_date": 1555145633, "post_id": 55623096, "comment_id": 98014670, "body": "How did you post a screen shot?"}, {"owner": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "reply_to_user": {"reputation": 554, "user_id": 10177977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf188e08a450371c5a16b079a6bf451f?s=128&d=identicon&r=PG&f=1", "display_name": "Hmerman6006", "link": "https://stackoverflow.com/users/10177977/hmerman6006"}, "edited": false, "score": 0, "creation_date": 1555167379, "post_id": 55623096, "comment_id": 98020051, "body": "In Edit mode, 1) Pick the location to place an image / screen shot. 2) In the menu bar, click on the <i>Picture Frame</i> icon (aka <i>Image</i>). 3) Open your computer <i>File Browser / Manager</i>, select the image, <b><i>drag and drop</i></b> it into the dialog box containing, &quot;<i>Browse, drag &amp; drop, or paste an image or link</i>&quot;. 4) When image is uploaded, click button, &quot;<i>Add picture</i>&quot;."}, {"owner": {"reputation": 554, "user_id": 10177977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf188e08a450371c5a16b079a6bf451f?s=128&d=identicon&r=PG&f=1", "display_name": "Hmerman6006", "link": "https://stackoverflow.com/users/10177977/hmerman6006"}, "edited": false, "score": 0, "creation_date": 1555178859, "post_id": 55623096, "comment_id": 98023204, "body": "Thanks for your answer!"}, {"owner": {"reputation": 94, "user_id": 9787406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZylIu.jpg?s=128&g=1", "display_name": "Farooq Sk", "link": "https://stackoverflow.com/users/9787406/farooq-sk"}, "edited": false, "score": 0, "creation_date": 1615919076, "post_id": 55623096, "comment_id": 117839802, "body": "As a begginer to programming, this code taught me a lot about kivy in a very short time, Thanks !"}], "tags": [], "owner": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "is_accepted": true, "score": 1, "last_activity_date": 1554942929, "creation_date": 1554942929, "answer_id": 55623096, "question_id": 55622613, "link": "https://stackoverflow.com/questions/55622613/how-to-get-value-from-popup-filechooser/55623096#55623096", "title": "How to get value from popup filechooser?", "body": "<h1>Reference TextInput</h1>\n\n<p>Populate <code>TextInput</code> by using the following:</p>\n\n<pre><code>self.ids.get_file.text = self.file_path\n</code></pre>\n\n<h1>Example</h1>\n\n<h2>main.py</h2>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.popup import Popup\nfrom kivy.uix.tabbedpanel import TabbedPanel\nfrom kivy.properties import ObjectProperty, StringProperty\nfrom kivy.lang import Builder\n\n\nclass FileChoosePopup(Popup):\n    load = ObjectProperty()\n\n\nclass Tab(TabbedPanel):\n    file_path = StringProperty(\"No file chosen\")\n    the_popup = ObjectProperty(None)\n\n    def open_popup(self):\n        self.the_popup = FileChoosePopup(load=self.load)\n        self.the_popup.open()\n\n    def load(self, selection):\n        self.file_path = str(selection[0])\n        self.the_popup.dismiss()\n        print(self.file_path)\n\n        # check for non-empty list i.e. file selected\n        if self.file_path:\n            self.ids.get_file.text = self.file_path\n\n\nBuilder.load_file('main.kv')\n\n\nclass TestApp(App):\n\n    def build(self):\n        return Tab()\n\n\nif __name__ == \"__main__\":\n    TestApp().run()\n</code></pre>\n\n<h2>main.kv</h2>\n\n<pre><code>&lt;FileChoosePopup&gt;:\n    title: \"Choose a .CSV File\"\n    size_hint: .9, .9\n    auto_dismiss: False\n\n    BoxLayout:\n        orientation: \"vertical\"\n        FileChooser:\n            id: filechooser\n            FileChooserIconLayout\n\n        BoxLayout:\n            size_hint: (1, 0.1)\n            pos_hint: {'center_x': .5, 'center_y': .5}\n            spacing: 20\n            Button:\n                text: \"Cancel\"\n                on_release: root.dismiss()\n            Button:\n                text: \"Load\"\n                on_release: root.load(filechooser.selection)\n                id: ldbtn\n                disabled: True if filechooser.selection==[] else False\n\n&lt;Tab&gt;:\n    do_default_tab: False\n\n    TabbedPanelItem:\n        text: 'Import'\n        background_color: (1, .5, 0, 1)\n        background_normal: ''\n        StackLayout:\n            orientation: 'lr-tb'\n            size_hint_y: None\n            height: 30\n            spacing: 5\n            Label:\n                text: ''\n                size_hint_x: 1\n            Label:\n                text: ''\n                size_hint_x: 0.2\n            Button:\n                text: 'Choose File'\n                size_hint_x: 0.2\n                on_press: root.open_popup()\n            TextInput:\n                id: get_file\n                readonly: True\n                size_hint_x: 0.4\n            Label:\n                text: ''\n                size_hint_x: 0.2\n</code></pre>\n\n<h1>Output</h1>\n\n<p><a href=\"https://i.stack.imgur.com/EbI2Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbI2Q.png\" alt=\"Result\"></a></p>\n"}], "owner": {"reputation": 554, "user_id": 10177977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf188e08a450371c5a16b079a6bf451f?s=128&d=identicon&r=PG&f=1", "display_name": "Hmerman6006", "link": "https://stackoverflow.com/users/10177977/hmerman6006"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1017, "favorite_count": 2, "accepted_answer_id": 55623096, "answer_count": 1, "score": 1, "last_activity_date": 1555145273, "creation_date": 1554938652, "last_edit_date": 1555145273, "question_id": 55622613, "link": "https://stackoverflow.com/questions/55622613/how-to-get-value-from-popup-filechooser", "title": "How to get value from popup filechooser?", "body": "<p>I got a popup filechooser from the below link:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/48386125/kivy-popup-filechooser-pass-variable-selection\">Kivy popup Filechooser pass variable (selection)</a></p>\n\n<p>I cannot get the file path string value to pass between my main Tab() class instance of the app and the class FileChoosePopup popup instance.  I know this question has been asked before, but I cannot seem to figure it out.  When I run the app and click on the file I want to pass to a TextInput on my main class I get the following error:</p>\n\n<pre><code>AttributeError: 'super' object has no attribute '__getattr__'\n</code></pre>\n\n<p> I have tried passing a reference to the popup class instance in the main class by using the super init method, but then the app does not even initialize.</p>\n\n<p>Here is my popup in python:</p>\n\n<pre><code>class FileChoosePopup(Popup):\n    file_path = StringProperty(\"No file chosen\")\n    def __init__(self, **kwargs):\n        super(FileChoosePopup, self).__init__(**kwargs)\n        self.Tab = Tab()\n\n    def load(self, selection):\n        self.file_path = str(selection[0])\n        path_file = self.file_path\n        the_file = self.ids.get_file #is the textinput id\n\n        if path_file != \"No file chosen\":\n            the_file.text = path_file\n            self.dismiss()\n        else:\n            self.dismiss()\n\nclass Tab(StackLayout):\n\n    def open_popup(self):\n        the_popup = FileChoosePopup()\n        the_popup.open()\n</code></pre>\n\n<p>Here the kivy code:</p>\n\n<pre><code>&lt;FileChoosePopup&gt;:\n    title: \"Choose a .CSV File\"\n    size_hint: .9, .9\n    auto_dismiss: False\n    BoxLayout:\n        orientation: \"vertical\"\n        FileChooser:\n            id: filechooser   \n            FileChooserIconLayout\n        BoxLayout:\n            size_hint: (1, 0.1)\n            pos_hint: {'center_x': .5, 'center_y': .5}\n            spacing: 20\n            RoundedCancelButton:\n                text: \"Cancel\"\n                on_release: root.dismiss()\n            RoundedAcceptButton:\n                text: \"Load\"\n                on_release: root.load(filechooser.selection)\n                id: ldbtn\n                disabled: True if filechooser.selection==[] else False\n&lt;Tab&gt;:\n    TabbedPanel:\n        do_defualt_tab: False\n        background_color: (.87, .87, .87, 1)\n        border: [0, 0, 0, 0]\n        background_image: 'path/to/background/image'\n        TabbedPanelItem:\n            text: 'Import'\n            background_color: (1, .5, 0, 1)\n            background_normal: ''\n            StackLayout:\n                orientation: 'lr-tb'\n                size_hint_y: None\n                height: 30\n                spacing: 5\n                Label:\n                    text: ''\n                    size_hint_x: 1\n                Label:\n                    text: ''\n                    size_hint_x: 0.2\n                RoundedButton:\n                    text: 'Choose File'\n                    size_hint_x: 0.2\n                    on_press: root.open_popup()\n                TextInput:\n                    id: get_file\n                    readonly: True\n                    size_hint_x: 0.4\n                Label:\n                    text: ''\n                    size_hint_x: 0.2\n</code></pre>\n\n<p>Can someone please give me some pointers on how to get the value to pass from the popup to the textinput?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "edited": false, "score": 2, "creation_date": 1554939113, "post_id": 55622608, "comment_id": 97938240, "body": "Your code as in doesn&#39;t run because you are adding <code>j</code> to <code>i</code>, but i iterates to the max index of the array.  Ie in the case when <code>i</code> is 99 and <code>j</code> is 9 the index of A you are entering is 108 which is out of the bounds for an array of length 100."}, {"owner": {"reputation": 399, "user_id": 6720221, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7ce0cb0d5799e668651f29b5b4c02717?s=128&d=identicon&r=PG&f=1", "display_name": "Link L", "link": "https://stackoverflow.com/users/6720221/link-l"}, "reply_to_user": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "edited": false, "score": 0, "creation_date": 1554941061, "post_id": 55622608, "comment_id": 97938663, "body": "oh that&#39;s right, let me edit it"}, {"owner": {"reputation": 159, "user_id": 11240083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556061e50641667d5a78db7e89e92522?s=128&d=identicon&r=PG&f=1", "display_name": "estabroo", "link": "https://stackoverflow.com/users/11240083/estabroo"}, "edited": false, "score": 0, "creation_date": 1554948846, "post_id": 55622608, "comment_id": 97940194, "body": "You could slice it and reduce the number of additions <code>B = A[i:i+M]</code> and drop the second loop.  It&#39;s probably about an order of magnitude faster."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1554956124, "post_id": 55622608, "comment_id": 97941525, "body": "How&#39;s this different from <code>A[-M:]</code> (or a similar slice)?"}], "owner": {"reputation": 399, "user_id": 6720221, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7ce0cb0d5799e668651f29b5b4c02717?s=128&d=identicon&r=PG&f=1", "display_name": "Link L", "link": "https://stackoverflow.com/users/6720221/link-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554947486, "creation_date": 1554938638, "last_edit_date": 1554947486, "question_id": 55622608, "link": "https://stackoverflow.com/questions/55622608/how-to-make-efficient-moving-index-in-numpy-array", "title": "How to make efficient moving index in numpy array", "body": "<p>I want to know how to code an efficient index over a numpy array. For the moment, I go over the array elements using repeated additions. For example, I have to make some loops over an array A like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\n\nA = np.arange(0,100)\nM = 10\n\nfor i in range(A.shape[0]-M):\n    B = []\n    for j in range(M):\n       value = A[i+j]\n       B.append(value)\n</code></pre>\n\n<p>Is there a way for me to get the values without repeatedly doing the i+j addition?</p>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 3, "creation_date": 1554938682, "post_id": 55622595, "comment_id": 97938145, "body": "Try <code>line = line.replace(&quot;\\n&quot;, &quot;&quot;)</code> before further processing the line."}], "answers": [{"tags": [], "owner": {"reputation": 2178, "user_id": 7006570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8774bedf434fe2f810864be99257f98a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/7006570/kevin-wang"}, "is_accepted": true, "score": 2, "last_activity_date": 1554938743, "creation_date": 1554938743, "answer_id": 55622623, "question_id": 55622595, "link": "https://stackoverflow.com/questions/55622595/print-string-in-one-line/55622623#55622623", "title": "Print string in one line", "body": "<p>It sounds like b has a <code>\\n</code> (a newline character) at the end.  <code>b.strip()</code> will return <code>b</code> with all of the whitespace on both sides removed.  You could replace\n<code>a,b=line.split('\\t')</code> with \n<code>a,b=line.strip().split('\\t')</code></p>\n\n<p>or replace <code>e = ''.join((\"(\",str(a),\",\",str(b),\")\"))</code> with <code>e = ''.join((\"(\",str(a),\",\",str(b.strip()),\")\"))</code></p>\n"}, {"tags": [], "owner": {"reputation": 2568, "user_id": 6939324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Tjoe.jpg?s=128&g=1", "display_name": "SuperKogito", "link": "https://stackoverflow.com/users/6939324/superkogito"}, "is_accepted": false, "score": 0, "last_activity_date": 1554939324, "creation_date": 1554939324, "answer_id": 55622699, "question_id": 55622595, "link": "https://stackoverflow.com/questions/55622595/print-string-in-one-line/55622699#55622699", "title": "Print string in one line", "body": "<p>You need to replace the <code>\\n</code> in your lines before extracting your values. This should give the desired output:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>with open('read.txt') as f:\n    for line in f: \n         # read values\n         a, b = line.replace(\"\\n\", \"\").split('\\t')\n         # get and parse values\n         e = ''.join((\"(\",str(2*int(a)),\",\",str(3*int(b)),\")\"))\n         print(e)\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 8616751, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d2a9f43593766bd76cb7218c482a2b69?s=128&d=identicon&r=PG&f=1", "display_name": "scriptgirl_3000", "link": "https://stackoverflow.com/users/8616751/scriptgirl-3000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 55622623, "answer_count": 2, "score": 0, "last_activity_date": 1554941092, "creation_date": 1554938518, "last_edit_date": 1554941092, "question_id": 55622595, "link": "https://stackoverflow.com/questions/55622595/print-string-in-one-line", "title": "Print string in one line", "body": "<p>I asked a question about this earlier but noone could answer me - I have this code and want what is defined as e to be written into a new ASCII file in one line. I was suggested to use the tuple function which didn't work since it only takes on argument but I have two (a and b). So now I just tried the join function. The code is below</p>\n\n<pre><code>we=open('new.txt','w')\nwith open('read.txt') as f:\n    for line in f: \n         #read a line\n         a,b=line.split('\\t')\n         #get two values as string\n         c=2*int(a)\n         d=3*int(b)\n         #calculate the other two values\n         ### edited\n         e = ''.join((\"(\",str(a),\",\",str(b),\")\"))\n</code></pre>\n\n<p>However, when I print e the last bracket will be moved to a new line: </p>\n\n<pre><code>        print(e)\n</code></pre>\n\n<p>will yield</p>\n\n<pre><code>     (1,2\n     )\n     (3,4\n     ) \n</code></pre>\n\n<p>but I want </p>\n\n<pre><code>     (1,2)\n     (3,4) \n</code></pre>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7", "sst"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1554938554, "post_id": 55622587, "comment_id": 97938116, "body": "You haven&#39;t imported <code>cartopy</code>."}, {"owner": {"reputation": 3457, "user_id": 2284490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba571b7d2f77a33c9b92af6c767677bb?s=128&d=identicon&r=PG", "display_name": "Cireo", "link": "https://stackoverflow.com/users/2284490/cireo"}, "edited": false, "score": 0, "creation_date": 1554938644, "post_id": 55622587, "comment_id": 97938137, "body": "You import <code>cartopy.crs</code> and import <code>cartopy.config</code>, but would need to import <code>feature</code> or use <code>import cartopy</code> + the qualified reference as you have currently"}], "answers": [{"tags": [], "owner": {"reputation": 2178, "user_id": 7006570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8774bedf434fe2f810864be99257f98a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/7006570/kevin-wang"}, "is_accepted": false, "score": 1, "last_activity_date": 1554938564, "creation_date": 1554938564, "answer_id": 55622601, "question_id": 55622587, "link": "https://stackoverflow.com/questions/55622587/how-to-fix-nameerror-name-cartopy-is-not-defined-in-plot-about-sea-surface/55622601#55622601", "title": "How to fix &#39;NameError: name &#39;cartopy&#39; is not defined&#39;, in plot about sea surface temperature in python?", "body": "<p>You seem to have never defined <code>cartopy</code>.   Perhaps <code>import cartopy</code> at the top would solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 2218522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0cb19c17100c8d6c3793daa0598d633?s=128&d=identicon&r=PG", "display_name": "User111213", "link": "https://stackoverflow.com/users/2218522/user111213"}, "is_accepted": true, "score": 0, "last_activity_date": 1554940154, "last_edit_date": 1554940154, "creation_date": 1554939454, "answer_id": 55622712, "question_id": 55622587, "link": "https://stackoverflow.com/questions/55622587/how-to-fix-nameerror-name-cartopy-is-not-defined-in-plot-about-sea-surface/55622712#55622712", "title": "How to fix &#39;NameError: name &#39;cartopy&#39; is not defined&#39;, in plot about sea surface temperature in python?", "body": "<p>Name error in python means that the specific attribute/method is not imported in the program. In the code you are using cartopy.crs, cartopy.config and cartopy.features.Border, but only the first two are imported through your statements</p>\n\n<pre><code>import cartopy.crs as crash\n</code></pre>\n\n<p>and</p>\n\n<pre><code>from cartopy import config\n</code></pre>\n\n<p>So for features.Border, you either do </p>\n\n<pre><code>import cartopy \n</code></pre>\n\n<p>Or</p>\n\n<pre><code>from cartopy import features.Border #use just features.Border in that line if you are doing this.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1669, "user_id": 12396017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nk8xz.png?s=128&g=1", "display_name": "Maxim Sagaydachny", "link": "https://stackoverflow.com/users/12396017/maxim-sagaydachny"}, "edited": false, "score": 0, "creation_date": 1578551385, "post_id": 59657941, "comment_id": 105476730, "body": "Welcome to StackOverflow! This question was answered already and your answer does not contain anything new. If you think that you can provide better answer then please extend your answer with exra details."}], "tags": [], "owner": {"reputation": 1, "user_id": 12680273, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R8-BYa8hGrE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rceehLbHt9i03B0lCVOfpNHRgSpvQ/photo.jpg?sz=128", "display_name": "KSHITIJA SURYAWANSHI", "link": "https://stackoverflow.com/users/12680273/kshitija-suryawanshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1578549133, "creation_date": 1578549133, "answer_id": 59657941, "question_id": 55622587, "link": "https://stackoverflow.com/questions/55622587/how-to-fix-nameerror-name-cartopy-is-not-defined-in-plot-about-sea-surface/59657941#59657941", "title": "How to fix &#39;NameError: name &#39;cartopy&#39; is not defined&#39;, in plot about sea surface temperature in python?", "body": "<p>For me, i installed cartopy package in jupyter but still it was showing error of cartopy not defined.(I was plotting the plots with cartopy.ccrs for stereographic plots)</p>\n\n<p>solution: before importing and executing cartopy.ccrs just execute 'import cartopy' in the first line itself and then run the codes.It worked for me</p>\n"}], "owner": {"reputation": 23, "user_id": 11343149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f861b864ed29b24473dce1ffa50bed90?s=128&d=identicon&r=PG&f=1", "display_name": "helena", "link": "https://stackoverflow.com/users/11343149/helena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 55622712, "answer_count": 3, "score": -1, "last_activity_date": 1578549133, "creation_date": 1554938445, "last_edit_date": 1554938516, "question_id": 55622587, "link": "https://stackoverflow.com/questions/55622587/how-to-fix-nameerror-name-cartopy-is-not-defined-in-plot-about-sea-surface", "title": "How to fix &#39;NameError: name &#39;cartopy&#39; is not defined&#39;, in plot about sea surface temperature in python?", "body": "<p>I'm really new to python, and I need to plot a data netcdf of sea surface temperature(sst),in python, but it keep giving erro. </p>\n\n<p>I use the same code in another notebook, and it run perfect fine. </p>\n\n<pre><code>###SST C\u00d3DIGO PLOT\nimport numpy as np                                                                     \nimport matplotlib.pyplot as plt                                                    \nfrom numpy import pi                                                                \nfrom mpl_toolkits.basemap import Basemap                                               \nfrom netCDF4 import Dataset                                                               \nimport pandas as pd                                                               \nfrom scipy import stats                                                           \nimport seaborn as sns                                                                \nimport xarray as xr                                                                 \nimport cartopy.crs as ccrs                                                          \nimport os                                                                           \nfrom netCDF4 import Dataset as netcdf_dataset                                          \nfrom cartopy import config                                                                       \nimport statistics                                                                         \nimport glob                                                                         \nimport seaborn as sns                                                                                                                          \n\nds = xr.open_dataset('/home/mayna/Downloads/d86/20190327010000-OSISAF-L3C_GHRSST-SSTsubskin-GOES16-ssteqc_goes16_20190327_010000-v02.0-fv01.0.nc')                                                                              \n\nplt.figure(figsize=(8,4))                                                            \nax = plt.axes(projection=ccrs.PlateCarree())                                         \nax.add_feature(cartopy.feature.BORDERS, linestyle='-', linewidth=0.25)                 \nax.coastlines(linewidth=0.25)                                                        \n\nds['sea_surface_temperature'][0,:,:].plot.contourf(levels=20, ax=ax, transform=ccrs.PlateCarree(),cmap='coolwarm')                                                                                                                        \n</code></pre>\n\n<p>It say that erro is in the line \"ax.add_feature(cartopy.feature.BORDERS, linestyle='-', linewidth=0.25)\", that \"NameError: name 'cartopy' is not defined\".<br>\nWhat you think it is the problem?<br>\nP.S.: I know that I'm using a lot of lib that don't need</p>\n"}, {"tags": ["python", "xml", "tkinter"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1554942210, "post_id": 55622584, "comment_id": 97938903, "body": "At a glance, this is quite overbroad -- questions should ideally be focused on as narrow an issue as possible, with everything else factored out.  If you&#39;re trying to build a table with columns that adjust their widths, ask <b>only</b> about that, with everything unrelated to table formatting (and not necessary for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> reproducing the table-formatting issue) removed from the question."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554942302, "post_id": 55622584, "comment_id": 97938919, "body": "...similarly, a question about an algorithm for diffing XML documents should be focused <i>only</i> on the XML-diffing algorithm, with no GUI elements or questions included. If, in the course of writing one program, you have questions about several aspects -- if the issues could be faced individually, they should be asked individually."}, {"owner": {"reputation": 109, "user_id": 7766764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f903439bb5cd8d8d461f81c2204816?s=128&d=identicon&r=PG&f=1", "display_name": "ramesh.metta", "link": "https://stackoverflow.com/users/7766764/ramesh-metta"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554943766, "post_id": 55622584, "comment_id": 97939206, "body": "@martineau Hi.Thank you for help. I was trying the code and missed to revert it. Now corrected and tested it. Code working now."}, {"owner": {"reputation": 109, "user_id": 7766764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f903439bb5cd8d8d461f81c2204816?s=128&d=identicon&r=PG&f=1", "display_name": "ramesh.metta", "link": "https://stackoverflow.com/users/7766764/ramesh-metta"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554943838, "post_id": 55622584, "comment_id": 97939217, "body": "@CharlesDuffy : Noted and i&#39;ll keep your suggestions in mind. my focus is in achieving the gui part. :-)"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554959906, "post_id": 55622584, "comment_id": 97942512, "body": "learner: With that fix in, I can now clearly see how little the code in your question is actually doing...and am sorry to say I think it&#39;s a little premature for you to be asking for as much help as doing what you want is going to require."}, {"owner": {"reputation": 109, "user_id": 7766764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f903439bb5cd8d8d461f81c2204816?s=128&d=identicon&r=PG&f=1", "display_name": "ramesh.metta", "link": "https://stackoverflow.com/users/7766764/ramesh-metta"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554960343, "post_id": 55622584, "comment_id": 97942655, "body": "@martineau : this is my first ever python code. i finished the final one sometime back with treeview widget.my whole intention was to see how experienced python developers do the same gui. i really appreciate your intention to help. :-)"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554966072, "post_id": 55622584, "comment_id": 97944880, "body": "learner: A <code>Treeview</code> widget would be a good way to do this and might simplify some things you may want to do. There are several potential issues somewhat related to the GUI that msy need to dealt with. For example, what happens if one of the has properties the other one does or vice-versa. Other questions: Why are you making the keys and values <code>Entry</code> widgets\u2014do you have plans to use them? Likewise, why are you using <code>StringVar</code>s in conjunction with them? Again I suspect there&#39;s design goals you haven&#39;t mentioned...that likely make this a lot of work to answer."}, {"owner": {"reputation": 109, "user_id": 7766764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f903439bb5cd8d8d461f81c2204816?s=128&d=identicon&r=PG&f=1", "display_name": "ramesh.metta", "link": "https://stackoverflow.com/users/7766764/ramesh-metta"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554981984, "post_id": 55622584, "comment_id": 97953897, "body": "@martineau: agreed .. i should have put things precisely as CharlesDuffy  suggested to atleast narrow the issue to people willing to help with their precious time and effort !!"}], "owner": {"reputation": 109, "user_id": 7766764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f903439bb5cd8d8d461f81c2204816?s=128&d=identicon&r=PG&f=1", "display_name": "ramesh.metta", "link": "https://stackoverflow.com/users/7766764/ramesh-metta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 430, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554943674, "creation_date": 1554938418, "last_edit_date": 1554943674, "question_id": 55622584, "link": "https://stackoverflow.com/questions/55622584/how-to-create-below-gui-with-tkinter", "title": "How to create below GUI with tkinter?", "body": "<p>I'm newbie self-learning tkinter. I want to achieve below gui that was in my mind. Purpose of this gui is to compare the tag values of two identical structured XMLs. I should be able to open two xml's and compare both the tag values of left and right pane grid values.  always left and right xml structures will be consistent except values which could be different or missing.</p>\n\n<p>Below is the code i managed to write by referring google and stackoverflow.</p>\n\n<p><code>broker1.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Broker&gt;\n    &lt;object name=\"Books\"&gt;\n        &lt;property name=\"name1\"/&gt;\n        &lt;property name=\"name2\" value=\"value2\"/&gt;\n        &lt;property name=\"name3\"/&gt;\n        &lt;property name=\"name4\"/&gt;\n        &lt;property name=\"name5\" value=\"value5\"/&gt;\n    &lt;/object&gt;\n    &lt;object name=\"furniture\"&gt;\n        &lt;property name=\"furniture1\"/&gt;\n        &lt;property name=\"furniture2\"/&gt;\n        &lt;property name=\"furniture3\" value=\"furniturevalue3\"/&gt;\n    &lt;/object&gt;\n&lt;/Broker&gt;\n</code></pre>\n\n<p><code>broker2.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Broker&gt;\n    &lt;object name=\"Books\"&gt;\n        &lt;property name=\"name1\"/&gt;\n        &lt;property name=\"name2\"/&gt;\n        &lt;property name=\"name3\"/&gt;\n        &lt;property name=\"name4\" value=\"value4\"/&gt;\n        &lt;property name=\"name5\" value=\"value5\"/&gt;\n    &lt;/object&gt;\n    &lt;object name=\"furniture\"&gt;\n        &lt;property name=\"furniture1\" value1=\"furniturevalue7\"/&gt;\n        &lt;property name=\"furniture2\"/&gt;\n        &lt;property name=\"furniture3\" value=\"furniturevalue3\"/&gt;\n    &lt;/object&gt;\n&lt;/Broker&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nfrom tkinter import *\n\nmaster = Tk()\n\nHEIGHT = 700\nWIDTH =  1024\n\ncanvas = Canvas(master,height= HEIGHT , width = WIDTH)\ncanvas.pack()\n\nframe = Frame(master,bg = 'yellow')\nframe.place(relwidth=1,relheight=1)\n\nleft = dict()  # dictionary to store name/value pairs of broker1.xml\nright = dict() ## dictionary to store name/value pairs of broker2.xml\n\ntree1 = ET.parse('broker1.xml')\n#tree2 = ET.parse('broker2.xml') #yet to code for tree2 for comparision\nbroker = tree1.getroot()\n\nfor child in broker:\n    if(child.tag == 'object'):\n      for propertytag in child:\n       print(propertytag)\n       if(propertytag.tag == 'property'):\n         print(propertytag.get('name'),propertytag.get('value'))\n         left.update({propertytag.get('name'):propertytag.get('value')})\n\nr=len(left)\nvaluesList    = list(left.values())\n\nfor key, value in left.items():\n    entPropertyNameEntry = Entry(frame, readonlybackground='grey' , fg = 'black' , justify=LEFT,  width = len(max(left.keys(), key=len)),state='readonly')\n    keyStringVar   = StringVar()\n    keyStringVar.set(key)\n    entPropertyNameEntry.config(textvariable=keyStringVar, relief=RIDGE)\n    entPropertyNameEntry.grid(row=r,column=0)\n    valueStringVar = StringVar()\n    valueStringVar.set(value)\n    entValueEntry= Entry(frame,readonlybackground='white', fg = 'black' , justify=LEFT, width = max(len(str(s)) for s in valuesList),state='readonly')\n    entValueEntry.config(textvariable=valueStringVar, relief=SUNKEN)\n    entValueEntry.grid(row=r,column=1)\n    r = r - 1\n\nmaster.mainloop()\n</code></pre>\n\n<p>I'm able to generate name/value pair in 2 columns but could not achieve scrolling that adjusts itself based on length of dictionaries.</p>\n\n<p>Example of layout:</p>\n\n<p><a href=\"https://i.stack.imgur.com/q02gh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q02gh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "scikit-learn", "cross-validation", "metrics"], "comments": [{"owner": {"reputation": 2281, "user_id": 9640384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mischa Lisovyi", "link": "https://stackoverflow.com/users/9640384/mischa-lisovyi"}, "edited": false, "score": 1, "creation_date": 1555231965, "post_id": 55622544, "comment_id": 98032546, "body": "Do you have a binary classification problem? If so, why don&#39;t you invert the label definition? Then the PPV will correspond to the NPV in you original problem."}, {"owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "reply_to_user": {"reputation": 2281, "user_id": 9640384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mischa Lisovyi", "link": "https://stackoverflow.com/users/9640384/mischa-lisovyi"}, "edited": false, "score": 0, "creation_date": 1555284950, "post_id": 55622544, "comment_id": 98046269, "body": "This is a clever work-around and helpful indeed! Please post this as your answer and I will accept."}], "answers": [{"tags": [], "owner": {"reputation": 2281, "user_id": 9640384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mischa Lisovyi", "link": "https://stackoverflow.com/users/9640384/mischa-lisovyi"}, "is_accepted": true, "score": 0, "last_activity_date": 1555360250, "creation_date": 1555360250, "answer_id": 55696813, "question_id": 55622544, "link": "https://stackoverflow.com/questions/55622544/generate-negative-predictive-value-using-cross-val-score-in-sklearn-for-model-pe/55696813#55696813", "title": "Generate negative predictive value using cross_val_score in sklearn for model performance evaluation", "body": "<p>For a binary classification problem you can invert the label definition. Then the PPV will correspond to the NPV in you original problem</p>\n"}], "owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "accepted_answer_id": 55696813, "answer_count": 1, "score": 0, "last_activity_date": 1555360250, "creation_date": 1554938086, "last_edit_date": 1554941082, "question_id": 55622544, "link": "https://stackoverflow.com/questions/55622544/generate-negative-predictive-value-using-cross-val-score-in-sklearn-for-model-pe", "title": "Generate negative predictive value using cross_val_score in sklearn for model performance evaluation", "body": "<p>As part of evaluating a model's metrics, I would like to use cross_val_score in sklearn to generate negative predictive value for the model.  </p>\n\n<p>In example below, I set the 'scoring' parameter within cross_val_score to calculate and print 'precision' (mean and standard deviations from 10-fold cross-validation) for positive predictive value of the model:</p>\n\n<pre><code>from sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import cross_val_score\nlog=LogisticRegression()    \nlog_prec = cross_val_score(log, x, y, cv=10, scoring='precision')\nprint(\"PPV(mean, std): \", np.round(log_prec.mean(), 2), np.round(log_prec.std(), 2))\n</code></pre>\n\n<p>How can I use something like the above line of code to generate negative predictive value/NPV (likelihood of a predicted negative to be a true negative) from within the cross_val_score method? </p>\n\n<p>sklearn provides many scoring options (eg: roc_auc, recall, accuracy, F1, etc) but unforunately not one for NPV...</p>\n"}, {"tags": ["python", "flask", "gmail-api", "email-verification", "flask-mail"], "answers": [{"comments": [{"owner": {"reputation": 1589, "user_id": 2514986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZ2o4.jpg?s=128&g=1", "display_name": "Adithya Upadhya", "link": "https://stackoverflow.com/users/2514986/adithya-upadhya"}, "edited": false, "score": 0, "creation_date": 1554999638, "post_id": 55622746, "comment_id": 97965326, "body": "Welcome to the community. I have upvoted your answer. I will try to figure out the extra_header arguments."}, {"owner": {"reputation": 1589, "user_id": 2514986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZ2o4.jpg?s=128&g=1", "display_name": "Adithya Upadhya", "link": "https://stackoverflow.com/users/2514986/adithya-upadhya"}, "edited": false, "score": 0, "creation_date": 1555001797, "post_id": 55622746, "comment_id": 97966433, "body": "I have just left my answer for this question to help folks in future. Basically, Subject is used as an identifier in gmail (if the mail has same recipients). I chose not to mark your answer as accepted since there isn&#39;t a solution for this problem to the best of my knowledge."}], "tags": [], "owner": {"reputation": 116, "user_id": 11343192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2oy4.jpg?s=128&g=1", "display_name": "VizslaVizsla", "link": "https://stackoverflow.com/users/11343192/vizslavizsla"}, "is_accepted": false, "score": 1, "last_activity_date": 1554958848, "last_edit_date": 1554958848, "creation_date": 1554939769, "answer_id": 55622746, "question_id": 55622527, "link": "https://stackoverflow.com/questions/55622527/flask-mail-create-independent-mail-instead-of-email-thread/55622746#55622746", "title": "Flask-mail create independent mail instead of email thread", "body": "<p>Unfortunately, you are trying to combat a Gmail feature that is largely based on the email's subject line. <a href=\"https://support.google.com/mail/answer/5900\" rel=\"nofollow noreferrer\">More about this</a>. </p>\n\n<blockquote>\n  <p>Emails are grouped if each message meets the following:</p>\n  \n  <ul>\n  <li>The same recipients, senders, or subject as a previous message.</li>\n  <li>A reference header with the same IDs as a previous message.</li>\n  <li>Sent within one week of a previous message.</li>\n  </ul>\n  \n  <p>To prevent grouped emails:</p>\n  \n  <ul>\n  <li>Create a new subject for each message that you don\u2019t want to group.</li>\n  <li>Send each message with a unique reference header value that doesn\u2019t match a  previous message.</li>\n  </ul>\n</blockquote>\n\n<p>You could attempt: <code>extra_headers={\"references\": \"{{ unique value }}\"}</code> in your <code>email_notification = Message(...)</code> to try to avoid Gmail's threading feature. </p>\n"}, {"tags": [], "owner": {"reputation": 1589, "user_id": 2514986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZ2o4.jpg?s=128&g=1", "display_name": "Adithya Upadhya", "link": "https://stackoverflow.com/users/2514986/adithya-upadhya"}, "is_accepted": false, "score": 0, "last_activity_date": 1555001682, "creation_date": 1555001682, "answer_id": 55637640, "question_id": 55622527, "link": "https://stackoverflow.com/questions/55622527/flask-mail-create-independent-mail-instead-of-email-thread/55637640#55637640", "title": "Flask-mail create independent mail instead of email thread", "body": "<p>NB: This answer is valid as of April 11, 2019. In future, <code>Gmail</code> or <code>Flask-mail</code> might change few policies or update their APIs. Therefore, this answer may not be valid in future.</p>\n\n<hr>\n\n<p>I'm just leaving this answer out here hoping that it could save some time for folks in future.</p>\n\n<p>In addition to @VizslaVizsla's answer, the setting the <code>extra_headers={...}</code> doesn't seem to work despite repeated testing. The emails get grouped nevertheless.</p>\n\n<p>A <a href=\"https://webapps.stackexchange.com/questions/16095/gmail-grouping-messages-with-the-same-subject\">similar question</a> was posted on StackExchange a few years ago.</p>\n\n<p>So far, I've tried various different <code>extra_headers</code>. None of them prevented grouping.</p>\n\n<pre><code>from uuid import uuid4\n# uuid used to generate a unique identifier for every mail.\n\nextra_headers={'references': str(uuid4())} # Didn't work\nextra_headers={'Message Id': str(uuid4())} # Didn't work\nextra_headers={'Message-Id': str(uuid4())} # Gmail message id. Didn't work\n</code></pre>\n\n<p>It looks like you must change the subject title or recipients to prevent grouping. I haven't tested by changing CC or BCC list though. If you folks have the time or patience, feel free to test that and post your observations here.</p>\n"}], "owner": {"reputation": 1589, "user_id": 2514986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZ2o4.jpg?s=128&g=1", "display_name": "Adithya Upadhya", "link": "https://stackoverflow.com/users/2514986/adithya-upadhya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1555001682, "creation_date": 1554937982, "last_edit_date": 1554938455, "question_id": 55622527, "link": "https://stackoverflow.com/questions/55622527/flask-mail-create-independent-mail-instead-of-email-thread", "title": "Flask-mail create independent mail instead of email thread", "body": "<p>I'm creating an email verification service and using Flask-mail. Whenever a user Signs up, I'm sending a unique validation link to verify the email address.</p>\n\n<p>As per my code, the email subject (verify your email address...) remains the same while the verification link changes every time a new mail is sent. However, every time I send a <strong>new mail to the same recipient</strong>, the email ends up as an <strong>email thread</strong> in the user's gmail inbox.</p>\n\n<p>From the attached image, you can see that the <em>three sent mails have become an email thread</em>.</p>\n\n<p>How do I configure the Flask-mail API to send independent mails instead of creating an email thread?</p>\n\n<p>I was going through the <a href=\"https://pythonhosted.org/Flask-Mail/\" rel=\"nofollow noreferrer\">documentation</a> and StackOverflow but couldn't find any solution.</p>\n\n<p><img src=\"https://i.stack.imgur.com/HOe5H.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p><strong>Code for reference</strong></p>\n\n<pre><code>mail = Mail(app=current_app)\n\n# embedding a new validation link in the message body.\nmessage_body = VERIFY_ACC_BODY.format(url_for('auth.verify_user_email', \nuser_token=token, _external=True))\n\nemail_notification = Message(subject=VERIFY_ACC_SUBJECT,\n                                 recipients=[user.user_id],\n                                 body=message_body)\n\n# creates email threads instead of independent emails. Why?\nmail.send(email_notification)\n</code></pre>\n\n<hr>\n\n<p><strong>NB</strong>: Please don't suggest changing the Email Subject for every mail. That's not the solution I'm looking for.</p>\n"}, {"tags": ["python", "tkinter", "xlsxwriter", "os.path"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11343097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YfjVW.png?s=128&g=1", "display_name": "Pedro Elizalde Acevedo", "link": "https://stackoverflow.com/users/11343097/pedro-elizalde-acevedo"}, "edited": false, "score": 0, "creation_date": 1554942396, "post_id": 55622610, "comment_id": 97938932, "body": "Thanks for the answer, but the error message still came up."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 55, "user_id": 11343097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YfjVW.png?s=128&g=1", "display_name": "Pedro Elizalde Acevedo", "link": "https://stackoverflow.com/users/11343097/pedro-elizalde-acevedo"}, "edited": false, "score": 2, "creation_date": 1554942471, "post_id": 55622610, "comment_id": 97938944, "body": "@PedroElizaldeAcevedo I imagine it is a different error, but you also need to change <code>os.rename(&quot;Test.xlsx&quot;, Fname + &quot; .xlsx&quot;)</code> to <code>os.rename(&quot;Test.xlsx&quot;, a + &quot;.xlsx&quot;)</code>"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": true, "score": 2, "last_activity_date": 1554942823, "last_edit_date": 1554942823, "creation_date": 1554938648, "answer_id": 55622610, "question_id": 55622501, "link": "https://stackoverflow.com/questions/55622501/how-can-i-use-an-user-entry-to-change-a-filename/55622610#55622610", "title": "How can I use an user Entry to change a filename&#39;?", "body": "<p>It's because you are assigning <code>Fname</code> to the value after gridding which is <code>None</code> you need to split the line</p>\n\n<pre><code>Fname = Entry().grid(row = 1, column = 1)\n</code></pre>\n\n<p>into</p>\n\n<pre><code>Fname = Entry()\nFname.grid(row = 1, column = 1)\n</code></pre>\n\n<p>You will run into similar problems if you later try to refer to <code>B1</code> or <code>BE</code> for the same reason.</p>\n\n<p>Also you need to use a <code>StringVar()</code> to be able to call <code>.get()</code></p>\n\n<p>Your code should look something like this I'd imagine</p>\n\n<pre><code>import xlsxwriter\nimport os.path\nfrom tkinter import *\n\ndef run():\n    a = user_input.get()\n    os.rename(\"Test.xlsx\", a + \".xlsx\")\n\nscreen = Tk()\n\nB1 = Button(text=\"Name\", command=run)\nB1.grid(row=2, column=2)\n\nuser_input = StringVar()\nFname = Entry(textvariable=user_input)\nFname.grid(row=1, column=1)\n\nBE = Button(text=\"Exit\")\nBE.grid(row=3, column=3)\n\nworkbook = xlsxwriter.Workbook(\"Test.xlsx\")\nworksheet = workbook.add_worksheet()\nworksheet.write(\"A1\", \"Question\")\nworksheet.write(\"B1\", \"Answer\")\nworkbook.close()\n\nscreen.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 11343097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YfjVW.png?s=128&g=1", "display_name": "Pedro Elizalde Acevedo", "link": "https://stackoverflow.com/users/11343097/pedro-elizalde-acevedo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 55622610, "answer_count": 1, "score": 3, "last_activity_date": 1554942823, "creation_date": 1554937720, "last_edit_date": 1554942520, "question_id": 55622501, "link": "https://stackoverflow.com/questions/55622501/how-can-i-use-an-user-entry-to-change-a-filename", "title": "How can I use an user Entry to change a filename&#39;?", "body": "<p>I'm new at learning python, so I need help with this because I don't know people that can help me. I'm trying to make a program in which the user is able to change a filename from excel depending on what they have written on an <code>Fname = Entry()</code> from tkinter.</p>\n\n<p>I've tried to save the data from the Entry named as <code>Fname</code> by using <code>a = Fname.get()</code> and then <code>os.rename(Test.xlsx, a + \" .xlsx\")</code> to get the data stored. But I always get an error:</p>\n\n<pre><code>    a = Fname.get()\nAttributeError: 'NoneType' object has no attribute 'get'\n</code></pre>\n\n<p>Another thing I tried was using 'Fname' insted of just 'a', but i get this error:</p>\n\n<pre><code>    os.rename(\"Test.xlsx\", Fname + \" .xlsx\")\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'str'\n</code></pre>\n\n<p>I also tried to directly change 'workbook = xlsxwriter.Workbook(Fnam + \" .xlsx\")', but the error still came up</p>\n\n<p>PD: I don't get any trouble with creating the '.xlsx' file</p>\n\n<p>The code I'm using is the next one:</p>\n\n<pre><code>     import xlsxwriter\n     import os.path\n     from tkinter import *\n\n     def run():\n         a = Fname.get()\n         os.rename(\"Test.xlsx\", Fname + \" .xlsx\")\n\n     screen = Tk()\n\n     B1 = Button(text = \"Name\", command = run).grid(row = 2, column = 2)\n\n     Fname = Entry().grid(row = 1, column = 1)\n\n     BE = Button(text = \"Exit\").grid(row = 3, column = 3)\n\n     workbook = xlsxwriter.Workbook(\"Test.xlsx\")\n     worksheet = workbook.add_worksheet()\n     worksheet.write(\"A1\", \"Question\")\n     worksheet.write(\"B1\", \"Answer\")\n     workbook.close()\n\n     screen.mainloop()\n</code></pre>\n"}, {"tags": ["python", "django", "templates", "exception", "django-rest-framework"], "comments": [{"owner": {"reputation": 1697, "user_id": 10906068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394ab66161cce95d069d970a4d1f53ea?s=128&d=identicon&r=PG&f=1", "display_name": "Nancy Mooree", "link": "https://stackoverflow.com/users/10906068/nancy-mooree"}, "edited": false, "score": 0, "creation_date": 1554941191, "post_id": 55622471, "comment_id": 97938689, "body": "have you check the versions that you were initially installed prior to formating. what django version are currently working with....."}], "answers": [{"comments": [{"owner": {"reputation": 299, "user_id": 8522675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DiRn.jpg?s=128&g=1", "display_name": "RonanFelipe", "link": "https://stackoverflow.com/users/8522675/ronanfelipe"}, "edited": false, "score": 0, "creation_date": 1554955139, "post_id": 55623771, "comment_id": 97941337, "body": "Django version 2.1; I just made the changes you suggested and still same error."}], "tags": [], "owner": {"reputation": 150, "user_id": 6241136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384Hz.jpg?s=128&g=1", "display_name": "HERAwais", "link": "https://stackoverflow.com/users/6241136/herawais"}, "is_accepted": false, "score": 0, "last_activity_date": 1555004423, "last_edit_date": 1555004423, "creation_date": 1554949297, "answer_id": 55623771, "question_id": 55622471, "link": "https://stackoverflow.com/questions/55622471/django-rest-templatedoesnotexist-how-to-solve-it/55623771#55623771", "title": "Django Rest - TemplateDoesNotExist: How to solve it?", "body": "<p>Can you share the place of the template directory. if the templates directory in the Appapi/ or in each app's directory.</p>\n\n<p>Django Version ?</p>\n\n<p>I have suggest some changes in <strong>settings.py</strong> file.</p>\n\n<pre><code>TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nTEMPLATE_DIRS = (os.path.join(BASE_DIR,  'templates'),)\n</code></pre>\n\n<p>add a directory <strong>templates</strong> in every app</p>\n\n<pre><code>Appapi/\n   movies/\n     settings.py\n     urls.py\n     wsgi.py\n   imdb/\n     templates/\n     migrations/\n          migrationsfiles....\n     models.py\n     views.py\n     serializers.py\n     ...\n   venv/\nmanage.py\nREADME.md\nrequirements.txt\n</code></pre>\n\n<p>may be you can check resetting the migrations may help you..</p>\n"}], "owner": {"reputation": 299, "user_id": 8522675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DiRn.jpg?s=128&g=1", "display_name": "RonanFelipe", "link": "https://stackoverflow.com/users/8522675/ronanfelipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579826453, "creation_date": 1554937480, "last_edit_date": 1554954524, "question_id": 55622471, "link": "https://stackoverflow.com/questions/55622471/django-rest-templatedoesnotexist-how-to-solve-it", "title": "Django Rest - TemplateDoesNotExist: How to solve it?", "body": "<p>Before anyone asks, I've checked a lot of answers, and 'rest_framework' is listed on my Installed Apps. I have created a new venv and installed all dependencies on it again and still the same error.<br>\nWhen I try the url <a href=\"http://127.0.0.1:8000/admin\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000/admin</a> I get the error template TemplateDoesNotExist at /Admin.  When I try any endpoint of my API I get the same error.</p>\n\n<p>I'm a bit confused because this project was running on my computer 1 month ago, but I got a problem in my computer and had to format. When I cloned the project again, got this error.</p>\n\n<p>I'm going to list some of my settings about directory folder, I'm having a bad feeling about it.</p>\n\n<pre><code>TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'build')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nSTATIC_URL = '/static/'\n\nSTATIC_ROOT = os.path.join(BASE_DIR, 'static')\n\nSTATICFILES_DIRS = [\n    os.path.join(BASE_DIR, 'build/static'),\n]\n\n</code></pre>\n\n<p>Folders structure is:</p>\n\n<pre><code>Appapi/\n   movies/\n     settings.py\n     urls.py\n     wsgi.py\n   imdb/\n     migrations/\n          migrationsfiles....\n     models.py\n     views.py\n     serializers.py\n     ...\n   venv/\nmanage.py\nREADME.md\nrequirements.txt\n</code></pre>\n\n<p>And some other files, like gitignore, procfile, etc.</p>\n\n<p>Some of the errors traceback:\n    django.template.exceptions.TemplateDoesNotExist: index.html</p>\n\n<pre><code>line 47, in select_template\nraise TemplateDoesNotExist(', '.join(template_name_list), chain=chain)  \n</code></pre>\n\n<p>Edit:<br>\nDjango version 2.1;<br>\nI don't have a templates directory, I'm using rest-framework to make an API, so I'm not dealing with html, css and js with Django.</p>\n"}, {"tags": ["python", "regex", "pandas"], "comments": [{"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1554937042, "post_id": 55622357, "comment_id": 97937754, "body": "Try <code>df.pagePath.str.replace(r&#39;^(.*?details&#47;).*&#39;, r&#39;\\1&#39;)</code>"}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "reply_to_user": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1554937402, "post_id": 55622357, "comment_id": 97937857, "body": "That worked. What does the <code>\\1</code> do?"}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1554938840, "post_id": 55622357, "comment_id": 97938175, "body": "<code>\\1</code> is a backreference to Group 1 value."}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1554937008, "creation_date": 1554937008, "answer_id": 55622405, "question_id": 55622357, "link": "https://stackoverflow.com/questions/55622357/cut-string-in-dataframe-column-until-certain-string-but-including/55622405#55622405", "title": "Cut string in dataframe column until certain string but including", "body": "<p>Would you like to try <code>str.extract</code></p>\n\n<pre><code>('/'+df.pagePath.str.extract('/(.*)details')+'details')[0].fillna(df.pagePath)\nOut[130]: \n0           /my/retour/details\n1           /my/orders/details\n2    /my/retours/retourmethod/\nName: 0, dtype: object\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1554937346, "post_id": 55622430, "comment_id": 97937829, "body": "Thanks, this looks elegant and works, could you explain the regex code a bit more?"}, {"owner": {"reputation": 5732, "user_id": 5496433, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05803febf5f3ccac3dc093fba5fc30fb?s=128&d=identicon&r=PG&f=1", "display_name": "BallpointBen", "link": "https://stackoverflow.com/users/5496433/ballpointben"}, "reply_to_user": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1554937413, "post_id": 55622430, "comment_id": 97937860, "body": "Inside the capture group is a regex that attempts to look for the initial portion up to and including \u2018details\u2019, and if it can\u2019t find it then it tries \u2018.*\u2019 which matches (the entirety of) every string."}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1554937493, "post_id": 55622430, "comment_id": 97937876, "body": "Makes sense. Thanks for the explanation. So which part made it <code>including</code>? Or other way around, which part in my code made it <code>excluding</code>? My code: <code>.+?(?=details)</code>"}, {"owner": {"reputation": 5732, "user_id": 5496433, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05803febf5f3ccac3dc093fba5fc30fb?s=128&d=identicon&r=PG&f=1", "display_name": "BallpointBen", "link": "https://stackoverflow.com/users/5496433/ballpointben"}, "reply_to_user": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 1, "creation_date": 1554937991, "post_id": 55622430, "comment_id": 97937993, "body": "Regexes include all matched portions by default, you have to tell the regex to not capture a specific portion (i.e., you want the string to match that portion but don\u2019t want that portion to show up in matches). ?= is a lookahead assertion that doesn\u2019t capture"}], "tags": [], "owner": {"reputation": 5732, "user_id": 5496433, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05803febf5f3ccac3dc093fba5fc30fb?s=128&d=identicon&r=PG&f=1", "display_name": "BallpointBen", "link": "https://stackoverflow.com/users/5496433/ballpointben"}, "is_accepted": true, "score": 2, "last_activity_date": 1554937151, "creation_date": 1554937151, "answer_id": 55622430, "question_id": 55622357, "link": "https://stackoverflow.com/questions/55622357/cut-string-in-dataframe-column-until-certain-string-but-including/55622430#55622430", "title": "Cut string in dataframe column until certain string but including", "body": "<p>All you need to do is provide a fallback in the regex for when there is no <code>'details'</code>:</p>\n\n<pre><code>&gt;&gt;&gt; df.pagePath.str.extract('(.+?details/?|.*)')\n\n                           0\n0        /my/retour/details/\n1        /my/orders/details/\n2  /my/retours/retourmethod/\n</code></pre>\n"}], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 55622430, "answer_count": 2, "score": 0, "last_activity_date": 1554937151, "creation_date": 1554936707, "question_id": 55622357, "link": "https://stackoverflow.com/questions/55622357/cut-string-in-dataframe-column-until-certain-string-but-including", "title": "Cut string in dataframe column until certain string but including", "body": "<p>I have similar data as the following:</p>\n\n<pre><code>df = pd.DataFrame({'pagePath':['/my/retour/details/n8hWu7iWtuRXzSvDvCAUZRAlPda6LM/', \n                               '/my/orders/details/151726/', \n                               '/my/retours/retourmethod/']})\nprint(df)\n                                            pagePath\n0  /my/retour/details/n8hWu7iWtuRXzSvDvCAUZRAlPda...\n1                         /my/orders/details/151726/\n2                          /my/retours/retourmethod/\n</code></pre>\n\n<p>What I want to do is to cut the string until (but including) <code>details</code></p>\n\n<p><strong>Expected output</strong></p>\n\n<pre><code>                    pagePath\n0  /my/retour/details/\n1  /my/orders/details/\n2  /my/retours/retourmethod/\n</code></pre>\n\n<p><strong>The following works</strong>, but its slow</p>\n\n<pre><code>df['pagePath'] = np.where(df.pagePath.str.contains('details'),\n                          df.pagePath.apply(lambda x: x[0:x.find('details')+8]), \n                          df.pagePath)\n\nprint(df)\n\n                    pagePath\n0        /my/retour/details/\n1        /my/orders/details/\n2  /my/retours/retourmethod/\n</code></pre>\n\n<p><strong>I tried regex</strong>, but could only get it to work <em>excluding</em>:</p>\n\n<pre><code>df['pagePath'] = np.where(df.pagePath.str.contains('details'),\n                          df.pagePath.str.extract('(.+?(?=details))'), \n                          df.pagePath)\n\nprint(df)\n      pagePath\n0  /my/retour/\n1  /my/orders/\n2          NaN\n</code></pre>\n\n<p>Plus the regex code returns <code>NaN</code>, when the row does not contain <code>details</code></p>\n\n<p>So I feel there's an easier and more elegant way for this. How would I write a regex code to solve my problem? Or is my solution already sufficient?</p>\n"}, {"tags": ["python", "flask", "marshmallow"], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 8774604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7700cd7bfc5ff7eb9ab3d76bd6c8e05?s=128&d=identicon&r=PG&f=1", "display_name": "H.Tina", "link": "https://stackoverflow.com/users/8774604/h-tina"}, "is_accepted": true, "score": 3, "last_activity_date": 1561101867, "last_edit_date": 1561101867, "creation_date": 1554950250, "answer_id": 55623875, "question_id": 55622341, "link": "https://stackoverflow.com/questions/55622341/how-to-load-query-string-arguments-in-flask-marshmallow-schema/55623875#55623875", "title": "How to load query string arguments in Flask Marshmallow schema", "body": "<p>You can try using the <a href=\"http://flask.pocoo.org/docs/api/#flask.Request\" rel=\"nofollow noreferrer\">Request</a> class within Flask to get the params as follows:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from flask import request\n\nrequest.args.get('bar_id')\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1697, "user_id": 10906068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394ab66161cce95d069d970a4d1f53ea?s=128&d=identicon&r=PG&f=1", "display_name": "Nancy Mooree", "link": "https://stackoverflow.com/users/10906068/nancy-mooree"}, "is_accepted": false, "score": -2, "last_activity_date": 1554968977, "creation_date": 1554968977, "answer_id": 55627297, "question_id": 55622341, "link": "https://stackoverflow.com/questions/55622341/how-to-load-query-string-arguments-in-flask-marshmallow-schema/55627297#55627297", "title": "How to load query string arguments in Flask Marshmallow schema", "body": "<p>Am using <strong>requests</strong> approach which is the best.</p>\n\n<p>see documentation\n<a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>First, You will need to Install and import requests via</p>\n\n<pre><code>pip install requests\n</code></pre>\n\n<p>here is a sample code that will work for you.\njust replace <code>&lt;foo_id&gt;</code> with your main value</p>\n\n<pre><code>import requests\nimport json\n\nitem = { \"bar_id: \"3\"}\nresp1 = requests.post(\"https://www.foo.com.com/&lt;foo_id&gt;/?\", \n              data=(item)\n             )\n\nprint('data sent successfully')\nprint (resp1.status_code)\n\n\ncontent = json.loads(resp1.content)\nprint(content)\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 9825870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38d37bf292fd7d89c179b532a3e6bc6?s=128&d=identicon&r=PG&f=1", "display_name": "Ufder", "link": "https://stackoverflow.com/users/9825870/ufder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2209, "favorite_count": 0, "accepted_answer_id": 55623875, "answer_count": 2, "score": 4, "last_activity_date": 1561101867, "creation_date": 1554936581, "last_edit_date": 1554937074, "question_id": 55622341, "link": "https://stackoverflow.com/questions/55622341/how-to-load-query-string-arguments-in-flask-marshmallow-schema", "title": "How to load query string arguments in Flask Marshmallow schema", "body": "<p>I have a POST request defined in my Flask app as below:</p>\n\n<pre><code>https://www.foo.com/&lt;foo_id&gt;?bar_id=3\n</code></pre>\n\n<p>I am getting the <strong>path parameter</strong> <code>foo_id</code> as below:</p>\n\n<pre><code>from flask_restplus import Namespace, Resource\n\nns = Namespace('Foo API')\n\n@ns.route(\"/&lt;string:foo_id&gt;\")\nclass FooExecute(Resource):\n\n    def get(self, foo_id):\n        print('foo_id = {}'.format(foo_id))\n</code></pre>\n\n<p>Though I am not able to get the <strong>query paramater</strong> <code>bar_id</code>. What is the right way to retrieve it?</p>\n"}, {"tags": ["python", "python-imaging-library"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1554937840, "post_id": 55622340, "comment_id": 97937959, "body": "Please make a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1554942963, "post_id": 55622340, "comment_id": 97939033, "body": "Seems to work for me. &quot;does not show the image&quot; is a bit too vague. Do you get any error messages?"}], "owner": {"reputation": 2061, "user_id": 5050431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/26f32015712a85280ba5e01329475b84?s=128&d=identicon&r=PG&f=1", "display_name": "A_Arnold", "link": "https://stackoverflow.com/users/5050431/a-arnold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554953788, "creation_date": 1554936570, "last_edit_date": 1554953788, "question_id": 55622340, "link": "https://stackoverflow.com/questions/55622340/store-image-in-object", "title": "Store Image in object", "body": "<p>I am trying to store an image in an object in python. My Constructor is </p>\n\n<pre><code>from PIL import Image\n\nclass MyImage:\n    def __init__(self, ImageFileName):\n\n        self.ImageFileName = ImageFileName\n\n        self.Img=Image.open(ImageFileName)#.convert(\"1\")\n        Image._show(self.Img) #this shows the image\n</code></pre>\n\n<p>but when I call this outside the class in a different file</p>\n\n<pre><code>myObject = MyImage('FileName')\nImage._show(myObject.Img)#this does not show the image\n</code></pre>\n\n<p>I am new to python but I can't figure out what is wrong. \nThanks.</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 5164, "user_id": 213042, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/58eff093cde7adbcadcd26b1b495aa2c?s=128&d=identicon&r=PG", "display_name": "Laizer", "link": "https://stackoverflow.com/users/213042/laizer"}, "edited": false, "score": 2, "creation_date": 1554937733, "post_id": 55622334, "comment_id": 97937939, "body": "Use a regular expression..."}, {"owner": {"reputation": 440, "user_id": 6047557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95e6e714cdc9f1c7d1df1d9398cad0e?s=128&d=identicon&r=PG&f=1", "display_name": "perennial_noob", "link": "https://stackoverflow.com/users/6047557/perennial-noob"}, "edited": false, "score": 0, "creation_date": 1554938023, "post_id": 55622334, "comment_id": 97937997, "body": "Also, unless I am missing some part of your question, your desired output doesn&#39;t seem to be counting &#39;I&#39;, &#39;happy&#39;, etc. Is that just by mistake or are there more filter criteria?"}, {"owner": {"reputation": 519, "user_id": 8431351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/61ePS.jpg?s=128&g=1", "display_name": "llamacorn", "link": "https://stackoverflow.com/users/8431351/llamacorn"}, "edited": false, "score": 0, "creation_date": 1554938050, "post_id": 55622334, "comment_id": 97938002, "body": "import the string module and then you can remove punctuation without regex. whole_text = text.read().strip()  Then text_list = whole_text.split()"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1554938180, "post_id": 55622334, "comment_id": 97938025, "body": "If you can&#39;t import the <code>re</code> module you can test each character of your string if it is a letter with <code>c.isalpha()</code> where c is the character. Based on that you can create a function to split words (alphas only) from other characters."}], "answers": [{"tags": [], "owner": {"reputation": 2568, "user_id": 6939324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Tjoe.jpg?s=128&g=1", "display_name": "SuperKogito", "link": "https://stackoverflow.com/users/6939324/superkogito"}, "is_accepted": true, "score": 2, "last_activity_date": 1554968017, "last_edit_date": 1554968017, "creation_date": 1554938433, "answer_id": 55622586, "question_id": 55622334, "link": "https://stackoverflow.com/questions/55622334/how-to-loop-through-dictionary-to-get-both-frequency-of-words-and-symbols/55622586#55622586", "title": "How to loop through dictionary to get both frequency of words and symbols?", "body": "<p>This is how to generate your desired frequency dictionary for one sentence. To do for the whole file, just call this code for each line to update the content of your dictionary.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># init vars\nf = \"I felt happy because I saw the others were happy and because I knew I should feel happy, but I was not really happy.\"\nd = {}\n\n# count punctuation chars\nd['.'] = f.count('.')\nd[','] = f.count(',')\n\n# remove . and , \nfor word in f.replace(',', '').replace('.','').split(' '):\n    if word not in d.keys():\n        d[word] = 1\n    else: \n        d[word] += 1\n</code></pre>\n\n<p>Alternatively, you can use a mix of regex and list expressions, like the following:</p>\n\n<pre><code>import re\n\n# filter words and symbols\nwords   = re.sub('[^A-Za-z0-9\\s]+', '', f).split(' ')\nsymbols = re.sub('[A-Za-z0-9\\s]+', ' ', f).strip().split(' ')\n\n# count occurrences\ncount_words   = dict(zip(set(words),   [words.count(w) for w in set(words)]))\ncount_symbols = dict(zip(set(symbols), [symbols.count(s) for s in set(symbols)]))\n\n# parse results in dict\nd = count_symbols.copy()\nd.update(count_words)\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>{',': 1,\n '.': 1,\n 'I': 5,\n 'and': 1,\n 'because': 2,\n 'but': 1,\n 'feel': 1,\n 'felt': 1,\n 'happy': 4,\n 'knew': 1,\n 'not': 1,\n 'others': 1,\n 'really': 1,\n 'saw': 1,\n 'should': 1,\n 'the': 1,\n 'was': 1,\n 'were': 1}\n</code></pre>\n\n<p>Running the previous 2 approaches a 1000x times using a loop and capturing the run-times, proves that the second approach is <strong>faster</strong> than the first approach.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 11065371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bace96f5381ffc46016af14a41e51?s=128&d=identicon&r=PG&f=1", "display_name": "Verse He", "link": "https://stackoverflow.com/users/11065371/verse-he"}, "is_accepted": false, "score": 0, "last_activity_date": 1554938630, "creation_date": 1554938630, "answer_id": 55622607, "question_id": 55622334, "link": "https://stackoverflow.com/questions/55622334/how-to-loop-through-dictionary-to-get-both-frequency-of-words-and-symbols/55622607#55622607", "title": "How to loop through dictionary to get both frequency of words and symbols?", "body": "<p>My solution is firstly replace all symbols into a space and then split by space. We will need a little help from regular expression.</p>\n\n<pre><code>import re\n\na = 'I felt happy because I saw the others were happy and because I knew I should feel happy, but I was not really happy.'\n\nb =  re.sub('[^A-Za-z0-9]+', ' ', a)\nprint(b)\nwholetext = b.split(' ')\nprint(wholetext)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11343176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d271d37327c31a8242ae648c512f441?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Sham", "link": "https://stackoverflow.com/users/11343176/jeff-sham"}, "is_accepted": false, "score": 0, "last_activity_date": 1554939822, "creation_date": 1554939822, "answer_id": 55622758, "question_id": 55622334, "link": "https://stackoverflow.com/questions/55622334/how-to-loop-through-dictionary-to-get-both-frequency-of-words-and-symbols/55622758#55622758", "title": "How to loop through dictionary to get both frequency of words and symbols?", "body": "<p>My solution is similar to Verse's but it also takes makes an array of the symbols in the sentence. Afterwards, you can use the for loop and the dictionary to determine the counts.</p>\n\n<pre><code>import re\n\na = 'I felt happy because I saw the others were happy and because I knew I should feel happy, but I was not really happy.'\n\nb =  re.sub('[^A-Za-z0-9\\s]+', ' ', a)\nprint(b)\nwholetext = b.split(' ')\nprint(wholetext)\nc = re.sub('[A-Za-z0-9\\s]+', ' ', a)\nsymbols = c.strip().split(' ')\nprint(symbols)\n\n# do the for loop stuff you did in your question but with wholetext and symbols\n</code></pre>\n\n<p>Oh, I missed that you couldn't import anything :(</p>\n"}], "owner": {"reputation": 55, "user_id": 10336367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-C34N3gEkFLY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP39VTbPKlKspLzTDS1XCTqZnM8rg/mo/photo.jpg?sz=128", "display_name": "user10336367", "link": "https://stackoverflow.com/users/10336367/user10336367"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 55622586, "answer_count": 3, "score": 0, "last_activity_date": 1554968017, "creation_date": 1554936555, "last_edit_date": 1554938644, "question_id": 55622334, "link": "https://stackoverflow.com/questions/55622334/how-to-loop-through-dictionary-to-get-both-frequency-of-words-and-symbols", "title": "How to loop through dictionary to get both frequency of words and symbols?", "body": "<p>I have set up a function that finds the frequency of the number of times words appear in a text file, but the frequency is wrong for a couple of words because the function is not separating words from symbols like \"happy,\". </p>\n\n<p>I have already tried to use the split function to split it with every \",\" and every \".\" but that does not work, I am also not allowed to import anything into the function as the professor does not want us to.</p>\n\n<p>The code belows turns the text file into a dictionary and then uses the word or symbol as the key and the frequency as the value. </p>\n\n<pre><code>def getTokensFreq(file):\n    dict = {}\n    with open(file, 'r') as text:\n        wholetext = text.read().split()\n        for word in wholetext:\n            if word in dict:\n                dict[word] += 1\n            else:\n                dict[word] = 1\n    return dict\n</code></pre>\n\n<p>We are using the text file with the name of \"f\". This what is inside the file.</p>\n\n<p><code>I felt happy because I saw the others were happy and because I knew I should feel happy, but I was not really happy.</code></p>\n\n<p>The desired results is this where both words and symbols are counted.</p>\n\n<p><code>{'i': 5, 'felt': 1, 'happy': 4, 'because': 2, 'saw': 1,\n'the': 1, 'others': 1, 'were': 1, 'and': 1, 'knew': 1, 'should': 1,\n'feel': 1, ',': 1, 'but': 1, 'was': 1, 'not': 1, 'really': 1, '.': 1}\n</code></p>\n\n<p>This is what I am getting, where some words and symbols are counted as a separate word</p>\n\n<blockquote>\n  <p>{'I': 5, 'felt': 1, 'happy': 2, 'because': 2, 'saw': 1, 'the': 1, 'others': 1, 'were': 1, 'and': 1, 'knew': 1, 'should': 1, 'feel': 1, 'happy,': 1, 'but': 1, 'was': 1, 'not': 1, 'really': 1, 'happy.': 1}</p>\n</blockquote>\n"}, {"tags": ["python", "scrapy"], "comments": [{"owner": {"reputation": 3459, "user_id": 7106850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIEnR.jpg?s=128&g=1", "display_name": "vezunchik", "link": "https://stackoverflow.com/users/7106850/vezunchik"}, "edited": false, "score": 0, "creation_date": 1554961163, "post_id": 55622320, "comment_id": 97942935, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/55593755/how-to-scrape-data-using-next-button-with-ellipsis-using-scrapy\">How to scrape data using next button with ellipsis using Scrapy</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3401, "user_id": 408951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f82eda1711eeafd65c59205a5454458e?s=128&d=identicon&r=PG", "display_name": "Thiago Curvelo", "link": "https://stackoverflow.com/users/408951/thiago-curvelo"}, "is_accepted": true, "score": 1, "last_activity_date": 1554984528, "last_edit_date": 1554984528, "creation_date": 1554984145, "answer_id": 55632047, "question_id": 55622320, "link": "https://stackoverflow.com/questions/55622320/how-to-use-one-bot-for-different-websites/55632047#55632047", "title": "How to use one bot for different websites", "body": "<p>Yes, you can scrape more than one site with the same spider, but it doesn't make sense if they are too different. The way to do that you have already figured out: <code>allowed_domains</code> and <code>start_requests</code> (or <code>start_urls</code>). However, exporting to different files won't be straightforward. You will have to write your export code.</p>\n\n<p>IMHO having one spider per site is the way to go. If they share some code, you can have a <code>BaseSpider</code> class from where your spiders can inherit.</p>\n\n<p>And regarding the javascript site you mentioned, are you sure you can not request its API directly?</p>\n"}], "owner": {"reputation": 15, "user_id": 11343089, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PJBfLz31i9A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJsgzuFY1sVrADgbI9ECmeOEOnew/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/11343089/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 55632047, "answer_count": 1, "score": -1, "last_activity_date": 1554986164, "creation_date": 1554936476, "last_edit_date": 1554986164, "question_id": 55622320, "link": "https://stackoverflow.com/questions/55622320/how-to-use-one-bot-for-different-websites", "title": "How to use one bot for different websites", "body": "<p>I want to scrape 2 different website. One of them is plain html and the other one  javascript (for which I need splash to scrape it).\nSo I have several questions about it:</p>\n\n<ol>\n<li><p>Can I scrape two different types of websites with only one bot (html and javascript one)? I did two html websites before and it worked but I wonder if this also works if one of them is javascript</p></li>\n<li><p>If the first question is possible can I export json separately? Like for url1 output1.json, for url2 output2.json?</p></li>\n<li><p>As you can see from my code, code need edited and I dont know how can I do that when two different types of websites need to be scraped.</p></li>\n<li><p>Is there any tool of scrapy to compare json? (The two different websites have almost the same content. I want make output1.json the base and check if some value are different in output2.json or not.</p></li>\n</ol>\n\n<p>My code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class MySpider(scrapy.Spider):\n\n    name = 'mybot'\n    allowed_domains = ['url1','url2']\n\n\n    def start_requests(self):\n        urls = (\n            (self.parse1, 'url1'),\n            (self.parse2, 'url2'),\n        )\n        for callbackfunc, url in urls:\n            yield scrapy.Request(url, callback=callbackfunc)\n            #In fact url2 must for javascript website so I need clearly splash here\n    def parse1(self, response):\n        pass\n\n    def parse2(self,response):\n        pass\n</code></pre>\n"}, {"tags": ["python", "sorting", "dictionary"], "comments": [{"owner": {"reputation": 1273, "user_id": 7885229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56656688139b1d67f1361162172505ec?s=128&d=identicon&r=PG", "display_name": "Matthew Barlowe", "link": "https://stackoverflow.com/users/7885229/matthew-barlowe"}, "edited": false, "score": 0, "creation_date": 1554938533, "post_id": 55622304, "comment_id": 97938109, "body": "First a couple things your indentation is incorrect on your function with both the return line and the <code>if</code> statement inside your second <code>for</code> loop. Second you shouldn&#39;t create a function/variable using a protected word in python. <code>pass</code> is a Python keyword <a href=\"https://docs.python.org/3.2/reference/simple_stmts.html#grammar-token-pass_stmt\" rel=\"nofollow noreferrer\">docs.python.org/3.2/reference/&hellip;</a>"}, {"owner": {"reputation": 1273, "user_id": 7885229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56656688139b1d67f1361162172505ec?s=128&d=identicon&r=PG", "display_name": "Matthew Barlowe", "link": "https://stackoverflow.com/users/7885229/matthew-barlowe"}, "edited": false, "score": 0, "creation_date": 1554939531, "post_id": 55622304, "comment_id": 97938355, "body": "I&#39;m confused on how you wanted them sorted you say you want the student with the highest grade to be listed first but you also want them in alphabetical order those are conflicting sort parameters"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11337430"}, "reply_to_user": {"reputation": 1273, "user_id": 7885229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56656688139b1d67f1361162172505ec?s=128&d=identicon&r=PG", "display_name": "Matthew Barlowe", "link": "https://stackoverflow.com/users/7885229/matthew-barlowe"}, "edited": false, "score": 0, "creation_date": 1554943226, "post_id": 55622304, "comment_id": 97939085, "body": "I want 2 different code one with the highest grade to be listed first and another one in alphabetical order"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11337430"}, "edited": false, "score": 0, "creation_date": 1554945017, "post_id": 55623207, "comment_id": 97939441, "body": "I am getting TypeError: list indices must be integers or slices, not str"}, {"owner": {"reputation": 1273, "user_id": 7885229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56656688139b1d67f1361162172505ec?s=128&d=identicon&r=PG", "display_name": "Matthew Barlowe", "link": "https://stackoverflow.com/users/7885229/matthew-barlowe"}, "edited": false, "score": 0, "creation_date": 1554945146, "post_id": 55623207, "comment_id": 97939458, "body": "Did you use the code i gave you exactly because i just ran it again cutting and pasting from here and it ran fine for me. Are you working in python 3? also can you give me the full error trace so i can see what line is giving it issues."}], "tags": [], "owner": {"reputation": 1273, "user_id": 7885229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56656688139b1d67f1361162172505ec?s=128&d=identicon&r=PG", "display_name": "Matthew Barlowe", "link": "https://stackoverflow.com/users/7885229/matthew-barlowe"}, "is_accepted": true, "score": 0, "last_activity_date": 1554944088, "creation_date": 1554944088, "answer_id": 55623207, "question_id": 55622304, "link": "https://stackoverflow.com/questions/55622304/how-to-sort-by-value-of-a-list-in-a-dictionary/55623207#55623207", "title": "how to sort by value of a list in a dictionary", "body": "<p>Ok so in order to get two different outputs with two different sorts I took your code and then created two outputs for your function with one sorted alphabetically and one sorted by grade.</p>\n\n<pre><code>scale = {'A+': 4.3, 'A': 4.0, 'A-': 3.7,\n   'B+': 3.3, 'B': 3.0, 'B-': 2.7,\n   'C+': 2.3, 'C': 2.0, 'C-': 1.7,\n   'D+': 1.3, 'D': 1.0, 'D-': 0.7,\n   'F' : 0.0}\n\nsubject = {'math':  {('Tom', 'B'), ('Kevin','D')},\n   'History':  {('Kate', 'A+'),('Eric','C'),('Hannah','F')}, \n   'English':  {('Eli', 'B-')}}\nfrom collections import defaultdict\nmingrade = 1.7\ndef test(subject, mingrade):\n    alpha_sort = defaultdict(list)\n    grade_sort = defaultdict(list)\n    for subject_name,subject_grade in subject.items():\n        #here i sort the sets first alphabetically and then by grade\n        #the sorted function allows me to pass a function on which i want\n        #to sort them as with the key keyword\n        sort_alpha = sorted(subject_grade, key=lambda x: x[0].lower())\n        sort_grade = sorted(subject_grade, key=lambda x: scale[x[1]], reverse=True)\n        #now I loop over each sorted list as you did and store them in a \n        #seperate default dicts\n        for student,grade in sort_grade:\n            if scale[grade]&gt;=mingrade:\n                grade_sort[subject_name]+=[student]\n        for student,grade in sort_alpha:\n            if scale[grade]&gt;=mingrade:\n                alpha_sort[subject_name]+=[student]\n\n    return alpha_sort, grade_sort\nalpha, grade = test(subject, mingrade)\nprint(alpha, grade)\n</code></pre>\n\n<p>which gives this output</p>\n\n<pre><code>defaultdict(&lt;class 'list'&gt;, {'math': ['Tom'], 'History': ['Eric', 'Kate'], \n'English': ['Eli']}) \ndefaultdict(&lt;class 'list'&gt;, {'math': ['Tom'], 'History': ['Kate', 'Eric'], \n'English': ['Eli']})\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11337430"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 55623207, "answer_count": 1, "score": 0, "last_activity_date": 1554944088, "creation_date": 1554936374, "last_edit_date": 1554943157, "question_id": 55622304, "link": "https://stackoverflow.com/questions/55622304/how-to-sort-by-value-of-a-list-in-a-dictionary", "title": "how to sort by value of a list in a dictionary", "body": "<p>sort list of a dictionary by value\nI have been trying to use lambda but I could not figure it out.</p>\n\n<pre><code>scale = {'A+': 4.3, 'A': 4.0, 'A-': 3.7,\n   'B+': 3.3, 'B': 3.0, 'B-': 2.7,\n   'C+': 2.3, 'C': 2.0, 'C-': 1.7,\n   'D+': 1.3, 'D': 1.0, 'D-': 0.7,\n   'F' : 0.0}\n\nsubject = {'math':  {('Tom', 'B'), ('Kevin','D')},\n   'History':  {('Kate', 'A+'),('Eric','C'),('Hannah','F')}, \n   'English':  {('Eli', 'B-')}}`\nfrom collections import defaultdict\nmingrade = 1.7\ndef pass(subject, mingrade):\n    output = defaultdict(list)\n    for subject_name,subject_grade in subject.items():\n        for student,grade in subject_grade:\n        if scale[grade]&gt;=mingrade:\n            output[subject_name]+=[student]\nreturn output\n</code></pre>\n\n<p>I got output like \n{'math': ['Tom'], 'History':  {('Kate'),('Eric')},'English':  {('Eli')}\nbut I want to sort by name and grade for example\n'History':  {('Kate'),('Eric') will become 'History':  {('Eric'),('Kate')} alphabetically order.\nanother one I want to get it by grade. student who got higher grade comes first.</p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras", "nlp"], "answers": [{"tags": [], "owner": {"reputation": 5550, "user_id": 7389608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QKeuI.jpg?s=128&g=1", "display_name": "giser_yugang", "link": "https://stackoverflow.com/users/7389608/giser-yugang"}, "is_accepted": true, "score": 1, "last_activity_date": 1554967380, "creation_date": 1554967380, "answer_id": 55626808, "question_id": 55622294, "link": "https://stackoverflow.com/questions/55622294/how-to-sum-up-values-according-to-indices-in-a-different-vector-using-keras-te/55626808#55626808", "title": "How to sum up values according to indices in a different vector using keras / tensorflow?", "body": "<p>You need <a href=\"https://www.tensorflow.org/api_docs/python/tf/math/bincount\" rel=\"nofollow noreferrer\"><code>tf.bincount()</code></a>, which counts the number of occurrences of each value in an integer array. An example:</p>\n\n<pre><code>import tensorflow as tf\nimport numpy as np\n\nindices_tf = tf.placeholder(shape=(None,None),dtype=tf.int32)\nweights_tf = tf.placeholder(shape=(None,None),dtype=tf.float32)\n\n# The returned index counts from 0\nresult = tf.bincount(indices_tf,weights_tf)\n\nindices_data = np.array([1, 2, 3, 4, 5, 3])\nweights_data = np.array([0, 1, 0.5, 0.1, 0.6, 0.5])\n\nwith tf.Session() as sess:\n    print(sess.run(result, feed_dict={indices_tf:[indices_data],weights_tf:[weights_data]}))\n    print(sess.run(result, feed_dict={indices_tf: [indices_data]*2, weights_tf: [weights_data]*2}))\n\n# print\n[0.  0.  1.  1.  0.1 0.6]\n[0.  0.  2.  2.  0.2 1.2]\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 11304345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ekxTQZF_eVI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf0ho1cMIwqbVDGsVuCMkUmP3At2g/mo/photo.jpg?sz=128", "display_name": "OmriP", "link": "https://stackoverflow.com/users/11304345/omrip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 55626808, "answer_count": 1, "score": 0, "last_activity_date": 1554967380, "creation_date": 1554936317, "question_id": 55622294, "link": "https://stackoverflow.com/questions/55622294/how-to-sum-up-values-according-to-indices-in-a-different-vector-using-keras-te", "title": "How to sum up values according to indices in a different vector using keras / tensorflow?", "body": "<p>I'm new here, and I have a question to ask regarding indexing of tensors in Keras / Tensorflow:</p>\n\n<p>I have a vector of length <code>N</code>, which contains indices of words in a vocabulary (indices may repeat). This vector represents a sentence, for example <code>(40, 25, 99, 26, 34, 99, 100, 100...)</code>\nI also have another vector, or actually a matrix (since it's a batch of examples), of the same length <code>N</code>, where each word in the original vector is assigned a weight <code>W_i</code>. I want to sum up the weights for a specific word across the whole sentence so that I can get a map from word index to the sum of weights for that word in the sentence, and I want to do it in a vectorized way.\nFor example, assuming the sentence is <code>(1, 2, 3, 4, 5, 3)</code>, and the weights are <code>(0, 1, 0.5, 0.1, 0.6, 0.5)</code>, I want the result to be some mapping:</p>\n\n<pre><code>1-&gt;0\n2-&gt;1\n3-&gt;1\n4-&gt;0.1\n5-&gt;0.6\n</code></pre>\n\n<p>How can I achieve something like that without the need to iterate through each element? I was thinking something along the direction of a sparse tensor (since the possible vocabulary is very large), but I don't know how to implement it efficiently.\nCan anyone help?\nI basically want to implement a pointer-generator network and this part is required when calculating the probabilty of copying an input word rather than generating one.</p>\n"}, {"tags": ["python", "keyboard"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1554936940, "post_id": 55622293, "comment_id": 97937725, "body": "Yes, this is true, and <a href=\"https://pypi.org/project/keyboard/\" rel=\"nofollow noreferrer\">documented</a>: &quot;To avoid depending on X, the Linux parts reads raw device files (/dev/input/input*) but this requries root.&quot; Did you have a question?"}, {"owner": {"reputation": 479, "user_id": 6538241, "user_type": "registered", "profile_image": "https://graph.facebook.com/940377169402013/picture?type=large", "display_name": "Santo Shakil", "link": "https://stackoverflow.com/users/6538241/santo-shakil"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 5, "creation_date": 1555233317, "post_id": 55622293, "comment_id": 98032883, "body": "Is there any way to write with keyboard module without root access ?"}], "answers": [{"comments": [{"owner": {"reputation": 863, "user_id": 2255753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b718604bb357ec2020490f93178aa76?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Nalbach", "link": "https://stackoverflow.com/users/2255753/daniel-nalbach"}, "edited": false, "score": 1, "creation_date": 1618102212, "post_id": 65862873, "comment_id": 118500379, "body": "<a href=\"https://github.com/moses-palmer/pynput\" rel=\"nofollow noreferrer\">github.com/moses-palmer/pynput</a>"}], "tags": [], "owner": {"reputation": 452, "user_id": 13592914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d287c2a4f1a332889ece5cc818a62b8?s=128&d=identicon&r=PG", "display_name": "cs1349459", "link": "https://stackoverflow.com/users/13592914/cs1349459"}, "is_accepted": false, "score": 1, "last_activity_date": 1616164585, "last_edit_date": 1616164585, "creation_date": 1611426274, "answer_id": 65862873, "question_id": 55622293, "link": "https://stackoverflow.com/questions/55622293/python-keyboard-module-doesnt-work-without-root/65862873#65862873", "title": "Python Keyboard Module doesn&#39;t work without root", "body": "<p>No, you cannot read or write using the keyboard module unless you are root. I have had the same problem, sadly. But Pynput worked perfectly using the pynput.keyboard.Listener class.</p>\n"}], "owner": {"reputation": 479, "user_id": 6538241, "user_type": "registered", "profile_image": "https://graph.facebook.com/940377169402013/picture?type=large", "display_name": "Santo Shakil", "link": "https://stackoverflow.com/users/6538241/santo-shakil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1616164585, "creation_date": 1554936305, "last_edit_date": 1554940687, "question_id": 55622293, "link": "https://stackoverflow.com/questions/55622293/python-keyboard-module-doesnt-work-without-root", "title": "Python Keyboard Module doesn&#39;t work without root", "body": "<p>Currently, I have written a code for a voice assistant which can write with users voice. I use python keyboard module from pip. But when I execute the code it shows me that it cannot write without root.</p>\n\n<p>the code is given below,</p>\n\n<pre><code>elif (t.find(\"type\") != -1):\n\n    le = t.find(\"type\") + len(\"type\") + 1\n    t = t[le:]\n    try:\n        print(\"Typing&gt; \", t)\n        keyboard.write('' + t+\". \")\n    except:\n        print(\"Can't Type\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "list", "dictionary", "nested-lists"], "answers": [{"comments": [{"owner": {"reputation": 8412, "user_id": 8973620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qt6R.jpg?s=128&g=1", "display_name": "Mykola Zotko", "link": "https://stackoverflow.com/users/8973620/mykola-zotko"}, "edited": false, "score": 0, "creation_date": 1554955755, "post_id": 55623440, "comment_id": 97941453, "body": "OP isn\u2019t allowed to <code>import</code>."}], "tags": [], "owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "is_accepted": false, "score": 1, "last_activity_date": 1556723089, "last_edit_date": 1556723089, "creation_date": 1554946430, "answer_id": 55623440, "question_id": 55622269, "link": "https://stackoverflow.com/questions/55622269/sorting-dictionaries-in-python-by-values-that-are-actually-lists/55623440#55623440", "title": "Sorting dictionaries in python by values that are actually lists", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.product\" rel=\"nofollow noreferrer\"><code>itertools.product</code></a> to generate the combinations of key with each related sublist. If you sort and unpack the string components of each combination, then you get the initial output you are looking for. From there you can sort the entire list first by the weight value and then by the vertices in order to get an ordered list. If you slice that list with a step value you can remove the duplicates. Then you can just remove the weight value to get the list of pairs for your final output.</p>\n\n<p>You could consolidate the steps below just a bit more but this goes through the steps outlined in your question to hopefully make it a bit easier to follow.</p>\n\n<pre><code>from itertools import product\nfrom operator import itemgetter\n\nd = {\"A\": [[\"B\",10], [\"D\",5]], \"B\": [[\"A\",10], [\"C\",5]], \"C\": [[\"B\",5],[\"D\",15]], \"D\": [[\"C\",15], [\"A\",5]]}\n\ncombos = [[*sorted([c1, c2]), n] for k, v in d.items() for c1, [c2, n] in product(k, v)]\nprint(combos)\n# [['A', 'B', 10], ['A', 'D', 5], ['A', 'B', 10], ['B', 'C', 5], ['B', 'C', 5], ['C', 'D', 15], ['C', 'D', 15], ['A', 'D', 5]]\n\nordered = sorted(combos, key=itemgetter(2, 0, 1))[::2]\nprint(ordered)\n# [['A', 'D', 5], ['B', 'C', 5], ['A', 'B', 10], ['C', 'D', 15]]\n\npairs = [o[:-1] for o in ordered]\nprint(pairs)\n# [['A', 'D'], ['B', 'C'], ['A', 'B'], ['C', 'D']]\n</code></pre>\n\n<p>EDIT (without imports):</p>\n\n<p>Per comment highlighting a restriction on using imports in your solution, here is a modified version of the original. Differences are replacement of <code>itertools.product</code> with list comprehension that accomplishes the same thing and the replacement of <code>operator.itemgetter</code> with a lambda.</p>\n\n<pre><code>d = {\"A\": [[\"B\",10], [\"D\",5]], \"B\": [[\"A\",10], [\"C\",5]], \"C\": [[\"B\",5],[\"D\",15]], \"D\": [[\"C\",15], [\"A\",5]]}\n\ncombos = [[*sorted([k, c]), n] for k, v in d.items() for c, n in v]\nprint(combos)\n# [['A', 'B', 10], ['A', 'D', 5], ['A', 'B', 10], ['B', 'C', 5], ['B', 'C', 5], ['C', 'D', 15], ['C', 'D', 15], ['A', 'D', 5]]\n\nordered = sorted(combos, key=lambda x: (x[2], x[0], x[1]))[::2]\nprint(ordered)\n# [['A', 'D', 5], ['B', 'C', 5], ['A', 'B', 10], ['C', 'D', 15]]\n\npairs = [o[:-1] for o in ordered]\nprint(pairs)\n# [['A', 'D'], ['B', 'C'], ['A', 'B'], ['C', 'D']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8412, "user_id": 8973620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qt6R.jpg?s=128&g=1", "display_name": "Mykola Zotko", "link": "https://stackoverflow.com/users/8973620/mykola-zotko"}, "is_accepted": false, "score": 1, "last_activity_date": 1554955184, "last_edit_date": 1554955184, "creation_date": 1554949055, "answer_id": 55623752, "question_id": 55622269, "link": "https://stackoverflow.com/questions/55622269/sorting-dictionaries-in-python-by-values-that-are-actually-lists/55623752#55623752", "title": "Sorting dictionaries in python by values that are actually lists", "body": "<p>You can represent each edge as <code>frozenset</code> and filter edge duplicates with help of <code>set</code>:</p>\n\n<pre><code>G = {\"A\": [[\"B\",10], [\"D\",5]], \"B\": [[\"A\",10], [\"C\",5]], \"C\": [[\"B\",5],[\"D\",15]], \"D\": [[\"C\",15], [\"A\",5]]}\n\nedges = {(frozenset((k, i)), j) for k, v in G.items()\n                                for i, j in v}\n[sorted(i) for i, _ in sorted(edges, key=lambda x: x[1])]\n# [['B', 'C'], ['A', 'D'], ['A', 'B'], ['C', 'D']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "is_accepted": false, "score": 3, "last_activity_date": 1554951390, "creation_date": 1554951390, "answer_id": 55624019, "question_id": 55622269, "link": "https://stackoverflow.com/questions/55622269/sorting-dictionaries-in-python-by-values-that-are-actually-lists/55624019#55624019", "title": "Sorting dictionaries in python by values that are actually lists", "body": "<p>So you have a dict that represents a graph as adjacency list, and you want to convert that adjacency list into an edge list.</p>\n\n<p>You can do that with a nested list comprehension:</p>\n\n<pre><code>graph = {\"A\": [[\"B\",10], [\"D\",5]], \"B\": [[\"A\",10], [\"C\",5]], \"C\": [[\"B\",5],[\"D\",15]], \"D\": [[\"C\",15], [\"A\",5]]}\nedges = [(src, dst, weight) for src, adjs in graph.items() for dst, weight in adjs]\n# edges = [('A', 'B', 10), ('A', 'D', 5), ('B', 'A', 10), ('B', 'C', 5), ('C', 'B', 5), ('C', 'D', 15), ('D', 'C', 15), ('D', 'A', 5)]\n</code></pre>\n\n<p>Then you can eliminate duplicates edges by converting to a dict, note that if you have duplicate edges with conflicting weights, this will pick one of the weight arbitrarily:</p>\n\n<pre><code>uniques = {frozenset([src, dst]): weight for src, dst, weight in edges}\n# uniques = {frozenset({'B', 'A'}): 10, frozenset({'A', 'D'}): 5, frozenset({'B', 'C'}): 5, frozenset({'C', 'D'}): 15}\n</code></pre>\n\n<p>and then sort the edges with sorted: </p>\n\n<pre><code>sorted_uniques = sorted(uniques.items(), key=lambda v: v[1])\n# sorted_uniques = [(frozenset({'A', 'D'}), 5), (frozenset({'C', 'B'}), 5), (frozenset({'A', 'B'}), 10), (frozenset({'C', 'D'}), 15)]\n</code></pre>\n\n<p>Finally, to get the result in the structure you wanted, you simply do:</p>\n\n<pre><code>result = [sorted(e) for e, weight in sorted_uniques]\n# result = [['A', 'D'], ['B', 'C'], ['A', 'B'], ['C', 'D']]\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 11343050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AnG4--tnpXA/AAAAAAAAAAI/AAAAAAAAEOI/V5L695I3hN8/photo.jpg?sz=128", "display_name": "IsaacJ700", "link": "https://stackoverflow.com/users/11343050/isaacj700"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1556723089, "creation_date": 1554936167, "last_edit_date": 1554946466, "question_id": 55622269, "link": "https://stackoverflow.com/questions/55622269/sorting-dictionaries-in-python-by-values-that-are-actually-lists", "title": "Sorting dictionaries in python by values that are actually lists", "body": "<p>If I'm given a dictionary to represent a graph, where vertices are keys and values are lists, whose entries contain both a neighbor vertex and the weight between the two vertices, how can I return a list of edges in increasing order with no repeats? For example, I may be given the following dictionary...:</p>\n\n<blockquote>\n  <p>{\"A\": [[\"B\",10], [\"D\",5]], \"B\": [[\"A\",10], [\"C\",5]], \"C\": [[\"B\",5],[\"D\",15]], \"D\": [[\"C\",15], [\"A\",5]]}.</p>\n</blockquote>\n\n<p>Also I'm only allowed to import the copy library, so I could copy one list and use deepcopy() to create a new object with the same elements. </p>\n\n<p>Right now, I'm trying to turn the dictionary into a list, because I figure it might be easier to sort elements within a list, and delete duplicate edges. So at the moment I have the following (graph is the dictionary, and in this case the one I provided above)...</p>\n\n<pre><code>def edge_get(graph):\n\n    input_list = []\n    sorted_list = []\n\n    for key, value in graph.items():\n        temp = [key,value]\n        input_list.append(temp)\n\n    print(input_list)\n</code></pre>\n\n<p>This prints out...</p>\n\n<blockquote>\n  <p>[['A', [['B', 10], ['D', 5]]], ['B', [['A', 10], ['C', 5]]], ['C', [['B', 5], ['D', 15]]], ['D', [['C', 15], ['A', 5]]]]</p>\n</blockquote>\n\n<p>I would like to get it to output:</p>\n\n<blockquote>\n  <p>[['A', 'B', 10], ['A', 'D', 5], ['B', 'A', 10], ['B', 'C', 5],...</p>\n</blockquote>\n\n<p>I figure if I can get it like this, I can compare the third element of each list, within the list, and if they are the same, check to see if the other elements match (same edge). And based off of that I can add it to the final list or forget it and move on. </p>\n\n<p>For this example the ultimate goal is:</p>\n\n<blockquote>\n  <p>[['A', 'D'], ['B', 'C'], ['A', 'B'], ['C', 'D']]</p>\n</blockquote>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 1514, "user_id": 8625500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be32f7b1520580e9bc537047492dba52?s=128&d=identicon&r=PG&f=1", "display_name": "Anakin", "link": "https://stackoverflow.com/users/8625500/anakin"}, "edited": false, "score": 0, "creation_date": 1554974281, "post_id": 55622264, "comment_id": 97949347, "body": "If your parameter is a constant value, you can just pass it to a custom loss function. As I understand from your question, those parameters do not take part in the training process. If you have parameters of the length of your training data, you can append the parameters with your label and use them in a custom loss. Have a look here if that is what you want [<a href=\"https://stackoverflow.com/a/55530654/8625500\">stackoverflow.com/a/55530654/8625500</a> ]"}, {"owner": {"reputation": 13, "user_id": 11014272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fef9b8bf82f904aac68df7f0271026d?s=128&d=identicon&r=PG&f=1", "display_name": "Question", "link": "https://stackoverflow.com/users/11014272/question"}, "reply_to_user": {"reputation": 1514, "user_id": 8625500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be32f7b1520580e9bc537047492dba52?s=128&d=identicon&r=PG&f=1", "display_name": "Anakin", "link": "https://stackoverflow.com/users/8625500/anakin"}, "edited": false, "score": 0, "creation_date": 1555007681, "post_id": 55622264, "comment_id": 97969057, "body": "Thanks for your post. I believe the example I gave was somewhat misleading. The parameters will take place in the training process. In the example of the constant multiple of the loss function above, the parameter would be multiplied by a constant at the end of each batch minimization. The second part is that each layer in my neural network will have a (non-trainable) parameter the same size as its output tensor, and then the dot product of the non-trainable parameter and the layer&#39;s output should be used in the loss function. The non-trainable parameter then needs to be updated by a formula."}, {"owner": {"reputation": 1514, "user_id": 8625500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be32f7b1520580e9bc537047492dba52?s=128&d=identicon&r=PG&f=1", "display_name": "Anakin", "link": "https://stackoverflow.com/users/8625500/anakin"}, "edited": false, "score": 0, "creation_date": 1555010681, "post_id": 55622264, "comment_id": 97970333, "body": "I understood your second part, but not the first. Can you elaborate?"}, {"owner": {"reputation": 13, "user_id": 11014272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fef9b8bf82f904aac68df7f0271026d?s=128&d=identicon&r=PG&f=1", "display_name": "Question", "link": "https://stackoverflow.com/users/11014272/question"}, "reply_to_user": {"reputation": 1514, "user_id": 8625500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be32f7b1520580e9bc537047492dba52?s=128&d=identicon&r=PG&f=1", "display_name": "Anakin", "link": "https://stackoverflow.com/users/8625500/anakin"}, "edited": false, "score": 0, "creation_date": 1555013439, "post_id": 55622264, "comment_id": 97971505, "body": "The final goal is for each layer in my network to have one non-trainable parameter associated The loss function will involve some dot products of these non-trainable parameters and the outputs of each layer. These will be summed and averaged. Then I want to multiply the averaged absolute sum of these by a scalar parameter. The parameters involved in the dot product (and the scalar) should be updated according to a fixed formula after each optimization. The &quot;final&quot; loss function will be a weighted product of the loss function described and a normal one with the scalar determining the weighting."}, {"owner": {"reputation": 1514, "user_id": 8625500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be32f7b1520580e9bc537047492dba52?s=128&d=identicon&r=PG&f=1", "display_name": "Anakin", "link": "https://stackoverflow.com/users/8625500/anakin"}, "edited": false, "score": 0, "creation_date": 1555015212, "post_id": 55622264, "comment_id": 97972233, "body": "Okay. I think I got a clearer picture now. One question though. Why do you need the non-trainable parameters in a Layer? Can&#39;t they just be parallely calculated as you only update them after each epoch(if I understood correctly) ?"}, {"owner": {"reputation": 13, "user_id": 11014272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fef9b8bf82f904aac68df7f0271026d?s=128&d=identicon&r=PG&f=1", "display_name": "Question", "link": "https://stackoverflow.com/users/11014272/question"}, "reply_to_user": {"reputation": 1514, "user_id": 8625500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be32f7b1520580e9bc537047492dba52?s=128&d=identicon&r=PG&f=1", "display_name": "Anakin", "link": "https://stackoverflow.com/users/8625500/anakin"}, "edited": false, "score": 0, "creation_date": 1555352171, "post_id": 55622264, "comment_id": 98072703, "body": "Yes, that&#39;s correct. The only reason I thought it might be preferable to have them in a layer is that they are used in the cost function (though fixed for the given epoch), and I thought that use in the layers may have allowed them to be passed as parameters to the cost function rather than using a new cost function  and recompiling the model at each epoch. I am not sure if that is indeed important or a workable or good approach though."}, {"owner": {"reputation": 1514, "user_id": 8625500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be32f7b1520580e9bc537047492dba52?s=128&d=identicon&r=PG&f=1", "display_name": "Anakin", "link": "https://stackoverflow.com/users/8625500/anakin"}, "edited": false, "score": 0, "creation_date": 1555361412, "post_id": 55622264, "comment_id": 98076390, "body": "If that be the case, maybe have a look at my answer I referred above. You can use that technique to solve your problem."}], "owner": {"reputation": 13, "user_id": 11014272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fef9b8bf82f904aac68df7f0271026d?s=128&d=identicon&r=PG&f=1", "display_name": "Question", "link": "https://stackoverflow.com/users/11014272/question"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554936130, "creation_date": 1554936130, "question_id": 55622264, "link": "https://stackoverflow.com/questions/55622264/formulaically-updating-parameters-in-keras-layers", "title": "Formulaically updating parameters in Keras layers", "body": "<p>I am trying to write some custom layers in Keras. The ultimate goal is that certain parameters (updated according to a fixed formula after each batch of data is optimized over in the training process) be passed to the loss function. I do not believe it is possible to use dynamic loss functions in Keras, but that I should be able to pass these parameters to the loss function using multiple inputs and a custom layer.</p>\n\n<p>I want to know whether it is possible to create a layer in Keras having parameters that are not trainable (and not optimized over at all in the training process), but instead updated according to a fixed formula at the end of each batch optimization in the training process.</p>\n\n<p>The simplest example I can give: instead of optimizing a generic cost function (like cross-entropy), I want to optimize something proportional to the cross entropy (c*cross_entropy). After one batch of data is processed in the training procedure, I want to set, for example, c = 1.2*c, and this to be used as the c value in the batch of data.\n(This should be more or less useless in this case as a positive constant times the loss function shouldn't affect the minima but it's fairly close to what I actually need to do).</p>\n"}, {"tags": ["python", "django", "python-3.x", "python-2.7", "docker"], "comments": [{"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1554937929, "post_id": 55622240, "comment_id": 97937980, "body": "Depending on your audience, the simplest solution might just be to install Python and your dependencies on Windows using the dependency manager of your choice (probably <code>pip</code> or Pipenv). Have you tried that? Is there a reason that this won&#39;t work for you?"}, {"owner": {"reputation": 21, "user_id": 11216711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5c6392d74fb9e12d66334a6385050?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Peter", "link": "https://stackoverflow.com/users/11216711/bruce-peter"}, "reply_to_user": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1554939171, "post_id": 55622240, "comment_id": 97938254, "body": "Actually yes there are lots of dependencies and it is a waste of time to install all the dependencies..."}, {"owner": {"reputation": 1668, "user_id": 10146012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlAbb.jpg?s=128&g=1", "display_name": "Mahmoud Elshahat", "link": "https://stackoverflow.com/users/10146012/mahmoud-elshahat"}, "edited": false, "score": 0, "creation_date": 1554939658, "post_id": 55622240, "comment_id": 97938376, "body": "did you try cx-Freeze or pyinstaller?"}], "owner": {"reputation": 21, "user_id": 11216711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5c6392d74fb9e12d66334a6385050?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Peter", "link": "https://stackoverflow.com/users/11216711/bruce-peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554935962, "creation_date": 1554935962, "question_id": 55622240, "link": "https://stackoverflow.com/questions/55622240/how-can-i-use-my-python-app-using-windows", "title": "How can I use my python app using WIndows?", "body": "<p>I have one python app which use the following modules :</p>\n\n<pre><code>- matplotlib\n- tkinter\n- pylab\n- numpy \n- ...\n</code></pre>\n\n<p>This python app works perfectly with Linux but I would like to use this using Windows. I saw there is some modules which allows to compile my python code but I try and I get some errors. That is why I thought to two things :</p>\n\n<ul>\n<li><p>Using something like docker with Windows and then install Linux on Docker and use my python app but my python app use Tkinter and I thought docker works only with terminal there is no GUI</p></li>\n<li><p>Using a website to put my python code on the web and then allow to use my python code with any OS. I thought to do this using Django but I don't know if I could do this and mostly if it will work.</p></li>\n</ul>\n\n<p>Could you help me please ?</p>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["python", "sqlalchemy", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 1, "creation_date": 1555011197, "post_id": 55622232, "comment_id": 97970585, "body": "If you&#39;re getting <code>TypeError: &#39;&gt;=&#39; not supported between instances of &#39;Select&#39; and &#39;datetime.datetime&#39;</code>, you&#39;ve removed the call to <code>as_scalar()</code>."}, {"owner": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1555011432, "post_id": 55622232, "comment_id": 97970677, "body": "@IljaEveril&#228; after digging around I see what you were trying to show me. Coming from Django I was expecting certain behavior which doesn&#39;t map to SQL the way SA does. Your answer was helpful and I would like to select it but it has been deleted. Please repost it."}, {"owner": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1555011574, "post_id": 55622232, "comment_id": 97970739, "body": "@IljaEveril&#228; are scalar values the only kind allowed to be returned in subqueries?"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 1, "creation_date": 1555011807, "post_id": 55622232, "comment_id": 97970845, "body": "No, you can for example compare a constructed row against a subquery&#39;s result, or results if using the <code>IN</code> predicate. Also it is quite common to use subqueries in the <code>FROM</code> clause to produce derived tables."}], "answers": [{"comments": [{"owner": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 0, "creation_date": 1554987767, "post_id": 55629083, "comment_id": 97957394, "body": "This throws an error: <code>InvalidRequestError: Select statement &#39;SELECT max(jobs.started) AS max_1 FROM jobs, workers  WHERE workers.id = jobs.worker_id&#39; returned no FROM clauses due to auto-correlation; specify correlate(&lt;tables&gt;) to control correlation manually.</code>"}, {"owner": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 0, "creation_date": 1554987882, "post_id": 55629083, "comment_id": 97957481, "body": "also, wouldn&#39;t I have to do <code>filter(Worker.latest_job.started &gt;= datetime.datetime(2017, 5, 10, 0, 2, 45, 932983))</code> or else how will the db know how to compare them by the <code>started</code> field?"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "reply_to_user": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 1, "creation_date": 1554989964, "post_id": 55629083, "comment_id": 97958959, "body": "You would not have to. The definition of a scalar subquery, usable as a scalar value, is that it is a table of 1 row, of 1 column. SQL is funny that way, and I&#39;d wish it wasn&#39;t that &quot;magical&quot;. Regarding the correlation issue, just add <code>correlate(cls)</code> to your <code>select()</code> construct, before <code>as_scalar()</code>."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "reply_to_user": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 1, "creation_date": 1554990616, "post_id": 55629083, "comment_id": 97959421, "body": "For example this is true: <code>select 1 = (select 1);</code>. In SQL (almost) everything is a table. In fact the comparison <code>=</code> is defined in terms of rows, and when you say <code>1 = 1</code> it actually means <code>(1) = (1)</code>, or in other words compare this row of 1 column to this other row of 1 column."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "reply_to_user": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 1, "creation_date": 1554990892, "post_id": 55629083, "comment_id": 97959624, "body": "A &lt;comparison predicate&gt; is defined in the standard as <code>&lt;comparison predicate&gt; ::= &lt;row value predicand&gt; &lt;comparison predicate part 2&gt;</code>, where <code>&lt;comparison predicate part 2&gt; ::= &lt;comp op&gt; &lt;row value predicand&gt;</code>."}, {"owner": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 0, "creation_date": 1555003842, "post_id": 55629083, "comment_id": 97967423, "body": "perhaps I misunderstood the <code>as_scalar</code> method, I should read up on what exactly that does in this query. Considering what I am attempting (querying attributes of the <code>Job</code> model  through the <code>latest_job</code> hybrid property on the <code>Worker</code> model) is the use of that method necessary? And either way how would you recommend I approach this? Also, any links to definitions and proper use of <code>as_scalar</code> and scalar subqueries would be appreciated."}, {"owner": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 0, "creation_date": 1555005228, "post_id": 55629083, "comment_id": 97968039, "body": "after re-reading your first comment, how does SA know which column to use to represent the <code>Job</code> model as a scalar value in that query?"}, {"owner": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 0, "creation_date": 1555794117, "post_id": 55629083, "comment_id": 98227409, "body": "assuming I wanted just <code>latest_job_started</code> date, how would that aliased query look? Also, when used the &quot;correlated scalar subquery of max(started)&quot;, why when I do <code>session.query(Worker.latest_job_started).all()</code> does it only produce a single value as opposed to a column? I was under the impression that these expressions were supposed to return columns."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "reply_to_user": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 1, "creation_date": 1555830243, "post_id": 55629083, "comment_id": 98232377, "body": "Technically <code>session.query(Worker.latest_job_started).all()</code> produces a list of result tuples. The reason it is not a 1-tuple of column of ... is that SQL treats a scalar subquery specially, as if a value."}, {"owner": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 0, "creation_date": 1571062688, "post_id": 55629083, "comment_id": 103105914, "body": "your second example of latest_job.expression returning a Job row (using select and <code>.subquery()</code> chained method) raises an exception: <code>AttributeError: &#39;Select&#39; object has no attribute &#39;subquery&#39;</code>. What is the proper way to return a row which I can then query the attributes of like a foreignkey relation?"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "reply_to_user": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "edited": false, "score": 1, "creation_date": 1571064301, "post_id": 55629083, "comment_id": 103106839, "body": "Usually you&#39;d use a suitable join. Fixed the mish mash of ORM and Core style that you noted."}], "tags": [], "owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "is_accepted": true, "score": 1, "last_activity_date": 1571064055, "last_edit_date": 1571064055, "creation_date": 1554974765, "answer_id": 55629083, "question_id": 55622232, "link": "https://stackoverflow.com/questions/55622232/sqlalchemy-hybrid-attribute-expression/55629083#55629083", "title": "sqlalchemy hybrid_attribute expression", "body": "<p>You're returning a scalar subquery from your hybrid property when used in SQL (class) context, so just use it as you'd use a value expression:</p>\n\n<pre><code>db.session.query(Worker).\\\n    filter(Worker.latest_job &gt;= datetime.datetime(2017, 5, 10, 0, 2, 45, 932983)).\\\n    count()\n</code></pre>\n\n<p>The hybrid property itself needs to explicitly handle correlation in this case:</p>\n\n<pre><code>@latest_job.expression\ndef latest_job(cls):\n    Job = db.Model._decl_class_registry.get('Job')\n    return select([func.max(Job.started)]).\\\n        where(cls.id == Job.worker_id).\\\n        correlate(cls).\\\n        as_scalar()\n</code></pre>\n\n<p>Note that there's some asymmetry between your hybrid property's Python side and SQL side. It produces the latest <code>Job</code> object when accessed on an instance, compared to producing a correlated scalar subquery of <code>max(started)</code> in SQL. If you'd like it to return a <code>Job</code> row in SQL as well, you'd do something like</p>\n\n<pre><code>@latest_job.expression\ndef latest_job(cls):\n    Job = db.Model._decl_class_registry.get('Job')\n    return Job.query.\\\n        filter(cls.id == Job.worker_id).\\\n        order_by(Job.started.desc()).\\\n        limit(1).\\\n        correlate(cls).\\\n        subquery()\n</code></pre>\n\n<p>but that's actually less useful mostly, because usually \u2013 but not always \u2013 this kind of correlated subquery will be slower than joining against a subquery. For example in order to fetch workers with latest jobs that meet the original criteria:</p>\n\n<pre><code>job_alias = db.aliased(Job)\n# This reads as: find worker_id and started of jobs that have no matching\n# jobs with the same worker_id and greater started, or in other words the\n# worker_id, started of the latest jobs.\nlatest_jobs = db.session.query(Job.worker_id, Job.started).\\\n    outerjoin(job_alias, and_(Job.worker_id == job_alias.worker_id,\n                              Job.started &lt; job_alias.started)).\\\n    filter(job_alias.id == None).\\\n    subquery()\n\ndb.session.query(Worker).\\\n    join(latest_jobs, Worker.id == latest_jobs.c.worker_id).\\\n    filter(latest_jobs.c.started &gt;= datetime.datetime(2017, 5, 10, 0, 2, 45, 932983)).\\\n    count()\n</code></pre>\n\n<p>and of course if you just want the count, then you don't need the join at all:</p>\n\n<pre><code>job_alias = db.aliased(Job)\ndb.session.query(func.count()).\\\n    outerjoin(job_alias, and_(Job.worker_id == job_alias.worker_id,\n                              Job.started &lt; job_alias.started)).\\\n    filter(job_alias.id == None,\n           Job.started &gt;= datetime.datetime(2017, 5, 10, 0, 2, 45, 932983)).\\\n    scalar()\n</code></pre>\n\n<p>Please note that the call to <a href=\"https://docs.sqlalchemy.org/en/latest/orm/query.html#sqlalchemy.orm.query.Query.scalar\" rel=\"nofollow noreferrer\"><code>Query.scalar()</code></a> is not the same as <a href=\"https://docs.sqlalchemy.org/en/latest/orm/query.html#sqlalchemy.orm.query.Query.as_scalar\" rel=\"nofollow noreferrer\"><code>Query.as_scalar()</code></a>,  but just returns the first value of the first row.</p>\n"}], "owner": {"reputation": 1222, "user_id": 1028237, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4f6ee0dbf04ff9f277c6fabf181016f?s=128&d=identicon&r=PG", "display_name": "Verbal_Kint", "link": "https://stackoverflow.com/users/1028237/verbal-kint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "accepted_answer_id": 55629083, "answer_count": 1, "score": 1, "last_activity_date": 1571064055, "creation_date": 1554935895, "last_edit_date": 1555004380, "question_id": 55622232, "link": "https://stackoverflow.com/questions/55622232/sqlalchemy-hybrid-attribute-expression", "title": "sqlalchemy hybrid_attribute expression", "body": "<p>Assuming the following models:</p>\n\n<pre><code>class Worker(Model):\n    __tablename__ = 'workers'\n    ...\n    jobs = relationship('Job',\n                        back_populates='worker',\n                        order_by='desc(Job.started)',\n                        lazy='dynamic')\n\n    @hybrid_property\n    def latest_job(self):\n        return self.jobs.first()  # jobs already ordered descending\n\n    @latest_job.expression\n    def latest_job(cls):\n        Job = db.Model._decl_class_registry.get('Job')\n        return select([func.max(Job.started)]).where(cls.id == Job.worker_id).as_scalar()\n\nclass Job(Model):\n    ...\n    started = db.Column(db.DateTime, default=datetime.utcnow)\n    worker_id = db.Column(db.Integer, db.ForeignKey('workers.id'))\n    worker = db.relationship('Worker', back_populates='jobs')\n</code></pre>\n\n<p>While this query provides correct results:</p>\n\n<pre><code>db.session.query(Worker).join(Job.started).filter(Job.started &gt;= datetime.datetime(2017, 5, 10, 0, 2, 45, 932983)).distinct().count()\n</code></pre>\n\n<p>I was under the assumption I could query that field directly, but this query fails:</p>\n\n<pre><code>db.session.query(Worker).join(Job).filter(Worker.latest_job.started &gt;= datetime.datetime(2017, 5, 10, 0, 2, 45, 932983)).count()\n</code></pre>\n\n<p>with this error:</p>\n\n<pre><code>AttributeError: Neither 'hybrid_property' object nor 'ExprComparator' object associated with Worker.latest_job has an attribute 'started'\n</code></pre>\n\n<p>How can I query this property directly? What am I missing here?</p>\n\n<p>EDIT 1:\nFollowing @Ilja advice from his answer, I have attempted:</p>\n\n<pre><code>db.session.query(Worker).\\\n    join(Job).\\\n    filter(Worker.latest_job &gt;= datetime.datetime(2017, 5, 10, 0, 2, 45, 932983)).\\\n    count()\n</code></pre>\n\n<p>but get this error:</p>\n\n<pre><code>TypeError: '&gt;=' not supported between instances of 'Select' and 'datetime.datetime'\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1554935971, "post_id": 55622227, "comment_id": 97937488, "body": "Functions are objects, and all objects can have attributes."}, {"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 1, "creation_date": 1554935993, "post_id": 55622227, "comment_id": 97937495, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/338101/python-function-attributes-uses-and-abuses\">Python function attributes - uses and abuses</a> at least for the first question."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1554936048, "post_id": 55622227, "comment_id": 97937512, "body": "The last line is a tuple assignment. It&#39;s equivalent to <code>func = allowed</code> and <code>allowed = [&#39;*&#39;]</code>"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1554936096, "post_id": 55622227, "comment_id": 97937521, "body": "Don&#39;t ask two separate questions, please..."}, {"owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "edited": false, "score": 0, "creation_date": 1554936257, "post_id": 55622227, "comment_id": 97937564, "body": "Edited question to only include the latter question instead of two."}], "answers": [{"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 1, "last_activity_date": 1554936083, "last_edit_date": 1592644375, "creation_date": 1554936083, "answer_id": 55622259, "question_id": 55622227, "link": "https://stackoverflow.com/questions/55622227/strange-syntax-with-commas/55622259#55622259", "title": "Strange syntax with commas", "body": "<blockquote>\n<p>Also, I dunno what the following line does:</p>\n<p><code>func, allowed = allowed, ['*']</code></p>\n</blockquote>\n<p>It's a slightly shorter way of writing</p>\n<pre><code>func = allowed\nallowed = ['*']\n</code></pre>\n<p>Search for &quot;tuple assignment&quot; for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 422, "user_id": 5975842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea7a9edae7429a03c76b073b1fd6a8e?s=128&d=identicon&r=PG&f=1", "display_name": "Chemistree", "link": "https://stackoverflow.com/users/5975842/chemistree"}, "is_accepted": true, "score": 1, "last_activity_date": 1554940766, "creation_date": 1554940766, "answer_id": 55622855, "question_id": 55622227, "link": "https://stackoverflow.com/questions/55622227/strange-syntax-with-commas/55622855#55622855", "title": "Strange syntax with commas", "body": "<p>State is, in this case, not a decorator directly, but rather a <em>meta-decorator</em>, or a decorator-generating function: It is not applied to a function directly, but applied to some other arguments, which it will use to return a \"real\" decorator:</p>\n\n<pre><code>def a(myargs): # applied to some arguments\n    def b(func): # decorator\n        do_smth(func, myargs)\n    return b # calling a will return the decorator\n\n@a(\"world\")\ndef hello(): # do_smth(hello, \"world\") is called\n    pass\n</code></pre>\n\n<p>When you type</p>\n\n<pre><code>@state([\"something\"])\ndef foo():\n    pass\n</code></pre>\n\n<p>this will invoke the state function using [\"something\"] as the argument, which will in turn return the decorator function, which is finally applied to the function foo, setting the <code>__fsm_state__</code> and <code>__fsm_allowed__</code> attributes, depending on the parameters originally passed to @state.</p>\n\n<p>When you instead use</p>\n\n<pre><code>@state()\ndef foo():\n    pass\n</code></pre>\n\n<p>allowed (and, in turn, <code>__fsm_allowed__</code>) will be set to the default value of <code>[\"*\"]</code>, which you can see in the declaration of the state function.</p>\n\n<p>Buf if you miss the brackets, that is,</p>\n\n<pre><code>@state  # &lt;- no () there\ndef foo():\n   pass\n</code></pre>\n\n<p>The function foo is taken to be the parameter to state (so <code>allowed</code> is now foo instead of that list it's actually supposed to be), which might lead to subtle bugs - which is why in the definition of state, there is the check</p>\n\n<pre><code>if callable(allowed):\n</code></pre>\n\n<p>which catches the mistake of passing foo directly, and just assumes you meant the default arguments (<code>allowed=[\"*\"]</code>)</p>\n\n<p>The following code,</p>\n\n<pre><code>func, allowed = allowed, ['*'] \nreturn decorator(func)\n</code></pre>\n\n<p>Which can be slightly simplified to</p>\n\n<pre><code>func = allowed\nallowed = [\"*\"]\nreturn decorator(func)\n</code></pre>\n\n<ol>\n<li>Saves the function to func</li>\n<li>Sets the arguments to the default value and</li>\n<li>Applies the \"real\" decorator to the function,</li>\n</ol>\n\n<p>Which effectively means that @state and @state() now do exactly the same thing.</p>\n\n<p>In my opinion, the check should rather be an assertion, so you can quickly find and fix such inconsistencies in your code, but whoever wrote that decided to just ignore them silently.</p>\n"}], "owner": {"reputation": 2969, "user_id": 5191073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/628f44cad275ff1e2fd7230f8cdd5cbb?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Pisz", "link": "https://stackoverflow.com/users/5191073/christopher-pisz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 55622855, "answer_count": 2, "score": 1, "last_activity_date": 1554940766, "creation_date": 1554935857, "last_edit_date": 1554936194, "question_id": 55622227, "link": "https://stackoverflow.com/questions/55622227/strange-syntax-with-commas", "title": "Strange syntax with commas", "body": "<p>I'm learning python. I just finished a tutorial on decorators. I went and found a decorator in some code, but see yet more strange and unfamiliar things.</p>\n\n<pre><code>def state(allowed=['*']):\n\n    def decorator(func):\n        func.__fsm_state__ = True\n        func.__fsm_allowed__ = allowed\n        return func\n\n    if callable(allowed):\n        func, allowed = allowed, ['*']\n        return decorator(func)\n\n    return decorator\n</code></pre>\n\n<p>I dunno what the following line does:</p>\n\n<pre><code>func, allowed = allowed, ['*']\n</code></pre>\n\n<p>Can someone explain?</p>\n"}, {"tags": ["python", "loops"], "comments": [{"owner": {"reputation": 2757, "user_id": 1042144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d1bc195cf067a719735316e970a5449?s=128&d=identicon&r=PG", "display_name": "Brian Kung", "link": "https://stackoverflow.com/users/1042144/brian-kung"}, "edited": false, "score": 0, "creation_date": 1554936062, "post_id": 55622221, "comment_id": 97937517, "body": "Generally this is achieved by the <code>while</code> operator in lots of languages. Check here: <a href=\"https://realpython.com/python-while-loop/\" rel=\"nofollow noreferrer\">realpython.com/python-while-loop</a>"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1554936799, "post_id": 55622221, "comment_id": 97937686, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23294658/asking-the-user-for-input-until-they-give-a-valid-response\">Asking the user for input until they give a valid response</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2832, "user_id": 3735873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K93GY.jpg?s=128&g=1", "display_name": "tonypdmtr", "link": "https://stackoverflow.com/users/3735873/tonypdmtr"}, "edited": false, "score": 0, "creation_date": 1554936996, "post_id": 55622258, "comment_id": 97937739, "body": "A variation: <code>while True:   if input(&#39;Do you want to add a grade? y&#47;n &#39;) != &#39;y&#39;: break </code>"}], "tags": [], "owner": {"reputation": 9542, "user_id": 8068625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4spqa.png?s=128&g=1", "display_name": "Henry Woody", "link": "https://stackoverflow.com/users/8068625/henry-woody"}, "is_accepted": false, "score": 2, "last_activity_date": 1554936071, "creation_date": 1554936071, "answer_id": 55622258, "question_id": 55622221, "link": "https://stackoverflow.com/questions/55622221/how-can-i-end-a-loop-by-myself/55622258#55622258", "title": "How can i end a loop by myself?", "body": "<p>You can use a <code>while</code> loop, with a <code>done</code> variable, then update <code>done</code> on each iteration of the loop, by checking if the user is interested in adding another entry.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>done = False\n\nwhile not done:\n    # do stuff\n    done = input(\"Want to add another? (y/n)\") == \"n\"\n</code></pre>\n\n<p>Or you can use a <code>keep_going</code> variable and do basically the opposite of the above code.</p>\n"}, {"tags": [], "owner": {"reputation": 25800, "user_id": 11162165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5kgh.png?s=128&g=1", "display_name": "nathancy", "link": "https://stackoverflow.com/users/11162165/nathancy"}, "is_accepted": true, "score": 1, "last_activity_date": 1554936224, "last_edit_date": 1592644375, "creation_date": 1554936224, "answer_id": 55622277, "question_id": 55622221, "link": "https://stackoverflow.com/questions/55622221/how-can-i-end-a-loop-by-myself/55622277#55622277", "title": "How can i end a loop by myself?", "body": "<p>You can use a <a href=\"https://www.w3schools.com/python/python_while_loops.asp\" rel=\"nofollow noreferrer\"><code>while</code></a> loop to keep grabbing grades until the user types in a key to exit the loop such as <code>quit</code>.</p>\n<pre><code>grades = [] \n\ntxt = input(&quot;What grade did you get? Enter 'quit' to exit: &quot;)\nwhile txt != 'quit':\n    grades.append(txt)\n    txt = input(&quot;What grade did you get? Enter 'quit' to exit: &quot;)\n\nprint(grades)\n</code></pre>\n<p>Example interaction</p>\n<blockquote>\n<p>What grade did you get? Enter 'quit' to exit: A</p>\n<p>What grade did you get? Enter 'quit' to exit: B</p>\n<p>What grade did you get? Enter 'quit' to exit: C</p>\n<p>What grade did you get? Enter 'quit' to exit: D</p>\n<p>What grade did you get? Enter 'quit' to exit: quit</p>\n<p>['A', 'B', 'C', 'D']</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 11109758, "user_type": "registered", "profile_image": "https://graph.facebook.com/2156497767719004/picture?type=large", "display_name": "Leandro Arns Gonzales", "link": "https://stackoverflow.com/users/11109758/leandro-arns-gonzales"}, "is_accepted": false, "score": 0, "last_activity_date": 1554936233, "creation_date": 1554936233, "answer_id": 55622283, "question_id": 55622221, "link": "https://stackoverflow.com/questions/55622221/how-can-i-end-a-loop-by-myself/55622283#55622283", "title": "How can i end a loop by myself?", "body": "<p>The  way you could do it is with the while loop.</p>\n\n<p>First you need to instanciate the variable text for the while loop</p>\n\n<pre><code>text = \"\"\ntext = input(\"Do you want to add a grade? y/n \")\nwhile text != \"n\":\n   if txt in p_antwort:\n      # do some stuff\n   text = input(\"Do you want to add a grade? y/n \")\n</code></pre>\n\n<p>I think this should work</p>\n"}], "owner": {"reputation": 21, "user_id": 11315790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/414a2b73d2b2ecbe5731373103679fa2?s=128&d=identicon&r=PG&f=1", "display_name": "LJ350", "link": "https://stackoverflow.com/users/11315790/lj350"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 55622277, "answer_count": 3, "score": 1, "last_activity_date": 1554945971, "creation_date": 1554935821, "last_edit_date": 1554945971, "question_id": 55622221, "link": "https://stackoverflow.com/questions/55622221/how-can-i-end-a-loop-by-myself", "title": "How can i end a loop by myself?", "body": "<p>I am learning Python. I am trying to create a program that will calculate my final score in college.  My question is if I can end an <code>if</code> loop by myself?\nE.g. I want my program to repeat the question <strong>\"Do you want to add a grade?\"</strong> as long as the question is <strong>\"yes\"</strong>, and as soon as the answer is <strong>no</strong>, I want my program to leave this part of my code.</p>\n\n<p>What is the easiest way to do this?</p>\n\n<pre><code>noten = [] #list for grades\nlp = []    #list for the weight of my different grades\np_antwort = ['y', 'yes'] #p_antwort = positive answer\nn_antwort = ['n', 'no']  #n_antwort = negative answer\n\ntxt = input(\"Do you want to add a grade? y/n \")\nif txt in p_antwort:\n   i = input(\"What grade did you get? \")\n   noten.extend(i)\n   txt_2 = input(\"Do you want to add another one? y/n\")\n   if txt_2 in p_antwort:\n        i = input(\"What grade did you get? \")\n        noten.extend(i)\n</code></pre>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 5668, "user_id": 712526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/06e3c4065e9d08da698b4f4de3959294?s=128&d=identicon&r=PG", "display_name": "jpaugh", "link": "https://stackoverflow.com/users/712526/jpaugh"}, "edited": false, "score": 1, "creation_date": 1554935977, "post_id": 55622213, "comment_id": 97937489, "body": "That&#39;s pretty close to being ambiguous. I&#39;d recommend adding quotes or escapes to the language to avoid the problem, and then use a real parser."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 5818339, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e3d327a4aab44fc4e23837dca04f14c?s=128&d=identicon&r=PG&f=1", "display_name": "Rfreak", "link": "https://stackoverflow.com/users/5818339/rfreak"}, "edited": false, "score": 0, "creation_date": 1554936054, "post_id": 55622233, "comment_id": 97937515, "body": "How does &#39;\\S+=.*?(?=, \\S+=|$)&#39; regular expression work?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 129, "user_id": 5818339, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e3d327a4aab44fc4e23837dca04f14c?s=128&d=identicon&r=PG&f=1", "display_name": "Rfreak", "link": "https://stackoverflow.com/users/5818339/rfreak"}, "edited": false, "score": 0, "creation_date": 1554937398, "post_id": 55622233, "comment_id": 97937852, "body": "@Rfreak Added some explanation."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 2, "last_activity_date": 1554937390, "last_edit_date": 1554937390, "creation_date": 1554935903, "answer_id": 55622233, "question_id": 55622213, "link": "https://stackoverflow.com/questions/55622213/parse-string-by-the-last-occurrence-of-the-character-before-another-character-in/55622233#55622233", "title": "parse string by the last occurrence of the character before another character in python", "body": "<p>Following the structure of your string, you can use <code>re.findall</code>:</p>\n\n<pre><code>import re\n\nre.findall(r'\\S+=.*?(?=, \\S+=|$)', s)\n</code></pre>\n\n<p></p>\n\n<pre><code>['A=3',\n 'B=value one, value two, value three',\n 'C=NA',\n 'D=Other institution, except insurance',\n 'id=DRT_12345']\n</code></pre>\n\n<p>The pattern uses a lookahead to determine when to stop matching for the current key-value pair. </p>\n\n<pre><code>\\S+      # match or more non-whitespace characters \n=        # ...followed by an equal sign\n.*?      # match anything upto...\n(?=      # regex lookahead for\n   ,     # comma, followed by\n   \\s    # a whitespace, followed by\n   \\S+   # the same pattern\n   =\n   |     # OR\n   $     # EOL\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "is_accepted": false, "score": 0, "last_activity_date": 1554936341, "creation_date": 1554936341, "answer_id": 55622297, "question_id": 55622213, "link": "https://stackoverflow.com/questions/55622213/parse-string-by-the-last-occurrence-of-the-character-before-another-character-in/55622297#55622297", "title": "parse string by the last occurrence of the character before another character in python", "body": "<p>Split on \"the last comma before the equals\" can be translated to a regex like this:</p>\n\n<pre><code>import re\nout = re.split(r',(?=[^,]*=)', s)\n</code></pre>\n\n<p>That's a comma (<code>,</code>), followed by (a positive lookahead - <code>(?= .. )</code>) any number of non-comma characters (<code>[^,]*</code>) and then an equals sign (<code>=</code>).</p>\n"}], "owner": {"reputation": 129, "user_id": 5818339, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e3d327a4aab44fc4e23837dca04f14c?s=128&d=identicon&r=PG&f=1", "display_name": "Rfreak", "link": "https://stackoverflow.com/users/5818339/rfreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554937390, "creation_date": 1554935729, "question_id": 55622213, "link": "https://stackoverflow.com/questions/55622213/parse-string-by-the-last-occurrence-of-the-character-before-another-character-in", "title": "parse string by the last occurrence of the character before another character in python", "body": "<p>I have the following string that I need to split into smaller ones in a correct way: </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>s = \"A=3, B=value one, value two, value three, C=NA, D=Other institution, except insurance, id=DRT_12345\"\n</code></pre>\n\n<p>I cannot do the following, since I need to split only on the last \",\" before the \"=\" </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>s.split(\",\")\n</code></pre>\n\n<p>My desired outcome is the following: </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>out = [\"A=3\",\n \"B=value one, value two, value three\", \n\"C=NA\",\n \"D=Other institution, except insurance\", \n\"id=DRT_12345\"]\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1554937488, "creation_date": 1554937488, "answer_id": 55622472, "question_id": 55622129, "link": "https://stackoverflow.com/questions/55622129/how-to-set-turns-human-vs-computer-playing-tictactoe-on-a-tkinter-gui/55622472#55622472", "title": "How to set turns (human Vs computer) playing tictactoe on a tkinter gui?", "body": "<p>First, I would suggest eventually migrating over to having a class structure hold your game state so you can avoid needing global variables...but we'll set that aside for now. </p>\n\n<p>Second, the code listed is incomplete and missing some important variables.</p>\n\n<p>You should have a way or a method of determining if a it is the human's turn or if it is the computer's turn. This method should be called when the game begins (to handle you or the computer going first) and at the end of each turn, after the turn variable has been toggled. If it is the computer's turn... then call your method for picking the computer's square and make the computer's move. </p>\n"}], "owner": {"reputation": 1, "user_id": 11331508, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QcvVUKkwKZA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfc3_MV_k1YfBGLyMLImT12fXD37Q/mo/photo.jpg?sz=128", "display_name": "Mariano Villalba David", "link": "https://stackoverflow.com/users/11331508/mariano-villalba-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1554995990, "creation_date": 1554935102, "last_edit_date": 1554995990, "question_id": 55622129, "link": "https://stackoverflow.com/questions/55622129/how-to-set-turns-human-vs-computer-playing-tictactoe-on-a-tkinter-gui", "title": "How to set turns (human Vs computer) playing tictactoe on a tkinter gui?", "body": "<p>I don't know how to set turns properly. Based on my code the computer's movement need to be triggered by the player's click on the board. I did it okay human Vs human. The next code is overly cut, but I think we can grasp the general idea.</p>\n\n<pre><code>    from tkinter import *\n    import random\n\n    root = Tk()\n    root.title(\"Tic Tac Toe\")\n    root.resizable(0, 0)\n\n    board = [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']\n\n    def lucky_guess():\n        #The computer moves randomly\n\n    def check_winner():\n        if board[0] == 'X' and board[1] == 'X' and board[2] == 'X':\n            print(\"Player's won. Game over.\")\n            # sys.exit()\n        # All successful combinations\n\n    def set_movement(square, n):\n        global turn\n        if board[n] == \" \" and turn == 'X':\n            square[\"text\"] = \"X\"\n            board[n] = \"X\"\n            check_winner()\n            messages.config(text=\"Computer's turn\")\n            turn = 'O'\n        elif turn == 'O':\n            lucky_guess()\n            check_winner()\n            messages.config(text=\"Player's turn\")\n            turn = 'X'\n        print(board)\n\n    # 9 tiles\n    tile_6 = Button(root, text=\"6\", bg='gray', fg='white', \n        height=4, width=8,command=lambda: set_movement(tile_6, 6))\n    tile_6.grid(row=0, column=0)\n    #Set turns\n    choice = random.choice('XO')\n    beginning = choice, \"'s turn.\"\n    messages.config(text=beginning)\n    turn = choice\n    root.mainloop()\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "owner": {"reputation": 499, "user_id": 5721839, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-cqGkX2ngzTQ/AAAAAAAAAAI/AAAAAAAAAQM/y9k8pJDMNF4/photo.jpg?sz=128", "display_name": "Sean McVeigh", "link": "https://stackoverflow.com/users/5721839/sean-mcveigh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554934987, "creation_date": 1554934987, "question_id": 55622115, "link": "https://stackoverflow.com/questions/55622115/complex-valued-distributions-in-tensorflow", "title": "Complex valued distributions in Tensorflow?", "body": "<p>Is it possible to use <a href=\"https://www.tensorflow.org/api_docs/python/tf/contrib/distributions/TransformedDistribution\" rel=\"nofollow noreferrer\"><code>TransformedDistribution</code></a> to create a complex-valued Gaussian distribution from a given a 2D scale vector?  I'd rather have the distribution object automatically produce complex dtypes when sampled, for example.</p>\n"}, {"tags": ["python", "flask", "sqlalchemy"], "comments": [{"owner": {"reputation": 1697, "user_id": 10906068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394ab66161cce95d069d970a4d1f53ea?s=128&d=identicon&r=PG&f=1", "display_name": "Nancy Mooree", "link": "https://stackoverflow.com/users/10906068/nancy-mooree"}, "edited": false, "score": 1, "creation_date": 1554969601, "post_id": 55622106, "comment_id": 97946711, "body": "It seems to me that you are trying to make an updates to an existing database rows while inserting new rows at the same time. is that what you want?"}, {"owner": {"reputation": 2668, "user_id": 313087, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bd59c4d61d3ee58301a98cc85362d82d?s=128&d=identicon&r=PG", "display_name": "Usagi", "link": "https://stackoverflow.com/users/313087/usagi"}, "reply_to_user": {"reputation": 1697, "user_id": 10906068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394ab66161cce95d069d970a4d1f53ea?s=128&d=identicon&r=PG&f=1", "display_name": "Nancy Mooree", "link": "https://stackoverflow.com/users/10906068/nancy-mooree"}, "edited": false, "score": 0, "creation_date": 1555000683, "post_id": 55622106, "comment_id": 97965913, "body": "I&#39;m essentially creating a second version of an existing record from maps, including entries in the related table images. It&#39;s meant to be a working copy of an existing record that can be changed without changing the original. I know I can just create new rows and go through and copy each column but I was hoping that there was a convenience method I could employ."}], "owner": {"reputation": 2668, "user_id": 313087, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bd59c4d61d3ee58301a98cc85362d82d?s=128&d=identicon&r=PG", "display_name": "Usagi", "link": "https://stackoverflow.com/users/313087/usagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554934923, "creation_date": 1554934923, "question_id": 55622106, "link": "https://stackoverflow.com/questions/55622106/how-do-i-copy-children-from-one-parent-to-another-using-sqlalchemy-orm", "title": "How do I copy children from one parent to another using SQLAlchemy ORM?", "body": "<p>I have two models Map and Image. For the sake of simplicity I'll just put the relationships in question:</p>\n\n<pre><code>class Map(Model):\n    __tablename__ = 'maps'\n\n    id = Column(\n        Integer,\n        primary_key=True\n        )\n\n    images = relationship(\n        'Image',\n        uselist=True,\n        cascade='all, delete-orphan',\n        passive_deletes=True\n        )\n\n\nclass Image(Model):\n    __tablename__ = 'images'\n\n    id = Column(\n        Integer,\n        primary_key=True\n        )\n\n    map_id = Column(\n        Integer,\n        ForeignKey(\n            'maps.id',\n            onupdate='CASCADE',\n            ondelete='CASCADE'\n            ),\n        index=True,\n        nullable=False\n        )\n\n    map = relationship(\n        'Map',\n        back_populates='images'\n        )\n</code></pre>\n\n<p>I was trying to copy images from one model instance to another like this</p>\n\n<pre><code>new_map = Map()\n# do some stuff\nold_map = Map.query.get(some_id)\nnew_map.images = old_map.images\nsession.add(new_map)\nsession.commit()\n</code></pre>\n\n<p>This had the unexpected behavior (for me) of changing the map_id column on the original table rows, rather than creating a new object that's a copy or the old one with map_id assigned to the new map. I'm sure this behavior makes sense but I was having trouble searching for my desired behavior. </p>\n\n<p>How do I copy a list of children to another parent, creating new rows and preserving the old?</p>\n"}, {"tags": ["python", "flask", "request"], "comments": [{"owner": {"reputation": 418, "user_id": 6246834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57de0f12e63d48466fc6610efa6c2cf?s=128&d=identicon&r=PG", "display_name": "dwagon", "link": "https://stackoverflow.com/users/6246834/dwagon"}, "edited": false, "score": 1, "creation_date": 1554935522, "post_id": 55622092, "comment_id": 97939436, "body": "Have a look at Flask-APScheduler <a href=\"https://github.com/viniciuschiele/flask-apscheduler\" rel=\"nofollow noreferrer\">github.com/viniciuschiele/flask-apscheduler</a> This lets you do backend scheduled tasks (such as sampling something every 5 minutes) as well as reactive API calls."}, {"owner": {"reputation": 441, "user_id": 3777839, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1552277125/picture?type=large", "display_name": "meesinlid", "link": "https://stackoverflow.com/users/3777839/meesinlid"}, "reply_to_user": {"reputation": 418, "user_id": 6246834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57de0f12e63d48466fc6610efa6c2cf?s=128&d=identicon&r=PG", "display_name": "dwagon", "link": "https://stackoverflow.com/users/6246834/dwagon"}, "edited": false, "score": 0, "creation_date": 1555010039, "post_id": 55622092, "comment_id": 97970073, "body": "I keep coming back to this question, but despite the potential inefficiency what assuming non-distributed server environment, in which just physical wiring up servers and API Server would work(i.e. ongoing HTTP Request), how would I go about it, do you have any clue by any chance? Thanks for your time for the response; I&#39;m grateful. @dwgaon"}, {"owner": {"reputation": 418, "user_id": 6246834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57de0f12e63d48466fc6610efa6c2cf?s=128&d=identicon&r=PG", "display_name": "dwagon", "link": "https://stackoverflow.com/users/6246834/dwagon"}, "edited": false, "score": 0, "creation_date": 1555085500, "post_id": 55622092, "comment_id": 98000111, "body": "Sorry, I don&#39;t understand your comment. How to initiate a http request? I would highly recommend looking at <a href=\"http://docs.python-requests.org/en/master/\" rel=\"nofollow noreferrer\">docs.python-requests.org/en/master</a>"}], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 3777839, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1552277125/picture?type=large", "display_name": "meesinlid", "link": "https://stackoverflow.com/users/3777839/meesinlid"}, "edited": false, "score": 0, "creation_date": 1554936293, "post_id": 55622223, "comment_id": 97937572, "body": "Thank you for the idea. I set up cron jobs with short python scripts to fetch twitter data every day- I forgot that even existed. Thank you- I was looking more into how I could set up an ongoing connection between a local DB and the Server, or that there is no way for such and I have to make &#39;reactive&#39; calls every time I need the data from DB."}], "tags": [], "owner": {"reputation": 175, "user_id": 11341426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7112efb36292ab916ada36f1cd0e267?s=128&d=identicon&r=PG&f=1", "display_name": "Sflagg", "link": "https://stackoverflow.com/users/11341426/sflagg"}, "is_accepted": true, "score": 2, "last_activity_date": 1554935831, "creation_date": 1554935831, "answer_id": 55622223, "question_id": 55622092, "link": "https://stackoverflow.com/questions/55622092/how-do-i-fetch-data-from-api-in-flask/55622223#55622223", "title": "How do I fetch data from API in Flask?", "body": "<p>You could set up a cron job to run a script at a specified interval</p>\n\n<p>Or use something like Advanced Python Scheduler\n<a href=\"https://apscheduler.readthedocs.io/en/3.0/\" rel=\"nofollow noreferrer\">https://apscheduler.readthedocs.io/en/3.0/</a></p>\n\n<p>Advanced Python Scheduler support in Flask\n<a href=\"https://github.com/viniciuschiele/flask-apscheduler\" rel=\"nofollow noreferrer\">https://github.com/viniciuschiele/flask-apscheduler</a></p>\n"}], "owner": {"reputation": 441, "user_id": 3777839, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1552277125/picture?type=large", "display_name": "meesinlid", "link": "https://stackoverflow.com/users/3777839/meesinlid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "accepted_answer_id": 55622223, "answer_count": 1, "score": 0, "last_activity_date": 1554951813, "creation_date": 1554934774, "last_edit_date": 1554951813, "question_id": 55622092, "link": "https://stackoverflow.com/questions/55622092/how-do-i-fetch-data-from-api-in-flask", "title": "How do I fetch data from API in Flask?", "body": "<p>I'm trying to set up a Flask API Server from which I can data from local database via an ongoing HTTP Request to another database. </p>\n\n<p>In the local code, I run a thread that is running and updating the local DB every 1 minute. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>app = Flask(__name__)\n\ncached_event_log = None\n@app.route('/event_log', methods=['GET'])\ndef get_event_log():\n    if cached_event_log != None and .get_latest_event_time == cached_event_log[-1]:\n        return jsonify(cached_event_log)\n    #MAKE CONNECTION TO DB AND GET THE DATA\n    return jsonify(event_log)\n\nif(__name__ == '__main__'):\n    app.run(Debug=True)\n</code></pre>\n\n<p>I'm struggling to find a \"standard\" way to set up A request. </p>\n\n<p>Any opinion would be highly appreciated- Thank you,</p>\n"}, {"tags": ["python", "sleep", "sys"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 1, "creation_date": 1554934754, "post_id": 55622076, "comment_id": 97937136, "body": "You&#39;re missing a <code>)</code>"}, {"owner": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 2, "creation_date": 1554935052, "post_id": 55622076, "comment_id": 97937248, "body": "Is there any particular reason you&#39;re doing this with Python instead of just configuring your OS to do the same? Is this a learning exercise? For &quot;real world&quot; use your OS can probably do a much better job."}, {"owner": {"reputation": 13, "user_id": 11167984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6kSehYq-xOc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZs8iolzG4spLw54jyNCvCqQCmUA/mo/photo.jpg?sz=128", "display_name": "Andreas", "link": "https://stackoverflow.com/users/11167984/andreas"}, "reply_to_user": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1554964298, "post_id": 55622076, "comment_id": 97944104, "body": "@SLaks well, that&#39;s a stupid mistakethznks for pointing it out"}, {"owner": {"reputation": 13, "user_id": 11167984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6kSehYq-xOc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZs8iolzG4spLw54jyNCvCqQCmUA/mo/photo.jpg?sz=128", "display_name": "Andreas", "link": "https://stackoverflow.com/users/11167984/andreas"}, "reply_to_user": {"reputation": 91789, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1554964390, "post_id": 55622076, "comment_id": 97944143, "body": "@Chris I wanted something that put pc into sleep after I entered the amount of time for when i&#39;m watching Netfllix from far away, since the screen is big enough. I tried python since I&#39;m learning the language."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11167984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6kSehYq-xOc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZs8iolzG4spLw54jyNCvCqQCmUA/mo/photo.jpg?sz=128", "display_name": "Andreas", "link": "https://stackoverflow.com/users/11167984/andreas"}, "edited": false, "score": 1, "creation_date": 1554966165, "post_id": 55622142, "comment_id": 97944938, "body": "I&#39;d like to add some &#39;int()&#39;  <code>int(sys.argv[1]) if(len(sys.argv) == 2) else (int(sys.argv[2])+60*int(sys.argv[1]))</code>"}, {"owner": {"reputation": 2619, "user_id": 6282576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T81mu.jpg?s=128&g=1", "display_name": "Amir A. Shabani", "link": "https://stackoverflow.com/users/6282576/amir-a-shabani"}, "reply_to_user": {"reputation": 13, "user_id": 11167984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6kSehYq-xOc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZs8iolzG4spLw54jyNCvCqQCmUA/mo/photo.jpg?sz=128", "display_name": "Andreas", "link": "https://stackoverflow.com/users/11167984/andreas"}, "edited": false, "score": 0, "creation_date": 1554971904, "post_id": 55622142, "comment_id": 97947960, "body": "@Andreas You&#39;re right, that&#39;s actually needed. Updated it."}], "tags": [], "owner": {"reputation": 2619, "user_id": 6282576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T81mu.jpg?s=128&g=1", "display_name": "Amir A. Shabani", "link": "https://stackoverflow.com/users/6282576/amir-a-shabani"}, "is_accepted": true, "score": 0, "last_activity_date": 1554971857, "last_edit_date": 1554971857, "creation_date": 1554935209, "answer_id": 55622142, "question_id": 55622076, "link": "https://stackoverflow.com/questions/55622076/how-do-i-put-my-laptop-into-sleepmode-after-a-given-time/55622142#55622142", "title": "How do I put my laptop into sleepmode after a given time?", "body": "<p>As <a href=\"https://stackoverflow.com/users/34397/slaks\">@SLaks</a> pointed out:</p>\n\n<blockquote>\n  <p>You're missing a <code>)</code></p>\n</blockquote>\n\n<p>However, I see something very odd in your code, and that's this part of the code:</p>\n\n<pre><code>counter = 0\nfor x in sys.argv:\n    counter+= 1\n\nif counter== 2:\n    seconds = sys.argv[1]\n\nelse:\n    seconds =  sys.argv[2]+60*sys.argv[1]\n</code></pre>\n\n<p>You don't need to loop through <code>sys.argv</code> to find out its <strong>length</strong>, you can use<code>len()</code>!</p>\n\n<p>Like this:</p>\n\n<pre><code>seconds = int(sys.argv[1]) if(len(sys.argv) == 2) else (int(sys.argv[2])+60*int(sys.argv[1]))\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11167984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6kSehYq-xOc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZs8iolzG4spLw54jyNCvCqQCmUA/mo/photo.jpg?sz=128", "display_name": "Andreas", "link": "https://stackoverflow.com/users/11167984/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 55622142, "answer_count": 1, "score": 1, "last_activity_date": 1554971857, "creation_date": 1554934661, "last_edit_date": 1554937546, "question_id": 55622076, "link": "https://stackoverflow.com/questions/55622076/how-do-i-put-my-laptop-into-sleepmode-after-a-given-time", "title": "How do I put my laptop into sleepmode after a given time?", "body": "<p>So I'm writing this code to put my laptop in sleep mode after a given amount of time. Weird thing is, when the program wants to execute the last line of code it points out that there's a syntax error at <code>os</code>.</p>\n\n<p>I've tried putting a simple instead print command (as a test) that also ends up as a syntax error.  I've tried the command inside <code>os.system()</code> directly and that works.</p>\n\n<p>The python version I use is 3.7.2.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import time\nimport sys\nimport os\ncounter = 0\nfor x in sys.argv:\n    counter+= 1\n\nif counter== 2:\n    seconds = sys.argv[1]\n\nelse:\n    seconds =  sys.argv[2]+60*sys.argv[1]\ntime.sleep(int(seconds)\nos.system('Rundll32.exe Powrprof.dll,SetSuspendState Sleep')\n</code></pre>\n\n<p>I expect the script to put my PC into sleep mode after x seconds or after x minutes, y seconds (dependent on parameters).</p>\n\n<p>This is how I enter the command in CMD:</p>\n\n<pre><code>python file.py x (y)\n</code></pre>\n\n<p>Yes I'm in the correct folder to do so.</p>\n"}, {"tags": ["python", "django", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6663701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_uvvqrakus/AAAAAAAAAAI/AAAAAAAAAoE/CWA_Bbmv0Ys/photo.jpg?sz=128", "display_name": "Ateet Patel", "link": "https://stackoverflow.com/users/6663701/ateet-patel"}, "edited": false, "score": 0, "creation_date": 1554990439, "post_id": 55622260, "comment_id": 97959294, "body": "When I have sep = &#39;   &#39;, I get an error &quot;cannot use a string pattern on a bytes-like object&quot;.  When I have sep = &#39;\\s+&#39;, the warning is &quot;Anomalous backslash in string: &#39;\\s&#39;. String constant might be missing an r prefix&quot; and it gives me an empty DataFrame"}, {"owner": {"reputation": 1921, "user_id": 2774479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2bab71cc0f29ccd31aa1f4ac3b5525af?s=128&d=identicon&r=PG", "display_name": "prooffreader", "link": "https://stackoverflow.com/users/2774479/prooffreader"}, "reply_to_user": {"reputation": 31, "user_id": 6663701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_uvvqrakus/AAAAAAAAAAI/AAAAAAAAAoE/CWA_Bbmv0Ys/photo.jpg?sz=128", "display_name": "Ateet Patel", "link": "https://stackoverflow.com/users/6663701/ateet-patel"}, "edited": false, "score": 0, "creation_date": 1554993334, "post_id": 55622260, "comment_id": 97961330, "body": "When you use a backslash in a regex, you need to use raw text, i.e. sep=r&#39;\\s+&#39;"}, {"owner": {"reputation": 1921, "user_id": 2774479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2bab71cc0f29ccd31aa1f4ac3b5525af?s=128&d=identicon&r=PG", "display_name": "prooffreader", "link": "https://stackoverflow.com/users/2774479/prooffreader"}, "reply_to_user": {"reputation": 31, "user_id": 6663701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_uvvqrakus/AAAAAAAAAAI/AAAAAAAAAoE/CWA_Bbmv0Ys/photo.jpg?sz=128", "display_name": "Ateet Patel", "link": "https://stackoverflow.com/users/6663701/ateet-patel"}, "edited": false, "score": 0, "creation_date": 1554993488, "post_id": 55622260, "comment_id": 97961462, "body": "As for your bytest-like object, that sounds like you haven&#39;t decoded your file into text format."}, {"owner": {"reputation": 31, "user_id": 6663701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_uvvqrakus/AAAAAAAAAAI/AAAAAAAAAoE/CWA_Bbmv0Ys/photo.jpg?sz=128", "display_name": "Ateet Patel", "link": "https://stackoverflow.com/users/6663701/ateet-patel"}, "edited": false, "score": 0, "creation_date": 1555000360, "post_id": 55622260, "comment_id": 97965738, "body": "Can you tell me how to decode my file into text format? When I type csv_filepath.read(), the class type is &#39;bytes.&#39;"}], "tags": [], "owner": {"reputation": 1921, "user_id": 2774479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2bab71cc0f29ccd31aa1f4ac3b5525af?s=128&d=identicon&r=PG", "display_name": "prooffreader", "link": "https://stackoverflow.com/users/2774479/prooffreader"}, "is_accepted": false, "score": 0, "last_activity_date": 1554936089, "creation_date": 1554936089, "answer_id": 55622260, "question_id": 55622073, "link": "https://stackoverflow.com/questions/55622073/import-data-from-a-text-file-into-a-pandas-dataframe/55622260#55622260", "title": "Import data from a text file into a pandas dataframe", "body": "<p>This works on the data you provided and gives you the dataframe you expect:</p>\n\n<pre><code>df = pd.read_csv(csv_filepath, sep='  ', header=None, \n                 names=['col1', 'col2', 'col3'], skiprows=2, engine='python')\n</code></pre>\n\n<p>Because <code>sep</code> is more than one character, you need to use the python engine instead of the C engine. The python engine sometimes has trouble with quotes, but you don't have any, so that's fine. You actually don't even need to specify the python engine, it will be selected automatically for you, but you'll get a warning to stderr; specifying the engine suppresses that.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 6663701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_uvvqrakus/AAAAAAAAAAI/AAAAAAAAAoE/CWA_Bbmv0Ys/photo.jpg?sz=128", "display_name": "Ateet Patel", "link": "https://stackoverflow.com/users/6663701/ateet-patel"}, "edited": false, "score": 0, "creation_date": 1554990454, "post_id": 55622445, "comment_id": 97959313, "body": "When I have sep = &#39;   &#39;, I get an error &quot;cannot use a string pattern on a bytes-like object&quot;.  When I have sep = &#39;\\s+&#39;, the warning is &quot;Anomalous backslash in string: &#39;\\s&#39;. String constant might be missing an r prefix&quot; and it gives me an empty DataFrame"}, {"owner": {"reputation": 133, "user_id": 3082461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDWUs.jpg?s=128&g=1", "display_name": "rhn89", "link": "https://stackoverflow.com/users/3082461/rhn89"}, "reply_to_user": {"reputation": 31, "user_id": 6663701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_uvvqrakus/AAAAAAAAAAI/AAAAAAAAAoE/CWA_Bbmv0Ys/photo.jpg?sz=128", "display_name": "Ateet Patel", "link": "https://stackoverflow.com/users/6663701/ateet-patel"}, "edited": false, "score": 0, "creation_date": 1555024389, "post_id": 55622445, "comment_id": 97974976, "body": "Try using separator = r&#39;\\s+&#39;. If that doesn&#39;t work, can you please post the complete code that you&#39;re using to read the file and the file as well? Ideally, you should not get such an error."}, {"owner": {"reputation": 31, "user_id": 6663701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_uvvqrakus/AAAAAAAAAAI/AAAAAAAAAoE/CWA_Bbmv0Ys/photo.jpg?sz=128", "display_name": "Ateet Patel", "link": "https://stackoverflow.com/users/6663701/ateet-patel"}, "edited": false, "score": 0, "creation_date": 1555078886, "post_id": 55622445, "comment_id": 97996206, "body": "thanks! it worked.  I had to import re. That was the mistake"}], "tags": [], "owner": {"reputation": 133, "user_id": 3082461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDWUs.jpg?s=128&g=1", "display_name": "rhn89", "link": "https://stackoverflow.com/users/3082461/rhn89"}, "is_accepted": false, "score": 0, "last_activity_date": 1554937284, "creation_date": 1554937284, "answer_id": 55622445, "question_id": 55622073, "link": "https://stackoverflow.com/questions/55622073/import-data-from-a-text-file-into-a-pandas-dataframe/55622445#55622445", "title": "Import data from a text file into a pandas dataframe", "body": "<p>You had almost the right approach in your description point #2. Also, my answer just adds regex as separator to @prooffreader's answer as it will make the statement less error prone.</p>\n\n<pre><code> df = pd.read_csv('file_path', sep=\"\\s+\",header=None, \n                    names=['col1', 'col2','col3'], skiprows=2)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6663701, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_uvvqrakus/AAAAAAAAAAI/AAAAAAAAAoE/CWA_Bbmv0Ys/photo.jpg?sz=128", "display_name": "Ateet Patel", "link": "https://stackoverflow.com/users/6663701/ateet-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3089, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1554937284, "creation_date": 1554934658, "question_id": 55622073, "link": "https://stackoverflow.com/questions/55622073/import-data-from-a-text-file-into-a-pandas-dataframe", "title": "Import data from a text file into a pandas dataframe", "body": "<p>I'm building a web app using Django.  I uploaded a text file using </p>\n\n<p>csv_file = request.FILES['file'].</p>\n\n<p>I can't read the csv into pandas.  The file that i'm trying to import has text and data, but I only want the data.  </p>\n\n<p>I've tried the following</p>\n\n<ol>\n<li>df = pd.read_csv(csv_file, sep=\" \", header=None, names=[\"col1\",\"col2\",\"col3\"], skiprows = 2) to try to remove the comments and just read the numbers</li>\n</ol>\n\n<p>Error: pandas will not read all 3 columns.  It only reads 1 column</p>\n\n<ol start=\"2\">\n<li>I tried df = pd.read_csv(csv_file, sep=\"\\s{2}\", sep=\" \", header=None, names=[\"col1\",\"col2\",\"col3\"], skiprows = 2) to try to remove the comments and just read the numbers</li>\n</ol>\n\n<p>Error: cannot use a string pattern on a bytes-like object</p>\n\n<ol start=\"3\">\n<li>I tried df = pd.read_csv(csv_file.read(), sep=\" \", header=None, names=[\"col1\",\"col2\",\"col3\"], skiprows = 2) to try to remove the comments and just read the numbers</li>\n</ol>\n\n<p>File I uploaded</p>\n\n<pre><code>% filename\n% username\n2.0000  117.441  -0.430\n2.0100  117.499  -0.337\n2.0200  117.557  -0.246\n2.0300  117.615  -0.157\n2.0400  117.672  -0.069\n</code></pre>\n\n<p>views.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def new_measurement(request, pk):\n    material = Material.objects.get(pk=pk)\n    if request.method == 'POST':\n        form = NewTopicForm(request.POST)\n        if form.is_valid():\n            topic = form.save(commit=False)\n            topic.material = material\n            topic.message=form.cleaned_data.get('message')\n            csv_file = request.FILES['file']\n            df = genDataFrame(csv_file)\n            topic.data = df\n            topic.created_by = request.user\n            topic.save()\n            return redirect('topic_detail', pk =  material.pk)\n    else:\n        form = NewTopicForm()\n    return render(request, 'new_topic.html', {'material': material, 'form': form})\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>def genDataFrame(csv_file):\n    df = pd.read_csv(csv_file, sep=\" \", header=None, names=[\"col1\",\"col2\",\"col3\"])\n    df = df.convert_objects(convert_numeric=True)\n    df = df.dropna()\n    df = df.reset_index(drop = True)\n    return df_list\n</code></pre>\n\n<p>I want to get a dataframe like </p>\n\n<pre><code>col1   col2     col3\n2.0000  117.441  -0.430\n2.0100  117.499  -0.337\n2.0200  117.557  -0.246\n2.0300  117.615  -0.157\n2.0400  117.672  -0.069\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "scikit-learn"], "answers": [{"tags": [], "owner": {"reputation": 921, "user_id": 7802894, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/434ec03e17b113ba9a252b1c8ca09ee8?s=128&d=identicon&r=PG&f=1", "display_name": "Yohann L.", "link": "https://stackoverflow.com/users/7802894/yohann-l"}, "is_accepted": false, "score": 3, "last_activity_date": 1573224272, "creation_date": 1573224272, "answer_id": 58768720, "question_id": 55622067, "link": "https://stackoverflow.com/questions/55622067/plot-f1-for-a-specific-class-with-sklearns-learning-curve-rather-than-the-wei/58768720#58768720", "title": "Plot f1 for a specific class with sklearn&#39;s learning_curve() rather than the weighted f1 scores", "body": "<h2>For a binary classification</h2>\n\n<p>You can set a custom scorer to <code>learning_curve</code> using the <code>scoring</code> param. From doc:</p>\n\n<blockquote>\n  <p><strong>scoring : string, callable or None, optional, default: None</strong></p>\n  \n  <p>A string (see model evaluation documentation) or a scorer callable object / function with signature scorer(estimator, X, y).</p>\n</blockquote>\n\n<p>Also, <code>sklearn.metrics.f1_score</code> function doc say:</p>\n\n<blockquote>\n  <p><strong>pos_label : str or int, 1 by default</strong></p>\n  \n  <p>The class to report if\n  average='binary' and the data is binary. If the data are multiclass or\n  multilabel, this will be ignored; setting labels=[pos_label] and\n  average != 'binary' will report scores for that label only.</p>\n  \n  <p><strong>average : string, [None, \u2018binary\u2019 (default), \u2018micro\u2019, \u2018macro\u2019,\n  \u2018samples\u2019, \u2018weighted\u2019]</strong> </p>\n  \n  <p>This parameter is required for\n  multiclass/multilabel targets. If None, the scores for each class are\n  returned. Otherwise, this determines the type of averaging performed\n  on the data:</p>\n  \n  <p><code>'binary'</code>: Only report results for the class specified by pos_label.\n  This is applicable only if targets (y_{true,pred}) are binary.</p>\n</blockquote>\n\n<p>Thus, you can do this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from sklearn.model_selection import learning_curve\nfrom sklearn.metrics import f1_score, make_scorer\n\n# Custom scorer\ntarget = 0 # class you want to plot\nscorer = make_scorer(lambda y_true, y_pred: f1_score(\n    y_true, y_pred, \n    labels=None, \n    pos_label=target, \n    average='binary', \n    sample_weight=None))\n\ntrain_sizes, train_scores, test_scores = learning_curve(\n    estimator, \n    X, \n    y, \n    cv=cv,\n    scoring=scorer)\n</code></pre>\n"}], "owner": {"reputation": 6929, "user_id": 4909076, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/73808a90d5413f6f9dfd6e4090c02bda?s=128&d=identicon&r=PG&f=1", "display_name": "tim_xyz", "link": "https://stackoverflow.com/users/4909076/tim-xyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1573224272, "creation_date": 1554934620, "question_id": 55622067, "link": "https://stackoverflow.com/questions/55622067/plot-f1-for-a-specific-class-with-sklearns-learning-curve-rather-than-the-wei", "title": "Plot f1 for a specific class with sklearn&#39;s learning_curve() rather than the weighted f1 scores", "body": "<p>When plotting a learning curve with <code>sklearn.model_selection.learning_curve()</code> on a boolean supervised classifier, it defaults to displaying the weighted f1 score.</p>\n\n<p>But I'd like to plot the f1 score for a specific class. In this case the positive (aka: 1) class.</p>\n\n<p>In the context of below (from <code>sklearn.metrics.classification_report</code>), its plotting <code>avg / total</code>, but I would like to plot metrics for the class <code>1</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qcuMY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qcuMY.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Plot</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/nWVvy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWVvy.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>...\nestimator = classifier_class()\ncv = ShuffleSplit(n_splits=10, test_size=0.2, random_state=0)\ntrain_sizes, train_scores, test_scores = learning_curve(estimator, X_recombined, y_recombined, cv=cv) # n_jobs=n_jobs, train_sizes=train_sizes\n\ntrain_scores_mean = np.mean(train_scores, axis=1)\ntrain_scores_std = np.std(train_scores, axis=1)\ntest_scores_mean = np.mean(test_scores, axis=1)\ntest_scores_std = np.std(test_scores, axis=1)\nplt.grid()\n\nplt.fill_between(train_sizes, \n                 train_scores_mean - train_scores_std,\n                 train_scores_mean + train_scores_std, \n                 alpha=0.1, color=\"r\")\n\nplt.fill_between(train_sizes, \n                 test_scores_mean - test_scores_std,\n                 test_scores_mean + test_scores_std, \n                 alpha=0.1, color=\"g\")\n\nplt.plot(train_sizes, train_scores_mean, 'o-', color=\"r\", label=\"Training score\")\n\nplt.plot(train_sizes, test_scores_mean, 'o-', color=\"g\", label=\"Cross-validation score\")\n\nplt.legend(loc=\"best\")\n</code></pre>\n\n<p>Is this possible?</p>\n"}, {"tags": ["python", "django", "python-3.x", "datatables", "django-rest-framework"], "comments": [{"owner": {"reputation": 4144, "user_id": 843999, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/jbvE2.jpg?s=128&g=1", "display_name": "Ozgur Akcali", "link": "https://stackoverflow.com/users/843999/ozgur-akcali"}, "edited": false, "score": 0, "creation_date": 1554934359, "post_id": 55621987, "comment_id": 97937002, "body": "I have no experience with datatables, but shouldn&#39;t you just wrap the url in an &lt;a&gt; tag?"}, {"owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "reply_to_user": {"reputation": 4144, "user_id": 843999, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/jbvE2.jpg?s=128&g=1", "display_name": "Ozgur Akcali", "link": "https://stackoverflow.com/users/843999/ozgur-akcali"}, "edited": false, "score": 0, "creation_date": 1554934606, "post_id": 55621987, "comment_id": 97937081, "body": "at which step in the process would that be included? if I add that into the JSON payload, I would think it would just show up as a string in the browser, &lt;a&gt; tags and all."}, {"owner": {"reputation": 4144, "user_id": 843999, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/jbvE2.jpg?s=128&g=1", "display_name": "Ozgur Akcali", "link": "https://stackoverflow.com/users/843999/ozgur-akcali"}, "edited": false, "score": 1, "creation_date": 1554934672, "post_id": 55621987, "comment_id": 97937101, "body": "I think you should not change anything on the API, just keep sending the url, and handle this on the client side"}], "answers": [{"tags": [], "owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "is_accepted": true, "score": 1, "last_activity_date": 1554934659, "creation_date": 1554934659, "answer_id": 55622074, "question_id": 55621987, "link": "https://stackoverflow.com/questions/55621987/urlize-drf-link/55622074#55622074", "title": "Urlize DRF Link", "body": "<p>It looks like this a job on the frontend, and you should use DataTable's <a href=\"https://datatables.net/reference/option/columns.render\" rel=\"nofollow noreferrer\">columns.render</a> feature.</p>\n\n<p>Example:</p>\n\n<pre><code>var responseObj = [\n    { \"information\": \"A1\", \"weblink\": \"http://www.microsoft.com\" },\n    { \"information\": \"A2\", \"weblink\": \"http://www.yahoo.com\" },\n    { \"information\": \"A3\", \"weblink\": \"http://www.google.com\" },\n    { \"information\": \"A4\", \"weblink\": \"http://www.duckduckgo.com\" }\n];\n\n$('#example').dataTable({\n   \"data\": responseObj,\n   \"columns\": [\n      { \"data\": \"information\" }, \n      { \n         \"data\": \"weblink\",\n         \"render\": function(data, type, row, meta){\n            if(type === 'display'){\n                data = '&lt;a href=\"' + data + '\"&gt;' + data + '&lt;/a&gt;';\n            }\n\n            return data;\n         }\n      } \n   ]\n});\n</code></pre>\n"}], "owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 55622074, "answer_count": 1, "score": 3, "last_activity_date": 1554934659, "creation_date": 1554934134, "question_id": 55621987, "link": "https://stackoverflow.com/questions/55621987/urlize-drf-link", "title": "Urlize DRF Link", "body": "<p>I have a DRF serializer:</p>\n\n<pre><code>class ActivitySerializer(serializers.ModelSerializer):\n    link = serializers.CharField(source='get_analytic_link', allow_null=True)\n    class Meta:\n        model = Activity\n        fields = ['link',]\n</code></pre>\n\n<p>In the browsable API, the links are clickable. However, when they are served up to a DataTable via a JSON endpoint, they are (predictably) not clickable. In plain Django, I would do something like this:</p>\n\n<pre><code>&lt;td&gt;{{ activity.get_analytic_link|urlize }}&lt;/td&gt;\n</code></pre>\n\n<p>How could I replicate that behavior in DRF so that links are clickable?</p>\n"}, {"tags": ["python", "database", "flask", "radio-button", "pymssql"], "comments": [{"owner": {"reputation": 1697, "user_id": 10906068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394ab66161cce95d069d970a4d1f53ea?s=128&d=identicon&r=PG&f=1", "display_name": "Nancy Mooree", "link": "https://stackoverflow.com/users/10906068/nancy-mooree"}, "edited": false, "score": 0, "creation_date": 1554969256, "post_id": 55621969, "comment_id": 97946526, "body": "honestly this looks like asking us to work on your project which is not obtainable"}, {"owner": {"reputation": 11, "user_id": 11342312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcacd711035c2c34b385cb44c0b060c?s=128&d=identicon&r=PG&f=1", "display_name": "Gary8877", "link": "https://stackoverflow.com/users/11342312/gary8877"}, "reply_to_user": {"reputation": 1697, "user_id": 10906068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394ab66161cce95d069d970a4d1f53ea?s=128&d=identicon&r=PG&f=1", "display_name": "Nancy Mooree", "link": "https://stackoverflow.com/users/10906068/nancy-mooree"}, "edited": false, "score": 0, "creation_date": 1555001452, "post_id": 55621969, "comment_id": 97966270, "body": "Just need some guidance on how to populate values into the radio buttons from the database. And how to get the changed values to save into the same db table."}, {"owner": {"reputation": 1697, "user_id": 10906068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394ab66161cce95d069d970a4d1f53ea?s=128&d=identicon&r=PG&f=1", "display_name": "Nancy Mooree", "link": "https://stackoverflow.com/users/10906068/nancy-mooree"}, "edited": false, "score": 0, "creation_date": 1555003100, "post_id": 55621969, "comment_id": 97967086, "body": "ok. I will try to help if time allow me. may be in 3-4 hours from now."}, {"owner": {"reputation": 11, "user_id": 11342312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcacd711035c2c34b385cb44c0b060c?s=128&d=identicon&r=PG&f=1", "display_name": "Gary8877", "link": "https://stackoverflow.com/users/11342312/gary8877"}, "reply_to_user": {"reputation": 1697, "user_id": 10906068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/394ab66161cce95d069d970a4d1f53ea?s=128&d=identicon&r=PG&f=1", "display_name": "Nancy Mooree", "link": "https://stackoverflow.com/users/10906068/nancy-mooree"}, "edited": false, "score": 0, "creation_date": 1555003579, "post_id": 55621969, "comment_id": 97967296, "body": "Thanks a lot! Much appreciated."}], "owner": {"reputation": 11, "user_id": 11342312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcacd711035c2c34b385cb44c0b060c?s=128&d=identicon&r=PG&f=1", "display_name": "Gary8877", "link": "https://stackoverflow.com/users/11342312/gary8877"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 751, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554944084, "creation_date": 1554934024, "last_edit_date": 1554944084, "question_id": 55621969, "link": "https://stackoverflow.com/questions/55621969/read-save-radiobuttons-from-database-in-python-flask-webpage", "title": "Read Save RadioButtons from Database in Python Flask Webpage", "body": "<p>I am new to Python, Flask &amp; HTML. I have a SQL Server table Products that contains DeptManager, Product &amp; SellStatus (which could be yes, no or not sure). Table Structure: </p>\n\n<pre><code>[ManagerGUID], [ManagerName], [ProductName], [SellStatus]\n------------------------------------------------------------\n[wqew-2324-4543], [Sandy],[Sony 55 inch TV], [Not Sure]\n\n[wqea-1324-4533], [Sandy],[Sony 65 inch TV], [Yes]\n\n[wqev-2354-4523], [Sandy],[LG 55 inch TV], [No]\n\n[wqsd-2124-4573], [Andy],[LG Stove], [Not Sure]\n\n[wafw-2374-4548], [Andy],[Kitchen Aid Fridge], [Yes]\n</code></pre>\n\n<p>I need to create a web page for each department manager, where they see a list of their own products and they can choose if they still sell the product or not and change the status if needed.</p>\n\n<p>So basically I need to generate a radio button from values in the database table column - a radio button group per row with values yes, no and not sure. It should read the current product and populate current sellstatus value in the radio button group for each product from the database table and then when the department manager chooses different values and clicks Submit, it should insert new values in the same table. </p>\n\n<p>I was able to create a webpage that can display product names and radio buttons. But I couldn't read the radio button values from the database table.</p>\n\n<h2>Python Code:</h2>\n\n<pre><code>    from flask import Flask, render_template, session, redirect, url_for, request\n\n    import pymssql\n\nfrom flask_wtf import FlaskForm\n\n    from wtforms import Form, validators, RadioField, SelectField, SubmitField\n\n    from wtforms.validators import data_required\n\n    app = Flask(__name__)\n\n    app.config['SECRET_KEY'] = 'mykey'\n\n    class InfoForm(FlaskForm):\n        SellStatus = RadioField('', choices=[('Yes', 'Yes'), ('No', 'No'), ('Not Sure', 'Not Sure')])\n        Submit = SubmitField('Submit')\n\n    @app.route('/&lt;BGUID&gt;', methods=['POST', 'GET'])\n\n    def index(BGUID):\n       #option = request.form['options']\n       conn = pymssql.connect(server='MySQLServer', user='MyUsr', password='MyPaswd', database='MySQLDB')\n\n       cursor = conn.cursor()\n\n       cursor.execute('SELECT [ManagerName], [ProductName], [SellStatus] FROM [dbo].[ProductStatus] WHERE b.[ManagerGuid] = %s', BGUID)\n\n       data = cursor.fetchall()\n\n       conn.close()\n\n       form = InfoForm()\n\n       if request.method =='GET':\n        return render_template('basic.html', data = data, form = form)\n\n    if __name__ == '__main__':\n\n        app.run(debug=True)\n</code></pre>\n\n<hr>\n\n<h2>HTML Code:</h2>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" dir = \"ltr\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h2&gt;Do you still sell these products?&lt;/h2&gt;\n        &lt;form method = \"post\"&gt;\n        {{form.hidden_tag()}}\n        {% for item in data %}\n        &lt;tr&gt;\n         &lt;td&gt;{{item[1]}}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n         &lt;td&gt;\n            &lt;input type=\"radio\" name=\"ss_{{loop.index}}\" value=\"Yes\" checked&gt; Yes &amp;nbsp;&amp;nbsp;&amp;nbsp;\n            &lt;input type=\"radio\" name=\"ss_{{loop.index}}\" value=\"No\"&gt; No &amp;nbsp;&amp;nbsp;&amp;nbsp;\n            &lt;input type=\"radio\" name=\"ss_{{loop.index}}\" value=\"Not Sure\"&gt; Not Sure &amp;nbsp;&amp;nbsp;&amp;nbsp;\n        &lt;/td&gt;\n        &lt;br&gt;&lt;br&gt;\n    &lt;/tr&gt;\n    {% endfor %}\n    {{form.Submit()}}\n    &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I am currently getting a list of products for a particular manager with radio buttons, all defaulted to Yes. E.g.</p>\n\n<p>Do you still sell these products?</p>\n\n<p>Sony 55' TV                           (x)Yes  ()No  ()Not Sure</p>\n\n<p>Panasonic 55' TV                      (x)Yes  ()No  ()Not Sure</p>\n\n<p>LG DVD Player                         (x)Yes  ()No  ()Not Sure</p>\n\n<p>.............</p>\n\n<p>.............</p>\n\n<p>But I need to read these from the table and I so far couldn't figure out how to link the values with the table. And when the user clicks Submit, update the new values in the table. Please help. Thanks in advance!</p>\n"}, {"tags": ["python", "button", "tkinter", "transparent"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 11030071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q38oi.jpg?s=128&g=1", "display_name": "Vaggelis Karof", "link": "https://stackoverflow.com/users/11030071/vaggelis-karof"}, "edited": false, "score": 0, "creation_date": 1554972279, "post_id": 55622093, "comment_id": 97948159, "body": "Thank u for ur response. I tried your solution but when i run it, appears a blank tk window and only if i close it, appears my original background - window. The prints of clicks works only in the first window (tk), not on mine.  Here&#39;s my <a href=\"https://github.com/vkarof/Kiosk/blob/master/test_1\" rel=\"nofollow noreferrer\">code</a>"}, {"owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "reply_to_user": {"reputation": 7, "user_id": 11030071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q38oi.jpg?s=128&g=1", "display_name": "Vaggelis Karof", "link": "https://stackoverflow.com/users/11030071/vaggelis-karof"}, "edited": false, "score": 0, "creation_date": 1555000814, "post_id": 55622093, "comment_id": 97965967, "body": "@VaggelisKarof The code I posted is an example of how to bind a mouse-click event to a tkinter object. Your code uses pygame which has a different event-binding subsystem from tkinter. I have never used pygame before but I found this (<a href=\"https://www.pygame.org/docs/ref/event.html\" rel=\"nofollow noreferrer\">pygame.org/docs/ref/event.html</a>) in the documentation. In your &quot;while not done&quot; loop, you should check the event to see if it is a &quot;pygame.MOUSEBUTTONDOWN&quot; or &quot;pygame.MOUSEBUTTONUP&quot; (depending on what kind of behavior you want). If it is, get the position with &quot;pos = pygame.mouse.get_pos()&quot;. Try going from there."}, {"owner": {"reputation": 7, "user_id": 11030071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q38oi.jpg?s=128&g=1", "display_name": "Vaggelis Karof", "link": "https://stackoverflow.com/users/11030071/vaggelis-karof"}, "edited": false, "score": 0, "creation_date": 1555001214, "post_id": 55622093, "comment_id": 97966155, "body": "I use pygame because i didn&#39;t knew how to build my app, and i have used pygame on a project before. Can i write my whole app with tkinter, without pygame? My app concerns a kiosk project. Sorry but i&#39;m new in programming:("}, {"owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "reply_to_user": {"reputation": 7, "user_id": 11030071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q38oi.jpg?s=128&g=1", "display_name": "Vaggelis Karof", "link": "https://stackoverflow.com/users/11030071/vaggelis-karof"}, "edited": false, "score": 0, "creation_date": 1555002964, "post_id": 55622093, "comment_id": 97967023, "body": "Again, I&#39;ve never used pygame in my life so take my answer with a grain of salt -- If your app allows the user to interact by pressing buttons only then I would  use tkinter. If there are any animation aspects or things that could be considered gameplay, I would use pygame. I edited my previous answer to include loading an image into a tkinter canvas."}], "tags": [], "owner": {"reputation": 2142, "user_id": 3308951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUOnA.png?s=128&g=1", "display_name": "SyntaxVoid supports Monica", "link": "https://stackoverflow.com/users/3308951/syntaxvoid-supports-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1555002707, "last_edit_date": 1555002707, "creation_date": 1554934778, "answer_id": 55622093, "question_id": 55621962, "link": "https://stackoverflow.com/questions/55621962/how-to-add-transparent-buttons-on-an-already-existing-background-in-python/55622093#55622093", "title": "How to add transparent buttons on an already existing background in Python?", "body": "<p>Since you say your background already has the look of a button, you don't need to add an additional button. Instead, you should determine the coordinates of the bounding rectangle for each 'pseudo-button' and then create event bindings that will perform actions if the user clicks within those bounds. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Rectangle:\n    def __init__(self, x1, y1, x2, y2):\n        # (x1, y1) is the upper left point of the rectangle\n        # (x2, y2) is the lower right point of the rectangle\n        self.x1 = x1\n        self.y1 = y1\n        self.x2 = x2\n        self.y2 = y2\n        return\n\n    def contains(self, newx, newy):\n        # Will return true if the point (newx, newy) lies within the rectangle.\n        # False otherwise.\n        return (self.x1 &lt;= newx &lt;= self.x2) and (self.y1 &lt;= newy &lt;= self.y2) \n\n\ntry:\n    import tkinter as tk\nexcept:\n    import Tkinter as tk\nfrom PIL import ImageTK, Image\n\n\ndef button_click(event):\n    # The location of the click is stored in event sent by tkinter\n    # and can be accessed like:\n    print(\"You clicked ({}, {})\".format(event.x, event.y))\n\n    ## Now that you're in here, you can determine if the user clicked\n    ## inside one of your buttons. If they did, perform the action that\n    ## you want. For example, I've created two rectangle objects which\n    ## simulate the location of some.\n\n    button1_rect = Rectangle( 100, 100, 200, 200 )\n    button2_rect = Rectangle( 300, 300, 400, 400 )\n    # Change the rectangles to reflect your own button locations.\n\n    if button1_rect.contains(event.x, event.y):\n        print(\"You clicked button number 1!\")\n\n    if button2_rect.contains(event.x, event.y):\n        print(\"You clicked button number 2!\")\n\n\n    return\n\nroot = tk.Tk()\ncanvas = tk.Canvas(master = root, height = 500, width = 500)\n\ncanvas.bind(\"&lt;Button-1&gt;\", button_click)\n# The above command means whenever &lt;Button-1&gt; (left mouse button) is clicked\n# within your canvas, the button_click function will be called. \n\ncanvas.pack()\nyour_background = ImageTK.PhotoImage(Image.open(\"info_screen.png\")) # &lt;-- Or whatever image you want...\ncanvas.create_image(20, 20, image = your_background)\n# 20, 20 represents the top left corner for where your image will be placed\n\nroot.mainloop()\n</code></pre>\n\n<p>Run that and click around while watching your console</p>\n\n<p>Read more about binding to tkinter events here: <a href=\"https://effbot.org/tkinterbook/tkinter-events-and-bindings.html\" rel=\"nofollow noreferrer\">https://effbot.org/tkinterbook/tkinter-events-and-bindings.html</a></p>\n"}], "owner": {"reputation": 7, "user_id": 11030071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q38oi.jpg?s=128&g=1", "display_name": "Vaggelis Karof", "link": "https://stackoverflow.com/users/11030071/vaggelis-karof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555002707, "creation_date": 1554933981, "question_id": 55621962, "link": "https://stackoverflow.com/questions/55621962/how-to-add-transparent-buttons-on-an-already-existing-background-in-python", "title": "How to add transparent buttons on an already existing background in Python?", "body": "<p>I can't find answer for my question anywhere so i decided to ask here. </p>\n\n<p>I star a Python project and i want to add some Buttons on my app's background.\nI try Tkinter but this adds a \"sub-window\" in my app's window, not a button.</p>\n\n<p>I want transparent buttons because in my background there are already graphical buttons. Each button will do a command.</p>\n"}, {"tags": ["python", "opencv", "computer-vision"], "comments": [{"owner": {"reputation": 1434, "user_id": 7212665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KrLoI.jpg?s=128&g=1", "display_name": "Demi-Lune", "link": "https://stackoverflow.com/users/7212665/demi-lune"}, "edited": false, "score": 0, "creation_date": 1554934353, "post_id": 55621959, "comment_id": 97937000, "body": "Did you try <a href=\"https://stackoverflow.com/questions/42206042/ellipse-detection-in-opencv-python\" title=\"ellipse detection in opencv python\">stackoverflow.com/questions/42206042/&hellip;</a> ? or <a href=\"https://stackoverflow.com/questions/35121045/find-cost-of-ellipse-in-opencv\" title=\"find cost of ellipse in opencv\">stackoverflow.com/questions/35121045/&hellip;</a> ?"}, {"owner": {"reputation": 1885, "user_id": 612580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c6b1f4cc860be8be4d6d6c3a361ad5c7?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/612580/jordan"}, "reply_to_user": {"reputation": 1434, "user_id": 7212665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KrLoI.jpg?s=128&g=1", "display_name": "Demi-Lune", "link": "https://stackoverflow.com/users/7212665/demi-lune"}, "edited": false, "score": 0, "creation_date": 1554937340, "post_id": 55621959, "comment_id": 97937825, "body": "@Demi-Lune see my edit in the question. Basically, those questions have nice clean shapes with clearly defined edges, and <code>findContours</code> finds nice single contours for those; that doesn&#39;t work for my messier images."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1554939102, "post_id": 55621959, "comment_id": 97938235, "body": "Find the minarearect of the black points.. It represents your ellipse"}, {"owner": {"reputation": 1885, "user_id": 612580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c6b1f4cc860be8be4d6d6c3a361ad5c7?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/612580/jordan"}, "edited": false, "score": 0, "creation_date": 1554939232, "post_id": 55621959, "comment_id": 97938275, "body": "That would only work if there were no extraneous dots outside the circle, right? That is the case for this particular image, but not universal (some images I process might have the odd dot here and there outside of the circle, even after morphology). Also, if one side of the circle was &quot;flattened&quot; (so it looked more like a &#39;D&#39;), it wouldn&#39;t fit the best ellipse, it would fit one that was smaller."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1554939593, "post_id": 55621959, "comment_id": 97938367, "body": "#1 correct, #2 the &quot;best&quot; is according to a metric... &quot;least square error&quot; and &quot;has more overlap with the boundary points&quot; produce different results"}], "answers": [{"comments": [{"owner": {"reputation": 1885, "user_id": 612580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c6b1f4cc860be8be4d6d6c3a361ad5c7?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/612580/jordan"}, "edited": false, "score": 0, "creation_date": 1556504223, "post_id": 55622846, "comment_id": 98448695, "body": "Thanks @Vu. Now, let&#39;s say the binary thresholded, morphed image is solid, but has a &quot;bulge&quot; out the side (a pointy lump sticking out). If I use <code>fitEllipse</code> on this, the bulge will affect the fit and make it more oblong, but I need a solution that maximizes the number of points fit, not the least-square. That is, it should match the contour of the shape for as many points possible."}, {"owner": {"reputation": 954, "user_id": 1635180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJZC3.jpg?s=128&g=1", "display_name": "Vu Gia Truong", "link": "https://stackoverflow.com/users/1635180/vu-gia-truong"}, "reply_to_user": {"reputation": 1885, "user_id": 612580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c6b1f4cc860be8be4d6d6c3a361ad5c7?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/612580/jordan"}, "edited": false, "score": 0, "creation_date": 1556706914, "post_id": 55622846, "comment_id": 98522421, "body": "Don&#39;t understand what&#39;re you talking about. You should add some picture to clarify your problems"}], "tags": [], "owner": {"reputation": 954, "user_id": 1635180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJZC3.jpg?s=128&g=1", "display_name": "Vu Gia Truong", "link": "https://stackoverflow.com/users/1635180/vu-gia-truong"}, "is_accepted": false, "score": 1, "last_activity_date": 1554940698, "creation_date": 1554940698, "answer_id": 55622846, "question_id": 55621959, "link": "https://stackoverflow.com/questions/55621959/opencv-fitting-a-single-circle-to-an-image-in-python/55622846#55622846", "title": "OpenCV: Fitting a single circle to an image (in Python)", "body": "<p>why don't you do thing like \"close\" then \"open\" to clear all the mess.</p>\n\n<p>Raw image :</p>\n\n<p><a href=\"https://i.stack.imgur.com/jOzif.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jOzif.png\" alt=\"Raw image\"></a></p>\n\n<p>Otsu :</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ioi4w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ioi4w.png\" alt=\"Otsu\"></a></p>\n\n<p>Close + open ; both with 7x7 kernel ; The binary image is beauty and clean now. </p>\n\n<p><a href=\"https://i.stack.imgur.com/mRihI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mRihI.png\" alt=\"Close + Open\"></a></p>\n\n<p>Only one contour is detect : </p>\n\n<p><a href=\"https://i.stack.imgur.com/Bw2DU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bw2DU.png\" alt=\"One contour\"></a></p>\n\n<p>The ellipse is as : (please not that your image is circle so ellipse should be in circle shape)</p>\n\n<p><a href=\"https://i.stack.imgur.com/cRFSv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cRFSv.png\" alt=\"Ellipse\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1885, "user_id": 612580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c6b1f4cc860be8be4d6d6c3a361ad5c7?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/612580/jordan"}, "edited": false, "score": 0, "creation_date": 1555004726, "post_id": 55623509, "comment_id": 97967859, "body": "Thank you, this worked fairly well. Say I wanted to &quot;Average&quot; the results from the <code>minBoundingRectangle</code> (specifically, the ellipse that can be inscribed within it) and the <code>fitEllipse</code> functions. How would I go about doing so?"}], "tags": [], "owner": {"reputation": 2310, "user_id": 8743494, "user_type": "registered", "profile_image": "https://graph.facebook.com/1496264937094173/picture?type=large", "display_name": "Ha Bom", "link": "https://stackoverflow.com/users/8743494/ha-bom"}, "is_accepted": true, "score": 1, "last_activity_date": 1554947034, "creation_date": 1554947034, "answer_id": 55623509, "question_id": 55621959, "link": "https://stackoverflow.com/questions/55621959/opencv-fitting-a-single-circle-to-an-image-in-python/55623509#55623509", "title": "OpenCV: Fitting a single circle to an image (in Python)", "body": "<p>If the object has circle shape, then use <code>cv2.minEnclosingCircle</code> is good. Or else, you can use <code>cv2.fitEllipse</code> to find the most fitted ellipse around the object. Remember to do find contour with white object in black background.</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimg = cv2.imread(\"1.jpg\")\n\ngray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n_,thresh = cv2.threshold(gray,0,255,cv2.THRESH_BINARY+cv2.THRESH_OTSU)\nthresh = cv2.bitwise_not(thresh)\n\nelement = cv2.getStructuringElement(shape=cv2.MORPH_RECT, ksize=(5, 5))\n\nmorph_img = thresh.copy()\ncv2.morphologyEx(src=thresh, op=cv2.MORPH_CLOSE, kernel=element, dst=morph_img)\n\ncontours,_ = cv2.findContours(morph_img,cv2.RETR_TREE,cv2.CHAIN_APPROX_SIMPLE)\n\nareas = [cv2.contourArea(c) for c in contours]\nsorted_areas = np.sort(areas)\n\n#bounding box (red)\ncnt=contours[areas.index(sorted_areas[-1])] #the biggest contour\nr = cv2.boundingRect(cnt)\ncv2.rectangle(img,(r[0],r[1]),(r[0]+r[2],r[1]+r[3]),(0,0,255),2)\n\n#min circle (green)\n(x,y),radius = cv2.minEnclosingCircle(cnt)\ncenter = (int(x),int(y))\nradius = int(radius)\ncv2.circle(img,center,radius,(0,255,0),2)\n\n#fit ellipse (blue)\nellipse = cv2.fitEllipse(cnt)\ncv2.ellipse(img,ellipse,(255,0,0),2)\n\n\ncv2.imshow(\"morph_img\",morph_img)\ncv2.imshow(\"img\", img)\ncv2.waitKey()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/aMZsH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aMZsH.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/vhuAp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vhuAp.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1885, "user_id": 612580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c6b1f4cc860be8be4d6d6c3a361ad5c7?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/612580/jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2341, "favorite_count": 1, "accepted_answer_id": 55623509, "answer_count": 2, "score": 3, "last_activity_date": 1554947034, "creation_date": 1554933968, "last_edit_date": 1554937300, "question_id": 55621959, "link": "https://stackoverflow.com/questions/55621959/opencv-fitting-a-single-circle-to-an-image-in-python", "title": "OpenCV: Fitting a single circle to an image (in Python)", "body": "<p>I have an image like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ai6Uc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ai6Uc.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need to fit an ellipse to the dark area (note: must be an ellipse, not a circle). What is the best way to do this in OpenCV? My first step so far has been to apply an adaptive (Otsu) threshold to it, which results in:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OqYy2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OqYy2.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I'm not sure where to go from there. I'm writing the app in Python, but it's more the algorithm design I'm looking for.</p>\n\n<p><strong>EDIT based on response/comment:</strong></p>\n\n<p>OK, so I have already tried the morphology. Based on the <a href=\"https://docs.opencv.org/2.4.13.7/doc/tutorials/imgproc/opening_closing_hats/opening_closing_hats.html\" rel=\"nofollow noreferrer\">OpenCV documentation</a>, I did a 3-iteration \"close\" operation on it (dilation, then erosion) to remove the small particles, which results in:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KRk0v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KRk0v.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then, to expand it back out to closerto the original shape, I did a 3-iteration \"open\" operation (erosion, then dilation), which results in:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Y2Nof.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y2Nof.png\" alt=\"enter image description here\"></a></p>\n\n<p>From here, I did Canny edge detection, which resulted in:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FT4rK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FT4rK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now, I used <code>findContours</code> on it, but ran into an issue. It found dozens of contours along the edge, each one a short segment along the circumference. Which means, even if I take the maximum size contour, it might only represent 10% of the circumference, which is insufficient to accurately fit an ellipse. This is why the other questions that @Demi-Lune suggested didn't work for me; they all have very clean, sharp edges and <code>findContours</code> finds a nice single contour that covers the entire perimiter of each shape, but that doesn't happen for my messier image. So, what's the best way to fit the ellipse from here?</p>\n"}, {"tags": ["python", "linux", "psutil"], "comments": [{"owner": {"reputation": 6567, "user_id": 1103953, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/107522343c9ed3b01cdc0d3eece92241?s=128&d=identicon&r=PG", "display_name": "RtmY", "link": "https://stackoverflow.com/users/1103953/rtmy"}, "edited": false, "score": 0, "creation_date": 1554934179, "post_id": 55621957, "comment_id": 97936947, "body": "Try this: ps -eo &#39;tty,pid,comm&#39; | grep ^?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1554934292, "post_id": 55621957, "comment_id": 97936980, "body": "@user574362, <code>ps</code> and <code>psutil</code> inspect the kernel&#39;s process table, but the kernel doesn&#39;t see systemd services as different from any other kind of process."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554934447, "post_id": 55621957, "comment_id": 97937030, "body": "...that said, if <code>psutil.pids()</code> is only showing you that minimal list, it makes me wonder if maybe you&#39;re running this code in a Docker container or other limited namespace."}, {"owner": {"reputation": 47, "user_id": 10563435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba83ef7885634c984cac01e090079a0?s=128&d=identicon&r=PG&f=1", "display_name": "user574362", "link": "https://stackoverflow.com/users/10563435/user574362"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554934461, "post_id": 55621957, "comment_id": 97937033, "body": "@CharlesDuffy I don&#39;t understand, does that mean that I can do it using psutil? also I think I got confused, what is the difference between systemd process and the normal process?"}, {"owner": {"reputation": 47, "user_id": 10563435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba83ef7885634c984cac01e090079a0?s=128&d=identicon&r=PG&f=1", "display_name": "user574362", "link": "https://stackoverflow.com/users/10563435/user574362"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554934500, "post_id": 55621957, "comment_id": 97937044, "body": "@CharlesDuffy I am currently testing it in WSL, does that change the output?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554934622, "post_id": 55621957, "comment_id": 97937088, "body": "...as for whether WSL changes your output, make sure you&#39;re comparing to <code>ps auxw</code> or similar <i>in the same environment</i> when checking whether your output from <code>psutil</code> is complete. By contrast, if <code>service</code> is a WSL-ism that lists Windows-native services, that&#39;s a very different beast."}, {"owner": {"reputation": 47, "user_id": 10563435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba83ef7885634c984cac01e090079a0?s=128&d=identicon&r=PG&f=1", "display_name": "user574362", "link": "https://stackoverflow.com/users/10563435/user574362"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554934641, "post_id": 55621957, "comment_id": 97937092, "body": "@CharlesDuffy I am sorry hehe, i was talking about psutil.pids()"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554934676, "post_id": 55621957, "comment_id": 97937103, "body": "No, the &quot;it&quot; I was asking about is whether you&#39;re trying to list only services, or if you&#39;re just trying to list <i>all</i> PIDs, inclusive of but not limited to services."}, {"owner": {"reputation": 47, "user_id": 10563435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba83ef7885634c984cac01e090079a0?s=128&d=identicon&r=PG&f=1", "display_name": "user574362", "link": "https://stackoverflow.com/users/10563435/user574362"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554934699, "post_id": 55621957, "comment_id": 97937114, "body": "@CharlesDuffy ps auxw is showing the following init ro, -bash, python script, ps auxw"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1554934714, "post_id": 55621957, "comment_id": 97937119, "body": "...also, whether you&#39;re talking about Windows services, or systemd services, or something still different from that. (The typical way to list services on modern Linux distros is <code>systemctl</code>, not <code>service</code>)"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554934759, "post_id": 55621957, "comment_id": 97937140, "body": "Okay, so the WSL view of the process tree has only those four -- meaning the other things (like Apache) that aren&#39;t shown aren&#39;t WSL-native processes. This is all in accordance with what one would typically expect, and makes your question very Windows (and WSL)-specific."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1554934803, "post_id": 55621957, "comment_id": 97937163, "body": "...which is to say, you&#39;re not really asking how to do something <i>on Linux</i>, you&#39;re asking how to do something <i>on WSL</i>, and should edit the question accordingly (or test on a <i>real</i> Linux system instead)."}, {"owner": {"reputation": 47, "user_id": 10563435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba83ef7885634c984cac01e090079a0?s=128&d=identicon&r=PG&f=1", "display_name": "user574362", "link": "https://stackoverflow.com/users/10563435/user574362"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554934977, "post_id": 55621957, "comment_id": 97937221, "body": "@CharlesDuffy I am sorry about the confusion, I mainly want to write a script that displays running services, I did easily on windows but I got confused when I tried to do it on linux because every other thread I saw suggested using actual commands, thanks for the help!!"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1554935050, "post_id": 55621957, "comment_id": 97937247, "body": "...and are you trying to make that script show <i>Windows</i> services from WSL, or show <i>Linux</i> services? If it&#39;s Linux services, the whole idea of a &quot;service&quot; depends on the init system your distro uses, so the question needs to be specific to a specific init system -- be it systemd, or runit, or upstart, or daemontools, or so forth."}, {"owner": {"reputation": 47, "user_id": 10563435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba83ef7885634c984cac01e090079a0?s=128&d=identicon&r=PG&f=1", "display_name": "user574362", "link": "https://stackoverflow.com/users/10563435/user574362"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554935159, "post_id": 55621957, "comment_id": 97937282, "body": "@CharlesDuffy Show linux services, WSL is just the environment I am using to test my code, its not specific to it"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554935185, "post_id": 55621957, "comment_id": 97937295, "body": "...*most* modern Linux distros use systemd; if <code>systemctl</code> lists the same services you want, then those services are also represented as cgroups. See <a href=\"https://github.com/giampaolo/psutil/issues/490\" rel=\"nofollow noreferrer\">github.com/giampaolo/psutil/issues/490</a> for discussion of exposing cgroup metadata in psutil."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554935212, "post_id": 55621957, "comment_id": 97937307, "body": "Gotcha. You&#39;ll need to test on a Linux distro that actually uses the same init system you&#39;re trying to develop for."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1554935276, "post_id": 55621957, "comment_id": 97937329, "body": "Once you&#39;ve got a PID, you can read the cgroups it&#39;s in from <code>&#47;proc&#47;&lt;PID&gt;&#47;cgroups</code>; if that PID is associated with a systemd service, the list of cgroups will contain things like <code>1:name=systemd:&#47;system.slice&#47;dbus.service</code>"}], "answers": [{"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 1, "last_activity_date": 1554938737, "last_edit_date": 1554938737, "creation_date": 1554935973, "answer_id": 55622241, "question_id": 55621957, "link": "https://stackoverflow.com/questions/55621957/how-to-list-daemon-services-process-in-linux-as-with-psutil/55622241#55622241", "title": "How to list daemon (services) process in linux, as with psutil?", "body": "<p><sup>The <code>service</code> command in WSL shows <em>Windows</em> services. As we've determined (in in-comment discussion) that you're trying to list <em>Linux</em> services, and using WSL only as a test platform, this answer is written to apply to the majority of Linux distributions, rather than to WSL.</sup></p>\n\n<hr>\n\n<p>The following will work on Linux distros using systemd as their init system (this applies to most modern distros -- including current releases of Arch, NixOS, Fedora, RHEL, CentOS, Debian, Ubuntu, etc). It <strong>will not</strong> work on WSL -- at least, not the version you quoted, which does not appear to be using systemd as its init system.</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport re\nimport psutil\n\ndef log_running_services():\n    known_cgroups = set()\n    for pid in psutil.pids():\n        try:\n            cgroups = open('/proc/%d/cgroup' % pid, 'r').read()\n        except IOError:\n            continue # may have exited since we read the listing, or may not have permissions\n        systemd_name_match = re.search('^1:name=systemd:(/.+)$', cgroups, re.MULTILINE)\n        if systemd_name_match is None:\n            continue # not in a systemd-maintained cgroup\n        systemd_name = systemd_name_match.group(1)\n        if systemd_name in known_cgroups:\n            continue # we already printed this one\n        if not systemd_name.endswith('.service'):\n            continue # this isn't actually a service\n        known_cgroups.add(systemd_name)\n        print(systemd_name)\n\nif __name__ == '__main__':\n    log_running_services()\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 10563435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba83ef7885634c984cac01e090079a0?s=128&d=identicon&r=PG&f=1", "display_name": "user574362", "link": "https://stackoverflow.com/users/10563435/user574362"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 839, "favorite_count": 0, "accepted_answer_id": 55622241, "answer_count": 1, "score": 1, "last_activity_date": 1554938737, "creation_date": 1554933957, "last_edit_date": 1554934248, "question_id": 55621957, "link": "https://stackoverflow.com/questions/55621957/how-to-list-daemon-services-process-in-linux-as-with-psutil", "title": "How to list daemon (services) process in linux, as with psutil?", "body": "<p>I am trying to print the current running services (daemon process?) in linux using psutil</p>\n\n<p>In windows, using psutil I can get the currently running services with this code:</p>\n\n<pre><code>def log(self):\n        win_sev = set()\n        for sev in psutil.win_service_iter():\n            if sev.status() == psutil.STATUS_RUNNING:\n                win_sev.add(sev.display_name())\n        return win_sev\n</code></pre>\n\n<p>I want to get the same effect in linux, I tried using the subprocess module and POPEN</p>\n\n<pre><code>\n command = [\"service\", \"--status-all\"]  # the shell command\n p = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=None)        \n result = p.communicate()[0]\n print result\n\n</code></pre>\n\n<p>However I would like to know if I can get the same result using psutil, I tried using the </p>\n\n<pre><code>psutil.pids()\n</code></pre>\n\n<p>But this only shows</p>\n\n<pre><code>python\ninit\nbash\n</code></pre>\n\n<p>But when I run service --status-all I get a much bigger list including apache,sshd....</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "mysql", "amazon-web-services", "amazon-s3", "aws-glue"], "comments": [{"owner": {"reputation": 8058, "user_id": 401096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aqDc7.jpg?s=128&g=1", "display_name": "bwest", "link": "https://stackoverflow.com/users/401096/bwest"}, "edited": false, "score": 0, "creation_date": 1554950212, "post_id": 55621916, "comment_id": 97940451, "body": "Does loading the data directly from S3 to Aurora not work for your requirements? <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Integrating.LoadFromS3.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/&hellip;</a>"}, {"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "reply_to_user": {"reputation": 8058, "user_id": 401096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aqDc7.jpg?s=128&g=1", "display_name": "bwest", "link": "https://stackoverflow.com/users/401096/bwest"}, "edited": false, "score": 0, "creation_date": 1554988048, "post_id": 55621916, "comment_id": 97957596, "body": "That is what exactly works but I am not sure how do I go about automating the whole thing, like running the Glue job to do the ETL and then loading the transformed CSV into RDS. How do I go about doing the whole thing together in an automated way?"}, {"owner": {"reputation": 8058, "user_id": 401096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aqDc7.jpg?s=128&g=1", "display_name": "bwest", "link": "https://stackoverflow.com/users/401096/bwest"}, "edited": false, "score": 0, "creation_date": 1554988523, "post_id": 55621916, "comment_id": 97957938, "body": "Consider adding an S3 trigger on uploads to the bucket. Use that to invoke a lambda function that then loads the data to RDS."}, {"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "reply_to_user": {"reputation": 8058, "user_id": 401096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aqDc7.jpg?s=128&g=1", "display_name": "bwest", "link": "https://stackoverflow.com/users/401096/bwest"}, "edited": false, "score": 0, "creation_date": 1554988595, "post_id": 55621916, "comment_id": 97957985, "body": "But doesn&#39;t Lambda have like a 300 sec limit for the whole function to be run? Also, I am not sure how to write a Lambda, are there examples of it anywhere?"}, {"owner": {"reputation": 8058, "user_id": 401096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aqDc7.jpg?s=128&g=1", "display_name": "bwest", "link": "https://stackoverflow.com/users/401096/bwest"}, "edited": false, "score": 0, "creation_date": 1554989750, "post_id": 55621916, "comment_id": 97958819, "body": "Lambdas can run for 15 minutes. There many examples in the AWS docs. We don&#39;t know how much data you are moving, how frequently, or any of your requirements, so it&#39;s hard to suggest architectures. Why do you not want to use the MySQL connector?"}, {"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "reply_to_user": {"reputation": 8058, "user_id": 401096, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aqDc7.jpg?s=128&g=1", "display_name": "bwest", "link": "https://stackoverflow.com/users/401096/bwest"}, "edited": false, "score": 0, "creation_date": 1554992413, "post_id": 55621916, "comment_id": 97960699, "body": "It&#39;s about a gig worth of data on a daily basis. Also, which MySQL connector are you talking about, the one which Glue provides or the Python ones? I have seen the Python ones but AWS natively supports only Python 2.7 through the Glue service."}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1555332398, "post_id": 55682730, "comment_id": 98061934, "body": "Thank you for this, but I already took care of the lambda function. Where do I write the <code>LOAD DATA FROM s3</code> statement, does it go within the lambda code?"}, {"owner": {"reputation": 1774, "user_id": 4470126, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30c5924d5c914cc8d98254c8c9cea597?s=128&d=identicon&r=PG&f=1", "display_name": "Yuva", "link": "https://stackoverflow.com/users/4470126/yuva"}, "reply_to_user": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1555334092, "post_id": 55682730, "comment_id": 98062940, "body": "Manas, it should be in the Glue job, since lambda has a time limit. Having the &quot;load data from s3....&quot; in AWS Glue makes it better assuming there would be large volume of data, some point of time.  Moreover Lambda is not ideal for an ETL rather can be used as orchestration service to trigger the AWS Glue."}, {"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1555341115, "post_id": 55682730, "comment_id": 98067266, "body": "I tried that with the Glue job, but the MySQL connector part of the code that you uploaded above is giving me issues in terms of using an external library in Glue job. From what I am seeing is that I can only use Python 2.7 libraries with Glue and that was part of the question that I asked above. Really appreciate all your help with this."}, {"owner": {"reputation": 1774, "user_id": 4470126, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30c5924d5c914cc8d98254c8c9cea597?s=128&d=identicon&r=PG&f=1", "display_name": "Yuva", "link": "https://stackoverflow.com/users/4470126/yuva"}, "reply_to_user": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1555342131, "post_id": 55682730, "comment_id": 98067864, "body": "yes, you need to use pymysql library as a zip file, and add to the glue job."}, {"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1555342993, "post_id": 55682730, "comment_id": 98068382, "body": "Oh okay! That was kind of what I was doing... Nevertheless, thank you so much for all the help!!! I guess this is the way to go then..."}, {"owner": {"reputation": 1774, "user_id": 4470126, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30c5924d5c914cc8d98254c8c9cea597?s=128&d=identicon&r=PG&f=1", "display_name": "Yuva", "link": "https://stackoverflow.com/users/4470126/yuva"}, "reply_to_user": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1555343692, "post_id": 55682730, "comment_id": 98068762, "body": "Glad it was useful, and i was of some help. Thanks.  We use the same logic and they are in production successfully."}], "tags": [], "owner": {"reputation": 1774, "user_id": 4470126, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30c5924d5c914cc8d98254c8c9cea597?s=128&d=identicon&r=PG&f=1", "display_name": "Yuva", "link": "https://stackoverflow.com/users/4470126/yuva"}, "is_accepted": true, "score": 4, "last_activity_date": 1555334794, "last_edit_date": 1555334794, "creation_date": 1555303657, "answer_id": 55682730, "question_id": 55621916, "link": "https://stackoverflow.com/questions/55621916/automate-bulk-loading-of-data-from-s3-to-aurora-mysql-rds-instance/55682730#55682730", "title": "Automate bulk loading of data from s3 to Aurora MySQL RDS instance", "body": "<p>The approach is as stated above, have an S3 event trigger and a lambda job listening on the s3 bucket/object location.  As soon as a file is uploaded to the s3 location, the lambda job will run, and in the lambda, you can configure to call an AWS Glue job.  This is exactly we have done and has gone successfully live.  Lambda has a 15minute life, and it should take less an a minute to trigger/start a Glue job.  </p>\n\n<p>Please find herewith a sample source for reference.</p>\n\n<pre><code>from __future__ import print_function\nimport json\nimport boto3\nimport time\nimport urllib\n\nprint('Loading function')\n\ns3 = boto3.client('s3')\nglue = boto3.client('glue')\n\ndef lambda_handler(event, context):\n    gluejobname=\"your-glue-job-name here\"\n\n    try:\n        runId = glue.start_job_run(JobName=gluejobname)\n        status = glue.get_job_run(JobName=gluejobname, RunId=runId['JobRunId'])\n        print(\"Job Status : \", status['JobRun']['JobRunState'])\n    except Exception as e:\n        print(e)\n        print('Error getting object {} from bucket {}. Make sure they exist '\n              'and your bucket is in the same region as this '\n              'function.'.format(source_bucket, source_bucket))\n    raise e\n</code></pre>\n\n<p>For creating a Lambda function, go to AWS Lambdra->Create a new function from Scratch->Select S3 for event, and then configure the S3 bucket locations, prefixes as required.  Then copy paste the above code sample, inline code area, and configure the glue job name as needed.  Please ensure you have all required IAM roles/access setup.</p>\n\n<p>The glue job should have provision to connect to your Aurora, and then you can use \"LOAD FROM S3.....\" command provided by Aurora.  Make sure all parameter group settings/configurations are done as needed.</p>\n\n<p>Let me know if any issues.</p>\n\n<p><strong>UPDATE: SAMPLE code snippet for LOAD FROM S3:</strong></p>\n\n<pre><code>conn = mysql.connector.connect(host=url, user=uname, password=pwd, database=dbase)\ncur = conn.cursor()\ncur, conn = connect()\ncreateStgTable1 = \"DROP TABLE IF EXISTS mydb.STG_TABLE;\"\ncreateStgTable2 = \"CREATE TABLE mydb.STG_TABLE(COL1 VARCHAR(50) NOT NULL, COL2 VARCHAR(50), COL3 VARCHAR(50), COL4 CHAR(1) NOT NULL);\"\nloadQry = \"LOAD DATA FROM S3 PREFIX 's3://&lt;bucketname&gt;/folder' REPLACE INTO TABLE mydb.STG_TABLE FIELDS TERMINATED BY '|' LINES TERMINATED BY '\\n' IGNORE 1 LINES (@var1, @var2, @var3, @var4) SET col1= @var1, col2= @var2, col3= @var3, col4=@var4;\"\ncur.execute(createStgTable1)\ncur.execute(createStgTable2)\ncur.execute(loadQry)\nconn.commit()\nconn.close()\n</code></pre>\n"}], "owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3626, "favorite_count": 1, "accepted_answer_id": 55682730, "answer_count": 1, "score": 1, "last_activity_date": 1555334794, "creation_date": 1554933714, "question_id": 55621916, "link": "https://stackoverflow.com/questions/55621916/automate-bulk-loading-of-data-from-s3-to-aurora-mysql-rds-instance", "title": "Automate bulk loading of data from s3 to Aurora MySQL RDS instance", "body": "<p>I am relatively new to AWS so I am not sure how to go about doing this,</p>\n\n<p>I have CSV files on s3 and I have already set up the Aurora instance on RDS. The thing that I am unable to figure out is how do I automate the bulk loading of data, essentially doing like a <code>LOAD DATA FROM s3</code> kind of thing using something like AWS Glue.</p>\n\n<p>I also used the Glue native thing of s3 to RDS, but then it is essentially a bunch of inserts into RDS over a JDBC connection which is also super slow for large datasets.</p>\n\n<p>I can do it independently running the command on RDS but I do not want to do that and want to leverage Glue. I also looked at using a MySQL connector for Python but Glue natively only supports Python 2.7 which is something that I do not want to use.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "python", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1554935431, "post_id": 55622150, "comment_id": 97937363, "body": "is there a from of do this without jQuery?"}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1554936107, "post_id": 55622150, "comment_id": 97937525, "body": "@PaulMiranda I just updated my code to show an example of a vanilla JS version."}, {"owner": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1554938655, "post_id": 55622150, "comment_id": 97938138, "body": "When I try this it shows me a error 403:Forbidden :( you know why this can be?"}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1554938873, "post_id": 55622150, "comment_id": 97938183, "body": "My bad! I updated the code to include the <code>csrf_token</code> necessary to bypass the 403 error. Try my updated JS code"}, {"owner": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1554939530, "post_id": 55622150, "comment_id": 97938354, "body": "I continue getting the 403 error, I&#39;m thinking that maybe is something on the view method"}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1554940147, "post_id": 55622150, "comment_id": 97938478, "body": "Yes, that is correct. The issue is definitely <code>CSRF</code> related, since 403 errors are about authorization. I updated my code again for you, try it now."}, {"owner": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1554940798, "post_id": 55622150, "comment_id": 97938610, "body": "The error 403 is gone but now I got a .MultiValueDictKeyError: &#39;post_id&#39;. post_id is the default attribute my model get when is created, correct?"}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1555024987, "post_id": 55622150, "comment_id": 97975093, "body": "@PaulMiranda try replacing <code>body: {post_id: post_id}</code> with <code>body: JSON.stringify({post_id: post_id})</code>"}], "tags": [], "owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "is_accepted": false, "score": 0, "last_activity_date": 1554940074, "last_edit_date": 1554940074, "creation_date": 1554935268, "answer_id": 55622150, "question_id": 55621915, "link": "https://stackoverflow.com/questions/55621915/how-to-run-a-method-inside-a-model-when-a-javascript-actionlistener-is-triggered/55622150#55622150", "title": "How to run a method inside a Model when a JavaScript actionListener is triggered?", "body": "<p>You would need to use an <code>AJAX</code> call to send a <code>POST</code> request to your server, and then return a response to your HTML page.</p>\n\n<p>Example:</p>\n\n<p><strong>view</strong></p>\n\n<pre><code>def process_like(request):\n    post_id = request.POST['post_id']\n    post = Post.objects.get(id=post_id)\n    post.process_likes()\n    return JsonResponse({\"message\": \"Success\"})\n</code></pre>\n\n<p><strong>urls</strong></p>\n\n<pre><code>urlpatterns = [\n    ...\n    path('process_like/', views.process_like, name=\"process_like\")\n    ...\n]\n</code></pre>\n\n<p><strong>html/js</strong></p>\n\n<pre><code>&lt;div class=\"post\" data-post-id=\"{{post.id}}\"&gt;this is the post&lt;/div&gt;\n\n&lt;script&gt;\nvar posts = document.querySelectorAll('.post')\n\nposts.forEach(post =&gt; {\n    post.addEventListener('click', e =&gt; {\n        e.preventDefault()\n        var post_id = post.getAttribute('data-post-id')\n        var config = {\n          method: \"POST\",\n          body: {post_id: post_id}\n          headers: {\n              \"X-CSRFToken\": \"{{ csrf_token }}\",\n              \"Accept\": \"application/json\",\n              \"Content-Type\": \"application/json\"\n          },\n        }\n\n        fetch('{% url \"process_like\" %}', config)\n        .then(response =&gt; response.json())\n        .then(data =&gt; console.log(data))\n    })\n})\n&lt;/script&gt;\n</code></pre>\n\n<p>Or if you use jQuery</p>\n\n<pre><code>&lt;script&gt;\n$('.post').on('click', function (e) {\n    e.preventDefault();\n    var $this = $(this);\n    var post_id = $this.data('post-id');\n\n    $.ajax({\n        method: \"post\",\n        url: \"{% url 'process_like' %}\",\n        data: {csrfmiddlewaretoken: \"{{ csrf_token }}\", post_id: post_id}\n    }).done(function (response) {\n        console.log(response)\n    })\n})\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554940074, "creation_date": 1554933713, "question_id": 55621915, "link": "https://stackoverflow.com/questions/55621915/how-to-run-a-method-inside-a-model-when-a-javascript-actionlistener-is-triggered", "title": "How to run a method inside a Model when a JavaScript actionListener is triggered?", "body": "<p>I have the next Model:</p>\n\n<pre><code>class Post(models.Model):\n    author = models.ForeignKey('auth.User', on_delete=models.CASCADE)\n    title = models.CharField(max_length = 200)\n    text = models.TextField()\n    created_date = models.DateTimeField(default = timezone.now)\n    likes = models.IntegerField(default=0)\n    tags = models.CharField(max_length = 50, default = '' )\n\n    def process_likes(self):\n        like = self.likes = F('likes')+1\n        like.save()\n\n    def split_tags(self):\n        return self.tags.split()\n\n    def get_absolute_url(self):\n        return reverse('blog:post_list')\n\n    def __str__(self):\n        return self.title\n</code></pre>\n\n<p>What I want to do is when a icon in a template is clicked, I want the process_likes method to be run, this method is going to increment by one the value of likes.\nMy script looks like this:</p>\n\n<pre><code>&lt;script&gt;\n    let corazon = document.querySelector('.icon-heart-empty');\n    corazon.addEventListener('click', ()=&gt;{\n        corazon.classList.toggle('icon-heart');\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Here I toggle the class of my icon to show if is clicked or uncliked, but how can I call the process_like method using pure JavaScript?</p>\n"}, {"tags": ["python", "list", "loops", "iteration", "nested-loops"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1554933851, "post_id": 55621905, "comment_id": 97936846, "body": "These should be dictionaries, not lists of lists. Or you should use <code>pandas</code>."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1554933935, "post_id": 55621905, "comment_id": 97936870, "body": "Setting <code>b_age</code> to a value does not affect the list column that it came from."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1554933981, "post_id": 55621905, "comment_id": 97936883, "body": "You&#39;re not adding anything, you&#39;re just replacing the variable. Do you mean you want to add them as numbers, concatenate strings, or make a list of all the values?"}, {"owner": {"reputation": 17, "user_id": 11341557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da739d4ea4e9d25b1c56a238d75fd9bd?s=128&d=identicon&r=PG&f=1", "display_name": "lmartial", "link": "https://stackoverflow.com/users/11341557/lmartial"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1554933989, "post_id": 55621905, "comment_id": 97936884, "body": "@Barmar how should I use pandas in this case?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1554934088, "post_id": 55621905, "comment_id": 97936912, "body": "It has methods for joining the two tables based on common keys, and <code>groupby</code> to combine all the rows with the same key."}, {"owner": {"reputation": 17, "user_id": 11341557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da739d4ea4e9d25b1c56a238d75fd9bd?s=128&d=identicon&r=PG&f=1", "display_name": "lmartial", "link": "https://stackoverflow.com/users/11341557/lmartial"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1554934095, "post_id": 55621905, "comment_id": 97936914, "body": "@Barmar I want to replace the &#39; &#39; empty string with a string from the other list of lists"}, {"owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "edited": false, "score": 1, "creation_date": 1554934293, "post_id": 55621905, "comment_id": 97936981, "body": "IMO, pandas is <i>massive</i> overkill for a project this small and with such straightforward requirements."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "edited": false, "score": 0, "creation_date": 1554934482, "post_id": 55621905, "comment_id": 97937038, "body": "@KirkStrauser But he might have more things he wants to do with these tables, so pandas may be useful in general."}, {"owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "edited": false, "score": 0, "creation_date": 1554940632, "post_id": 55621905, "comment_id": 97938576, "body": "I\u2019d cross that bridge when it comes up. It feels like a premature optimization to bring in a dependency like that before you run out of efficient standard library options."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 11341557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da739d4ea4e9d25b1c56a238d75fd9bd?s=128&d=identicon&r=PG&f=1", "display_name": "lmartial", "link": "https://stackoverflow.com/users/11341557/lmartial"}, "edited": false, "score": 0, "creation_date": 1554938863, "post_id": 55621995, "comment_id": 97938181, "body": "Thanks @benvc so if it&#39;s not a simple list of pairs how would I go about it?"}, {"owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "reply_to_user": {"reputation": 17, "user_id": 11341557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da739d4ea4e9d25b1c56a238d75fd9bd?s=128&d=identicon&r=PG&f=1", "display_name": "lmartial", "link": "https://stackoverflow.com/users/11341557/lmartial"}, "edited": false, "score": 0, "creation_date": 1554940549, "post_id": 55621995, "comment_id": 97938557, "body": "@luca-martial - depending on how complex your nested lists are you might be able to use modified version of the dict comprehension in this answer. If the nested lists are quite complex, then it would be helpful if you posted an example of what they look like so we can better help."}], "tags": [], "owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "is_accepted": true, "score": 0, "last_activity_date": 1554935411, "last_edit_date": 1554935411, "creation_date": 1554934180, "answer_id": 55621995, "question_id": 55621905, "link": "https://stackoverflow.com/questions/55621905/how-to-loop-through-two-list-of-lists-at-once-and-replace-values-from-one-list-w/55621995#55621995", "title": "How to loop through two list of lists at once and replace values from one list with the other list?", "body": "<p>Assuming the names in <code>a</code> are unique, you could create a dict from <code>a</code> to avoid looping through it over and over as you replace the empty string values in <code>b</code>. For example (added a couple items to your examples to illustrate what would happen if a name in <code>b</code> does not exist in <code>a</code>):</p>\n\n<pre><code>a = [['Dany', '021'], ['Alex','035'], ['Joe', '054']]\nb = [['Alex',''], ['Dany', ''], ['Jane', '']]\n\nd = {k: v for k, v in a}\nb = [[k, d[k]] if k in d else [k, v] for k, v in b]\nprint(b)\n# [['Alex', '035'], ['Dany', '021'], ['Jane', '']]\n</code></pre>\n\n<p>If the list you are actually working with is just a simple list of pairs as in the example, then you could replace the dict comprehension above with <code>dict(a)</code>.</p>\n\n<p>Also, in case it is not clear, the various <code>k, v</code> references are for convenience in unpacking the nested pairs, but you could just use a single variable and access using index values like: </p>\n\n<pre><code>{x[0]: x[1] for x in a}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "reply_to_user": {"reputation": 17, "user_id": 11341557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da739d4ea4e9d25b1c56a238d75fd9bd?s=128&d=identicon&r=PG&f=1", "display_name": "lmartial", "link": "https://stackoverflow.com/users/11341557/lmartial"}, "edited": false, "score": 0, "creation_date": 1554940545, "post_id": 55621998, "comment_id": 97938554, "body": "On which part? It runs as expected here."}], "tags": [], "owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "is_accepted": false, "score": 0, "last_activity_date": 1554940561, "last_edit_date": 1554940561, "creation_date": 1554934203, "answer_id": 55621998, "question_id": 55621905, "link": "https://stackoverflow.com/questions/55621905/how-to-loop-through-two-list-of-lists-at-once-and-replace-values-from-one-list-w/55621998#55621998", "title": "How to loop through two list of lists at once and replace values from one list with the other list?", "body": "<p>You'll want to make a dict of the ages so that you can do a series of fast O(1) lookups for each row in <code>b</code>. I'd start with something like:</p>\n\n<pre><code># Make a dictionary of names to their ages\nage = dict(a)\n\nfor row in b:\n    try:\n        # Set the age of this row to the age of row[0]\n        row[1] = age[row[0]]\n    except KeyError:\n        # End up here if row[0] is not in the \"ages\" dict\n        pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 857, "user_id": 1434563, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mK47t.jpg?s=128&g=1", "display_name": "Ethan Brouwer", "link": "https://stackoverflow.com/users/1434563/ethan-brouwer"}, "is_accepted": false, "score": 0, "last_activity_date": 1554934367, "creation_date": 1554934367, "answer_id": 55622021, "question_id": 55621905, "link": "https://stackoverflow.com/questions/55621905/how-to-loop-through-two-list-of-lists-at-once-and-replace-values-from-one-list-w/55622021#55622021", "title": "How to loop through two list of lists at once and replace values from one list with the other list?", "body": "<p>You can try to make <code>a</code> into a dictionary by doing <code>a_dict = dict(a)</code> which will result in something like this:</p>\n\n<pre><code>{'Dany': '021', 'Alex': '035', etc...}\n</code></pre>\n\n<p>Then you can do something simple like this:</p>\n\n<pre><code>for person in b:\n    if person[0] in a_dict:\n        person[1] = a_dict[person[0]]\n</code></pre>\n\n<p>That should give you something like this in <code>b</code>:</p>\n\n<pre><code>[['Paul', ''], ['Leon', ''], ['Alex', '035'], etc...]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 0, "last_activity_date": 1554935642, "last_edit_date": 1554935642, "creation_date": 1554934651, "answer_id": 55622071, "question_id": 55621905, "link": "https://stackoverflow.com/questions/55621905/how-to-loop-through-two-list-of-lists-at-once-and-replace-values-from-one-list-w/55622071#55622071", "title": "How to loop through two list of lists at once and replace values from one list with the other list?", "body": "<p>If you want to update values in <code>b</code>, you need to loop over b's <em>row index</em>.  Looping over the <em>values</em> won't work, as they don't keep their linkage back to the source row/column in <code>b</code>.</p>\n\n<p>Also, presumably you want to assign a blank age as the second column in <code>b</code> only if <em>none</em> of the names in <code>a</code> match, not just if the <em>current</em> name doesn't match.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>for b_row_index in range(1, len(b)): # Excluding the headers\n    b_name = b[b_row_index][0]\n    for a_row in a[1:]:\n        if b_name in a_row[0]:\n            b[b_row_index][1] = a_row[1]\n            break\n    else:\n        b[b_row_index][1] = ''\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1668, "user_id": 10146012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlAbb.jpg?s=128&g=1", "display_name": "Mahmoud Elshahat", "link": "https://stackoverflow.com/users/10146012/mahmoud-elshahat"}, "is_accepted": false, "score": 0, "last_activity_date": 1554940846, "creation_date": 1554940846, "answer_id": 55622861, "question_id": 55621905, "link": "https://stackoverflow.com/questions/55621905/how-to-loop-through-two-list-of-lists-at-once-and-replace-values-from-one-list-w/55622861#55622861", "title": "How to loop through two list of lists at once and replace values from one list with the other list?", "body": "<p>with lists you can:</p>\n\n<pre><code>a = [['Dany', '021'],['Alex','035'], ['Paul', '060'],['Leon','070']]\nb = [['Paul', ''],['Leon','']]\n\nfor i, b_item in enumerate(b):\n    for a_item in a:\n        if b_item[0]==a_item[0]:\n            b[i] = a_item\n            break\n\nprint(b)\n</code></pre>\n\n<p><strong>output</strong>:</p>\n\n<pre><code>[['Paul', '060'], ['Leon', '070']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2568, "user_id": 6939324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Tjoe.jpg?s=128&g=1", "display_name": "SuperKogito", "link": "https://stackoverflow.com/users/6939324/superkogito"}, "is_accepted": false, "score": 0, "last_activity_date": 1554940991, "creation_date": 1554940991, "answer_id": 55622880, "question_id": 55621905, "link": "https://stackoverflow.com/questions/55621905/how-to-loop-through-two-list-of-lists-at-once-and-replace-values-from-one-list-w/55622880#55622880", "title": "How to loop through two list of lists at once and replace values from one list with the other list?", "body": "<p>I think as many others mentioned; using dictionaries here, would make life much easier, you can convert to dictionaries, process your data and append ages then convert back to lists if that is what you need. This code does exactly that:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>a = [['Dany', '021'], ['Alex','035'], ['Joe', '054']]\nb = [['Alex',''], ['Dany', ''], ['Jane', '']]\n\nprint(a)\nprint(b)\nprint('++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++')\n\n# convert to dict for simplicity\na_dictionary  = dict(zip([e[0] for e in a], [e[1] for e in a]))\nb_dictionary  = dict(zip([e[0] for e in b], [e[1] for e in b]))\na_intersect_b = list(set(a_dictionary.keys()) &amp; set(b_dictionary.keys()))\n\nprint(a_dictionary)\nprint(b_dictionary)\nprint(a_intersect_b)\nprint('++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++')\n\n# copy ages to b\nfor k in a_intersect_b:\n    b_dictionary[k] = a_dictionary[k]\n\nprint(a_dictionary)\nprint(b_dictionary)\nprint('++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++')\n\n# go back to lists\na = [[name, age] for name, age in zip(a_dictionary.keys(), a_dictionary.values())]\nb = [[name, age] for name, age in zip(b_dictionary.keys(), b_dictionary.values())]\n\nprint(a)\nprint(b)\nprint('++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++')\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[['Dany', '021'], ['Alex', '035'], ['Joe', '054']]\n[['Alex', ''], ['Dany', ''], ['Jane', '']]\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n{'Dany': '021', 'Alex': '035', 'Joe': '054'}\n{'Alex': '', 'Dany': '', 'Jane': ''}\n['Alex', 'Dany']\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n{'Dany': '021', 'Alex': '035', 'Joe': '054'}\n{'Alex': '035', 'Dany': '021', 'Jane': ''}\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n[['Dany', '021'], ['Alex', '035'], ['Joe', '054']]\n[['Alex', '035'], ['Dany', '021'], ['Jane', '']]\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 11341557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da739d4ea4e9d25b1c56a238d75fd9bd?s=128&d=identicon&r=PG&f=1", "display_name": "lmartial", "link": "https://stackoverflow.com/users/11341557/lmartial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 55621995, "answer_count": 6, "score": 1, "last_activity_date": 1554940991, "creation_date": 1554933612, "last_edit_date": 1554933799, "question_id": 55621905, "link": "https://stackoverflow.com/questions/55621905/how-to-loop-through-two-list-of-lists-at-once-and-replace-values-from-one-list-w", "title": "How to loop through two list of lists at once and replace values from one list with the other list?", "body": "<p>I have two lists of lists (a and b) </p>\n\n<p>They both have only 2 indexes per row.</p>\n\n<p><code>a</code> (50,000 rows) looks like this:</p>\n\n<pre><code>|name|age|\n|----|---|\n|Dany|021|\n|Alex|035|\n</code></pre>\n\n<p>As a list of lists, looks like this: </p>\n\n<pre><code>[['Dany', '021'],['Alex','035'], etc...]\n</code></pre>\n\n<p><code>b</code> (2000 rows) looks like this:</p>\n\n<pre><code>|name|age|\n|----|---|\n|Paul|   |\n|Leon|   |\n</code></pre>\n\n<p>As a list of lists, looks like this: </p>\n\n<pre><code>[['Paul', ''],['Leon',''], etc...]\n</code></pre>\n\n<p>Question: I want to iterate through <code>a</code> and <code>b</code> at the same time - for each iteration of <code>a</code>, if <code>a[0]</code> is in <code>b[0]</code>, I want to add the corresponding <code>a[1]</code> into <code>b[1]</code>.</p>\n\n<p>In lay terms, I want to add ages to my <code>b</code> list by going through my <code>a</code> list, checking if the name is in the <code>a</code> list and if it is, taking that corresponding age and adding it in the <code>b</code> list for that corresponding name.</p>\n\n<p>I have tried a nested loop (iterating through b and for each iteration, iterating through <code>a</code> to check if any iteration of <code>a</code> at <code>a[0]</code> exists in that iteration of <code>b</code> at <code>b[0]</code>) but just keep getting lost after that.</p>\n\n<pre><code>for row in b[1:]: # Excluding the headers\n    b_name = row[0]\n    b_age = row[1]\n    for row in a[1:]:\n        if b_name in row[0]:\n            b_age = row[1]\n        else:\n            b_age = ''\n</code></pre>\n\n<p>The issue is that I end up getting just one value for <code>b_age</code>, but there should be 2000 unique <code>b_age</code> values?</p>\n"}, {"tags": ["python", "numpy", "python-imaging-library", "scikit-image"], "comments": [{"owner": {"reputation": 408, "user_id": 3320915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d806f237d34e6bfbb09d028ab2dcd30d?s=128&d=identicon&r=PG&f=1", "display_name": "badri", "link": "https://stackoverflow.com/users/3320915/badri"}, "edited": false, "score": 2, "creation_date": 1554934140, "post_id": 55621901, "comment_id": 97936929, "body": "You can define a list and keep appending the value in it and print/return <code>sum(list)</code>"}, {"owner": {"reputation": 148, "user_id": 7706917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GPqbH.png?s=128&g=1", "display_name": "patyx", "link": "https://stackoverflow.com/users/7706917/patyx"}, "edited": false, "score": 0, "creation_date": 1554934627, "post_id": 55621901, "comment_id": 97937089, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1720421/how-do-i-concatenate-two-lists-in-python\">How do I concatenate two lists in Python?</a>"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1554935226, "post_id": 55621901, "comment_id": 97937315, "body": "Does <code>value = round(np.mean(images),2)</code> work for you?  I don&#39;t think you need the <code>tolist</code> and outer brackets."}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 7907549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334154596676157/picture?type=large", "display_name": "Marcin", "link": "https://stackoverflow.com/users/7907549/marcin"}, "is_accepted": false, "score": 0, "last_activity_date": 1554934267, "creation_date": 1554934267, "answer_id": 55622007, "question_id": 55621901, "link": "https://stackoverflow.com/questions/55621901/how-to-merge-multiple-lists-into-a-list-in-python-numpy-mean/55622007#55622007", "title": "How to merge multiple lists into a list in python: numpy.mean()", "body": "<p>Create a list that will store all of the values, then append to it:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>all_values = []\nfor filename in os.listdir(path):\n    images = Image.open(os.path.join(path,filename))  \n    value = [round(np.mean(images).tolist(),2)]\n    all_values = [*all_values, *value]\n\nprint(all_values)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126, "user_id": 7907549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334154596676157/picture?type=large", "display_name": "Marcin", "link": "https://stackoverflow.com/users/7907549/marcin"}, "edited": false, "score": 0, "creation_date": 1554934865, "post_id": 55622032, "comment_id": 97937186, "body": "will not work as you are appending a list to sum_list which in effect will cause an error during <code>sum(sum_list)</code>"}, {"owner": {"reputation": 1426, "user_id": 2958943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9559f8b107f4af95690be52a1481999?s=128&d=identicon&r=PG&f=1", "display_name": "bubble", "link": "https://stackoverflow.com/users/2958943/bubble"}, "edited": false, "score": 0, "creation_date": 1554938096, "post_id": 55622032, "comment_id": 97938009, "body": "The only thing I cann&#39;t understand is why do we need square brackets in <code>value = [ .... ]</code>; drop it,  e.g. <code>value = round(np.mean(images), 2)</code> and life becomes much easier..."}], "tags": [], "owner": {"reputation": 408, "user_id": 3320915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d806f237d34e6bfbb09d028ab2dcd30d?s=128&d=identicon&r=PG&f=1", "display_name": "badri", "link": "https://stackoverflow.com/users/3320915/badri"}, "is_accepted": false, "score": 1, "last_activity_date": 1554937477, "last_edit_date": 1554937477, "creation_date": 1554934456, "answer_id": 55622032, "question_id": 55621901, "link": "https://stackoverflow.com/questions/55621901/how-to-merge-multiple-lists-into-a-list-in-python-numpy-mean/55622032#55622032", "title": "How to merge multiple lists into a list in python: numpy.mean()", "body": "<p>Try following way</p>\n\n<pre><code>from numpy import array\nfrom numpy import sum\nsum_list = []\nfor filename in os.listdir(path):\n    images = Image.open(os.path.join(path,filename))  \n    value = [round(np.mean(images).tolist(),2)]\n    sum_list.append(value)\nv = array(sum_list)\nreturn sum(v)\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 10458473, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156671542242692/picture?type=large", "display_name": "Xin Zhang", "link": "https://stackoverflow.com/users/10458473/xin-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1554937477, "creation_date": 1554933591, "question_id": 55621901, "link": "https://stackoverflow.com/questions/55621901/how-to-merge-multiple-lists-into-a-list-in-python-numpy-mean", "title": "How to merge multiple lists into a list in python: numpy.mean()", "body": "<p>I have problems with merging lists into a list</p>\n\n<p>The followings are what I have tried</p>\n\n<pre><code>import os,glob\nfrom PIL import Image\nfrom skimage import io\nimport numpy as np\nfrom statistics import stdev \n\npath = \"/Users/Xin/Desktop/SVM-Image-Classification-master/test\"\n# Delete images with the low pixel value\nfor filename in os.listdir(path):\n    images = Image.open(os.path.join(path,filename))  \n    value = [round(np.mean(images).tolist(),2)]\n    print(value)\n    print(type(value))\n    #if np.mean(images) &lt; 20:\n        #os.remove(os.path.join(path, filename))\n#print(len(os.listdir(path)))\n</code></pre>\n\n<p>The output as follows</p>\n\n<pre><code>[12.69]\n&lt;class 'list'&gt;\n[14.46]\n&lt;class 'list'&gt;\n[12.25]\n&lt;class 'list'&gt;\n[9.51]\n&lt;class 'list'&gt;\n[18.7]\n&lt;class 'list'&gt;\n[10.0]\n&lt;class 'list'&gt;\n[18.13]\n&lt;class 'list'&gt;\n[12.63]\n&lt;class 'list'&gt;\n\n</code></pre>\n\n<p>What I need is merging the above lists into a list so that I can do sum() function to get a total value</p>\n\n<p>Can anyone give me a help?\nThanks</p>\n"}, {"tags": ["python", "amazon-web-services", "unicode", "amazon-elastic-beanstalk", "python-3.7"], "comments": [{"owner": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "edited": false, "score": 1, "creation_date": 1554935691, "post_id": 55621865, "comment_id": 97937428, "body": "Can you please add the stacktrace that you see when you run <code>eb init --debug</code>?"}, {"owner": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "edited": false, "score": 1, "creation_date": 1554935760, "post_id": 55621865, "comment_id": 97937440, "body": "Also, from your shell, can you get the output of <code>locale charmap</code>?"}, {"owner": {"reputation": 161, "user_id": 5316750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d507a3d7ad7a2858e8e55ce934033864?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/5316750/rahul-verma"}, "reply_to_user": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "edited": false, "score": 0, "creation_date": 1555086944, "post_id": 55621865, "comment_id": 98000875, "body": "Hi progfan, thanks for getting back. Just added the stack trace with the questions  <code>locale charmaps</code> gives me <code>UTF-8</code>"}, {"owner": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "edited": false, "score": 0, "creation_date": 1555097082, "post_id": 55621865, "comment_id": 98005087, "body": "It&#39;s hard to tell what the problem is but I strongly suspect the failure is in <code>botocore</code> (the AWS Python SDK) as it is trying to parse your <code>~&#47;.aws&#47;config</code> and <code>~&#47;.aws&#47;credentials</code> files. Can you check to ensure those files do not contain non-ASCII characters?"}, {"owner": {"reputation": 161, "user_id": 5316750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d507a3d7ad7a2858e8e55ce934033864?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/5316750/rahul-verma"}, "reply_to_user": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "edited": false, "score": 0, "creation_date": 1555198308, "post_id": 55621865, "comment_id": 98027749, "body": "So you were right! For some reason I had a non-ascii at the end of my credentials! Perhaps I had made a typo accidentally when whenever I had opened it.  Thank you for your support, I greatly appreciate it. How were you able to triangulate that the problem may have been there if I may ask?"}, {"owner": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "edited": false, "score": 0, "creation_date": 1555211877, "post_id": 55621865, "comment_id": 98029438, "body": "Glad you found your problem. Well, looks like you removed the stack trace from your original post. The trace suggested that the exception was being thrown by the piece of code in <code>botocore</code> that parses the credentials file."}, {"owner": {"reputation": 161, "user_id": 5316750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d507a3d7ad7a2858e8e55ce934033864?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/5316750/rahul-verma"}, "reply_to_user": {"reputation": 2084, "user_id": 1998200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff3ec75a30ccf09edb9a95faf5948ad4?s=128&d=identicon&r=PG", "display_name": "progfan", "link": "https://stackoverflow.com/users/1998200/progfan"}, "edited": false, "score": 0, "creation_date": 1555320697, "post_id": 55621865, "comment_id": 98055902, "body": "Thanks progran, my mistake! I&#39;ve added the stack trace back again :)"}], "owner": {"reputation": 161, "user_id": 5316750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d507a3d7ad7a2858e8e55ce934033864?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Verma", "link": "https://stackoverflow.com/users/5316750/rahul-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 384, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1588389637, "creation_date": 1554933359, "last_edit_date": 1588389637, "question_id": 55621865, "link": "https://stackoverflow.com/questions/55621865/how-to-fix-python-3-7-unicodedecoreerror-ascii-when-trying-to-eb-init", "title": "How to fix python (3.7) UnicodeDecoreError - &#39;ascii&#39; ... when trying to &#39;eb init&#39; -&gt; eu-west-2 (or any other)?", "body": "<p>When I try to initialise an elastic beanstalk on my local machine's terminal, I am asked to choose a default option.</p>\n\n<p>I'm particularly interested in initialising for London (eu-west-2), but whenever I do that (or any other) I get the following error.</p>\n\n<p><code>ERROR: UnicodeDecodeError - 'ascii' codec can't decode byte 0xe2 in position 50: ordinal not in range(128)</code></p>\n\n<p>Having researched a little further, I am guessing this is a python issue when the option I am choosing for London is not read correctly hence giving me the error above.</p>\n\n<p>When trying to run with\n<code>eb init --debug</code>\nit seems like I am python3.7.</p>\n\n<p>I also tried to <code>brew link python</code>, but have had no luck so far.</p>\n\n<p>I am not entirely sure how I would fix this issue, has anyone come across this before?</p>\n\n<hr>\n\n<p>Turns out my <code>botocore</code> (an AWS-Python SDK) was unable to decode my aws-credentials as it mistakenly had a non-ascii character.</p>\n\n<p>Here is a list of ascii characters incase someone runs to this problem in the future by accident.\n<a href=\"https://ascii.cl/\" rel=\"nofollow noreferrer\">https://ascii.cl/</a></p>\n\n<hr>\n\n<p>Stack Trace before fix:</p>\n\n<pre><code>2019-04-15 10:29:40,185 (DEBUG) cement.core.hook : defining hook 'pre_setup'\n2019-04-15 10:29:40,185 (DEBUG) cement.core.hook : defining hook 'post_setup'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : defining hook 'pre_run'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : defining hook 'post_run'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : defining hook 'pre_argument_parsing'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : defining hook 'post_argument_parsing'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : defining hook 'pre_close'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : defining hook 'post_close'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : defining hook 'signal'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : defining hook 'pre_render'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : defining hook 'post_render'\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : registering hook 'add_handler_override_options' from cement.core.foundation into hooks['post_setup']\n2019-04-15 10:29:40,186 (DEBUG) cement.core.hook : registering hook 'handler_override' from cement.core.foundationinto hooks['post_argument_parsing']\n2019-04-15 10:29:40,186 (DEBUG) cement.core.handler : defining handler type 'extension' (IExtension)\n2019-04-15 10:29:40,186 (DEBUG) cement.core.handler : defining handler type 'log' (ILog)\n2019-04-15 10:29:40,186 (DEBUG) cement.core.handler : defining handler type 'config' (IConfig)\n2019-04-15 10:29:40,187 (DEBUG) cement.core.handler : defining handler type 'mail' (IMail)\n2019-04-15 10:29:40,187 (DEBUG) cement.core.handler : defining handler type 'plugin' (IPlugin)\n2019-04-15 10:29:40,187 (DEBUG) cement.core.handler : defining handler type 'output' (IOutput)\n2019-04-15 10:29:40,187 (DEBUG) cement.core.handler : defining handler type 'argument' (IArgument)\n2019-04-15 10:29:40,187 (DEBUG) cement.core.handler : defining handler type 'controller' (IController)\n2019-04-15 10:29:40,187 (DEBUG) cement.core.handler : defining handler type 'cache' (ICache)\n2019-04-15 10:29:40,187 (DEBUG) cement.core.handler : registering handler '&lt;class 'cement.core.extension.CementExtensionHandler'&gt;' into handlers['extension']['cement']\n2019-04-15 10:29:40,205 (DEBUG) cement.ext.ext_plugin : plugin config dir /etc/eb/plugins.d does not exist.\n2019-04-15 10:29:40,205 (DEBUG) cement.ext.ext_plugin : plugin config dir /Users/rahulverma/.eb/plugins.d does notexist.\n2019-04-15 10:29:40,211 (DEBUG) ebcli.core.hooks : -- EBCLI Version: 3.14.10\n2019-04-15 10:29:40,211 (DEBUG) ebcli.core.hooks : -- Python Version: 3.7.2 (v3.7.2:9a3ffc0492, Dec 24 2018, 02:44:43)\n[Clang 6.0 (clang-600.0.57)]\n2019-04-15 10:29:40,212 (DEBUG) ebcli.core.fileoperations : Project root found at: /Users/rahulverma\n2019-04-15 10:29:40,212 (DEBUG) ebcli.core.fileoperations : Directory found, but no config or app name exists\n\nSelect a default region\n1) us-east-1 : US East (N. Virginia)\n2) us-west-1 : US West (N. California)\n3) us-west-2 : US West (Oregon)\n4) eu-west-1 : EU (Ireland)\n5) eu-central-1 : EU (Frankfurt)\n6) ap-south-1 : Asia Pacific (Mumbai)\n7) ap-southeast-1 : Asia Pacific (Singapore)\n8) ap-southeast-2 : Asia Pacific (Sydney)\n9) ap-northeast-1 : Asia Pacific (Tokyo)\n10) ap-northeast-2 : Asia Pacific (Seoul)\n11) sa-east-1 : South America (Sao Paulo)\n12) cn-north-1 : China (Beijing)\n13) cn-northwest-1 : China (Ningxia)\n14) us-east-2 : US East (Ohio)\n15) ca-central-1 : Canada (Central)\n16) eu-west-2 : EU (London)\n17) eu-west-3 : EU (Paris)\n18) eu-north-1 : EU (Stockholm)\n(default is 3): 16\n2019-04-15 10:29:45,858 (DEBUG) ebcli.lib.elasticbeanstalk : Inside get_available_solution_stacks api wrapper\n2019-04-15 10:29:45,858 (DEBUG) ebcli.lib.aws : Creating new Botocore Session\n2019-04-15 10:29:45,859 (DEBUG) ebcli.lib.aws : Botocore version: 1.12.90\n2019-04-15 10:29:45,871 (DEBUG) ebcli.lib.aws : Creating new Botocore Client for elasticbeanstalk\n2019-04-15 10:29:45,884 (INFO) eb : Traceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/core/ebrun.py\", line 62, in run_app\n    app.run()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/cement/core/foundation.py\", line 797, in run\n    return_val = self.controller._dispatch()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/cement/core/controller.py\", line 472, in _dispatch\n    return func()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/cement/core/controller.py\", line 478, in _dispatch\n    return func()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/core/abstractcontroller.py\", line 94, in default\n    self.do_command()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/controllers/initialize.py\", line 88, in do_command\n    self.region = set_up_credentials(self.app.pargs.profile, self.region, self.interactive)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/controllers/initialize.py\", line 562, in set_up_credentials\n    profile, region = check_credentials(profile, given_profile, given_region, interactive, force_non_interactive)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/controllers/initialize.py\", line 529, in check_credentials\n    initializeops.credentials_are_valid()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/operations/initializeops.py\", line 27, in credentials_are_valid\n    elasticbeanstalk.get_available_solution_stacks(fail_on_empty_response=False)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/lib/elasticbeanstalk.py\", line 388, in get_available_solution_stacks\n    result = _make_api_call('list_available_solution_stacks')\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/lib/elasticbeanstalk.py\", line 39, in _make_api_call\n    **operation_options)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/lib/aws.py\", line 193,in make_api_call\n    operation = _set_operation(service_name, operation_name)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/lib/aws.py\", line 311,in _set_operation\n    client = _get_client(service_name)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/ebcli/lib/aws.py\", line 152,in _get_client\n    config=Config(signature_version='s3v4'))\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/botocore/session.py\", line 805, in create_client\n    api_version = self.get_config_variable('api_versions').get(\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/botocore/session.py\", line 233, in get_config_variable\n    logical_name)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/botocore/configprovider.py\",line 226, in get_config_variable\n    return provider.provide()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/botocore/configprovider.py\",line 323, in provide\n    value = provider.provide()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/botocore/configprovider.py\",line 382, in provide\n    config = self._session.get_scoped_config()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/botocore/session.py\", line 324, in get_scoped_config\n    profile_map = self._build_profile_map()\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/botocore/session.py\", line 218, in _build_profile_map\n    self._profile_map = self.full_config['profiles']\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/botocore/session.py\", line 362, in full_config\n    cred_file)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/botocore/configloader.py\", line 149, in raw_config_parse\n    cp.read([path])\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/configparser.py\", line 696, in read\n    self._read(fp, filename)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/configparser.py\", line 1014, in _read\n    for lineno, line in enumerate(fp, start=1):\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/encodings/ascii.py\", line 26, in decode\n    return codecs.ascii_decode(input, self.errors)[0]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 50: ordinal not in range(128)\n\n2019-04-15 10:29:45,885 (INFO) eb : UnicodeDecodeError - 'ascii' codec can't decode byte 0xe2 in position 50: ordinal not in range(128)```\n</code></pre>\n"}, {"tags": ["python", "pandas", "data-science", "xgboost", "mean-square-error"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1554933323, "post_id": 55621797, "comment_id": 97936678, "body": "I would start by checking <code>y_test.columns</code> to make sure that the column you&#39;re trying to use is called the same in the dataframe. <code>KeyError</code> means it can&#39;t find the key you&#39;re trying to index with."}], "answers": [{"tags": [], "owner": {"reputation": 2281, "user_id": 9640384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mischa Lisovyi", "link": "https://stackoverflow.com/users/9640384/mischa-lisovyi"}, "is_accepted": false, "score": 0, "last_activity_date": 1555046170, "creation_date": 1555046170, "answer_id": 55644915, "question_id": 55621797, "link": "https://stackoverflow.com/questions/55621797/why-do-i-get-keyerror-target-variable-when-i-perform-mean-squared-error-for-x/55644915#55644915", "title": "Why do I get KeyError: &#39;Target_Variable&#39; when I perform Mean Squared Error for XGBoost?", "body": "<p>After train/test split here:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>X_train, X_test, y_train, y_test = train_test_split(df_late.drop(['DELAY_YN','ARR_DELAY'],axis=1), \n                                                    df_late['ARR_DELAY'], test_size=0.30, random_state=101)\n</code></pre>\n\n<p><code>y_test</code> is in fact not a DataFrame but a Series, consists of a single column. So <code>y_test['predicted']=[np.exp(p) for p in predictions]</code> is not really what you want. Instead, I would suggest keep predictions in a separate array or a Series:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>predictions = xg_reg.predict(X_test)\n\npredictions = np.exp(predictions)\n\nfrom sklearn import metrics\nprint('MAE:', metrics.mean_absolute_error(y_test, predictions))\n...\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11342949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RZj5rgF3ibA/AAAAAAAAAAI/AAAAAAAAAAg/V3sArA8ap_c/photo.jpg?sz=128", "display_name": "Indo Politico", "link": "https://stackoverflow.com/users/11342949/indo-politico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1328, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1555046170, "creation_date": 1554932996, "question_id": 55621797, "link": "https://stackoverflow.com/questions/55621797/why-do-i-get-keyerror-target-variable-when-i-perform-mean-squared-error-for-x", "title": "Why do I get KeyError: &#39;Target_Variable&#39; when I perform Mean Squared Error for XGBoost?", "body": "<p>I'm performing XGBoost on my flight delay datasets . I executed and trained the dataset however when I tried to find the mean squared error test I got the above error.</p>\n\n<pre><code>from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(df_late.drop(['DELAY_YN','ARR_DELAY'],axis=1), \n                                                    df_late['ARR_DELAY'], test_size=0.30, random_state=101)\n\nprint('Training...')\nxg_reg = xgb.XGBRegressor(n_estimators= 2000, max_depth= 5,learning_rate =0.1)\nxg_reg.fit(X_train,y_train)\n\nprint('Predicting on test set...')\npredictions = xg_reg.predict(X_test)\n\ny_test['predicted']=[np.exp(p) for p in predictions]\n\nfrom sklearn import metrics\nprint('MAE:', metrics.mean_absolute_error(y_test['ARR_DELAY'],y_test['predicted']))\nprint('MSE:', metrics.mean_squared_error(y_test['ARR_DELAY'],y_test['predicted']))\nprint('RMSE:', np.sqrt(metrics.mean_squared_error(y_test['ARR_DELAY'],y_test['predicted'])))\n\n</code></pre>\n\n<p>I got the following error </p>\n\n<pre><code>---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n&lt;ipython-input-141-b9b5e43dd55b&gt; in &lt;module&gt;\n      2 \n      3 from sklearn import metrics\n----&gt; 4 print('MAE:', metrics.mean_absolute_error(y_test['ARR_DELAY'],y_test['predicted']))\n      5 print('MSE:', metrics.mean_squared_error(y_test['ARR_DELAY'],y_test['predicted']))\n      6 print('RMSE:', np.sqrt(metrics.mean_squared_error(y_test['ARR_DELAY'],y_test['predicted'])))\n\n~/anaconda3/envs/myenv/lib/python3.6/site-packages/pandas/core/series.py in __getitem__(self, key)\n    866         key = com.apply_if_callable(key, self)\n    867         try:\n--&gt; 868             result = self.index.get_value(self, key)\n    869 \n    870             if not is_scalar(result):\n\n~/anaconda3/envs/myenv/lib/python3.6/site-packages/pandas/core/indexes/base.py in get_value(self, series, key)\n   4318         try:\n   4319             return self._engine.get_value(s, k,\n-&gt; 4320                                           tz=getattr(series.dtype, 'tz', None))\n   4321         except KeyError as e1:\n   4322             if len(self) &gt; 0 and (self.holds_integer() or self.is_boolean()):\n\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_value()\n\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_value()\n\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc()\n\npandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()\n\npandas/_libs/hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()\n\nKeyError: 'ARR_DELAY'\n</code></pre>\n\n<p>What might be the problem ? I'm very new to Data Science hence any help would be appreciated.</p>\n"}, {"tags": ["python", "pandas", "csv"], "comments": [{"owner": {"reputation": 3305, "user_id": 4873295, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/GTi0A.jpg?s=128&g=1", "display_name": "ShellZero", "link": "https://stackoverflow.com/users/4873295/shellzero"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554934787, "post_id": 55621794, "comment_id": 97937158, "body": "There is nothing wrong with it. I am currently building that list of dicts on the fly and then pass the entire list of lets say more than 600,000 records to the dataframe to create one. It is pretty slow because of this process. So, I was wondering if I could use a buffer IO stream instead of the list of dicts and pass that straight to create a dataframe."}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 3082461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDWUs.jpg?s=128&g=1", "display_name": "rhn89", "link": "https://stackoverflow.com/users/3082461/rhn89"}, "is_accepted": false, "score": 0, "last_activity_date": 1554934170, "creation_date": 1554934170, "answer_id": 55621993, "question_id": 55621794, "link": "https://stackoverflow.com/questions/55621794/how-to-write-a-list-of-dicts-to-a-csv-and-create-a-pandas-dataframe-from-the-csv/55621993#55621993", "title": "How to write a list of dicts to a csv and create a pandas dataframe from the CSV buffer in Python?", "body": "<p>You can use the following code - </p>\n\n<pre><code>import pandas as pd\n\ndata = [{\"x\":123,\"y\":146},\n        {\"x\":146,\"y\":None},\n        {\"x\":187,\"y\":123}, \n        {\"x\":114,\"y\":184},\n        {\"x\":1328,\"y\":977}]\n\ndata = pd.DataFrame(data)\ndata.to_csv(\"/tmp/test.csv\", index=None)\npd.read_csv('/tmp/test.csv', index_col=None)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1921, "user_id": 2774479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2bab71cc0f29ccd31aa1f4ac3b5525af?s=128&d=identicon&r=PG", "display_name": "prooffreader", "link": "https://stackoverflow.com/users/2774479/prooffreader"}, "is_accepted": false, "score": 0, "last_activity_date": 1554936837, "creation_date": 1554936837, "answer_id": 55622385, "question_id": 55621794, "link": "https://stackoverflow.com/questions/55621794/how-to-write-a-list-of-dicts-to-a-csv-and-create-a-pandas-dataframe-from-the-csv/55622385#55622385", "title": "How to write a list of dicts to a csv and create a pandas dataframe from the CSV buffer in Python?", "body": "<p>Here is a much easier way to do it</p>\n\n<pre><code>import json\nimport pandas as pd\n\ndata = [{\"x\":123,\"y\":146},{\"x\":146,\"y\":None},\n       {\"x\":187,\"y\":123},{\"x\":114,\"y\":184},{\"x\":1328,\"y\":977}]\n\ndata = json.dumps(data)\ndf = pd.read_json(data)\n\nprint(df)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>      x      y\n0   123  146.0\n1   146    NaN\n2   187  123.0\n3   114  184.0\n4  1328  977.0\n</code></pre>\n\n<p>Note that column \"y\" is coerced to float because NaN is a float.</p>\n"}], "owner": {"reputation": 3305, "user_id": 4873295, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/GTi0A.jpg?s=128&g=1", "display_name": "ShellZero", "link": "https://stackoverflow.com/users/4873295/shellzero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554936837, "creation_date": 1554932972, "question_id": 55621794, "link": "https://stackoverflow.com/questions/55621794/how-to-write-a-list-of-dicts-to-a-csv-and-create-a-pandas-dataframe-from-the-csv", "title": "How to write a list of dicts to a csv and create a pandas dataframe from the CSV buffer in Python?", "body": "<p>I am trying to create a csv object from a list of dicts and then create a pandas dataframe by reading that csv object as a string buffer. But the resultant pandas dataframe doesn't look right to me. I am not sure how to format it correctly. I was wondering if anyone could suggest me right approach. Here is the code which I am using:</p>\n\n<pre><code>import pandas as pd\nimport io\nimport csv\ndata = [{\"x\":123,\"y\":146},{\"x\":146,\"y\":None},\n           {\"x\":187,\"y\":123},{\"x\":114,\"y\":184},{\"x\":1328,\"y\":977}]\noutput = io.StringIO()\nwriter = csv.writer(output, quoting=csv.QUOTE_NONNUMERIC)\nwriter.writerow(data)\noutput.getvalue()\npd.read_csv(io.StringIO(output.getvalue()))\n</code></pre>\n\n<p>The last line generates the following in one single line:</p>\n\n<pre><code>{'x': 123, 'y': 146}    {'x': 146, 'y': None}   {'x': 187, 'y': 123}    {'x': 114, 'y': 184}    {'x': 1328, 'y': 977}\n</code></pre>\n\n<p>I would like to format this as <code>x</code> and <code>y</code> as column names and the respective values as the rows.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "django", "face-recognition"], "answers": [{"tags": [], "owner": {"reputation": 6070, "user_id": 2609806, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/y3cZz.jpg?s=128&g=1", "display_name": "niekas", "link": "https://stackoverflow.com/users/2609806/niekas"}, "is_accepted": false, "score": 1, "last_activity_date": 1563474384, "creation_date": 1563474384, "answer_id": 57100644, "question_id": 55621789, "link": "https://stackoverflow.com/questions/55621789/operands-could-not-be-broadcast-together-with-shapes-128-0-error/57100644#57100644", "title": "Operands could not be broadcast together with shapes (128,) (0,) error", "body": "<p>The first argument for <code>face_recognition.compare_faces</code> function should be a list as <a href=\"https://github.com/ageitgey/face_recognition#recognize-faces-in-images-and-identify-who-they-are\" rel=\"nofollow noreferrer\">stated in the documentation</a>. Change your <code>django-projects\\aps\\aps_site\\authenticate\\views.py</code> line 37 to:</p>\n\n<pre><code>check=face_recognition.compare_faces([face_1_face_encoding], face_encodings)\n</code></pre>\n\n<p>To solve the cause of the exception.</p>\n"}], "owner": {"reputation": 41, "user_id": 11245237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5f8fe8a964a98bbfe5cce563fd91be?s=128&d=identicon&r=PG&f=1", "display_name": "eden10", "link": "https://stackoverflow.com/users/11245237/eden10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1563474384, "creation_date": 1554932947, "question_id": 55621789, "link": "https://stackoverflow.com/questions/55621789/operands-could-not-be-broadcast-together-with-shapes-128-0-error", "title": "Operands could not be broadcast together with shapes (128,) (0,) error", "body": "<p>I am trying to implement a facial recognition login system but I have an error \"Operands could not be broadcast together with shapes (128,) (0,)\" and I have no idea what or how can I solve it. Here are my view.py and facedetector.py that have been implemented and the error that I get from my server:</p>\n\n<h1>errors</h1>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\django-projects\\lib\\site packages\\django\\core\\handlers\\exception.py\", line 34, in inner\nresponse = get_response(request)\nFile \"C:\\django-projects\\lib\\site-packages\\django\\core\\handlers\\base.py\", \nline 126, in _get_response\nresponse = self.process_exception_by_middleware(e, request)\nFile \"C:\\django-projects\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 124, in _get_response\nresponse = wrapped_callback(request, *callback_args, **callback_kwargs)\nFile \"C:\\django-projects\\aps\\aps_site\\authenticate\\views.py\", line 54, in login_user\nif facedect(user.userprofile.head_shot.url):\nFile \"C:\\django-projects\\aps\\aps_site\\authenticate\\views.py\", line 37, in facedect\ncheck=face_recognition.compare_faces(face_1_face_encoding, face_encodings)\nFile \"C:\\django-projects\\lib\\site-packages\\face_recognition\\api.py\", line 222, in compare_faces\nreturn list(face_distance(known_face_encodings, face_encoding_to_check) &lt;= tolerance)\nFile \"C:\\django-projects\\lib\\site-packages\\face_recognition\\api.py\", line 72, in face_distance\nreturn np.linalg.norm(face_encodings - face_to_compare, axis=1) \nValueError: operands could not be broadcast together with shapes (128,) (0,)\n</code></pre>\n\n<h1>views.py</h1>\n\n<pre><code>from django.shortcuts import render, redirect\nfrom django.contrib.auth import authenticate, login, logout, \nupdate_session_auth_hash\nfrom django.contrib.auth.forms import UserCreationForm, UserChangeForm, PasswordChangeForm\nfrom django.contrib import messages\nfrom .forms import SignUpForm, EditProfileForm\nfrom django.urls import path, include\nimport os\nimport face_recognition\nimport cv2 \n\n# Create your views here.\n\ndef home(request):\n    return render(request, 'authenticate/home.html', {})\n\ndef facedect(loc):\n    cam = cv2.VideoCapture(0)   \n    s, img = cam.read()\n    if s:   \n\n            BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n            MEDIA_ROOT =os.path.join(BASE_DIR,'aps_site')\n\n            loc=(str(MEDIA_ROOT)+loc)\n            face_1_image = face_recognition.load_image_file(loc)\n            face_1_face_encoding = face_recognition.face_encodings(face_1_image)[0]\n\n            #\n\n            small_frame = cv2.resize(img, (0, 0), fx=0.25, fy=0.25)\n\n            rgb_small_frame = small_frame[:, :, ::-1]\n\n            face_locations = face_recognition.face_locations(rgb_small_frame)\n            face_encodings = face_recognition.face_encodings(rgb_small_frame, face_locations)\n\n            check=face_recognition.compare_faces(face_1_face_encoding, face_encodings)\n\n\n            print(check)\n            if check[0]:\n                    return True\n\n            else :\n                    return False    \n\n\ndef login_user(request):\n    if request.method == 'POST':\n        username = request.POST['username']\n        password = request.POST['password']\n        user = authenticate(request, username=username,password=password)\n    if user is not None:\n        if facedect(user.userprofile.head_shot.url):\n            login(request, user)\n            messages.success(request,('You have successfully logged in!'))\n        return redirect('home')\n    else:\n        messages.success(request, ('Error logging in!-Please try again'))\n        return redirect('login')\nelse:\n    return render(request, 'authenticate/login.html', {})\n\ndef logout_user(request):\n    logout(request)\n    messages.success(request, ('You have been logged out!'))\n    return redirect('login')\n\ndef register_user(request):\n    if request.method == 'POST':\n        form = SignUpForm(request.POST)\n        if form.is_valid():\n            form.save()\n            username = form.cleaned_data['username']\n            password = form.cleaned_data['password1']\n            user = authenticate(username = username, password = password)\n            login(request, user)\n            messages.success(request, ('You have registered...'))\n            return redirect('home')\n    else:\n        form = SignUpForm()\n\n    context = {'form' : form}\n    return render(request, 'authenticate/register.html', context)\n\ndef edit_profile(request):\n    if request.method == 'POST':\n        form = EditProfileForm(request.POST, instance=request.user)\n        if form.is_valid():\n            form.save()\n            messages.success(request, ('You have edited your profile...'))\n            return redirect('home')\n    else:\n        form = EditProfileForm(instance=request.user) #\n\n    context = {'form' : form}\n    return render(request, 'authenticate/edit_profile.html', context)\n\ndef change_password(request):\n    if request.method == 'POST':\n        form = PasswordChangeForm(data=request.POST, user=request.user)\n        if form.is_valid():\n            form.save()\n            update_session_auth_hash(request, form.user)\n            messages.success(request, ('You have changed your password...'))\n            return redirect('home')\n    else:\n        form = PasswordChangeForm(user=request.user) #\n\n    context = {'form' : form}\n    return render(request, 'authenticate/change_password.html', context)\n</code></pre>\n\n<h1>facedetector.py</h1>\n\n<pre><code>import os\nfrom django.urls import path, include\nimport face_recognition\nimport cv2 \nfrom PIL import Image #?\n\n\n#initialize the camera\ndef facedect(loc):\n    cam = cv2.VideoCapture(0)   # 0 -&gt; index of camera\n    s, img = cam.read()\n    if s:   \n            # frame captured without any errors\n            cv2.namedWindow(\"image_test\")\n            cv2.imshow(\"image_test\",img)\n            #cv2.waitKey(0) # waits until a key is pressed\n            cv2.destroyWindow(\"image_test\")\n            cv2.imwrite(\"captured-image.png\",img) #to save the captured image to the directory file\n\n            BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n            MEDIA_ROOT =os.path.join(BASE_DIR,'aps_site')\n\n            print(MEDIA_ROOT,loc)\n            loc=(str(MEDIA_ROOT)+loc)\n            print(loc)\n            print(\"C:\\django-projects\\aps\\aps_site\\aps_site\\media\\profile_images\")\n            face_1_image = face_recognition.load_image_file(loc)\n            face_1_face_encoding = face_recognition.face_encodings(face_1_image)[0]\n\n            small_frame = cv2.resize(img, (0, 0), fx=0.25, fy=0.25)\n\n            rgb_small_frame = small_frame[:, :, ::-1]\n\n            face_locations = face_recognition.face_locations(rgb_small_frame)\n            face_encodings = face_recognition.face_encodings(rgb_small_frame, face_locations)\n\n            check=face_recognition.compare_faces(face_1_face_encoding, face_encodings)\n\n            print(check)\n            if check[0]:\n                    return True\n\n            else :\n                    return False    \n\nfacedect('C:\\media\\profile_images')\n</code></pre>\n"}, {"tags": ["python", "pandas", "group-by", "pivot"], "answers": [{"comments": [{"owner": {"reputation": 1733, "user_id": 5929443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c69b793fe403ae494a795ba710902d?s=128&d=identicon&r=PG&f=1", "display_name": "Vishesh Shrivastav", "link": "https://stackoverflow.com/users/5929443/vishesh-shrivastav"}, "edited": false, "score": 0, "creation_date": 1554933424, "post_id": 55621820, "comment_id": 97936711, "body": "This works! But I do not understand what is happening."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 1733, "user_id": 5929443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c69b793fe403ae494a795ba710902d?s=128&d=identicon&r=PG&f=1", "display_name": "Vishesh Shrivastav", "link": "https://stackoverflow.com/users/5929443/vishesh-shrivastav"}, "edited": false, "score": 0, "creation_date": 1554933507, "post_id": 55621820, "comment_id": 97936742, "body": "@VisheshShrivastav Let me know what was not clear. I think if you run the commands one by one and see how the data is transformed between steps, it&#39;ll become clear."}, {"owner": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 0, "creation_date": 1554933635, "post_id": 55621820, "comment_id": 97936780, "body": "Sorry to be a pain but could you explain unstack and how the map function works for this problem (no rush take your time) ? Looks really useful!"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 2, "creation_date": 1554933798, "post_id": 55621820, "comment_id": 97936830, "body": "@Datanovice No worries. The outputs from the first statement (in both options) returns a result with a multi-index column. I then used this neat trick I learned (from Andy? Scott...?) which leverages <a href=\"https://pandas.pydata.org/pandas-docs/version/0.22/generated/pandas.MultiIndex.map.html\" rel=\"nofollow noreferrer\"><code>MultiIndex.map</code></a> to flatten the columns by joining them by underscore. Note: This is possible because each multiIndex is internally represented by a list of tuples (do <code>u.columns.values</code> after step #1 to see what I mean)."}, {"owner": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 0, "creation_date": 1554933935, "post_id": 55621820, "comment_id": 97936869, "body": "Thanks that&#39;s really clear, will give this a go when I&#39;m at my laptop"}, {"owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "edited": false, "score": 0, "creation_date": 1554944402, "post_id": 55621820, "comment_id": 97939321, "body": "@coldspeed: <code>MultiIndex.map</code> is indeed very neat. However, I couldn&#39;t find it anywhere in the 0.24.2 docs. There is only <code>Index.map</code> in 0.24.2 docs. Is it deprecated in 0.24.2?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "edited": false, "score": 0, "creation_date": 1554944656, "post_id": 55621820, "comment_id": 97939374, "body": "@andy Odd... I don&#39;t believe it is deprecated, but I can&#39;t seem to find a v0.24 link. Perhaps they did not make one for whatever reasons. If you want still to look at the spec, run <code>help(pd.MultiIndex.map)</code> on a python/IPython REPL."}, {"owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "edited": false, "score": 0, "creation_date": 1554945512, "post_id": 55621820, "comment_id": 97939538, "body": "@coldspeed: it is also odd that <code>pd.MultiIndex.map</code> and <code>pd.Index.map</code> return the same <code>&lt;function pandas.core.indexes.base.Index.map(self, mapper)&gt;</code> and help(...) of both return the same info. So, are they wrapper/decorator of <code>base.Index.map</code> ?"}, {"owner": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 1, "creation_date": 1555008684, "post_id": 55621820, "comment_id": 97969516, "body": "thanks, the tip was super useful, will be using the map with multiindex going forward. p.s i think <code>u = pd.crosstab(df.accnt,df.category,values=df.value,aggfunc=(&#39;s&zwnj;&#8203;um&#39;,&#39;count&#39;))</code> is easier to read, although I may be wrong!"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 1, "creation_date": 1555008737, "post_id": 55621820, "comment_id": 97969537, "body": "@Datanovice You are probably correct. I happened to go with pivot_table since that was the titular function in this post (plus, it is usually faster :)"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 5, "last_activity_date": 1554933092, "creation_date": 1554933092, "answer_id": 55621820, "question_id": 55621752, "link": "https://stackoverflow.com/questions/55621752/group-by-pivot/55621820#55621820", "title": "Group by/ Pivot", "body": "<p>Use <code>groupby</code>, <code>agg</code>, and <code>unstack</code>:</p>\n\n<pre><code>u = df.groupby(['accnt', 'category'])['value'].agg(['sum', 'count']).unstack(1)\nu.columns = u.columns.map('{0[0]}_c{0[1]}'.format)\nu\n\n       sum_c1  sum_c2  sum_c3  count_c1  count_c2  count_c3\naccnt                                                      \n101       110       5      18         3         1         1\n102        43       2      97         2         1         2\n103        30      84      26         1         3         1\n104        40      73      20         1         2         2\n</code></pre>\n\n<hr>\n\n<p>Similarly, with <code>pivot_table</code>,</p>\n\n<pre><code>u = df.pivot_table(index=['accnt'], \n                   columns='category', \n                   values='value', \n                   aggfunc=['sum', 'count'])\nu.columns = u.columns.map('{0[0]}_c{0[1]}'.format)\nu\n\n       sum_c1  sum_c2  sum_c3  count_c1  count_c2  count_c3\naccnt                                                      \n101       110       5      18         3         1         1\n102        43       2      97         2         1         2\n103        30      84      26         1         3         1\n104        40      73      20         1         2         2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554933456, "post_id": 55621874, "comment_id": 97936723, "body": "Sorry, just thought I should point out I have covered this in <a href=\"https://stackoverflow.com/a/55621820/4909087\">my answer</a>."}, {"owner": {"reputation": 5228, "user_id": 8329213, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Db9cx.jpg?s=128&g=1", "display_name": "cph_sto", "link": "https://stackoverflow.com/users/8329213/cph-sto"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554934051, "post_id": 55621874, "comment_id": 97936904, "body": "@coldspeed There is nothing wrong if inadvertently people end up posting similar answers. Posting multiple methods should not in any way preclude others from answering with one of the methods if they are already in the process of composing an answer."}, {"owner": {"reputation": 347, "user_id": 3760994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTBi7.jpg?s=128&g=1", "display_name": "Augusto Sisa", "link": "https://stackoverflow.com/users/3760994/augusto-sisa"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554934839, "post_id": 55621874, "comment_id": 97937177, "body": "Sorry @coldspeed. I couldn&#39;t read the question page before I sent my answer after I start to write it."}], "tags": [], "owner": {"reputation": 347, "user_id": 3760994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTBi7.jpg?s=128&g=1", "display_name": "Augusto Sisa", "link": "https://stackoverflow.com/users/3760994/augusto-sisa"}, "is_accepted": false, "score": 1, "last_activity_date": 1554933400, "creation_date": 1554933400, "answer_id": 55621874, "question_id": 55621752, "link": "https://stackoverflow.com/questions/55621752/group-by-pivot/55621874#55621874", "title": "Group by/ Pivot", "body": "<p>Pandas has a method to do that.</p>\n\n<pre><code>pivot2 = dummy_df.pivot_table(values='value', index='accnt', columns='category', aggfunc=['count', 'sum'])\n</code></pre>\n\n<p>That returns a dataframe like this:</p>\n\n<pre><code>         count        sum\ncategory     1  2  3    1   2   3\naccnt\n101          3  1  1  110   5  18\n102          2  1  2   43   2  97\n103          1  3  1   30  84  26\n104          1  2  2   40  73  20\n</code></pre>\n"}], "owner": {"reputation": 1733, "user_id": 5929443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c69b793fe403ae494a795ba710902d?s=128&d=identicon&r=PG&f=1", "display_name": "Vishesh Shrivastav", "link": "https://stackoverflow.com/users/5929443/vishesh-shrivastav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 2, "accepted_answer_id": 55621820, "answer_count": 2, "score": 3, "last_activity_date": 1554933400, "creation_date": 1554932769, "question_id": 55621752, "link": "https://stackoverflow.com/questions/55621752/group-by-pivot", "title": "Group by/ Pivot", "body": "<pre><code>dummy_df = pd.DataFrame({\n    'accnt' : [101, 102, 103, 104, 101, 102, 103, 104, 101, 102, 103, 104, 101, 102, 103, 104, 101, 102, 103, 104],\n    'value' : [10, 20, 30, 40, 5, 2, 6, 48, 22, 23, 24, 25, 18, 25, 26, 14, 78, 72, 54, 6],\n    'category' : [1,1,1,1,2,2,2,2,1,1,2,2,3,3,3,3,1,3,2,3]\n})\n</code></pre>\n\n<p>dummy_df</p>\n\n<pre><code>accnt   value   category\n 101     10      1\n 102     20      1\n 103     30      1\n 104     40      1\n 101     5       2\n 102     2       2\n 103     6       2\n 104     48      2\n 101     22      1\n 102     23      1\n 103     24      2\n 104     25      2\n 101     18      3\n 102     25      3\n 103     26      3\n 104     14      3\n 101     78      1\n 102     72      3\n 103     54      2\n 104     6       3\n</code></pre>\n\n<p>I want to get a dataframe like below:</p>\n\n<pre><code>accnt   sum_val_c1  count_c1    sum_val_ct2 count_c2    sum_val_c3  count_c3\n  101       110        3           5           1              18     1\n  102       43         2           2           1              97     2\n  103       30         1           84          3              26     1\n  104       40         1           73          2              20     2\n</code></pre>\n\n<p>Which is summing up the occurrence of a category into <code>count_c#</code> and summing the value of that category into <code>sum_val_c#</code> and grouping by on <code>accnt</code>. I have tried using <code>pivot()</code> and <code>groupby()</code> but I know I'm missing something.</p>\n"}, {"tags": ["python", "mysql", "sqlalchemy", "celery"], "comments": [{"owner": {"reputation": 7191, "user_id": 4929646, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/HWc5G.jpg?s=128&g=1", "display_name": "Danila Ganchar", "link": "https://stackoverflow.com/users/4929646/danila-ganchar"}, "edited": false, "score": 0, "creation_date": 1555408122, "post_id": 55621745, "comment_id": 98091426, "body": "Could you explain why you do order(<code>order_by(func.rand()</code>)?"}], "owner": {"reputation": 5515, "user_id": 1786016, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6c93340ce2be272253366d5de329376b?s=128&d=identicon&r=PG", "display_name": "Arti", "link": "https://stackoverflow.com/users/1786016/arti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1554933476, "creation_date": 1554932735, "last_edit_date": 1554933476, "question_id": 55621745, "link": "https://stackoverflow.com/questions/55621745/sqlalchemy-with-for-update-cause-that-select-not-working-in-session", "title": "sqlalchemy with_for_update cause that select not working in session", "body": "<p>I'm using flask+mysql and celery+redis.</p>\n\n<p>I have a <code>Backend</code> and <code>Item</code> models with <code>ForeignKey</code> relation.</p>\n\n<p>I have the similar code like below that I'm running in task:</p>\n\n<pre><code>@task()\ndef my_task():\n  while True:\n    backends = db.session.query(Backend).filter(Item.in_use==False)\n\n    for backend in backends:\n       # do some staff\n\n       # select Item again and set it in_use\n       try:\n           item = db.session.query(\n               Item\n           ).with_for_update().filter_by(\n               backend=backend,\n               in_use=False\n            ).order_by(func.rand()).first()\n            if item:\n                item.in_use = True\n                backend.usage = Backend.usage+1\n                db.session.add(item)\n                db.session.add(backend)\n                db.session.commit()\n       except exc.OperationalError as e:\n          # catching deadlock\n          pass\n\n       db.session.commit()\n    time.sleep(30)\n    if item:\n       item.in_use = False\n       db.session.add(item)\n       db.session.commit()\n       break\n</code></pre>\n\n<p>If i run it 5-10 tasks parallel it works fine. But when I launch 100 tasks at the end I have 10-15 tasks that will work forever. Because query:</p>\n\n<pre><code>backends = db.session.query(Backend).filter(Item.in_use==False)\n</code></pre>\n\n<p>Returns always 0 free <code>Backends</code>. </p>\n\n<p>In <strong>MYSQL</strong> I see that all Items been released. I can save them, change status, but queries inside task keep returning 0 <code>Items</code></p>\n\n<p>I launch task like this:</p>\n\n<pre><code>@task\ndef run_tasks():\n    g = group(my_task.s() for _ in range(0, count))\n    g()\n\nrun_tasks.delay()\n</code></pre>\n\n<p>If I will do:</p>\n\n<pre><code>SHOW PROCESSLIST;\n</code></pre>\n\n<p>I see some sleep processes.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IFsaE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IFsaE.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "list", "filter", "split", "subset"], "answers": [{"tags": [], "owner": {"reputation": 3792, "user_id": 7259671, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/COi5o.jpg?s=128&g=1", "display_name": "webDev", "link": "https://stackoverflow.com/users/7259671/webdev"}, "is_accepted": true, "score": 1, "last_activity_date": 1554933703, "creation_date": 1554933703, "answer_id": 55621914, "question_id": 55621730, "link": "https://stackoverflow.com/questions/55621730/splitting-a-data-frame-by-a-column-using-a-dynamic-list-of-that-columns-unique-v/55621914#55621914", "title": "Splitting a data frame by a column using a dynamic list of that columns unique values in python", "body": "<p>Take a look if this solves your problem</p>\n\n<p>To get all the unique levels in your data:</p>\n\n<pre><code>df = pd.DataFrame(data, columns = ['Name', 'Age', 'Level'])\nlevels = list()\nlevels = df['Level']\nlevels = set(levels)\nprint(levels) # gives you all the unique levels (1 to 5)\n</code></pre>\n\n<p>To get data of each level (all together):</p>\n\n<pre><code>data = [['Bill', 21, 'Level 1'], ['Joe', 25, 'Level 1'],['Sam', 22, 'Level 2'],['Ash', 19, 'Level 3'],['Mike', 28, 'Level 3'],['Ang', 20, 'Level 4'],['Paul', 25, 'Level 4'],['Kathy', 29, 'Level 5']]\ndf = pd.DataFrame(data, columns = ['Name', 'Age', 'Level'])\nlevels = list()\nlevels = df['Level']\nlevels = set(levels)  ## gets unique levels {'Level 1', 'Level 2', 'Level 3', 'Level 4', 'Level 5'}\nfor l in levels:\n    df_level = df.loc[df['Level'] == l]\n    print(\"Data for Level:\"+l)\n    print(df_level[['Name','Age']])\n    print(\"======================\")\n</code></pre>\n\n<p><strong>Output</strong> <br></p>\n\n<pre><code>Data for Level:Level 4\n   Name  Age\n5   Ang   20\n6  Paul   25\n======================\nData for Level:Level 5\n    Name  Age\n7  Kathy   29\n======================\nData for Level:Level 3\n   Name  Age\n3   Ash   19\n4  Mike   28\n======================\nData for Level:Level 1\n   Name  Age\n0  Bill   21\n1   Joe   25\n======================\nData for Level:Level 2\n  Name  Age\n2  Sam   22\n======================\n</code></pre>\n"}], "owner": {"reputation": 394, "user_id": 9372533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf6f602a462dda0d94d9b22f47632c88?s=128&d=identicon&r=PG&f=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/9372533/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 55621914, "answer_count": 1, "score": 0, "last_activity_date": 1554933703, "creation_date": 1554932643, "last_edit_date": 1592644375, "question_id": 55621730, "link": "https://stackoverflow.com/questions/55621730/splitting-a-data-frame-by-a-column-using-a-dynamic-list-of-that-columns-unique-v", "title": "Splitting a data frame by a column using a dynamic list of that columns unique values in python", "body": "<p>Very new python user here. I have a data frame that I am trying to subset by whatever unique values that are in the column &quot;Level&quot;. I would like each sub-setting result in a list or its own data frame. In this example I have Level 1, 2, 3, 4, 5 so I would want either 5 separate data frames with only one unique value in each data frame or a list with 5 different values. Here is the data frame:</p>\n<h2>Using Python 3.7</h2>\n<pre><code>import pandas as pd\nimport numpy as np\n\ndata = [['Bill', 21, 'Level 1'], ['Joe', 25, 'Level 1'],['Sam', 22, 'Level 2'],['Ash', 19, 'Level 3'],['Mike', 28, 'Level 3'],['Ang', 20, 'Level 4'],['Paul', 25, 'Level 4'],['Kathy', 29, 'Level 5']]\n\ndf = pd.DataFrame(data, columns = ['Name', 'Age', 'Level'])\n</code></pre>\n<p>I can do get the desired results if I know the names of the different levels and can hard code it into the code. My problem is I do not always know what will be in the 'Level' column. The code would need to be smart enough to detect the different levels, split by that, and saved the result in a data frames or a list. I am not really sure how to go about getting this started..</p>\n<p>Thank you!</p>\n"}, {"tags": ["python", "python-3.x", "visual-studio-code", "python-telegram-bot"], "comments": [{"owner": {"reputation": 41, "user_id": 11246617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwGWD.png?s=128&g=1", "display_name": "sergio_teula", "link": "https://stackoverflow.com/users/11246617/sergio-teula"}, "edited": false, "score": 0, "creation_date": 1555094213, "post_id": 55621672, "comment_id": 98003976, "body": "I have tested it on previous Visual Studio Code versions and the issue doesn&#39;t appear. So it&#39;s something related with the last update of VS Code. Any idea?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 11246617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwGWD.png?s=128&g=1", "display_name": "sergio_teula", "link": "https://stackoverflow.com/users/11246617/sergio-teula"}, "is_accepted": false, "score": 0, "last_activity_date": 1555097283, "creation_date": 1555097283, "answer_id": 55658297, "question_id": 55621672, "link": "https://stackoverflow.com/questions/55621672/how-to-solve-raised-exception-related-to-updater-happening-with-latest-vs-code-u/55658297#55658297", "title": "How to solve raised exception related to Updater happening with latest VS Code update only?", "body": "<p>I have solved it by adding some arguments to Updater.</p>\n\n<pre><code>updater = Updater(token, request_kwargs={'read_timeout': 15, 'connect_timeout': 15})\n</code></pre>\n\n<p>You can try with other timeouts values. If you are still getting the error, try higher values.</p>\n"}], "owner": {"reputation": 41, "user_id": 11246617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwGWD.png?s=128&g=1", "display_name": "sergio_teula", "link": "https://stackoverflow.com/users/11246617/sergio-teula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555097283, "creation_date": 1554932346, "last_edit_date": 1555094466, "question_id": 55621672, "link": "https://stackoverflow.com/questions/55621672/how-to-solve-raised-exception-related-to-updater-happening-with-latest-vs-code-u", "title": "How to solve raised exception related to Updater happening with latest VS Code update only?", "body": "<p>I'm using Python Telegram Bot and Visual Studio Code. When I start my bot, after some seconds it raises an error that opens this message:</p>\n\n<pre><code>Could not load source '&lt;string&gt;': Source unavailable.\n</code></pre>\n\n<p>And the following exception:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\\\Users\\\\sergi\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35\\\\lib\\\\site-packages\\\\telegram\\\\vendor\\\\ptb_urllib3\\\\urllib3\\\\connectionpool.py\", line 398, in _make_request\nhttplib_response = conn.getresponse()\nFile \"C:\\\\Users\\\\sergi\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35\\\\lib\\\\http\\\\client.py\", line 1198, in getresponse\nresponse.begin()\nFile \"C:\\\\Users\\\\sergi\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35\\\\lib\\\\http\\\\client.py\", line 297, in begin\\n    version, status, reason = self._read_status()\nFile \"C:\\\\Users\\\\sergi\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35\\\\lib\\\\http\\\\client.py\", line 258, in _read_status\\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\nFile \"C:\\\\Users\\\\sergi\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35\\\\lib\\\\socket.py\", line 576, in readinto\\n    return self._sock.recv_into(b)\nFile \"C:\\\\Users\\\\sergi\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35\\\\lib\\\\ssl.py\", line 937, in recv_into\nreturn self.read(nbytes, buffer)\\n  File \"C:\\\\Users\\\\sergi\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35\\\\lib\\\\ssl.py\", line 799, in read\nreturn self._sslobj.read(len, buffer)\\n  File \"C:\\\\Users\\\\sergi\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35\\\\lib\\\\ssl.py\", line 583, in read\nv = self._sslobj.read(len, buffer)\\nsocket.timeout: The read operation timed out\n\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last)\nFile \"c:\\\\Users\\\\sergi\\\\.vscode\\\\extensions\\\\ms-python.python-2019.3.6558\\\\pythonFiles\\\\lib\\\\python\\\\ptvsd\\\\_vendored\\\\pydevd\\\\_pydevd_bundle\\\\pydevd_resolver.py\", line 213, in _get_py_dictionary\nattr = getattr(var, name)\nAttributeError: characters_written\n</code></pre>\n\n<p>This wasn't happening on previous VS Code versions, only happens with the last update. Any idea on how to solve it?</p>\n"}, {"tags": ["python", "machine-learning", "categorical-data"], "comments": [{"owner": {"reputation": 227, "user_id": 1778141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7803ec01e9e06726018117ba39c73ea?s=128&d=identicon&r=PG", "display_name": "skippy", "link": "https://stackoverflow.com/users/1778141/skippy"}, "edited": false, "score": 0, "creation_date": 1554932982, "post_id": 55621644, "comment_id": 97936544, "body": "What would you expect when the interval is 12:00:00 to 17:00:00 . Does the lower bound hour ( here 12 ) prioritize category versus the upper bound hour ( 17 )"}, {"owner": {"reputation": 5668, "user_id": 712526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/06e3c4065e9d08da698b4f4de3959294?s=128&d=identicon&r=PG", "display_name": "jpaugh", "link": "https://stackoverflow.com/users/712526/jpaugh"}, "edited": false, "score": 1, "creation_date": 1554934554, "post_id": 55621644, "comment_id": 97937061, "body": "@Govardhan Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>! Broad questions like this are hard to answer in a way that leaves one best answer. This is probably off topic for this site."}], "answers": [{"tags": [], "owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "is_accepted": false, "score": 1, "last_activity_date": 1554934372, "last_edit_date": 1554934372, "creation_date": 1554932581, "answer_id": 55621716, "question_id": 55621644, "link": "https://stackoverflow.com/questions/55621644/how-to-convert-time-to-category-in-python/55621716#55621716", "title": "How to Convert time to category in python?", "body": "<p>If you want to use it for machine learning you normally want it to be a integer value, or transform it into a <a href=\"https://en.wikipedia.org/wiki/One-hot\" rel=\"nofollow noreferrer\">one-hot</a> encoding.</p>\n\n<p>To get the integer value you can integer divide on the hour: </p>\n\n<pre><code>from datetime import datetime,timedelta\n\nvalues = [datetime.now() + timedelta(hours=i) for i in range(24)] \n\n[value.hour // 6 for value in values]\n</code></pre>\n\n<p>yields:</p>\n\n<pre><code>[3, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 227, "user_id": 1778141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7803ec01e9e06726018117ba39c73ea?s=128&d=identicon&r=PG", "display_name": "skippy", "link": "https://stackoverflow.com/users/1778141/skippy"}, "is_accepted": false, "score": 0, "last_activity_date": 1554933473, "creation_date": 1554933473, "answer_id": 55621883, "question_id": 55621644, "link": "https://stackoverflow.com/questions/55621644/how-to-convert-time-to-category-in-python/55621883#55621883", "title": "How to Convert time to category in python?", "body": "<p>I didn't use any machine learning library. Wrote a function that returns a category \ndepending on what the lower bound hour of the day is. </p>\n\n<p>Based on your example , I'd assume the lower bound hour does prioritize the category.\nMaybe I'd like to understand the use case a bit better.</p>\n\n<pre><code># hour can be some number from 0 to 23 which is also the lower bound hour \n# in the mentioned interval \n# 17:30:13- 19:30:13 should fall under \"evening\"\n# 12:00:12-13:00:12  should fall under \"noon\"\n# For 17:30:13- 19:30:13 , hour will be 17\n# For 12:00:12-13:00:12 , hour will be 12\nget_category(hour):\n    if hour &lt; 12:\n        return \"morning\"\n    elif hour == 12:\n        return \"noon\"\n    elif hour &gt; 12 and hour &lt; 16:\n        return \"evening\"\n    else:\n        return \"night\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 11065371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bace96f5381ffc46016af14a41e51?s=128&d=identicon&r=PG&f=1", "display_name": "Verse He", "link": "https://stackoverflow.com/users/11065371/verse-he"}, "is_accepted": false, "score": 0, "last_activity_date": 1554933564, "creation_date": 1554933564, "answer_id": 55621897, "question_id": 55621644, "link": "https://stackoverflow.com/questions/55621644/how-to-convert-time-to-category-in-python/55621897#55621897", "title": "How to Convert time to category in python?", "body": "<p>You may need to name a function by yourself and customize the cutoff time.</p>\n\n<pre><code>import datetime\n# test date\nTestdate = datetime.datetime.now().time()\n\ndef GetDateCate (DateInput):\n    # name a cutoff date:\n    noon = datetime.time(12) \n    evening =datetime.time(18) \n    if Testdate &lt;noon:\n        print('Morning')\n    elif Testdate &lt;evening:\n        print('Afternoon')\n    else: \n        print('Night')\n\nGetDateCate(Testdate)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11342902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfea12c20d491fbf5b3f32f7d946854f?s=128&d=identicon&r=PG&f=1", "display_name": "Govardhan", "link": "https://stackoverflow.com/users/11342902/govardhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1554934372, "creation_date": 1554932163, "last_edit_date": 1554934192, "question_id": 55621644, "link": "https://stackoverflow.com/questions/55621644/how-to-convert-time-to-category-in-python", "title": "How to Convert time to category in python?", "body": "<p>How to convert time to some category?</p>\n\n<p>For example, times between 17:30:13 and 19:30:13 should be categorized as \"in the evening.\" Times between 12:00:12 and 13:00:12 should fall under \"noon.\"</p>\n\n<p>What is a good approach to do this in python?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 797, "user_id": 10397317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LGVBG-_4e0U/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2Kxbv4YCFKUQMz9FjXkYyHHTvdyw/mo/photo.jpg?sz=128", "display_name": "Konrad", "link": "https://stackoverflow.com/users/10397317/konrad"}, "edited": false, "score": 0, "creation_date": 1554932222, "post_id": 55621639, "comment_id": 97936300, "body": "Check getters and setters methods"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 2727051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d5cd66edc9111ee8cea2e868c23a36?s=128&d=identicon&r=PG", "display_name": "NetworkingGuru", "link": "https://stackoverflow.com/users/2727051/networkingguru"}, "edited": false, "score": 0, "creation_date": 1554934281, "post_id": 55621711, "comment_id": 97936977, "body": "This answer actually got me where I needed to be. I&#39;ll post an edit with the code."}], "tags": [], "owner": {"reputation": 11, "user_id": 10869860, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H6GxsbnYtPY/AAAAAAAAAAI/AAAAAAAAAMk/-eS90hpLrPk/photo.jpg?sz=128", "display_name": "rdvdev2", "link": "https://stackoverflow.com/users/10869860/rdvdev2"}, "is_accepted": false, "score": 0, "last_activity_date": 1554932541, "creation_date": 1554932541, "answer_id": 55621711, "question_id": 55621639, "link": "https://stackoverflow.com/questions/55621639/modifying-the-attribute-of-an-object-using-a-class-method-in-python/55621711#55621711", "title": "Modifying the attribute of an object using a class method in python", "body": "<p>In the class method you are modifying the <code>attribute</code> variable, wich is a function argument. If you want to modify the object attribute you have to access <code>self.attribute</code></p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 2727051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d5cd66edc9111ee8cea2e868c23a36?s=128&d=identicon&r=PG", "display_name": "NetworkingGuru", "link": "https://stackoverflow.com/users/2727051/networkingguru"}, "edited": false, "score": 0, "creation_date": 1554933519, "post_id": 55621742, "comment_id": 97936748, "body": "Ah, that makes sense. I already converted it to use getattr/setattr earlier, but I didn&#39;t understand why I needed that step. It does seem odd to me that it&#39;s passing the attribute into the method as an int rather than as an attribute of an object.   I still am trying to find a way to use my original syntax for calling the method, though, as I&#39;ve got a function very similar to this that&#39;s referenced hundreds of times that I&#39;m not looking forward to changing."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "reply_to_user": {"reputation": 23, "user_id": 2727051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d5cd66edc9111ee8cea2e868c23a36?s=128&d=identicon&r=PG", "display_name": "NetworkingGuru", "link": "https://stackoverflow.com/users/2727051/networkingguru"}, "edited": false, "score": 0, "creation_date": 1554936089, "post_id": 55621742, "comment_id": 97937519, "body": "You won&#39;t be able to use your original syntax, sorry. Python just doesn&#39;t work that way. All arguments are fully evaluated before being passed. <code>test1.attribute</code> evaluates to 10 so that&#39;s what your function sees. Think about it: suppose you passed in <code>test1.attribute + 10</code> instead. How would it even work in that case?"}, {"owner": {"reputation": 23, "user_id": 2727051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d5cd66edc9111ee8cea2e868c23a36?s=128&d=identicon&r=PG", "display_name": "NetworkingGuru", "link": "https://stackoverflow.com/users/2727051/networkingguru"}, "edited": false, "score": 0, "creation_date": 1554949429, "post_id": 55621742, "comment_id": 97940304, "body": "Yea, I eventually figured that out (see my edit above). It&#39;s really non-intuitive, since in cases where you pass an object, the object is referenced fine, and in cases outside of a method you can modify the attribute directly."}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 1, "last_activity_date": 1554932711, "creation_date": 1554932711, "answer_id": 55621742, "question_id": 55621639, "link": "https://stackoverflow.com/questions/55621639/modifying-the-attribute-of-an-object-using-a-class-method-in-python/55621742#55621742", "title": "Modifying the attribute of an object using a class method in python", "body": "<p>When you pass in <code>test1.attribute</code> to <code>change_attrib()</code>, the value of <code>attribute</code> inside the method is not a pointer to <code>test1.attribute</code> that can be used to change its value. It is the integer 10. You then add the parameter <code>value</code> to <code>attribute</code>, yielding <code>attribute</code> equal to 20. Then the method ends and the value of <code>attribute</code> goes away. The value of <code>test1.attribute</code> never changed because you never changed it.</p>\n\n<p>If you want your method to modify any attribute, you can pass its name as a string. You can then use <code>getattr()</code> and <code>setattr()</code> to get and set the attribute.</p>\n\n<pre><code>def change_attrib(self, name, value):\n        attribute = getattr(self, name)\n        if attribute + value &lt; 0: attribute = 0\n        else: \n            attribute += value\n            print(str(attribute) + ' This is inside the method')\n        setattr(self, name, attribute)\n\ntest1.change_attrib(\"attribute\", 10)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 2727051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d5cd66edc9111ee8cea2e868c23a36?s=128&d=identicon&r=PG", "display_name": "NetworkingGuru", "link": "https://stackoverflow.com/users/2727051/networkingguru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 1, "accepted_answer_id": 55621742, "answer_count": 2, "score": 1, "last_activity_date": 1554936472, "creation_date": 1554932142, "last_edit_date": 1554936472, "question_id": 55621639, "link": "https://stackoverflow.com/questions/55621639/modifying-the-attribute-of-an-object-using-a-class-method-in-python", "title": "Modifying the attribute of an object using a class method in python", "body": "<p>I am trying to use a method defined in a class to later modify an attribute of an object made from that class, but there appears to be a scope problem that is not obvious to me. Take the following code:</p>\n\n<pre><code>class Test:\n    def __init__(self, attribute):\n        self.attribute = attribute\n    def change_attrib(self, attribute, value):\n        if attribute + value &lt; 0: attribute = 0\n        else: \n            attribute += value\n            print(str(attribute) + ' This is inside the method')\n\ntest1 = Test(10)\n\nprint(str(test1.attribute) + \" This is before running the method\")\n\ntest1.change_attrib(test1.attribute, 10)\n\nprint(str(test1.attribute) + \" This is after running the method\")\n\ntest1.attribute += 20\n\nprint(str(test1.attribute) + \" This is after modifying the attribute directly\")\n</code></pre>\n\n<p>Running this code produces the following result:</p>\n\n<pre><code>10 This is before running the method\n20 This is inside the method\n10 This is after running the method\n30 This is after modifying the attribute directly\n</code></pre>\n\n<p>So it appears that even though I am explicitly referring to the instance that I want to change when calling the method, everything that happens in the method, stays in the method. </p>\n\n<p>I can see that modifying the attribute directly works, but I would like a guard against negative values (hence the method). I also know I can use the built-in setattr() function within the method, and that works as well, but requires that I change the syntax for the attribute to a string before passing it into the method, and I much prefer explicitly referring to the attribute. Finally, I'd really just like to understand what is going on here.</p>\n\n<p>EDIT:\nThis is the working code, based on the hint from rdvdev2. I just needed to reference self to set the instance's value:</p>\n\n<pre><code>class Test:\ndef __init__(self, attribute):\n    self.attribute = attribute\ndef change_attrib(self, attribute, value):\n    if attribute + value &lt; 0: attribute = 0\n    else: \n        attribute += value\n        self.attribute = attribute\n        print(str(attribute) + ' This is inside the method')\n</code></pre>\n\n<p>Also thanks to kindall for the great explanation of what was happening. </p>\n\n<p>And a final expansion: The code above actually only works if the attribute is named attribute. I think kindall had the better grasp of what I needed here; in order for the function to be used to modify any attribute of the object, I need some way to reference the needed attribute. Since python appears to be passing a value instead of a reference, I have to get the reference somehow, and the least impactful way to my existing code appears to be using get/setattr....so I broke out regex and changed 160+ references.</p>\n"}, {"tags": ["python", "email", "exchange-server", "exchangelib"], "comments": [{"owner": {"reputation": 7598, "user_id": 219640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HFl1a.jpg?s=128&g=1", "display_name": "Erik Cederstrand", "link": "https://stackoverflow.com/users/219640/erik-cederstrand"}, "edited": false, "score": 0, "creation_date": 1554981644, "post_id": 55621588, "comment_id": 97953640, "body": "Please add the exact error messages you get, and any stack traces, to your original post."}, {"owner": {"reputation": 7598, "user_id": 219640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HFl1a.jpg?s=128&g=1", "display_name": "Erik Cederstrand", "link": "https://stackoverflow.com/users/219640/erik-cederstrand"}, "edited": false, "score": 0, "creation_date": 1555056713, "post_id": 55621588, "comment_id": 97983540, "body": "Oh, and the <code>return</code> looks misplaced. You&#39;ll never hit the <code>print()</code> statement."}], "owner": {"reputation": 139, "user_id": 10791435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b9a099d9163a85b82468829e30be0fa?s=128&d=identicon&r=PG&f=1", "display_name": "JK72", "link": "https://stackoverflow.com/users/10791435/jk72"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555056872, "creation_date": 1554931871, "last_edit_date": 1555056872, "question_id": 55621588, "link": "https://stackoverflow.com/questions/55621588/issue-using-all-for-exchangelib-when-filtering-inbox", "title": "Issue using .all for ExchangeLib when filtering inbox", "body": "<p>I'm having issue trying to loop through an email inbox. I was previously able to use what I had written, but since reinstalling ExchangeLib I'm now throwing an error. Here is what I have so far.</p>\n\n<pre><code>from exchangelib import Credentials, Account\nfrom bs4 import BeautifulSoup\n\n\ncredentials = Credentials('my@email', 'password')\naccount = Account('my@email', credentials=credentials, autodiscover=True)\nmy_inbox = account.inbox\nfor item in my_inbox.all()[:1]:\n    html = item.unique_body\n    soup = BeautifulSoup(html, \"html.parser\")\n    for span in soup.find_all('font'):\n        return(item.subject, item.sender.email_address, span.text)\nprint(item.subject, item.sender.email_address, span.text)\n</code></pre>\n\n<p>What I'm hoping to be able to do is to access my inbox, and return the subject line, sender email, and body text from the first email (had to put it through BeautifulSoup because item.unique_body is all HTML tags). But is currently printing nothing. I have the print statement there as a test, but will remove it when it is working.</p>\n\n<p>Also, I keep getting an error that reads \"Method 'inbox' has no 'all' member, referencing <code>my_inbox.all()</code>. I also don't know why that isn't working since it was working the other day.</p>\n\n<p>Any help?</p>\n"}, {"tags": ["python", "nlp", "text-processing"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1554932135, "post_id": 55621584, "comment_id": 97936264, "body": "So you only want to remove digits at the end of the string?"}, {"owner": {"reputation": 11, "user_id": 11342889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uW6o15vfXj8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzziuZqP_gT42_WWnHdA6LgXBu7g/mo/photo.jpg?sz=128", "display_name": "ED21", "link": "https://stackoverflow.com/users/11342889/ed21"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1554932455, "post_id": 55621584, "comment_id": 97936378, "body": "Thank you for responding. It&#39;s more like a strategy to remove digits if the alphanumeric word doesn&#39;t make sense or isn&#39;t part of some literature.   Example -   Boy00 = Boy, B00oy = Boy, 00Boy = Boy 3D = 3D"}, {"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1554932778, "post_id": 55621584, "comment_id": 97936477, "body": "Check for the string in <code>&#47;usr&#47;share&#47;dict&#47;words</code> and apply if not found.  I note that it contains both &quot;Boy&quot; and &quot;3D&quot;."}, {"owner": {"reputation": 11, "user_id": 11342889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uW6o15vfXj8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzziuZqP_gT42_WWnHdA6LgXBu7g/mo/photo.jpg?sz=128", "display_name": "ED21", "link": "https://stackoverflow.com/users/11342889/ed21"}, "reply_to_user": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1554933161, "post_id": 55621584, "comment_id": 97936612, "body": "How do I craft this code for windows os   wordlist = [line.strip() for line in open(&#39;/usr/share/dict/words&#39;)] ??"}], "owner": {"reputation": 11, "user_id": 11342889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uW6o15vfXj8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzziuZqP_gT42_WWnHdA6LgXBu7g/mo/photo.jpg?sz=128", "display_name": "ED21", "link": "https://stackoverflow.com/users/11342889/ed21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554932074, "creation_date": 1554931860, "last_edit_date": 1554932074, "question_id": 55621584, "link": "https://stackoverflow.com/questions/55621584/scenario-how-to-parse-alphanumeric-words-based-on-vocabulary-literature", "title": "Scenario - How to parse alphanumeric words based on vocabulary/literature", "body": "<p>I have the following two text scenarios - </p>\n\n<p>Text = \"Boy000\"\nText_2 = \"3D\" </p>\n\n<p><strong>the outputs I seek is Text = Boy and Text_2 = 3D</strong> </p>\n\n<p>My current code is as follows </p>\n\n<pre><code>sent_punc.translate(remove_digits).replace('  ',' ')\n</code></pre>\n\n<p>however, this leads to - Boy and D</p>\n"}, {"tags": ["python", "ansible", "ansible-awx"], "answers": [{"tags": [], "owner": {"reputation": 811, "user_id": 5300987, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e87ca3bc6501b75d23b4331ae24acd54?s=128&d=identicon&r=PG&f=1", "display_name": "Setanta", "link": "https://stackoverflow.com/users/5300987/setanta"}, "is_accepted": false, "score": 0, "last_activity_date": 1554932685, "creation_date": 1554932685, "answer_id": 55621739, "question_id": 55621580, "link": "https://stackoverflow.com/questions/55621580/ansible-tower-how-to-get-a-list-of-the-environment-variables/55621739#55621739", "title": "Ansible Tower - How to get a list of the environment variables", "body": "<p>Just use debug along with the 'env' lookup.Below <code>home</code> is the environment variable.</p>\n\n<pre><code>- name: Show env variable\n  debug:\n    msg: \"{{ lookup('env','HOME') }}\"\n</code></pre>\n\n<p><a href=\"https://docs.ansible.com/ansible/latest/plugins/lookup/env.html\" rel=\"nofollow noreferrer\">https://docs.ansible.com/ansible/latest/plugins/lookup/env.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 5817306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hKnju7ea1qU/AAAAAAAAAAI/AAAAAAAAAAA/zTa9Q7XjNUk/photo.jpg?sz=128", "display_name": "Jeremy Hobbs", "link": "https://stackoverflow.com/users/5817306/jeremy-hobbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1556126917, "last_edit_date": 1556126917, "creation_date": 1555011112, "answer_id": 55639914, "question_id": 55621580, "link": "https://stackoverflow.com/questions/55621580/ansible-tower-how-to-get-a-list-of-the-environment-variables/55639914#55639914", "title": "Ansible Tower - How to get a list of the environment variables", "body": "<p>The problem was I wasn't executing a playbook.  I was executing a custom python inventory script and I need to be able to see how Ansible was loading the variables to be able to troubleshoot why the script wouldn't load the variables.  I added some code to the python script to send me an email with the list of environmental variables.  You can also write this to a file on the drive, but if you are using tower, you have to expose the folder location under the admin settings -> Jobs -> paths to expose.  I decided it would be easier to just get an email while testing.</p>\n\n<pre><code>import smtplib\nimport datetime\nimport time\nts = time.time()\nst = datetime.datetime.fromtimestamp(ts).strftime('%Y-%m-%d %H:%M:%S')\noutput = \"\"\noutput +=('Time Start {} \\r\\n '.format(st))\nfor a in os.environ:\noutput +=('Var: {} Value: {} \\r\\n'.format(a, os.getenv(a)))\ndef send_email(addr_from, addr_to, contents):\nsvr = smtplib.SMTP('smtp.mail.local', 25)\n\nmsg = 'Subject: Subject goes here.\\n\\n{0}'.format(contents)\nsvr.sendmail(addr_from, addr_to, msg) \nsend_email('addr_from@mail.com','addr_to@mail.com',output)\n</code></pre>\n\n<p>Here is a picture of the variables</p>\n\n<p><a href=\"https://i.stack.imgur.com/3ANeT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ANeT.png\" alt=\"tower environmental variables\"></a>   </p>\n\n<p>Then here is a picture of the script.</p>\n\n<p><a href=\"https://i.stack.imgur.com/KubUD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KubUD.png\" alt=\"bad script\"></a></p>\n\n<p>But this didn't work.  Here is the code that worked.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ecQrx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ecQrx.png\" alt=\"good code\"></a></p>\n\n<p>The problem was that when you query the environmental variable in python, if its a dictionary, it will return with single quotes and you have to convert that to double quotes and json.loads it to get it to load as a dictionary.</p>\n\n<p>There is multiple problems solved with this.  I hope this helps others needing to troubleshoot Ansible with Python.</p>\n"}], "owner": {"reputation": 161, "user_id": 5817306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hKnju7ea1qU/AAAAAAAAAAI/AAAAAAAAAAA/zTa9Q7XjNUk/photo.jpg?sz=128", "display_name": "Jeremy Hobbs", "link": "https://stackoverflow.com/users/5817306/jeremy-hobbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2035, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556126917, "creation_date": 1554931822, "question_id": 55621580, "link": "https://stackoverflow.com/questions/55621580/ansible-tower-how-to-get-a-list-of-the-environment-variables", "title": "Ansible Tower - How to get a list of the environment variables", "body": "<p>Within Tower there is a lot of options to add environment variables before execution.  I have set some variables that get pulled into a python inventory script.  However the script is responding with an error.   I think the python code is not getting the values or the values are not in the correct format.  </p>\n\n<p>I would like to see how the environment variables are being exposed to the python script.  Is there a way to get these added to the debug output in the job log?</p>\n"}, {"tags": ["python", "command-line-interface", "python-3.6", "setuptools", "python-packaging"], "comments": [{"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 2, "creation_date": 1554944722, "post_id": 55621551, "comment_id": 97939386, "body": "<code>pip show --files foobar</code>"}, {"owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1555570462, "post_id": 55621551, "comment_id": 98158318, "body": "your trick helped me, thanks @ph"}], "owner": {"reputation": 2596, "user_id": 1249267, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/86d167bf675611a3a0cb2d5c928302d7?s=128&d=identicon&r=PG&f=1", "display_name": "sudhishkr", "link": "https://stackoverflow.com/users/1249267/sudhishkr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554933390, "creation_date": 1554931635, "last_edit_date": 1554933390, "question_id": 55621551, "link": "https://stackoverflow.com/questions/55621551/python-setuptools-cli-building", "title": "Python Setuptools CLI building", "body": "<p>I have a little trouble getting my cli built &amp; installed correctly with <code>setuptools</code>.</p>\n\n<p>My project structure looks like this : </p>\n\n<pre><code>foobar/\n\n    cli/\n\n        src/\n            main\n            __init__.py\n\n        config.json\n        __init__.py\n\n    setup.py\n    requirements.txt\n    venv.sh\n    README.md\n    .gitignore \n    __init__.py\n</code></pre>\n\n<p>My <code>setup.py</code> looks like this : </p>\n\n<pre><code>from setuptools import setup, find_packages\n\n# Package meta-data.\n__version__ = '0.0.1'\n\n# What packages are required for this module to be executed?\nREQUIRED = ['requests', 'argparse']\n\n# Where the magic happens:\nsetup(\n    name='foobar',\n    version=__version__,\n    description='foo bar',\n    long_description=\"https://github.com/foo/bar\",\n    long_description_content_type='text/markdown',\n    author='foo bar',\n    author_email='foo@bar.com',\n    packages = find_packages(),\n    url='https://github.com/foo/bar',\n    entry_points={'console_scripts': ['foobar=cli.src.main:main']},\n    python_requires='&gt;=3.6.0',\n    install_requires=REQUIRED,\n    include_package_data=True,\n    classifiers=[\n            \"Topic :: Utilities\"\n    ]\n)\n</code></pre>\n\n<p>All I am trying to achieve is this : </p>\n\n<pre><code>pip uninstall -y foobar # remove old installation\npython setup.py build # build\npython setup.py install # install\nfoobar # run the \"cli.main:main\"\n</code></pre>\n\n<p>This results in the following error : </p>\n\n<pre><code>bash: /Users/myuser/.pyenv/shims/foobar: No such file or directory\n</code></pre>\n\n<hr>\n\n<p>Update #1</p>\n\n<p>My package is definitely getting built &amp; installed. Because I see my packaged with I do a <code>pip freeze | grep foobar</code>. Its definitely there.</p>\n\n<hr>\n\n<p>Update #2</p>\n\n<p>My package can also be imported in a python shell as follows : </p>\n\n<pre><code>$ python \nPython 3.6.8 \nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import cli\n&gt;&gt;&gt; import cli.src\n&gt;&gt;&gt;\n</code></pre>\n\n<p>No errors here ^ indicate, my package imports are fine. But I am trying to make my package accessible directly from the <code>cli</code>. Typing <code>foobar</code> should directly trigger the <code>cli.src.main:main</code> as described in my <code>entry_points</code> section. That seems to NOT work.</p>\n\n<hr>\n\n<p>Update #3</p>\n\n<pre><code>$ which foobar\n$ echo $?\n1\n</code></pre>\n\n<p>This tells me the mapping for the cli command is not defined. I am out of options now :|. I must have messed up somewhere in the <code>setup.py</code> .. any leads will be helpful.</p>\n"}, {"tags": ["python", "types", "protocol-buffers", "abstract-data-type"], "answers": [{"tags": [], "owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "is_accepted": false, "score": 0, "last_activity_date": 1554998437, "creation_date": 1554998437, "answer_id": 55636742, "question_id": 55621539, "link": "https://stackoverflow.com/questions/55621539/which-datatype-should-i-choose-for-a-units-selection-in-an-rts-game/55636742#55636742", "title": "Which datatype should I choose for a units selection in an RTS game?", "body": "<p>This doesn't sound like a ADT problem at all. This sounds like inefficient programming. It is impossible for us to tell you the correct message to construct to achieve what you're going for.</p>\n\n<p>What you should probably be investigating is how to construct a <code>UnitView</code> if you don't actually need to modify the <code>unit</code>s data. Consider something similar to how dictionaries return <code>views</code> in Python 3. <a href=\"https://stackoverflow.com/questions/8957750/what-are-dictionary-view-objects\">See here for more details</a>.</p>\n"}], "owner": {"reputation": 334, "user_id": 6426778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/078e1214c220e4966f71efcffbfb67a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tweakimp", "link": "https://stackoverflow.com/users/6426778/tweakimp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554998437, "creation_date": 1554931572, "question_id": 55621539, "link": "https://stackoverflow.com/questions/55621539/which-datatype-should-i-choose-for-a-units-selection-in-an-rts-game", "title": "Which datatype should I choose for a units selection in an RTS game?", "body": "<p>What is a good data type for a unit collection in an rts?\nIm contributing to <a href=\"https://github.com/Dentosal/python-sc2\" rel=\"nofollow noreferrer\">an api that lets you write bots for the strategy game Starcraft2 in Python</a>. </p>\n\n<p>Right now <a href=\"https://github.com/Dentosal/python-sc2/blob/master/sc2/units.py\" rel=\"nofollow noreferrer\">there is a class <code>units</code></a> that inherits from <code>list</code>. Every frame, a new <code>units</code> object gets created and then selections of these units are made, creating new <code>units</code> objects, for example with a filter for all enemy units or all flying units.</p>\n\n<p>We use these selections to find the closest enemy to control our units, select our units that can attack right now or need a different order and so on.</p>\n\n<p>But this also means we do a lot of filtering by attributes of each unit in every frame which takes a lot of time. The time for inititalizing one <code>units</code> object alone is 2e-5 to 5e-5 sec and we do it millions of times per game which can slow down the bot and tests a lot, in addition to the filtering process with loops over each unit in the <code>units</code> object.</p>\n\n<p>Is there a better datataype for this?\nMaybe something that does not need to be recreated every time for each selection in one frame, but just starts with the initial list of all units we get from the protocol buffer and then the selections and filters can be applied without recreating the object? What would be a good way to implement this so that filtering multiple times per frame is not that slow and/or complicated?</p>\n"}, {"tags": ["python", "python-3.x", "unit-testing", "error-handling", "pyodbc"], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 9070256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f222f1ffc04a573d0f5907e783df6c?s=128&d=identicon&r=PG&f=1", "display_name": "ShockDoctor", "link": "https://stackoverflow.com/users/9070256/shockdoctor"}, "edited": false, "score": 0, "creation_date": 1554956333, "post_id": 55621590, "comment_id": 97941575, "body": "Hey sorry if I was unclear! I want to catch the pyodbc.Error when the base path is incorrect (i.e the database is missing, some part of the path is wrong etc.). Than, I want to test that that error, and only that error is raised. I only included a re-raise by itself in my example, but realistically I would add more code to handle it (i.e logging), but kept it as is for simplicity. Right now the test passes, no matter what error I try to catch, but I only want it to pass if pyodbc.Error was raised"}], "tags": [], "owner": {"reputation": 5913, "user_id": 371760, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3d085b76439deed744ca412f1479ea4c?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/371760/henry"}, "is_accepted": false, "score": 0, "last_activity_date": 1554931879, "creation_date": 1554931879, "answer_id": 55621590, "question_id": 55621518, "link": "https://stackoverflow.com/questions/55621518/how-to-handle-pyodbc-error-properly-in-a-try-except-statement/55621590#55621590", "title": "How to handle pyodbc error properly in a try-except statement", "body": "<p>Here is a working example that seems to catch non <code>pyodbc.Error</code> errors. Can you clarify what you're trying to do?</p>\n\n<pre><code>import pyodbc\nimport unittest\nimport mock\n\ndef get_database():\n    try:\n        conn = pyodbc.connect(\n            r'Driver={Microsoft Access Driver (*.mdb, *.accdb)};'\n            r'DBQ=M:\\Path\\To\\Database\\My_Database.accdb;'\n        )\n        return conn\n    except pyodbc.Error as err: # Only error I wanted passed for the test!\n        raise ValueError('Non pyodbc error')\n\nclass Test(unittest.TestCase):\n    @mock.patch('pyodbc.connect')\n    def test_invalid_path_to_database(self, mock_conn):\n        mock_conn.side_effect = pyodbc.Error\n\n        self.assertRaises(pyodbc.Error, get_database)\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>\n\n<p>With output</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/henry/projects/stack/.venv/lib/python3.7/site-packages/mock/mock.py\", line 1305, in patched\n    return func(*args, **keywargs)\n  File \"example.py\", line 21, in test_invalid_path_to_database\n    self.assertRaises(pyodbc.Error, get_database)\n  File \"/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7/lib/python3.7/unittest/case.py\", line 743, in assertRaises\n    return context.handle('assertRaises', args, kwargs)\n  File \"/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7/lib/python3.7/unittest/case.py\", line 178, in handle\n    callable_obj(*args, **kwargs)\n  File \"example.py\", line 13, in get_database\n    raise ValueError('Non pyodbc error')\nValueError: Non pyodbc error\n\n----------------------------------------------------------------------\nRan 1 test in 0.002s\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 9070256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f222f1ffc04a573d0f5907e783df6c?s=128&d=identicon&r=PG&f=1", "display_name": "ShockDoctor", "link": "https://stackoverflow.com/users/9070256/shockdoctor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1783, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554931879, "creation_date": 1554931435, "question_id": 55621518, "link": "https://stackoverflow.com/questions/55621518/how-to-handle-pyodbc-error-properly-in-a-try-except-statement", "title": "How to handle pyodbc error properly in a try-except statement", "body": "<p>I want to know that I'm handling an exception that is raised <em>only</em> when the path to my database is incorrect, and correctly raising only that error is reflected in the passing or failing for my test for the function. Currently, my unit test passes when <em>any</em> error is included in the except  as err clause.</p>\n\n<p>I suspect that I'm not constructing the try-except statement properly to catch the correct error. With pyodbc, I'm specifically attempting to catch an error called 'pyodbc.Error', but currently all errors cause the test to pass.</p>\n\n<p>I want the test to fail unless the error being raised is the one specified in the except clause. I do not want to have a \"catch all\" try-except.  </p>\n\n<pre><code>def get_database():\n    try:\n        conn = pyodbc.connect(\n            r'Driver={Microsoft Access Driver (*.mdb, *.accdb)};'\n            r'DBQ=M:\\Path\\To\\Database\\My_Database.accdb;'\n        )\n        return conn\n    except pyodbc.Error as err: # Only error I wanted passed for the test!\n        raise err\n\n@mock.patch('directory1.script1.pyodbc.connect')\ndef test_invalid_path_to_database(self, mock_conn):\n    mock_conn.side_effect = pyodbc.Error\n\n    # Passes no matter what exception is included in except clause!\n    self.assertRaises(pyodbc.Error, get_database)  \n</code></pre>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 1984, "user_id": 2116001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/joLB7.png?s=128&g=1", "display_name": "gogaz", "link": "https://stackoverflow.com/users/2116001/gogaz"}, "edited": false, "score": 0, "creation_date": 1554931726, "post_id": 55621506, "comment_id": 97936126, "body": "Yes, that&#39;s possible, I think <code>int()</code> should be enough for the job"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10434643"}, "edited": false, "score": 0, "creation_date": 1554932118, "post_id": 55621506, "comment_id": 97936259, "body": "the solution you&#39;re looking for is <code>x=int(cell[:4])</code> and <code>y=int(cell[4:])</code> , or <code>float</code> if the value isn&#39;t always an integer"}], "answers": [{"tags": [], "owner": {"reputation": 15574, "user_id": 457571, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2318229ef6310b03ab828bff43d2ad66?s=128&d=identicon&r=PG", "display_name": "dr jimbob", "link": "https://stackoverflow.com/users/457571/dr-jimbob"}, "is_accepted": false, "score": 0, "last_activity_date": 1554932520, "last_edit_date": 1554932520, "creation_date": 1554932155, "answer_id": 55621642, "question_id": 55621506, "link": "https://stackoverflow.com/questions/55621506/python-reading-a-partial-csv-cell/55621642#55621642", "title": "Python - Reading a partial CSV Cell", "body": "<p>Yes it is possible.</p>\n\n<pre><code>import csv\nwith open('csv_file.csv') as f:\n    csv_data = []\n    cr = csv.reader(f)\n    for row in cr:\n        csv_data.append(row)\n# say the data you want is in (both zero-indexed) row 3, column 5\nx_coord = csv_data[3][5][:4]\ny_coord = csv_data[3][5][4:]\n</code></pre>\n\n<p>If all the cells are like this (and need to be split) you can do this while you read the file into csv_data.</p>\n\n<pre><code>import csv\nwith open('csv_file.csv') as f:\n    csv_data = []\n    cr = csv.reader(f)\n    for row in cr:\n        x_coords = [c[:4] for c in row]\n        y_coords = [c[4:] for c in row]\n        csv_data.append(zip(x_coords, y_coord))\n</code></pre>\n\n<p>So if originally cell (0,0) was <code>'00340633'</code> representing coordinates: ('0034', '0633'), now it will be <code>csv_data[0][0]</code> will be <code>('0034', '0633')</code>.  You may want to convert to <code>int</code> or <code>float</code>.  E.g., <code>x_coords = [int(c[:4]) for c in row]</code> depending on the type of data in each cell.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 11065371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bace96f5381ffc46016af14a41e51?s=128&d=identicon&r=PG&f=1", "display_name": "Verse He", "link": "https://stackoverflow.com/users/11065371/verse-he"}, "is_accepted": false, "score": 0, "last_activity_date": 1554932513, "creation_date": 1554932513, "answer_id": 55621704, "question_id": 55621506, "link": "https://stackoverflow.com/questions/55621506/python-reading-a-partial-csv-cell/55621704#55621704", "title": "Python - Reading a partial CSV Cell", "body": "<p>Are you trying to split a string with fixed 8 characters? Try this code below:</p>\n\n<pre><code>test =  'aaaabbbb'\nprint(test[0:4])\nprint(test[4:])\n</code></pre>\n\n<p>Or if there is a sign in middle, you could split it as well:</p>\n\n<pre><code>test2 =  'aaaa bbbb'\n# split by blank, putput is a list\nprint(test2.split(' '))  \n# Result: ['aaaa', 'bbbb']\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6472096, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/XMPBH.jpg?s=128&g=1", "display_name": "LMP2016", "link": "https://stackoverflow.com/users/6472096/lmp2016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554932520, "creation_date": 1554931370, "question_id": 55621506, "link": "https://stackoverflow.com/questions/55621506/python-reading-a-partial-csv-cell", "title": "Python - Reading a partial CSV Cell", "body": "<p>For a project, I'm looking at splitting up the data contained in a cell of a CSV file - the CSV file is output by another device and cannot altered. The CSV cell in question will have 8 characters, the first 4 will be used to specify an X coordinate, and the last 4 the y coordinate. I would like to be able to read the first 4 characters, save them as a variable and repeat for the last 4. Is this possible with the python CSV reader ?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 1, "creation_date": 1554931476, "post_id": 55621500, "comment_id": 97936040, "body": "What about <code>print(k in arr)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 22489, "user_id": 3208297, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/KzpAh.jpg?s=128&g=1", "display_name": "blue_note", "link": "https://stackoverflow.com/users/3208297/blue-note"}, "is_accepted": false, "score": 6, "last_activity_date": 1554931471, "creation_date": 1554931471, "answer_id": 55621521, "question_id": 55621500, "link": "https://stackoverflow.com/questions/55621500/how-do-i-get-my-code-to-only-print-one-output/55621521#55621521", "title": "How do I get my code to only print one output?", "body": "<p>It's just</p>\n\n<pre><code>if k in arr:\n   print(True)\nelse:\n   print(False)\n</code></pre>\n\n<p>or, simpler</p>\n\n<pre><code>print(k in arr)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 8116627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CqbgT.jpg?s=128&g=1", "display_name": "Jesus M. Ramirez", "link": "https://stackoverflow.com/users/8116627/jesus-m-ramirez"}, "is_accepted": false, "score": 0, "last_activity_date": 1554931616, "creation_date": 1554931616, "answer_id": 55621548, "question_id": 55621500, "link": "https://stackoverflow.com/questions/55621500/how-do-i-get-my-code-to-only-print-one-output/55621548#55621548", "title": "How do I get my code to only print one output?", "body": "<p>You can refactor your code like this:</p>\n\n<pre><code>def is_it_there(arr, k):\n    for x in arr:\n        if x == k\n            return True\n    return False\n\nprint(is_it_there([8,5,2,234,426,7,11],11))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 0, "last_activity_date": 1554931646, "creation_date": 1554931646, "answer_id": 55621558, "question_id": 55621500, "link": "https://stackoverflow.com/questions/55621500/how-do-i-get-my-code-to-only-print-one-output/55621558#55621558", "title": "How do I get my code to only print one output?", "body": "<p>If you find the item anywhere in the list, print <code>True</code> and exit the function immediately.</p>\n\n<p>If you make it all the way to the end of the list without finding it, only then print <code>False</code>.</p>\n\n<pre><code>def is_it_there(arr, k):\n    for x in arr:\n        if x == k:\n            # print True and terminate the function\n            print(True)\n            return\n    # if we made it all the way through the loop, we didn't find it\n    print(False)\n</code></pre>\n\n<p>However, the 'in' operator already does what you want:</p>\n\n<pre><code>if value in mylist:\n    print 'True'\nelse:\n    print 'False'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 8926137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ee4b3e4ae9fbc39e2d0d0ee54d39415?s=128&d=identicon&r=PG&f=1", "display_name": "aadithya venkat", "link": "https://stackoverflow.com/users/8926137/aadithya-venkat"}, "is_accepted": true, "score": 0, "last_activity_date": 1554935779, "last_edit_date": 1554935779, "creation_date": 1554931951, "answer_id": 55621602, "question_id": 55621500, "link": "https://stackoverflow.com/questions/55621500/how-do-i-get-my-code-to-only-print-one-output/55621602#55621602", "title": "How do I get my code to only print one output?", "body": "<p>The problem rises from the fact because you are checking it constantly while looping through the elements. So the code is going to check through constantly whether or not the element is present or not. So you are going to end up printing a statement everytime. Python gives a neat way to do achieve this</p>\n\n<pre><code>def is_it_there(arr, k):\n    if k in arr:\n       print(True)\n    else:\n       print(False)\n\nis_it_there([8,5,2,234,426,7,11],11)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 11065371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7bace96f5381ffc46016af14a41e51?s=128&d=identicon&r=PG&f=1", "display_name": "Verse He", "link": "https://stackoverflow.com/users/11065371/verse-he"}, "is_accepted": false, "score": 0, "last_activity_date": 1554931982, "creation_date": 1554931982, "answer_id": 55621607, "question_id": 55621500, "link": "https://stackoverflow.com/questions/55621500/how-do-i-get-my-code-to-only-print-one-output/55621607#55621607", "title": "How do I get my code to only print one output?", "body": "<p>You are printing a result each time you do a test in your loop. Try to record the result of each round of your test in a list, and test if there is any \"True\" value in your result list.</p>\n\n<p>Code Example:    </p>\n\n<pre><code>def is_it_there(arr, k):\n    result = list()\n    for x in arr:\n        if x == k:\n            result.append(True)\n        else:\n            result.append(False)\n    if True in  result:\n        print(True)\n    else:\n        print(False)\nis_it_there([8,5,2,234,426,7,11],11)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11133766, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8MaFBsRHsXY/AAAAAAAAAAI/AAAAAAAAABM/lDjqPtGL1MY/photo.jpg?sz=128", "display_name": "Little Panda", "link": "https://stackoverflow.com/users/11133766/little-panda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 55621602, "answer_count": 5, "score": 0, "last_activity_date": 1554935779, "creation_date": 1554931322, "last_edit_date": 1554933717, "question_id": 55621500, "link": "https://stackoverflow.com/questions/55621500/how-do-i-get-my-code-to-only-print-one-output", "title": "How do I get my code to only print one output?", "body": "<p>Essentially, I am trying to make a function which reads an array, and a number. If the number is within the array, it should return <code>True</code>, and <code>False</code> otherwise. However, I find that for each element in the array there is a <code>True</code> or <code>False</code> - the code checks everything individually, when I only need one <code>True</code> or <code>False</code>; is the number in the array or not ?</p>\n\n<pre><code>def is_it_there(arr, k):\n    for x in arr:\n        if x == k:\n            print(True)\n        else:\n            print(False)\n\nis_it_there([8,5,2,234,426,7,11],11)\n</code></pre>\n\n<p>Like I said before, only one True was expected, but each item was checked and so it was <code>False, False, False, False, False, False, True</code></p>\n"}, {"tags": ["python", "discord.py", "discord.py-rewrite"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1554934757, "post_id": 55621490, "comment_id": 97937139, "body": "Are you seeing an error message?  If not, do you have any error handling that could be keeping an error from being logged or printed?"}, {"owner": {"reputation": 645, "user_id": 11311072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SR5Uh.jpg?s=128&g=1", "display_name": "BrainDead", "link": "https://stackoverflow.com/users/11311072/braindead"}, "edited": false, "score": 0, "creation_date": 1554985089, "post_id": 55621490, "comment_id": 97955671, "body": "Is far I see from the docs the <code>change_nickname</code> represents guild-specific permissions. In order to change nick of user you have to <a href=\"https://discordpy.readthedocs.io/en/rewrite/api.html#discord.Member.edit\" rel=\"nofollow noreferrer\">call edit on a member and pass the nick parameter</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10522987"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1555002347, "post_id": 55621490, "comment_id": 97966701, "body": "Yes, I do get an error message,       File &quot;nickbot.py&quot;, line 17, in on_message         await client.change_nickname(message.author, &quot; ...a&quot;)      AttributeError: &#39;Client&#39; object has no attribute &#39;change_nickname&#39; I&#39;m not sure at all what&#39;s happening @PatrickHaugh"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1555013849, "post_id": 55621490, "comment_id": 97971656, "body": "Sounds like you&#39;re using the rewrite without realizing it.  The new version was officially released a few days ago, so you may have updated by accident.  Either migrate your code to discord.py 1.0+ or pin your version to 0.16"}], "answers": [{"tags": [], "owner": {"reputation": 645, "user_id": 11311072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SR5Uh.jpg?s=128&g=1", "display_name": "BrainDead", "link": "https://stackoverflow.com/users/11311072/braindead"}, "is_accepted": false, "score": 0, "last_activity_date": 1555007827, "creation_date": 1555007827, "answer_id": 55639150, "question_id": 55621490, "link": "https://stackoverflow.com/questions/55621490/is-there-a-way-to-change-a-nickname-in-an-event-in-discord-py/55639150#55639150", "title": "Is there a way to change a nickname in an event in discord.py", "body": "<p>As I already mentioned in comment: </p>\n\n<blockquote>\n  <p>As far I see from the docs the <code>change_nickname</code> represents\n  guild-specific permissions. In order to change nick of user you have\n  to call <a href=\"https://discordpy.readthedocs.io/en/rewrite/api.html#discord.Member.edit\" rel=\"nofollow noreferrer\">edit on a member and pass the nick parameter</a>.</p>\n</blockquote>\n\n<p>Something like this:</p>\n\n<pre><code>@bot.event\nasync def on_message(message):\n      if message.author == bot.user: return\n      await message.author.edit(nick=\"some new nick\")\n</code></pre>\n\n<p>For your specific need of nick in the form of <code>original name + 1</code> you can use something like this:</p>\n\n<pre><code>import re \n\n# Extracts digits that are at the end of string user_name\n#\n# @param user_name a string to extract digits from\n# @return extracted digits as integer or -1 if error\ndef extract_number_suffix(user_name):\n    # Using regex to find all digits at the end of the user_name\n    # source https://docs.python.org/2/library/re.html#re.search\n    # regex entry: https://regex101.com/r/WQkzhw/1\n    extracted= re.search(r\"[0-9]+$\", user_name)\n    try:\n        return int(extracted[0])\n    except:\n        return -1\n\n\n@bot.event\nasync def on_message(message):\n      if message.author == bot.user: return\n      previous_name = message.author.name\n      number = extract_number_suffix(previous_name)\n      if number == -1:\n          # If number is -1 that means that the function extract_number_suffix\n          # failed to extract a number because user has no number at the end of\n          # it's name. So we just set the name to name1\n          await message.author.edit(nick=\"{}1\".format(previous_name))\n      else:\n          # Remove the current digit suffix\n          clean_name = previous_name.replace(str(number ), \"\")\n          # Increment current number and change nick\n          new_number = number + 1\n          await message.author.edit(nick=\"{0}{1}\".format(clean_name , new_number ))\n</code></pre>\n\n<p>You can also use <code>message.author.display_name</code> which: </p>\n\n<blockquote>\n  <p>Returns the user\u2019s display name.</p>\n  \n  <p>For regular users this is just their username, but if they have a\n  guild specific nickname then that is returned instead.\n  <a href=\"https://discordpy.readthedocs.io/en/rewrite/api.html#discord.Member.display_name\" rel=\"nofollow noreferrer\">source</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 11185807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d5c48e80827f30db4fd351bea51ea7?s=128&d=identicon&r=PG", "display_name": "Kanasaki", "link": "https://stackoverflow.com/users/11185807/kanasaki"}, "is_accepted": false, "score": 0, "last_activity_date": 1555007953, "creation_date": 1555007953, "answer_id": 55639185, "question_id": 55621490, "link": "https://stackoverflow.com/questions/55621490/is-there-a-way-to-change-a-nickname-in-an-event-in-discord-py/55639185#55639185", "title": "Is there a way to change a nickname in an event in discord.py", "body": "<p><code>Discord.py-rewrite</code> and <code>Discord.py</code> are different branches of the API. The rewrite branch is the one that's the most up to date with the Discord app and its official API</p>\n\n<p>Inside <code>rewrite</code> you'd change it like this</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>@bot.event\nasync def on_message(msg):\n    await msg.author.edit(nick=f'{msg.author.name}1')\n\n</code></pre>\n\n<p>Inside the <code>async(discord.py)</code> branch, it'd be done like this</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>@bot.event\nasync def on_message(msg):\n    await client.change_nickname(msg.author,'{msg.author.name}1')\n</code></pre>\n\n<p><code>async</code> attributes for client can be found <a href=\"https://github.com/Rapptz/discord.py/blob/async/discord/client.py\" rel=\"nofollow noreferrer\">here</a> and the <code>rewrite</code> documentation <a href=\"https://discordpy.readthedocs.io/en/rewrite/api.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10522987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2614, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1555007953, "creation_date": 1554931259, "question_id": 55621490, "link": "https://stackoverflow.com/questions/55621490/is-there-a-way-to-change-a-nickname-in-an-event-in-discord-py", "title": "Is there a way to change a nickname in an event in discord.py", "body": "<p>I would like to change peoples names to their original name + 1 when they send a message.</p>\n\n<p>I've got all the code for the message detection, but not for the changing names.</p>\n\n<pre><code>@bot.event\nasync def on_message(message):\n      if message.author == bot.user: return\n      await client.change_nickname(message.author, \"...a\")\n</code></pre>\n\n<p>I expect a name to change to . . .a when they send a message but it does nothing.</p>\n\n<p>Any help would be appreciated, thanks.</p>\n"}, {"tags": ["python", "python-3.x", "math"], "comments": [{"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1554933405, "post_id": 55621486, "comment_id": 97936702, "body": "Is the function intended to print the number of ordered sequences of elements from <code>arr</code> (which has <code>m</code>elements), allowing repetitions, whose sum is <code>N</code>?"}, {"owner": {"reputation": 5, "user_id": 11322029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ea54b0d5e857b2f27424459f6547d9?s=128&d=identicon&r=PG&f=1", "display_name": "smartprogrammer", "link": "https://stackoverflow.com/users/11322029/smartprogrammer"}, "edited": false, "score": 0, "creation_date": 1554937228, "post_id": 55621486, "comment_id": 97937792, "body": "Added explanation"}, {"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 0, "creation_date": 1554937617, "post_id": 55621486, "comment_id": 97937906, "body": "If you copied it from the <a href=\"https://www.geeksforgeeks.org/ways-sum-n-using-array-elements-repetition-allowed/\" rel=\"nofollow noreferrer\">solutions</a> it should already be O(mN)"}], "answers": [{"tags": [], "owner": {"reputation": 470, "user_id": 6505930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCkDl.jpg?s=128&g=1", "display_name": "justnisar", "link": "https://stackoverflow.com/users/6505930/justnisar"}, "is_accepted": true, "score": 1, "last_activity_date": 1554938667, "creation_date": 1554938667, "answer_id": 55622614, "question_id": 55621486, "link": "https://stackoverflow.com/questions/55621486/how-to-apply-recursion-to-this-code-about-the-number-of-ways-to-sum-up-to-n/55622614#55622614", "title": "How to apply recursion to this code about the number of ways to sum up to &#39;N&#39;?", "body": "<p>The problem you are trying to solve is the same as the number of ways to make a change for an amount given a list of denominations. In your case, the amount is analogous to target number N and the denominations are analogous to the list of integers. Here is the recursive code. The link is <a href=\"https://www.geeksforgeeks.org/coin-change-dp-7/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/coin-change-dp-7/</a></p>\n\n<pre><code># Returns the count of ways we can sum \n# arr[0...m-1] coins to get sum N \ndef count(arr, m, N ): \n\n    # If N is 0 then there is 1 \n    # solution (do not include any coin) \n    if (N == 0): \n        return 1\n\n    # If N is less than 0 then no \n    # solution exists \n    if (N &lt; 0): \n        return 0; \n\n    # If there are no coins and N \n    # is greater than 0, then no \n    # solution exist \n    if (m &lt;=0 and N &gt;= 1): \n        return 0\n\n    # count is sum of solutions (i) \n    # including arr[m-1] (ii) excluding arr[m-1] \n    return count( arr, m - 1, N ) + count( arr, m, N-arr[m-1] ); \n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11322029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ea54b0d5e857b2f27424459f6547d9?s=128&d=identicon&r=PG&f=1", "display_name": "smartprogrammer", "link": "https://stackoverflow.com/users/11322029/smartprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 1, "accepted_answer_id": 55622614, "answer_count": 1, "score": 0, "last_activity_date": 1554938667, "creation_date": 1554931236, "last_edit_date": 1554937968, "question_id": 55621486, "link": "https://stackoverflow.com/questions/55621486/how-to-apply-recursion-to-this-code-about-the-number-of-ways-to-sum-up-to-n", "title": "How to apply recursion to this code about the number of ways to sum up to &#39;N&#39;?", "body": "<p>Given a list of integers, and a target integer N, I want to find the number of ways in which the integers in the list can be added to get N. Repetition is allowed.\nThis is the code:</p>\n\n<pre><code>def countWays(arr, m, N): \n\n    count = [0 for i in range(N + 1)] \n\n    # base case \n    count[0] = 1\n\n    # Count ways for all values up  \n    # to 'N' and store the result \n    # m=len(arr)\n    for i in range(1, N + 1): \n        for j in range(m): \n\n            # if i &gt;= arr[j] then \n            # accumulate count for value 'i' as \n            # ways to form value 'i-arr[j]' \n            if (i &gt;= arr[j]): \n                count[i] += count[i - arr[j]] \n\n    # required number of ways  \n    return count[N] \n</code></pre>\n\n<p>(from Geeksforgeeks)</p>\n\n<p>Any idea on how to do it using recursion and memoization?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 1323, "user_id": 8206432, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh3.googleusercontent.com/-23DNVlLluZk/AAAAAAAAAAI/AAAAAAAAAEo/Ebjepzhl6i8/photo.jpg?sz=128", "display_name": "Jack Moody", "link": "https://stackoverflow.com/users/8206432/jack-moody"}, "edited": false, "score": 0, "creation_date": 1554931141, "post_id": 55621454, "comment_id": 97935918, "body": "What do you mean it doesn&#39;t really show the progression of values?"}, {"owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "edited": false, "score": 2, "creation_date": 1554931172, "post_id": 55621454, "comment_id": 97935931, "body": "Could you post a picture of the graph you&#39;re getting so it is easier to understand?"}, {"owner": {"reputation": 103, "user_id": 10841685, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8Kdi-Ov9kSA/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZtzz0JOB9Pv9zTALjAU-YxVfcdZA/mo/photo.jpg?sz=128", "display_name": "Banks", "link": "https://stackoverflow.com/users/10841685/banks"}, "edited": false, "score": 0, "creation_date": 1554940258, "post_id": 55621454, "comment_id": 97938498, "body": "Also could you post the code for plotiing?"}], "owner": {"reputation": 165, "user_id": 11329454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ec761034d2bd4def5196c0d8f2ec58?s=128&d=identicon&r=PG&f=1", "display_name": "MLNLPEnhusiast", "link": "https://stackoverflow.com/users/11329454/mlnlpenhusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555137364, "creation_date": 1554931030, "last_edit_date": 1555137364, "question_id": 55621454, "link": "https://stackoverflow.com/questions/55621454/matplot-lib-plot-for-line-plotpython", "title": "Matplot lib plot for line plot(python)", "body": "<p>I am trying to plot a line plot from 2 columns of a data frame</p>\n\n<ul>\n<li>Column 1: index ranging from 1 to 200000</li>\n<li><p>Column 2: counter ranging from 100 to 30,000</p></li>\n<li><p>X axis: column 1</p></li>\n<li>Y axis: column 2</li>\n</ul>\n\n<p>Just plotting with pyplot does not really show the progression of values </p>\n\n<p>Is there a better way to control column 1 and 2 such that it starts with low number 1-10, 10-100, 100-1000, 1000-2000, 5000-10000 And so on ?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 1, "creation_date": 1554930958, "post_id": 55621417, "comment_id": 97935836, "body": "you need to sort the values before ploting"}, {"owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "edited": false, "score": 0, "creation_date": 1554930976, "post_id": 55621417, "comment_id": 97935845, "body": "It seems there&#39;s a duplicated date for 2019-03-30. Why is that the case? Possibly you&#39;ll need to group them. Not sure if you need a mean or the sum, though. Else, your data isn&#39;t ordered"}, {"owner": {"reputation": 87, "user_id": 11263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2ce8905a902fb7d163efe2a1ba9c73?s=128&d=identicon&r=PG&f=1", "display_name": "Enoch Han", "link": "https://stackoverflow.com/users/11263565/enoch-han"}, "edited": false, "score": 0, "creation_date": 1554931032, "post_id": 55621417, "comment_id": 97935867, "body": "I think you need to specify your question a bit better and maybe sort the values out as makaros said"}, {"owner": {"reputation": 11, "user_id": 8592260, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MfIrDRGGg-g/AAAAAAAAAAI/AAAAAAAAAI4/4qQWVLKzh1w/photo.jpg?sz=128", "display_name": "Kymani McGregor", "link": "https://stackoverflow.com/users/8592260/kymani-mcgregor"}, "edited": false, "score": 0, "creation_date": 1554934769, "post_id": 55621417, "comment_id": 97937147, "body": "The dates are in order in there separate lists but, when plotted they aren&#39;t in order and if I sort the lists together then I can&#39;t plot the two lines properly. If I ordered the data in one list then i can&#39;t plot the values properly."}], "owner": {"reputation": 11, "user_id": 8592260, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MfIrDRGGg-g/AAAAAAAAAAI/AAAAAAAAAI4/4qQWVLKzh1w/photo.jpg?sz=128", "display_name": "Kymani McGregor", "link": "https://stackoverflow.com/users/8592260/kymani-mcgregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1554934639, "creation_date": 1554930828, "last_edit_date": 1592644375, "question_id": 55621417, "link": "https://stackoverflow.com/questions/55621417/plotting-multiple-lines-on-the-same-figure-from-matplotlib", "title": "Plotting Multiple lines on the same figure From Matplotlib", "body": "<p>After getting dates and values from my database I want to graph this with two lines one representing pure_results and another representing applied_results. I want to plot these dates on the same figure.</p>\n<p>I tried plotting the data on the same figure and it worked for a little bit using the code below.</p>\n<p>I have two tables in which I get time_stamp which is a date along with SUM(Correct) which is the value I plot and then GROUP BY time_stamp causing duplicate dates to merge into one and sort the data (into two different lists).</p>\n<pre><code>def correct_graphs(user_id):\n    dates_pure = []\n    correct_pure = []\n    dates_applied = []\n    correct_applied = []\n    sql_pure = &quot;SELECT time_stamp,SUM(Correct) FROM pure_results WHERE user_id = ? GROUP BY time_stamp&quot;\n    sql_applied = &quot;SELECT time_stamp, SUM(Correct) FROM applied_results WHERE user_id = ? GROUP BY time_stamp&quot;\n    cursor.execute(sql_pure, [(user_id)])\n    for a in cursor.fetchall():\n        dates_pure.append(a[0])\n        correct_pure.append(a[1])\n    cursor.execute(sql_applied, [(user_id)])\n    for b in cursor.fetchall():\n        dates_applied.append(b[0])\n        correct_applied.append(b[1])\n    plt.plot(dates_pure, correct_pure, label=&quot;Pure Progess&quot;)\n    plt.plot(dates_applied, correct_applied, label=&quot;Applied Progess&quot;)\n    plt.xlabel(&quot;Dates of Maths Question Attempted&quot;)\n    plt.ylabel(&quot;Questions Correct&quot;)\n    plt.title(&quot;Comparsion of Correct Progess&quot;)\n    plt.legend()\n    plt.show()\n\n</code></pre>\n<p>However after some of the dates change in two tables I expected the output to be x-axis plotted in date order however my actual result is <a href=\"https://i.stack.imgur.com/2fNaI.png\" rel=\"nofollow noreferrer\">matplotlib graph</a></p>\n<p>Example Data :</p>\n<pre><code>dates_pure = ['2019-03-25', '2019-03-26', '2019-03-30', '2019-04-02', '2019-04-03']\ncorrect_pure = [4, 6, 5, 6, 8]\ndates_applied= ['2019-03-25', '2019-03-26', '2019-03-27', '2019-03-30', '2019-04-05']\ncorrect_applied = [6, 3, 4, 10, 5]\n</code></pre>\n<p>I need a way of merging the two lists and sorting them in chronological order to fix the x-axis and then be able to plot pure_results and applied_results as two separate lines or being able to plot the two line simultaneously</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554930762, "post_id": 55621392, "comment_id": 97935742, "body": "is &quot;l2&quot; a string?"}, {"owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "edited": false, "score": 1, "creation_date": 1554930801, "post_id": 55621392, "comment_id": 97935762, "body": "are values in <code>Label2</code> actually sets? or is that  a string?"}, {"owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "edited": false, "score": 0, "creation_date": 1554930842, "post_id": 55621392, "comment_id": 97935774, "body": "Also, could you post a desired output, so it is easier to help you"}, {"owner": {"reputation": 947, "user_id": 1638811, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fd27187ff204d376f3e954057b4e7f15?s=128&d=identicon&r=PG", "display_name": "Vu Nguyen", "link": "https://stackoverflow.com/users/1638811/vu-nguyen"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1554935096, "post_id": 55621392, "comment_id": 97937260, "body": "@coldspeed,  in my example it&#39;s a string, but doesn&#39;t have to be."}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 2, "last_activity_date": 1554930907, "creation_date": 1554930907, "answer_id": 55621438, "question_id": 55621392, "link": "https://stackoverflow.com/questions/55621392/selecting-pandas-dataframe-satisfying-membership/55621438#55621438", "title": "Selecting Pandas Dataframe satisfying membership", "body": "<p>Assuming \"l2\" is a string, and \"Label2\" is made up of sets, a simple solution would just be to convert the set column to string and perform an <code>str.contains</code>:</p>\n\n<pre><code>label = \"l2\"\ndf[df['Label2'].astype(str).str.contains(r'\\b{}\\b'.format(label))]\n\n  Label1    Label2\n0      a  {l1, l2}\n4      e  {l2, l3}\n</code></pre>\n\n<hr>\n\n<p>Another option is a list comprehension:</p>\n\n<pre><code>df[['l2' in x if isinstance(x, set) else False for x in df['Label2']]]\n\n  Label1    Label2\n0      a  {l1, l2}\n4      e  {l2, l3}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 947, "user_id": 1638811, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fd27187ff204d376f3e954057b4e7f15?s=128&d=identicon&r=PG", "display_name": "Vu Nguyen", "link": "https://stackoverflow.com/users/1638811/vu-nguyen"}, "edited": false, "score": 1, "creation_date": 1554935004, "post_id": 55621487, "comment_id": 97937231, "body": "Thanks, using intersection achieves this (and also looks like an efficient way)"}, {"owner": {"reputation": 947, "user_id": 1638811, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fd27187ff204d376f3e954057b4e7f15?s=128&d=identicon&r=PG", "display_name": "Vu Nguyen", "link": "https://stackoverflow.com/users/1638811/vu-nguyen"}, "edited": false, "score": 0, "creation_date": 1554935225, "post_id": 55621487, "comment_id": 97937314, "body": "how is using <code>df.loc[]</code> different than just using <code>df[..]</code>1"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 947, "user_id": 1638811, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fd27187ff204d376f3e954057b4e7f15?s=128&d=identicon&r=PG", "display_name": "Vu Nguyen", "link": "https://stackoverflow.com/users/1638811/vu-nguyen"}, "edited": false, "score": 0, "creation_date": 1554935618, "post_id": 55621487, "comment_id": 97937409, "body": "@VuNguyen For this purpose, not different at all ;}"}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": true, "score": 2, "last_activity_date": 1554931250, "creation_date": 1554931250, "answer_id": 55621487, "question_id": 55621392, "link": "https://stackoverflow.com/questions/55621392/selecting-pandas-dataframe-satisfying-membership/55621487#55621487", "title": "Selecting Pandas Dataframe satisfying membership", "body": "<p>If you have a series of <code>sets</code>, just use the <em>intersection</em> operator <code>&amp;</code></p>\n\n<pre><code>df.loc[df['Label2'] &amp; {'l2'}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1554932394, "creation_date": 1554932394, "answer_id": 55621682, "question_id": 55621392, "link": "https://stackoverflow.com/questions/55621392/selecting-pandas-dataframe-satisfying-membership/55621682#55621682", "title": "Selecting Pandas Dataframe satisfying membership", "body": "<p>Using <code>isin</code> with <code>any</code> after convert the <code>sets</code> <code>columns</code> to df</p>\n\n<pre><code>df[pd.DataFrame(df.Label2.tolist()).isin(['l2']).any(1)]\n</code></pre>\n"}], "owner": {"reputation": 947, "user_id": 1638811, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fd27187ff204d376f3e954057b4e7f15?s=128&d=identicon&r=PG", "display_name": "Vu Nguyen", "link": "https://stackoverflow.com/users/1638811/vu-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 55621487, "answer_count": 3, "score": 1, "last_activity_date": 1554932394, "creation_date": 1554930712, "question_id": 55621392, "link": "https://stackoverflow.com/questions/55621392/selecting-pandas-dataframe-satisfying-membership", "title": "Selecting Pandas Dataframe satisfying membership", "body": "<p>I have data <code>df</code> looks like</p>\n\n<pre><code>Label1 Label2\na      {l1,l2}\nb      {l1}\nc      {}\nd      {l3}\ne      {l3,l2}\n</code></pre>\n\n<p>I want to be able to select rows whose Label2 column contains <code>l2</code>, i.e., rows with <code>label1 =a and e</code>.   I know about the <code>isin</code> method, e.g., <code>df['Label2'].isin(..)</code>,  but this is not the same kind of membership question (more like the inverse). I want something that looks like <code>df['Label2'].contains('l2')</code>. </p>\n"}, {"tags": ["python", "google-cloud-platform", "apache-beam"], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 11249344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67833621b5d398fbce4b11f586c3d972?s=128&d=identicon&r=PG&f=1", "display_name": "cloudpython", "link": "https://stackoverflow.com/users/11249344/cloudpython"}, "is_accepted": true, "score": 1, "last_activity_date": 1555017857, "creation_date": 1555017857, "answer_id": 55641399, "question_id": 55621370, "link": "https://stackoverflow.com/questions/55621370/how-to-filter-elements-from-downstream-transforms-in-the-pipeline-without-sendi/55641399#55641399", "title": "How to filter elements from downstream transforms in the pipeline, without sending a&quot;NoneType&quot;?", "body": "<p>After further research, I've figured out the issue. The heart of the problem is essentially based on a Map vs FlatMap comparison. </p>\n\n<ul>\n<li>Map takes a single input and MUST put out a single output.</li>\n<li>FlatMap, however, has the ability to take in a single output, but return <strong>0, or more elements</strong>. This means that it won't tag an entry with a NoneType in a return. Hence the main issue was resolved.</li>\n</ul>\n\n<p>In my code, I utilized a Map transform for data_trim_enhance, when it should have been a FlatMap since I'm using that function to trim/filter data from the origin, and completely shed it.</p>\n\n<p>I had tried the FlatMap before, but it was distorting my dictionary. To solve that, I simply enclosed the dictionary with list notation.</p>\n\n<p>Hope this helps someone!</p>\n"}], "owner": {"reputation": 123, "user_id": 11249344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67833621b5d398fbce4b11f586c3d972?s=128&d=identicon&r=PG&f=1", "display_name": "cloudpython", "link": "https://stackoverflow.com/users/11249344/cloudpython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 55641399, "answer_count": 1, "score": 0, "last_activity_date": 1555017857, "creation_date": 1554930592, "question_id": 55621370, "link": "https://stackoverflow.com/questions/55621370/how-to-filter-elements-from-downstream-transforms-in-the-pipeline-without-sendi", "title": "How to filter elements from downstream transforms in the pipeline, without sending a&quot;NoneType&quot;?", "body": "<p>I need to remove elements in the pipeline that correspond to old data. i.e:data before Jan 1st 2019. When I implement this, the downstream transform is getting a \"NoneType\" error because the filtering sends a None, as opposed to just moving on to the next element. I need to be able to filter out data elements and just move on without returning anything.</p>\n\n<p>This is for an Apache Beam pipeline, processing a streaming dataset from PubSub. I've attempted to just \"pass\", as well as handle for errors, and pass a side collection that can add the if/else/pass logic.</p>\n\n<pre><code>def timedelay(element):...\n\ndef data_trim_enhance(element):\n    # Will filter out old sensor data \n    old_data_limit = datetime(2019, 1, 1, 0, 0, 0, 0)\n    date_to_compare = datetime.strptime(element.attributes['_last_updt'], '%Y-%m-%d %H:%M:%S.%f')\n\n    if date_to_compare &lt; old_data_limit:\n        # print(date_to_compare)\n        pass\n    else:\n        return \"some data\"\n\ndef run():\n\n    chi_traffic = (pipeline\n                   | 'ReadPubSub' &gt;&gt; beam.io.ReadFromPubSub(subscription=subscription_name, with_attributes=True)\n                   # [START window_and_trigger] - Set a fixed window at 10 minutes based on evnt_timestamp attribute\n                   | 'TrafficFixedWindows' &gt;&gt; beam.WindowInto(beam.window.FixedWindows(10),\n                                                              trigger=trigger.AfterWatermark(trigger.AfterCount(10)),\n                                                              accumulation_mode=trigger.AccumulationMode.ACCUMULATING)\n                   # [END window_and_trigger] - Wait for AfterCount(x) pub/sub messages\n                   | 'GeoEnrich&amp;Trim' &gt;&gt; beam.Map(data_trim_enhance)\n                   | 'TimeDelayEnrich' &gt;&gt; beam.Map(timedelay)\n                   | 'TrafficRatingEnrich' &gt;&gt; beam.Map(traffic_rating)\n                   | 'MergeAccidents' &gt;&gt; beam.Map(merge_accidents, pcoll=pvalue.AsDict(accident_data))\n                   | 'WritetoBQ' &gt;&gt; beam.io.WriteToBigQuery(\n                                                        table='{0}:{1}.{2}'.format(project_id, dataset_id, table_name),\n                                                        schema=table_schema\n                                                            ))\n</code></pre>\n\n<p>Once the window triggers, I expect that the next transform down(timedelay) to get the data processed from data_trim_enhance. However, I end up getting a \"AttributeError: 'NoneType' object has no attribute *\". I've tried handling this through the various functions, but it ends up just getting kicked down the road till it hits the \"WritetoBQ\" and errors out on the NoneType. I need to just skip the element that is old, and send nothing.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 13, "user_id": 4958178, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153260060068467/picture?type=large", "display_name": "Antonio Mendoza", "link": "https://stackoverflow.com/users/4958178/antonio-mendoza"}, "edited": false, "score": 0, "creation_date": 1554930928, "post_id": 55621343, "comment_id": 97935820, "body": "I ran server again n again but there is no error .. I am not getting what is the issue :("}, {"owner": {"reputation": 7396, "user_id": 5921826, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cF8w-5Y_yz8/AAAAAAAAAAI/AAAAAAAAAC0/oIYJ_x2s_3o/photo.jpg?sz=128", "display_name": "Ivan Starostin", "link": "https://stackoverflow.com/users/5921826/ivan-starostin"}, "edited": false, "score": 0, "creation_date": 1554968228, "post_id": 55621343, "comment_id": 97945970, "body": "You should create it manually and set appropriate permissions. Also <code>not able to create</code> is not clear and does not help to understand your actual problem."}, {"owner": {"reputation": 13, "user_id": 4958178, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153260060068467/picture?type=large", "display_name": "Antonio Mendoza", "link": "https://stackoverflow.com/users/4958178/antonio-mendoza"}, "reply_to_user": {"reputation": 7396, "user_id": 5921826, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cF8w-5Y_yz8/AAAAAAAAAAI/AAAAAAAAAC0/oIYJ_x2s_3o/photo.jpg?sz=128", "display_name": "Ivan Starostin", "link": "https://stackoverflow.com/users/5921826/ivan-starostin"}, "edited": false, "score": 0, "creation_date": 1555060560, "post_id": 55621343, "comment_id": 97985521, "body": "Now I got it .. I made a new item in admin panel then it worked :)"}], "owner": {"reputation": 13, "user_id": 4958178, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153260060068467/picture?type=large", "display_name": "Antonio Mendoza", "link": "https://stackoverflow.com/users/4958178/antonio-mendoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554930458, "creation_date": 1554930458, "question_id": 55621343, "link": "https://stackoverflow.com/questions/55621343/pycharm-not-making-media-folder", "title": "Pycharm not making MEDIA folder", "body": "<p>Settings and urls.py file ..... Pycharm not able to create MEDIA folder :/ what is happening .. please guide ?</p>\n\n<pre><code>MEDIA_URL = '/media/'\nMEDIA_ROOT = os.path.join(BASE_DIR, '/media')\n\n\nfrom django.contrib import admin\nfrom django.urls import path, include\nfrom django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('shop/', include('shop.urls')),\n    path('blog/', include('blog.urls'))\n] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre>\n"}, {"tags": ["python", "pytorch"], "comments": [{"owner": {"reputation": 1203, "user_id": 10508893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19088d413e74d87a8f6e0f288cbddb45?s=128&d=identicon&r=PG&f=1", "display_name": "LeKhan9", "link": "https://stackoverflow.com/users/10508893/lekhan9"}, "edited": false, "score": 2, "creation_date": 1554931042, "post_id": 55621322, "comment_id": 97935872, "body": "torch.nn is a library with a bunch of modules like Sigmoid. Sigmoid is a &quot;module&quot; per the docs as it is a subclass of the Module class. Check out - &quot;what is torch.nn really?&quot; here <a href=\"https://pytorch.org/tutorials/beginner/nn_tutorial.html\" rel=\"nofollow noreferrer\">pytorch.org/tutorials/beginner/nn_tutorial.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5962, "user_id": 220700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d1081bfed83e0be780441043732d5ff?s=128&d=identicon&r=PG", "display_name": "Sergii Dymchenko", "link": "https://stackoverflow.com/users/220700/sergii-dymchenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1555015105, "creation_date": 1555015105, "answer_id": 55640791, "question_id": 55621322, "link": "https://stackoverflow.com/questions/55621322/why-is-torch-nn-sigmoid-a-class-instead-of-a-method/55640791#55640791", "title": "Why is torch.nn.Sigmoid a class instead of a method?", "body": "<p>My understanding is that the <code>nn.Sigmoid</code> exists to be composable with other nn layers, like this:</p>\n\n<pre><code>net = nn.Sequential(\n      nn.Linear(3, 4),\n      nn.Sigmoid())\n</code></pre>\n\n<p>If you don't need this, you can just use <code>torch.sigmoid</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 3758174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749597f76e7fa37326e581e18b2def2f?s=128&d=identicon&r=PG&f=1", "display_name": "colesbury", "link": "https://stackoverflow.com/users/3758174/colesbury"}, "is_accepted": false, "score": 4, "last_activity_date": 1555016375, "creation_date": 1555016375, "answer_id": 55641089, "question_id": 55621322, "link": "https://stackoverflow.com/questions/55621322/why-is-torch-nn-sigmoid-a-class-instead-of-a-method/55641089#55641089", "title": "Why is torch.nn.Sigmoid a class instead of a method?", "body": "<p>Sigmoid is available as both a module <a href=\"https://pytorch.org/docs/stable/nn.html#sigmoid\" rel=\"nofollow noreferrer\"><code>torch.nn.Sigmoid</code></a> and a function <a href=\"https://pytorch.org/docs/stable/torch.html#torch.sigmoid\" rel=\"nofollow noreferrer\"><code>torch.sigmoid</code></a>. The two are equivalent: the module is just a wrapper around the function.</p>\n\n<p>The module exists mostly for historical reasons: PyTorch was based on the Lua torch7 package. In torch7, all differentiable neural network functions were implemented as modules. The module can also be used in <a href=\"https://pytorch.org/docs/stable/nn.html#sequential\" rel=\"nofollow noreferrer\"><code>torch.nn.Sequential</code></a> blocks for networks with simple feed-forward structures.</p>\n\n<p>Other than that, there is no advantage to using the module form over the function form.</p>\n\n<p>The <code>nn</code> in <code>torch.nn</code> stands for \"neural network\".</p>\n"}], "owner": {"reputation": 434, "user_id": 4101137, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/17f389af9053b17ab7d5749fcb20b654?s=128&d=identicon&r=PG&f=1", "display_name": "user49404", "link": "https://stackoverflow.com/users/4101137/user49404"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2251, "favorite_count": 0, "accepted_answer_id": 55640791, "answer_count": 2, "score": 2, "last_activity_date": 1555016375, "creation_date": 1554930369, "question_id": 55621322, "link": "https://stackoverflow.com/questions/55621322/why-is-torch-nn-sigmoid-a-class-instead-of-a-method", "title": "Why is torch.nn.Sigmoid a class instead of a method?", "body": "<p>I'm trying to understand how pytorch works a little bit better. Usually, when defining a neural network class, in the <strong>init</strong>() constructor, people write self.sigmoid = nn.Sigmoid(), so that in the forward() method they can call the sigmoid function multiple times with having to reinstantiate nn.Sigmoid() every time.</p>\n\n<p>But why isn't nn.Sigmoid just a method to begin with, instead of a class?</p>\n\n<p>Also, I was curious what to refer to 'nn' in torch.nn as (package? library?).</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "csv"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 4, "creation_date": 1554930269, "post_id": 55621280, "comment_id": 97935559, "body": "Don&#39;t add &quot;r&quot; to the beginning of the input string. Also, if you&#39;re using Python 2.x, use <code>raw_input</code> instead of  <code>input</code> so you don&#39;t have to type the quotes."}, {"owner": {"reputation": 3792, "user_id": 7259671, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/COi5o.jpg?s=128&g=1", "display_name": "webDev", "link": "https://stackoverflow.com/users/7259671/webdev"}, "edited": false, "score": 0, "creation_date": 1554930428, "post_id": 55621280, "comment_id": 97935627, "body": "also you are missing one closing parentheses &quot;) &quot; on line <code>df = pd.DataFrame(pd.read_csv(path, index_col=False)</code> or simply do <code>df = pd.read_csv(path, index_col=False)</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1554930831, "post_id": 55621280, "comment_id": 97935772, "body": "Why are you inputting with quotes: <code>&quot;C:\\path\\somefile.csv&quot;</code>? Just remove the quotes, and don&#39;t add the <code>r</code>. That doesn&#39;t make it a raw string, that just <i>adds and r</i>"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1554931321, "post_id": 55621280, "comment_id": 97935984, "body": "I suggest you learn about the difference between the &quot;repr&quot; of a string the value of a string."}, {"owner": {"reputation": 241, "user_id": 11174424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24d37060bed93c39ac6a041cdc4f13?s=128&d=identicon&r=PG&f=1", "display_name": "Trace R.", "link": "https://stackoverflow.com/users/11174424/trace-r"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1554932730, "post_id": 55621280, "comment_id": 97936458, "body": "@juanpa.arrivillaga would you mind explaining to me why you must use r in front of the quoted file path when you enter it as a direct argument rather than passing it through a variable?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1554934452, "post_id": 55621280, "comment_id": 97937031, "body": "Because that is a <i>raw string literal</i>. That is <i>source code</i>. There is a difference between source code and your data. <code>input</code> takes user input from the standard input stream and returns it as string object. String <i>literals in source code</i> are surrounded by quotes, but no quotes exist in the data itself."}, {"owner": {"reputation": 241, "user_id": 11174424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24d37060bed93c39ac6a041cdc4f13?s=128&d=identicon&r=PG&f=1", "display_name": "Trace R.", "link": "https://stackoverflow.com/users/11174424/trace-r"}, "edited": false, "score": 0, "creation_date": 1554991754, "post_id": 55621280, "comment_id": 97960258, "body": "Thank you that makes things much clearer."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1554930850, "post_id": 55621376, "comment_id": 97935778, "body": "I don&#39;t even think <code>replace(r&#39;\\\\&#39;,&#39;&#47;&#39;)</code> is necessary"}, {"owner": {"reputation": 241, "user_id": 11174424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24d37060bed93c39ac6a041cdc4f13?s=128&d=identicon&r=PG&f=1", "display_name": "Trace R.", "link": "https://stackoverflow.com/users/11174424/trace-r"}, "edited": false, "score": 1, "creation_date": 1554931758, "post_id": 55621376, "comment_id": 97936137, "body": "works, thank you! I&#39;ve had issues inputting file paths before where r&quot;some path&quot; has always fixed the issue, so I&#39;ve always used it without issue. This is the first I&#39;ve had where it has actually caused a problem. Guess I need to research it&#39;s use more."}], "tags": [], "owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "is_accepted": true, "score": 2, "last_activity_date": 1554931076, "last_edit_date": 1554931076, "creation_date": 1554930625, "answer_id": 55621376, "question_id": 55621280, "link": "https://stackoverflow.com/questions/55621280/pass-a-variable-to-read-csv-as-an-argument/55621376#55621376", "title": "Pass a variable to read_csv as an argument?", "body": "<p>You were over-engineering your code. It's as simple as this:</p>\n\n<pre><code>print('Please enter file path without quotes.')\npath = input()\ndf =pd.read_csv(path, index_col=False)\n</code></pre>\n\n<p>You don't need the quotes, as they will be added automatically</p>\n"}, {"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 3, "last_activity_date": 1554931635, "creation_date": 1554931635, "answer_id": 55621552, "question_id": 55621280, "link": "https://stackoverflow.com/questions/55621280/pass-a-variable-to-read-csv-as-an-argument/55621552#55621552", "title": "Pass a variable to read_csv as an argument?", "body": "<p>I think you are confusing raw string literals with a string value. When we write something like</p>\n\n<pre><code>csv = pd.read_csv(r'C:\\path\\somefile.csv')\n</code></pre>\n\n<p>the <code>r'C:\\path\\somefile.csv'</code> is a string literal. This is how we represent the string <strong>in python code</strong>. The user should never be aware of the <code>r''</code> notation, including both the letter <code>r</code> and the quotes. Instead, they should just type the path as they see it in other programs. This means that you can just do</p>\n\n<pre><code>path = input()\n</code></pre>\n\n<p>Also the user shouldn't be required to type any quotes.</p>\n"}], "owner": {"reputation": 241, "user_id": 11174424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24d37060bed93c39ac6a041cdc4f13?s=128&d=identicon&r=PG&f=1", "display_name": "Trace R.", "link": "https://stackoverflow.com/users/11174424/trace-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1373, "favorite_count": 0, "accepted_answer_id": 55621376, "answer_count": 2, "score": 0, "last_activity_date": 1554931807, "creation_date": 1554930175, "last_edit_date": 1554931807, "question_id": 55621280, "link": "https://stackoverflow.com/questions/55621280/pass-a-variable-to-read-csv-as-an-argument", "title": "Pass a variable to read_csv as an argument?", "body": "<p>To be more user friendly, I have created a prompt for the user to input a file path.</p>\n\n<pre><code>print('Please enter file path surrounded by quotes.')\npath = 'r' + input()\ndf = pd.DataFrame(pd.read_csv(path, index_col=False))\n</code></pre>\n\n<p>When input is </p>\n\n<pre><code>\"C:\\path\\somefile.csv\"\n</code></pre>\n\n<p>Output returns</p>\n\n<pre><code>FileNotFoundError: [Errno 2] File b'r\"C:\\path\\somefile.csv\"' does not exist: b'r\"C:\\path\\somefile.csv\"'\n</code></pre>\n\n<p>If I remove the variable input and drop the file directly into the read_csv argument, it works just fine. Can someone educate me?</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-s3", "amazon-cloudformation", "amazon-iam"], "owner": {"reputation": 320, "user_id": 7528340, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5CYFCf_mm40/AAAAAAAAAAI/AAAAAAAAA2k/rfi2UmM9xTQ/photo.jpg?sz=128", "display_name": "ImPurshu", "link": "https://stackoverflow.com/users/7528340/impurshu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554929995, "creation_date": 1554929995, "question_id": 55621246, "link": "https://stackoverflow.com/questions/55621246/access-denied-on-s3-during-emr-job", "title": "Access denied on S3 during EMR Job", "body": "<p>I have S3 buckets with particular user access. Now I am trying to submit EMR job on aws. But It is showing me access denied.</p>\n\n<p>What I am doing wrong here?</p>\n\n<p>Bucket Policy Sample:</p>\n\n<pre><code>  AUser:\n    Description: Name of the AUser\n    Type: String             \n  BUser:\n    Description: Name of the BUser\n    Type: String                    \nResources:    \n  MetadataBucketSecurity:\n    Type: AWS::S3::BucketPolicy\n    Properties:\n      Bucket: \n        Ref: MetadataBucket \n      PolicyDocument:\n        Version: '2012-10-17'\n        Statement:\n          - \n            Effect: Deny\n            NotPrincipal:\n              AWS:\n              - !Sub 'arn:aws:iam::${AWS::AccountId}:user/${AUser}'\n              - !Sub 'arn:aws:iam::${AWS::AccountId}:user/${BUser}'\n            Action: \n            - 's3:ListBucket'\n            - 's3:RestoreObject'\n            - 's3:ReplicateObject'\n            - 's3:PutObject'\n            - 's3:PutBucketNotification'\n            - 's3:PutBucketLogging'\n            - 's3:PutObjectTagging'\n            - 's3:DeleteObject'\n            - 's3:GetObjectAcl'\n            - 's3:GetObject'\n            - 's3:GetBucketLogging'\n            - 's3:GetBucketAcl'\n            - 's3:ListBucketByTags'\n            - 's3:GetObjectVersionAcl'\n            - 's3:GetBucketPolicy'\n            Resource:\n              - !Sub 'arn:aws:s3:::${Bucket}'\n              - !Sub 'arn:aws:s3:::${Bucket}/*'\n</code></pre>\n\n<pre><code>Reason : S3 Service Error.\nCaused by: com.amazon.ws.emr.hadoop.fs.shaded.com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied;\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "directory", "os.walk"], "comments": [{"owner": {"reputation": 1924, "user_id": 5516874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ioXgB.jpg?s=128&g=1", "display_name": "Jessica", "link": "https://stackoverflow.com/users/5516874/jessica"}, "edited": false, "score": 0, "creation_date": 1554930022, "post_id": 55621231, "comment_id": 97935455, "body": "you need indentation before the &#39;found = True&#39; to match the above &#39;if&#39; statement"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1554931166, "post_id": 55621231, "comment_id": 97935926, "body": "I think your <code>open()</code> call should use <code>fn</code>, not <code>filename</code>."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1554931243, "post_id": 55621231, "comment_id": 97935956, "body": "Also, it looks like the <code>if found:</code> block should be indented one level deeper, as you want this to run after processing <i>each</i> file, not after processing <i>all</i> files."}], "answers": [{"comments": [{"owner": {"reputation": 4762, "user_id": 4881398, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/mcves.png?s=128&g=1", "display_name": "argo", "link": "https://stackoverflow.com/users/4881398/argo"}, "reply_to_user": {"reputation": 13, "user_id": 11340696, "user_type": "registered", "profile_image": "https://graph.facebook.com/2206716349364354/picture?type=large", "display_name": "Steve Arguin", "link": "https://stackoverflow.com/users/11340696/steve-arguin"}, "edited": false, "score": 0, "creation_date": 1554930897, "post_id": 55621252, "comment_id": 97935803, "body": "@SteveArguin You can check this answer for further help. <a href=\"https://stackoverflow.com/questions/2578022/python-2-5-2-trying-to-open-files-recursively\" title=\"python 2 5 2 trying to open files recursively\">stackoverflow.com/questions/2578022/&hellip;</a>. And also accept the correct answer whenever you problem is solved."}], "tags": [], "owner": {"reputation": 4762, "user_id": 4881398, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/mcves.png?s=128&g=1", "display_name": "argo", "link": "https://stackoverflow.com/users/4881398/argo"}, "is_accepted": false, "score": 0, "last_activity_date": 1554930028, "creation_date": 1554930028, "answer_id": 55621252, "question_id": 55621231, "link": "https://stackoverflow.com/questions/55621231/browse-all-folders-and-subfolders-to-delete-all-files-which-contain-a-certain-st/55621252#55621252", "title": "Browse all folders and subfolders to delete all files which contain a certain string", "body": "<p>you are having indentation issue. Use the below code inside for loop</p>\n\n<pre><code>for line in f:\n    if 'chicken' in line:\n        found = True\n        break\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2568, "user_id": 6939324, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1Tjoe.jpg?s=128&g=1", "display_name": "SuperKogito", "link": "https://stackoverflow.com/users/6939324/superkogito"}, "is_accepted": false, "score": 0, "last_activity_date": 1554932436, "creation_date": 1554932436, "answer_id": 55621691, "question_id": 55621231, "link": "https://stackoverflow.com/questions/55621231/browse-all-folders-and-subfolders-to-delete-all-files-which-contain-a-certain-st/55621691#55621691", "title": "Browse all folders and subfolders to delete all files which contain a certain string", "body": "<p>I am not sure why do you break and then delete when you can directly remove the file. You are on the right track in your code but the structure and indentation were wrong. I hope this helps solve your issue.</p>\n\n<pre><code>import os \n\nroot = r'C:\\Users\\Steve\\AppData\\Local\\Programs\\Python\\Python37-32\\fruits'\nfor path, subdirs, files in os.walk(root):\n\n    for name in files:\n        # get file path \n        file_path = os.path.join(path, name)\n        # read content of file \n        with open(file_path) as f:\n            content = f.readlines()\n\n        # delete if it include key word\n        for line in content: \n            if \"chicken\" in line:\n                os.remove(file_path)\n                break\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11340696, "user_type": "registered", "profile_image": "https://graph.facebook.com/2206716349364354/picture?type=large", "display_name": "Steve Arguin", "link": "https://stackoverflow.com/users/11340696/steve-arguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554932436, "creation_date": 1554929917, "last_edit_date": 1554931439, "question_id": 55621231, "link": "https://stackoverflow.com/questions/55621231/browse-all-folders-and-subfolders-to-delete-all-files-which-contain-a-certain-st", "title": "Browse all folders and subfolders to delete all files which contain a certain string", "body": "<p>I have several folders containing several subfolders each, containing 5-6 .txt files each which have lists of fruits (apples, pears, grapes, ect.) A handful of random .txt files, however, contain \"chicken\", and must be deleted.</p>\n\n<p>I am trying to write a program which will browse each folder and subfolder, deleting the files which contain the string \"chicken\", but it does not seem to be working for some reason. </p>\n\n<p>The following is the code I have thus far:</p>\n\n<pre><code>import os\nDIR = r'C:\\Users\\Steve\\AppData\\Local\\Programs\\Python\\Python37-32\\fruits'\nfor parent, dirnames, filenames in os.walk(DIR):\n    for fn in filenames:\n        found = False\n        with open(os.path.join(DIR,filename)) as f:\n            for line in f:\n                if 'chicken' in line:\n                    found = True\n                    break\n    if found:\n        os.remove(os.path.join(DIR, fn))\n</code></pre>\n\n<p>I am getting errors such as </p>\n\n<pre><code>  File &lt;stdin&gt;, line 4, in &lt;module&gt;\nFileNotFoundError: [errno 2] No such file or directory:\n</code></pre>\n\n<p>and I'm not sure why.</p>\n\n<p>Any suggestions on how to make the code run smoothly are much appreciated!</p>\n"}, {"tags": ["python", "eclipse", "debugging", "pytest"], "comments": [{"owner": {"reputation": 1502, "user_id": 8051903, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c27511bf2b71aa531de9dbb675c77164?s=128&d=identicon&r=PG&f=1", "display_name": "langme", "link": "https://stackoverflow.com/users/8051903/langme"}, "edited": false, "score": 0, "creation_date": 1554994478, "post_id": 55621218, "comment_id": 97962192, "body": "may be playing with arguments ??? or not possible with pytest.runner"}, {"owner": {"reputation": 1502, "user_id": 8051903, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c27511bf2b71aa531de9dbb675c77164?s=128&d=identicon&r=PG&f=1", "display_name": "langme", "link": "https://stackoverflow.com/users/8051903/langme"}, "edited": false, "score": 0, "creation_date": 1554996342, "post_id": 55621218, "comment_id": 97963376, "body": "use @pytest.mark.&lt;test_name&gt; and in your debug config put in arguments -m &lt;test_name&gt;"}], "owner": {"reputation": 1502, "user_id": 8051903, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c27511bf2b71aa531de9dbb675c77164?s=128&d=identicon&r=PG&f=1", "display_name": "langme", "link": "https://stackoverflow.com/users/8051903/langme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1554929850, "creation_date": 1554929850, "question_id": 55621218, "link": "https://stackoverflow.com/questions/55621218/how-to-configure-pytest-in-eclipse-for-single-function", "title": "How to configure pytest in eclipse for single function", "body": "<p>In eclipse, i would like to know how to configure debug for single function.\nI use pytest interpreter. \nIn my file 'hello.py', i have several function</p>\n\n<p>How to make this without using console:</p>\n\n<blockquote>\n  <p>pytest hello.py::function</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 3, "creation_date": 1554929546, "post_id": 55621148, "comment_id": 97935239, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20449427/how-can-i-read-inputs-as-numbers\">How can I read inputs as numbers?</a>"}, {"owner": {"reputation": 1323, "user_id": 8206432, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh3.googleusercontent.com/-23DNVlLluZk/AAAAAAAAAAI/AAAAAAAAAEo/Ebjepzhl6i8/photo.jpg?sz=128", "display_name": "Jack Moody", "link": "https://stackoverflow.com/users/8206432/jack-moody"}, "edited": false, "score": 0, "creation_date": 1554929700, "post_id": 55621148, "comment_id": 97935307, "body": "It is possible for the largest odd number not to be the largest number out of x, y, and z. For example, consider the case where x = 8, y = 5, and z = 3."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 3, "creation_date": 1554929773, "post_id": 55621148, "comment_id": 97935335, "body": "The middle bunch of <code>if</code> statements can never be true, as they all start off with <code>if x % 2 != 0</code>, but you&#39;re already inside an <code>if x % 2 == 0</code> context."}], "answers": [{"tags": [], "owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "is_accepted": false, "score": 1, "last_activity_date": 1554930104, "creation_date": 1554930104, "answer_id": 55621267, "question_id": 55621148, "link": "https://stackoverflow.com/questions/55621148/what-is-wrong-with-line-5-in-this-code-is-there-anything-wrong-with-the-other-l/55621267#55621267", "title": "What is wrong with line 5 in this code? Is there anything wrong with the other lines?", "body": "<p>Maybe the logic becomes easier if you make it into a small list and sort it:</p>\n\n<pre><code>x = input (\"Enter first number: \")\ny = input (\"Enter second number: \")\nz = input (\"Enter third number: \")\n\nodds = sorted([ i for i in [x,y,z] if int(i)%2 ],reverse=True)\nif not odds:\n    print(\"No odd number\")\nelif odds.count(odds[0]) == len(odds):\n    print(\"All odd numbers are equal\")\nelse:\n    print(f\"{odds[0]} is the largest odd number\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 355, "user_id": 10554343, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R4z-5NlXRJE/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbArCp0mFIg5a2Bdvg4UkieZB4d_wQ/mo/photo.jpg?sz=128", "display_name": "Parmandeep Chaddha", "link": "https://stackoverflow.com/users/10554343/parmandeep-chaddha"}, "is_accepted": false, "score": 0, "last_activity_date": 1554930173, "creation_date": 1554930173, "answer_id": 55621279, "question_id": 55621148, "link": "https://stackoverflow.com/questions/55621148/what-is-wrong-with-line-5-in-this-code-is-there-anything-wrong-with-the-other-l/55621279#55621279", "title": "What is wrong with line 5 in this code? Is there anything wrong with the other lines?", "body": "<p>2 things: 1. Convert data. 2. Your code isn't formatted correctly, by the looks of it. </p>\n\n<p>For 1: </p>\n\n<pre><code>x = int(input((\"Enter first number: \")) #Do this for y and z\n</code></pre>\n\n<p>For 2- your code will never return the largest odd number if the largest odd number is smaller than the largest even number. For example [20, 9, 5]. To fix that: </p>\n\n<pre><code>#Create a list to work with\nnum_li = [x,y,z]\n\n#Get all the odd numbers    \nnum_li = [i for i in num_li if i%2!=0]\n\n#If no odd numbers\nif len(num_li) == 0:\n    print('No odds')\n#Print the largest odd number\nelse:\n    num_li.sort(reverse = True)\n    print('The largest odd number is: ' + str(num_li[0])) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 670, "user_id": 2207618, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bd1e561856a20d167f7b544cb381d373?s=128&d=identicon&r=PG", "display_name": "danny bee", "link": "https://stackoverflow.com/users/2207618/danny-bee"}, "is_accepted": false, "score": 0, "last_activity_date": 1554930381, "creation_date": 1554930381, "answer_id": 55621326, "question_id": 55621148, "link": "https://stackoverflow.com/questions/55621148/what-is-wrong-with-line-5-in-this-code-is-there-anything-wrong-with-the-other-l/55621326#55621326", "title": "What is wrong with line 5 in this code? Is there anything wrong with the other lines?", "body": "<p>There are two problems with the current version of the code:</p>\n\n<p>1)TypeError - You are receiving strings as inputs and treating them like integers</p>\n\n<p>2)Logical error - your conditions do not cover all cases.</p>\n\n<p>I rewrote the code. strings are converted to int and all cases are covered.</p>\n\n<p>Working example:</p>\n\n<pre><code>x = int(input (\"Enter first number: \"))\ny = int(input (\"Enter second number: \"))\nz = int(input (\"Enter third number: \"))\n\nnumbers = [x, y, z]\nodd_numbers = []\nfor number in numbers: // loop through the numbers and create an odd number list\n  if number % 2 != 0:\n    odd_numbers.append(number)\n\nif odd_numbers: //print out the largest number in the list using max()\n  print(max(odd_numbers))\nelse:\n  print(\"No odd numbers\")// if the list is empty this will be printed\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6820093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ced8ecba2120fced094d1024a7f811?s=128&d=identicon&r=PG&f=1", "display_name": "This Dude", "link": "https://stackoverflow.com/users/6820093/this-dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1554933731, "creation_date": 1554929479, "last_edit_date": 1554929513, "question_id": 55621148, "link": "https://stackoverflow.com/questions/55621148/what-is-wrong-with-line-5-in-this-code-is-there-anything-wrong-with-the-other-l", "title": "What is wrong with line 5 in this code? Is there anything wrong with the other lines?", "body": "<p>I just started learning python. I have some experience with C++ from school. The problem is to write code that prints the largest odd number from user input and to print relevant feedback if there isn't any odd number. What is wrong with this code and are there better ways to solve this problem?</p>\n\n<pre><code>#To print the largest odd number \n\nx = input (\"Enter first number: \")\ny = input (\"Enter second number: \")\nz = input (\"Enter third number: \")\n\nif x % 2 == 0 and y % 2 == 0 and z % 2 == 0:\n    print (\"There are no odd numbers\")\n\n    if x % 2 != 0 and x &gt; y and x &gt; z:\n        print (x, \" is the largest odd number\")\n\n    if y % 2 != 0 and y &gt; x and y &gt; z:\n        print (y, \" is the largest odd number\")\n\n    if z % 2 != 0 and z &gt; x and z &gt; y:\n        print (z, \" is the largest odd number\")\n\nelif x == y == z:\n    print (\"All the numbers have the same value\")    \n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 2507, "user_id": 2741091, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2f5b0db70a69308bba55f416f78f9fc9?s=128&d=identicon&r=PG", "display_name": "ifly6", "link": "https://stackoverflow.com/users/2741091/ifly6"}, "edited": false, "score": 0, "creation_date": 1554929559, "post_id": 55621126, "comment_id": 97935246, "body": "Do you want <code>[[yellow], [yellower]]</code> or <code>[yellow, yellower]</code>?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1554929703, "post_id": 55621126, "comment_id": 97935309, "body": "You don&#39;t have a DataFrame or any Pandas object. This is just a regular Python list. You can&#39;t use Pandas methods on lists."}, {"owner": {"reputation": 17, "user_id": 9559799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793abe63ce9829703e036db1240262ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sam M", "link": "https://stackoverflow.com/users/9559799/sam-m"}, "edited": false, "score": 0, "creation_date": 1554929703, "post_id": 55621126, "comment_id": 97935310, "body": "I want each example to correspondent to the color. So [[&#39;Example4&#39;],  [&#39;Example14&#39;]]"}, {"owner": {"reputation": 3301, "user_id": 7237997, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4f3ef18b508d3451f1478e63cfda7ab6?s=128&d=identicon&r=PG&f=1", "display_name": "Matt W.", "link": "https://stackoverflow.com/users/7237997/matt-w"}, "edited": false, "score": 0, "creation_date": 1554929853, "post_id": 55621126, "comment_id": 97935374, "body": "Did you mean to have a missing space in Example3? are there any without spaces between them?"}, {"owner": {"reputation": 17, "user_id": 9559799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793abe63ce9829703e036db1240262ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sam M", "link": "https://stackoverflow.com/users/9559799/sam-m"}, "edited": false, "score": 0, "creation_date": 1554929925, "post_id": 55621126, "comment_id": 97935409, "body": "This is just an object with some data I stored from my original dataframe"}, {"owner": {"reputation": 17, "user_id": 9559799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793abe63ce9829703e036db1240262ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sam M", "link": "https://stackoverflow.com/users/9559799/sam-m"}, "reply_to_user": {"reputation": 3301, "user_id": 7237997, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4f3ef18b508d3451f1478e63cfda7ab6?s=128&d=identicon&r=PG&f=1", "display_name": "Matt W.", "link": "https://stackoverflow.com/users/7237997/matt-w"}, "edited": false, "score": 0, "creation_date": 1554930004, "post_id": 55621126, "comment_id": 97935447, "body": "@MattW. Sorry, I fixed it. They all are supposed to have spaces"}], "answers": [{"tags": [], "owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "is_accepted": false, "score": 1, "last_activity_date": 1554930355, "creation_date": 1554930355, "answer_id": 55621320, "question_id": 55621126, "link": "https://stackoverflow.com/questions/55621126/filtering-a-nested-list-in-python/55621320#55621320", "title": "Filtering a nested list in python", "body": "<p>If you don't want to preserve the inner lists you can do it with a double list comprehension:</p>\n\n<pre><code>[item for inner in my_list for item in inner if 'yellow' in item]\n</code></pre>\n\n<p>yields:</p>\n\n<blockquote>\n  <p>[' Example4 (yellow)', ' Example14 (yellow)']</p>\n</blockquote>\n\n<p>If you want to preserve the inner lists you can do it like this:</p>\n\n<pre><code>[ [item for item in inner if 'yellow' in item] for inner in my_list ]\n</code></pre>\n\n<p>yields:</p>\n\n<blockquote>\n  <p>[[' Example4 (yellow)'], [' Example14 (yellow)']]</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3301, "user_id": 7237997, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4f3ef18b508d3451f1478e63cfda7ab6?s=128&d=identicon&r=PG&f=1", "display_name": "Matt W.", "link": "https://stackoverflow.com/users/7237997/matt-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1554930774, "last_edit_date": 1554930774, "creation_date": 1554930430, "answer_id": 55621336, "question_id": 55621126, "link": "https://stackoverflow.com/questions/55621126/filtering-a-nested-list-in-python/55621336#55621336", "title": "Filtering a nested list in python", "body": "<p><strong>Import necessary packages and intialize data:</strong></p>\n\n<pre><code>import pandas as pd\nimport re\n\nmy_list = [['Example1 (purple)',\n  ' Example2 (blue)',\n  ' Example3 (orange)',\n  ' Example4 (yellow)',\n  ' Example5 (red)',\n  ' Example6 (pink)',\n  ' Example7 (sky)'],\n ['Example8 (purple)',\n  ' Example9 (blue)',\n  ' Example10 (orange)',\n  ' Example11 (sky)',\n  ' Example12 (green)',\n  ' Example13 (green)',\n  ' Example14 (yellow)',\n  ' Example15 (red)',\n  ' Example16 (pink)',\n  ' Example17 (pink)',\n  ' Example18 (green)',\n  ' Example19 (sky)']]\n</code></pre>\n\n<p>Flatten the list, so its not nested lists in lists. (This is why you got an error that lists don't have split. If you do <code>[x.split() for x in my_list]</code> it will give an error because the elements made up of <code>my_list</code> are lists)</p>\n\n<p><em>Define a flatlist function and flatten list:</em></p>\n\n<pre><code>flat_list = lambda l: [item for sublist in l for item in sublist]\nflat = flat_list(my_list)\n</code></pre>\n\n<p>Create an empty dataframe</p>\n\n<pre><code>df = pd.DataFrame({})\n</code></pre>\n\n<p>Extract out the elements of the single flat list. this strips it of whitespace, then splits it by the space, taking the 0th element for the \"Example1\", and then strips it again to remove whitespace. do it again but take the 1st element for the color. Wrap it in () and separate by a comma to return it as a tuple.</p>\n\n<pre><code>splitout = [(x.strip().split(' ')[0].strip(), x.strip().split(' ')[1]) for x in pd.Series(flat)]\n</code></pre>\n\n<p>set the two dataframe columns. the first is just grabbing the first element of the splitout which is always Example, the second uses re.sub to remove the () from the color</p>\n\n<pre><code>df['Example'] = [x[0] for x in splitout]\ndf['Color'] = [re.sub('[/(/)]', '', x[1]) for x in splitout]\n\n      Example   Color\n0    Example1  purple\n1    Example2    blue\n2    Example3  orange\n3    Example4  yellow\n4    Example5     red\n5    Example6    pink\n6    Example7     sky\n7    Example8  purple\n8    Example9    blue\n9   Example10  orange\n10  Example11     sky\n11  Example12   green\n12  Example13   green\n13  Example14  yellow\n14  Example15     red\n15  Example16    pink\n16  Example17    pink\n17  Example18   green\n18  Example19     sky\n</code></pre>\n\n<p>Then you can pivot into a larger dataframe with colors for columns:</p>\n\n<pre><code>pd.pivot_table(df.assign(v=1), index='Example', columns='Color', values='v')\n\nColor      blue  green  orange  pink  purple  red  sky  yellow\nExample                                                       \nExample1    NaN    NaN     NaN   NaN     1.0  NaN  NaN     NaN\nExample10   NaN    NaN     1.0   NaN     NaN  NaN  NaN     NaN\nExample11   NaN    NaN     NaN   NaN     NaN  NaN  1.0     NaN\nExample12   NaN    1.0     NaN   NaN     NaN  NaN  NaN     NaN\nExample13   NaN    1.0     NaN   NaN     NaN  NaN  NaN     NaN\nExample14   NaN    NaN     NaN   NaN     NaN  NaN  NaN     1.0\nExample15   NaN    NaN     NaN   NaN     NaN  1.0  NaN     NaN\nExample16   NaN    NaN     NaN   1.0     NaN  NaN  NaN     NaN\nExample17   NaN    NaN     NaN   1.0     NaN  NaN  NaN     NaN\nExample18   NaN    1.0     NaN   NaN     NaN  NaN  NaN     NaN\nExample19   NaN    NaN     NaN   NaN     NaN  NaN  1.0     NaN\nExample2    1.0    NaN     NaN   NaN     NaN  NaN  NaN     NaN\nExample3    NaN    NaN     1.0   NaN     NaN  NaN  NaN     NaN\nExample4    NaN    NaN     NaN   NaN     NaN  NaN  NaN     1.0\nExample5    NaN    NaN     NaN   NaN     NaN  1.0  NaN     NaN\nExample6    NaN    NaN     NaN   1.0     NaN  NaN  NaN     NaN\nExample7    NaN    NaN     NaN   NaN     NaN  NaN  1.0     NaN\nExample8    NaN    NaN     NaN   NaN     1.0  NaN  NaN     NaN\nExample9    1.0    NaN     NaN   NaN     NaN  NaN  NaN     NaN\n</code></pre>\n\n<p>whole code:</p>\n\n<pre><code>import pandas as pd\nimport re\n\nflat_list = lambda l: [item for sublist in l for item in sublist]\nflat = flat_list(my_list)\n\nsplitout = [(x.strip().split(' ')[0].strip(), x.strip().split(' ')[1]) for x in pd.Series(flat)]\n\ndf = pd.DataFrame({})\ndf['Example'] = [x[0] for x in splitout]\ndf['Color'] = [re.sub('[/(/)]', '', x[1]) for x in splitout]\n\npivot = pd.pivot_table(df.assign(v=1), index='Example', columns='Color', values='v')\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 9559799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793abe63ce9829703e036db1240262ba?s=128&d=identicon&r=PG&f=1", "display_name": "Sam M", "link": "https://stackoverflow.com/users/9559799/sam-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554930774, "creation_date": 1554929391, "last_edit_date": 1554929952, "question_id": 55621126, "link": "https://stackoverflow.com/questions/55621126/filtering-a-nested-list-in-python", "title": "Filtering a nested list in python", "body": "<p>Hey guys i'm trying to filter a nested list to only include strings that include the word \"yellow\". My aim is to store each color in their own separate column into my dataframe</p>\n\n<p>I tried labels.str.split('yellow') but it just tell me that 'list' object has no attribute 'str'</p>\n\n<pre><code>[['Example1 (purple)',   \n  ' Example2 (blue)',\n  ' Example3 (orange)',\n  ' Example4 (yellow)',\n  ' Example5 (red)',\n  ' Example6 (pink)',\n  ' Example7 (sky)'],\n ['Example8 (purple)',\n  ' Example9 (blue)',\n  ' Example10 (orange)',\n  ' Example11 (sky)',\n  ' Example12 (green)',\n  ' Example13 (green)',\n  ' Example14 (yellow)',\n  ' Example15 (red)',\n  ' Example16 (pink)',\n  ' Example17 (pink)',\n  ' Example18 (green)',\n  ' Example19 (sky)']]\n</code></pre>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 1323, "user_id": 8206432, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh3.googleusercontent.com/-23DNVlLluZk/AAAAAAAAAAI/AAAAAAAAAEo/Ebjepzhl6i8/photo.jpg?sz=128", "display_name": "Jack Moody", "link": "https://stackoverflow.com/users/8206432/jack-moody"}, "edited": false, "score": 4, "creation_date": 1554929840, "post_id": 55621104, "comment_id": 97935371, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1080411/retrieve-links-from-web-page-using-python-and-beautifulsoup\">retrieve links from web page using python and BeautifulSoup</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "edited": false, "score": 0, "creation_date": 1554930871, "post_id": 55621229, "comment_id": 97935790, "body": "Thank you I tried on this  <a href=\"https://en.wikipedia.org/wiki/Lists_of_tourist_attractions\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Lists_of_tourist_attractions</a> but not getting the href am I missinganythibg .."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "edited": false, "score": 0, "creation_date": 1554934255, "post_id": 55621229, "comment_id": 97936971, "body": "check your <code>HTML</code> contents, why are you searching for <code>&lt;div&gt;</code> tags? there are no <code>&lt;div&gt;</code> tags in the <code>HTML</code> code.."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "edited": false, "score": 0, "creation_date": 1554934490, "post_id": 55621229, "comment_id": 97937040, "body": "Otherwise, I&#39;m not sure why you don&#39;t get the <code>&#39;href&#39;</code>, try demo here, click <code>&#39;Run&#39;</code> on top of page: <a href=\"http://repl.it/@downshift/FlippantLeadingIntranet\" rel=\"nofollow noreferrer\">repl.it/@downshift/FlippantLeadingIntranet</a> -- Afterwards, the <code>&#39;href.txt&#39;</code> file will contain <code>li   https:&#47;&#47;en.wikipedia.org&#47;wiki&#47;Lists_of_tourist_attractions</code>"}, {"owner": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "edited": false, "score": 0, "creation_date": 1554937151, "post_id": 55621229, "comment_id": 97937777, "body": "I tried on the wiki link the same logic . its not working/."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "edited": false, "score": 0, "creation_date": 1554937220, "post_id": 55621229, "comment_id": 97937790, "body": "what do you mean it is not working? did you run the demo and see the output?"}, {"owner": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "edited": false, "score": 0, "creation_date": 1554937344, "post_id": 55621229, "comment_id": 97937827, "body": "Its not printing all the hrefs and text"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "edited": false, "score": 0, "creation_date": 1554937375, "post_id": 55621229, "comment_id": 97937843, "body": "do you want to save the href and text to the file? or just print it?"}, {"owner": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "edited": false, "score": 0, "creation_date": 1554938278, "post_id": 55621229, "comment_id": 97938052, "body": "I am ok either way. to start with I want to print, issue I am having is wikipedia links"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "reply_to_user": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "edited": false, "score": 0, "creation_date": 1554938836, "post_id": 55621229, "comment_id": 97938172, "body": "Where you are stuck .. what is the issue you are having with the wikipedia link? Your code is incomplete and you should show us where the issue is"}], "tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": true, "score": 0, "last_activity_date": 1554929913, "creation_date": 1554929913, "answer_id": 55621229, "question_id": 55621104, "link": "https://stackoverflow.com/questions/55621104/python-beautifulsoup-getting-the-hyperlink/55621229#55621229", "title": "Python Beautifulsoup getting the hyperlink", "body": "<p>You may want to try <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#find\" rel=\"nofollow noreferrer\"><code>Tag.find()</code></a>:</p>\n\n<pre><code>f.write(\"li   \"+li.find('a')['href'])\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11198334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2166cc94dea2b4c66226487ed26755?s=128&d=identicon&r=PG&f=1", "display_name": "ML Learner2", "link": "https://stackoverflow.com/users/11198334/ml-learner2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55621229, "answer_count": 1, "score": 0, "last_activity_date": 1554929913, "creation_date": 1554929248, "question_id": 55621104, "link": "https://stackoverflow.com/questions/55621104/python-beautifulsoup-getting-the-hyperlink", "title": "Python Beautifulsoup getting the hyperlink", "body": "<pre><code>&lt;li&gt;&lt;a href=\"https://en.wikipedia.org/wiki/yyyyy.html\" title=\"yyyyy\"&gt;yyyyyy&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>I am trying to scarp the data and was able to do using the beautifulsoup.</p>\n\n<p>code I am using is :</p>\n\n<pre><code>for ul in soup.findAll('div'):\n    print(ul.text)\n    for li in ul.findAll('li'):\n        print(li.text)\n        f.write(\"li   \"+str(li.text))\n</code></pre>\n\n<p>How can I get the href.\nI am looking output as:\nyyyyy;<a href=\"https://en.wikipedia.org/wiki/yyyyy.html\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/yyyyy.html</a></p>\n"}, {"tags": ["python", "numpy", "scikit-learn", "scipy", "scikit-image"], "comments": [{"owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1554929527, "post_id": 55621100, "comment_id": 97935232, "body": "In terms of libraries, take a look at OpenCV, they have pretty good Python bindings. There is even a specific algorithm for circles: <a href=\"https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_houghcircles/py_houghcircles.html\" rel=\"nofollow noreferrer\">opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1554929724, "post_id": 55621100, "comment_id": 97935316, "body": "Numpy has a <code>roll()</code> function that could enable you to make left and right or top and bottom edges actually adjacent... <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.roll.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/reference/generated/numpy.roll.html</a>"}, {"owner": {"reputation": 873, "user_id": 1404135, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/384109811c41e081e517531081b500d3?s=128&d=identicon&r=PG", "display_name": "3z33etm", "link": "https://stackoverflow.com/users/1404135/3z33etm"}, "edited": false, "score": 0, "creation_date": 1554929955, "post_id": 55621100, "comment_id": 97935422, "body": "Mark Setchell that will be very handy, thank you."}], "owner": {"reputation": 873, "user_id": 1404135, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/384109811c41e081e517531081b500d3?s=128&d=identicon&r=PG", "display_name": "3z33etm", "link": "https://stackoverflow.com/users/1404135/3z33etm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554931450, "creation_date": 1554929238, "last_edit_date": 1554931450, "question_id": 55621100, "link": "https://stackoverflow.com/questions/55621100/find-closest-clusters-of-colors-in-a-numpy-array-from-an-image-file", "title": "find closest clusters of colors in a numpy array from an image file", "body": "<p><strong>Current state</strong></p>\n\n<ul>\n<li>I have a numpy array of shape <code>(900, 1800, 3)</code> that has been made from an image file. </li>\n<li>That's one array element per pixel: 900 px high, 1800 px wide, and 3 channels (R, G, B) per pixel represented in the array.</li>\n<li>There are only a small number (3-20) unique RGB colors in the images being parsed, so there are only very few different RGB value combinations represented in the array.</li>\n</ul>\n\n<p><strong>Goal</strong></p>\n\n<ul>\n<li>Identify the smallest circular areas in the image that contains <code>n</code> number of unique colors, where <code>n</code> will always be less than or equal to the number of unique colors in the image.</li>\n<li>Return top <code>y</code> (by count or pct) of the smallest areas.</li>\n<li>A 'result' could simply be the x,y value of the center pixel of an identified circular area and its radius.</li>\n<li>I <em>do</em> plan to draw a circle around each area, but this question is about the best approach for first identifying the top smallest areas.  </li>\n</ul>\n\n<p><strong>The Catch/Caveat</strong></p>\n\n<p>The images are actually flattened projections of spheres.  That means that a pixel at the right edge of the image is actually adjacent to a pixel on the left edge, and similarly for top and bottom pixels.  The solution must account for this as it is parsing pixels to identify closest pixels with other colors.  <strong>EDIT:</strong> this part may be answered in comments below</p>\n\n<p><strong>The Question</strong></p>\n\n<p>My initial approach is to simply parse pixel by pixel and brute force the problem with handrolled x/y coordinate math: take a pixel, work outwards until we hit <code>n</code> colors, score that pixel for how many steps outward it took, next pixel.  Keep a top <code>y</code> dict that gets re-evaluated after each pixel, adding any pixels that make top <code>y</code>, and dumping any that get pushed out.  Return that dict as the output.</p>\n\n<p>I know that many python libs like <code>scipy</code>, <code>scikit-image</code>, and maybe others like to work with images as numpy arrays.  I'm <em>sure</em> there is a method/approach that is smarter and leverages a library or some kind of clustering algo instead of brute forcing it, but I'm not familiar enough with the space to know intuitively what methods and libs to consider.  The question: <strong>What is the pseudocode for a good method/lib to do this the right way?</strong></p>\n"}, {"tags": ["python", "google-bigquery", "google-cloud-firestore", "connection", "google-cloud-functions"], "comments": [{"owner": {"reputation": 3099, "user_id": 1031958, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95178cfe1a6233353d8d3f0739d69ffc?s=128&d=identicon&r=PG", "display_name": "Tamir Klein", "link": "https://stackoverflow.com/users/1031958/tamir-klein"}, "edited": false, "score": 0, "creation_date": 1554931166, "post_id": 55621094, "comment_id": 97935927, "body": "Hi Jeffer, thank you for your question. Are you getting any error when trying to run your code? If not can you be more specific what are you trying to solve."}], "answers": [{"tags": [], "owner": {"reputation": 2137, "user_id": 7517757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fb5372a8e3d98fe4ef02d0e90fb421c?s=128&d=identicon&r=PG", "display_name": "Tlaquetzal", "link": "https://stackoverflow.com/users/7517757/tlaquetzal"}, "is_accepted": false, "score": 0, "last_activity_date": 1564587461, "last_edit_date": 1564587461, "creation_date": 1564586353, "answer_id": 57294082, "question_id": 55621094, "link": "https://stackoverflow.com/questions/55621094/connect-dialogflow-with-google-bigquery-via-cloudfunctions-with-python/57294082#57294082", "title": "Connect Dialogflow with Google BigQuery via Cloudfunctions with Python", "body": "<p>You are close, your function needs to accept the request. Also, python for cloud functions removes a lot of the overhead out of the code (you will still need it for local testing though). You can follow <a href=\"https://cloud.google.com/functions/docs/quickstart-python#top_of_page\" rel=\"nofollow noreferrer\">this</a> quickstart to get you started.</p>\n\n<p>Here is an example of how it could be written:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from flask import jsonify\nimport pandas as pd\n\ndef prueba_1(request):\n\n    # Your code\n\n    ss = pd.read_gbq('SELECT * FROM my_dataset.my_table')\n\n    # More code\n\n    return jsonify(my_dictionary)\n</code></pre>\n\n<p><a href=\"https://flask.palletsprojects.com/en/1.1.x/api/#flask.json.jsonify\" rel=\"nofollow noreferrer\">jsonify</a> takes a dict object and returns an application/json Response. Remember to add pandas and pandas-gbq in your requirements.</p>\n\n<p>Finally, if you are using cloud functions to set up a <a href=\"https://cloud.google.com/dialogflow/docs/fulfillment-configure#custom_webhook\" rel=\"nofollow noreferrer\">custom webhook</a> for Dialogflow, remember to check the <a href=\"https://cloud.google.com/dialogflow/docs/fulfillment-how#request_format\" rel=\"nofollow noreferrer\">request</a> and <a href=\"https://cloud.google.com/dialogflow/docs/fulfillment-how#response_format\" rel=\"nofollow noreferrer\">response</a> formats.</p>\n"}], "owner": {"reputation": 39, "user_id": 10615123, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GcQgtiizOXI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCd09luADBkqljPlw7RU2LpN_uK5g/mo/photo.jpg?sz=128", "display_name": "Jeffer Leonardo Alarcon Pedraz", "link": "https://stackoverflow.com/users/10615123/jeffer-leonardo-alarcon-pedraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564587461, "creation_date": 1554929219, "question_id": 55621094, "link": "https://stackoverflow.com/questions/55621094/connect-dialogflow-with-google-bigquery-via-cloudfunctions-with-python", "title": "Connect Dialogflow with Google BigQuery via Cloudfunctions with Python", "body": "<p>I'm new on Python and cloud functions but I saw that it's possible to connect Dialogflow and GoogleBigQuery via Cloudfunctions but I do not understand how to make this, can someone explain me how to do it or if the way I'm trying to it's at least close?</p>\n\n<pre><code>import flask\nfrom flask import Flask\nfrom flask import request\nfrom flask import make_response\n\napp = Flask(__name__)\n@app.route('/prueba_1', methods=['POST'])\ndef prueba_1():\n    import json\n    import pandas as pd\n    ss = pd.read_gbq(\"SELECT something FROM bigquery_table LIMIT 1\",\"arbor-209819\")\n    ll = {\n        \"speech\" : ss.to_json(),\n        \"displayText\": ss.to_json(),\n        \"source\": \"apiai-weather-webhook-sample\"\n    }\n    res = json.dumps(ll, indent=4)\n    r = make_response(res)\n    r.headers['Content-Type'] = 'application/json'\n    return r\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>Thank you so much.</p>\n"}, {"tags": ["python", "django", "forms", "url"], "comments": [{"owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "edited": false, "score": 1, "creation_date": 1554930247, "post_id": 55621087, "comment_id": 97935551, "body": "Are you talking about querystring parameters (the part after the <code>?</code> in the URL) ?  Those are normally only appended to the ULR in GET requests, not in POST."}, {"owner": {"reputation": 1, "user_id": 10902852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5kkfj.jpg?s=128&g=1", "display_name": "RobinNguyenK", "link": "https://stackoverflow.com/users/10902852/robinnguyenk"}, "reply_to_user": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "edited": false, "score": 0, "creation_date": 1554935701, "post_id": 55621087, "comment_id": 97937430, "body": "Yes! I am talking about querystring parameters. Specifically how would I implement that into a class based view&#39;s &quot;get&quot; function."}, {"owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "edited": false, "score": 0, "creation_date": 1554937932, "post_id": 55621087, "comment_id": 97937981, "body": "<a href=\"https://stackoverflow.com/q/150505/9225671\">This question</a> talks about accessing GET parameters, maybe that helps."}], "owner": {"reputation": 1, "user_id": 10902852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5kkfj.jpg?s=128&g=1", "display_name": "RobinNguyenK", "link": "https://stackoverflow.com/users/10902852/robinnguyenk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554929174, "creation_date": 1554929174, "question_id": 55621087, "link": "https://stackoverflow.com/questions/55621087/how-to-append-information-to-the-end-of-url-with-django-forms", "title": "How to append information to the end of URL with Django-forms?", "body": "<p>Without storing anything to a database, I want for the user to be able to enter a name (NAME) into my form and hit a submit button. Upon hitting submit, the name entered will be appended at the end of my URL like so: <a href=\"http://127.0.0.1:8000/username=NAME\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000/username=NAME</a></p>\n\n<p>All I have is this basic form:</p>\n\n<pre><code>&lt;form method=\"post\"&gt;\n{% csrf_token %}\n{% bootstrap_form form %}\n  &lt;input type=\"submit\" value='Enter Name'&gt;&lt;/input&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I am also trying to make it so that if the user types directly into the URL, they would be able to find the same page as if they were typing into the form. </p>\n\n<p>Example:\nA user types 'Joe' at the end of an URL as <a href=\"http://127.0.0.1:8000/username=Joe\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000/username=Joe</a> and gets a page about Joe. I expect the same resulting page about Joe when I enter 'Joe' into my form.</p>\n"}, {"tags": ["python", "macos", "tkinter", "pycharm"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1554930211, "post_id": 55621073, "comment_id": 97935539, "body": "if your question is about an optionmenu, you should remove all of the code related to the entry and frames. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should have just enough code to illustrate the problem, but no more."}, {"owner": {"reputation": 63, "user_id": 9605016, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cGXEYkpFC70/AAAAAAAAAAI/AAAAAAAABZY/kho1YinQUAA/photo.jpg?sz=128", "display_name": "Mills Tennis", "link": "https://stackoverflow.com/users/9605016/mills-tennis"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1554931758, "post_id": 55621073, "comment_id": 97936136, "body": "i know but i am working on a project that adds the option menu separator in this but i added the rest of the code"}, {"owner": {"reputation": 63, "user_id": 9605016, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cGXEYkpFC70/AAAAAAAAAAI/AAAAAAAABZY/kho1YinQUAA/photo.jpg?sz=128", "display_name": "Mills Tennis", "link": "https://stackoverflow.com/users/9605016/mills-tennis"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1554936499, "post_id": 55621073, "comment_id": 97937623, "body": "How is it now ?"}, {"owner": {"reputation": 63, "user_id": 9605016, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cGXEYkpFC70/AAAAAAAAAAI/AAAAAAAABZY/kho1YinQUAA/photo.jpg?sz=128", "display_name": "Mills Tennis", "link": "https://stackoverflow.com/users/9605016/mills-tennis"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1554936528, "post_id": 55621073, "comment_id": 97937630, "body": "can you answer/help me with my question?"}], "answers": [{"tags": [], "owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "is_accepted": true, "score": 1, "last_activity_date": 1555589629, "last_edit_date": 1555589629, "creation_date": 1554967922, "answer_id": 55626986, "question_id": 55621073, "link": "https://stackoverflow.com/questions/55621073/add-a-separator-to-an-option-menu-in-python-with-tkinter/55626986#55626986", "title": "add a separator to an option menu in python with Tkinter", "body": "<p>I've found a better way than my previous answer. </p>\n\n<p>The OptionMenu's dropdown list is just a Tkinter <code>Menu()</code> class and it has all the functionalities of <code>Menu()</code>. So you can add separators in OptionMenu by access the Menu object inside the OptionMenu class.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>Op = OptionMenu(root, var, 'First', 'Second', 'Third')\nOp.pack()\n\nOp['menu'].insert_separator(1)\n</code></pre>\n\n<hr>\n\n<p><strong>Update Code:</strong></p>\n\n<pre><code>from tkinter import *\n\nroot = Tk()\nroot.geometry(\"1430x840\")\nvar1 = StringVar()\n\nopt1 = OptionMenu(root, var1, \n                'Mockups', \n                'Assets', \n                'Symbols', \n                # here is where the separator should be\n                'Trash')\n\nopt1['menu'].insert_separator(3)\n\nopt1.pack(side=LEFT, anchor=W)\nvar1.set('')\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 9605016, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cGXEYkpFC70/AAAAAAAAAAI/AAAAAAAABZY/kho1YinQUAA/photo.jpg?sz=128", "display_name": "Mills Tennis", "link": "https://stackoverflow.com/users/9605016/mills-tennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 0, "accepted_answer_id": 55626986, "answer_count": 1, "score": 3, "last_activity_date": 1555589658, "creation_date": 1554929104, "last_edit_date": 1555589658, "question_id": 55621073, "link": "https://stackoverflow.com/questions/55621073/add-a-separator-to-an-option-menu-in-python-with-tkinter", "title": "add a separator to an option menu in python with Tkinter", "body": "<p>I have python Tkinter code that I want to add a separator to the option menu. I can't figure out how to do it.</p>\n\n<p>I have looked it up online but nobody seemed to ask this question yet.</p>\n\n<p>here is the code</p>\n\n<pre><code>from tkinter import *\n\nroot = Tk()\nroot.geometry(\"1430x840\")\n\n# here is where I have the option menu. I want the separator in-between the word symbols and trash\n\nvar1 = StringVar()\n\nopt1 = OptionMenu(root, var1, \n       'Mockups', \n       'Assets', \n       'Symbols', \n       # here is where the separator should be\n       'Trash')\n\nopt1.pack(side=LEFT, anchor=W)\nvar1.set('')\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "keras"], "comments": [{"owner": {"reputation": 456, "user_id": 3235916, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/127b9983cea62f6610e55fa3da8f6976?s=128&d=identicon&r=PG&f=1", "display_name": "user3235916", "link": "https://stackoverflow.com/users/3235916/user3235916"}, "edited": false, "score": 1, "creation_date": 1554931766, "post_id": 55621050, "comment_id": 97936139, "body": "what happens if you sample at 0? Do you also get tiny values? Typically in VAEs you should have most of the samples close to 0, are the max values perhaps outliers? Try plotting the overall distribution of latents and see where max is relative to this? If you wanted to sample, you should also sample the entire space also uniform(min_latent_values,max_latent_values) bcs min will almost certainly be below 0"}, {"owner": {"reputation": 431, "user_id": 1213014, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f69d7cbdef18e8d5e2aec67f100ed9f?s=128&d=identicon&r=PG", "display_name": "DrTchocky", "link": "https://stackoverflow.com/users/1213014/drtchocky"}, "reply_to_user": {"reputation": 456, "user_id": 3235916, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/127b9983cea62f6610e55fa3da8f6976?s=128&d=identicon&r=PG&f=1", "display_name": "user3235916", "link": "https://stackoverflow.com/users/3235916/user3235916"}, "edited": false, "score": 0, "creation_date": 1554935427, "post_id": 55621050, "comment_id": 97937361, "body": "Indeed, there is a &quot;bimodal&quot; distribution of the latent space values; one peak at (near) zero, and the other (near) one.  I haven&#39;t checked <i>every</i> node, but I presume its the same for all of them. Sampling at/near zero (or just [0,1]) does indeed produce values in magnitude closer to what I would expect.  Is there a way to &quot;link&quot; the sampling of one node to another? I feel like randomly sampling [0,1] for each one throws out the paired learning of each node with each other."}, {"owner": {"reputation": 456, "user_id": 3235916, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/127b9983cea62f6610e55fa3da8f6976?s=128&d=identicon&r=PG&f=1", "display_name": "user3235916", "link": "https://stackoverflow.com/users/3235916/user3235916"}, "edited": false, "score": 1, "creation_date": 1554936488, "post_id": 55621050, "comment_id": 97937620, "body": "Glad that helped :). Is there a reason you can&#39;t sample the actual data? Alternatively, its a bit crude, but depending on the application but you could just run PCA over the dimensions of the latent space for all examples and then collect samples by tiling the first n principal components and projecting this back into the latent space."}, {"owner": {"reputation": 431, "user_id": 1213014, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f69d7cbdef18e8d5e2aec67f100ed9f?s=128&d=identicon&r=PG", "display_name": "DrTchocky", "link": "https://stackoverflow.com/users/1213014/drtchocky"}, "reply_to_user": {"reputation": 456, "user_id": 3235916, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/127b9983cea62f6610e55fa3da8f6976?s=128&d=identicon&r=PG&f=1", "display_name": "user3235916", "link": "https://stackoverflow.com/users/3235916/user3235916"}, "edited": false, "score": 0, "creation_date": 1554937194, "post_id": 55621050, "comment_id": 97937786, "body": "The reasons for not sampling the data directly are a bit convoluted, but essentially I would like to know what happens when you modulate specific values in the input vector (e.g. tuning down X%) and what happens to the rest of the values in my &quot;input&quot; vector; we don&#39;t necessarily have enough data that allows to sample those values specifically in the range we care about."}, {"owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 1, "creation_date": 1554963746, "post_id": 55621050, "comment_id": 97943873, "body": "The latent space of a VAE is generally designed to be Gaussian normal (mean 0, std 1, the KL divergence does this), so it makes no sense to talk about a bimodal latent space or to sample it as uniform."}], "owner": {"reputation": 431, "user_id": 1213014, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f69d7cbdef18e8d5e2aec67f100ed9f?s=128&d=identicon&r=PG", "display_name": "DrTchocky", "link": "https://stackoverflow.com/users/1213014/drtchocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554928984, "creation_date": 1554928984, "question_id": 55621050, "link": "https://stackoverflow.com/questions/55621050/sampling-vae-latent-variables-appropriately", "title": "Sampling VAE latent variables appropriately", "body": "<p>I am currently trying to create a variational autoencoder (VAE), that is trained on data that has been scaled to min/max (zero to one)The overall architecture can be seen below:. <a href=\"https://i.stack.imgur.com/Wg7oV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wg7oV.png\" alt=\"enter image description here\"></a> </p>\n\n<p>I'm in interested in sampling the learned latent space after it has been trained sufficiently. The latent space has size 200, so I figured I could create sample vectors doing the following: </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\nNUM_SAMPLED_VECTORS = 100\nsampled_latent = []\nmax_latent_values = encoded_latent_df.max(axis=0).values.tolist()\n\n# Sample 100 vectors \nfor x in range(NUM_SAMPLED_VECTORS):\n    temp = []\n    for i,z in enumerate(max_latent_values):\n        temp.append(uniform(0, z))\n    sampled_latent.append(temp)\n\nsampled_latent_df = pandas.DataFrame(sampled_latent)\nsampled_pred_vectors = pd.DataFrame(decoder.predict_on_batch(sampled_latent_df))\n</code></pre>\n\n<p>Here, I'm randomly sampling the min/max range of each latent variable sequentially, and then predicting on that \"sampled latent vector\". </p>\n\n<p>However, when I look at the output vectors, they are all off by a factor of ~10^30. I would expect that the output vectors would have values that are ~0.5 (e.g. between 0 and 1), but all predicted vectors have values of ~10^-30 (yes, larger than zero but barely at all). Is there a better way to sample the latent space so as to get appropriate sampled values? </p>\n"}, {"tags": ["python", "list", "set"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1554928998, "post_id": 55621027, "comment_id": 97935003, "body": "Because it\u2019s always the same set."}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 2, "creation_date": 1554929173, "post_id": 55621027, "comment_id": 97935086, "body": "Instead of <code>[set()] * n</code>, use <code>[set() for _ in range(n)]</code>."}, {"owner": {"reputation": 46, "user_id": 10601751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6797249bce3c22e6310a80dfd90c29ab?s=128&d=identicon&r=PG&f=1", "display_name": "Dr.venom", "link": "https://stackoverflow.com/users/10601751/dr-venom"}, "reply_to_user": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1554929338, "post_id": 55621027, "comment_id": 97935159, "body": "thanks for pointing this out @mkrieger1"}], "owner": {"reputation": 46, "user_id": 10601751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6797249bce3c22e6310a80dfd90c29ab?s=128&d=identicon&r=PG&f=1", "display_name": "Dr.venom", "link": "https://stackoverflow.com/users/10601751/dr-venom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1554929400, "answer_count": 0, "score": 0, "last_activity_date": 1554928885, "creation_date": 1554928885, "question_id": 55621027, "link": "https://stackoverflow.com/questions/55621027/how-can-i-add-items-to-sets-in-a-list-in-python", "closed_reason": "Duplicate", "title": "How can i add items to sets in a list in python?", "body": "<p>I am getting unexpected results when adding items to sets that are in a list such that i can specify the set i need by indexing the list as shown in the following code:</p>\n\n<pre><code>def get_friends_of_users(network):\n    f1 = lambda x: x[0]\n    f2 = lambda x: x[1]\n    users_friends = [set()] * max(max(network, key=f1)[0], max(network, key=f2)[1]+1)\n    net_users = set()\n    for i in network:\n        users_friends[i[0]].add(i[1])\n        users_friends[i[1]].add(i[0])\n        net_users.add(i[0])\n        net_users.add(i[1])\n        #print(users_friends)\n    return net_users, users_friends\n</code></pre>\n\n<p>let the variable network be the following list of tuples:</p>\n\n<p><code>network = [(3, 5), (2, 1), (2, 4), (1, 5), (5, 0), (3, 2), (3, 0)]</code>\nwhich describes users and their friends as (user_ID, friend_ID).</p>\n\n<p>I want the variable <code>users_friends</code> to be a list of sets of all friends for each user as following:</p>\n\n<p>User ID=0 has friends with IDs = 3, 5 </p>\n\n<p>User ID=1 has friends with IDs = 2, 5 </p>\n\n<p>User ID=2 has friends with IDs = 1, 3, 4 </p>\n\n<p>User ID=3 has friends with IDs = 0, 2, 5 </p>\n\n<p>User ID=4 has friends with IDs = 2 </p>\n\n<p>User ID=5 has friends with IDs = 0, 1, 3.</p>\n\n<p>But when i uncomment the print statement in the code i can see that every time i execute the statement <code>users_friends[i[0]].add(i[1])</code> or <code>users_friends[i[1]].add(i[0])</code> it adds the item to all sets in the list.</p>\n\n<p>so, this was the output:</p>\n\n<pre><code>[{3, 5}, {3, 5}, {3, 5}, {3, 5}, {3, 5}, {3, 5}]\n\n[{1, 2, 3, 5}, {1, 2, 3, 5}, {1, 2, 3, 5}, {1, 2, 3, 5}, {1, 2, 3, 5}, {1, 2, 3, 5}]\n\n[{1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}]\n\n[{1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5}]\n\n[{0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}]\n\n[{0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}]\n\n[{0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}, {0, 1, 2, 3, 4, 5}]\n</code></pre>\n\n<p><strong><em>My question is: why it adds the item to all sets in the list and how to make it add to the set that i specify by indexing the list of those sets?</em></strong></p>\n"}, {"tags": ["python", "python-3.x", "class"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1554928902, "post_id": 55621011, "comment_id": 97934970, "body": "Typically, you define <code>__init__</code> to set the attributes, then use <code>L = [MyClass(..., ..., ..., ..., ..., ...) for x in range(10)]</code>. If each object takes different arguments, lists and <code>zip</code> come in handy."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1554929026, "post_id": 55621011, "comment_id": 97935013, "body": "Your example is too abstract to be useful, I&#39;m afraid. There are various ways to easily set attributes on a bunch of objects, but it&#39;s unclear which one of those will help you."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1554929108, "post_id": 55621011, "comment_id": 97935059, "body": "Where do the values for the attributes come from? Is each attribute the same for all instances?"}, {"owner": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1554929568, "post_id": 55621011, "comment_id": 97935251, "body": "The example is pretty much what my code is, just with different names. I am using the same 6 setter methods for each instance, but I just want to change the values of the attributes for each of them. @Aran-Fey"}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "edited": false, "score": 0, "creation_date": 1554929176, "post_id": 55621053, "comment_id": 97935090, "body": "Thank you for this solution, however I am doing this for an assignment and the professor wants us to use getter/setter methods to create the attributes. Sorry, I should have specified this in my post."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "edited": false, "score": 0, "creation_date": 1554929287, "post_id": 55621053, "comment_id": 97935138, "body": "Seriously? That&#39;s ridiculous."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "edited": false, "score": 0, "creation_date": 1554929319, "post_id": 55621053, "comment_id": 97935154, "body": "@Demons setters and getters are uncommon in python"}, {"owner": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "edited": false, "score": 0, "creation_date": 1554929406, "post_id": 55621053, "comment_id": 97935181, "body": "It&#39;s an intro course so I think they are just trying to get us to become familiar with the idea @chepner"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1554929612, "post_id": 55621053, "comment_id": 97935267, "body": "Then I really wouldn&#39;t bother trying to &quot;fix&quot; what you already have; there are better ways of dealing with this type of repetition."}, {"owner": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "edited": false, "score": 0, "creation_date": 1554929736, "post_id": 55621053, "comment_id": 97935322, "body": "Okay, I thought as much but I was just hoping there was some easy way to implement a loop of some sort. Thank you for the explanation though, hopefully I will be able to use that in the future."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 3, "last_activity_date": 1554930298, "last_edit_date": 1554930298, "creation_date": 1554928998, "answer_id": 55621053, "question_id": 55621011, "link": "https://stackoverflow.com/questions/55621011/how-to-set-different-attributes-for-a-number-of-objects-python/55621053#55621053", "title": "How to set different attributes for a number of objects Python", "body": "<p><code>MyClass</code> should define an <code>__init__</code> method that sets the attributes so that you can define an instance like <code>MyClass(..., ..., ..., ..., ..., ...)</code>. Then you can define your list not with a list comprehension, but a simpler list literal.</p>\n\n<pre><code>L = [\n    MyClass(...),\n    MyClass(...),\n    ...,\n    MyClass(...)\n]\n</code></pre>\n\n<p>You could write something like the following. It doesn't do much more than separate all the arguments into one place, but you might find it useful.</p>\n\n<pre><code>L = [MyClass() for x in range(10)]\n\n# Hard-coding each name, since I doubt there's any real pattern\n# to the names\nmethods = [\"SetAttribute1\", ..., \"SetAttribute6\"]\n\n# All the arguments\nall_args = [\n    (a1, a2, ..., a6),  # for object 1\n    (b1, b2, ..., b6),  # for object 2\n    ...,\n    (j1, j2, ..., j6),  # for object 10\n]\n\nfor obj, args in zip(L, all_args):\n    for m, arg in zip(methods, args):\n        getattr(obj, m)(arg)\n</code></pre>\n\n<p><code>zip</code> produces a list like <code>[(L[0], (a1, a2, ..., a6)), ..., (L[9], (j1, j2, ..., j6))]</code>. Assuming <code>obj == L[0]</code>, <code>m == \"SetAttribute1\"</code>, and <code>arg=a1</code>, the line <code>getattr(obj, m)(arg) == getattr(L[0], \"SetAttribute1\")(a1) == L[0].SetAttribute(a1)</code>.</p>\n\n<p>See the Python documentation for more information about <code>zip</code> and <code>getattr</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "edited": false, "score": 0, "creation_date": 1554929316, "post_id": 55621099, "comment_id": 97935152, "body": "@ Code-Apprentice All of the attributes are the same, I just want to have different values for each instance"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "edited": false, "score": 0, "creation_date": 1554929355, "post_id": 55621099, "comment_id": 97935168, "body": "@Demons Sorry if that wasn&#39;t clear. I meant the values of the attributes."}], "tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": -1, "last_activity_date": 1554929233, "creation_date": 1554929233, "answer_id": 55621099, "question_id": 55621011, "link": "https://stackoverflow.com/questions/55621011/how-to-set-different-attributes-for-a-number-of-objects-python/55621099#55621099", "title": "How to set different attributes for a number of objects Python", "body": "<p>If each attribute is the same for all instances in the list, then use a loop. If they are different, then store the values in a file or database, then use a loop to read the data.</p>\n"}, {"tags": [], "owner": {"reputation": 1742, "user_id": 5853611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OIaaN.png?s=128&g=1", "display_name": "DobromirM", "link": "https://stackoverflow.com/users/5853611/dobromirm"}, "is_accepted": false, "score": 1, "last_activity_date": 1554929839, "creation_date": 1554929839, "answer_id": 55621216, "question_id": 55621011, "link": "https://stackoverflow.com/questions/55621011/how-to-set-different-attributes-for-a-number-of-objects-python/55621216#55621216", "title": "How to set different attributes for a number of objects Python", "body": "<p>You can put your attributes in a list and set them in a loop.</p>\n\n<pre><code>attributes = [['foo', 'bar', 'baz'], ['qux', 'quux', 'quuz'], ['corge', 'grault', 'garply']]\n\nfor i, attr_list in enumerate(attributes):\n\n    L[i].SetAttribute1(attr_list[0])\n    L[i].SetAttribute2(attr_list[1])\n    L[i].SetAttribute3(attr_list[2])\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 10642958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Demons", "link": "https://stackoverflow.com/users/10642958/demons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55621053, "answer_count": 3, "score": 0, "last_activity_date": 1554930298, "creation_date": 1554928785, "question_id": 55621011, "link": "https://stackoverflow.com/questions/55621011/how-to-set-different-attributes-for-a-number-of-objects-python", "title": "How to set different attributes for a number of objects Python", "body": "<p>I am attempting to make 10 instances of a class I made, but I was wondering if there was a way to do this without setting all of the objects' attributes over and over as it doesn't look great. I want to set different attributes for each instance. Here's an example of what my code is currently doing.</p>\n\n<pre><code>from file import MyClass\n\nL = [MyClass() for x in range(10)]\n\nL[0].SetAttribute1('...')\nL[0].SetAttribute2('...')\nL[0].SetAttribute3('...')\nL[0].SetAttribute4('...')\nL[0].SetAttribute5('...')\nL[0].SetAttribute6('...')\n\n...\n\nL[9].SetAttribute1('...')\nL[9].SetAttribute2('...')\nL[9].SetAttribute3('...')\nL[9].SetAttribute4('...')\nL[9].SetAttribute5('...')\nL[9].SetAttribute6('...')\n</code></pre>\n"}, {"tags": ["python", "python-unittest"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1554934221, "post_id": 55621723, "comment_id": 97936961, "body": "Thanks. Do both ways in my post implicitly use <code>TestSuite</code>?"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1554934357, "post_id": 55621723, "comment_id": 97937001, "body": "They should be entirely the same, once they get past the point of identifying the module that contains the tests."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1554935648, "post_id": 55621723, "comment_id": 97937414, "body": "Sorry if my last comment wasn&#39;t clear. I saw it is not possible to run test cases directly without putting them into a test suite, but forgot where I saw it and whether it refers to python&#39;s unnittest module or Java&#39;s JUnit.  See <a href=\"https://stackoverflow.com/questions/55622158/is-it-not-possible-to-run-test-cases-directly-without-putting-them-into-a-test-s\" title=\"is it not possible to run test cases directly without putting them into a test s\">stackoverflow.com/questions/55622158/&hellip;</a>"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 1, "creation_date": 1554937108, "post_id": 55621723, "comment_id": 97937764, "body": "Yes, it turns out it does create a test suite for you automatically. But I had to read the code to find that, so maybe you should just do it yourself and cut out the middleman! Here&#39;s the whole code for the <code>unittest</code> package in the standard library: <a href=\"https://github.com/python/cpython/tree/master/Lib/unittest\" rel=\"nofollow noreferrer\">github.com/python/cpython/tree/master/Lib/unittest</a>"}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 2, "last_activity_date": 1554932612, "creation_date": 1554932612, "answer_id": 55621723, "question_id": 55620994, "link": "https://stackoverflow.com/questions/55620994/what-happen-behind-python3-m-unittest-test-module-py/55621723#55621723", "title": "What happen behind `python3 -m unittest test_module.py`", "body": "<p>The <code>-m</code> flag tells the Python interpreter that you want to use the named module as the main module to be run. It's often a strongly preferred way of running a module if it's in a package (something like <code>python -m somepackage.somemodule</code> doesn't break relative imports, while <code>python somepackage/somemodule.py</code> often does).</p>\n\n<p>In this case, the <code>-m unittest</code> flag says to run the <code>unittest</code> package itself. When you \"run\" a package like that (or with <code>python localpackage/</code>), Python will look for a file in the package named <code>__main__.py</code>, and run that. And sure enough, the <code>unittest</code> module has a <code>__main__.py</code> file, which you can read in the <a href=\"https://github.com/python/cpython/blob/d914596a671c4b0f13641359cf43aa0d6fc05070/Lib/unittest/__main__.py\" rel=\"nofollow noreferrer\">Python sources</a>. That file (after doing some housekeeping), pretty much just calls <code>unittest.main</code> with the argument <code>module=None</code>.</p>\n\n<p>The <code>main</code> function (which is actually a class), figures out what to test by looking at <code>sys.argv</code>, which contains the arguments passed to Python (the ones the interpreter hasn't already handled itself). In your case, you're passing it an extra filename, after the <code>-m unittest</code> flag that tells Python what to run. So the <code>test_module.py</code> string remains in <code>sys.argv</code>, and the <code>unittest</code> code knows to load it up and checks for tests.</p>\n\n<p>This is a little different than what happens when you run your test module directly. When you do that, the test module is known as <code>__main__</code> inside the interpreter. When you call <code>unittest.main()</code> without providing any arguments, <code>\"__main__\"</code> is the default <code>module</code> value. Thus the unittest code imports <code>__main__</code>, and checks it for tests, without needing to look at <code>sys.argv</code> (though it may check there for other command line flags).</p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562404901, "creation_date": 1554928717, "last_edit_date": 1562404901, "question_id": 55620994, "link": "https://stackoverflow.com/questions/55620994/what-happen-behind-python3-m-unittest-test-module-py", "title": "What happen behind `python3 -m unittest test_module.py`", "body": "<p>In <code>test_module.py</code>, I define a subclass of <code>TestCase</code> consisting of several test methods.</p>\n\n<pre><code>import unittest\n\nclass abc(unittest.TestCase):\n    def test1():\n      ...\n    def test2():\n      ...\n</code></pre>\n\n<p>I can run the test methods as test cases, by either</p>\n\n<pre><code>python3 -m unittest test_module.py\n</code></pre>\n\n<p>or adding to <code>test_module.py</code></p>\n\n<pre><code>if __name__ == \"__main__\":\n    unittest.main()\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>python3 test_module.py\n</code></pre>\n\n<p>In the second way,  <code>unittest.main()</code> internally creates an instance of <code>TestProgram</code> which  calls   <code>self.runTests()</code> which  creates an instance of <code>TextTestRunner</code> and calls <code>TextTestRunner.run()</code> which runs and reports all the test results in <code>test_module.py</code>.  <a href=\"https://stackoverflow.com/a/20993280/156458\">https://stackoverflow.com/a/20993280/156458</a>.</p>\n\n<p>In the first way, does the same thing happen internally behind <code>python3 -m unittest test_module.py</code>?</p>\n"}, {"tags": ["python", "django", "foreign-keys"], "answers": [{"tags": [], "owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "is_accepted": false, "score": 0, "last_activity_date": 1554936677, "creation_date": 1554936677, "answer_id": 55622353, "question_id": 55620963, "link": "https://stackoverflow.com/questions/55620963/django-foreignkey-reverse-set/55622353#55622353", "title": "Django - ForeignKey &quot;Reverse&quot; (&quot;_set&quot;)", "body": "<p>I think you are a bit confused by how this works. To work your way from Investor -> Funds, you would have to go through Investor -> Investment -> Funds. You can do this like so:</p>\n\n<p>First, use <code>related_name</code>:</p>\n\n<pre><code>class Investment(models.Model):\n    feeder = models.ForeignKey(Fund, on_delete=models.CASCADE, related_name=\"investmentAsFeeder\")\n     investor = models.ForeignKey(Investor, on_delete=models.CASCADE, related_name=\"investmentAsInvestor\")\n</code></pre>\n\n<p>Then, you can use it like so:</p>\n\n<pre><code>investor = Investor.objects.get(id=1)\ninvestors_investments = investor.investmentAsInvestor.all()\ninvestor_investment_funds = Fund.objects.filter(investmentAsFeeder__in=investor_investments)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4323, "user_id": 7301455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoUuY.png?s=128&g=1", "display_name": "Sergey Pugach", "link": "https://stackoverflow.com/users/7301455/sergey-pugach"}, "is_accepted": false, "score": 0, "last_activity_date": 1554956125, "last_edit_date": 1554956125, "creation_date": 1554954667, "answer_id": 55624422, "question_id": 55620963, "link": "https://stackoverflow.com/questions/55620963/django-foreignkey-reverse-set/55624422#55624422", "title": "Django - ForeignKey &quot;Reverse&quot; (&quot;_set&quot;)", "body": "<p>If you need values only you can get it with one query:</p>\n\n<pre><code>my_investor = Investor.objects.get(pk=pk)\nmy_investor.invesment_set.values('id', 'feeder__slug`)\n</code></pre>\n\n<p>Or you can have another query if you don't need investor instance itself:</p>\n\n<pre><code>Investment.objects.filter(investor__pk=pk).values('id', 'feeder__slug')\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 10732115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4cc783b67f0613b2cc668ac28695344?s=128&d=identicon&r=PG&f=1", "display_name": "TMD", "link": "https://stackoverflow.com/users/10732115/tmd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1554956125, "creation_date": 1554928596, "question_id": 55620963, "link": "https://stackoverflow.com/questions/55620963/django-foreignkey-reverse-set", "title": "Django - ForeignKey &quot;Reverse&quot; (&quot;_set&quot;)", "body": "<p>I need to cruise back in reverse through my Foreignkey. For some reason it doesn't work...</p>\n\n<p>models.by :</p>\n\n<pre><code>class Investment(models.Model):\n feeder = models.ForeignKey(Fund, on_delete=models.CASCADE)\n investor = models.ForeignKey(Investor, on_delete=models.CASCADE)\n</code></pre>\n\n<p>(...)</p>\n\n<pre><code>class Fund(models.Model):\n slug = models.CharField(max_length=100, default = 'default')\n</code></pre>\n\n<p>(...)</p>\n\n<pre><code>class Investor(models.Model):\n account = models.CharField(max_length = 10, unique=True)\n first_name = models.CharField(max_length = 100)\n</code></pre>\n\n<p>(...)\nviews.py :</p>\n\n<pre><code>Investment.objects.filter(investor__pk=pk)\n</code></pre>\n\n<p>--> I need to get to the slug attribute of Fiund of each Investment of an investor.. I have already filtered on investor (that's ok). Next is cruising to the slug. I assume I need to work with fund.set_all() but it doesn't work.. Anyone to the rescue?</p>\n\n<p>Thanks !!!</p>\n"}, {"tags": ["python", "python-3.x", "windows", "progress-bar"], "answers": [{"comments": [{"owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "edited": false, "score": 0, "creation_date": 1554931575, "post_id": 55621294, "comment_id": 97936067, "body": "Wow! :) Thank-you sir for the incredible reply. I am going to study this and then study your response some more and then probably check this as the answer. Thank-you @Martijin. Thank-you for providing the video of the program executing. That is awesome man."}, {"owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "edited": false, "score": 0, "creation_date": 1554932253, "post_id": 55621294, "comment_id": 97936310, "body": "What does the thread.locking() method do? I noticed this is called in two of the methods by way of the <code>self._lock</code> statement. I do not necessarily have to have a multi-threaded environment. This is interesting code. Appreciate it man. :)"}, {"owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "edited": false, "score": 0, "creation_date": 1554935785, "post_id": 55621294, "comment_id": 97937448, "body": "Ah, found a pretty clear explanation at the following URL: <a href=\"https://www.bogotobogo.com/python/Multithread/python_multithreading_Using_Locks_with_statement_Context_Manager.php\" rel=\"nofollow noreferrer\">bogotobogo.com/python/Multithread/&hellip;</a>"}, {"owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "edited": false, "score": 0, "creation_date": 1554942625, "post_id": 55621294, "comment_id": 97938979, "body": "Is it necessary to use the log10 call from the Math module? That seems over complicated. I am not this advanced of a Pythonista. :/ Thank-you though for writing this cool program man."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "edited": false, "score": 0, "creation_date": 1554964256, "post_id": 55621294, "comment_id": 97944086, "body": "@user3870315 it\u2019s a method to calculate the width of a number, using basic math. E.g the floor of Log10 of 100 is 2, and of 999, but 1000 is 3.  Add 1 and you have the number of didgits."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "edited": false, "score": 0, "creation_date": 1554964424, "post_id": 55621294, "comment_id": 97944155, "body": "@user3870315 there are other ways, but log10 is the mathematical method and takes near constant time (<code>len(str(....))</code> takes linear time as you generate the string then count digits one by one)."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 3, "last_activity_date": 1555013745, "last_edit_date": 1555013745, "creation_date": 1554930234, "answer_id": 55621294, "question_id": 55620924, "link": "https://stackoverflow.com/questions/55620924/progress-bar-among-other-print-statements-not-working-useful-progress-bar-not/55621294#55621294", "title": "Progress Bar Among Other Print Statements Not Working - Useful Progress Bar Not Found", "body": "<p>You have to do three things:</p>\n\n<ul>\n<li>store progress bar state in a separate object you can call methods on to update the bar state in different loops.</li>\n<li>when printing the progress bar, ensure that no newline is printed</li>\n<li>when printing console output, first <strong>clear</strong> the current line, then re-draw the bar after printing.</li>\n</ul>\n\n<p>You cover the first two, somewhat, but not the third. It's probably best to encapsulate control of the console in a class that manages the progress bar too, so it can handle clearing, printing and re-displaying all in a single location:</p>\n\n<pre><code>import builtins\nimport math\nimport sys\nimport threading\n\nclass ProgressConsole:\n    def __init__(self, size, width=80, output=sys.stdout):\n        self.size = size\n        self.width = width\n        self.current = 0\n        self.output = output\n        # [...] and space take 3 characters, plus max width of size (log10 + 1)\n        self._bar_size = width - 4 - int(math.log10(size))\n        self._bar_step = self._bar_size / self.size\n        self._lock = threading.Lock()\n\n    def print(self, *message):\n        with self._lock:\n            self._clear()\n            builtins.print(*message, file=self.output)\n            self._display()\n\n    def increment(self, step=1):\n        with self._lock:\n            self.current = min(self.current + step, self.size)\n            self._display()\n\n    def _clear(self):\n        self.output.write('\\r')\n        self.output.write(' ' * self.width)\n        self.output.write('\\r')\n\n    def _display(self):\n        bar = '#' * int(round(self._bar_step * self.current))\n        blank = ' ' * (self._bar_size - len(bar))\n        self.output.write(f\"\\r[{bar}{blank}] {self.current}\")\n</code></pre>\n\n<p>I included a thread lock as your sample code imports <code>threading</code>, so I'm assuming you want to be able to use this in such an environment.</p>\n\n<p>The above class uses a fixed width for the progress bar, and it's wiped by writing out a series of spaces before returning back to the left-most column with <code>\\r</code>.</p>\n\n<p>I also made the bar a fixed width so it fills from left to right, rather than grow across the screen.</p>\n\n<p>Then ensure you 'print' to this object:</p>\n\n<pre><code>if __name__ == \"__main__\":\n    progress_bar = ProgressConsole(10)\n    print = progress_bar.print  # replace built-in with our own version\n\n    print(\"Starting in main...\")\n    progress_bar.increment()\n    print(\"\\nOther print statement here.\")\n    print(\"Nice day, expensive day.\")\n    progress_bar.increment(2)\n\n    doThis()\n    progress_bar.increment()\n    doThat()\n    progress_bar.increment()\n    doThis()\n    doThat()\n    progress_bar.increment(2)\n    doThat()\n    doThat()\n    progress_bar.increment()\n    wrapUp()\n    progress_bar.increment(2)\n</code></pre>\n\n<p>The final output for the above is then:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Starting in main...\n\nOther print statement here.\nNice day, expensive day.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing that.\nDoing that.\nDoing that.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing that.\nDoing that.\nDoing that.\nDoing that.\nDoing that.\nDoing that.\nDoing that.\nDoing that.\nDoing that.\nTotal found\n[###########################################################################] 10\n</code></pre>\n\n<p>With a few random sleeps inserted, it looks like this when running:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lVsya.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lVsya.gif\" alt=\"progressbar running\"></a></p>\n"}], "owner": {"reputation": 1151, "user_id": 3870315, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bpHmm.jpg?s=128&g=1", "display_name": "user3870315", "link": "https://stackoverflow.com/users/3870315/user3870315"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555013745, "creation_date": 1554928376, "last_edit_date": 1554928702, "question_id": 55620924, "link": "https://stackoverflow.com/questions/55620924/progress-bar-among-other-print-statements-not-working-useful-progress-bar-not", "title": "Progress Bar Among Other Print Statements Not Working - Useful Progress Bar Not Found", "body": "<p><strong>Intro (Riding in on a Interstellar Office Chair)</strong></p>\n\n<p>I have a program that uses a progress bar to show the end-user if the program is working or not. This should tell the end-user how long they have to wait and if the program is still working. This question came after reading this interesting stack overflow thread: <a href=\"https://stackoverflow.com/questions/3173320/text-progress-bar-in-the-console\">Text Progress Bar in the Console</a></p>\n\n<p><strong>Problems/Challenges</strong></p>\n\n<p>The first problem is the progress bar only works in a loop currently and just prints out the numbers in the range. This is not helpful. Why would anyone want a program with a progress bar that just shows the progress of a single loop but not what the rest of the program is doing. </p>\n\n<p>The second problem is that when I have other print statements with the progress bar there are suddenly multiple progress bars printed to the command prompt instead of a single progress bar that appears to animate with each progress bar update. </p>\n\n<p>How can I have the progress bar always at the bottom of the terminal with the other print statements above it?</p>\n\n<p>Another challenge is I am using the Windows 7 operating-system (OS). </p>\n\n<p><strong>Code</strong></p>\n\n<p>Please check out the following example code I have for you: </p>\n\n<pre><code>import sys\nimport time\nimport threading\n\n\n\ndef progress_bar(progress):\n    sys.stdout.write('\\r[{0}] {1}'.format('#' * int(progress/10 * 10), progress))\n\n\ndef doThis():\n    for i in range(10):\n        print(\"Doing this.\")\n\ndef doThat():\n    for i in range(3):\n        print(\"Doing that.\")\n\ndef wrapUp():\n    total = 2+ 2\n    print(\"Total found\")\n    return total\n\n\nif __name__ == \"__main__\":\n\n  print(\"Starting in main...\")\n  progress_bar(1)\n  print(\"\\nOther print statement here.\")\n  print(\"Nice day, expensive day.\")\n  progress_bar(3)\n\n  doThis()\n  progress_bar(4)\n  doThat()\n  progress_bar(5)\n  doThis()\n  doThat()\n  progress_bar(6)\n  progress_bar(7)\n  doThat()\n  doThat()\n  progress_bar(8)\n  wrapUp()\n  progress_bar(9)\n  progress_bar(10)\n</code></pre>\n\n<p><strong>What the Program Prints</strong></p>\n\n<pre><code>   Starting in main...\n[#] 1\nOther print statement here.\nNice day, expensive day.\n[###] 3Doing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\n[####] 4Doing that.\nDoing that.\nDoing that.\n[#####] 5Doing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing this.\nDoing that.\nDoing that.\nDoing that.\n[#######] 7Doing that.\nDoing that.\nDoing that.\nDoing that.\nDoing that.\nDoing that.\n[########] 8Total found\n[##########] 10\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "imshow"], "comments": [{"owner": {"reputation": 2324, "user_id": 6144626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w5zgz.jpg?s=128&g=1", "display_name": "Ari Cooper-Davis", "link": "https://stackoverflow.com/users/6144626/ari-cooper-davis"}, "edited": false, "score": 1, "creation_date": 1554929793, "post_id": 55620921, "comment_id": 97935348, "body": "What does your matrix look like?"}, {"owner": {"reputation": 3, "user_id": 7750144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8cfd4f61ef596c80174902c8dde96c0?s=128&d=identicon&r=PG&f=1", "display_name": "mapppppp", "link": "https://stackoverflow.com/users/7750144/mapppppp"}, "reply_to_user": {"reputation": 2324, "user_id": 6144626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w5zgz.jpg?s=128&g=1", "display_name": "Ari Cooper-Davis", "link": "https://stackoverflow.com/users/6144626/ari-cooper-davis"}, "edited": false, "score": 0, "creation_date": 1554954715, "post_id": 55620921, "comment_id": 97941271, "body": "train.csv file I took it from <a href=\"https://www.kaggle.com/c/digit-recognizer\" rel=\"nofollow noreferrer\">kaggle.com/c/digit-recognizer</a>."}, {"owner": {"reputation": 3, "user_id": 7750144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8cfd4f61ef596c80174902c8dde96c0?s=128&d=identicon&r=PG&f=1", "display_name": "mapppppp", "link": "https://stackoverflow.com/users/7750144/mapppppp"}, "reply_to_user": {"reputation": 2324, "user_id": 6144626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w5zgz.jpg?s=128&g=1", "display_name": "Ari Cooper-Davis", "link": "https://stackoverflow.com/users/6144626/ari-cooper-davis"}, "edited": false, "score": 0, "creation_date": 1554954760, "post_id": 55620921, "comment_id": 97941280, "body": "Matrix is having the value between 0 to 255."}], "owner": {"reputation": 3, "user_id": 7750144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8cfd4f61ef596c80174902c8dde96c0?s=128&d=identicon&r=PG&f=1", "display_name": "mapppppp", "link": "https://stackoverflow.com/users/7750144/mapppppp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554929479, "creation_date": 1554928356, "last_edit_date": 1554929479, "question_id": 55620921, "link": "https://stackoverflow.com/questions/55620921/problem-with-calling-imshow-of-mathplotlib", "title": "problem with calling imshow() of mathplotlib", "body": "<p>I am not sure if I am missing anything with mathplotlib imshow().</p>\n\n<p>Following is the sample code I have written. I am a beginner to python.</p>\n\n<pre><code>I = pd.read_csv(\"D:\\\\Temp\\\\train.csv\", header=None)\nM = I.as_matrix()\nim = M[1,1:]\nim = im.reshape(28,28)\nplt.imshow(im)\n</code></pre>\n\n<p>I am getting the following error.</p>\n\n<p>need help on how to fix and better way to do this.</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-277-628dc6c46325&gt; in &lt;module&gt;()\n      3 im = M[1,1:]\n      4 im = im.reshape(28,28)\n----&gt; 5 plt.imshow(im)\n\nC:\\Users\\mapppppp\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\pyplot.py in imshow(X, cmap, norm, aspect, interpolation, alpha, vmin, vmax, origin, extent, shape, filternorm, filterrad, imlim, resample, url, hold, data, **kwargs)\n   3156                         filternorm=filternorm, filterrad=filterrad,\n   3157                         imlim=imlim, resample=resample, url=url, data=data,\n-&gt; 3158                         **kwargs)\n   3159     finally:\n   3160         ax._hold = washold\n\nC:\\Users\\mapppppp\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\__init__.py in inner(ax, *args, **kwargs)\n   1890                     warnings.warn(msg % (label_namer, func.__name__),\n   1891                                   RuntimeWarning, stacklevel=2)\n-&gt; 1892             return func(ax, *args, **kwargs)\n   1893         pre_doc = inner.__doc__\n   1894         if pre_doc is None:\n\nC:\\Users\\mapppppp\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axes\\_axes.py in imshow(self, X, cmap, norm, aspect, interpolation, alpha, vmin, vmax, origin, extent, shape, filternorm, filterrad, imlim, resample, url, **kwargs)\n   5116                               resample=resample, **kwargs)\n   5117 \n-&gt; 5118         im.set_data(X)\n   5119         im.set_alpha(alpha)\n   5120         if im.get_clip_path() is None:\n\nC:\\Users\\mapppppp\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\image.py in set_data(self, A)\n    543         if (self._A.dtype != np.uint8 and\n    544                 not np.can_cast(self._A.dtype, np.float)):\n--&gt; 545             raise TypeError(\"Image data can not convert to float\")\n    546 \n    547         if (self._A.ndim not in (2, 3) or\n\nTypeError: Image data can not convert to float\n</code></pre>\n"}, {"tags": ["python", "elasticsearch", "elasticsearch-dsl-py"], "comments": [{"owner": {"reputation": 361, "user_id": 11317264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l3P42tTmuls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc-iSejPurL5dgCs7gNrrkt5Wacmg/mo/photo.jpg?sz=128", "display_name": "James Pittiglio", "link": "https://stackoverflow.com/users/11317264/james-pittiglio"}, "edited": false, "score": 0, "creation_date": 1554930535, "post_id": 55620855, "comment_id": 97935663, "body": "Can you provide the mapping of the index as it currently exists, and show the code with the <code>query</code> and <code>sort</code> that is throwing the exception?"}, {"owner": {"reputation": 1138, "user_id": 3060139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a2bc48be2734a5ab590ea6274fe64ae6?s=128&d=identicon&r=PG&f=1", "display_name": "rurp", "link": "https://stackoverflow.com/users/3060139/rurp"}, "reply_to_user": {"reputation": 361, "user_id": 11317264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l3P42tTmuls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc-iSejPurL5dgCs7gNrrkt5Wacmg/mo/photo.jpg?sz=128", "display_name": "James Pittiglio", "link": "https://stackoverflow.com/users/11317264/james-pittiglio"}, "edited": false, "score": 0, "creation_date": 1554931970, "post_id": 55620855, "comment_id": 97936204, "body": "Sure thing, I added them to the question."}, {"owner": {"reputation": 4371, "user_id": 2196341, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9d6cd6590be0005145c6b758345b7129?s=128&d=identicon&r=PG&f=1", "display_name": "Polynomial Proton", "link": "https://stackoverflow.com/users/2196341/polynomial-proton"}, "edited": false, "score": 2, "creation_date": 1554932533, "post_id": 55620855, "comment_id": 97936404, "body": "did you try <code>&#39;sort&#39;: [&#39;my_field.keyword&#39;]</code> ?"}, {"owner": {"reputation": 1138, "user_id": 3060139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a2bc48be2734a5ab590ea6274fe64ae6?s=128&d=identicon&r=PG&f=1", "display_name": "rurp", "link": "https://stackoverflow.com/users/3060139/rurp"}, "reply_to_user": {"reputation": 4371, "user_id": 2196341, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9d6cd6590be0005145c6b758345b7129?s=128&d=identicon&r=PG&f=1", "display_name": "Polynomial Proton", "link": "https://stackoverflow.com/users/2196341/polynomial-proton"}, "edited": false, "score": 0, "creation_date": 1554933234, "post_id": 55620855, "comment_id": 97936640, "body": "@TheUknown That works! I now have some django_elasticsearch_dsl indices that can be sorted with field_name, and some elasticsearch_dsl that need to be sorted with field_name.keyword. Any idea how I index the elasticsearch ones to be filtered just off of the field_name?"}, {"owner": {"reputation": 361, "user_id": 11317264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l3P42tTmuls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc-iSejPurL5dgCs7gNrrkt5Wacmg/mo/photo.jpg?sz=128", "display_name": "James Pittiglio", "link": "https://stackoverflow.com/users/11317264/james-pittiglio"}, "edited": false, "score": 0, "creation_date": 1555072354, "post_id": 55620855, "comment_id": 97991917, "body": "@rurp Your best bet is to update the index mapping in a new index so that <code>my_field</code> is of type <code>keyword</code>, and a multi-field of <code>my_field.text</code> as type <code>text</code> - you will need to reindex the data for the new mappings."}], "owner": {"reputation": 1138, "user_id": 3060139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a2bc48be2734a5ab590ea6274fe64ae6?s=128&d=identicon&r=PG&f=1", "display_name": "rurp", "link": "https://stackoverflow.com/users/3060139/rurp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1420, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1554931952, "creation_date": 1554928086, "last_edit_date": 1554931952, "question_id": 55620855, "link": "https://stackoverflow.com/questions/55620855/python-elasticsearch-error-sorting-keyword-field", "title": "Python Elasticsearch error sorting keyword field", "body": "<p>Within a Python project I have an elastic search index that throws the following error when I sort on a given field: <code>elasticsearch.exceptions.RequestError: RequestError(400, 'search_phase_execution_exception', 'Fielddata is disabled on text fields by default. Set fielddata=true on [my_field] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory. Alternatively use a keyword field instead.')</code></p>\n\n<p>Originally this was a text field and so I did what the message recommended and tried changing it to a keyword field or setting fielddata=True. Unfortunately, those changes still result in the exact same error message and so now I am confused.</p>\n\n<p>Here are the different ways I have tried defining the field in my document index. All result in the same error.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from elasticsearch_dsl import DocType, Index, field, Keyword\n\nclass MyDoc(DocType):\n    my_field = field.Text(fields={'raw': field.Keyword()})\n    my_field = field.Keyword(fielddata=True)\n    my_field = field.Keyword()\n    my_field = Keyword()\n    my_field = Keyword(fields={'raw': field.Keyword()})\n\n</code></pre>\n\n<p>My index mapping:</p>\n\n<pre><code>{\nmy-index: {\nmappings: {\ndoc: {\nproperties: {\ncode: {\ntype: \"text\",\nfields: {\nkeyword: {\ntype: \"keyword\",\nignore_above: 256\n}\n}\n},\nmy_field: {\ntype: \"text\",\nfields: {\nkeyword: {\ntype: \"keyword\",\nignore_above: 256\n}\n}\n}\n}\n}\n}\n}\n}\n</code></pre>\n\n<p>My Query:</p>\n\n<pre><code>{'query': {'bool': {'filter': [{'bool': {'must_not': [{'terms': {'code': []}}]}}]}}, 'sort': ['my_field'], 'from': 0, 'size': 6}\n</code></pre>\n"}, {"tags": ["python", "django", "url-redirection"], "comments": [{"owner": {"reputation": 723, "user_id": 10691973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIxJi.jpg?s=128&g=1", "display_name": "Paolo", "link": "https://stackoverflow.com/users/10691973/paolo"}, "edited": false, "score": 0, "creation_date": 1554929118, "post_id": 55620804, "comment_id": 97935068, "body": "Instead of redirecting the users, won&#39;t it be better to use an autocomplete dropdown? <a href=\"https://blog.teamtreehouse.com/creating-autocomplete-dropdowns-datalist-element\" rel=\"nofollow noreferrer\">Creating Autocomplete Dropdowns with the Datalist Element</a>"}, {"owner": {"reputation": 1346, "user_id": 1766219, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0c581b7f41b55e26b58d30f090b0c550?s=128&d=identicon&r=PG", "display_name": "Zeth", "link": "https://stackoverflow.com/users/1766219/zeth"}, "edited": false, "score": 0, "creation_date": 1554933013, "post_id": 55620804, "comment_id": 97936555, "body": "Can we see the code for your form? ... If you have a malfunctioning <code>&lt;form&gt;</code> (for instance without an &#39;action&#39;-method, then that could result in what you&#39;re experiencing. Your form should be like: <code>&lt;form method=&quot;get&quot; ... </code>, if you want it to add a get-request, upon submitting."}], "owner": {"reputation": 1, "user_id": 11333791, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TVdjII29u-8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcO0yAmY1l9uy2SGke97-2YRW23fA/mo/photo.jpg?sz=128", "display_name": "marco luberto", "link": "https://stackoverflow.com/users/11333791/marco-luberto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554936041, "creation_date": 1554927848, "last_edit_date": 1554936041, "question_id": 55620804, "link": "https://stackoverflow.com/questions/55620804/search-bar-in-django", "title": "Search Bar in Django?", "body": "<p>I have a bootstrap search bar and I want it to search for a list of all <strong>tags</strong> in a database. <strong>Tags</strong> are a like a facebook page or reddit tags. </p>\n\n<p>When I submit my search, I want the URL to include the GET-parameter: <code>?q=\"typeword\"</code>, but the application has to redirect to a new page, and preserve the tags parameter while doing so.  How can I do this? </p>\n\n<p>I have tried using GET-request and paginator, but nothing seems to work. I can add a new URL \"search/\" and then it works, but only with this url.</p>\n\n<h2>models.py</h2>\n\n<pre><code>class Tag(models.Model):\n    path = models.CharField(max_length=37,default=0)\n    name = models.CharField(max_length=35)\n    description = models.CharField(max_length=200)\n    image = models.ImageField(default='default.jpg',upload_to='tag_pics')\n\n    def __str__(self):\n        return self.path\n</code></pre>\n\n<h2>views.py</h2>\n\n<pre><code>def search(request):\n\n    q = request.GET.get('q',None)\n    items=''\n\n    if q is None or q is \"\":\n        items = Tag.objects.all()\n\n    elif q is not None:\n        items = Tag.objects.filter(name__contains=q)\n\n    paginator = Paginator(items, 3)\n    page = request.GET.get('page')\n    items = paginator.get_page(page)\n\n    title = \"Search\"\n\n    return render(request, 'blog/search.html',{'items': items, 'title': title})\n</code></pre>\n\n<h2>search.html</h2>\n\n<pre><code>{% extends 'blog/base.html' %}\n\n{% block content %}\n  {% if items %}\n    &lt;p class=\"search-count\"&gt;Found \n      &lt;strong&gt; \n        {{ items.paginator.count }}\n      &lt;/strong&gt; \n      result{{ items.paginator.count|pluralize }}\n    &lt;/p&gt;\n    {% for i in items %}\n      {{ i.path }}\n    {% endfor %}\n  {% elif request.GET.q %}\n    &lt;p class=\"search-no-results\"&gt;\n      No results for \"&lt;strong&gt;{{ request.GET.q }}\"\n    &lt;/p&gt;\n  {% endif %}\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "selenium-webdriver", "web-scraping", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "is_accepted": true, "score": 1, "last_activity_date": 1554935507, "last_edit_date": 1554935507, "creation_date": 1554935202, "answer_id": 55622140, "question_id": 55620779, "link": "https://stackoverflow.com/questions/55620779/extract-information-inside-span-tag/55622140#55622140", "title": "extract information inside span tag", "body": "<p>You can use a css attribute selector then get_attribute to get the attribute value</p>\n\n<pre><code>from selenium import webdriver\ndriver = webdriver.Firefox(executable_path='geckodriver.exe')\ndriver.get(\"https://www.ncbi.nlm.nih.gov/pmc/utils/idconv/v1.0/?tool=my_tool&amp;email=my_email@example.com&amp;ids=9811893\")\npmc = driver.find_element_by_css_selector('[pmcid]')\nprint(pmc.get_attribute('pmcid'))\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HVBP5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HVBP5.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Though you don't need <code>selenium</code> for this site. Use faster <code>requests</code> and <code>bs4</code></p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup as bs\nr = requests.get('https://www.ncbi.nlm.nih.gov/pmc/utils/idconv/v1.0/?tool=my_tool&amp;email=my_email@example.com&amp;ids=9811893')\nsoup = bs(r.content, 'lxml')\npmc = soup.select_one('[pmcid]')['pmcid']\nprint(pmc)\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 10231148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f32db18934ad30afce46fcac6da526?s=128&d=identicon&r=PG&f=1", "display_name": "RRg", "link": "https://stackoverflow.com/users/10231148/rrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 55622140, "answer_count": 1, "score": 1, "last_activity_date": 1554935507, "creation_date": 1554927774, "last_edit_date": 1554935237, "question_id": 55620779, "link": "https://stackoverflow.com/questions/55620779/extract-information-inside-span-tag", "title": "extract information inside span tag", "body": "<p>I am trying to extract PMC ID between \"span\" tag. </p>\n\n<p>To do so, I used find element by xpath, but I'm facing the following error: </p>\n\n<pre><code>selenium.common.exceptions.NoSuchElementException:Message: Unable to locate element: /div/main/div/details/div/div[2]/details/summary/span[5]\n</code></pre>\n\n<p>Following is the link:</p>\n\n<pre><code>https://www.ncbi.nlm.nih.gov/pmc/utils/idconv/v1.0/?tool=my_tool&amp;email=my_email@example.com&amp;ids=9811893\n</code></pre>\n\n<p>Following is my code:</p>\n\n<pre><code>driver = webdriver.Firefox(executable_path='geckodriver.exe')\ndriver.implicitly_wait(10)  # this lets webdriver wait 10 seconds for the website to load\ndriver.get(\"https://www.ncbi.nlm.nih.gov/pmc/utils/idconv/v1.0/?tool=my_tool&amp;email=my_email@example.com&amp;ids=9811893\")\npmc= driver.find_element_by_xpath('/div/main/div/details/div/div[2]/details/summary/span[5]')\npmc.get_text()\n</code></pre>\n\n<p>The output should be:</p>\n\n<pre><code>PMC24938\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "edited": false, "score": 1, "creation_date": 1554927824, "post_id": 55620748, "comment_id": 97934504, "body": "A few things jump out at me: (1) you&#39;re not doing anything with <code>successors</code>; (2) <code>current._next._next = current</code> looks very odd if we&#39;re not talking a circular list; (3) <code>current._next = None</code> clearly wipes out everything beyond the current element (i.e. the list head)."}, {"owner": {"reputation": 1, "user_id": 11342623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba6542ffb5d4368d3b655e2071fa24e?s=128&d=identicon&r=PG&f=1", "display_name": "camelia", "link": "https://stackoverflow.com/users/11342623/camelia"}, "reply_to_user": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "edited": false, "score": 0, "creation_date": 1554927989, "post_id": 55620748, "comment_id": 97934575, "body": "Ok. but I  have no idea to where to put it..."}, {"owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "edited": false, "score": 1, "creation_date": 1554928058, "post_id": 55620748, "comment_id": 97934604, "body": "Perhaps start by working through a few examples by hand on a sheet of paper."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1554928303, "post_id": 55620748, "comment_id": 97934705, "body": "Could you please fix the indentation? There seems to be only one class <code>_Node</code>, but there are methods outside of it..."}], "answers": [{"tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": false, "score": 0, "last_activity_date": 1554929632, "creation_date": 1554929632, "answer_id": 55621170, "question_id": 55620748, "link": "https://stackoverflow.com/questions/55620748/how-to-reverse-singly-linked-list-recursively/55621170#55621170", "title": "How to reverse singly linked list recursively", "body": "<p>The algorithm is indeed not correct, because it does not redirect the <code>self._head</code> property to point to the last node.</p>\n\n<p>In fact, you should not need to pass an argument to this method. Instead move <code>self._head</code> progressively as you recurse towards the end of the linked list.</p>\n\n<p>Here is how the code could look:</p>\n\n<pre><code>def reverse_recursively(self):\n    current = self._head\n    if current is None:\n        return\n    successor = current._next\n    if successor is None:\n        return\n    current._next = None\n    self._head = successor\n    self.reverse_recursively()\n    successor._next = current\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11342623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba6542ffb5d4368d3b655e2071fa24e?s=128&d=identicon&r=PG&f=1", "display_name": "camelia", "link": "https://stackoverflow.com/users/11342623/camelia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554929632, "creation_date": 1554927649, "last_edit_date": 1554928117, "question_id": 55620748, "link": "https://stackoverflow.com/questions/55620748/how-to-reverse-singly-linked-list-recursively", "title": "How to reverse singly linked list recursively", "body": "<p>Recursively reverse the order of nodes from current to the end in self.\n        Split the current node and its successors (remainders).\n        Recursively reverse the successors and make its tail pointing current node.\n        Make current node to point None.</p>\n\n<pre><code>class _Node:\n\n    def __init__(self, element, next=None):\n        self._element = element\n        self._next = next\n\n    def element(self):\n        return self._element\n\n    def next(self):\n        return self._next\n\n    def set_element(self, element):\n        self._element = element\n\n    def set_next(self, next):\n        self._next = next\n\ndef __init__(self, head=None):\n    \"\"\"Create a singly linked list that contains only head, not size\"\"\"\n    self._head = head\n\n\ndef __str__(self):\n    \"\"\"Returns the string representation and the number of elements\"\"\"\n    count = 0\n    p = self._head\n    rep = f''\n    while p:\n        rep += str(p.element()) + ' -&gt; '\n        p = p.next()\n        count += 1\n    rep += f'None: {count} element(s)'\n    return rep\n</code></pre>\n\n<hr>\n\n<pre><code>def reverse_recursively(self, current):\n\n    if current is None:\n        return current\n    if current._next is None:\n        return current\n    successors = self.reverse_recursively(current.next())\n    current._next._next = current\n    current._next = None\n</code></pre>\n\n<p>I expected the output of reversing but the actual output is only the first node and none.</p>\n"}, {"tags": ["python", "ajax", "django", "datatables", "django-rest-framework"], "owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554929878, "creation_date": 1554927550, "last_edit_date": 1554929878, "question_id": 55620724, "link": "https://stackoverflow.com/questions/55620724/replace-django-button-data-url-with-drf-equivalent", "title": "Replace Django Button data-url With DRF Equivalent", "body": "<p>I have a DataTable that includes the following column definition to add a button to each row:</p>\n\n<pre><code>\"columnDefs\": [ {\n                \"targets\": 11,\n                \"data\": null,\n                \"defaultContent\": \"&lt;button class='btn btn-warning btn-sm js-update-activity' data-url='https://server/platform/activities/104/update/'&gt;&lt;/button&gt;\"\n            } ],\n</code></pre>\n\n<p>It works, except the number 104 is a hard coded id. The plain Django version looks like this:</p>\n\n<pre><code>{% for activity in activities %}\n  &lt;tr&gt;\n    &lt;td&gt;{{ activity.id }}&lt;/td&gt;\n    &lt;td&gt;\n      &lt;button class=\"btn btn-warning btn-sm js-update-activity\"\n              data-url=\"{% url 'activity_update' activity.id %}\"&gt;\n      &lt;/button&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n{% endfor %}\n</code></pre>\n\n<p><code>activity_update</code> is a URL name for this URL:</p>\n\n<pre><code>url(r'^platform/activities/(?P&lt;pk&gt;\\d+)/update/$', views.activity_update, name='activity_update')\n</code></pre>\n\n<p>If I use the plain Django version in the DRF version, I get this error:</p>\n\n<pre><code>Reverse for 'activity_update' with no arguments not found. 1 pattern(s) tried: ['platform/activities/(?P&lt;pk&gt;\\\\d+)/update/$']\n</code></pre>\n\n<p>Obviously <code>activity.id</code> is not defined in the DRF view, because the data is flowing in via a JSON endpoint. Therefore, I need to figure out how to assign the id from the DataTable row to the <code>data-url</code> attribute.</p>\n\n<p>I tried doing this...</p>\n\n<pre><code>  \"columnDefs\": [ {\n    \"targets\": 11,\n     \"data\": null,\n     \"render\": function ( data, type, row ) {\n            return \"&lt;button type='button' aria-label='update' class='btn btn-warning btn-sm js-update-activity' data-url='https://server/platform/activities/'\" + row.id + \"'/update/'&gt;&lt;/button&gt;\";\n        },\n</code></pre>\n\n<p>...but this results in the request just going to <code>https://server/platform/activities/</code> and ignoring the rest of <code>data-url</code>. When I print <code>row.id</code> to the console, it gives me the correct id for each row visible in the DataTable.</p>\n\n<p>How would I mimic the plain Django version of the button so that data-url properly returns the hard coded URL for each row of the DataTable? </p>\n"}]