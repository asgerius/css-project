[{"tags": ["python", "python-3.x", "turtle-graphics"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 4368530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-Qn3nsZI8DHI/AAAAAAAAAAI/AAAAAAAAAEo/bJ9HBQbC7HM/photo.jpg?sz=128", "display_name": "Aaron oliver", "link": "https://stackoverflow.com/users/4368530/aaron-oliver"}, "edited": false, "score": 0, "creation_date": 1461802414, "post_id": 36902973, "comment_id": 61370064, "body": "the point of the question was to find out how I could make it happen in ten seconds with or without the time.sleep"}, {"owner": {"reputation": 17, "user_id": 4368530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-Qn3nsZI8DHI/AAAAAAAAAAI/AAAAAAAAAEo/bJ9HBQbC7HM/photo.jpg?sz=128", "display_name": "Aaron oliver", "link": "https://stackoverflow.com/users/4368530/aaron-oliver"}, "edited": false, "score": 1, "creation_date": 1461813673, "post_id": 36902973, "comment_id": 61372976, "body": "I thought you said time.sleep to 0"}, {"owner": {"reputation": 17, "user_id": 4368530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-Qn3nsZI8DHI/AAAAAAAAAAI/AAAAAAAAAEo/bJ9HBQbC7HM/photo.jpg?sz=128", "display_name": "Aaron oliver", "link": "https://stackoverflow.com/users/4368530/aaron-oliver"}, "edited": false, "score": 0, "creation_date": 1461813862, "post_id": 36902973, "comment_id": 61373041, "body": "Btw it still takes a minute or two but it is a lot faster"}], "tags": [], "owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "is_accepted": true, "score": 2, "last_activity_date": 1461802034, "last_edit_date": 1461802034, "creation_date": 1461801694, "answer_id": 36902973, "question_id": 36902948, "link": "https://stackoverflow.com/questions/36902948/how-does-one-speed-up-python-programs-in-turtle/36902973#36902973", "title": "How does one speed up python programs in turtle", "body": "<p>You can increase how fast the turtle draws things by setting <code>turtle.speed</code></p>\n\n<p><code>0</code> is the fastest. So, you can set <code>turtle.speed(0)</code> to have the turtle draw things at the fastest speed.</p>\n\n<p>Or, since you've imported everything <code>speed(0)</code></p>\n\n<p>Straight from the <a href=\"https://docs.python.org/2/library/turtle.html#turtle.speed\" rel=\"nofollow\">documentation</a></p>\n"}], "owner": {"reputation": 17, "user_id": 4368530, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-Qn3nsZI8DHI/AAAAAAAAAAI/AAAAAAAAAEo/bJ9HBQbC7HM/photo.jpg?sz=128", "display_name": "Aaron oliver", "link": "https://stackoverflow.com/users/4368530/aaron-oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 0, "accepted_answer_id": 36902973, "answer_count": 1, "score": 0, "last_activity_date": 1461802034, "creation_date": 1461801534, "question_id": 36902948, "link": "https://stackoverflow.com/questions/36902948/how-does-one-speed-up-python-programs-in-turtle", "title": "How does one speed up python programs in turtle", "body": "<pre><code>from turtle import *\nimport time\nht()\nsetup(width=500, height=500, startx=0, starty=0)\nx=0\ny=0\ngoto(0, 0)\ncolormode(255)\nwhile True:\n    write(\"Please type your screens size in pixels into the console.\", move=False, align=\"center\", font=(\"Arial\", 10, \"normal\"))\n    x = int(input('x'))\n    y = int(input('y'))\n    if x &gt; 0:\n        print('.')\n    if y &gt; 0:\n        print('...')\n        break\n    if x==0:\n        x=1000\n        y=500\n        break\n    else:\n        clear()\n        write(\"Please enter a valid number (ie. x, y)\", move=False, align=\"center\", font=(\"Arial\", 28, \"normal\"))    \nsetup(width=1400, height=800, startx=100, starty=20)\nclear()\ndef FADE_IN_OUT(arg, align, font, size, Norm, fspeedin, fspeedout, pause):\n    r=255\n    g=255\n    b=255\n    for i in range(51):\n        pencolor((r,g,b))\n        write(arg, move=False, align=align, font=(font, size, Norm))\n        r-=5\n        g-=5\n        b-=5\n        time.sleep(fspeedin/51)\n    time.sleep(pause)\n    clear()\n    for i in range(51):\n        clear()\n        pencolor((r,g,b))\n        write(arg, move=False, align=align, font=(font, size, Norm))\n        r+=5\n        g+=5\n        b+=5\n        time.sleep(fspeedout/51)\n\nFADE_IN_OUT(\"47 Studios\", \"center\", \"Arial\", x//5, \"normal\", 2.5, 2.5, 5)\n</code></pre>\n\n<p>I was wondering how I could speed up this program from taking a minute or two to do to taking 10 seconds, I'm sure that this is a very simple problem and I am just being stupid but I am new to programs that are more fast paced.</p>\n"}, {"tags": ["python", "python-3.x", "matrix", "sum", "row"], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 0, "last_activity_date": 1461801897, "creation_date": 1461801897, "answer_id": 36903006, "question_id": 36902937, "link": "https://stackoverflow.com/questions/36902937/python-3-matrix-input/36903006#36903006", "title": "Python 3- matrix input", "body": "<p>In <code>main</code>:</p>\n\n<pre><code>matrix = getMatrix()\nprintMatrix(matrix)\n</code></pre>\n\n<p>In <code>printMatrix</code>:</p>\n\n<pre><code>matrix = getMatrix()\n</code></pre>\n\n<p>Which immediately masks the <code>matrix</code> argument you passed in, by the way.</p>\n\n<p>In <code>getMatrix</code>:</p>\n\n<pre><code>matrix = []\nnumberOfRows = eval(input(\"Enter the number of rows: \"))\nnumberOfColumns = eval(input(\"Enter number of columns: \"))\n</code></pre>\n\n<p>You should be using <code>int()</code>, by the way, not <code>eval()</code>.</p>\n\n<p>So there are two calls to <code>getMatrix()</code>, which means two requests for input. Remove <code>matrix = getMatrix()</code> from <code>printMatrix</code>. That's not what that function is supposed to be doing, anyway.</p>\n"}], "owner": {"reputation": 1, "user_id": 6150616, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RTVfEVtwjwU/AAAAAAAAAAI/AAAAAAAAAFA/JTOLoMuB-yw/photo.jpg?sz=128", "display_name": "Hassan Ali", "link": "https://stackoverflow.com/users/6150616/hassan-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 36903006, "answer_count": 1, "score": 0, "last_activity_date": 1461801897, "creation_date": 1461801488, "question_id": 36902937, "link": "https://stackoverflow.com/questions/36902937/python-3-matrix-input", "title": "Python 3- matrix input", "body": "<p>The program i wrote a program so that main calls the following functions:</p>\n\n<p>getMatrix \u2013 creates and returns a 3 x 3 matrix</p>\n\n<p>printMatrix \u2013 prints the matrix row by row</p>\n\n<p>sumRow \u2013 returns the sum of the elements of a single row of the matrix (pass in the matrix and the row index)</p>\n\n<p>The problem i am facing is that it is asking for the input twice, instead of once.</p>\n\n<pre><code>def getMatrix():\n   matrix = []\n   numberOfRows = eval(input(\"Enter the number of rows: \"))\n   numberOfColumns = eval(input(\"Enter number of columns: \"))\n   for row in range(numberOfRows):\n      matrix.append([])\n      for column in range(numberOfColumns):\n         value = eval(input(\"Enter an element and press enter: \"))\n         matrix[row].append(value)\n   return matrix\n\n# Print 2 dimensional list\ndef printMatrix(matrix):\n   matrix = getMatrix()\n   for row in range(len(matrix)):\n      for column in range(len(matrix[row])):\n         print(matrix[row][column], end = \" \")\n      print()\n\n# Add each element in row to total \ndef sumRow(matrix):\n   for row in range(len(matrix[0])):\n      total = 0\n      for column in range(len(matrix)):\n         total += matrix[row][column]\n      print(\"Sum for matrix\", row, \"is\", total)\n\ndef main():\n   matrix = getMatrix()\n   printMatrix(matrix)\n   total = sumRow(matrix)\nmain()\n</code></pre>\n"}, {"tags": ["python", "memory"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461802133, "post_id": 36902923, "comment_id": 61370001, "body": "What did you expect to happen when downloading 100k files?"}, {"owner": {"reputation": 58628, "user_id": 227267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b03410a67ad6b9cf3fce7b0bf45084c8?s=128&d=identicon&r=PG", "display_name": "Matti Virkkunen", "link": "https://stackoverflow.com/users/227267/matti-virkkunen"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461802367, "post_id": 36902923, "comment_id": 61370052, "body": "@TigerhawkT3: 100k, you say? It&#39;s more like 9 million files."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 58628, "user_id": 227267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b03410a67ad6b9cf3fce7b0bf45084c8?s=128&d=identicon&r=PG", "display_name": "Matti Virkkunen", "link": "https://stackoverflow.com/users/227267/matti-virkkunen"}, "edited": false, "score": 0, "creation_date": 1461802762, "post_id": 36902923, "comment_id": 61370147, "body": "@MattiVirkkunen - I&#39;m just going by the &quot;some hundred thousand entries found for .pdf&quot; in the question. 9 million would be even more too much."}, {"owner": {"reputation": 1375, "user_id": 3097712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e259ae77d52bc7e2113fc753bf96267a?s=128&d=identicon&r=PG&f=1", "display_name": "user3097712", "link": "https://stackoverflow.com/users/3097712/user3097712"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461836845, "post_id": 36902923, "comment_id": 61384408, "body": "@TigerhawkT3 oh...a mistake. Sry for that info. I think &quot;the houndred thousand&quot; was about another extension. I did not know which it was about anymore. I tried a lot of extensions. PDF was only an example and I know that &quot;the houndred thousand&quot; does not correspond to this extension. Your answers does not help."}], "answers": [{"comments": [{"owner": {"reputation": 1375, "user_id": 3097712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e259ae77d52bc7e2113fc753bf96267a?s=128&d=identicon&r=PG&f=1", "display_name": "user3097712", "link": "https://stackoverflow.com/users/3097712/user3097712"}, "edited": false, "score": 0, "creation_date": 1461843524, "post_id": 36903002, "comment_id": 61389057, "body": "ok thank you Matti Virkkunen. Your answer is better than that of TIgerhawkT3. I think I am gonna write my own python script to download files by using Scrapy or Beautiful Soup. In that way, I could also learn Web scraping."}], "tags": [], "owner": {"reputation": 58628, "user_id": 227267, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b03410a67ad6b9cf3fce7b0bf45084c8?s=128&d=identicon&r=PG", "display_name": "Matti Virkkunen", "link": "https://stackoverflow.com/users/227267/matti-virkkunen"}, "is_accepted": true, "score": 3, "last_activity_date": 1461802621, "last_edit_date": 1461802621, "creation_date": 1461801852, "answer_id": 36903002, "question_id": 36902923, "link": "https://stackoverflow.com/questions/36902923/memoryerror-out-of-memory/36903002#36903002", "title": "MemoryError: out of memory", "body": "<p>Your problem is that you are trying to load the details of <em>every single PDF file</em> on the Internet Archive into memory at once. As one string. That's a lot of information.</p>\n\n<p>First of all, since it looks like this program is supposed to download all the files, do you even have the <em>disk space</em> for <em>every single</em> file on there?</p>\n\n<p>Second, if you want to process such a large amount of files, you need to process the data in chunks. As you can see, the API takes parameters called <code>rows</code> and <code>page</code>. By passing successive values as <code>page</code> you can download the information page by page. That way you don't have to have a gigantic JSON string in memory at once, let alone the object structure it deserializes to (which is even bigger).</p>\n\n<p>Additionally I don't think you understand what the parameter to <code>read()</code> does if you thought that putting a random number in would somehow \"fix\" things. If you read in chunks, you need to read multiple times until you get an empty result which signifies the end of the stream.</p>\n\n<p>Edit: Just out of curiosity I tried downloading the JSON and it gave me about one gigabyte before giving up and reporting \"Search engine returned invalid information or was unresponsive\". I don't think the Archive likes your idea either.</p>\n"}], "owner": {"reputation": 1375, "user_id": 3097712, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e259ae77d52bc7e2113fc753bf96267a?s=128&d=identicon&r=PG&f=1", "display_name": "user3097712", "link": "https://stackoverflow.com/users/3097712/user3097712"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1326, "favorite_count": 0, "accepted_answer_id": 36903002, "answer_count": 1, "score": -3, "last_activity_date": 1461802621, "creation_date": 1461801378, "last_edit_date": 1495542786, "question_id": 36902923, "link": "https://stackoverflow.com/questions/36902923/memoryerror-out-of-memory", "title": "MemoryError: out of memory", "body": "<p>I use the script <em>pilfer-archive-new.py</em> from \"Gray Hat Hackers Handbook\" to download some files from the internet archive. But when I try to download a lot of files (for example some hundred thousand entries found for .pdf) then I get the following error: \n<a href=\"https://i.stack.imgur.com/bMbr0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bMbr0.png\" alt=\"enter image description here\"></a></p>\n\n<p>The source code for the script is listed below:</p>\n\n<pre><code>#--\n#\n# Name: pilfer-archive-new (attempt #2)\n# Description: Pilfer Archive.org for files to fuzz. Fixed a few threading issues and organized the code better.\n#              It still needs a little bit of work but thread stability is much better. glhf.\n# Author(s): level@coresecurity.com\n#\n# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n# WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. \n# IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, \n# INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n# NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR \n# PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, \n# WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) \n# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE \n# POSSIBILITY OF SUCH DAMAGE.\n#\n#\n#--\n\n\n\n#--\n#\n# Name: pilfer-archive-new (attempt #2)\n# Description: Pilfer Archive.org for files to fuzz. Fixed a few threading issues and organized the code better.\n#              It still needs a little bit of work but thread stability is much better. glhf.\n# Author(s): level@coresecurity.com\n#\n# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n# WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. \n# IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, \n# INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n# NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR \n# PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, \n# WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) \n# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE \n# POSSIBILITY OF SUCH DAMAGE.\n#\n#\n#--\n\n\n\nimport re, urllib2, socket, json, os, Queue, sys\nfrom threading import Thread\n\nsearchQueue,downloadQueue = Queue.Queue(),Queue.Queue()\nlog=True\ndebug=False\n\nclass Obtain:\n    def file_exists(self,path):\n        if (os.path.exists(\"repo/%s\" % (path)) == True):\n            return True\n        else:\n            return False\n    def file_download(self,path):\n        file = path.split(\"/\")[-1]\n        if (Obtain().file_exists(file) != True):\n            data = urllib2.urlopen(path).read()\n            if (\"&lt;html\" not in data):\n                fp = open(\"repo/%s\" % (file),\"w\")\n                fp.write(data)\n                fp.close()\n            if (log == True): print \"[*] Wrote %s to file system\" % (file)\n        return\n\nclass Discover:\n    def find_available(self,term):\n        data = json.loads(urllib2.urlopen(\"https://archive.org/advancedsearch.php?q=%s&amp;mediatype=&amp;rows=1&amp;page=1&amp;output=json&amp;save=no#raw\" % (term)).read())\n        numFound = data[\"response\"][\"numFound\"]\n        return numFound\n    def get_titles(self,term,numFound):\n        data = json.loads(urllib2.urlopen(\"https://archive.org/advancedsearch.php?q=%s&amp;mediatype=&amp;rows=%d&amp;page=1&amp;output=json&amp;save=no#raw\" % (term,numFound)).read())\n        titles = []\n        for i in xrange(0,numFound-1):\n                        try:\n                                if (\" \" in data[\"response\"][\"docs\"][i][\"title\"]):\n                                        titles.append(data[\"response\"][\"docs\"][i][\"title\"].replace(\" \",\"-\"))\n                                else:\n                                        titles.append(data[\"response\"][\"docs\"][i][\"title\"])\n            except Exception as e:\n                                pass\n        return titles[:500]\n    def get_locations(self,titles):\n        urls = []\n        for title in titles:\n            try:\n                data = json.loads(urllib2.urlopen(\"https://archive.org/details/%s&amp;output=json&amp;callback=IAE.favorite\" % (title)).read()[13:-1])\n                url = \"https://%s%s\" % (data[\"server\"],data[\"dir\"])\n                urls.append(url)\n            except Exception as e:\n                if (debug == True): print \"[*] DEBUG -- Function: Discover().get_locations('%s') Exception: %s\" % (title,e)\n                pass\n        return urls[:500]\n    def get_file_links(self,urls):\n        files = {}\n        for url in urls:\n            data = urllib2.urlopen(url).read()\n            files[url] = re.findall(r'href=[\\'\"]?([^\\'\" &gt;]+)', data, re.UNICODE|re.MULTILINE)\n            files[url] = files[url][1:]\n        return files\n\n\nclass Queues:\n    def search_worker(self):\n        item = searchQueue.get()\n        if (item != \"\"):\n            numFound = Discover().find_available(item)\n            if (log == True): print \"[*] Found %d entries for %s\" % (numFound,item)\n            titles = Discover().get_titles(item,numFound)\n            if (log == True): print \"[*] Found %d titles for %s\" % (len(titles),item)\n            urls = Discover().get_locations(titles)\n            if (log == True): print \"[*] Found %d urls for %s\" % (len(urls),item)\n            files = Discover().get_file_links(urls)\n            total = 0\n            for url in files.iterkeys():\n                                if (total &gt;= 500):\n                                        searchQueue.queue.clear()\n                                else:\n                                        total+=len(files[url])\n                                        for file in files[url]:\n                                                downloadQueue.put(\"%s/%s\" % (url,file))\n                        if (log == True): print \"[*] %d files for %s are in the download queue\" % (total,item)\n                    searchQueue.queue.clear()\n        return\n    def download_worker(self):\n                while True:\n                        url = downloadQueue.get()\n                        if (url != \"\"):\n                                Obtain().file_download(url)\n                        downloadQueue.task_done()\n\ndef main():\n    #define file types\n    itemz = ['pdf','zip', 'tar', 'doc']\n    #itemz = ['3g2', '3gp', '3gp2', '3gpp', 'amv', 'asf', 'avi', 'bin', 'divx','drc','dv','f4v','flv','gxf','iso','m1v','m4v','m2t','m2v','mov','mp2','mp2v','mpa'] \n    #drop terms into queue\n    for item in itemz:\n        searchQueue.put(item)\n    #create a bunch of queue threads\n    for i in xrange(0,len(itemz)-1):\n        t1 = Thread(target=Queues().search_worker(),name=\"search-%d\" % (i)).start()\n        t2 = Thread(target=Queues().download_worker(),name=\"download-%d\" % (i)).start()\n    sys.exit()\n\nif __name__==\"__main__\":\n    main()\n</code></pre>\n\n<p>I found a similar problem here: <a href=\"https://stackoverflow.com/questions/5492797/python-unpredictable-memory-error-when-downloading-large-files\">Python: Unpredictable memory error when downloading large files</a>\nbut when I replace each occurence of read() by read(4096), it still does not work.</p>\n"}, {"tags": ["python", "iterator", "generator"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461801331, "post_id": 36902899, "comment_id": 61369762, "body": "Do you mean <code>&#39;camaro&#39;[:-n]</code>?"}, {"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1461801352, "post_id": 36902899, "comment_id": 61369772, "body": "replace <code>i</code> with <code>n</code>: <code>i == len(list(iterable)) - n:</code> Also I don&#39;t think you need <code>counter</code> at all."}, {"owner": {"reputation": 13671, "user_id": 1838763, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/T3Hdl.jpg?s=128&g=1", "display_name": "Steven Moseley", "link": "https://stackoverflow.com/users/1838763/steven-moseley"}, "edited": false, "score": 0, "creation_date": 1461801469, "post_id": 36902899, "comment_id": 61369806, "body": "FWIW, you&#39;re referencing <code>strip_last</code> as <code>drop_last</code> in your <code>print</code> statement below"}, {"owner": {"reputation": 83, "user_id": 6169768, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ce7ab5c9b9e5d975ff60684c911a4a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Frog_Aurora", "link": "https://stackoverflow.com/users/6169768/frog-aurora"}, "edited": false, "score": 0, "creation_date": 1461801533, "post_id": 36902899, "comment_id": 61369823, "body": "I don&#39;t quite get that. Can you clarify it for me please?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5507598"}, "edited": false, "score": 0, "creation_date": 1461804659, "post_id": 36903283, "comment_id": 61370596, "body": "I&#39;m thinking that you could as well get internally a chunk of size n (a simple for counter getting <code>iterator.next()</code> 1..n times and returning the chunks as smaller lists) that would prevent you from copying the whole iterator"}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 1, "creation_date": 1461808472, "post_id": 36903283, "comment_id": 61371580, "body": "if you make a list, you defeat the purpose <code>tee</code>, just make a list from the start or get the size from the iterable like <code>sum(1 for _ in size)</code> also add a check for negative counters"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5507598"}, "reply_to_user": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1461808638, "post_id": 36903283, "comment_id": 61371612, "body": "@Copperfield agreed. The list is messing with the whole purpose, the other way around is to count all the elements in size until <code>next()</code> raises an exception but either way we&#39;re getting what he wants :-P"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5507598"}, "is_accepted": false, "score": 1, "last_activity_date": 1461805324, "last_edit_date": 1461805324, "creation_date": 1461804119, "answer_id": 36903283, "question_id": 36902899, "link": "https://stackoverflow.com/questions/36902899/python-generator-drop-certain-number-characters/36903283#36903283", "title": "python generator drop certain number characters", "body": "<p>When you create the <code>len(list(iterable))</code> you empty the <code>iterable</code> so you have no further elements to iterate over.</p>\n\n<p>Either you can copy your iterable using <code>itertools.tee</code> for building your counter or you can take a simpler approach and build a list inside <code>strip_last</code> and iterate over a <code>slice[:-n]</code> of it.</p>\n\n<p><strong>Edit</strong>: Adding the code -</p>\n\n<pre><code>def strip_last(iterable,n):\n    size, word = itertools.tee(iterable)\n    counter = len(list(size)) - n\n    while counter:\n        counter -= 1\n        yield word.next()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "is_accepted": false, "score": 0, "last_activity_date": 1461811980, "last_edit_date": 1461811980, "creation_date": 1461811009, "answer_id": 36904280, "question_id": 36902899, "link": "https://stackoverflow.com/questions/36902899/python-generator-drop-certain-number-characters/36904280#36904280", "title": "python generator drop certain number characters", "body": "<p>for a generic iterable you have 2 to options:</p>\n\n<p>1)you can make a list of your iterable and then iterate over a slice of it </p>\n\n<p>2)you can keep n+1 number of elements from the iterable all the time and yield one and ask for other and when you cannot have n+1 elements then you know that you are done</p>\n\n<pre><code>from itertools import islice #, izip\nfrom collections import deque\n\ndef strip_last_v1(iterable,n):\n    it = tuple(iterable)  #because tuple weight less than a list of the same size\n    stop = len(it) - n\n    if stop &gt; 0:\n        for x in islice(it,stop): #I use islice instead of it[:-n] because the later make a copy of the tuple\n            yield x\n\ndef strip_last_v2(iterable,n):\n    n = n+1\n    stack = deque(maxlen=n)\n    it = iter(iterable)\n    for e,_ in zip(it,range(n)): #izip and xrange for python 2\n        stack.append(e)\n    while len(stack) == n:\n        yield stack.popleft()\n        stack.append( next(it) )\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 6169768, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ce7ab5c9b9e5d975ff60684c911a4a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Frog_Aurora", "link": "https://stackoverflow.com/users/6169768/frog-aurora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461811980, "creation_date": 1461801246, "last_edit_date": 1461801557, "question_id": 36902899, "link": "https://stackoverflow.com/questions/36902899/python-generator-drop-certain-number-characters", "title": "python generator drop certain number characters", "body": "<pre><code>def hide(iterable):\n    for v in iterable:\n        yield v\n\ndef strip_last(iterable,n):\n    counter = 0\n    for i in iterable:\n        counter += 1\n        if n == len(list(iterable)) - counter + 1:\n            return \n        yield i\n\nprint(''.join([v for v in strip_last(hide('camaro'), 1)]))\n</code></pre>\n\n<p>I'm trying to define a strip_last function that could produce every value\nfrom the iterable except for the last n values, which is like this:</p>\n\n<pre><code>camar\n</code></pre>\n\n<p>but it only gives me:</p>\n\n<pre><code>c\n</code></pre>\n\n<p>What is wrong with it???\nThanks!</p>\n"}, {"tags": ["python", "user-interface", "lambda", "tkinter", "functools"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1461801215, "post_id": 36902862, "comment_id": 61369730, "body": "Please edit your code down to an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> and tell us exactly what you&#39;re trying to do, how you are doing it, and what is actually happening."}, {"owner": {"reputation": 1, "user_id": 6264033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j_ygcLZaLo/AAAAAAAAAAI/AAAAAAAAAG0/ACD73RioEYo/photo.jpg?sz=128", "display_name": "Jeremy Breedlove", "link": "https://stackoverflow.com/users/6264033/jeremy-breedlove"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461802313, "post_id": 36902862, "comment_id": 61370043, "body": "Sorry about that, first question I&#39;ve asked. is the new question better? @TigerhawkT3"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461802993, "post_id": 36902862, "comment_id": 61370200, "body": "In <code>while (numDays[1] &gt; count)</code>, where do you change either <code>numDays[1]</code> or <code>count</code>? And you may be looking for something like <a href=\"http://stackoverflow.com/questions/7546285/creating-lambda-inside-a-loop\">this</a>."}, {"owner": {"reputation": 1, "user_id": 6264033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j_ygcLZaLo/AAAAAAAAAAI/AAAAAAAAAG0/ACD73RioEYo/photo.jpg?sz=128", "display_name": "Jeremy Breedlove", "link": "https://stackoverflow.com/users/6264033/jeremy-breedlove"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461810704, "post_id": 36902862, "comment_id": 61372152, "body": "@TigerhawkT3 <code>numDays[1]</code> comes from importing the current date and using <code>monthrange</code> to get the number of days in the current month. <code>count</code> is changed in the line directly under while, <code>count = count + 1</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6264033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j_ygcLZaLo/AAAAAAAAAAI/AAAAAAAAAG0/ACD73RioEYo/photo.jpg?sz=128", "display_name": "Jeremy Breedlove", "link": "https://stackoverflow.com/users/6264033/jeremy-breedlove"}, "edited": false, "score": 0, "creation_date": 1461815750, "post_id": 36903665, "comment_id": 61373600, "body": "I posted an answer with my final code I used, i wouldn&#39;t have done it without you, thanks!"}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "reply_to_user": {"reputation": 1, "user_id": 6264033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j_ygcLZaLo/AAAAAAAAAAI/AAAAAAAAAG0/ACD73RioEYo/photo.jpg?sz=128", "display_name": "Jeremy Breedlove", "link": "https://stackoverflow.com/users/6264033/jeremy-breedlove"}, "edited": false, "score": 1, "creation_date": 1461815978, "post_id": 36903665, "comment_id": 61373672, "body": "Glad I could help - it is okay to upvote useful answers. :)"}], "tags": [], "owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "is_accepted": false, "score": 0, "last_activity_date": 1461806819, "creation_date": 1461806819, "answer_id": 36903665, "question_id": 36902862, "link": "https://stackoverflow.com/questions/36902862/putting-the-same-button-with-the-same-command-in-multiple-places-but-having-uni/36903665#36903665", "title": "Putting the same button with the same command in multiple places, but having unique functions", "body": "<p>With the little code provided, it is difficult to give you a working solution; here is the approach I would take:</p>\n\n<pre><code>def log(self, event):\n    x, y = event.x, event.y\n    date_ = self._get_date_from_canvas_location(x, y)\n    self.log_a_run(date_)\n\ndef _get_date_from_canvas_location(self, x, y):\n    \"\"\"returns the date corresponding to the canvas location clicked\n    \"\"\"\n    # do the job\n    return date_corresponding_to_that_location\n\ndef log_a_run(self, date_):\n    \"\"\"capture and save the run of of the date_\n    \"\"\"\n    # do the job\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6264033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j_ygcLZaLo/AAAAAAAAAAI/AAAAAAAAAG0/ACD73RioEYo/photo.jpg?sz=128", "display_name": "Jeremy Breedlove", "link": "https://stackoverflow.com/users/6264033/jeremy-breedlove"}, "is_accepted": false, "score": 0, "last_activity_date": 1461815715, "last_edit_date": 1495541770, "creation_date": 1461815715, "answer_id": 36904954, "question_id": 36902862, "link": "https://stackoverflow.com/questions/36902862/putting-the-same-button-with-the-same-command-in-multiple-places-but-having-uni/36904954#36904954", "title": "Putting the same button with the same command in multiple places, but having unique functions", "body": "<p>Using the above post and <a href=\"https://stackoverflow.com/questions/6101709/buttons-have-their-own-coordinate-system-according-to-the-grid-location-method\">this one</a> and some research on how events worked (I'd never heard of them), I came up with this:</p>\n\n<pre><code>grid_info = event.widget.grid_info()\nself.displayRow = grid_info[\"row\"]\nself.displayColumn = grid_info[\"column\"]\n\nlogButton = Button(self, text=(\"Log Today's Workout\"))\nlogButton.grid(column=dayCounter, row=rowCount\nlogButton.bind('&lt;Button-1&gt;', self.log)\n\ndisplayPace = Label(self, text= paceMin + \":\" + formattedSec + \" a mile.\")\ndisplayPace.grid(column=self.displayColumn, row=self.displayRow)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6264033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2j_ygcLZaLo/AAAAAAAAAAI/AAAAAAAAAG0/ACD73RioEYo/photo.jpg?sz=128", "display_name": "Jeremy Breedlove", "link": "https://stackoverflow.com/users/6264033/jeremy-breedlove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461815715, "creation_date": 1461800979, "last_edit_date": 1461802806, "question_id": 36902862, "link": "https://stackoverflow.com/questions/36902862/putting-the-same-button-with-the-same-command-in-multiple-places-but-having-uni", "title": "Putting the same button with the same command in multiple places, but having unique functions", "body": "<p>I'm not entirely sure how to phrase my question in one sentence. I am using python to create a calendar with the ability to log mileage for athletes. I have a calendar made that contains a 7x4 grid containing the number of the month in the upper left corner and a button in the center that says \"log today's workout.\"</p>\n\n<p>The button is supposed to open a new window, allow for the user to enter mileage ran and how quickly, and when the user presses \"log\" at the bottom of the new window, it should display the mileage and pace on the day that the button was pressed. </p>\n\n<p><strong>My problem is</strong> that I cannot figure out how to replace only the specific day that was clicked with the information. because I didn't want to make a button for every day of the month, I have the same button (along with the same command) in every day. I need the button to know where in the grid it is, and be able to tell the label where to be placed with the mileage and pace. </p>\n\n<p>I have tried researching lambda to see if it would help, but to no avail. here are relevant bits of my code (still fairly new to python, probably a bit sloppy, I apologize). </p>\n\n<pre><code> count = 0      #Code for button on every day in the month\n    dayCounter = numDays[0]\n    rowCount = 3\n    while (numDays[1] &gt; count):\n        count = count + 1\n        logButton = Button(self, text=(\"Log Today's Workout\"), command = self.log)\n        logButton.grid(column=dayCounter, row=rowCount)\n        if dayCounter == 6:\n            rowCount = rowCount + 1   \n        if dayCounter &lt;= 5:\n            dayCounter = dayCounter + 1\n        else:\n            dayCounter = 0\n\n\n\ndef calculate(self): \n    displayPace = Label(self, text= paceMin + \":\" + formattedSec + \" a mile.\")\n    displayPace.grid(column=???, row=???)\n</code></pre>\n\n<p>I have omitted a lot of code. What is displayed is the code to put a button on every day, and the code to place the pace on the calendar. I have tried some things to place in row and column. I mostly get error messages, or it places the same label in every single box. I need to know how to change the button or what to put in row and column to only replace the button clicked. If anything else is needed I'll be checking this very frequently and will update often. </p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 1, "creation_date": 1461801440, "post_id": 36902897, "comment_id": 61369797, "body": "1: &quot;In python, most things are pass-by-reference&quot;: regardless of where you come down on the appropriate label for Python&#39;s object model (if I had to pick a phrase it might be &#39;pass by reference value&#39;), saying &quot;most things&quot; makes it seem like sometimes Python behaves in one way and sometimes in another.  But Python passes objects the same way, every time.  I&#39;d just strip the &quot;In python, most things are pass-by-reference&quot; phrase.  2: lists, not arrays. :-)"}], "tags": [], "owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "is_accepted": true, "score": 2, "last_activity_date": 1461801220, "creation_date": 1461801220, "answer_id": 36902897, "question_id": 36902829, "link": "https://stackoverflow.com/questions/36902829/how-to-copy-contents-of-a-variable/36902897#36902897", "title": "How to copy contents of a variable?", "body": "<p>Your intuition is quite correct! The problem lies in the line</p>\n\n<pre><code>board = empty_board\n</code></pre>\n\n<p>In python, most things are pass-by-reference, which means that this line is simply declaring the variable <code>board</code> to be a pointer to the array <code>empty_board</code>. When you then modify <code>board</code> later in your <code>transform</code> function, you're actually modifying your <code>empty_board</code>!</p>\n\n<p>What you want is to <em>copy</em> <code>empty_board</code> into <code>board</code>, which you can easily do by adding an <code>import copy</code> to the top of your file and then:</p>\n\n<pre><code>board = copy.deepcopy(empty_board)\n</code></pre>\n\n<p>Note that you must use <code>deepcopy</code> rather than just copy, as <code>empty_board</code> is an array <em>of arrays</em>. If you just copied it, you'd get a new array containing <em>the same arrays</em>, and thus when you modified the contents of your new array you'd also be modifying the contents of <code>empty_board</code>.</p>\n"}], "owner": {"reputation": 732, "user_id": 4036668, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/uXyvB.jpg?s=128&g=1", "display_name": "Anton Savelyev", "link": "https://stackoverflow.com/users/4036668/anton-savelyev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 36902897, "answer_count": 1, "score": 1, "last_activity_date": 1493776437, "creation_date": 1461800754, "last_edit_date": 1493776437, "question_id": 36902829, "link": "https://stackoverflow.com/questions/36902829/how-to-copy-contents-of-a-variable", "title": "How to copy contents of a variable?", "body": "<p>I'd coding up a Sudoku solver and ran into a problem when converting a string in an appropriate Sudoku board. </p>\n\n<p>An example input is \"2.3.8....8..7...........1...6.5.7...4......3....1............82.5....6...1.......\"\nwhich tells the user what numbers should go into a square in a Sudoku board. The '.' or '0' stands for a blank which I fill the spot in the list with the list [1,2,...,8,9]. This is done by the <strong>transform</strong> function. It is done correctly the first time the function is called, but for the second and third times, it is done incorrectly (seems like the new board stores some information from the previous one). </p>\n\n<p>In this coding example the second print function prints incorrectly, between the first two 8's there is a 6 in the list that I print which shouldn't be there, and it is my belief that it comes from the previous transform call on the \"easy_board\". </p>\n\n<p>Please take a look. Thanks.</p>\n\n<pre><code>print \"Welcome to 9X9 Sudoku in Python\"\nSIZE = 81\nLENGTH = 9\n\nempty_board = [[i for i in xrange(1, LENGTH + 1)] for j in xrange(0, SIZE)]\n\ndef transform(input):\n    if len(input) != SIZE:\n        print \"Input length [%d] is not of the correct size [%d].\" % len(input), SIZE\n        return\n    board = empty_board\n    for i in xrange(SIZE):\n        if input[i] != '0' and input[i] != '.':\n            board[i] = [int(input[i])]\n    return board\n\neasy_board = \"003020600900305001001806400008102900700000008006708200002609500800203009005010300\"\nmedium_board = \"2.3.8....8..7...........1...6.5.7...4......3....1............82.5....6...1.......\"\nhard_board = \".6.5.4.3.1...9...8.........9...5...6.4.6.2.7.7...4...5.........4...8...1.5.2.3.4.\"\n\nprint \"\\ndoing ez board\"\nour_board = transform(easy_board)\nprint our_board\n\nprint \"\\ndoing medium board\"\nour_board = transform(medium_board)\nprint our_board\n\nprint \"\\ndoing hard board\"\nour_board = transform(hard_board)\nprint our_board\n</code></pre>\n"}, {"tags": ["python", "csv", "scrapy"], "comments": [{"owner": {"reputation": 1932, "user_id": 3991782, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cobzl.jpg?s=128&g=1", "display_name": "gr1zzly be4r", "link": "https://stackoverflow.com/users/3991782/gr1zzly-be4r"}, "edited": false, "score": 0, "creation_date": 1461804031, "post_id": 36902783, "comment_id": 61370444, "body": "What do the items in <code>data</code> have? From the output that you&#39;re getting it looks like the data that you have in <code>data</code> could be not what you expect."}, {"owner": {"reputation": 11, "user_id": 6263958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180209778678519/picture?type=large", "display_name": "Fekher Turki", "link": "https://stackoverflow.com/users/6263958/fekher-turki"}, "reply_to_user": {"reputation": 1932, "user_id": 3991782, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cobzl.jpg?s=128&g=1", "display_name": "gr1zzly be4r", "link": "https://stackoverflow.com/users/3991782/gr1zzly-be4r"}, "edited": false, "score": 0, "creation_date": 1461841405, "post_id": 36902783, "comment_id": 61387560, "body": "items in the data represent the products (seller name, product name, description ,,)) <code>data = [item[&#39;revendeur&#39;], item[&#39;produit&#39;], item[&#39;lien&#39;], item[&#39;description&#39;], item[&#39;prix&#39;]]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 6264041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/693818fda41a85b15a67396f55eb25f4?s=128&d=identicon&r=PG&f=1", "display_name": "Jon.W", "link": "https://stackoverflow.com/users/6264041/jon-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1461804186, "last_edit_date": 1461804186, "creation_date": 1461801284, "answer_id": 36902904, "question_id": 36902783, "link": "https://stackoverflow.com/questions/36902783/output-python-to-csv-regular/36902904#36902904", "title": "output python to csv regular", "body": "<p>You should probably set the cell where you want to write you data. Something like:</p>\n\n<pre><code>worksheet.write('A1','thing you want to write')\n</code></pre>\n\n<p>Or it may be default to write content in 'A'</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 6263958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180209778678519/picture?type=large", "display_name": "Fekher Turki", "link": "https://stackoverflow.com/users/6263958/fekher-turki"}, "edited": false, "score": 0, "creation_date": 1461841579, "post_id": 36903483, "comment_id": 61387674, "body": "i would like to export them without -o output.csv , and the problem is i don&#39;t have an idea about item exporters :/"}, {"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "reply_to_user": {"reputation": 11, "user_id": 6263958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180209778678519/picture?type=large", "display_name": "Fekher Turki", "link": "https://stackoverflow.com/users/6263958/fekher-turki"}, "edited": false, "score": 0, "creation_date": 1461952147, "post_id": 36903483, "comment_id": 61447824, "body": "did it help to export your data?"}, {"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "reply_to_user": {"reputation": 11, "user_id": 6263958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180209778678519/picture?type=large", "display_name": "Fekher Turki", "link": "https://stackoverflow.com/users/6263958/fekher-turki"}, "edited": false, "score": 0, "creation_date": 1461959729, "post_id": 36903483, "comment_id": 61451459, "body": "please check how you should ask on SO, and that seems like an update on your question than an answer. The problem there is the same with your <a href=\"http://stackoverflow.com/questions/36943255/export-python-data-to-csv-file?noredirect=1#comment61446150_36943255\">other question</a> you are writing to a csv file instead of returning items correclty."}], "tags": [], "owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "is_accepted": false, "score": 1, "last_activity_date": 1461844542, "last_edit_date": 1461844542, "creation_date": 1461805610, "answer_id": 36903483, "question_id": 36902783, "link": "https://stackoverflow.com/questions/36902783/output-python-to-csv-regular/36903483#36903483", "title": "output python to csv regular", "body": "<p>You don't need to create the csv file yourself when parsing items, scrapy can export by default to a csv file.</p>\n\n<p>so change your <code>parse</code> method to:</p>\n\n<pre><code>def parse(self, response):\n    for sel in response.xpath('//*[contains(@class, \"ajax_block_product\")]'):\n        item = EscrapItem()\n        item['revendeur'] = '\\n'.join(sel.xpath('//*[contains(@class, \"center_block\")]/h2/a/@href').re('tunisianet'))\n        item['produit'] = '\\n'.join(sel.xpath('//*[contains(@class, \"center_block\")]/h2/a/text()').extract())\n        item['lien'] = '\\n'.join(sel.xpath('//*[contains(@class, \"center_block\")]/h2/a/@href').extract())\n        item['description'] = '\\n'.join(sel.xpath('//*[contains(@class, \"product_desc\")]/a/text()').extract())\n        item['prix'] = '\\n'.join(sel.xpath('//*[contains(@class, \"price\")]/text()').extract())\n        yield item\n</code></pre>\n\n<p>later when calling scrapy you can call it with:</p>\n\n<pre><code>scrapy crawl myspider -o output.csv\n</code></pre>\n\n<p>Now you have all your items exported to a csv file.</p>\n\n<p>If you still want to control it on your own pipeline, check here to <a href=\"http://doc.scrapy.org/en/latest/topics/exporters.html#using-item-exporters\" rel=\"nofollow\">create your own exporter</a>. It would like this:</p>\n\n<pre><code>from scrapy import signals\nfrom scrapy.exporters import CsvItemExporter\n\nclass CSVExportPipeline(object):\n\n    def __init__(self):\n        self.files = {}\n\n     @classmethod\n     def from_crawler(cls, crawler):\n         pipeline = cls()\n         crawler.signals.connect(pipeline.spider_opened, signals.spider_opened)\n         crawler.signals.connect(pipeline.spider_closed, signals.spider_closed)\n         return pipeline\n\n    def spider_opened(self, spider):\n        file = open('%s_products.csv' % spider.name, 'w+b')\n        self.files[spider] = file\n        self.exporter = CsvItemExporter(file)\n        self.exporter.start_exporting()\n\n    def spider_closed(self, spider):\n        self.exporter.finish_exporting()\n        file = self.files.pop(spider)\n        file.close()\n\n    def process_item(self, item, spider):\n        self.exporter.export_item(item)\n        return item\n</code></pre>\n\n<p>To create your own pipeline make sure to <a href=\"http://doc.scrapy.org/en/latest/topics/item-pipeline.html#item-pipeline\" rel=\"nofollow\">read</a> this entirely.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6263958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180209778678519/picture?type=large", "display_name": "Fekher Turki", "link": "https://stackoverflow.com/users/6263958/fekher-turki"}, "is_accepted": false, "score": 0, "last_activity_date": 1461955602, "creation_date": 1461955602, "answer_id": 36945488, "question_id": 36902783, "link": "https://stackoverflow.com/questions/36902783/output-python-to-csv-regular/36945488#36945488", "title": "output python to csv regular", "body": "<p>it export but not with the form i want, i want the form like this one :\n<a href=\"http://i.imgur.com/r8LaVem.png\" rel=\"nofollow\">http://i.imgur.com/r8LaVem.png</a> , but i got this one <a href=\"http://i.imgur.com/8IVnlui.png\" rel=\"nofollow\">http://i.imgur.com/8IVnlui.png</a> .\nhere is my final class :\n<code>\ndef parse(self, response):\n        item = TfawItem()\n        data= []\n        items = []\n        out = open('out.csv', 'a')\n        x = response.xpath('//*[contains(@class, \"ajax_block_product\")]')\n        for i in range(0, len(x)):\n            item['revendeur'] = response.xpath('//*[contains(@class, \"center_block\")]/h2/a/@href').re('tunisianet')[i]\n            item['produit'] = response.xpath('//*[contains(@class, \"center_block\")]/h2/a/text()').extract()[i]\n            item['url'] = response.xpath('//*[contains(@class, \"center_block\")]/h2/a/@href').extract()[i]\n            item['description'] = response.xpath('//*[contains(@class, \"product_desc\")]/a/text()').extract()[i]\n            item['prix'] = response.xpath('//*[contains(@class, \"price\")]/text()').extract()[i]\n            data = item['revendeur'], item['produit'], item['url'], item['description'], item['prix']\n            out.write(str(data))\n            out.write('\\n')\n</code></p>\n"}], "owner": {"reputation": 11, "user_id": 6263958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180209778678519/picture?type=large", "display_name": "Fekher Turki", "link": "https://stackoverflow.com/users/6263958/fekher-turki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1461955602, "creation_date": 1461800516, "question_id": 36902783, "link": "https://stackoverflow.com/questions/36902783/output-python-to-csv-regular", "title": "output python to csv regular", "body": "<p>hello i'm new on python/scrapy world, i need to export my list of products to csv like this exemple:\n<a href=\"http://i.stack.imgur.com/GixLB.png\" rel=\"nofollow\">what i want</a>\nbut i get this one:\n<a href=\"http://i.stack.imgur.com/7L9pK.png\" rel=\"nofollow\">what i got</a></p>\n\n<p>/////\n<strong>spider:</strong>\n/////</p>\n\n<pre><code>import scrapy\nimport csv\nfrom escrap.items import EscrapItem\n\nclass EscrapSpider(scrapy.Spider):\n    name = \"tunisianet\"\n    allowed_domains = [\"tunisianet.com.tn\"]\n    start_urls = [\n        \"http://www.tunisianet.com.tn/385-logiciels-informatique-tunisie/\"\n    ]\n\n    def parse(self, response):\n        for sel in response.xpath('//*[contains(@class, \"ajax_block_product\")]'):\n            item = EscrapItem()\n            item['revendeur'] = '\\n'.join(sel.xpath('//*[contains(@class, \"center_block\")]/h2/a/@href').re('tunisianet'))\n            item['produit'] = '\\n'.join(sel.xpath('//*[contains(@class, \"center_block\")]/h2/a/text()').extract())\n            item['lien'] = '\\n'.join(sel.xpath('//*[contains(@class, \"center_block\")]/h2/a/@href').extract())\n            item['description'] = '\\n'.join(sel.xpath('//*[contains(@class, \"product_desc\")]/a/text()').extract())\n            item['prix'] = '\\n'.join(sel.xpath('//*[contains(@class, \"price\")]/text()').extract())\n        data = [item['revendeur'], item['produit'], item['lien'], item['description'], item['prix']]\n        out = open('out.csv', 'w')\n        for row in data:\n            for column in row:\n                out.write(column.encode('utf-8'))\n        return data\n</code></pre>\n\n<p>/////\n<strong>items:</strong>\n/////</p>\n\n<pre><code>import scrapy\n\nclass EscrapItem(scrapy.Item):\n    revendeur = scrapy.Field()\n    produit = scrapy.Field()\n    lien = scrapy.Field()\n    description = scrapy.Field()\n    prix = scrapy.Field()\n</code></pre>\n\n<p>/////\n<strong>pipelines:</strong>\n/////</p>\n\n<pre><code>class EscrapPipeline(object):\n\n    # put all words in lowercase\n    words_to_filter = ['politics', 'religion']\n    def process_item(self, item, spider):\n        for word in self.words_to_filter:\n            if word in      unicode([item['revendeur'],item['produit'],item['lien'],item['description'],item    ['prix']]).lower():\n                raise DropItem(\"Contains forbidden word: %s\" % word)\n        else:\n            return item\n</code></pre>\n\n<p>/////\n<strong>my setting:</strong>\n/////</p>\n\n<pre><code>BOT_NAME = 'escrap'\n\nSPIDER_MODULES = ['escrap.spiders']\nNEWSPIDER_MODULE = 'escrap.spiders'\nITEM_PIPELINES = {'escrap.pipelines.EscrapPipeline': 1}\nFEED_EXPORTERS = {\n    'csv': 'escrap.escrap_csv_item_exporter.EscrapCsvItemExporter',\n}\nFIELDS_TO_EXPORT = [\n    'revendeur',\n    'produit',\n    'lien',\n    'description',\n    'prix'\n]\n</code></pre>\n"}, {"tags": ["python", "mysql", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 2373, "user_id": 407588, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QCGmX.png?s=128&g=1", "display_name": "stochastic", "link": "https://stackoverflow.com/users/407588/stochastic"}, "is_accepted": true, "score": 0, "last_activity_date": 1461898787, "creation_date": 1461898787, "answer_id": 36928830, "question_id": 36902772, "link": "https://stackoverflow.com/questions/36902772/calling-geomfromtext-and-other-such-functions-using-sqlalchemy-core/36928830#36928830", "title": "calling GeomFromText and other such functions using sqlalchemy core", "body": "<p>The easiest way I have found so far involves the use of <a href=\"http://docs.sqlalchemy.org/en/latest/core/tutorial.html#using-textual-sql\" rel=\"nofollow\">text</a> (i.e. constructing <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.TextClause\" rel=\"nofollow\">TextClause</a> objects), which lets you enter SQL syntax (almost) literally. </p>\n\n<p>My example would work something like this:</p>\n\n<pre><code>from sqlalchemy.sql.expression import bindparam\nfrom sqlalchemy import text\n\nupdateCommand = myTable.update().where(id=bindparam(\"idToChange\"))\nvaluesDict = {'idToChange':':idToChange', \n              'Location':text(\"GeomFromText(:_location)\")\n}\nupdateCommand = updateCommand.values(**valuesDict)\ndata = [\n    {'idToChange':1,'_location':\"Point(39.0 55.0)\"},\n    {'idToChange':2,'_location':\"Point(39.0 55.0)\"},\n]\n#see the MySQL command as it will be executed (except for data)\nprint(connection.compile(bind=connection))\n#actually execute the statement\nconnection.execute(updateCommand,data)\n</code></pre>\n\n<p>The key points:</p>\n\n<ul>\n<li><p>calling <code>updateCommand.values</code> replaces the <code>VALUES</code> part of the SQL clause.  Only the columns that you give as kwargs to this call will actually be put into the final <code>UPDATE</code> statement</p></li>\n<li><p>the values of the keyword arguments to <code>updateCommand.values</code> can either be a literal set of data (if you are only updating one row), or it can be a string giving the names of keys in the <code>data</code> dictionary that will eventually be passed with the command to the <code>connection.execute</code> method.  The format to use is ColumnName=\":dictionaryKeyName\".</p></li>\n<li><p>the values of the keyword arguments can also be the result of a <code>text</code> clause, which can itself contain field names in the same \":dictionaryKeyName\" format.  </p></li>\n</ul>\n"}], "owner": {"reputation": 2373, "user_id": 407588, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QCGmX.png?s=128&g=1", "display_name": "stochastic", "link": "https://stackoverflow.com/users/407588/stochastic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 36928830, "answer_count": 1, "score": 0, "last_activity_date": 1461898787, "creation_date": 1461800488, "last_edit_date": 1495535635, "question_id": 36902772, "link": "https://stackoverflow.com/questions/36902772/calling-geomfromtext-and-other-such-functions-using-sqlalchemy-core", "title": "calling GeomFromText and other such functions using sqlalchemy core", "body": "<p>I am working in python with a MySQL database.  I have a table that uses the MySQL geometry extension, so I need to call the GeomFromText MySQL function during an update statement, something like this:</p>\n\n<pre><code>UPDATE myTable SET Location=GeomFromText('Point(39.0 55.0)') where id=1;\nUPDATE myTable SET Location=GeomFromText('Point(39.0 55.0)') where id=2;\n</code></pre>\n\n<p>Originally, I was using the low-level MySQLdb library.  I am switching to using the SQLAlchemy core library (I cannot use the SQLAlchemy ORM for speed and other reasons).  </p>\n\n<p>If I were using the lower-level MySQLdb library directly, I would do something like this:</p>\n\n<pre><code>import MySQLdb as mysql\ncommandTemplate = \"UPDATE myTable SET Location=GeomFromText(%s) where id=%s\"\nconnection = mysql.connect(host=\"myhost\",user=\"user\",passwd=\"password\",db=\"my_schema\")\ncursor = connection.cursor(mysql.cursors.DictCursor)\ndata = [\n    (\"Point(39.0 55.0)\",1),\n    (\"Point(39.0 55.0)\",2),\n]\ncursor.executemany(commandTemplate,data)\n</code></pre>\n\n<p><strong>How do I get the equivalent functionality with SQLAlchemy core?</strong></p>\n\n<p>Without the GeomFromText, I think it would look something like this (thanks to <a href=\"https://stackoverflow.com/a/25720751/407588\">this answer</a>):</p>\n\n<pre><code>from sqlalchemy.sql.expression import bindparam\n\nupdateCommand = myTable.update().where(id=bindparam(\"idToChange\"))\ndata = [\n    {'idToChange':1,'Location':\"Point(39.0 55.0)\"},\n    {'idToChange':2,'Location':\"Point(39.0 55.0)\"},\n]\nconnection.execute(updateCommand,data)\n</code></pre>\n\n<p>I can't just textually replace \"Point(39.0 55.0)\" with \"GeomFromText('Point(39.0 55.0)')\", or I get:</p>\n\n<pre><code>Cannot get geometry object from data you send to the GEOMETRY field\n</code></pre>\n"}, {"tags": ["python", "csv", "math", "store"], "answers": [{"tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": false, "score": 1, "last_activity_date": 1461800540, "creation_date": 1461800540, "answer_id": 36902787, "question_id": 36902718, "link": "https://stackoverflow.com/questions/36902718/problems-writing-output-to-csv-file/36902787#36902787", "title": "Problems writing output to csv file", "body": "<p>You are resetting state_ints before you write to the file. Do this after you write to the file. Or you will always write 0 to the file.</p>\n"}, {"tags": [], "owner": {"reputation": 604, "user_id": 6240393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a0JLj.png?s=128&g=1", "display_name": "nino_701", "link": "https://stackoverflow.com/users/6240393/nino-701"}, "is_accepted": false, "score": 2, "last_activity_date": 1461800735, "creation_date": 1461800735, "answer_id": 36902823, "question_id": 36902718, "link": "https://stackoverflow.com/questions/36902718/problems-writing-output-to-csv-file/36902823#36902823", "title": "Problems writing output to csv file", "body": "<p>In line 7 of your code you open a file in writing mode:\n<code>status = open (\"state.txt\",\"w\")</code>\nSo the content of that file, if any exists, is erased.Therefore the reading operation in lines 8-9 won't find any thing to read:</p>\n\n<pre><code>with open (\"state.txt\",\"r\") as f:\n    state = f.read()\n</code></pre>\n\n<p>You can read your file, do your updates then upload your data back to the file again.</p>\n"}], "owner": {"reputation": 1, "user_id": 4848344, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oCdiMzNRRZM/AAAAAAAAAAI/AAAAAAAAACU/aX9WhhbEUQs/photo.jpg?sz=128", "display_name": "Mushtak Nadim", "link": "https://stackoverflow.com/users/4848344/mushtak-nadim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1461807525, "creation_date": 1461800114, "last_edit_date": 1461807525, "question_id": 36902718, "link": "https://stackoverflow.com/questions/36902718/problems-writing-output-to-csv-file", "title": "Problems writing output to csv file", "body": "<p>I've been assigned a task to log student scores for a maths quiz</p>\n\n<p>Below is my task:</p>\n\n<p>The teacher wants to use the results from students taking these quizzes to log their performance. The system should store >the last three scores for each student.</p>\n\n<p>Every time I run my code no data is added to the csv file, also the \"state\" text file remains at 0 so even if data is added the scores won't be updated and instead appended to the row</p>\n\n<p>Below is my code:</p>\n\n<pre><code>import csv\nimport os\n\nname = input(\"enter your name: \")\nclassroom_num = input(\"enter your classroom number: \")\nscore = 5\nprint (\"%s, you scored %d/10 questions correctly\"%(name,score)) \nstatus = open (\"state.txt\",\"w\") #Every time program is run +1 is added, so that column 1-3 are updated\nwith open (\"state.txt\",\"r\") as f:\n    state = f.read()\n    if os.stat(\"state.txt\").st_size == 0:\n        status.write (\"0\")\n\nstate_ints = [ int(x) for x in state.split() ] #converts into int\naddone = 1\nif state_ints == 3: #If program is run more than 3 times the value in text file reset to 0\n    state_ints = 0\n    status.write (state_ints)\nwith open(\"Classroom {}.csv\".format(classroom_num),\"a+\") as f:\n    rows = csv.reader(f)\n    for row in rows:\n        if row in rows in row[0] != (name) in row: #Checks if name exists in file (if so name isn't appended to column)\n            state_ints.append(addone) #Adds one everytime program is run so that score can be replaced for row 1-3\n            status.write (state_ints)\n            name_row = (row [0])\n            name_row.append(name)\n            score_row = (row (state_ints))\n            score_row.append(score)\n        else:\n            state_ints.append(addone)\n            status.write (state_ints)\n            score_row = (row [state_ints])\n            score_row.append(score)\nstatus.close()\n</code></pre>\n"}, {"tags": ["python", "arrays", "indexing", "vectorization"], "comments": [{"owner": {"reputation": 2154, "user_id": 4041970, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oTSo6.png?s=128&g=1", "display_name": "snake_charmer", "link": "https://stackoverflow.com/users/4041970/snake-charmer"}, "edited": false, "score": 0, "creation_date": 1461801127, "post_id": 36902687, "comment_id": 61369702, "body": "You are looking for <a href=\"http://www.numpy.org/\" rel=\"nofollow noreferrer\">numpy</a> . In particular, <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html\" rel=\"nofollow noreferrer\">numpy.where</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8998, "user_id": 3314143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RpemN.png?s=128&g=1", "display_name": "daniel451", "link": "https://stackoverflow.com/users/3314143/daniel451"}, "is_accepted": false, "score": 0, "last_activity_date": 1461805315, "last_edit_date": 1461805315, "creation_date": 1461804609, "answer_id": 36903362, "question_id": 36902687, "link": "https://stackoverflow.com/questions/36902687/indexing-in-python-using-array-of-indexes/36903362#36903362", "title": "Indexing in Python using Array of indexes", "body": "<pre><code>import numpy as np\n\n# define our matrix M\nM = np.arange(6*8).reshape(6,8)\n</code></pre>\n\n<p>When we look at M:</p>\n\n<pre><code>&gt; M\n&gt; array(\n  [[ 0,  1,  2,  3,  4,  5,  6,  7],\n   [ 8,  9, 10, 11, 12, 13, 14, 15],\n   [16, 17, 18, 19, 20, 21, 22, 23],\n   [24, 25, 26, 27, 28, 29, 30, 31],\n   [32, 33, 34, 35, 36, 37, 38, 39],\n   [40, 41, 42, 43, 44, 45, 46, 47]])\n\n&gt; M.shape\n&gt; (6, 8)\n</code></pre>\n\n<p>Now we get the maximum arg of every row:</p>\n\n<pre><code>&gt; z = np.argmax(M, axis=1)\n&gt; array([7, 7, 7, 7, 7, 7])\n</code></pre>\n\n<p>Thus, we got the index of the max-element for each row. If we want to get back the values, we can simply slice through M:</p>\n\n<pre><code>&gt; M[np.arange(M.shape[0]), z]\n&gt; array([ 7, 15, 23, 31, 39, 47])\n</code></pre>\n\n<p><code>np.arange(M.shape[0])</code> creates indexes for each row, while <code>z</code> covers the indexes for the columns. Therefore, we are extracting the n-th element (according to the entries of <code>z</code>) of each row.</p>\n\n<hr>\n\n<p>To prove this works for arbitrary \"sorted\" arrays:</p>\n\n<pre><code>&gt; M2 = np.ravel(np.copy(M))\n&gt; np.random.shuffle(M2)\n&gt; M2 = M2.reshape(M.shape[0], M.shape[1])\n&gt; M2\n&gt; array(\n  [[34, 16,  5, 32, 31,  2, 17, 38],\n   [33, 18,  9, 46, 20,  4, 39, 30],\n   [10, 41, 35, 23,  0, 24, 45, 14],\n   [28, 36,  8, 22, 11, 15,  7, 44],\n   [27,  1, 25,  6,  3, 19, 47, 37],\n   [40, 42, 29, 21, 12, 43, 26, 13]])\n\n&gt; z2 = np.argmax(M2, axis=1)\n&gt; array([7, 3, 6, 7, 6, 5])\n\n&gt; M2[np.arange(M2.shape[0]), z2]\n&gt; array([38, 46, 45, 44, 47, 43])\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6263999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f4eb835bb9e0763b961959d6490fc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Moe Dsp.", "link": "https://stackoverflow.com/users/6263999/moe-dsp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461805315, "creation_date": 1461799952, "last_edit_date": 1461800470, "question_id": 36902687, "link": "https://stackoverflow.com/questions/36902687/indexing-in-python-using-array-of-indexes", "title": "Indexing in Python using Array of indexes", "body": "<p>So, I have this matrix which is <code>M=60x8</code>.</p>\n\n<p>Then I find for each line the max element using this <code>z= M.argmax(axis=1)</code>\nThus <code>z is a 60 element array</code> containing indexies from 0-7. </p>\n\n<p>Apart from the old fashioned way to iterate with loops, could I use some sort of vectorised code in python in order to print the values of M where I got the max, using the z matrix.  </p>\n"}, {"tags": ["python", "python-3.x", "flask", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 4468, "user_id": 617395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f43fa1eeac26199907acd3dde52328?s=128&d=identicon&r=PG", "display_name": "iurisilvio", "link": "https://stackoverflow.com/users/617395/iurisilvio"}, "is_accepted": false, "score": 0, "last_activity_date": 1461848660, "creation_date": 1461848660, "answer_id": 36915563, "question_id": 36902682, "link": "https://stackoverflow.com/questions/36902682/use-db-without-requiring-app-app-context-flask/36915563#36915563", "title": "use db without requiring app.app_context()- Flask", "body": "<p><code>Flask-Script</code> gives you a <a href=\"http://flask-script.readthedocs.io/en/latest/#shell\" rel=\"nofollow\">shell</a>.</p>\n\n<p>If you want to do it without <code>Flask-Script</code>, you must set the application context. A normal Python shell doesn't know how to setup your context.</p>\n\n<p>It is easy to mimic the <code>Flask-Script</code> shell.</p>\n\n<p>Create a <code>shell.py</code> file:</p>\n\n<pre><code>from app import application\nctx = application.app_context()\nctx.push()\n</code></pre>\n\n<p>Run it with <code>python -i</code> and use <code>db</code> with your app context already defined:</p>\n\n<pre><code>$ python -i shell.py \n&gt;&gt;&gt; from app import db\n&gt;&gt;&gt; db.create_all()\n</code></pre>\n"}], "owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1194, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461848660, "creation_date": 1461799931, "question_id": 36902682, "link": "https://stackoverflow.com/questions/36902682/use-db-without-requiring-app-app-context-flask", "title": "use db without requiring app.app_context()- Flask", "body": "<p>I have an app like this:</p>\n\n<p>myapp/app/<strong>init</strong>.py:</p>\n\n<pre><code>import sqlite3\nfrom contextlib import closing\n\nfrom flask import Flask, g\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_login import LoginManager\n\n# from app.models import db\nfrom database import db\n\napplication = Flask(__name__)\napplication.config.from_object('config')\napplication.debug = True\n\ndb.init_app(application)\n\nlogin_manager = LoginManager()\nlogin_manager.init_app(application)\n\nfrom app import views\n</code></pre>\n\n<p>myapp/database.py:</p>\n\n<pre><code>from flask_sqlalchemy import SQLAlchemy\n\ndb = SQLAlchemy()\n</code></pre>\n\n<p>myapp/app/models.py:</p>\n\n<pre><code>from database import db\nfrom app import application\n\n\nclass CRUDMixin(object):\n\n    ...\n\n    def delete(self, commit=True):\n        \"\"\"Remove the record from the database.\"\"\"\n        with application.app_context():\n            db.session.delete(self)\n            return commit and db.session.commit()\n\n\nclass Model(CRUDMixin, db.Model):\n    \"\"\"Base model class that includes CRUD convenience methods.\"\"\"\n    __abstract__ = True\n\n    def __init__(self, **kwargs):\n        db.Model.__init__(self, **kwargs)\n\n\nclass User(Model):\n    \"\"\"\n    :param str email: email address of user\n    :param str password: encrypted password for the user\n    \"\"\"\n    __tablename__ = 'users'\n\n    email = db.Column(db.String, primary_key=True)\n    password = db.Column(db.String)\n    authenticated = db.Column(db.Boolean, default=False)\n\n    def is_active(self):\n        \"\"\"True, as all users are active.\"\"\"\n        return True\n\n    def get_id(self):\n        \"\"\"Return the email address to satisfy Flask-Login's requirements.\"\"\"\n        return self.email\n\n    def is_authenticated(self):\n        \"\"\"Return True if the user is authenticated.\"\"\"\n        return self.authenticated\n\n    def is_anonymous(self):\n        \"\"\"False, as anonymous users aren't supported.\"\"\"\n        return False\n</code></pre>\n\n<p>The project I tried to structure after did not require <code>with application.app_context()</code> in the <code>Model</code> helper class. I cannot see any significant differences between my setup and its, and yet without <code>with application.app_context()</code> all over anything related to <code>db</code> I get the usual <code>application not registered on db</code> error. When everything you see in <code>app/models.py</code> and <code>database.py</code> was in <code>app/__init__.py</code>, it worked without requiring any <code>with application.app_context()</code> and I could import <code>db</code> raw in the shell like <code>from myapp.app import db</code> and it worked as is. What can I do to quiet the <code>application not registered on db</code> complaint but be able to use <code>db</code> easily without needing <code>app_context</code>, but still keep a proper directory structure where everything isn't jammed into <code>init</code>? Thank you</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1461800899, "post_id": 36902668, "comment_id": 61369642, "body": "What&#39;s in your file? Start with the first step. There&#39;s no reason for <code>a=f.read()</code> to read less than the full contents. Why are you seeing <code>5</code>? Run it from the console and examine <code>a</code>."}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1461801044, "post_id": 36902668, "comment_id": 61369679, "body": "<code>a</code> is coming up with something like <code>ePNG</code>, so obviously something is wrong there, not sure exactly what to do with it though. <code>b</code> is giving out <code>iVBORwo=</code>"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1461801104, "post_id": 36902668, "comment_id": 61369694, "body": "What&#39;s in your file? It seems the contents of the file are the problem."}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1461801501, "post_id": 36902668, "comment_id": 61369816, "body": "It&#39;s the image that I put in the post, even if there&#39;s something odd about it, Imgur seems to display it alright, and the python inside Maya managed :P"}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1461801908, "post_id": 36902668, "comment_id": 61369940, "body": "Definitely not the image, I just made a random transparent image in Photoshop, saved it to my desktop, and got the same error"}, {"owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 0, "creation_date": 1461803594, "post_id": 36902668, "comment_id": 61370342, "body": "@Peter <code>r</code> should be <code>rb</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4680, "user_id": 1334967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6319a586f055b709158acaedb8c76add?s=128&d=identicon&r=PG", "display_name": "ottomeister", "link": "https://stackoverflow.com/users/1334967/ottomeister"}, "is_accepted": true, "score": 3, "last_activity_date": 1461804072, "creation_date": 1461804072, "answer_id": 36903276, "question_id": 36902668, "link": "https://stackoverflow.com/questions/36902668/file-not-reading-properly-when-running-python-from-cmd/36903276#36903276", "title": "File not reading properly when running python from cmd", "body": "<p>The problem is that you open the file with mode 'r', which causes the icon file to be treated as a text file.  Change that 'r' to 'rb' to indicate that you want to treat the file as a binary file.</p>\n\n<p>When the file is read as a text file, the '\\x1a' character that occurs in the header of the PNG acts as an end-of-file marker, and therefore the read() returns only the half dozen characters that appear before the '\\x1a'.</p>\n"}], "owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 36903276, "answer_count": 1, "score": 0, "last_activity_date": 1461804072, "creation_date": 1461799831, "question_id": 36902668, "link": "https://stackoverflow.com/questions/36902668/file-not-reading-properly-when-running-python-from-cmd", "title": "File not reading properly when running python from cmd", "body": "<p>I have my code creating a few files, so I decided I might as well add in the icon too. My idea was to read the file and encode it, so I can store the string to be decoded when the code is run, but that doesn't seem to be working (it appears to be just failing to read the file), and I've no idea why.</p>\n\n<p>This is the test code I'm using:</p>\n\n<pre><code>icon = 'iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAV/UlEQVR42s2ZB3gVxdrH95SEhIS0\\ns+kJTRQwSJNekwChhRCEhB6aUkMJNaGFFpAaKQIiSDMUESVeCxiagiBFQUAEggIiICSUkH7O2Xnv\\n/90sPvnOJ15QDvfO8/z8z8zOvG1m90SV/klzD6wDamnU1gOjW0AdnU/FVyRT+ZqMgym4Vk0wEKwA\\ne8ElObhWFiiUy9eyAgv6BeAOnl0Au0Eq6AuqmSrUMMgVQ6RbmyWpXEBtHfvQfEkMx/C8GwKpUxo9\\nMHgG1ZYYr6DaZaBtvJAw+BGYAf1NCsEpsAh2m6EgDl7BtSWPoNo69gn0pWN5Ls0loK7kCqA6qMEt\\ngINRTyMIgc0EvwACglVDAVZNhQbZIBibtWTDeTABvrzhVyoXWEeNAbCqsdmtlfV/tTQGF/+6hnL+\\ndSQ3/zqBboF1loNcQBoKsGhK/wBhY0to83dBCvzLrojBBfEgJn3pGJ9pc/avVxq+ergFdcqg6okg\\np1xAXYIKYAEKIDuhaD6E5vMOGOoWWFNv9GmpxlY61mfSyvjVl5xK0Dn71Te6wDAqXh/8gFtAQEHf\\nAhWAnhNC86kAQv8QTr1qWU7cr56RY9Vi/qfJN3iEHhgAVzYBziyA0LcAAcf03wC+FaDGAvLQj3Py\\n58QbGBGrDkjM32qOfg0ZNXkdFEYdUdFNTn71CGpluP+/gBaLovUXeahxN9Q7InYtj6dNvjFopBop\\ni2sEdUMhMvA6ENQMBKD/MQSwaDFud/Jr7GD0a6grAzgX8KTJN9FohOq9ytVzB98AAmbW54hAAkoZ\\nfxWrhsLzgGyxiTEdGB39WnABgJrXf0q+qQZv6MLqCPYCAmbW50EZ/0ZIuLHi4NuQjN4NyAD03vWh\\n6Ps0IJ7nNYztXptYt6MInJNaBC2/xyTv36wE30bQJtq70zgNEDCz2hkk1URhDN4NSS83IOeApkWm\\nyuGXA15uf/SFOlEHAkLaHzG9EJ6J+UIDnmMd9pXsKW3HJuZFSJ5P3+DoXpVzfFwBmkuOgaFcIYN2\\nXZIAAQurnUHyTRWjT2PBSflVa3cmus/4lJ2f7HvNbLE0IaK6QojarFZFaZL++VfRXeMmzkJhThm8\\nG5HRp5G6v7Q9m9gHaDkZOU9gm3xLjWYGR/+mrC2hViA0yJ6UCWiu6JGIe8XwW0PHvTmViJoh0QbQ\\nFsVmS+u793La3r5zr1323Qdti4vNrXnealWfNxmduDjRs1Kr37Cf7VhtbAtNc5FTDSABvaN/CwnY\\nFqC5DpPcd8WicxgTUFjtCIJuoejkRlS5bpcTP5zLjCai5gWFRZF3su51fpib3wnjCBAGWmoakZub\\nrz4vKCiK5GJk/vxrp5fqdzsiwQ7s2cZsZUVOBx39OyHHxlwENWe1lQkIk4x+PNnCAFhTAAELqz1x\\nCmiJ5JtQ1QaxxywWSwdFiEgk3Q0FeE0I0Y6I2p74/ny/eW9tmjRp5tsz56ZuSDx64mx/zLdjCrGO\\n11us1k48frlJz0Nsj+3a+LJoGg/UXJ0CWqm54x/hXA09YK0O8gABwWoncFKhQu/TDO975NXfbtzu\\nTkRdC4uKewLuR6au2ja5euNex8oGhRdJpiYkeTYSOqhzUFhx1YY9Ts5funk61nXC+ljepyii2/37\\nD7sFhkRl6r2bsX2F/djk8jvw1XLVIXcUQB2EGhz8Q9EPXQ8IWFntiSPj15KWrNyaTEQxBQWFAywW\\naxz63dvHjP3Y6NOcJLeG5BwYXlSpTrdLrzTre6Jy3ZiLLsGtCiV3/DwiyVbRIz8VQvTA9yAOr8MA\\n7I19Z8OuyU4BYUj+//m0aH7nAjVnzp2vgR5Aw0OgRYCAYLUXToHhuPrN6dWwgUeIqBeu/BB87Aaj\\n37t1l9G7Jc8mHKi5Y4/xn37/w8WxmO9ntVr7sJ6/cGV01/5TPoKNQsmjMTXvOGIf5vuYzZY38gsK\\nh6Dfs3HbIQfYPvthfzY5ZZUJaOXPpw90klNAuBFAW70FCFhY7Yxw9A2j5Ws+XEhEr+fmFYyGDpya\\nsmY1B+6MGFIWb1yJub5mi3UoTji+qNg8EkWIxy0ZxvPL392Z6hLcplDyakZjpyxbx/s1O29s2Pr5\\n3DL+4TY+S+cWngjU3CXnwNaMp3NA65tQAoLVXpQNaiMc/MIoMKTLbZz8OCIaJ4RgTahYO+aa5NGU\\nBsTP+5gLgw/cJCQ8ntc8AkUYn4N5TnTM5GVpkmdzCqrx2s2iomJ1naII1oQKtbrdcECR4a90Poqm\\n55yDWxudglpJSL4N071sYBsCVlZ74hocoejlltS0/YhTRDQ2L69gGnR82o6MlQY5lAKqd7mLn7gp\\nmJuMZCaz2oKCTcatmII/kiZVqt39puTVgtZs+GQNFwBFm84FaBU95hj7YX82MQiAIkSEAkkqG9SW\\nSQMErKz2xLV8exQgjOKGpRwkosQHOXkprGMmL/9MKteUIrqOP4lxEq78bOjMx4ET5+eJ3fpNPyS5\\nNqHBYxZ+WdrekLGLMnQoKPuzicGi6RIgSS5B7dzBVUBAsNoTtwodFJ1XKI2atCyDiJJzHuYthE6P\\nGzb3G8m1KQ1OWHSQx0VF5vnQeY8DBeLnyROSV3/B+1CIYyX28heyJs5a87leDqdyKIBNDI/Gp12D\\n2+sl1+AOoYCeAwimI65fO5KrROefPnv5XSJakF9Q9BY0ZcjYJYcl12bUd+i8b3mMBFOhix+H9jxl\\nVOLyg5Jrc+ybe4zHeAWWsk5MfmevwbsVCh6p2MQhNC0EIVK58pGJgICV1Z64V+wkHHwjaF7qlt2c\\nBN7hVfj546/9ktRVH34heYRRg9bDr2H8Fj5+PP/248C+VbwvPHpcpuTWklIWv5/B49zcgtVse0D8\\ngpMG7zbwGaX8SSzaXMc4ya1C1A63Cp0IWFnthWflzsLoE0EdYpMuEdFK/Ly9B12rKMo66JoLmb+m\\nmap0KXYNjqTPM47vxNwqnLK6xhYkz/Orj544v82zcrTVrWKU9dSZzG2Ye0fbs6pFZMI1R9+25FEp\\nSpSOwybXpZLXC13OeFSKJvdK0Qoge+BRuYsoGxRJFWr3zv3tZtZWItqkKOJ96GYGxeD+uu6D5vwk\\neYRTw4iRv+fnF27C3IZiszkNf+S8b8Ea1uJiSxrPK0KsD+s8/rrkHkZRvadl8n48T2Pb1367vS0g\\npHuha/ko9m0bT+lc9+DfkTvcc6sYTaYXuyqeL3QVvOFZw3adgzrRxm0Z/IF7Hwl/AN3+CBSDx1sR\\n+MeV68blSqYIatFp3K3Lv9xI5wLhOSeWpggoxjduZn/UNibpuiRHUHDN3gUXLl9P5/34cO7g5/OX\\nbf/W0b8DeVV5bD5C04tS574zLvuF9LQa/TqQSwUU4qUYwXhW6UbPArlqrHDw70j9Riy6TEQf4JQ4\\n2F224Hed5z/86siZfeVr9y2SvCLIP6RX8aDRqZkbt+89unvfya/SPtx/ZNiE5ZeCa/Up5OcBNXoV\\n795/8iDvww1JF7CDfzH6+JUWQx9wLl4vPjYPoWmWxJt/vnrrQFLKhgshzYfmOQV3pjJBncnzxViS\\nq/UQXlW7k9dLsX8H7O8uXCp2oRothj18mFvwBXx9LoT4HPqnoAi85pOfMq/v69Bz+m3n8tEkebQh\\nnXd7MvpHsmIcQU6Ir03MlKwz568c4PX46/AL/IeS3VzIibPeu+AYGKXG/gQxFkgWq8JfT+aLwiLz\\n3m27vvqhfa/kbC8YcAiKJrcqseT9cm8hV+8lvKr1JK+qT4d7lVix58D3x2F/DxLcB937V1gVZR+K\\nlMHrD3xz5sSYaWuutus5PbtZ1MQHbXtMzx415Z2rGV+dOsnPse5LJL+vqNiyn+Pf+ek337G/p4jP\\nwjfgIN6xw3gvD8PgISGIq3rgzE9XT46Zvvb6i02GFjtW6EplK8eQHNKHfF7pK+SX+5Dp5d6Phdf5\\n1owTDuVfowmz1l+Fvf1sH3roSVAU5TCKxesP8l6Oh/ulx3h+CB/Ew7j6h3jus30nf/B5Jc7qgcTg\\nn+N4EtQCfAWOg2+R/LcweAzGj2F8BBzGX1bH16ZlXA6LmfbQvVpv4VgphjxQAJ9a/YV3zf5kqhGn\\n4l2zn+A5L/S9QvoKh4ox1DQ66SHsHUVhVdtETwfHgcId1/QYfv6OFxQWH8dNPa4IocbILF6TfsXz\\n5T6KR/U+HAfH86QUSFpVfwDfg1OPwFU8heBPk1DnT4Dvjn538cIbk1ZlV2g8zOr4Qg9yrYZC1Bmk\\n4lK1NzlW6UFyrQGictMR1mpho83HT18+z/tg6zTb/Dvgdp5CAbj/ncZJxmK1fv/Z/u8vhfeYketU\\npSeZag4QPnUGsv8nQWiqfgT/BS6Bs+CcLTi9cyjEjwjkR0F0BnOnb2c/+Cl13Wc3G3WZWujychw5\\noxBhPWfmr3r/yxunz1/NvHM35yec1I9I/CxO7UfYYFtPDRJnPQs9+93ZXy7vP3Lul007v76eMHtj\\nVv2opCL27VI9jnzrDRZy3dfpKRCaXuQCrAPXwU/g4l+BQC4x2vg8EruQnnHyxtZPjtzE+ALPaXYA\\nxoD7QmCvtu9J4PUo+iXee/dBXmbvhBU55V4ZQG41B5ITEnas2pd47FN/iGDkVwfTU6JouocLMBVk\\ngcvgypOgCHEFV/CKgGL8M4MbcgUnfmXF5i+zGnVLLqrbeaq564il+cs27sn+PTvnGq/B8/9sW1Fg\\nW1Ht7j1y7mb1thMtjtX7kU+DYeQNfBsNFwz35fpD/y5WTZdyAbogoWwoB3n9acHJ/sYIUTK+nZ1z\\nc+NHh+61GTC/2ClkAEkVelCl8LHKln8dZR+/ogh/ZYv1V5z+9WlLd+a41n6DytUdTL5NRpLccPiz\\nRNE0jgvwQknlRRYC+B39fwyKcRN669LV37PjZ28ucKr1OhlrDKS1H36Vw/NW5f/6wQHcxqnf5mcX\\nrtzKCus332wMGUjeSNynKZJvHP8sEZoWghD+/0L6zGu3j8J5AbiD4O8imLsI6i7GT40gbb8i7mo3\\nK2v9x4fzyr6KK9d0lDiXeeMB5rL5Oa+3KpovzGFdrm+LMcK57lDya5lAcrPRvOdZowDYHnVabjpW\\nLwV3nCH5hSWkRY9ZSZ8fOpuDrzaf0gMGweUAHqtzTwvvxe83770/IiWtWHqpH8XP3VLMY9w2PBeq\\nXXzocuKmvGd2qDOEvJqPId+wcSS3SLAXFk2XAEnyaJ6A/7Ca0N2pYTw5NYi31us9T1m0KaP4t9v3\\n+UbkMUKIfJxqPivGTwWKwJr37dlfCp0bjqSasbMF/nTlOXV+//GLhdW7zBAO9YaTb+uJ5B0+geSw\\n8fZEqBo6LhQqSb5tJjGevhGJN3zbJJJr8wRhaBBPge0m0+uz06yHT18247oWEZEKTq5ICHX8RDxa\\ney8nv6hy1HTh03oS/XIju5jnVu742uLYaBS5txhHfhGJJLeaaG8UTc/JrcYa5dYogNwmyQigialQ\\n8mk72eLXbgp5IVCHxqPJBcGFDl0m1qYfVe49zLcSkQVJWaBPxKO1WQ/yLBU7J8N+El25ka3O9Uh6\\nTzg0GUMBHaYS/D8PLCWalAjU3CW53RS93G4qawgoAgSEd/up5NdxGvkguLKhE8nYbCxViZlDY5fu\\nEr/evi+ISHBjxeshFKWkbwtujKpfn/5ZODQfR7XjFlJhsUWdixz/LjmHTiBf+IBPeyM0zZLbTvHn\\nnIFOkiOTJbnjdIPcUdX1gIBVVQ2fTsnkFzWDTB2mkVQ3nhKWpRM3fOAot6CYHjUUgfDOE9eCQWHI\\nCrj1S9lKUr2RNGbZLnV86+5DeiF2Lnm0m0rekcnsx95YSnTaXDlyupozwCvQdrIkd56plzvPkuSo\\nmdVBHiAgWEvjGz2LPCNnUK2BqZSTV0jcVnx8hEahIL9lPVDHyPuPJrTBgi0HyaEVXq/o2fTj1dvE\\nLW3vKXJsNRk2Z7NteyM0/V3uNMMXKgEd5y7J7XEVBq2U5C6zDfJrc6Bz5gACFlZbfLvNJYeIqfT2\\nrqPE7WF+ETUduYp04UkU9+YO2nPiEl27fV8l47vLFDtrCxmQqGPbaUj6NKHxK0DNRr1DLh3wTeia\\nwnbtjUXTeM5RzbX1JDV3taEqkhwzTyf3mCfJXee4yt3mnQMEFNbSeMe8SZ6vpVBgzwV0/tod4sav\\nwZCl6aRvNYWklonkEjWLXDvPJl1oEsaTqOqgpbTrm/P0qM3YvJ+M7fBadZ/PNu2NVdODcsR4ndxp\\ntiTHzldf/T8arj/DDwxy94XQBS3l7gusQGhQaXx7LiTXLnOp5vBVdOX3+39c/ZOZN2nKhn0UNWMr\\nRUzZTP0X76K1u7+jrAf59Kit/PQEOUXNIZ8eC9mWvRGa5iKnGpwb+no5GrmC0g0nnyLhAyHJPRYa\\n5N5LJLnX4kRAwMJqi2/fVHLp9iZVHrSc0r+9SI9rQpTovdxCGv3uHiqDwnn3XgzYjt3RYl80QO69\\nWJJ7LjTi+qu52ja8Am+WXI0ByyVs0MuDoH3fSpPj3iKoGZAtvv2WknuvJeQUM586zN5OGw+cFeev\\nZyv38wqt+UVm6637udbD568ryVsP0YvDV5ND1zfVPd6qTbtjLok9dZEct5QP1CBvPKbm+NiG00eV\\nFklyv6U6ud5oCQYc5QHL9qIoBMystvgMXE6+A1eQU8/FZIxdyHPipZHvihoJ74mKw1YL196pZIhZ\\nQO4Ixm/QCn7+HFhm1nS7nPyphButQ18n90lVc/zLxosYGNDLI9fhF+Jtd/n1lYcBATPrn+E7eDX5\\nDlmt9t0HrCC3/ivIc+Db5PPGKvLDvDcUz+yKTYzpcv+VRjk2Bcmv0JXktUR6ooYbwHDyennUB5L8\\n+upy8pB3MuSh7xDUDASgP8N7KLPmD7Q9zwMBLJq/7fKgVQ5yr/k65KCT+yMX8FQNG0t4Y5Ve7obv\\nw/A1jvLwtZvkEWsJWDXofwQrUAAhxkXyG1v4bxu9GvugFZI8cIX0t5o8eLUKKqqXh64xeMdvkOSR\\n6xNMo9abAcmj1luA4P5/A/hWgEUb5yG2OO/49Yh3jREx6zh2FEH6R00etga8y+jkEeuM8uiNkmnM\\nxvqmhE0/mMZuJqgCLEAAek4IYIF/RYvha8T0EpDkeMSIWIHEPIsGo+/9ASpuME3YIpkmbi0DTYTm\\nAEJfAAtQAMZbnzFbGAVYMBbsE9zBeKgp6QO995DVamwogPSIZ9pMozdIqLaEavMNMJjGvW8wTdom\\nmRI/CATLTEk7cgExCEgBFlYe/wOEjS2hzd+FzxRT4nYZReC4DIhJDySGY7VbQ+KSaXwaqw5qME3e\\noTNN/lAyTfso2DRt50zoL4CAYNVQgFVToUE2CMZmLdlwHkyAH2/TVPhM3K7GAFjV2J5Lw8mD7Y/Q\\nmyZuM5imfSyZpoPkXWVAG9OM9BWmmek/mmZ+Ugzob1IIG6dgaxFsNjMlf+JgmpYumaZ8pINfA9AD\\nieGYnndDIOrJlzB1px4YcVV1psX7JdO8PWC3g2nOpzVNcz4bBFaAveASyAKFwAosIB/cARfAbpAK\\n+oJqpgUZBtUekcS22YfmS2I4hn/S/g3X/rLYEq6IggAAAABJRU5ErkJggg==\\n' # \nwith open('C:/ProgramData/Unified Remote/Remotes/Custom/SteamBasic/icon.png', 'r') as f:\n    a = f.read()\n    b = a.encode('base64')\n    print len(a)\n    print len(b)\nprint b == icon\n\nwith open('C:/ProgramData/Unified Remote/Remotes/Custom/SteamBasic/icon2.png', 'w') as f:\n    f.write(icon.decode('base64'))\nwith open('C:/ProgramData/Unified Remote/Remotes/Custom/SteamBasic/icon2.png', 'r') as f:\n    print b == f.read().encode('base64')\n</code></pre>\n\n<p>The correct results are these (from running it in Maya):</p>\n\n<pre><code>5686\n7684\nTrue\nTrue\n</code></pre>\n\n<p>But in my python file I get this from the same block of code:</p>\n\n<pre><code>5\n9\nFalse\nFalse\n</code></pre>\n\n<p>What's going on? I tried it with a couple of different images, both <code>base64.b64encode()</code> and <code>.encode('base64')</code> (but obviously that didn't make much difference), and also running cmd as an administrator didn't do anything.</p>\n\n<p>Here's the steam icon I'm using in the example:<br>\n<a href=\"https://i.stack.imgur.com/WWGlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WWGlm.png\" alt=\"steam\"></a></p>\n"}, {"tags": ["python", "hive", "pyspark", "pyspark-sql"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 2872651, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b0e4e91092fce5fb88201db42ef2740c?s=128&d=identicon&r=PG&f=1", "display_name": "KBA", "link": "https://stackoverflow.com/users/2872651/kba"}, "edited": false, "score": 0, "creation_date": 1461856502, "post_id": 36903845, "comment_id": 61399461, "body": "Thanks a lot this works.  I went with accessing the <code>schema</code> value.  One thing I am trying to get around is why is this so slow (whether it is converted dataframe to list of rows, or simple things like writing to a parquet file or trying to append a hive table) - but that could be something with my system vs the api itself."}, {"owner": {"reputation": 2871, "user_id": 6157047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBaFK.png?s=128&g=1", "display_name": "Galen Long", "link": "https://stackoverflow.com/users/6157047/galen-long"}, "reply_to_user": {"reputation": 181, "user_id": 2872651, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b0e4e91092fce5fb88201db42ef2740c?s=128&d=identicon&r=PG&f=1", "display_name": "KBA", "link": "https://stackoverflow.com/users/2872651/kba"}, "edited": false, "score": 1, "creation_date": 1461858618, "post_id": 36903845, "comment_id": 61400926, "body": "Without looking at your data/code, I can&#39;t be sure. Is your input file split up into partitions? If it&#39;s a single partition, then Spark won&#39;t parallelize loading."}, {"owner": {"reputation": 181, "user_id": 2872651, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b0e4e91092fce5fb88201db42ef2740c?s=128&d=identicon&r=PG&f=1", "display_name": "KBA", "link": "https://stackoverflow.com/users/2872651/kba"}, "edited": false, "score": 0, "creation_date": 1461860199, "post_id": 36903845, "comment_id": 61402015, "body": "I just edit my original post above to show more information.  I am pretty new to Spark, so I am not 100% sure but I loaded my input from a hive table (which I copied from the hive server to my hdfs directory).  If you have any suggestions or can point me to resources (I tried this in Scala also, so Scala code will be fine) - that would be great! Thanks a lot"}, {"owner": {"reputation": 2871, "user_id": 6157047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBaFK.png?s=128&g=1", "display_name": "Galen Long", "link": "https://stackoverflow.com/users/6157047/galen-long"}, "reply_to_user": {"reputation": 181, "user_id": 2872651, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b0e4e91092fce5fb88201db42ef2740c?s=128&d=identicon&r=PG&f=1", "display_name": "KBA", "link": "https://stackoverflow.com/users/2872651/kba"}, "edited": false, "score": 1, "creation_date": 1461867194, "post_id": 36903845, "comment_id": 61406369, "body": "Unfortunately, I&#39;m not why the saving is taking so long. I recommend you ask a new question, giving these three pieces of info: 1) your code, 2) the number of rows/columns/partitions of your data frame, and 3) the total size (GB, etc.) of the saved data file. Good luck!"}, {"owner": {"reputation": 181, "user_id": 2872651, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b0e4e91092fce5fb88201db42ef2740c?s=128&d=identicon&r=PG&f=1", "display_name": "KBA", "link": "https://stackoverflow.com/users/2872651/kba"}, "edited": false, "score": 1, "creation_date": 1461872729, "post_id": 36903845, "comment_id": 61409540, "body": "Thanks - I just posted <a href=\"http://stackoverflow.com/questions/36924111/loading-hive-and-writing-results-to-hive-or-parquet-or-csv-very-slow\">here</a>:"}], "tags": [], "owner": {"reputation": 2871, "user_id": 6157047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBaFK.png?s=128&g=1", "display_name": "Galen Long", "link": "https://stackoverflow.com/users/6157047/galen-long"}, "is_accepted": true, "score": 23, "last_activity_date": 1525547574, "last_edit_date": 1525547574, "creation_date": 1461808001, "answer_id": 36903845, "question_id": 36902665, "link": "https://stackoverflow.com/questions/36902665/saving-a-list-of-rows-to-a-hive-table-in-pyspark/36903845#36903845", "title": "saving a list of rows to a Hive table in pyspark", "body": "<p>When the schema can't be inferred, there's usually a reason. <code>toDF</code> is syntactic sugar for the <code>createDataFrame</code> function, which by default only uses the first 100 rows (<a href=\"http://spark.apache.org/docs/latest/api/python/pyspark.sql.html#pyspark.sql.SQLContext.createDataFrame\" rel=\"noreferrer\">despite the docs</a> saying it only uses the first row) to determine what the schema should be. To change this, you can increase the sampling ratio to look at a greater percentage of your data:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df = rdd.toDF(sampleRatio=0.2)\n# or...\ndf = sqlContext.createDataFrame(rdd, samplingRatio=0.2)\n</code></pre>\n\n<p>It's also possible that your random sample happened to only take rows with empty values for some particular columns. If this is the case, you can either <a href=\"http://spark.apache.org/docs/latest/api/python/pyspark.sql.html#pyspark.sql.SQLContext.createDataFrame\" rel=\"noreferrer\">create a schema from scratch</a> like so:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql.types import *\n# all DataFrame rows are StructType\n# can create a new StructType with combinations of StructField\nschema = StructType([\n    StructField(\"column_1\", StringType(), True),\n    StructField(\"column_2\", IntegerType(), True),\n    # etc.\n])\ndf = sqlContext.createDataFrame(rdd, schema=schema)\n</code></pre>\n\n<p>Or, you can get the schema from the previous DataFrame you created by accessing the <code>schema</code> value:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df2 = sqlContext.createDataFrame(rdd, schema=df1.schema)\n</code></pre>\n\n<p>Note that if your RDD's rows aren't <code>StructType</code> (a.k.a. <code>Row</code>) objects instead of dictionaries or lists, you won't be able to create a data frame from them. If your RDD rows are dictionaries, you can convert them to <code>Row</code> objects like this:</p>\n\n<pre><code>rdd = rdd.map(lambda x: pyspark.sql.Row(**x))\n# ** is to unpack the dictionary since the Row constructor\n# only takes keyword arguments\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 2872651, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b0e4e91092fce5fb88201db42ef2740c?s=128&d=identicon&r=PG&f=1", "display_name": "KBA", "link": "https://stackoverflow.com/users/2872651/kba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15121, "favorite_count": 0, "accepted_answer_id": 36903845, "answer_count": 1, "score": 5, "last_activity_date": 1525547574, "creation_date": 1461799802, "last_edit_date": 1461860553, "question_id": 36902665, "link": "https://stackoverflow.com/questions/36902665/saving-a-list-of-rows-to-a-hive-table-in-pyspark", "title": "saving a list of rows to a Hive table in pyspark", "body": "<p>I have a pyspark app.  I copied a hive table to my hdfs directory, &amp; in python I <code>sqlContext.sql</code> a query on this table. Now this variable is a dataframe I call <code>rows</code>.  I need to randomly shuffle the <code>rows</code>, so I had to convert them to a list of rows <code>rows_list = rows.collect()</code>.  So then I <code>shuffle(rows_list)</code> which shuffles the lists in place.   I take the amount of random rows I need <code>x</code>:</p>\n\n<p><code>for r in range(x):\n        allrows2add.append(rows_list[r])\n</code>\nNow I want to save allrows2add as a hive table OR append an existing hive table (whichever is easier to do).  The problem is that I can not do this:</p>\n\n<p><code>all_df = sc.parallelize(allrows2add).toDF()</code> Cant do this, schema can't be inferred\n<code>ValueError: Some of types cannot be determined by the first 100 rows, please try again with sampling</code></p>\n\n<p>without putting in the whole schema.  The schema of <code>rows</code> has 117 columns, so I don't want to type them out.  Is there a way to extract the schema of <code>rows</code> to help me make allrows2add a dataframe or somehow save as a hive table?\nI can do \n<code>rows.printSchema()</code> but not sure how to get it into a schema format as a variable to pass <code>toDF()</code> without having to parse all of that text</p>\n\n<p>Thanks</p>\n\n<p>Adding for loop info</p>\n\n<pre><code>#Table is a List of Rows from small Hive table I loaded using\n#query = \"SELECT * FROM Table\"\n#Table = sqlContext.sql(query).collect()\n\nfor i in range(len(Table)):\n\n    rows = sqlContext.sql(qry)\n    val1 = Table[i][0]\n    val2 = Table[i][1]\n    count = Table[i][2]\n    x = 100 - count\n\n#hivetemp is a table that I copied from Hive to my hfs using:\n#create external table IF NOT EXISTS hive temp LIKE hivetableIwant2copy LOCATION \"/user/name/hiveBackup\";\n#INSERT OVERWRITE TABLE hivetemp SELECT * FROM hivetableIwant2copy;\n\n    query = \"SELECT * FROM hivetemp WHERE col1&lt;&gt;\\\"\"+val1+\"\\\" AND col2 ==\\\"\"+val2+\"\\\" ORDER BY RAND() LIMIT \"+str(x)\n\n    rows = sqlContext.sql(query)\n    rows = rows.withColumn(\"col4\", lit(10))\n    rows = rows.withColumn(\"col5\", lit(some_string))\n#writing to parquet is heck slow AND I can't work with pandas due to the library not installed on the server\n    rows.saveAsParquetFile(\"rows\"+str(i)+\".parquet\")\n#tried this before and heck slow also\n    #rows_list = rows.collect()\n    #shuffle(rows_list)\n</code></pre>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "is_accepted": false, "score": 2, "last_activity_date": 1461799731, "creation_date": 1461799731, "answer_id": 36902656, "question_id": 36902641, "link": "https://stackoverflow.com/questions/36902641/beutifulsoup-python-error-when-i-am-importing-the-package/36902656#36902656", "title": "beutifulsoup python error when i am importing the package", "body": "<p>It should be:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n</code></pre>\n\n<p>See the <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow\">documentation</a>.</p>\n"}], "owner": {"reputation": 4592, "user_id": 2543622, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9c20a1658db39998c589a874842c8e03?s=128&d=identicon&r=PG", "display_name": "user2543622", "link": "https://stackoverflow.com/users/2543622/user2543622"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1461805747, "answer_count": 1, "score": -1, "last_activity_date": 1461799731, "creation_date": 1461799601, "question_id": 36902641, "link": "https://stackoverflow.com/questions/36902641/beutifulsoup-python-error-when-i-am-importing-the-package", "closed_reason": "Duplicate", "title": "beutifulsoup python error when i am importing the package", "body": "<p>I get below error when i try to import beautifulsoup. I am using enthough canopy and the package manager shows me that beautifulsoup4 4.4.1-3 is installed. What is going on and how could i fix it?</p>\n\n<pre><code>----&gt; 6 from BeautifulSoup import BeautifulSoup\n      7 \n      8 #This is the url that will be queried. You can change this to something else\n\nImportError: No module named BeautifulSoup\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "tkinter"], "comments": [{"owner": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461801059, "post_id": 36902602, "comment_id": 61369681, "body": "My intention is : a. Say I am reading variables from a list, and if that element is any new color I will put it in a different list along with two other elements. Eg: [[[red], [car], [flight]]] b. Say if the next color is new, then I wanted to add is in a new sub list like: Eg: [[[red], [car], [flight]] , [[green], [cycle], [truck]]] c. Say if the next color is the same color, I wanted to append to the same sub-list like, instead of creating a new sub-list Eg: [[[red], [car], [flight], [Jeans]] , [[green], [cycle], [truck]]] So only I wanted to iterate all sub-list."}, {"owner": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461801149, "post_id": 36902602, "comment_id": 61369712, "body": "And also the sub-list can keep increasing depending on the new colors.. So each and everytime I wanted to check if the color is already existing in the multi-dimensional list or not before adding new details into the list"}], "answers": [{"comments": [{"owner": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461810586, "post_id": 36902651, "comment_id": 61372121, "body": "Thanks for your response Malbarbo ! I tried using the function example which you posted, its giving the below error !  TypeError: isinstance() arg 2 must be a class, type, or tuple of classes and types  Any clue or suggestions why its giving that error ? I just called the function as, in_nested_list(x, &#39;hello&#39;)"}, {"owner": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461813017, "post_id": 36902651, "comment_id": 61372788, "body": "Understood the issue that, its because my list also has the same keyword &quot;list&quot;... But still its not working.. What should be the input to the function ??"}, {"owner": {"reputation": 9123, "user_id": 5189607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b485f6efee3ce1b78dea5fe45c96f6?s=128&d=identicon&r=PG", "display_name": "malbarbo", "link": "https://stackoverflow.com/users/5189607/malbarbo"}, "reply_to_user": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461835783, "post_id": 36902651, "comment_id": 61383652, "body": "To make the usage clean I change the parameters name and add complete the example."}, {"owner": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461854212, "post_id": 36902651, "comment_id": 61397698, "body": "Thanks a lot for the example.. Appreciate your timely help !!"}, {"owner": {"reputation": 9123, "user_id": 5189607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b485f6efee3ce1b78dea5fe45c96f6?s=128&d=identicon&r=PG", "display_name": "malbarbo", "link": "https://stackoverflow.com/users/5189607/malbarbo"}, "reply_to_user": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461854485, "post_id": 36902651, "comment_id": 61397948, "body": "Your are welcome. Please, consider accepting the answer."}, {"owner": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461865631, "post_id": 36902651, "comment_id": 61405432, "body": "Hello Malbarbo.. Just a quick query, can I tweak the function to also say in which particular sub-list the element exists ? so that based on that info I can extend or append further data&#39;s onto the particular sub-list.  Do I need to add any local variable inside the function to store the sub-list info apart from function returning either TRUE or FALSE ?"}, {"owner": {"reputation": 9123, "user_id": 5189607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b485f6efee3ce1b78dea5fe45c96f6?s=128&d=identicon&r=PG", "display_name": "malbarbo", "link": "https://stackoverflow.com/users/5189607/malbarbo"}, "reply_to_user": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461867706, "post_id": 36902651, "comment_id": 61406637, "body": "Reading your question comment, maybe you need another approach. See an idea here <a href=\"http://pastebin.com/P2L6Thz8\" rel=\"nofollow noreferrer\">pastebin.com/P2L6Thz8</a> . May you should open a new question and formulate what exactly (with expected result) you want to do."}, {"owner": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "edited": false, "score": 0, "creation_date": 1461870141, "post_id": 36902651, "comment_id": 61408079, "body": "Hello Malbarbo.. I have captured the idea of the function in the below link,  <a href=\"http://stackoverflow.com/questions/36923346/searching-for-an-element-inside-a-multi-dimensional-list-and-to-return-the-sub-l\" title=\"searching for an element inside a multi dimensional list and to return the sub l\">stackoverflow.com/questions/36923346/&hellip;</a>  If you have any suggestions, kindly provide your feedback !"}], "tags": [], "owner": {"reputation": 9123, "user_id": 5189607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b485f6efee3ce1b78dea5fe45c96f6?s=128&d=identicon&r=PG", "display_name": "malbarbo", "link": "https://stackoverflow.com/users/5189607/malbarbo"}, "is_accepted": true, "score": 1, "last_activity_date": 1461835725, "last_edit_date": 1461835725, "creation_date": 1461799671, "answer_id": 36902651, "question_id": 36902602, "link": "https://stackoverflow.com/questions/36902602/search-of-element-inside-a-multi-dimensional-list-not-working-any-clue/36902651#36902651", "title": "Search of Element inside a multi-dimensional List Not Working. Any Clue", "body": "<p>If <code>list1</code> should be a list of lists, then the problem is that you are appending a list to <code>list1</code>, in this case, use <code>extend</code> instead.</p>\n\n<p>If you want to search a item in a nested list (any number of levels), you can use this function</p>\n\n<pre><code>def in_nested_list(item, x):\n    if not isinstance(x, list):\n        return x == item\n    else:\n        return any(in_nested_list(item, ix) for ix in x)\n\nlist1 = []\nlist1.append([['hello'], ['blue'], ['bla']])\n\nprint list1\n\nlist1.append([['hello'], ['blue'], ['bla']])\nprint list1\n\n#if 'hello' in list1:\nif in_nested_list('hello', list1):\n    print \"Found Hello\"\nelse:\n    print \"Not Found Hello\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": false, "score": 0, "last_activity_date": 1461802317, "last_edit_date": 1461802317, "creation_date": 1461799677, "answer_id": 36902653, "question_id": 36902602, "link": "https://stackoverflow.com/questions/36902602/search-of-element-inside-a-multi-dimensional-list-not-working-any-clue/36902653#36902653", "title": "Search of Element inside a multi-dimensional List Not Working. Any Clue", "body": "<p>You need to go one layer deeper, like:</p>\n\n<pre><code>for l in list1:\n    for item in l:\n        if 'hello' in item:\n            #do something\n</code></pre>\n\n<p>Or use <code>list.extend()</code></p>\n"}, {"tags": [], "owner": {"reputation": 2545, "user_id": 2962364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f0160627ff4551f2af40e93e17dfa1?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/2962364/roberto"}, "is_accepted": false, "score": 0, "last_activity_date": 1461799849, "creation_date": 1461799849, "answer_id": 36902671, "question_id": 36902602, "link": "https://stackoverflow.com/questions/36902602/search-of-element-inside-a-multi-dimensional-list-not-working-any-clue/36902671#36902671", "title": "Search of Element inside a multi-dimensional List Not Working. Any Clue", "body": "<p>If you want to find 'hello' you'll have to search down one further level:  </p>\n\n<pre><code>if any('hello' in x for middle_list in list1 for x in middle_list):\n    print \"Found Hello\"\n</code></pre>\n"}], "owner": {"reputation": 741, "user_id": 6032140, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ad27f3e00a5dcfb9e63ed02f440c7fc6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimo", "link": "https://stackoverflow.com/users/6032140/vimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 36902651, "answer_count": 3, "score": 0, "last_activity_date": 1461835725, "creation_date": 1461799369, "last_edit_date": 1461800171, "question_id": 36902602, "link": "https://stackoverflow.com/questions/36902602/search-of-element-inside-a-multi-dimensional-list-not-working-any-clue", "title": "Search of Element inside a multi-dimensional List Not Working. Any Clue", "body": "<p>I am trying to search for an element inside a multi-dimensional list, but its not working. Anything wrong in my search ?? Below is the simple code and I tried searching using 'in' and 'any' but didnt work..</p>\n\n<pre><code>list1 = []\nlist1.append([['hello'], ['blue'], ['bla']])\n\nprint list1\n\nlist1.append([['hello'], ['blue'], ['bla']])\nprint list1\n\n#if 'hello' in list1:\nif any('hello' in x for x in list1):\n    print \"Found Hello\"\nelse:\n    print \"Not Found Hello\"\n</code></pre>\n\n<p>Any guess whats the error I am doing ?? Kindly share in your inputs/comments.</p>\n\n<p>Thanks In Adv !\nVimo</p>\n"}, {"tags": ["python", "html", "selenium"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1461805793, "post_id": 36902597, "comment_id": 61370862, "body": "Please post the HTML representation of the table including the button. Thanks."}, {"owner": {"reputation": 1, "user_id": 6263983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21efdc4ab6816433f0a3411bad87d469?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Mehta", "link": "https://stackoverflow.com/users/6263983/harsh-mehta"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1461808917, "post_id": 36902597, "comment_id": 61371692, "body": "&lt;input name=&quot;xxxx&quot; id=&quot;yyyyy&quot; title=&quot;Export (CSV)&quot; class=&quot;toolbar_button_csv toolbar_button_csv_mousedown toolbar_button_csv_mouseup&quot; usesubmitbehavior=&quot;false&quot; onmousedown=&quot;$(this).addClass(&#39;toolbar_button_csv_mousedown&#39;&zwnj;&#8203;);  return true;&quot; onmouseup=&quot;$(this).addClass(&#39;toolbar_button_csv_mouseup&#39;);  return true;&quot; src=&quot;/CqUtpSms/Handlers/Master/Expires.ashx?version=1.16.1.1&zwnj;&#8203;030&amp;amp;url=%2fCqUtp&zwnj;&#8203;Sms%2fThemes%2fIntel&zwnj;&#8203;%2fImages%2fLayout%2&zwnj;&#8203;ftrans.gif&quot; onclick=&quot;Sys.WebForms.PageRequestManager.getInstance().add_p&zwnj;&#8203;ageLoaded(xx);&quot; style=&quot;height:16px;width:16px;border-width:0px;margin-right:&zwnj;&#8203;5px;&quot; type=&quot;image&quot;&gt;"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1461808952, "post_id": 36902597, "comment_id": 61371701, "body": "Please edit your question and post it there instead of using comments. Thanks."}, {"owner": {"reputation": 1, "user_id": 6263983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21efdc4ab6816433f0a3411bad87d469?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Mehta", "link": "https://stackoverflow.com/users/6263983/harsh-mehta"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1461866991, "post_id": 36902597, "comment_id": 61406272, "body": "added to the query thanks...."}], "owner": {"reputation": 1, "user_id": 6263983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21efdc4ab6816433f0a3411bad87d469?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Mehta", "link": "https://stackoverflow.com/users/6263983/harsh-mehta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1461866827, "creation_date": 1461799334, "last_edit_date": 1461866827, "question_id": 36902597, "link": "https://stackoverflow.com/questions/36902597/how-to-find-button-element-within-table-column-using-selenium-webdriver", "title": "How to find button element within table column using selenium webdriver", "body": "<p>I am writing a script for clicking a button on a webpage which will eventually download a file. However the button object is located within the column element of a table.\nUsing python with selenium bindings for the same.</p>\n\n<p>Here is the script in python:</p>\n\n<pre><code>element_found = browser_open.find_elements_by_xpath(\"//form[@name='xxxx']/div[@id='xxxx']/div[@id='xxxx']/div[@id='xxxxx']/div[@id='xxxxx']/table/tbody/tr[1]/td[2]/table/tbody/tr[1]/td[9]/\")\n</code></pre>\n\n<p>The problem is I am not able to access the button element within this column and when i print the element: </p>\n\n<pre><code>for element in element_found:\n    print (element.get_attribute('id'))\n</code></pre>\n\n<p>It is always printing null. </p>\n\n<p>This is the HTML script for the button I am trying to download: </p>\n\n<pre><code>    &lt;input name=\"xxxx\" id=\"yyyyy\" title=\"Export (CSV)\"     class=\"toolbar_button_csv toolbar_button_csv_mousedown toolbar_button_csv_mouseup\" usesubmitbehavior=\"false\" onmousedown=\"$(this).addClass('toolbar_button_csv_mousedown'); return true;\" onmouseup=\"$(this).addClass('toolbar_button_csv_mouseup'); return true;\" src=\"/CqUtpSms/Handlers/Master/Expires.ashx?version=1.16.1.1030&amp;amp;url=%xx.gif\" onclick=\"Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(xx);\" style=\"height:16px;width:16px;border-width:0px;margin-right:5px;\" type=\"image\"&gt;\n</code></pre>\n\n<p>Could some one please help me to understand how to click on the button which is embedded in the column position of a table within a web page? </p>\n\n<p>Is there a way where I can download the button without knowing the element? </p>\n\n<p>Appreciate for the help. </p>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "edited": false, "score": 0, "creation_date": 1461799660, "post_id": 36902576, "comment_id": 61369294, "body": "Have you looked into what NumericProperty actually does? It&#39;s possible you can make the sum property as normal and also do <code>sum = NumericProperty</code>"}, {"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1461838322, "post_id": 36902576, "comment_id": 61385408, "body": "If you don&#39;t want sum to evaluate until you access it, using a normal python property is fine. You can use a NumericProperty with a kv rule <code>sum: self.a + self.b</code> if you want it to be reevaluated every time self.a or self.b changes, and/or if you want to bind to <code>sum</code> with Kivy&#39;s event system."}], "answers": [{"comments": [{"owner": {"reputation": 11251, "user_id": 3284878, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d324c610856d2626e9b719eb4135b3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Aviv Cohn", "link": "https://stackoverflow.com/users/3284878/aviv-cohn"}, "edited": false, "score": 0, "creation_date": 1461847109, "post_id": 36909443, "comment_id": 61391843, "body": "AliasProperty looks good. I can&#39;t fjgure out what the <code>bind</code> parameter is for. Why is it necessary after setting the setter and the getter?"}, {"owner": {"reputation": 4143, "user_id": 2035825, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a07de5a89d18964a22775deae84d9ba6?s=128&d=identicon&r=PG", "display_name": "jligeza", "link": "https://stackoverflow.com/users/2035825/jligeza"}, "reply_to_user": {"reputation": 11251, "user_id": 3284878, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d324c610856d2626e9b719eb4135b3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Aviv Cohn", "link": "https://stackoverflow.com/users/3284878/aviv-cohn"}, "edited": false, "score": 0, "creation_date": 1461851636, "post_id": 36909443, "comment_id": 61395604, "body": "@AvivCohn It binds the setters of properties <code>a</code> and <code>b</code>. Whenever these single properties change, it will affect the sum, executing <code>on_sum</code> method. There is a link to docs in my answer."}], "tags": [], "owner": {"reputation": 4143, "user_id": 2035825, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a07de5a89d18964a22775deae84d9ba6?s=128&d=identicon&r=PG", "display_name": "jligeza", "link": "https://stackoverflow.com/users/2035825/jligeza"}, "is_accepted": false, "score": 1, "last_activity_date": 1461832692, "creation_date": 1461832692, "answer_id": 36909443, "question_id": 36902576, "link": "https://stackoverflow.com/questions/36902576/how-can-i-create-lazy-properties-in-kivy/36909443#36909443", "title": "How can I create lazy properties in Kivy?", "body": "<p>In general, properties are here to help you display contents of class fields on widgets. You can use them, or not.</p>\n\n<p>You can use the <code>@property</code>, and create <code>update_sum(..)</code> method in some widget to rewrite a new sum to a label, on a button press.</p>\n\n<p>Or you can do this automatically by creating an <a href=\"https://kivy.org/docs/api-kivy.properties.html#kivy.properties.AliasProperty\" rel=\"nofollow\">alias property</a>, updating the label each time the sum changes, so you don't have to click any buttons to update it.</p>\n\n<p><em>main.py</em>:</p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nfrom kivy.app import App\nfrom kivy.uix.boxlayout import BoxLayout\nfrom kivy.properties import NumericProperty, AliasProperty\n\n\nclass RootBox(BoxLayout):\n\n    a = NumericProperty()\n    b = NumericProperty()\n\n    def get_sum(self):\n        return float(self.a + self.b)\n\n    def set_sum(self, value):\n        self.sum = value\n\n    sum = AliasProperty(get_sum, set_sum, bind=['a', 'b'])\n\n    def on_sum(self, obj, value):\n        self.ids.sum_label.text = str(value)\n\n\nclass Test(App):\n    pass\n\n\nTest().run()\n</code></pre>\n\n<p><em>test.kv</em>:</p>\n\n<pre><code>RootBox:\n    orientation: 'vertical'\n\n    Label:\n        id: sum_label\n\n    BoxLayout:\n        orientation: 'vertical'\n\n        TextInput:\n            on_text: root.a = float(self.text) if self.text else 0\n        TextInput:\n            on_text: root.b = float(self.text) if self.text else 0\n</code></pre>\n"}], "owner": {"reputation": 11251, "user_id": 3284878, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d324c610856d2626e9b719eb4135b3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Aviv Cohn", "link": "https://stackoverflow.com/users/3284878/aviv-cohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1461832692, "creation_date": 1461799161, "question_id": 36902576, "link": "https://stackoverflow.com/questions/36902576/how-can-i-create-lazy-properties-in-kivy", "title": "How can I create lazy properties in Kivy?", "body": "<p>Suppose I have a class with three fields, <code>a</code>, <code>b</code> and <code>sum</code>. The third one should always equal to the sum of <code>a</code> and <code>b</code>.</p>\n\n<p>In pure Python, this would have been implemented simply as:</p>\n\n<pre><code>class MyClass(object):\n    def __init__(self, a, b):\n        self.a = a\n        self.b = b\n\n    @property\n    def sum(self):\n        return self.a + self.b\n</code></pre>\n\n<p>However in Kivy, we are encouraged to use the Property descriptors of the framework. Before including <code>sum</code>, the class would be:</p>\n\n<pre><code>class MyClass(Widget):\n    a = NumericProperty()\n    b = NumericProperty()\n\n    def __init__(self, a, b, **kwargs):\n        super(MyClass, self).__init__(**kwargs)\n        self.a = a\n        self.b = b\n</code></pre>\n\n<p>However, how should I implement the <code>sum</code> property? I can use a good ol' <code>@property</code>. But shouldn't I instead use some sort of Kivy <code>Property</code> object?</p>\n\n<p>What would be the best practice in Kivy to achieve this?</p>\n"}, {"tags": ["python", "csv", "pdf", "pdfminer"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1461798988, "post_id": 36902496, "comment_id": 61369099, "body": "1. Input is on the command line: <code>pdfparser(sys.argv[1])</code>. 2. This code does not print to a file, it merely <i>prints</i>: <code>print data</code>. I guess you want something like <code>python yourScriptName.py input.pdf &gt; output.csv</code>. But <i>first</i> you will want to correct some indentation errors, or make sure you copied the source correctly."}], "answers": [{"tags": [], "owner": {"reputation": 1587, "user_id": 3193371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aedba2abefdac4c5608c3a325f252dcd?s=128&d=identicon&r=PG&f=1", "display_name": "tarikki", "link": "https://stackoverflow.com/users/3193371/tarikki"}, "is_accepted": false, "score": 8, "last_activity_date": 1461936468, "last_edit_date": 1495541411, "creation_date": 1461925511, "answer_id": 36935858, "question_id": 36902496, "link": "https://stackoverflow.com/questions/36902496/python-pdfminer-pdf-to-csv/36935858#36935858", "title": "Python PDFMIner - PDF to CSV", "body": "<p>Here is some modified code from <a href=\"https://stackoverflow.com/a/1257121/3193371\">this</a> SO answer written by <a href=\"https://stackoverflow.com/users/64206/tgray\">tgray</a>:</p>\n\n<pre><code>def pdf_to_csv(filename, separator, threshold):\n    from cStringIO import StringIO\n    from pdfminer.converter import LTChar, TextConverter\n    from pdfminer.layout import LAParams\n    from pdfminer.pdfinterp import PDFResourceManager, PDFPageInterpreter\n    from pdfminer.pdfpage import PDFPage\n\n    class CsvConverter(TextConverter):\n        def __init__(self, *args, **kwargs):\n            TextConverter.__init__(self, *args, **kwargs)\n            self.separator = separator\n            self.threshold = threshold\n\n        def end_page(self, i):\n            from collections import defaultdict\n            lines = defaultdict(lambda: {})\n            for child in self.cur_item._objs:  # &lt;-- changed\n                if isinstance(child, LTChar):\n                    (_, _, x, y) = child.bbox\n                    line = lines[int(-y)]\n                    line[x] = child._text.encode(self.codec)  # &lt;-- changed\n            for y in sorted(lines.keys()):\n                line = lines[y]\n                self.line_creator(line)\n                self.outfp.write(self.line_creator(line))\n                self.outfp.write(\"\\n\")\n\n        def line_creator(self, line):\n            keys = sorted(line.keys())\n            # calculate the average distange between each character on this row\n            average_distance = sum([keys[i] - keys[i - 1] for i in range(1, len(keys))]) / len(keys)\n            # append the first character to the result\n            result = [line[keys[0]]]\n            for i in range(1, len(keys)):\n                # if the distance between this character and the last character is greater than the average*threshold\n                if (keys[i] - keys[i - 1]) &gt; average_distance * self.threshold:\n                    # append the separator into that position\n                    result.append(self.separator)\n                # append the character\n                result.append(line[keys[i]])\n            printable_line = ''.join(result)\n            return printable_line\n\n    # ... the following part of the code is a remix of the\n    # convert() function in the pdfminer/tools/pdf2text module\n    rsrc = PDFResourceManager()\n    outfp = StringIO()\n    device = CsvConverter(rsrc, outfp, codec=\"utf-8\", laparams=LAParams())\n    # becuase my test documents are utf-8 (note: utf-8 is the default codec)\n\n    fp = open(filename, 'rb')\n\n    interpreter = PDFPageInterpreter(rsrc, device)\n    for i, page in enumerate(PDFPage.get_pages(fp)):\n        outfp.write(\"START PAGE %d\\n\" % i)\n        if page is not None:\n            print 'none'\n            interpreter.process_page(page)\n        outfp.write(\"END PAGE %d\\n\" % i)\n\n    device.close()\n    fp.close()\n\n    return outfp.getvalue()\n\n\nif __name__ == '__main__':\n    # the separator to use with the CSV\n    separator = ';'\n    # the distance multiplier after which a character is considered part of a new word/column/block. Usually 1.5 works quite well\n    threshold = 1.5\n    print pdf_to_csv('myLovelyFile.pdf', separator, threshold)\n</code></pre>\n\n<p>The main difference between the answer in the link and this one is the line_creator method, which tries to extract some structure out of the PDF.</p>\n\n<p>Should work with PDFminer 20140328.</p>\n"}], "owner": {"reputation": 51, "user_id": 6263924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe0728104b3266da5aeaee8b0a78d79f?s=128&d=identicon&r=PG&f=1", "display_name": "HB123", "link": "https://stackoverflow.com/users/6263924/hb123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15158, "favorite_count": 9, "answer_count": 1, "score": 5, "last_activity_date": 1521009305, "creation_date": 1461798604, "question_id": 36902496, "link": "https://stackoverflow.com/questions/36902496/python-pdfminer-pdf-to-csv", "title": "Python PDFMIner - PDF to CSV", "body": "<p>I want to be able to convert PDFs to CSV files and have found several useful scripts but, being new to Python, I have a question:</p>\n\n<p>Where do you specify the filepath of the PDF and the CSV you want to print to?</p>\n\n<p>I'm using Python 2.7.11 and PDFMiner 20140328.</p>\n\n<pre><code>import sys\nfrom pdfminer.pdfinterp import PDFResourceManager, PDFPageInterpreter\nfrom pdfminer.pdfpage import PDFPage\nfrom pdfminer.converter import XMLConverter, HTMLConverter, TextConverter\nfrom pdfminer.layout import LAParams\nfrom cStringIO import StringIO\n\ndef pdfparser(data):\n\n    fp = file(data, 'rb')\n    rsrcmgr = PDFResourceManager()\n    retstr = StringIO()\n    codec = 'utf-8'\n    laparams = LAParams()\n    device = TextConverter(rsrcmgr, retstr, codec=codec, laparams=laparams)\n    interpreter = PDFPageInterpreter(rsrcmgr, device)\n\n\n    for page in PDFPage.get_pages(fp):\n    interpreter.process_page(page)\n    data =  retstr.getvalue()\n\n    print data\n\nif __name__ == '__main__':\npdfparser(sys.argv[1]) \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8998, "user_id": 3314143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RpemN.png?s=128&g=1", "display_name": "daniel451", "link": "https://stackoverflow.com/users/3314143/daniel451"}, "edited": false, "score": 1, "creation_date": 1461798507, "post_id": 36902455, "comment_id": 61368973, "body": "What type of pattern(s) do you want to have? What is your expected result?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1461798650, "post_id": 36902455, "comment_id": 61369008, "body": "<code>re.findall(&#39;spa.ami3en.com: (.*)&#39;, &#39;spa.ami3en.com: ami3en&#39;)</code> matches fine for me. I mean, the expression probably isn&#39;t what you had in mind what with <code>.</code> there, but it does happen to find matches. Can you provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>?"}, {"owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 1, "creation_date": 1461799035, "post_id": 36902455, "comment_id": 61369116, "body": "Print out account, are you sure it&#39;s in the lines?"}, {"owner": {"reputation": 96, "user_id": 1689811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eedc22fb035953cc27974c20b1b08d?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/1689811/amir"}, "edited": false, "score": 0, "creation_date": 1461799176, "post_id": 36902455, "comment_id": 61369154, "body": "Im trying to extract what ever comes(usernames) after the colon , where beginning matches the list i have as accounts variable"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1461799299, "post_id": 36902455, "comment_id": 61369183, "body": "be aware that <code>re.findall(pattern, ...)</code> is not searching for the pattern you had in mind. <code>&quot;spa.ami3en.com&quot;</code> counts those dots (<code>.</code>) as &quot;any character,&quot; not literal dots. You can use <code>re.escape</code> to escape out literal strings for use in regex. <code>pattern = &quot;{}: (.*)&quot;.format(re.escape(account))</code> (that said, &quot;any character&quot; should also match the literal dot so that&#39;s not the issue at hand here)"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1461799836, "post_id": 36902455, "comment_id": 61369346, "body": "Your code with the data provided works for me in Python version 2.7.5"}], "owner": {"reputation": 96, "user_id": 1689811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72eedc22fb035953cc27974c20b1b08d?s=128&d=identicon&r=PG", "display_name": "Amir", "link": "https://stackoverflow.com/users/1689811/amir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461801562, "creation_date": 1461798343, "question_id": 36902455, "link": "https://stackoverflow.com/questions/36902455/python-regex-understanding", "title": "Python regex understanding", "body": "<p>Well i just started learning pyhton coming from c and php\nIm having hard time using simple regex match</p>\n\n<p>I have files which is read into string then im trying to match a needle in this string which never works though</p>\n\n<pre><code>accounts=list(set(accounts))\n\ncpanelAccountList = open(\"/etc/userdomains\", \"r\")\n\nlines = cpanelAccountList.read()\n\nfor account in accounts:\n    pattern='%s: (.*)'%account\n    print re.findall(pattern,lines)\n</code></pre>\n\n<p>This always return none i tried several online regex builder which the pattern seems to work there but i can not get it work \npart of text of file which i read into lines  variable</p>\n\n<blockquote>\n<pre><code>sawpalmetto-asia.com: sawpalme\ngbbco.ir: gbbco\ngolshanirad.7pd.ir: pdir\nbibi-co.com: bibico\nvenushandle.ir: handle\nspa.ami3en.com: ami3en\npishtazansanaat.ir: pishtaz\ntablojahan.com: jahan1\n</code></pre>\n</blockquote>\n\n<p>And accounts list variable  sample </p>\n\n<blockquote>\n  <p>['spa.ami3en.com','gbbco.ir']</p>\n</blockquote>\n"}, {"tags": ["python", "pandas", "scikit-learn", "anaconda", "jupyter"], "comments": [{"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461798050, "post_id": 36902382, "comment_id": 61368856, "body": "Things can grow large inside sklearn. What does <code>htop</code> show when the fitting is actually running?"}, {"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461798275, "post_id": 36902382, "comment_id": 61368919, "body": "can you put in a full stack trace?"}, {"owner": {"reputation": 31, "user_id": 4784245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a3b47ee1af54cdabece592cffd3688?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4784245/david"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461798368, "post_id": 36902382, "comment_id": 61368942, "body": "It doesn&#39;t show the Python process at all. When I called the billion list, it started eating up the CPU and gradually using more memory. But these operations don&#39;t even make a blip, and they hit the error as soon as I run them."}, {"owner": {"reputation": 31, "user_id": 4784245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a3b47ee1af54cdabece592cffd3688?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4784245/david"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461854839, "post_id": 36902382, "comment_id": 61398234, "body": "@reptilicus just added."}, {"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461860533, "post_id": 36902382, "comment_id": 61402230, "body": "Not sure, I&#39;m guessing that somewhere in there, there is a huge array trying to get instantiated. Try to use a smaller batch size and see what happens."}, {"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461860536, "post_id": 36902382, "comment_id": 61402232, "body": "<a href=\"http://scikit-learn.org/stable/modules/scaling_strategies.html\" rel=\"nofollow noreferrer\">scikit-learn.org/stable/modules/scaling_strategies.html</a>"}, {"owner": {"reputation": 31, "user_id": 4784245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a3b47ee1af54cdabece592cffd3688?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4784245/david"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461861428, "post_id": 36902382, "comment_id": 61402804, "body": "@reptilicus, just took slearn out of the script (didn&#39;t even import) and the column add still fails. Looks like a Pandas issue."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4784245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a3b47ee1af54cdabece592cffd3688?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4784245/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1461872109, "creation_date": 1461872109, "answer_id": 36923925, "question_id": 36902382, "link": "https://stackoverflow.com/questions/36902382/pandas-sklearn-gives-incorrect-memoryerror/36923925#36923925", "title": "Pandas/Sklearn gives incorrect Memoryerror", "body": "<p>Figured out the Pandas side of the issue. I had a DF and a Series with matching indexes, X and Y. I figured I could add Y as another column like this:</p>\n\n<pre><code>X.add(Y)\n</code></pre>\n\n<p>But doing this tries to match Y on the columns, not on the index, thus creating a 150Kx150K array. I needed to supply the axis:</p>\n\n<pre><code>X.add(Y, axis='index')\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4784245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a3b47ee1af54cdabece592cffd3688?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4784245/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 776, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461872109, "creation_date": 1461797889, "last_edit_date": 1461854819, "question_id": 36902382, "link": "https://stackoverflow.com/questions/36902382/pandas-sklearn-gives-incorrect-memoryerror", "title": "Pandas/Sklearn gives incorrect Memoryerror", "body": "<p>I'm working in Python2.7 (Anaconda 4.0) on a Jupyter notebook on a EC2 instance with plenty of memory (60GB, 48GB free according to <code>free</code>). I've loaded a Pandas (v0.18) dataframe that is large (150K rows, ~30KB per row), but is nowhere near the memory capacity of the instance, even if many many copies are made. Certain Pandas and Scikit-learn (v0.17) calls will trigger a MemoryError instantly, e.g.:</p>\n\n<pre><code>#X is a subset of the original df with 60 columns instead of the 3000\n#Y is a float column\nX.add(Y)\n\n#And for sklearn...\npca = decomposition.KernelPCA(n_components=5)\npca.fit(X,Y)\n</code></pre>\n\n<p>Meanwhile, these work fine:</p>\n\n<pre><code>Z = X.copy(deep=True)\npca = decomposition.PCA(n_components=5)\n</code></pre>\n\n<p>Most perplexingly, I can do this and it finishes in a few seconds:</p>\n\n<pre><code>huge = range(1000000000)\n</code></pre>\n\n<p>I've rebooted the notebook, the kernel, and the instance, but the same calls keep giving the <code>MemoryError</code>. I've also verified that I'm using 64-bit Python. Any suggestions?</p>\n\n<p>Update: adding the traceback errors:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;ipython-input-9-ae71777140e2&gt;\", line 2, in &lt;module&gt;\n    Z = X.add(Y)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/pandas/core/ops.py\", line 1057, in f\n    return self._combine_series(other, na_op, fill_value, axis, level)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/pandas/core/frame.py\", line 3500, in _combine_series\n    fill_value=fill_value)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/pandas/core/frame.py\", line 3528, in _combine_match_columns\n    copy=False)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/pandas/core/frame.py\", line 2730, in align\n    broadcast_axis=broadcast_axis)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/pandas/core/generic.py\", line 4152, in align\n    fill_axis=fill_axis)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/pandas/core/generic.py\", line 4234, in _align_series\n    fdata = fdata.reindex_indexer(join_index, lidx, axis=0)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/pandas/core/internals.py\", line 3528, in reindex_indexer\n    fill_tuple=(fill_value,))\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/pandas/core/internals.py\", line 3591, in _slice_take_blocks_ax0\n    fill_value=fill_value))\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/pandas/core/internals.py\", line 3621, in _make_na_block\n    block_values = np.empty(block_shape, dtype=dtype)\nMemoryError\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;ipython-input-13-d510bc16443e&gt;\", line 3, in &lt;module&gt;\n    pca.fit(X,Y)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/sklearn/decomposition/kernel_pca.py\", line 202, in fit\n    K = self._get_kernel(X)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/sklearn/decomposition/kernel_pca.py\", line 135, in _get_kernel\n    filter_params=True, **params)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/sklearn/metrics/pairwise.py\", line 1347, in pairwise_kernels\n    return _parallel_pairwise(X, Y, func, n_jobs, **kwds)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/sklearn/metrics/pairwise.py\", line 1054, in _parallel_pairwise\n    return func(X, Y, **kwds)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/sklearn/metrics/pairwise.py\", line 716, in linear_kernel\n    return safe_sparse_dot(X, Y.T, dense_output=True)\n  File \"/home/ec2-user/anaconda2/lib/python2.7/site-packages/sklearn/utils/extmath.py\", line 184, in safe_sparse_dot\n    return fast_dot(a, b)\nMemoryError\n</code></pre>\n"}, {"tags": ["python", "inkscape"], "comments": [{"owner": {"reputation": 2593, "user_id": 2344111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6341273c5c2cec8c209dd85ae50be838?s=128&d=identicon&r=PG", "display_name": "Tymoteusz Paul", "link": "https://stackoverflow.com/users/2344111/tymoteusz-paul"}, "edited": false, "score": 0, "creation_date": 1461798261, "post_id": 36902356, "comment_id": 61368915, "body": "You are providing command long enough that inkscape vomited an error. You may look through docs or just trial and error and figure out whats the longest it will take."}], "answers": [{"comments": [{"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1461805941, "post_id": 36902797, "comment_id": 61370896, "body": "Thanks.  Stay tuned for more questions."}], "tags": [], "owner": {"reputation": 9123, "user_id": 5189607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b485f6efee3ce1b78dea5fe45c96f6?s=128&d=identicon&r=PG", "display_name": "malbarbo", "link": "https://stackoverflow.com/users/5189607/malbarbo"}, "is_accepted": true, "score": 2, "last_activity_date": 1461800600, "creation_date": 1461800600, "answer_id": 36902797, "question_id": 36902356, "link": "https://stackoverflow.com/questions/36902356/how-to-communicate-with-interactive-subprocess/36902797#36902797", "title": "How to communicate with interactive subprocess", "body": "<p>The inkscape error is misleading. The problem is a missing <code>\\n</code>.</p>\n\n<pre><code>proc.communicate('--help\\n')\n</code></pre>\n"}], "owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 1, "accepted_answer_id": 36902797, "answer_count": 1, "score": 1, "last_activity_date": 1461800600, "creation_date": 1461797697, "question_id": 36902356, "link": "https://stackoverflow.com/questions/36902356/how-to-communicate-with-interactive-subprocess", "title": "How to communicate with interactive subprocess", "body": "<p>I have an SVG file with 56 objects that I want to export as individual PNG files.  I can do this with the subprocess module, but it involves executing Inkscape 56 times, and I'm looking for a better way.  Inkscape has a command line interface with a shell mode, and I have been able to export items using the shell, but when I try to do this with the subprocess module, whatever command I issue is too long:</p>\n\n<pre><code>import subprocess as sp\n\nproc =sp.Popen('inkscape -z --shell'.split(), stdin=sp.PIPE, stdout=sp.PIPE, stderr=sp.PIPE, universal_newlines=True)\nx=proc.communicate('--help')\nprint(x)\n\n(\"Inkscape 0.91 r13725 interactive shell mode. Type 'quit' to quit.\\n&gt;ERROR: Command line too long\\n\", '')\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "ubuntu", "amazon-web-services", "cron"], "answers": [{"comments": [{"owner": {"reputation": 1113, "user_id": 1610719, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5f2549e7546f746658de2adec39da8d7?s=128&d=identicon&r=PG", "display_name": "user1610719", "link": "https://stackoverflow.com/users/1610719/user1610719"}, "edited": false, "score": 0, "creation_date": 1461800324, "post_id": 36902648, "comment_id": 61369469, "body": "Awesome! Couldn&#39;t find anything for this. Had also tried some PATH= at the top, and that wasn&#39;t working. Thanks!"}], "tags": [], "owner": {"reputation": 1526, "user_id": 820290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a99d0fd15a8bf6f54344b59a29c5878?s=128&d=identicon&r=PG", "display_name": "Cwissy", "link": "https://stackoverflow.com/users/820290/cwissy"}, "is_accepted": true, "score": 2, "last_activity_date": 1461799653, "creation_date": 1461799653, "answer_id": 36902648, "question_id": 36902347, "link": "https://stackoverflow.com/questions/36902347/cron-on-ubuntu-aws-with-python-anaconda-virtual-environment/36902648#36902648", "title": "Cron on Ubuntu AWS with Python/Anaconda Virtual Environment", "body": "<p>default shell on ubuntu is /bin/dash so /bin/sh will be a symlink to that.  <code>source</code> is a bash builtin.  to run cron jobs as bash put <code>SHELL=/bin/bash</code> in the cron file</p>\n"}], "owner": {"reputation": 1113, "user_id": 1610719, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5f2549e7546f746658de2adec39da8d7?s=128&d=identicon&r=PG", "display_name": "user1610719", "link": "https://stackoverflow.com/users/1610719/user1610719"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 36902648, "answer_count": 1, "score": 0, "last_activity_date": 1461799653, "creation_date": 1461797660, "question_id": 36902347, "link": "https://stackoverflow.com/questions/36902347/cron-on-ubuntu-aws-with-python-anaconda-virtual-environment", "title": "Cron on Ubuntu AWS with Python/Anaconda Virtual Environment", "body": "<p>Previously was using Fedora, and I was calling cron jobs using this method, which worked perfectly:</p>\n\n<pre><code>source /home/me/miniconda/bin/activate me_dev; python /home/me/avant_bi/g_parse.py\n</code></pre>\n\n<p>Now this throw an error in the cron logs:</p>\n\n<pre><code>/bin/sh: 1: source: not found\n</code></pre>\n\n<p>I've tried switching <code>source</code> for a <code>.</code> to no avail, as I read something I didn't fully understand about Ubuntu cron not working with the source call.</p>\n\n<p>I've also tried</p>\n\n<pre><code>/home/me/miniconda/envs/me_dev/python /home/me/avant_bi/g_parse.py\n</code></pre>\n\n<p>Which is the location of the python I use when I activate the environment generally, but that seemingly is doing nothing (no logs of it running in cron).</p>\n\n<p>I've tried multiple variations of this to no avail. Any ideas for what to do in this situation?</p>\n"}, {"tags": ["python", "openssl", "pip"], "comments": [{"owner": {"reputation": 9841, "user_id": 490332, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4277666449f41474561f867f04f32b73?s=128&d=identicon&r=PG", "display_name": "Harpal", "link": "https://stackoverflow.com/users/490332/harpal"}, "edited": false, "score": 0, "creation_date": 1461798769, "post_id": 36902306, "comment_id": 61369034, "body": "Maybe helpful to you: <a href=\"http://stackoverflow.com/questions/20688034/importerror-cannot-import-name-httpshandler-using-pip\" title=\"importerror cannot import name httpshandler using pip\">stackoverflow.com/questions/20688034/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 7144599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MrgS9.jpg?s=128&g=1", "display_name": "Marthanda Anand", "link": "https://stackoverflow.com/users/7144599/marthanda-anand"}, "is_accepted": false, "score": 0, "last_activity_date": 1478848546, "last_edit_date": 1478848546, "creation_date": 1478844940, "answer_id": 40542182, "question_id": 36902306, "link": "https://stackoverflow.com/questions/36902306/importerror-cannot-import-name-httpshandler/40542182#40542182", "title": "ImportError: cannot import name HTTPSHandler", "body": "<p>I was using Centos and facing this issue.</p>\n\n<p>Best way to solve is:</p>\n\n<pre><code>yum install openssl openssl-devel -y \nyum install krb5-devel -y\n</code></pre>\n\n<p>try one of two options:</p>\n\n<pre><code>export LDFLAGS=-L/usr/local/opt/openssl/lib \nexport CPPFLAGS=-I/usr/local/opt/openssl/include\n\n  OR\n</code></pre>\n\n<p>recompile it</p>\n"}], "owner": {"reputation": 1465, "user_id": 4995771, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/X88FS.jpg?s=128&g=1", "display_name": "Masih", "link": "https://stackoverflow.com/users/4995771/masih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2833, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1478848546, "creation_date": 1461797430, "last_edit_date": 1495540412, "question_id": 36902306, "link": "https://stackoverflow.com/questions/36902306/importerror-cannot-import-name-httpshandler", "title": "ImportError: cannot import name HTTPSHandler", "body": "<p>Just installed pip, but I cannot import it. OS is RedHat enterprise and I also have the latest openssl (compiled from source) installed. </p>\n\n<pre><code>$ easy_install pip\nSearching for pip\nBest match: pip 8.1.1\nAdding pip 8.1.1 to easy-install.pth file\nInstalling pip script to XXX/local/bin\nInstalling pip3.5 script to XXX/local/bin\nInstalling pip3 script to XXX/local/bin\n\nUsing XXX/local/lib/python2.7/site-packages\nProcessing dependencies for pip\nFinished processing dependencies for pip\n$ python          \nPython 2.7 (r27:82500, Apr 27 2016, 15:32:43) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-16)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import pip\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"XXX/local/lib/python2.7/site-packages/pip/__init__.py\", line 16, in &lt;module&gt;\n    from pip.vcs import git, mercurial, subversion, bazaar  # noqa\n  File \"XXX/local/lib/python2.7/site-packages/pip/vcs/subversion.py\", line 9, in &lt;module&gt;\n    from pip.index import Link\n  File \"XXX/local/lib/python2.7/site-packages/pip/index.py\", line 30, in &lt;module&gt;\n    from pip.wheel import Wheel, wheel_ext\n  File \"XXX/local/lib/python2.7/site-packages/pip/wheel.py\", line 39, in &lt;module&gt;\n    from pip._vendor.distlib.scripts import ScriptMaker\n  File \"XXX/local/lib/python2.7/site-packages/pip/_vendor/distlib/scripts.py\", line 14, in &lt;module&gt;\n    from .compat import sysconfig, detect_encoding, ZipFile\n  File \"XXX/local/lib/python2.7/site-packages/pip/_vendor/distlib/compat.py\", line 31, in &lt;module&gt;\n    from urllib2 import (Request, urlopen, URLError, HTTPError,\nImportError: cannot import name HTTPSHandler\n</code></pre>\n\n<p>I know I have to configure my openssl in a way that it works with python (according to <a href=\"https://stackoverflow.com/questions/20688034/importerror-cannot-import-name-httpshandler-using-pip\">this</a>). This is how I configured openssl before I compile it:</p>\n\n<pre><code># openssl-1.0.2g \n./config --prefix=XXX/local \\\n        --openssldir=XXX/local/etc/ssl \\\n        --libdir=lib \\\n        shared \\\n        zlib-dynamic \\\n        -LXXX/local/lib \\\n        -IXXX/local/include \n</code></pre>\n\n<p>Python version is 2.7</p>\n"}, {"tags": ["python", "mongodb", "pandas", "pymongo"], "answers": [{"tags": [], "owner": {"reputation": 2044, "user_id": 2826011, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2515684b6d96b50558ab2d76f392c50c?s=128&d=identicon&r=PG&f=1", "display_name": "Thanos", "link": "https://stackoverflow.com/users/2826011/thanos"}, "is_accepted": true, "score": 3, "last_activity_date": 1461832879, "creation_date": 1461832879, "answer_id": 36909509, "question_id": 36902291, "link": "https://stackoverflow.com/questions/36902291/insert-pandas-timestamp-into-mongodb/36909509#36909509", "title": "Insert Pandas Timestamp into Mongodb", "body": "<p>A solution would be that you turn index to <code>str</code> before attempting to store away in MongoDB, like this:</p>\n\n<pre><code>&gt;&gt; df.index = df.index.astype(str)\n&gt;&gt; db.testCollection.insert(df.T.to_dict())\n</code></pre>\n\n<p>When reading the data out of db again later you can turn index to timestamp:</p>\n\n<pre><code>&gt;&gt; df.index = pd.to_datetime(df.index)\n</code></pre>\n\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 51505, "user_id": 741099, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a7101fe3ba50e621e91ee1edf9d27bb?s=128&d=identicon&r=PG", "display_name": "Nyxynyx", "link": "https://stackoverflow.com/users/741099/nyxynyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1205, "favorite_count": 0, "accepted_answer_id": 36909509, "answer_count": 1, "score": 1, "last_activity_date": 1461832879, "creation_date": 1461797345, "question_id": 36902291, "link": "https://stackoverflow.com/questions/36902291/insert-pandas-timestamp-into-mongodb", "title": "Insert Pandas Timestamp into Mongodb", "body": "<p>I'm trying to insert a Pandas DataFrame into Mongodb using PyMongo. </p>\n\n<pre><code>df.head()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zGFj5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGFj5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Because the index if the Pandas DataFrame is a <code>DatetimeIndex</code>, converting the DataFrame to a <code>dict</code> and inserting it to Mongodb:</p>\n\n<pre><code>db.testCollection.insert( df.T.to_dict() )\n</code></pre>\n\n<p>gives rise to an error:</p>\n\n<pre><code>InvalidDocument: documents must have only string keys, key was Timestamp('2016-04-07 09:30:00')\n</code></pre>\n\n<p>How can we convert the <code>DatetimeIndex</code> to something else that can be inserted into Mongodb, and later still be able to be converted back to a DatetimeIndex when reading from Mongodb?</p>\n"}, {"tags": ["python", "sql"], "answers": [{"tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": false, "score": 0, "last_activity_date": 1461797220, "creation_date": 1461797220, "answer_id": 36902275, "question_id": 36902242, "link": "https://stackoverflow.com/questions/36902242/error-with-python-cursor/36902275#36902275", "title": "Error with Python Cursor", "body": "<p>With try, except see the python docs: <a href=\"https://docs.python.org/2/tutorial/errors.html\" rel=\"nofollow\">https://docs.python.org/2/tutorial/errors.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "is_accepted": false, "score": 0, "last_activity_date": 1461797670, "last_edit_date": 1461797670, "creation_date": 1461797321, "answer_id": 36902289, "question_id": 36902242, "link": "https://stackoverflow.com/questions/36902242/error-with-python-cursor/36902289#36902289", "title": "Error with Python Cursor", "body": "<p>You should NOT be using string formatting for sql queries.  Let that get handled at a layer more apt:</p>\n\n<p>Instead of:</p>\n\n<pre><code>cursor.execute(\"INSERT INTO info ([height], [weight], [type]) VALUES (%s,%s,%s)\" %(height, manufacturerid, weight))\n</code></pre>\n\n<p>Use</p>\n\n<pre><code>cursor.execute(\"INSERT INTO info ([height], [weight], [type]) VALUES (%s,%s,%s)\", (height, manufacturerid, weight))\n</code></pre>\n\n<p>will likely fix your problem, and not be subject to sql injection or problems like the one you are having. </p>\n\n<p>Since this seems to be Oracle, and I have not used it with Python, refer to the docs, but PEP 249 states that the placeholders for parameterized queries are:\n<a href=\"https://www.python.org/dev/peps/pep-0249/#paramstyle\" rel=\"nofollow\">https://www.python.org/dev/peps/pep-0249/#paramstyle</a></p>\n"}, {"tags": [], "owner": {"reputation": 757, "user_id": 6142587, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204681473876006/picture?type=large", "display_name": "Carlos Parra", "link": "https://stackoverflow.com/users/6142587/carlos-parra"}, "is_accepted": false, "score": 1, "last_activity_date": 1461797629, "creation_date": 1461797629, "answer_id": 36902341, "question_id": 36902242, "link": "https://stackoverflow.com/questions/36902242/error-with-python-cursor/36902341#36902341", "title": "Error with Python Cursor", "body": "<p>According with the docs, you should never do the query like this (the way you have):</p>\n\n<pre><code>cursor.execute(\"INSERT INTO info ([height], [weight],[type]) VALUES (%s,%s,%s)\" % (height, manufacturerid, weight))\n</code></pre>\n\n<p>You should do it as follows:</p>\n\n<pre><code>cursor.execute(\"INSERT INTO info ([height], [weight],[type]) VALUES (%s,%s,%s)\" , (height, manufacturerid, weight))\n</code></pre>\n\n<p>Check <a href=\"https://docs.python.org/2/library/sqlite3.html\" rel=\"nofollow\">this</a> for more help.</p>\n"}], "owner": {"reputation": 1124, "user_id": 5199096, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7121c9c8b95b9b4ba519af1d02515dff?s=128&d=identicon&r=PG&f=1", "display_name": "mk8efz", "link": "https://stackoverflow.com/users/5199096/mk8efz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1461797670, "creation_date": 1461797025, "question_id": 36902242, "link": "https://stackoverflow.com/questions/36902242/error-with-python-cursor", "title": "Error with Python Cursor", "body": "<p>I write a script that inserts in DB directly with the python cursor object</p>\n\n<pre><code> cursor.execute(\"INSERT INTO info ([height], [weight],[type]) VALUES (%s,%s,%s)\" % (height, manufacturerid, weight)) \n</code></pre>\n\n<p>Sometimes I don't have a number for \"weight\" and it throws an error: </p>\n\n<pre><code>Incorrect syntax near ','. (102) (SQLExecDirectW)\")\n</code></pre>\n\n<p>How you handle errors like this?</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "copy"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461796979, "post_id": 36902206, "comment_id": 61368509, "body": "Are you familiar with loops?"}, {"owner": {"reputation": 59, "user_id": 3731806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f082061492988270863a173f5f3f727f?s=128&d=identicon&r=PG&f=1", "display_name": "lcq92", "link": "https://stackoverflow.com/users/3731806/lcq92"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1461797987, "post_id": 36902206, "comment_id": 61368841, "body": "@TigerhawkT3 I don&#39;t see how that&#39;s possible in a basic loop.. except by using a dictionnary. What I mean is: I don&#39;t think it&#39;s possible to create variables on each iteration of a loop. Mind giving an example ?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461798062, "post_id": 36902206, "comment_id": 61368860, "body": "You don&#39;t think it&#39;s possible to create variables in a loop? I suggest reviewing some course materials or tutorials on loops."}, {"owner": {"reputation": 59, "user_id": 3731806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f082061492988270863a173f5f3f727f?s=128&d=identicon&r=PG&f=1", "display_name": "lcq92", "link": "https://stackoverflow.com/users/3731806/lcq92"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1461799557, "post_id": 36902206, "comment_id": 61369250, "body": "@TigerhawkT3 I&#39;m sorry, I was just asking if there was a way to write a better version of the code above, without having the trouble of using dicts or ugly globals()..."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461800586, "post_id": 36902206, "comment_id": 61369547, "body": "I don&#39;t know what <code>globals()</code> has to do with this. Investigate two concepts: loops, and appending to a <code>list</code>. There are many resources on these that you will find by Googling."}], "answers": [{"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 0, "last_activity_date": 1461807275, "creation_date": 1461807275, "answer_id": 36903730, "question_id": 36902206, "link": "https://stackoverflow.com/questions/36902206/create-multiple-unique-copies-of-an-array/36903730#36903730", "title": "Create multiple unique copies of an array", "body": "<p>Sure, it is possible, but I think the three separate assignment statements using <code>a.copy()</code> are the clearest way to do it.  I can read that code and know exactly what is happening.  With the following, I have to spend a few seconds figuring out what is going on...</p>\n\n<ul>\n<li><p>Use a list comprehension (@Pythonista also had this in a deleted answer):</p>\n\n<pre><code>b, c, d = [a.copy() for _ in range(3)]\n</code></pre></li>\n<li><p>Use <code>numpy.repeat</code>:</p>\n\n<pre><code>b, c, d = np.repeat(a[None, ...], 3, axis=0)\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 59, "user_id": 3731806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f082061492988270863a173f5f3f727f?s=128&d=identicon&r=PG&f=1", "display_name": "lcq92", "link": "https://stackoverflow.com/users/3731806/lcq92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 36903730, "answer_count": 1, "score": 0, "last_activity_date": 1461807275, "creation_date": 1461796854, "question_id": 36902206, "link": "https://stackoverflow.com/questions/36902206/create-multiple-unique-copies-of-an-array", "title": "Create multiple unique copies of an array", "body": "<p>I have a numpy array assigned to <code>a</code></p>\n\n<p>I want to to this</p>\n\n<pre><code>b = a.copy()\nc = a.copy()\nd = a.copy()\n</code></pre>\n\n<p>in one line. Is that possible without having to write \"a.copy\" 3 times ?</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["python", "gis"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1461800522, "post_id": 36902301, "comment_id": 61369527, "body": "Thanks, I ran the code and I get an error that the <code>name city length isn&#39;t defined</code>"}, {"owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1461801018, "post_id": 36902301, "comment_id": 61369674, "body": "It doesn&#39;t work now, I could use some help with that if possible?"}, {"owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "reply_to_user": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1461801104, "post_id": 36902301, "comment_id": 61369695, "body": "Of course. Could you update the code with what you have now and what doesn&#39;t work and what you want? Then i will take a look."}], "tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": false, "score": 0, "last_activity_date": 1461797389, "creation_date": 1461797389, "answer_id": 36902301, "question_id": 36902203, "link": "https://stackoverflow.com/questions/36902203/loop-features-using-x-y-coordinates/36902301#36902301", "title": "Loop features using x/y coordinates", "body": "<p>Don't be scared to run your code. It is the best way of debugging and optimizing. And for your question: It is useful to store the x and y values. A useful format would be a dict like this: {city_name:(x, y, more_data)}</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1461802440, "post_id": 36903034, "comment_id": 61370067, "body": "I had defined city_X_list previously but I don&#39;t think so know. I am trying to here is what I&#39;m trying to do"}, {"owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1461802473, "post_id": 36903034, "comment_id": 61370078, "body": "You may refer to the following logic to structure your Python script: &#224;\uf0e0Step 1: copy NA_Big_Lakes.shp to a new lake shapefile, add in empty fields for city information; &#224;\uf0e0Step 2: Loop each feature in NA_Cities.shp, use cursors to read x/y coordinates of each city point;  &#224;\uf0e0Step 3: Loop each feature in the new lake shapefile, use geometry cursors to read vertex coordinates of this lake polygon, identify the city that is the closest to the lake\u2019s vertex, and add the city information into the fields of this lake feature."}, {"owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "reply_to_user": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1461802789, "post_id": 36903034, "comment_id": 61370157, "body": "I suppose it works when you have fixed the city_X_list, or not?"}, {"owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1461805395, "post_id": 36903034, "comment_id": 61370749, "body": "It does work with a fixed city_X_list I am struggling with step 3 I believe I&#39;m not sure how to"}, {"owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "reply_to_user": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1461805627, "post_id": 36903034, "comment_id": 61370818, "body": "I&#39;m not good at that kind of math, so I can&#39;t help you with that. Sorry and good luck!"}], "tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": false, "score": 0, "last_activity_date": 1461802082, "creation_date": 1461802082, "answer_id": 36903034, "question_id": 36902203, "link": "https://stackoverflow.com/questions/36902203/loop-features-using-x-y-coordinates/36903034#36903034", "title": "Loop features using x/y coordinates", "body": "<p>Have you defined city_X_list? And on which line did you get the error?\nAlso deleting data from memoy isn't necessary because python does this automatically when it exits a function or script. Only when you use big data sets and it needs to be removed from ram halfway in a function you need to use del.</p>\n"}], "owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461802082, "creation_date": 1461796834, "last_edit_date": 1461801560, "question_id": 36902203, "link": "https://stackoverflow.com/questions/36902203/loop-features-using-x-y-coordinates", "title": "Loop features using x/y coordinates", "body": "<p>Hey all I'm having trouble with this task, Loop each feature in NA_Cities.shp, use cursors to read x/y coordinates of each city point;</p>\n\n<pre><code>import arcpy\nimport math\n\narcpy.env.overwriteOutput = True\n\nfolderpath = r'C:\\Users\\Michaelf\\Desktop\\GEOG M173\\LabData'\n\nIn_Lakes = folderpath + '\\NA_Big_Lakes.shp'\nIn_Cities = folderpath + '\\NA_Cities.shp'\nOut_Lakes = folderpath + '\\New_Lakes.shp'\n\narcpy.CopyFeatures_management (In_Lakes, Out_Lakes)\n\nfields = [\n    ('City', 'TEXT'),\n    ('Admin', 'TEXT'),\n    ('Country_', 'TEXT'),\n    ('Population', 'LONG'),\n]\n\nfor field in fields:\n    arcpy.AddField_management(*(Out_Lakes,) + field)\n\ncity_name_list = []\ncity_admin_list = []\ncity_country_list = []\ncity_pop_list = []\n\ncity_cursor = arcpy.SearchCursor(In_Cities)\n\nfor city in city_cursor:\n    city_name_list.append(city.CITY_NAME)\n    city_admin_list.append(city.ADMIN_NAME)\n    city_country_list.append(city.CNTRY_NAME)\n    city_pop_list.append(city.POPULATION)\n\nlakes_cursor = arcpy.UpdateCursor(Out_Lakes)\n\ncity_length = len(city_X_list)\n\nfor lake in lakes_cursor:\n    distance_to_shore = []\n    for city in range(0, city_length - 1):\n       distance_to_shore = arcpy.Near_analysis(import_cities_feature, import_lake_feature)\n       distance_shore.append(distance_to_shore)\n\nclosest_city = min(distance_cntrd_list)\nclosest_city_index = distance_cntrd_list.index(closest_city)\n\nlake.city = city_name_list[closest_city_index]\nlake.Admin = city_admin_list [closest_city_index]\nlake.Population = city_pop_list [closest_city_index]\nlake.Country_ = city_country_list [closest_city_index]\nlakes_cursor.updateRow(lake)\n\n\ndel city_cursor, lakes_cursor, city, lake    \n</code></pre>\n\n<p>Here is an updated version of my complete code,\nThanks in advance for any feedback or advice!</p>\n"}, {"tags": ["python", "youtube-api"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 6111425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a9094c7b89a027b7e9042c05bf0cc1b?s=128&d=identicon&r=PG&f=1", "display_name": "edost4", "link": "https://stackoverflow.com/users/6111425/edost4"}, "edited": false, "score": 0, "creation_date": 1461863384, "post_id": 36919710, "comment_id": 61404009, "body": "Noogui, python is an installed application and not web application. I was able to fix the issue: Basically executing \u201cpython youtube_api.py --noauth_local_webserver\u201d and not \u201cpython youtube_api.py\u201d was all I was missing."}, {"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "reply_to_user": {"reputation": 57, "user_id": 6111425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a9094c7b89a027b7e9042c05bf0cc1b?s=128&d=identicon&r=PG&f=1", "display_name": "edost4", "link": "https://stackoverflow.com/users/6111425/edost4"}, "edited": false, "score": 0, "creation_date": 1461914826, "post_id": 36919710, "comment_id": 61423963, "body": "sorry, you should post your resolution as answer then and accept it :)"}], "tags": [], "owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "is_accepted": false, "score": 0, "last_activity_date": 1461858835, "creation_date": 1461858835, "answer_id": 36919710, "question_id": 36902182, "link": "https://stackoverflow.com/questions/36902182/youtube-analytics-api-localhost-8080-error/36919710#36919710", "title": "YouTube Analytics API Localhost 8080 error", "body": "<p>According to <a href=\"https://developers.google.com/youtube/reporting/guides/registering_an_application\" rel=\"nofollow\">Youtube guide</a>, you should choose an oauth type \"Web application\" not \"other\".</p>\n\n<p>After that you also need to authorize your origin, in this case your local server URL, <a href=\"http://localhost:8080\" rel=\"nofollow\">http://localhost:8080</a>. </p>\n\n<p>Moreover, don't forget to specify your redirect URIs, in your case, <a href=\"http://localhost:8080/oauth2callback\" rel=\"nofollow\">http://localhost:8080/oauth2callback</a> in the Google Dev Console.</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 6111425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a9094c7b89a027b7e9042c05bf0cc1b?s=128&d=identicon&r=PG&f=1", "display_name": "edost4", "link": "https://stackoverflow.com/users/6111425/edost4"}, "is_accepted": true, "score": 1, "last_activity_date": 1461935406, "creation_date": 1461935406, "answer_id": 36939265, "question_id": 36902182, "link": "https://stackoverflow.com/questions/36902182/youtube-analytics-api-localhost-8080-error/36939265#36939265", "title": "YouTube Analytics API Localhost 8080 error", "body": "<p>When running the script, execute python file_name.py --noauth_local_webserver.\nHere are the steps:</p>\n\n<p>1)      Execute \u201cpython youtube_api.py --noauth_local_webserver\u201d\n        It will show you a long URL</p>\n\n<p>2)      Copy that URL and open in a browser</p>\n\n<p>3)      It will ask you to login on your Google account and pick the channel</p>\n\n<p>4)      It will show you a \u201cVerification Code\u201d (something like 4/j6KgOnbVU08kbBpi-GVOq9D6p-Vm6inOQUOJiTYWQqs)</p>\n\n<p>5)      Copy Verification Code and paste within the EC2 window. Click Enter\nYou're done. From now on it will execute whatever parameters you indicate within the script</p>\n"}], "owner": {"reputation": 57, "user_id": 6111425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a9094c7b89a027b7e9042c05bf0cc1b?s=128&d=identicon&r=PG&f=1", "display_name": "edost4", "link": "https://stackoverflow.com/users/6111425/edost4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 36939265, "answer_count": 2, "score": 0, "last_activity_date": 1461935406, "creation_date": 1461796723, "last_edit_date": 1461808097, "question_id": 36902182, "link": "https://stackoverflow.com/questions/36902182/youtube-analytics-api-localhost-8080-error", "title": "YouTube Analytics API Localhost 8080 error", "body": "<p>My script is the same as <a href=\"https://github.com/youtube/api-samples/pull/45/commits/e5ec5453233c287cbfe1ecd296ae0ed18c4ce523\" rel=\"nofollow\">https://github.com/youtube/api-samples/pull/45/commits/e5ec5453233c287cbfe1ecd296ae0ed18c4ce523</a> (written in Python) where I specified the CLIENT_SECRETS_FILE = \"client_secret_xxx.com.json\"</p>\n\n<p>The client secret is created under OAuth 2.0 client IDs as \"other\".\nWhen I run it, it throws the following error:\nThis site can\u2019t be reached\nThe connection was reset.\nERR_CONNECTION_RESET\nWhile the url is <a href=\"http://localhost:8080/?code=4/Wulz_B8fgMauanVxtPocdgwE1sNndZZe6BGrVLI7wLU#\" rel=\"nofollow\">http://localhost:8080/?code=4/Wulz_B8fgMauanVxtPocdgwE1sNndZZe6BGrVLI7wLU#</a> </p>\n\n<p>Any idea what is causing the error?</p>\n"}, {"tags": ["python", "getopt"], "answers": [{"tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": true, "score": 0, "last_activity_date": 1461796973, "creation_date": 1461796973, "answer_id": 36902234, "question_id": 36902176, "link": "https://stackoverflow.com/questions/36902176/how-to-pass-argument-in-command-line-using-getopt/36902234#36902234", "title": "how to pass argument in command line using getopt", "body": "<p>You need to assign the values of the command line to your variables. You now assign the values to input file and output file instead of database and build.</p>\n"}], "owner": {"reputation": 393, "user_id": 6114952, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d43f20b1c9e4d0ceed55e7e04f28e02e?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Chao", "link": "https://stackoverflow.com/users/6114952/peter-chao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 1, "accepted_answer_id": 36902234, "answer_count": 1, "score": 0, "last_activity_date": 1461796973, "creation_date": 1461796693, "question_id": 36902176, "link": "https://stackoverflow.com/questions/36902176/how-to-pass-argument-in-command-line-using-getopt", "title": "how to pass argument in command line using getopt", "body": "<p>I am trying to pass two argument in Python command line using getopt. My code is:</p>\n\n<pre><code>import sys, getopt\n\ndef main(argv):\n   dataset = ''\n   build = ''\n   try:\n      opts, args = getopt.getopt(argv,\"hd:b:\",[\"dataset=\",\"build=\"])\n   except getopt.GetoptError:\n      print 'performance_test.py -d &lt;dataset&gt; -b &lt;build&gt;'\n      sys.exit(2)\n   for opt, arg in opts:\n      if opt == '-h':\n         print 'performance_test.py -d &lt;dataset&gt; -b &lt;build&gt;'\n         sys.exit()\n      elif opt in (\"-d\", \"--dataset\"):\n         inputfile = arg\n      elif opt in (\"-b\", \"--build\"):\n         outputfile = arg\n   print 'Dataset is \"', dataset\n   print 'Build version is \"', build\n\nif __name__ == \"__main__\":\n    main(sys.argv[1:])\n</code></pre>\n\n<p>Basically I am passing two arguments in command line: (1) dataset (2) build, but it is not printing at the end. Can someone help?</p>\n"}, {"tags": ["javascript", "python", "google-drive-api", "google-oauth", "google-picker"], "answers": [{"comments": [{"owner": {"reputation": 2939, "user_id": 85794, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/54043487044f05cdf7ff60d022240ecb?s=128&d=identicon&r=PG&f=1", "display_name": "Mutant", "link": "https://stackoverflow.com/users/85794/mutant"}, "edited": false, "score": 0, "creation_date": 1461851202, "post_id": 36905935, "comment_id": 61395268, "body": "Thanks for the answer. So, do you save access token and file id both? I believe accesstoken get expire in few scenarios, so in that case you need to refresh the token."}, {"owner": {"reputation": 656, "user_id": 3739532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e227a87b01b09a655313a33f685b63?s=128&d=identicon&r=PG", "display_name": "arifin4web", "link": "https://stackoverflow.com/users/3739532/arifin4web"}, "reply_to_user": {"reputation": 2939, "user_id": 85794, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/54043487044f05cdf7ff60d022240ecb?s=128&d=identicon&r=PG&f=1", "display_name": "Mutant", "link": "https://stackoverflow.com/users/85794/mutant"}, "edited": false, "score": 0, "creation_date": 1461890472, "post_id": 36905935, "comment_id": 61416209, "body": "Yes, I saved fileID, AccessToken, And RefreshToken. As we fetch file, we need both the fileID and AccessToken. But access token  is a short-lived one and we use RefreshToken to get a new one when one is expired. When user gives consent we get auth_code. This is a onetime code to get Access and Refresh token. Used that token to get access and refresh token and saved them in DB. Then when I need to fetch the file, I  first check if the AccessToken is valid otherwise use RefreshToken to get a new access token and get the file."}, {"owner": {"reputation": 85, "user_id": 6055275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9212f796b048405fb24868ba8331cf2a?s=128&d=identicon&r=PG&f=1", "display_name": "lucianov88", "link": "https://stackoverflow.com/users/6055275/lucianov88"}, "edited": false, "score": 0, "creation_date": 1611895934, "post_id": 36905935, "comment_id": 116602648, "body": "I know it&#39;s been a long time but I was wondering if it is possible to use AccessToken previously obtained by consenting Google Drive access? (I have tried but doesn&#39;t work) If yes, How? Or is it another way to authenticate server-side?. My goal is to avoid asking the user to sign every time to search for files, and the user previously consented access to Google drive."}], "tags": [], "owner": {"reputation": 656, "user_id": 3739532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e227a87b01b09a655313a33f685b63?s=128&d=identicon&r=PG", "display_name": "arifin4web", "link": "https://stackoverflow.com/users/3739532/arifin4web"}, "is_accepted": false, "score": 0, "last_activity_date": 1461821140, "creation_date": 1461821140, "answer_id": 36905935, "question_id": 36902120, "link": "https://stackoverflow.com/questions/36902120/google-drive-refetch-refresh-the-previously-fetched-file/36905935#36905935", "title": "Google drive refetch/refresh the previously fetched file", "body": "<p>In my opinion, your process i.e, saving the file ID and access/refresh tokens and fetch the file when you need is the correct way to go. </p>\n\n<p>I have built an application where we manage our files using google drive. In short my process was:</p>\n\n<ol>\n<li>User consent and Auth.</li>\n<li>Use picker to upload files and upon successful operation save necessary file data. </li>\n<li>Fetch the file (with access token or use refresh token to get new access token) whenever we need to view it to user</li>\n</ol>\n\n<p>I hope this helps.</p>\n\n<p>Cheers</p>\n"}], "owner": {"reputation": 2939, "user_id": 85794, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/54043487044f05cdf7ff60d022240ecb?s=128&d=identicon&r=PG&f=1", "display_name": "Mutant", "link": "https://stackoverflow.com/users/85794/mutant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461821140, "creation_date": 1461796416, "question_id": 36902120, "link": "https://stackoverflow.com/questions/36902120/google-drive-refetch-refresh-the-previously-fetched-file", "title": "Google drive refetch/refresh the previously fetched file", "body": "<p>we are using google <a href=\"https://developers.google.com/picker/\" rel=\"nofollow\">picker</a> to fetch the file in our application. Previously it was one time thing, but we noticed that because we don't allow data manipulation on our app, user need to do the changes on the drive and again do the upload/fetch process. We want to simplify the workflow and allow user to do one click refresh/resync of the file (spreadsheet). In order to do that I am thinking to save the file_id on my app, though I'll still need to get oAuthToken to build the service and fetch the file. Is that right approach or please suggest if any other mechanism I can follow.</p>\n\n<p>The current google-picker workflow is using js on the client side which provides oAuthToken, fileId, Name of the file. on the server side I use python to build the service and fetch the actual file. </p>\n"}, {"tags": ["python", "math", "neural-network", "logistic-regression", "softmax"], "comments": [{"owner": {"reputation": 8998, "user_id": 3314143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RpemN.png?s=128&g=1", "display_name": "daniel451", "link": "https://stackoverflow.com/users/3314143/daniel451"}, "edited": false, "score": 0, "creation_date": 1461801589, "post_id": 36902115, "comment_id": 61369839, "body": "Edited my answer, hope this example helps."}, {"owner": {"reputation": 8998, "user_id": 3314143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RpemN.png?s=128&g=1", "display_name": "daniel451", "link": "https://stackoverflow.com/users/3314143/daniel451"}, "edited": false, "score": 0, "creation_date": 1462282402, "post_id": 36902115, "comment_id": 61563650, "body": "Why did you add a bounty? What&#39;s missing for you to accept my or Marcins answer?"}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 8998, "user_id": 3314143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RpemN.png?s=128&g=1", "display_name": "daniel451", "link": "https://stackoverflow.com/users/3314143/daniel451"}, "edited": false, "score": 0, "creation_date": 1462288492, "post_id": 36902115, "comment_id": 61568363, "body": "It&#39;s to get more answers or explanations from different perspectives. Don&#39;t worry your answer should be winning the checkmark and/or the bounty. Unless someone comes up with an even more stellar answer ;P"}], "answers": [{"comments": [{"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1461799151, "post_id": 36902355, "comment_id": 61369147, "body": "Thank you, I understand the difference between softmax and sigmoid but why are there 2 equations that are different for sigmoid?"}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1461799258, "post_id": 36902355, "comment_id": 61369170, "body": "Just to check with you about your last sentence in the answer, the sigmoid function and sigmoid normalization functions are different? Or are they using the same standard sigmoid function?"}, {"owner": {"reputation": 8998, "user_id": 3314143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RpemN.png?s=128&g=1", "display_name": "daniel451", "link": "https://stackoverflow.com/users/3314143/daniel451"}, "reply_to_user": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1461800636, "post_id": 36902355, "comment_id": 61369561, "body": "Yes, they are different. The sigmoid function computes 1/(1+e^(-x) for one element at a time while the normalized computes 1/(1+e^(-((x_i ) - mean(x))/std(x)). Hence, the first computes this &quot;single&quot; operation per element in a vector, while the latter always takes the mean and the standard deviation into account."}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1461801665, "post_id": 36902355, "comment_id": 61369867, "body": "Thanks @ascentor, now the example shows the clear difference!"}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1461824152, "post_id": 36902355, "comment_id": 61376593, "body": "Interesting if the <code>sigmoid()</code> non-normalized saturates then wouldn&#39;t the boundary be <code>[0,1]</code> instead of <code>(0,1)</code>? Is it saturating because of computational approximation? Or would it really saturate &quot;naturally&quot;"}, {"owner": {"reputation": 8998, "user_id": 3314143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RpemN.png?s=128&g=1", "display_name": "daniel451", "link": "https://stackoverflow.com/users/3314143/daniel451"}, "reply_to_user": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1461836163, "post_id": 36902355, "comment_id": 61383937, "body": "No, it would not. The denominator is always greater than 1, thus the fraction can not get to exactly 1.0. I would suggest you review mathematics (analysis) for the basics there: e^-(...) is equal to 1/e^(...) and such e-functions just converge to zero, but they never &quot;hit&quot; zero. However, a computer can just represent discrete values, hence, the smaller the distance to zero is, the likelier it is that the computer can not represent this number any more and will simply round it to 1.0."}], "tags": [], "owner": {"reputation": 8998, "user_id": 3314143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RpemN.png?s=128&g=1", "display_name": "daniel451", "link": "https://stackoverflow.com/users/3314143/daniel451"}, "is_accepted": false, "score": 5, "last_activity_date": 1461801798, "last_edit_date": 1461801798, "creation_date": 1461797686, "answer_id": 36902355, "question_id": 36902115, "link": "https://stackoverflow.com/questions/36902115/different-sigmoid-equations-and-its-implementation/36902355#36902355", "title": "Different Sigmoid Equations and its implementation", "body": "<p>You have implemented the equations correctly. Your problem is that you are mixing up the definitions of softmax and sigmoid functions.</p>\n\n<p>A softmax function is a way to normalize your data by making outliers \"less interesting\". Additionally, it \"squashes\" your input vector in a way that it ensures the sum of the vector to be 1.</p>\n\n<p>For your example:</p>\n\n<pre><code>&gt; np.sum([ 0.09003057,  0.24472847,  0.66524096])\n&gt; 1.0\n</code></pre>\n\n<p>It is simply a generalization of a logistic function with the additional \"constraint\" to get every element of the vector in the interval (0, 1) and its sum to 1.0.</p>\n\n<p>The <a href=\"https://en.wikipedia.org/wiki/Sigmoid_function\" rel=\"nofollow\">sigmoid</a> function is another special case of logistic functions. It is just a real-valued, differentiable function with a bell shape. It is interesting for neural networks because it is rather easy to compute, non-linear and has negative and positive boundaries, so your activation can not diverge but runs into saturation if it gets \"too high\".</p>\n\n<p>However, a sigmoid function is not ensuring that an input vector sums up to 1.0.</p>\n\n<p>In neural networks, sigmoid functions are used frequently as an activation function for single neurons, while a sigmoid/softmax normalization function is rather used at the output layer, to ensure the whole layer adds up to 1. You just mixed up the sigmoid function (for single neurons) versus the sigmoid/softmax normalization functions (for a whole layer).</p>\n\n<p><strong>EDIT:</strong> To clearify this for you I will give you an easy example with outliers, this demonstrates the behaviour of the two different functions for you.</p>\n\n<p>Let's implement a sigmoid function:</p>\n\n<pre><code>import numpy as np\n\ndef s(x):\n    return 1.0 / (1.0 + np.exp(-x))\n</code></pre>\n\n<p>And the normalized version (in little steps, making it easier to read):</p>\n\n<pre><code>def sn(x):\n    numerator = x - np.mean(x)\n    denominator = np.std(x)\n    fraction = numerator / denominator\n\n    return 1.0 / (1.0 + np.exp(-fraction))\n</code></pre>\n\n<p>Now we define some measurements of something with huge outliers:</p>\n\n<pre><code>measure = np.array([0.01, 0.2, 0.5, 0.6, 0.7, 1.0, 2.5, 5.0, 50.0, 5000.0])\n</code></pre>\n\n<p>Now we take a look at the results that <code>s</code> (sigmoid) and <code>sn</code> (normalized sigmoid) give:</p>\n\n<pre><code>&gt; s(measure)\n&gt; array([ 0.50249998,  0.549834  ,  0.62245933,  0.64565631,  0.66818777,\n    0.73105858,  0.92414182,  0.99330715,  1.        ,  1.        ])\n\n&gt; sn(measure)\n&gt; array([ 0.41634425,  0.41637507,  0.41642373,  0.41643996,  0.41645618,\n    0.41650485,  0.41674821,  0.41715391,  0.42447515,  0.9525677 ])\n</code></pre>\n\n<p>As you can see, <code>s</code> only translates the values \"one-by-one\" via a logistic function, so the outliers are fully satured with 0.999, 1.0, 1.0. The distance between the other values varies.</p>\n\n<p>When we look at <code>sn</code> we see that the function actually normalized our values. Everything now is extremely identical, except for 0.95 which was the 5000.0.</p>\n\n<p>What is this good for or how to interpret this?</p>\n\n<p>Think of an output layer in a neural network: an activation of 5000.0 in one class on an output layer (compared to our other small values) means that the network is really sure that this is the \"right\" class to your given input. If you would have used <code>s</code> there, you would end up with 0.99, 1.0 and 1.0 and would <strong>not</strong> be able to distinguish which class is the correct guess for your input.</p>\n"}, {"tags": [], "owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "is_accepted": false, "score": 2, "last_activity_date": 1462274661, "creation_date": 1462274661, "answer_id": 37002795, "question_id": 36902115, "link": "https://stackoverflow.com/questions/36902115/different-sigmoid-equations-and-its-implementation/37002795#37002795", "title": "Different Sigmoid Equations and its implementation", "body": "<p>In this case you have to differentiate between three things : a sigmoid function, a sigmoid function with softmax normalization and softmax function.</p>\n\n<ol>\n<li>A sigmoid function is a real-valued function which is simpy given by an equation <code>f(x) = 1 / (1 + exp(-x))</code>. For many years it was used in machine learning domain because of the fact that it squashes a real input to <code>(0,1)</code> interval which might be interpreted as e.g. probability value. Right now - many experts advice not to use it because of it's saturation and <em>non zero mean</em> problems. You can read about it (as long as how to deal with the problem e.g. here <a href=\"http://jmlr.org/proceedings/papers/v9/glorot10a/glorot10a.pdf\" rel=\"nofollow\">http://jmlr.org/proceedings/papers/v9/glorot10a/glorot10a.pdf</a>).</li>\n<li>A sigmoid with softmax normalization is used to deal with two important problems which may occur during using of sigmoid function. First is dealing with outliers (it squashes your <code>x</code> to be around <code>0</code> and to make it <code>sd = 1</code> what normalize your data) and second (and what is in my opinion more crucial) is to make different variables equally important in further analysis. To understand this phenomenon imagine that you have two variables <code>age</code> and <code>income</code>, where <code>age</code> varies from 20 to 70 and income varies from 2000 to 60000. Without normalizing data - both variables would be squashed to almost one by sigmoid transformation. Moreover - due to greater mean absolute value - <code>income</code> variable will be significantly more important for your analysis without any rational explaination.</li>\n<li>I think that standarization is even more crucial in understanding softmax normalization than dealing with outliers. To understand why imagine a variable which is equal to <code>0</code> in 99% of cases and <code>1</code> in others. In this case your <code>sd ~ 0.01</code>, <code>mean ~ 0</code>and softmax normalization would outlie <code>1</code> even more. </li>\n<li>Something completely different is a softmax function. A softmax function is a mathematical transformation from <code>R^k</code> to <code>R^k</code> which squashes a real valued vector to a positive valued vector of the same size which sums up to <code>1</code>. It's given by an equation <code>softmax(v) = exp(v)/sum(exp(v))</code>. It's something completely different than softmax normalization and it's usually used in case of multiclass classification.</li>\n</ol>\n"}], "owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1494, "favorite_count": 2, "answer_count": 2, "score": 7, "last_activity_date": 1462274661, "creation_date": 1461796376, "last_edit_date": 1461796924, "question_id": 36902115, "link": "https://stackoverflow.com/questions/36902115/different-sigmoid-equations-and-its-implementation", "title": "Different Sigmoid Equations and its implementation", "body": "<p>When reviewing through the Sigmoid function that is used in Neural Nets, we found this equation from <a href=\"https://en.wikipedia.org/wiki/Softmax_function#Softmax_Normalization\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Softmax_function#Softmax_Normalization</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5lFvS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5lFvS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Different from the standard sigmoid equation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/isovt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/isovt.png\" alt=\"enter image description here\"></a></p>\n\n<p>The first equation on top somehow involves the mean and standard deviation (I hope I didn't read the symbols wrongly) whereas the 2nd equation generalized the minus mean and divided by standard deviation as a constant since it's the same throughout all terms within a vector/matrix/tensor.</p>\n\n<p>So when implementing the equations, I get different results.</p>\n\n<p>With the 2nd equation (standard sigmoid function):</p>\n\n<pre><code>def sigmoid(x):\n    return 1. / (1 + np.exp(-x))\n</code></pre>\n\n<p>I get these output:</p>\n\n<pre><code>&gt;&gt;&gt; x = np.array([1,2,3])\n&gt;&gt;&gt; print sigmoid(x)\n[ 0.73105858  0.88079708  0.95257413]\n</code></pre>\n\n<p>I would have expect the 1st function to be the similar but the gap between the first and second element widens by quite a bit (though the ranking of the elements remains:</p>\n\n<pre><code>def get_statistics(x):\n    n = float(len(x))\n    m = x.sum() / n\n    s2 = sum((x - m)**2) / (n-1.) \n    s = s2**0.5\n    return m, s2, s\n\nm, s, s2 = get_statistics(x)\n\nsigmoid_x1 = 1 / (1 + np.exp(-(x[0] - m) / s2))\nsigmoid_x2 = 1 / (1 + np.exp(-(x[1] - m) / s2))\nsigmoid_x3 = 1 / (1 + np.exp(-(x[2] - m) / s2))\nsigmoid_x1, sigmoid_x2, sigmoid_x3 \n</code></pre>\n\n<p>[out]:</p>\n\n<pre><code>(0.2689414213699951, 0.5, 0.7310585786300049)\n</code></pre>\n\n<p>Possibly it has to do with the fact that the first equation contains some sort of softmax normalization but if it's generic softmax then the elements need to sum to one as such:</p>\n\n<pre><code>def softmax(x):\n    exp_x = np.exp(x)\n    return exp_x / exp_x.sum()\n</code></pre>\n\n<p>[out]:</p>\n\n<pre><code>&gt;&gt;&gt; x = np.array([1,2,3])\n&gt;&gt;&gt; print softmax(x)\n[ 0.09003057  0.24472847  0.66524096]\n</code></pre>\n\n<p>But the output from the first equation don't sum to one and it isn't similar/same as the standard sigmoid equation. So the question is:</p>\n\n<ul>\n<li><strong>Have I implemented the function for equation 1 wrongly?</strong></li>\n<li><strong>Is equation 1 on the wikipedia page wrong? Or is it referring to something else and not really the sigmoid/logistic function?</strong></li>\n<li><strong>Why is there a difference in the first and second equation?</strong></li>\n</ul>\n"}, {"tags": ["python", "sql", "sqlite"], "comments": [{"owner": {"reputation": 12289, "user_id": 596041, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9eb6a78f4a48d143d59966fceec3c655?s=128&d=identicon&r=PG", "display_name": "Filip Haglund", "link": "https://stackoverflow.com/users/596041/filip-haglund"}, "edited": false, "score": 0, "creation_date": 1461796640, "post_id": 36902113, "comment_id": 61368369, "body": "It looks like you are looking for a sqlite answer, but this question is tagged <code>python</code>. Is an answer using python in combination with sqlite ok?"}, {"owner": {"reputation": 78, "user_id": 3383064, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LdEhE.jpg?s=128&g=1", "display_name": "Thuruv", "link": "https://stackoverflow.com/users/3383064/thuruv"}, "reply_to_user": {"reputation": 12289, "user_id": 596041, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9eb6a78f4a48d143d59966fceec3c655?s=128&d=identicon&r=PG", "display_name": "Filip Haglund", "link": "https://stackoverflow.com/users/596041/filip-haglund"}, "edited": false, "score": 0, "creation_date": 1461796773, "post_id": 36902113, "comment_id": 61368419, "body": "Yes, I&#39;m using sqlite in python for all these things."}], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 3383064, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LdEhE.jpg?s=128&g=1", "display_name": "Thuruv", "link": "https://stackoverflow.com/users/3383064/thuruv"}, "edited": false, "score": 0, "creation_date": 1461879637, "post_id": 36902543, "comment_id": 61413061, "body": "@t-arboreus If so, How Can I do that for each and every users listed. .?"}, {"owner": {"reputation": 938, "user_id": 3980466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645862f30b05489c2f30f87875984171?s=128&d=identicon&r=PG&f=1", "display_name": "T. Arboreus", "link": "https://stackoverflow.com/users/3980466/t-arboreus"}, "reply_to_user": {"reputation": 78, "user_id": 3383064, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LdEhE.jpg?s=128&g=1", "display_name": "Thuruv", "link": "https://stackoverflow.com/users/3383064/thuruv"}, "edited": false, "score": 0, "creation_date": 1461887520, "post_id": 36902543, "comment_id": 61415522, "body": "I&#39;ve edited the response. Hope I understand what you&#39;re looking for."}, {"owner": {"reputation": 78, "user_id": 3383064, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LdEhE.jpg?s=128&g=1", "display_name": "Thuruv", "link": "https://stackoverflow.com/users/3383064/thuruv"}, "edited": false, "score": 0, "creation_date": 1461956714, "post_id": 36902543, "comment_id": 61449978, "body": "Well, It throws  <b>ValueError: parameters are of unsupported type</b>."}, {"owner": {"reputation": 938, "user_id": 3980466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645862f30b05489c2f30f87875984171?s=128&d=identicon&r=PG&f=1", "display_name": "T. Arboreus", "link": "https://stackoverflow.com/users/3980466/t-arboreus"}, "reply_to_user": {"reputation": 78, "user_id": 3383064, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LdEhE.jpg?s=128&g=1", "display_name": "Thuruv", "link": "https://stackoverflow.com/users/3383064/thuruv"}, "edited": false, "score": 0, "creation_date": 1461960131, "post_id": 36902543, "comment_id": 61451655, "body": "Sorry, was being a bit pseudocody. You can&#39;t do multiplication in the tuple, just do that math outside and pass it in"}, {"owner": {"reputation": 78, "user_id": 3383064, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LdEhE.jpg?s=128&g=1", "display_name": "Thuruv", "link": "https://stackoverflow.com/users/3383064/thuruv"}, "edited": false, "score": 0, "creation_date": 1461969931, "post_id": 36902543, "comment_id": 61455730, "body": "yup, done that too. It still throws me the same error. Could you make that one?"}, {"owner": {"reputation": 938, "user_id": 3980466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645862f30b05489c2f30f87875984171?s=128&d=identicon&r=PG&f=1", "display_name": "T. Arboreus", "link": "https://stackoverflow.com/users/3980466/t-arboreus"}, "reply_to_user": {"reputation": 78, "user_id": 3383064, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LdEhE.jpg?s=128&g=1", "display_name": "Thuruv", "link": "https://stackoverflow.com/users/3383064/thuruv"}, "edited": false, "score": 0, "creation_date": 1461975911, "post_id": 36902543, "comment_id": 61457181, "body": "You shouldn&#39;t get errors with this, but you may need to adapt it to your needs or describe the problem more explicitly in the question, since I have the feeling I&#39;m missing something you&#39;re looking for."}], "tags": [], "owner": {"reputation": 938, "user_id": 3980466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645862f30b05489c2f30f87875984171?s=128&d=identicon&r=PG&f=1", "display_name": "T. Arboreus", "link": "https://stackoverflow.com/users/3980466/t-arboreus"}, "is_accepted": false, "score": 0, "last_activity_date": 1461975847, "last_edit_date": 1461975847, "creation_date": 1461798908, "answer_id": 36902543, "question_id": 36902113, "link": "https://stackoverflow.com/questions/36902113/selecting-n-number-of-random-records/36902543#36902543", "title": "Selecting N number of Random Records", "body": "<p>OK, still a little confused about your spec. This code will run but I may not fully understand what you're looking for:</p>\n\n<pre><code>import sqlite3\n\nconn = sqlite3.connect('users.db')\n\ncur = conn.cursor()\n\ncount = cur.execute('SELECT COUNT(id) FROM book')\n\ncount = count.fetchone()[0]\n\ntotal1 = int(count * 0.4)\ntotal2 = int(count * 0.6)\n\nresults1 = cur.execute('SELECT users.id from users LIMIT ?',\n                       (total1, )).fetchall()\nresults2 = cur.execute('SELECT users.id from users LIMIT ?',\n                       (total2, )).fetchall()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": false, "score": 1, "last_activity_date": 1461986278, "last_edit_date": 1461986278, "creation_date": 1461985837, "answer_id": 36950271, "question_id": 36902113, "link": "https://stackoverflow.com/questions/36902113/selecting-n-number-of-random-records/36950271#36950271", "title": "Selecting N number of Random Records", "body": "<p>Consider using running count subqueries of two groupings: 1) all records by name and only Editorial category; and 2) all records by name and Non-Editorial category and filter for the 60% and 40%. Below assumes table has a unique identifier, <code>ID</code>. And replace the <code>N</code> in <code>WHERE</code> clause with actual number:</p>\n\n<pre><code>SELECT *    \nFROM \n(\n  SELECT Report.*\n\n      (SELECT Count(*) FROM Report sub1\n       WHERE sub1.Category = 'Editorial' AND Report.Category = 'Editorial'\n       AND sub1.Name = Report.Name\n       AND sub1.ID &lt;= Report.ID) As EditorialRowNo\n\n      (SELECT Count(*) FROM Report sub2\n       WHERE sub2.Category &lt;&gt; 'Editorial' AND Report.Category &lt;&gt; 'Editorial'\n       AND sub2.Name = Report.Name\n       AND sub2.ID &lt;= Report.ID) As NonEditorialRowNo\n\n  FROM Report\n) As dT\n\nWHERE (dT.EditorialRowNo &gt; 0 AND dT.EditorialRowNo &lt;= 0.4 * N)\nOR (dT.NonEditorialRowNo &gt; 0 AND dT.NonEditorialRowNo &lt;= 0.6 * N)\nORDER BY dT.Name, dT.Category\n</code></pre>\n"}], "owner": {"reputation": 78, "user_id": 3383064, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/LdEhE.jpg?s=128&g=1", "display_name": "Thuruv", "link": "https://stackoverflow.com/users/3383064/thuruv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1461986278, "creation_date": 1461796368, "last_edit_date": 1461796895, "question_id": 36902113, "link": "https://stackoverflow.com/questions/36902113/selecting-n-number-of-random-records", "title": "Selecting N number of Random Records", "body": "<p>I have <strong>7200 rows of 29 users</strong> who attended unique request tickets in 10 different categories.</p>\n\n<p>Out of them, I need to select <strong>N</strong> records for each and every Users.</p>\n\n<p>Conditions : </p>\n\n<ol>\n<li><p>Out of N, 40 % rows should be those of a category <strong>X</strong>, Lets say Editorial.</p></li>\n<li><p>Remaining 60 % rows should be those using other than Category <strong>X</strong></p></li>\n</ol>\n\n<p>Using sqlite, I handled so far by trying 'DISTINCT' but is there a way to achieve the above?</p>\n\n<pre><code>select distinct * from report \nwhere category &lt;&gt; 'Editorial'\nand \nname in (select distinct name from report)\nGROUP By name\nLIMIT (select count(distinct name) from report)\n</code></pre>\n\n<p>edit : I'm using python for rest of all the above operations. As its a large data, I preferred sqlite.\nIf there's a way in python, I'm okie to learn about it.</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 12289, "user_id": 596041, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9eb6a78f4a48d143d59966fceec3c655?s=128&d=identicon&r=PG", "display_name": "Filip Haglund", "link": "https://stackoverflow.com/users/596041/filip-haglund"}, "edited": false, "score": 0, "creation_date": 1461796519, "post_id": 36902101, "comment_id": 61368331, "body": "Does your program have permission to write to that file?"}], "answers": [{"comments": [{"owner": {"reputation": 2490, "user_id": 1357553, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2qHep.png?s=128&g=1", "display_name": "guilhermecgs", "link": "https://stackoverflow.com/users/1357553/guilhermecgs"}, "edited": false, "score": 0, "creation_date": 1487853484, "post_id": 36902159, "comment_id": 71977174, "body": "20 min lost on this one"}], "tags": [], "owner": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "is_accepted": true, "score": 12, "last_activity_date": 1461796565, "creation_date": 1461796565, "answer_id": 36902159, "question_id": 36902101, "link": "https://stackoverflow.com/questions/36902101/python-writes-empty-json-file/36902159#36902159", "title": "Python writes empty json file", "body": "<p><a href=\"https://docs.python.org/2/library/json.html#json.dumps\" rel=\"noreferrer\"><code>json.dumps</code></a> doesn't write a file, it returns the string serialized as JSON. You're looking for <a href=\"https://docs.python.org/2/library/json.html#json.dump\" rel=\"noreferrer\"><code>json.dump</code></a>. Notice the missing <code>fp</code> param for <code>dumps</code>.</p>\n"}], "owner": {"reputation": 171, "user_id": 3470978, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d6e0bdea5415b9abdd9e3aca4b93bff6?s=128&d=identicon&r=PG&f=1", "display_name": "icaughtfireonce", "link": "https://stackoverflow.com/users/3470978/icaughtfireonce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7034, "favorite_count": 0, "accepted_answer_id": 36902159, "answer_count": 1, "score": 6, "last_activity_date": 1461796649, "creation_date": 1461796303, "question_id": 36902101, "link": "https://stackoverflow.com/questions/36902101/python-writes-empty-json-file", "title": "Python writes empty json file", "body": "<p>I'm working on a console app in python. I have a command that should save the program state as a json file, but when I write the file, it's empty. The result of .as_list() here is a list containing an arbitrary 3-lists.</p>\n\n<pre><code>class SaveCommand():\n\n    def __init__(self, console):\n        self.console = console\n\n    def execute(self, args):\n        if self.console.combat is None:\n            raise ConsoleCommandException(\"there is no active combat\")\n\n        if len(args) != 1:\n            raise ConsoleCommandException(\"save [save name]\")\n        try:\n            with open(\"save_files/\" + args[0] + \".json\", \"w\") as outfile:\n                json.dumps(self.console.combat.as_list(), outfile)\n        except Exception:\n            raise ConsoleCommandException(\"save failed: unknown error\")\n\n        print(\"successfully saved \\\"\" + args[0] + \"\\\"\")\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "merge"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1461798934, "post_id": 36902089, "comment_id": 61369082, "body": "check the date type of <code>SurveyDate</code> in both dataframes to ensure that they are consistent, eg. <code>Type(data.SurveryDate)</code>"}, {"owner": {"reputation": 1, "user_id": 6200218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PmoGG1vZPOo/AAAAAAAAAAI/AAAAAAAAADg/-jRJBzVjUy0/photo.jpg?sz=128", "display_name": "Daniel Hamill", "link": "https://stackoverflow.com/users/6200218/daniel-hamill"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1461799152, "post_id": 36902089, "comment_id": 61369148, "body": "They are both <code>pandas.core.series.Series</code>"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1461799207, "post_id": 36902089, "comment_id": 61369157, "body": "Sorry, <code>Type(data.SurveryDate.iat[0])</code>  will get the type of the first element in the series."}, {"owner": {"reputation": 1, "user_id": 6200218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PmoGG1vZPOo/AAAAAAAAAAI/AAAAAAAAADg/-jRJBzVjUy0/photo.jpg?sz=128", "display_name": "Daniel Hamill", "link": "https://stackoverflow.com/users/6200218/daniel-hamill"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1461799289, "post_id": 36902089, "comment_id": 61369179, "body": "That returns <code>pandas.tslib.Timestamp</code> for both"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1461799518, "post_id": 36902089, "comment_id": 61369243, "body": "It worked for me. Which version of Pandas are you using?  0.18.0 is latest."}, {"owner": {"reputation": 1, "user_id": 6200218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PmoGG1vZPOo/AAAAAAAAAAI/AAAAAAAAADg/-jRJBzVjUy0/photo.jpg?sz=128", "display_name": "Daniel Hamill", "link": "https://stackoverflow.com/users/6200218/daniel-hamill"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1461799700, "post_id": 36902089, "comment_id": 61369304, "body": "I have 0.17.1.  I will update and try again."}], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 2731109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89dccd457c747caa36d44dbc9cb1c34b?s=128&d=identicon&r=PG&f=1", "display_name": "Ke Zhu", "link": "https://stackoverflow.com/users/2731109/ke-zhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1461805481, "creation_date": 1461805481, "answer_id": 36903466, "question_id": 36902089, "link": "https://stackoverflow.com/questions/36902089/merge-pandas-dataframes-on-two-columns/36903466#36903466", "title": "Merge Pandas Dataframes on two columns", "body": "<p>I think you dont need to specify on when you are merging on index</p>\n\n<pre><code>tmp = data.merge(lu_3,left_index=True,right_index=True,how='left')\n\n         SurveyDate_x SurveyDate_y    TripDate\nSite                                      \n003L   1990-09-28   1990-09-28  1990-06-10\n065r   2008-04-03   2008-04-03  2008-03-28\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6200218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PmoGG1vZPOo/AAAAAAAAAAI/AAAAAAAAADg/-jRJBzVjUy0/photo.jpg?sz=128", "display_name": "Daniel Hamill", "link": "https://stackoverflow.com/users/6200218/daniel-hamill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 919, "favorite_count": 0, "closed_date": 1544238252, "answer_count": 1, "score": 0, "last_activity_date": 1461805481, "creation_date": 1461796237, "last_edit_date": 1461800403, "question_id": 36902089, "link": "https://stackoverflow.com/questions/36902089/merge-pandas-dataframes-on-two-columns", "closed_reason": "Duplicate", "title": "Merge Pandas Dataframes on two columns", "body": "<p>I have two data frames I am trying to merge using pandas.  </p>\n\n<pre><code>lu_3\nSite    SurveyDate  TripDate\n003L    1990-09-28  1990-06-10\n065r    2008-04-03  2008-03-28\n\ndata\nSite    SurveyDate  \n003L    1990-09-28  \n065r    2008-04-03  \n</code></pre>\n\n<p>I am trying to merge <code>lu_3</code> to populate <code>data</code> with a <code>TripDate</code>.  <code>data</code> has been subsetted for ease of reading, but contains more columns than shown.  Both data frames are using <code>Site</code> as the index.</p>\n\n<p>I have tried:</p>\n\n<pre><code>tmp = data.merge(lu_3,left_index=True,right_index=True,how='left', on=['SurveyDate'])\n</code></pre>\n\n<p>But that returns a <code>NaT</code> for the trip date.</p>\n\n<p>Checking the data types yields:</p>\n\n<pre><code>lu_3.dtypes\nOut[111]: \nSurveyDate    datetime64[ns]\nTripDate      datetime64[ns]\ndtype: object\n\ndata.dtypes\nOut[114]: \nSurveyDate        datetime64[ns]\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have reset the indicies on <code>data</code> and <code>lu_3</code> and tried to merge using:</p>\n\n<pre><code>tmp = tmp_data.merge(lu_3,on=['Site','SurveyDate'], how='left').set_index('Site')\n</code></pre>\n\n<p>But I am still getting <code>NaT</code> for <code>TripDate</code> on <code>tmp</code>.</p>\n"}, {"tags": ["python", "bash", "caffe", "pycaffe"], "comments": [{"owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "edited": false, "score": 0, "creation_date": 1461816004, "post_id": 36902045, "comment_id": 61373684, "body": "run <code>make ditribute</code> and get a folder <code>$CAFFE_ROOT&#47;distribute</code> this is all you need to run caffe. copy that and add that to the appropriate paths"}, {"owner": {"reputation": 620, "user_id": 2614596, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c0623ddb838e224134a39e1103569411?s=128&d=identicon&r=PG", "display_name": "user2614596", "link": "https://stackoverflow.com/users/2614596/user2614596"}, "reply_to_user": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "edited": false, "score": 0, "creation_date": 1461833851, "post_id": 36902045, "comment_id": 61382268, "body": "Hi, thanks for the answer. I copied the distribute folder in /opt and changed the PYTHONPATH in the bash.bashrc file, but it is still no working when logged with other users.... when I run import caffe it doesn&#39;t find the module google.protobuf.internal... I&#39;ve also run &quot;pip install protobuf&quot; logged with the other user but it still doesn&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 3022, "user_id": 4511978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7XW8u.jpg?s=128&g=1", "display_name": "fr_andres", "link": "https://stackoverflow.com/users/4511978/fr-andres"}, "is_accepted": false, "score": 0, "last_activity_date": 1605162219, "creation_date": 1605162219, "answer_id": 64798916, "question_id": 36902045, "link": "https://stackoverflow.com/questions/36902045/how-install-caffe-for-all-system-users/64798916#64798916", "title": "how install caffe for all system users?", "body": "<p>This is an answer for those who've compiled Caffe up to <code>make distribute</code> and went for extra style points with <code>make pycaffe</code>. I am proud of you. Now you would like to let all users of your Debian-based OS <code>import caffe</code> from Python successfully (e.g. avoiding the <code>cannot find libcaffe.so</code> errors upon import). I respect that.</p>\n<p><a href=\"https://github.com/dapperfu/build_caffe/issues/2#issue-354983064\" rel=\"nofollow noreferrer\">This GH Issue</a> has the answer. <strong>make sure that you adapt the ABSOLUTE caffe path to your particular installation</strong>:</p>\n<pre><code>echo &lt;YOUR_CAFFE_ABSPATH&gt;/distribute/lib &gt; /etc/ld.so.conf.d/caffe.conf\nldconfig\n</code></pre>\n<p>And for the Python wrapper, the package also has to be added to <code>PYTHONPATH</code>. You can do this by extending said path, or by copying the package into an already existing path, in my case as follows:</p>\n<pre><code>cp -r &lt;YOUR_CAFFE_ABSPATH&gt;/distribute/python/caffe /usr/lib/python3/dist-packages\n</code></pre>\n<p>That's it! Now <code>import caffe</code> should work at any location.</p>\n<hr />\n<p>Disclaimers:</p>\n<ul>\n<li>I've tested it on a GPU-compatible Ubuntu18 Docker image (this one nvcr.io/nvidia/cuda:11.1-cudnn8-devel-ubuntu18.04) as root</li>\n<li>I'm answering here because it is one of the top-ranked Google results for &quot;install caffe for all users&quot; and the GH issue isn't, so hopefully this helps someone!</li>\n</ul>\n<p>I'd also be happy to hear from other solutions or remarks to make our Caffe life easier.<br />\nCheers,<br />\nAndres</p>\n"}], "owner": {"reputation": 620, "user_id": 2614596, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c0623ddb838e224134a39e1103569411?s=128&d=identicon&r=PG", "display_name": "user2614596", "link": "https://stackoverflow.com/users/2614596/user2614596"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 552, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1605162219, "creation_date": 1461796052, "last_edit_date": 1461796179, "question_id": 36902045, "link": "https://stackoverflow.com/questions/36902045/how-install-caffe-for-all-system-users", "title": "how install caffe for all system users?", "body": "<p>I installed caffe with anaconda in my home directory and it works.\nNow I want that also the other system users can use caffe and run it using the python wrapper.\nThus, I first installed anaconda in <code>/opt/anaconda</code> and added this folder in the PATH variable in <code>/etc/bash.bashrc</code> (in a similar way I did with my <code>.bashrc</code> file). Then I copied my caffe directory to <code>/opt/caffe</code> and added the proper path in the PYTHONPATH variable in <code>/etc/bash.bashrc</code>.</p>\n\n<p>As result, if another user runs python he correctly uses the anaconda version. Moreover he can run <code>import caffe</code>, but when it does so, an error is obtained because the python wrapper doesn t find the protobuf library.</p>\n\n<p>I though that all the requirements have been installed for all the users and not just for me.\nHow can I correctly permit other users to run caffe using the copy in <code>/opt/caffe</code>?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1461795909, "post_id": 36901985, "comment_id": 61368095, "body": "According to the <a href=\"https://docs.python.org/2/library/datetime.html#timedelta-objects\" rel=\"nofollow noreferrer\"><code>timedelta</code> documentation</a> <code>days</code> is an attribute that you can access directly."}, {"owner": {"reputation": 6288, "user_id": 2499076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd37bc8460b1645d72f7a8248156e?s=128&d=identicon&r=PG", "display_name": "Ewan Mellor", "link": "https://stackoverflow.com/users/2499076/ewan-mellor"}, "edited": false, "score": 0, "creation_date": 1461795916, "post_id": 36901985, "comment_id": 61368098, "body": "<code>help(datetime)</code> and <code>help(datetime.timedelta)</code> are what you need."}], "answers": [{"comments": [{"owner": {"reputation": 647, "user_id": 6047701, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8eda74efcfd3cb587224c522c1c92ff8?s=128&d=identicon&r=PG&f=1", "display_name": "McClamrock", "link": "https://stackoverflow.com/users/6047701/mcclamrock"}, "edited": false, "score": 0, "creation_date": 1461796114, "post_id": 36902005, "comment_id": 61368166, "body": "I thought it would probably be something that simple. Thanks--I&#39;ll accept your answer as soon as the site will let me!"}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 2, "last_activity_date": 1461796185, "last_edit_date": 1461796185, "creation_date": 1461795846, "answer_id": 36902005, "question_id": 36901985, "link": "https://stackoverflow.com/questions/36901985/python-how-to-get-number-of-days-from-fixed-past-date-to-now/36902005#36902005", "title": "Python: how to get number of days from fixed past date to now", "body": "<p>Just look at the <code>.days</code> property:</p>\n\n<pre><code>diffy.days\n</code></pre>\n\n<p>e.g.:</p>\n\n<pre><code>&gt;&gt;&gt; from datetime import datetime\n&gt;&gt;&gt; noo = datetime.now()\n&gt;&gt;&gt; then = noo.replace(month=3, day=15, hour=0, minute=0, second=0, microsecond=0)\n&gt;&gt;&gt; diffy = noo - then\n&gt;&gt;&gt; diffy\ndatetime.timedelta(43, 55471, 209431)\n&gt;&gt;&gt; diffy.days\n43\n</code></pre>\n\n<p>One thing to watch out for is the normalization of negative timedeltas... The <a href=\"https://docs.python.org/2/library/datetime.html#datetime.timedelta\" rel=\"nofollow\">documentation</a> even says that these can be surprising...</p>\n"}], "owner": {"reputation": 647, "user_id": 6047701, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8eda74efcfd3cb587224c522c1c92ff8?s=128&d=identicon&r=PG&f=1", "display_name": "McClamrock", "link": "https://stackoverflow.com/users/6047701/mcclamrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 36902005, "answer_count": 1, "score": 0, "last_activity_date": 1461796185, "creation_date": 1461795692, "question_id": 36901985, "link": "https://stackoverflow.com/questions/36901985/python-how-to-get-number-of-days-from-fixed-past-date-to-now", "title": "Python: how to get number of days from fixed past date to now", "body": "<p>I'm trying to use Python to get the number of days from an arbitrary fixed past date (e.g., 2016/03/15) to now. I see that I can use <code>datetime</code> to specify now and the past date, and get a timedelta containing the number of days between:</p>\n\n<pre><code>&gt;&gt;&gt; noo = datetime.now()\n&gt;&gt;&gt; then = noo.replace(month=3, day=15, hour=0, minute=0, second=0, microsecond=0)\n&gt;&gt;&gt; diffy = noo - then\n&gt;&gt;&gt; diffy\ndatetime.timedelta(43, 65233, 748370)\n</code></pre>\n\n<p>But, being still pretty new to Python, I don't know how to extract the number of days (43) from the timedelta. Can somebody help me out with this?</p>\n"}, {"tags": ["python", "loops", "input", "while-loop", "storage"], "answers": [{"tags": [], "owner": {"reputation": 4565, "user_id": 1968462, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6ef24851a32cb6519312916524da2586?s=128&d=identicon&r=PG", "display_name": "Kat", "link": "https://stackoverflow.com/users/1968462/kat"}, "is_accepted": false, "score": 1, "last_activity_date": 1461795689, "creation_date": 1461795689, "answer_id": 36901984, "question_id": 36901942, "link": "https://stackoverflow.com/questions/36901942/how-to-store-arbitrary-number-of-inputs-from-user/36901984#36901984", "title": "How to store arbitrary number of inputs from user?", "body": "<p>The next thing you'd want to learn about is a data structure such a <a href=\"https://docs.python.org/3/tutorial/datastructures.html\" rel=\"nofollow\">list</a>. You can then add items to the list on the fly with <code>list.append</code>.</p>\n\n<p>However, it's noteworthy that where ever you're learning Python from will certainly go over lists at one point or another.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6263839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23f0d3470570d4eeee840e2a3fa71a9?s=128&d=identicon&r=PG&f=1", "display_name": "Tyrone Biggums", "link": "https://stackoverflow.com/users/6263839/tyrone-biggums"}, "edited": false, "score": 0, "creation_date": 1461796538, "post_id": 36901988, "comment_id": 61368338, "body": "thanks a buddy of mine suggested i append the values as well was not quite sure how to do it until now!"}], "tags": [], "owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "is_accepted": false, "score": 3, "last_activity_date": 1461795716, "creation_date": 1461795716, "answer_id": 36901988, "question_id": 36901942, "link": "https://stackoverflow.com/questions/36901942/how-to-store-arbitrary-number-of-inputs-from-user/36901988#36901988", "title": "How to store arbitrary number of inputs from user?", "body": "<p>You can append these values to a list. Sum and then divide by the length for the average.</p>\n\n<pre><code>nums = []\nwhile True:\n    x = input(\"Enter a number:\")\n    if x == 'end':\n        avg = sum(nums) / len(nums)\n        print(\"And the average is....\", avg)\n        break\n    elif x.isdigit():\n        nums.append(int(x))\n    else:\n        print(\"Try again.\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": false, "score": 0, "last_activity_date": 1461795776, "creation_date": 1461795776, "answer_id": 36901998, "question_id": 36901942, "link": "https://stackoverflow.com/questions/36901942/how-to-store-arbitrary-number-of-inputs-from-user/36901998#36901998", "title": "How to store arbitrary number of inputs from user?", "body": "<p>If you mean that you want to store all the x values given, just use a list. l = [] l.append(x).</p>\n"}], "owner": {"reputation": 1, "user_id": 6263839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23f0d3470570d4eeee840e2a3fa71a9?s=128&d=identicon&r=PG&f=1", "display_name": "Tyrone Biggums", "link": "https://stackoverflow.com/users/6263839/tyrone-biggums"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1461803304, "creation_date": 1461795516, "last_edit_date": 1461803304, "question_id": 36901942, "link": "https://stackoverflow.com/questions/36901942/how-to-store-arbitrary-number-of-inputs-from-user", "title": "How to store arbitrary number of inputs from user?", "body": "<p>Just wondering how I would store the inputs for an average sum of square roots problem.</p>\n\n<p>The user can input as many numbers as they until they type 'end'</p>\n\n<p>here is what i have for that</p>\n\n<pre><code>while(True):\n    x = input(\"Enter a number please:\")\n    if x == 'end':\n        break\n</code></pre>\n"}, {"tags": ["python", "apache", "mod-wsgi", "bottle"], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 128525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f18ab943919cb415737cb914583bb2c1?s=128&d=identicon&r=PG", "display_name": "404error", "link": "https://stackoverflow.com/users/128525/404error"}, "edited": false, "score": 0, "creation_date": 1461796666, "post_id": 36902096, "comment_id": 61368380, "body": "Thanks for the reply. I made the change you suggested to my app.wsgi and now when I run python3 app.wsgi nothing is returned, I&#39;m assuming all is well there now. My Apache log still show the same errors though."}, {"owner": {"reputation": 2375, "user_id": 3019685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b3ac807a5c21871570d9c73e8225?s=128&d=identicon&r=PG&f=1", "display_name": "systemjack", "link": "https://stackoverflow.com/users/3019685/systemjack"}, "reply_to_user": {"reputation": 575, "user_id": 128525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f18ab943919cb415737cb914583bb2c1?s=128&d=identicon&r=PG", "display_name": "404error", "link": "https://stackoverflow.com/users/128525/404error"}, "edited": false, "score": 1, "creation_date": 1461797246, "post_id": 36902096, "comment_id": 61368606, "body": "Another post suggested explicitly including your app directory in the path: <code>sys.path.insert(0, &#39;&#47;var&#47;www&#47;bottle_app&#39;)</code> <a href=\"http://stackoverflow.com/questions/17678037/running-apache-bottle-python\">link</a>. I&#39;d guess something else wrong with the overall config though. Shouldn&#39;t need to be this complicated."}, {"owner": {"reputation": 575, "user_id": 128525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f18ab943919cb415737cb914583bb2c1?s=128&d=identicon&r=PG", "display_name": "404error", "link": "https://stackoverflow.com/users/128525/404error"}, "edited": false, "score": 0, "creation_date": 1461797372, "post_id": 36902096, "comment_id": 61368660, "body": "<code>import sys sys.path.insert(0, &#39;&#47;path&#47;to&#47;application&#47;app&#47;folder&#39;)</code> something like this?"}, {"owner": {"reputation": 575, "user_id": 128525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f18ab943919cb415737cb914583bb2c1?s=128&d=identicon&r=PG", "display_name": "404error", "link": "https://stackoverflow.com/users/128525/404error"}, "edited": false, "score": 0, "creation_date": 1461797642, "post_id": 36902096, "comment_id": 61368744, "body": "Man I cannot express how grateful I am. I added what you suggested to app.wsgi and it worked. Can you change your answer to include sys.path.insert so I can accept it?"}, {"owner": {"reputation": 2375, "user_id": 3019685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b3ac807a5c21871570d9c73e8225?s=128&d=identicon&r=PG&f=1", "display_name": "systemjack", "link": "https://stackoverflow.com/users/3019685/systemjack"}, "reply_to_user": {"reputation": 575, "user_id": 128525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f18ab943919cb415737cb914583bb2c1?s=128&d=identicon&r=PG", "display_name": "404error", "link": "https://stackoverflow.com/users/128525/404error"}, "edited": false, "score": 0, "creation_date": 1461797881, "post_id": 36902096, "comment_id": 61368817, "body": "Glad I was able to help :-)"}, {"owner": {"reputation": 575, "user_id": 128525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f18ab943919cb415737cb914583bb2c1?s=128&d=identicon&r=PG", "display_name": "404error", "link": "https://stackoverflow.com/users/128525/404error"}, "edited": false, "score": 0, "creation_date": 1461798011, "post_id": 36902096, "comment_id": 61368842, "body": "Originally i was trying to deploy with nginx and gunicorn, that was a whole other headache, I figured this route would be easier. Thanks again, the universe will find a way to thank you!"}, {"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 2, "creation_date": 1461806079, "post_id": 36902096, "comment_id": 61370941, "body": "In general it is bad practice to rely on the current working directory being a specific location in web applications. You should always aim to construct absolute paths for anything you need. If it is in code base you can do that by anchoring off <code>__file__</code> as shown, but just don&#39;t use that to then change the working directory, use it to create absolute paths for the assets etc."}, {"owner": {"reputation": 575, "user_id": 128525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f18ab943919cb415737cb914583bb2c1?s=128&d=identicon&r=PG", "display_name": "404error", "link": "https://stackoverflow.com/users/128525/404error"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1461860102, "post_id": 36902096, "comment_id": 61401954, "body": "@GrahamDumpleton that just went over my head. Is there some suggested reading you think I should do on this topic?"}, {"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1461862140, "post_id": 36902096, "comment_id": 61403216, "body": "It is documented in <a href=\"http://modwsgi.readthedocs.io/en/develop/user-guides/application-issues.html#application-working-directory\" rel=\"nofollow noreferrer\">modwsgi.readthedocs.io/en/develop/user-guides/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2375, "user_id": 3019685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b3ac807a5c21871570d9c73e8225?s=128&d=identicon&r=PG&f=1", "display_name": "systemjack", "link": "https://stackoverflow.com/users/3019685/systemjack"}, "is_accepted": true, "score": 2, "last_activity_date": 1461799251, "last_edit_date": 1461799251, "creation_date": 1461796268, "answer_id": 36902096, "question_id": 36901905, "link": "https://stackoverflow.com/questions/36901905/deploying-a-bottle-py-app-with-apache-mod-wsgi-on-ubuntu-16-04/36902096#36902096", "title": "Deploying a Bottle.py app with Apache mod_wsgi on Ubuntu 16.04", "body": "<p>Before you import your app module in the app.wsgi file, try:</p>\n\n<pre><code>import sys\nsys.path.insert(0, '/var/www/bottle_app')\n</code></pre>\n\n<p>A cleaner way might be to make use of the <strong>home</strong> or <strong>python-path</strong> parameters to the <a href=\"http://modwsgi.readthedocs.io/en/develop/configuration-directives/WSGIDaemonProcess.html\" rel=\"nofollow\">WSGIDaemonProcess</a> entry in the Apache configuration.</p>\n\n<pre><code>WSGIDaemonProcess bottle_app user=bottle group=www-data processes=1 threads=5 python-path=/var/www/bottle_app\n</code></pre>\n\n<p>The __file__ isn't absolute, so if you need to get it's location for this type of purpose (where a controlling process like Apache might be doing funny things with paths) try:</p>\n\n<pre><code>os.chdir(os.path.dirname(os.path.abspath(__file__)))\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 128525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f18ab943919cb415737cb914583bb2c1?s=128&d=identicon&r=PG", "display_name": "404error", "link": "https://stackoverflow.com/users/128525/404error"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "accepted_answer_id": 36902096, "answer_count": 1, "score": 2, "last_activity_date": 1461799251, "creation_date": 1461795342, "question_id": 36901905, "link": "https://stackoverflow.com/questions/36901905/deploying-a-bottle-py-app-with-apache-mod-wsgi-on-ubuntu-16-04", "title": "Deploying a Bottle.py app with Apache mod_wsgi on Ubuntu 16.04", "body": "<p>I'm having a hard time deploying a Bottle app. I've tried using some of the suggested answers in past questions but I can't seem to get this working. I end up with a 500 Internal Server Error</p>\n\n<p>This is my set up. </p>\n\n<ul>\n<li>Ubuntu 16.04</li>\n<li>Apache</li>\n<li>libapache2-mod-wsgi-py3</li>\n<li>Python 3.5</li>\n</ul>\n\n<p>My .wsgi and app.py file sit at:</p>\n\n<p>/var/www/bottle_app/</p>\n\n<ul>\n<li>app.wsgi</li>\n<li>app.py</li>\n</ul>\n\n<p>app.wsgi is as follows</p>\n\n<pre><code>import os\n# Change working directory so relative paths (and template lookup) work again\nos.chdir(os.path.dirname(__file__))\n\nimport bottle\n# ... build or import your bottle application here ...\nimport app\napplication = bottle.default_app()\n</code></pre>\n\n<p>app.py is as follows</p>\n\n<pre><code>from bottle import route\n@route('/')\ndef hello():\n    return 'Hello world'\n</code></pre>\n\n<p>Apache .conf file:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\nServerName example.com \n\nWSGIDaemonProcess bottle_app user=bottle group=www-data processes=1 threads=5\nWSGIScriptAlias / /var/www/bottle_app/app.wsgi\n\n&lt;Directory /var/www/bottle_app&gt;\n    WSGIProcessGroup bottle_app\n    WSGIApplicationGroup %{GLOBAL}\n    Require all granted\n&lt;/Directory&gt;\n</code></pre>\n\n<p></p>\n\n<p>When I run python3 app.py, nothing is returned (I'm assuming this is expected)\nWhen I run python3 app.wsgi I get:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"app.wsgi\", line 3, in &lt;module&gt;\n  os.chdir(os.path.dirname(__file__))\nFileNotFoundError: [Errno 2] No such file or directory: ''\n</code></pre>\n\n<p>My Apache error logs show the following errors.</p>\n\n<pre><code>Target WSGI script '/var/www/bottle_app/app.wsgi' cannot be loaded as Python module\nException occurred processing WSGI script '/var/www/bottle_app/app.wsgi\nTraceback (most recent call last):\nFile \"/var/www/bottle_app/app.wsgi\", line 7, in &lt;module&gt;\n   import app\nImportError: No module named 'app'\n</code></pre>\n\n<p>I did this on a clean Ubuntu install under user bottle with sudo privileges. This is probably the 10th time I've rebuilt using different suggestions from other questions from users who had similar problems. I was trying to avoid having to post a question that would seem like duplicate. Any help would be greatly appreciated. </p>\n"}, {"tags": ["python", "multithreading", "select", "signals"], "owner": {"reputation": 21, "user_id": 1501885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/845b47ab947080813b3afba37cb2d3e4?s=128&d=identicon&r=PG", "display_name": "user0000000", "link": "https://stackoverflow.com/users/1501885/user0000000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1461795325, "creation_date": 1461795325, "question_id": 36901899, "link": "https://stackoverflow.com/questions/36901899/select-after-spawning-subprocess-in-thread-causes-main-thread-to-deadlock", "title": "Select After Spawning Subprocess in Thread Causes Main Thread to Deadlock", "body": "<p>I'm currently having a problem with threads running sub-processes. The program uses the main thread to handle signals from the OS, e.g. SIGINT, SIGTERM, etc. It also spins up other threads which run processes in the background. However if the main thread is sleeping at signal.pause(), and a background thread runs a sub-process and then selects on a file descriptor it will cause the main thread to immediately deadlock. Any attempts to send a catchable signal to the program won't trigger any of the respective handlers.</p>\n\n<p>This problem only seems to occur only on OS X using the bundled version of python 2.7 or using 2.7 compiled from source. I have tested the problem on Ubuntu linux with python 2.7 and haven't been able to reproduce the problem. I have also tested this in python 3.5 on OS X haven't been able to reproduce the problem. </p>\n\n<p>Here is a snippet which can be used to reproduce the behavior:</p>\n\n<pre><code>import threading\nimport os\nimport signal\nimport select\n\n\ndef run():\n\u00a0\u00a0\u00a0\u00a0ping_r = os.pipe()[0]\n\u00a0\u00a0\u00a0\u00a0os.system('touch /tmp/blah')\n\u00a0\u00a0\u00a0\u00a0select.select([ping_r], [], [])\n\nt = threading.Thread(target=run)\nt.start()\nsignal.pause()\n</code></pre>\n\n<p>Is there something that I'm un-aware of / forgetting to set in python causing this issue?</p>\n"}, {"tags": ["python", "rest", "flask", "multipartform-data"], "answers": [{"comments": [{"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 0, "creation_date": 1461809358, "post_id": 36902872, "comment_id": 61371807, "body": "Hmm. But the file should be treated as binary. How can I get the raw binary data?"}, {"owner": {"reputation": 2375, "user_id": 3019685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b3ac807a5c21871570d9c73e8225?s=128&d=identicon&r=PG&f=1", "display_name": "systemjack", "link": "https://stackoverflow.com/users/3019685/systemjack"}, "reply_to_user": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 0, "creation_date": 1461812047, "post_id": 36902872, "comment_id": 61372523, "body": "Maybe it would help if you explained how you are posting the data on the client side."}, {"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 0, "creation_date": 1461913322, "post_id": 36902872, "comment_id": 61423083, "body": "Thanks so much for the response. For some reason, both of these changes (curl command and the <code>request.get_data()</code>) didn&#39;t result in any change in the uploaded file&#39;s hash. This is very much confusing me."}, {"owner": {"reputation": 9318, "user_id": 719247, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc2b6d74e373d24bec86266a07024806?s=128&d=identicon&r=PG", "display_name": "Paolo Stefan", "link": "https://stackoverflow.com/users/719247/paolo-stefan"}, "edited": false, "score": 0, "creation_date": 1563516653, "post_id": 36902872, "comment_id": 100732964, "body": "All the links are broken :-("}, {"owner": {"reputation": 2375, "user_id": 3019685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b3ac807a5c21871570d9c73e8225?s=128&d=identicon&r=PG&f=1", "display_name": "systemjack", "link": "https://stackoverflow.com/users/3019685/systemjack"}, "edited": false, "score": 0, "creation_date": 1563569948, "post_id": 36902872, "comment_id": 100757448, "body": "Updated the broken links."}], "tags": [], "owner": {"reputation": 2375, "user_id": 3019685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b3ac807a5c21871570d9c73e8225?s=128&d=identicon&r=PG&f=1", "display_name": "systemjack", "link": "https://stackoverflow.com/users/3019685/systemjack"}, "is_accepted": false, "score": 3, "last_activity_date": 1563569764, "last_edit_date": 1563569764, "creation_date": 1461801025, "answer_id": 36902872, "question_id": 36901809, "link": "https://stackoverflow.com/questions/36901809/restfully-upload-file-in-flask-without-multipart-form-data/36902872#36902872", "title": "ReSTfully upload file in Flask without multipart/form-data", "body": "<p>The issue might be the curl command you are using. The man page recommends --data-binary: \"This posts data exactly as specified with no extra processing whatsoever.\" The --data parameter is a synonym for --data-ascii. Probably don't need the -X parameter then either as it should default to POST.</p>\n\n<pre><code>curl -v -H 'Content-Type: application/octet-stream' -X POST --data-binary @test.zip https://example.com/test/rupload/test.zip\n</code></pre>\n\n<p>There are additional options on the <a href=\"https://github.com/pallets/werkzeug/blob/master/src/werkzeug/wrappers/base_request.py#L426\" rel=\"nofollow noreferrer\">request.get_data</a> call that could help in case they were overridden somewhere. But looks like that should work on the server side. Disabling the cache feature might benefit your use case in particular.</p>\n\n<pre><code>f.write(request.get_data(cache=False, as_text=False, parse_form_data=False))\n</code></pre>\n\n<p>If it is the server side you might have to dig deeper into Werkzeug <a href=\"https://github.com/pallets/werkzeug/blob/master/src/werkzeug/wsgi.py#L202\" rel=\"nofollow noreferrer\">get_input_stream</a> which is what feeds the request object.</p>\n\n<p>It's good that the curl command is using the content-type header as 'application/octet-stream'. Flask doesn't appear to do anything with that in this case, but it can help a more general usage from having the data mangled by proxies or other cases.</p>\n\n<p>Regarding efficiently handling large files, you might want to look at the <a href=\"https://flask.palletsprojects.com/en/1.1.x/api/?highlight=request%20stream#flask.Request.stream\" rel=\"nofollow noreferrer\">request stream property</a>, which is what get_data uses internally to read the data from.</p>\n"}, {"comments": [{"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 0, "creation_date": 1461809334, "post_id": 36902988, "comment_id": 61371803, "body": "Sorry, this has nothing to do with the hashing, but thanks! I have indeed used haslib."}, {"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 1, "creation_date": 1462781258, "post_id": 36902988, "comment_id": 61762993, "body": "What do you know, you were right... I wasn&#39;t opening the file in binary mode for hashing. Thanks!!!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5507598"}, "is_accepted": true, "score": 1, "last_activity_date": 1461801779, "creation_date": 1461801779, "answer_id": 36902988, "question_id": 36901809, "link": "https://stackoverflow.com/questions/36901809/restfully-upload-file-in-flask-without-multipart-form-data/36902988#36902988", "title": "ReSTfully upload file in Flask without multipart/form-data", "body": "<p>Have you tried using hashlib?</p>\n\n<pre><code>import hashlib\n...\n@application.route(\"/rupload/&lt;filename&gt;\", methods=['POST', 'PUT'])\ndef rupload(filename):\n    # Sanity checks and setup skipped.\n\n    filename = secure_filename(filename)\n    fileFullPath = os.path.join(UPLOAD_FOLDER, filename)\n    file_hash = hashlib.sha256()\n    with open(fileFullPath, 'wb+') as f:\n        input = request.get_data()\n        f.write(input)\n        file_hash.update(input)\n        ...\n    fileDigest = file_hash.hexdigest()\n</code></pre>\n"}], "owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3038, "favorite_count": 2, "accepted_answer_id": 36902988, "answer_count": 2, "score": 3, "last_activity_date": 1563569764, "creation_date": 1461794930, "last_edit_date": 1462310977, "question_id": 36901809, "link": "https://stackoverflow.com/questions/36901809/restfully-upload-file-in-flask-without-multipart-form-data", "title": "ReSTfully upload file in Flask without multipart/form-data", "body": "<p>I'm trying to upload a binary file to a Flask endpoint without using any type of <code>multipart/form-data</code>. I'd like to simply <code>POST</code> or <code>PUT</code> the data inside the file to the endpoint, and save it to a file on the server. The only examples I can find, and the only method discussed in other questions, uses <code>multipart/form-data</code>.</p>\n\n<p>The following \"works\", but the SHA256 hashes usually don't match, whereas uploading as <code>form-data</code> works fine.</p>\n\n<pre><code>@application.route(\"/rupload/&lt;filename&gt;\", methods=['POST', 'PUT'])\ndef rupload(filename):\n    # Sanity checks and setup skipped.\n\n    filename = secure_filename(filename)\n    fileFullPath = os.path.join(UPLOAD_FOLDER, filename)\n\n    with open(fileFullPath, 'wb') as f:\n        f.write(request.get_data())\n\n    return jsonify({\n        'filename': filename,\n        'size': os.path.getsize(fileFullPath)\n    })\n</code></pre>\n\n<p>Additionally, the above is very inefficient with memory. Is there a way to write it to the output file via some type of buffered stream? Thanks!</p>\n\n<p><strong>Edit:</strong> This is how I'm testing this:</p>\n\n<pre><code>curl -v -H 'Content-Type: application/octet-stream' -X POST --data @test.zip https://example.com/test/rupload/test.zip\n</code></pre>\n\n<p><strong>Edit:</strong> <code>--data-binary</code> makes no difference.</p>\n"}, {"tags": ["python", "xml", "xml-parsing"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1461794994, "post_id": 36901802, "comment_id": 61367711, "body": "What do you mean you used <code>content.find()</code>? What library are you using and where is your python code?"}, {"owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "edited": false, "score": 0, "creation_date": 1461796227, "post_id": 36901802, "comment_id": 61368216, "body": "The answer to <i>hir</i> last question pointed at the <code>xml.etree</code> module."}, {"owner": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1461796371, "post_id": 36901802, "comment_id": 61368272, "body": "Hi! I am using ElementTree. I use it like this -  ids = content.find(&quot;id&quot;)"}], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1461824708, "post_id": 36903478, "comment_id": 61376886, "body": "This seems to be partially working for me.  I have - \t\tfor child in tree: \t\t\tif child.find(&#39;id&#39;).text == amazon_id: \t\t\t\tprint &quot;[+] %r found in %r!&quot; %(amazon_id, xmlfile) \t\telse: \t\t\tprint &quot;[!] %r not found in %r!&quot; %(amazon_id, xmlfile)  amazon_id, xmlfile are taken from sys.argv. This returns - &#39;AL2012-2014-001&#39; found in &#39;xml.xml&#39;! &#39;AL2012-2014-001&#39; found in &#39;xml.xml&#39;! &#39;AL2012-2014-001&#39; not found in &#39;xml.xml&#39;!  How can I correct this?"}, {"owner": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1461825583, "post_id": 36903478, "comment_id": 61377266, "body": "I think I know what is happening. The XML file I have has 100 trees and hence this is running 100 times! How can I fix this?"}, {"owner": {"reputation": 482, "user_id": 3148185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed373bc90497a8da7feb326541f291f?s=128&d=identicon&r=PG&f=1", "display_name": "user3148185", "link": "https://stackoverflow.com/users/3148185/user3148185"}, "reply_to_user": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1461865531, "post_id": 36903478, "comment_id": 61405369, "body": "This seems more like a question about your data than the programming. Looks like <code>&quot;AL2012-2014-001&quot;</code> shows up multiple times in your XML file, so you need to decide what to do with that information like count the number of occurrences, such as <code>counter = 0</code> and <code>if child.find(&#39;id&#39;).text == amazon_id: counter = counter  + 1</code>"}, {"owner": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "edited": false, "score": 0, "creation_date": 1461872190, "post_id": 36903478, "comment_id": 61409267, "body": "I have just one unique entry and the XML is well formed."}], "tags": [], "owner": {"reputation": 482, "user_id": 3148185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed373bc90497a8da7feb326541f291f?s=128&d=identicon&r=PG&f=1", "display_name": "user3148185", "link": "https://stackoverflow.com/users/3148185/user3148185"}, "is_accepted": false, "score": 0, "last_activity_date": 1461805581, "creation_date": 1461805581, "answer_id": 36903478, "question_id": 36901802, "link": "https://stackoverflow.com/questions/36901802/search-xml-content-in-python/36903478#36903478", "title": "Search XML content in Python", "body": "<p>I believe the find command is designed to find tags as opposed to the text within the tags so you should do find on <code>id</code>. I'm not sure which info you need from the XML, but here is an example that gets the title.</p>\n\n<pre><code>import xml.etree.ElementTree as elt\ncontent = elt.parse('example.xml').getroot()\n\ndef get_id_info(inputID):\n    for child in content:\n        if child.find('id').text == inputID:\n            print child.find('title').text\n\nget_id_info('AL2012-2014-001')\n</code></pre>\n\n<p>gives <code>Amazon Linux 2012.03 - AL2012-2014-001...</code></p>\n"}, {"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1461806151, "creation_date": 1461806151, "answer_id": 36903566, "question_id": 36901802, "link": "https://stackoverflow.com/questions/36901802/search-xml-content-in-python/36903566#36903566", "title": "Search XML content in Python", "body": "<p>If you would switch to <a href=\"http://lxml.de/tutorial.html\" rel=\"nofollow\"><code>lxml.etree</code></a>, you would be able to use the full power of XPath expressions (you would also speed things up dramatically).</p>\n\n<p>Here is an example - locating the <code>update</code> element with a desired <code>id</code> and printing out the <code>title</code>:</p>\n\n<pre><code>from lxml import etree as ET\n\nid_that_user_enters = \"AL2012-2015-088\"\ntree = ET.parse(\"example.xml\")\n\nupdate = tree.xpath(\"//update[id = '%s']\" % id_that_user_enters)[0]\nprint(update.findtext(\"title\"))\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Amazon Linux 2012.03 - AL2012-2015-088: medium priority package update for gnutls\n</code></pre>\n"}], "owner": {"reputation": 192, "user_id": 1573157, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b17cba205718bdc29af75882921b5ca4?s=128&d=identicon&r=PG", "display_name": "Metahuman", "link": "https://stackoverflow.com/users/1573157/metahuman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4971, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1464844672, "creation_date": 1461794903, "last_edit_date": 1495540366, "question_id": 36901802, "link": "https://stackoverflow.com/questions/36901802/search-xml-content-in-python", "title": "Search XML content in Python", "body": "<p>I have the following XML file:</p>\n\n\n\n<p>With <a href=\"https://stackoverflow.com/questions/36851971/parse-updateinfo-xml\">some help of StackOverflow,</a> I managed to achieve some of what I planned to do. Now, I want to add a search function to my script and singularly work on that sub-tree. For example, I ask the user - what ID? He enters <code>AL2012-2015-088</code>. Recursively searching for this ID in a huge XML file, the script should find this ID and print the elements it has. </p>\n\n<p>I used <code>content.find(\"AL2012-2015-088\")</code>, but it won't work!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461795466, "post_id": 36901798, "comment_id": 61367923, "body": "You&#39;re returning function references, by the way - neither <code>helper</code> is ever actually called."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461795563, "post_id": 36901798, "comment_id": 61367965, "body": "And even changing that, you won&#39;t get additional key/value pairs in subsequent calls of <code>a2()</code>, because a new dictionary <code>x</code> is defined each time."}, {"owner": {"reputation": 15438, "user_id": 364253, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/285065616c3dc00c44b41bb1eccf650d?s=128&d=identicon&r=PG", "display_name": "denniss", "link": "https://stackoverflow.com/users/364253/denniss"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461796338, "post_id": 36901798, "comment_id": 61368256, "body": "@TigerhawkT3 Can you elaborate more on <code>neither helper is ever actually called</code>? If it isn&#39;t getting called why does calling <code>a2</code> adds new values to the dictionary every time?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461796497, "post_id": 36901798, "comment_id": 61368324, "body": "Oh I see, you&#39;re saving a reference to <code>add2()</code> and then calling it repeatedly; never mind."}], "answers": [{"comments": [{"owner": {"reputation": 15438, "user_id": 364253, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/285065616c3dc00c44b41bb1eccf650d?s=128&d=identicon&r=PG", "display_name": "denniss", "link": "https://stackoverflow.com/users/364253/denniss"}, "edited": false, "score": 0, "creation_date": 1461795088, "post_id": 36901833, "comment_id": 61367743, "body": "and how come I don&#39;t have to do this for <code>add2</code> ?"}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "reply_to_user": {"reputation": 15438, "user_id": 364253, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/285065616c3dc00c44b41bb1eccf650d?s=128&d=identicon&r=PG", "display_name": "denniss", "link": "https://stackoverflow.com/users/364253/denniss"}, "edited": false, "score": 0, "creation_date": 1461795126, "post_id": 36901833, "comment_id": 61367764, "body": "Because you never rebind <code>x</code> in <code>add2()</code>, you only mutate it."}, {"owner": {"reputation": 15438, "user_id": 364253, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/285065616c3dc00c44b41bb1eccf650d?s=128&d=identicon&r=PG", "display_name": "denniss", "link": "https://stackoverflow.com/users/364253/denniss"}, "edited": false, "score": 1, "creation_date": 1461795149, "post_id": 36901833, "comment_id": 61367771, "body": "!!!!!!!!!!!! GOTCHA ... can you please add that last detail to your answer.... I want to make sure other ppl will see it."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1461795853, "post_id": 36901833, "comment_id": 61368070, "body": "Also note that you wouldn&#39;t need <code>nonlocal</code> if you had assigned <code>x + 1</code> to a new reference, like <code>y</code>. The interpreter will then look up <code>x</code> in the surrounding scope. It&#39;s when you rebind the same reference that it assumes you&#39;re talking about a local variable and can&#39;t find it in the local scope."}], "tags": [], "owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "is_accepted": false, "score": 29, "last_activity_date": 1461795503, "last_edit_date": 1461795503, "creation_date": 1461795024, "answer_id": 36901833, "question_id": 36901798, "link": "https://stackoverflow.com/questions/36901798/pythons-closure-local-variable-referenced-before-assignment/36901833#36901833", "title": "Python&#39;s closure - local variable referenced before assignment", "body": "<p>You're expecting the compiler to know that the variable has been bound outside the closure. This is not true, and hence you need to use <code>nonlocal</code> to indicate this.</p>\n\n<pre><code>def add1():\n    x = 0\n    def helper():\n        nonlocal x\n        x = x + 1\n        return x\n    return helper\n</code></pre>\n\n<p>EDIT By denniss:</p>\n\n<p><code>nonlocal</code> is not necessary in <code>add2</code> because it's just modifying <code>x</code> and not re-binding it (aka not re-assigning it). Whereas in <code>add1</code>, <code>x= x+1</code> is a <code>re-assignment</code>.</p>\n"}], "owner": {"reputation": 15438, "user_id": 364253, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/285065616c3dc00c44b41bb1eccf650d?s=128&d=identicon&r=PG", "display_name": "denniss", "link": "https://stackoverflow.com/users/364253/denniss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3413, "favorite_count": 3, "answer_count": 1, "score": 15, "last_activity_date": 1461795503, "creation_date": 1461794888, "last_edit_date": 1461795222, "question_id": 36901798, "link": "https://stackoverflow.com/questions/36901798/pythons-closure-local-variable-referenced-before-assignment", "title": "Python&#39;s closure - local variable referenced before assignment", "body": "<p>I am trying to understand how closure works in Python. </p>\n\n<p>I feel like add1 should work just fine here. I would expect the variable <code>x</code> to have been defined when <code>helper</code> is called. However, it is giving me a <code>Local variable referenced before assignment</code> error.</p>\n\n<p><code>add2</code> is very similar to <code>add1</code>. Instead of assigning x with an integer, it assigns it with a dictionary. The behavior of it is also aligned with what I would expect. <code>x</code> is defined and reference-able inside <code>helper</code>.</p>\n\n<pre><code>import random\n\ndef add1():\n    x = 0\n    def helper():\n        x = x + 1\n        return x\n    return helper\n\ndef add2():\n    x = {}\n    def helper():\n        x[random.randint(1,1000)] = 3\n        return x\n    return helper\n\nif __name__ == '__main__':\n    a1 = add1()\n    a2 = add2()\n\n    # print(a1()) #This causes error\n    print(a2()) #{650: 3}\n    print(a2()) #{650: 3, 333: 3}\n</code></pre>\n\n<p>What's the logic behind this? What am I doing differently other than that the types of <code>x</code> are different? </p>\n"}, {"tags": ["python", "csv", "math", "store"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1461795992, "post_id": 36901781, "comment_id": 61368132, "body": "<code>state_ints = state_ints.append(addone)</code> - I suggest you review your course materials about <code>append</code>."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1461796167, "post_id": 36901781, "comment_id": 61368192, "body": "I&#39;m afraid &quot;fix all the errors in my code&quot; is not a specific enough question to be on-topic for SO."}], "answers": [{"tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": false, "score": 0, "last_activity_date": 1461796167, "last_edit_date": 1461796167, "creation_date": 1461795401, "answer_id": 36901923, "question_id": 36901781, "link": "https://stackoverflow.com/questions/36901781/maths-quiz-for-python-str-object-has-no-attribute/36901923#36901923", "title": "Maths quiz for python - str object has no attribute", "body": "<p>A string is immutable. You can't change it. You need to make a new string or create a list and make a string of the list when you are done. Also <code>int</code> needs a string of a number to convert. A <code>None</code> type object is a variable with value <code>None</code>. <code>int</code> can't convert <code>None</code> to an integer so you get an error.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4848344, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oCdiMzNRRZM/AAAAAAAAAAI/AAAAAAAAACU/aX9WhhbEUQs/photo.jpg?sz=128", "display_name": "Mushtak Nadim", "link": "https://stackoverflow.com/users/4848344/mushtak-nadim"}, "edited": false, "score": 0, "creation_date": 1461796329, "post_id": 36902050, "comment_id": 61368253, "body": "I&#39;m slightly confused, can you provide me with an example?"}, {"owner": {"reputation": 4291, "user_id": 1916917, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4f93c1f2d2f2bb64e7e6c2d092f5a08a?s=128&d=identicon&r=PG", "display_name": "Holloway", "link": "https://stackoverflow.com/users/1916917/holloway"}, "reply_to_user": {"reputation": 1, "user_id": 4848344, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oCdiMzNRRZM/AAAAAAAAAAI/AAAAAAAAACU/aX9WhhbEUQs/photo.jpg?sz=128", "display_name": "Mushtak Nadim", "link": "https://stackoverflow.com/users/4848344/mushtak-nadim"}, "edited": false, "score": 0, "creation_date": 1461796404, "post_id": 36902050, "comment_id": 61368282, "body": "@MushtakNadim, An example of what?"}, {"owner": {"reputation": 1, "user_id": 4848344, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oCdiMzNRRZM/AAAAAAAAAAI/AAAAAAAAACU/aX9WhhbEUQs/photo.jpg?sz=128", "display_name": "Mushtak Nadim", "link": "https://stackoverflow.com/users/4848344/mushtak-nadim"}, "edited": false, "score": 0, "creation_date": 1461800343, "post_id": 36902050, "comment_id": 61369474, "body": "So I have updated my code but when I run it no data is added to the csv file, also the &quot;state&quot; file remains at 0 so even if data is added, the last 3 scores won&#39;t be updated and will be appended to the row. Can you check if there is any problems causing this?"}], "tags": [], "owner": {"reputation": 4291, "user_id": 1916917, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4f93c1f2d2f2bb64e7e6c2d092f5a08a?s=128&d=identicon&r=PG", "display_name": "Holloway", "link": "https://stackoverflow.com/users/1916917/holloway"}, "is_accepted": false, "score": 0, "last_activity_date": 1461797565, "last_edit_date": 1461797565, "creation_date": 1461796073, "answer_id": 36902050, "question_id": 36901781, "link": "https://stackoverflow.com/questions/36901781/maths-quiz-for-python-str-object-has-no-attribute/36902050#36902050", "title": "Maths quiz for python - str object has no attribute", "body": "<p>The line <code>for row in (\"Classroom {}.csv\".format(classroom_num)):</code> is iterating over a string, not a file. For each iteration, row is a single character string ('C' then 'l' etc).</p>\n\n<p><code>row[0]</code> is therefore the same as row and <code>name_row.append(...</code> is trying to call <code>append</code> on a string, hence the \"'str' object has no attribute 'append'\" error.</p>\n\n<p>I can't see the <code>int()</code> call that's failing but the line <code>state_ints = state_ints.append(addone)</code> is setting <code>state_ints</code> to <code>None</code>. <code>append</code> modifies the list in place and returns <code>None</code>. You just want <code>state_ints.append(addone)</code>.</p>\n\n<p>There are several other problems as well that suggest you might want to review a tutorial</p>\n\n<ul>\n<li>Putting a single item in brackets does nothing <code>(an_object)</code> is exactly the same as <code>an_object</code>.</li>\n<li><code>row [state_ints]</code> is trying to use a list as an index (assuming you didn't mean to set it to <code>None</code>\n)</li>\n<li><code>status.close</code> should be a method call</li>\n<li><code>if state_ints == 3:</code> <code>state_ints</code> is a list at this point. It's never going to equal 3</li>\n<li>etc</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "reply_to_user": {"reputation": 4291, "user_id": 1916917, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4f93c1f2d2f2bb64e7e6c2d092f5a08a?s=128&d=identicon&r=PG", "display_name": "Holloway", "link": "https://stackoverflow.com/users/1916917/holloway"}, "edited": false, "score": 0, "creation_date": 1461797425, "post_id": 36902153, "comment_id": 61368677, "body": "@Holloway True: I&#39;ll add something about that <code>f = open (...)</code> line and re-defining file handles in the answer. <code>f</code> seems to be the only file handle/variable name used for files in the script."}], "tags": [], "owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "is_accepted": false, "score": 0, "last_activity_date": 1461797711, "last_edit_date": 1461797711, "creation_date": 1461796529, "answer_id": 36902153, "question_id": 36901781, "link": "https://stackoverflow.com/questions/36901781/maths-quiz-for-python-str-object-has-no-attribute/36902153#36902153", "title": "Maths quiz for python - str object has no attribute", "body": "<p>See what's going on here?</p>\n\n<pre><code>&gt;&gt;&gt; for row in (\"Classroom {}.csv\".format(\"2\")):\n...     print row\n... \nC\nl\na\ns\ns\nr\no\no\nm\n\n2\n.\nc\ns\nv\n&gt;&gt;&gt; \n</code></pre>\n\n<p>You're not actually opening the file called \"Classroom[number].csv\" but, instead, you're iterating the characters in the file name. \nYou can normally use <code>append</code> on the rows of a csv since they are typically transformed into lists (either manually via <code>split(\",\")</code> or via the <code>csv</code> module) but it fails here since your rows are, in fact, <em>not</em> rows/lists but characters/strings. </p>\n\n<p>You can use <code>with open</code> and manually split by comma or use the <code>csv</code> module for parsing the file. The module approach:</p>\n\n<pre><code>&gt;&gt;&gt; import csv\n&gt;&gt;&gt; \n&gt;&gt;&gt; with open(\"Classroom {}.csv\".format(classroom_num),\"r\") as f:\n...     rows = csv.reader(f)\n...     for row in rows:\n...         print(row)\n</code></pre>\n\n<p>You keep re-using the file handle <code>f</code> when opening files. You also use both <code>with open()</code> and <code>f = open (...)</code>. This means that you might be trying to open the same file twice, read from a file you've opened in \"append\"-mode or other confusing/conflicting actions. Simply stick to <code>With open()</code> - that way, you won't have to manually close the files either. </p>\n"}], "owner": {"reputation": 1, "user_id": 4848344, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oCdiMzNRRZM/AAAAAAAAAAI/AAAAAAAAACU/aX9WhhbEUQs/photo.jpg?sz=128", "display_name": "Mushtak Nadim", "link": "https://stackoverflow.com/users/4848344/mushtak-nadim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1461800380, "creation_date": 1461794815, "last_edit_date": 1461800380, "question_id": 36901781, "link": "https://stackoverflow.com/questions/36901781/maths-quiz-for-python-str-object-has-no-attribute", "title": "Maths quiz for python - str object has no attribute", "body": "<p>I've been assigned a task to log student scores for a maths quiz</p>\n\n<p>Below is my task:</p>\n\n<p>The teacher wants to use the results from students taking these quizzes to log their performance. The system should store >the last three scores for each student. </p>\n\n<p>every time I run my code I receive the error:\nAttributeError: 'str' object has no attribute 'append'</p>\n\n<p>and when I convert into an int I get this error:\nint() argument must be a string, a bytes-like object or a number, not 'NoneType'</p>\n\n<pre><code>import csv\nimport os\n\nname = input(\"enter your name: \")\nclassroom_num = input(\"enter your classroom number: \")\nscore = 5\nprint (\"%s, you scored %d/10 questions correctly\"%(name,score)) \nstatus = open (\"state.txt\",\"w\") #Every time program is run +1 is added, so that column 1-3 are updated\nwith open (\"state.txt\",\"r\") as f:\n    state = f.read()\n    if os.stat(\"state.txt\").st_size == 0:\n        status.write (\"0\")\n\nstate_ints = [ int(x) for x in state.split() ] #converts into int\naddone = 1\nif state_ints == 3: #If program is run more than 3 times the value in text file reset to 0\n    state_ints = 0\n    status.write (state_ints)\nwith open(\"Classroom {}.csv\".format(classroom_num),\"a+\") as f:\n    rows = csv.reader(f)\n    for row in rows:\n        if row in rows in row[0] != (name) in row: #Checks if name exists in file (if so name isn't appended to column)\n            state_ints.append(addone) #Adds one everytime program is run so that score can be replaced for row 1-3\n            status.write (state_ints)\n            name_row = (row [0])\n            name_row.append(name)\n            score_row = (row (state_ints))\n            score_row.append(score)\n        else:\n            state_ints.append(addone)\n            status.write (state_ints)\n            score_row = (row [state_ints])\n            score_row.append(score)\nstatus.close()\n</code></pre>\n\n<p>Also what other mistakes might I have made? What can I do to make this more efficient and complete this task?</p>\n"}, {"tags": ["python", "python-2.7", "for-loop", "count"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1461794822, "post_id": 36901775, "comment_id": 61367648, "body": "Why would you return there?"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 1, "creation_date": 1461794837, "post_id": 36901775, "comment_id": 61367657, "body": "Related <a href=\"http://stackoverflow.com/q/2600191\">How can I count the occurrences of a list item in Python?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": true, "score": 3, "last_activity_date": 1461795351, "last_edit_date": 1461795351, "creation_date": 1461794890, "answer_id": 36901800, "question_id": 36901775, "link": "https://stackoverflow.com/questions/36901775/how-do-i-get-a-for-loop-to-return-the-sum-amount-of-specific-things-in-a-list/36901800#36901800", "title": "How do I get a for loop to return the sum amount of specific things in a list?", "body": "<p>You'll want to return when the loop is finished. With the indentation you have, it returns as soon as the first <code>fizz</code> is found.</p>\n\n<pre><code>def fizz_count(x):\n    count = 0\n    for item in x:\n        if item == 'fizz':\n            count = count + 1\n    return count\n</code></pre>\n\n<p>But you're still not thinking <a href=\"http://4.bp.blogspot.com/-cixvFNPgo1g/UvAH5geRpGI/AAAAAAAAAjM/q3GnGb4j-9E/s1600/Back+to+the+Future+6.jpg\" rel=\"nofollow\"><em>pythonically</em></a>. <code>for</code> loops are for the birds. Let's use a generator expression.</p>\n\n<pre><code> def fizz_count(x):\n     return sum(1 for item in x if item == 'fizz')\n</code></pre>\n\n<p>Or heck, we can be lazy (smart) and just call a built-in function to do it for us.</p>\n\n<pre><code>def fizz_count(x):\n    return x.count('fizz')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": false, "score": 1, "last_activity_date": 1461794941, "creation_date": 1461794941, "answer_id": 36901811, "question_id": 36901775, "link": "https://stackoverflow.com/questions/36901775/how-do-i-get-a-for-loop-to-return-the-sum-amount-of-specific-things-in-a-list/36901811#36901811", "title": "How do I get a for loop to return the sum amount of specific things in a list?", "body": "<p>You need to place the return statement outside the loop. When python gets a return statement it exits the function immediately. So you want to return when your for loop is done, otherwise it wont finish the loop.\nBut you can also just set the print statement in the function, return has no use here</p>\n"}], "owner": {"reputation": 5, "user_id": 6257267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/164103b1687a557fa742d96a3497b7ad?s=128&d=identicon&r=PG&f=1", "display_name": "Anon", "link": "https://stackoverflow.com/users/6257267/anon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 36901800, "answer_count": 2, "score": 0, "last_activity_date": 1461795351, "creation_date": 1461794766, "last_edit_date": 1461794926, "question_id": 36901775, "link": "https://stackoverflow.com/questions/36901775/how-do-i-get-a-for-loop-to-return-the-sum-amount-of-specific-things-in-a-list", "title": "How do I get a for loop to return the sum amount of specific things in a list?", "body": "<p>I'm learning python 2 and I'm testing out what I know about for loops.</p>\n\n<pre><code>def fizz_count(x):\n    count = 0\n    for item in x:\n        if item == 'fizz':\n            count = count + 1\n            return count\nfizz = [2, 'fizz', 'fizz', 'fIzZ', 6, 10, 'fizz', 'fizz']\nprint fizz_count(fizz)\n</code></pre>\n\n<p>above is something I made to test it, the idea is that every time the string 'fizz' is identified it add 1 to the variable <em>count</em>. As you can see, the string 'fizz' appears 4 times, so the number 4 should print. It doesn't.</p>\n"}, {"tags": ["python", "c++", "reference", "cython"], "comments": [{"owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "edited": false, "score": 0, "creation_date": 1461794998, "post_id": 36901759, "comment_id": 61367712, "body": "Note that the workaround proposed in the link is not <code>integer_ref[0] = other_value</code>, it&#39;s <code>(&amp;integer_ref)[0] = other_value</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2544124"}, "reply_to_user": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "edited": false, "score": 0, "creation_date": 1461795209, "post_id": 36901759, "comment_id": 61367798, "body": "Sorry, i didn&#39;t mean to imply that i used <code>integer_ref[0] = other_value</code> as a workaround from the link. The workaround from the link also didn&#39;t work for me, throwing a long compile error. Thanks for catching that, I forgot to mention."}], "answers": [{"tags": [], "owner": {"reputation": 7711, "user_id": 1150961, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/TOcu2.jpg?s=128&g=1", "display_name": "Till Hoffmann", "link": "https://stackoverflow.com/users/1150961/till-hoffmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1534186474, "creation_date": 1534186474, "answer_id": 51828856, "question_id": 36901759, "link": "https://stackoverflow.com/questions/36901759/references-in-cython/51828856#51828856", "title": "References in Cython", "body": "<p>You could use standard pointers to tackle this problem. For example,</p>\n\n<pre><code>def test():\n    cdef:\n        int i = 10\n        int* ref = &amp;i\n\n    print(ref[0])  # Prints 10\n    ref[0] = 5\n    print(i)  # Prints 5\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2544124"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 819, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1534186474, "creation_date": 1461794700, "last_edit_date": 1461795255, "question_id": 36901759, "link": "https://stackoverflow.com/questions/36901759/references-in-cython", "title": "References in Cython", "body": "<p>I'm having some trouble experimenting with references in Cython.\nI'm using this code to create an int and make a reference to it. </p>\n\n<pre><code>cdef int i = 10;\ncdef int&amp; integer_ref = i;\n</code></pre>\n\n<p>However, I cant figure out how to change the value of i through integer_ref. In C, I'd just use <code>integer_ref = some_other_value</code>, and that would set the value of <code>i</code> to <code>some_other_value</code>. </p>\n\n<p>However, doing that in cython returns an error because assignment to a reference isn't allowed. \nI tried <code>integer_ref[0] = some_other_value</code> as well, but that attempts to index an <code>int &amp;</code> which is not allowed. What should i be using?\nI found <a href=\"https://groups.google.com/forum/#!topic/cython-users/j58Sp3QMrD4\" rel=\"noreferrer\">this post on the cython-users list</a> that seems to imply that it's a known bug, but I'm not too sure. The workaround in the link of using <code>(&amp;integer_ref)[0] = some_other_value</code> also did not work for me.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["jquery", "python", "mysql", "api", "scripting"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 6247646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-ukiDcVbBpK8/AAAAAAAAAAI/AAAAAAAAAMM/X4yqV-5P2OI/photo.jpg?sz=128", "display_name": "Kamil Mieczakowski", "link": "https://stackoverflow.com/users/6247646/kamil-mieczakowski"}, "edited": false, "score": 0, "creation_date": 1461797593, "post_id": 36901878, "comment_id": 61368731, "body": "Thank you for your reply Rob. I am currently building the web app using Flask framework so the server side operations would be written in Python."}], "tags": [], "owner": {"reputation": 396, "user_id": 3968420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R77QC.jpg?s=128&g=1", "display_name": "Rob Wood", "link": "https://stackoverflow.com/users/3968420/rob-wood"}, "is_accepted": true, "score": 0, "last_activity_date": 1461795244, "creation_date": 1461795244, "answer_id": 36901878, "question_id": 36901709, "link": "https://stackoverflow.com/questions/36901709/most-effective-way-to-run-execute-api-calls/36901878#36901878", "title": "Most effective way to run execute API calls", "body": "<p>You don't mention what server side language you're using, but the concepts would be the same for all - make your query to get your 200K variables, loop through the result set, making the curl call to the API for each, store the results in an array, json encode the array at the end of the loop, and then dump the result to a file. As for the limit to requests per time period, most languages have some sort of pause function, in PHP it's sleep(). If all else fails, you could put a loop that does nothing (except take time) into each call to put a delay in the process.</p>\n"}], "owner": {"reputation": 313, "user_id": 6247646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-ukiDcVbBpK8/AAAAAAAAAAI/AAAAAAAAAMM/X4yqV-5P2OI/photo.jpg?sz=128", "display_name": "Kamil Mieczakowski", "link": "https://stackoverflow.com/users/6247646/kamil-mieczakowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 36901878, "answer_count": 1, "score": 0, "last_activity_date": 1461795244, "creation_date": 1461794474, "question_id": 36901709, "link": "https://stackoverflow.com/questions/36901709/most-effective-way-to-run-execute-api-calls", "title": "Most effective way to run execute API calls", "body": "<p>I am 'kind of' new to programming and must have searched a large chunk of the web in connection with this question. I am sure the answer is somewhere out there but I am probably simply not using the right terminology to find it. Nevertheless, I did my best and I am totally stuck. I hope people here understand the feeling and won't mind helping. </p>\n\n<p>I am currently working on a data driven web app that I am building together with an outsourced developer while also learning more about programming. I've got some rusty knowledge of it but I've been working in business-oriented non-technical roles for a few years now and the technical knowledge gathered some dust. </p>\n\n<p>The said web app uses MySql database to store information. In this MySql database there is currently a table containing 200,000 variables (Company Names). I want to run those Company Names through a third-party json RESTful API to return some additional data regarding those Companies.</p>\n\n<p>There are 2 questions here and I don't expect straight answers. Pointing me in the right learning direction would be sufficient:</p>\n\n<p><strong>1. How would I go about taking those 200,000 variables and executing a script that would automatically make 200,000 calls to the API to obtain the data I am after. How do I then save this data to a json or csv file to import to MySql? I know how to make single API requests, using curl but making automated large volume requests like that is a mystery to me. I don't know whether I should create a json file out of it or somehow queue the requests, I am lost.</strong></p>\n\n<p><strong>2. The API mentioned above is limited to 600 calls per 5 minutes perios, how do I introduce some sort of control system so that when the maximum volume of API calls is reached the script pauses and only returns to working when the specified amount of time goes by? What language is best to interact with the json RESTful API and to write the script described in question no1?</strong></p>\n\n<p>Thank you for your help.</p>\n\n<p>Kam</p>\n"}, {"tags": ["python", "python-2.7", "opencv", "graphics"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1461827343, "post_id": 36901685, "comment_id": 61378373, "body": "what&#39;s the question? The output of projectPoints are projected points. Looks like all your points are not projected to the image area (negative coordinates). Are you sure that the 3D positions should be visible on the image and that your camera intrinsics and extriniscs were chosen correctly before projection?"}, {"owner": {"reputation": 111, "user_id": 6054594, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c06ab534ccff67cb3da90d9d8291763c?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan H", "link": "https://stackoverflow.com/users/6054594/jonathan-h"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1462024593, "post_id": 36901685, "comment_id": 61469191, "body": "Sorry for the delay. I&#39;m using PhotoScan to export the objects and camera calibrations. I&#39;m trying to create a temporal viewer to see the changes in a scene over a time period. I&#39;ve been told that using projectPoints() will create a 2D array that I can make an image out of, for each time-frame.  My problem is that I don&#39;t really know what to put in to get the 2D array. I have a file of exported &#39;points&#39; (v &amp; vn) and also an object file (v, vn, vt and f). I don&#39;t know what to use :("}], "owner": {"reputation": 111, "user_id": 6054594, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c06ab534ccff67cb3da90d9d8291763c?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan H", "link": "https://stackoverflow.com/users/6054594/jonathan-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 402, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461794372, "creation_date": 1461794372, "question_id": 36901685, "link": "https://stackoverflow.com/questions/36901685/how-do-you-use-the-output-of-projectpoints", "title": "How do you use the output of projectPoints()?", "body": "<p>I'm using the projectPoints() method in openCV to get a 2D array from 3D.</p>\n\n<p>I now have a 2D array, but I have no idea of what to do with the points... </p>\n\n<p>This probably sounds like a dumb question but I'm very new to openCV and working with graphics in general.</p>\n\n<p>I've saved the points as a .txt file, and it looks like this:</p>\n\n<pre><code>[[[ 200.09907914  -82.06738337]]\n\n [[ 493.43350608  -75.61411136]]\n\n [[ 341.84147575  -76.85033738]]\n\n [[ 476.1858408   -44.00185036]]\n\n [[ 388.80711654  -23.52747913]]\n\n [[ 419.89479852  -80.92570616]]\n\n [[ 270.18706415  -78.77744771]]\n\n [[ 453.17295132  -38.22746564]]\n\n [[ 336.55951175  -78.23490512]]\n\n [[ 461.80562252  -50.39816719]]\n\n [[ 400.55422812  -69.06144546]]\n\n [[ 377.27021722  -30.25844784]]\n\n [[ 269.73447838  -81.67956696]]\n\n [[ 204.3975581   -64.63087857]]\n\n [[ 322.0647573   -50.91627825]]\n\n [[ 264.52576218  -62.21001649]]\n\n [[ 343.94977452  -18.27828932]]\n\n [[ 424.40214827  -19.53042058]]\n\n [[ 529.80110569  -30.70642375]]\n\n [[ 426.91725443  -19.8445123 ]]\n\n [[ 382.43526019  -16.33614303]]\n\n [[ 575.52868617  -29.50400229]]\n    etc...\n\n    [[ 180.53274111  319.29471839]]]\n[[ -41.8973341   457.25621412  238.56738337 ...,   83.7946682   169.35134067\n    -2.55510041]\n [-571.8835458    41.8973341   -77.90092086 ...,  398.60600403   83.7946682\n    -7.82485769]\n [ 112.73208124  548.20593581  232.11411136 ..., -225.46416248\n   435.35288301   28.52750401]\n ..., \n [-499.21204508  -49.92094479 -140.9565395  ...,  211.70278173\n   -99.84188958    1.82323202]\n [  35.77105875  464.99179761 -162.79471839 ...,  -71.5421175   123.99637881\n    -0.59708278]\n [-503.32183347  -35.77105875  -97.46725889 ...,  200.65645054  -71.5421175\n     0.9972777 ]]\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "foursquare"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7641860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cae296341280dfe1e4f77fdf93ca7c23?s=128&d=identicon&r=PG", "display_name": "Vasiliki Pegiou", "link": "https://stackoverflow.com/users/7641860/vasiliki-pegiou"}, "is_accepted": false, "score": 0, "last_activity_date": 1488379344, "last_edit_date": 1488379344, "creation_date": 1488378467, "answer_id": 42534311, "question_id": 36901671, "link": "https://stackoverflow.com/questions/36901671/python-wrapper-for-foursquare-api-venue-explore-endpoint-parameters/42534311#42534311", "title": "Python Wrapper for Foursquare API - Venue Explore Endpoint Parameters", "body": "<p>I know it's a bit too late and I guess you probably don't need the answer anymore, but maybe someone else is having the same problem, so I'll share what worked FOR ME. \nI think the problem with your code is that you don't provide any parameters when you call the api. it should be something like </p>\n\n<pre><code>params = {\n    'll': lt + ',' + ln,\n    'radius': radius\n}\nresult = client.venues.explore(params)\n</code></pre>\n"}], "owner": {"reputation": 492, "user_id": 3358407, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/8628963/picture?type=large", "display_name": "Jason Melo Hall", "link": "https://stackoverflow.com/users/3358407/jason-melo-hall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488379344, "creation_date": 1461794337, "question_id": 36901671, "link": "https://stackoverflow.com/questions/36901671/python-wrapper-for-foursquare-api-venue-explore-endpoint-parameters", "title": "Python Wrapper for Foursquare API - Venue Explore Endpoint Parameters", "body": "<p>I successfully made a venue api call from one of the samples given at <a href=\"https://github.com/mLewisLogic/foursquare\" rel=\"nofollow\">https://github.com/mLewisLogic/foursquare</a>, however, I cannot make a call for the foursquare.Foursquare.client.venues.explore() method as it returns 'TypeError: explore() takes at least 2 arguments (1 given)' as demonstrated below.</p>\n\n<p>What are the two arguments I need to enter, and how would someone go about finding this information in the documentation?</p>\n\n<pre><code>import foursquare\nimport json\n\n#Construct the client object\nclient = foursquare.Foursquare(client_id='LTTRSNDNMBRS', client_secret='EEAUE')\n\n#This gives me a response\ntest = client.venues('40a55d80f964a52020f31ee3')\nprint test\n\n#This Gives me the error 'TypeError: explore() takes at least 2 arguments (1 given)'\nresult = client.venues.explore()\n</code></pre>\n"}, {"tags": ["python", "django", "django-database"], "comments": [{"owner": {"reputation": 102535, "user_id": 20128, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4b62eef3ad218a5d3cbdd1077660ca8b?s=128&d=identicon&r=PG", "display_name": "serg", "link": "https://stackoverflow.com/users/20128/serg"}, "edited": false, "score": 0, "creation_date": 1461796415, "post_id": 36901628, "comment_id": 61368286, "body": "Maybe someone answers but I doubt there is any documentation, writing db backends is not something many people need to do. I would just take existing backend implementation as a template and try to modify it. There is also a bunch of third party db backends, can check those as well maybe they are more similar to your db."}, {"owner": {"reputation": 4848, "user_id": 79536, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e3c58a34f81f23a7f4c5571ed6566744?s=128&d=identicon&r=PG", "display_name": "tato", "link": "https://stackoverflow.com/users/79536/tato"}, "reply_to_user": {"reputation": 102535, "user_id": 20128, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4b62eef3ad218a5d3cbdd1077660ca8b?s=128&d=identicon&r=PG", "display_name": "serg", "link": "https://stackoverflow.com/users/20128/serg"}, "edited": false, "score": 0, "creation_date": 1462006218, "post_id": 36901628, "comment_id": 61463559, "body": "yeah thanks, that&#39;s the route I&#39;m following"}, {"owner": {"reputation": 879, "user_id": 648689, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/179da00a3286b012680525cd41c968c8?s=128&d=identicon&r=PG", "display_name": "JimB", "link": "https://stackoverflow.com/users/648689/jimb"}, "edited": false, "score": 0, "creation_date": 1526703562, "post_id": 36901628, "comment_id": 87858489, "body": "Did you write your django db backend?  Any notes you&#39;d share, best examples, what helped most/least?"}, {"owner": {"reputation": 4848, "user_id": 79536, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e3c58a34f81f23a7f4c5571ed6566744?s=128&d=identicon&r=PG", "display_name": "tato", "link": "https://stackoverflow.com/users/79536/tato"}, "edited": false, "score": 0, "creation_date": 1588764258, "post_id": 36901628, "comment_id": 109022249, "body": "I gave a talk at PyConEs last year about this: <a href=\"https://pycones19.sched.com/event/VdO8\" rel=\"nofollow noreferrer\">pycones19.sched.com/event/VdO8</a> -&gt; <a href=\"https://www.youtube.com/watch?v=fvg7FLA_69k&amp;list=PLahUDl6AAwrg-8TJGzwz1BMT2W-wWIk1F&amp;index=15&amp;t=0s\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 104, "user_id": 8719530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wFOHU.jpg?s=128&g=1", "display_name": "nyx00", "link": "https://stackoverflow.com/users/8719530/nyx00"}, "is_accepted": true, "score": 1, "last_activity_date": 1515056899, "creation_date": 1515056899, "answer_id": 48091898, "question_id": 36901628, "link": "https://stackoverflow.com/questions/36901628/django-database-backend-documentation/48091898#48091898", "title": "Django database backend documentation", "body": "<p>There is some Info about how to customize django backends, but it is pretty much work depending on which DB engine you want to use.</p>\n\n<p>Anyhow:</p>\n\n<p><a href=\"https://reinout.vanrees.org/weblog/2016/11/04/database-backends.html\" rel=\"nofollow noreferrer\">https://reinout.vanrees.org/weblog/2016/11/04/database-backends.html</a>\n<a href=\"https://simpleisbetterthancomplex.com/media/2016/11/db.pdf\" rel=\"nofollow noreferrer\">https://simpleisbetterthancomplex.com/media/2016/11/db.pdf</a></p>\n\n<p>Doc for 3rd party engines:</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/2.0/ref/databases/#using-a-3rd-party-database-backend\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/2.0/ref/databases/#using-a-3rd-party-database-backend</a></p>\n\n<p>It is pretty much straight forward, you can either adapt an existing backend (like the answer you reffered to suggests) or use them as an example for your own backend.</p>\n\n<p>But I have to say it depends very much on the engine you want to use, I wanted to do this for pyrqlite but gave up on it since most ways where impossible and all others implied a hell load of work...</p>\n\n<p>I suggest you go that way only if you really need to.</p>\n"}], "owner": {"reputation": 4848, "user_id": 79536, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e3c58a34f81f23a7f4c5571ed6566744?s=128&d=identicon&r=PG", "display_name": "tato", "link": "https://stackoverflow.com/users/79536/tato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 1, "accepted_answer_id": 48091898, "answer_count": 1, "score": 3, "last_activity_date": 1515056899, "creation_date": 1461794137, "last_edit_date": 1495535291, "question_id": 36901628, "link": "https://stackoverflow.com/questions/36901628/django-database-backend-documentation", "title": "Django database backend documentation", "body": "<p>I want to adapt an existing db backend to a custom db engine that we are using.</p>\n\n<p>Is there any document or whitepaper that explains the design of django database backends?</p>\n\n<p>I've been searching through djangoproject and checked this question <a href=\"https://stackoverflow.com/questions/24441035/how-to-write-a-custom-django-relational-database-backend\">how to write a custom django relational database backend</a> without any luck</p>\n"}, {"tags": ["python", "string", "permutation"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461793865, "post_id": 36901546, "comment_id": 61367216, "body": "26? How&#39;d you get that number?"}, {"owner": {"reputation": 3967, "user_id": 1168513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9433832e9ef6c54c2b4203fda124a327?s=128&d=identicon&r=PG&f=1", "display_name": "Moritz", "link": "https://stackoverflow.com/users/1168513/moritz"}, "edited": false, "score": 3, "creation_date": 1461793941, "post_id": 36901546, "comment_id": 61367248, "body": "There&#39;s actually 4! = 4*3*2 = 24 permutations..."}, {"owner": {"reputation": 3143, "user_id": 544542, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/502440725/picture?type=large", "display_name": "pee2pee", "link": "https://stackoverflow.com/users/544542/pee2pee"}, "edited": false, "score": 0, "creation_date": 1461793968, "post_id": 36901546, "comment_id": 61367259, "body": "My maths is poor after 11pm :-("}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 3, "last_activity_date": 1461793885, "creation_date": 1461793885, "answer_id": 36901580, "question_id": 36901546, "link": "https://stackoverflow.com/questions/36901546/python-display-every-permutation-of-a-list-or-set-of-strings/36901580#36901580", "title": "Python - Display Every Permutation of a List or Set of Strings", "body": "<p>You're describing the basic use of <a href=\"https://docs.python.org/2/library/itertools.html#itertools.permutations\" rel=\"nofollow\"><code>itertools.permutations</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; L = ['ABC','DEF','GHI','JKL']\n&gt;&gt;&gt; for permutation in itertools.permutations(L):\n...     print ''.join(permutation)\n...     \nABCDEFGHIJKL\nABCDEFJKLGHI\nABCGHIDEFJKL\nABCGHIJKLDEF\n...\nJKLGHIDEFABC\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91305, "user_id": 19410, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/175f1d55c73ce5cb1d071dc4d0f1a333?s=128&d=identicon&r=PG", "display_name": "Alex Reynolds", "link": "https://stackoverflow.com/users/19410/alex-reynolds"}, "is_accepted": false, "score": 0, "last_activity_date": 1461794194, "creation_date": 1461794194, "answer_id": 36901640, "question_id": 36901546, "link": "https://stackoverflow.com/questions/36901546/python-display-every-permutation-of-a-list-or-set-of-strings/36901640#36901640", "title": "Python - Display Every Permutation of a List or Set of Strings", "body": "<p>One approach that uses <code>itertools</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; print list(itertools.permutations(['ABC','DEF','GHI','JKL'], 4))\n[('ABC', 'DEF', 'GHI', 'JKL'), ('ABC', 'DEF', 'JKL', 'GHI'), ('ABC', 'GHI', 'DEF', 'JKL'), ('ABC', 'GHI', 'JKL', 'DEF'), ('ABC', 'JKL', 'DEF', 'GHI'), ('ABC', 'JKL', 'GHI', 'DEF'), ('DEF', 'ABC', 'GHI', 'JKL'), ('DEF', 'ABC', 'JKL', 'GHI'), ('DEF', 'GHI', 'ABC', 'JKL'), ('DEF', 'GHI', 'JKL', 'ABC'), ('DEF', 'JKL', 'ABC', 'GHI'), ('DEF', 'JKL', 'GHI', 'ABC'), ('GHI', 'ABC', 'DEF', 'JKL'), ('GHI', 'ABC', 'JKL', 'DEF'), ('GHI', 'DEF', 'ABC', 'JKL'), ('GHI', 'DEF', 'JKL', 'ABC'), ('GHI', 'JKL', 'ABC', 'DEF'), ('GHI', 'JKL', 'DEF', 'ABC'), ('JKL', 'ABC', 'DEF', 'GHI'), ('JKL', 'ABC', 'GHI', 'DEF'), ('JKL', 'DEF', 'ABC', 'GHI'), ('JKL', 'DEF', 'GHI', 'ABC'), ('JKL', 'GHI', 'ABC', 'DEF'), ('JKL', 'GHI', 'DEF', 'ABC')]\n&gt;&gt;&gt; print len(list(itertools.permutations(['ABC','DEF','GHI','JKL'], 4)))\n24\n</code></pre>\n"}], "owner": {"reputation": 3143, "user_id": 544542, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/502440725/picture?type=large", "display_name": "pee2pee", "link": "https://stackoverflow.com/users/544542/pee2pee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "closed_date": 1461794125, "answer_count": 2, "score": 0, "last_activity_date": 1461906640, "creation_date": 1461793771, "last_edit_date": 1461906640, "question_id": 36901546, "link": "https://stackoverflow.com/questions/36901546/python-display-every-permutation-of-a-list-or-set-of-strings", "closed_reason": "Duplicate", "title": "Python - Display Every Permutation of a List or Set of Strings", "body": "<p>As an example, I have the following list:</p>\n\n<pre><code>['ABC','DEF','GHI','JKL']\n</code></pre>\n\n<p>By my reckoning, there should be 26 combinations i.e.</p>\n\n<pre><code>ABCDEFGHIJKL\nABCDEFJKLGHI\nABCGHIDEFJKL\nABCGHIJKLDEF\nABCJKLDEFGHI\nABCJKLGHIDEF\n...\n</code></pre>\n\n<p>How would I do this in Python?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "django", "django-forms"], "answers": [{"tags": [], "owner": {"reputation": 2342, "user_id": 1063114, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8c559e4573035f7d2f76973f59e178ca?s=128&d=identicon&r=PG", "display_name": "Edwin Lunando", "link": "https://stackoverflow.com/users/1063114/edwin-lunando"}, "is_accepted": true, "score": 3, "last_activity_date": 1461815171, "creation_date": 1461815171, "answer_id": 36904871, "question_id": 36901532, "link": "https://stackoverflow.com/questions/36901532/django-formset-without-modelform-not-working/36904871#36904871", "title": "Django formset without modelform not working", "body": "<p><code>formset_factory</code> is the one you need to create a formset without a model. You can read the details <a href=\"https://docs.djangoproject.com/en/1.9/topics/forms/formsets/#using-more-than-one-formset-in-a-view\" rel=\"nofollow\">here</a>. Here is the example.</p>\n\n<pre><code>from django.forms import formset_factory\nfrom django.shortcuts import render\nfrom myapp.forms import ArticleForm, BookForm\n\ndef manage_articles(request):\n    ArticleFormSet = formset_factory(ArticleForm)\n    BookFormSet = formset_factory(BookForm)\n    if request.method == 'POST':\n        article_formset = ArticleFormSet(request.POST, request.FILES, prefix='articles')\n        book_formset = BookFormSet(request.POST, request.FILES, prefix='books')\n        if article_formset.is_valid() and book_formset.is_valid():\n            # do something with the cleaned_data on the formsets.\n            pass\n    else:\n        article_formset = ArticleFormSet(prefix='articles')\n        book_formset = BookFormSet(prefix='books')\n    return render(request, 'manage_articles.html', {\n        'article_formset': article_formset,\n        'book_formset': book_formset,\n    })\n</code></pre>\n"}], "owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 865, "favorite_count": 0, "accepted_answer_id": 36904871, "answer_count": 1, "score": 1, "last_activity_date": 1461815171, "creation_date": 1461793705, "question_id": 36901532, "link": "https://stackoverflow.com/questions/36901532/django-formset-without-modelform-not-working", "title": "Django formset without modelform not working", "body": "<p>I'm trying to create my first django formset. I'm following <a href=\"https://gist.github.com/ibarovic/3092910\" rel=\"nofollow\">this example</a>, but can't create a formset with only one model(other form is regular, no model attached).</p>\n\n<blockquote>\n  <p>forms.py (relevant part)</p>\n</blockquote>\n\n<pre><code>class ArrivalForm(forms.ModelForm):\n    class Meta:\n        model = Reservation\n        fields = ['passenger_name', 'passenger_lastname', 'passenger_email', 'author_chain' ]\n\n    helper = FormHelper()\n    helper.form_tag = False\n    helper.label_class = 'col-lg-3'\n    helper.field_class = 'col-lg-9'\n\nclass RouteForm(forms.Form):\n    def __init__(self, *args, **kwargs):\n        self.helper = FormHelper()\n        self.helper.form_tag = False\n        super(RouteForm, self).__init__(*args, **kwargs)\n\n\n    place = forms.CharField(max_length=255)\n    time = forms.TimeField()\n\nRouteInlineFormset = inlineformset_factory(ArrivalForm, form=RouteForm, extra=2, can_delete=True)\n</code></pre>\n\n<blockquote>\n  <p>Error</p>\n</blockquote>\n\n<pre><code>TypeError at /reservations/create/arrival\ninlineformset_factory() takes at least 2 arguments (4 given)\n</code></pre>\n\n<blockquote>\n  <p>Question</p>\n</blockquote>\n\n<p>How can I create new formset for a <code>non-model</code> form. In the <a href=\"https://docs.djangoproject.com/ja/1.9/topics/forms/modelforms/#inline-formsets\" rel=\"nofollow\">documentation</a> I was only able to find how to do this for <code>ModelForm</code>.</p>\n"}, {"tags": ["python", "django", "jinja2"], "comments": [{"owner": {"reputation": 570, "user_id": 5017282, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc704a7526f6681e51eccba8fbd00e07?s=128&d=identicon&r=PG&f=1", "display_name": "RobertR", "link": "https://stackoverflow.com/users/5017282/robertr"}, "edited": false, "score": 0, "creation_date": 1461793561, "post_id": 36901466, "comment_id": 61367083, "body": "It returns an <code>s</code> if the number in question is greater than <code>1</code>. So if <code>choice.votes</code> is greater than <code>1</code>, <code>vote</code> gets an <code>s</code> added to it making it <code>votes</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4912, "user_id": 4974175, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ixCeF.jpg?s=128&g=1", "display_name": "rll", "link": "https://stackoverflow.com/users/4974175/rll"}, "is_accepted": false, "score": 2, "last_activity_date": 1589362339, "last_edit_date": 1589362339, "creation_date": 1461793615, "answer_id": 36901510, "question_id": 36901466, "link": "https://stackoverflow.com/questions/36901466/what-does-pluralize-mean-do/36901510#36901510", "title": "What does pluralize mean/do?", "body": "<p><code>pluralize</code> is a filter, as you can see in the <a href=\"https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#pluralize\" rel=\"nofollow noreferrer\">documentation</a>...</p>\n\n<blockquote>\n  <p>Returns a plural suffix if the value is not 1. By default, this suffix is 's'.</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 6236880, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-YIH8YdckEVk/AAAAAAAAAAI/AAAAAAAAACI/n0E3Nn0WgAk/photo.jpg?sz=128", "display_name": "Long Huynh", "link": "https://stackoverflow.com/users/6236880/long-huynh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1589362339, "creation_date": 1461793456, "last_edit_date": 1461793869, "question_id": 36901466, "link": "https://stackoverflow.com/questions/36901466/what-does-pluralize-mean-do", "title": "What does pluralize mean/do?", "body": "<p>This came from the Django tutorial:</p>\n\n<pre><code>&lt;li&gt;{{ choice.choice_text }} - {{ choice.votes }} vote{{ choice.votes|pluralize }}&lt;/li&gt;\n</code></pre>\n\n<p>Like I said, what does 'pluralize' mean and what does it do?</p>\n"}, {"tags": ["python", "serial-port", "uart", "xbee"], "answers": [{"tags": [], "owner": {"reputation": 10869, "user_id": 266392, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/173e2caa17a8522cae442e23e7879921?s=128&d=identicon&r=PG", "display_name": "tomlogic", "link": "https://stackoverflow.com/users/266392/tomlogic"}, "is_accepted": false, "score": 0, "last_activity_date": 1461879346, "creation_date": 1461879346, "answer_id": 36925899, "question_id": 36901456, "link": "https://stackoverflow.com/questions/36901456/serial-communication-issues-with-python-and-ti/36925899#36925899", "title": "Serial Communication issues with python and TI", "body": "<p>Is it possible you're getting stuck on the <code>Serial.print()</code> on the TI side, maybe because you have hardware handshaking enabled for that port and it's waiting on CTS/RTS?</p>\n\n<p>If you comment out those lines, does the program work?  You could use strategically placed <code>digitalWrite()</code> calls to figure out how far you get inside of <code>loop()</code>.</p>\n\n<p>Also, I see that you're printing <code>\"Sending command to the XBee\"</code> to <code>Serial3</code>, so you should see that on the Python side as well.</p>\n\n<p>Finally, you might want to change your <code>if</code> to a <code>while</code>, so your loop function processes all of the inbound bytes before getting stuck in the two one-second delays on each pass of the loop (limiting throughput to a single character every two seconds).</p>\n"}], "owner": {"reputation": 1912, "user_id": 1450312, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b4d2c938b517dd6409ba7bd4cb6cd461?s=128&d=identicon&r=PG&f=1", "display_name": "nad", "link": "https://stackoverflow.com/users/1450312/nad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461879346, "creation_date": 1461793417, "question_id": 36901456, "link": "https://stackoverflow.com/questions/36901456/serial-communication-issues-with-python-and-ti", "title": "Serial Communication issues with python and TI", "body": "<p>I have an XBee (S2C) connected to my Mac and another XBee connected to a TI microcontroller (TIVA-C129) communicating with each other - Mac as a coordinator and TI as a router. </p>\n\n<p>I can communicate between them, but on the TI side, I can't read the exact data that is coming in the serial port.</p>\n\n<p>On the Mac, I am running below python code that reads the incoming serial data through XBee and writes an acknowledgment.</p>\n\n<pre><code>#!/usr/bin/python\nimport serial\n\nser = serial.Serial('/dev/tty.usbserial-A104IC2U', 9600)\nack='A'\n\nwhile True:\n    incoming = ser.readline().strip()\n    if incoming != 'A':\n        print '%s' % incoming\n        ser.write('%s\\n' % ack)\n</code></pre>\n\n<p>On the TI side, I have below code</p>\n\n<pre><code>int incomingByte = 0;   \n\nvoid setup()\n{\n  Serial3.begin(9600); //UART3 has XBee connection\n  pinMode(LED, OUTPUT);    \n}\n\nvoid loop()\n{\n  Serial3.println(\"Sending command to the XBee\");\n  delay(1000);\n  Serial3.println(\"I am R1\");\n  delay(1000);\n\n  if (Serial3.available() &gt; 0) {\n                // read the incoming byte from UART3\n                incomingByte = Serial3.read();\n\n                // say what you got, print at the usb serial console\n                Serial.print(\"I received: \");   \n                Serial.println(incomingByte, DEC);\n\n        }\n\n}\n</code></pre>\n\n<p>When I run this, XBee communication stops after printing \"<strong>I am R1\"</strong> in the python console. I am sure <strong>Serial3.available() > 0</strong> is working as when I replace it with a blink code like below, it works and XBee communication keeps working on.</p>\n\n<pre><code>if (Serial3.available() &gt; 0) {\n\n                digitalWrite(LED, HIGH);   // turn the LED on (HIGH is the voltage level)\n                delay(1000);               // wait for a second\n                digitalWrite(LED, LOW);    // turn the LED off by making the voltage LOW\n                delay(1000);               // wait for a second\n        }\n</code></pre>\n\n<p>So looks like the problem is in </p>\n\n<pre><code>incomingByte = Serial3.read();\n</code></pre>\n\n<p>From python, I am sending a string (%s) with <code>ser.write('%s\\n' % ack)</code>. Is <strong>Serial3.read()</strong> the right read mechanism for the <strong>ack</strong> string? Anything else?</p>\n\n<p>FYI: I tested the serial.read() only with TI (no python involved) by writing something in the console and serial.read() can read and print it. </p>\n"}, {"tags": ["python", "for-loop", "tuples"], "comments": [{"owner": {"reputation": 3658, "user_id": 1701296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd9f8036df85d138443401ac1141cc70?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/1701296/francesco"}, "edited": false, "score": 0, "creation_date": 1461793559, "post_id": 36901445, "comment_id": 61367077, "body": "That notation is called <i>list comprehension</i>"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 2709547, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/943002520bf228c83e6e23e56e16314b?s=128&d=identicon&r=PG&f=1", "display_name": "nima", "link": "https://stackoverflow.com/users/2709547/nima"}, "edited": false, "score": 0, "creation_date": 1461885606, "post_id": 36901482, "comment_id": 61415025, "body": "Thank you for showing me list comprehension. Also thank you even more for the urlparse lib. I didn&#39;t notice the query string part and used it wrong before."}], "tags": [], "owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "is_accepted": true, "score": 4, "last_activity_date": 1461793879, "last_edit_date": 1461793879, "creation_date": 1461793505, "answer_id": 36901482, "question_id": 36901445, "link": "https://stackoverflow.com/questions/36901445/looking-for-a-python-shorthand-way-of-parsing-a-url-encoded-string-into-tuples/36901482#36901482", "title": "Looking for a Python shorthand way of parsing a url encoded string into tuples", "body": "<p>The structure you are asking about is called a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>.  You could replace your <code>for</code> loop with:</p>\n\n<pre><code>[v.split('=') for v in s.split('&amp;')]\n</code></pre>\n\n<p>Which would give you a list like:</p>\n\n<pre><code>[['rssi', '199'], ['phase', '-1'], ['doppler', '-1']]\n</code></pre>\n\n<p>But for what you're doing, the <code>urlparse.parse_qs</code> method might be easier:</p>\n\n<pre><code>&gt;&gt;&gt; import urlparse\n&gt;&gt;&gt; urlparse.parse_qs('rssi=199&amp;phase=-1&amp;doppler=-1')\n{'phase': ['-1'], 'rssi': ['199'], 'doppler': ['-1']}\n</code></pre>\n\n<p>...or <code>urlparse.parse_qsl</code>, if you really want a list/tuple instead of a dict:</p>\n\n<pre><code>&gt;&gt;&gt; urlparse.parse_qsl('rssi=199&amp;phase=-1&amp;doppler=-1')\n[('rssi', '199'), ('phase', '-1'), ('doppler', '-1')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 129273, "user_id": 71522, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG", "display_name": "David Wolever", "link": "https://stackoverflow.com/users/71522/david-wolever"}, "is_accepted": false, "score": 1, "last_activity_date": 1461793565, "creation_date": 1461793565, "answer_id": 36901497, "question_id": 36901445, "link": "https://stackoverflow.com/questions/36901445/looking-for-a-python-shorthand-way-of-parsing-a-url-encoded-string-into-tuples/36901497#36901497", "title": "Looking for a Python shorthand way of parsing a url encoded string into tuples", "body": "<p>You're looking for <a href=\"https://docs.python.org/2/library/urlparse.html#urlparse.parse_qsl\" rel=\"nofollow\"><code>urlparse.parse_qsl</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; import urlparse\n&gt;&gt;&gt; urlparse.parse_qsl(\"foo=bar&amp;bar=baz\")\n[('foo', 'bar'), ('bar', 'baz')]\n</code></pre>\n\n<p>It may also be helpful to turn this into a dictionary:</p>\n\n<pre><code>&gt;&gt;&gt; dict(urlparse.parse_qsl(\"foo=bar&amp;bar=baz\"))\n{'foo': 'bar', 'bar': 'baz'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "is_accepted": false, "score": 0, "last_activity_date": 1461794252, "creation_date": 1461794252, "answer_id": 36901650, "question_id": 36901445, "link": "https://stackoverflow.com/questions/36901445/looking-for-a-python-shorthand-way-of-parsing-a-url-encoded-string-into-tuples/36901650#36901650", "title": "Looking for a Python shorthand way of parsing a url encoded string into tuples", "body": "<p>I assume that you started with a URL, split on <code>?</code> and removed the host and path, and now are trying to parse the query string. You might want to use <code>urlparse</code> from the beginning.</p>\n\n<pre><code>import urlparse\n\nparsed = urlparse.urlparse('http://www.bob.com/index?rssi=199&amp;phase=-1&amp;doppler=-1')\nprint parsed.hostname + parsed.path \n# www.bob.com/index\n\nquery_tuples = urlparse.parse_qsl(parsed.query)\nprint query_tuples \n# [('rssi', '199'), ('phase', '-1'), ('doppler', '-1')]\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 2709547, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/943002520bf228c83e6e23e56e16314b?s=128&d=identicon&r=PG&f=1", "display_name": "nima", "link": "https://stackoverflow.com/users/2709547/nima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 36901482, "answer_count": 3, "score": 0, "last_activity_date": 1461794252, "creation_date": 1461793332, "question_id": 36901445, "link": "https://stackoverflow.com/questions/36901445/looking-for-a-python-shorthand-way-of-parsing-a-url-encoded-string-into-tuples", "title": "Looking for a Python shorthand way of parsing a url encoded string into tuples", "body": "<p>I have a string <code>rssi=199&amp;phase=-1&amp;doppler=-1</code> and I am trying to parse it to look like <code>[('rssi', '199'), ('phase', '-1'), ('doppler', '-1')]</code> using Python.</p>\n\n<p>Currently, I have a working function that does what I want. It goes like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>s = 'rssi=199&amp;phase=-1doppler=-1'\nspl = s.split('&amp;') # now looks like ['rssi=199', 'phase=-1', 'doppler=-1']\nl = []\nfor i in spl:\n    l.append(tuple(i.split('=')))\nprint l # finally have [('rssi', '199'), ('phase', '-1'), ('doppler', '-1')]\n</code></pre>\n\n<p>I'm looking for a shorter way to accomplish this task in fewer lines. Just to understand how I can clean up the code and for best-practice. I've seen operations in python that look like <code>[ x.strip() for x in foo.split(\";\") if x.strip() ]</code> with the for loop inside the array. I don't totally understand what that does and don't know what it is called. Any help in the right direction would be appreciated. </p>\n"}, {"tags": ["python", "linux", "multithreading", "python-2.7"], "comments": [{"owner": {"reputation": 3299, "user_id": 3059438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eD9iZ.png?s=128&g=1", "display_name": "pasztorpisti", "link": "https://stackoverflow.com/users/3059438/pasztorpisti"}, "edited": false, "score": 1, "creation_date": 1461793679, "post_id": 36901441, "comment_id": 61367134, "body": "You don&#39;t even call <code>acquire</code> at the beginning of the function and you shouldn&#39;t call it at the end of func. I wouldn&#39;t call <code>acquire</code> and <code>release</code> directly. Use the lock with a <code>with</code> statement."}], "answers": [{"tags": [], "owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "is_accepted": false, "score": 0, "last_activity_date": 1461796364, "creation_date": 1461796364, "answer_id": 36902112, "question_id": 36901441, "link": "https://stackoverflow.com/questions/36901441/multithreading-with-python/36902112#36902112", "title": "Multithreading with python?", "body": "<p>The <code>while</code> loop at the end of the listing will create two new threads every time through.  The <code>sleep</code> function is called by the new threads, not the main thread, so the main thread will go through the <code>while</code> loop as fast as it can.  That will generate new threads by the thousands, until the system crashes.  You <em>think</em> the sleep function isn't working but of course it is; it's just that every time you see a line printed on the console it's the first guess taken by a new thread.  I don't think that's what you want.  I don't know what you're trying to do so I can't help further.</p>\n\n<p>Also as pasztorpisti hinted, <code>lock.acquire</code> is a function and needs to be called with function call syntax (<code>lock.acquire()</code>) or else nothing will happen.  Having said that, you need to clean up the high-level structure first.  </p>\n\n<p>Once you acquire a lock, other threads are blocked when they try to acquire the same lock.  The <code>time.sleep</code> function DOES NOT release the lock, so as long as Thread1 has the lock Thread2 cannot acquire it, even though Thread1 is sleeping.</p>\n"}], "owner": {"reputation": 31, "user_id": 6263573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d954521f0128793985f16a9a68e3ac62?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Mohamed", "link": "https://stackoverflow.com/users/6263573/mohamed-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461796364, "creation_date": 1461793324, "question_id": 36901441, "link": "https://stackoverflow.com/questions/36901441/multithreading-with-python", "title": "Multithreading with python?", "body": "<p>I wrote a script to guess a pin, it kinda works but the script  ignores the sleep command, and also the command threading.lock() does not working. so can you look through my script and tell how  I can make my script better?</p>\n\n<pre><code>#!/usr/bin/env python -w \n#\n# \nimport time\nimport random\nimport os\nimport threading\nimport sys\n\n\nlock = threading.Lock()\ndef Random(name,repeat):\n    lock.acquire\n    while repeat != 0:\n        Pin = random.randint(0,9999)        \n        print \"[+] Trying: %d\"%Pin;time.sleep(3)\n        if Pin == 5656:\n            os.system(\"clear\");print '[+] Pin Found: %d' %Pin;time.sleep(3)\n            sys.exit()\n        repeat-= 1\n\n    if lock.acquire():\n        lock.release()\n\n\ndef Order(name,repeat):\n    lock.acquire\n\n    while repeat != 0:\n        Pin = random.randint(0,9999)        \n        print \"[!] Trying: %d\"%Pin;time.sleep(3)\n\n        if Pin == 5656:\n            os.system(\"clear\");print '[+] Pin Found: %d' %Pin;time.sleep(3)\n            sys.exit()\n        repeat-= 1\n\n\n\n    if lock.acquire():\n        lock.release()\n\n\n\n\ndef Main():\n    Brute_1 = threading.Thread(target=Random,args=('Random_Guess',10))\n    Brute_2 = threading.Thread(target=Order,args=('Order_Guess',10))\n    Brute_1.start()\n    Brute_2.start()\n\n\nif __name__=='__main__':\n    Start = raw_input(\"Press Enter To Start\")\n    while 1:\n        os.system(\"clear\");\n        Main()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461793208, "post_id": 36901379, "comment_id": 61366899, "body": "I&#39;m not sure how the imports have anything to do with this. It doesn&#39;t seem like you need to look at the imports to perform the analysis you want."}, {"owner": {"reputation": 621, "user_id": 3626104, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c180fd9d97b554bfc4560deab4c1ecd?s=128&d=identicon&r=PG", "display_name": "ColinKennedy", "link": "https://stackoverflow.com/users/3626104/colinkennedy"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461793332, "post_id": 36901379, "comment_id": 61366969, "body": "That&#39;s fair. The only reason why I&#39;m focusing on imports is because it would help determine what part of code is meaningful to me and what is not. I can also use it to customize my return results with additional args, by excluding/including info based on rules. Could you please suggest how else I could achieve this?"}], "owner": {"reputation": 621, "user_id": 3626104, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c180fd9d97b554bfc4560deab4c1ecd?s=128&d=identicon&r=PG", "display_name": "ColinKennedy", "link": "https://stackoverflow.com/users/3626104/colinkennedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1461793041, "creation_date": 1461793041, "question_id": 36901379, "link": "https://stackoverflow.com/questions/36901379/isolate-python-methods-from-code-snippets", "title": "Isolate Python methods from code snippets", "body": "<p>I have a list of code snippets (not code lines but parts of lines) that I need to split up as individual strings, with any and all of their contents removed.</p>\n\n<p>I'll give an example. If I have a line like this:</p>\n\n<pre><code>method.functionName(foo.bar(type(pm.someVariable)))\n</code></pre>\n\n<p>in a file with imports that can be a variety of different type like:</p>\n\n<pre><code>import reallyLongFileModuleNameThatIsWrittenPoorly as method\nfrom filename import someVariable\nfrom rightyOh import *  # includes foo.bar static-method, as for this example\nimport polymaterial as pm\n</code></pre>\n\n<p>and I would like the script to run and this to come out:</p>\n\n<pre><code>[\"method.functionName()\", \"foo.bar()\", \"pm.someVariable\", \"type()\"]\n</code></pre>\n\n<ul>\n<li>Methods that require args get (). variables (global or otherwise) don't </li>\n<li>Notice, type is included because it's built-in, even though it's not in the imports</li>\n</ul>\n\n<p>Ultimately, I'd like the functionality where I can run this script from the command-line, give it a full filepath and the script will read its contents, along with whatever file(s) that it imports. From there, it should be flexible and support most if not all Python's import syntax. It'll read the file's information and, find instances of methods/class instances/etc in the code-snippets that I provide, if any.</p>\n\n<p>recursive imports are NOT required for this and I'll likely provide my own PYTHONPATH to search for modules.</p>\n\n<p>I get the feeling that this has been done before. Any ideas? If there aren't, I'll probably write my own using Python's inspect module but I'm thinking that modules that use import * might get a bit tricky. I'd love to know what all of you think, thank you</p>\n"}, {"tags": ["python", "django", "django-orm"], "comments": [{"owner": {"reputation": 845, "user_id": 3541922, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a9795995dd1baf51f24d1382007f134?s=128&d=identicon&r=PG&f=1", "display_name": "MikeVelazco", "link": "https://stackoverflow.com/users/3541922/mikevelazco"}, "edited": false, "score": 0, "creation_date": 1461793264, "post_id": 36901306, "comment_id": 61366931, "body": "You&#39;re on the half way. Now that you have the questions <code>Answer.objects.filter(question__in=questions)</code>. Check this: <a href=\"https://docs.djangoproject.com/es/1.9/ref/models/querysets/#in\" rel=\"nofollow noreferrer\">docs.djangoproject.com/es/1.9/ref/models/querysets/#in</a>"}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461793664, "post_id": 36901306, "comment_id": 61367126, "body": "How about <code>Answer.objects.filter(question__user=user)</code>? EDIT: I hadn&#39;t noticed the GROUP BY in your query, my suggestion won&#39;t do that."}, {"owner": {"reputation": 757, "user_id": 6142587, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204681473876006/picture?type=large", "display_name": "Carlos Parra", "link": "https://stackoverflow.com/users/6142587/carlos-parra"}, "reply_to_user": {"reputation": 845, "user_id": 3541922, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a9795995dd1baf51f24d1382007f134?s=128&d=identicon&r=PG&f=1", "display_name": "MikeVelazco", "link": "https://stackoverflow.com/users/3541922/mikevelazco"}, "edited": false, "score": 0, "creation_date": 1461793823, "post_id": 36901306, "comment_id": 61367197, "body": "@MikeVelazco Thanks, I&#39;ll check it out and see what can i do ;)"}, {"owner": {"reputation": 757, "user_id": 6142587, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204681473876006/picture?type=large", "display_name": "Carlos Parra", "link": "https://stackoverflow.com/users/6142587/carlos-parra"}, "reply_to_user": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461793975, "post_id": 36901306, "comment_id": 61367264, "body": "@PauloAlmeida That&#39;s right. Your suggestion would work if I would need to know how many answer has made a certain user, but what I need is how many answer on each questions. Anyway, Thanks."}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461794254, "post_id": 36901306, "comment_id": 61367384, "body": "Did you look into aggregation? <a href=\"http://stackoverflow.com/questions/629551/how-to-query-as-group-by-in-django\" title=\"how to query as group by in django\">stackoverflow.com/questions/629551/&hellip;</a>"}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461794458, "post_id": 36901306, "comment_id": 61367482, "body": "For instance, something like <code>Question.objects.annotate(num_answers=Count(&#39;answer&#39;))</code>."}, {"owner": {"reputation": 757, "user_id": 6142587, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204681473876006/picture?type=large", "display_name": "Carlos Parra", "link": "https://stackoverflow.com/users/6142587/carlos-parra"}, "reply_to_user": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461795341, "post_id": 36901306, "comment_id": 61367856, "body": "@PauloAlmeida with this code <code>Answer.objects.annotate(num_answers=Count(&#39;question&#39;))</code> It&#39;s kind of working, but I&#39;m still needing filter the answer by question. When I apply <code>.count()</code> to the previous code, it returns all the answers made by that user. <i>I&#39;m almost close :)</i>"}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461795668, "post_id": 36901306, "comment_id": 61367997, "body": "And my suggestion didn&#39;t work? To be honest, I don&#39;t really know how it is supposed to get the &#39;answer&#39;, since it&#39;s not a field of the model, but I guessed it would follow the reverse relation. I took it from here: <a href=\"https://docs.djangoproject.com/en/1.9/topics/db/aggregation/#cheat-sheet\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/topics/db/aggregation/&hellip;</a>"}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461795817, "post_id": 36901306, "comment_id": 61368055, "body": "Exactly, it&#39;s explained here: <a href=\"https://docs.djangoproject.com/en/1.9/topics/db/aggregation/#following-relationships-backwards\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/topics/db/aggregation/&hellip;</a>"}, {"owner": {"reputation": 757, "user_id": 6142587, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204681473876006/picture?type=large", "display_name": "Carlos Parra", "link": "https://stackoverflow.com/users/6142587/carlos-parra"}, "reply_to_user": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461796851, "post_id": 36901306, "comment_id": 61368449, "body": "@PauloAlmeida Finally I did. Thanks for your help. This is the final piece of code: <code>Answer.objects.filter(question__id=9).annotate(num_answers=C&zwnj;&#8203;ount(&#39;question&#39;))</code>. That returns what I wanted to. Thanks again. :)"}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1461811260, "post_id": 36901306, "comment_id": 61372324, "body": "If you already have an sql query of what you want why all this effort? Just use raw query. You avoid the overhead of the django query builder too."}], "answers": [{"comments": [{"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 1, "creation_date": 1461925121, "post_id": 36927942, "comment_id": 61430594, "body": "If you&#39;re going to use a list comprehension, you could probably just do <code>return [question.answer_set.count() for question in questions]</code>."}, {"owner": {"reputation": 757, "user_id": 6142587, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204681473876006/picture?type=large", "display_name": "Carlos Parra", "link": "https://stackoverflow.com/users/6142587/carlos-parra"}, "reply_to_user": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461946172, "post_id": 36927942, "comment_id": 61444742, "body": "Yes, you&#39;re right. Looks better now ;) But, could you explain me about that <code>.answer_set.count()</code> I don&#39;t get it very well."}, {"owner": {"reputation": 757, "user_id": 6142587, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204681473876006/picture?type=large", "display_name": "Carlos Parra", "link": "https://stackoverflow.com/users/6142587/carlos-parra"}, "reply_to_user": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1461948264, "post_id": 36927942, "comment_id": 61445883, "body": "It&#39;s ok, I already found it in the docs. Looks like its a better way of doing so. Thank you again."}], "tags": [], "owner": {"reputation": 757, "user_id": 6142587, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204681473876006/picture?type=large", "display_name": "Carlos Parra", "link": "https://stackoverflow.com/users/6142587/carlos-parra"}, "is_accepted": true, "score": 0, "last_activity_date": 1461892088, "creation_date": 1461892088, "answer_id": 36927942, "question_id": 36901306, "link": "https://stackoverflow.com/questions/36901306/how-can-i-join-multiple-tables-in-django-1-9/36927942#36927942", "title": "How can I join multiple tables in Django 1.9?", "body": "<p>Finally I could help my problem.</p>\n\n<p>What I did was the next: </p>\n\n<p>in my file <em>users/views.py</em></p>\n\n<pre><code>class UserDetailView(DetailView):\n    model = User\n\n    def get_context_data(self, **kwargs):\n        # Calling the get_context_data parent\n        questions = Question.objects.filter(user = context['object']).order_by('created')\n\n        tags = [ question.tag.all() for question in questions ]\n\n        total_answers = self.get_total(questions) # Calling the function that return the total answer by question of a specific user\n        context['question_tags'] = zip(questions, tags, total_answers) #Zipping the lists with results to use it in the template\n\n        return context\n\n    def get_total(self, questions):\n        #Return the total answers that a question has (Here is the trick!)\n        return [\n            Answer.objects.filter(question__id=question.id).annotate(num_answers=Count('question')).count() for question in questions]\n</code></pre>\n\n<p>Tha was all I did.\nFinally, I would like to especially thanks to @PauloAlmeida and @MikeVelazco for the help!</p>\n"}], "owner": {"reputation": 757, "user_id": 6142587, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204681473876006/picture?type=large", "display_name": "Carlos Parra", "link": "https://stackoverflow.com/users/6142587/carlos-parra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2041, "favorite_count": 0, "accepted_answer_id": 36927942, "answer_count": 1, "score": 0, "last_activity_date": 1461892088, "creation_date": 1461792727, "question_id": 36901306, "link": "https://stackoverflow.com/questions/36901306/how-can-i-join-multiple-tables-in-django-1-9", "title": "How can I join multiple tables in Django 1.9?", "body": "<p><br />\nI need some help. My problem is that I'm trying to join multiple tables/models ((<em>Question, Answer, User</em>)) in Django 1.9 to get how many answers have a set of question made by a certain user.</p>\n\n<p>I already have a sql query of what I want:</p>\n\n<pre><code> SELECT q.id, q.title, COUNT(a.id) AS total_answers \n FROM review_question AS q\n JOIN review_answer AS a ON q.id = a.question_id\n JOIN users_user AS u ON q.user_id = u.id\n WHERE q.user_id = 1\n GROUP BY q.id, q.title;\n</code></pre>\n\n<p>And here are my models:</p>\n\n<p><em>review/models.py</em> </p>\n\n<p><strong>[Question]</strong></p>\n\n<pre><code>class Question(models.Model):\n    user = models.ForeignKey(User, db_index=True, null=True, blank=True)\n    tag = models.ManyToManyField(Tag)\n    title = models.CharField(max_length=200)\n</code></pre>\n\n<p><strong>[Answer]</strong></p>\n\n<pre><code>class Answer(models.Model):\n    question = models.ForeignKey(Question)\n    user = models.ForeignKey(User, db_index=True, null=True, blank=True)\n</code></pre>\n\n<p><em>users/models.py</em> </p>\n\n<p><strong>[User]</strong></p>\n\n<pre><code>class User(models.Model):\n    username = models.CharField(max_length=100, unique=True)\n</code></pre>\n\n<p>By the way, in my file <em>users/views.py</em> I have the next:</p>\n\n<pre><code>class UserDetailView(DetailView):\n    model = User\n\n    def get_context_data(self, **kwargs):\n        # calling the get_context_data parent here\n        questions = Question.objects.filter(user = context['object']).order_by('created')\n</code></pre>\n\n<p>but, I just get all the <em>questions</em> that the user has made.</p>\n\n<p>I've been trying for a while looking for a way how to translate the query of above into the django-orm but, I still cannot accomplish that. Any help would be appreciate.</p>\n"}, {"tags": ["python", "numpy", "pandas"], "comments": [{"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 0, "creation_date": 1461846205, "post_id": 36901302, "comment_id": 61391162, "body": "Your point #3 sounds like a bad idea, so I&#39;ve omitted it from my answer."}, {"owner": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "edited": false, "score": 0, "creation_date": 1461846208, "post_id": 36901302, "comment_id": 61391165, "body": "I do not understand 5. What do you mean by indexplus?  Also, what should the final result be? A new dataframe with the log columns, or do you want it in the same dataframe?"}, {"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "reply_to_user": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "edited": false, "score": 0, "creation_date": 1461846330, "post_id": 36901302, "comment_id": 61391273, "body": "@Shovalt good point. @squidvision if you want the log columns in the original dataframe, merge <code>df</code> and <code>df_log</code> in my answer (probably with <code>concat</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 1970, "user_id": 7853947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb68610f576a6f5e15285d7e29604c19?s=128&d=identicon&r=PG&f=1", "display_name": "JKC", "link": "https://stackoverflow.com/users/7853947/jkc"}, "edited": false, "score": 0, "creation_date": 1510737236, "post_id": 36914583, "comment_id": 81557542, "body": "Good one @IanS. I have a doubt.  For doing log transformation, do we need to use np.log always or np.log10 as well ? Any idea which one we should use and why ?"}, {"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "reply_to_user": {"reputation": 1970, "user_id": 7853947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb68610f576a6f5e15285d7e29604c19?s=128&d=identicon&r=PG&f=1", "display_name": "JKC", "link": "https://stackoverflow.com/users/7853947/jkc"}, "edited": false, "score": 1, "creation_date": 1510752369, "post_id": 36914583, "comment_id": 81567510, "body": "@JKC your question is quite general. I would say log is more math-oriented, while log10 is more engineering-oriented. The choice depends on your goals and the context."}], "tags": [], "owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "is_accepted": true, "score": 6, "last_activity_date": 1461846165, "creation_date": 1461846165, "answer_id": 36914583, "question_id": 36901302, "link": "https://stackoverflow.com/questions/36901302/log-transformation-and-index-changing-in-python/36914583#36914583", "title": "log transformation and index changing in python", "body": "<p>Let me answer a simplified version of your question:</p>\n\n<pre><code># example dataframe\ndf = pd.DataFrame({'a': [0, 1, 2, 3], \n                   'b': [4, 5, np.nan, 7], \n                   'c': [8, 9, 10, 11]})\n\n# apply log(x+1) element-wise to a subset of columns\nto_log = ['a', 'b']\ndf_log = df[to_log].applymap(lambda x: np.log(x+1))\n\n# rename columns\ndf_log.columns = 'log_' + df_log.columns\n\n# shift the index\ndf_log.index = df_log.index + 1\n</code></pre>\n\n<p>If you want a special treatment for missing values, you can do:</p>\n\n<pre><code>df_log[df_log.isnull()] = -1\n</code></pre>\n\n<p>You can now put all of this in a helper function. </p>\n"}], "owner": {"reputation": 289, "user_id": 5862323, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e8bfaaf6ec1a98a7afb13a7a7548eb52?s=128&d=identicon&r=PG&f=1", "display_name": "squidvision", "link": "https://stackoverflow.com/users/5862323/squidvision"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22212, "favorite_count": 1, "accepted_answer_id": 36914583, "answer_count": 1, "score": 1, "last_activity_date": 1461846165, "creation_date": 1461792713, "question_id": 36901302, "link": "https://stackoverflow.com/questions/36901302/log-transformation-and-index-changing-in-python", "title": "log transformation and index changing in python", "body": "<p>I'm writing a helper class function for log transformation. It needs to:</p>\n\n<ol>\n<li>Apply log to each column variable. </li>\n<li>Name this newly generated variable, \"log_variable\". For instance, for variable 'InqCnt06', I need to create a new variable called \"log_InqCnt06\".</li>\n<li>Do log(variable_value +1) for values in df[variables] columns that are zero or missing, to avoid getting \"-inf\" returned. </li>\n<li>Find index of original variable.</li>\n<li>Add <code>indexplus</code> to the index of the original variable, and make this the index for \"log_variable\". </li>\n</ol>\n\n<p>How would I do <code>log(variable_value +1)</code> for missing or zero values? I found the values using <code>isnull()</code>, could I use the <code>where.isnull()</code> function somehow?</p>\n\n<p>I'm also having difficulty adding original variable index to indexplus, and assigning it to index of log_variable. </p>\n\n<p>Here's my code: </p>\n\n<pre><code>def add_log_transform(df, variable, indexplus = 1):\n        print df[variable].isnull()\n        log_variable = (np.log(df[variable]))\ndef main():\n    variables_needs_tranform = ['DerogCnt', 'CollectCnt', 'InqCnt06', 'InqTimeLast', 'InqFinanceCnt24', 'TLTimeFirst', 'TLTimeLast', 'TLCnt03', 'TLCnt12', 'TLCnt24', 'TLCnt', 'TLSum', 'TLMaxSum', 'TLDel60Cnt', 'TLBadCnt24', 'TL75UtilCnt', 'TL50UtilCnt', 'TLBalHCPct', 'TLSatPct', 'TLDel3060Cnt24', 'TLDel90Cnt24', 'TLDel60CntAll', 'TLBadDerogCnt', 'TLDel60Cnt24', 'TLOpen24Pct']\nutil.add_log_transform(df, variables_needs_tranform, indexplus = 1)\n\nif __name__ == \"__main__\":\n        main()\n</code></pre>\n\n<p>This is a sample of my df. </p>\n\n<pre><code>    DerogCnt  CollectCnt  InqCnt06  InqTimeLast  InqFinanceCnt24  TLTimeFirst  \\\n0          1           1         7            1                4          125   \n1          1           1         2            1                0          252   \n2          0           0         1            1                4          254   \n3          0           0         6            3                6          154   \n4          0           0         1            0                1          311   \n5          1           1         1            1                2          200   \n6          2           0         3            1                2          137   \n7          0           0         3            2                1          267   \n8          0           0         0           16                3          359   \n9          1           1         1            6                3          141   \n10         0           0         1            4                1          487   \n11         0           0         4            1                4           78   \n12         3           3         4            0                5          117   \n13         2           2         1            0                4          101   \n14         1           1         2            1                8          260   \n15         0           0         5            1                6          295   \n16         0           0         0          NaN                0          223   \n17        15           9         3            1                3           14   \n18         0           0         3            2                7          345   \n19         0           0         4            4                5          145   \n20         0           0         3            1                3          222   \n21         0           0         1            5                1          354   \n22         8           8         0            8                2          111   \n23         0           0         1            1                3           56   \n24         8           5         6            1               10           16   \n\nTLTimeLast  TLCnt03  TLCnt12  TLCnt24     ...       TL75UtilCnt  \\\n\n0            3        1        3        5     ...                 3   \n1           18        0        0        2     ...                 1   \n2           12        0        1        2     ...                 3   \n3            3        1        9       11     ...                 4   \n4           17        0        0        1     ...                 2   \n5            7        0        1        2     ...                 1   \n6           12        0        1        2     ...                 2   \n7            2        3        6        8     ...                 1   \n8           23        0        0        1     ...                 0   \n9            8        0        1        4     ...                 7   \n10          12        0        1        6     ...                 9   \n11           4        0        7       10     ...                 1   \n12          27        0        0        0     ...                 3   \n13          12        0        1        1     ...                 3   \n14          16        0        0        2     ...                 2   \n15           8        0        4       11     ...                 9   \n16          18        0        0        1     ...                 2   \n17          14        0        0        1     ...                 1   \n18           2        2        2        4     ...                 3   \n19           3        1        2        2     ...                 2   \n20          22        0        0        1     ...                 1   \n21           7        0        2       10     ...                 4   \n22          24        0        0        1     ...                 0   \n23          40        0        0        0     ...                 0   \n24           4        0        2        4     ...                 2   \n\nTL50UtilCnt  TLBalHCPct  TLSatPct  TLDel3060Cnt24  TLDel90Cnt24  \\\n0             4        0.85      0.67               0             0   \n1             2        0.48      0.30               0             1   \n2             3        0.84      0.67               0             1   \n3             5        0.73      0.76               0             1   \n4             3        0.88      0.63               0             0   \n5             1        0.13      0.25               1             1   \n6             2        0.70      0.64               0             0   \n7             1        0.47      0.42               0             1   \n8             2        0.41      0.69               0             0   \n9             7        0.84      0.67               0             0   \n10           10        0.77      0.82               0             0   \n11            2        0.79      0.74               0             0   \n12            3        0.92      0.21               2             3   \n13            4        0.90      0.22               3             0   \n14            3        0.80      0.35               0             1   \n15           12        0.47      0.73               0             0   \n16            4        0.89      0.57               3             0   \n17            1        0.80      0.00               0             0   \n18            3        0.86      0.52               0             0   \n19            3        0.59      0.41               0             2   \n20            2        0.25      0.62               2             0   \n21            5        0.36      0.65               0             1   \n22            0        0.38      0.40               0             0   \n23            0        0.28      0.20               3             1   \n24            3        0.91      0.25               1             1   \n\nTLDel60CntAll  TLBadDerogCnt  TLDel60Cnt24  TLOpen24Pct  \n\n0               1              0             0         0.71  \n1               4              2             1         0.50  \n2               1              1             1         0.33  \n3               1              1             1         1.22  \n4               1              0             0         0.20  \n5               3              1             1         0.67  \n6               0              2             0         0.40  \n7               2              1             1         2.00  \n8               2              0             0         0.17  \n9               0              1             0         0.44  \n10              0              0             0         0.46  \n11              0              0             0         1.67  \n12              7              4             4         0.00  \n13              4              1             2         0.17  \n14              1              1             1         0.67  \n15              0              0             0         0.28  \n16              5              0             2         0.17  \n17              0             12             0         1.00  \n18              0              0             0         0.67  \n19              7              2             2         0.25  \n20              3              0             1         0.10  \n21              1              1             1         0.53  \n22              0              4             0         0.50  \n23              4              1             3         0.00  \n24              1              7             1         1.33  \n</code></pre>\n"}, {"tags": ["python", "indexing"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461792803, "post_id": 36901296, "comment_id": 61366723, "body": "If you need a block of text to be monospaced, the standard solution is to code-format it, even if it&#39;s not strictly code."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1461792904, "post_id": 36901296, "comment_id": 61366761, "body": "You really should be using <code>str.join()</code> instead of sending the <code>list</code> to <code>str()</code> and replacing all the unwanted characters."}, {"owner": {"reputation": 109, "user_id": 2193206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179ea9aed8d07483e934a825ba624955?s=128&d=identicon&r=PG", "display_name": "DevilApple227", "link": "https://stackoverflow.com/users/2193206/devilapple227"}, "edited": false, "score": 0, "creation_date": 1461793028, "post_id": 36901296, "comment_id": 61366814, "body": "It&#39;s true that my code is unclean in a few areas, but the primary concern is more about what is causing that error."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 4, "creation_date": 1461793070, "post_id": 36901296, "comment_id": 61366835, "body": "Cleaning up the code can often help you spot errors."}, {"owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1461793220, "post_id": 36901296, "comment_id": 61366905, "body": "Seconding what TigerhawkT3 said. It will make your question easier to answer as well, because the code will become much more readable. It might also be useful to add your assignment to length"}, {"owner": {"reputation": 109, "user_id": 2193206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179ea9aed8d07483e934a825ba624955?s=128&d=identicon&r=PG", "display_name": "DevilApple227", "link": "https://stackoverflow.com/users/2193206/devilapple227"}, "edited": false, "score": 0, "creation_date": 1461793229, "post_id": 36901296, "comment_id": 61366914, "body": "I suppose that is true, but the .replace statements are more or less irrelevant to the actual functionality. It&#39;s just removing a few characters I don&#39;t want in the text. I will edit my code to make it more efficient, but before that, I need to fix this error."}, {"owner": {"reputation": 1232, "user_id": 5277935, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/--NcqcZABxrM/AAAAAAAAAAI/AAAAAAAAAe8/7U38ZDcw2kQ/photo.jpg?sz=128", "display_name": "AMACB", "link": "https://stackoverflow.com/users/5277935/amacb"}, "edited": false, "score": 0, "creation_date": 1461793522, "post_id": 36901296, "comment_id": 61367058, "body": "What is the output of putting <code>print &quot;d[0]=&quot;,d[0]</code> after <code>new=&#39;&#39;</code>?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1461793561, "post_id": 36901296, "comment_id": 61367082, "body": "Cannot replicate, getting Undefined errors in the very first few lines. Please make this a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 1555, "user_id": 4959722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AQWZF9OmEs4/AAAAAAAAAAI/AAAAAAAAAGE/wvp_7UFCeZs/photo.jpg?sz=128", "display_name": "James Buck", "link": "https://stackoverflow.com/users/4959722/james-buck"}, "edited": false, "score": 3, "creation_date": 1461793601, "post_id": 36901296, "comment_id": 61367096, "body": "@DevilApple227 <code>i - 1</code> is  greater than the length of an element of <code>d</code> for some <code>i &gt;=1</code>, <code>i &lt; lend2</code>. Proper variable names would help."}, {"owner": {"reputation": 109, "user_id": 2193206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179ea9aed8d07483e934a825ba624955?s=128&d=identicon&r=PG", "display_name": "DevilApple227", "link": "https://stackoverflow.com/users/2193206/devilapple227"}, "reply_to_user": {"reputation": 1555, "user_id": 4959722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AQWZF9OmEs4/AAAAAAAAAAI/AAAAAAAAAGE/wvp_7UFCeZs/photo.jpg?sz=128", "display_name": "James Buck", "link": "https://stackoverflow.com/users/4959722/james-buck"}, "edited": false, "score": 0, "creation_date": 1461793761, "post_id": 36901296, "comment_id": 61367173, "body": "@JamesBuck I&#39;m not quite sure what you mean. Can you explain this as an answer?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1461794002, "post_id": 36901296, "comment_id": 61367274, "body": "It&#39;s just the definition of the error: <code>l[i-1]</code> is the only place in that line where indexing is taking place, and the error means that <code>i-1</code> wasn&#39;t a valid index, defined as <code>range(-len(l), len(l))</code>."}, {"owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "edited": false, "score": 0, "creation_date": 1461794011, "post_id": 36901296, "comment_id": 61367279, "body": "@DevilApple227 There is only one place in the failing line that you are doing anything that would raise an IndexError, and that is <code>l[i-1]</code>.   This would mean that there can exist strings in <code>d</code> that are individually shorter that the full list length.  Like <code>[&#39;abcde&#39;, &#39;abcd&#39;, &#39;abc&#39;, &#39;a&#39;]</code> would cause this problem when it got to <code>a</code> since the <code>i</code> is based on <code>len(d)</code>."}, {"owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "edited": false, "score": 0, "creation_date": 1461794035, "post_id": 36901296, "comment_id": 61367286, "body": "For what it&#39;s worth, I answered a very similar question to this not too long ago: <a href=\"http://stackoverflow.com/questions/36636004/creating-a-dynamic-array-in-python/36636075#36636075\" title=\"creating a dynamic array in python\">stackoverflow.com/questions/36636004/&hellip;</a>"}, {"owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "edited": false, "score": 0, "creation_date": 1461794222, "post_id": 36901296, "comment_id": 61367367, "body": "What this really boils down to is you assume <code>N % M &gt;= N &#47;&#47; M</code> which is try for your example data <code>12 % 5 == 2 &gt;= 12 &#47;&#47; 5 == 2</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2845, "user_id": 5421745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c95c95e7098f89ad77f886fc086fe01e?s=128&d=identicon&r=PG&f=1", "display_name": "wanaryytel", "link": "https://stackoverflow.com/users/5421745/wanaryytel"}, "is_accepted": false, "score": 0, "last_activity_date": 1461793995, "creation_date": 1461793995, "answer_id": 36901602, "question_id": 36901296, "link": "https://stackoverflow.com/questions/36901296/why-does-this-give-a-index-out-of-range-error/36901602#36901602", "title": "Why does this give a &quot;Index out of range&quot; error?", "body": "<p>I think you're trying to do <code>'string'[i][j]</code> internally. Although you're code is barely readable, that's what I gathered from a close inspection.</p>\n\n<p>You can't get n-th element of a letter, only the first.</p>\n\n<p><code>'string'[0][0] == 's'</code><br>\n<code>'string'[0][1] ==</code> string index out of range </p>\n\n<pre><code>a = 'asd'\nfor i in range(1, len(a)):\n    [l[i-1] for l in a] # During the first loop, l == 'a'\n                        # You're trying to grab l[i-1] that doesn't exist\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 2193206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179ea9aed8d07483e934a825ba624955?s=128&d=identicon&r=PG", "display_name": "DevilApple227", "link": "https://stackoverflow.com/users/2193206/devilapple227"}, "edited": false, "score": 0, "creation_date": 1461811916, "post_id": 36901736, "comment_id": 61372493, "body": "Ah, actually, I have just realized that I left out a very important piece in my code that I have in my source. In my source, I add X to the string so that it decides evenly into 5. so abcdef would become A B C D E \\n F X X X X"}], "tags": [], "owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "is_accepted": false, "score": 2, "last_activity_date": 1461797107, "last_edit_date": 1461797107, "creation_date": 1461794616, "answer_id": 36901736, "question_id": 36901296, "link": "https://stackoverflow.com/questions/36901296/why-does-this-give-a-index-out-of-range-error/36901736#36901736", "title": "Why does this give a &quot;Index out of range&quot; error?", "body": "<p>I'll post this comment as an answer since I think it summarizes the issue well.</p>\n\n<p>You are making an assumption that </p>\n\n<pre><code>N % M &gt;= N // M\n</code></pre>\n\n<p>for all values of N and M.  While this is true sometimes, it is not true all the time.  When it is not true, you get an index error.</p>\n\n<p>In your program, <code>N</code> == <code>len(input string)</code> and <code>M</code> == 5.  You are slicing off characters from your input string <code>M</code> characters at a time.  So for your sample input: <code>abcdefghijkl</code> you end up with</p>\n\n<pre><code>['abcde', 'fghij', 'kl'] \n</code></pre>\n\n<p>When you iterate with</p>\n\n<pre><code>for i in range(1,lend2):\n</code></pre>\n\n<p>You are ranging, in this case, from 1 to 2.  Then you reference the index of the individual list items by subtracting 1, so you reference indexes 0 and 1, and this works.  Note that the equation with these values reads</p>\n\n<pre><code>11 % 5 &gt;= 11 // 5\n     2 &gt;= 2\n</code></pre>\n\n<p>which is true.</p>\n\n<hr>\n\n<p>If you shorten your input string by 1 character you get </p>\n\n<pre><code>['abcde', 'fghij', 'k']\n</code></pre>\n\n<p>You are still ranging over the same values of <code>i</code>, and you are still trying to access index 0 and 1, but that will fail on the 3rd string since it is only a single character.</p>\n\n<p>Note that in this failing case the equation at the top reads</p>\n\n<pre><code>11 % 5 &gt;= 11 // 5\n     1 &gt;= 2\n</code></pre>\n\n<p>which is not true.</p>\n"}], "owner": {"reputation": 109, "user_id": 2193206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179ea9aed8d07483e934a825ba624955?s=128&d=identicon&r=PG", "display_name": "DevilApple227", "link": "https://stackoverflow.com/users/2193206/devilapple227"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1461811976, "creation_date": 1461792691, "last_edit_date": 1461811976, "question_id": 36901296, "link": "https://stackoverflow.com/questions/36901296/why-does-this-give-a-index-out-of-range-error", "title": "Why does this give a &quot;Index out of range&quot; error?", "body": "<p>I have made a program to automatically apply an encryption I have developed. Within one particular bit of code, I keep on getting a \"String Index out of range\" error. </p>\n\n<p><strong>What does this code do?</strong></p>\n\n<p>The below code creates an array, d. It appends some section of a string to the array. The purpose of the code is to make a rectangle out of the text with width 5, meaning if the original text was \"abcdefghijkl\", then the idea is to turn this into</p>\n\n<pre><code>a b c d e    \nf g h i j     \nk l X X X\n</code></pre>\n\n<p>The last line of the code gives the error \"string index out of range\" Why? Earlier in the code, as I have forgotten to mention, I add X's to the end of the string so that it devides evenly into 5. </p>\n\n<pre><code>d = []\nfor x in range(1,length/5+2):\n    d.append(string[(x-1)*5:5*x])\nd2=str(d).replace('[','').replace(']','').replace(\"'\",'').replace(',','').replace(' ','')\nlend2=len(d)\nnew=''\nfor i in range(1,lend2):\n    new += str([l[i-1] for l in d]).replace('[','').replace(']','').replace(\"'\",'').replace(',','').replace(' ','')\n</code></pre>\n\n<p>Full error text:</p>\n\n<pre><code>new += str([l[i-1] for l in d]).replace('[','').replace(']','').replace(\"'\",'').replace(',','').replace(' ','') \nIndexError: string index out of range\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "csv", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 752, "user_id": 2171835, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ec723324516c73bca255a1fe4d78398e?s=128&d=identicon&r=PG&f=1", "display_name": "student1", "link": "https://stackoverflow.com/users/2171835/student1"}, "edited": false, "score": 0, "creation_date": 1461793066, "post_id": 36901363, "comment_id": 61366832, "body": "The docs confused me:  names : array-like, default None List of column names to use. If file contains no header row, then you should explicitly pass header=None So I thought this is the one to use..."}, {"owner": {"reputation": 973, "user_id": 4101845, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yEoM0vc8528/AAAAAAAAAAI/AAAAAAAAAVk/KBLx52qfqqk/photo.jpg?sz=128", "display_name": "nasser alshammari", "link": "https://stackoverflow.com/users/4101845/nasser-alshammari"}, "edited": false, "score": 1, "creation_date": 1461793262, "post_id": 36901363, "comment_id": 61366930, "body": "The &quot;names&quot; argument is for the internal names used by pandas not the actual columns in the csv file."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 752, "user_id": 2171835, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ec723324516c73bca255a1fe4d78398e?s=128&d=identicon&r=PG&f=1", "display_name": "student1", "link": "https://stackoverflow.com/users/2171835/student1"}, "edited": false, "score": 1, "creation_date": 1461793421, "post_id": 36901363, "comment_id": 61367009, "body": "@student1, i&#39;ve added some explanation to my answer"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 6, "last_activity_date": 1461793389, "last_edit_date": 1461793389, "creation_date": 1461792963, "answer_id": 36901363, "question_id": 36901233, "link": "https://stackoverflow.com/questions/36901233/pandas-getting-specific-column-from-csv-file/36901363#36901363", "title": "Pandas: getting specific column from csv file", "body": "<p>try this instead:</p>\n\n<pre><code>data = pd.read_csv(\"z.csv\", usecols=['int_header'])\n</code></pre>\n\n<p>assuming that your CSV file has <code>,</code> as a delimiter</p>\n\n<p>Explanation:</p>\n\n<p><a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow\">Docs:</a></p>\n\n<blockquote>\n  <p><strong>names :</strong> array-like, default None </p>\n  \n  <p>List of column names to use. If file\n   contains no header row, then you should explicitly pass header=None</p>\n  \n  <p><strong>usecols :</strong> array-like, default None </p>\n  \n  <p>Return a subset of the columns. Results > in much faster parsing time and lower memory usage.</p>\n</blockquote>\n\n<p>documentation is a bit confusing. </p>\n\n<p><code>names</code> - used for naming (giving columns names), especially if you don't have a header line or want to ignore/skip it.</p>\n\n<p><code>usecols</code> - used for choosing only \"interesting\" columns</p>\n"}], "owner": {"reputation": 752, "user_id": 2171835, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ec723324516c73bca255a1fe4d78398e?s=128&d=identicon&r=PG&f=1", "display_name": "student1", "link": "https://stackoverflow.com/users/2171835/student1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2865, "favorite_count": 0, "accepted_answer_id": 36901363, "answer_count": 1, "score": 3, "last_activity_date": 1474048694, "creation_date": 1461792428, "last_edit_date": 1474048694, "question_id": 36901233, "link": "https://stackoverflow.com/questions/36901233/pandas-getting-specific-column-from-csv-file", "title": "Pandas: getting specific column from csv file", "body": "<p>I have the following sample <code>.csv</code> file:</p>\n\n<pre><code>str_header  int_header\nstring_a       1\nstring_b       2\nstring_c       3\n</code></pre>\n\n<p>According to solutions on the internet, this code:</p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv(\"z.csv\", names=['int_header'])\nprint(data['int_header'])\n</code></pre>\n\n<p>should only read <code>int_header</code> column into <code>data</code>. But <code>data</code>, when printed as above, actually contains all of the file columns. I'm using Anaconda distribution of Python. What's wrong?</p>\n"}, {"tags": ["python", "subprocess", "popen"], "comments": [{"owner": {"reputation": 2070, "user_id": 5350498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7bd60c45abf3767672c1b00a04bb48?s=128&d=identicon&r=PG", "display_name": "Pierre Barre", "link": "https://stackoverflow.com/users/5350498/pierre-barre"}, "edited": false, "score": 0, "creation_date": 1461792679, "post_id": 36901169, "comment_id": 61366664, "body": "What is the issue with what you tried ?"}, {"owner": {"reputation": 53, "user_id": 6226039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f98b06c8cfa27c14875f1236339611?s=128&d=identicon&r=PG&f=1", "display_name": "stackofpancakes", "link": "https://stackoverflow.com/users/6226039/stackofpancakes"}, "reply_to_user": {"reputation": 2070, "user_id": 5350498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7bd60c45abf3767672c1b00a04bb48?s=128&d=identicon&r=PG", "display_name": "Pierre Barre", "link": "https://stackoverflow.com/users/5350498/pierre-barre"}, "edited": false, "score": 0, "creation_date": 1461792924, "post_id": 36901169, "comment_id": 61366767, "body": "Error Output :Traceback (most recent call last):   File &quot;scratchpadDecoder.py&quot;, line 47, in &lt;module&gt;     subprocess.Popen([&#39;hexdump file.dat &gt; hexdump.dat&#39; ])   File &quot;/dsw/python-2.7.1/lib/python2.7/subprocess.py&quot;, line 672, in <b>init</b>     errread, errwrite)   File &quot;/dsw/python-2.7.1/lib/python2.7/subprocess.py&quot;, line 1202, in _execute_child     raise child_exception"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6226039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f98b06c8cfa27c14875f1236339611?s=128&d=identicon&r=PG&f=1", "display_name": "stackofpancakes", "link": "https://stackoverflow.com/users/6226039/stackofpancakes"}, "edited": false, "score": 0, "creation_date": 1461793176, "post_id": 36901323, "comment_id": 61366882, "body": "Wouldn&#39;t I need to have something like:  args  = [&#39;hexdump&#39;, ] +inputs + [&gt; hexdump.dat]?"}], "tags": [], "owner": {"reputation": 2223, "user_id": 325181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26de4aa17ab84757b1233714af5fec84?s=128&d=identicon&r=PG", "display_name": "Clarus", "link": "https://stackoverflow.com/users/325181/clarus"}, "is_accepted": false, "score": -1, "last_activity_date": 1461792798, "creation_date": 1461792798, "answer_id": 36901323, "question_id": 36901169, "link": "https://stackoverflow.com/questions/36901169/using-a-variable-in-a-subprocess-popen-command/36901323#36901323", "title": "Using a variable in a subprocess.Popen command", "body": "<p>First off, in regards to file not found, you may need to specify the current working directory. </p>\n\n<pre><code>subprocess.Popen(['hexdump file.dat &gt; hexdump.dat' ], shell=True, cwd='/bar/foo') \n</code></pre>\n\n<p>In regards to passing in an array as an argument, that is typically something like:</p>\n\n<pre><code>args = [ 'hexdump', ] + inputs\nsubprocess.Popen( args, cwd='/foo/bar' )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 6226039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f98b06c8cfa27c14875f1236339611?s=128&d=identicon&r=PG&f=1", "display_name": "stackofpancakes", "link": "https://stackoverflow.com/users/6226039/stackofpancakes"}, "edited": false, "score": 0, "creation_date": 1461793701, "post_id": 36901397, "comment_id": 61367148, "body": "The only hiccup with this is that I think it puts all the hexdumps into one hexdump.dat and I still need them distinct for later usage. But I will see about incorporating this when I address the array issue."}, {"owner": {"reputation": 5397, "user_id": 1361802, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nsW0g.jpg?s=128&g=1", "display_name": "wonton", "link": "https://stackoverflow.com/users/1361802/wonton"}, "reply_to_user": {"reputation": 53, "user_id": 6226039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f98b06c8cfa27c14875f1236339611?s=128&d=identicon&r=PG&f=1", "display_name": "stackofpancakes", "link": "https://stackoverflow.com/users/6226039/stackofpancakes"}, "edited": false, "score": 0, "creation_date": 1461793954, "post_id": 36901397, "comment_id": 61367255, "body": "what&#39;s the array issue? if you want to output multiple files, you&#39;ll need to use a loop or something to that effect"}, {"owner": {"reputation": 53, "user_id": 6226039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f98b06c8cfa27c14875f1236339611?s=128&d=identicon&r=PG&f=1", "display_name": "stackofpancakes", "link": "https://stackoverflow.com/users/6226039/stackofpancakes"}, "edited": false, "score": 0, "creation_date": 1461794136, "post_id": 36901397, "comment_id": 61367322, "body": "Unfortunately this results in the error : TypeError: can only concatenate list (not &quot;str&quot;) to list"}, {"owner": {"reputation": 53, "user_id": 6226039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f98b06c8cfa27c14875f1236339611?s=128&d=identicon&r=PG&f=1", "display_name": "stackofpancakes", "link": "https://stackoverflow.com/users/6226039/stackofpancakes"}, "edited": false, "score": 0, "creation_date": 1461794199, "post_id": 36901397, "comment_id": 61367353, "body": "&quot;array issue&quot; as in once I build the back end for that, right now I&#39;m testing this with an array of one test case"}, {"owner": {"reputation": 2444, "user_id": 559644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oDuZ.png?s=128&g=1", "display_name": "totoro", "link": "https://stackoverflow.com/users/559644/totoro"}, "edited": false, "score": 0, "creation_date": 1461795132, "post_id": 36901397, "comment_id": 61367765, "body": "No reason for <code>communicate()</code>. There is no data to send or receive."}, {"owner": {"reputation": 5397, "user_id": 1361802, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nsW0g.jpg?s=128&g=1", "display_name": "wonton", "link": "https://stackoverflow.com/users/1361802/wonton"}, "edited": false, "score": 0, "creation_date": 1461795774, "post_id": 36901397, "comment_id": 61368034, "body": "make sure it&#39;s [&#39;hexdump&#39;] + [&#39;file1&#39;] and not  [&#39;hexdump&#39;] + &#39;file1&#39;"}], "tags": [], "owner": {"reputation": 5397, "user_id": 1361802, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nsW0g.jpg?s=128&g=1", "display_name": "wonton", "link": "https://stackoverflow.com/users/1361802/wonton"}, "is_accepted": false, "score": 1, "last_activity_date": 1461795689, "last_edit_date": 1461795689, "creation_date": 1461793112, "answer_id": 36901397, "question_id": 36901169, "link": "https://stackoverflow.com/questions/36901169/using-a-variable-in-a-subprocess-popen-command/36901397#36901397", "title": "Using a variable in a subprocess.Popen command", "body": "<p>Instead of redirecting with <code>&gt;</code>, you can redirect using the stdout param. As for the list of files, you can just append the list of files to an array containing hexdump, ie</p>\n\n<pre><code>myfiles = ['file1','file2']\nwith open('hexdump.dat', 'w') as output:\n    proc = subprocess.Popen(['hexdump'] + myfiles, stdout=output)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 6226039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f98b06c8cfa27c14875f1236339611?s=128&d=identicon&r=PG&f=1", "display_name": "stackofpancakes", "link": "https://stackoverflow.com/users/6226039/stackofpancakes"}, "edited": false, "score": 0, "creation_date": 1461793544, "post_id": 36901399, "comment_id": 61367072, "body": "Wow thanks. I had thought I had tried the &quot;+&quot; combo in the past with no difference between commas but I guess that was for a different issue. Very pleased."}, {"owner": {"reputation": 4230, "user_id": 945873, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d561be4c73996732e6639b5421abfb97?s=128&d=identicon&r=PG&f=1", "display_name": "itdoesntwork", "link": "https://stackoverflow.com/users/945873/itdoesntwork"}, "reply_to_user": {"reputation": 53, "user_id": 6226039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f98b06c8cfa27c14875f1236339611?s=128&d=identicon&r=PG&f=1", "display_name": "stackofpancakes", "link": "https://stackoverflow.com/users/6226039/stackofpancakes"}, "edited": false, "score": 1, "creation_date": 1461793859, "post_id": 36901399, "comment_id": 61367210, "body": "I&#39;d also like to point out that while I was answering your question about variables, the code I&#39;ve posted isn&#39;t really idiomatic. The answers that don&#39;t use shell=True and use the redirection provided by the subprocess module have better code."}], "tags": [], "owner": {"reputation": 4230, "user_id": 945873, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d561be4c73996732e6639b5421abfb97?s=128&d=identicon&r=PG&f=1", "display_name": "itdoesntwork", "link": "https://stackoverflow.com/users/945873/itdoesntwork"}, "is_accepted": true, "score": 3, "last_activity_date": 1461793113, "creation_date": 1461793113, "answer_id": 36901399, "question_id": 36901169, "link": "https://stackoverflow.com/questions/36901169/using-a-variable-in-a-subprocess-popen-command/36901399#36901399", "title": "Using a variable in a subprocess.Popen command", "body": "<p>You need <code>shell=True</code> because otherwise it'll look for an executable with that name. <code>shell=True</code> tells the method to use the shell to execute the command so <code>&gt;</code> and friends become what you originally intended them to be (redirection).</p>\n\n<p>The following code you posted: </p>\n\n<pre><code>from subprocess import Popen, PIPE, STDOUT \nfiles = raw_input('File Name: ')                                                                                                 \np = subprocess.Popen(['hexdump files &gt; hexdump.dat' ], stdout=PIPE, stderr=STDOUT)                                         \nout,err = p.communicate(input=files)  \n</code></pre>\n\n<p>will not work because you're just passing <code>files</code> to <code>hexdump</code>, and if a file with the name <code>files</code> doesn't exist you'll get an error (and if it does exist, it's still probably not what you wanted.)</p>\n\n<p>What you want is to build the string you're executing:</p>\n\n<pre><code>file = \"input.dat\"\np = subprocess.Popen(\"hexdump \" + file + \" &gt; hexdump.dat\", shell=True)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1462036813, "post_id": 36901496, "comment_id": 61473391, "body": "you could use <code>subprocess.check_call()</code>  instead of <code>Popen().wait()</code> here"}, {"owner": {"reputation": 2444, "user_id": 559644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oDuZ.png?s=128&g=1", "display_name": "totoro", "link": "https://stackoverflow.com/users/559644/totoro"}, "reply_to_user": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1462037208, "post_id": 36901496, "comment_id": 61473548, "body": "True, I just kept the topic."}], "tags": [], "owner": {"reputation": 2444, "user_id": 559644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9oDuZ.png?s=128&g=1", "display_name": "totoro", "link": "https://stackoverflow.com/users/559644/totoro"}, "is_accepted": false, "score": 3, "last_activity_date": 1461795548, "last_edit_date": 1461795548, "creation_date": 1461793563, "answer_id": 36901496, "question_id": 36901169, "link": "https://stackoverflow.com/questions/36901169/using-a-variable-in-a-subprocess-popen-command/36901496#36901496", "title": "Using a variable in a subprocess.Popen command", "body": "<blockquote>\n  <p>Warning: Passing <code>shell=True</code> can be a security hazard if combined with untrusted input. See the warning under <a href=\"https://docs.python.org/2/library/subprocess.html#frequently-used-arguments\" rel=\"nofollow\">Frequently Used Arguments</a> for details.</p>\n</blockquote>\n\n<p>Something like:</p>\n\n<pre><code>with open('hexdump.dat', 'wb') as f:\n    p = subprocess.Popen(['hexdump', 'file.dat'], stdout=f)\n    p.wait()\n</code></pre>\n\n<p>You should read up on <a href=\"https://docs.python.org/2/library/subprocess.html#popen-constructor\" rel=\"nofollow\"><code>Popen</code></a> and what the <code>shell</code> argument does, and make your decision.</p>\n"}, {"tags": [], "owner": {"reputation": 894, "user_id": 2912313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d436dd0f294401380c80c1483b38347?s=128&d=identicon&r=PG&f=1", "display_name": "mauricio777", "link": "https://stackoverflow.com/users/2912313/mauricio777"}, "is_accepted": false, "score": 1, "last_activity_date": 1462439928, "creation_date": 1462439928, "answer_id": 37046834, "question_id": 36901169, "link": "https://stackoverflow.com/questions/36901169/using-a-variable-in-a-subprocess-popen-command/37046834#37046834", "title": "Using a variable in a subprocess.Popen command", "body": "<p>I found the simplest way for me to do shell redirection with python and variables is as follows:</p>\n\n<pre><code>subprocess.check_output('svnadmin load %s &lt; %s' % (repo, fname), shell=True)\n</code></pre>\n\n<p>It can handle very large files.</p>\n"}], "owner": {"reputation": 53, "user_id": 6226039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f98b06c8cfa27c14875f1236339611?s=128&d=identicon&r=PG&f=1", "display_name": "stackofpancakes", "link": "https://stackoverflow.com/users/6226039/stackofpancakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5339, "favorite_count": 0, "accepted_answer_id": 36901399, "answer_count": 5, "score": 3, "last_activity_date": 1462439928, "creation_date": 1461792226, "last_edit_date": 1461793230, "question_id": 36901169, "link": "https://stackoverflow.com/questions/36901169/using-a-variable-in-a-subprocess-popen-command", "title": "Using a variable in a subprocess.Popen command", "body": "<p>Right now I have a test file.dat that I run hexdump on and put the output into a hexdump.dat file. </p>\n\n<pre><code>subprocess.Popen(['hexdump file.dat &gt; hexdump.dat' ], shell=True)  \n</code></pre>\n\n<p>As a side note, I have seen suggestions to not use <code>shell=True</code> but I essentially get the error <code>OSError: [Errno 2] No such file or directory</code>. </p>\n\n<p>So, I would like to be able to pass in a variable or an array, files, instead of the hardcoded \"file.dat\". \"files\" could be a user input or an array/list generated from a previous subprocess section.</p>\n\n<p>I have tried a user input case:</p>\n\n<pre><code>from subprocess import Popen, PIPE, STDOUT \nfiles = raw_input('File Name: ')                                                                                                 \np = subprocess.Popen(['hexdump files &gt; hexdump.dat' ], stdout=PIPE, stderr=STDOUT)                                         \nout,err = p.communicate(input=files)        \n</code></pre>\n\n<p>Also with:</p>\n\n<pre><code>p = subprocess.Popen(['hexdump',  inputs, ' &gt; hexdump.dat' ], stdout=PIPE, stderr=STDOUT)                                          \n</code></pre>\n\n<p>Thanks for the help, I know I'm not appropriately understanding the structure needed here so some \"handholdy\" answers would be appreciated. </p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 3895, "user_id": 4972716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a7c5b54d4f13c6bb4d1d4d40ca4d4ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Stacey", "link": "https://stackoverflow.com/users/4972716/stacey"}, "edited": false, "score": 0, "creation_date": 1461793204, "post_id": 36901274, "comment_id": 61366894, "body": "Thanks Tim, I get a KeyError: True error when I implement the code, Does this mean I&#39;m possibly missing some data somewhere?"}], "tags": [], "owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "is_accepted": false, "score": 0, "last_activity_date": 1461792609, "creation_date": 1461792609, "answer_id": 36901274, "question_id": 36901163, "link": "https://stackoverflow.com/questions/36901163/dataframe-valueerror-the-truth-value-of-an-array-with-more-than-one-element-is/36901274#36901274", "title": "Dataframe ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()", "body": "<p>It looks to me like in the line</p>\n\n<pre><code>reportingDatesDf = reportingDatesDf[(reportingDatesDf.index &gt;= startDate) and (reportingDatesDf.index &lt;= endDate)]\n</code></pre>\n\n<p>the variable</p>\n\n<pre><code>reportingDatesDf.index\n</code></pre>\n\n<p>is an array.  Thus, saying</p>\n\n<pre><code>(reportingDatesDf.index &gt;= startDate)\n</code></pre>\n\n<p>is ambiguous.  You need to specify whether you are checking if <em>all</em> of the values in the array are greater than startDate, or if it contains <em>any</em> values greater than startDate.  Editing your code to the following</p>\n\n<pre><code>reportingDatesDf = reportingDatesDf[any(reportingDatesDf.index &gt;= startDate) and any(reportingDatesDf.index &lt;= endDate)]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>reportingDatesDf = reportingDatesDf[all(reportingDatesDf.index &gt;= startDate) and all(reportingDatesDf.index &lt;= endDate)]\n</code></pre>\n\n<p>should fix the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1461792982, "creation_date": 1461792982, "answer_id": 36901366, "question_id": 36901163, "link": "https://stackoverflow.com/questions/36901163/dataframe-valueerror-the-truth-value-of-an-array-with-more-than-one-element-is/36901366#36901366", "title": "Dataframe ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()", "body": "<p><code>and</code> doesn't broadcast. It can't, because it has to short-circuit, and there's no good answer for making the short-circuiting broadcast.</p>\n\n<p>If you need to do an elementwise <code>and</code>, you should use <code>&amp;</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 2044, "user_id": 2826011, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2515684b6d96b50558ab2d76f392c50c?s=128&d=identicon&r=PG&f=1", "display_name": "Thanos", "link": "https://stackoverflow.com/users/2826011/thanos"}, "is_accepted": false, "score": 0, "last_activity_date": 1461793789, "creation_date": 1461793789, "answer_id": 36901552, "question_id": 36901163, "link": "https://stackoverflow.com/questions/36901163/dataframe-valueerror-the-truth-value-of-an-array-with-more-than-one-element-is/36901552#36901552", "title": "Dataframe ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()", "body": "<p>Try changing this:</p>\n\n<pre><code>reportingDatesDf = reportingDatesDf[(reportingDatesDf.index &gt;= startDate) and (reportingDatesDf.index &lt;= endDate)]\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>reportingDatesDf = reportingDatesDf[(reportingDatesDf.index &gt;= startDate) &amp; (reportingDatesDf.index &lt;= endDate)]\n</code></pre>\n\n<p>In other words, user the proper operator ;)</p>\n"}], "owner": {"reputation": 3895, "user_id": 4972716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a7c5b54d4f13c6bb4d1d4d40ca4d4ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Stacey", "link": "https://stackoverflow.com/users/4972716/stacey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1251, "favorite_count": 0, "accepted_answer_id": 36901366, "answer_count": 3, "score": -1, "last_activity_date": 1461793789, "creation_date": 1461792208, "question_id": 36901163, "link": "https://stackoverflow.com/questions/36901163/dataframe-valueerror-the-truth-value-of-an-array-with-more-than-one-element-is", "title": "Dataframe ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()", "body": "<p>I have a dataframe (reportingDatesDf) which the head looks like this:</p>\n\n<pre><code>reportingDatesDf.index            unique_stock_id reporting_type\ndate                                     \n2015-01-28  BBG.MTAA.STM.S         2014:A\n2015-01-28  BBG.MTAA.STM.S        2014:S2\n2015-01-28  BBG.MTAA.STM.S        2014:Q4\n2014-10-29  BBG.MTAA.STM.S        2014:C3\n2014-10-29  BBG.MTAA.STM.S        2014:Q3\n</code></pre>\n\n<p>I am trying to reduce the dataframe to include entries that are only between 2 dates with the following line:</p>\n\n<pre><code> reportingDatesDf = reportingDatesDf[(reportingDatesDf.index &gt;= startDate) and (reportingDatesDf.index &lt;= endDate)]\n</code></pre>\n\n<p>The dataframe is created from a CSV using the following code:</p>\n\n<pre><code>def getReportingDatesData(rawStaticDataPath,startDate,endDate):\n    pattern = 'ReportingDates'+ '.csv'\n    staticPath = rawStaticDataPath\n\n    with open(staticPath+pattern,'rt') as f:\n\n         reportingDatesDf = pd.read_csv(f, \n                 header=None,\n                 usecols=[0,1,2],\n                 parse_dates=[1],\n                 dayfirst=True,\n                 index_col=[1],\n                 names=['unique_stock_id','date','reporting_type'])       \n         #print(reportingDatesDf.head())\n         print('reportingDatesDf.index',reportingDatesDf)      \n         reportingDatesDf = reportingDatesDf[(reportingDatesDf.index &gt;= startDate) and (reportingDatesDf.index &lt;= endDate)]\n</code></pre>\n\n<p>I however get the error:</p>\n\n<pre><code>ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n</code></pre>\n\n<p>Could someone let me know why this has happened as I am using similar code else where which works and how to rectify the problem please.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "jupyter-notebook", "visualization", "jupyter"], "comments": [{"owner": {"reputation": 35559, "user_id": 434217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f1ae3f14fd5b87c2c3f7b36014e185c?s=128&d=identicon&r=PG", "display_name": "Thomas K", "link": "https://stackoverflow.com/users/434217/thomas-k"}, "edited": false, "score": 1, "creation_date": 1461837484, "post_id": 36901154, "comment_id": 61384839, "body": "<a href=\"http://nbconvert.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">nbconvert</a> can execute a notebook and convert it to HTML (or other formats). To hide code, you&#39;ll need a <a href=\"https://github.com/jupyter/ngcm-tutorial/blob/master/Day-2/nbconvert_templates/foldcode.tpl\" rel=\"nofollow noreferrer\">custom template</a>."}], "answers": [{"tags": [], "owner": {"reputation": 3672, "user_id": 828184, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Drsll.png?s=128&g=1", "display_name": "CodingYourLife", "link": "https://stackoverflow.com/users/828184/codingyourlife"}, "is_accepted": false, "score": 6, "last_activity_date": 1486863935, "last_edit_date": 1486863935, "creation_date": 1486861937, "answer_id": 42183171, "question_id": 36901154, "link": "https://stackoverflow.com/questions/36901154/how-export-a-jupyter-notebook-to-html-from-the-command-line/42183171#42183171", "title": "How export a Jupyter notebook to HTML from the command line?", "body": "<p>Yes you can and it's quite easy and a built in feature</p>\n\n<pre><code>jupyter nbconvert --to html notebook.ipynb\n</code></pre>\n\n<p>That will generate a <em>notebook.html</em> file. Output <a href=\"http://nbconvert.readthedocs.io/en/latest/customizing.html\" rel=\"noreferrer\">can be customized</a>. Also check out the slideshow functionality (View>Cell-Toolbar>Slideshow) which can also be used with nbconvert.</p>\n\n<p>Also the <em>notebook.ipynb</em> Jupyter file can be uploaded to Github where the current version gets rendered. Depending on what you want that information might be useful too</p>\n\n<p>Also check out line/cell magic. You can run bash commands directly in your jupyter cell like so:</p>\n\n<pre><code>%%bash\nconvert graphviz/MyPic.jpg -resize 70% graphviz/MyPic_sm.jpg\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 251717, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "is_accepted": false, "score": 25, "last_activity_date": 1539954574, "last_edit_date": 1539954574, "creation_date": 1513082863, "answer_id": 47773056, "question_id": 36901154, "link": "https://stackoverflow.com/questions/36901154/how-export-a-jupyter-notebook-to-html-from-the-command-line/47773056#47773056", "title": "How export a Jupyter notebook to HTML from the command line?", "body": "<p><strong>Also use <code>--execute</code> to get the output</strong></p>\n\n<pre><code>jupyter nbconvert --execute --to html notebook.ipynb\n</code></pre>\n\n<p>This produces a <code>notebook.html</code> file.</p>\n\n<p>The best practice is to keep the output out of the notebook for version control, see: <a href=\"https://stackoverflow.com/questions/18734739/using-ipython-notebooks-under-version-control\">Using IPython notebooks under version control</a></p>\n\n<p>But then, if you don't pass <code>--execute</code>, the output won't be present in the HTML, see also: <a href=\"https://stackoverflow.com/questions/35545402/running-ipynb-from-terminal\">How to run an .ipynb Jupyter Notebook from terminal?</a></p>\n\n<p>For an HTML fragment without header: <a href=\"https://stackoverflow.com/questions/12502187/ipython-notebook-to-html-for-blog-post\">How to export an IPython notebook to HTML for a blog post?</a></p>\n\n<p>Tested in Jupyter 4.4.0.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 1856143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344432d3c0f479d0b3e441bb581bcb6f?s=128&d=identicon&r=PG", "display_name": "Omar", "link": "https://stackoverflow.com/users/1856143/omar"}, "is_accepted": false, "score": 1, "last_activity_date": 1551879220, "creation_date": 1551879220, "answer_id": 55024364, "question_id": 36901154, "link": "https://stackoverflow.com/questions/36901154/how-export-a-jupyter-notebook-to-html-from-the-command-line/55024364#55024364", "title": "How export a Jupyter notebook to HTML from the command line?", "body": "<p>I developed jupyter-runner (<a href=\"https://github.com/omar-masmoudi/jupyter-runner\" rel=\"nofollow noreferrer\">https://github.com/omar-masmoudi/jupyter-runner</a>) which is a simple wrapper around \"jupyter nbconvert\".</p>\n\n<p>Several notebooks can be executed, with parameters, with parallel workers, input/output located in S3 and mail sending capabilities.</p>\n"}], "owner": {"reputation": 292, "user_id": 6019664, "user_type": "registered", "profile_image": "https://graph.facebook.com/1113418038718365/picture?type=large", "display_name": "Daniil Okhlopkov", "link": "https://stackoverflow.com/users/6019664/daniil-okhlopkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17313, "favorite_count": 9, "answer_count": 3, "score": 16, "last_activity_date": 1551879220, "creation_date": 1461792189, "last_edit_date": 1513082878, "question_id": 36901154, "link": "https://stackoverflow.com/questions/36901154/how-export-a-jupyter-notebook-to-html-from-the-command-line", "title": "How export a Jupyter notebook to HTML from the command line?", "body": "<p>I'm writing test visualization program based on test results. \nI want to run jupyter notebook via terminal and generate html page to show it to user without showing the editable scripts to user.\nCan I do that? Or suggest the better way to show visualized test results.</p>\n"}, {"tags": ["python", "django", "celery"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1461827957, "post_id": 36901151, "comment_id": 61378751, "body": "Yo haven&#39;t actually called this via Celery. You&#39;d need to do <code>crawlweb.delay(listing_file_obj, marketplace)</code> for that."}, {"owner": {"reputation": 235, "user_id": 697053, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/23e1bf1fe127e5abf8f2f26e99f9c4ee?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/697053/amer"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1461850644, "post_id": 36901151, "comment_id": 61394781, "body": "you are right, I tried that with .delay but it didn&#39;t work. I must have put the function call after trying to make sure the function crawlweb. I will edit this"}], "owner": {"reputation": 235, "user_id": 697053, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/23e1bf1fe127e5abf8f2f26e99f9c4ee?s=128&d=identicon&r=PG", "display_name": "Amer", "link": "https://stackoverflow.com/users/697053/amer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461850666, "creation_date": 1461792174, "last_edit_date": 1461850666, "question_id": 36901151, "link": "https://stackoverflow.com/questions/36901151/celery-task-exists-prematurely-when-trying-to-access-django-model", "title": "Celery Task exists prematurely when trying to access Django model", "body": "<p>I have a celery task that needs to access a django model. my code in tasks.py is</p>\n\n<pre><code>@app.task\ndef crawlweb(listing_file_obj, marketplace):\n    logger = logging.getLogger(\"gbp_web.odsa\")\n    logger.info('Started the task')\n    listing_file_obj.status=\"In Progress\"\n    listing_file_obj.save()\n</code></pre>\n\n<p>and I call this from my views.py code</p>\n\n<pre><code>def prepare_urls_to_scrap(listing_file_obj, marketplace):\n    crawlweb.delay(listing_file_obj, marketplace)\n    logger.info('Submitted a crawling task')\n</code></pre>\n\n<p>when I do this I get this error</p>\n\n<pre><code>[2016-04-27 17:41:34,792: ERROR/MainProcess] Process 'Worker-5' pid:7362 exited with 'signal 11 (SIGSEGV)'\n[2016-04-27 17:41:34,804: ERROR/MainProcess] Task odsa.tasks.crawlweb[ad90ca39-488e-4c94-ac28-88740562e934] raised unexpected: WorkerLostError('Worker exited prematurely: signal 11 (SIGSEGV).',)\nTraceback (most recent call last):\n   File \"/Users/amer/repository/gbp_web/env/lib/python2.7/site- packages/billiard/pool.py\", line 1175, in mark_as_worker_lost\nhuman_status(exitcode)),\n</code></pre>\n\n<p>if I comment out any access to an object, like removing the following line</p>\n\n<pre><code>    listing_file_obj.save()\n</code></pre>\n\n<p>The task works fine. Every time I try to access a django model, it exists prematurely. I trying running the code without it being a task, and without using celery, it works fine. </p>\n\n<p>Here is how my celery settings look like</p>\n\n<pre><code>BROKER_URL = 'redis://localhost:6379/0'\nCELERY_RESULT_BACKEND = 'redis://localhost:6379'\nCELERYD_OPTS = \"--concurrency=1\"\n</code></pre>\n\n<p>and here is the celery.py file</p>\n\n<pre><code>from __future__ import absolute_import\nimport os\nfrom celery import Celery\nfrom django.conf import settings\n\n# set the default Django settings module for the 'celery' program.\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'gbp_web.settings')\n\napp = Celery('gbp_web')\napp.config_from_object('django.conf:settings')\napp.autodiscover_tasks(lambda: settings.INSTALLED_APPS)\n\napp.conf.update(\n    CELERY_TASK_RESULT_EXPIRES=3600\n)\n</code></pre>\n\n<p>I am using a Mac El Capitan, redis broker, django 1.9.2 scrapy 1.0.5 and celery 3.1.23</p>\n\n<p>Thanks for your help</p>\n"}, {"tags": ["python", "opencv"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5936298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f91e20c2dbdcdf7ffc5e2a12cef775a0?s=128&d=identicon&r=PG&f=1", "display_name": "j0hn", "link": "https://stackoverflow.com/users/5936298/j0hn"}, "is_accepted": false, "score": 0, "last_activity_date": 1461965896, "creation_date": 1461965896, "answer_id": 36947833, "question_id": 36901126, "link": "https://stackoverflow.com/questions/36901126/opencv-simple-2d-2d-transform/36947833#36947833", "title": "opencv - Simple 2D &lt;-&gt; 2D transform", "body": "<p>Ok, sorry guys. Problem solved. I understood the whole concept wrong. I already got the camera pose out of the calibration routine. I calculated a ray hitting z=0 plane and now I got the correct 3D point. Before doing this I also used undistortpoints and it works perfectly. Maybe this could also help people having the same problem. </p>\n"}], "owner": {"reputation": 1, "user_id": 5936298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f91e20c2dbdcdf7ffc5e2a12cef775a0?s=128&d=identicon&r=PG&f=1", "display_name": "j0hn", "link": "https://stackoverflow.com/users/5936298/j0hn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461965896, "creation_date": 1461792037, "last_edit_date": 1461851708, "question_id": 36901126, "link": "https://stackoverflow.com/questions/36901126/opencv-simple-2d-2d-transform", "title": "opencv - Simple 2D &lt;-&gt; 2D transform", "body": "<p>What I want to do is to match a linear axis system (axis coordinates) with image pixels of a photo. First i want to calibrate a camera using a grid of circles using corresponding 2D axis coordinates (3D coordinate in z=0 plane). This is done once, the camera is steady. Later on I want to find contours in images and get their corresponding axis coordinates. In Python I used:</p>\n\n<pre><code>ret, corners = cv2.findCirclesGrid(gray, (16,8))\nimgpoints.append(corners)\nret, mtx, dist, rvecs, tvecs = cv2.calibrateCamera(objpoints, imgpoints, gray.shape[::-1],None,None)\n</code></pre>\n\n<p>In objpoints I putted the corresponding coordinates. E.g.</p>\n\n<pre><code>objp[:,:2] = np.mgrid[0:16,0:8].T.reshape(-1,2)\nobjpoints.append(objp)\n</code></pre>\n\n<p>The code is more or less from this tutorial: <a href=\"http://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_calib3d/py_calibration/py_calibration.html\" rel=\"nofollow\">http://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_calib3d/py_calibration/py_calibration.html</a></p>\n\n<p>I know than I can use projectPoints to get a point in axis coordinate in image pixels. But I would like to do the oposite and get an axis coordinate from a image pixel. I read a lot here of stackoverflow regarding this topic, but I did not find a clear answer. From want I understood is that I have to undistort my picture and to use solvePnP to get the camera coordinates. I have to admit that I don't understand how to interpret these steps. I'm not sure which image should be undistorted (my circle grid for calibration or the image i process later) and how to combine it with solvePnP. Or is it even possible to just undistort the points of the contours without undistorting an complete image? I also don't know how to obtain the position as a image pixel from the result of solvePnP. Additionally I need to pass at least 4 points to solvePnP but what i want is to transform single points. Maybe I understand something wrong and I need to do something completly different.\nI would appreciate your help a lot.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1096, "user_id": 6061947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f89bd4c6b19d14dc3d682c08242cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Cory Shay", "link": "https://stackoverflow.com/users/6061947/cory-shay"}, "edited": false, "score": 2, "creation_date": 1461792197, "post_id": 36901124, "comment_id": 61366427, "body": "In order to do so we will need to see a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> that can reproduce the issue. Remember to take out any passwords/tokens."}, {"owner": {"reputation": 1, "user_id": 6263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219c757361dcc04dd34c9e746d7f98f3?s=128&d=identicon&r=PG&f=1", "display_name": "Dlerln", "link": "https://stackoverflow.com/users/6263565/dlerln"}, "reply_to_user": {"reputation": 1096, "user_id": 6061947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f89bd4c6b19d14dc3d682c08242cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Cory Shay", "link": "https://stackoverflow.com/users/6061947/cory-shay"}, "edited": false, "score": 0, "creation_date": 1461829635, "post_id": 36901124, "comment_id": 61379731, "body": "Hello, i try to post the entire script but it&#39;s say the -Body limit is 30000- and I exceeded the limit. However I have a pastebin note with the script <a href=\"http://pastebin.com/H2ksXhfp\" rel=\"nofollow noreferrer\">pastebin.com/H2ksXhfp</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219c757361dcc04dd34c9e746d7f98f3?s=128&d=identicon&r=PG&f=1", "display_name": "Dlerln", "link": "https://stackoverflow.com/users/6263565/dlerln"}, "edited": false, "score": 0, "creation_date": 1461830275, "post_id": 36901288, "comment_id": 61380102, "body": "I don&#39;t know what to say, as I said I don&#39;t undestand much this, just i followed some tutorials and at the final step I hit by this error. The whole code when i try to put here it&#39;s say the -body limit is 30000-. Only I have a pastebin note where I&#39;ve pasted the entire script <a href=\"http://pastebin.com/H2ksXhfp\" rel=\"nofollow noreferrer\">pastebin.com/H2ksXhfp</a>."}], "tags": [], "owner": {"reputation": 5397, "user_id": 1361802, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nsW0g.jpg?s=128&g=1", "display_name": "wonton", "link": "https://stackoverflow.com/users/1361802/wonton"}, "is_accepted": false, "score": 0, "last_activity_date": 1461792659, "creation_date": 1461792659, "answer_id": 36901288, "question_id": 36901124, "link": "https://stackoverflow.com/questions/36901124/little-issue-script-tinfoleak-1-5/36901288#36901288", "title": "Little issue script tinfoleak 1.5", "body": "<p>Well first off your ' character doesn't look like it is escaped.</p>\n\n<pre><code>'and here is my consumer key, so i can't write'\n</code></pre>\n\n<p>Without seeing more code I can only speculate, but it looks to me like you have unescaped quotes and syntax issues. Take a look here for details on your error.</p>\n\n<p><a href=\"http://www.cs.arizona.edu/people/mccann/errors-python#Four\" rel=\"nofollow\">http://www.cs.arizona.edu/people/mccann/errors-python#Four</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219c757361dcc04dd34c9e746d7f98f3?s=128&d=identicon&r=PG&f=1", "display_name": "Dlerln", "link": "https://stackoverflow.com/users/6263565/dlerln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461793067, "creation_date": 1461792032, "last_edit_date": 1461793067, "question_id": 36901124, "link": "https://stackoverflow.com/questions/36901124/little-issue-script-tinfoleak-1-5", "title": "Little issue script tinfoleak 1.5", "body": "<p>I have a script from tinfoleak 1.5 and after some obstacles, I have filled up all the information (consumer key/secret and token/token secret) on the <code>tinfoleak.py</code> and <code>tinfoleak.conf</code> files, but when I execute the script</p>\n\n<pre><code>chmod +x tinfoleak.py\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>python tinfoleak.py -h\n</code></pre>\n\n<p>It shows me the following error</p>\n\n<blockquote>\n  <p>global name 'and here is my consumer key, so i can't write' is not defined</p>\n</blockquote>\n\n<p>I don't understand where is the error and what to do</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6263667, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sddKcLGLbiQ/AAAAAAAAAAI/AAAAAAAAAWM/083gg8dlx0M/photo.jpg?sz=128", "display_name": "Dan Woodall", "link": "https://stackoverflow.com/users/6263667/dan-woodall"}, "edited": false, "score": 0, "creation_date": 1461961259, "post_id": 36901186, "comment_id": 61452143, "body": "Thank you. This seems to do the trick!"}, {"owner": {"reputation": 2070, "user_id": 5350498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7bd60c45abf3767672c1b00a04bb48?s=128&d=identicon&r=PG", "display_name": "Pierre Barre", "link": "https://stackoverflow.com/users/5350498/pierre-barre"}, "reply_to_user": {"reputation": 9, "user_id": 6263667, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sddKcLGLbiQ/AAAAAAAAAAI/AAAAAAAAAWM/083gg8dlx0M/photo.jpg?sz=128", "display_name": "Dan Woodall", "link": "https://stackoverflow.com/users/6263667/dan-woodall"}, "edited": false, "score": 0, "creation_date": 1461965237, "post_id": 36901186, "comment_id": 61453991, "body": "@DanWoodall Please accept this answer then :)"}], "tags": [], "owner": {"reputation": 2070, "user_id": 5350498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7bd60c45abf3767672c1b00a04bb48?s=128&d=identicon&r=PG", "display_name": "Pierre Barre", "link": "https://stackoverflow.com/users/5350498/pierre-barre"}, "is_accepted": false, "score": 1, "last_activity_date": 1461792282, "creation_date": 1461792282, "answer_id": 36901186, "question_id": 36901101, "link": "https://stackoverflow.com/questions/36901101/read-date-modified-of-many-files-and-write-to-a-single-file-in-python/36901186#36901186", "title": "Read date modified of many files and write to a single file in Python", "body": "<pre><code>import os\nimport datetime\n\nwith open('modified.txt', 'wb') as f:\n    for file in os.listdir('.'):\n        modified = datetime.datetime.utcfromtimestamp(os.path.getmtime(file))\n        f.write(file.encode() + b' ' + str(modified).encode() + b'\\n')\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6263667, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sddKcLGLbiQ/AAAAAAAAAAI/AAAAAAAAAWM/083gg8dlx0M/photo.jpg?sz=128", "display_name": "Dan Woodall", "link": "https://stackoverflow.com/users/6263667/dan-woodall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1461817471, "answer_count": 1, "score": -1, "last_activity_date": 1461865231, "creation_date": 1461791955, "last_edit_date": 1461865231, "question_id": 36901101, "link": "https://stackoverflow.com/questions/36901101/read-date-modified-of-many-files-and-write-to-a-single-file-in-python", "closed_reason": "Needs details or clarity", "title": "Read date modified of many files and write to a single file in Python", "body": "<p>I'm pretty new to python, but I'm looking to write a script that can read the date modified of all the files in a folder, and write each filename and this time to a new line in a single text file. </p>\n\n<p>I have a folder with ~50 text files in it that are were created about 30 seconds to 1 minute apart. I was to write a script that will pull the date modified timestamp for each file, and write it to a new text file so it looks something like this:</p>\n\n<p>File_name_1 ; HH:MM:SS</p>\n\n<p>File_name_2 ; HH:MM:SS</p>\n\n<p>and so on...</p>\n\n<p>Ideally I would like to be able to just run the python program on any folder, without having to specify the path in the code itself, just from the bash terminal. Sorry if my question was unclear, I don't have a CS background.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1461791964, "post_id": 36901079, "comment_id": 61366310, "body": "You seem to have a <code>(</code> where I&#39;d expect a <code>{</code>. Why are you creating the JSON by hand?"}], "answers": [{"tags": [], "owner": {"reputation": 1096, "user_id": 6061947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f89bd4c6b19d14dc3d682c08242cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Cory Shay", "link": "https://stackoverflow.com/users/6061947/cory-shay"}, "is_accepted": true, "score": 1, "last_activity_date": 1461792573, "creation_date": 1461792573, "answer_id": 36901269, "question_id": 36901079, "link": "https://stackoverflow.com/questions/36901079/valueerror-expecting-property-name-enclosed-in-double-quotes-in-python/36901269#36901269", "title": "ValueError: Expecting property name enclosed in double quotes in Python", "body": "<p>The issue appears to be at the following line: </p>\n\n<pre><code>{\n...\n    \"parsetree\": [], [\n    \"words\": \"Q\", {\n        \"Lemma\": \"q\",\n        \"NamedEntityTag\": \"O\",\n        \"CharacterOffsetEnd\": \"1\",\n        \"PartOfSpeech\": \"NN\",\n        \"CharacterOffsetBegin\": \"0\"\n    }],\n...\n\n}\n</code></pre>\n\n<p>It is looking for another <code>key</code> after the <code>[]</code> as the value for <code>\"parsetree\"</code>. So it will need to be something like the following to be valid JSON.</p>\n\n<pre><code>{\n...\n    \"parsetree\": [], \n    \"more_words\": [\n    \"words\": \"Q\", {\n        \"Lemma\": \"q\",\n        \"NamedEntityTag\": \"O\",\n        \"CharacterOffsetEnd\": \"1\",\n        \"PartOfSpeech\": \"NN\",\n        \"CharacterOffsetBegin\": \"0\"\n    }],\n...\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1461794189, "creation_date": 1461794189, "answer_id": 36901638, "question_id": 36901079, "link": "https://stackoverflow.com/questions/36901079/valueerror-expecting-property-name-enclosed-in-double-quotes-in-python/36901638#36901638", "title": "ValueError: Expecting property name enclosed in double quotes in Python", "body": "<p>This isn't related to the error, but it will help. </p>\n\n<p>You are dumping a string to another string as JSON... which will result in escape characters. </p>\n\n<pre><code>&gt;&gt;&gt; s = '{\"dependencies\": [], \"sentences\": [{\"parsetree\": []}], \"text\": \"Q\"}'\n&gt;&gt;&gt; import json\n&gt;&gt;&gt; json.dumps(s)\n'\"{\\\\\"dependencies\\\\\": [], \\\\\"sentences\\\\\": [{\\\\\"parsetree\\\\\": []}], \\\\\"text\\\\\": \\\\\"Q\\\\\"}\"'\n</code></pre>\n\n<p>I highly doubt that is what you want. That being said, make a Python dictionary instead because 1) It is less error-prone and 2) You can get the correct JSON </p>\n\n<pre><code>&gt;&gt;&gt; s = {1: 2, 'sentences': [{'parsetree': []}], 'dependencies': [], 'text': \"Q\"}\n&gt;&gt;&gt; json.dumps(s)\n'{\"1\": 2, \"dependencies\": [], \"sentences\": [{\"parsetree\": []}], \"text\": \"Q\"}'\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6263692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71663d94cedbcd080c9f2baa258bace?s=128&d=identicon&r=PG&f=1", "display_name": "aieu", "link": "https://stackoverflow.com/users/6263692/aieu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 0, "accepted_answer_id": 36901269, "answer_count": 2, "score": 1, "last_activity_date": 1461794189, "creation_date": 1461791899, "last_edit_date": 1461793573, "question_id": 36901079, "link": "https://stackoverflow.com/questions/36901079/valueerror-expecting-property-name-enclosed-in-double-quotes-in-python", "title": "ValueError: Expecting property name enclosed in double quotes in Python", "body": "<p>OLD ERROR:\nI've got this error:</p>\n\n<blockquote>\n  <p>ValueError: Expecting property name enclosed in double quotes:</p>\n</blockquote>\n\n<p>And this is my code. I want to convert the String ResultPart on a dict:</p>\n\n<pre><code> resultPart = '{\"sentences\": [{\"parsetree\": [], [(\"words\": \"Q\", {\"Lemma\": \"q\", \"NamedEntityTag\": \"O\", \"CharacterOffsetEnd\": \"1\", \"PartOfSpeech\": \"NN\", \"CharacterOffsetBegin\": \"0\"})], \"dependencies\": [], \"text\": \"Q\", \"parsetree\": [], \"indexeddependencies\": []}]}'\n resultPart2 = json.dumps(resultPart)\n #result should be a dict\n result = json.loads(resultPart)\n</code></pre>\n\n<p>EDIT: I corrected that part and now I've this error:</p>\n\n<blockquote>\n  <p>TypeError: string indices must be integers</p>\n</blockquote>\n\n<p>This is the new code:</p>\n\n<pre><code> resultPart = \"{'sentences': [{'words': [('Q', {'Lemma': 'q', 'NamedEntityTag': 'O', 'CharacterOffsetEnd': '1', 'PartOfSpeech': 'NN', 'CharacterOffsetBegin': '0'})], 'dependencies': [], 'text': 'Q', 'parsetree': [], 'indexeddependencies': []}]}\"\n resultPart2 = json.dumps(resultPart)\n result = json.loads(resultPart2)\n</code></pre>\n"}, {"tags": ["python", "c", "strftime"], "comments": [{"owner": {"reputation": 23331, "user_id": 134252, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/azWjr.png?s=128&g=1", "display_name": "Dolda2000", "link": "https://stackoverflow.com/users/134252/dolda2000"}, "edited": false, "score": 1, "creation_date": 1461792354, "post_id": 36901047, "comment_id": 61366502, "body": "There appears to be no such option, quite simply."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 4, "creation_date": 1461793084, "post_id": 36901047, "comment_id": 61366841, "body": "Sorry, I thought your description of the <code>^</code> caret was rather off-hand and insulting. But you changed it back."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1461794354, "post_id": 36901047, "comment_id": 61367430, "body": "I&#39;m not sure what&#39;s offensive about that.  Yes I changed it back because excessive political-correctness annoys me"}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 5, "creation_date": 1461795503, "post_id": 36901047, "comment_id": 61367942, "body": "I only changed it to its correct name, which a 64-k rep commenter should have known. Have you ever seen a Chinese wearing a &quot;coolie hat&quot;? That&#39;s so stereotypical 19th century - I&#39;ll leave the politics to you."}], "answers": [{"comments": [{"owner": {"reputation": 2845, "user_id": 5421745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c95c95e7098f89ad77f886fc086fe01e?s=128&d=identicon&r=PG&f=1", "display_name": "wanaryytel", "link": "https://stackoverflow.com/users/5421745/wanaryytel"}, "edited": false, "score": 1, "creation_date": 1461794968, "post_id": 36901541, "comment_id": 61367701, "body": "&quot;I don&#39;t know&quot; is never a valid answer."}, {"owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "reply_to_user": {"reputation": 2845, "user_id": 5421745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c95c95e7098f89ad77f886fc086fe01e?s=128&d=identicon&r=PG&f=1", "display_name": "wanaryytel", "link": "https://stackoverflow.com/users/5421745/wanaryytel"}, "edited": false, "score": 2, "creation_date": 1461795108, "post_id": 36901541, "comment_id": 61367754, "body": "I mean that as far as i know there are no ways to do it. But a man can always be wrong in my opinion. But it is better to don&#39;t say that here? (i&#39;m new here so don&#39;t know. Just being honest. Appreciate the feedback)"}, {"owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "reply_to_user": {"reputation": 2845, "user_id": 5421745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c95c95e7098f89ad77f886fc086fe01e?s=128&d=identicon&r=PG&f=1", "display_name": "wanaryytel", "link": "https://stackoverflow.com/users/5421745/wanaryytel"}, "edited": false, "score": 4, "creation_date": 1519196711, "post_id": 36901541, "comment_id": 84805114, "body": "@makaveli - The answer does not consist solely of <i>I don&#39;t know</i>; you should not blindly react to certain key phrases, but rather read context."}], "tags": [], "owner": {"reputation": 2988, "user_id": 6259990, "user_type": "registered", "profile_image": "https://graph.facebook.com/1743565902555031/picture?type=large", "display_name": "Sven Hakvoort", "link": "https://stackoverflow.com/users/6259990/sven-hakvoort"}, "is_accepted": false, "score": 5, "last_activity_date": 1519199362, "last_edit_date": 1519199362, "creation_date": 1461793736, "answer_id": 36901541, "question_id": 36901047, "link": "https://stackoverflow.com/questions/36901047/how-to-lowercase-the-month-name-with-strftime/36901541#36901541", "title": "How to lowercase the month name with strftime", "body": "<p>Just add <code>.lower()</code> after <code>datetime.now()</code>. As far as I know there is no other way to do it.</p>\n"}], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2858, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1519199362, "creation_date": 1461791784, "last_edit_date": 1461792974, "question_id": 36901047, "link": "https://stackoverflow.com/questions/36901047/how-to-lowercase-the-month-name-with-strftime", "title": "How to lowercase the month name with strftime", "body": "<p>In <a href=\"http://man7.org/linux/man-pages/man3/strftime.3.html\" rel=\"nofollow\">strftime</a> <code>%b</code> is the month name </p>\n\n<pre><code>&gt;&gt;&gt; '{:%b}'.format(datetime.now())\n'Apr'\n</code></pre>\n\n<p>I can uppercase it using chinese-hat modifier carrot thing</p>\n\n<pre><code>&gt;&gt;&gt; '{:%^b}'.format(datetime.now())\n'APR'\n</code></pre>\n\n<p>How do I lowercase it?  i.e. to get the result <code>'{:%b}'.format(dt).lower()</code>, but using the template rather than a post-processing step.</p>\n"}, {"tags": ["python", "image"], "owner": {"reputation": 329, "user_id": 5037905, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tDQjj.jpg?s=128&g=1", "display_name": "Eric Reed", "link": "https://stackoverflow.com/users/5037905/eric-reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461794088, "creation_date": 1461791698, "last_edit_date": 1461794088, "question_id": 36901030, "link": "https://stackoverflow.com/questions/36901030/python-dynamically-updating-image-viewer", "title": "Python: Dynamically Updating Image Viewer", "body": "<p>I'm building a small program that essentially outputs 'video' from a webcam using Pygame.  Is there any way to easily view an image, but every half-second or so, update the image to the latest version? Most methods to load an image require an external viewer and only load the image into memory once, thus forcing the programmer into closing the viewer and reopening it every time the image updates.  As I said, is there any small module that creates a basic image viewer and can be controlled easily?</p>\n"}, {"tags": ["python", "sockets", "tcp"], "comments": [{"owner": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 1, "creation_date": 1461791756, "post_id": 36900984, "comment_id": 61366192, "body": "Assuming that you are using the built in TCP/IP library and assuming that all of the pieces eventually arrive before the connection times out, TCP provides the guarantee that you do not need to worry about duplicates and retransmissions.  It&#39;s one of the main reasons you would choose TCP over UDP... That and the guarantee that the data is properly ordered."}, {"owner": {"reputation": 1785, "user_id": 1932934, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73ceb0d823c0168b55045d7ffaaf2364?s=128&d=identicon&r=PG", "display_name": "Taztingo", "link": "https://stackoverflow.com/users/1932934/taztingo"}, "reply_to_user": {"reputation": 14469, "user_id": 2191105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tPiCW.png?s=128&g=1", "display_name": "David Hoelzer", "link": "https://stackoverflow.com/users/2191105/david-hoelzer"}, "edited": false, "score": 0, "creation_date": 1461792890, "post_id": 36900984, "comment_id": 61366755, "body": "Ok, thank you. I just wanted to make sure before I started looking for a bug."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1461807557, "post_id": 36900984, "comment_id": 61371368, "body": "Perhaps you assumed that your <code>recv</code> call will always return exactly 1,024 bytes? The buffer size is the maximum number of bytes that will be received, not the actual number. Show us your complete code to receive a message."}], "answers": [{"comments": [{"owner": {"reputation": 1785, "user_id": 1932934, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73ceb0d823c0168b55045d7ffaaf2364?s=128&d=identicon&r=PG", "display_name": "Taztingo", "link": "https://stackoverflow.com/users/1932934/taztingo"}, "edited": false, "score": 0, "creation_date": 1461855975, "post_id": 36903687, "comment_id": 61399069, "body": "Great explanation."}], "tags": [], "owner": {"reputation": 4456, "user_id": 4127569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8b728c7d6c1dce81f5a82249b7617756?s=128&d=identicon&r=PG&f=1", "display_name": "jch", "link": "https://stackoverflow.com/users/4127569/jch"}, "is_accepted": true, "score": 1, "last_activity_date": 1461806959, "creation_date": 1461806959, "answer_id": 36903687, "question_id": 36900984, "link": "https://stackoverflow.com/questions/36900984/python-tcp-duplicate-message/36903687#36903687", "title": "Python TCP Duplicate Message", "body": "<p>No, it is not possible.  TCP guarantees that it will either deliver data exactly once and in the order in which it was sent, or signal an error to the application.  Hence, there is probably a bug in your code.  The most likely is that your code fails to deal with <em>partial reads</em>.</p>\n\n<p>When you perform a <code>write</code> or <code>send</code> on a TCP socket, the TCP module will <em>segment</em> your data into as many packets as are needed.  In the presence of packet loss, it is possible that some packets have arrived successfully but others must be resent.  In that case, the corresponding <code>read</code> or <code>recv</code> will only receive part of the data \u2014 the remaining data will arrive in a subsequent <code>read</code> or <code>recv</code>.  In other words, TCP does not preserve message boundaries.</p>\n\n<p>Your code is probably interpreting such a split message as multiple messages.  Make sure that you accumulate a full message in your buffer before attempting to parse it.</p>\n"}], "owner": {"reputation": 1785, "user_id": 1932934, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73ceb0d823c0168b55045d7ffaaf2364?s=128&d=identicon&r=PG", "display_name": "Taztingo", "link": "https://stackoverflow.com/users/1932934/taztingo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1047, "favorite_count": 0, "accepted_answer_id": 36903687, "answer_count": 1, "score": 0, "last_activity_date": 1461806959, "creation_date": 1461791529, "question_id": 36900984, "link": "https://stackoverflow.com/questions/36900984/python-tcp-duplicate-message", "title": "Python TCP Duplicate Message", "body": "<p>I'm working on an in-house TCP Server, and TCP client. When there is 0% packet loss the Server and Client work fine. However, when I have 20% or more packet loss I am seeing duplicate TCP messages. I am receiving something like this....</p>\n\n<pre><code>Client &lt;-- MessageA -- Server\nClient -- MessageB --&gt; Server\nClient &lt;-- MessageCMessageA -- Server\n</code></pre>\n\n<p>Is it possible that MessageA is not completely making it to the Client, it times outs, then TCP resends it, and then the original message makes it which is received at a later time by the Client?</p>\n\n<p>My question is if TCP works like that, and if that's a possible scenario with a network containing 20% packet loss or more.</p>\n\n<p>Barebones of how the client and server are sending/receiving data...</p>\n\n<pre><code>socket.recv(1024)\nsocket.send(1024)\n</code></pre>\n"}, {"tags": ["python", "arduino", "ros"], "comments": [{"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461792007, "post_id": 36900959, "comment_id": 61366328, "body": "Does the arduino just spit out a steady stream of values via serial as soon as it&#39;s turned on? If so, you could debug using a serial monitor or <code>screen &#47;dev&#47;ttyUSB0 57600</code> and try out different baud rates."}, {"owner": {"reputation": 2068, "user_id": 73253, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9bc9b703380adefd1aa4177b23ad265?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/73253/mitch"}, "reply_to_user": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461796032, "post_id": 36900959, "comment_id": 61368142, "body": "When I try different baud rates from the command line starting serial_node.py, the error is &quot;unable to sync&quot; with the device.  So I think it&#39;s using the right baud rate and that the problem is something else."}, {"owner": {"reputation": 2794, "user_id": 5836291, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1327347077/picture?type=large", "display_name": "Vtik", "link": "https://stackoverflow.com/users/5836291/vtik"}, "edited": false, "score": 1, "creation_date": 1462145551, "post_id": 36900959, "comment_id": 61501832, "body": "Did you try increasing the timeout in <a href=\"http://docs.ros.org/diamondback/api/rosserial_python/html/SerialClient_8py_source.html\" rel=\"nofollow noreferrer\">SerialClient Source code</a> (line 199) to something higher ?"}], "owner": {"reputation": 2068, "user_id": 73253, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9bc9b703380adefd1aa4177b23ad265?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/73253/mitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1596, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461791422, "creation_date": 1461791422, "question_id": 36900959, "link": "https://stackoverflow.com/questions/36900959/rosserial-python-serial-port-read-failure", "title": "rosserial_python: Serial port read failure", "body": "<p>I have followed the tutorials for setting up the <a href=\"http://wiki.ros.org/rosserial_arduino/Tutorials/Arduino%20IDE%20Setup\" rel=\"nofollow\">Arduino IDE</a> and loaded the <a href=\"http://wiki.ros.org/rosserial_arduino/Tutorials/Hello%20World\" rel=\"nofollow\">Hello World sketch</a> to my Arduino.</p>\n\n<p>When I run:</p>\n\n<pre><code>rosrun rosserial_python serial_node.py /dev/ttyUSB0\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>[INFO] [WallTime: 1461790180.244609] ROS Serial Python Node\n[INFO] [WallTime: 1461790180.250091] Connecting to /dev/ttyUSB0 at 57600 baud\n[WARN] [WallTime: 1461790182.835996] Serial Port read returned short (expected 72 bytes, received 60 instead).\n[WARN] [WallTime: 1461790182.836598] Serial Port read failure: \n[INFO] [WallTime: 1461790182.837084] Packet Failed :  Failed to read msg data\n[INFO] [WallTime: 1461790182.837400] msg len is 8\n[ERROR] [WallTime: 1461790183.831731] Tried to publish before configured, topic id 125\n</code></pre>\n\n<p>which repeats.</p>\n\n<p>At one time this had worked, but I don't remember what has changed. I uninstalled all ROS components and reinstalled everything following the tutorials, but the problem persists.</p>\n\n<p>I am using Ubuntu 14.04 with ROS Indigo and arduino-1.6.8</p>\n\n<p>If it matters, I am using a virtualenv and had to pip install pyserial and rospkg.  That was not mentioned in the tutorials. </p>\n"}, {"tags": ["python", "numpy", "scipy", "curve-fitting"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 3, "creation_date": 1461794620, "post_id": 36900920, "comment_id": 61367560, "body": "Have you seen <code>scipy.stats.exponnorm</code> (<a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.exponnorm.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/scipy/reference/generated/&hellip;</a>)?  It has a <code>fit</code> method to fit the distribution to a data set."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 6550003, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sDKumYrbGKI/AAAAAAAAAAI/AAAAAAAAADk/BpqGYrnCtkg/photo.jpg?sz=128", "display_name": "Mazhar Shaikh", "link": "https://stackoverflow.com/users/6550003/mazhar-shaikh"}, "is_accepted": true, "score": 2, "last_activity_date": 1467699535, "creation_date": 1467699535, "answer_id": 38196408, "question_id": 36900920, "link": "https://stackoverflow.com/questions/36900920/fitting-an-exponential-modified-gaussian-curve-to-data-with-python/38196408#38196408", "title": "Fitting an exponential modified gaussian curve to data with Python", "body": "<p>The exponentially modified Gaussian is defined to be a skewed distribution to the left and as such, the shape parameter does not change the direction of this skew. </p>\n\n<p>This is what I have tried. </p>\n\n<pre><code>    data.reverse()\n    popt,pcov=(curve_fit(fit_func, n.linspace(0,1,100), data))\n    fitted_curve=list(fit_func(n.linspace(0,1,100),popt[0],popt[1],popt[2]))\n    data.reverse()\n    fitted_curve.reverse()\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/JiVou.png\" rel=\"nofollow\">Plot of the data and the fitted curve</a></p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 504587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94f9fd7c9a72d464121ea0ad7526fe40?s=128&d=identicon&r=PG", "display_name": "muzzle", "link": "https://stackoverflow.com/users/504587/muzzle"}, "is_accepted": false, "score": 0, "last_activity_date": 1593619466, "creation_date": 1593619466, "answer_id": 62680872, "question_id": 36900920, "link": "https://stackoverflow.com/questions/36900920/fitting-an-exponential-modified-gaussian-curve-to-data-with-python/62680872#62680872", "title": "Fitting an exponential modified gaussian curve to data with Python", "body": "<p>You can change the direction of the tail by redefining x:</p>\n<pre><code>exponnorm.pdf(x, K, mu, sigma) \n</code></pre>\n<p>can be rewritten as</p>\n<pre><code>exponnorm.pdf((x-mu)/sigma, K)\n</code></pre>\n<p>If you want to invert that so that the tail is on the left just use</p>\n<pre><code>exponnorm.pdf(-(x-mu)/sigma, K)\n</code></pre>\n"}], "owner": {"reputation": 2306, "user_id": 3991649, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/nwb21.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3991649/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3317, "favorite_count": 3, "accepted_answer_id": 38196408, "answer_count": 2, "score": 4, "last_activity_date": 1593619466, "creation_date": 1461791293, "last_edit_date": 1461791696, "question_id": 36900920, "link": "https://stackoverflow.com/questions/36900920/fitting-an-exponential-modified-gaussian-curve-to-data-with-python", "title": "Fitting an exponential modified gaussian curve to data with Python", "body": "<p>I have a data set and a kernel density estimate for those data.  I believe the KDE should be reasonably well described by an <a href=\"https://en.wikipedia.org/wiki/Exponentially_modified_Gaussian_distribution\" rel=\"nofollow noreferrer\">exponentinally modified Gaussian</a>, so I'm trying to sample from the KDE and fit those samples with a function of that type.  However, when I try to fit using scipy.optimize.curve_fit, my fit doesn't match the data well at all.  My code is</p>\n\n<pre><code>import scipy.special as sse\nfrom scipy.optimize import curve_fit\n\ndef fit_func(x, l, s, m):\n    return 0.5*l*n.exp(0.5*l*(2*m+l*s*s-2*x))*sse.erfc((m+l*s*s-x)/(n.sqrt(2)*s)) # exponential gaussian\n\npopt, pcov = curve_fit(fit_func, n.linspace(0,1,100), data)\n</code></pre>\n\n<p>My \"data set\" (from sampling my KDE) is</p>\n\n<pre><code>data = [1.00733940e-09, 1.36882036e-08, 1.44555907e-07, 1.18647634e-06, 7.56926695e-06, 3.75417381e-05, 1.44836578e-04, 4.35259159e-04, 1.02249858e-03, 1.89480681e-03, 2.83377851e-03, 3.60624100e-03, 4.30392052e-03, 5.33527267e-03, 6.95313891e-03, 8.89175932e-03, 1.05631739e-02, 1.15411608e-02, 1.18087942e-02, 1.16473841e-02, 1.14907524e-02, 1.20296850e-02, 1.42949235e-02, 1.90939074e-02, 2.59260288e-02, 3.27250866e-02, 3.73294844e-02, 3.92476016e-02, 3.94803903e-02, 3.88736022e-02, 3.76397612e-02, 3.65042464e-02, 3.72842810e-02, 4.19404962e-02, 5.12185577e-02, 6.39393269e-02, 7.75139966e-02, 8.97085567e-02, 1.00200355e-01, 1.10354564e-01, 1.22123289e-01, 1.37876215e-01, 1.60232917e-01, 1.90218800e-01, 2.25749072e-01, 2.63342328e-01, 3.01468733e-01, 3.41685959e-01, 3.86769102e-01, 4.38219405e-01, 4.95491603e-01, 5.56936603e-01, 6.20721893e-01, 6.85160043e-01, 7.49797233e-01, 8.17175672e-01, 8.92232359e-01, 9.78276608e-01, 1.07437591e+00, 1.17877517e+00, 1.29376679e+00, 1.42302331e+00, 1.56366767e+00, 1.70593547e+00, 1.84278471e+00, 1.97546304e+00, 2.10659735e+00, 2.23148403e+00, 2.34113950e+00, 2.43414110e+00, 2.52261228e+00, 2.62487277e+00, 2.75168928e+00, 2.89831664e+00, 3.04838614e+00, 3.18625230e+00, 3.30842825e+00, 3.42373645e+00, 3.53943425e+00, 3.64686003e+00, 3.72464478e+00, 3.75656044e+00, 3.74189870e+00, 3.68666210e+00, 3.58686497e+00, 3.42241586e+00, 3.16910593e+00, 2.81976459e+00, 2.39676519e+00, 1.94507169e+00, 1.51241642e+00, 1.13287316e+00, 8.22421330e-01, 5.82858108e-01, 4.07338019e-01, 2.84100125e-01, 1.98750792e-01, 1.37317714e-01, 9.01427225e-02, 5.35761233e-02]\n</code></pre>\n\n<p>and here is my histogram of the real data, the KDE in red, and my attempt at fitting the KDE in black -</p>\n\n<p><a href=\"https://i.stack.imgur.com/5lR8w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5lR8w.png\" alt=\"histogram with kernel density estimate and my fit overplot\"></a></p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 3389281, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/184389ce091279cf2211b14101e9770b?s=128&d=identicon&r=PG&f=1", "display_name": "Fir Nor", "link": "https://stackoverflow.com/users/3389281/fir-nor"}, "edited": false, "score": 0, "creation_date": 1486644410, "post_id": 42112083, "comment_id": 71440324, "body": "I did look at the module iris, and unable to install it on my Mac (however, it is there in the Uni&#39;s server). So, I never tried, will probably do later in the future if I am able to install it again. I stay with all pressure-level data. They are all converted to netcdf."}], "tags": [], "owner": {"reputation": 51, "user_id": 7534227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-G8-5gASiAn8/AAAAAAAAAAI/AAAAAAAABHI/aryZHCpc-JA/photo.jpg?sz=128", "display_name": "Shakka", "link": "https://stackoverflow.com/users/7534227/shakka"}, "is_accepted": false, "score": 0, "last_activity_date": 1486553909, "creation_date": 1486553909, "answer_id": 42112083, "question_id": 36900889, "link": "https://stackoverflow.com/questions/36900889/cross-section-with-orography/42112083#42112083", "title": "Cross section with orography", "body": "<p>I've had this problem too - it is quite tricky to get the terrain to follow orography. I tried manually adding in orography using the surface altitude variable I had in my model output but it was too computationally intensive (at least with the number of model levels and the resolution I have). </p>\n\n<p>I don't know what format your files are in, or what kind of data you're using but have you tried looking at the module iris? It includes a method of adding orography into profiles when it loads files (HybridHeightFactory). Link here: <a href=\"http://scitools.org.uk/iris/\" rel=\"nofollow noreferrer\">http://scitools.org.uk/iris/</a></p>\n"}], "owner": {"reputation": 181, "user_id": 3389281, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/184389ce091279cf2211b14101e9770b?s=128&d=identicon&r=PG&f=1", "display_name": "Fir Nor", "link": "https://stackoverflow.com/users/3389281/fir-nor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1397, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1486553909, "creation_date": 1461791181, "last_edit_date": 1495535371, "question_id": 36900889, "link": "https://stackoverflow.com/questions/36900889/cross-section-with-orography", "title": "Cross section with orography", "body": "<p>First of all, I've looked at these links:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/35493275/contouring-non-uniform-2d-data-in-python-matplotlib-above-terrain\">Contouring non-uniform 2d data in python/matplotlib above terrain</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/36502443/cross-section-plotting-with-terrain-as-backgroun\">Cross-section plotting with terrain as background</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14153816/matplotlib-axis-labels-how-to-find-out-where-they-will-be-locatedd\">Matplotlib axis labels: how to find out where they will be located?</a></p>\n\n<p>but unsuccessfully solve my problem.</p>\n\n<p>As you can see from this image (ignore the wrong title, it's actually zonal winds):</p>\n\n<p><a href=\"https://i.stack.imgur.com/V6BEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V6BEH.png\" alt=\"zonal winds with hybrid level\"></a> </p>\n\n<p>where the black line is the orography and the shaded contour is zonal wind values, the winds value at near sea level, at for example 101.5 E, is under the terrain/orography instead of on top. </p>\n\n<p>At this point, the data used to produce that plot are:</p>\n\n<ol>\n<li>zonal winds data with 814x70 shape. (814-longitude, 70-height)</li>\n<li>orography with 814x1 shape (basically a list of terrain height)</li>\n</ol>\n\n<p>I wonder if I can manipulate something, to plot the data following the terrain. Some suggest grid interpolation or interpolation in general, but I've been scratching my head on how to get it works. </p>\n"}, {"tags": ["python", "xlrd"], "comments": [{"owner": {"reputation": 2144, "user_id": 1487413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1ce845936dc659e6b2624ba537137b78?s=128&d=identicon&r=PG", "display_name": "Martin Burch", "link": "https://stackoverflow.com/users/1487413/martin-burch"}, "edited": false, "score": 0, "creation_date": 1461791448, "post_id": 36900868, "comment_id": 61366063, "body": "I suppose I could filter the output, by piping it through something like <code>awk &#39;!&#47;NOTE&#47;&#39;</code> but that&#39;s not a great solution."}, {"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 2, "creation_date": 1461791804, "post_id": 36900868, "comment_id": 61366219, "body": "You could use the approach here: <a href=\"http://stackoverflow.com/questions/7619319/suppress-an-error-message\" title=\"suppress an error message\">stackoverflow.com/questions/7619319/suppress-an-error-messag&zwnj;&#8203;e</a>"}, {"owner": {"reputation": 2144, "user_id": 1487413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1ce845936dc659e6b2624ba537137b78?s=128&d=identicon&r=PG", "display_name": "Martin Burch", "link": "https://stackoverflow.com/users/1487413/martin-burch"}, "edited": false, "score": 0, "creation_date": 1461795005, "post_id": 36900868, "comment_id": 61367713, "body": "I agree. The only difference is in the particular error I want to suppress. I think <a href=\"http://stackoverflow.com/a/15315188/1487413\">the general solution of igoring xlrd&#39;s warnings</a> should be applied here. If something is really wrong, presumably that will be caught by an actual exception."}], "owner": {"reputation": 2144, "user_id": 1487413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1ce845936dc659e6b2624ba537137b78?s=128&d=identicon&r=PG", "display_name": "Martin Burch", "link": "https://stackoverflow.com/users/1487413/martin-burch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1461794895, "answer_count": 0, "score": 0, "last_activity_date": 1461791090, "creation_date": 1461791090, "question_id": 36900868, "link": "https://stackoverflow.com/questions/36900868/can-i-stop-python-xlrd-from-printing-note-ignoring-non-worksheet-data-to-std", "closed_reason": "Duplicate", "title": "Can I stop Python xlrd from printing NOTE *** Ignoring non-worksheet data to stdout?", "body": "<p>I am opening an Excel workbook in Python with <code>xlrd.open_workbook()</code>. When I do, a message is printed to stdout (not stderr):</p>\n\n<pre><code>NOTE *** Ignoring non-worksheet data named u'Plot' (type 0x02 = Chart)\n</code></pre>\n\n<p>There are a lot of ignored charts, and I'm not interested in knowing that they were ignored. Can I stop this message?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1461791160, "post_id": 36900856, "comment_id": 61365918, "body": "<code>re.findall(pattern, test_str)</code> with <code>r&#39;\\(?\\d+x\\d+\\)?&#39;</code> or <code>r&#39;\\d+x\\d+&#39;</code>"}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 2, "creation_date": 1461791190, "post_id": 36900856, "comment_id": 61365937, "body": "Just use <code>re.findall</code> instead of <code>re.search</code> - you should not even need the grouping parenthesis"}, {"owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1461791433, "post_id": 36900856, "comment_id": 61366046, "body": "@WiktorStribi\u017cew, Thank you! Should I delete this question or leave it?"}, {"owner": {"reputation": 15917, "user_id": 5211833, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Pyme2.jpg?s=128&g=1", "display_name": "Adriaan", "link": "https://stackoverflow.com/users/5211833/adriaan"}, "edited": false, "score": 0, "creation_date": 1461793395, "post_id": 36900856, "comment_id": 61367001, "body": "@user1330974 that is entirely up to you. If you think this question has no merit any longer you can decide to delete it, but be aware of the possible question ban if you do this too often in too short a time span. (So if this is your first deletion don;t worry about that)"}], "answers": [{"comments": [{"owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "edited": false, "score": 0, "creation_date": 1461976042, "post_id": 36901826, "comment_id": 61457204, "body": "Stribizew, thank you. I understood now that I should use <code>findall</code>. :)"}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1461794999, "creation_date": 1461794999, "answer_id": 36901826, "question_id": 36900856, "link": "https://stackoverflow.com/questions/36900856/regular-expression-to-match-repeated-occurrence-of-a-pattern/36901826#36901826", "title": "Regular expression to match repeated occurrence of a pattern", "body": "<p>You can use</p>\n\n<pre><code>import re\nmy_strs = [\"Roll|N/A|300x60|(1x1)|AAA|BBB\", \"Desktop|1x1|(1x1)|AAA|BBB\", \"Desktop|NA|(NA)|AAA|BBB\", \"Roll|N/A|N/A|(1x1)|AAA|BBB\"]\nprint([re.findall(r'\\d+x\\d+', s) for s in my_strs])\n# =&gt; [['300x60', '1x1'], ['1x1', '1x1'], [], ['1x1']]\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/NqCT3A\" rel=\"nofollow\">IDEONE demo</a> and the <a href=\"https://regex101.com/r/nT5xC3/1\" rel=\"nofollow\">regex demo</a>.</p>\n\n<p>The main point is using the <a href=\"https://docs.python.org/2/library/re.html#re.findall\" rel=\"nofollow\"><code>re.findall</code></a> that will fetch multiple matches (or captured substrings, but there is no capturing group in the pattern I suggest). The issue you have is that you tried to match <em>repeated captures</em> with 1 search operation. Since the substrings are not adjoining, glued, you only had single results.</p>\n"}, {"comments": [{"owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "edited": false, "score": 0, "creation_date": 1461976073, "post_id": 36905154, "comment_id": 61457216, "body": "thank you. I accepted Wiktor&#39;s answer below because he submitted earlier. Both of your solution works. Thanks again!"}], "tags": [], "owner": {"reputation": 3886, "user_id": 5741681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2d7159467a096cf7569ff7d9197b78?s=128&d=identicon&r=PG&f=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/5741681/quinn"}, "is_accepted": false, "score": 1, "last_activity_date": 1461817099, "creation_date": 1461817099, "answer_id": 36905154, "question_id": 36900856, "link": "https://stackoverflow.com/questions/36900856/regular-expression-to-match-repeated-occurrence-of-a-pattern/36905154#36905154", "title": "Regular expression to match repeated occurrence of a pattern", "body": "<p>You could do like this:</p>\n\n<pre><code>import re\ninput_strings = ['Roll|N/A|300x60|(1x1)|AAA|BBB', 'Desktop|1x1|(1x1)|AAA|BBB',\\\n                 'Desktop|NA|(NA)|AAA|BBB','Roll|N/A|N/A|(1x1)|AAA|BBB']\n\nprint [[ j if j else None for j in [re.findall('(\\d+x\\d+)', i)]  ][0] for i in input_strings ]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['300x60', '1x1'], ['1x1', '1x1'], None, ['1x1']]\n</code></pre>\n"}], "owner": {"reputation": 2157, "user_id": 1330974, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MVlCI.png?s=128&g=1", "display_name": "user1330974", "link": "https://stackoverflow.com/users/1330974/user1330974"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 36901826, "answer_count": 2, "score": 1, "last_activity_date": 1461817099, "creation_date": 1461791063, "question_id": 36900856, "link": "https://stackoverflow.com/questions/36900856/regular-expression-to-match-repeated-occurrence-of-a-pattern", "title": "Regular expression to match repeated occurrence of a pattern", "body": "<p>I have a few possible input strings like below:</p>\n\n<pre><code>Roll|N/A|300x60|(1x1)|AAA|BBB\n\nDesktop|1x1|(1x1)|AAA|BBB\n\nDesktop|NA|(NA)|AAA|BBB\n\nRoll|N/A|N/A|(1x1)|AAA|BBB\n</code></pre>\n\n<p>from which, I'm trying to detect pattern of type <code>\\d+x\\d+</code> (e.g., '300x60', '1x1' from the first line; '1x1', '1x1' from the second; <code>None</code> from the third; and '1x1' from the last). Could someone show me how to write Python regular expression search to capture <strong>none or one or many</strong> occurrence(s) of such pattern in a given string? I tried below already and it only captures either the first or the second occurrence of the pattern in a given sentence. Thank you!</p>\n\n<pre><code>r = re.search('(\\(?\\d+x\\d+\\)?)+', my_str) \nr.group() # only gives me '320x50' for the first input above\n</code></pre>\n"}, {"tags": ["python", "numpy", "scikit-learn"], "comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1461818327, "post_id": 36900841, "comment_id": 61374318, "body": "I think you&#39;re getting your concepts mixed up, in your code it looks like <code>k</code> is the number of predictor variables, and <code>n</code> is the sample size; and you need to have <code>n</code> strictly greater than <code>k</code> for the regression to make sense. Think about it, image you <code>k=1</code> so you just have one variable you&#39;re trying to predict, i.e. you&#39;re trying to calculate the gradient of a line. You&#39;ll need at least two points to caluclate this, so you must have <code>n&gt;2</code>."}, {"owner": {"reputation": 1928, "user_id": 2032413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/59cb9dae8cb82d1bc007489f7b4f0134?s=128&d=identicon&r=PG", "display_name": "bcf", "link": "https://stackoverflow.com/users/2032413/bcf"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1461840739, "post_id": 36900841, "comment_id": 61387096, "body": "@maxymoo no, the code it correct. It works when I solve the system uses lstsq from np.linalg for a square matrix, and for k &gt;= n using scikit-learn. I believe there is a bug in scikit-learn."}], "answers": [{"tags": [], "owner": {"reputation": 3051, "user_id": 1430829, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ea83bfdd65dd51af719ed212887b25e3?s=128&d=identicon&r=PG", "display_name": "Matt Hancock", "link": "https://stackoverflow.com/users/1430829/matt-hancock"}, "is_accepted": false, "score": 1, "last_activity_date": 1461863850, "last_edit_date": 1461863850, "creation_date": 1461858702, "answer_id": 36919655, "question_id": 36900841, "link": "https://stackoverflow.com/questions/36900841/scikit-learn-linear-regression-on-square-matrix-seems-incorrect/36919655#36919655", "title": "Scikit-Learn Linear Regression on Square Matrix Seems Incorrect", "body": "<p>By default, the attribute <code>fit_intercept</code> of the <code>LinearRegression</code> class is set to <code>True</code>. This appears to have two effects. First, before the model is fitted using <code>linalg.lstsq</code>, the matrices, <code>X</code> and <code>y</code>, are centered by subtracting the mean in the <code>_center_data</code> method. Second, after the model is fit, the <code>_set_intercept</code> sets:</p>\n\n<pre><code>regr.intercept_ = y_mean - np.dot(X_mean, regr.coef_.T)\n</code></pre>\n\n<p>It is not clear from the documentation how this intercept term is derived.</p>\n\n<p>In your case, you can inspect that in cases where <code>k &gt; n</code> the resulting <code>intercept_</code> term is on the order of <code>1e-14</code>, but for <code>k = n</code>, <code>intercept_</code> is non-zero, explaining why coefficient vector mismatch in the case of <code>k = n</code>. You can remedy all this by simply setting <code>fit_intercept=False</code> in your model.</p>\n\n<p><strong>Caveat</strong>: a more meaningful answer, of course, might explain how the intercept term is derived, as well as provide insight as to why the intercept term is zero for <code>k &gt; n</code>.</p>\n"}], "owner": {"reputation": 1928, "user_id": 2032413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/59cb9dae8cb82d1bc007489f7b4f0134?s=128&d=identicon&r=PG", "display_name": "bcf", "link": "https://stackoverflow.com/users/2032413/bcf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1461863850, "creation_date": 1461791017, "question_id": 36900841, "link": "https://stackoverflow.com/questions/36900841/scikit-learn-linear-regression-on-square-matrix-seems-incorrect", "title": "Scikit-Learn Linear Regression on Square Matrix Seems Incorrect", "body": "<p>I am linearly regressing <code>k</code> response variables <code>y</code> onto on <code>k</code> x <code>n</code> predictor variables <code>X</code>, where k >= n.  Using Scikit-Learn, the regression seems correct, except when <code>n = k</code>; i.e., when the matrix of predictors is square.  Consider the following MWE, where I randomly generate the matrix <code>X</code> and coefficients <code>b</code> to construct the <code>y</code>, then perform regression using scikit-learn to check that the coefficients are the same as the true coefficients:</p>\n\n<pre><code>import numpy as np\nfrom sklearn import linear_model\n\n\nn = 5  # number of predictor variables                                  \nk = 5  # number of response variables, &gt;= n *** Set = n for issue ***   \nmu_b = 2.0  # mean of each component of b, used to create coeffs        \n\nprint \"n = \", n\n\n# generate true coefficients ~ N(2,0.09)                                \nb = np.random.normal(2.0, 0.3, n)\n\nprint \"b = \", b\n\n# generate true predictors ~ N(0,25)                                    \nX = np.random.normal(0.0, 5.0, (k,n))\n\n# generate true target variables                                        \ny = X.dot(b)\n\n\n# create linear regression object                                       \nregr = linear_model.LinearRegression()\n\n# train model                                                           \nregr.fit(X,y)\n\n# print coeffs                                                          \nprint \"estimated b = \", regr.coef_\n\n# print difference                                                      \nprint \"difference = \", np.linalg.norm(b - regr.coef_)\n</code></pre>\n\n<p>If k > n there is no difference modulo machine precision, but when k = n there can be quite a difference.  Has anyone else encountered this?  Is this a known bug?</p>\n"}, {"tags": ["python", "django", "redis", "celery"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 2409378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645baa7ca9eb6e80180bfcb5043d4ff5?s=128&d=identicon&r=PG", "display_name": "Siddharth Maheshwari", "link": "https://stackoverflow.com/users/2409378/siddharth-maheshwari"}, "edited": false, "score": 0, "creation_date": 1461793676, "post_id": 36901071, "comment_id": 61367132, "body": "Is there a workaround to renaming it. I tried absolute import with project.user but then it says no module name project.user"}, {"owner": {"reputation": 1096, "user_id": 6061947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f89bd4c6b19d14dc3d682c08242cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Cory Shay", "link": "https://stackoverflow.com/users/6061947/cory-shay"}, "reply_to_user": {"reputation": 13, "user_id": 2409378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645baa7ca9eb6e80180bfcb5043d4ff5?s=128&d=identicon&r=PG", "display_name": "Siddharth Maheshwari", "link": "https://stackoverflow.com/users/2409378/siddharth-maheshwari"}, "edited": false, "score": 0, "creation_date": 1461814484, "post_id": 36901071, "comment_id": 61373221, "body": "You would probably have to use <code>python 3</code> for your project or could do something like <a href=\"http://stackoverflow.com/a/11158224\">this answer</a> to be able to use <code>project.user</code>. Or just renaming <code>user</code>, even to uppercase may resolve it for now."}], "tags": [], "owner": {"reputation": 1096, "user_id": 6061947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f89bd4c6b19d14dc3d682c08242cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Cory Shay", "link": "https://stackoverflow.com/users/6061947/cory-shay"}, "is_accepted": true, "score": 0, "last_activity_date": 1461791871, "creation_date": 1461791871, "answer_id": 36901071, "question_id": 36900832, "link": "https://stackoverflow.com/questions/36900832/celery-worker-does-not-start-importerror-for-an-app/36901071#36901071", "title": "Celery worker does not start ImportError for an app", "body": "<p>The issue is a namespace conflict. As there is a <code>user</code> configuration hook that is included with <code>python 2.x</code> and was removed within <code>python 3</code>. More information on <a href=\"http://docs.python.org/library/user\" rel=\"nofollow\">user</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 2409378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645baa7ca9eb6e80180bfcb5043d4ff5?s=128&d=identicon&r=PG", "display_name": "Siddharth Maheshwari", "link": "https://stackoverflow.com/users/2409378/siddharth-maheshwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 998, "favorite_count": 0, "accepted_answer_id": 36901071, "answer_count": 1, "score": 1, "last_activity_date": 1461791871, "creation_date": 1461790974, "question_id": 36900832, "link": "https://stackoverflow.com/questions/36900832/celery-worker-does-not-start-importerror-for-an-app", "title": "Celery worker does not start ImportError for an app", "body": "<p>I am trying to use celery with django with redis as the broker. One of my app name is user and its models are imported by other apps. When I run the django server it starts without any error and everything works fine.</p>\n\n<p>But when I try to start a celery worker with the command \"celery -A project worker -l INFO\", I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/bin/celery\", line 11, in &lt;module&gt;\n    sys.exit(main())\n  File \"/usr/local/lib/python2.7/dist-packages/celery/__main__.py\", line 30, in main\n    main()\n  File \"/usr/local/lib/python2.7/dist-packages/celery/bin/celery.py\", line 81, in main\n    cmd.execute_from_commandline(argv)\n  File \"/usr/local/lib/python2.7/dist-packages/celery/bin/celery.py\", line 793, in execute_from_commandline\n    super(CeleryCommand, self).execute_from_commandline(argv)))\n  File \"/usr/local/lib/python2.7/dist-packages/celery/bin/base.py\", line 311, in execute_from_commandline\n    return self.handle_argv(self.prog_name, argv[1:])\n  File \"/usr/local/lib/python2.7/dist-packages/celery/bin/celery.py\", line 785, in handle_argv\n    return self.execute(command, argv)\n  File \"/usr/local/lib/python2.7/dist-packages/celery/bin/celery.py\", line 717, in execute\n    ).run_from_argv(self.prog_name, argv[1:], command=argv[0])\n  File \"/usr/local/lib/python2.7/dist-packages/celery/bin/worker.py\", line 179, in run_from_argv\n    return self(*args, **options)\n  File \"/usr/local/lib/python2.7/dist-packages/celery/bin/base.py\", line 274, in __call__\n    ret = self.run(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/celery/bin/worker.py\", line 212, in run\n    state_db=self.node_format(state_db, hostname), **kwargs\n  File \"/usr/local/lib/python2.7/dist-packages/celery/worker/__init__.py\", line 95, in __init__\n    self.app.loader.init_worker()\n  File \"/usr/local/lib/python2.7/dist-packages/celery/loaders/base.py\", line 128, in init_worker\n    self.import_default_modules()\n  File \"/usr/local/lib/python2.7/dist-packages/celery/loaders/base.py\", line 116, in import_default_modules\n    signals.import_modules.send(sender=self.app)\n  File \"/usr/local/lib/python2.7/dist-packages/celery/utils/dispatch/signal.py\", line 166, in send\n    response = receiver(signal=self, sender=sender, **named)\n  File \"/usr/local/lib/python2.7/dist-packages/celery/fixups/django.py\", line 73, in on_import_modules\n    self.worker_fixup.validate_models()\n  File \"/usr/local/lib/python2.7/dist-packages/celery/fixups/django.py\", line 158, in validate_models\n    django_setup()\n  File \"/usr/local/lib/python2.7/dist-packages/django/__init__.py\", line 18, in setup\n    apps.populate(settings.INSTALLED_APPS)\n  File \"/usr/local/lib/python2.7/dist-packages/django/apps/registry.py\", line 108, in populate\n    app_config.import_models(all_models)\n  File \"/usr/local/lib/python2.7/dist-packages/django/apps/config.py\", line 202, in import_models\n    self.models_module = import_module(models_module_name)\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/path_to_project/project/app1/models.py\", line 2, in &lt;module&gt;\n    from app1.models import *\n  File \"/path_to_project/project/project/models.py\", line 9, in &lt;module&gt;\n    from user.models import *\nImportError: No module named models\n</code></pre>\n\n<p>The thing to be noted here is that it says No module named <strong>models</strong> and <strong>not</strong> No module named <strong>user.models</strong>. This can mean that there is some conflict with other file although I have double checked and there is no user.py in either project directory or app1 directory. If I rename app \"user\" to \"user2\" the worker starts. Also to be noted is the fact that celery was starting fine sometime back. Since then the code has changed but no app has been added.</p>\n\n<p>My project has the following structure (showing only relevant parts)</p>\n\n<pre><code>- project\n  - project\n    - celery.py\n    - models.py\n  - user\n    - models.py\n  - app1\n    - models.py\n    - tasks.py\n</code></pre>\n\n<p>and celery.py is</p>\n\n<pre><code>from __future__ import absolute_import\n\nimport os\nfrom celery import Celery\nfrom django.conf import settings\n\n# set the default Django settings module for the 'celery' program.\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'project.settings')\n\napp = Celery('project')\n\n# Using a string here means the worker will not have to\n# pickle the object when using Windows.\napp.config_from_object('django.conf:settings')\napp.autodiscover_tasks(lambda: settings.INSTALLED_APPS)\n</code></pre>\n\n<p>CELERY config is </p>\n\n<pre><code>BROKER_URL = 'redis://localhost:6379/0'\nCELERY_ACCEPT_CONTENT = ['json']\nCELERY_TASK_SERIALIZER = 'json'\nCELERY_RESULT_SERIALIZER = 'json'\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 11251, "user_id": 3284878, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d324c610856d2626e9b719eb4135b3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Aviv Cohn", "link": "https://stackoverflow.com/users/3284878/aviv-cohn"}, "edited": false, "score": 0, "creation_date": 1461796125, "post_id": 36900827, "comment_id": 61368174, "body": "Debugging shows the problem was the player and bomb both reference the same <code>velocity</code> object, which is created using an <code>ObjectProperty(Vector(0, 0))</code>. The thing is, the player and bomb should each have its own <code>velocity</code> vector object, which isn&#39;t the case. Can you help me understand the problem?"}], "tags": [], "owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "is_accepted": false, "score": 0, "last_activity_date": 1461790951, "creation_date": 1461790951, "answer_id": 36900827, "question_id": 36900760, "link": "https://stackoverflow.com/questions/36900760/how-to-prevent-properties-from-being-shared-between-widgets/36900827#36900827", "title": "How to prevent properties from being shared between widgets?", "body": "<p>Kivy's widgets would not do this automatically, probably you've written code that inadvertently causes it. Post a runnable example demonstrating the problem if you want help to track it down.</p>\n"}], "owner": {"reputation": 11251, "user_id": 3284878, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d324c610856d2626e9b719eb4135b3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Aviv Cohn", "link": "https://stackoverflow.com/users/3284878/aviv-cohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461797311, "creation_date": 1461790703, "last_edit_date": 1495541260, "question_id": 36900760, "link": "https://stackoverflow.com/questions/36900760/how-to-prevent-properties-from-being-shared-between-widgets", "title": "How to prevent properties from being shared between widgets?", "body": "<p>I'm working on a game using Kivy where the player can press a key to shoot a bomb. Here's a simplified function:</p>\n\n<pre><code>def shoot(self, world):\n    # self is the player widget\n    bomb = Bomb(pos=self.pos)\n    world.add_entity(bomb)\n</code></pre>\n\n<p>The funny thing, when the player shoots, the bomb keeps moving with him wherever he goes.</p>\n\n<p>After debugging I realized this is because both the player and the bomb share the <code>velocity</code> property.</p>\n\n<p>The <code>Player</code> class and <code>Bomb</code> class both inherit <code>Entity</code>, which defined <code>velocity = ObjectProperty(Vector(0, 0))</code> at class level. Debugging at runtime shows the two objects reference the exact same object.</p>\n\n<p>The thing is, Kivy properties should actually create separate attributes on each instance. So why is this unwanted shared state, and how can I fix this?</p>\n\n<p><strong>The solution</strong></p>\n\n<p>Thanks to a comment by @Tshirtman to the answer on <a href=\"https://stackoverflow.com/questions/18580794/usage-of-objectproperty-class\">this question</a>, I have found the problem and the solution.</p>\n\n<p>Turns out Kivy properties have a gotcha, where the initial value set when instantiating them will be shared by all instances of the class.</p>\n\n<p>To clarify:</p>\n\n<pre><code># this implementation results in the property shared by all instances\n\nclass MyWidget(Widget):\n    my_field = ObjectProperty(MyObject())\n\nw1 = MyWidget()\nw2 = MyWidget()\nw1.my_field is w2.my_field  # True\n</code></pre>\n\n<p>As you can see, <code>my_field</code> is actually shared between the two instances.</p>\n\n<p>To avoid this behavior, make sure to set the attribute on the particular object, in addition to setting the class-level property.</p>\n\n<p>For example:</p>\n\n<pre><code>class MyWidget(Widget):\n    my_field = ObjectProperty()\n\n    def __init__(self, **kwargs):\n        super(MyWidget, self).__init__(**kwargs)\n        self.my_field = MyObject()  # explicitly set the value on the object\n\nw1 = MyWidget()\nw2 = MyWidget()\nw1.my_field is w2.my_field  # False    \n</code></pre>\n\n<p>When explicitly setting the value for the field, the field is not shared between instances. Hope this helps someone.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1461790603, "post_id": 36900648, "comment_id": 61365625, "body": "what have you done so far?"}, {"owner": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461791693, "post_id": 36900648, "comment_id": 61366166, "body": "@MaxU I did sort scenario and groupby id as fallow.  df.sort_values(by=&quot;scenario&quot;, ascending=False).groupby(&#39;subID&#39;).head(n=1)"}, {"owner": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461792021, "post_id": 36900648, "comment_id": 61366336, "body": "@MaxU I did sort scenario and groupby id to generate df of latest scenario as follow.  df.sort_values(by=&quot;scenario&quot;, ascending=False).groupby(&#39;subID&#39;).head(n=1). To sum prices I did df.groupby(&#39;masterID&#39;).sum() however this sums every column. Wanted to do this logic for last 2 scenarios and then rearrange to desired format however doesn&#39;t look like the ideal way to go about solving this."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461793352, "post_id": 36901229, "comment_id": 61366982, "body": "I think this would work if I only had 2 scenarios. I should of mentioned that my df has multiple scenarios and a different scenario count for each masterID. I only need to find the pct_change for last two scenarios"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461793682, "post_id": 36901229, "comment_id": 61367136, "body": "@Obabs, it&#39;ll work for any number of <code>scenario</code>s, <code>master_id</code>&#39;s, etc. - check my updated answer"}, {"owner": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461794638, "post_id": 36901229, "comment_id": 61367572, "body": "it works for any number of scenarios however I&#39;d like to be able to only retrieve the last two scenarios. For example if masterID has scenarios [1,2,4,6,9] I only want scenarios 6 and 9 in my columns."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461794918, "post_id": 36901229, "comment_id": 61367687, "body": "@Obabs, then just filter your DF beforehand"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1461793699, "last_edit_date": 1461793699, "creation_date": 1461792421, "answer_id": 36901229, "question_id": 36900648, "link": "https://stackoverflow.com/questions/36900648/how-to-df-groupby-sum-only-one-column/36901229#36901229", "title": "How to df.groupby.sum only one column", "body": "<p>try this:</p>\n\n<pre><code>In [38]: df\nOut[38]:\n    id  master_id  price  scenario\n0  101          1    400         1\n1  102          1    550         1\n2  101          1    650         2\n3  102          1    400         2\n4  201          2    500         1\n5  201          2    600         2\n6  301          2    500         3\n7  301          2    600         3\n\nIn [39]: g = df.groupby(['master_id','scenario'], as_index=False)['price']\\\n   ....:       .sum()\\\n   ....:       .pivot(index='master_id', columns='scenario', values='price')\\\n   ....:       .reset_index()\n\nIn [40]: g\nOut[40]:\nscenario  master_id      1       2       3\n0                 1  950.0  1050.0     NaN\n1                 2  500.0   600.0  1100.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461794735, "post_id": 36901359, "comment_id": 61367607, "body": "your solution works however I should of mentioned in my initial post that I&#39;d like to be able to only retrieve the last two scenarios. For example if masterID has scenarios [1,2,4,6,9] I only want scenarios 6 and 9 in my columns. Thanks"}, {"owner": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "reply_to_user": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461795690, "post_id": 36901359, "comment_id": 61368006, "body": "You&#39;ll need to first create a new column  (say &#39;rev_scen&#39;) containing the scenario number in a reverse count - meaning the latest scenario 0, the previous -1, before that -2 and so on. The you can query for rev_scen &gt;= -1, and then apply my solution. Let me know if you get stuck, and I&#39;ll write you a snippet tomorrow, when I get to a computer."}, {"owner": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "reply_to_user": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461830495, "post_id": 36901359, "comment_id": 61380220, "body": "@Obabs did everything work out or are you still stuck?"}, {"owner": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461852742, "post_id": 36901359, "comment_id": 61396434, "body": "yes still stuck, if I have the same number of scenario for each masterID it works, however I&#39;m running into situations were I have 20 scenarios for one and 5 for another masterID"}, {"owner": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "reply_to_user": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461852885, "post_id": 36901359, "comment_id": 61396561, "body": "That&#39;s not a problem, you just need the reverse scenario counter. I have an idea. I&#39;ll look into it and let you know"}, {"owner": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461857264, "post_id": 36901359, "comment_id": 61400027, "body": "just needed to add a groupby.sum() for the child id before your solution.Other than that worked great, thanks again"}, {"owner": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "reply_to_user": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "edited": false, "score": 0, "creation_date": 1461859824, "post_id": 36901359, "comment_id": 61401782, "body": "Right, good catch. You&#39;d have to start with the sum, reset the index and then move on to my solution."}], "tags": [], "owner": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "is_accepted": true, "score": 0, "last_activity_date": 1461854395, "last_edit_date": 1461854395, "creation_date": 1461792941, "answer_id": 36901359, "question_id": 36900648, "link": "https://stackoverflow.com/questions/36900648/how-to-df-groupby-sum-only-one-column/36901359#36901359", "title": "How to df.groupby.sum only one column", "body": "<p>So the first step would be to group by master id and scenario, and then unstack scenario to get a column for each one:</p>\n\n<pre><code>df_scen = df.groupby(['master id', 'scenario']).agg({'price': 'sum'}).unstack('scenario')\n</code></pre>\n\n<p>The next step would be to create a new column for % change. You may have to play with the column names a bit, but it should look something like this:</p>\n\n<pre><code>df_scen['% change'] = 100 * df_scen[('scenario', 2)] / df_scen[('scenario', 1)] - 100\n</code></pre>\n\n<h2>Edit</h2>\n\n<p>In case you have several scenarios for each master ID, and you only want the latest two:</p>\n\n<pre><code># Group and sort in descending order of scenario\ngrp = df.sort_values(['master id', 'scenario'], ascending=False).groupby('master id')\n\n# Get only the latest and previous scenarios\ndf_first = grp.nth(0).reset_index()  # synonymous to .first()\ndf_first['rev_scen'] = 'current'\ndf_second = grp.nth(1).reset_index()\ndf_second['rev_scen'] = 'previous'\n\ndf_latest = df_first.append(df_second) # Merge the two\n\n# From here on it's basically the same as the original answer\ndf_scen = df_latest.groupby(['master id', 'rev_scen']).agg({'price': 'sum'}).unstack('rev_scen')\ndf_scen['% change'] = 100 * df_scen[('price', 'current')] / df_scen[('price', 'previous')] - 100\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 3491129, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bf2f5faf393bddbe0a53954c0eba1bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Obabs", "link": "https://stackoverflow.com/users/3491129/obabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 36901359, "answer_count": 2, "score": -1, "last_activity_date": 1461854395, "creation_date": 1461790346, "last_edit_date": 1461792585, "question_id": 36900648, "link": "https://stackoverflow.com/questions/36900648/how-to-df-groupby-sum-only-one-column", "title": "How to df.groupby.sum only one column", "body": "<p>I have a pandas dataframe df (see example) that has columns: <code>master ID</code>, <code>sub ID</code> (child of <code>master ID</code>), prices of sub ID and scenarios count for each master ID/SubID. I would like to find the prices pct_change between scenarios for each master ID as displayed in example. master ID price are the sums of their child sub ID prices. Sorry if this is not clear. </p>\n\n<p>what have been tried so far:</p>\n\n<pre><code>df.sort_values(by=\"scenario\", ascending=False).groupby('subID').head(n=1)\n</code></pre>\n\n<p>Example of df and desired result</p>\n\n<p><img src=\"https://i.stack.imgur.com/ocqLW.png\" alt=\"Example of df and desired result\"></p>\n"}, {"tags": ["python", "powershell", "powershell-5.0", "stem"], "answers": [{"tags": [], "owner": {"reputation": 46267, "user_id": 702944, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ddc09de7193d48aa3ba66a2e2d3cee01?s=128&d=identicon&r=PG&f=1", "display_name": "Frode F.", "link": "https://stackoverflow.com/users/702944/frode-f"}, "is_accepted": true, "score": 1, "last_activity_date": 1461795254, "last_edit_date": 1461795254, "creation_date": 1461791941, "answer_id": 36901095, "question_id": 36900641, "link": "https://stackoverflow.com/questions/36900641/python-to-powershell-stem-classes/36901095#36901095", "title": "Python to PowerShell, stem: Classes", "body": "<p>What's wrong with what you have? This works fine in PowerShell 5.0:</p>\n\n<pre><code>Class ControllerError : System.Exception\n{\n\n}\n\n\nClass OperationFailed : ControllerError\n{\n    $Code\n    $Message\n\n    OperationFailed ($Code, $Message)\n    {\n        $this.Code = $Code\n        $this.Message = $Message\n    }\n}\n\n$o = [operationfailed]::new(\"500\",\"Internal server errror\")\n\n$o.Code\n500\n\n$o.Message\nInternal server errror\n\n$o | Get-Member | Select Name, MemberType\n\nName             MemberType\n----             ----------\nEquals               Method\nGetBaseException     Method\nGetHashCode          Method\nGetObjectData        Method\nGetType              Method\nToString             Method\nCode               Property\nData               Property\nHelpLink           Property\nHResult            Property\nInnerException     Property\nMessage            Property\nSource             Property\nStackTrace         Property\nTargetSite         Property\n\n$o.gettype()\n\nIsPublic IsSerial Name            BaseType       \n-------- -------- ----            --------       \nTrue     False    OperationFailed ControllerError\n\n$o.gettype().BaseType\n\nIsPublic IsSerial Name            BaseType        \n-------- -------- ----            --------        \nTrue     False    ControllerError System.Exception\n</code></pre>\n\n<p>I would recommend specifying a type for <code>$Code</code> and <code>$Message</code> as you probably don't want them to be <code>System.Object</code>. Ex.:</p>\n\n<pre><code>Class OperationFailed : ControllerError\n{\n    [string]$Code\n    [string]$Message\n\n    OperationFailed ([string]$Code, [string]$Message)\n    {\n        $this.Code = $Code\n        $this.Message = $Message\n    }\n}\n</code></pre>\n\n<p>If you really want to use the base constructor (or you want to use Powershell &lt; 5.0), then you need to use C# and <code>Add-Type</code></p>\n\n<pre><code>$def = @\"\n    public class ControllerError : System.Exception\n    {\n        public ControllerError(string message) : base(message) { }\n    }\n\n\n    public class OperationFailed : ControllerError\n    {\n        public string Code;\n\n        public OperationFailed(string code, string message) : base(message)\n        {\n            this.Code = code;\n        }\n    }\n\"@\n\nAdd-Type -TypeDefinition $def\n\n\n$o = [OperationFailed]::new(\"500\",\"internal server error\")\n</code></pre>\n"}], "owner": {"reputation": 984, "user_id": 4405933, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-mJp_fzBCbtA/AAAAAAAAAAI/AAAAAAAAABo/c54tuEZwDc0/photo.jpg?sz=128", "display_name": "Jaqueline Vanek", "link": "https://stackoverflow.com/users/4405933/jaqueline-vanek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 36901095, "answer_count": 1, "score": 0, "last_activity_date": 1461795254, "creation_date": 1461790323, "question_id": 36900641, "link": "https://stackoverflow.com/questions/36900641/python-to-powershell-stem-classes", "title": "Python to PowerShell, stem: Classes", "body": "<p>What would be the posh equivalent for python's:</p>\n\n<pre><code>class ControllerError(Exception):\n\n\nclass OperationFailed(ControllerError):\n\n  def __init__(self, code = None, message = None):\n    super(ControllerError, self).__init__(message)\n    self.code = code\n    self.message = message\n</code></pre>\n\n<p>for the SO purists, my attempt thus far:</p>\n\n<pre><code>Class ControllerError : System.Exception\n{\n\n}\n\n\nClass OperationFailed : ControllerError\n{\n    $Code\n    $Message\n\n    OperationFailed ($Code, $Message)\n    {\n        $this.Code = $Code\n        $this.Message = $Message\n    }\n}\n</code></pre>\n"}, {"tags": ["python", "scipy", "regression"], "answers": [{"tags": [], "owner": {"reputation": 464, "user_id": 5575238, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cc9d9fb363bb1a6828521f4cf27a300c?s=128&d=identicon&r=PG&f=1", "display_name": "paveltr", "link": "https://stackoverflow.com/users/5575238/paveltr"}, "is_accepted": true, "score": 2, "last_activity_date": 1461843176, "creation_date": 1461843176, "answer_id": 36913390, "question_id": 36900613, "link": "https://stackoverflow.com/questions/36900613/scipy-pls-getting-the-regression-equation/36913390#36913390", "title": "scipy PLS getting the regression equation", "body": "<p>I went to <code>predict</code> method and found the solution. {} - means vectors</p>\n\n<pre><code>{Y_predicted} = normalized({X}) x pls.coef_ + {Y_o}mean \n</code></pre>\n"}], "owner": {"reputation": 464, "user_id": 5575238, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cc9d9fb363bb1a6828521f4cf27a300c?s=128&d=identicon&r=PG&f=1", "display_name": "paveltr", "link": "https://stackoverflow.com/users/5575238/paveltr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "accepted_answer_id": 36913390, "answer_count": 1, "score": 0, "last_activity_date": 1461843176, "creation_date": 1461790220, "question_id": 36900613, "link": "https://stackoverflow.com/questions/36900613/scipy-pls-getting-the-regression-equation", "title": "scipy PLS getting the regression equation", "body": "<p>I made a regression</p>\n\n<pre><code>import numpy as np\nfrom sklearn.cross_decomposition import PLSRegression\n\nX = [[0., 0., 1.], [1.,0.,0.], [2.,2.,2.], [2.,5.,4.]]\nY = [[0.1, -0.2], [0.9, 1.1], [6.2, 5.9], [11.9, 12.3]]\n\npls2 = PLSRegression(n_components=2)\npls2.fit(X, Y)\n</code></pre>\n\n<p>Then i have coefficients</p>\n\n<pre><code>coeffs = pls2.coef_\n[[ 1.53732139  1.5363102 ]\n [ 0.97075672  1.0153412 ]\n [ 1.19152707  1.23299069]]\n</code></pre>\n\n<p>I was looking for an equations for Y1 and Y2.</p>\n\n<p>I checked </p>\n\n<pre><code>Y1 = coeffs [0] * X1 + coeffs [1] * X2 + coeffs [2] * X2\n</code></pre>\n\n<p>But it is not equal to <code>pls2.predict</code></p>\n\n<p>Also I tried to apply <code>pls2.x_weights_</code>, but still no success.</p>\n\n<p>How can I get equation for Y1 and Y2 ?</p>\n"}, {"tags": ["python", "loops", "matrix", "random", "generator"], "comments": [{"owner": {"reputation": 640, "user_id": 4508233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8GHxA.jpg?s=128&g=1", "display_name": "veda905", "link": "https://stackoverflow.com/users/4508233/veda905"}, "edited": false, "score": 0, "creation_date": 1461793788, "post_id": 36900608, "comment_id": 61367186, "body": "What are seats and should foundspot just quit if it doesn&#39;t find anything after 4 tries (what should it notify the user somehow)?"}, {"owner": {"reputation": 11, "user_id": 5922048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b79be89828225f813593d1cd1a8631e?s=128&d=identicon&r=PG&f=1", "display_name": "Mardux", "link": "https://stackoverflow.com/users/5922048/mardux"}, "reply_to_user": {"reputation": 640, "user_id": 4508233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8GHxA.jpg?s=128&g=1", "display_name": "veda905", "link": "https://stackoverflow.com/users/4508233/veda905"}, "edited": false, "score": 0, "creation_date": 1461846162, "post_id": 36900608, "comment_id": 61391123, "body": "oop! ya I changed the name of the class from seats to gridmodel while I was working with it. I edited the code above. ideally id like to have a diagram at each step, using matplotlib."}, {"owner": {"reputation": 1367, "user_id": 1240367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uIhgD.png?s=128&g=1", "display_name": "Walter_Ritzel", "link": "https://stackoverflow.com/users/1240367/walter-ritzel"}, "edited": false, "score": 0, "creation_date": 1461856617, "post_id": 36900608, "comment_id": 61399529, "body": "Weel, the code you posted does not set any spots to 1, I think you&#39;ll never found a spot, because by what you said the matrix will have 0&#39;s or 1&#39;s, but you only say that you found a spot when the value is less than 0."}, {"owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "edited": false, "score": 0, "creation_date": 1461860518, "post_id": 36900608, "comment_id": 61402222, "body": "Perhaps <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a> is a better place"}], "owner": {"reputation": 11, "user_id": 5922048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b79be89828225f813593d1cd1a8631e?s=128&d=identicon&r=PG&f=1", "display_name": "Mardux", "link": "https://stackoverflow.com/users/5922048/mardux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461856128, "creation_date": 1461790200, "last_edit_date": 1461856128, "question_id": 36900608, "link": "https://stackoverflow.com/questions/36900608/playing-with-a-matrix", "title": "playing with a matrix", "body": "<p>Im trying to write a Python class that creates a matrix of zeros, then uses a random number generator to pick spots on the matrix. It changes the zero in that spot to a one, until the matrix is all ones. Can someone critique/correct my code? (I also want the generator to check its proximity on the matrix, and try 3 times to find a spot that is 2 spots away from any ones.)</p>\n\n<pre><code>import random\nimport numpy as np\n#agents is amount of agents available to fill grid\nclass Gridmodel():\n    def __init__(self, gridsize, agents):\n        self.gridsize = gridsize\n        self.agents = agents \n        self.gridmodel = np.zeros([self.gridsize, self.gridsize],dtype=int)\n\n\n    def foundspot(self):\n        foundspot = False         \n        tries = 0\n        while foundspot == False and tries &lt;= 3:\n            x = random.randint(0, self.gridsize)\n            y = random.randint(0, self.gridsize)\n            if self.gridmodel[x][y] &lt; 0:\n                foundspot = True\n        else: \n            tries += 1\n\n    def goodspot(self, x, y):\n        goodspot = self.gridmodel[x][y]\n        for i in range(-1,2):\n            for j in range(-1,2):\n\n                print i, j, self.gridmodel[i][j]             \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 65, "user_id": 6241386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c2b140507b3489b286862a385d23a5?s=128&d=identicon&r=PG&f=1", "display_name": "RajivKumar", "link": "https://stackoverflow.com/users/6241386/rajivkumar"}, "edited": false, "score": 0, "creation_date": 1461790110, "post_id": 36900566, "comment_id": 61365334, "body": "Also, I am not sure what is the value of &#39;a&#39;"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1461790795, "post_id": 36900566, "comment_id": 61365717, "body": "If you ever think you need to dynamically create variables, what you really need is a data structure of some sort. Probably a list or a dict."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 6241386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c2b140507b3489b286862a385d23a5?s=128&d=identicon&r=PG&f=1", "display_name": "RajivKumar", "link": "https://stackoverflow.com/users/6241386/rajivkumar"}, "edited": false, "score": 0, "creation_date": 1461795175, "post_id": 36900692, "comment_id": 61367782, "body": "my query is answered, thanks all"}, {"owner": {"reputation": 65, "user_id": 6241386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c2b140507b3489b286862a385d23a5?s=128&d=identicon&r=PG&f=1", "display_name": "RajivKumar", "link": "https://stackoverflow.com/users/6241386/rajivkumar"}, "edited": false, "score": 0, "creation_date": 1461795212, "post_id": 36900692, "comment_id": 61367801, "body": "how I can write multiple variables and text to a file file.write(Issue&#39;,issue, &quot;Reporter:&quot;,issue_reporter, &quot;Created:&quot;,created,&quot;Age of issue:&quot;,days_old&quot;) gives me syntax error"}], "tags": [], "owner": {"reputation": 1817, "user_id": 2452074, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c419795f550f591a065b2681ef88b61?s=128&d=identicon&r=PG", "display_name": "JoseKilo", "link": "https://stackoverflow.com/users/2452074/josekilo"}, "is_accepted": true, "score": 0, "last_activity_date": 1461790450, "creation_date": 1461790450, "answer_id": 36900692, "question_id": 36900566, "link": "https://stackoverflow.com/questions/36900566/can-i-use-a-variables-value-as-a-new-variable-how-i-can-do-that/36900692#36900692", "title": "can I use a variable&#39;s value as a new variable? How I can do that?", "body": "<p>You could use <code>globals()</code></p>\n\n<pre><code>&gt;&gt;&gt; a = 'rajiv'\n&gt;&gt;&gt; globals()[a] = 1\n&gt;&gt;&gt; rajiv\n1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": false, "score": 0, "last_activity_date": 1461790719, "last_edit_date": 1495535443, "creation_date": 1461790719, "answer_id": 36900764, "question_id": 36900566, "link": "https://stackoverflow.com/questions/36900566/can-i-use-a-variables-value-as-a-new-variable-how-i-can-do-that/36900764#36900764", "title": "can I use a variable&#39;s value as a new variable? How I can do that?", "body": "<p>You can use <code>globals()</code> like the others have suggested.<br>\nHowever, <a href=\"https://stackoverflow.com/questions/19158339/why-are-global-variables-evil\">it is thought to be bad practice</a><br>\nI say utilize object in python</p>\n\n<pre><code>obj = {}\nobj['a'] = 'foobar'\nobj[obj['a']] = 'hello'\nprint(obj) # {'a': 'foobar', 'foobar': 'hello world'}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6241386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c2b140507b3489b286862a385d23a5?s=128&d=identicon&r=PG&f=1", "display_name": "RajivKumar", "link": "https://stackoverflow.com/users/6241386/rajivkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "closed_date": 1461790721, "accepted_answer_id": 36900692, "answer_count": 2, "score": 0, "last_activity_date": 1461790719, "creation_date": 1461790039, "question_id": 36900566, "link": "https://stackoverflow.com/questions/36900566/can-i-use-a-variables-value-as-a-new-variable-how-i-can-do-that", "closed_reason": "Duplicate", "title": "can I use a variable&#39;s value as a new variable? How I can do that?", "body": "<p>can I use a variable's value as a new variable? How I can do that?</p>\n\n<p>a = \"rajiv\"</p>\n\n<p>I want to set rajiv to another value\na = \"1\"</p>\n\n<p>but I get a's value as 1 and not rajiv's</p>\n"}, {"tags": ["java", "python", "regex"], "comments": [{"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1461790024, "post_id": 36900529, "comment_id": 61365281, "body": "Not a regular language. Regex doesn&#39;t exist."}, {"owner": {"reputation": 4446, "user_id": 668540, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/95eefde7a484edbd40d23a355771626e?s=128&d=identicon&r=PG", "display_name": "Austin", "link": "https://stackoverflow.com/users/668540/austin"}, "edited": false, "score": 1, "creation_date": 1461790104, "post_id": 36900529, "comment_id": 61365331, "body": "I guess what you could do is create a <code>HashMap&lt;(character) char, (integer) count&gt;</code>, loop through the String and increment the count for each character, then compare the results from the HashMap with each string to see if it matches."}], "answers": [{"tags": [], "owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "is_accepted": true, "score": 3, "last_activity_date": 1461790186, "creation_date": 1461790186, "answer_id": 36900603, "question_id": 36900529, "link": "https://stackoverflow.com/questions/36900529/regex-to-find-word-with-exact-count-of-any-letter/36900603#36900603", "title": "Regex to find word with exact count of any letter", "body": "<p>A regex doesn't exist for this language because the language is <em>not</em> regular.</p>\n\n<p>You'll want to either create a <code>HashMap&lt;char, int&gt;</code> that captures the count of each char in the string and compare that to the input string or sort your list of words and the user's input and compare them.</p>\n"}], "owner": {"reputation": 2026, "user_id": 1735100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdVMy.jpg?s=128&g=1", "display_name": "Denys Vasylenko", "link": "https://stackoverflow.com/users/1735100/denys-vasylenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 36900603, "answer_count": 1, "score": 0, "last_activity_date": 1461790186, "creation_date": 1461789921, "question_id": 36900529, "link": "https://stackoverflow.com/questions/36900529/regex-to-find-word-with-exact-count-of-any-letter", "title": "Regex to find word with exact count of any letter", "body": "<p>I have a list of words:</p>\n\n<ol>\n<li><em>\"abac\"</em></li>\n<li><em>\"abcc\"</em></li>\n<li><em>\"acb\"</em></li>\n<li><em>\"aaaa\"</em></li>\n<li>...</li>\n</ol>\n\n<p>User can input any word for searching in this list.</p>\n\n<p>My goal is to find in list specific word that contains the same count of each character from input word. For example, if an input word is <em>\"abca\"</em> then <strong>only</strong> first word from list should match, if <em>\"cba\"</em> - then <strong>only</strong> third.</p>\n\n<p>I decided to use regex which will be applied to each words in list separately until matching.</p>\n\n<p>My attempt is regex <code>/^[abca]{4}$/</code> but this is the wrong approach since it ignores the count of each character therefore second and fourth words from list matching also, though they shouldn't.</p>\n\n<p>Will appreciate any help.</p>\n"}, {"tags": ["python", "arrays", "if-statement", "for-loop", "indexing"], "comments": [{"owner": {"reputation": 51083, "user_id": 1467082, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZPeMR.jpg?s=128&g=1", "display_name": "David Zemens", "link": "https://stackoverflow.com/users/1467082/david-zemens"}, "edited": false, "score": 0, "creation_date": 1461790198, "post_id": 36900476, "comment_id": 61365387, "body": "Plz have a look at the &quot;related&quot; questions and see if you find solution there...e.g.,: <a href=\"http://stackoverflow.com/questions/29199585/indexerror-too-many-indices-numpy-array-with-1-row-and-2-columns?rq=1\" title=\"indexerror too many indices numpy array with 1 row and 2 columns\">stackoverflow.com/questions/29199585/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/22108909/indexerror-too-many-indices-in-numpy-python?rq=1\" title=\"indexerror too many indices in numpy python\">stackoverflow.com/questions/22108909/&hellip;</a>"}, {"owner": {"reputation": 41, "user_id": 5063813, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e488f4b452496e08b0a2831e01be16ea?s=128&d=identicon&r=PG&f=1", "display_name": "John12", "link": "https://stackoverflow.com/users/5063813/john12"}, "reply_to_user": {"reputation": 51083, "user_id": 1467082, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ZPeMR.jpg?s=128&g=1", "display_name": "David Zemens", "link": "https://stackoverflow.com/users/1467082/david-zemens"}, "edited": false, "score": 0, "creation_date": 1461790910, "post_id": 36900476, "comment_id": 61365777, "body": "Checked, from what I see their problem stems from having 1 row, which is not my case (t rows). If having 1 column generates the same issue, I am a bit unclear as to how I need to reshape list1 and list2. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5063813, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e488f4b452496e08b0a2831e01be16ea?s=128&d=identicon&r=PG&f=1", "display_name": "John12", "link": "https://stackoverflow.com/users/5063813/john12"}, "edited": false, "score": 0, "creation_date": 1461975866, "post_id": 36900823, "comment_id": 61457172, "body": "Thank you, this perfectly answers the questions"}], "tags": [], "owner": {"reputation": 1174, "user_id": 5388135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dr54L.jpg?s=128&g=1", "display_name": "MartijnVanAttekum", "link": "https://stackoverflow.com/users/5388135/martijnvanattekum"}, "is_accepted": false, "score": 1, "last_activity_date": 1461790940, "creation_date": 1461790940, "answer_id": 36900823, "question_id": 36900476, "link": "https://stackoverflow.com/questions/36900476/column-vector-with-for-loop-and-if-statement-indexerror-too-many-indices-for/36900823#36900823", "title": "Column vector with for loop and if statement - IndexError: too many indices for array", "body": "<p>Which line in the code throws the error? What might be the case is that you did not define y3 before indexing it. Did you write</p>\n\n<pre><code>y3=np.ndarray(5) \n</code></pre>\n\n<p>somewhere? Secondly, you might want to use list comprehension and a ternary operator to make the code more concise and pythonic. This replaces the whole loop:</p>\n\n<pre><code>y3=[0 if list1[i]&lt;=list2[i] else 1 for i in range(t)]\n</code></pre>\n\n<p>In which case defining of y3 beforehand is also not necessary.</p>\n"}], "owner": {"reputation": 41, "user_id": 5063813, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e488f4b452496e08b0a2831e01be16ea?s=128&d=identicon&r=PG&f=1", "display_name": "John12", "link": "https://stackoverflow.com/users/5063813/john12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461790940, "creation_date": 1461789743, "question_id": 36900476, "link": "https://stackoverflow.com/questions/36900476/column-vector-with-for-loop-and-if-statement-indexerror-too-many-indices-for", "title": "Column vector with for loop and if statement - IndexError: too many indices for array", "body": "<p>I am trying to create a binary column vector (y3) based on a comparison of two lists. For each element of both list, if one is bigger than the other, 0, if not ,1. The result (ones and zeroes) being stored in y3. </p>\n\n<pre><code>t=5\nlist1 = data[:t,0]  # Extrated from data = np.array(list(...\nlist2 = data[:t,1]  # Same\nfor i in range(t):\n    if list1[i]&lt;=list2[i]:\n        y3[i]=0\n    else:\n        y3[i]=1\n</code></pre>\n\n<p>I get an \"IndexError: too many indices for array\". What is wrong with the code?\nThank you for your valuable help. </p>\n"}, {"tags": ["python", "python-2.7", "dictionary", "trace"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 1, "creation_date": 1461790409, "post_id": 36900457, "comment_id": 61365511, "body": "You seem to be missing part of the traceback."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1461790888, "post_id": 36900457, "comment_id": 61365760, "body": "How did you create the file? Does your code work on a smaller dictionary?"}, {"owner": {"reputation": 15423, "user_id": 2069350, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4EnA0.png?s=128&g=1", "display_name": "Henry Keiter", "link": "https://stackoverflow.com/users/2069350/henry-keiter"}, "edited": false, "score": 0, "creation_date": 1461791001, "post_id": 36900457, "comment_id": 61365840, "body": "You seem to have omitted the error type and message. They are often somewhat important for diagnosing error causes."}], "answers": [{"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1461790988, "post_id": 36900818, "comment_id": 61365831, "body": "Since this isn&#39;t an answer, it would have been better posted as a comment."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1461791081, "post_id": 36900818, "comment_id": 61365881, "body": "This certainly is an answer. Q: &quot;Is there a problem with the size of the dictionary?&quot; A: &quot;No, there is not a specific size limitation on dictionaries&quot;, Q: &quot;is there a some problem while parsing the dictionary?&quot; A: &quot;I suppose that your dictionary contains something other than the above types.&quot; And, edited after your comment posted, Q: &quot;what can I do to solve it?&quot; A: use binary search on the input file."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 0, "last_activity_date": 1461791011, "last_edit_date": 1461791011, "creation_date": 1461790903, "answer_id": 36900818, "question_id": 36900457, "link": "https://stackoverflow.com/questions/36900457/error-in-loading-large16mb-python-dictionary/36900818#36900818", "title": "Error in loading large(16MB) python dictionary", "body": "<p>No, there is not a specific size limitation on dictionaries loaded by <code>ast.literal_eval</code>.</p>\n\n<p>There are, however, limitations on the keys and values that the dictionary may contain. Quoting <a href=\"https://docs.python.org/2/library/ast.html#ast.literal_eval\" rel=\"nofollow\">the documentation</a>:</p>\n\n<blockquote>\n  <p>The string or node provided may only consist of the following Python literal structures: strings, numbers, tuples, lists, dicts, booleans, and None.</p>\n</blockquote>\n\n<p>I suppose that your dictionary contains something other than the above types.</p>\n\n<p>As near as you can, divide your file in half, adding whatever punctuation is required to ensure that both halves are still valid dictionaries. Run <code>ast.literal_eval()</code> against both halves. If one of them raises an exception, cut it in half and repeat the process. Soon enough you'll discover the location of the problem.</p>\n"}], "owner": {"reputation": 5, "user_id": 3492170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/393e038b4a999b0f02c13a3b8571da94?s=128&d=identicon&r=PG&f=1", "display_name": "Utkarsh", "link": "https://stackoverflow.com/users/3492170/utkarsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 36900818, "answer_count": 1, "score": 0, "last_activity_date": 1461791011, "creation_date": 1461789681, "question_id": 36900457, "link": "https://stackoverflow.com/questions/36900457/error-in-loading-large16mb-python-dictionary", "title": "Error in loading large(16MB) python dictionary", "body": "<p>I created a python dictionary earlier and saved it file in text format. The size of the file is 16MB. When I try to load it using <strong>ast</strong></p>\n\n<pre><code>f = \"dictionaryInTextFile\"\nfileToRead = open(f, 'r')\nObject = fileToRead.read()\nfileToRead.close()\n\nObjectDict = ast.literal_eval(Object)\n</code></pre>\n\n<p>I get the following error</p>\n\n<pre><code>eTraceback (most recent call last):\nFile \"somename.py\", line 46, in &lt;module&gt;\n   ObjectDict = ast.literal_eval(Object)\nFile \"/usr/lib/python2.7/ast.py\", line 49, in literal_eval\n   node_or_string = parse(node_or_string, mode='eval')\nFile \"/usr/lib/python2.7/ast.py\", line 37, in parse\n   return compile(source, filename, mode, PyCF_ONLY_AST)\nFile \"&lt;unknown&gt;\", line 1\n</code></pre>\n\n<p>Although when I tried to load a portion of the dictionary, it loaded successfully.</p>\n\n<p>Is there a problem with the size of the dictionary or is there a some problem while parsing the dictionary from the text file and what can I do to solve it?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1367, "user_id": 1240367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uIhgD.png?s=128&g=1", "display_name": "Walter_Ritzel", "link": "https://stackoverflow.com/users/1240367/walter-ritzel"}, "edited": false, "score": 0, "creation_date": 1461789823, "post_id": 36900443, "comment_id": 61365174, "body": "Ok, let&#39;s do that: your question is lacking the code you have written, so we can apply the needed changes on it. You could also format the desired output as code, to make it more visible."}, {"owner": {"reputation": 15, "user_id": 6181959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b9ce1183947119f45eed045b7bbf0b8?s=128&d=identicon&r=PG&f=1", "display_name": "Gordon", "link": "https://stackoverflow.com/users/6181959/gordon"}, "reply_to_user": {"reputation": 1367, "user_id": 1240367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uIhgD.png?s=128&g=1", "display_name": "Walter_Ritzel", "link": "https://stackoverflow.com/users/1240367/walter-ritzel"}, "edited": false, "score": 0, "creation_date": 1461789928, "post_id": 36900443, "comment_id": 61365233, "body": "Literally my code is tiny. It asks the user to enter name and age, then it outputs to file. I did add the code to my question as text as I cannot figure out how to add it as code ( some features are not supported on ios)"}, {"owner": {"reputation": 10649, "user_id": 1245240, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/S2VAJ.png?s=128&g=1", "display_name": "Robert H", "link": "https://stackoverflow.com/users/1245240/robert-h"}, "edited": false, "score": 0, "creation_date": 1461790110, "post_id": 36900443, "comment_id": 61365336, "body": "@Gordon Adding as code is indenting by 4 spaces on a new line. you can also use backticks (shared with the tilde symbol on a qwerty keyboard) to do inline <code>code</code>."}, {"owner": {"reputation": 10649, "user_id": 1245240, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/S2VAJ.png?s=128&g=1", "display_name": "Robert H", "link": "https://stackoverflow.com/users/1245240/robert-h"}, "edited": false, "score": 0, "creation_date": 1461790193, "post_id": 36900443, "comment_id": 61365381, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2918362/writing-string-to-a-file-on-a-new-line-everytime\">writing string to a file on a new line everytime?</a>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1461790202, "post_id": 36900443, "comment_id": 61365390, "body": "I deleted the comments about being downvoted, but if you would like to stop that, then your can read the various topics of <a href=\"http://stackoverflow.com/help/asking\">asking help</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1064, "user_id": 2128915, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/snteB.jpg?s=128&g=1", "display_name": "Fiery Phoenix", "link": "https://stackoverflow.com/users/2128915/fiery-phoenix"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1461790343, "post_id": 36900568, "comment_id": 61365473, "body": "You&#39;re correct. Using string.format would be the best option here, as shown in the other answers."}], "tags": [], "owner": {"reputation": 1064, "user_id": 2128915, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/snteB.jpg?s=128&g=1", "display_name": "Fiery Phoenix", "link": "https://stackoverflow.com/users/2128915/fiery-phoenix"}, "is_accepted": false, "score": 0, "last_activity_date": 1461790374, "last_edit_date": 1461790374, "creation_date": 1461790046, "answer_id": 36900568, "question_id": 36900443, "link": "https://stackoverflow.com/questions/36900443/how-to-format-the-file-output-python-3/36900568#36900568", "title": "How to format the file output Python 3", "body": "<p>I haven't tested this, but did you try something like this?</p>\n\n<pre><code>separator = ' '\nf = open('UserDetails') \nf.write (name + separator) \nf.write (str(age) + separator) \nf.close ()\n</code></pre>\n\n<p>It might not show exactly how you want it, but the idea is to use string concatenation and see if that works (including the new line symbol '\\n''). </p>\n\n<p>That said, without seeing the actual code you've written, it's hard to say much else. </p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 6181959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b9ce1183947119f45eed045b7bbf0b8?s=128&d=identicon&r=PG&f=1", "display_name": "Gordon", "link": "https://stackoverflow.com/users/6181959/gordon"}, "edited": false, "score": 0, "creation_date": 1461790818, "post_id": 36900605, "comment_id": 61365730, "body": "It is now saying that the f in f.close has incorrect syntax??"}, {"owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "reply_to_user": {"reputation": 15, "user_id": 6181959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b9ce1183947119f45eed045b7bbf0b8?s=128&d=identicon&r=PG&f=1", "display_name": "Gordon", "link": "https://stackoverflow.com/users/6181959/gordon"}, "edited": false, "score": 0, "creation_date": 1461790951, "post_id": 36900605, "comment_id": 61365806, "body": "You should probably be opening the file with the <code>&#39;a&#39;</code> flag so you can append your newly-written lines, or possibly with the <code>&#39;w&#39;</code> flag if you want to overwrite previously-written ones."}, {"owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "reply_to_user": {"reputation": 15, "user_id": 6181959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b9ce1183947119f45eed045b7bbf0b8?s=128&d=identicon&r=PG&f=1", "display_name": "Gordon", "link": "https://stackoverflow.com/users/6181959/gordon"}, "edited": false, "score": 0, "creation_date": 1461790966, "post_id": 36900605, "comment_id": 61365819, "body": "What&#39;s the exact error you&#39;re getting, and what&#39;s the exact code you&#39;re using? You likely have a typo."}], "tags": [], "owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "is_accepted": false, "score": 2, "last_activity_date": 1461790915, "last_edit_date": 1461790915, "creation_date": 1461790188, "answer_id": 36900605, "question_id": 36900443, "link": "https://stackoverflow.com/questions/36900443/how-to-format-the-file-output-python-3/36900605#36900605", "title": "How to format the file output Python 3", "body": "<p>Use <a href=\"https://docs.python.org/3.1/library/functions.html#format\" rel=\"nofollow\"><code>string.format</code></a> with a newline character like so:</p>\n\n<pre><code>f = open('UserDetails', 'a')\nf.write(\"{0} {1}\\n\".format(name, age))\nf.close()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4373, "user_id": 1810460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daef67cac318d3e35f84bc3f315bcfc?s=128&d=identicon&r=PG", "display_name": "Hamms", "link": "https://stackoverflow.com/users/1810460/hamms"}, "edited": false, "score": 0, "creation_date": 1461790306, "post_id": 36900620, "comment_id": 61365444, "body": "This is python 2 syntax; the OP specified python 3"}, {"owner": {"reputation": 15, "user_id": 6181959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b9ce1183947119f45eed045b7bbf0b8?s=128&d=identicon&r=PG&f=1", "display_name": "Gordon", "link": "https://stackoverflow.com/users/6181959/gordon"}, "edited": false, "score": 0, "creation_date": 1461790606, "post_id": 36900620, "comment_id": 61365627, "body": "I tried this, and it has started claiming that the f in f.close has an invalid syntax ??"}, {"owner": {"reputation": 1367, "user_id": 1240367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uIhgD.png?s=128&g=1", "display_name": "Walter_Ritzel", "link": "https://stackoverflow.com/users/1240367/walter-ritzel"}, "edited": false, "score": 0, "creation_date": 1461790741, "post_id": 36900620, "comment_id": 61365691, "body": "just remove the space after the word close."}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1461795338, "post_id": 36900620, "comment_id": 61367855, "body": "While this code may answer the question, providing additional context regarding why and/or how it answers the question would significantly improve its long-term value. Please <a href=\"https://stackoverflow.com/posts/36900620/edit\">edit</a> your answer to add some explanation."}], "tags": [], "owner": {"reputation": 1367, "user_id": 1240367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uIhgD.png?s=128&g=1", "display_name": "Walter_Ritzel", "link": "https://stackoverflow.com/users/1240367/walter-ritzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1461790721, "last_edit_date": 1461790721, "creation_date": 1461790270, "answer_id": 36900620, "question_id": 36900443, "link": "https://stackoverflow.com/questions/36900443/how-to-format-the-file-output-python-3/36900620#36900620", "title": "How to format the file output Python 3", "body": "<pre><code>name = input(\"\")\nage = input(\"\")\nf = open('UserDetails','a')\nf.write (\"{0} {1}\\n\".format(name, age))\nf.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": true, "score": 0, "last_activity_date": 1461790304, "creation_date": 1461790304, "answer_id": 36900632, "question_id": 36900443, "link": "https://stackoverflow.com/questions/36900443/how-to-format-the-file-output-python-3/36900632#36900632", "title": "How to format the file output Python 3", "body": "<pre><code>f = open('UserDetails','a')\nname = input(\"Name? \")\nf.write (\"{} \".format(name))\nage = input(\"Age? \")\nf.write (\"{}\\n\".format(age))\nf.close ()\n</code></pre>\n\n<p>I would do something like this<br>\nYou can put a while loop where needed<br>\nOR<br>\nYou can run it multiple times if you wish to add another person</p>\n"}, {"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1461790692, "creation_date": 1461790692, "answer_id": 36900759, "question_id": 36900443, "link": "https://stackoverflow.com/questions/36900443/how-to-format-the-file-output-python-3/36900759#36900759", "title": "How to format the file output Python 3", "body": "<p>The <code>with open as</code> syntax is preferred over needing to manually close a file, and this will loop until you kill the script. </p>\n\n<pre><code>with open(\"UserDetails\", \"a\") as f:\n    while True:\n        name = input(\"name: \")\n        age = int(input(\"age: \"))\n        f.write(\"{0} {1}\\n\".format(name, age))\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6181959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b9ce1183947119f45eed045b7bbf0b8?s=128&d=identicon&r=PG&f=1", "display_name": "Gordon", "link": "https://stackoverflow.com/users/6181959/gordon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2823, "favorite_count": 1, "accepted_answer_id": 36900632, "answer_count": 5, "score": 0, "last_activity_date": 1461790915, "creation_date": 1461789641, "last_edit_date": 1461790031, "question_id": 36900443, "link": "https://stackoverflow.com/questions/36900443/how-to-format-the-file-output-python-3", "title": "How to format the file output Python 3", "body": "<p>I have made a code which asks the users name and age. It asks age and stores it using :</p>\n\n<pre><code>name = input(\"\")\n</code></pre>\n\n<p>And the name uses the same.\nI have outputted the age to file like so:</p>\n\n<pre><code>f = open('UserDetails')\nf.write (name)\nf.write (age)\nf.close ()\n</code></pre>\n\n<p>I would like to be able to format this as in the file it just appears like:</p>\n\n<pre><code>James42Brian20Charlie56\n</code></pre>\n\n<p>I would like to make it be like :</p>\n\n<pre><code>James 42\nBrian 20\nCharlie 56\n</code></pre>\n\n<p>How would I do this?</p>\n"}, {"tags": ["javascript", "python", "algorithm", "modulo", "exponentiation"], "answers": [{"comments": [{"owner": {"reputation": 2358, "user_id": 4674270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb2178f681f3e7bbae2ee25fb2b5e1e7?s=128&d=identicon&r=PG", "display_name": "Denis Yakovenko", "link": "https://stackoverflow.com/users/4674270/denis-yakovenko"}, "edited": false, "score": 0, "creation_date": 1461789894, "post_id": 36900456, "comment_id": 61365214, "body": "Thanks for the clarification! Is there a way to get the same results for modular exponentiation?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 2358, "user_id": 4674270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb2178f681f3e7bbae2ee25fb2b5e1e7?s=128&d=identicon&r=PG", "display_name": "Denis Yakovenko", "link": "https://stackoverflow.com/users/4674270/denis-yakovenko"}, "edited": false, "score": 1, "creation_date": 1461790314, "post_id": 36900456, "comment_id": 61365448, "body": "@DenisYakovenko: To do it right, you&#39;d want to get a Javascript library that provides arbitrary-precision integers. Alternatively, you say you don&#39;t care much about the results being correct. That is a really weird thing to not care about, and I&#39;m not sure how much I believe you, but in that case, you could just <code>return 0</code> for both languages."}, {"owner": {"reputation": 2358, "user_id": 4674270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb2178f681f3e7bbae2ee25fb2b5e1e7?s=128&d=identicon&r=PG", "display_name": "Denis Yakovenko", "link": "https://stackoverflow.com/users/4674270/denis-yakovenko"}, "edited": false, "score": 0, "creation_date": 1461790581, "post_id": 36900456, "comment_id": 61365609, "body": "I mean I felt that I&#39;d be ok with either the javascript&#39;s result or python&#39;s, but they had to be the same on both sides (138693107570 or 124912252967 in that case)."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 6, "last_activity_date": 1461790138, "last_edit_date": 1461790138, "creation_date": 1461789675, "answer_id": 36900456, "question_id": 36900312, "link": "https://stackoverflow.com/questions/36900312/why-modular-exponentiation-functions-work-differently-in-python-and-javascript-f/36900456#36900456", "title": "Why Modular Exponentiation functions work differently in Python and Javascript for large numbers?", "body": "<p>Python's result is correct.</p>\n\n<p>Python uses an arbitrary-precision integer representation, while Javascript stores all numbers as IEEE754 64-bit floating point (and temporarily coerces them to 32-bit integers for bitwise operations). This means that for large integers, the Javascript code starts losing precision, while the Python code maintains the exact values of all results throughout the calculation.</p>\n\n<p>If you want to handle large integers exactly in Javascript, you will need to use <a href=\"https://www.google.com/search?q=javascript%20bignums\" rel=\"nofollow\">an appropriate library</a>. Alternatively, you say you don't care much about the result being correct. That is a really weird thing to not care about, but if you really feel that way:</p>\n\n<pre><code># Python\ndef wrongpow(a, b, c):\n    return 0\n\n// Javascript\nfunction wrongpow(a, b, c) {\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 2358, "user_id": 4674270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fb2178f681f3e7bbae2ee25fb2b5e1e7?s=128&d=identicon&r=PG", "display_name": "Denis Yakovenko", "link": "https://stackoverflow.com/users/4674270/denis-yakovenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461790138, "creation_date": 1461789178, "question_id": 36900312, "link": "https://stackoverflow.com/questions/36900312/why-modular-exponentiation-functions-work-differently-in-python-and-javascript-f", "title": "Why Modular Exponentiation functions work differently in Python and Javascript for large numbers?", "body": "<p>I need to perform modular exponentiation on quite large numbers on both python3 and javascript. I have functions that do the task, but they give me different outputs.</p>\n\n<p>Python (all of the three work in the same way):</p>\n\n<pre><code>pow(176672119508, 55, 200000023499)\n\ndef expmod_iter(a,b,c):\n    x = 1\n    while(b&gt;0):\n        if(b&amp;1==1): x = (x*a)%c\n        a=(a*a)%c\n        b &gt;&gt;= 1\n    return x%c\n\ndef pow_mod(x, y, z):\n    number = 1\n    while y:\n        if y &amp; 1:\n            number = number * x % z\n        y &gt;&gt;= 1\n        x = x * x % z\n    return number\n\n# The result is always 124912252967\n</code></pre>\n\n<p>and now JavaScript (both functions work in the same way):</p>\n\n<pre><code>function powMod(x, y, z) {\n  let number = 1;\n  while (y) {\n      if (y &amp; 1) {\n          number = number * x % z;\n      }\n      y &gt;&gt;= 1;\n      x = x * x % z;\n  }\n  return number;\n}\n\nfunction expmod_iter(a, b, c) {\n  let x = 1;\n\n  while (b &gt; 0) {\n    if (b &amp; 1 === 1) {\n      x = (x * a) % c;\n    }\n    a = (a * a) % c;\n    b &gt;&gt;= 1\n  }\n  return x % c;\n}\n\nconsole.log(powMod(176672119508, 55, 200000023499));\nconsole.log(expmod_iter(176672119508, 55, 200000023499));\n\n// The result is always 138693107570\n</code></pre>\n\n<p>And moreover, when I used <a href=\"https://www.mtholyoke.edu/courses/quenell/s2003/ma139/js/powermod.html\" rel=\"nofollow\">this service</a> with my numbers, I also got 138693107570.</p>\n\n<hr>\n\n<p>Why does this happen? I'm not even sure what variant is correct now. However, on smaller numbers the functions give identical results.</p>\n\n<p>Is it possible to somehow get the same result from the functions? It doesn't even matter that much that the result is mathematically correct, the results should be at least the same.</p>\n\n<p>Could you please explain why this happens? Is it the function design? To me, functions on both languages seem to be identical.</p>\n\n<p>Is there a way to get the same result from functions of both languages?</p>\n"}, {"tags": ["python", "eclipse", "import", "python-imaging-library", "pydev"], "comments": [{"owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "edited": false, "score": 0, "creation_date": 1461789309, "post_id": 36900272, "comment_id": 61364894, "body": "What happens when you run the script? Does the error just appear in Eclipse, or does it also happen when you run the script?"}], "answers": [{"comments": [{"owner": {"reputation": 1156, "user_id": 4375983, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/06b86a36a26e05db28034d8725d06675?s=128&d=identicon&r=PG&f=1", "display_name": "Aetos", "link": "https://stackoverflow.com/users/4375983/aetos"}, "edited": false, "score": 0, "creation_date": 1461823791, "post_id": 36900415, "comment_id": 61376415, "body": "I tried adding PIL to the Forced builtins, but the problem persists."}], "tags": [], "owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "is_accepted": false, "score": 0, "last_activity_date": 1461789539, "creation_date": 1461789539, "answer_id": 36900415, "question_id": 36900272, "link": "https://stackoverflow.com/questions/36900272/the-pil-library-import-fails/36900415#36900415", "title": "The PIL library import fails", "body": "<p>For Python import problems in PyDev, the project web site has a page on <a href=\"http://www.pydev.org/manual_101_interpreter.html\" rel=\"nofollow\">interpreter configuration</a> that is a good place to start. I recently had a similar problem that I solved by adding a module to the forced builtins tab.</p>\n"}, {"tags": [], "owner": {"reputation": 1156, "user_id": 4375983, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/06b86a36a26e05db28034d8725d06675?s=128&d=identicon&r=PG&f=1", "display_name": "Aetos", "link": "https://stackoverflow.com/users/4375983/aetos"}, "is_accepted": true, "score": 1, "last_activity_date": 1461826585, "last_edit_date": 1495541264, "creation_date": 1461826585, "answer_id": 36907392, "question_id": 36900272, "link": "https://stackoverflow.com/questions/36900272/the-pil-library-import-fails/36907392#36907392", "title": "The PIL library import fails", "body": "<p>Found the solution, here's what I did:</p>\n\n<ol>\n<li>Set the PYTHONPATH <a href=\"https://stackoverflow.com/questions/3701646/how-to-add-to-the-pythonpath-in-windows-7/4855685#4855685\">like it is shown in this article</a>, make sure python.exe is accessible via cmd,</li>\n<li>Via cmd, type <code>pip install pillow</code>. Alternatively, you can enter the same command from Windows+R,</li>\n<li>(Not sure if relevant step) Via eclipse, <code>Windows-&gt;Preferences-&gt;PyDev-&gt;PythonInterpreter</code>remove your interpreter to re-add it,</li>\n<li>Restart eclipse.</li>\n</ol>\n"}], "owner": {"reputation": 1156, "user_id": 4375983, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/06b86a36a26e05db28034d8725d06675?s=128&d=identicon&r=PG&f=1", "display_name": "Aetos", "link": "https://stackoverflow.com/users/4375983/aetos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3354, "favorite_count": 0, "accepted_answer_id": 36907392, "answer_count": 2, "score": 1, "last_activity_date": 1605526051, "creation_date": 1461789032, "last_edit_date": 1495540361, "question_id": 36900272, "link": "https://stackoverflow.com/questions/36900272/the-pil-library-import-fails", "title": "The PIL library import fails", "body": "<p>Being a complete begginer in python, I decided to install the python interpreter 3.4.4, and also PyDev plugin for eclipse IDE. I am also using windows 10.</p>\n\n<p>I have encountered a problem regarding certain imports, namely : <code>from PIL import Image, ImageTk</code>, which is apparently an unresolved import.</p>\n\n<p>I have looked at certain questions which were similar to my situation, but most of them gave a solution like installing packaged from the linux apt-get. Here are some topics I visited :</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/26505958/why-cant-python-import-image-from-pil\">Uninstalling and reinstalling Pillow and pip,</a></li>\n<li><a href=\"https://stackoverflow.com/questions/22788454/importerror-no-module-named-imagingtk/22788542#22788542\">Installing pillow-imaging-tk on Ubuntu,</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8209819/unresolved-import-error-with-pydev-while-using-from-import-as\">This topic which left me very confused,</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6171749/how-do-i-add-pil-to-pydev-in-eclipse-so-i-could-import-it-and-use-it-in-my-proj\">This one seemed helpful, but is on Unix OS again</a></li>\n</ol>\n\n<p>So please, could someone explain to me why I am seeing this error, and how could I correct it if I absolutely want to use Eclipse, Pydev, windows 10 and Python 3.</p>\n"}, {"tags": ["python", "mysql", "mapping"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5552568, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/10155180135665114/picture?type=large", "display_name": "Edward Hammock", "link": "https://stackoverflow.com/users/5552568/edward-hammock"}, "edited": false, "score": 0, "creation_date": 1461790777, "post_id": 36900485, "comment_id": 61365704, "body": "Perfect.  I need to ascertain why I should use a tuple over a list though!"}], "tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": true, "score": 0, "last_activity_date": 1461789778, "creation_date": 1461789778, "answer_id": 36900485, "question_id": 36900255, "link": "https://stackoverflow.com/questions/36900255/python-not-writing-to-mysql-type-error-format-requires-a-mapping/36900485#36900485", "title": "Python not writing to MySQL (Type Error: format requires a mapping)", "body": "<p>As the error suggests, placeholders like <code>%(pidSetPoint)</code> require a mapping to be passed to <code>cursor.execute()</code>. Since you use a tuple, change the placeholders to <code>\"%s\"</code>: </p>\n\n<pre><code>add_pidRun = (\"INSERT INTO pidRun \"\n              \"(pidSetPoint, pidMeasure, pidError, integrator, derivator)\"\n              \"VALUES (%s, %s, %s, %s, %s\")\ndata_pidRun = (pidControl.getPoint(), centSpeed, errSpeed, 0.0, 0.0)\ncursor.execute(add_pidRun, data_pidRun)\n</code></pre>\n\n<p>You don't need to specify the type of a value.</p>\n"}], "owner": {"reputation": 57, "user_id": 5552568, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/10155180135665114/picture?type=large", "display_name": "Edward Hammock", "link": "https://stackoverflow.com/users/5552568/edward-hammock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2024, "favorite_count": 0, "accepted_answer_id": 36900485, "answer_count": 1, "score": 0, "last_activity_date": 1479645993, "creation_date": 1461788972, "last_edit_date": 1479645993, "question_id": 36900255, "link": "https://stackoverflow.com/questions/36900255/python-not-writing-to-mysql-type-error-format-requires-a-mapping", "title": "Python not writing to MySQL (Type Error: format requires a mapping)", "body": "<p>I am using a python programme to log data to a MySQL database.  The database connection is made but I am getting the following error <code>Type Error: format requires a mapping</code> when the log is written.  </p>\n\n<p>The code of interest is as follows:</p>\n\n<p>MySQL Table:</p>\n\n<pre><code>CREATE TABLE pidRun\n(\npidKey INT auto_increment PRIMARY KEY,\npidSetPoint INT,\npidMeasure FLOAT,\npidError FLOAT,\nintegrator FLOAT,\nderivator FLOAT\n);\n</code></pre>\n\n<p>Python Code:</p>\n\n<pre><code># Insert a new line to table pidRun\nadd_pidRun = (\"INSERT INTO pidRun \"\n              \"(pidSetPoint, pidMeasure, pidError, integrator, derivator)\"\n              \"VALUES (%(pidSetPoint)i, %(pidMeasure)f, %(pidError)f, %(integrator)f, %(derivator)f)\")\n</code></pre>\n\n<p>Then the code to insert the line at the requisite point is here:</p>\n\n<p><code>data_pidRun = (pidControl.getPoint(), centSpeed, errSpeed, 0.0, 0.0)\n        cursor.execute(add_pidRun, data_pidRun)\n        dBase.commit()</code></p>\n\n<p>pidControl.getPoint is a Integer</p>\n\n<p>centSpeed is a float</p>\n\n<p>errspeed is a float</p>\n\n<p>Any direction is really appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461790648, "post_id": 36900211, "comment_id": 61365647, "body": "How did you pickle these objects? That will affect how you unpickle them."}, {"owner": {"reputation": 69, "user_id": 6263468, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Vge2V.jpg?s=128&g=1", "display_name": "Arkham", "link": "https://stackoverflow.com/users/6263468/arkham"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461791014, "post_id": 36900211, "comment_id": 61365847, "body": "@user2357112 I pickled them using <code>pickle.dump(nltk.NaiveBayesClassifier.train(training_set),f)</code>&zwnj;&#8203;. Where I am using the NLTK toolkit."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461791093, "post_id": 36900211, "comment_id": 61365887, "body": "No, I mean how did you pickle multiple of these objects? If your pickling code made the kind of mistake your unpickling code is making, your file likely only has one classifier pickled in it."}, {"owner": {"reputation": 69, "user_id": 6263468, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Vge2V.jpg?s=128&g=1", "display_name": "Arkham", "link": "https://stackoverflow.com/users/6263468/arkham"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461791343, "post_id": 36900211, "comment_id": 61366004, "body": "@user2357112 I appended the objects in the same file using <code>open(filename,&quot;ab&quot;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 6263468, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Vge2V.jpg?s=128&g=1", "display_name": "Arkham", "link": "https://stackoverflow.com/users/6263468/arkham"}, "edited": false, "score": 0, "creation_date": 1461790371, "post_id": 36900302, "comment_id": 61365490, "body": "Thank You sir for your answer. Sir I am storing objects in my pickle, which are <code>NaiveBayesClassifier</code> object provided in nltk, so when I run using the above code I get <code>TypeError: &#39;NaiveBayesClassifier&#39; object is not iterable</code>"}, {"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "reply_to_user": {"reputation": 69, "user_id": 6263468, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Vge2V.jpg?s=128&g=1", "display_name": "Arkham", "link": "https://stackoverflow.com/users/6263468/arkham"}, "edited": false, "score": 0, "creation_date": 1461790549, "post_id": 36900302, "comment_id": 61365590, "body": "What does <code>pickle.load(f)</code> return exactly? It returns a single <code>NaiveBayesClassifier</code> object or a list of <code>NaiveBayesClassifier</code> objects?"}, {"owner": {"reputation": 69, "user_id": 6263468, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Vge2V.jpg?s=128&g=1", "display_name": "Arkham", "link": "https://stackoverflow.com/users/6263468/arkham"}, "edited": false, "score": 0, "creation_date": 1461790898, "post_id": 36900302, "comment_id": 61365766, "body": "Sir I edited the answer showing the result of printing <code>pickle.load(f)</code>"}], "tags": [], "owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "is_accepted": false, "score": 1, "last_activity_date": 1461789132, "creation_date": 1461789132, "answer_id": 36900302, "question_id": 36900211, "link": "https://stackoverflow.com/questions/36900211/merging-list-objects-in-python/36900302#36900302", "title": "Merging list objects in python", "body": "<p>You should use <a href=\"https://docs.python.org/2/tutorial/datastructures.html\" rel=\"nofollow\"><code>.extend()</code></a> to append all items in the list to <code>objs</code>:</p>\n\n<p><em>(Assuming <code>pickle.load(f)</code> returns a list of objects)</em></p>\n\n<pre><code>objs.extend(pickle.load(f))\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 6263468, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Vge2V.jpg?s=128&g=1", "display_name": "Arkham", "link": "https://stackoverflow.com/users/6263468/arkham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461790509, "creation_date": 1461788830, "last_edit_date": 1461790509, "question_id": 36900211, "link": "https://stackoverflow.com/questions/36900211/merging-list-objects-in-python", "title": "Merging list objects in python", "body": "<p>I have a pickle file having many objects. I need to have one proper object by combining all the other objects in the file. How can I do that. I tried using many commands, but none seems to work.</p>\n\n<pre><code>objs = []\n\nwhile True:\n    try:\n        f = open(picklename,\"rb\")\n        objs.append(pickle.load(f))\n        f.close()\n    except EOFError:\n        break\n</code></pre>\n\n<p>Like the one above as shown.</p>\n\n<p>OBJECT stored image :</p>\n\n<pre><code>&lt;nltk.classify.naivebayes.NaiveBayesClassifier object at 0x7fb172819198&gt;\n&lt;nltk.classify.naivebayes.NaiveBayesClassifier object at 0x7fb1719ce4a8&gt;\n&lt;nltk.classify.naivebayes.NaiveBayesClassifier object at 0x7fb1723caeb8&gt;\n&lt;nltk.classify.naivebayes.NaiveBayesClassifier object at 0x7fb172113588&gt;\n</code></pre>\n"}, {"tags": ["python", "arrays", "list", "protocol-buffers"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1461789484, "post_id": 36900153, "comment_id": 61364978, "body": "But you don&#39;t have a double array. <code>mySerializedData.processed_row[:]</code> returns a copy of that row/list."}], "answers": [{"tags": [], "owner": {"reputation": 10234, "user_id": 4698882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bb0d3ed63da5a5d65872d5b0d147e3d?s=128&d=identicon&r=PG", "display_name": "Binary Birch Tree", "link": "https://stackoverflow.com/users/4698882/binary-birch-tree"}, "is_accepted": false, "score": 0, "last_activity_date": 1461805497, "last_edit_date": 1461805497, "creation_date": 1461800667, "answer_id": 36902809, "question_id": 36900153, "link": "https://stackoverflow.com/questions/36900153/access-to-google-protobuf-files-in-python-easy/36902809#36902809", "title": "Access to google protobuf files in python (easy)", "body": "<p>You can create a list of the timestamp values using a <a href=\"https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>:</p>\n\n<pre><code>[element.timestamp for element in mySerializedData.processed_row]\n</code></pre>\n\n<p>Here's a generalized example. In <code>example.proto</code>:</p>\n\n<pre><code>package example;\n\nmessage Element {\n  required double timestamp = 1;\n  required string data = 2;\n}\n\nmessage Container {\n  repeated Element elements = 1;\n}\n</code></pre>\n\n<p>Generate the corresponding Python output using:</p>\n\n<pre><code>protoc --python_out=. example.proto\n</code></pre>\n\n<p>Then, in Python:</p>\n\n<pre><code>&gt;&gt;&gt; from example_pb2 import Container, Element\n&gt;&gt;&gt; \n&gt;&gt;&gt; container = Container(\n...   elements=[\n...     Element(timestamp=.1, data='Some data.'),\n...     Element(timestamp=.2, data='Some more data.'),\n...   ]\n... )\n&gt;&gt;&gt; \n&gt;&gt;&gt; [element.timestamp for element in container.elements]\n[0.1, 0.2]\n</code></pre>\n"}], "owner": {"reputation": 336, "user_id": 4946816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lt-9lhSaVAA/AAAAAAAAAAI/AAAAAAAAbRc/JGQU0VGyHFI/photo.jpg?sz=128", "display_name": "Terry", "link": "https://stackoverflow.com/users/4946816/terry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461805497, "creation_date": 1461788614, "question_id": 36900153, "link": "https://stackoverflow.com/questions/36900153/access-to-google-protobuf-files-in-python-easy", "title": "Access to google protobuf files in python (easy)", "body": "<p>I read message from a protobuf file.\nThe message contains time-series data, thus, I expected matrix-like structure, e.g., processed_row[nData,nVar]</p>\n\n<pre><code>print(mySerializedData.processed_row)\n&gt;&gt; [timestamp: 0.0\nlinear_acc_x: 0.288501300049\nlinear_acc_y: 0.573411297607\nlinear_acc_z: 0.161608612061\n, timestamp: 0.0049\nlinear_acc_x: 0.428562097168\nlinear_acc_y: 0.685938775635\nlinear_acc_z: 0.221463653564\n, timestamp: 0.01\nlinear_acc_x: 0.45968671875\nlinear_acc_y: 0.738611212158\nlinear_acc_z: 0.185550628662]\n</code></pre>\n\n<p>I can access to the individual datum like</p>\n\n<pre><code>print(mySerializedData.processed_row[0].timestamp)\n&gt;&gt; 0.0\nprint(mySerializedData.processed_row[1].timestamp)\n&gt;&gt; 0.0049\n</code></pre>\n\n<p>But what I'd like to obtain is like </p>\n\n<pre><code>print(mySerializedData.processed_row[:].timestamp)\n</code></pre>\n\n<p>But it shows the error <code>AttributeError: 'list' object has no attribute 'timestamp'</code></p>\n\n<pre><code>print(type(mySerializedData.processed_row[0].timestamp))\n&gt;&gt; &lt;type 'float'&gt;\nprint(type(mySerializedData.processed_row[0]))\n&gt;&gt; &lt;class 'PushCore_pb2.ProcessedDataRow'&gt;\n</code></pre>\n\n<p>Is there way to get get <code>timestamp</code> double array with like [:]? </p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 5742, "user_id": 1904584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GlhYH.jpg?s=128&g=1", "display_name": "trinchet", "link": "https://stackoverflow.com/users/1904584/trinchet"}, "edited": false, "score": 0, "creation_date": 1461789674, "post_id": 36900138, "comment_id": 61365089, "body": "Why you don&#39;t overwrite the <code>__init__() </code> method and create the attrs there?"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 5742, "user_id": 1904584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GlhYH.jpg?s=128&g=1", "display_name": "trinchet", "link": "https://stackoverflow.com/users/1904584/trinchet"}, "edited": false, "score": 0, "creation_date": 1461789889, "post_id": 36900138, "comment_id": 61365212, "body": "@trinchet could you please show me how to do that? When I tried overwriting the init method I was getting an error that had to do with executing the <code>objects</code> method."}, {"owner": {"reputation": 5742, "user_id": 1904584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GlhYH.jpg?s=128&g=1", "display_name": "trinchet", "link": "https://stackoverflow.com/users/1904584/trinchet"}, "edited": false, "score": 0, "creation_date": 1461790175, "post_id": 36900138, "comment_id": 61365371, "body": "<code>def __init__(self):     super(GoogleAvail).__init__()     instance_data = json.loads(self.instance_data) \tfor k in instance_data: \t\tsetattr(self, k, instance_data[k]) </code>"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 5742, "user_id": 1904584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GlhYH.jpg?s=128&g=1", "display_name": "trinchet", "link": "https://stackoverflow.com/users/1904584/trinchet"}, "edited": false, "score": 0, "creation_date": 1461791174, "post_id": 36900138, "comment_id": 61365926, "body": "@trinchet right, using that I get: <code>IndexError: list index out of range</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1008, "user_id": 223210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a4c4ea92392fac31a0bcee7d2bcb769?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/223210/paul"}, "is_accepted": true, "score": 2, "last_activity_date": 1461790339, "creation_date": 1461790339, "answer_id": 36900647, "question_id": 36900138, "link": "https://stackoverflow.com/questions/36900138/simplify-django-init-on-getting-model-object/36900647#36900647", "title": "Simplify django init on getting model object", "body": "<p>Couple options depending on how much refactoring you're willing to do.</p>\n\n<ul>\n<li>First up if you are (or can easily upgrade) to Postgres, then current versions of django directly support using a <a href=\"https://docs.djangoproject.com/ja/1.9/ref/contrib/postgres/fields/#jsonfield\" rel=\"nofollow\">json field</a> from there you can convert your queries to <code>defer()</code> that field if needed.</li>\n<li>Next option, convert <code>instance_data</code> to <code>_instance_data</code> and make <code>instance_data</code> a <code>@cached_property</code> using <a href=\"https://docs.djangoproject.com/en/1.9/ref/utils/#django.utils.functional.cached_property\" rel=\"nofollow\">django.utils</a>. That will allow you to load it once when you access it from the instance and will cache it automatically for future uses.</li>\n</ul>\n\n<p>Last thing I want to note, be careful with your <code>_post_init()</code> because if it's blindly setting values from your json it could easily shadow values that you might want (e.g. what if your json has a field called <code>save</code> in it?)</p>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 36900647, "answer_count": 1, "score": 1, "last_activity_date": 1461790339, "creation_date": 1461788576, "last_edit_date": 1461789231, "question_id": 36900138, "link": "https://stackoverflow.com/questions/36900138/simplify-django-init-on-getting-model-object", "title": "Simplify django init on getting model object", "body": "<p>I need to modify the way an object is fetched in a django model. Here is what I'm currently doing:</p>\n\n<pre><code>class GoogleAvail(models.Model):\n    platform_id = models.CharField(primary_key=True)\n    master_id = models.IntegerField(blank=True, null=True)\n    instance_data = models.TextField(blank=True, null=True) # this is json\n\n    def _post_init(self):\n        instance_data = json.loads(self.instance_data)\n        for k in instance_data:\n            setattr(self, k, instance_data[k])\n        return self\n</code></pre>\n\n<p>Now, when I need to get an object I call:</p>\n\n<pre><code>&gt;&gt;&gt; a=GoogleAvail.objects.all()[0]\n&gt;&gt;&gt; a._post_init()\n</code></pre>\n\n<p>Note that I'm only interested in doing this init when the object is fetched, as it would be unnecessary to do <code>json.loads()</code> (with a ton of data) on 10,000 objects in I were to do a model manager on the queryset.</p>\n\n<p>What would be a better way to do this, so it does so automatically, and I don't need to call the <code>_post_init</code> ?</p>\n"}, {"tags": ["python", "loops", "python-3.x", "split", "strip"], "comments": [{"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1461789941, "post_id": 36900107, "comment_id": 61365242, "body": "If I understand correctly A just prints out the specific customer&#39;s details but what does B do? Just print out contents of Payments.txt?"}, {"owner": {"reputation": 763, "user_id": 5791399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e20d5f022135717b753d7db0afd545?s=128&d=identicon&r=PG&f=1", "display_name": "User0123456789", "link": "https://stackoverflow.com/users/5791399/user0123456789"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1461861352, "post_id": 36900107, "comment_id": 61402749, "body": "B adds each line of Payments.txt to an individual list inside myList. I want B inside the if statement in A so it will append Payments to myList, find the customer_number in the list and display that particular line"}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1461863861, "post_id": 36900107, "comment_id": 61404291, "body": "So the whole purpose of this is to display the line that contains customer_number? Why even bother with <code>myList</code>?"}, {"owner": {"reputation": 763, "user_id": 5791399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e20d5f022135717b753d7db0afd545?s=128&d=identicon&r=PG&f=1", "display_name": "User0123456789", "link": "https://stackoverflow.com/users/5791399/user0123456789"}, "reply_to_user": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1461864010, "post_id": 36900107, "comment_id": 61404386, "body": "It is required by the rules to use a list in this code for this job. Sorry that I haven&#39;t explained that previously."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "edited": false, "score": 0, "creation_date": 1461864743, "post_id": 36900107, "comment_id": 61404865, "body": "Okay I modified my solution to fix this and do what you want :) You were on right track but you were not printing the right values"}], "answers": [{"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1461789235, "post_id": 36900176, "comment_id": 61364842, "body": "Why do you loop over the content of the file twice?"}, {"owner": {"reputation": 763, "user_id": 5791399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e20d5f022135717b753d7db0afd545?s=128&d=identicon&r=PG&f=1", "display_name": "User0123456789", "link": "https://stackoverflow.com/users/5791399/user0123456789"}, "edited": false, "score": 0, "creation_date": 1461861767, "post_id": 36900176, "comment_id": 61403002, "body": "It didn&#39;t work. It printed each individual line, then showed that it was appending it to <code>myList</code>."}], "tags": [], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "is_accepted": true, "score": 1, "last_activity_date": 1461864681, "last_edit_date": 1461864681, "creation_date": 1461788686, "answer_id": 36900176, "question_id": 36900107, "link": "https://stackoverflow.com/questions/36900107/merging-two-for-loops-together-under-an-if-statement/36900176#36900176", "title": "Merging two for loops together under an if statement", "body": "<p>In your comment you mentioned you <em>need</em> to append to a list so I have modified my script to include that but your current answer was separating your A and B part but you had to combine them.</p>\n\n<p>The logic is, if customer_number exists in a line, then you append to list and use a loop to iterate through the list to print what you want. Your solution was printing the entire line of the customers details and also printing every other line.</p>\n\n<pre><code>print(\"Option A: Show a record\\nOption Q: Quit\")\ndecision = input(\"Enter A or Q: \").lower()\nmyList = []\n\nif decision == \"a\":\n    myFile = open(\"Payments.txt\")\n    customer_number = input(\"Enter a customer number to view their details: \")\n    record = myFile.readlines()\n    for line in record:\n        if customer_number in line:\n            myList.append(line.strip().replace(\"'\",\"\").split(','))\n            for info in myList:\n                print(\"Customer number: \", info[0])\n                print(\"Date of payment: \", info[1])\n                print(\"Payment Amount: \", info[2])\n                print(\"Paid Amount: \", info[4])\n    myFile.close()\n\nelif decision == \"q\":\n    exit()\n</code></pre>\n\n<p>Here is the output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BTWfy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BTWfy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 124, "user_id": 5824936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bnzu1.jpg?s=128&g=1", "display_name": "J. Roibal - BlockchainEng", "link": "https://stackoverflow.com/users/5824936/j-roibal-blockchaineng"}, "is_accepted": false, "score": 0, "last_activity_date": 1461790576, "last_edit_date": 1461790576, "creation_date": 1461790198, "answer_id": 36900607, "question_id": 36900107, "link": "https://stackoverflow.com/questions/36900107/merging-two-for-loops-together-under-an-if-statement/36900607#36900607", "title": "Merging two for loops together under an if statement", "body": "<blockquote>\n  <p>I want to be able to create the final code to prompt the user to enter\n  a customer number, then search through myList for the customer number\n  and display all the information for the customer on the screen.</p>\n</blockquote>\n\n<p>I made a few modifications to your code, and put in PEP-8 compliant Boilerplate.</p>\n\n<pre><code>def customer_payment(customer_number):\n    \"\"\"Edited Code. Purpose is to accept User Input for a customer number\n    Search for Customer Number, and if Found, Display Information about Customer.\n    \"\"\"\n    myList = []\n    with open(\"Payments.txt\") as myFile:  \n        for line in myFile:\n            if customer_number in line:\n                print(line)\n            for item in line:\n                print(item.strip())\n                myList.append(line.strip().split(','))\n\n\ndef main():\n    decision = input(\"Option A: Show a record\\nOption Q: Quit\\nEnter A or Q: \")\n    if decision.lower() == \"a\":\n        customer_number = input(\"Enter a customer number to view their details: \")\n        customer_payment(customer_number)\n\nif __name__==\"__main__\":\n    main()\n</code></pre>\n\n<p>This may need to be modified based upon the format that Payments.txt is in.</p>\n"}], "owner": {"reputation": 763, "user_id": 5791399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e20d5f022135717b753d7db0afd545?s=128&d=identicon&r=PG&f=1", "display_name": "User0123456789", "link": "https://stackoverflow.com/users/5791399/user0123456789"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 36900176, "answer_count": 2, "score": 2, "last_activity_date": 1461864681, "creation_date": 1461788475, "last_edit_date": 1461862110, "question_id": 36900107, "link": "https://stackoverflow.com/questions/36900107/merging-two-for-loops-together-under-an-if-statement", "title": "Merging two for loops together under an if statement", "body": "<p>I am trying to merge these two codes together so that the final piece can append the text document \"Payments\" into a list. For each line of \"Payments\", I want it within a list in <code>myList</code>, so it would look something like this:</p>\n\n<pre><code>myList = [['E1234','12/09/14','440','A','0']['E3431','10/01/12','320','N','120']['E0987','04/12/16','342','A','137']]\n</code></pre>\n\n<p>I want to be able to create the final code to prompt the user to enter a customer number, then search through <code>myList</code> for the customer number and display all the information for the customer on the screen.</p>\n\n<p>This is the first of the two programs. It is the \"backbone\" of the final code. Let's call this A:</p>\n\n<pre><code>print(\"Option A: Show a record\\nOption Q: Quit\")\ndecision = input(\"Enter A or Q: \")\n\nif decision == \"A\" or decision == \"a\":\n    myFile = open(\"Payments.txt\")\n    customer_number = input(\"Enter a customer number to view their details: \")\n    record = myFile.readlines()\n    for line in record:\n        if customer_number in line:\n            print(line)\n    myFile.close()\n\nelif decision == \"Q\" or \"q\":\n    exit\n</code></pre>\n\n<p>This is the second piece of code. Let's call this B:</p>\n\n<pre><code>myFile = open(\"Payments.txt\")\nmyList = []\nfor item in myFile:\n    print(item.strip())\n    myList.append(item.strip().split(','))\nmyFile.close()\nprint(myList)\n</code></pre>\n\n<p>I want to insert B into the if statement: <code>if decision == \"A\" or decision == \"a\":</code>. </p>\n\n<p>I am confused about the for loops as there is a for loop in A and B, both which are vital for the final code. I am unable to place B into A without disrupting either one of the for loops.</p>\n\n<pre><code>print(\"Option A: Show a record\\nOption Q: Quit\")\ndecision = input(\"Enter A or Q: \")\nmyList = []\n\nif decision == \"A\" or decision == \"a\":\n    myFile = open(\"Payments.txt\")\n    customer_number = input(\"Enter a customer number to view their details: \")\n    record = myFile.readlines()\n    for line in record:\n        for item in myFile:\n            print(item.strip())\n            myList.append(item.strip().split(','))\n            print(myList)\n        if customer_number in line:\n            print(line)\n    myFile.close()\n\nelif decision == \"Q\" or \"q\":\n    exit\n</code></pre>\n\n<p>It displays the line from which the customer number is from, but it doesn't print the list.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I want to be able to print the individual data from each line separately:</p>\n\n<pre><code>Customer number: E1234\nDate of payment: 12/09/14\nPayment amount: \u00a3440\nPaid amount: \u00a30\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2895, "user_id": 3412611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bPsp8.jpg?s=128&g=1", "display_name": "Tony Babarino", "link": "https://stackoverflow.com/users/3412611/tony-babarino"}, "edited": false, "score": 1, "creation_date": 1461788669, "post_id": 36900080, "comment_id": 61364526, "body": "There are multiple ways of asking user a question, for example You can call him. However, if You want us to help You with some code, You should post Your efforts first."}, {"owner": {"reputation": 2757, "user_id": 5308259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5628c03fe452a8420fc130408101e057?s=128&d=identicon&r=PG&f=1", "display_name": "Psytho", "link": "https://stackoverflow.com/users/5308259/psytho"}, "edited": false, "score": 0, "creation_date": 1461788727, "post_id": 36900080, "comment_id": 61364562, "body": "Have you tried to find the answers in python manual or to Google them? Or, at least, to use the search function on this site?"}, {"owner": {"reputation": 13, "user_id": 6263425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cecbcdbfae62ed8395e7f8ceb0360965?s=128&d=identicon&r=PG&f=1", "display_name": "AGAC", "link": "https://stackoverflow.com/users/6263425/agac"}, "edited": false, "score": 0, "creation_date": 1461788745, "post_id": 36900080, "comment_id": 61364576, "body": "I&#39;ve done if statements, but I can&#39;t seem to make it work,"}, {"owner": {"reputation": 13, "user_id": 6263425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cecbcdbfae62ed8395e7f8ceb0360965?s=128&d=identicon&r=PG&f=1", "display_name": "AGAC", "link": "https://stackoverflow.com/users/6263425/agac"}, "edited": false, "score": 0, "creation_date": 1461788795, "post_id": 36900080, "comment_id": 61364606, "body": "Added my efforts, I&#39;m a beginner so don&#39;t judge me haha"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1461790094, "post_id": 36900080, "comment_id": 61365325, "body": "Please post code as plain text, not as an image."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1461790111, "post_id": 36900080, "comment_id": 61365337, "body": "Hm, downvoting does not really appear fair to me - AGAC seems to be a complete beginner and at least he added what he tried so far - even if he seems to have misunderstood how &#39;input&#39; works."}, {"owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1461791504, "post_id": 36900080, "comment_id": 61366083, "body": "@Aconcagua AGAC&#39;s original question did not have any code, and then the code was a link to picture. His/her edits made it a good question, but after people had already downvoted."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1461792404, "post_id": 36900080, "comment_id": 61366530, "body": "@AlbertRothman Only to justify my previous comment: The image (a beginner&#39;s fault) was already there when I found the question rated 0 (zero). Not worth to argue any further, though..."}, {"owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1461792664, "post_id": 36900080, "comment_id": 61366650, "body": "@Aconcagua, Fair point. And not disagreeing.. just explaining why it is likely people downvoted it...tbh, I think people in general are a little to trigger happy with downvotes for new users of the site in general..but I guess that&#39;s a topic for meta..."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1461792879, "post_id": 36900080, "comment_id": 61366750, "body": "@AlbertRothman Nothing more to add..."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6263425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cecbcdbfae62ed8395e7f8ceb0360965?s=128&d=identicon&r=PG&f=1", "display_name": "AGAC", "link": "https://stackoverflow.com/users/6263425/agac"}, "edited": false, "score": 0, "creation_date": 1461789678, "post_id": 36900358, "comment_id": 61365093, "body": "Thank you for your help! Solved it now,"}, {"owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "reply_to_user": {"reputation": 13, "user_id": 6263425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cecbcdbfae62ed8395e7f8ceb0360965?s=128&d=identicon&r=PG&f=1", "display_name": "AGAC", "link": "https://stackoverflow.com/users/6263425/agac"}, "edited": false, "score": 0, "creation_date": 1461789881, "post_id": 36900358, "comment_id": 61365207, "body": "If you like my answer or the one above you should accept one of them using the check mark button. Additionally, if you haven&#39;t already, I recommend taking the site tour. It explains best practices, and should shed some light on why your question got downvotes and negative response in the comments.<a href=\"http://stackoverflow.com/tour\">stackoverflow.com/tour</a>"}], "tags": [], "owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "is_accepted": false, "score": 0, "last_activity_date": 1461789349, "creation_date": 1461789349, "answer_id": 36900358, "question_id": 36900080, "link": "https://stackoverflow.com/questions/36900080/ask-the-user-if-switch-1-is-on-or-off/36900358#36900358", "title": "Ask the User if Switch 1 is on or off", "body": "<p>Give the input a variable and then check against that. Input returns the user's input not  a boolean, so what you want to do is check the input against a string(\"on\" or \"off\"). for example </p>\n\n<pre><code>power=input(\"is the light on or off\")\nif power==\"on\":\n</code></pre>\n\n<p>Then go from there. Here's some documentation for i/o. <a href=\"http://anh.cs.luc.edu/python/hands-on/3.1/handsonHtml/io.html\" rel=\"nofollow\">http://anh.cs.luc.edu/python/hands-on/3.1/handsonHtml/io.html</a>\nfinally, people on SO prefer if you use code blocks in you questions rather than link images.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6263425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cecbcdbfae62ed8395e7f8ceb0360965?s=128&d=identicon&r=PG&f=1", "display_name": "AGAC", "link": "https://stackoverflow.com/users/6263425/agac"}, "edited": false, "score": 0, "creation_date": 1461789685, "post_id": 36900379, "comment_id": 61365100, "body": "Thank you for your help!"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 13, "user_id": 6263425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cecbcdbfae62ed8395e7f8ceb0360965?s=128&d=identicon&r=PG&f=1", "display_name": "AGAC", "link": "https://stackoverflow.com/users/6263425/agac"}, "edited": false, "score": 0, "creation_date": 1461790385, "post_id": 36900379, "comment_id": 61365497, "body": "@AGAC You&#39;re welcome - would be nice if you accepted an answer, though. Choose Albert&#39;s or mine, whichever you like better..."}], "tags": [], "owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "is_accepted": true, "score": 0, "last_activity_date": 1461789834, "last_edit_date": 1461789834, "creation_date": 1461789434, "answer_id": 36900379, "question_id": 36900080, "link": "https://stackoverflow.com/questions/36900080/ask-the-user-if-switch-1-is-on-or-off/36900379#36900379", "title": "Ask the User if Switch 1 is on or off", "body": "<p>You might want to try something like this:\n</p>\n\n<pre><code>answer = input(\"Is the light on or off?\")\nif answer == \"on\":\n    # handle 'on' case\nelif answer == \"off\":\n    # handle 'off' case\nelse\n    # handle error\n</code></pre>\n\n<p>You'll find some more information e. g. <a href=\"http://www.python-course.eu/input.php\" rel=\"nofollow\">here</a> (or google for 'python input').</p>\n\n<p>A little more advanced: convert answer to upper case and compare against \"ON\", \"OFF\", then you are case insensitive (so a user can answer on, On, ON, oN &ndash; OK, the last one is odd...). </p>\n"}], "owner": {"reputation": 13, "user_id": 6263425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cecbcdbfae62ed8395e7f8ceb0360965?s=128&d=identicon&r=PG&f=1", "display_name": "AGAC", "link": "https://stackoverflow.com/users/6263425/agac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 36900379, "answer_count": 2, "score": -3, "last_activity_date": 1580593461, "creation_date": 1461788406, "last_edit_date": 1461790072, "question_id": 36900080, "link": "https://stackoverflow.com/questions/36900080/ask-the-user-if-switch-1-is-on-or-off", "title": "Ask the User if Switch 1 is on or off", "body": "<p>How to ask the user if switch 1 is on or off? If it is on, then display the message \"The light is on\"; if it is off then display the message \"The light is off\"</p>\n\n<p>Also, how do I do the same thing but with two switches, for example\nif the two switches are on; \"The light is on\" and so on. </p>\n\n<p><a href=\"https://i.stack.imgur.com/l47kA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l47kA.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "hadoop", "amazon-web-services", "emr"], "answers": [{"comments": [{"owner": {"reputation": 4600, "user_id": 4315866, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8511f579eed33ee3f3be0581ac6233e9?s=128&d=identicon&r=PG", "display_name": "Petros Kyriakou", "link": "https://stackoverflow.com/users/4315866/petros-kyriakou"}, "edited": false, "score": 0, "creation_date": 1462786774, "post_id": 37110838, "comment_id": 61766151, "body": "how can i adjust my script then?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6996876"}, "reply_to_user": {"reputation": 4600, "user_id": 4315866, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8511f579eed33ee3f3be0581ac6233e9?s=128&d=identicon&r=PG", "display_name": "Petros Kyriakou", "link": "https://stackoverflow.com/users/4315866/petros-kyriakou"}, "edited": false, "score": 0, "creation_date": 1462788039, "post_id": 37110838, "comment_id": 61766965, "body": "a first idea could be to transform your <code>prev_filename</code> into a dictionary with filename as key and to test if dictionary has key..."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6996876"}, "is_accepted": true, "score": 2, "last_activity_date": 1462782040, "creation_date": 1462782040, "answer_id": 37110838, "question_id": 36900040, "link": "https://stackoverflow.com/questions/36900040/hadoop-returning-less-results-than-expected/37110838#37110838", "title": "Hadoop returning less results than expected", "body": "<p>The mapper task converts its inputs into lines and feed the lines to the stdin of the process. </p>\n\n<p>In this case, you have <em>multiple</em> input files and you're <em>assuming</em> that all the lines from different files are fed sequentially (i.e. file by file), but they are likely processed in <em>parallel</em>, so a mapper (getting a couple of input files) could be resetting its counters more than expected by a sequential distribution.</p>\n"}], "owner": {"reputation": 4600, "user_id": 4315866, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8511f579eed33ee3f3be0581ac6233e9?s=128&d=identicon&r=PG", "display_name": "Petros Kyriakou", "link": "https://stackoverflow.com/users/4315866/petros-kyriakou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 37110838, "answer_count": 1, "score": 2, "last_activity_date": 1462793780, "creation_date": 1461788204, "last_edit_date": 1462793780, "question_id": 36900040, "link": "https://stackoverflow.com/questions/36900040/hadoop-returning-less-results-than-expected", "title": "Hadoop returning less results than expected", "body": "<p>I have two python scripts a mapper and reducer (basically reducer at this point just prints nothing else) and while locally i get 4 results - strings\non hadoop i get 3. How does this work?</p>\n\n<p>i use Amazon Elastic Map Reduce using Hadoop</p>\n\n<p>mapper.py</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport sys\nimport re\nimport os\n# Constants declaration\n\nWINDOW = 10\nOVERLAP = 4\nSTART_POSITION = 0\nEND_POSITION = 0\n\n# regular expressions\n\npattern = re.compile(\"[a-z]*\", re.IGNORECASE)\n\na_to_f_pattern = re.compile(\"[a-f]\", re.IGNORECASE)\ng_to_l_pattern = re.compile(\"[g-l]\", re.IGNORECASE)\nm_to_r_pattern = re.compile(\"[m-r]\", re.IGNORECASE)\ns_to_z_pattern = re.compile(\"[s-z]\", re.IGNORECASE)\n\n# variables initialization\n\nconverted_word = \"\"\nnext_word = \"\"\nnew_character = \"\"\nfilename = \"\"\nprev_filename = \"\"\ni = 0\n\n\n\n# Read pairs as lines of input from STDIN\nfor line in sys.stdin:\n\n    line.strip()\n\n    filename = os.environ['mapreduce_map_input_file']\n    filename = filename.replace(\"s3://source123/input/\",\"\")\n\n\n    # check if its a new file, and reset start position\n    if filename != prev_filename:\n\n        START_POSITION = 0\n        next_word = \"\"\n        converted_word = \"\"\n        prev_filename = filename\n\n    # loop through every word that matches the pattern\n    for word in pattern.findall(line):\n\n\n                new_character = convert(word)\n                converted_word = converted_word + new_character\n\n                if len(converted_word) &gt; (WINDOW - OVERLAP):\n                    next_word = next_word + new_character\n\n                # print \"word= \", word\n                # print \"converted_word= \", converted_word\n            else:\n\n                END_POSITION = START_POSITION + (len(converted_word) - 1)\n\n                print converted_word + \",\" + str(filename) + \",\" + str(START_POSITION) + \",\" + str(END_POSITION)\n\n                START_POSITION = START_POSITION + (WINDOW - OVERLAP)\n                new_character = convert(word)\n                converted_word = next_word + new_character\n</code></pre>\n\n<p>log</p>\n\n<pre><code>2016-04-27 19:58:41,293 INFO com.amazon.ws.emr.hadoop.fs.EmrFileSystem (main): Consistency disabled, using com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem as filesystem implementation\n2016-04-27 19:58:41,512 INFO amazon.emr.metrics.MetricsSaver (main): MetricsConfigRecord disabledInCluster: false instanceEngineCycleSec: 60 clusterEngineCycleSec: 60 disableClusterEngine: true maxMemoryMb: 3072 maxInstanceCount: 500 lastModified: 1461784308237 \n2016-04-27 19:58:41,512 INFO amazon.emr.metrics.MetricsSaver (main): Created MetricsSaver j-KCDMFZJGYO89:i-995f5a41:RunJar:16480 period:60 /mnt/var/em/raw/i-995f5a41_20160427_RunJar_16480_raw.bin\n2016-04-27 19:58:43,477 INFO org.apache.hadoop.yarn.client.RMProxy (main): Connecting to ResourceManager at ip-172-31-38-52.us-west-2.compute.internal/172.31.38.52:8032\n2016-04-27 19:58:43,673 INFO org.apache.hadoop.yarn.client.RMProxy (main): Connecting to ResourceManager at ip-172-31-38-52.us-west-2.compute.internal/172.31.38.52:8032\n2016-04-27 19:58:44,156 INFO com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem (main): Opening 's3://source123/mapper.py' for reading\n2016-04-27 19:58:44,267 INFO amazon.emr.metrics.MetricsSaver (main): Thread 1 created MetricsLockFreeSaver 1\n2016-04-27 19:58:44,439 INFO com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem (main): Opening 's3://source123/source_reducer.py' for reading\n2016-04-27 19:58:44,628 INFO com.hadoop.compression.lzo.GPLNativeCodeLoader (main): Loaded native gpl library\n2016-04-27 19:58:44,630 INFO com.hadoop.compression.lzo.LzoCodec (main): Successfully loaded &amp; initialized native-lzo library [hadoop-lzo rev 426d94a07125cf9447bb0c2b336cf10b4c254375]\n2016-04-27 19:58:45,046 INFO com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem (main): listStatus s3://source123/input with recursive false\n2016-04-27 19:58:45,265 INFO org.apache.hadoop.mapred.FileInputFormat (main): Total input paths to process : 1\n2016-04-27 19:58:45,336 INFO org.apache.hadoop.mapreduce.JobSubmitter (main): number of splits:9\n2016-04-27 19:58:45,565 INFO org.apache.hadoop.mapreduce.JobSubmitter (main): Submitting tokens for job: job_1461784297295_0004\n2016-04-27 19:58:45,710 INFO org.apache.hadoop.yarn.client.api.impl.YarnClientImpl (main): Submitted application application_1461784297295_0004\n2016-04-27 19:58:45,743 INFO org.apache.hadoop.mapreduce.Job (main): The url to track the job: http://ip-172-31-38-52.us-west-2.compute.internal:20888/proxy/application_1461784297295_0004/\n2016-04-27 19:58:45,744 INFO org.apache.hadoop.mapreduce.Job (main): Running job: job_1461784297295_0004\n2016-04-27 19:58:53,876 INFO org.apache.hadoop.mapreduce.Job (main): Job job_1461784297295_0004 running in uber mode : false\n2016-04-27 19:58:53,877 INFO org.apache.hadoop.mapreduce.Job (main):  map 0% reduce 0%\n2016-04-27 19:59:11,063 INFO org.apache.hadoop.mapreduce.Job (main):  map 11% reduce 0%\n2016-04-27 19:59:14,081 INFO org.apache.hadoop.mapreduce.Job (main):  map 22% reduce 0%\n2016-04-27 19:59:16,094 INFO org.apache.hadoop.mapreduce.Job (main):  map 33% reduce 0%\n2016-04-27 19:59:18,106 INFO org.apache.hadoop.mapreduce.Job (main):  map 56% reduce 0%\n2016-04-27 19:59:19,114 INFO org.apache.hadoop.mapreduce.Job (main):  map 67% reduce 0%\n2016-04-27 19:59:26,159 INFO org.apache.hadoop.mapreduce.Job (main):  map 78% reduce 0%\n2016-04-27 19:59:29,178 INFO org.apache.hadoop.mapreduce.Job (main):  map 89% reduce 0%\n2016-04-27 19:59:30,184 INFO org.apache.hadoop.mapreduce.Job (main):  map 100% reduce 0%\n2016-04-27 19:59:32,196 INFO org.apache.hadoop.mapreduce.Job (main):  map 100% reduce 33%\n2016-04-27 19:59:34,207 INFO org.apache.hadoop.mapreduce.Job (main):  map 100% reduce 67%\n2016-04-27 19:59:38,228 INFO org.apache.hadoop.mapreduce.Job (main):  map 100% reduce 100%\n2016-04-27 19:59:40,246 INFO org.apache.hadoop.mapreduce.Job (main): Job job_1461784297295_0004 completed successfully\n2016-04-27 19:59:40,409 INFO org.apache.hadoop.mapreduce.Job (main): Counters: 55\n    File System Counters\n        FILE: Number of bytes read=190\n        FILE: Number of bytes written=1541379\n        FILE: Number of read operations=0\n        FILE: Number of large read operations=0\n        FILE: Number of write operations=0\n        HDFS: Number of bytes read=873\n        HDFS: Number of bytes written=0\n        HDFS: Number of read operations=9\n        HDFS: Number of large read operations=0\n        HDFS: Number of write operations=0\n        S3: Number of bytes read=864\n        S3: Number of bytes written=130\n        S3: Number of read operations=0\n        S3: Number of large read operations=0\n        S3: Number of write operations=0\n    Job Counters \n        Killed map tasks=1\n        Launched map tasks=9\n        Launched reduce tasks=3\n        Data-local map tasks=9\n        Total time spent by all maps in occupied slots (ms)=6351210\n        Total time spent by all reduces in occupied slots (ms)=2449170\n        Total time spent by all map tasks (ms)=141138\n        Total time spent by all reduce tasks (ms)=27213\n        Total vcore-milliseconds taken by all map tasks=141138\n        Total vcore-milliseconds taken by all reduce tasks=27213\n        Total megabyte-milliseconds taken by all map tasks=203238720\n        Total megabyte-milliseconds taken by all reduce tasks=78373440\n    Map-Reduce Framework\n        Map input records=5\n        Map output records=3\n        Map output bytes=124\n        Map output materialized bytes=562\n        Input split bytes=873\n        Combine input records=0\n        Combine output records=0\n        Reduce input groups=3\n        Reduce shuffle bytes=562\n        Reduce input records=3\n        Reduce output records=6\n        Spilled Records=6\n        Shuffled Maps =27\n        Failed Shuffles=0\n        Merged Map outputs=27\n        GC time elapsed (ms)=2785\n        CPU time spent (ms)=11670\n        Physical memory (bytes) snapshot=5282500608\n        Virtual memory (bytes) snapshot=28472725504\n        Total committed heap usage (bytes)=5977407488\n    Shuffle Errors\n        BAD_ID=0\n        CONNECTION=0\n        IO_ERROR=0\n        WRONG_LENGTH=0\n        WRONG_MAP=0\n        WRONG_REDUCE=0\n    File Input Format Counters \n        Bytes Read=864\n    File Output Format Counters \n        Bytes Written=130\n2016-04-27 19:59:40,409 INFO org.apache.hadoop.streaming.StreamJob (main): Output directory: s3://source123/output/\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3212600, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1d75151579fc9cf0be7ecc4d02d58a4?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoxys", "link": "https://stackoverflow.com/users/3212600/chaoxys"}, "edited": false, "score": 0, "creation_date": 1461866297, "post_id": 36900017, "comment_id": 61405853, "body": "Great ! Thanks a lot :)"}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 1, "last_activity_date": 1461788103, "creation_date": 1461788103, "answer_id": 36900017, "question_id": 36899924, "link": "https://stackoverflow.com/questions/36899924/union-dict-in-python/36900017#36900017", "title": "Union dict in python", "body": "<p>This doesn't really involve <code>dict</code>s. You just need to correctly merge the lists that make up <code>tab_parameters</code>.</p>\n\n<pre><code>tab_parameters = [shadow(active_id)] + light_parameter(active_id)\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 3212600, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a1d75151579fc9cf0be7ecc4d02d58a4?s=128&d=identicon&r=PG&f=1", "display_name": "Chaoxys", "link": "https://stackoverflow.com/users/3212600/chaoxys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 36900017, "answer_count": 1, "score": 2, "last_activity_date": 1461788103, "creation_date": 1461787801, "question_id": 36899924, "link": "https://stackoverflow.com/questions/36899924/union-dict-in-python", "title": "Union dict in python", "body": "<p>I would like to concatenate multiple dict for the return of my function.</p>\n\n<pre><code>def get_params(request, active_id):\n\n    tab_parameters = [\n        shadow(active_id),\n        light_parameter(active_id)\n    ]\n\n    parameters = {\n        'id': active_id,\n        'parameters': tab_parameters\n    }\n\n    return response.HttpResponse(json.dumps(parameters), 'application/json')\n\n\ndef light_parameter(active_id):\n    active_lights = LightParameter.objects.filter(id=active_id).all()\n\n    list_parameters = []\n    for active_light in active_lights:\n        list_parameters.append({\n                'name': 'light',\n                'color': active_light.color,\n        })\n\n    return list_parameters\n</code></pre>\n\n<p>The expected result is : </p>\n\n<pre><code>{\n    \"id\": 1,\n    \"parameters\": [\n        {\n            \"name\": \"shadow\"\n        },\n        {\n            \"color\": 1, \n            \"name\": \"light\"\n        },\n        {\n            \"color\": 2, \n            \"name\": \"light\"\n        }\n}\n</code></pre>\n\n<p>My actual result is (with []) :</p>\n\n<pre><code>{\n    \"id\": 1,\n    \"parameters\": [\n        {\n            \"name\": \"shadow\"\n        },\n        [\n            {\n                \"color\": 1, \n                \"name\": \"light\"\n            },\n            {\n                \"color\": 2, \n                \"name\": \"light\"\n            }\n        ]\n}\n</code></pre>\n\n<p>Any idea ? I already tried to use union, update, concatenation but without success..</p>\n\n<p>Thanks ! </p>\n"}, {"tags": ["python", "pandas", "scikit-learn"], "comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1461817336, "post_id": 36899901, "comment_id": 61374042, "body": "can you include the line where you call <code>fit</code>?"}, {"owner": {"reputation": 913, "user_id": 6076861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5259690785ed4ad7d1b89cbf79f3932b?s=128&d=identicon&r=PG&f=1", "display_name": "mapping dom", "link": "https://stackoverflow.com/users/6076861/mapping-dom"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1461827258, "post_id": 36899901, "comment_id": 61378328, "body": "thanks for looking max, have added that now"}], "answers": [{"comments": [{"owner": {"reputation": 913, "user_id": 6076861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5259690785ed4ad7d1b89cbf79f3932b?s=128&d=identicon&r=PG&f=1", "display_name": "mapping dom", "link": "https://stackoverflow.com/users/6076861/mapping-dom"}, "edited": false, "score": 0, "creation_date": 1462183012, "post_id": 36972939, "comment_id": 61514294, "body": "Thanks max , I&#39;ve made those adjustments.It churns away for along time (there are ~80k labels, whole of London) but then get the following error <code>ZeroDivisionError: float division by zero</code> i thought i could improve the match by adding another column of data common to both (&#39;district&#39;) but it doesn&#39;t like the fact it&#39;s a str value. I&#39;m not sure what happens behind the code but assumed this would help as the district limits the number of postcodes to 11,640 max."}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 913, "user_id": 6076861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5259690785ed4ad7d1b89cbf79f3932b?s=128&d=identicon&r=PG&f=1", "display_name": "mapping dom", "link": "https://stackoverflow.com/users/6076861/mapping-dom"}, "edited": false, "score": 0, "creation_date": 1462233874, "post_id": 36972939, "comment_id": 61541057, "body": "it&#39;s too hard to say what&#39;s causing this without seeing the data, can you try and find a minimal subset of data where this error occurs ... do you get the error if you just restrict to the first few lines of your dataset?"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1462143547, "creation_date": 1462143547, "answer_id": 36972939, "question_id": 36899901, "link": "https://stackoverflow.com/questions/36899901/fit-or-predict-function-for-lineardiscriminantanalysis/36972939#36972939", "title": "Fit or predict function for LinearDiscriminantAnalysis", "body": "<p>I think you're getting confused by target and test. The error is happening because the classifier expects a one-dimesional array of labels -- in your case, the postcodes. Without seeing your data I can't say for sure, but you probably want to do</p>\n\n<pre><code>clf.fit(trainingdata, labels_fea) \n</code></pre>\n\n<p>and then renaming <code>targetdata</code> to <code>testdata</code>, you would get your predictions to test your model with <code>clf.predict(testdata)</code></p>\n"}], "owner": {"reputation": 913, "user_id": 6076861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5259690785ed4ad7d1b89cbf79f3932b?s=128&d=identicon&r=PG&f=1", "display_name": "mapping dom", "link": "https://stackoverflow.com/users/6076861/mapping-dom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462143547, "creation_date": 1461787731, "last_edit_date": 1461827231, "question_id": 36899901, "link": "https://stackoverflow.com/questions/36899901/fit-or-predict-function-for-lineardiscriminantanalysis", "title": "Fit or predict function for LinearDiscriminantAnalysis", "body": "<p>I'm trying to assign coordinates to a label based on that labels known coordinates using SciKit-learns Linear Discriminant Analysis package. Training coordinates and label stored in one pandas dataframe, target coordiantes in another. The two dataframes aren't equal in row length, training set is larger. I want to apply the label on the coordinates in the original dataframe to use as a key with pd.merge. </p>\n\n<p>I know i could approach this problem using matplot point in polygon or Shapely but want to test it this way. Here's what i have based on the <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.discriminant_analysis.LinearDiscriminantAnalysis.html#sklearn.discriminant_analysis.LinearDiscriminantAnalysis\" rel=\"nofollow\">docs</a></p>\n\n<pre><code>from sklearn.discriminant_analysis import LinearDiscriminantAnalysis\nfrom sklearn.preprocessing import LabelEncoder\nle = LabelEncoder()\nlabels_fea = le.fit_transform(Spatial_index['Postcode']) \ntrainingdata=df1[['xcoord','ycoord']].values\ntargetvalues=df2[['xcoord','ycoord']].values\nclf = LinearDiscriminantAnalysis(solver='svd', shrinkage=None, priors=None,      \nn_components=None, store_covariance=False, tol=0.0001)\n</code></pre>\n\n<p>Then executed as below,</p>\n\n<pre><code>clf.fit(trainingdata,targetvalues) \n</code></pre>\n\n<p>This throws the following error, </p>\n\n<pre><code>ValueError: bad input shape (8860, 2)\n</code></pre>\n"}, {"tags": ["python", "debian", "anaconda", "32-bit", "odroid"], "answers": [{"comments": [{"owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "edited": false, "score": 0, "creation_date": 1461861351, "post_id": 36903879, "comment_id": 61402747, "body": "Thanks, I wasn&#39;t aware of those installers."}], "tags": [], "owner": {"reputation": 10234, "user_id": 4698882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bb0d3ed63da5a5d65872d5b0d147e3d?s=128&d=identicon&r=PG", "display_name": "Binary Birch Tree", "link": "https://stackoverflow.com/users/4698882/binary-birch-tree"}, "is_accepted": true, "score": 2, "last_activity_date": 1461808264, "creation_date": 1461808264, "answer_id": 36903879, "question_id": 36899863, "link": "https://stackoverflow.com/questions/36899863/anaconda-python-cannot-execute-native-linux-32-binary/36903879#36903879", "title": "Anaconda Python: Cannot execute native linux-32 binary", "body": "<p>You are trying to run an <code>x86</code> installer on an <code>armv7l</code> device.</p>\n\n<p>To fix this, you should download the correct installer for your device's platform.</p>\n\n<p><a href=\"https://www.continuum.io/content/conda-support-raspberry-pi-2-and-power8-le\" rel=\"nofollow\">This post on the official developers' blog</a> offers useful information about installing Anaconda on <code>armv7l</code> devices, and provides the following installer links:</p>\n\n<p><a href=\"http://repo.continuum.io/miniconda/Miniconda-latest-Linux-armv7l.sh\" rel=\"nofollow\">armv7l (Python 2)</a></p>\n\n<p><a href=\"http://repo.continuum.io/miniconda/Miniconda3-latest-Linux-armv7l.sh\" rel=\"nofollow\">armv7l (Python 3)</a></p>\n"}], "owner": {"reputation": 1642, "user_id": 3928184, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-opJFz3zFjGI/AAAAAAAAAAI/AAAAAAAAAr0/2zAUOWaRv90/photo.jpg?sz=128", "display_name": "bjd2385", "link": "https://stackoverflow.com/users/3928184/bjd2385"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5940, "favorite_count": 0, "accepted_answer_id": 36903879, "answer_count": 1, "score": 1, "last_activity_date": 1503051026, "creation_date": 1461787584, "question_id": 36899863, "link": "https://stackoverflow.com/questions/36899863/anaconda-python-cannot-execute-native-linux-32-binary", "title": "Anaconda Python: Cannot execute native linux-32 binary", "body": "<p>I get the following error while installing Anaconda Python on an Odroid XU4.</p>\n\n<pre><code>installing: conda-env-2.4.5-py27_0 ...\nAnaconda2-4.0.0-Linux-x86.sh: line 460: /root/anaconda2/pkgs/python-2.7.11-0/bin/python: cannot execute binary file: Exec format error\nERROR:\ncannot execute native linux-32 binary, output from 'uname -a' is:\nLinux odroid-jessie 3.10.92+ #1 SMP PREEMPT Wed Feb 3 11:23:35 CET 2016 armv7l GNU/Linux\n</code></pre>\n\n<p>How do I fix this?</p>\n"}]