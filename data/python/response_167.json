[{"tags": ["python", "parsing", "import"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521677140, "post_id": 49418428, "comment_id": 85838643, "body": "Why is this tagged with sqlite, import, and encoding? Are you having problems with any of those things? They&#39;re not mentioning in your question anywhere."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521677185, "post_id": 49418428, "comment_id": 85838656, "body": "Also, is the column really named <code>&#255;&#254;a</code>? If not, what makes you think the file is encoded in ISO-8859-1?"}, {"owner": {"reputation": 363, "user_id": 8010314, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10155350443964809/picture?type=large", "display_name": "Cagdas Kanar", "link": "https://stackoverflow.com/users/8010314/cagdas-kanar"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521677515, "post_id": 49418428, "comment_id": 85838728, "body": "you&#39;re right, I removed some of the unrelevant tags. i was working in sqlite , I guess I have written it by mistake. and yes, the column name literally looks like that. I know because I have selected ISO-8859-1 when I was downloading it from the source."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521677814, "post_id": 49418428, "comment_id": 85838805, "body": "OK. then you need to give us a sample of the input. Not all 5 million rows, and ideally not all 15 columns, just enough for other people to reproduce the problem. See <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521677927, "post_id": 49418428, "comment_id": 85838827, "body": "And if there&#39;s any chance that there could be an encoding problem (I mean, the source <i>did</i> give you what seems like a mojibake column name, so can we really trust that it encoded the columns right?), it would also help to give the same input in hex format, as well as the text format."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521677995, "post_id": 49418428, "comment_id": 85838840, "body": "Actually, that&#39;s not just mojibake; <code>&#255;&#254;</code> is what you get when you read a UTF-16-LE BOM as Latin-1. So now I&#39;m 80% sure your problem is encoding, and we definitely need the hex to debug it."}], "owner": {"reputation": 363, "user_id": 8010314, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10155350443964809/picture?type=large", "display_name": "Cagdas Kanar", "link": "https://stackoverflow.com/users/8010314/cagdas-kanar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521677418, "creation_date": 1521676748, "last_edit_date": 1521677418, "question_id": 49418428, "link": "https://stackoverflow.com/questions/49418428/python-importing-txt-file-as-an-empty-dataset", "title": "python importing txt file as an empty dataset", "body": "<p>I have a dataset which has 5M rows and 15 columns. This is a text dataset.\nWhen I import this to python, it displays this output :</p>\n\n<pre><code>  \u00ff\u00fea           Unnamed: 1       .....   Unnamed: 14\n----------    ----------                ----------    \nNaN              NaN                      NaN\n</code></pre>\n\n<p>My code is below :</p>\n\n<pre><code># specify your input folder's path and then read it as python dataframe\n\npath_in = 'C:/Users/cagdas/Python_SQLite/inputs/'\n\ndf = pd.read_csv(path_in+'df.txt',delimiter=\"\\t\",encoding = \"ISO-8859-1\")\n</code></pre>\n\n<p>Many thanks in advance...</p>\n"}, {"tags": ["python", "plaintext"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1521676788, "post_id": 49418377, "comment_id": 85838551, "body": "You could split each line on the colon and only keep the <i>first part</i>: <code>keep, *discard = line.split(&#39;:&#39;)</code>"}, {"owner": {"reputation": 26054, "user_id": 23896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d4dc630c582673cfd21f7c80c79ff7f?s=128&d=identicon&r=PG", "display_name": "matli", "link": "https://stackoverflow.com/users/23896/matli"}, "edited": false, "score": 0, "creation_date": 1521677220, "post_id": 49418377, "comment_id": 85838668, "body": "Yes, you can change your re.sub()-line to <code>line = line.split(&#39;:&#39;)[0]</code>  Besides that, are you sure that you really want to overwrite the completed.txt file for every line?"}, {"owner": {"reputation": 1, "user_id": 9531671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a4c5a43d55014e49969b6e85303928b?s=128&d=identicon&r=PG&f=1", "display_name": "theworstTM", "link": "https://stackoverflow.com/users/9531671/theworsttm"}, "edited": false, "score": 0, "creation_date": 1521677329, "post_id": 49418377, "comment_id": 85838696, "body": "I tried using that, but unfortunately it does nothing at all. I am also realizing that the only thing printing in that new text file is the first line from the original text file."}, {"owner": {"reputation": 3561, "user_id": 2511795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30c869f55cbcf82a7bc4536d563daa0a?s=128&d=identicon&r=PG", "display_name": "0andriy", "link": "https://stackoverflow.com/users/2511795/0andriy"}, "edited": false, "score": 0, "creation_date": 1521677775, "post_id": 49418377, "comment_id": 85838798, "body": "Much better to use standard core utilities from *nix system, for example the Ubuntu stuff in windows. In that case the difference is get by <i>diff</i> tool, the list of keys easily can be get by piping <i>grep</i> and <i>cut</i> together. Python is too verbose for this particular task."}], "owner": {"reputation": 1, "user_id": 9531671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a4c5a43d55014e49969b6e85303928b?s=128&d=identicon&r=PG&f=1", "display_name": "theworstTM", "link": "https://stackoverflow.com/users/9531671/theworsttm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "closed_date": 1521818241, "answer_count": 0, "score": 0, "last_activity_date": 1521676548, "creation_date": 1521676376, "last_edit_date": 1521676548, "question_id": 49418377, "link": "https://stackoverflow.com/questions/49418377/stripping-hex-code-from-a-plain-text-file-in-python", "closed_reason": "Duplicate", "title": "Stripping Hex code from a plain text file in Python", "body": "<p>I have a regshot text file that I am trying to clean up and move the necessary data into a new text file. I have a program that prints the registry entries that were changed and moved, but I can not remove the data after the colon which moves into hex data.</p>\n\n<p>Code:</p>\n\n<pre><code>import re\nimport sys\n\n#This allows you to specify the text file\n#in commandline start of program.\nwith open(sys.argv[1], 'r') as f:\n    for i in xrange(7):\n        f.next()\n    for line in f:\n        #process(line)\n        if ':' in line:\n            #Remove unneeded hex data\n            re.sub(\"\\W+\", \"\", line),\n        #Print every line with \\ on new file\n        if '\\\\' in line:\n            with open(\"completed.txt\", \"w\") as f1:\n                f1.write(line)\nf.close\nf1.close\n</code></pre>\n\n<p>Data sample:</p>\n\n<pre><code>HKU\\S-1-5-21-230830461-2995936100-1910591732-1107\\Software\\Microsoft\\Windows\\CurrentVersion\\ContentDeliveryManager\\Subscriptions\\280810\\UpdateDrivenByExpiration: 0x00000001\nHKU\\S-1-5-21-230830461-2995936100-1910591732-1107\\Software\\Microsoft\\Windows\\CurrentVersion\\ContentDeliveryManager\\Subscriptions\\280810\\UpdateDrivenByExpiration: 0x00000000\nHKU\\S-1-5-21-230830461-2995936100-1910591732-1107\\Software\\Microsoft\\Windows\\CurrentVersion\\Search\\JumplistData\\E7CF176E110C211B:  D6 1E 9E B8 B3 B7 D3 01\nHKU\\S-1-5-21-230830461-2995936100-1910591732-1107\\Software\\Microsoft\\Windows\\CurrentVersion\\Search\\JumplistData\\E7CF176E110C211B:  08 64 2B 00 B4 B7 D3 01\n</code></pre>\n"}, {"tags": ["python", "json", "python-3.x"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1521676475, "post_id": 49418376, "comment_id": 85838465, "body": "You can&#39;t have both."}, {"owner": {"reputation": 187, "user_id": 1608773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6046ff5fb1d4f8d6016c865823e6d3a9?s=128&d=identicon&r=PG", "display_name": "Sandeep R Venkatesh", "link": "https://stackoverflow.com/users/1608773/sandeep-r-venkatesh"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1521676753, "post_id": 49418376, "comment_id": 85838537, "body": "is there a way for json.dumps() to return without single quotes?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 4, "creation_date": 1521676779, "post_id": 49418376, "comment_id": 85838543, "body": "<code>json.dumps</code> already returns without single quotes.  It uses double quotes.  Next question?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 4, "creation_date": 1521676797, "post_id": 49418376, "comment_id": 85838557, "body": "<code>json.dumps</code> does not return a string with single quotes in it; the single quotes are part of the string&#39;s <code>repr</code>."}, {"owner": {"reputation": 187, "user_id": 1608773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6046ff5fb1d4f8d6016c865823e6d3a9?s=128&d=identicon&r=PG", "display_name": "Sandeep R Venkatesh", "link": "https://stackoverflow.com/users/1608773/sandeep-r-venkatesh"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1521676855, "post_id": 49418376, "comment_id": 85838573, "body": "@user2357112 can you please tell me how i could get rid of that?, I&#39;m at it for a while.."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 4, "creation_date": 1521676914, "post_id": 49418376, "comment_id": 85838592, "body": "You&#39;re just printing it wrong. Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the code"}, {"owner": {"reputation": 187, "user_id": 1608773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6046ff5fb1d4f8d6016c865823e6d3a9?s=128&d=identicon&r=PG", "display_name": "Sandeep R Venkatesh", "link": "https://stackoverflow.com/users/1608773/sandeep-r-venkatesh"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1521677642, "post_id": 49418376, "comment_id": 85838758, "body": "@cricket_007 How about now?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1521677915, "post_id": 49418376, "comment_id": 85838823, "body": "Try putting a single after each comma <code>,</code> in both the dict and the string."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1521678215, "post_id": 49418376, "comment_id": 85838886, "body": "You already have a dictionary <code>dict_ = {&quot;Engineering&quot;: {&quot;</code>... Why are you using <code>dict()</code>? Also whitespacing can be different"}, {"owner": {"reputation": 187, "user_id": 1608773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6046ff5fb1d4f8d6016c865823e6d3a9?s=128&d=identicon&r=PG", "display_name": "Sandeep R Venkatesh", "link": "https://stackoverflow.com/users/1608773/sandeep-r-venkatesh"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1521678314, "post_id": 49418376, "comment_id": 85838916, "body": "@wim tried that. It still returns false"}, {"owner": {"reputation": 187, "user_id": 1608773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6046ff5fb1d4f8d6016c865823e6d3a9?s=128&d=identicon&r=PG", "display_name": "Sandeep R Venkatesh", "link": "https://stackoverflow.com/users/1608773/sandeep-r-venkatesh"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1521678419, "post_id": 49418376, "comment_id": 85838933, "body": "@cricket_007 i&#39;m actually computing a dictionary in that form. Instead of pasting those details here. I&#39;m just trying to explain here that I have a dictionary of that form which i&#39;m returning through json.dump and on comparing the return string, I&#39;m getting false."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1521678839, "post_id": 49418376, "comment_id": 85839019, "body": "Are there any booleans in the dictionary?  They look like <code>False</code> in python and <code>false</code> in json."}, {"owner": {"reputation": 187, "user_id": 1608773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6046ff5fb1d4f8d6016c865823e6d3a9?s=128&d=identicon&r=PG", "display_name": "Sandeep R Venkatesh", "link": "https://stackoverflow.com/users/1608773/sandeep-r-venkatesh"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1521679071, "post_id": 49418376, "comment_id": 85839070, "body": "@wim There are no booleans in the dictionary. I shared few more details based on the values printed in python prompt. I&#39;m wondering why those single quotes are there and if that is the reason."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1521679693, "post_id": 49418376, "comment_id": 85839191, "body": "So, in the new details you&#39;ve added, the <code>test[&#39;expected_output&#39;]</code> is not a string at all.  It&#39;s a dict."}, {"owner": {"reputation": 187, "user_id": 1608773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6046ff5fb1d4f8d6016c865823e6d3a9?s=128&d=identicon&r=PG", "display_name": "Sandeep R Venkatesh", "link": "https://stackoverflow.com/users/1608773/sandeep-r-venkatesh"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1521701688, "post_id": 49418376, "comment_id": 85845377, "body": "Yeah, I understand it now. Thanks @wim"}], "answers": [{"tags": [], "owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "is_accepted": false, "score": 1, "last_activity_date": 1521679621, "creation_date": 1521679621, "answer_id": 49418801, "question_id": 49418376, "link": "https://stackoverflow.com/questions/49418376/need-json-dumps-to-give-me-string-without-single-quotes/49418801#49418801", "title": "Need JSON Dumps to give me string without single quotes", "body": "<p>Your example with <code>get_actual_output() == expected_output</code> doesn't match just because you're missing whitespace before some keys. For example: <code>...s\": 2},\"HR\": {\"em...</code>, where the actual output is <code>...s\": 2}, \"HR\": {\"em...</code>. You can't get the format you want out of <code>json.dumps</code>, because you have space before some keys, but not other ones.</p>\n\n<p>You can get rid of all the spaces with <code>json.dumps(..., separators=(',', ': '))</code>, but that's likely just confusing the situation some more.</p>\n\n<p>Ideally, you should parse the string response and compare that instead. This way, you'll also avoid the issue of the order of the elements not being guaranteed.</p>\n"}, {"tags": [], "owner": {"reputation": 985, "user_id": 7870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55248f8bdfa95b6d442aa497b6fc3348?s=128&d=identicon&r=PG&f=1", "display_name": "SEDaradji", "link": "https://stackoverflow.com/users/7870824/sedaradji"}, "is_accepted": false, "score": 0, "last_activity_date": 1521681016, "creation_date": 1521681016, "answer_id": 49418972, "question_id": 49418376, "link": "https://stackoverflow.com/questions/49418376/need-json-dumps-to-give-me-string-without-single-quotes/49418972#49418972", "title": "Need JSON Dumps to give me string without single quotes", "body": "<p>Json is different from python dictionary representation, when you print a dictionary, python doesn't use json syntax to generate the string representation of the dictionary, dict objects have their own implementation of __str__ which is invoked when calling str or doing a print(which calls str on the object).</p>\n\n<p>str(dict_ ) produces a string that is generated by __str__, and does not follow the json syntax, it is similar, but not the same, these are two different syntaxes.</p>\n\n<p>Also, json only allows double quotes for strings, while python allows for both double and single quotes.</p>\n\n<p>Doing simple processing to the json to make it look like a python repr of a dict (like removing/replacing quotes..) is a bad idea, you will have issues when dealing with complex objects representation or even floats. </p>\n\n<p>if you want a string that looks like the string generated by printing the dict, use str(dict_ ).</p>\n"}], "owner": {"reputation": 187, "user_id": 1608773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6046ff5fb1d4f8d6016c865823e6d3a9?s=128&d=identicon&r=PG", "display_name": "Sandeep R Venkatesh", "link": "https://stackoverflow.com/users/1608773/sandeep-r-venkatesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1521701620, "creation_date": 1521676376, "last_edit_date": 1521701620, "question_id": 49418376, "link": "https://stackoverflow.com/questions/49418376/need-json-dumps-to-give-me-string-without-single-quotes", "title": "Need JSON Dumps to give me string without single quotes", "body": "<p><strong>The issue was different and was with how expected output was handling the json. Apologies for wasting your time.</strong></p>\n\n<p>I have a python dictionary object which I'm trying to return in a string format so that another function does a string comparision. I have no control over the other function so it's my responsibility to return in the requested format.</p>\n\n<p>Right now I have this\nmyfunction(params) which returns (json.dump(dictionary object))</p>\n\n<pre><code>'{\"Engineering\": {\"employees\": 3, \"employees_with_outside_friends\": 2}, \"HR\": {\"employees\": 1, \"employees_with_outside_friends\": 1}, \"Business\": {\"employees\": 1, \"employees_with_outside_friends\": 1}, \"Directors\": {\"employees\": 1, \"employees_with_outside_friends\": 0}}'\n</code></pre>\n\n<p>But I want the return to look like regular string which gets printed when i run print(dict)</p>\n\n<pre><code>{\"Engineering\": {\"employees\": 3, \"employees_with_outside_friends\": 2}, \"HR\": {\"employees\": 1, \"employees_with_outside_friends\": 1}, \"Business\": {\"employees\": 1, \"employees_with_outside_friends\": 1}, \"Directors\": {\"employees\": 1, \"employees_with_outside_friends\": 0}}\n</code></pre>\n\n<p>Sample Code:</p>\n\n<pre><code>def get_actual_output():\n    dict_ = dict({\"Engineering\": {\"employees\": 3, \"employees_with_outside_friends\": 2},\"HR\": {\"employees\": 1, \"employees_with_outside_friends\": 1},\"Business\": {\"employees\": 1, \"employees_with_outside_friends\": 1},\"Directors\": {\"employees\": 1, \"employees_with_outside_friends\": 0}})\n    return(json.dumps(dict_))\n\nexpected_output = '{\"Engineering\": {\"employees\": 3, \"employees_with_outside_friends\": 2},\"HR\": {\"employees\": 1, \"employees_with_outside_friends\": 1},\"Business\": {\"employees\": 1, \"employees_with_outside_friends\": 1},\"Directors\": {\"employees\": 1, \"employees_with_outside_friends\": 0}}'\n\nget_actual_output() == expected_output returns False\n</code></pre>\n\n<p>Adding Some more details : </p>\n\n<p>When I print the return of the above function and the expected values, this is what I get : </p>\n\n<pre><code>&gt;&gt;&gt; actual_output\n'{\"Business\": {\"employees\": 1, \"employees_with_outside_friends\": 1}, \"Dir\nectors\": {\"employees\": 1, \"employees_with_outside_friends\": 0}, \"Engineer\ning\": {\"employees\": 3, \"employees_with_outside_friends\": 2}, \"HR\": {\"empl\noyees\": 1, \"employees_with_outside_friends\": 1}}'\n\n&gt;&gt;&gt; test['expected_output']\n{'Business': {'employees': 1, 'employees_with_outside_friends': 1},\n 'Directors': {'employees': 1, 'employees_with_outside_friends': 0},\n 'Engineering': {'employees': 3, 'employees_with_outside_friends': 2},\n 'HR': {'employees': 1, 'employees_with_outside_friends': 1}}\n</code></pre>\n"}, {"tags": ["python", "numpy", "math"], "comments": [{"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 1, "creation_date": 1521718564, "post_id": 49418358, "comment_id": 85856266, "body": "Hi Eirik, I don&#39;t think your code is reproducible. What is <code>brett</code>?"}, {"owner": {"reputation": 59, "user_id": 6893758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44406c130ef763b282f2273bbb5f6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik", "link": "https://stackoverflow.com/users/6893758/eirik"}, "reply_to_user": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 0, "creation_date": 1523800408, "post_id": 49418358, "comment_id": 86699978, "body": "Brett (Norwegian language) is the same as Board.  The answer I got was correct. :)"}], "owner": {"reputation": 59, "user_id": 6893758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d44406c130ef763b282f2273bbb5f6d9?s=128&d=identicon&r=PG&f=1", "display_name": "Eirik", "link": "https://stackoverflow.com/users/6893758/eirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521718164, "creation_date": 1521676263, "last_edit_date": 1521718164, "question_id": 49418358, "link": "https://stackoverflow.com/questions/49418358/having-a-issue-to-solve-condition-number-in-python", "title": "Having a issue to solve condition number in python", "body": "<pre><code>def createA(self, n):\n    \"\"\" this method creates a nxn coefficient \"\"\"\n\n\n\ndef main():\n    # \"points_of_failure_in_L :  point x = L in every n\"\n\n\n    for i in range(0, 12):\n        n = 20 * (2**i)\n\n        points_of_failure_in_L = np.abs(brett.fasit_y(n) - brett.finn_y(n))[n - 1]\n        condition_Number_A = np.linalg.cond(brett.createA(n).toarray())\n        print(n, points_of_failure_in_L, \"\\t\", \"condition\", condition_Number_A)\n\n\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>How to compare with the condition number of A for those\ndifferent values \u200b\u200bof n.\nI having problem with: <code>points_of_failure_in_L=np.linalg.cond(brett.createA(n).toarray())</code></p>\n\n<p>prints out\n<code>20 8.144526719711109e-16    condition 282259.21106512705\n40 7.64151112178646e-15      condition 4389447.783996872\n80 3.42975431041892e-14      condition 69191086.43073456\n160 8.638996094011142e-14    condition 1098636697.701042\n320 3.9277543890936517e-13   condition 17510431736.872536\n640 7.368569980798021e-12    condition 279623343789.7353\n1280 9.507172970768204e-11   condition 4469444304850.158\n2560 3.463085792795601e-10   condition 71481983012454.66\n5120 2.5468403313525705e-11      condition 1139844383400946.2\nProcess finished with exit code 137 (interrupted by signal 9: SIGKILL)\n</code> </p>\n\n<p>The condition numbers can't be right?!\nCan someone tell me what I'm doing wrong? :)</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 509, "user_id": 9429104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ee9c277e8be6810bd7dc0f739a9abb?s=128&d=identicon&r=PG&f=1", "display_name": "A.Ben", "link": "https://stackoverflow.com/users/9429104/a-ben"}, "edited": false, "score": 2, "creation_date": 1521676386, "post_id": 49418346, "comment_id": 85838447, "body": "Can you precise what you want to do ? You want the user to type a phrase (be careful,you wrote &quot;a word&quot; in your input string) ? Then the program will create a word with the first letter of every word ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9382904"}, "reply_to_user": {"reputation": 509, "user_id": 9429104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ee9c277e8be6810bd7dc0f739a9abb?s=128&d=identicon&r=PG&f=1", "display_name": "A.Ben", "link": "https://stackoverflow.com/users/9429104/a-ben"}, "edited": false, "score": 0, "creation_date": 1521676570, "post_id": 49418346, "comment_id": 85838491, "body": "phrase word same thing, the program is supposed to make an acronym from the phrases the user inputted for example if the user inputs(Technical media design), then the program would print (TMD)"}], "answers": [{"tags": [], "owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "is_accepted": false, "score": 3, "last_activity_date": 1521676596, "last_edit_date": 1521676596, "creation_date": 1521676280, "answer_id": 49418360, "question_id": 49418346, "link": "https://stackoverflow.com/questions/49418346/output-first-letter-of-each-word-of-user-input/49418360#49418360", "title": "Output first letter of each word of user input", "body": "<p>Try this. It prints a concatenated version of the first letter of each word.</p>\n\n<pre><code>w = input(\"Type in a word to create acronym with spaces between the words:\")\nprint(''.join([e[0] for e in w.split()]).upper())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "edited": false, "score": 0, "creation_date": 1521676793, "post_id": 49418391, "comment_id": 85838553, "body": "This prints them with newlines"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9382904"}, "edited": false, "score": 0, "creation_date": 1521677187, "post_id": 49418391, "comment_id": 85838658, "body": "I need them on the same line"}, {"owner": {"reputation": 636, "user_id": 5403882, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/100b2ec9f5f3057ac8046db939bd472f?s=128&d=identicon&r=PG", "display_name": "DrevanTonder", "link": "https://stackoverflow.com/users/5403882/drevantonder"}, "reply_to_user": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "edited": false, "score": 0, "creation_date": 1521677253, "post_id": 49418391, "comment_id": 85838676, "body": "Use @\u1d21\u029c\u1d00\u1d04\u1d0b\u1d00\u1d0d\u1d00\u1d05\u1d0f\u1d0f\u1d05\u029f\u1d073000 if you need them on the same line. My answer would be useful if you needed to perform more operations on the first letter or word."}], "tags": [], "owner": {"reputation": 636, "user_id": 5403882, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/100b2ec9f5f3057ac8046db939bd472f?s=128&d=identicon&r=PG", "display_name": "DrevanTonder", "link": "https://stackoverflow.com/users/5403882/drevantonder"}, "is_accepted": false, "score": 1, "last_activity_date": 1521676443, "creation_date": 1521676443, "answer_id": 49418391, "question_id": 49418346, "link": "https://stackoverflow.com/questions/49418346/output-first-letter-of-each-word-of-user-input/49418391#49418391", "title": "Output first letter of each word of user input", "body": "<pre><code>for word in w.split(\" \"):\n    first_letter = word[0]\n    print(first_letter.upper())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 509, "user_id": 9429104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ee9c277e8be6810bd7dc0f739a9abb?s=128&d=identicon&r=PG&f=1", "display_name": "A.Ben", "link": "https://stackoverflow.com/users/9429104/a-ben"}, "is_accepted": false, "score": 2, "last_activity_date": 1521676774, "creation_date": 1521676774, "answer_id": 49418433, "question_id": 49418346, "link": "https://stackoverflow.com/questions/49418346/output-first-letter-of-each-word-of-user-input/49418433#49418433", "title": "Output first letter of each word of user input", "body": "<p>Try this</p>\n\n<pre><code>w = input(\"Type a phrase with a space between the words:\")\nw_up_split = w.upper().split()\nacronym = \"\"\n\nfor i in w_up_split:\n    acronym += (i[0])\nprint(acronym)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 9161695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a34310ff11f1b0221843dbb5deb00fa?s=128&d=identicon&r=PG&f=1", "display_name": "Vilyanare", "link": "https://stackoverflow.com/users/9161695/vilyanare"}, "is_accepted": false, "score": 1, "last_activity_date": 1521676825, "creation_date": 1521676825, "answer_id": 49418442, "question_id": 49418346, "link": "https://stackoverflow.com/questions/49418346/output-first-letter-of-each-word-of-user-input/49418442#49418442", "title": "Output first letter of each word of user input", "body": "<p>In the code that you gave you are taking the first word in a list of lists.</p>\n\n<pre><code>s = w.split(\" \")\nletter = s[0]\n</code></pre>\n\n<p>If someone input 'Hi how are you' this s would equal</p>\n\n<pre><code>s == [\"Hi\"][\"how\"][\"are\"][\"you\"]\n</code></pre>\n\n<p>And then letter would equal the first index of s which would be [\"Hi\"]</p>\n\n<p>You want to go through each word and take each letter</p>\n\n<pre><code>acronym = []\nfor x in s:\n    acronym.append(x[0])\n</code></pre>\n\n<p>Would get what you want.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9382904"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1521687865, "creation_date": 1521676177, "last_edit_date": 1521687865, "question_id": 49418346, "link": "https://stackoverflow.com/questions/49418346/output-first-letter-of-each-word-of-user-input", "title": "Output first letter of each word of user input", "body": "<p>I have this code</p>\n\n<pre><code>#Ask for word\nw = input(\"Type in a word to create acronym with spaces between the words:\")\n\n#Seperate the words to create acronym\ns = w.split(\" \")\nletter = s[0]\n\n#print answer \nprint(s.upper(letter))\n</code></pre>\n\n<p>And I know that I need a for loop to loop over the words to get the first letter of each word but I can't figure out how to do it I tried many different types but I kept getting errors.</p>\n"}, {"tags": ["python", "pandas", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "edited": false, "score": 0, "creation_date": 1521675675, "post_id": 49418248, "comment_id": 85838239, "body": "You have to set the data frame index to the date time column. See this link: <a href=\"https://stackoverflow.com/questions/40815238/python-pandas-convert-index-to-datetime\" title=\"python pandas convert index to datetime\">stackoverflow.com/questions/40815238/&hellip;</a>"}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "reply_to_user": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "edited": false, "score": 0, "creation_date": 1521676208, "post_id": 49418248, "comment_id": 85838400, "body": "@W.Dodge I will give it a try. thanks a lot"}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "reply_to_user": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "edited": false, "score": 0, "creation_date": 1521676803, "post_id": 49418248, "comment_id": 85838562, "body": "@W.Dodge I set date column as index, but there are too many values that the x-axis looks like a dark line. I add the graph below"}, {"owner": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "edited": false, "score": 0, "creation_date": 1521676933, "post_id": 49418248, "comment_id": 85838600, "body": "you can run the text perpendicular to x axes for crowded axes. You can also set figure size to give more space. I&#39;m writing an answer that may help."}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "reply_to_user": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "edited": false, "score": 0, "creation_date": 1521677003, "post_id": 49418248, "comment_id": 85838619, "body": "@W.Dodge Thanks a lot for the help"}], "answers": [{"comments": [{"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 0, "creation_date": 1521675818, "post_id": 49418271, "comment_id": 85838285, "body": "Whilst this is the reason, you shouldn\u2019t answer typo questions. They should instead be closed and perhaps add a comment"}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521675995, "post_id": 49418271, "comment_id": 85838347, "body": "@A.Ben thanks i realize that silly error, but still I am getting error. AttributeError: &#39;DataFrame&#39; object has no attribute &#39;date&#39; . should I update this error in my question?"}, {"owner": {"reputation": 509, "user_id": 9429104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ee9c277e8be6810bd7dc0f739a9abb?s=128&d=identicon&r=PG&f=1", "display_name": "A.Ben", "link": "https://stackoverflow.com/users/9429104/a-ben"}, "edited": false, "score": 0, "creation_date": 1521676047, "post_id": 49418271, "comment_id": 85838365, "body": "Yes update it, We will try to resolve this problem instead of the typo one"}], "tags": [], "owner": {"reputation": 509, "user_id": 9429104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ee9c277e8be6810bd7dc0f739a9abb?s=128&d=identicon&r=PG&f=1", "display_name": "A.Ben", "link": "https://stackoverflow.com/users/9429104/a-ben"}, "is_accepted": false, "score": 3, "last_activity_date": 1522091100, "last_edit_date": 1522091100, "creation_date": 1521675688, "answer_id": 49418271, "question_id": 49418248, "link": "https://stackoverflow.com/questions/49418248/plot-x-axis-as-date-in-matplotlib/49418271#49418271", "title": "plot x-axis as date in matplotlib", "body": "<p>You missed a <strong>'</strong> line 12. It cause the SyntaxError.</p>\n\n<p>This should correct the error.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport datetime\nimport matplotlib.dates as mdates\n\ndf = pd.read_csv('rio_data.csv', delimiter=',')\nprint (df.head(10))\nd = []\nfor dat in df.date:\n    # print (dat)\n    d.append(datetime.strptime(df['date'], '%Y-%m-%d'))\ndays = dates.DayLocator()\ndatemin = datetime(2011, 1, 1)\ndatemax = datetime(2012, 4, 20) \nfig = plt.figure()\nax = fig.add_subplot(111)\nax.xaxis.set_major_locator(days)\nax.set_xlim(datemin, datemax)\nax.set_ylabel('Count values') \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521728669, "post_id": 49418672, "comment_id": 85863947, "body": "thanks, but there are around 400 dates. so the result is same. I am trying to draw the x-axis as date but with the intervals of months instead of day. otherwise it won&#39;t help me. ."}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521728796, "post_id": 49418672, "comment_id": 85864038, "body": "I tried your solution but the x-axis is still overpopulated with dates, as a result I am unable to show x-axis properly"}, {"owner": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "reply_to_user": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521732712, "post_id": 49418672, "comment_id": 85866973, "body": "@Rio my answer is a solution to your original question and should be treated as such. You need to ask another question now that deals with a crowded x axis. You essentially have two issues. The first was how to use time on an x axis and second is how to change axis ticks. The link at the bottom of my answers shows exactly how to do the latter in several methods. Cheers!"}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521734571, "post_id": 49418672, "comment_id": 85868356, "body": "thanks, I will accept this answer and will ask another question regarding populated x-axis. ."}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521740274, "post_id": 49418672, "comment_id": 85872016, "body": "Is it necessary to change date from object to string and then plot in x-axis as my date column in pandas is of type object, because I am trying but unable to do and I saw your link but couldn&#39;t understand it. ."}, {"owner": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "reply_to_user": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521742834, "post_id": 49418672, "comment_id": 85873577, "body": "No. You should be able to do this with a dateline object"}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521743625, "post_id": 49418672, "comment_id": 85874022, "body": "thanks.  Can you please give an example because I ask this as a new question cox I am new to matplotlib. I tried my best but didn&#39;t solve this issue."}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521743943, "post_id": 49418672, "comment_id": 85874185, "body": "if you had time and i didn&#39;t irritate you by continuously asking questions. you can give it a look and maybe guide me a bit. <a href=\"https://stackoverflow.com/questions/49433816/x-axis-in-matplotlib-is-over-croweded\" title=\"x axis in matplotlib is over croweded\">stackoverflow.com/questions/49433816/&hellip;</a>"}, {"owner": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "reply_to_user": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1521743956, "post_id": 49418672, "comment_id": 85874191, "body": "If you\u2019ve asked another question I\u2019ll find it and answer this evening when I have more time"}], "tags": [], "owner": {"reputation": 2737, "user_id": 7384740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H2BbL.png?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/7384740/dodge"}, "is_accepted": true, "score": 7, "last_activity_date": 1521679697, "last_edit_date": 1521679697, "creation_date": 1521678628, "answer_id": 49418672, "question_id": 49418248, "link": "https://stackoverflow.com/questions/49418248/plot-x-axis-as-date-in-matplotlib/49418672#49418672", "title": "plot x-axis as date in matplotlib", "body": "<h3>Set the index to the datetime series</h3>\n\n<p>If you set the index to the datetime series matplotlib will handle the x axis for you. Here is a minimal example of how you might deal with this visualization.</p>\n\n<h3>Simple example:</h3>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndate_time = [\"2011-09-01\", \"2011-08-01\", \"2011-07-01\", \"2011-06-01\", \"2011-05-01\"]\ndate_time = pd.to_datetime(date_time)\ntemp = [2, 4, 6, 4, 6]\n\nDF = pd.DataFrame()\nDF['temp'] = temp\nDF = DF.set_index(date_time)\n\nfig, ax = plt.subplots()\nfig.subplots_adjust(bottom=0.3)\nplt.xticks(rotation=90)\nplt.plot(DF)\n</code></pre>\n\n<h3>This will yield a plot that looks like the following:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/vKLKc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vKLKc.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Setting the index makes things easier</h3>\n\n<p>The important note is that setting the DataFrame index to the datetime series allows matplotlib to deal with x axis on time series data without much help.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12608788/changing-the-tick-frequency-on-x-or-y-axis-in-matplotlib/36229671#36229671\">Follow this link for detailed explanation on spacing axis ticks (specifically dates)</a></p>\n"}], "owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23202, "favorite_count": 0, "accepted_answer_id": 49418672, "answer_count": 2, "score": 4, "last_activity_date": 1522091100, "creation_date": 1521675559, "last_edit_date": 1521735697, "question_id": 49418248, "link": "https://stackoverflow.com/questions/49418248/plot-x-axis-as-date-in-matplotlib", "title": "plot x-axis as date in matplotlib", "body": "<p>I am trying to perform some analysis on data. I got csv file and I convert it into pandas dataframe. the data looks like this. Its has several columns, but I am trying to draw x-axis as date column. . </p>\n\n<p>the pandas dataframe looks like this </p>\n\n<pre><code>print (df.head(10)\n\n    cus-id        date       value_limit\n0   10173         2011-06-12        455\n1   95062         2011-09-11        455\n2   171081        2011-07-05        212\n3   122867        2011-08-18        123\n4   107186        2011-11-23        334\n5   171085        2011-09-02        376\n6   169767        2011-07-03        34\n7   80170         2011-03-23        34\n8   154178        2011-10-02        34\n9   3494          2011-01-01        34\n</code></pre>\n\n<p>I am trying to plot date data because there are multiple values for same date. for this purpose I am trying to plot x-asis ticks as date. since the minimum date in date column is 2011-01-01 and maximum date is 2012-04-20. </p>\n\n<p>I tried something like this</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport datetime\nimport matplotlib.dates as mdates\n\ndf = pd.read_csv('rio_data.csv', delimiter=',')\nprint (df.head(10))\nd = []\nfor dat in df.date:\n    # print (dat)\n    d.append(datetime.strptime(df['date'], '%Y-%m-%d'))\ndays = dates.DayLocator()\ndatemin = datetime(2011, 1, 1)\ndatemax = datetime(2012, 4, 20) \nfig = plt.figure()\nax = fig.add_subplot(111)\nax.xaxis.set_major_locator(days)\nax.set_xlim(datemin, datemax)\nax.set_ylabel('Count values')\n</code></pre>\n\n<p>But I am getting this error. </p>\n\n<pre><code> AttributeError: 'DataFrame' object has no attribute 'date'\n</code></pre>\n\n<p>I am trying to draw date as x-axis, it should look like this. <a href=\"https://i.stack.imgur.com/HE7h1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HE7h1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can someone help me to draw the x-axis as date column. I would be grateful. </p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 1985504, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c075f300b82bd7b8f6026e353c436e0e?s=128&d=identicon&r=PG", "display_name": "MPMullally", "link": "https://stackoverflow.com/users/1985504/mpmullally"}, "edited": false, "score": 0, "creation_date": 1521675893, "post_id": 49418299, "comment_id": 85838308, "body": "Does it need to have global or just have a value? Same for BlueScore?"}, {"owner": {"reputation": 26054, "user_id": 23896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d4dc630c582673cfd21f7c80c79ff7f?s=128&d=identicon&r=PG", "display_name": "matli", "link": "https://stackoverflow.com/users/23896/matli"}, "reply_to_user": {"reputation": 69, "user_id": 1985504, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c075f300b82bd7b8f6026e353c436e0e?s=128&d=identicon&r=PG", "display_name": "MPMullally", "link": "https://stackoverflow.com/users/1985504/mpmullally"}, "edited": false, "score": 0, "creation_date": 1521676009, "post_id": 49418299, "comment_id": 85838357, "body": "Yes, BlueScore also needs a value. The while-loop can&#39;t evaluate the expressions if RedScore and BlueScore doesn&#39;t have had any values assigned to them. You are already treating them as globals, so nothing more to do regarding that."}], "tags": [], "owner": {"reputation": 26054, "user_id": 23896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d4dc630c582673cfd21f7c80c79ff7f?s=128&d=identicon&r=PG", "display_name": "matli", "link": "https://stackoverflow.com/users/23896/matli"}, "is_accepted": true, "score": 0, "last_activity_date": 1521675832, "creation_date": 1521675832, "answer_id": 49418299, "question_id": 49418243, "link": "https://stackoverflow.com/questions/49418243/python-scoreboard-global-variable-noob/49418299#49418299", "title": "Python Scoreboard global variable noob", "body": "<p>Assign a value to RedScore before the while loop. E.g. </p>\n\n<pre><code>RedScore = 0\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 1985504, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c075f300b82bd7b8f6026e353c436e0e?s=128&d=identicon&r=PG", "display_name": "MPMullally", "link": "https://stackoverflow.com/users/1985504/mpmullally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 49418299, "answer_count": 1, "score": -2, "last_activity_date": 1521745197, "creation_date": 1521675514, "last_edit_date": 1521745197, "question_id": 49418243, "link": "https://stackoverflow.com/questions/49418243/python-scoreboard-global-variable-noob", "title": "Python Scoreboard global variable noob", "body": "<p>I am receiving an error that the variable RedScore is not defined. Originally I created this using a keyboard for raw_input and have everything working, that is until I tried to include momentary switches to control everything. </p>\n\n<p>The error I am receiving is around the while statement at the end. that does not necessarily mean the rest of the program is working. I just know there is an error down there. </p>\n\n<p>Can someone find my noob mistake? </p>\n\n<pre><code>import RPi.GPIO as GPIO\nimport time\nfrom time import sleep\nimport Adafruit_CharLCD as LCD\n\n# Raspberry Pi configuration:\nlcd_rs = 27  # Change this to pin 21 on older revision Raspberry Pi's\nlcd_en = 22\nlcd_d4 = 25\nlcd_d5 = 24\nlcd_d6 = 23\nlcd_d7 = 18\nlcd_red   = 4\nlcd_green = 17\nlcd_blue  = 7  # Pin 7 is CE1\n\n# Define LCD column and row size for 16x2 LCD.\nlcd_columns = 16\nlcd_rows    = 2\n\n# Initialize the LCD using the pins above.\nlcd = LCD.Adafruit_RGBCharLCD(lcd_rs, lcd_en, lcd_d4, lcd_d5, lcd_d6, \nlcd_d7, lcd_columns, lcd_rows, lcd_red, lcd_green, lcd_blue)\n\nlcd.clear()\nlcd.set_color(0.0,0.0,0.0)\n\nGPIO.setmode(GPIO.BCM)\n\nbluebutton = 5\nblueresetbutton = 6\nresetbutton = 13\nredresetbutton = 19\nredbutton = 26\n\nglobal BlueScore\nglobal RedScore\n\nGPIO.setup(bluebutton, GPIO.IN, pull_up_down=GPIO.PUD_UP)\nGPIO.setup(blueresetbutton, GPIO.IN, pull_up_down=GPIO.PUD_UP)\nGPIO.setup(resetbutton, GPIO.IN, pull_up_down=GPIO.PUD_UP)\nGPIO.setup(redresetbutton, GPIO.IN, pull_up_down=GPIO.PUD_UP)\nGPIO.setup(redbutton, GPIO.IN, pull_up_down=GPIO.PUD_UP)\n\ndef bluebutton(channel):\n    global BlueScore\n    BlueScore = BlueScore + 1\n    lcd.clear()\n    lcd.set_color(1.0, 0.0, 0.0)\n    lcd.message('Red: '+str(RedScore)+'  Blue:'+str(BlueScore))\n\ndef blueresetbutton(channel):\n    global BlueScore\n    BlueScore = 11\n    lcd.clear()\n    lcd.set_color(1.0, 0.0, 0.0)\n    lcd.message('Red: '+str(RedScore)+'  Blue:'+str(BlueScore))\n\ndef resetbutton(channel):\n    global RedScore\n    global BlueScore\n    RedScore = BlueScore = 0\n    lcd.clear()\n    lcd.set_color(1.0, 1.0, 0.0)\n    lcd.message('NEW GAME!!!\\nRed: '+str(RedScore)+'Blue:'+str(BlueScore))\n\ndef redresetbutton(channel):\n    global RedScore\n    RedScore = 11\n    lcd.clear()\n    lcd.set_color(1.0, 0.0, 0.0)\n    lcd.message('Red: '+str(RedScore)+'  Blue:'+str(BlueScore))\n\ndef redbutton(channel):\n    global RedScore\n    RedScore = Redscore + 1\n    lcd.clear()\n    lcd.set_color(1.0, 0.0, 0.0)\n    lcd.message('Red: '+str(RedScore)+'  Blue:'+str(BlueScore))\n\nGPIO.add_event_detect(5, GPIO.FALLING, callback=bluebutton, bouncetime=300)\nGPIO.add_event_detect(6, GPIO.FALLING, callback=blueresetbutton, bouncetime=300)\nGPIO.add_event_detect(13, GPIO.FALLING, callback=resetbutton, bouncetime=300)\nGPIO.add_event_detect(19, GPIO.FALLING, callback=redresetbutton, bouncetime=300)\nGPIO.add_event_detect(26, GPIO.FALLING, callback=redbutton, bouncetime=300)\n\nwhile RedScore &lt;= 21 and BlueScore &lt;= 21:\n    if RedScore == 21:\n        lcd.clear()\n        lcd.set_color(1.0, 0.0, 0.0)\n        lcd.message('RED WINS!!!')\n        sleep(2)\n        RedScore = BlueScore = 0\n        lcd.clear()\n        lcd.set_color(1.0, 1.0, 0.0)\n        lcd.message('NEW GAME!!!\\nRed: '+str(RedScore)+'  Blue:'+str(BlueScore))\n        continue\n    elif BlueScore == 21:\n        lcd.clear()\n        lcd.set_color(0.0, 0.0, 1.0)\n        lcd.message('BLUE WINS!!!')\n        sleep(2)\n        BlueScore = RedScore = 0\n        lcd.clear()\n        lcd.set_color(1.0, 1.0, 0.0)\n        lcd.message('NEW GAME!!!\\nRed: '+str(RedScore)+'  Blue:'+str(BlueScore))\n        continue\n    else:\n        sleep(1)\n</code></pre>\n"}, {"tags": ["python", "json", "elasticsearch", "indexing"], "comments": [{"owner": {"reputation": 5728, "user_id": 7907591, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/0vpof.jpg?s=128&g=1", "display_name": "Morse", "link": "https://stackoverflow.com/users/7907591/morse"}, "edited": false, "score": 0, "creation_date": 1521680680, "post_id": 49418234, "comment_id": 85839401, "body": "method name is <code>load_json&#39; or </code>load` . You have 2 different in the question"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 9351708, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZH6rG.jpg?s=128&g=1", "display_name": "AaySquare", "link": "https://stackoverflow.com/users/9351708/aaysquare"}, "edited": false, "score": 0, "creation_date": 1521676548, "post_id": 49418268, "comment_id": 85838486, "body": "Sorry, I am not sure if I understand. Do you mean <code>sys.argv[1]</code> argument I am passing in load?"}], "tags": [], "owner": {"reputation": 1315, "user_id": 812906, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/uy9sl.jpg?s=128&g=1", "display_name": "Dragonborn", "link": "https://stackoverflow.com/users/812906/dragonborn"}, "is_accepted": false, "score": 1, "last_activity_date": 1521675679, "creation_date": 1521675679, "answer_id": 49418268, "question_id": 49418234, "link": "https://stackoverflow.com/questions/49418234/how-do-i-index-json-format-files-using-elasticsearch-in-python/49418268#49418268", "title": "How do I index JSON format files using Elasticsearch in Python?", "body": "<p>The only issue I can see with is the arguments you are passing to the python code.</p>\n"}], "owner": {"reputation": 81, "user_id": 9351708, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZH6rG.jpg?s=128&g=1", "display_name": "AaySquare", "link": "https://stackoverflow.com/users/9351708/aaysquare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521675718, "creation_date": 1521675485, "last_edit_date": 1521675718, "question_id": 49418234, "link": "https://stackoverflow.com/questions/49418234/how-do-i-index-json-format-files-using-elasticsearch-in-python", "title": "How do I index JSON format files using Elasticsearch in Python?", "body": "<p>Quite new to Elasticsearch and I am trying to read in <code>.json</code> file and trying to index the file. So far I have this but I am kind of unsure on how to proceed from here:</p>\n\n<pre><code>from elasticsearch import Elasticsearch, helpers\nimport json, sys\n\nes = Elasticsearch()\n\ndef load(filename):\n    if filename.endswith('.json'):\n        with open(filename, 'r') as open_file:\n            yield json.load(open_file)\n\nhelpers.bulk(es, load(sys.argv[1]), index='my-index', doc_type='my-type')\n</code></pre>\n\n<p>When I run this, I get error: <code>helpers.bulk(es, load_json(sys.argv[1]), index='my-index', doc_type='my-type')\nIndexError: list index out of range</code></p>\n"}, {"tags": ["python", "global", "local"], "comments": [{"owner": {"reputation": 1959, "user_id": 1209416, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05665133126ce60cf61dd94870f83364?s=128&d=identicon&r=PG", "display_name": "SiddharthaRT", "link": "https://stackoverflow.com/users/1209416/siddharthart"}, "edited": false, "score": 0, "creation_date": 1521676280, "post_id": 49418227, "comment_id": 85838420, "body": "Did you declare <code>data</code> before the function definition anywhere? By the way the error <code>UnboundLocalError: local variable &#39;data&#39; referenced before assignment</code> shouldn&#39;t have come up with the code you have. Can you tell which line was the error pointing to? better yet, can you post the entire error stack trace?"}, {"owner": {"reputation": 157, "user_id": 9420826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/33ea51bf7e427bc99812cc069b166ac1?s=128&d=identicon&r=PG&f=1", "display_name": "Karma", "link": "https://stackoverflow.com/users/9420826/karma"}, "reply_to_user": {"reputation": 1959, "user_id": 1209416, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05665133126ce60cf61dd94870f83364?s=128&d=identicon&r=PG", "display_name": "SiddharthaRT", "link": "https://stackoverflow.com/users/1209416/siddharthart"}, "edited": false, "score": 0, "creation_date": 1521676763, "post_id": 49418227, "comment_id": 85838541, "body": "@SiddharthaRT It points to the data variable in {&#39;Column&#39;:data}. I was playing around and the error stack doesn&#39;t show up anymore. But it just hits <code>except</code> directly"}, {"owner": {"reputation": 157, "user_id": 9420826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/33ea51bf7e427bc99812cc069b166ac1?s=128&d=identicon&r=PG&f=1", "display_name": "Karma", "link": "https://stackoverflow.com/users/9420826/karma"}, "reply_to_user": {"reputation": 1959, "user_id": 1209416, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05665133126ce60cf61dd94870f83364?s=128&d=identicon&r=PG", "display_name": "SiddharthaRT", "link": "https://stackoverflow.com/users/1209416/siddharthart"}, "edited": false, "score": 0, "creation_date": 1521677026, "post_id": 49418227, "comment_id": 85838624, "body": "@SiddharthaRT I declared it inside the 1st <code>try</code>, nowhere else"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 9420826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/33ea51bf7e427bc99812cc069b166ac1?s=128&d=identicon&r=PG&f=1", "display_name": "Karma", "link": "https://stackoverflow.com/users/9420826/karma"}, "edited": false, "score": 0, "creation_date": 1521679123, "post_id": 49418662, "comment_id": 85839082, "body": "It works fine except when <code>data</code> couldn&#39;t fetch any data, and it hits the first <code>except: pass</code> because it cannot write row."}], "tags": [], "owner": {"reputation": 13, "user_id": 9531581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abdf1c9be1cdb929b7d7bf1299afa59e?s=128&d=identicon&r=PG&f=1", "display_name": "zgallien", "link": "https://stackoverflow.com/users/9531581/zgallien"}, "is_accepted": false, "score": 0, "last_activity_date": 1521678565, "creation_date": 1521678565, "answer_id": 49418662, "question_id": 49418227, "link": "https://stackoverflow.com/questions/49418227/unboundlocalerror-local-variable-data-referenced-before-assignment/49418662#49418662", "title": "UnboundLocalError: local variable &#39;data&#39; referenced before assignment", "body": "<p>The 'UnboundLocalError: local variable 'data' referenced before assignment' error indicates that 'data' has not been assigned when it is being called in Line 9 of your code. Either 'data' is defined outside of the get_data() function, or the initial try-block in which 'data' is defined is not being called.</p>\n\n<p>I was able to get this code to run as expected -- double-check that your code is indented correctly and that there are no other formatting errors.</p>\n\n<p>The following code functions as expected:</p>\n\n<pre><code>def get_data():\n    try:\n        source = someURL\n        data = requests.get(source)\n\n        try:\n            with open('data_file.csv', 'a') as file:\n                writer = csv.DictWriter(file, fieldnames=['Column'])\n                writer.writerow({'Column':data})\n        except:\n            pass\n    except:\n        pass\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 9420826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/33ea51bf7e427bc99812cc069b166ac1?s=128&d=identicon&r=PG&f=1", "display_name": "Karma", "link": "https://stackoverflow.com/users/9420826/karma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2500, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521678964, "creation_date": 1521675406, "last_edit_date": 1521678964, "question_id": 49418227, "link": "https://stackoverflow.com/questions/49418227/unboundlocalerror-local-variable-data-referenced-before-assignment", "title": "UnboundLocalError: local variable &#39;data&#39; referenced before assignment", "body": "<p>I got a local error at first, and when I applied <code>global</code> to my code, I got a syntax error.</p>\n\n<pre><code>def get_data():\n  try:\n    source = someURL\n    data = requests.get(source)\n\n    try:\n      with open('data_file.csv', 'a') as file:\n        writer = csv.DictWriter(file, fieldnames=['Column'])\n        writer.writerow({'Column':data})\n    except:\n      pass\n  except:\n    pass\n</code></pre>\n\n<p>First, I got an error of <code>UnboundLocalError: local variable 'data' referenced before assignment</code>, then I added <code>global data</code> above the 2nd <code>try</code>. And now I got <code>SyntaxError: name 'data' is assigned to before global declaration</code></p>\n\n<p>I tried to solve it by applying other people's solutions but with no luck. How would you fix it? Thanks.</p>\n\n<p><strong>Update:</strong> <code>data</code> may have issue getting the value. When there's no value, an error will occur on the <code>writerow</code> line. But if I added <code>except: None</code> after the first try for the intention of returning None instead, as shown below:</p>\n\n<pre><code>def get_data():\n  try:\n    source = someURL\n    data = requests.get(source)\n  except:\n    None\n</code></pre>\n\n<p>It will generate a local variable error: <code>local variable 'data' referenced before assignment</code>. And the only way I have to do is to define <code>data</code> as <code>global</code>. I'm confused if I'm even on the right path. Or should there be any way to do rather than using <code>except: None</code>? Thanks.</p>\n"}, {"tags": ["python", "python-3.x", "selenium-webdriver"], "comments": [{"owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "edited": false, "score": 0, "creation_date": 1521675291, "post_id": 49418185, "comment_id": 85838122, "body": "Take <code>&#39;http:&#47;&#47;www.supremenewyork.com&#47;shop&#47;all&#47;pants&#39;</code> out maybe? And replace it with the path of Chromedriver?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8589020"}, "reply_to_user": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "edited": false, "score": 0, "creation_date": 1521675450, "post_id": 49418185, "comment_id": 85838155, "body": "Oops now it says   Read above"}], "answers": [{"comments": [{"owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "edited": false, "score": 1, "creation_date": 1521675710, "post_id": 49418272, "comment_id": 85838248, "body": "Just about to post this :)"}, {"owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "edited": false, "score": 0, "creation_date": 1521676013, "post_id": 49418272, "comment_id": 85838360, "body": "Wait for the hollow checkmark after around 10 mins, and then click it."}], "tags": [], "owner": {"reputation": 66, "user_id": 7407656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-REdI_d5--IU/AAAAAAAAAAI/AAAAAAAAIV4/BUjyInqIVJg/photo.jpg?sz=128", "display_name": "dcluo", "link": "https://stackoverflow.com/users/7407656/dcluo"}, "is_accepted": true, "score": 2, "last_activity_date": 1521675691, "creation_date": 1521675691, "answer_id": 49418272, "question_id": 49418185, "link": "https://stackoverflow.com/questions/49418185/python-terminal-keep-closing-was-working-earlier/49418272#49418272", "title": "Python Terminal Keep closing, was working earlier", "body": "<pre><code>driver = webdriver.Chrome(executable_path=r\"&lt;your path&gt;\\chromedriver.exe\")\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8589020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 49418272, "answer_count": 1, "score": 1, "last_activity_date": 1521675691, "creation_date": 1521675154, "last_edit_date": 1521675476, "question_id": 49418185, "link": "https://stackoverflow.com/questions/49418185/python-terminal-keep-closing-was-working-earlier", "title": "Python Terminal Keep closing, was working earlier", "body": "<p>I coded this snippet below in python was working great I restarted my PC and now it instant closes the window no matter what I put! I would really need some help!</p>\n\n<pre><code>from selenium import webdriver\n\nbrowser = webdriver.Chrome('C:\\Users\\Jimmy\\Downloads\\chromedriver.exe')\n\nbrowser.get('http://www.supremenewyork.com/shop/all')\n\nelem = browser.find_element_by_link_text('mustard')\n\nk=input(\"press close to exit\") \n</code></pre>\n\n<p>It says <code>File \"C:/Users/Jimmy/PycharmProjects/untitled/venv/test.py\", line 3\n    browser = webdriver.Chrome('C:\\Users\\Jimmy\\Downloads\\chromedriver.exe')\n                              ^\nSyntaxError: (unicode error) 'unicodeescape' codec can't decode bytes in position 2-3: truncated \\UXXXXXXXX escape</code></p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1521675618, "post_id": 49418175, "comment_id": 85838218, "body": "Have you tried it? According to the <a href=\"https://docs.djangoproject.com/en/2.0/ref/class-based-views/mixins-editing/#django.views.generic.edit.ModelFormMixin.get_form_kwargs\" rel=\"nofollow noreferrer\">documentation</a>, the <code>ModelFormMixin</code>&#39;s <code>get_form_kwargs</code> adds <code>self.object</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 1, "creation_date": 1521676748, "post_id": 49418352, "comment_id": 85838533, "body": "You can probably just do <code>self.instance.package_set</code>."}], "tags": [], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "is_accepted": true, "score": 1, "last_activity_date": 1521676217, "creation_date": 1521676217, "answer_id": 49418352, "question_id": 49418175, "link": "https://stackoverflow.com/questions/49418175/how-to-refer-to-the-current-object-in-a-django-modelform/49418352#49418352", "title": "How to refer to the current object in a Django ModelForm?", "body": "<p>I managed to do this by updating the field in the <code>ModelForm's</code> <code>__init__()</code> as follows:</p>\n\n<pre><code>def __init__(self, *args, **kwargs):\n    super().__init__(*args, **kwargs)\n    self.fields['default_package'].queryset = Package.objects.filter(company=self.instance)\n</code></pre>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1167, "favorite_count": 0, "accepted_answer_id": 49418352, "answer_count": 1, "score": 0, "last_activity_date": 1521676217, "creation_date": 1521675089, "question_id": 49418175, "link": "https://stackoverflow.com/questions/49418175/how-to-refer-to-the-current-object-in-a-django-modelform", "title": "How to refer to the current object in a Django ModelForm?", "body": "<p>I have two related models, <code>Company</code> and <code>Package</code>. Each company can have several packages, but only one <code>default_package</code>. Here are the models:</p>\n\n<pre><code>class Company(models.Model):\n    default_package = models.OneToOneField(\n        Package,\n        blank=True,\n        null=True,\n        related_name='default_for_%(class)s')\n</code></pre>\n\n<p>and for <code>Package</code>,</p>\n\n<pre><code>class Package(TimeStampedModel):\n    company = models.ForeignKey('lucy_web.Company')\n</code></pre>\n\n<p>I'm trying to make a generic <code>CreateView</code> and <code>UpdateView</code> for the company as follows:</p>\n\n<pre><code>class EditViewsMixin(DashboardAccessMixin, SuccessMessageMixin):\n    model = Company\n    success_url = reverse_lazy('dashboard:companies')\n    form_class = CompanyForm\n\n\nclass CompanyCreate(EditViewsMixin, CreateView):\n    template_name = 'companies/new.html'\n    success_message = \"Company '%(name)s' was created successfully\"\n\n\nclass CompanyUpdate(EditViewsMixin, UpdateView):\n    template_name = 'companies/edit.html'\n    success_message = \"Company '%(name)s' was updated successfully\"\n\n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['packages'] = self.object.package_set.order_by('name')\n        return context\n</code></pre>\n\n<p>The <code>CompanyForm</code> is similar to the following:</p>\n\n<pre><code>class CompanyForm(forms.ModelForm):\n    class Meta:\n        model = Company\n        fields = [\n            'name',\n            'default_package',\n        ]\n</code></pre>\n\n<p>The problem is that in this form, the <code>default_package</code> drop-down menu shows all packages, whereas I would like it to the packages in the <code>package_set</code> of the company under consideration, similar to what is done by referring to <code>self.object</code> in the view's <code>get_context_data</code> method.</p>\n\n<p>In essence, I'd like to do something like this in the <code>CompanyForm</code>:</p>\n\n<pre><code>default_package = forms.ModelChoiceField(\n    queryset=Package.objects.filter(company=self.instance)\n)\n</code></pre>\n\n<p>However, this is not possible because <code>self</code> is not defined at this level. Is there some kind of method of the <code>ModelForm</code> like <code>get_queryset</code> for a specific field, in which I can define the queryset using <code>self.instance</code>?</p>\n"}, {"tags": ["python", "performance", "typing", "dynamic-typing"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 8, "creation_date": 1521674926, "post_id": 49418144, "comment_id": 85838013, "body": "This is not the way to time execution at all. You should look into <code>timeit</code> etc. Anything could have been happening on your system during execution to affect resources."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1521675132, "post_id": 49418144, "comment_id": 85838079, "body": "Python 2 or Python 3? This doesn&#39;t sound like it has anything to do with explicitly calling <code>int</code>; this sounds like you&#39;re looking at a confounding factor, like the allocation involved in <code>range(repeat)</code> on Python 2."}], "answers": [{"tags": [], "owner": {"reputation": 1319, "user_id": 8380906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c278ef22827b8a19202340d9cafbd04?s=128&d=identicon&r=PG&f=1", "display_name": "KarlR", "link": "https://stackoverflow.com/users/8380906/karlr"}, "is_accepted": false, "score": 1, "last_activity_date": 1521675305, "creation_date": 1521675305, "answer_id": 49418210, "question_id": 49418144, "link": "https://stackoverflow.com/questions/49418144/why-python-works-faster-when-declaring-integer-variable-with-int/49418210#49418210", "title": "Why Python works faster when declaring integer variable with int()?", "body": "<p>I am not able to reproduce on linux.\nMark that: </p>\n\n<p>\u2022 real: The actual time spent in running the process from start to finish, as if it was measured by a human with a stopwatch</p>\n\n<p>\u2022 user: The cumulative time spent by all the CPUs during the computation</p>\n\n<p>\u2022 sys: The cumulative time spent by all the CPUs during system-related tasks such as memory allocation.</p>\n\n<pre><code>\u2192 time python type.py\n\nreal    0m0.219s\nuser    0m0.000s\nsys     0m0.000s\n\n\u2192 time python without_type.py\n\nreal    0m0.133s\nuser    0m0.000s\nsys     0m0.000s\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521676878, "post_id": 49418215, "comment_id": 85838577, "body": "No. The <code>x=0</code> is using a pre-built constant; the <code>y=int(0)</code> is using the same constant, and then looking up a global and calling it. There&#39;s no reuse there. And besides, allocating memory for a single int is nothing. The problem is the million-item list returned by <code>range</code>. It takes a while to build, but it takes even longer to allocate and build. The difference is that the first time, it has to allocate; the second time, there&#39;s memory lying around from the list created and then collected before."}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": -1, "last_activity_date": 1521675330, "creation_date": 1521675330, "answer_id": 49418215, "question_id": 49418144, "link": "https://stackoverflow.com/questions/49418144/why-python-works-faster-when-declaring-integer-variable-with-int/49418215#49418215", "title": "Why Python works faster when declaring integer variable with int()?", "body": "<p>This is happening because python caches and reuses some immutable built-in objects, even if they're \"stored\" as different variables</p>\n\n<pre><code>&gt;&gt;&gt; a = 1\n&gt;&gt;&gt; id(a)\n56188528L\n&gt;&gt;&gt; b = int(1)\n&gt;&gt;&gt; id(b)\n56188528L\n</code></pre>\n\n<p>Python didn't have to allocate any memory or instantiate a new object for the second variable.  It's just reusing the immutable integer object that had already been created.</p>\n\n<p>If you had put your timing tests in different files and ran them separately, or if you had ran the <code>int(1)</code> test first, you would have seen different results.</p>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521675491, "post_id": 49418230, "comment_id": 85838167, "body": "Thanks, I think you&#39;ve hit upon OP&#39;s problem to a tee."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521675516, "post_id": 49418230, "comment_id": 85838175, "body": "Maybe suggest how to fix it with <code>xrange</code>?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521675570, "post_id": 49418230, "comment_id": 85838195, "body": "This would also explain why proper <code>timeit</code> can&#39;t repro the problem\u2014each time through the <code>timeit</code> loop but the first is reusing memory out of the obheap freelist."}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1521675695, "post_id": 49418230, "comment_id": 85838243, "body": "Assuming OP&#39;s results are repeatable (which may or may not be the case), then this should be easily verified by reversing the order of the tests. Also, OP could simply assign the <code>range(repeat)</code> to a variable outside of all timing and use that instead."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521675924, "post_id": 49418230, "comment_id": 85838325, "body": "@abarnert: <code>xrange</code> added."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 6, "last_activity_date": 1521675733, "last_edit_date": 1521675733, "creation_date": 1521675450, "answer_id": 49418230, "question_id": 49418144, "link": "https://stackoverflow.com/questions/49418144/why-python-works-faster-when-declaring-integer-variable-with-int/49418230#49418230", "title": "Why Python works faster when declaring integer variable with int()?", "body": "<p>From the precision on the floats in your <code>str.format</code> output (12 significant digits), we can see that you're probably on Python 2.</p>\n\n<p>Python 2 creates an explicit list of a million ints when you run <code>range(repeat)</code>, which is slow. It also keeps the memory for all of those ints, so <code>range(repeat)</code> is less slow the second time. This is most likely the source of the timing difference, not anything to do with calling <code>int</code>.</p>\n\n<p>On Python 2, it is almost always better to use <code>xrange</code> instead of <code>range</code>. <code>xrange</code> generates ints on demand, avoiding the cost in memory and allocation time of generating a whole list up front:</p>\n\n<pre><code>for i in xrange(repeat):\n    do_stuff()\n</code></pre>\n"}], "owner": {"reputation": 64, "user_id": 5712141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3c63dab03dc566df51ea07a38d6adf3?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo Sutter", "link": "https://stackoverflow.com/users/5712141/gustavo-sutter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "accepted_answer_id": 49418230, "answer_count": 3, "score": 0, "last_activity_date": 1521675733, "creation_date": 1521674847, "question_id": 49418144, "link": "https://stackoverflow.com/questions/49418144/why-python-works-faster-when-declaring-integer-variable-with-int", "title": "Why Python works faster when declaring integer variable with int()?", "body": "<p>While programming a algorithm that makes use of only using integer arithmetic I notice that Python wasn't taking advantage of it.</p>\n\n<p>So I tried the following code to see the \"explicitly\" declaration effect</p>\n\n<pre><code>import time\n\nrepeat = 1000000\n\nstart = time.time()\nx = 0\nfor i in range(repeat):\n    x += 1\nno_type_time = time.time() - start\n\nstart = time.time()\ny = int(0)\nfor i in range(repeat):\n    y += 1\nint_time = time.time() - start\n\nprint('{} - No type'.format(no_type_time))\nprint('{} - Int'.format(int_time))\n</code></pre>\n\n<p>The code output was the following:</p>\n\n<pre><code>0.0692429542542 - No type\n0.0545210838318 - Int\n</code></pre>\n\n<p>I assume it has something to do with Python being a dynamic typed language. But when I try to find out the type of the variables, using type(x) and type(y) both output int. Which is curious, because I also ran some tests using x = float(0) and the result is very close to the one with no type \"declaration\".</p>\n\n<p>I'd like to know why it happens and if possible to get some reference from Python documentation explaining it.</p>\n"}, {"tags": ["python", "integration", "scilab"], "comments": [{"owner": {"reputation": 1959, "user_id": 1209416, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05665133126ce60cf61dd94870f83364?s=128&d=identicon&r=PG", "display_name": "SiddharthaRT", "link": "https://stackoverflow.com/users/1209416/siddharthart"}, "edited": false, "score": 0, "creation_date": 1521675988, "post_id": 49418059, "comment_id": 85838345, "body": "A hint is in <code>ctypes.CDLL(os.path.join(basepath, &#39;core&#39;, &#39;libmmd.dll&#39;))</code> - it probably needs a library that provides <code>libmmd.dll</code>"}], "owner": {"reputation": 11, "user_id": 9531541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/047f97ec56c38ae13736ebfca317db8e?s=128&d=identicon&r=PG&f=1", "display_name": "t.d.67", "link": "https://stackoverflow.com/users/9531541/t-d-67"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521677443, "creation_date": 1521674329, "question_id": 49418059, "link": "https://stackoverflow.com/questions/49418059/python-scilab-bridge-scilab2py-error", "title": "Python/Scilab bridge: scilab2py error", "body": "<p>I'm a newbie to Python but have experience in MATLAB/Scilab. I'm creating a mathematical model in Scilab, but the input data is generated from a Python (2.7) code. As a result, I'm trying to make use of the Python module scilab2py (see <a href=\"http://blink1073.github.io/scilab2py/source/installation.html\" rel=\"nofollow noreferrer\">http://blink1073.github.io/scilab2py/source/installation.html</a>) in order to run Scilab from inside Python to allow the process to be much simpler.</p>\n\n<p>I installed all the required Python modules for scilab2py (i.e. Scipy, Numpy) and have Scilab installed in my PATH, so I installed scilab2py using </p>\n\n<pre><code>pip install scilab2py\n</code></pre>\n\n<p>which it says was successful. However, if I enter Python and try</p>\n\n<pre><code>import scilab2py\n</code></pre>\n\n<p>I am met with the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;pyshell#1&gt;\", line 1, in &lt;module&gt;\n    import scilab2py\n  File \"C:\\Python27\\lib\\site-packages\\scilab2py\\__init__.py\", line 46, in &lt;module&gt;\n    lib1 = ctypes.CDLL(os.path.join(basepath, 'core', 'libmmd.dll'))\n  File \"C:\\Python27\\lib\\ctypes\\__init__.py\", line 366, in __init__\n    self._handle = _dlopen(self._name, mode)\nWindowsError: [Error 126] The specified module could not be found\n</code></pre>\n\n<p>Does anyone know how to fix this error? Or perhaps know where I am going wrong with implementation?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "subprocess"], "answers": [{"tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": true, "score": 1, "last_activity_date": 1521674701, "creation_date": 1521674701, "answer_id": 49418124, "question_id": 49418049, "link": "https://stackoverflow.com/questions/49418049/copy-lines-between-two-specific-strings-using-python-when-subprocess-is-involved/49418124#49418124", "title": "Copy lines between two specific strings using Python when subprocess is involved", "body": "<p>The <code>Popen</code> constructor starts a process, but it doesn't wait for it to finish before returning.  It's likely that you're trying to read and write to the two files before the perl script is finished writing to them.</p>\n\n<p>You can wait for the perl script to finish by calling <code>wait()</code></p>\n\n<pre><code>process = subprocess.Popen(...)\nprocess.wait()\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 2052681, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/d24090495cd4592a9493725bf758b42e?s=128&d=identicon&r=PG", "display_name": "sanforyou", "link": "https://stackoverflow.com/users/2052681/sanforyou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 49418124, "answer_count": 1, "score": 0, "last_activity_date": 1521674739, "creation_date": 1521674300, "last_edit_date": 1521674739, "question_id": 49418049, "link": "https://stackoverflow.com/questions/49418049/copy-lines-between-two-specific-strings-using-python-when-subprocess-is-involved", "title": "Copy lines between two specific strings using Python when subprocess is involved", "body": "<p>I  want to append specific lines of code (code between two specific lines) from file1.v into file2.sv</p>\n\n<p>I'm trying to run external perl script from python with the help of subprocess module. This external perl script creates \"file2.sv\" for me. file1.v is already in existence. </p>\n\n<p>My issue is file2.sv is created by perl script successfully however code I'm trying to append lines to file2.sv from file1.v is not working</p>\n\n<p>Here is the code:</p>\n\n<pre><code>pipe = subprocess.Popen(\n    [\"Verilog.pl\", \"file1.v\", \"file2.sv\", \"0\", \"SystemVerilog\", \"SV\",\"0\"], stdin=subprocess.PIPE)\n\nwith open(\"file1.v\",\"r\") as rf_VamsModel, open(\"file2.sv\", \"a\") as wf_sytemVerilogFile:\n    copy = False\n    for line in rf_VamsModel:\n        if line.strip() == \"//Start of functional specification here\":\n            copy = True\n        elif line.strip() == \"//End of functional specification here\":\n            copy = False\n        elif copy:\n            print(\"line test2={}\".format(line))\n            wf_sytemVerilogFile.write(line)\n</code></pre>\n\n<p>Is it because subprocess.Popen and file append processes are executing in parallel?</p>\n"}, {"tags": ["python", "recursion"], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 0, "last_activity_date": 1559170594, "last_edit_date": 1559170594, "creation_date": 1521674822, "answer_id": 49418142, "question_id": 49417987, "link": "https://stackoverflow.com/questions/49417987/draw-an-arrow-pattern-using-recursion/49418142#49418142", "title": "Draw an arrow pattern using recursion", "body": "<p>No, even when recursing, you'll need two variables (one to keep track of the current count, and another to keep track of the size).</p>\n\n<p>You can get cute and use an inner function.</p>\n\n<pre><code>def arrow(n):\n   def _arrow(k, n):\n       print('*' * (n - k + 1))\n       if k &gt; 1:\n           _arrow(k - 1, n)\n           print('*' * (n - k + 1))\n   _arrow(n, n)\n</code></pre>\n\n<p></p>\n\n<pre><code>arrow(4)\n# *\n# **\n# ***\n# ****\n# ***\n# **\n# *\n</code></pre>\n\n<p>It's essentially the more unreadable equivalent of loops, but hey, that's the nature of exam questions.</p>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1521675563, "creation_date": 1521675563, "answer_id": 49418250, "question_id": 49417987, "link": "https://stackoverflow.com/questions/49417987/draw-an-arrow-pattern-using-recursion/49418250#49418250", "title": "Draw an arrow pattern using recursion", "body": "<p>The recursion is in the helper functions, rather than <code>arrow</code>, but it's still single-parameter recursion in each case.</p>\n\n<pre><code>def arrow_top(n):\n    if n &gt; 0:\n        arrow_top(n-1)\n        print('*' * n)\n\ndef arrow_bot(n):\n    if n &gt; 0:\n        print('*' * n)\n        arrow_bot(n-1)\n\ndef arrow(n):\n    arrow_top(n)\n    arrow_bot(n-1)\n\narrow(4)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>*\n**\n***\n****\n***\n**\n*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "is_accepted": false, "score": -1, "last_activity_date": 1521678217, "last_edit_date": 1521678217, "creation_date": 1521675770, "answer_id": 49418285, "question_id": 49417987, "link": "https://stackoverflow.com/questions/49417987/draw-an-arrow-pattern-using-recursion/49418285#49418285", "title": "Draw an arrow pattern using recursion", "body": "<p>This works by setting a global to remember where to iterate to:</p>\n\n<pre><code>def arrow(n):\n    # remember max, but only once\n    global top\n    try:\n        top\n    except NameError:\n        top = n\n        n = 1\n\n    if n &lt; top:\n        print(n * '*')\n        arrow(n + 1)\n        print(n * '*')\n    elif n == top:\n        print(n * '*')\n\narrow(4)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9209686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8944fcdd5d934680f08cb125f27369c7?s=128&d=identicon&r=PG&f=1", "display_name": "T&#233;rence C", "link": "https://stackoverflow.com/users/9209686/t%c3%a9rence-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1559170594, "creation_date": 1521673932, "last_edit_date": 1521691608, "question_id": 49417987, "link": "https://stackoverflow.com/questions/49417987/draw-an-arrow-pattern-using-recursion", "title": "Draw an arrow pattern using recursion", "body": "<p>I have to write a recursive function (we'll call it <code>arrow(n)</code>) which draws an arrow that works like this:</p>\n\n<pre><code>arrow(4)\n</code></pre>\n\n<p>Printed output :</p>\n\n<pre><code>*\n**\n***\n****\n***\n**\n*\n</code></pre>\n\n<p>where <code>arrow</code> can only take one parameter like shown above.</p>\n\n<p>Is it possible only by using one parameter with recursion? I'm curious because it was a test question and I can't find any solution.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "regex", "python-2.7", "ip-address", "snmp"], "comments": [{"owner": {"reputation": 79, "user_id": 6480498, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/360279420844809/picture?type=large", "display_name": "Damon", "link": "https://stackoverflow.com/users/6480498/damon"}, "reply_to_user": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 0, "creation_date": 1521675632, "post_id": 49417978, "comment_id": 85838223, "body": "@Brad Solomon, I don&#39;t think I can for second question but for first, I looked at the documentation and found something useful.  See my Edit"}], "answers": [{"tags": [], "owner": {"reputation": 21613, "user_id": 580346, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ba17945a06aac247b06548d5afe341e8?s=128&d=identicon&r=PG", "display_name": "mrzasa", "link": "https://stackoverflow.com/users/580346/mrzasa"}, "is_accepted": false, "score": 2, "last_activity_date": 1521676112, "creation_date": 1521676112, "answer_id": 49418336, "question_id": 49417978, "link": "https://stackoverflow.com/questions/49417978/python-regex-to-extract-ip-and-mask-from-snmp-walk-output/49418336#49418336", "title": "Python - regex to extract IP and Mask from snmp walk output", "body": "<p>You can use following regexp:</p>\n\n<pre><code>value='([\\d.]+)'\\s*\\(oid='iso.*?\\.(\\d+\\.\\d+.\\d+.\\d+)'\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/RXKcx8/1/\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>And in python:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; str = r\"[&lt;SNMPVariable value='255.255.255.0' (oid='iso.3.6.1.2.1.4.21.1.11.10.10.2.0', oid_index='', snmp_type='IPADDR')&gt;, &lt;SNMPVariable value='255.255.255.192' (oid='iso.3.6.1.2.1.4.21.1.11.10.0.0.0', oid_index='', snmp_type='IPADDR')&gt;, &lt;SNMPVariable value='255.255.255.0' (oid='iso.3.6.1.2.1.4.21.1.11.10.10.10.0', oid_index='', snmp_type='IPADDR')&gt;, &lt;SNMPVariable value='255.255.255.252' (oid='iso.3.6.1.2.1.4.21.1.11.10.11.0.0', oid_index='', snmp_type='IPADDR')&gt;,\"\n&gt;&gt;&gt; re.findall(r\"value='([\\d.]+)'\\s*\\(oid='iso.*?\\.(\\d+\\.\\d+.\\d+.\\d+)'\", str)\n# =&gt; [('255.255.255.0', '10.10.2.0'), ('255.255.255.192', '10.0.0.0'), ('255.255.255.0', '10.10.10.0'), ('255.255.255.252', '10.11.0.0')]\n</code></pre>\n\n<p>Then you can take tuples and format them in strings as you need.</p>\n"}, {"tags": [], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "is_accepted": true, "score": 1, "last_activity_date": 1521676665, "creation_date": 1521676665, "answer_id": 49418421, "question_id": 49417978, "link": "https://stackoverflow.com/questions/49417978/python-regex-to-extract-ip-and-mask-from-snmp-walk-output/49418421#49418421", "title": "Python - regex to extract IP and Mask from snmp walk output", "body": "<p>To get the output as you have it in your question:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; regex = re.compile(r'(?:\\d+\\.){3}\\d+$')\n&gt;&gt;&gt; tuple('{}/{}'.format(regex.search(item.oid).group(0), item.value)\n...       for item in system_items)\n</code></pre>\n\n<p>I don't have <code>PySNMP</code> installed, but here's a test:</p>\n\n<pre><code>&gt;&gt;&gt; class SNMPVariable(object):\n...     def __init__(self, value, oid):\n...         self.value = value\n...         self.oid = oid\n...         \n\n&gt;&gt;&gt; s1 = SNMPVariable('255.255.255.0', 'iso.3.6.1.2.1.4.21.1.11.10.10.2.0')\n\n&gt;&gt;&gt; s2 = SNMPVariable('255.255.255.252', 'iso.3.6.1.2.1.4.21.1.11.10.11.0.0')\n\n&gt;&gt;&gt; system_items = [s1, s2]\n\n&gt;&gt;&gt; tuple('{}/{}'.format(regex.search(item.oid).group(0), item.value)\n...       for item in system_items)\n...       \n('10.10.2.0/255.255.255.0', '10.11.0.0/255.255.255.252')\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6480498, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/360279420844809/picture?type=large", "display_name": "Damon", "link": "https://stackoverflow.com/users/6480498/damon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 1, "accepted_answer_id": 49418421, "answer_count": 2, "score": 1, "last_activity_date": 1524550959, "creation_date": 1521673854, "last_edit_date": 1524550959, "question_id": 49417978, "link": "https://stackoverflow.com/questions/49417978/python-regex-to-extract-ip-and-mask-from-snmp-walk-output", "title": "Python - regex to extract IP and Mask from snmp walk output", "body": "<p>I am struggling with regex to extract IP and subnet mask info from a snmp walk output.  Here is how output looks like.</p>\n\n<pre><code>[&lt;SNMPVariable value='255.255.255.0' (oid='iso.3.6.1.2.1.4.21.1.11.10.10.2.0', oid_index='', snmp_type='IPADDR')&gt;, &lt;SNMPVariable value='255.255.255.192' (oid='iso.3.6.1.2.1.4.21.1.11.10.0.0.0', oid_index='', snmp_type='IPADDR')&gt;, &lt;SNMPVariable value='255.255.255.0' (oid='iso.3.6.1.2.1.4.21.1.11.10.10.10.0', oid_index='', snmp_type='IPADDR')&gt;, &lt;SNMPVariable value='255.255.255.252' (oid='iso.3.6.1.2.1.4.21.1.11.10.11.0.0', oid_index='', snmp_type='IPADDR')&gt;,\n</code></pre>\n\n<p>I have organized the output in different lines just so it is easy to understand (actual output in my code is the above one without lines):</p>\n\n<pre><code>[&lt;SNMPVariable value='255.255.255.0' (oid='iso.3.6.1.2.1.4.21.1.11.10.10.2.0', oid_index='', snmp_type='IPADDR')&gt;, \n&lt;SNMPVariable value='255.255.255.192' (oid='iso.3.6.1.2.1.4.21.1.11.10.0.0.0', oid_index='', snmp_type='IPADDR')&gt;, \n&lt;SNMPVariable value='255.255.255.0' (oid='iso.3.6.1.2.1.4.21.1.11.10.10.10.0', oid_index='', snmp_type='IPADDR')&gt;, \n&lt;SNMPVariable value='255.255.255.252' (oid='iso.3.6.1.2.1.4.21.1.11.10.11.0.0', oid_index='', snmp_type='IPADDR')&gt;,\n</code></pre>\n\n<p>So between each  block, we have subnet mask (value='255.255.255.0') and ip address (oid='iso.3.6.1.2.1.4.21.1.11.<strong>10.10.2.0</strong>') </p>\n\n<p>I need to to extract that info and save it in an array/list so it will look like this:</p>\n\n<pre><code>(10.10.2.0/255.255.255.0, 10.0.0.0/255.255.255.192, and so on ...)\n</code></pre>\n\n<p>I believe regex would be the best solution but despite many hours of research and trying I can't seem to find a solution.</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>&lt;some code omitted ..&gt;\n# contains SNMP output displayed above\nprint snmp_output\nstr_result = ''.join(str(snmp_output))\nregex = re.findall(r\"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\b\", str_result)\nprint regex\n</code></pre>\n\n<p>It gives me this output:</p>\n\n<pre><code>['255.255.255.0', '3.6.1.2', '1.4.21.1', '11.10.10.2', '255.255.255.192', '3.6.1.2', '1.4.21.1', '11.10.0.0', '255.255.255.0', and so on ...]\n</code></pre>\n\n<p>I guess the first step would be to get out that only gives me mask and IP and not there #s in between.</p>\n\n<p>Any help will be appreciated.</p>\n\n<p>Thanks\nDamon</p>\n\n<p>Edit:</p>\n\n<pre><code>for item in system_items:\n    print '{oid}.{oid_index} {snmp_type} = {value}'.format(\n        oid=item.oid,\n        oid_index=item.oid_index,\n        snmp_type=item.snmp_type,\n        value=item.value\n</code></pre>\n"}, {"tags": ["python", "amazon-s3", "boto3"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9487981"}, "is_accepted": true, "score": 0, "last_activity_date": 1521674975, "creation_date": 1521674975, "answer_id": 49418162, "question_id": 49417915, "link": "https://stackoverflow.com/questions/49417915/a-presigned-post-in-boto3-is-the-same-as-a-browser-based-post-with-rest-api-sign/49418162#49418162", "title": "a presigned post in boto3 is the same as a browser based post with rest api signature calulucation server side?", "body": "<p>why yes. yes it is: </p>\n\n<pre><code>Returns\nA dictionary with two elements: url and fields. Url is the url to post to. Fields is a dictionary filled with the form fields and respective values to use when submitting the post. For example:\n\n{'url': 'https://mybucket.s3.amazonaws.com\n'fields': {'acl': 'public-read',\n'key': 'mykey', 'signature': 'mysignature', 'policy': 'mybase64 encoded policy'}\n\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9487981"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 49418162, "answer_count": 1, "score": 1, "last_activity_date": 1521674975, "creation_date": 1521673405, "question_id": 49417915, "link": "https://stackoverflow.com/questions/49417915/a-presigned-post-in-boto3-is-the-same-as-a-browser-based-post-with-rest-api-sign", "title": "a presigned post in boto3 is the same as a browser based post with rest api signature calulucation server side?", "body": "<p>for the past 3 days I have been attempting to manually sign restapi post calls from the users browser. I have failed. I continue to get a <code>signature mismatch</code> error: So now I am going to try boto3. Boto3 it seems is used when you upload a file to your server then send it to amazon. I would rather do a browser based post. </p>\n\n<p>I am reading the docs from boto3 on presigned posts and I am unsure. Is a browser based post the same as a presigned post in boto 3? \n<a href=\"http://boto3.readthedocs.io/en/latest/guide/s3.html#generating-presigned-posts\" rel=\"nofollow noreferrer\">http://boto3.readthedocs.io/en/latest/guide/s3.html#generating-presigned-posts</a></p>\n"}, {"tags": ["python", "while-loop"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 3, "creation_date": 1521673181, "post_id": 49417841, "comment_id": 85837486, "body": "Why are you not using <a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"nofollow noreferrer\">argparse</a>? Also, can you please edit in the full traceback to your question?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1521673182, "post_id": 49417841, "comment_id": 85837489, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1521673581, "post_id": 49417841, "comment_id": 85837635, "body": "<code>i += 1</code> needs to be indented so it&#39;s part of the loop. Why don&#39;t you just use <code>for arg in sys.argv[1:]:</code>?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521673841, "post_id": 49417841, "comment_id": 85837712, "body": "&quot;Edit: The full code giving me frnt_wrd as None is above. What else do you need?&quot; The full traceback, as I asked for. i.e. all of the lines that get spat out when you hit an error"}, {"owner": {"reputation": 5, "user_id": 9531478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6b38eec62f61ec28b803855f299ccec?s=128&d=identicon&r=PG&f=1", "display_name": "MystMan", "link": "https://stackoverflow.com/users/9531478/mystman"}, "edited": false, "score": 0, "creation_date": 1521674230, "post_id": 49417841, "comment_id": 85837819, "body": "Wow nice to know you guys are welcoming to new programmers."}, {"owner": {"reputation": 5, "user_id": 9531478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6b38eec62f61ec28b803855f299ccec?s=128&d=identicon&r=PG&f=1", "display_name": "MystMan", "link": "https://stackoverflow.com/users/9531478/mystman"}, "edited": false, "score": 0, "creation_date": 1521674285, "post_id": 49417841, "comment_id": 85837837, "body": "I ask why is the variable not defined and you come spill out all the modules you know without addressing the question."}, {"owner": {"reputation": 5, "user_id": 9531478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6b38eec62f61ec28b803855f299ccec?s=128&d=identicon&r=PG&f=1", "display_name": "MystMan", "link": "https://stackoverflow.com/users/9531478/mystman"}, "edited": false, "score": 0, "creation_date": 1521674331, "post_id": 49417841, "comment_id": 85837846, "body": "Thanks Barmar though, I appreciate it."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1521674545, "post_id": 49417841, "comment_id": 85837909, "body": "@MystMan &quot;all the modules&quot; is one module that I happen to think will make your life easier. I also just asked for a traceback. I also didn&#39;t downvote. It can feel a bit brutal joining SO and, if in doubt, read comments as being objective rather than intending to be condescending/hurtful/etc."}, {"owner": {"reputation": 5, "user_id": 9531478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6b38eec62f61ec28b803855f299ccec?s=128&d=identicon&r=PG&f=1", "display_name": "MystMan", "link": "https://stackoverflow.com/users/9531478/mystman"}, "edited": false, "score": 0, "creation_date": 1521674949, "post_id": 49417841, "comment_id": 85838025, "body": "Ok I didnt know what traceback meant. I will look into argparse too. I appreciate the intention."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1521673937, "creation_date": 1521673937, "answer_id": 49417989, "question_id": 49417841, "link": "https://stackoverflow.com/questions/49417841/variable-not-defined-in-while-loop-in-python/49417989#49417989", "title": "Variable not defined in while loop in python?", "body": "<p>The problem is that you reset <code>frnt_word</code> and <code>lst_word</code> to <code>None</code> each time through the loop, so you're overwriting the value that was set by a previous argument. You should just initialize them <em>before</em> the loop.</p>\n\n<pre><code>frnt_word = None\nlst_word = None\ncaps = False\nword = None\nfor arg in sys.argv[1:]:\n    optarr = arg.split(\"=\")\n    if optarr[0] == \"-f\":\n        frnt_word = optarr[1]\n    elif optarr[0] == \"-e\":\n        lst_word = optarr[1]\n    elif optarr[0] == \"-caps\":\n        caps = True\n    else:\n        word = arg\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 9531478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6b38eec62f61ec28b803855f299ccec?s=128&d=identicon&r=PG&f=1", "display_name": "MystMan", "link": "https://stackoverflow.com/users/9531478/mystman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1942, "favorite_count": 0, "accepted_answer_id": 49417989, "answer_count": 1, "score": -2, "last_activity_date": 1521674027, "creation_date": 1521672913, "last_edit_date": 1521674027, "question_id": 49417841, "link": "https://stackoverflow.com/questions/49417841/variable-not-defined-in-while-loop-in-python", "title": "Variable not defined in while loop in python?", "body": "<p>I am trying to write a simple program in python to read command line arguments and print a final word based on the arguments. If there is any argument of the form \"-f=\" then the  will go to the front of the final printed word. Similarly for \"-e=\" the text goes to the back and if there is -caps as an argument then the final printed word will all be uppercase. I do a while loop to scan through the arguments and check for these flags. The full code is:</p>\n\n<pre><code>import sys \ni=1\nwhile i&lt;len(sys.argv):\n    frnt_wrd = None\n    lst_wrd = None \n    arg_1 = str(sys.argv[i])\n    if arg_1.startswith('-f='):\n        front = arg_1.split('=')\n        frnt_wrd = front[1]\n\n    elif arg_1.startswith('-e='):\n        last = arg_1.split('=')\n        lst_wrd = last[1]\n\n    if arg_1.startswith('-caps'):\n        caps = True\n\n    else:\n        word = arg_1\n    i+=1\nprint (front)\nprint (frnt_wrd)\n</code></pre>\n\n<p>I had a couple of if statements later on to print out the word based on whether frnt_wrd and lst_wrd were not equal to None (i.e. a value had been assigned to them) but nothing was printing out. To check the problem I did:</p>\n\n<pre><code>print (front)\nprint (frnt_wrd)\n</code></pre>\n\n<p>and the output actually gives me front as the desired array (when there is an argument of the form \"-f=\" but returns frnt_wrd as None even though I defined:</p>\n\n<pre><code>frnt_wrd = front[1] \n</code></pre>\n\n<p>When I type exactly this line outside of the while loop it actually works but why is it not defining the frnt_wrd inside the while loop? </p>\n\n<p>Edit: The full code giving me frnt_wrd as None is above. What else do you need?\nI would like to learn how to do it with while and without argparse. I need to understand why I am defining a variable and it is not defining.</p>\n\n<p>Traceback:\n<a href=\"https://i.stack.imgur.com/IqgAa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["python", "python-3.x", "plotly-dash"], "comments": [{"owner": {"reputation": 361, "user_id": 1489401, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/34e6cddce3b8819f5b9c9a0edff46794?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/1489401/alexander"}, "edited": false, "score": 0, "creation_date": 1542249912, "post_id": 49417827, "comment_id": 93504155, "body": "You have to read this page: <a href=\"https://dash.plot.ly/sharing-data-between-callbacks\" rel=\"nofollow noreferrer\">dash.plot.ly/sharing-data-between-callbacks</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 1, "creation_date": 1523287266, "post_id": 49450015, "comment_id": 86486877, "body": "Dash doesn&#39;t allow you to have two callbacks that update the same output.  Otherwise, yeah, that would work really well."}, {"owner": {"reputation": 15, "user_id": 9503381, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fB4_lWpYViQ/AAAAAAAAAAI/AAAAAAAABLo/EOJuTE9lXjQ/photo.jpg?sz=128", "display_name": "DrGamepad", "link": "https://stackoverflow.com/users/9503381/drgamepad"}, "reply_to_user": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1523348003, "post_id": 49450015, "comment_id": 86511581, "body": "I tried it this way and it looked like Dash could handle it"}], "tags": [], "owner": {"reputation": 15, "user_id": 9503381, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fB4_lWpYViQ/AAAAAAAAAAI/AAAAAAAABLo/EOJuTE9lXjQ/photo.jpg?sz=128", "display_name": "DrGamepad", "link": "https://stackoverflow.com/users/9503381/drgamepad"}, "is_accepted": false, "score": -3, "last_activity_date": 1521809600, "last_edit_date": 1521809600, "creation_date": 1521809194, "answer_id": 49450015, "question_id": 49417827, "link": "https://stackoverflow.com/questions/49417827/button-in-dash-doesnt-have-click-as-an-event/49450015#49450015", "title": "Button in Dash doesn&#39;t have &quot;click&quot; as an event", "body": "<p>I am not really sure if I understood your question right, but see, if this helps...</p>\n\n<blockquote>\n  <p>but I'd like to use two buttons for the same output</p>\n</blockquote>\n\n<p>Easy! Just define the explicit dash component as Output, followed by two buttons as Input. No matter, which buton is clicked, both of them will trigger the same function. Example:</p>\n\n<pre><code>@app.callback(\n    dash.dependencies.Output('overlay', 'className'),\n    [dash.dependencies.Input('button1', 'n_clicks'),\n     dash.dependencies.Input('button2', 'n_clicks')])\n\ndef update_output(n_clicks1, n_clicks2):\n    # This is, where the magic happens\n</code></pre>\n\n<blockquote>\n  <p>and with the n_clicks event, I'd need to try to figure out which button was clicked</p>\n</blockquote>\n\n<p>If you want to use two buttons for the same function <strong>and</strong> differ, which one is being used, separate the solution above into two functions:</p>\n\n<pre><code>@app.callback(\n    dash.dependencies.Output('overlay', 'className'),\n    [dash.dependencies.Input('button1', 'n_clicks')])\n\ndef update_output(n_clicks1):\n    # This is, where the magic happens for button 1\n\n@app.callback(\n    dash.dependencies.Output('overlay', 'className'),\n    [dash.dependencies.Input('button2', 'n_clicks')])\n\ndef update_output(n_clicks2):\n    # This is, where the magic happens for button 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1325, "user_id": 2804335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efea225b55ab6bfbf8d715ae756d32eb?s=128&d=identicon&r=PG&f=1", "display_name": "cannatag", "link": "https://stackoverflow.com/users/2804335/cannatag"}, "is_accepted": false, "score": 1, "last_activity_date": 1575625933, "creation_date": 1575625933, "answer_id": 59210690, "question_id": 49417827, "link": "https://stackoverflow.com/questions/49417827/button-in-dash-doesnt-have-click-as-an-event/59210690#59210690", "title": "Button in Dash doesn&#39;t have &quot;click&quot; as an event", "body": "<p>Dash doens't allow multiple callback for the same Output()</p>\n"}], "owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3560, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1575625933, "creation_date": 1521672815, "question_id": 49417827, "link": "https://stackoverflow.com/questions/49417827/button-in-dash-doesnt-have-click-as-an-event", "title": "Button in Dash doesn&#39;t have &quot;click&quot; as an event", "body": "<p>I added a button to my layout.  When I try to write a callback for it, I get the following error:</p>\n\n<pre><code>dash.exceptions.NonExistantEventException: \nAttempting to assign a callback with\nthe event \"click\" but the component\n\"get_custom_vndr\" doesn't have \"click\" as an event.\n\nHere is a list of the available events in \"get_custom_vndr\":\n[]\n</code></pre>\n\n<p>Here's how I'm adding it to my layout:</p>\n\n<pre><code>app_vndr.layout = html.Div([\n    html.Button(\n        '+',\n        id='get_custom_vndr',\n        type='submit'\n    )\n])\n</code></pre>\n\n<p>and here's the callback function that's giving the above error:</p>\n\n<pre><code>@app_vndr.callback(\n    dash.dependencies.Output('overlay', 'className'),\n    events=[dash.dependencies.Event('get_custom_vndr', 'click'),\n            dash.dependencies.Event('add_vndr_id_submit', 'click')])\ndef show_input(b1_n, b2_n):    \n    if b1_n&gt;0:\n        return ''\n    elif b1_n&gt;0:\n        return 'hidden'\n</code></pre>\n\n<p>Did I miss something when I added the button to my layout?  or when I tried to write the callback?</p>\n\n<p>I got it working for </p>\n\n<pre><code>dash.dependencies.Input('get_custom_vndr', 'n_clicks')\n</code></pre>\n\n<p>but I'd like to use two buttons for the same output and with the n_clicks event, I'd need to try to figure out which button was clicked by comparing the current n_clicks to the previous n_clicks for each button, which seems like a pretty hacky way to do it.</p>\n"}, {"tags": ["python", "algorithm", "graphics"], "comments": [{"owner": {"reputation": 14155, "user_id": 632088, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b02313659bcb668d49a0075c2de0bc1?s=128&d=identicon&r=PG", "display_name": "robert king", "link": "https://stackoverflow.com/users/632088/robert-king"}, "edited": false, "score": 3, "creation_date": 1521676116, "post_id": 49417788, "comment_id": 85838381, "body": "you could look at all possible pairs of points, and use those to generate all possible lines."}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "edited": false, "score": 1, "creation_date": 1521693593, "post_id": 49417788, "comment_id": 85842399, "body": "related to this question: <a href=\"https://stackoverflow.com/questions/49333960/maximum-possible-number-of-rectangles-that-can-be-crossed-with-a-single-straight\" title=\"maximum possible number of rectangles that can be crossed with a single straight\">stackoverflow.com/questions/49333960/&hellip;</a>"}, {"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 1, "creation_date": 1521703942, "post_id": 49417788, "comment_id": 85846442, "body": "You may also want to check the various BSP tree construction algorithms, which solve exactly this problem. However, an optimal solution is NP-hard as far as I know."}, {"owner": {"reputation": 121, "user_id": 6503178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/142dedf27dae7df5eaebf84a2e7b4390?s=128&d=identicon&r=PG&f=1", "display_name": "dercolamann", "link": "https://stackoverflow.com/users/6503178/dercolamann"}, "edited": false, "score": 0, "creation_date": 1521709072, "post_id": 49417788, "comment_id": 85849504, "body": "Looking to the pair of points gives a simple O(n^3) solution:"}], "owner": {"reputation": 121, "user_id": 6503178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/142dedf27dae7df5eaebf84a2e7b4390?s=128&d=identicon&r=PG&f=1", "display_name": "dercolamann", "link": "https://stackoverflow.com/users/6503178/dercolamann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521672543, "creation_date": 1521672543, "question_id": 49417788, "link": "https://stackoverflow.com/questions/49417788/separate-triangles-by-a-line-in-2d-space", "title": "Separate triangles by a line in 2D-Space", "body": "<p>I have a set of objects (triangles) in the 2D-Plane and I want to separate them by a line into two sets of about the same size.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sZMwh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sZMwh.png\" alt=\"Perfect separation line\"></a></p>\n\n<p>Because normally the line will intersect with some triangles, I get three sets. One on the left side, one on the right side and one with collisions with the line.</p>\n\n<p>I now want to find a good line. I figured out a cost function:</p>\n\n<pre><code>cost=-min(len(set_left), len(set_right))\n</code></pre>\n\n<p>Unfortunately, I can't think of a nice algorithm to solve this.\nI have written a python exaple to show my problem:\n(I use the real part for x and the imaginary part for the y coordinate)</p>\n\n<pre><code>import scipy.optimize\nimport numpy as np\n\ndef scalar_prod (v1, v2):\n    return v1.real*v2.real + v1.imag*v2.imag\n\ndef intersect_line_triangle (line, triangle):\n    point = line[0]\n    dir_ = line[1]\n    # calculate normal vector\n    n_vec = 1j * dir_\n    # Calculate signed distance of each point\n    dist = tuple(scalar_prod(n_vec, p-point) for p in triangle)\n    if all(d &gt; 0 for d in dist):\n        return 1 # right\n    if all(d &lt; 0 for d in dist):\n        return -1 # left\n    return 0 # intersecting\n\ndef split_triangles_by_line (triangles, line):\n    out = {-1: [], 0:[], 1:[]}\n    for tri in triangles:\n        out[intersect_line_triangle(line,tri)].append(tri)\n    return out\n\ndef calc_cost (triangles, line):\n    split = split_triangles_by_line(triangles, line)\n    cost = -(min(len(split[-1]), len(split[1])))\n    return cost\n\ndef calc_line (triangles, method='Powell'):\n    # TODO: think about a good algorithm!\n    center_point = sum(sum(tri) for tri in triangles) / (len(triangles)*3)\n    init_point = center_point\n    fun = lambda args: calc_cost(triangles, (args[0] + 1j* args[1], np.exp(1j*args[2])))\n    res = scipy.optimize.minimize(fun,  [init_point.real, init_point.imag, np.pi/2], method=method)\n    res_line = (res.x[0]+ 1j*res.x[1], np.exp(1j*res.x[2]))\n    return res_line\n\ntriangles = [(0, 3j, 2), (4, 2+2j, 6+2j),\n        (4j, 3+4j, 3+7j), (4+3j, 5+3j, 4+10j),\n        (-1+5j, -1+8j, 3+9j)]\nline = calc_line(triangles)\nsep_triangles = split_triangles_by_line(triangles, line)\nprint(\"The resulting line is {} + {} * t\".format(line[0], line[1]))\nprint(\"The triangles are separated:\\nleft: {}\\nright: {}\\nintersected: {}\".format(sep_triangles[-1], sep_triangles[1], sep_triangles[0]))\nprint(\"The cost is {}\".format(calc_cost(triangles, line)))\n</code></pre>\n\n<p>I want to replace the optimizer part by some efficient algorithm. I guess, that computer graphic experts may use similar things.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "sql", "sql-server", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9424947, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D_Fresh", "link": "https://stackoverflow.com/users/9424947/d-fresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1521736663, "creation_date": 1521736663, "answer_id": 49433990, "question_id": 49417784, "link": "https://stackoverflow.com/questions/49417784/connect-to-sql-14-azure-db-from-pyodbc-if-sql-server-is-ms-2012/49433990#49433990", "title": "Connect to SQL 14 Azure db from Pyodbc if SQL Server is MS 2012", "body": "<p>Whoops, think this was buried in <a href=\"https://stackoverflow.com/questions/39461850/connecting-to-azure-sql-with-python\">Connecting to Azure SQL with Python</a></p>\n\n<p>Install ODBC driver 13 FTW!</p>\n"}], "owner": {"reputation": 1, "user_id": 9424947, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D_Fresh", "link": "https://stackoverflow.com/users/9424947/d-fresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521736663, "creation_date": 1521672524, "question_id": 49417784, "link": "https://stackoverflow.com/questions/49417784/connect-to-sql-14-azure-db-from-pyodbc-if-sql-server-is-ms-2012", "title": "Connect to SQL 14 Azure db from Pyodbc if SQL Server is MS 2012", "body": "<p>Some contractors I work with set up an Azure SQL db, ms server version 14. Is it possible to still connect with pyodbc if my personal machine still has SQL v11? If not, is there another method to connect?</p>\n\n<p>Most of my connections are with ms server v11, so I would like to avoid upgrading my ms server if at all possible. I only need to connect to their azure server for a single query. Tried a few variations on the normal connection (trusted_connection = no, etc.)</p>\n\n<pre><code>engine = create_engine('mssql+pyodbc://user:pass@azure_server/db')\n</code></pre>\n"}, {"tags": ["python", "bash", "shell", "unix", "csh"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 4, "creation_date": 1521672719, "post_id": 49417780, "comment_id": 85837319, "body": "It probably <i>does</i> wait for <code>subtask.csh</code> to finish (and the <code>wait</code> command won&#39;t do anything since there&#39;s nothing to wait for). If <code>subtask.csh</code> or <code>.&#47;model</code> spawns background processes, they won&#39;t be visible to the caller."}, {"owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1521673140, "post_id": 49417780, "comment_id": 85837470, "body": "Thanks, I found out just now that the jobs are not being distributed across processors and it is going serially...."}, {"owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1521673193, "post_id": 49417780, "comment_id": 85837495, "body": "So, is there a different way to wait, where I know what these subprocesses are doing?"}, {"owner": {"reputation": 13949, "user_id": 1499296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fbd251ed4408d2a4aa6dbc52bb7389b?s=128&d=identicon&r=PG&f=1", "display_name": "AKS", "link": "https://stackoverflow.com/users/1499296/aks"}, "edited": false, "score": 0, "creation_date": 1521673618, "post_id": 49417780, "comment_id": 85837647, "body": "I&#39;m wondering if he runs his subtask.csh in <code>&amp;</code> (background mode) or do the same at <code>.&#47;model -h N control file level</code> (actually at this level, it should be a loop as well inside subtask.csh) and put (append mode) the PID of the last background process <code>foo &amp; ; echo $! &gt;&gt; some_pids_file.txt</code> and instead of using <code>wait</code> at all, outside that subtask.csh (sub-shell) he can just have a loop which re-creates the some_pids_file.txt every time for all PIDs that you had or any <code>.&#47;model .. ...</code> process and when this file is EMPTY then the loop breaks. I think that&#39;s maximusdooku&#39;s best bet."}, {"owner": {"reputation": 13949, "user_id": 1499296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fbd251ed4408d2a4aa6dbc52bb7389b?s=128&d=identicon&r=PG&f=1", "display_name": "AKS", "link": "https://stackoverflow.com/users/1499296/aks"}, "edited": false, "score": 0, "creation_date": 1521673675, "post_id": 49417780, "comment_id": 85837666, "body": "I would use <code>&amp;</code> inside subtask.csh file for each <code>.&#47;model ... .. &amp;</code> run"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1521674401, "post_id": 49417780, "comment_id": 85837867, "body": "What does <code>.&#47;model</code> do? If it invokes background processes and doesn&#39;t tell you about them, there&#39;s not much you can do (unless you do something like reverse engineering the process name(s))."}], "answers": [{"tags": [], "owner": {"reputation": 1333, "user_id": 7789378, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/K2trV.jpg?s=128&g=1", "display_name": "BlindSniper", "link": "https://stackoverflow.com/users/7789378/blindsniper"}, "is_accepted": false, "score": 0, "last_activity_date": 1521700255, "creation_date": 1521700255, "answer_id": 49421980, "question_id": 49417780, "link": "https://stackoverflow.com/questions/49417780/how-can-i-wait-for-the-finish-of-execution-of-a-command-in-unix/49421980#49421980", "title": "How can I wait for the finish of execution of a command in Unix?", "body": "<p>can you try using this ??</p>\n\n<pre><code>./model -h 1 controlfile &amp;\n./model -h 2 controlfile &amp;\n./model -h 3 controlfile &amp;\n./model -h 4 controlfile &amp;\n./model -h 5 controlfile &amp;\nwait\n</code></pre>\n"}], "owner": {"reputation": 4068, "user_id": 3942806, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1193e4d5d50054c8385084accc4bd6c8?s=128&d=identicon&r=PG&f=1", "display_name": "maximusdooku", "link": "https://stackoverflow.com/users/3942806/maximusdooku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521700255, "creation_date": 1521672503, "question_id": 49417780, "link": "https://stackoverflow.com/questions/49417780/how-can-i-wait-for-the-finish-of-execution-of-a-command-in-unix", "title": "How can I wait for the finish of execution of a command in Unix?", "body": "<p>I have 25 processor in a compute node. </p>\n\n<p>I have a main python script A that a) runs in a loop 3) Performs <code>20 tasks</code> in every loop that is also distributed among the 25 processors.</p>\n\n<p>Main Python Script A</p>\n\n<pre><code>Lots of calculations\n\nos.system(\"csh subtask.csh; wait\")\n\nLots of calculations\nReturn to beginning of loop\n</code></pre>\n\n<p>Where, <code>subtask.csh</code> is of this type:</p>\n\n<pre><code>./model -h 1 controlfile\n./model -h 2 controlfile\n./model -h 3 controlfile\n./model -h 4 controlfile\n./model -h 5 controlfile\n... \n./model -h 20 controlfile\n</code></pre>\n\n<p>But, this way, my program doesn't wait for <code>subtask.csh</code> to finish. </p>\n\n<p>How can I make it wait?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 38158, "user_id": 2707792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hjDjB.png?s=128&g=1", "display_name": "Andrey Tyukin", "link": "https://stackoverflow.com/users/2707792/andrey-tyukin"}, "edited": false, "score": 4, "creation_date": 1521672420, "post_id": 49417747, "comment_id": 85837231, "body": "Sounds too evil to be true."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521672515, "post_id": 49417747, "comment_id": 85837258, "body": "Do you want it to work this way in <i>every</i> function, or just in a set of functions you define? For the former, you can do something kind of similar in some languages with variable types and implicit casts (C++), but not in Python. For the latter, yes, it&#39;s basically the same way operator overloading works in Python, and I can explain more if that&#39;s not enough."}, {"owner": {"reputation": 21991, "user_id": 75103, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7dfc20ceb7d6e1686d9be8f68469afa7?s=128&d=identicon&r=PG", "display_name": "thebjorn", "link": "https://stackoverflow.com/users/75103/thebjorn"}, "edited": false, "score": 0, "creation_date": 1521672532, "post_id": 49417747, "comment_id": 85837261, "body": "The short answer is no. The much longer answer is yes, although you get to your syntax by defining special methods like <code>__add__</code> ( for <code>+ 1</code>) and quite a few intermediary classes..."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521672618, "post_id": 49417747, "comment_id": 85837282, "body": "For most of the operators, they <i>already</i> support this by looking up special methods with double underscores. That&#39;s how numpy does exactly your example out of the box. For a set of new functions you create, you can create the same kind of protocol\u2014calling <code>f</code> on a function first calls its <code>__arg__</code> method. (Although you&#39;re probably better off calling it <code>arg</code> or <code>_arg</code>.)"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1521672639, "post_id": 49417747, "comment_id": 85837287, "body": "The first functionality is seen in a numpy array. The second would involve subclassing dictionaries."}, {"owner": {"reputation": 373, "user_id": 1604015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b915c779743008b8fda60f1acaaee711?s=128&d=identicon&r=PG", "display_name": "user1604015", "link": "https://stackoverflow.com/users/1604015/user1604015"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521672883, "post_id": 49417747, "comment_id": 85837390, "body": "@abarnert Can you elaborate on this part: &quot;For a set of new functions you create, you can create the same kind of protocol\u2014calling f on a function first calls its <b>arg</b> method.&quot; In other words, it&#39;s obvious how to overload things with existing <code>__something__</code> methods, but it sounds like you&#39;re pointing to a more general approach?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1521672972, "post_id": 49417747, "comment_id": 85837422, "body": "@user1604015 OK, let me write an answer."}, {"owner": {"reputation": 373, "user_id": 1604015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b915c779743008b8fda60f1acaaee711?s=128&d=identicon&r=PG", "display_name": "user1604015", "link": "https://stackoverflow.com/users/1604015/user1604015"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521673444, "post_id": 49417747, "comment_id": 85837585, "body": "@abarnert Oh wait sorry - I think I misread what you wrote. I see how to do it for functions that I <i>write</i>, since I can build in the behavior by hand, but I was hoping to have it for functions I don&#39;t create (even if I have to specify them ahead of time [not ideal, but acceptable])."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1521673509, "post_id": 49417747, "comment_id": 85837602, "body": "@user1604015 You can do that too."}], "answers": [{"comments": [{"owner": {"reputation": 373, "user_id": 1604015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b915c779743008b8fda60f1acaaee711?s=128&d=identicon&r=PG", "display_name": "user1604015", "link": "https://stackoverflow.com/users/1604015/user1604015"}, "edited": false, "score": 0, "creation_date": 1521674122, "post_id": 49417919, "comment_id": 85837789, "body": "Yah... I get the decorator approach, but was hoping for something cleaner, especially for cases like using my class instances as indices to dicts etc. But I guess this is the best I&#39;m likely to do in Python - thanks! (I guess this should be possible in any language with procedural reflection, but as you point out, building on Python&#39;s structural reflection (AST etc.) is not nice in this case.)"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 373, "user_id": 1604015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b915c779743008b8fda60f1acaaee711?s=128&d=identicon&r=PG", "display_name": "user1604015", "link": "https://stackoverflow.com/users/1604015/user1604015"}, "edited": false, "score": 1, "creation_date": 1521674530, "post_id": 49417919, "comment_id": 85837903, "body": "@user1604015 Once you get the hang of writing import hook hacks, it isn\u2019t really all that hard to do something like replacing every function call and operator mode, or every <code>CALL_FUNCTION</code> bytecode, but you still have the problem that anything that gets called internally by a C function (not the outermost special method lookup for operators/abs/etc., but anything an extension module does\u2014like, say, most of what happens inside any Cython function) will be a problem. So ultimately, I think you might have to fork CPython and hook the bytecode itself in ceval, and also all the relevant C API."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 4, "last_activity_date": 1521673429, "creation_date": 1521673429, "answer_id": 49417919, "question_id": 49417747, "link": "https://stackoverflow.com/questions/49417747/customize-how-a-python-object-is-processed-as-a-function-argument/49417919#49417919", "title": "Customize how a Python object is processed as a function argument?", "body": "<p>You can't do this in general.<sup>*</sup></p>\n\n<hr>\n\n<p>You <em>can</em> do something equivalent for most of the builtin operators (like your <code>+</code> example), and a handful of builtin functions (like <code>abs</code>). They're implemented by calling special methods on the operands, as described in <a href=\"https://docs.python.org/3/reference/datamodel.html#special-method-names\" rel=\"nofollow noreferrer\">the reference docs</a>.</p>\n\n<p>Of course that means writing a whole bunch of special methods for each of your types\u2014but it wouldn't be too hard to write a base class (or decorator or metaclass, if that doesn't fit your design) that implements all those special methods in one place, by calling the subclass's <code>__arg__</code> and then doing the default thing:</p>\n\n<pre><code>class ArgyBase:\n    def __add__(self, other):\n        return self.__arg__() + other\n    def __radd__(self, other):\n        return other + self.__arg__()\n    # ... and so on\n</code></pre>\n\n<hr>\n\n<p>And if you want to extend that to a whole suite of functions that you create yourself, you can give <em>them</em> all similar special-method protocols similar to the builtin ones, and expand your base class to cover them. Or you can just short-circuit that and use the <code>__arg__</code> protocol directly in those functions. To avoid lots of repetition, I'd use a decorator for that.</p>\n\n<pre><code>def argify(func):\n    def _arg(arg):\n        try:\n            return arg.__arg__()\n        except AttributeError:\n            return arg\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        args = map(_arg, args)\n        kwargs = {kw: _arg(arg) for arg in args}\n        return func(*args, **kwargs)\n    return wrapper\n\n@argify\ndef spam(a, b):\n    return a + 2 * b\n</code></pre>\n\n<hr>\n\n<p>And if you really want to, you can go around wrapping other people's functions:</p>\n\n<pre><code>sin = argify(math.sin)\n</code></pre>\n\n<p>\u2026 or even monkeypatching their modules:</p>\n\n<pre><code>requests.get = argify(requests.get)\n</code></pre>\n\n<p>\u2026 or monkeypatching a whole module dynamically a la early versions of <code>gevent</code>, but I'm not going to even show that, because at this point we're getting into don't-do-this-for-multiple-reasons territory.</p>\n\n<p>You mentioned in a comment that you'd like to do this to a bunch of someone else's functions without having to specify them in advance, if possible. Does that mean every function that ever gets constructed in any module you import? Well, you can even do <em>that</em> if you're willing to create an import hook, but that seems like an even worse idea. Explaining how to write an import hook and either AST-patch each function creation node or insert wrappers around the bytecode or the like is way too much to get into here, but if your research abilities exceed your common sense, you can figure it out. :)</p>\n\n<hr>\n\n<p>As a side note, if I were doing this, I wouldn't call the method <code>__arg__</code>, I'd call it either <code>arg</code> or <code>_arg</code>. Besides being reserved for future use by the language, the dunder-method style implies things that aren't true here (special-method lookup instead of a normal call, you can search for it in the docs, etc.).</p>\n\n<p><sub>* There are languages where you can, such as C++, where a combination of implicit casting and typed variables instead of typed values means you can get a method called on your objects just by giving them an odd type with an implicit conversion operator to the expected type.</sub></p>\n"}], "owner": {"reputation": 373, "user_id": 1604015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b915c779743008b8fda60f1acaaee711?s=128&d=identicon&r=PG", "display_name": "user1604015", "link": "https://stackoverflow.com/users/1604015/user1604015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 49417919, "answer_count": 1, "score": 1, "last_activity_date": 1521673429, "creation_date": 1521672333, "question_id": 49417747, "link": "https://stackoverflow.com/questions/49417747/customize-how-a-python-object-is-processed-as-a-function-argument", "title": "Customize how a Python object is processed as a function argument?", "body": "<p>A Python class's <code>__call__</code> method lets us specify how a class member should be behave as a function. Can we do the \"opposite\", i.e. specify how a class member should behave as an argument to an arbitrary other function?</p>\n\n<p>As a simple example, suppose I have a <code>ListWrapper</code> class that wraps lists, and when I call a function <code>f</code> on a member of this class, I want <code>f</code> to be mapped over the wrapped list. For instance:</p>\n\n<pre><code>x = WrappedList([1, 2, 3])\nprint(x + 1) # should be WrappedList([2, 3, 4])\n\nd = {1: \"a\", 2: \"b\", 3:\"c\"}\nprint(d[x]) # should be WrappedList([\"a\", \"b\", \"c\"])\n</code></pre>\n\n<p>Calling the hypothetical <code>__call__</code> analogue I'm looking for <code>__arg__</code>, we could imagine something like this: </p>\n\n<pre><code>class WrappedList(object):\n    def __init__(self, to_wrap):\n        self.wrapped = to_wrap\n\n   def __arg__(self, func):\n       return WrappedList(map(func, self.wrapped))\n</code></pre>\n\n<p>Now, I know that (1) <code>__arg__</code> doesn't exist in this form, and (2) it's easy to get the behavior in this simple example without any tricks. But is there a way to approximate the behavior I'm looking for in the general case?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 3670, "user_id": 7857466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OW0s.png?s=128&g=1", "display_name": "progmatico", "link": "https://stackoverflow.com/users/7857466/progmatico"}, "edited": false, "score": 0, "creation_date": 1521672857, "post_id": 49417737, "comment_id": 85837376, "body": "Add <code>()</code> in the end of <code>movement = kio_file.share_movement</code>. You are not calling the function without the ending <code>()</code>, so you are printing the function object, instead of the function result."}, {"owner": {"reputation": 5, "user_id": 9395266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab6987048e06d8b887a9893c3df0d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Rip_027", "link": "https://stackoverflow.com/users/9395266/rip-027"}, "reply_to_user": {"reputation": 3670, "user_id": 7857466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OW0s.png?s=128&g=1", "display_name": "progmatico", "link": "https://stackoverflow.com/users/7857466/progmatico"}, "edited": false, "score": 0, "creation_date": 1521711515, "post_id": 49417737, "comment_id": 85851155, "body": "It makes sense - however when I put in the () to call the function the label now print &quot;None&quot;."}, {"owner": {"reputation": 4975, "user_id": 2323393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d52f68fba51eda4b59593a83a3c1250?s=128&d=identicon&r=PG", "display_name": "scotty3785", "link": "https://stackoverflow.com/users/2323393/scotty3785"}, "edited": false, "score": 0, "creation_date": 1521721056, "post_id": 49417737, "comment_id": 85858038, "body": "You should consider placing the code in your &#39;second&#39; file in to a class with methods to return the share price/share movement  (or at least a function). I don&#39;t have beautiful soup but I can try to throw an example together."}, {"owner": {"reputation": 4975, "user_id": 2323393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d52f68fba51eda4b59593a83a3c1250?s=128&d=identicon&r=PG", "display_name": "scotty3785", "link": "https://stackoverflow.com/users/2323393/scotty3785"}, "edited": false, "score": 0, "creation_date": 1521721133, "post_id": 49417737, "comment_id": 85858090, "body": "Also not sure why you are using both requests and urllib2, generally only one is needed."}, {"owner": {"reputation": 5, "user_id": 9395266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab6987048e06d8b887a9893c3df0d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Rip_027", "link": "https://stackoverflow.com/users/9395266/rip-027"}, "edited": false, "score": 0, "creation_date": 1521739245, "post_id": 49417737, "comment_id": 85871390, "body": "I am a bit unsure what you mean about creating a class? That will just make everything look more legible and easier to read - how will it resolve the unusual &quot;None&quot; that is printed within the Label when I click the button in the GUI? Regarding the urllib2 - ignore that - I initially tried to use that to get the online info and then used requests module. There was quite a bit of code and comments on my python file that I removed when posting the codes on this forum - I must have forgotten to remove that :-)"}, {"owner": {"reputation": 5, "user_id": 9395266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab6987048e06d8b887a9893c3df0d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Rip_027", "link": "https://stackoverflow.com/users/9395266/rip-027"}, "edited": false, "score": 0, "creation_date": 1521823578, "post_id": 49417737, "comment_id": 85912167, "body": "Just resolved the issue - petty mistake. Instead of &quot;print page_soup.find(&quot;span&quot;, {&quot;class&quot;: &quot;Trsdu(0.3s) Fw(500) Pstart(10px) Fz(24px) C($dataGreen)&quot;}).text&quot; I was supposed to use &quot;return&quot;. I cannot believe I missed that."}, {"owner": {"reputation": 3670, "user_id": 7857466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OW0s.png?s=128&g=1", "display_name": "progmatico", "link": "https://stackoverflow.com/users/7857466/progmatico"}, "edited": false, "score": 0, "creation_date": 1521841447, "post_id": 49417737, "comment_id": 85920262, "body": "Nice you did. Contacts with <code>None</code> usually happen because we forget to return, or we forget that a function/method assigns a value to a var in place or just act with some side effect and we still assign it to some name."}], "owner": {"reputation": 5, "user_id": 9395266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab6987048e06d8b887a9893c3df0d3c?s=128&d=identicon&r=PG&f=1", "display_name": "Rip_027", "link": "https://stackoverflow.com/users/9395266/rip-027"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521672286, "creation_date": 1521672286, "last_edit_date": 1592644375, "question_id": 49417737, "link": "https://stackoverflow.com/questions/49417737/tkinter-how-to-print-results-from-functions-in-labels", "title": "Tkinter How to print results from functions in labels", "body": "<p>I am rather new to GUI's and Tkinter but what I am basically trying to do is have a platform whereby with a click of a button I can obtain share prices and related share info using the request and BS4 modules. I am using Python 2.7.</p>\n<p>When I click the button on my GUI, the share price shows up perfectly on my label. However, it shows unusual info in the label below it where instead it should show the % and currency daily move. The reason for this is that I have linked the GUI python file to the other python file that I am using to &quot;download&quot; the prices and I have included the up or down price movements in a function.</p>\n<p>So when I call the results of this function to be printed in the label - they are printed but with something along the lines of &quot;function share_movement at 0x022B34F0&quot;</p>\n<p>Below is my GUI code and then the code for my other python file:</p>\n<pre><code>import Tkinter as tk\nimport Share_price_info as kio_file\n\n#Creating the parent window\nroot = tk.Tk()\nf = tk.Frame(root)\n\n#Title for window\nroot.title(&quot;My first GUI&quot;)\n\n#Size of the window - min and max\nroot.maxsize(850, 850)\nroot.minsize(250, 250)\n\n#Setting a fixed size of window on opening\nroot.geometry(&quot;800x750&quot;)\n\n#Setting the background colour\nroot.configure(background=&quot;white&quot;)\n\ntitle = tk.Label(root, text=&quot;Platform&quot;, fg=&quot;black&quot;, font=&quot;Helvetica 20 bold&quot;, bg=&quot;grey&quot;)\ntitle.grid(row=0, columnspan=3)\n\n#Logo for top\ntopimg = tk.PhotoImage(file=&quot;stock_market.gif&quot;)\nstock_img = tk.Label(root, image=topimg, bg=&quot;black&quot;)\nstock_img.grid(row=1, columnspan=3)\n\n#Entry to type which share you want to find info for\nsearch = tk.Entry(root)\nsearch.grid(row=2, column=1, sticky=&quot;W&quot;)\n\n#Function to print out what has been searched for in the Entry bar\ndef search_bar():\n    print search.get()\n    kio_file.share_price()\n    #if search.get() == &quot;kio&quot;:\n        #use the information from the share info script\n        #kio_file.share_price()\n\n#Search button\ntk.Button(root, text=&quot;Search&quot;, command=search_bar) .grid(row=3, column=1, sticky=&quot;W&quot;)\n\n#Button when pressed closes program.\nexit_btn = tk.Button(root, text=&quot;Exit Platform&quot;, bg=&quot;black&quot;, fg=&quot;white&quot;, width=20, height=2, command=root.destroy)\nexit_btn.grid(row=4, column=2, sticky=&quot;E&quot;)   \n\n\n#Label that prints the share info when the &quot;KIO info&quot; button is clicked\ncurrentPrice = tk.StringVar(root, &quot;Click for share info&quot;)\ncurrentMovement = tk.StringVar(root, &quot;Click for share info&quot;)\n\ndef setValues():\n    price = kio_file.kio_price\n    print price\n    currentPrice.set(price)\n    movement = kio_file.share_movement\n    print movement\n    currentMovement.set(movement)\n\n#When button is clicked, the function as part of the &quot;command&quot; widget in the button code will run and the &quot;textvariable&quot; here\n#which is linked to it will also be activated.\nkio_printout = tk.Label(root, textvariable=currentPrice, bg='black', fg=&quot;white&quot;, width=40, height=3)\nkio_printout.grid(row=4, column=1, padx=5, pady=5)\n\nkio_printout = tk.Label(root, textvariable=currentMovement, bg='black', fg=&quot;white&quot;, width=40, height=3)\nkio_printout.grid(row=5, column=1, padx=5, pady=5)\n\n#When push the button the share details print out\nkio = tk.Button(root, text=&quot;KIO info&quot;, bg=&quot;black&quot;, fg=&quot;white&quot;, width=30, height=2, command=setValues)\nkio.grid(row=4, column=0, sticky=&quot;W&quot;, padx=5, pady=5)\n\n\nprint root.grid_size()\n\n#Run the program\nroot.mainloop()\n</code></pre>\n<p>I have tried to delete all unnecessary comments in my codes except for those that might be a little helpful.</p>\n<h1>The other python file</h1>\n<pre><code>import os\nimport pandas as pd\nimport numpy\nimport matplotlib\nfrom bs4 import BeautifulSoup as soup     #This parses the html text\nimport requests\n\n#Get the current working directory\nos.getcwd()\nos.path.isfile(&quot;KIO.csv&quot;)\n\n#Read the csv file with the share prices\ndf = pd.read_csv(&quot;KIO.csv&quot;)\n\n#Average closing price for full year\naverage_close = closing.mean()\nprint average_close\n\nheaders = {'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36'}\n#ping the website\nr = requests.get(&quot;https://finance.yahoo.com/quote/KIO.JO?p=KIO.JO&quot;, headers=headers)\n\n#Opens the connection and downloads the webpage\nkio_site = urllib2.urlopen(&quot;https://finance.yahoo.com/quote/KIO.JO?p=KIO.JO&quot;)\n\n#This will print all the html on the webpage\n#kio_html = kio_site.read()\n\n#Now closing the internet connection that you opened before\nkio_site.close()\n\n#now you want to parse the html file\npage_soup = soup(r.text, &quot;html.parser&quot;)\n\n#print the html webpage to be properly nested:\n#print page_soup.prettify()\n\n#Specifically find certain elements\nkio_price = page_soup.find(&quot;span&quot;, {&quot;class&quot;: &quot;Trsdu(0.3s) Fw(b) Fz(36px) Mb(-4px) D(ib)&quot;}).text\n\ndef share_movement():\n    try:\n        print page_soup.find(&quot;span&quot;, {&quot;class&quot;: &quot;Trsdu(0.3s) Fw(500) Pstart(10px) Fz(24px) C($dataGreen)&quot;}).text\n    except:\n        print page_soup.find(&quot;span&quot;, {&quot;class&quot;: &quot;Trsdu(0.3s) Fw(500) Pstart(10px) Fz(24px) C($dataRed)&quot;}).text\n</code></pre>\n<p>The problem is basically with the &quot;setValues&quot; function in the first file and then the &quot;share_movement&quot; function in the second file since I do not think the Label knows which one to print. However, I needed to code it like this in order to consider the price going both up and down daily.</p>\n<p>Thank you so much in advance for any help!</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 1, "creation_date": 1521672342, "post_id": 49417719, "comment_id": 85837216, "body": "where do the nested names come from?"}, {"owner": {"reputation": 11, "user_id": 9531401, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "old codgertator", "link": "https://stackoverflow.com/users/9531401/old-codgertator"}, "reply_to_user": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 0, "creation_date": 1521680017, "post_id": 49417719, "comment_id": 85839262, "body": "all of the data in the dictionary is coming from add_dic()."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9531401, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "old codgertator", "link": "https://stackoverflow.com/users/9531401/old-codgertator"}, "edited": false, "score": 0, "creation_date": 1521681219, "post_id": 49418091, "comment_id": 85839503, "body": "Thank you rpg711.  I&#39;m just practicing here so, getting the same data is not important, however if you add a seedvalue to the faker it will give the same data every time.  I really need to study your return statement and the call to map_val.  I want to write code like that more. Oh, and populating &#39;names&#39; is cool.  I will make it a point to write something using this style - maybe even this one."}], "tags": [], "owner": {"reputation": 1720, "user_id": 3130735, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/144eeadac497b4ef167d0012a7d81f86?s=128&d=identicon&r=PG&f=1", "display_name": "TTT", "link": "https://stackoverflow.com/users/3130735/ttt"}, "is_accepted": false, "score": 0, "last_activity_date": 1521674536, "creation_date": 1521674536, "answer_id": 49418091, "question_id": 49417719, "link": "https://stackoverflow.com/questions/49417719/dynamic-dictionary-recursion-in-python3/49418091#49418091", "title": "Dynamic dictionary recursion in Python3", "body": "<p>You're just doing it wrong, if you want it to be recursive, write the function as a recursive function. It's essentially a custom (recursive) map function for a dictionary. As for your expected dictionary, I'm not sure how you'd ever get <code>Faker</code> to deterministically give you that same output every time. It's random...</p>\n\n<p>Note: There is nothing \"dynamic\" about this, it's just a recursive map function.</p>\n\n<pre><code>from faker import Faker\nimport pprint\n\npp = pprint.PrettyPrinter(indent=4)\nfake = Faker()\n\ndef map_val(key, val):\n    if key[0] == 'M' or key[0] == 'B':\n        names = [(fake.first_name(), fake.uri()) for i in range(5)]\n        return {k : map_val(k, v) for k,v in names}\n    else:\n        return val\n\n#uncomment below to generate 5 initial names\n#names = [(fake.first_name(), fake.uri()) for i in range(5)]\n#initial_dict = {k : v for k,v in names}\n\ninitial_dict = {\n     \"Marcia\": \"https://www.skinner.biz/categories/tags/terms.htm\",\n     \"Nicholas\": \"https://scott-tran.com/\",\n     \"Christopher\": \"https://www.ellis.com/\",\n     \"Paul\": \"https://lopez.com/index/\",\n     \"Jennifer\": \"https://www.sosa.com/wp-content/main/login.php\"\n}\n\ndict_2 = {k : map_val(k,v) for k,v in initial_dict.items()}\n\npp.pprint(dict_2)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>rpg711$ python nested_dicts.py \n\n{   'Christopher': 'https://www.ellis.com/',\n    'Jennifer': 'https://www.sosa.com/wp-content/main/login.php',\n    'Marcia': {   'Chelsea': 'http://francis.org/category.jsp',\n                  'Heather': 'http://www.rodgers.com/privacy.jsp',\n                  'Jaime': 'https://bates-molina.com/register/',\n                  'John': 'http://www.doyle.com/author.htm',\n                  'Kimberly': 'https://www.harris.org/homepage/'},\n    'Nicholas': 'https://scott-tran.com/',\n    'Paul': 'https://lopez.com/index/'\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1720, "user_id": 3130735, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/144eeadac497b4ef167d0012a7d81f86?s=128&d=identicon&r=PG&f=1", "display_name": "TTT", "link": "https://stackoverflow.com/users/3130735/ttt"}, "edited": false, "score": 1, "creation_date": 1521674819, "post_id": 49418092, "comment_id": 85837981, "body": "yuck, using isinstance in python is a no-no except in very few cases."}, {"owner": {"reputation": 174, "user_id": 7884214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_Pi1eA_Bqc/AAAAAAAAAAI/AAAAAAAARXY/NyN5RzuLLEw/photo.jpg?sz=128", "display_name": "initialed85", "link": "https://stackoverflow.com/users/7884214/initialed85"}, "reply_to_user": {"reputation": 1720, "user_id": 3130735, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/144eeadac497b4ef167d0012a7d81f86?s=128&d=identicon&r=PG&f=1", "display_name": "TTT", "link": "https://stackoverflow.com/users/3130735/ttt"}, "edited": false, "score": 0, "creation_date": 1521674942, "post_id": 49418092, "comment_id": 85838022, "body": "That&#39;s an interesting observation, I was unaware- are you able to help me understand why?"}, {"owner": {"reputation": 1720, "user_id": 3130735, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/144eeadac497b4ef167d0012a7d81f86?s=128&d=identicon&r=PG&f=1", "display_name": "TTT", "link": "https://stackoverflow.com/users/3130735/ttt"}, "edited": false, "score": 0, "creation_date": 1521675149, "post_id": 49418092, "comment_id": 85838086, "body": "Checking for types in a dynamically typed language is generally bad practice, especially unpythonic in Python. The whole point of a dynamically typed language is that types don&#39;t matter, the python interpreter only cares about the names that an object has... lending to much of the power of using such a language in the first place. As a concrete example, see this: <a href=\"https://stackoverflow.com/questions/17028722/is-this-duck-typing-in-python\" title=\"is this duck typing in python\">stackoverflow.com/questions/17028722/&hellip;</a>"}, {"owner": {"reputation": 1720, "user_id": 3130735, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/144eeadac497b4ef167d0012a7d81f86?s=128&d=identicon&r=PG&f=1", "display_name": "TTT", "link": "https://stackoverflow.com/users/3130735/ttt"}, "edited": false, "score": 0, "creation_date": 1521675310, "post_id": 49418092, "comment_id": 85838127, "body": "And as an aside, just because an object is of a certain type in python does not mean that it is the same &quot;type&quot; of object as a reference object of that type (at least, not as you would expect in a statically typed language), because python supports dynamic binding of names to instances."}, {"owner": {"reputation": 174, "user_id": 7884214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_Pi1eA_Bqc/AAAAAAAAAAI/AAAAAAAARXY/NyN5RzuLLEw/photo.jpg?sz=128", "display_name": "initialed85", "link": "https://stackoverflow.com/users/7884214/initialed85"}, "reply_to_user": {"reputation": 1720, "user_id": 3130735, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/144eeadac497b4ef167d0012a7d81f86?s=128&d=identicon&r=PG&f=1", "display_name": "TTT", "link": "https://stackoverflow.com/users/3130735/ttt"}, "edited": false, "score": 0, "creation_date": 1521675649, "post_id": 49418092, "comment_id": 85838228, "body": "So in the example I posted with the recursive function, what would be the correct way to approach that?  Simply <code>for x in thing</code> won&#39;t work for both a dict and a list/set/tuple, as for a dict it&#39;ll merely iterate the keys, but at the same time lists etc don&#39;t have <code>itervalues()</code>  Should I be <code>hasattr(thing, &#39;itervalues&#39;)</code> or something to decide how to iterate on it?"}, {"owner": {"reputation": 11, "user_id": 9531401, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "old codgertator", "link": "https://stackoverflow.com/users/9531401/old-codgertator"}, "edited": false, "score": 0, "creation_date": 1521680718, "post_id": 49418092, "comment_id": 85839408, "body": "Thank you Edward, for your detailed response and then again for this tidbit.  I knew it had to be way more simple than I was making it.  So right before it calls it&#39;s self I could add the check for letters B or M and call it again if so.  thank you for your help.  I suppose that took 5 minutes to write?  I&#39;m still a hack.  Is it practice or training I need?"}, {"owner": {"reputation": 174, "user_id": 7884214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_Pi1eA_Bqc/AAAAAAAAAAI/AAAAAAAARXY/NyN5RzuLLEw/photo.jpg?sz=128", "display_name": "initialed85", "link": "https://stackoverflow.com/users/7884214/initialed85"}, "reply_to_user": {"reputation": 11, "user_id": 9531401, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "old codgertator", "link": "https://stackoverflow.com/users/9531401/old-codgertator"}, "edited": false, "score": 0, "creation_date": 1521683326, "post_id": 49418092, "comment_id": 85839940, "body": "@oldcodgertator If instead of printing the value in <code>print_it_out</code> you did your if &#39;B&#39; or &#39;M&#39; check and return the 5-item dictionary as required I think you&#39;d get your desired result; you&#39;d also need to change the calls to .<code>deep_do_something_if_string(v, something)</code> to be <code>v = deep_do_something_if_string(v, something)</code> And practice makes perfect my friend- for me at least it helps to find a tangible problem to solve, some daily computer frustration that could be automated for example."}], "tags": [], "owner": {"reputation": 174, "user_id": 7884214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-J_Pi1eA_Bqc/AAAAAAAAAAI/AAAAAAAARXY/NyN5RzuLLEw/photo.jpg?sz=128", "display_name": "initialed85", "link": "https://stackoverflow.com/users/7884214/initialed85"}, "is_accepted": false, "score": -1, "last_activity_date": 1521674898, "last_edit_date": 1521674898, "creation_date": 1521674541, "answer_id": 49418092, "question_id": 49417719, "link": "https://stackoverflow.com/questions/49417719/dynamic-dictionary-recursion-in-python3/49418092#49418092", "title": "Dynamic dictionary recursion in Python3", "body": "<p>Recursion is when a function calls itself; when designing a recursive function, it's important to have an exit condition in mind (i.e. when will the recursion stop).</p>\n\n<p>Let's consider a contrived example to increment a number until it reaches a certain value:</p>\n\n<pre><code>def increment_until_equal_to_or_greater_than_value(item, target):\n    print 'item is', item,\n    if item &lt; target:\n        print 'incrementing'\n        item += 1\n        increment_until_equal_to_or_greater_than_value(item, target)\n    else:\n        print 'returning'\n        return item\n\n\nincrement_until_equal_to_or_greater_than_value(1, 10)\n</code></pre>\n\n<p>And the output</p>\n\n<pre><code>item is 1 incrementing\nitem is 2 incrementing\nitem is 3 incrementing\nitem is 4 incrementing\nitem is 5 incrementing\nitem is 6 incrementing\nitem is 7 incrementing\nitem is 8 incrementing\nitem is 9 incrementing\nitem is 10 returning\n</code></pre>\n\n<p>You can see we've defined our recursive part in the <code>if</code> statement and the exit condition in the <code>else</code>.</p>\n\n<p>I've put together a snippet that shows a recursive function on a nested data structure.</p>\n\n<p>It doesn't solve exactly your issue, this way you can learn by dissecting it and making it fit for your use case.</p>\n\n<pre><code># our recursive method\ndef deep_do_something_if_string(source, something):\n    # if source is a dict, iterate through it's values\n    if isinstance(source, dict):\n        for v in source.itervalues():\n            # call this method on the value\n            deep_do_something_if_string(v, something)\n\n    # if source is a list, tuple or set, iterate through it's items\n    elif isinstance(source, (list, tuple, set)):\n        for v in source:\n            deep_do_something_if_string(v, something)\n\n    # otherwise do something with the value\n    else:\n        return something(source)\n\n\n# a test something to do with the value\ndef print_it_out(value):\n    print value\n\n\n# an example data structure\nsome_dict = {\n    'a': 'value a',\n    'b': [\n        {\n            'c': 'value c',\n            'd': 'value d',\n        },\n    ],\n    'e': {\n        'f': 'value f',\n        'g': {\n            'h': {\n                'i': {\n                    'j': 'value j'\n                }\n            }\n        }\n    }\n}\n\ndeep_do_something_if_string(some_dict, print_it_out)\n</code></pre>\n\n<p>And the output</p>\n\n<pre><code>value a\nvalue c\nvalue d\nvalue j\nvalue f\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9531401, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "old codgertator", "link": "https://stackoverflow.com/users/9531401/old-codgertator"}, "is_accepted": false, "score": 0, "last_activity_date": 1521761864, "creation_date": 1521761864, "answer_id": 49440182, "question_id": 49417719, "link": "https://stackoverflow.com/questions/49417719/dynamic-dictionary-recursion-in-python3/49440182#49440182", "title": "Dynamic dictionary recursion in Python3", "body": "<p>Thank you all for your help.  I've managed to figure it out.\nIt now builds a dynamic dictionary or dynamic json for whatever need.</p>\n\n<pre><code>import sys, json\nfrom faker import Faker\nfake = Faker()\n\ndef build_dic(dic_len, dic):\n  if isinstance(dic, (list, tuple)):\n    dic = dict(dic)\n  if isinstance(dic, dict):\n    for counter in range(len(dic)):\n      for k,v in dic.items():\n        if k[0] == 'B' or k[0] == \"M\":\n          update = [(fake.first_name(), fake.uri()) for i in range(5)]\n          update = dict(update)\n          dic.update({k: update})\n  return dic\n\ndef walk(dic):\n  for key, item in dic.items():\n      #print(type(item))\n      if isinstance(item, dict):\n        build_dic(5, item)\n        walk(item)\n  return dic\n\na = build_dic(10, ([(fake.first_name(), fake.uri()) for i in range(10)]))\nwalk(a)\nprint(json.dumps(a, indent=4))\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9531401, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "old codgertator", "link": "https://stackoverflow.com/users/9531401/old-codgertator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1521761864, "creation_date": 1521672158, "question_id": 49417719, "link": "https://stackoverflow.com/questions/49417719/dynamic-dictionary-recursion-in-python3", "title": "Dynamic dictionary recursion in Python3", "body": "<p>I've been working on this for too long and need some help.\nI'm trying to create a dictionary using faker.  If it were only that simple.\nInitially the dictionary is flat.  A key and item.  If the first letter of the key is 'B' or 'M' it will then turn that string, into a dictionary with 5 keys and keep doing that until it finds none starting with either of those two letters.  I know, there's no recursion happening now. That's why I need help.  I'm trying to figure out how to properly recurse rather than hard code the depth.</p>\n\n<pre><code>Starting Dictionary:\n{\n     \"Marcia\": \"https://www.skinner.biz/categories/tags/terms.htm\",\n     \"Nicholas\": \"https://scott-tran.com/\",\n     \"Christopher\": \"https://www.ellis.com/\",\n     \"Paul\": \"https://lopez.com/index/\",\n     \"Jennifer\": \"https://www.sosa.com/wp-content/main/login.php\"\n}\n</code></pre>\n\n<p>Marcia should expand to this...</p>\n\n<pre><code>Example:\n    \"Marcia\": {\n        \"Alexander\": \"http://hicks.net/home.html\",\n        \"Barry\": {\n            \"Jared\": \"https://www.parker-robinson.com/faq.html\",\n            \"Eddie\": \"https://www.smith-thomas.com/\",\n            \"Ryan\": \"https://www.phillips.org/homepage/\",\n            \"Mary\": {\n               \"Alex\": \"http://www.perry.com/tags/explore/post.htm\",\n               \"Joseph\": \"https://www.hansen.com/main/list/list/index/\",\n               \"Alicia\": \"https://www.tran.biz/wp-content/explore/posts/\",\n               \"Anna\": \"http://lee-mclaughlin.biz/search/login/\",\n               \"Kevin\": \"https://blake.net/main/index/\"\n            }\n           \"Evan\": \"http://carroll.com/homepage.html\"\n        }\n        \"Sharon\": \"https://www.watson.org/categories/app/login/\",\n        \"Hayley\": \"https://www.parks.com/\",\n        \"William\": \"https://www.wyatt-ware.com/\"\n    }\n</code></pre>\n\n<p>My code is more manual than dynamic in that I must explicitly know now many levels deep the dictionary goes rather than dynamically figuring it out.</p>\n\n<p>Here's what I have that works to the depth of 2 levels but I want to to find any key starting with 'B' or 'M' and acting on it.</p>\n\n<pre><code>import json\nfrom build_a_dictionary import add_dic\nfrom faker import Faker\n\ndic = add_dic(10)\ndic1 = {}\ndic2 = {}\n\ndef build_dic(dic_len):\n  dic1 = {}\n  fake = Faker()\n  if len(dic1) == 0:\n    dic1 = add_dic(dic_len)\n  print(json.dumps(dic1, indent=4))\n  for k, v in dic1.items():\n    dic2[k] = add_dic(dic_len)\n    for key in dic2[k].keys():\n      for f in key:\n        if f == 'B' or f == 'M':\n          dic2[k][key] = add_dic(dic_len)\n  return dic2\n</code></pre>\n\n<p>Here is the code from add_dic() I wrote:</p>\n\n<pre><code>import string, time\nfrom faker import Faker  #had to install with pip\nfake = Faker()\ndic = {}\ndics = {}\nkey = \"\"\ndef add_dic(x):\n  dic={}\n  start = time.time()\n  if x &gt; 690:\n    print(\"Please select a value under 690\")\n    sys.exit()\n  for n in range(x):\n    while len(dic) &lt; x:\n      key = fake.first_name()\n      if key in dic.keys():\n        break\n      val = fake.uri()\n      dic[key] = val\n  end = time.time()\n  runtime = end - start\n  return dic\n</code></pre>\n"}, {"tags": ["python", "pyqt", "qml", "pyqt5", "qqmlcomponent"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1521672382, "post_id": 49417693, "comment_id": 85837224, "body": "what is SignalHandler?"}, {"owner": {"reputation": 75, "user_id": 1152671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1fb01fc6e26e699446eae5ef2406fc?s=128&d=identicon&r=PG", "display_name": "spooky", "link": "https://stackoverflow.com/users/1152671/spooky"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1521672840, "post_id": 49417693, "comment_id": 85837366, "body": "I added the SignlaHandler  code as well. It just is a simple QObject that is used to handle some calls from the view."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 1152671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1fb01fc6e26e699446eae5ef2406fc?s=128&d=identicon&r=PG", "display_name": "spooky", "link": "https://stackoverflow.com/users/1152671/spooky"}, "edited": false, "score": 0, "creation_date": 1521681691, "post_id": 49418165, "comment_id": 85839606, "body": "Thank you very much. That is exactly what I&#39;m looking for. One additional question: Is it good practice to let python load the QML-Views (I&#39;m going for sort of an MVC/MVVM pattern), or should I somehow delegate it to QML. Is there an easier way to identify elements in my view? (Currently using objectName Property and findChild-Method). Thanks again"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 75, "user_id": 1152671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1fb01fc6e26e699446eae5ef2406fc?s=128&d=identicon&r=PG", "display_name": "spooky", "link": "https://stackoverflow.com/users/1152671/spooky"}, "edited": false, "score": 0, "creation_date": 1521681935, "post_id": 49418165, "comment_id": 85839645, "body": "@spooky  Actually what is recommended is not to create components from python/C++, but to create new types of items, or properties. For example, create the business logic in python/C++ and inject it into the QML, let the main task of the GUI do it QML. The other question, access by objectName and findChildren is the best way to access the elements."}, {"owner": {"reputation": 75, "user_id": 1152671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1fb01fc6e26e699446eae5ef2406fc?s=128&d=identicon&r=PG", "display_name": "spooky", "link": "https://stackoverflow.com/users/1152671/spooky"}, "edited": false, "score": 0, "creation_date": 1521686754, "post_id": 49418165, "comment_id": 85840815, "body": "I might be missing something here. I have seen that I can register my own types (via qmlRegisterType) and that if I use it a new Object of my QObject (with pyqtProperty) is created. However, my business logic should still decide which (and when) a particular view is created. Then I&#39;m still left with loading qml files or types from python. Maybe you have a link/tutorial that I could take a look at?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 75, "user_id": 1152671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1fb01fc6e26e699446eae5ef2406fc?s=128&d=identicon&r=PG", "display_name": "spooky", "link": "https://stackoverflow.com/users/1152671/spooky"}, "edited": false, "score": 0, "creation_date": 1521687093, "post_id": 49418165, "comment_id": 85840898, "body": "I recommend you not mix the .py with the .qml much, create an object made in python but manage the visibility in the QML. I mean try to do most things in the QML, and if you can not do it just in the .py. To load new components there are Loaders or Component. QML is prepared to do most things, in fact many QML things are written in python."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 2, "last_activity_date": 1521675017, "creation_date": 1521675017, "answer_id": 49418165, "question_id": 49417693, "link": "https://stackoverflow.com/questions/49417693/injecting-properties-into-qml-component/49418165#49418165", "title": "Injecting Properties into QML-Component", "body": "<p>From what I understand, you want to load the configuration object only in <code>TestViewButton.qml</code> and it is not visible in <code>SimpleMainWindow.qml</code>.</p>\n\n<p>To do this <code>TestViewButton.qml</code> must have its own <code>QQmlContext</code> when it is loaded and is not the <code>rootContext()</code>.</p>\n\n<p>To test my response and observe that behavior we will create a similar button that tries to use the <code>configurator</code>, if this is pressed it should throw an error noting that the property does not exist but if the button loaded is pressed by the <code>QQmlComponent</code> should do its job normally.</p>\n\n<p><strong>qml/SimpleMainWindow.qml</strong></p>\n\n<pre><code>import QtQuick 2.9\nimport QtQuick.Window 2.2\nimport QtQuick.Controls 2.3\nimport QtQuick.Controls 1.4\n\nApplicationWindow {\n    id: window\n    visible: true\n    width: 640\n    color: \"red\"\n    height: 480\n    title: qsTr(\"Hello World\")\n\n    Button {\n        x: 100\n        y: 100\n        text: \"ApplicationWindow\"\n        onClicked: {\n            console.log(\"ApplicationWindow\")\n            configurator.sum(1, 2)\n            configurator.info(\"TestOutput\")\n        }\n    }\n}\n</code></pre>\n\n<p>As I commented previously I added the component with a new context:</p>\n\n<pre><code>if __name__ == \"__main__\":\n    app = QGuiApplication(sys.argv)\n    engine = QQmlApplicationEngine()\n\n    configurator = SignalHandler()\n\n    engine.load(\"qml/SimpleMainWindow.qml\")\n    engine.quit.connect(app.quit)\n\n    rootWindow = engine.rootObjects()[0]\n    content_item = rootWindow.property(\"contentItem\")\n\n    context = QQmlContext(engine)\n    component = QQmlComponent(engine)\n    component.loadUrl(QUrl(\"qml/TestViewButton.qml\"))\n    itm = component.create(context)\n    context.setContextProperty(\"configurator\", configurator)\n    itm.setProperty(\"parent\", content_item)\n\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>At the end we get the following output:</p>\n\n<pre><code>qml: Component\nAdding two numbers\nSTR TestOutput\nqml: ApplicationWindow\nfile:///xxx/qml/SimpleMainWindow.qml:20: ReferenceError: configurator is not defined\nqml: Component\nAdding two numbers\nSTR TestOutput\nqml: ApplicationWindow\nfile:///xxx/qml/SimpleMainWindow.qml:20: ReferenceError: configurator is not defined\n</code></pre>\n\n<p>Where we observe the desired behavior. The complete example can be found in the following <a href=\"https://github.com/eyllanesc/stackoverflow/tree/master/49417693\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}], "owner": {"reputation": 75, "user_id": 1152671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1fb01fc6e26e699446eae5ef2406fc?s=128&d=identicon&r=PG", "display_name": "spooky", "link": "https://stackoverflow.com/users/1152671/spooky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 49418165, "answer_count": 1, "score": 1, "last_activity_date": 1521675017, "creation_date": 1521672059, "last_edit_date": 1521672795, "question_id": 49417693, "link": "https://stackoverflow.com/questions/49417693/injecting-properties-into-qml-component", "title": "Injecting Properties into QML-Component", "body": "<p>I am fairly new to Qt/PyQt and currently struggling with some basic functionality. What I'm trying to do is, to dynamically load QML-Views (*.qml) files from python and replace specific content on the fly. For example a checkbox gets checked and part of my current view is replaced with another qml file. First I wanted to provide this logic via PyQt, but it seems a StackView is a better idea (<a href=\"https://stackoverflow.com/questions/40462362/multiple-qml-files-in-pyqt\">multiple qml files in pyqt</a>).</p>\n\n<p>However, in this case I am not able to inject properties into my QML files. I am only able to inject a property into the rootContext. That however limits the usage of my QML-Views since I can only use one view (of the same type) at once. I would like to inject properties dynamically into QML-Views and make them only visible to this particular view. In this case I can use the same view more than once with more than one object in the back-end to catch the signals.</p>\n\n<p>Here is my SimpleMainWindow.qml file (the main view:\n</p>\n\n<pre><code>import QtQuick 2.9\nimport QtQuick.Window 2.2\nimport QtQuick.Controls 2.3\nimport QtQuick.Controls 1.4\n\nApplicationWindow {\n    id: window\n    visible: true\n    width: 640\n    height: 480\n    title: qsTr(\"Hello World\")\n    objectName : \"WINDOW\"\n    property ApplicationWindow appWindow : window\n\n}\n</code></pre>\n\n<p>And here the file I try to load (TestViewButton.qml):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import QtQuick 2.9\nimport QtQuick.Controls 1.4\n\nButton {\n    id: test\n    text: \"test\"\n    objectName : \"Button\"\n    onClicked: {\n        configurator.sum(1, 2)\n        configurator.info(\"TestOutput\")\n    }\n}\n</code></pre>\n\n<p>Python file loading QML-View (Component)</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from PyQt5.QtCore import QObject, QUrl\nfrom PyQt5.QtGui import QGuiApplication\nfrom PyQt5.QtQml import QQmlApplicationEngine, QQmlComponent\n\nif __name__ == \"__main__\":\n    app = QGuiApplication(sys.argv)\n    engine = QQmlApplicationEngine()\n\n    engine.load(\"qml/SimpleMainWindow.qml\")\n    engine.quit.connect(app.quit)\n\n    rootWindow = engine.rootObjects()[0].children()[0].parent()\n\n    # create component\n    component = QQmlComponent(engine)\n    component.loadUrl(QUrl(\"qml/TestViewButton.qml\"))\n\n    configurator = SignalHandler()\n    component.setProperty(\"configurator\", configurator)\n\n    itm = component.create()\n    itm.setParentItem(rootWindow.children()[0])\n\n    itm.setProperty(\"configurator\", configurator)\n\n    app.exec_()\n</code></pre>\n\n<p>And the python object that I use to handle the signals from the view (SignalHandler.py):</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from PyQt5.QtCore import QObject, pyqtSlot\n\nclass SignalHandler(QObject):\n\n    @pyqtSlot(int, int)\n    def sum(self, arg1, arg2):\n        print(\"Adding two numbers\")\n\n    @pyqtSlot(str)\n    def info(self, arg1):\n        print(\"STR \" + arg1)\n</code></pre>\n\n<p>The button loads fine (by the way, is there a better way to identify the parent I want to add my button to, wasn't having any look with findChild). What is not working is the component.setProperty.... part. If I set the property in the rootContext of the engine it works fine (the SignalHandler methods are called). Already checked similar topics (like <a href=\"https://stackoverflow.com/questions/44175013/load-a-qml-component-from-another-qml-file-dynamically-and-access-that-component\">Load a qml component from another qml file dynamically and access that component&#39;s qml type properties</a> ...)</p>\n\n<p>Is this possible, or am I getting something wrong here?</p>\n\n<p>thanks</p>\n"}, {"tags": ["python", "pandas", "tsql"], "comments": [{"owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1521672212, "post_id": 49417653, "comment_id": 85837170, "body": "@roganjosh I updated question and showed what I tried. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "edited": false, "score": 0, "creation_date": 1521672430, "post_id": 49417715, "comment_id": 85837234, "body": "Gives me an error: ValueError: multi-line expressions are only valid in the context of data, use DataFrame.eval"}, {"owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "edited": false, "score": 0, "creation_date": 1521672666, "post_id": 49417715, "comment_id": 85837300, "body": "` File &quot;&lt;unknown&gt;&quot;, line 1     &#39;2018-01-01&#39;&lt;=EffectiveDate &lt;=&#39;2018-03-01&#39;AND PolicyType =&#39;New Business&#39;AND SICCode IN [4210 ,4211 ,4213 ]                                                 ^ SyntaxError: invalid syntax`"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "edited": false, "score": 0, "creation_date": 1521672811, "post_id": 49417715, "comment_id": 85837359, "body": "@Oleg, please provide a small sample data set (in CSV/TEXT/Python code format) in your question"}, {"owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "edited": false, "score": 0, "creation_date": 1521673359, "post_id": 49417715, "comment_id": 85837549, "body": "So there is a way to upload csv/text file?"}, {"owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "edited": false, "score": 0, "creation_date": 1521673973, "post_id": 49417715, "comment_id": 85837756, "body": "I shared sample of data via Dropbox"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1521753009, "last_edit_date": 1521753009, "creation_date": 1521672130, "answer_id": 49417715, "question_id": 49417653, "link": "https://stackoverflow.com/questions/49417653/how-can-i-conver-sql-select-statement-to-python-pandas/49417715#49417715", "title": "How can I conver SQL select statement to Python pandas?", "body": "<p>First make sure you are using correct dtypes:</p>\n\n<pre><code>codes = ['4120','4211']\n#        ^    ^ ^    ^\n</code></pre>\n\n<p><code>DataFrame.query()</code> is picky in terms of case-sensitivity, so use lower case predicates <code>and</code>, <code>in</code> and use <code>==</code> instead of <code>=</code> (assignment in Python)</p>\n\n<pre><code>In [112]: qry = \"\"\"'2018-01-01' &lt;= EffectiveDate &lt;= '2018-03-01' and PolicyType =='NewBusiness' and SICCode in @codes\"\"\"\n     ...: df.query(qry).groupby('Producer', as_index=False)['Premium'].sum()\n     ...:\nOut[112]:\n  Producer Premium\n0    Prod1    1000\n</code></pre>\n"}], "owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521753009, "creation_date": 1521671825, "last_edit_date": 1592644375, "question_id": 49417653, "link": "https://stackoverflow.com/questions/49417653/how-can-i-conver-sql-select-statement-to-python-pandas", "title": "How can I conver SQL select statement to Python pandas?", "body": "<p>I have my dataset 'df'.\nHow can I group data based on conditions using pandas?</p>\n<p>In t-sql that would be:</p>\n<pre><code>select Producer, sum(Premim) as Premium\nfrom df\nwhere EffectiveDate BETWEEN '2018-01-01' and '2018-03-01'\nAND PolicyType = 'New Business'\nAND SICCode IN (4210,4211,4213)\nGROUP BY Producer\nOrder by Premium DESC\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Jlu16.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jlu16.png\" alt=\"enter image description here\" /></a></p>\n<p>What I tried:</p>\n<h1>select top 10 Premium GroupBy PolicyNumber</h1>\n<pre><code>df['Premium'].groupby(df['PolicyNumber']).sum().head(10)\n</code></pre>\n<p>Also tried:</p>\n<pre><code>select * by range of EffectiveDate\ndf[df[&quot;EffectiveDate&quot;].isin(pd.date_range('2017-01-01', '2018-03-28'))]\n</code></pre>\n<p>But how to compile everything in one block of code?</p>\n<p>UPDATE:\nPython data sample:</p>\n<pre><code>import pandas as pd\nimport numpy as np\ndf = pd.DataFrame({'Producer': 'Prod1 Prod2'.split(),\n                   'Premium': '1000 2000'.split(),\n                   'EffectiveDate': '2018-01-01 2018-03-31'.split(),\n                   'SICCode': '4120 4113'.split(),\n                   'PolicyType': 'NewBusiness Renewal'.split()\n                   })\nprint(df)\n</code></pre>\n<p>UPDATE:\nData sample can be found here:\n<a href=\"https://www.dropbox.com/s/2jh8crbwkhkn82z/SampleData.xlsx?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/2jh8crbwkhkn82z/SampleData.xlsx?dl=0</a></p>\n"}, {"tags": ["python", "twitter", "tweepy", "http-status-code-401"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1521672233, "post_id": 49417648, "comment_id": 85837175, "body": "Looks like this open bug: <a href=\"https://github.com/tweepy/tweepy/issues/877\" rel=\"nofollow noreferrer\">401 Unauthorized when streaming</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7217, "user_id": 1454879, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EdYUw.jpg?s=128&g=1", "display_name": "Joe Mayo", "link": "https://stackoverflow.com/users/1454879/joe-mayo"}, "is_accepted": false, "score": 0, "last_activity_date": 1521843281, "creation_date": 1521843281, "answer_id": 49458971, "question_id": 49417648, "link": "https://stackoverflow.com/questions/49417648/tweepy-401-error-in-python-due-to-server-time-difference/49458971#49458971", "title": "Tweepy 401 error in python due to server time difference", "body": "<p>When you send an HTTP request to the Twitter API server, it will send a response back. You should capture the response headers, which will include their server time, like this:</p>\n\n<pre><code>HTTP/1.1 200 OK\ncache-control: no-cache, no-store, must-revalidate, pre-check=0, post-check=0\ncontent-encoding: gzip\ncontent-length: 128\ncontent-security-policy: default-src 'none'; connect-src 'self'; font-src https://abs.twimg.com https://abs-0.twimg.com data:; frame-src 'self' twitter:; img-src https://abs.twimg.com https://*.twimg.com https://pbs.twimg.com data:; media-src 'none'; object-src 'none'; script-src https://abs.twimg.com https://abs-0.twimg.com https://twitter.com https://mobile.twitter.com; style-src https://abs.twimg.com https://abs-0.twimg.com; report-uri https://twitter.com/i/csp_report?a=NVQWGYLXFVWG6Z3JNY%3D%3D%3D%3D%3D%3D&amp;ro=false;\ncontent-type: text/html;charset=utf-8\ndate: Fri, 23 Mar 2018 22:07:58 GMT\nexpires: Tue, 31 Mar 1981 05:00:00 GMT\nlast-modified: Fri, 23 Mar 2018 22:07:58 GMT\nml: S\npragma: no-cache\nserver: tsa_a\nset-cookie: personalization_id=\"v1_nP/EL/R5y9o+PHvzC1MJ+Q==\"; Expires=Sun, 22 Mar 2020 22:07:58 UTC; Path=/; Domain=.twitter.com\nset-cookie: guest_id=v1%3A152184287871578374; Expires=Sun, 22 Mar 2020 22:07:58 UTC; Path=/; Domain=.twitter.com\nstatus: 200 OK\nstrict-transport-security: max-age=631138519\nx-connection-hash: 2845e4d99e8f17d11e186a489c475414\nx-content-type-options: nosniff\nx-frame-options: SAMEORIGIN\nx-response-time: 83\nx-transaction: 003e14470092d818\nx-twitter-response-tags: BouncerCompliant\nx-ua-compatible: IE=edge,chrome=1\nx-xss-protection: 1; mode=block; report=https://twitter.com/i/xss_report\n</code></pre>\n\n<p>notice the <code>date</code> header:</p>\n\n<pre><code>date: Fri, 23 Mar 2018 22:07:58 GMT\n</code></pre>\n\n<p>It's using GMT, so if your server is set to a different time zone, adjust for the time difference.</p>\n\n<p>I used Fiddler and got this response from the OAuth request token (<a href=\"https://api.twitter.com/oauth/request_token\" rel=\"nofollow noreferrer\">https://api.twitter.com/oauth/request_token</a>) endpoint - so, you don't have to be authorized before being able to do this.</p>\n"}], "owner": {"reputation": 123, "user_id": 8147515, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/79113cd4398c40a0419dc1bc16a09f50?s=128&d=identicon&r=PG&f=1", "display_name": "Divyang Vashi", "link": "https://stackoverflow.com/users/8147515/divyang-vashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 511, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521843281, "creation_date": 1521671803, "question_id": 49417648, "link": "https://stackoverflow.com/questions/49417648/tweepy-401-error-in-python-due-to-server-time-difference", "title": "Tweepy 401 error in python due to server time difference", "body": "<p>I am trying to retrieve Twitter data using Tweepy, using that below code, but it returns 401 error, and I regenerated the access and secret tokens but didnt make a difference</p>\n\n<pre><code>#Import the necessary methods from tweepy library\nfrom tweepy.streaming import StreamListener\nfrom tweepy import OAuthHandler\nfrom tweepy import Stream\n\n#Variables that contains the user credentials to access Twitter API \naccess_token = \"ENTER YOUR ACCESS TOKEN\"\naccess_token_secret = \"ENTER YOUR ACCESS TOKEN SECRET\"\nconsumer_key = \"ENTER YOUR API KEY\"\nconsumer_secret = \"ENTER YOUR API SECRET\"\n\n\n#This is a basic listener that just prints received tweets to stdout.\nclass StdOutListener(StreamListener):\n\n    def on_data(self, data):\n        print data\n        return True\n\n    def on_error(self, status):\n        print status\n\n\nif __name__ == '__main__':\n\n    #This handles Twitter authetification and the connection to Twitter Streaming API\n    l = StdOutListener()\n    auth = OAuthHandler(consumer_key, consumer_secret)\n    auth.set_access_token(access_token, access_token_secret)\n    stream = Stream(auth, l)\n\n    #This line filter Twitter Streams to capture data by the keywords: 'python', 'javascript', 'ruby'\n    stream.filter(track=['python', 'javascript', 'ruby'])\n</code></pre>\n\n<p>The code is available <a href=\"http://adilmoujahid.com/posts/2014/07/twitter-analytics/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I know for a fact that all the other things in the code are right and there are no syntax or authentication error. I read in an answer for the <a href=\"https://stackoverflow.com/questions/28412683/401-error-when-retrieving-twitter-data-using-tweepy\">question</a> that 401 error is also because of server-client time difference. </p>\n\n<p>My question is: To what do I set my system time to overcome this error? Or in other words how do I know the server time so as to change my system time?</p>\n"}, {"tags": ["python", "machine-learning", "deep-learning", "keras"], "answers": [{"tags": [], "owner": {"reputation": 3336, "user_id": 1269942, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abc009c30029c8f5ccf64388cfb088f9?s=128&d=identicon&r=PG", "display_name": "user1269942", "link": "https://stackoverflow.com/users/1269942/user1269942"}, "is_accepted": false, "score": 2, "last_activity_date": 1521674212, "creation_date": 1521674212, "answer_id": 49418027, "question_id": 49417546, "link": "https://stackoverflow.com/questions/49417546/keras-earlystopping-save-best-model/49418027#49418027", "title": "Keras: EarlyStopping save best model", "body": "<p>From my experience using the 'earlystopping' callback, the model will not be saved automatically...it will just stop training and when you save it manually, it will be the second option you present.\nTo have your model save each time val_loss decreases, see the following documentation page:\n<a href=\"https://keras.io/callbacks/\" rel=\"nofollow noreferrer\">https://keras.io/callbacks/</a> and look at the \"Example: model checkpoints\" section which will tell you exactly what to do.</p>\n\n<p>note that if you wish to re-use your saved model, I have had better luck using 'save_weights' in combo with saving the architecture in json. YMMV.</p>\n"}, {"tags": [], "owner": {"reputation": 4733, "user_id": 407108, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lyRjI.png?s=128&g=1", "display_name": "Justas", "link": "https://stackoverflow.com/users/407108/justas"}, "is_accepted": false, "score": 2, "last_activity_date": 1543268801, "creation_date": 1543268801, "answer_id": 53489576, "question_id": 49417546, "link": "https://stackoverflow.com/questions/49417546/keras-earlystopping-save-best-model/53489576#53489576", "title": "Keras: EarlyStopping save best model", "body": "<p>In v2.2.4+ of Keras, <a href=\"https://keras.io/callbacks/#earlystopping\" rel=\"nofollow noreferrer\">EarlyStopping</a> has a <code>restore_best_weights</code> parameter which, when set to <code>True</code>, will set the model to the state of best CV performance. For example:</p>\n\n<pre><code>EarlyStopping(restore_best_weights=True)\n</code></pre>\n"}], "owner": {"reputation": 14942, "user_id": 1179925, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/5403975c3b25b9407b19a26b65d1ce72?s=128&d=identicon&r=PG", "display_name": "mrgloom", "link": "https://stackoverflow.com/users/1179925/mrgloom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2464, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1543268801, "creation_date": 1521671272, "question_id": 49417546, "link": "https://stackoverflow.com/questions/49417546/keras-earlystopping-save-best-model", "title": "Keras: EarlyStopping save best model", "body": "<p>When I use <code>EarlyStopping</code> callback does Keras save best model in terms of <code>val_loss</code> or it save model on save_epoch = [best epoch in terms of <code>val_loss</code>] + YEARLY_STOPPING_PATIENCE_EPOCHS ?</p>\n\n<p>If it's second option, how to just save best model?</p>\n\n<p>Here is code snippet:</p>\n\n<pre><code>early_stopping = EarlyStopping(monitor='val_loss', patience=YEARLY_STOPPING_PATIENCE_EPOCHS)\n\nhistory = model.fit_generator(\n    train_generator,\n    steps_per_epoch=100, # 1 epoch = BATCH_SIZE * steps_per_epoch samples\n    epochs=N_EPOCHS,\n    validation_data=test_generator,\n    validation_steps=20,\n    callbacks=[early_stopping])\n\n#Save train log to .csv\npd.DataFrame(history.history).to_csv('vgg16_binary_crossentropy_train_log.csv', index=False)\n\nmodel.save('vgg16_binary_crossentropy.h5')\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "optionparser"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "edited": false, "score": 0, "creation_date": 1521673227, "post_id": 49417643, "comment_id": 85837506, "body": "I wrote the code. But what am I asserting? When I run my_script.py -t . (which is an invalid argument) the terminal gives me an error  my_script.py: error: no such option: -t"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "edited": false, "score": 0, "creation_date": 1521687040, "post_id": 49417643, "comment_id": 85840884, "body": "You want to assert that it raises <code>SystemExit</code>; the parser just calls <code>optparse.error</code>, which ultimately just calls <code>sys.exit</code>."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 0, "last_activity_date": 1521671768, "creation_date": 1521671768, "answer_id": 49417643, "question_id": 49417531, "link": "https://stackoverflow.com/questions/49417531/unittest-for-command-line-arguments/49417643#49417643", "title": "unittest for command line arguments", "body": "<p>First, you need a unit <em>to</em> test:</p>\n\n<pre><code>def parse_options(args=None):\n    # Duplicating the default behavior of OptionParser.parse_args\n    if args is None:\n        args = sys.argv[1:]\n\n    parser = OptionParser()\n\n    parser.add_option(\"-d\",\n                  action=\"callback\",\n                  callback=get_bios_difference,\n                  help=\"Check difference between two files\"\n                  )\n\n    (options, args) = parser.parse_args(args)\n\n    if not args:\n       parser.print_help()\n       exit()\n</code></pre>\n\n<p>Note that we explicitly pass <code>args</code> to <code>parse_args</code>, rather than let it assume <code>sys.argv</code> is to be parsed.</p>\n\n<p>In production, you can call <code>parse_options()</code> and it will work as before. For testing, you can call <code>parse_options([])</code> or <code>parse_options([\"-t\"])</code> or whatever other combination of arguments you want to test.</p>\n\n<hr>\n\n<p>All that said, you should be using <code>argparse</code> instead of <code>optparse</code> (which has been deprecated for years) in new code.</p>\n"}, {"comments": [{"owner": {"reputation": 1732, "user_id": 728363, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/KUTag.jpg?s=128&g=1", "display_name": "Steve3p0", "link": "https://stackoverflow.com/users/728363/steve3p0"}, "edited": false, "score": 0, "creation_date": 1547535451, "post_id": 49418610, "comment_id": 95215064, "body": "Any ideas how to do this in python 3?"}], "tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": false, "score": 0, "last_activity_date": 1521678109, "creation_date": 1521678109, "answer_id": 49418610, "question_id": 49417531, "link": "https://stackoverflow.com/questions/49417531/unittest-for-command-line-arguments/49418610#49418610", "title": "unittest for command line arguments", "body": "<p>OptionParser</p>\n\n<blockquote>\n  <p>Deprecated since version 2.7: The optparse module is deprecated and will not be developed further; development will continue with the argparse module.</p>\n</blockquote>\n\n<p>your questions has nothing to do with <code>unittest</code>? there is no need to <code>assert</code>, the <code>nargs=2</code> defined 2 items needed for <code>--d</code>.</p>\n\n<p><code>argparse</code> will check the number of args for you, here is <code>parameter.py</code></p>\n\n<pre><code>import argparse\nfrom pprint import pprint\n\ndef get_parser():\n    parser = argparse.ArgumentParser(description='example of argparse')\n\n    parser.add_argument('--d', type=str, nargs=2, help='2 files')\n    return parser\n\nif __name__ == '__main__':\n    parser = get_parser()\n    args = parser.parse_args(sys.argv[1:])\n    pprint(args)\n</code></pre>\n\n<p>run with 2 files:</p>\n\n<pre><code>parameter.py --d a b\nNamespace(d=['a', 'b'])\n</code></pre>\n\n<p>When run with 1 parameter</p>\n\n<pre><code>parameter.py --d a\nparameter.py: error: argument --d: expected 2 argument(s)\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 7068476, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b8fba3d51148d9ee84219f40c671bd29?s=128&d=identicon&r=PG&f=1", "display_name": "Steve ", "link": "https://stackoverflow.com/users/7068476/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1521678109, "creation_date": 1521671166, "question_id": 49417531, "link": "https://stackoverflow.com/questions/49417531/unittest-for-command-line-arguments", "title": "unittest for command line arguments", "body": "<p>How do I unit test my script for incorrect command line arguments? </p>\n\n<p>For example, </p>\n\n<blockquote>\n  <p>my_script.py -t</p>\n</blockquote>\n\n<p>should give an error since -t flag is not present, as shown in the code below:</p>\n\n<pre><code>parser = OptionParser()\n\nparser.add_option(\"-d\",\n              action=\"callback\",\n              callback=get_bios_difference,\n              help=\"Check difference between two files\"\n              )\n\n(options, args) = parser.parse_args()\n\nif len(sys.argv) == 1:  # if only 1 argument, it's the script name\n   parser.print_help()\n   exit()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "turtle-graphics"], "comments": [{"owner": {"reputation": 2334, "user_id": 3374785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6s7hE.jpg?s=128&g=1", "display_name": "Andrei Cioara", "link": "https://stackoverflow.com/users/3374785/andrei-cioara"}, "edited": false, "score": 1, "creation_date": 1521671194, "post_id": 49417524, "comment_id": 85836861, "body": "What is expected and what do you get? Why do you think this is broken?"}, {"owner": {"reputation": 73, "user_id": 5085909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c9c07154bd85386c9077a526e2907fd?s=128&d=identicon&r=PG&f=1", "display_name": "Sneh P", "link": "https://stackoverflow.com/users/5085909/sneh-p"}, "reply_to_user": {"reputation": 2334, "user_id": 3374785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6s7hE.jpg?s=128&g=1", "display_name": "Andrei Cioara", "link": "https://stackoverflow.com/users/3374785/andrei-cioara"}, "edited": false, "score": 0, "creation_date": 1521671315, "post_id": 49417524, "comment_id": 85836895, "body": "@AndreiCioara With the current code, the turtle will move randomly until it hits a wall. After that the loop stops and when I click the window it closes. I&#39;m trying so that when it hits a wall it bounces in a random direction and continues on until forcibly closed."}, {"owner": {"reputation": 953, "user_id": 5854343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/erVBq.jpg?s=128&g=1", "display_name": "Bobby Durrett", "link": "https://stackoverflow.com/users/5854343/bobby-durrett"}, "edited": false, "score": 0, "creation_date": 1521676526, "post_id": 49417524, "comment_id": 85838478, "body": "It looks like you are exiting the loop when your turtle goes outside of the bounds. Maybe you should stay in your loop forever and have an if statement that modifies the location and direction when you would go out of bounds?"}, {"owner": {"reputation": 73, "user_id": 5085909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c9c07154bd85386c9077a526e2907fd?s=128&d=identicon&r=PG&f=1", "display_name": "Sneh P", "link": "https://stackoverflow.com/users/5085909/sneh-p"}, "reply_to_user": {"reputation": 953, "user_id": 5854343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/erVBq.jpg?s=128&g=1", "display_name": "Bobby Durrett", "link": "https://stackoverflow.com/users/5854343/bobby-durrett"}, "edited": false, "score": 0, "creation_date": 1521679896, "post_id": 49417524, "comment_id": 85839234, "body": "@BobbyDurrett something like this?  `    while True:         turt.left(random.randrange(360))         turt.fd(random.randrange(50))         turtleX, turtleY = turt.pos()         print(turtleX, &quot;,&quot;, turtleY)         if (min_x &gt;= turtleX &gt;= max_x) and (min_y &gt;= turtleY &gt;= max_y):             turt.setheading(90)             turtleX, turtleY = turt.pos()`"}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1521684663, "post_id": 49417524, "comment_id": 85840284, "body": "I&#39;m voting to close as off-topic because there is no question here (and the implied \u201cWhat code do I write?\u201d is too broad)."}], "answers": [{"tags": [], "owner": {"reputation": 953, "user_id": 5854343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/erVBq.jpg?s=128&g=1", "display_name": "Bobby Durrett", "link": "https://stackoverflow.com/users/5854343/bobby-durrett"}, "is_accepted": false, "score": 0, "last_activity_date": 1521753005, "creation_date": 1521753005, "answer_id": 49438528, "question_id": 49417524, "link": "https://stackoverflow.com/questions/49417524/random-turtle-movement-bounce-off-wall/49438528#49438528", "title": "Random Turtle movement, bounce off wall", "body": "<p>Something like this:</p>\n\n<pre><code>while true:\n    if (min_x &lt;= turtleX &lt;= max_x) and (min_y &lt;= turtleY &lt;= max_y):\n        turt.left(random.randrange(360))\n        turt.fd(random.randrange(50))\n        turtleX, turtleY = turt.pos()\n        print(turtleX, \",\", turtleY)\n    else:\n# Put code here to move the turtle to where it intersected the edge\n# and then bounce off\n</code></pre>\n\n<p>I guess you have to figure out where the intersection point is.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 5085909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c9c07154bd85386c9077a526e2907fd?s=128&d=identicon&r=PG&f=1", "display_name": "Sneh P", "link": "https://stackoverflow.com/users/5085909/sneh-p"}, "edited": false, "score": 0, "creation_date": 1521755095, "post_id": 49438819, "comment_id": 85879899, "body": "Alright, that works! But is there a way to maybe stop or break the current course midway and reflect back? Because currently, let&#39;s say the turtle is at an edge, it goes 100units off screen then it returns. Maybe a way to stop or cut it off before the full 100units?"}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "reply_to_user": {"reputation": 73, "user_id": 5085909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c9c07154bd85386c9077a526e2907fd?s=128&d=identicon&r=PG&f=1", "display_name": "Sneh P", "link": "https://stackoverflow.com/users/5085909/sneh-p"}, "edited": false, "score": 1, "creation_date": 1521757464, "post_id": 49438819, "comment_id": 85880808, "body": "Either you delegate the next movement to the turtle, or you don&#39;t. If you delegate, you should detect the turtle being off limits, and fix it. If you don&#39;t, you should compute the new coordinates yourself, independently, and correctly, and split the would-be move into more than one segment (maybe 3 if close to a corner of a rectangle; recursion helps), then commandeer the turtle along the lines of the reflection you computed."}], "tags": [], "owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "is_accepted": true, "score": 1, "last_activity_date": 1521757581, "last_edit_date": 1521757581, "creation_date": 1521754277, "answer_id": 49438819, "question_id": 49417524, "link": "https://stackoverflow.com/questions/49417524/random-turtle-movement-bounce-off-wall/49438819#49438819", "title": "Random Turtle movement, bounce off wall", "body": "<p>Something like</p>\n\n<pre><code>old_position = turtle.position()  # Assume we're good here.\nturtle.move_somehow()  # Turtle computes its new position.\nturtle_x, turtle_y = turtle.position()  # Maybe we're off the canvas now.\nif not (min_x &lt;= turtle_x &lt;= max_x) or not (min_y &lt;= turtle_y &lt;= max_y):\n   turtle.goto(*old_position)  # Back to safely.\n   turtle.setheading(180 - turtle.heading())  # Reflect.\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5085909, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c9c07154bd85386c9077a526e2907fd?s=128&d=identicon&r=PG&f=1", "display_name": "Sneh P", "link": "https://stackoverflow.com/users/5085909/sneh-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 49438819, "answer_count": 2, "score": 1, "last_activity_date": 1521757581, "creation_date": 1521671118, "question_id": 49417524, "link": "https://stackoverflow.com/questions/49417524/random-turtle-movement-bounce-off-wall", "title": "Random Turtle movement, bounce off wall", "body": "<p>Created the program to randomize the movement of the turtle but cannot get it to bounce off the window/canvas limits. Tried a few solutions posted with similar questions but still no luck.</p>\n\n<pre><code>from turtle import Turtle, Screen\nimport random\n\ndef createTurtle(color, width):\n    tempName = Turtle(\"arrow\")\n    tempName.speed(\"fastest\")\n    tempName.color(color)\n    tempName.width(width)\n    return tempName\n\ndef inScreen(screen, turt):\n\n    x = screen.window_height() / 2\n    y = screen.window_height() / 2\n\n    min_x, max_x = -x, x\n    min_y, max_y = -y, y\n\n    turtleX, turtleY = turt.pos()\n\n    while (min_x &lt;= turtleX &lt;= max_x) and (min_y &lt;= turtleY &lt;= max_y):\n        turt.left(random.randrange(360))\n        turt.fd(random.randrange(50))\n        turtleX, turtleY = turt.pos()\n        print(turtleX, \",\", turtleY)\n\n\nwn = Screen()\n\nalpha = createTurtle(\"red\", 3)\n\ninScreen(wn, alpha)\n\nwn.exitonclick()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "github-api"], "answers": [{"comments": [{"owner": {"reputation": 1472, "user_id": 7087143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFEhW1u4eWk/AAAAAAAAAAI/AAAAAAAAAKU/GXpyPSDtC2s/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/7087143/karl"}, "reply_to_user": {"reputation": 47, "user_id": 9407268, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "mishi ahmad", "link": "https://stackoverflow.com/users/9407268/mishi-ahmad"}, "edited": false, "score": 0, "creation_date": 1521674739, "post_id": 49417603, "comment_id": 85837957, "body": "You might need to import HTTPError from the urllib package if you are using that. Ex: <code>from urllib import HTTPError</code>"}], "tags": [], "owner": {"reputation": 1472, "user_id": 7087143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FFEhW1u4eWk/AAAAAAAAAAI/AAAAAAAAAKU/GXpyPSDtC2s/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/7087143/karl"}, "is_accepted": true, "score": 2, "last_activity_date": 1521671549, "creation_date": 1521671549, "answer_id": 49417603, "question_id": 49417463, "link": "https://stackoverflow.com/questions/49417463/http-error-403-forbidden-with-exception-handling/49417603#49417603", "title": "Http Error 403: Forbidden with exception handling", "body": "<p>It's hard to know the proper way of handling it without knowing which packages you are using for that Request object and openurl method. I'm assuming you are using <a href=\"https://docs.python.org/3/library/urllib.html#module-urllib\" rel=\"nofollow noreferrer\">urllib</a>.</p>\n\n<p>I would put a try/except around the <code>urlopen(link)</code> to catch any errors that occur in the request.</p>\n\n<p>Something like this would work for urllib: </p>\n\n<pre><code>for link in author_url:\n        if link==\"None found\":\n            continue\n        link = Request(link,headers={'Accept': 'application/vnd.github.v3+json'})\n    try:\n        response = urlopen(link) \n    except HTTPError as e:\n        if e.code == 403:\n            # Handle error here\n    raw_json = response.read().decode(\"utf-8\") \n    author_data = json.loads(raw_json)\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 9407268, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "mishi ahmad", "link": "https://stackoverflow.com/users/9407268/mishi-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4259, "favorite_count": 1, "accepted_answer_id": 49417603, "answer_count": 1, "score": 1, "last_activity_date": 1521672181, "creation_date": 1521670792, "last_edit_date": 1521672181, "question_id": 49417463, "link": "https://stackoverflow.com/questions/49417463/http-error-403-forbidden-with-exception-handling", "title": "Http Error 403: Forbidden with exception handling", "body": "<p>Im trying to scrap the data from github api I have almost 1500 such links\n<a href=\"https://api.github.com/users/eviljeff\" rel=\"nofollow noreferrer\">Example link</a></p>\n\n<p>I am getting HTTP Error 403: Forbidden</p>\n\n<p>Any body give me any idea how can I handle it with exception handling in python?</p>\n\n<p>here is sample Code</p>\n\n<pre><code>for link in author_url:\n        if link==\"None found\":\n            continue\n        link = Request(link,headers={'Accept': 'application/vnd.github.v3+json'}) \n        response = urlopen(link) \n        raw_json = response.read().decode(\"utf-8\") \n        author_data = json.loads(raw_json)\n</code></pre>\n"}, {"tags": ["python", "ajax", "django"], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 8700465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874acc51b1cece2596bf8030ae93925a?s=128&d=identicon&r=PG", "display_name": "nomeh uchenna", "link": "https://stackoverflow.com/users/8700465/nomeh-uchenna"}, "is_accepted": false, "score": 0, "last_activity_date": 1521673927, "creation_date": 1521673927, "answer_id": 49417986, "question_id": 49417456, "link": "https://stackoverflow.com/questions/49417456/django-how-to-dynamically-load-form-to-current-html-page/49417986#49417986", "title": "Django: How to dynamically load form to current html page", "body": "<p>Another way you might achieve this is with JavaScript \n...you could have a function in JavaScript called <strong>include_form</strong> which will be used to include the form inside a div and it might look like this </p>\n\n<pre><code>function include_form(){\n    document.getElementById(\"form_div\").innerHTML = \"{% include 'folder/form.html'%}\";\n\nthis.location.reload()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 3, "last_activity_date": 1521704608, "creation_date": 1521704608, "answer_id": 49423113, "question_id": 49417456, "link": "https://stackoverflow.com/questions/49417456/django-how-to-dynamically-load-form-to-current-html-page/49423113#49423113", "title": "Django: How to dynamically load form to current html page", "body": "<p>The thing you're missing here is the JS script to attach to that button click. Something like (assuming jQuery):</p>\n\n<pre><code>$('#mybutton').get(\n    \"{% url 'tb_main:track' %}\",\n    function(data) { $('#myform').html(data) }\n);\n</code></pre>\n\n<p>and the HTML:</p>\n\n<pre><code>&lt;div id=\"myform\"&gt;&lt;/div&gt;\n&lt;button id=\"mybutton\"&gt;load form&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 670, "user_id": 2207618, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bd1e561856a20d167f7b544cb381d373?s=128&d=identicon&r=PG", "display_name": "danny bee", "link": "https://stackoverflow.com/users/2207618/danny-bee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3564, "favorite_count": 1, "accepted_answer_id": 49423113, "answer_count": 2, "score": 2, "last_activity_date": 1521704608, "creation_date": 1521670767, "question_id": 49417456, "link": "https://stackoverflow.com/questions/49417456/django-how-to-dynamically-load-form-to-current-html-page", "title": "Django: How to dynamically load form to current html page", "body": "<p>I have a simple form</p>\n\n<pre><code>class MyForm(forms.ModelForm):\n\nclass Meta:\n    model = Track\n    fields = ['website', 'keyword']\n    labels = {'website': 'Website URL', 'keyword': 'Keyword'}\n</code></pre>\n\n<p>and a view</p>\n\n<pre><code>def track(request):\nif request.method != 'POST':\n    form = MyForm()\nelse:\n    form = MyForm(request.POST)\n    if form.is_valid():\n        form.save()\n        return HttpResponseRedirect(reverse('tb_main:index'))    \n\ncontext = {'form': form}\nreturn render(request, 'tb_main/track.html', context)\n</code></pre>\n\n<p>and html form template(track.html)</p>\n\n<pre><code>&lt;form action=\"{% url 'tb_main:track' %}\" method='post'&gt;\n  {% csrf_token %}\n  {% bootstrap_form form %}\n\n &lt;button name='submit'&gt;Submit&lt;/button&gt;\n &lt;input type='hidden' name='next' value=\"{% url 'tb_main:dashboard' %}\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I would like to be able to dynamically load the form when a user clicks on a button on the homepage without changing the url. I am assuming this could be accomplished using AJAX but I am not sure how to approach this.</p>\n\n<p>If i just do an AJAX call to track.html the view functionality won't come with it</p>\n\n<p>How can I dynamically load the view &amp; html template to the home page after a button click?</p>\n\n<p>I tried <code>&lt;button href=\"{% url 'tb_main:track' %}\"&gt;load form&lt;/button&gt;</code></p>\n\n<p>but that doesn't work. Would be happy to hear from some of the more experienced developers on how to approach this. Thank you</p>\n"}, {"tags": ["python", "python-3.x", "selenium", "selenium-webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 1543, "user_id": 4321213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eb8ee864f581864dd312055a2da8e42?s=128&d=identicon&r=PG&f=1", "display_name": "Breaks Software", "link": "https://stackoverflow.com/users/4321213/breaks-software"}, "edited": false, "score": 0, "creation_date": 1521674775, "post_id": 49417445, "comment_id": 85837967, "body": "what is the output of your script above?  how is it &quot;not working&quot;?"}, {"owner": {"reputation": 51, "user_id": 9493987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9aad596be5d37b819fc1bbd6a5f885?s=128&d=identicon&r=PG&f=1", "display_name": "Sparkflight", "link": "https://stackoverflow.com/users/9493987/sparkflight"}, "reply_to_user": {"reputation": 1543, "user_id": 4321213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eb8ee864f581864dd312055a2da8e42?s=128&d=identicon&r=PG&f=1", "display_name": "Breaks Software", "link": "https://stackoverflow.com/users/4321213/breaks-software"}, "edited": false, "score": 0, "creation_date": 1521676735, "post_id": 49417445, "comment_id": 85838529, "body": "There is no output, it just hangs indefinitely until end the program."}, {"owner": {"reputation": 1543, "user_id": 4321213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eb8ee864f581864dd312055a2da8e42?s=128&d=identicon&r=PG&f=1", "display_name": "Breaks Software", "link": "https://stackoverflow.com/users/4321213/breaks-software"}, "edited": false, "score": 0, "creation_date": 1521677060, "post_id": 49417445, "comment_id": 85838631, "body": "and has it navigated to the target web page?"}, {"owner": {"reputation": 51, "user_id": 9493987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9aad596be5d37b819fc1bbd6a5f885?s=128&d=identicon&r=PG&f=1", "display_name": "Sparkflight", "link": "https://stackoverflow.com/users/9493987/sparkflight"}, "reply_to_user": {"reputation": 1543, "user_id": 4321213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eb8ee864f581864dd312055a2da8e42?s=128&d=identicon&r=PG&f=1", "display_name": "Breaks Software", "link": "https://stackoverflow.com/users/4321213/breaks-software"}, "edited": false, "score": 0, "creation_date": 1521677313, "post_id": 49417445, "comment_id": 85838692, "body": "Yeah, it opens the url I put just fine, but hangs forever on <code>driver.get(vid)</code>"}, {"owner": {"reputation": 1543, "user_id": 4321213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eb8ee864f581864dd312055a2da8e42?s=128&d=identicon&r=PG&f=1", "display_name": "Breaks Software", "link": "https://stackoverflow.com/users/4321213/breaks-software"}, "edited": false, "score": 0, "creation_date": 1521677696, "post_id": 49417445, "comment_id": 85838783, "body": "well, then there is no problem with the driver.current_url, it never gets that far.  the problem is with the path you have in the variable &quot;vid&quot;.  can you open that in the same browser manually?"}, {"owner": {"reputation": 51, "user_id": 9493987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9aad596be5d37b819fc1bbd6a5f885?s=128&d=identicon&r=PG&f=1", "display_name": "Sparkflight", "link": "https://stackoverflow.com/users/9493987/sparkflight"}, "reply_to_user": {"reputation": 1543, "user_id": 4321213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eb8ee864f581864dd312055a2da8e42?s=128&d=identicon&r=PG&f=1", "display_name": "Breaks Software", "link": "https://stackoverflow.com/users/4321213/breaks-software"}, "edited": false, "score": 0, "creation_date": 1521678922, "post_id": 49417445, "comment_id": 85839036, "body": "It does, seems that the issue is selenium grabbing the url after the page has changed, as after I removed the loaded extension it grabbed the page url. However I&#39;ve read that current_url is dynamic and will just grab the current page regardless so I&#39;m lost why its not working."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9493987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9aad596be5d37b819fc1bbd6a5f885?s=128&d=identicon&r=PG&f=1", "display_name": "Sparkflight", "link": "https://stackoverflow.com/users/9493987/sparkflight"}, "edited": false, "score": 0, "creation_date": 1521678951, "post_id": 49418629, "comment_id": 85839040, "body": "I&#39;ve done this and same result, added a comment with the results."}, {"owner": {"reputation": 1633, "user_id": 8791722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98WuV.png?s=128&g=1", "display_name": "PixelEinstein", "link": "https://stackoverflow.com/users/8791722/pixeleinstein"}, "reply_to_user": {"reputation": 51, "user_id": 9493987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9aad596be5d37b819fc1bbd6a5f885?s=128&d=identicon&r=PG&f=1", "display_name": "Sparkflight", "link": "https://stackoverflow.com/users/9493987/sparkflight"}, "edited": false, "score": 0, "creation_date": 1521679036, "post_id": 49418629, "comment_id": 85839064, "body": "So, it&#39;s getting passed the <code>.get()</code> now?"}, {"owner": {"reputation": 51, "user_id": 9493987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9aad596be5d37b819fc1bbd6a5f885?s=128&d=identicon&r=PG&f=1", "display_name": "Sparkflight", "link": "https://stackoverflow.com/users/9493987/sparkflight"}, "edited": false, "score": 0, "creation_date": 1521679317, "post_id": 49418629, "comment_id": 85839125, "body": "No, its not returning the pages url after it changes. If I disable the extension that changes the pages url it works, but when the extension is enabled it returns to not working. Which would be ok except I am under the impression that it should return the url of the page at the current instance."}, {"owner": {"reputation": 1633, "user_id": 8791722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98WuV.png?s=128&g=1", "display_name": "PixelEinstein", "link": "https://stackoverflow.com/users/8791722/pixeleinstein"}, "reply_to_user": {"reputation": 51, "user_id": 9493987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9aad596be5d37b819fc1bbd6a5f885?s=128&d=identicon&r=PG&f=1", "display_name": "Sparkflight", "link": "https://stackoverflow.com/users/9493987/sparkflight"}, "edited": false, "score": 0, "creation_date": 1521735948, "post_id": 49418629, "comment_id": 85869303, "body": "by <i>&quot;return the url&quot;</i>, you mean it should progress passed the <code>.get()</code>? Or are you actually getting to the <code>current_url</code>? If you are still hanging on <code>.get()</code>, is the page loading or does it seem to load forever? Check circle in top left."}], "tags": [], "owner": {"reputation": 1633, "user_id": 8791722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98WuV.png?s=128&g=1", "display_name": "PixelEinstein", "link": "https://stackoverflow.com/users/8791722/pixeleinstein"}, "is_accepted": true, "score": 1, "last_activity_date": 1521678620, "last_edit_date": 1521678620, "creation_date": 1521678265, "answer_id": 49418629, "question_id": 49417445, "link": "https://stackoverflow.com/questions/49417445/getting-current-page-url-with-selenium/49418629#49418629", "title": "Getting current page url with selenium", "body": "<p>If you are having issues with <code>.get()</code>, then you must be on a bad combination of <strong>chromedriver</strong> and <strong>Chrome browser</strong>.</p>\n\n<p>I would recommend updating to <em>chromedriver 2.36</em> or <strong>Above</strong> from <a href=\"https://sites.google.com/a/chromium.org/chromedriver/downloads\" rel=\"nofollow noreferrer\">HERE</a></p>\n\n<p>And also make sure you have updated to the current <em>Chrome Build 65</em> by opening this URL: </p>\n\n<blockquote>\n  <p>chrome://settings/help</p>\n</blockquote>\n\n<p>If you cannot update to current, please try this:</p>\n\n<pre><code>from selenium import webdriver\n\nChromeOptions = webdriver.ChromeOptions()\nChromeOptions.add_argument('--disable-browser-side-navigation')\ndriver = webdriver.Chrome('your/path/to/chromedriver.exe', chrome_options=ChromeOptions)\n</code></pre>\n\n<p>For my original answer on this issue, please refer to <strong><a href=\"https://stackoverflow.com/questions/48666620/python-selenium-webdriver-stuck-at-get-in-a-loop/48692986#48692986\">THIS</a></strong></p>\n"}], "owner": {"reputation": 51, "user_id": 9493987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9aad596be5d37b819fc1bbd6a5f885?s=128&d=identicon&r=PG&f=1", "display_name": "Sparkflight", "link": "https://stackoverflow.com/users/9493987/sparkflight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2079, "favorite_count": 0, "accepted_answer_id": 49418629, "answer_count": 1, "score": 1, "last_activity_date": 1521821129, "creation_date": 1521670690, "question_id": 49417445, "link": "https://stackoverflow.com/questions/49417445/getting-current-page-url-with-selenium", "title": "Getting current page url with selenium", "body": "<p>I'm using selenium to open a page. I'm trying to get the current opened page url but I can't seem to get it.</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nimport getpass\n\nvid = 'https://openload.co/f/KgNvMOs9fws/C__Program_Files_Python36_placeholder.mp4'\nchrome_options = webdriver.ChromeOptions()\nchrome_options.add_argument('load-extension=C:/Users/'+getpass.getuser()+'/AppData/Local/Google/Chrome/User Data/Default/Extensions/leallakffbiflfgpmamdgcojddnbfdgo/1.1.8_0')\ndriver = webdriver.Chrome(chrome_options=chrome_options)\nprint('Start')\ndriver.get(vid)\nprint('Middle')\nurlpage = driver.current_url\nprint(urlpage)\nprint('End')\n</code></pre>\n\n<p>I have a chrome extension that modifies the url of the video. I'm trying to grab that modified page url, but there is no point in adding a time delay since I can't grab the url of the video page in the first place for some reason. And <code>driver.current_url</code> is not working.</p>\n"}, {"tags": ["python", "zeromq"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1521670670, "post_id": 49417430, "comment_id": 85836693, "body": "Is using <a href=\"https://twistedmatrix.com/trac/\" rel=\"nofollow noreferrer\">Twisted</a> an option? This will give you the ability to time out things inside an event loop."}, {"owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1521698751, "post_id": 49417430, "comment_id": 85844156, "body": "@tadman a lovely profile-motto, Sir. On O/P: the ZeroMQ is intended to be as lightweight as possible ( Martin Sustrik&#39;s nanomsg being even more on diet in striving on achieving this Zen-of-Zero ), so it seems a just-enough tool for this level of composition ( simple system ). For complex Projects, where many-thousands of man*years have already been invested into the as-is code-base, the frameworks like you mention are not an option, but a heavily invested Value-at-Risk if people and teams are getting replaced with others, lacking the domain expertise. Hard to decide on a greenfield start-line."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9204389"}, "edited": false, "score": 0, "creation_date": 1521684132, "post_id": 49417534, "comment_id": 85840140, "body": "Ok I understand. Is their a way around this? Can I have it so that if I don&#39;t get a reply it will pretty much reset the socket and get rid of that message that is sitting there waiting for a reply so a new one can be sent?"}, {"owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1521697995, "post_id": 49417534, "comment_id": 85843827, "body": "With all due respect, this is just a part of the truth. <b><code>zmq.REQ</code></b> can unlock this one particular detail with setting a <code>zmq.REQ_RELAXED</code> but the problem solution for a robust, production-grade data exchange are much wider."}, {"owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "reply_to_user": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1522705000, "post_id": 49417534, "comment_id": 86245353, "body": "@user3666197 Can you please point me to <code>zmq.REQ_RELAXED</code> documentation? I coudn&#39;t find it in ZMQ API reference."}, {"owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1522705070, "post_id": 49417534, "comment_id": 86245385, "body": "Which API version do you follow to use?"}, {"owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "reply_to_user": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1522705341, "post_id": 49417534, "comment_id": 86245489, "body": "Version 4.2 stable."}, {"owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1522707237, "post_id": 49417534, "comment_id": 86246047, "body": "Native 4.2 API is fine, just keep reading setsockopt details till the REQ_RELAXED option ( supported already in 4.1 )"}, {"owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "reply_to_user": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1522707575, "post_id": 49417534, "comment_id": 86246153, "body": "Founded here <a href=\"http://api.zeromq.org/4-2:zmq-setsockopt\" rel=\"nofollow noreferrer\">api.zeromq.org/4-2:zmq-setsockopt</a> in 4.2 I was reading 3.1 by mistake. Thanks"}, {"owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "reply_to_user": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "edited": false, "score": 0, "creation_date": 1522763881, "post_id": 49417534, "comment_id": 86270924, "body": "*Found it ;- ) ."}], "tags": [], "owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "is_accepted": false, "score": 0, "last_activity_date": 1521671177, "creation_date": 1521671177, "answer_id": 49417534, "question_id": 49417430, "link": "https://stackoverflow.com/questions/49417430/zeromq-restart-if-no-reply-was-recieved/49417534#49417534", "title": "ZeroMQ &#39;Restart&#39; if no reply was recieved", "body": "<p>Check <a href=\"http://learning-0mq-with-pyzmq.readthedocs.io/en/latest/pyzmq/patterns/client_server.html\" rel=\"nofollow noreferrer\">this</a>, you will find this:</p>\n\n<blockquote>\n  <p>socket zmq.REQ will block on send unless it has successfully received a reply back.</p>\n</blockquote>\n\n<p>Which means that you cannot send another request until receiving an answer. ZMQ has different messaging patterns the one you are using Client / Server <code>zmq.REQ</code> / <code>zmq.REP</code>.</p>\n\n<blockquote>\n  <p>Any attempt to send another message to the socket (zmq.REQ/zmq.REP), without having received a reply/request will result in an error:</p>\n</blockquote>\n\n<pre><code>....\nsocket.send (\"Hello\")\nsocket.send (\"Hello1\")\n....\n\nError: zmq.core.error.ZMQError: Operation cannot be accomplished in current state\n</code></pre>\n\n<p>That's why your are getting the exception: </p>\n\n<p><code>zmq.error.ZMQError: Operation cannot be accomplished in current state</code> </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "is_accepted": true, "score": 1, "last_activity_date": 1521698137, "last_edit_date": 1521698137, "creation_date": 1521697652, "answer_id": 49421406, "question_id": 49417430, "link": "https://stackoverflow.com/questions/49417430/zeromq-restart-if-no-reply-was-recieved/49421406#49421406", "title": "ZeroMQ &#39;Restart&#39; if no reply was recieved", "body": "<h2>Lets start with a simple inventory of mandatory features:</h2>\n\n<blockquote>\n  <p><sup>\" <em>[agent-A]</em> <strong>sends height data</strong> from my client to my server program. My server program <em>[agent-B]</em> <strong>will not be always running</strong> so if I don't receive a response I would like it <em>[agent-A]</em> to <strong>try again</strong>.\"</sup></p>\n</blockquote>\n\n<p>For this,<br>\nthe <strong><code>REQ/REP</code></strong> hard-wired two-step of<br>\n<em>[<strong>A</strong>].send()-[B].recv()-[B].send()-[<strong>A</strong>].recv()-[<strong>A</strong>].send()-[B].recv()-...</em>\nis not the promising, the less a safe choice.</p>\n\n<p>1 ) always set <strong><code>zmq.LINGER = 0</code></strong> to avoid zombies &amp; hangups ( +1 for doing that )  </p>\n\n<p>2 ) if need not keep all <em>[A]</em>-side data delivered, may enjoy <strong><code>zmq.IMMEDIATE</code></strong> to deliver only to live <em>[B]</em> and <strong><code>zmq.CONFLATE</code></strong> to deliver only the most \"fresh\" values the <em>[A]</em>-side did <code>.send()</code></p>\n\n<p>3 ) if need in a need to keep all <em>[A]</em>-side data delivered, will have to either re-factor the strategy of sending on <em>[A]</em>-side become robust to missing <em>[B]</em>-side, so as to avoid blind and just optimistic data-pumping into the <code>Context()</code>-instance controlled, but rather expensive and quite limited resources, or carefully plan and pre-allocate due capacities, so as to remain able to indeed internally store all of 'em till the <em>[B]</em>-comes ( or not ) somewhere unsure in the future or the <em>[A]</em>-side dropping or blocking or exceptions will be unavoidable.</p>\n\n<p>4 ) never expect the built-in trivial ( primitive ) archetypes to match your production needs, these come as a sort of LEGO-building blocks for some smarter, problem-specific distributed signalling and messaging infrastructure, not as a magic wand to solve all properties ( principally unknown and undefined at the time of these primitive-tools implementation ), so more engineering efforts will come, as one moves outside of school-book examples into designing robust distributed systems. Here could be a way using a composition of <code>{ PUSH/PULL + PULL/PUSH | PAIR/PAIR | XREQ/XREP }</code> plus heart-beating watchdog and re-discovery of remote agent(s). Some other archetypes may get later added for N+1 fault resilience or performance boosting with workload balancers or remote-console or latency motivated off-site remote-logging - if needed, all depending on hell many details that are beyond the initial post or a few SLOCs.</p>\n\n<p>5 ) always handle exceptions, even if \"masters\" tell you one need not do that. Why? In <a href=\"/questions/tagged/distributed-system\" class=\"post-tag\" title=\"show questions tagged &#39;distributed-system&#39;\" rel=\"tag\">distributed-system</a> any problem cease to be a just-local isuue, so unhandled exceptions, fallen into a silent death of some agent will result in global impacts of missing such agent ( many ) others do rely on and may easily got blocked without any local-reason visible to 'em.</p>\n\n<p>6 ) in production domain, there will be more efforts needed for protecting any smart infrastructure from remote-failures and also DoS-alike events, that impact local-<code>Context()</code> SPOF, so indeed the <a href=\"/questions/tagged/distributed-system\" class=\"post-tag\" title=\"show questions tagged &#39;distributed-system&#39;\" rel=\"tag\">distributed-system</a> architecture design is both very interesting and quite demanding domain.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9204389"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 1, "accepted_answer_id": 49421406, "answer_count": 2, "score": 2, "last_activity_date": 1521698137, "creation_date": 1521670614, "question_id": 49417430, "link": "https://stackoverflow.com/questions/49417430/zeromq-restart-if-no-reply-was-recieved", "title": "ZeroMQ &#39;Restart&#39; if no reply was recieved", "body": "<p>I have a python program which sends height data from my client to my server program. My server program will not be always running so if I don't recieve a response I would like it to try again.</p>\n\n<p>So far what I have is that if a response (from the server) is not given in 20 Seconds it causes an exception and recalls my input. It works fine until I try it a second time.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import zmq\nfrom time import sleep\n\nglobal radius\ncontext = zmq.Context()\nprint(\"Remote Deployment Application\")\nprint(\"Lightweight ZMQ Communication\")\nprint(\"Connecting to Desk Ctrl Service\")\nsocket = context.socket(zmq.REQ)\nsocket.connect(\"tcp://192.168.1.9:5555\")\nsocket.setsockopt(zmq.RCVTIMEO, 30000)\nsocket.setsockopt(zmq.LINGER, 0) \n\n\n#  Do 10 requests,waiting each time for a response\ndef __init__(self, height):\n        self.height = height\n\ndef start():\n    global height\n    height = input(\"Enter in request: \")\n    SendHeightVal()\n\n\ndef SendHeightVal():\n    global userinput\n    global height\n    print(\"Sent Request. Awaiting Reply.\")\n    so_bytes = height.encode()\n    socket.send(so_bytes)\n    so_bytes = 0\n    try:\n       message = socket.recv()\n    except:\n        print(\"Something went wrong. No response from server!\")\n        message = None       \n        start()    \n    print(message)\n    start()\n</code></pre>\n\n<p>Here is the error:</p>\n\n<pre><code>During handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"client.py\", line 44, in &lt;module&gt;\n    start()\n  File \"client.py\", line 22, in start\n    SendHeightVal()\n  File \"client.py\", line 37, in SendHeightVal\n    start()\n  File \"client.py\", line 22, in start\n    SendHeightVal()\n  File \"client.py\", line 30, in SendHeightVal\n    socket.send(so_bytes)\n  File \"/usr/local/lib/python3.6/site-packages/zmq/sugar/socket.py\", line 391, in send\n    return super(Socket, self).send(data, flags=flags, copy=copy, track=track)\n  File \"zmq/backend/cython/socket.pyx\", line 727, in zmq.backend.cython.socket.Socket.send\n  File \"zmq/backend/cython/socket.pyx\", line 774, in zmq.backend.cython.socket.Socket.send\n  File \"zmq/backend/cython/socket.pyx\", line 249, in zmq.backend.cython.socket._send_copy\n  File \"zmq/backend/cython/socket.pyx\", line 244, in zmq.backend.cython.socket._send_copy\n  File \"zmq/backend/cython/checkrc.pxd\", line 25, in zmq.backend.cython.checkrc._check_rc\nzmq.error.ZMQError: Operation cannot be accomplished in current state\n</code></pre>\n"}, {"tags": ["python", "django", "unit-testing", "file-io", "travis-ci"], "comments": [{"owner": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "edited": false, "score": 0, "creation_date": 1521674530, "post_id": 49417414, "comment_id": 85837904, "body": "Do you have a different <code>settings.py</code> for your tests? According to that stack trace, whitenoise middleware is definitely being loaded. Also, it might not hurt to post your original traceback (before you removed whitenoise). Perhaps we can help you with your original issue as opposed to the one that manifested while you were trying to fix it."}, {"owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "reply_to_user": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "edited": false, "score": 0, "creation_date": 1521676070, "post_id": 49417414, "comment_id": 85838369, "body": "@MrName My original issue was with deploying to heroku. The app is correctly serving the static files in heroku and I don&#39;t think there is another solution for it. This is the settings.py that I&#39;m using for the tests both locally and on the build server"}, {"owner": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "edited": false, "score": 0, "creation_date": 1521733094, "post_id": 49417414, "comment_id": 85867273, "body": "Got it. When you added whitenoise, did you only add the middleware or did you specifically call it out somewhere else? Like maybe in your <code>wsgi.py</code>?"}], "owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521670531, "creation_date": 1521670531, "question_id": 49417414, "link": "https://stackoverflow.com/questions/49417414/django-assertion-error-when-testing-file-upload-on-travisci", "title": "Django assertion error when testing file upload on TravisCI", "body": "<p>I have an app that allows a user to upload a file and have it displayed on the page. I've created a test class with a method that checks whether a file (stored locally) that is uploaded is the same as the one  that is returned from the POST request. This test works locally, but for some reason, when I run the test on TravisCI, the POST doesn't seem to be returning the file and the build fails.</p>\n\n<p>I think the error is due to the fact that I'm using the python module whitenoise to manage static files in production. Since whitenoise is storing the uploaded files somewhere different than usual, maybe the <code>django.test.Client.post()</code> doesn't know where to look for the file. The test was working on TravisCI before I installed whitenoise so this would seem to be the case. </p>\n\n<p>If I leave the whitenoise package in the requirments.txt file to be installed on the TravisCI build server, this scenario happens, but when I try to remove the package from the file, I get the following error, even though I removed the whitenoise settings from the local version of the project settings: </p>\n\n<pre><code>======================================================================\nERROR: test_uploaded_file (photoViewer.test_upload.FileUploadTestClass)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/travis/build/loremIpsum1771/test_ci/photoViewer/test_upload.py\", line 16, in test_uploaded_file\n    response = c.post('/', {'image': fp})\n  File \"/home/travis/virtualenv/python2.7.14/lib/python2.7/site-packages/django/test/client.py\", line 548, in post\n    secure=secure, **extra)\n  File \"/home/travis/virtualenv/python2.7.14/lib/python2.7/site-packages/django/test/client.py\", line 350, in post\n    secure=secure, **extra)\n  File \"/home/travis/virtualenv/python2.7.14/lib/python2.7/site-packages/django/test/client.py\", line 416, in generic\n    return self.request(**r)\n  File \"/home/travis/virtualenv/python2.7.14/lib/python2.7/site-packages/django/test/client.py\", line 483, in request\n    response = self.handler(environ)\n  File \"/home/travis/virtualenv/python2.7.14/lib/python2.7/site-packages/django/test/client.py\", line 131, in __call__\n    self.load_middleware()\n  File \"/home/travis/virtualenv/python2.7.14/lib/python2.7/site-packages/django/core/handlers/base.py\", line 80, in load_middleware\n    middleware = import_string(middleware_path)\n  File \"/home/travis/virtualenv/python2.7.14/lib/python2.7/site-packages/django/utils/module_loading.py\", line 20, in import_string\n    module = import_module(module_path)\n  File \"/opt/python/2.7.14/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\nImportError: No module named whitenoise.middleware\n</code></pre>\n\n<p><strong>Why is Django still looking for the whitenoise module when it wasn't installed? And how can it be disabled when running locally (on the build server) so that the post request in the test method actually returns the file?</strong></p>\n\n<p><strong>test class:</strong></p>\n\n<pre><code>from __future__ import unicode_literals\nimport os\nfrom django.test import  Client\nimport unittest\n\nMYDIR = os.path.dirname(__file__)\n\nclass FileUploadTestClass(unittest.TestCase):\n\n    def test_uploaded_file(self):\n        c = Client()\n        originalFilePath = os.path.join(MYDIR, '../live-static/static-root/Keep-Calm-and-Carry-On.jpg')\n        with open(originalFilePath, \"rb\") as fp:\n            response = c.post('/', {'image': fp})\n            fp.seek(0)\n            self.assertEqual( fp.read(),response.content)\n</code></pre>\n\n<p><strong>local settings file</strong></p>\n\n<pre><code>DEBUG = True\n\nALLOWED_HOSTS = []\n\n\n# Application definition\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    \"photoViewer\",\n]\n\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n\n\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR,'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\n\n\n\n# Database\n# https://docs.djangoproject.com/en/1.11/ref/settings/#databases\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n    }\n}\n\n\n# Password validation\n# https://docs.djangoproject.com/en/1.11/ref/settings/#auth-password-validators\n\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\n    },\n]\n\n\n# Internationalization\n# https://docs.djangoproject.com/en/1.11/topics/i18n/\n\nLANGUAGE_CODE = 'en-us'\n\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.11/howto/static-files/\n\nSTATIC_URL = '/static/'\n\n\nSTATICFILES_DIRS = [\n    os.path.join(BASE_DIR, \"static\"),\n #   '/var/www/static/',\n]\n\nSTATIC_ROOT = os.path.join(BASE_DIR,\"live-static\",\"static-root\")\n\n\n\n\nMEDIA_URL = \"/media/\"\nMEDIA_ROOT = os.path.join(BASE_DIR,\"live-static\",\"media-root\")\n\n\nCORS_REPLACE_HTTPS_REFERER = False\nHOST_SCHEME = \"http://\"\nSECURE_PROXY_SSL_HEADER =None\nSECURE_SSL_REDIRECT = False\nSESSION_COOKIE_SECURE = False\nCSRF_COOKIE_SECURE = False\nSECURE_HSTS_SECONDS = None\nSECURE_HSTS_INCLUDE_SUBDOMAINS = False\nSECURE_FRAME_DENY = False\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 1148, "user_id": 600882, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/maVZp.jpg?s=128&g=1", "display_name": "Scott Colby", "link": "https://stackoverflow.com/users/600882/scott-colby"}, "edited": false, "score": 0, "creation_date": 1521672122, "post_id": 49417407, "comment_id": 85837142, "body": "The splitting of the vector [0, 1, 1] can be done by taking the dot product with each of the unit vectors in turn: [0, 1, 1]\u2022[1, 0, 0] = [0, 0, 0], [0, 1, 1]\u2022[0, 1, 0] = [0, 1, 0], etc. You&#39;d have to discard the all 0 results, which might hurt any efficiency gains though. This could also be viewed as a bitfield/bitmasking operation."}, {"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "reply_to_user": {"reputation": 1148, "user_id": 600882, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/maVZp.jpg?s=128&g=1", "display_name": "Scott Colby", "link": "https://stackoverflow.com/users/600882/scott-colby"}, "edited": false, "score": 0, "creation_date": 1521674214, "post_id": 49417407, "comment_id": 85837814, "body": "@Scott Colby Thanks for the tips!  In my real use case, there are actually quite a number of indicator columns, so I have been trying to avoid taking the dot products if I can possible avoid it.  I&#39;ll take a look at bitmasking approaches and start iterating.  Who knows?  Someone else might weigh in in the meantime."}], "owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521670831, "creation_date": 1521670481, "last_edit_date": 1521670831, "question_id": 49417407, "link": "https://stackoverflow.com/questions/49417407/python-pandas-reverse-one-hot-encoding-with-duplicate-categories", "title": "Python PANDAS: Reverse One-Hot Encoding with Duplicate Categories", "body": "<p>I have a dataframe with the following general layout:</p>\n\n<pre><code>id,ind_1,ind_2,ind_3,thing_1,thing_2\n1,0,1,1,a,c\n2,0,1,1,b,b\n3,1,1,0,c,a\n</code></pre>\n\n<p>I would like to accomplish 2 things now:</p>\n\n<p>-Create duplicate records where there can only be one true(1) indicator per row</p>\n\n<p>-Create an additional column where the value is the true(1) indicator name</p>\n\n<pre><code>id,ind_1,ind_2,ind_3,thing_1,thing_2,ind_any\n1,0,1,0,a,c,ind_2\n1,0,0,1,a,c,ind_3\n2,0,1,0,b,b,ind_2\n2,0,0,1,b,b,ind_3\n3,1,0,0,c,a,ind_1\n3,0,1,0,c,a,ind_2\n</code></pre>\n\n<p>Any tips welcome!</p>\n"}, {"tags": ["python", "json", "numpy", "serialization", "codec"], "comments": [{"owner": {"reputation": 367, "user_id": 2321145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6447f6df923c9aaac74a3b47a1e81c?s=128&d=identicon&r=PG", "display_name": "hmaarrfk", "link": "https://stackoverflow.com/users/2321145/hmaarrfk"}, "edited": false, "score": 0, "creation_date": 1540997026, "post_id": 49417400, "comment_id": 93068839, "body": "Maybe this post can help: <a href=\"https://stackoverflow.com/questions/26646362/numpy-array-is-not-json-serializable\" title=\"numpy array is not json serializable\">stackoverflow.com/questions/26646362/&hellip;</a>"}], "owner": {"reputation": 573, "user_id": 3847021, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/534ddaa5b7bef2307bb9bbb1cb3a5569?s=128&d=identicon&r=PG&f=1", "display_name": "mjpablo23", "link": "https://stackoverflow.com/users/3847021/mjpablo23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 909, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1521670468, "creation_date": 1521670468, "question_id": 49417400, "link": "https://stackoverflow.com/questions/49417400/python-serialize-and-deserialize-numpy-array-inside-an-object", "title": "python serialize and deserialize numpy array inside an object", "body": "<p>I would like to take a Python object and serialize/deserialize to/from JSON.  The object has numpy arrays inside it: </p>\n\n<pre><code>class Student(object):\n    name = \"\"\n    age = 0\n    major = \"\"\n    teacher = \"\"\n    #tuple1 = (1,2,3)\n    #tuple2 = (\"a\",\"b\",\"c\")\n    ndarr = \"\"\n\n    def __init__(self, name, age, major):\n        self.name = name\n        self.age = age\n        self.major = major\n</code></pre>\n\n<p>I am currently using jsonpickle to serialize it to json.  </p>\n\n<pre><code>frozen = jsonpickle.encode(obj)\nprint \"jsonpickle serialized object: \" + frozen\n</code></pre>\n\n<p>However, after I serialize it, the numpy array looks weird: </p>\n\n<p>jsonpickle serialized object: </p>\n\n<pre><code>{\"py/object\": \"Student.Student\", \"age\": 21, \"major\": \"eecs\", \"ndarr\": {\"py/reduce\": [{\"py/object\": \"__builtin__.builtin_function_or_method\"}, {\"py/tuple\": [{\"py/type\": \"numpy.ndarray\"}, {\"py/tuple\": [0]}, \"b\"]}, {\"py/tuple\": [1, {\"py/tuple\": [2, 2]}, {\"py/reduce\": [{\"py/type\": \"numpy.dtype\"}, {\"py/tuple\": [\"f8\", 0, 1]}, {\"py/tuple\": [3, \"&lt;\", null, null, null, -1, -1, 0]}, null, null]}, true, {\"py/b64\": \"2MfF58x/AADYx8XnzH8AAAAAAAAAAAAAAAAAAAAAAAA=\\n\"}]}, null, null]}, \"name\": \"larry\"}\n</code></pre>\n\n<p>is there an easy way to serialize numpy array objects that are inside of another object?  I find the first answer inside this post to work, but it is not within an object:  <a href=\"https://stackoverflow.com/questions/26646362/numpy-array-is-not-json-serializable\">NumPy array is not JSON serializable</a></p>\n"}, {"tags": ["python", "linear-programming", "pulp", "integer-programming"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1521676593, "post_id": 49417392, "comment_id": 85838494, "body": "First profile your program (e.g. using line_profiler) to check what exactly is taking that long. Then you can think about changes and in the worst-case, leaving pulp for a more low-level representation (e.g. using cylp). The <i>no indication of the progression of the solution</i> is probably due to <code>mgs=0</code> (if we are talking about solver-verbosity here)."}, {"owner": {"reputation": 9132, "user_id": 913098, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3e07b09128f889209b738276d42d7ef?s=128&d=identicon&r=PG", "display_name": "Gulzar", "link": "https://stackoverflow.com/users/913098/gulzar"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1521727886, "post_id": 49417392, "comment_id": 85863363, "body": "@sascha i let it run, and it took about 16 hours on my machine to solve the system. 1. it gave some negative variables (Didn&#39;t I tell it to limit to between 0 and 1?) 2. if not <code>mgs=0</code>, then what? the doc doesn&#39;t say"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1521728063, "post_id": 49417392, "comment_id": 85863505, "body": "Obviously msg=1 or higher (which would be evaluated as true if a boolean would be needed). The remainding stuff did also not really address my comment. Be more precise: what exactly takes how long. If profiling is infeasible because of 16h, make the problem smaller."}, {"owner": {"reputation": 940, "user_id": 4147423, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w6aB3ObSduo/AAAAAAAAAAI/AAAAAAAAPkI/rXJi9zpkPu4/photo.jpg?sz=128", "display_name": "Stuart Mitchell", "link": "https://stackoverflow.com/users/4147423/stuart-mitchell"}, "edited": false, "score": 2, "creation_date": 1521752310, "post_id": 49417392, "comment_id": 85878723, "body": "First start on a smaller instance of your problem, then you can try and increase the speed. It sounds like you need to use the sparsity of you problem with and think of a way to only add constraints form lines that pass through your pixel. Also it seems that your problem is infeasible so make sure you check the status of the problem at the end. It probably is infeasible because you have the formulation wrong, To correct your formulation I suggest you start with a smaller problem and try to see what is going on."}], "owner": {"reputation": 9132, "user_id": 913098, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3e07b09128f889209b738276d42d7ef?s=128&d=identicon&r=PG", "display_name": "Gulzar", "link": "https://stackoverflow.com/users/913098/gulzar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 641, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521670436, "creation_date": 1521670436, "question_id": 49417392, "link": "https://stackoverflow.com/questions/49417392/pulp-adding-constraints-too-slowly", "title": "PulP adding constraints too slowly", "body": "<p>I have read this post</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26643421/pulp-very-slow-when-adding-many-constraints\">PuLP very slow when adding many constraints</a></p>\n\n<p>and still remain oblivious to a solution.</p>\n\n<pre><code>def choose_lines_to_satisfy_image(lines_list_high_res, image_low_res, lines_to_low_res_matrix, allowed_diff_between_targe_pixel_and_result):\n    problem = LpProblem(\"Solving Lines Discretely\", LpMinimize)  # minimize or maximize doesn't matter\n    problem += 0  # objective function must be added first. it is zero, because we are only looking for a feasable solution. nothing to optimize.\n\n    number_of_lines = len(lines_list_high_res)\n    lines_names_list = []\n\n    for i in range(len(lines_list_high_res)):\n        line_name = str(i)\n        lines_names_list.append(line_name)\n\n    print(\"len(lines_names_list)\")\n    print(len(lines_names_list))\n    line_variables = LpVariable.dicts(\"line\", lines_names_list, lowBound=0, upBound=1, cat=LpInteger)\n    # print('dicts = ')\n    # print(line_variables)#can't do this. python hangs. want it? spit it to a log file.\n\n    num_of_lines, num_of_low_res_pixels = lines_to_low_res_matrix.shape\n    if len(lines_list_high_res) != num_of_lines:\n        print(\"oh crap\")\n        return\n\n    # add constraints\n    # each constraint is: |pixel-expected-value - pixel-actual-value| &lt; allowed_diff_between_targe_pixel_and_result\n    # which translates to 2 constraints:\n    # 1) sum(lines coefficients through pixel) &lt; pixel-expected-value + allowed_diff_between_targe_pixel_and_result\n    # 2) sum(lines coefficients through pixel) &lt; pixel-expected-value - allowed_diff_between_targe_pixel_and_result\n    for pixel_low_res_ind in range(num_of_low_res_pixels):\n        print(\"setting constraints for low res pixel # \", pixel_low_res_ind, \" out of \", num_of_low_res_pixels)\n        pixel_low_res_x, pixel_low_res_y = ind2sub(image_low_res.shape, pixel_low_res_ind)\n\n        constraint_1_name = \"Constraint 1 for pixel \" + str(pixel_low_res_ind)\n        constraint_2_name = \"Constraint 2 for pixel \" + str(pixel_low_res_ind)\n\n        #TODO this should be done for only the lines that pass through the pixel. how shall I know which ones?\n        constraint_predicate_1 = lpSum([line_variables[str(j)] * lines_to_low_res_matrix[j][pixel_low_res_ind] for j in range(num_of_lines)]) \\\n                                 &lt;= image_low_res[pixel_low_res_x][pixel_low_res_y] + allowed_diff_between_targe_pixel_and_result\n        #TODO this should be done for only the lines that pass through the pixel. how shall I know which ones?\n        constraint_predicate_2 = lpSum([line_variables[str(j)] * lines_to_low_res_matrix[j][pixel_low_res_ind] for j in range(num_of_lines)]) \\\n                                 &gt;= image_low_res[pixel_low_res_x][pixel_low_res_y] - allowed_diff_between_targe_pixel_and_result\n\n        problem += constraint_predicate_1, constraint_1_name\n        problem += constraint_predicate_2, constraint_2_name\n\n    #TODO make this path relative\n    print(\"writing problem to file\")\n    problem.writeLP(\"D:/git/stav/python/threadart/linear_problems/problem.lp\")\n    print(\"solving problem\")\n    problem.solve(PULP_CBC_CMD(msg=0))\n</code></pre>\n\n<p>I have used lpSum and still the creation of constraints takes over an hour.\nAlso, there is no indication of the progression of the solution.</p>\n\n<p>I have 4096 constraints, each containing about 8500 variables.\nThey are sparse to some extent, but I did not mention that anywhere (Should I?)</p>\n\n<p><strong>Please tell me how I can speed up the problem creation process</strong> to something more realistic.</p>\n\n<p>I wouldn't mind creating some file the Pulp would read myself (i noticed there is a problem.write () method, but no problem.read())</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 847, "user_id": 9422114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jacobo", "link": "https://stackoverflow.com/users/9422114/jacobo"}, "edited": false, "score": 0, "creation_date": 1521670419, "post_id": 49417352, "comment_id": 85836595, "body": "Probably you need to do <code>ch.lower() in [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</code> on your transNum method"}, {"owner": {"reputation": 2334, "user_id": 3374785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6s7hE.jpg?s=128&g=1", "display_name": "Andrei Cioara", "link": "https://stackoverflow.com/users/3374785/andrei-cioara"}, "edited": false, "score": 0, "creation_date": 1521670503, "post_id": 49417352, "comment_id": 85836632, "body": "Change <code>newNum = newNum + str(transNum(phone))</code> to <code>newNum = newNum + str(transNum(ch))</code>"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 2, "creation_date": 1521670607, "post_id": 49417352, "comment_id": 85836677, "body": "The easy way: <code>noletters = phone.translate(str.maketrans(     &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;,     &quot;2223334445556667777888999922233344455566677778889999&quot;)) </code>"}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 9193481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WX4FN.jpg?s=128&g=1", "display_name": "trk", "link": "https://stackoverflow.com/users/9193481/trk"}, "edited": false, "score": 0, "creation_date": 1521671801, "post_id": 49417422, "comment_id": 85837060, "body": "While this is indeed a solution, it is not as readable as the if-else construct (with which there is nothing wrong)."}], "tags": [], "owner": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "is_accepted": false, "score": 1, "last_activity_date": 1521670575, "creation_date": 1521670575, "answer_id": 49417422, "question_id": 49417352, "link": "https://stackoverflow.com/questions/49417352/python-3-6-how-to-translate-a-telephone-number-with-words/49417422#49417422", "title": "Python 3.6 - How to translate a telephone number with words", "body": "<p>I can't help you with the entire thing, but at least to make it a bit easier for you to reason about it. Use a dictionary to map the keys to values rather than killing some unicorns with all these ifs.</p>\n\n<p>So you can do something like that</p>\n\n<pre><code>ch_num_map = {'a': 2, 'b': 2, 'c': 2, 'w': 9, 'z': 9} # you get the idea\n</code></pre>\n\n<p>then you can simply do:  </p>\n\n<pre><code>ch_num_map.get('a')\n# output: 2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 9531359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158f3e8e4c65289be582e76cde6e3e3b?s=128&d=identicon&r=PG&f=1", "display_name": "nickchamb727", "link": "https://stackoverflow.com/users/9531359/nickchamb727"}, "edited": false, "score": 0, "creation_date": 1521670973, "post_id": 49417449, "comment_id": 85836785, "body": "That did it. Thank you, I appreciate the help"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "reply_to_user": {"reputation": 11, "user_id": 9531359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158f3e8e4c65289be582e76cde6e3e3b?s=128&d=identicon&r=PG&f=1", "display_name": "nickchamb727", "link": "https://stackoverflow.com/users/9531359/nickchamb727"}, "edited": false, "score": 0, "creation_date": 1521671824, "post_id": 49417449, "comment_id": 85837066, "body": "@nickchamb727 - you should accept this answer if it solved your problem.  <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 26054, "user_id": 23896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d4dc630c582673cfd21f7c80c79ff7f?s=128&d=identicon&r=PG", "display_name": "matli", "link": "https://stackoverflow.com/users/23896/matli"}, "is_accepted": false, "score": 5, "last_activity_date": 1521670709, "creation_date": 1521670709, "answer_id": 49417449, "question_id": 49417352, "link": "https://stackoverflow.com/questions/49417352/python-3-6-how-to-translate-a-telephone-number-with-words/49417449#49417449", "title": "Python 3.6 - How to translate a telephone number with words", "body": "<p><code>str(transNum(phone))</code> should be <code>str(transNum(ch))</code>\nAnd transNum doesn't need to iterate over its input, since it will only keep the last number (it is designed to have one single letter as input).</p>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 9193481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WX4FN.jpg?s=128&g=1", "display_name": "trk", "link": "https://stackoverflow.com/users/9193481/trk"}, "is_accepted": false, "score": 0, "last_activity_date": 1521671119, "creation_date": 1521671119, "answer_id": 49417525, "question_id": 49417352, "link": "https://stackoverflow.com/questions/49417352/python-3-6-how-to-translate-a-telephone-number-with-words/49417525#49417525", "title": "Python 3.6 - How to translate a telephone number with words", "body": "<p>The problem here is that you're looping over the entire string in your <code>transNum</code> function. What you want is to pass a single character and get its number representation. Try this:</p>\n\n<pre><code>def transNum(ch):\n    number = 1\n    if ch.lower() in \"abc\":\n        number = 2\n    elif ch.lower() in \"def\":\n        number = 3\n    elif ch.lower() in \"ghi\":\n        number = 4\n    elif ch.lower() in \"jkl\":\n        number = 5\n    elif ch.lower() in \"mno\":\n        number = 6\n    elif ch.lower() in \"pqrs\":\n        number = 7\n    elif ch.lower() in \"tuv\":\n        number = 8\n    elif ch.lower() in \"wxyz\":\n        number = 9\n    return number\n\n\ndef translate(phone):\n    newNum = \"\"\n    for ch in phone:\n        if ch in \"abcdefghijklmnopqrstuvwxyz\"\n            newNum = newNum + str(transNum(ch))\n        else:\n            newNum = newNum + ch\n    return newNum\n</code></pre>\n\n<p>I hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "is_accepted": false, "score": 0, "last_activity_date": 1521671225, "creation_date": 1521671225, "answer_id": 49417542, "question_id": 49417352, "link": "https://stackoverflow.com/questions/49417352/python-3-6-how-to-translate-a-telephone-number-with-words/49417542#49417542", "title": "Python 3.6 - How to translate a telephone number with words", "body": "<p>Let's take a look at this function:</p>\n\n<pre><code>def transNum(string):\n    number = 1\n    for ch in string:\n        if ch.lower() in \"abc\":\n            number = 2\n        elif ch.lower() in \"def\":\n            number = 3\n        elif ch.lower() in \"ghi\":\n            number = 4\n        elif ch.lower() in \"jkl\":\n            number = 5\n        elif ch.lower() in \"mno\":\n            number = 6\n        elif ch.lower() in \"pqrs\":\n            number = 7\n        elif ch.lower() in \"tuv\":\n            number = 8\n        elif ch.lower() in \"wxyz\":\n            number = 9\n    return number\n</code></pre>\n\n<p>What this function does is take a string, loop over its characters, each time assigning the corresponding number to the variable <code>number</code>. At the end of the loop, it returns the variable <code>number</code>. So what this function is doing is essentially a bunch of useless work and then returning <strong>only</strong> what the <strong>last</strong> character in the string should correspond to as a number. What you want is to pass only a single character to this function and get rid of the for loop. Alternatively, you can create the translated string inside this function and return the full string rather than returning the number. </p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 3716214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de622626f9f2a4070fda6ee7f1ae3174?s=128&d=identicon&r=PG&f=1", "display_name": "francisco", "link": "https://stackoverflow.com/users/3716214/francisco"}, "edited": false, "score": 0, "creation_date": 1521672043, "post_id": 49417621, "comment_id": 85837123, "body": "Also you can use <code>list(string.ascii_lowercase)</code> to remove the line <code>[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;&zwnj;&#8203;,&quot;p&quot;,&quot;q&quot;,&quot;r&quot;,&quot;s&quot;,&quot;t&quot;&zwnj;&#8203;,&quot;u&quot;,&quot;v&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot;&zwnj;&#8203;,&quot;z&quot;]</code> You can check this in <a href=\"https://stackoverflow.com/questions/16060899/alphabet-range-python\">link</a>"}], "tags": [], "owner": {"reputation": 83, "user_id": 3716214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de622626f9f2a4070fda6ee7f1ae3174?s=128&d=identicon&r=PG&f=1", "display_name": "francisco", "link": "https://stackoverflow.com/users/3716214/francisco"}, "is_accepted": false, "score": 0, "last_activity_date": 1521671643, "creation_date": 1521671643, "answer_id": 49417621, "question_id": 49417352, "link": "https://stackoverflow.com/questions/49417352/python-3-6-how-to-translate-a-telephone-number-with-words/49417621#49417621", "title": "Python 3.6 - How to translate a telephone number with words", "body": "<p>I think should exist a more pythonic way, but at the least this should work for your case</p>\n\n<pre><code>def transNum(string):\n    number = 1\n\n    numberElements={\n        \"a\":2,\"b\":2,\"c\":2,\n        \"d\":3,\"e\":3,\"f\":3,\n        \"g\":4,\"h\":4,\"i\":4,\n        \"j\":5,\"k\":5,\"l\":5,\n        \"m\":6,\"n\":6,\"o\":6,\n        \"p\":7,\"q\":7,\"r\":7,\"s\":7,\n        \"t\":8,\"u\":8,\"v\":8,\n        \"w\":9,\"x\":9,\"y\":9,\"z\":9,\n    }\n\n    for ch in string:\n        number = numberElements[ch.lower()]\n    return number\n\ndef translate(phone):\n    newNum = \"\"\n    for ch in phone:\n        if ch.lower() in [\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\"]:\n            newNum = newNum + str(transNum(ch))\n        else:\n            newNum = newNum + ch\n    return newNum\n\ndef main():\n    phone = input(\"enter a phone number\")\n    noLetters = translate(phone)\n    print(\"The number you entered: \", phone)\n    print(\"Translates to: \", noLetters)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9531359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158f3e8e4c65289be582e76cde6e3e3b?s=128&d=identicon&r=PG&f=1", "display_name": "nickchamb727", "link": "https://stackoverflow.com/users/9531359/nickchamb727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2029, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1521671643, "creation_date": 1521670214, "question_id": 49417352, "link": "https://stackoverflow.com/questions/49417352/python-3-6-how-to-translate-a-telephone-number-with-words", "title": "Python 3.6 - How to translate a telephone number with words", "body": "<p>Trying to get this program to translate letters into numbers so a telephone number with words can be input and will output the number version. (1800GOTJUNK = 18004685865) Not sure where Im going wrong but every output just gives whatever the last letter is and repeats its number for all numbers (1800adgjmptw = 18009999999). Any help would be greatly appreciated, thanks.</p>\n\n<pre><code>def transNum(string):\n    number = 1\n    for ch in string:\n        if ch.lower() in \"abc\":\n            number = 2\n        elif ch.lower() in \"def\":\n            number = 3\n        elif ch.lower() in \"ghi\":\n            number = 4\n        elif ch.lower() in \"jkl\":\n            number = 5\n        elif ch.lower() in \"mno\":\n            number = 6\n        elif ch.lower() in \"pqrs\":\n            number = 7\n        elif ch.lower() in \"tuv\":\n            number = 8\n        elif ch.lower() in \"wxyz\":\n            number = 9\n    return number\n\n\ndef translate(phone):\n    newNum = \"\"\n    for ch in phone:\n        if ch in   [\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\"]:\n            newNum = newNum + str(transNum(phone))\n        else:\n            newNum = newNum + ch\n    return newNum\n\ndef main():\n    phone = input(\"enter a phone number\")\n    noLetters = translate(phone)\n    print(\"The number you entered: \", phone)\n    print(\"Translates to: \", noLetters)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "excel", "xlwings"], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 9988517, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XVowysKrgjA/AAAAAAAAAAI/AAAAAAAAA6Y/hgJZEB91raI/photo.jpg?sz=128", "display_name": "Leonardo Mantovani", "link": "https://stackoverflow.com/users/9988517/leonardo-mantovani"}, "is_accepted": false, "score": 0, "last_activity_date": 1530246622, "last_edit_date": 1530246622, "creation_date": 1529921374, "answer_id": 51020940, "question_id": 49417328, "link": "https://stackoverflow.com/questions/49417328/xlwings-find-a-cell-coordinate-containing-a-valuea-date/51020940#51020940", "title": "xlwings - find a cell coordinate containing a value(a date)", "body": "<p>If I understand, you want to find the coordinates of a cell with a specific text...\nI've done this:</p>\n\n<pre><code>for row in range(1, 10):\n    for col in range(1, 10):\n        if sht.range((row,col)).value == \"TEXT\":\n            print(\"The Row is: \"+str(row)+\" and the column is \"+str(col))\n</code></pre>\n\n<p>I hope I've helped you</p>\n"}], "owner": {"reputation": 11, "user_id": 9494514, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "vj0911", "link": "https://stackoverflow.com/users/9494514/vj0911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530246622, "creation_date": 1521670101, "question_id": 49417328, "link": "https://stackoverflow.com/questions/49417328/xlwings-find-a-cell-coordinate-containing-a-valuea-date", "title": "xlwings - find a cell coordinate containing a value(a date)", "body": "<p>I have an excel sheet which contains calculations using formulas. It been manually updated each month but basically I working towards automating it. I have read a lot on how to use openpyxl but I wanted to read values not formulas which is why i found xlwings. Now I finding difficulty in finding coordintes of cell in xlwings. Its pretty straightforward in openpyxl cell.coordinate and want something similar to that. </p>\n\n<p>I am pretty new to python so plz dont mind my syntax.</p>\n\n<p>I have read the excel sheet into sheet1 variable and I am just trying to find the date in the first 50X50 matrix in the sheet. </p>\n\n<p>This is the for loop:</p>\n\n<pre><code>for row in range(50):\n   for col in range(50):\n      if sheet1.range(row,col).value == '12/1/2017':\n         print ((row,col))\n</code></pre>\n\n<p>Now I know .value in xlwings returns datetime and I am comparing it to a date and I found the workaround using something from the this --><a href=\"http://docs.xlwings.org/en/stable/converters.html\" rel=\"nofollow noreferrer\">http://docs.xlwings.org/en/stable/converters.html</a> </p>\n\n<pre><code>import datetime as dt\nsht.range('A1').options(dates=dt.date).value\n</code></pre>\n\n<p>But I am not getting how should I implement it. </p>\n\n<p>At the end I am getting the error </p>\n\n<pre><code>return self._get_good_object_(self._oleobj_.Invoke(*allArgs),self._olerepr_.defaultDispatchName,None)\n\ncom_error: (-2147352567, 'Exception occurred.', (0, None, None, None, 0, -2146827284), None)\n</code></pre>\n\n<p>This error doesnt seem to be related to what I think I am doing, but i cant seem to troubleshoot this problem.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1661, "user_id": 3928295, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dJXv9.jpg?s=128&g=1", "display_name": "Manmohan_singh", "link": "https://stackoverflow.com/users/3928295/manmohan-singh"}, "edited": false, "score": 0, "creation_date": 1521692059, "post_id": 49417323, "comment_id": 85841991, "body": "You are setting mkl.set_num_threads to 4 and you are using KML_NUM_THREADS as env variable . Shouldn&#39;t it be MKL_NUM_THREADS env variable?"}, {"owner": {"reputation": 31, "user_id": 9531351, "user_type": "registered", "profile_image": "https://graph.facebook.com/1870940932916068/picture?type=large", "display_name": "Aviv Rubinstein", "link": "https://stackoverflow.com/users/9531351/aviv-rubinstein"}, "reply_to_user": {"reputation": 1661, "user_id": 3928295, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dJXv9.jpg?s=128&g=1", "display_name": "Manmohan_singh", "link": "https://stackoverflow.com/users/3928295/manmohan-singh"}, "edited": false, "score": 0, "creation_date": 1521695397, "post_id": 49417323, "comment_id": 85842904, "body": "I meant MKL not KML, I fixed the typo on my post."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9531351, "user_type": "registered", "profile_image": "https://graph.facebook.com/1870940932916068/picture?type=large", "display_name": "Aviv Rubinstein", "link": "https://stackoverflow.com/users/9531351/aviv-rubinstein"}, "edited": false, "score": 0, "creation_date": 1521891277, "post_id": 49424409, "comment_id": 85931221, "body": "Your slolution worked, I can control the number of threads. However, the main problem remains. Whenever I use torch, the CPU is capped by ~10% even when the number of threads is more than 1. Additionally, using numpy the CPU usage is higher and uses all cores."}], "tags": [], "owner": {"reputation": 21, "user_id": 9515671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZFzgY.jpg?s=128&g=1", "display_name": "Deepthi Raj - Intel", "link": "https://stackoverflow.com/users/9515671/deepthi-raj-intel"}, "is_accepted": false, "score": 2, "last_activity_date": 1610545150, "last_edit_date": 1610545150, "creation_date": 1521709340, "answer_id": 49424409, "question_id": 49417323, "link": "https://stackoverflow.com/questions/49417323/mkl-threads-capped-using-anaconda/49424409#49424409", "title": "MKL threads capped using anaconda", "body": "<p>Set the environment variable MKL_DYNAMIC=FALSE before executing Python scripts. This will increase the cap size to actual max.</p>\n<p>For further reference:\n<a href=\"https://software.intel.com/content/www/us/en/develop/documentation/onemkl-linux-developer-guide/top/managing-performance-and-memory/improving-performance-with-threading/using-additional-threading-control/mkl-dynamic.html\" rel=\"nofollow noreferrer\">https://software.intel.com/content/www/us/en/develop/documentation/onemkl-linux-developer-guide/top/managing-performance-and-memory/improving-performance-with-threading/using-additional-threading-control/mkl-dynamic.html</a></p>\n"}], "owner": {"reputation": 31, "user_id": 9531351, "user_type": "registered", "profile_image": "https://graph.facebook.com/1870940932916068/picture?type=large", "display_name": "Aviv Rubinstein", "link": "https://stackoverflow.com/users/9531351/aviv-rubinstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1610545150, "creation_date": 1521670068, "last_edit_date": 1521695303, "question_id": 49417323, "link": "https://stackoverflow.com/questions/49417323/mkl-threads-capped-using-anaconda", "title": "MKL threads capped using anaconda", "body": "<p>Lately, I installed Anaconda on a Windows 8 machine in order to install pytorch.\nI have a i7 intel processor with 4 cores, using python 3.6.\nWhenever I try to set mkl.set_num_threads to 4 or generally more than 3, the mkl.get_max_threads is capped at 2.</p>\n\n<p>I already tried reinstalling everything, using the MKL_NUM_THREADS env variable, Installing numpy by myself using <a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy\" rel=\"nofollow noreferrer\">this</a> ,and many other suggestions with no luck.</p>\n\n<p>Needless to say, using low number of cores leads to very slow performance.</p>\n\n<p>Hope you guys can help :)</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 3, "last_activity_date": 1521670448, "creation_date": 1521670448, "answer_id": 49417394, "question_id": 49417315, "link": "https://stackoverflow.com/questions/49417315/why-does-np-argwheres-result-shape-not-match-its-input/49417394#49417394", "title": "Why does np.argwhere&#39;s result shape not match it&#39;s input?", "body": "<p><code>argwhere</code> returns the coordinates of where condition is True. In general, coordinates are tuples, therefore the output should be 2D.</p>\n\n<pre><code>&gt;&gt;&gt; np.argwhere(np.arange(0,20).reshape(2,2,5)&lt;10)\narray([[0, 0, 0],\n       [0, 0, 1],\n       [0, 0, 2],\n       [0, 0, 3],\n       [0, 0, 4],\n       [0, 1, 0],\n       [0, 1, 1],\n       [0, 1, 2],\n       [0, 1, 3],\n       [0, 1, 4]])\n</code></pre>\n\n<p>For consistency, this also applies to the case of 1D input.</p>\n"}, {"tags": [], "owner": {"reputation": 561, "user_id": 1951298, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/N8imy.jpg?s=128&g=1", "display_name": "Curcuma_", "link": "https://stackoverflow.com/users/1951298/curcuma"}, "is_accepted": false, "score": 0, "last_activity_date": 1521670825, "creation_date": 1521670825, "answer_id": 49417471, "question_id": 49417315, "link": "https://stackoverflow.com/questions/49417315/why-does-np-argwheres-result-shape-not-match-its-input/49417471#49417471", "title": "Why does np.argwhere&#39;s result shape not match it&#39;s input?", "body": "<p><code>numpy.argwhere</code> finds <strong>indices</strong> of elements that fulfill the condition. it happened that some of your elements are the outputted elements themselves (the index is the same as value). </p>\n\n<p>Particularly, in your example the input is one dimensional, the output is one dimension (index) by two (the second is to iterate over values). </p>\n\n<p>I hope this is clear, if not, take this example of two dimensional input array presented in the documentation of numpy:</p>\n\n<pre><code>&gt;&gt;&gt; x = np.arange(6).reshape(2,3)\n&gt;&gt;&gt; x\narray([[0, 1, 2],\n       [3, 4, 5]])\n&gt;&gt;&gt; np.argwhere(x&gt;1)\narray([[0, 2],\n       [1, 0],\n       [1, 1],\n       [1, 2]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1521671688, "last_edit_date": 1521671688, "creation_date": 1521671348, "answer_id": 49417564, "question_id": 49417315, "link": "https://stackoverflow.com/questions/49417315/why-does-np-argwheres-result-shape-not-match-its-input/49417564#49417564", "title": "Why does np.argwhere&#39;s result shape not match it&#39;s input?", "body": "<p><code>argwhere</code> is simply the transpose of <code>where</code> (actually <code>np.nonzero</code>):</p>\n\n<pre><code>In [17]: np.where(np.arange(0,20)&lt;10)\nOut[17]: (array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]),)\nIn [18]: np.transpose(_)\nOut[18]: \narray([[0],\n       [1],\n       [2],\n       [3],\n       [4],\n       [5],\n       [6],\n       [7],\n       [8],\n       [9]])\n</code></pre>\n\n<p><code>where</code> produces a tuple of arrays, one array per dimension (here a 1 element tuple). <code>transpose</code> turns that tuple into an array (e.g. <code>(1,10)</code> shape), and then transposes it.  So it's number of columns is the <code>ndim</code> of the input condition, and the number of rows the number of <code>finds</code>.</p>\n\n<p><code>argwhere</code> can be useful in visualizing the finds, but is not as useful in programs as the <code>where</code> itself.  The <code>where</code> tuple can be used to index the condition array directly.  The <code>argwhere</code> array is usually used iteratively.  For example:</p>\n\n<pre><code>In [19]: x = np.arange(10).reshape(2,5)\nIn [20]: x %2\nOut[20]: \narray([[0, 1, 0, 1, 0],\n       [1, 0, 1, 0, 1]])\nIn [21]: np.where(x%2)\nOut[21]: (array([0, 0, 1, 1, 1]), array([1, 3, 0, 2, 4]))\nIn [22]: np.argwhere(x%2)\nOut[22]: \narray([[0, 1],\n       [0, 3],\n       [1, 0],\n       [1, 2],\n       [1, 4]])\nIn [23]: x[np.where(x%2)]\nOut[23]: array([1, 3, 5, 7, 9])\nIn [24]: for i in np.argwhere(x%2):\n    ...:     print(x[tuple(i)])\n    ...:     \n1\n3\n5\n7\n9\nIn [25]: [x[tuple(i)] for i in np.argwhere(x%2)]\nOut[25]: [1, 3, 5, 7, 9]\n</code></pre>\n"}], "owner": {"reputation": 11190, "user_id": 48956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/06f001142c96af8fb111127e63d92579?s=128&d=identicon&r=PG", "display_name": "user48956", "link": "https://stackoverflow.com/users/48956/user48956"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1172, "favorite_count": 0, "accepted_answer_id": 49417394, "answer_count": 3, "score": 1, "last_activity_date": 1521671688, "creation_date": 1521670038, "last_edit_date": 1521670210, "question_id": 49417315, "link": "https://stackoverflow.com/questions/49417315/why-does-np-argwheres-result-shape-not-match-its-input", "title": "Why does np.argwhere&#39;s result shape not match it&#39;s input?", "body": "<p>Suppose I pass a 1D array:</p>\n\n<pre><code>&gt;&gt;&gt; np.arange(0,20)\narray([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,\n       17, 18, 19])\n&gt;&gt;&gt; np.arange(0,20).shape\n(20,)\n</code></pre>\n\n<p>into argwhere:    </p>\n\n<pre><code>&gt;&gt;&gt; np.argwhere(np.arange(0,20)&lt;10)\narray([[0],\n       [1],\n       [2],\n       [3],\n       [4],\n       [5],\n       [6],\n       [7],\n       [8],\n       [9]])\n&gt;&gt;&gt; np.argwhere(np.arange(0,20)&lt;10).shape\n(10, 1)\n</code></pre>\n\n<p>why has the result changed into a 2D array? What's the benefit of this?</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1521670175, "post_id": 49417311, "comment_id": 85836495, "body": "Look at <code>ast.literal_eval</code>"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 3, "creation_date": 1521671515, "post_id": 49417311, "comment_id": 85836962, "body": "The first question is how you&#39;re <i>getting</i> those strings with lists inside. If you&#39;re trying to store data by just printing it out to a file as strings and then parsing the result, that&#39;s almost never a good idea\u2014see <code>json</code>, <code>pickle</code>, and various alternatives you can find on PyPI\u2014but in the specific case of a CSV, why not make it two columns instead of one column with a 2-element list? Or a Numpy struct field, or a Pandas compound thingy I forget the name of?"}, {"owner": {"reputation": 91, "user_id": 8828442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a0a9586ae0423baefeba611fda88c023?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Park", "link": "https://stackoverflow.com/users/8828442/jake-park"}, "edited": false, "score": 0, "creation_date": 1521724245, "post_id": 49417311, "comment_id": 85860421, "body": "json file that I found online had a list of the string in one column. My goal is to split it and make it into two separate columns. Thank you for your feedback tho!"}], "answers": [{"tags": [], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "is_accepted": false, "score": 1, "last_activity_date": 1521727296, "last_edit_date": 1521727296, "creation_date": 1521671822, "answer_id": 49417652, "question_id": 49417311, "link": "https://stackoverflow.com/questions/49417311/convert-literal-string-to-list-inside-python/49417652#49417652", "title": "Convert literal string to list inside python", "body": "<p>Assuming what you've described here accurately mimics your real-world case, how about a regex with <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.extract.html\" rel=\"nofollow noreferrer\"><code>.str.extract()</code></a>?</p>\n\n<pre><code>&gt;&gt;&gt; regex = r'\\[(?P&lt;helpful&gt;\\d+),\\s*(?P&lt;not_helpful&gt;\\d+)\\]'\n&gt;&gt;&gt; df\n  helpful\n0  [2, 4]\n1  [0, 0]\n2  [0, 1]\n\n&gt;&gt;&gt; df['helpful'].str.extract(regex, expand=True).astype(np.int64)\n   helpful  not_helpful\n0        2            4\n1        0            0\n2        0            1\n</code></pre>\n\n<p>Each pattern <code>(?P&lt;name&gt;...)</code> is a named capturing group.  Here, there are two: helpful/not helpful.  This assumes the pattern can be described by: opening bracket, 1 or more digits, comma, 0 or more spaces, 1 or more digits, and closing bracket.  The Pandas method (<code>.extract()</code>), as its name implies, \"extracts\" the result of <code>match.group(i)</code> for each <code>i</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; regex = r'\\[(?P&lt;helpful&gt;\\d+),\\s*(?P&lt;not_helpful&gt;\\d+)\\]'\n&gt;&gt;&gt; re.search(regex, '[2, 4]').group('helpful')\n'2'\n&gt;&gt;&gt; re.search(regex, '[2, 4]').group('not_helpful')\n'4'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 2, "last_activity_date": 1521724114, "last_edit_date": 1521724114, "creation_date": 1521674632, "answer_id": 49418111, "question_id": 49417311, "link": "https://stackoverflow.com/questions/49417311/convert-literal-string-to-list-inside-python/49418111#49418111", "title": "Convert literal string to list inside python", "body": "<p>As suggested by @abarnert, the first port of call is find out <em>why</em> your data is coming across as strings and try and rectify that problem.</p>\n\n<p>However, if this is beyond your control, you can use <code>ast.literal_eval</code> as below.</p>\n\n<pre><code>import pandas as pd\nfrom ast import literal_eval\n\ndf = pd.DataFrame({'helpful': ['[2, 4]', '[0, 0]', '[0, 1]', '[7, 13]', '[4, 6]']})\n\nres = pd.DataFrame(df['helpful'].map(literal_eval).tolist(),\n                   columns=['helpful', 'not_helpful'])\n\n#    helpful  not_helpful\n# 0        2            4\n# 1        0            0\n# 2        0            1\n# 3        7           13\n# 4        4            6\n</code></pre>\n\n<p><strong>Explanation</strong>  </p>\n\n<p>From the <a href=\"https://docs.python.org/3/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\">documentation</a>, <code>ast.literal_eval</code> performs the following function:</p>\n\n<blockquote>\n  <p>Safely evaluate an expression node or a string containing a Python\n  literal or container display. The string or node provided may only\n  consist of the following Python literal structures: strings, bytes,\n  numbers, tuples, lists, dicts, sets, booleans, and None.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 6932663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d552f3671e3d309e94bdca346dad7545?s=128&d=identicon&r=PG&f=1", "display_name": "brodeur", "link": "https://stackoverflow.com/users/6932663/brodeur"}, "is_accepted": false, "score": 0, "last_activity_date": 1521714315, "creation_date": 1521714315, "answer_id": 49426190, "question_id": 49417311, "link": "https://stackoverflow.com/questions/49417311/convert-literal-string-to-list-inside-python/49426190#49426190", "title": "Convert literal string to list inside python", "body": "<p>Just for fun without module.</p>\n\n<pre><code>s = \"\"\"\nhelpful\n'[2, 4]'\n'[0, 0]'\n'[0, 1]'\n'[7, 13]'\n'[4, 6]'\n\"\"\"\n\nlst = s.strip().splitlines()\nd = {'helpful':[], 'not_helpful':[]}\n\nel = [tuple(int(x) for x in e.strip(\"'[]\").split(', ')) for e in lst[1:]]\n\nd['helpful'].extend(x[0] for x in el)\nd['not_helpful'].extend(x[1] for x in el)\n\nNUM_WIDTH = 4\nCOLUMN_WIDTH = max(len(k) for k in d)\nprint('{:^{num_width}}{:^{column_width}}{:^{column_width}}'.format(\n    ' ', *sorted(d),\n    num_width=NUM_WIDTH,\n    column_width=COLUMN_WIDTH\n    )\n)\nfor (i, v) in enumerate(zip(d['helpful'], d['not_helpful']), 1):\n    print('{:^{num_width}}{:^{column_width}}{:^{column_width}}'.format(\n        i, *v,\n        num_width=NUM_WIDTH,\n        column_width=COLUMN_WIDTH\n        )\n    )\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 8828442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a0a9586ae0423baefeba611fda88c023?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Park", "link": "https://stackoverflow.com/users/8828442/jake-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 49418111, "answer_count": 3, "score": 2, "last_activity_date": 1521727296, "creation_date": 1521670010, "last_edit_date": 1521680591, "question_id": 49417311, "link": "https://stackoverflow.com/questions/49417311/convert-literal-string-to-list-inside-python", "title": "Convert literal string to list inside python", "body": "<pre><code>helpful\n'[2, 4]'\n'[0, 0]'\n'[0, 1]'\n'[7, 13]'\n'[4, 6]'\n</code></pre>\n\n<p>Column name helpful has a list inside the string. I want to split 2 and 4 into separate columns.</p>\n\n<pre><code>[int(each) for each in df['helpful'][0].strip('[]').split(',')]\n</code></pre>\n\n<p>This works the first row but if I do </p>\n\n<pre><code>[int(each) for each in df['helpful'].strip('[]').split(',')]\n</code></pre>\n\n<p>gives me attribute error</p>\n\n<pre><code>AttributeError: 'Series' object has no attribute 'strip'\n</code></pre>\n\n<p>How can I print out like this in my dataframe??</p>\n\n<pre><code>helpful not_helpful\n2       4\n0       0\n0       1\n7       13\n4       6\n</code></pre>\n"}, {"tags": ["python", "multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4747466, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1c686dbc07dda5c3fb4a91d1cc55bb8f?s=128&d=identicon&r=PG&f=1", "display_name": "Saim G&#246;kkoyun", "link": "https://stackoverflow.com/users/4747466/saim-g%c3%b6kkoyun"}, "edited": false, "score": 0, "creation_date": 1521695906, "post_id": 49417937, "comment_id": 85843088, "body": "it&#39;s working but I am wondering why I can&#39;t read global variable data from flask process, is the python totally isolating processes each other? It seems just Queue() element is global"}, {"owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "reply_to_user": {"reputation": 55, "user_id": 4747466, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1c686dbc07dda5c3fb4a91d1cc55bb8f?s=128&d=identicon&r=PG&f=1", "display_name": "Saim G&#246;kkoyun", "link": "https://stackoverflow.com/users/4747466/saim-g%c3%b6kkoyun"}, "edited": false, "score": 1, "creation_date": 1521716811, "post_id": 49417937, "comment_id": 85855072, "body": "Well a process, by definition runs in a completly different region of memory, and your operating system will not let them communicate with each other. You must explicitly build a pipe/socket/whatever to do that. Its not inherent to python"}], "tags": [], "owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "is_accepted": true, "score": 1, "last_activity_date": 1521696492, "last_edit_date": 1521696492, "creation_date": 1521673539, "answer_id": 49417937, "question_id": 49417286, "link": "https://stackoverflow.com/questions/49417286/passing-variables-between-multiprocesses-python-2-7/49417937#49417937", "title": "Passing variables between multiprocesses python 2.7", "body": "<p>I don't see your problem...\nThis looks like answersing your question:</p>\n\n<pre><code>from flask import Flask\nfrom multiprocessing import Process, Queue\nimport time\n\nglobalvar=0\napp = Flask(__name__)\n\n\n@app.route('/')\ndef index():\n    return \"globvar in index=\" + str(q.get())  # Now, it will return a value other than 0!\n\n\ndef multiprocess(q):\n    # global globalvar tried but same result\n    i = 0\n    while 1:  # for keep fresh value of i\n        i += 1\n        variable = i % 10\n        print \"i in multiprocess=\" + str(i)\n        q.put(variable)\n        time.sleep(0.1)\n\n\ndef flaskserver():\n    app.run(debug=True, host='127.0.0.1', port=7654, use_reloader=False)\n\n\nif (__name__ == '__main__'):\n    q = Queue()\n    p1 = Process(target=flaskserver)\n    p2 = Process(target=multiprocess, args=(q,))\n    p1.start()\n    p2.start()\n\n    while 1:\n        globalvar = q.get()\n        print \"globalvar in main=\" + str(globalvar)\n        time.sleep(0.1)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4747466, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1c686dbc07dda5c3fb4a91d1cc55bb8f?s=128&d=identicon&r=PG&f=1", "display_name": "Saim G&#246;kkoyun", "link": "https://stackoverflow.com/users/4747466/saim-g%c3%b6kkoyun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 3, "accepted_answer_id": 49417937, "answer_count": 1, "score": 0, "last_activity_date": 1521696492, "creation_date": 1521669895, "last_edit_date": 1521696022, "question_id": 49417286, "link": "https://stackoverflow.com/questions/49417286/passing-variables-between-multiprocesses-python-2-7", "title": "Passing variables between multiprocesses python 2.7", "body": "<p>I am trying to pass data from process to flask process.\nTried to use global variable in flask process but I can't transfer data between processes. Also tried flask as Thread but it is unresponsive.\nCODE:</p>\n\n<pre><code>    from flask import Flask\n    from multiprocessing import Process, Queue\n    import time\n\n    globalvar=0\n\n    app = Flask(__name__)\n    @app.route('/')\n    def index():\n        return \"globvar in index=\"+str(globalvar) # I want to return globvar\n\n    def multiprocess(q):\n        #global globalvar tried but same result\n        i=0\n        while 1: # for keep fresh value of i\n            i+=1\n            variable = i % 10\n            print \"i in multiprocess=\" + str(i)\n            q.put(variable)\n            time.sleep(1)\n\n    def flaskserver():\n        app.run(debug=True, host='127.0.0.1', port=7654,use_reloader=False)\n\n    if(__name__=='__main__'):\n        q = Queue()\n        p1 = Process(target=flaskserver)\n        p2 = Process(target=multiprocess, args=(q,))\n        p1.start()\n        p2.start()\n\n        while 1:\n            globalvar = q.get()\n            print \"globalvar in main=\" + str(globalvar)\n            time.sleep(3)\n</code></pre>\n\n<p>CONSOLE OUTPUT:</p>\n\n<blockquote>\n<pre><code>/usr/bin/python /Users/macbook/Desktop/python/stack-flask-multi.py\ni in multiprocess=1\nglobalvar in main=1\n * Running on http://127.0.0.1:7654/ (Press CTRL+C to quit)\ni in multiprocess=2\ni in multiprocess=3\ni in multiprocess=4\nglobalvar in main=2\ni in multiprocess=5\ni in multiprocess=6\ni in multiprocess=7\nglobalvar in main=3\ni in multiprocess=8 \ni in multiprocess=9\ni in multiprocess=10\nglobalvar in main=4\n</code></pre>\n</blockquote>\n\n<p>REQUESTED PAGE IN BROWSER:</p>\n\n<blockquote>\n<pre><code>127.0.0.1 - - [22/Mar/2018 01:28:00] \"GET / HTTP/1.1\" 200 - \n</code></pre>\n  \n  <p>returned in browser -->  globvar in index=0 </p>\n</blockquote>\n"}, {"tags": ["python", "list", "unique"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 3, "creation_date": 1521669806, "post_id": 49417232, "comment_id": 85836324, "body": "So first look for how to flatten an arbitrarily nested list, then convert to a set"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1521669947, "post_id": 49417232, "comment_id": 85836393, "body": "If you can&#39;t find a ready-made solution, how about trying to write your own? Please show us your attempt at solving this."}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 4, "last_activity_date": 1521670067, "creation_date": 1521670067, "answer_id": 49417322, "question_id": 49417232, "link": "https://stackoverflow.com/questions/49417232/python-how-to-flatten-nested-list-getting-unique-values/49417322#49417322", "title": "Python - How to flatten nested list getting unique values", "body": "<p>You can use recursion to flatten your list:</p>\n\n<pre><code>def flatten(d):\n  return {i for b in [[i] if not isinstance(i, list) else flatten(i) for i in d] for i in b}\n\nprint(flatten([2,[[2,4,5],\"c\",[[[\"c\",\"d\"]]]]]))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>set(['d', 2, 4, 'c', 5])\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7476942, "user_type": "registered", "profile_image": "https://graph.facebook.com/1761415497217294/picture?type=large", "display_name": "Rohan Trivedi", "link": "https://stackoverflow.com/users/7476942/rohan-trivedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "closed_date": 1521674129, "accepted_answer_id": 49417322, "answer_count": 1, "score": 0, "last_activity_date": 1521728216, "creation_date": 1521669632, "last_edit_date": 1521728216, "question_id": 49417232, "link": "https://stackoverflow.com/questions/49417232/python-how-to-flatten-nested-list-getting-unique-values", "closed_reason": "Duplicate", "title": "Python - How to flatten nested list getting unique values", "body": "<p>this is my function : </p>\n\n<pre><code>extract_unique_elements([2,[[2,4,5],\"c\",[[[\"c\",\"d\"]]]]])\n</code></pre>\n\n<p>which should return: <code>{2, 4, 5, \u201cc\u201d, \u201cd\u201d}</code> (in the form of set).</p>\n\n<p>I looked for some answers but they all for 2D lists.\nThank you. \nBut now I already have a solution. thank you all for your help.</p>\n\n<pre><code>def extract_unique_elements(lst):\n    unique = []\n    def recursion_occurs_here(element):\n        for item in element:\n            if isinstance(item, list):\n               recursion_occurs_here(item)\n            else:\n               unique.append(item)\n    recursion_occurs_here(lst)\n    extracted = set(unique)\n    return extracted\n</code></pre>\n"}, {"tags": ["python", "arrays", "max", "element"], "comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 2, "creation_date": 1521669518, "post_id": 49417191, "comment_id": 85836202, "body": "<code>max_element</code> is locally defined within the function. You are trying to access it outside of its scope.  You don&#39;t even need to call that.  Just make sure you return <code>max_element</code> in your function and use the second print statement."}, {"owner": {"reputation": 756, "user_id": 3043308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5125d1e8469bc87c02d8a8443c3d1052?s=128&d=identicon&r=PG&f=1", "display_name": "J. Owens", "link": "https://stackoverflow.com/users/3043308/j-owens"}, "edited": false, "score": 2, "creation_date": 1521669585, "post_id": 49417191, "comment_id": 85836240, "body": "Python has a built-in function to do what you want: <a href=\"https://docs.python.org/2/library/functions.html#max\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html#max</a>"}, {"owner": {"reputation": 866, "user_id": 4644650, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZMYJD.jpg?s=128&g=1", "display_name": "Coke", "link": "https://stackoverflow.com/users/4644650/coke"}, "edited": false, "score": 0, "creation_date": 1521669643, "post_id": 49417191, "comment_id": 85836260, "body": "remove <code>print(max_element)</code> since it does not make sense at all."}, {"owner": {"reputation": 292, "user_id": 5147834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/732459705630740316c5a2965662e056?s=128&d=identicon&r=PG&f=1", "display_name": "Axeon Thra", "link": "https://stackoverflow.com/users/5147834/axeon-thra"}, "edited": false, "score": 0, "creation_date": 1521669897, "post_id": 49417191, "comment_id": 85836370, "body": "max_element&#39;s scope is restricted to the function since it is defined inside the function. you cannot access it outside. Python is not bash or Lua."}], "answers": [{"comments": [{"owner": {"reputation": 70, "user_id": 5398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92f5f989c43330053a90166dd9020c0b?s=128&d=identicon&r=PG&f=1", "display_name": "A.Bau", "link": "https://stackoverflow.com/users/5398479/a-bau"}, "reply_to_user": {"reputation": 21, "user_id": 9013584, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431347810324783/picture?type=large", "display_name": "Jovid Nurov", "link": "https://stackoverflow.com/users/9013584/jovid-nurov"}, "edited": false, "score": 0, "creation_date": 1521669730, "post_id": 49417235, "comment_id": 85836292, "body": "your function should pass the max_element outside through a return"}, {"owner": {"reputation": 70, "user_id": 5398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92f5f989c43330053a90166dd9020c0b?s=128&d=identicon&r=PG&f=1", "display_name": "A.Bau", "link": "https://stackoverflow.com/users/5398479/a-bau"}, "reply_to_user": {"reputation": 21, "user_id": 9013584, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431347810324783/picture?type=large", "display_name": "Jovid Nurov", "link": "https://stackoverflow.com/users/9013584/jovid-nurov"}, "edited": false, "score": 0, "creation_date": 1521669800, "post_id": 49417235, "comment_id": 85836322, "body": "sry left one space out"}, {"owner": {"reputation": 70, "user_id": 5398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92f5f989c43330053a90166dd9020c0b?s=128&d=identicon&r=PG&f=1", "display_name": "A.Bau", "link": "https://stackoverflow.com/users/5398479/a-bau"}, "reply_to_user": {"reputation": 21, "user_id": 9013584, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431347810324783/picture?type=large", "display_name": "Jovid Nurov", "link": "https://stackoverflow.com/users/9013584/jovid-nurov"}, "edited": false, "score": 0, "creation_date": 1521669859, "post_id": 49417235, "comment_id": 85836355, "body": "but you should just use the buildin <code>max()</code> function"}], "tags": [], "owner": {"reputation": 70, "user_id": 5398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92f5f989c43330053a90166dd9020c0b?s=128&d=identicon&r=PG&f=1", "display_name": "A.Bau", "link": "https://stackoverflow.com/users/5398479/a-bau"}, "is_accepted": false, "score": -1, "last_activity_date": 1521669763, "last_edit_date": 1521669763, "creation_date": 1521669640, "answer_id": 49417235, "question_id": 49417191, "link": "https://stackoverflow.com/questions/49417191/i-want-make-a-function-which-will-find-the-max-value-in-array/49417235#49417235", "title": "I want make a function which will find the max value in array", "body": "<p>Your code should look like that:</p>\n\n<pre><code>def max(list):\n    max_element = list[0]\n\n    for i in range(1, len(list)):\n        if list[i] &gt; max_element:\n            max_element = list[i]\n    return max_element\n\n\nprint(max([1, 2, 8, 4]))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 9013584, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431347810324783/picture?type=large", "display_name": "Jovid Nurov", "link": "https://stackoverflow.com/users/9013584/jovid-nurov"}, "edited": false, "score": 0, "creation_date": 1521669894, "post_id": 49417252, "comment_id": 85836369, "body": "thanks a lot! so, the problem was because of the name of my function?"}, {"owner": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "edited": false, "score": 0, "creation_date": 1521669987, "post_id": 49417252, "comment_id": 85836415, "body": "No, the problem was because you were trying to print <code>max_element</code>, which you don&#39;t have access to outside your function. If you did <code>print(max_element)</code> inside the function ,it wouldn&#39;t error out. In both cases, don&#39;t override python globals."}], "tags": [], "owner": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "is_accepted": true, "score": 0, "last_activity_date": 1521669736, "creation_date": 1521669736, "answer_id": 49417252, "question_id": 49417191, "link": "https://stackoverflow.com/questions/49417191/i-want-make-a-function-which-will-find-the-max-value-in-array/49417252#49417252", "title": "I want make a function which will find the max value in array", "body": "<p>First thing first, don't override python's globals. Python provides a <code>max</code> function by default.</p>\n\n<pre><code>def max_number(list):\n    max_element = list[0]\n\n    for i in range(1, len(list)):\n        if list[i] &gt; max_element:\n            max_element = list[i]\n    return max_element\n\nprint(max_number([1, 2, 8, 4]))\n</code></pre>\n\n<p>You can't just use a variable not in your scope, max_element variable is only available in your <code>max_element</code> function's scope, to actually retrieve the value, you need to return it.</p>\n"}, {"comments": [{"owner": {"reputation": 70, "user_id": 5398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92f5f989c43330053a90166dd9020c0b?s=128&d=identicon&r=PG&f=1", "display_name": "A.Bau", "link": "https://stackoverflow.com/users/5398479/a-bau"}, "edited": false, "score": 0, "creation_date": 1521670175, "post_id": 49417314, "comment_id": 85836494, "body": "you really dont want to print the value inside the function. The reason why you implement this function is that you want to get the biggest item. so you should return it"}], "tags": [], "owner": {"reputation": 1, "user_id": 7318916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4633945a656488e23290de0435f90?s=128&d=identicon&r=PG&f=1", "display_name": "Edje", "link": "https://stackoverflow.com/users/7318916/edje"}, "is_accepted": false, "score": 0, "last_activity_date": 1521670026, "creation_date": 1521670026, "answer_id": 49417314, "question_id": 49417191, "link": "https://stackoverflow.com/questions/49417191/i-want-make-a-function-which-will-find-the-max-value-in-array/49417314#49417314", "title": "I want make a function which will find the max value in array", "body": "<p>'max_element' is a variable inside of your function scope so when you try to print it outside of the function your computer doesn't know what it is. \nYou want to print inside function after the loop is complete to have it print when run.</p>\n\n<pre><code>def max(list):\n  max_element = list[0]\n  for i in range(1, len(list)):\n    if list[i] &gt; max_element:\n      max_element = list[i]\n  print(max_element)   \n\nmax([1, 2, 8, 4])\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9013584, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431347810324783/picture?type=large", "display_name": "Jovid Nurov", "link": "https://stackoverflow.com/users/9013584/jovid-nurov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 49417252, "answer_count": 3, "score": -1, "last_activity_date": 1521670026, "creation_date": 1521669447, "last_edit_date": 1521669550, "question_id": 49417191, "link": "https://stackoverflow.com/questions/49417191/i-want-make-a-function-which-will-find-the-max-value-in-array", "title": "I want make a function which will find the max value in array", "body": "<pre><code>def max(list):\n    max_element = list[0]\n\n    for i in range(1, len(list)):\n        if list[i] &gt; max_element:\n            max_element = list[i]\n\n\nprint(max_element)\n\nprint(max([1, 2, 8, 4]))\n\n#NameError: name 'max_element' is not defined\n</code></pre>\n\n<p>how to fix it?</p>\n"}, {"tags": ["python", "return"], "comments": [{"owner": {"reputation": 341, "user_id": 2800865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e4166c3049508ec9e5ae242e040ea1a?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/2800865/sam"}, "edited": false, "score": 0, "creation_date": 1521669509, "post_id": 49417189, "comment_id": 85836198, "body": "What is the problem? i.e. what is the expected output and what are you seeing now?"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1521669572, "post_id": 49417189, "comment_id": 85836235, "body": "<code>print(centuryFromYear(2018))</code>?"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1521669578, "post_id": 49417189, "comment_id": 85836239, "body": "Your identation is off. What should <code>if year[1:3] == 0</code> accomplish...when ever is a list with len &gt; 0 ==  0 ? Your <code>ifs</code> are lacking elses so they return &quot;something&quot; in case the if does not match - in this cases he method will return <code>None</code> implicitly."}, {"owner": {"reputation": 77, "user_id": 9434674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35befecef58b6e3e0d08a6ca7f863503?s=128&d=identicon&r=PG&f=1", "display_name": "iman_sh77", "link": "https://stackoverflow.com/users/9434674/iman-sh77"}, "reply_to_user": {"reputation": 341, "user_id": 2800865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e4166c3049508ec9e5ae242e040ea1a?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/2800865/sam"}, "edited": false, "score": 0, "creation_date": 1521669669, "post_id": 49417189, "comment_id": 85836272, "body": "@sam Given a year, return the century it is in. The first century spans from the year 1 up to and including the year 100, the second - from the year 101 up to and including the year 200, etc."}, {"owner": {"reputation": 564, "user_id": 1165946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYEZj.png?s=128&g=1", "display_name": "rdowell", "link": "https://stackoverflow.com/users/1165946/rdowell"}, "edited": false, "score": 0, "creation_date": 1521669780, "post_id": 49417189, "comment_id": 85836310, "body": "<code>if len(str(year)) == 1 or 2:</code> doesn&#39;t do what you think it does.  This evaluates to the same as <code>if (len(str(year)) == 1) or 2</code>"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1521669843, "post_id": 49417189, "comment_id": 85836344, "body": "@iman_sh77 Okay, but that doesn&#39;t tell us what the problem is that you&#39;re trying to solve. And there are so many problems with this code, it&#39;s really hard to tell which one you&#39;re asking about."}, {"owner": {"reputation": 77, "user_id": 9434674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35befecef58b6e3e0d08a6ca7f863503?s=128&d=identicon&r=PG&f=1", "display_name": "iman_sh77", "link": "https://stackoverflow.com/users/9434674/iman-sh77"}, "reply_to_user": {"reputation": 564, "user_id": 1165946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYEZj.png?s=128&g=1", "display_name": "rdowell", "link": "https://stackoverflow.com/users/1165946/rdowell"}, "edited": false, "score": 0, "creation_date": 1521669901, "post_id": 49417189, "comment_id": 85836372, "body": "@rdowell so how can I fix it?"}, {"owner": {"reputation": 77, "user_id": 9434674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35befecef58b6e3e0d08a6ca7f863503?s=128&d=identicon&r=PG&f=1", "display_name": "iman_sh77", "link": "https://stackoverflow.com/users/9434674/iman-sh77"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1521670010, "post_id": 49417189, "comment_id": 85836429, "body": "@Aran-Fey I&#39;m trying to find out for ex: 1905 is which century 200 is second century and 2000 is 20 century but 2001 is 21century and etc.tnx all for responding &lt;3"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1521670092, "post_id": 49417189, "comment_id": 85836462, "body": "So the problem is that the function doesn&#39;t work correctly? What&#39;s all this about seeing the return values, then?"}, {"owner": {"reputation": 564, "user_id": 1165946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYEZj.png?s=128&g=1", "display_name": "rdowell", "link": "https://stackoverflow.com/users/1165946/rdowell"}, "edited": false, "score": 0, "creation_date": 1521670194, "post_id": 49417189, "comment_id": 85836507, "body": "You cannot make a conditional compare against multiple values at the same time like that.  Saying <code>if x == y or z</code> doesn&#39;t evaluate to <code>if (x == y) or (x == z)</code>  Look up operator precedence to understand why this is, and you&#39;ll also see why your function always returns 1."}, {"owner": {"reputation": 77, "user_id": 9434674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35befecef58b6e3e0d08a6ca7f863503?s=128&d=identicon&r=PG&f=1", "display_name": "iman_sh77", "link": "https://stackoverflow.com/users/9434674/iman-sh77"}, "edited": false, "score": 0, "creation_date": 1521670237, "post_id": 49417189, "comment_id": 85836520, "body": "the problem is that it doesn&#39;t show me any result except 1 i want the correct if condition return the result therefor I can see the result not show empty thing in console"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 9434674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35befecef58b6e3e0d08a6ca7f863503?s=128&d=identicon&r=PG&f=1", "display_name": "iman_sh77", "link": "https://stackoverflow.com/users/9434674/iman-sh77"}, "edited": false, "score": 0, "creation_date": 1521670612, "post_id": 49417337, "comment_id": 85836679, "body": "okay I accept math part but again in the consol I aint see any result                                                     def centuryFromYear(year):     return (year - 1) // 100 + 1 centuryFromYear(19)"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 77, "user_id": 9434674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35befecef58b6e3e0d08a6ca7f863503?s=128&d=identicon&r=PG&f=1", "display_name": "iman_sh77", "link": "https://stackoverflow.com/users/9434674/iman-sh77"}, "edited": false, "score": 0, "creation_date": 1521670802, "post_id": 49417337, "comment_id": 85836729, "body": "@iman_sh77  The function <code>centFromYear(1987)</code> returns an integer number. To show in in the console, print it:   <code>print(centFromYear(1987))</code> - to use it for calculation, store it in a variable:  <code>century = centFromYear(2018)</code> - and use the variable"}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 1, "last_activity_date": 1521670481, "last_edit_date": 1521670481, "creation_date": 1521670143, "answer_id": 49417337, "question_id": 49417189, "link": "https://stackoverflow.com/questions/49417189/calculating-the-century-from-a-given-year/49417337#49417337", "title": "Calculating the century from a given year", "body": "<p>This is not really a logical problem, its more a math problem - dont convert your int into a string - instead calculate the century:</p>\n\n<pre><code>def centFromYear(year):\n    return (year-1)//100 +1   # substract 1 so 100 is 1 as well, floordiv by 100, add 1\n\nfor n in range(1,2000,100): # testcase centuries\n    for m in range(-1,2):    # testcase -1,0,+1 to the centuries\n        print(n+m, centFromYear(n+m))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>inputyear / calculated century\n(0, 0)\n(1, 1)\n(2, 1)\n(100, 1)\n(101, 2)\n(102, 2)\n(200, 2)\n(201, 3)\n...\n(1900, 19)\n(1901, 20)\n(1902, 20)\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 9434674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35befecef58b6e3e0d08a6ca7f863503?s=128&d=identicon&r=PG&f=1", "display_name": "iman_sh77", "link": "https://stackoverflow.com/users/9434674/iman-sh77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1960, "favorite_count": 0, "accepted_answer_id": 49417337, "answer_count": 1, "score": -2, "last_activity_date": 1521670716, "creation_date": 1521669441, "last_edit_date": 1521670716, "question_id": 49417189, "link": "https://stackoverflow.com/questions/49417189/calculating-the-century-from-a-given-year", "title": "Calculating the century from a given year", "body": "<p>There was a condition which I had to use return instead of print because if I used print the if condition won't continue(correct me if I'm wrong), now I need to see the result(in some sites such as code fight how they make things together to check if the solution is right)</p>\n\n<pre><code>def centuryFromYear(year):\n    \"\"\"Calculates the century for a given year: \n    Example: year 1 = 1, year 100 = 1, year 101 = 2 year 1954 = 19 etc.\"\"\"\n    if len(str(year)) == 1 or 2:\n        return 1\n    if len(str(year)) == 3:\n        if year[1:3] == 0:\n            return year[0]\n    else:\n        return year[0] + 1\n    if len(str(year)) == 4:\n        if year[1:4] == 0:\n           return year[0] + 0\n    else:\n        return year[0:2] + 1\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras"], "answers": [{"comments": [{"owner": {"reputation": 833, "user_id": 2311063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k14VM.jpg?s=128&g=1", "display_name": "SaifDeen", "link": "https://stackoverflow.com/users/2311063/saifdeen"}, "edited": false, "score": 0, "creation_date": 1521673228, "post_id": 49417399, "comment_id": 85837507, "body": "Can you maybe give a example for your padding option?"}, {"owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "reply_to_user": {"reputation": 833, "user_id": 2311063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k14VM.jpg?s=128&g=1", "display_name": "SaifDeen", "link": "https://stackoverflow.com/users/2311063/saifdeen"}, "edited": false, "score": 0, "creation_date": 1521685641, "post_id": 49417399, "comment_id": 85840539, "body": "You can maybe look into np.pad: <a href=\"https://docs.scipy.org/doc/numpy-1.14.0/reference/generated/numpy.pad.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy-1.14.0/reference/generated/&hellip;</a>"}, {"owner": {"reputation": 833, "user_id": 2311063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k14VM.jpg?s=128&g=1", "display_name": "SaifDeen", "link": "https://stackoverflow.com/users/2311063/saifdeen"}, "edited": false, "score": 0, "creation_date": 1521706989, "post_id": 49417399, "comment_id": 85848184, "body": "as far as I see <code>np.pad</code> has to get a fixed amount to pad with. How can I  do that with my variable size problematic?"}, {"owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "reply_to_user": {"reputation": 833, "user_id": 2311063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k14VM.jpg?s=128&g=1", "display_name": "SaifDeen", "link": "https://stackoverflow.com/users/2311063/saifdeen"}, "edited": false, "score": 0, "creation_date": 1521759957, "post_id": 49417399, "comment_id": 85881660, "body": "You can set one default size and then write a function to figure out how much you have to pad a certain image based on the size of the image compared to the default size (basic subtraction stuff), and then pad the image using np.pad."}, {"owner": {"reputation": 365, "user_id": 3472735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mmpjf.jpg?s=128&g=1", "display_name": "Mohamad Zeina", "link": "https://stackoverflow.com/users/3472735/mohamad-zeina"}, "edited": false, "score": 0, "creation_date": 1568401954, "post_id": 49417399, "comment_id": 102275848, "body": "Also have a look at spatial pyramid pooling as a way to build CNNs that take any size input image: <a href=\"https://github.com/yhenon/keras-spp\" rel=\"nofollow noreferrer\">github.com/yhenon/keras-spp</a>"}], "tags": [], "owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "is_accepted": false, "score": 0, "last_activity_date": 1521670461, "creation_date": 1521670461, "answer_id": 49417399, "question_id": 49417181, "link": "https://stackoverflow.com/questions/49417181/keras-shape-of-variable-sized-training-data/49417399#49417399", "title": "keras shape of variable sized training data", "body": "<p>Keras expects you to input a single tensor for <code>x_train</code> which matches the shape of your input (a 4-dimensional tensor). What you have created in <code>x_train</code> is a 1-D array of 3-D array objects of varying shapes, not a 4-D array. This is not a tensor. A tensor can not be jagged, it can not have rows of varying shapes.</p>\n\n<p>Keras requires you to input tensors because of vectorization. In order to get the benefits of vectorization, all inputs must be tensors. Keras can not handle jagged tensors, nor can numpy. To run inputs of varying shapes, what you will have to do to utilize the vectorization of Keras would be to pad every image (with 0's in all 3 channels) so that they are uniform in shape. Alternatively, you can write a for-loop where you run your inputs through your model one at a time. This would essentially lose all the benefits of vectorization and it might take an extremely long time to train your model. </p>\n"}], "owner": {"reputation": 833, "user_id": 2311063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k14VM.jpg?s=128&g=1", "display_name": "SaifDeen", "link": "https://stackoverflow.com/users/2311063/saifdeen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 715, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521670461, "creation_date": 1521669402, "question_id": 49417181, "link": "https://stackoverflow.com/questions/49417181/keras-shape-of-variable-sized-training-data", "title": "keras shape of variable sized training data", "body": "<p>I got the following model implemented with Keras (tensorflow):</p>\n\n<pre><code>Layer (type)                 Output Shape              Param #\n=================================================================\nconv2d_1 (Conv2D)            (None, None, None, 32)    896\n_________________________________________________________________\nconv2d_2 (Conv2D)            (None, None, None, 32)    9248\n_________________________________________________________________\nmax_pooling2d_1 (MaxPooling2 (None, None, None, 32)    0\n_________________________________________________________________\ndropout_1 (Dropout)          (None, None, None, 32)    0\n_________________________________________________________________\nconv2d_3 (Conv2D)            (None, None, None, 64)    18496\n_________________________________________________________________\nconv2d_4 (Conv2D)            (None, None, None, 64)    36928\n_________________________________________________________________\ndropout_2 (Dropout)          (None, None, None, 64)    0\n_________________________________________________________________\nglobal_average_pooling2d_1 ( (None, 64)                0\n_________________________________________________________________\ndense_1 (Dense)              (None, 256)               16640\n_________________________________________________________________\ndropout_3 (Dropout)          (None, 256)               0\n_________________________________________________________________\ndense_2 (Dense)              (None, 14)                3598\n=================================================================\nTotal params: 85,806\nTrainable params: 85,806\nNon-trainable params: 0\n</code></pre>\n\n<p>My Dataset is the Leed Sports Set with images of variable width and height. According to Keras <a href=\"https://keras.io/layers/convolutional/#conv2d\" rel=\"nofollow noreferrer\">documentation</a> and following github <a href=\"https://github.com/keras-team/keras/issues/1920\" rel=\"nofollow noreferrer\">issue</a> I just have to set the inputshape to <code>(None, None, Num_Channels)</code>. To prepare my dataset I load the annotation and images as numpy arrays like this:</p>\n\n<pre><code># Train Input, contains paths of images first\nx_train = image_list[train_indexes]\n\nprint(\"Converting x_train images to numpy...\")\nx_train = np.array([misc.imread(path) for path in x_train])\nprint(x_train.shape)\nprint(x_train[0].shape)\nprint(x_train[1].shape)\n</code></pre>\n\n<p>The output of the print calls are:</p>\n\n<pre><code>(9600,) # x_train\n(188, 282, 3) # x_train first image\n(686, 1024, 3) # x_train second image\n</code></pre>\n\n<p>if I feed now <code>x_train</code> to my model it throw s the following error:</p>\n\n<pre><code>ValueError: Error when checking input: expected conv2d_1_input to have 4 dimensions, but got array with shape (9600, 1)\n</code></pre>\n\n<p>How can I shape my training set to get accepted by my model? </p>\n"}, {"tags": ["python", "arrays", "loops", "for-loop", "matrix"], "comments": [{"owner": {"reputation": 3132, "user_id": 4385647, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/V3X9c.png?s=128&g=1", "display_name": "Dirk Horsten", "link": "https://stackoverflow.com/users/4385647/dirk-horsten"}, "edited": false, "score": 0, "creation_date": 1521672449, "post_id": 49417176, "comment_id": 85837239, "body": "It looks like there is a <code>1</code> missing in the richt lower corner of your 5x5 matrix"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 9530844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07bd28c28bfde9456ff29b4566ea14f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew98", "link": "https://stackoverflow.com/users/9530844/andrew98"}, "edited": false, "score": 0, "creation_date": 1521669969, "post_id": 49417238, "comment_id": 85836407, "body": "Thank you so much. Would you please explain the lines 33?"}, {"owner": {"reputation": 41, "user_id": 9530844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07bd28c28bfde9456ff29b4566ea14f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew98", "link": "https://stackoverflow.com/users/9530844/andrew98"}, "edited": false, "score": 0, "creation_date": 1521670409, "post_id": 49417238, "comment_id": 85836589, "body": "You&#39;re a hero. My uni lecturers were on strike for 4 weeks and we had to self teach. The stress was really high lately and was getting very muddled. :)"}], "tags": [], "owner": {"reputation": 2686, "user_id": 1470009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc23752c44899038b6b6698c321f86f6?s=128&d=identicon&r=PG", "display_name": "Ankur Ankan", "link": "https://stackoverflow.com/users/1470009/ankur-ankan"}, "is_accepted": true, "score": 0, "last_activity_date": 1521670000, "last_edit_date": 1521670000, "creation_date": 1521669650, "answer_id": 49417238, "question_id": 49417176, "link": "https://stackoverflow.com/questions/49417176/matrices-in-python-which-have-an-alterable-dimension/49417238#49417238", "title": "Matrices in Python which have an alterable dimension", "body": "<p>Yes you can use <code>np.eye</code> and then a for loop to set all the values.</p>\n\n<pre><code>In [30]: a, b, c = (5, 6, 7)\nIn [31]: n = 5\nIn [32]: arr = np.eye(n)\nIn [33]: for i in range(1, n-1):\n    ...:     arr[i, i-1: i+2] = (a, b, c)\n    ...:     \n\nIn [34]: arr\nOut[34]: \narray([[ 1.,  0.,  0.,  0.,  0.],\n       [ 5.,  6.,  7.,  0.,  0.],\n       [ 0.,  5.,  6.,  7.,  0.],\n       [ 0.,  0.,  5.,  6.,  7.],\n       [ 0.,  0.,  0.,  0.,  1.]])\n</code></pre>\n\n<p>Here we are creating an identity matrix of size <code>n</code>. Then in line 33 we loop over the rows (excluding the first and last row) of the matrix and replace the corresponding values in that row with <code>a</code>, <code>b</code> and <code>c</code>.</p>\n"}], "owner": {"reputation": 41, "user_id": 9530844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07bd28c28bfde9456ff29b4566ea14f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew98", "link": "https://stackoverflow.com/users/9530844/andrew98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 49417238, "answer_count": 1, "score": 0, "last_activity_date": 1521674066, "creation_date": 1521669381, "last_edit_date": 1521674066, "question_id": 49417176, "link": "https://stackoverflow.com/questions/49417176/matrices-in-python-which-have-an-alterable-dimension", "title": "Matrices in Python which have an alterable dimension", "body": "<p>Firstly, I want to be able to specify a value, n, which results in a particular nxn matrix being produced:\nTo do this I used the code:</p>\n\n<pre><code>n = __\n\nnp.eye (n)\n</code></pre>\n\n<p>Which will produce the identity matrix of the specified dimension, n.\nHowever, I do not want to create the identity matrix precisely. Instead, I want to create the nxn matrix with the following entries: (if n were 5)</p>\n\n<pre><code>[1, 0, 0, 0, 0]\n[a, b, c, 0, 0]\n[0, a, b, c, 0]\n[0, 0, a, b, c]\n[0, 0, 0, 0, 1]\n</code></pre>\n\n<p>Can I use np.eye(n) and for loops as basis to solve my problem?</p>\n\n<p>For example if I set n=4, I wish my code to form:</p>\n\n<pre><code>[1 , 0 , 0, 0]\n[a , b, c, 0]\n[0, a, b, c]\n[0, 0, 0, 1]\n</code></pre>\n"}, {"tags": ["python", "concatenation"], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 9498479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16876094c47e1db9f0d23df57313bf0?s=128&d=identicon&r=PG&f=1", "display_name": "zerocool", "link": "https://stackoverflow.com/users/9498479/zerocool"}, "is_accepted": true, "score": 1, "last_activity_date": 1521670065, "creation_date": 1521670065, "answer_id": 49417319, "question_id": 49417146, "link": "https://stackoverflow.com/questions/49417146/concatenating-two-txt-files-is-there-a-way-to-do-this-as-a-merge-on-a-column/49417319#49417319", "title": "concatenating two txt files - is there a way to do this as a merge on a column?", "body": "<p>If your elements are delimited by spaces you could strip the leading token off of the second row in the following way. </p>\n\n<pre><code>with open('s1_5w10f_vocab.txt')as f1, open('s1_5w10f_vectors.txt') as f2, open('/Users/dlhoffman/5w10f.txt', 'w') as f3:\nfor x,y in zip(f1,f2):\n    f3.write(x.strip() + \" \" + y[y.index(' '):].strip() + '\\n')\n</code></pre>\n\n<p>This creates a substring of the second string after the first space that it finds and then calls strip() on that. </p>\n\n<p>Happy coding!</p>\n"}], "owner": {"reputation": 597, "user_id": 8309998, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9jWLJ.png?s=128&g=1", "display_name": "profhoff", "link": "https://stackoverflow.com/users/8309998/profhoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 49417319, "answer_count": 1, "score": 0, "last_activity_date": 1521670065, "creation_date": 1521669280, "question_id": 49417146, "link": "https://stackoverflow.com/questions/49417146/concatenating-two-txt-files-is-there-a-way-to-do-this-as-a-merge-on-a-column", "title": "concatenating two txt files - is there a way to do this as a merge on a column?", "body": "<p>I have two text files that I am able to concatenate just fine. f1 is tokens and counts (2 cols) and f2 is tokens and vectors (1+n cols where n=number of vectors). The token always appears in the first col of each file.</p>\n\n<pre><code>#concatenate these two txt files into a new file\nwith open('s1_5w10f_vocab.txt')as f1, open('s1_5w10f_vectors.txt') as f2, open('/Users/dlhoffman/5w10f.txt', 'w') as f3:\n    for x,y in zip(f1,f2):\n        f3.write(x.strip() + \" \" + y.strip() + '\\n')\n</code></pre>\n\n<p>Here's what a row of the new concatenated file looks like:</p>\n\n<pre><code>new 10950 new -0.272530 -0.001466 -0.283271 0.113374 -0.741011 -0.858208 -0.044069 0.787044 0.550195 -0.429844\n</code></pre>\n\n<p>I only need the token (in the example above \"new\") to appear once at the beginning of the row. Is there a way to concatenate these two files \"by\" their respective first columns so that in the new concatenated file, the \"merged by\" column is in only once?</p>\n"}, {"tags": ["python", "ajax", "flask"], "comments": [{"owner": {"reputation": 5091, "user_id": 2714012, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fRcBY.jpg?s=128&g=1", "display_name": "stamaimer", "link": "https://stackoverflow.com/users/2714012/stamaimer"}, "edited": false, "score": 0, "creation_date": 1521705320, "post_id": 49417145, "comment_id": 85847187, "body": "You return a html page to a AJAX call?"}, {"owner": {"reputation": 365, "user_id": 8124445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7M9Sd.png?s=128&g=1", "display_name": "Knocktorius Maxima", "link": "https://stackoverflow.com/users/8124445/knocktorius-maxima"}, "edited": false, "score": 0, "creation_date": 1521712884, "post_id": 49417145, "comment_id": 85852117, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14908864/how-can-i-use-data-posted-from-ajax-in-flask\">how can I use data posted from ajax in flask?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "edited": false, "score": 0, "creation_date": 1521742981, "post_id": 49423413, "comment_id": 85873664, "body": "I updated my question with the adjusts, but it&#39;s not appending the data, just return a blank page with json format"}, {"owner": {"reputation": 827, "user_id": 7811624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b63a38d82ae5eb22bd86ce60db5b467c?s=128&d=identicon&r=PG", "display_name": "Daniel da Rocha", "link": "https://stackoverflow.com/users/7811624/daniel-da-rocha"}, "reply_to_user": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "edited": false, "score": 0, "creation_date": 1521761767, "post_id": 49423413, "comment_id": 85882231, "body": "I edited the answer, try adding <code>e.preventDefault();</code> after the ajax call, which blocks the traditional submission of the form."}], "tags": [], "owner": {"reputation": 827, "user_id": 7811624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b63a38d82ae5eb22bd86ce60db5b467c?s=128&d=identicon&r=PG", "display_name": "Daniel da Rocha", "link": "https://stackoverflow.com/users/7811624/daniel-da-rocha"}, "is_accepted": true, "score": 1, "last_activity_date": 1521761726, "last_edit_date": 1521761726, "creation_date": 1521705847, "answer_id": 49423413, "question_id": 49417145, "link": "https://stackoverflow.com/questions/49417145/flask-post-request-using-ajax/49423413#49423413", "title": "Flask: POST request using AJAX", "body": "<p>You got to return JSON!\nInstead of <code>return render_template(...)</code>, use:</p>\n\n<pre><code>return jsonify(dado = input)\n</code></pre>\n\n<p>Then in your ajax success call:</p>\n\n<pre><code>success: function(data){\n    $('#result').append(data[\"dado\"])\n    console.log(data);\n}\n...\n}); // end AJAX\ne.preventDefault();\n</code></pre>\n\n<p>Don't forget to import jsonify</p>\n\n<pre><code>from flask import jsonify\n</code></pre>\n"}], "owner": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 49423413, "answer_count": 1, "score": 0, "last_activity_date": 1521761726, "creation_date": 1521669279, "last_edit_date": 1521742721, "question_id": 49417145, "link": "https://stackoverflow.com/questions/49417145/flask-post-request-using-ajax", "title": "Flask: POST request using AJAX", "body": "<p>I want to make a post request by using ajax. I want to use the <em>input value</em> as function parameter and append the function return into a html table. I don't know but a think that my code is wrong and the ajax is not working. </p>\n\n<p><em>Note: For testing, I'm taking input value and returning to html page.</em></p>\n\n<p><strong>network.html</strong></p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n       $(function(){\n         $('#button').click(function(){\n            var dados = $('#search-input').val();\n            $.ajax({\n                url: '/network',\n                data: $('form').serialize(),\n                type: 'POST',\n                success: function(data){\n                    $('#result').append(data)\n                    console.log(data);\n                },\n                error: function(error){\n                    console.log(error);\n                }   \n            });\n         });\n       });\n     &lt;/script&gt;\n\n     &lt;form name='form' method=\"POST\"&gt;\n                &lt;input type=\"text\" name=\"search-input\" id=\"search-input\" class=\"form-control\" placeholder=\"Users and ID\" &gt;   \n&lt;button type=\"submit\" class=\"btn btn-primary\" id=\"button\"&gt;Search&lt;/button&gt;\n            &lt;/form&gt;\n            &lt;span id=result&gt;{% print dado %}&lt;/span&gt;\n</code></pre>\n\n<p><strong>app.py</strong></p>\n\n<pre><code>@app.route('/network',methods=['POST','GET'])\ndef network():\n    if request.method == 'POST':\n     input = request.form['search-input']       \n     return render_template('network.html',dado=input)\n    else:\n      return render_template('network.html',dado='')\n</code></pre>\n\n<p>Edit: After this update what's returning is a JSON format  </p>\n\n<pre><code>{\n  \"dado\": \"INPUT VALUE\"\n}\n</code></pre>\n\n<p><strong>app.py</strong></p>\n\n<pre><code>@app.route('/network',methods=['POST','GET'])\ndef network():\n    if request.method == 'POST':\n     input = request.form['search-input']       \n     return jsonify(dado=input)\n    else:\n      return render_template('network.html',dado='')\n</code></pre>\n\n<p><strong>network.html</strong></p>\n\n<pre><code>  &lt;script type=\"text/javascript\"&gt;\n   $(function(){\n     $('#botao').click(function(){\n        var dados = $('#search-input').val();\n        $.ajax({\n            url: \"{{ url_for('network') }}\",\n            data: JSON.stringify(dados),\n            contentType: 'application/json;charset=UTF-8',\n            type: 'POST',\n            success: function(data){\n                $('#result').append(data[\"dado\"])\n                console.log(data);\n            },\n            error: function(error){\n                console.log(error);\n            }   \n        });\n     });\n   });\n &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["python", "sockets", "signal-handling"], "answers": [{"comments": [{"owner": {"reputation": 817, "user_id": 4526336, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-BO8B82i2_3s/AAAAAAAAAAI/AAAAAAAAADE/rFZk81Re8II/photo.jpg?sz=128", "display_name": "Brydon Gibson", "link": "https://stackoverflow.com/users/4526336/brydon-gibson"}, "edited": false, "score": 0, "creation_date": 1521685482, "post_id": 49419451, "comment_id": 85840500, "body": "Is that the &#39;coreect&#39; way of handling it? That seems a little hackey"}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "reply_to_user": {"reputation": 817, "user_id": 4526336, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-BO8B82i2_3s/AAAAAAAAAAI/AAAAAAAAADE/rFZk81Re8II/photo.jpg?sz=128", "display_name": "Brydon Gibson", "link": "https://stackoverflow.com/users/4526336/brydon-gibson"}, "edited": false, "score": 0, "creation_date": 1521685706, "post_id": 49419451, "comment_id": 85840558, "body": "@BrydonGibson: Yes, that\u2019s what you do: see the PEP.  It\u2019s just part of the language (now) that <code>EINTR</code> handling takes place <i>within</i> a blocking call, not between two of them."}, {"owner": {"reputation": 817, "user_id": 4526336, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-BO8B82i2_3s/AAAAAAAAAAI/AAAAAAAAADE/rFZk81Re8II/photo.jpg?sz=128", "display_name": "Brydon Gibson", "link": "https://stackoverflow.com/users/4526336/brydon-gibson"}, "edited": false, "score": 0, "creation_date": 1521685761, "post_id": 49419451, "comment_id": 85840575, "body": "Ah explained that way it makes much more sense, thanks!"}], "tags": [], "owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "is_accepted": true, "score": 1, "last_activity_date": 1521684942, "creation_date": 1521684942, "answer_id": 49419451, "question_id": 49417041, "link": "https://stackoverflow.com/questions/49417041/python-break-from-socket-receive-on-sigint/49419451#49419451", "title": "Python break from socket receive on SIGINT", "body": "<p>Since Python 3.5, interrupted system calls are <a href=\"https://www.python.org/dev/peps/pep-0475/\" rel=\"nofollow noreferrer\">automatically resumed</a> after invoking the (Python) signal handler.  If you don\u2019t want that, raise an exception in your handler.</p>\n"}], "owner": {"reputation": 817, "user_id": 4526336, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-BO8B82i2_3s/AAAAAAAAAAI/AAAAAAAAADE/rFZk81Re8II/photo.jpg?sz=128", "display_name": "Brydon Gibson", "link": "https://stackoverflow.com/users/4526336/brydon-gibson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 49419451, "answer_count": 1, "score": 2, "last_activity_date": 1521685082, "creation_date": 1521668714, "last_edit_date": 1521685082, "question_id": 49417041, "link": "https://stackoverflow.com/questions/49417041/python-break-from-socket-receive-on-sigint", "title": "Python break from socket receive on SIGINT", "body": "<p>I'm working on a program that receives data from a socket, and when a signal is sent, I want to be able to break from the receive.</p>\n\n<p>What I have now:</p>\n\n<pre><code>class Killer: \n    die = False\n    def __init__(self):\n        signal.signal(signal.SIGINT, self.terminate)\n        signal.signal(signal.SIGTERM, self.terminate)\n\n    def terminate(self, signum, frame):\n        print (\"caught \" + str(signum))\n        self.die = True;\n\nsock = socket.socket()\n# Generic socket setup\n\nwhile (~killer.die):\n    #generic data setup\n    sock.receive(data)\n\nsock.shutdown(socket.SHUT_RDWR)\n</code></pre>\n\n<p>When the interrupt is caught, it prints and then goes back into waiting.</p>\n\n<p>Is there a way to break from the receive on receiving a signal?</p>\n"}, {"tags": ["python", "string", "python-3.x", "function", "if-statement"], "comments": [{"owner": {"reputation": 6361, "user_id": 2097529, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/QnP8n.jpg?s=128&g=1", "display_name": "Kick Buttowski", "link": "https://stackoverflow.com/users/2097529/kick-buttowski"}, "edited": false, "score": 0, "creation_date": 1521668915, "post_id": 49417023, "comment_id": 85835954, "body": "what language is your code?"}, {"owner": {"reputation": 1055, "user_id": 8322295, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mx0gd.jpg?s=128&g=1", "display_name": "Jim421616", "link": "https://stackoverflow.com/users/8322295/jim421616"}, "reply_to_user": {"reputation": 6361, "user_id": 2097529, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/QnP8n.jpg?s=128&g=1", "display_name": "Kick Buttowski", "link": "https://stackoverflow.com/users/2097529/kick-buttowski"}, "edited": false, "score": 1, "creation_date": 1521668976, "post_id": 49417023, "comment_id": 85835983, "body": "Python 3. Sorry, added to the tags."}], "answers": [{"tags": [], "owner": {"reputation": 1315, "user_id": 812906, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/uy9sl.jpg?s=128&g=1", "display_name": "Dragonborn", "link": "https://stackoverflow.com/users/812906/dragonborn"}, "is_accepted": false, "score": 0, "last_activity_date": 1521675787, "creation_date": 1521675787, "answer_id": 49418287, "question_id": 49417023, "link": "https://stackoverflow.com/questions/49417023/how-to-reference-the-return-value-from-a-function/49418287#49418287", "title": "How to reference the return value from a function?", "body": "<p>Replace the print function with a return statement?</p>\n"}, {"comments": [{"owner": {"reputation": 1055, "user_id": 8322295, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mx0gd.jpg?s=128&g=1", "display_name": "Jim421616", "link": "https://stackoverflow.com/users/8322295/jim421616"}, "edited": false, "score": 0, "creation_date": 1521676783, "post_id": 49418309, "comment_id": 85838545, "body": "That&#39;s similar to a construction that I tried, but I wanted to be able to call the function from a console. Thanks, I&#39;ve accepted yours as an answer."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 1055, "user_id": 8322295, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mx0gd.jpg?s=128&g=1", "display_name": "Jim421616", "link": "https://stackoverflow.com/users/8322295/jim421616"}, "edited": false, "score": 0, "creation_date": 1521676895, "post_id": 49418309, "comment_id": 85838582, "body": "@Jim421616, I recommend you use another function, maybe <code>format_output()</code>, which runs <code>translate()</code> and prints in the format you desire. It&#39;s still a good idea to have your logic functions <code>return</code> values."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 0, "last_activity_date": 1521676642, "last_edit_date": 1521676642, "creation_date": 1521675917, "answer_id": 49418309, "question_id": 49417023, "link": "https://stackoverflow.com/questions/49417023/how-to-reference-the-return-value-from-a-function/49418309#49418309", "title": "How to reference the return value from a function?", "body": "<p>Here is an example of how you can restructure your code.</p>\n\n<pre><code>def translate(word, language):\n\n    en_word = word.lower()\n    lang = language.lower()\n\n    if lang == \"french\":\n        if en_word == \"cat\":\n            return \"chat\"\n        elif en_word == \"dog\":\n            return \"chein\"\n\n    elif lang == \"german\":\n        if en_word == \"cat\":\n            return \"katze\"\n        elif en_word == \"dog\":\n            return \"hund\"\n\n    elif lang == \"spanish\":\n        if en_word == \"cat\":\n            return \"gato\"\n        elif en_word == \"dog\":\n            return \"perro\"\n\nmyword = 'cat'\nmylanguage = 'french'\n\nres = translate(myword, mylanguage)\nprint('The translation of {0} in {1} is {2}'.format(myword, mylanguage.title(), res))\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<ul>\n<li>Use <code>elif</code> instead of unnecessary repeated <code>if</code> statements.</li>\n<li>Have your function <code>return</code> a value instead of <code>print</code>.</li>\n<li>Use <code>str.format</code> to incorporate variables in your <code>print</code> statement outside your function.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1055, "user_id": 8322295, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mx0gd.jpg?s=128&g=1", "display_name": "Jim421616", "link": "https://stackoverflow.com/users/8322295/jim421616"}, "edited": false, "score": 0, "creation_date": 1521677028, "post_id": 49418457, "comment_id": 85838625, "body": "I&#39;d normally use a <code>dict</code> too, but that&#39;s not what the assignment is about!"}], "tags": [], "owner": {"reputation": 10312, "user_id": 1681480, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0wsSK.jpg?s=128&g=1", "display_name": "beroe", "link": "https://stackoverflow.com/users/1681480/beroe"}, "is_accepted": false, "score": 0, "last_activity_date": 1521677070, "last_edit_date": 1521677070, "creation_date": 1521676976, "answer_id": 49418457, "question_id": 49417023, "link": "https://stackoverflow.com/questions/49417023/how-to-reference-the-return-value-from-a-function/49418457#49418457", "title": "How to reference the return value from a function?", "body": "<p>I guess this is specified by your assignment, but in real life, I would use a dictionary of dictionaries as the basis of your ... dictionary and not a bunch of <code>if</code> statements:</p>\n\n<pre><code>def translate(word,language):\n    dictionary = {\n      \"french\": {\"cat\":\"chat\",\n                 \"dog\":\"chien\"},\n      \"german\": {\"cat\":\"katze\",\n                 \"dog\":\"hund\"},\n      \"spanish\": {\"cat\":\"gato\",\n                  \"dog\":\"perro\"}\n     }\nreturn(dictionary.get(language).get(word,word))\n</code></pre>\n\n<p>This yields:</p>\n\n<pre><code>&gt;&gt;&gt; translate(\"cat\",\"french\")\n'chat'\n&gt;&gt;&gt; translate(\"cat\",\"german\")\n'katze'\n&gt;&gt;&gt; translate(\"dog\",\"german\")\n'hund'\n&gt;&gt;&gt; translate(\"mouse\",\"spanish\")\n'mouse'\n</code></pre>\n\n<p>Here it returns the original word if it is not found. You'd want to build in error handling for words or languages that weren't in dictionary, </p>\n"}], "owner": {"reputation": 1055, "user_id": 8322295, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mx0gd.jpg?s=128&g=1", "display_name": "Jim421616", "link": "https://stackoverflow.com/users/8322295/jim421616"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 49418309, "answer_count": 3, "score": 1, "last_activity_date": 1521677070, "creation_date": 1521668644, "last_edit_date": 1521676655, "question_id": 49417023, "link": "https://stackoverflow.com/questions/49417023/how-to-reference-the-return-value-from-a-function", "title": "How to reference the return value from a function?", "body": "<p>My assignment is to use nested <code>if</code> statements to construct a simple translator. Yes, I know that's an awful way to do it, but that's what the assignment says. Here's what I have so far:</p>\n\n<pre><code>def translate(word, language):\n    '''\n    Takes as parameters a string to translate,\n    and a second string as the language to translate to.\n    Returns the original word, the language, and the word's\n    translation in the entered language.\n    '''\n    en_word = word.lower()\n    lang = language.lower()\n\n    #   French\n    if lang == \"french\":\n        if en_word == \"cat\":\n            print(\"chat\")            \n    if lang == \"french\":\n        if en_word == \"dog\":\n            print(\"chein\")\n\n    #   German      \n    if lang == \"german\":\n        if en_word == \"cat\":\n            print(\"katze\")\n    if lang == \"german\":\n        if en_word == \"dog\":\n            print(\"hund\")\n\n    #   Spanish      \n    if lang == \"spanish\":\n        if en_word == \"cat\":\n            print(\"gato\")\n    if lang == \"spanish\":\n        if en_word == \"dog\":\n            print(\"perro\")\n\ntranslate('cat', 'french')\n</code></pre>\n\n<p>After being called as <code>translate('cat', 'french')</code>, for example, the output should be:<br>\n<code>The translation of cat in French is chat</code></p>\n\n<p>As it is, my function finds and prints the correct word. I tried using a <code>return</code> statement such as</p>\n\n<p><code>return en_word, 'French', 'chat'</code> and a print statement such as</p>\n\n<p><code>print('The translation of', translate[0], 'into', translate[1], 'is', translate[2])</code></p>\n\n<p>but the error message <code>TypeError: 'function' object is not subscriptable</code> popped up. I could put virtually identical <code>print</code> statements into each end of the <code>if</code> statements in the function, but that seems terribly inelegant.</p>\n\n<p>How can I get the function to return the English word, the language and the translated word to insert into a generic print statement?</p>\n"}, {"tags": ["python", "django", "logging", "admin"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1521669924, "post_id": 49416989, "comment_id": 85836387, "body": "<code>sqlmigrate</code> just prints out the commands, it does not run them."}, {"owner": {"reputation": 1, "user_id": 9527090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2912a73a937ef809b30890da40147a00?s=128&d=identicon&r=PG&f=1", "display_name": "DKostyuk", "link": "https://stackoverflow.com/users/9527090/dkostyuk"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1521670228, "post_id": 49416989, "comment_id": 85836516, "body": "I did python manage.py migrate admin 0001. So - Any advice?"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 2, "creation_date": 1521670522, "post_id": 49416989, "comment_id": 85836641, "body": "<code>python manage.py migrate admin 0001</code> would only work if no migrations had been run for the admin app before. Deleting your <code>django_admin_log</code> table was a really strange thing to do. Getting your databases and migrations back in sync can be very tricky -- if you don&#39;t have any important data in the database the easiest fix is to drop the database and rerun all the migrations."}], "answers": [{"tags": [], "owner": {"reputation": 7383, "user_id": 234657, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/24edf474c7978302df1e0589058e16f9?s=128&d=identicon&r=PG", "display_name": "Chris Curvey", "link": "https://stackoverflow.com/users/234657/chris-curvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1521673066, "creation_date": 1521673066, "answer_id": 49417863, "question_id": 49416989, "link": "https://stackoverflow.com/questions/49416989/deleted-django-admin-log-and-now-i-can-not-use-the-django-admin/49417863#49417863", "title": "deleted django_admin_log and now i can not use the django admin", "body": "<p>Maybe the best thing to do is create a brand new project/database and do the migration there.  Then you will have an empty (or mostly empty) django_admin_log table.  You can then reverse engineer the correct \"create table\" statement and create it yourself in your original database.</p>\n"}], "owner": {"reputation": 1, "user_id": 9527090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2912a73a937ef809b30890da40147a00?s=128&d=identicon&r=PG&f=1", "display_name": "DKostyuk", "link": "https://stackoverflow.com/users/9527090/dkostyuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 686, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521696383, "creation_date": 1521668505, "last_edit_date": 1521696383, "question_id": 49416989, "link": "https://stackoverflow.com/questions/49416989/deleted-django-admin-log-and-now-i-can-not-use-the-django-admin", "title": "deleted django_admin_log and now i can not use the django admin", "body": "<p>Django Version: 2.0.3\nException Type: ProgrammingError\nException Value:<br>\nrelation \"django_admin_log\" does not exist\nLINE 1: ...\".\"app_label\", \"django_content_type\".\"model\" FROM \"django_ad...</p>\n\n<hr>\n\n<p>hen i try</p>\n\n<pre><code> './manage.py sqlmigrate admin 0001' or './manage.py sqlmigrate admin 0001'\n</code></pre>\n\n<p>I get:\ndb1=> manage.py sqlmigrate admin 0001\ndb1-> \\q\n(renew_project) renew_project@renew:~/renew$ python manage.py sqlmigrate admin 0001</p>\n\n<h2>BEGIN;</h2>\n\n<h2>-- Create model LogEntry</h2>\n\n<pre><code>CREATE TABLE \"django_admin_log\" (\"id\" serial NOT NULL PRIMARY KEY, \"action_time\" timestamp with time              zone NOT NULL, \"object_id\" text NULL, \"object_repr\" varchar(200) NOT NULL, \"action_flag\" smallint NOT              NULL CHECK (\"action_flag\" &gt;= 0), \"change_message\" text NOT NULL, \"content_type_id\" integer NULL, \"us             er_id\" integer NOT NULL);\nALTER TABLE \"django_admin_log\" ADD CONSTRAINT \"django_admin_log_content_type_id_c4bce8eb_fk_django_co             \" FOREIGN KEY (\"content_type_id\") REFERENCES \"django_content_type\" (\"id\") DEFERRABLE INITIALLY DEFERR             ED;\nALTER TABLE \"django_admin_log\" ADD CONSTRAINT \"django_admin_log_user_id_c564eba6_fk_auth_user_id\" FOR             EIGN KEY (\"user_id\") REFERENCES \"auth_user\" (\"id\") DEFERRABLE INITIALLY DEFERRED;\nCREATE INDEX \"django_admin_log_content_type_id_c4bce8eb\" ON \"django_admin_log\" (\"content_type_id\");\nCREATE INDEX \"django_admin_log_user_id_c564eba6\" ON \"django_admin_log\" (\"user_id\");\nCOMMIT;\n</code></pre>\n\n<p>but there is no django_admin_table</p>\n\n<hr>\n\n<p>I have --- INSTALLED_APPS = [\n    'django.contrib.admin',</p>\n\n<hr>\n\n<p>I use Postgresql</p>\n\n<hr>\n\n<p>I tried all migrations -  in different way - no results </p>\n\n<p>Please, share your ideas - how to deal with it?\nThanks</p>\n"}, {"tags": ["python", "parallel-processing", "time-series", "forecasting", "dask"], "comments": [{"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 1, "creation_date": 1521738461, "post_id": 49416980, "comment_id": 85870964, "body": "Hi Davis, do you mind to share the improvement on performance you&#39;re having? Which algorithm are you using? I did something similar but my timeseries where stacked vertically rather than horizontally."}, {"owner": {"reputation": 153, "user_id": 7789752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631720479152cc74654fe1cf49a6b9a1?s=128&d=identicon&r=PG", "display_name": "Davis", "link": "https://stackoverflow.com/users/7789752/davis"}, "reply_to_user": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 1, "creation_date": 1521740666, "post_id": 49416980, "comment_id": 85872289, "body": "Sure, right now I&#39;m using <a href=\"https://facebook.github.io/prophet/\" rel=\"nofollow noreferrer\">facebook.github.io/prophet</a>  Generally, on 1 time series it was taking 3 seconds to fit &amp; predict. When I was just using apply on 1 core, it would take about an hour for 1000 time series. So the time taken is basically reduced by a factor of the cores or workers you have it seems (haven&#39;t tested a ton with different cores vs workers), so with the 3 cores/workers it was taking around 15 minutes to fit and predict for 1000 time series"}, {"owner": {"reputation": 153, "user_id": 7789752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631720479152cc74654fe1cf49a6b9a1?s=128&d=identicon&r=PG", "display_name": "Davis", "link": "https://stackoverflow.com/users/7789752/davis"}, "reply_to_user": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 1, "creation_date": 1521743020, "post_id": 49416980, "comment_id": 85873688, "body": "I should note that probably half the compute time of the forecasting function is spent just messing with the index to get the data to and from prophet in the format I wanted. But I wanted to create a general distributed framework for any forecasting function, so you could probably make it faster if you didn&#39;t need to do that. All this method requires is for you to have your dataframe in the format shown, and have your function take as input as well as return a single time series object (although I&#39;m not sure if different length series will break the dataframe combine functions)"}, {"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 1, "creation_date": 1521743511, "post_id": 49416980, "comment_id": 85873964, "body": "Thank you, I was using the same algorithm, but my performance were pretty bad. I ended up using multiprocessing. I will try to follow your way to see if things are going to improve or not. About cores/workers keep in mind that fbprophet use pystan and so you can&#39;t use more workers than cores (see GIL). I&#39;m looking forward to see your framework (if is on github please share the link). Only one note: have you think about how to eventual add <a href=\"https://facebook.github.io/prophet/docs/seasonality_and_holiday_effects.html\" rel=\"nofollow noreferrer\">regressors</a> having timeseries as columns?"}, {"owner": {"reputation": 153, "user_id": 7789752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631720479152cc74654fe1cf49a6b9a1?s=128&d=identicon&r=PG", "display_name": "Davis", "link": "https://stackoverflow.com/users/7789752/davis"}, "reply_to_user": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 1, "creation_date": 1521746867, "post_id": 49416980, "comment_id": 85875719, "body": "no problem, cool yeah let me know. It&#39;s not on github yet and probably won&#39;t be for a while, as it&#39;s all internal right now, and I just started working on it. For x regressors, I&#39;ve considered it, and it&#39;s not a problem if you only care about the predictions of y, but if you want to see what the model predicted for the x&#39;s too to understand your model, then I agree that will complicate things. I&#39;m still trying to conceptualize what a general framework would even look like right now. I&#39;m not convinced it&#39;s ideal in the current state"}, {"owner": {"reputation": 153, "user_id": 7789752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631720479152cc74654fe1cf49a6b9a1?s=128&d=identicon&r=PG", "display_name": "Davis", "link": "https://stackoverflow.com/users/7789752/davis"}, "reply_to_user": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 1, "creation_date": 1526335509, "post_id": 49416980, "comment_id": 87695556, "body": "@user32185 I&#39;ve released a very early pre-alpha version of the package, called magi. I could use some help on adding x regressor and cross validation support as well as additional wrappers for pyflux and statsmodel libraries. Check it out: <a href=\"https://github.com/DavisTownsend/magi\" rel=\"nofollow noreferrer\">github.com/DavisTownsend/magi</a>"}, {"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 0, "creation_date": 1526574992, "post_id": 49416980, "comment_id": 87808748, "body": "I was wondering about why you had the timeseries in columns. The fact that even you are working on M4 datasets explains everything :) Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 7789752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631720479152cc74654fe1cf49a6b9a1?s=128&d=identicon&r=PG", "display_name": "Davis", "link": "https://stackoverflow.com/users/7789752/davis"}, "edited": false, "score": 0, "creation_date": 1521732464, "post_id": 49419419, "comment_id": 85866763, "body": "I was thinking that since all the series have the same length I could just melt the dataframe, and then partition (using chunksize=len(series) ) by the number of time series object, and then apply the function to that dask dataframe, and rename the column names afterwards. Would there be any problem with having 1000&#39;s of partitions by doing this, or issues with the ordering of the series relative to the column names?"}, {"owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "reply_to_user": {"reputation": 153, "user_id": 7789752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631720479152cc74654fe1cf49a6b9a1?s=128&d=identicon&r=PG", "display_name": "Davis", "link": "https://stackoverflow.com/users/7789752/davis"}, "edited": false, "score": 0, "creation_date": 1521735992, "post_id": 49419419, "comment_id": 85869328, "body": "I don&#39;t fully understand the comment (I&#39;m not familiar with melt, or much of the pandas api).  Generally I don&#39;t know of a clever way to get column-wise parallelism out of dask.dataframe.  I recommend using dask array or dask delayed.  Thousands of partitions is fine, but adds overhead."}], "tags": [], "owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "is_accepted": false, "score": 1, "last_activity_date": 1521684674, "creation_date": 1521684674, "answer_id": 49419419, "question_id": 49416980, "link": "https://stackoverflow.com/questions/49416980/how-to-efficiently-parallelize-time-series-forecasting-using-dask/49419419#49419419", "title": "How to efficiently parallelize time series forecasting using dask?", "body": "<p>Dask dataframe only partitions data by rows.  See the <a href=\"http://dask.pydata.org/en/latest/dataframe.html\" rel=\"nofollow noreferrer\">Dask dataframe documentation</a></p>\n\n<p><a href=\"http://dask.pydata.org/en/latest/array.html\" rel=\"nofollow noreferrer\">Dask array</a> however can partition along any dimension.  You have you use Numpy semantics though rather than Pandas semantics.</p>\n\n<p>You can do anything you want to with <a href=\"http://dask.pydata.org/en/latest/delayed.html\" rel=\"nofollow noreferrer\">dask delayed</a> or <a href=\"http://dask.pydata.org/en/latest/futures.html\" rel=\"nofollow noreferrer\">futures</a>.  This <a href=\"https://github.com/pydata/parallel-tutorial/blob/master/notebooks/02-submit.ipynb\" rel=\"nofollow noreferrer\">parallel computing example</a> given in a more generic tutorial might give you some ideas.</p>\n"}, {"comments": [{"owner": {"reputation": 8369, "user_id": 4057186, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87142ebe8244548dc01c3406b0ef2802?s=128&d=identicon&r=PG&f=1", "display_name": "edesz", "link": "https://stackoverflow.com/users/4057186/edesz"}, "edited": false, "score": 0, "creation_date": 1588445748, "post_id": 49434386, "comment_id": 108901161, "body": "I tried this method using <code>dask==2.15.0</code> and <code>fbprophet==0.6</code> with <code>small_df</code> containing 25 time series and 1000 observations per series. It worked and the computation time with <code>LocalCluster</code> was about 2/3 of the time without using <code>dask</code> (i.e. the <code>dask.delayed</code> approach was approx. 33% faster). Next, I increased 25 to 50 time series and again with <code>LocalCluster</code> running on my laptop (with 4 cores and 8GB) ran out of memory very quickly. Do you have experience with trying to extend your <code>dask.delayed</code> <b>+</b> <code>fbprophet</code> approach to using a <code>large_df</code> comprising 1000s of time series?"}], "tags": [], "owner": {"reputation": 153, "user_id": 7789752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631720479152cc74654fe1cf49a6b9a1?s=128&d=identicon&r=PG", "display_name": "Davis", "link": "https://stackoverflow.com/users/7789752/davis"}, "is_accepted": true, "score": 4, "last_activity_date": 1521742231, "last_edit_date": 1521742231, "creation_date": 1521737987, "answer_id": 49434386, "question_id": 49416980, "link": "https://stackoverflow.com/questions/49416980/how-to-efficiently-parallelize-time-series-forecasting-using-dask/49434386#49434386", "title": "How to efficiently parallelize time series forecasting using dask?", "body": "<p>Thanks for the help, i really appreciate it. I've used the dask.delayed solution and it's working really well, it takes about 1/3 of the time just using a local cluster. </p>\n\n<p>For anyone interested the solution I've implemented:</p>\n\n<pre><code>from dask.distributed import Client, LocalCluster\nimport pandas as pd\nimport dask\n\ncluster = LocalCluster(n_workers=3,ncores=3)\nclient = Client(cluster)\n\n#get list of time series back\noutput = []\nfor i in small_df:\n    forecasted_series = dask.delayed(custom_forecast_func)(small_df[i])\n    output.append(forecasted_series)\n\ntotal = dask.delayed(output).compute()\n\n#combine list of series into 1 dataframe\nfull_df = pd.concat(total,ignore_index=False,keys=small_df.columns,names=['time_series_names','Date'])\nfinal_df = full_df.to_frame().reset_index()\nfinal_df.columns = ['time_series_names','Date','value_variable']\nfinal_df.head()\n</code></pre>\n\n<p>This gives you the melted dataframe structure so if you want the series to be the columns you can transform it with</p>\n\n<pre><code>pivoted_df = final_df.pivot(index='Date', columns='time_series_names', values='value_variable')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cKcwE.png\" rel=\"nofollow noreferrer\">small_df is in this format in pandas dataframe with Date being the index</a></p>\n"}], "owner": {"reputation": 153, "user_id": 7789752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631720479152cc74654fe1cf49a6b9a1?s=128&d=identicon&r=PG", "display_name": "Davis", "link": "https://stackoverflow.com/users/7789752/davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1881, "favorite_count": 2, "accepted_answer_id": 49434386, "answer_count": 2, "score": 5, "last_activity_date": 1521742231, "creation_date": 1521668482, "last_edit_date": 1521668720, "question_id": 49416980, "link": "https://stackoverflow.com/questions/49416980/how-to-efficiently-parallelize-time-series-forecasting-using-dask", "title": "How to efficiently parallelize time series forecasting using dask?", "body": "<p>I'm trying to parallelize time series forecasting in python using dask. The format of the data is that each time series is a column and they have a common index of monthly dates. I have a custom forecasting function that returns a time series object with the fitted and forecasted values. I want to apply this function across all columns of a dataframe (all time series) and return a new dataframe with all these series to be uploaded to a DB.\nI've gotten the code to work by running:</p>\n\n<pre><code>data = pandas_df.copy()\nddata = dd.from_pandas(data, npartitions=1)\nres = ddata.map_partitions(lambda df: df.apply(forecast_func, \n    axis=0)).compute(get=dask.multiprocessing.get)\n</code></pre>\n\n<p>My question is, is there a way in Dask to partition by column instead of row, since in this use case I need to keep the ordered time index as is for the forecasting function to work correctly.</p>\n\n<p>If not, how would I re-format the data to allow efficient large-scale forecasting to be possible, and still return the data in the format I need to then push to a DB?</p>\n\n<p><a href=\"https://i.stack.imgur.com/sJDbR.png\" rel=\"noreferrer\">example of data format</a></p>\n"}, {"tags": ["python", "matplotlib", "colorbar", "scatter"], "answers": [{"comments": [{"owner": {"reputation": 2686, "user_id": 1470009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc23752c44899038b6b6698c321f86f6?s=128&d=identicon&r=PG", "display_name": "Ankur Ankan", "link": "https://stackoverflow.com/users/1470009/ankur-ankan"}, "edited": false, "score": 0, "creation_date": 1521670519, "post_id": 49417072, "comment_id": 85836640, "body": "For having the colors in log space you can simply pass <code>np.log(C)</code> to the <code>c</code> argument. I am not sure why you are getting that error, how are you initializing your plot ?"}], "tags": [], "owner": {"reputation": 2686, "user_id": 1470009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc23752c44899038b6b6698c321f86f6?s=128&d=identicon&r=PG", "display_name": "Ankur Ankan", "link": "https://stackoverflow.com/users/1470009/ankur-ankan"}, "is_accepted": true, "score": 0, "last_activity_date": 1521668905, "creation_date": 1521668905, "answer_id": 49417072, "question_id": 49416975, "link": "https://stackoverflow.com/questions/49416975/pyplot-to-plot-scatter-distributions-with-colors/49417072#49417072", "title": "Pyplot to plot scatter distributions with colors", "body": "<p>You just need to add a <code>cmap</code> parameter. Your code should look like:</p>\n\n<pre><code>ax2.scatter(A, B, c=C, s=7, marker='.', cmap='Blues')\n</code></pre>\n\n<p>You can choose any of the cmaps listed here: <a href=\"https://matplotlib.org/examples/color/colormaps_reference.html\" rel=\"nofollow noreferrer\">https://matplotlib.org/examples/color/colormaps_reference.html</a></p>\n\n<p>For showing the colorbar you will need to add an extra line:</p>\n\n<pre><code>plt.colorbar()\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 9225401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb550114c36cac4561febe399c16fad5?s=128&d=identicon&r=PG&f=1", "display_name": "Courage_2018", "link": "https://stackoverflow.com/users/9225401/courage-2018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 49417072, "answer_count": 1, "score": 0, "last_activity_date": 1521668905, "creation_date": 1521668459, "question_id": 49416975, "link": "https://stackoverflow.com/questions/49416975/pyplot-to-plot-scatter-distributions-with-colors", "title": "Pyplot to plot scatter distributions with colors", "body": "<p>I have three one dimensional arrays that have same shape:\nArray A has values range from 8.0 to 12.0, array B has values range from 0.5 to 2.0, array C has values ranges from 20 to 320. \nNow I want to plot scatter distribution: values in A as x axis, values in B as y axis and each dot has color that corresponds to value in C.\nI tried this:</p>\n\n<pre><code>ax2.scatter(A, B, c=C/320.0,s=7,marker='.',edgecolor='none')\n</code></pre>\n\n<p>The plot is shown as <a href=\"https://i.stack.imgur.com/LRvac.png\" rel=\"nofollow noreferrer\">this</a>, but I prefer it shows like <a href=\"https://i.stack.imgur.com/B8U3c.png\" rel=\"nofollow noreferrer\">this</a>. How can I achieve this? Besides, how can I add the color bar as the examples shown. Also I want the color corresponds to C's values in log space instead of linear space. Thanks very much! </p>\n"}, {"tags": ["python", "mysql", "django"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1521670185, "post_id": 49416971, "comment_id": 85836499, "body": "Why do you think the SQL query is from <code>0008</code> in the <code>auth</code> app?  It looks like it&#39;s from the admin app to me. What does <code>manage.py showmigrations</code> output? You might find <a href=\"https://www.percona.com/doc/percona-toolkit/3.0/pt-online-schema-change.html\" rel=\"nofollow noreferrer\"><code>pt-online-schema-change</code></a> useful to avoid downtime for database migrations with MySQL."}, {"owner": {"reputation": 5565, "user_id": 923934, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5e4b81619dada3148128270a9699fa8a?s=128&d=identicon&r=PG", "display_name": "bzmw", "link": "https://stackoverflow.com/users/923934/bzmw"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1521674538, "post_id": 49416971, "comment_id": 85837907, "body": "show migrations shows 0007 and 0008 from the auth contrib."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1521678125, "post_id": 49416971, "comment_id": 85838867, "body": "Out of interest, do you have a link to MySQL docs that specifies that behaviour? I knew that some operations in Sqlite3 required the creation of anew table. I haven\u2019t come across that for MySQL before."}], "owner": {"reputation": 5565, "user_id": 923934, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5e4b81619dada3148128270a9699fa8a?s=128&d=identicon&r=PG", "display_name": "bzmw", "link": "https://stackoverflow.com/users/923934/bzmw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521678249, "creation_date": 1521668446, "last_edit_date": 1521678249, "question_id": 49416971, "link": "https://stackoverflow.com/questions/49416971/django-1-11-upgrade-creating-user-id-constraints", "title": "Django 1.11 upgrade creating `user_id` constraints", "body": "<p>I am upgrading from Django 1.8 to 1.11. There are 2 migrations included in the upgrade <a href=\"https://github.com/django/django/blob/1.11.11/django/contrib/auth/migrations/0007_alter_validators_add_error_messages.py\" rel=\"nofollow noreferrer\">0007_auth</a> and <a href=\"https://github.com/django/django/blob/1.11.11/django/contrib/auth/migrations/0008_alter_user_username_max_length.py\" rel=\"nofollow noreferrer\">0008_auth</a>.</p>\n\n<p>For some reason 0008 is creating a bunch of MySQL foreign key constraints that didn't exist before even though when looking at the migration all that changed was the <code>username</code> max_length.</p>\n\n<p>Here is an example of the query that is being run on one table that I recorded when running the migration</p>\n\n<pre><code>ALTER TABLE `django_admin_log` ADD CONSTRAINT \n`django_admin_log_user_id_xxxxxx_fk` \nFOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`)\n</code></pre>\n\n<p>From what I can read from the 1.8 documentation these constraints should already exist on the tables that have foreign keys to the User model, as should other tables that make use of foreign keys. But my database has no <code>fk</code> constraints at all.</p>\n\n<p>The reason this is a problem is because when I deploy this to production there is an <code>ALTER TABLE</code> being run on a huge table which results in the database being held (I cancelled before I could time it, but it was more than 10 minutes)</p>\n\n<p>Any idea why this is happening?</p>\n\n<p>And if there is a way to do it manually, or more effeciently? I can take my site down for maintenance but I'd really rather avoid it if I can instead do 20 simple manual commands.</p>\n\n<h2>Update 1:</h2>\n\n<p>Running <code>manage.py sqlmigrate auth 0008</code> outputs: </p>\n\n<pre><code>ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL;\n</code></pre>\n\n<p>And when MySQL does an alter table with <code>NOT NULL</code> it actually replicates the table. So I think what is happening is that the table is getting replicated and then updating the constraints on all tables that have a foreign key.</p>\n"}, {"tags": ["python", "pandas", "join"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9041535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854e1e83c400d3cdedd45d87a79aad18?s=128&d=identicon&r=PG&f=1", "display_name": "user9041535", "link": "https://stackoverflow.com/users/9041535/user9041535"}, "edited": false, "score": 0, "creation_date": 1521672792, "post_id": 49417382, "comment_id": 85837349, "body": "Sorry - yes that is the error. Your advice helped, thank you!     ValueError: columns overlap but no suffix specified: Index([&#39;Adj Close&#39;], dtype=&#39;object&#39;)"}, {"owner": {"reputation": 655, "user_id": 9367533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceadd471028caa8607acde64e7237df3?s=128&d=identicon&r=PG&f=1", "display_name": "Novice", "link": "https://stackoverflow.com/users/9367533/novice"}, "reply_to_user": {"reputation": 1, "user_id": 9041535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854e1e83c400d3cdedd45d87a79aad18?s=128&d=identicon&r=PG&f=1", "display_name": "user9041535", "link": "https://stackoverflow.com/users/9041535/user9041535"}, "edited": false, "score": 0, "creation_date": 1521675304, "post_id": 49417382, "comment_id": 85838124, "body": "If my post answered your question, could you please select it as the answer? [This page] (<a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>) explains how accepting an answer works. If not, what else is wrong?"}], "tags": [], "owner": {"reputation": 655, "user_id": 9367533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceadd471028caa8607acde64e7237df3?s=128&d=identicon&r=PG&f=1", "display_name": "Novice", "link": "https://stackoverflow.com/users/9367533/novice"}, "is_accepted": true, "score": 0, "last_activity_date": 1521670395, "creation_date": 1521670395, "answer_id": 49417382, "question_id": 49416969, "link": "https://stackoverflow.com/questions/49416969/using-the-join-pandas-function-in-python-error/49417382#49417382", "title": "Using the join pandas function in python error", "body": "<p>What is your error message? It would help identify the problem you are having. If you are getting something like<code>ValueError: columns overlap but no suffix specified: Index(['Date'], dtype='object')</code>, then I think the problem is that the column names of your data frames are the same. To correct this, you can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.rename.html\" rel=\"nofollow noreferrer\"><code>df.rename</code></a> to change a column name.</p>\n\n<p>it would look like this for you </p>\n\n<pre><code>Bonds.rename(columns={\"Date\": \"Date_bonds\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9041535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854e1e83c400d3cdedd45d87a79aad18?s=128&d=identicon&r=PG&f=1", "display_name": "user9041535", "link": "https://stackoverflow.com/users/9041535/user9041535"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 49417382, "answer_count": 1, "score": 0, "last_activity_date": 1521670395, "creation_date": 1521668445, "last_edit_date": 1521669416, "question_id": 49416969, "link": "https://stackoverflow.com/questions/49416969/using-the-join-pandas-function-in-python-error", "title": "Using the join pandas function in python error", "body": "<p>I'm following along a tutorial here on Time Series Analysis - but they do all of the loading in and cleaning of the dataframe work for you.</p>\n\n<p>In attempt to learn and get better at that part myself, I am trying to use the join function to then subsequently calculate the percent change and correlation of the two columns. The data is SPX.csv and ^TNX.csv - the SP500 index fund and bonds, respectively.</p>\n\n<pre><code># Import pandas and plotting modules\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n\nstocks = pd.read_csv('data/SPX.csv', parse_dates=['Date'], index_col='Date')\nbonds = pd.read_csv('data/^TNX.csv', parse_dates=['Date'], index_col='Date')\n\n''' #not sure if its something to do with the index_col?\nstocks = pd.read_csv('data/SPX.csv')\n######\nbonds = pd.read_csv('data/^TNX.csv')\n\n'''\n\nstocks.index = pd.to_datetime(stocks.index)\nbonds.index = pd.to_datetime(bonds.index)\n\n# Convert the stock index and bond index into sets\nset_stock_dates = set(stocks.index)\nset_bond_dates = set(bonds.index)\n\n# Take the difference between the sets and print\nprint(set_stock_dates - set_bond_dates)\n\n\nstocks_and_bonds = stocks.join(bonds, how='inner')\n</code></pre>\n\n<p>The idea is to then be able to do the following - </p>\n\n<pre><code># Compute percent change using pct_change()\nreturns = stocks_and_bonds.pct_change()\n\n# Compute correlation using corr()\ncorrelation = returns['SP500'].corr(returns['US10Y'])\nprint(\"Corelation of stocks and interest rates: \", correlation)\n\n# Make scatter plot\nplt.scatter(returns['SP500'], returns['US10Y'])\nplt.show()\n</code></pre>\n\n<p>Appreciate any help!</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "is_accepted": true, "score": 3, "last_activity_date": 1521669474, "creation_date": 1521669474, "answer_id": 49417196, "question_id": 49416967, "link": "https://stackoverflow.com/questions/49416967/pagination-not-showing-in-django/49417196#49417196", "title": "pagination not showing in Django", "body": "<p>You're using <code>queryset</code> in your template even though you don't have it in your context. As you can see, you're setting <code>queryset</code> to <code>object_list</code>.</p>\n\n<pre><code>context = {\n    \"object_list\": queryset,\n    \"page_request_var\": page_request_var,\n\n}\n</code></pre>\n\n<p>Simply, use <code>object_list</code> rather than <code>queryset</code> in your template.</p>\n\n<p>or change <code>object_list</code> to <code>queryset</code></p>\n\n<pre><code>context = {\n    \"queryset\": queryset,\n    \"page_request_var\": page_request_var,\n\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 2847773, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/553815108/picture?type=large", "display_name": "Muneeb Khan", "link": "https://stackoverflow.com/users/2847773/muneeb-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "accepted_answer_id": 49417196, "answer_count": 1, "score": 0, "last_activity_date": 1521669474, "creation_date": 1521668440, "last_edit_date": 1521668779, "question_id": 49416967, "link": "https://stackoverflow.com/questions/49416967/pagination-not-showing-in-django", "title": "pagination not showing in Django", "body": "<p>Hi im new to django and am trying to set up pagination but its not working i don't know why. this is my code for the project. paginator is working it is limiting to 5 but just not showing the pages number. when i type ?page=2 in the address bar it works what am i doing wrong please help.</p>\n\n<p>in my view class  </p>\n\n<pre><code>def post_list(request):\n    queryset = Post.objects.all().order_by(\"-timestamp\")\n    paginator = Paginator(queryset, 5) # Show 5contacts per page\n    page_request_var = \"page\"\n    page = request.GET.get(page_request_var)\n    try:\n        queryset = paginator.page(page)\n    except PageNotAnInteger:\n    # If page is not an integer, deliver first page.\n        queryset = paginator.page(1)\n    except EmptyPage:\n    # If page is out of range (e.g. 9999), deliver last page of results.\n        queryset = paginator.page(paginator.num_pages)\n\n    context = {\n        \"object_list\": queryset,\n        \"page_request_var\": page_request_var,\n\n}\nreturn render(request, \"community.html\", context)\n</code></pre>\n\n<p>in my template </p>\n\n<pre><code> &lt;div class=\"container\"&gt;\n    {% for obj in object_list %}\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-sm-4 col-md-4\"&gt;\n            &lt;div class=\"post\"&gt;\n                &lt;div class=\"post-img-content\"&gt;\n                    &lt;img src=\"http://placehold.it/460x250/e67e22/ffffff&amp;text=HTML5\" class=\"img-responsive\" /&gt;\n                    &lt;span class=\"post-title\"&gt;&lt;b&gt;&lt;a href='{{ obj.get_absolute_url }}'&gt;{{ obj.title }}&lt;/a&gt;&lt;/b&gt;&lt;br /&gt;\n                    &lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class=\"content\"&gt;\n                    &lt;div class=\"author\"&gt;\n                        By &lt;b&gt;changeme&lt;/b&gt; |\n                        &lt;small&gt; {{ obj.timestamp|timesince }} ago&lt;/small&gt;\n                    &lt;/div&gt;\n                    &lt;div&gt;\n                        {{ obj.content|linebreaks|truncatechars:120 }}\n                    &lt;/div&gt;\n                    &lt;div&gt;\n                        &lt;a href=\"{{ obj.get_absolute_url }}\" class=\"btn btn-warning btn-sm\"&gt;Read more&lt;/a&gt;\n                    &lt;/div&gt;\n                    &lt;hr /&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n\n    &lt;/div&gt;\n    {% endfor %}\n    &lt;/div&gt;\n    &lt;div class=\"container\"&gt; \n\n    &lt;div class=\"pagination\"&gt;\n    &lt;span class=\"step-links\"&gt;\n        {% if queryset.has_previous %}\n            &lt;a href=\"?{page_request_var}=1\"&gt;&amp;laquo; first&lt;/a&gt;\n            &lt;a href=\"?{page_request_var}={{contacts.previous_page_number}}\"&gt;previous&lt;/a&gt;\n        {% endif %}\n\n        &lt;span class=\"current\"&gt;\n            Page {{queryset.number}} of {{queryset.paginator.num_pages}}.\n        &lt;/span&gt;\n\n        {% if queryset.has_next %}\n            &lt;a href=\"?{page_request_var}={{queryset.next_page_number}}\"&gt;next&lt;/a&gt;\n            &lt;a href=\"?{page_request_var}={{queryset.paginator.num_pages }}\"&gt;last &amp;raquo;&lt;/a&gt;\n        {% endif %}\n    &lt;/span&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>it just shows pages of. \nwhat am i doing wrong ? </p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6089799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0dd53aa5afd3267bb0f534ae06246ce?s=128&d=identicon&r=PG&f=1", "display_name": "MS Philly", "link": "https://stackoverflow.com/users/6089799/ms-philly"}, "edited": false, "score": 0, "creation_date": 1521900460, "post_id": 49417204, "comment_id": 85933930, "body": "Solved, thank you! Makes sense to check if the objects are the same."}, {"owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "reply_to_user": {"reputation": 13, "user_id": 6089799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0dd53aa5afd3267bb0f534ae06246ce?s=128&d=identicon&r=PG&f=1", "display_name": "MS Philly", "link": "https://stackoverflow.com/users/6089799/ms-philly"}, "edited": false, "score": 0, "creation_date": 1521912703, "post_id": 49417204, "comment_id": 85937895, "body": "If the answer was correct, please mark it as the accepted answer (check under the vote count)."}], "tags": [], "owner": {"reputation": 836, "user_id": 2971839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae42092534f65bffafcc85cc02e7d35b?s=128&d=identicon&r=PG&f=1", "display_name": "Keozon", "link": "https://stackoverflow.com/users/2971839/keozon"}, "is_accepted": true, "score": 2, "last_activity_date": 1521669506, "creation_date": 1521669506, "answer_id": 49417204, "question_id": 49416965, "link": "https://stackoverflow.com/questions/49416965/python-beautiful-soup-how-to-detect-that-two-tag-or-navigablestring-objects-ar/49417204#49417204", "title": "Python Beautiful Soup - How to detect that two Tag or NavigableString objects are the same in the DOM", "body": "<p>Assuming that the soup object is always one object (and not the same HTML document processed via different soup objects), you should be able to do this:</p>\n\n<pre><code>soup = BeautifulSoup(example_html_str, \"lxml\")\nfirst_paragraph = soup.find_all(\"p\")[0]\nsecond_paragraph = soup.find_all(\"p\")[1]\nanother_paragraph = soup.find_all(\"p\")[0]\nfirst_paragraph is second_paragraph\n# is False\nfirst_paragraph is another_paragraph\n# is True\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6089799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0dd53aa5afd3267bb0f534ae06246ce?s=128&d=identicon&r=PG&f=1", "display_name": "MS Philly", "link": "https://stackoverflow.com/users/6089799/ms-philly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 49417204, "answer_count": 1, "score": 1, "last_activity_date": 1521669506, "creation_date": 1521668410, "last_edit_date": 1521668733, "question_id": 49416965, "link": "https://stackoverflow.com/questions/49416965/python-beautiful-soup-how-to-detect-that-two-tag-or-navigablestring-objects-ar", "title": "Python Beautiful Soup - How to detect that two Tag or NavigableString objects are the same in the DOM", "body": "<p>How can I use the Beautiful Soup API to check if two Tag or NavigableString objects retrieved from the same BeautifulSoup object are really the same object in the DOM?</p>\n\n<p>For example, the last line of code below evaluates to <code>True</code>, but I need the ability to detect that <code>first_paragraph</code> and <code>second_paragraph</code> are not the same object in the DOM.</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nexample_html_str = \"\"\"\\\n    &lt;html&gt;\n    &lt;head&gt;&lt;/head&gt;\n    &lt;body&gt;\n        &lt;p&gt;Content&lt;/p&gt;\n        &lt;p&gt;Content&lt;/p&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n    \"\"\"\n\nsoup = BeautifulSoup(example_html_str, \"lxml\")\nparagraphs = soup.find_all(\"p\")\n\nfirst_paragraph = paragraphs[0] #First paragraph\nsecond_paragraph = paragraphs[1] #Second paragraph\n\n# The below evaluates to true, but they are not\n# from the same part of the DOM.\nprint(first_paragraph == second_paragraph)\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "deep-learning"], "comments": [{"owner": {"reputation": 1289, "user_id": 9145079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc5c3f09b1b1cb7418fcc214e7b849b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/9145079/fred"}, "edited": false, "score": 0, "creation_date": 1521668355, "post_id": 49416912, "comment_id": 85835717, "body": "What is a &quot;center of class&quot;? I have no idea what you&#39;re asking. Could you provide more context?"}, {"owner": {"reputation": 73, "user_id": 6735773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vf-9qHl57Fs/AAAAAAAAAAI/AAAAAAAAADg/VN-DEdGZqtU/photo.jpg?sz=128", "display_name": "Kamran Janjua", "link": "https://stackoverflow.com/users/6735773/kamran-janjua"}, "reply_to_user": {"reputation": 1289, "user_id": 9145079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc5c3f09b1b1cb7418fcc214e7b849b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/9145079/fred"}, "edited": false, "score": 0, "creation_date": 1521668848, "post_id": 49416912, "comment_id": 85835936, "body": "For MNIST, we have 10 classes i.e. 0,1,2,3...9. For each class, we have 6000 images, a total of 60k images. A class centre would be the centre of deep features of each class."}, {"owner": {"reputation": 1289, "user_id": 9145079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc5c3f09b1b1cb7418fcc214e7b849b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/9145079/fred"}, "edited": false, "score": 0, "creation_date": 1521670094, "post_id": 49416912, "comment_id": 85836464, "body": "Ok we probably still need a deeper understanding of what your model is and what you&#39;re trying. Even current results if you have some. Include that to your question"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1521672124, "post_id": 49416912, "comment_id": 85837145, "body": "&quot;centre of deep features&quot; still doesn&#39;t explain &quot;centre&quot;; you&#39;ve merely changed the level of description."}, {"owner": {"reputation": 73, "user_id": 6735773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vf-9qHl57Fs/AAAAAAAAAAI/AAAAAAAAADg/VN-DEdGZqtU/photo.jpg?sz=128", "display_name": "Kamran Janjua", "link": "https://stackoverflow.com/users/6735773/kamran-janjua"}, "edited": false, "score": 0, "creation_date": 1521675731, "post_id": 49416912, "comment_id": 85838257, "body": "I am training a neural network (LeNet) with customized loss function. However, instead of just softmax, I want to maximize the distance between the centres so as to minimize the interclass variations and maximize the interclass distance."}, {"owner": {"reputation": 1545, "user_id": 6014153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dce6f7b424b00496fe03fab048bd66?s=128&d=identicon&r=PG", "display_name": "carrdelling", "link": "https://stackoverflow.com/users/6014153/carrdelling"}, "edited": false, "score": 0, "creation_date": 1521707613, "post_id": 49416912, "comment_id": 85848581, "body": "Then what you should be using is either a clustering algorithm or Fisher&#39;s LDA (Linear Discriminant Analysis) instead of neural networks."}], "owner": {"reputation": 73, "user_id": 6735773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vf-9qHl57Fs/AAAAAAAAAAI/AAAAAAAAADg/VN-DEdGZqtU/photo.jpg?sz=128", "display_name": "Kamran Janjua", "link": "https://stackoverflow.com/users/6735773/kamran-janjua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521668088, "creation_date": 1521668088, "question_id": 49416912, "link": "https://stackoverflow.com/questions/49416912/how-to-compute-distance-between-centers-of-each-class", "title": "How to compute distance between centers of each class?", "body": "<p>I am trying to maximize the distance between two different class centres. I have centres of classes (MNIST) which is of shape <code>(10,2)</code> where 10 is the number of classes and 2 is the dimension. The computed centres is a tensor object. \nI have tried <code>tf.add(centres, margin)</code> to maximize the distance between the centres, but of no use. How can I maximize the distance between all the centres?\nI am computing centres as: <br/></p>\n\n<p><code>centers = tf.get_variable('centers' [num_classes, len_features], dtype=tf.float32, initializer=tf.constant_initializer(0), trainable=False)</code></p>\n\n<p>I gather the centres for the current batch and compute loss on those, now I would also like to maximize the distance between those centres. Any help will be appreciated.</p>\n"}, {"tags": ["python", "python-3.x", "if-statement", "boolean", "valueerror"], "comments": [{"owner": {"reputation": 2686, "user_id": 1470009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc23752c44899038b6b6698c321f86f6?s=128&d=identicon&r=PG", "display_name": "Ankur Ankan", "link": "https://stackoverflow.com/users/1470009/ankur-ankan"}, "edited": false, "score": 0, "creation_date": 1521668000, "post_id": 49416871, "comment_id": 85835536, "body": "Could you share how your data looks like ?"}, {"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1521668311, "post_id": 49416871, "comment_id": 85835695, "body": "You&#39;re passing a pandas series to an <code>if</code> statement, so it&#39;s trying to evaluate the truth value of an array, which is ambiguous"}], "answers": [{"tags": [], "owner": {"reputation": 1176, "user_id": 7087491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207702366813204/picture?type=large", "display_name": "jjsantoso", "link": "https://stackoverflow.com/users/7087491/jjsantoso"}, "is_accepted": true, "score": 0, "last_activity_date": 1521669165, "creation_date": 1521669165, "answer_id": 49417119, "question_id": 49416871, "link": "https://stackoverflow.com/questions/49416871/cant-delete-rows-in-a-dataframe-python-3-value-error-truth-value-ambiguous/49417119#49417119", "title": "Cant delete rows in a dataframe python 3 . Value error: truth value ambiguous", "body": "<p>That is because your row indexer is a list: <code>if dfm.loc[[s],('normality')] == False:</code>.\nYou should index without the list: <code>if dfm.loc[s,'normality'] == False:</code></p>\n"}], "owner": {"reputation": 3, "user_id": 8632702, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205675757874432/picture?type=large", "display_name": "Efe Utku", "link": "https://stackoverflow.com/users/8632702/efe-utku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 49417119, "answer_count": 1, "score": 0, "last_activity_date": 1521669165, "creation_date": 1521667912, "question_id": 49416871, "link": "https://stackoverflow.com/questions/49416871/cant-delete-rows-in-a-dataframe-python-3-value-error-truth-value-ambiguous", "title": "Cant delete rows in a dataframe python 3 . Value error: truth value ambiguous", "body": "<p>I have a dataframe of 12 columns, one column is just boolean; showing whether the given condition (dependent on other columns) is satisfied or not. That column is called \"normality\". I am trying to delete the rows of False values only if the row before and the row after that are True.</p>\n\n<pre><code>for s in range((dfm['normality'].count())):\n    if dfm.loc[[s],('normality')] == False:\n       if ((dfm.loc[[s+1],('normality')]) == True) &amp; ((dfm.loc[[s-1],('normality')]) == True):\n        dfm=dfm.drop(dfm.index[s])\nelse:\n    ;\n</code></pre>\n\n<p>I have tried to use this code, yet I constantly get the error:</p>\n\n<pre><code>ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().\n</code></pre>\n\n<p>on line 7 (the first if statement).</p>\n\n<p>Any help would be appreciated, thank you.</p>\n"}, {"tags": ["python", "linux", "console", "virtualenv"], "comments": [{"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1521681804, "post_id": 49416799, "comment_id": 85839622, "body": "Have you tried <a href=\"https://stackoverflow.com/a/9720341/7976758\">readline</a>?"}, {"owner": {"reputation": 946, "user_id": 6709630, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cxitI.png?s=128&g=1", "display_name": "freezed", "link": "https://stackoverflow.com/users/6709630/freezed"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1521709236, "post_id": 49416799, "comment_id": 85849622, "body": "I&#39;ve got <code>readline-common</code>, <code>libreadline5</code> and <code>libreadline6</code> installed\u2026 Installing <code>readline</code> with python require some other dependencies, I&#39;m not sure this is a solution, all works outside <code>virtualenv</code>."}, {"owner": {"reputation": 1351, "user_id": 6219628, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/oFZZE.jpg?s=128&g=1", "display_name": "Romain Vincent", "link": "https://stackoverflow.com/users/6219628/romain-vincent"}, "edited": false, "score": 0, "creation_date": 1534650051, "post_id": 49416799, "comment_id": 90778477, "body": "I have this problem too. With jedi or readline imported in the virtualenv, the autocompletion works fine, but I get no history."}], "owner": {"reputation": 946, "user_id": 6709630, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cxitI.png?s=128&g=1", "display_name": "freezed", "link": "https://stackoverflow.com/users/6709630/freezed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521667599, "creation_date": 1521667599, "question_id": 49416799, "link": "https://stackoverflow.com/questions/49416799/setting-config-for-completion-and-history-in-a-virtualenv", "title": "Setting config for completion and history in a virtualenv", "body": "<p>I am <em>still</em> <a href=\"https://stackoverflow.com/q/49238036/6709630\">learning Python</a> and nowadays I discover the use of <code>virtualenv</code>.</p>\n\n<p>I run LMDE2 (based on Debian 8) which provide <code>Python 2.7</code> (OS default) &amp; <code>Python 3.4</code>. I manually installed <code>Python 3.6</code>.</p>\n\n<p>In a <code>virtualenv</code> with <code>python3.6</code> (chosen with <code>-p</code> option) the console as no history or command completion\u2026 and neither does the <code>pdb</code> command line.\nIf I try <code>python2.7</code> console: same result. But <code>python3.4</code> <strong>just works fine</strong> (history and completion)\u2026 </p>\n\n<p>All this works outside the <code>virtualenv</code>. I found some questions about <a href=\"https://stackoverflow.com/a/18076284/6709630\"><code>IPython</code> completion &amp; history</a>, but it works on my <code>virtualenv</code>. If someone has any clue on where I can fix this up I'd be happy.\nI do not think that this is an OS specific question.</p>\n\n<p><em>Thanks for comments <strong>before</strong> down-voting, it's hard enough for a newcomer to build a reputation here\u2026</em></p>\n"}, {"tags": ["python", "pyqt", "pyqt5", "qwebengineview", "qtwebchannel"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 4, "last_activity_date": 1521667981, "creation_date": 1521667981, "answer_id": 49416885, "question_id": 49416790, "link": "https://stackoverflow.com/questions/49416790/pyqt-qtwebchannel-calling-python-function-from-javascript/49416885#49416885", "title": "PyQt QtWebChannel: calling Python function from JavaScript", "body": "<p>The problem is not the visibility but the connection with the click event, the upload of the file is from top to bottom so you are trying to connect the header when it does not yet exist, the solution is to rewrite the HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"/&gt;        \n        &lt;script src=\"qrc:///qtwebchannel/qwebchannel.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt; &lt;h2 id=\"header\"&gt;Header.&lt;/h2&gt; &lt;/body&gt;\n    &lt;script&gt;\n        var backend;\n        new QWebChannel(qt.webChannelTransport, function (channel) {\n            backend = channel.objects.backend;\n        });\n\n        document.getElementById(\"header\").addEventListener(\"click\", function(){\n            backend.foo();\n        });\n    &lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 398, "user_id": 6466206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6822b8f48ba2d09f1feed4f10959246e?s=128&d=identicon&r=PG&f=1", "display_name": "MrLoon", "link": "https://stackoverflow.com/users/6466206/mrloon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1727, "favorite_count": 2, "accepted_answer_id": 49416885, "answer_count": 1, "score": 5, "last_activity_date": 1521669796, "creation_date": 1521667563, "last_edit_date": 1521669796, "question_id": 49416790, "link": "https://stackoverflow.com/questions/49416790/pyqt-qtwebchannel-calling-python-function-from-javascript", "title": "PyQt QtWebChannel: calling Python function from JavaScript", "body": "<p>I am trying, using Qt classes <code>QWebEngineView</code>, and <code>QWebChannel</code> to make a simple connection between HTML page and Python script. The goal is simply to execute <code>foo()</code> when the header <code>&lt;h2&gt;</code> is clicked. </p>\n\n<pre><code>import sys\nfrom PyQt5.QtCore import pyqtSlot\nfrom PyQt5.QtWidgets import QApplication\nfrom PyQt5.QtWebChannel import QWebChannel\nfrom PyQt5.QtWebEngineWidgets import QWebEngineView, QWebEnginePage\n\nhtml = '''\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"/&gt;        \n    &lt;script src=\"qrc:///qtwebchannel/qwebchannel.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    var backend;\n    new QWebChannel(qt.webChannelTransport, function (channel) {\n        backend = channel.objects.backend;\n    });\n\n    document.getElementById(\"header\").addEventListener(\"click\", function(){\n        backend.foo();\n    });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt; &lt;h2 id=\"header\"&gt;Header.&lt;/h2&gt; &lt;/body&gt;\n&lt;/html&gt;\n'''\n\nclass HelloWorldHtmlApp(QWebEngineView):\n\n    def __init__(self):\n        super().__init__()\n\n        # setup a page with my html\n        my_page = QWebEnginePage(self)\n        my_page.setHtml(html)\n        self.setPage(my_page)\n\n        # setup channel\n        self.channel = QWebChannel()\n        self.channel.registerObject('backend', self)\n        self.page().setWebChannel(self.channel)\n        self.show()\n\n    @pyqtSlot()\n    def foo(self):\n        print('bar')\n\n\nif __name__ == \"__main__\":\n    app = QApplication.instance() or QApplication(sys.argv)\n    view = HelloWorldHtmlApp()\n    view.show()\n    app.exec_()\n</code></pre>\n\n<p>The problem seems to be that the variable <code>backend</code> is not <em>visible</em> outside of the <code>QWebChannel</code> constructor. I tried to make <code>backend</code> an attribute of <code>widnow</code> to make it <em>global</em> but it did not work.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1521668011, "post_id": 49416776, "comment_id": 85835543, "body": "<a href=\"https://stackoverflow.com/questions/4981815/how-to-remove-lines-in-a-matplotlib-plot?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Literally googled, &quot;How to remove lines from plot matplotlib:&quot;</a>"}, {"owner": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "edited": false, "score": 0, "creation_date": 1521668184, "post_id": 49416776, "comment_id": 85835635, "body": "Your best bet is to just increase the alpha to something like 1, that way you won&#39;t see the lines below the points.  I&#39;m not sure if I understand you correctly though."}, {"owner": {"reputation": 107, "user_id": 6317380, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dUaoGB9C-ss/AAAAAAAAAAI/AAAAAAAAAEA/D5l84_lRnNk/photo.jpg?sz=128", "display_name": "Ian Gilman", "link": "https://stackoverflow.com/users/6317380/ian-gilman"}, "reply_to_user": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 1, "creation_date": 1521668319, "post_id": 49416776, "comment_id": 85835700, "body": "@ChootsMagoots, I do not want the <i>entire</i> line removed, only the small sections that overlap with the points themselves."}, {"owner": {"reputation": 107, "user_id": 6317380, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dUaoGB9C-ss/AAAAAAAAAAI/AAAAAAAAAEA/D5l84_lRnNk/photo.jpg?sz=128", "display_name": "Ian Gilman", "link": "https://stackoverflow.com/users/6317380/ian-gilman"}, "reply_to_user": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "edited": false, "score": 1, "creation_date": 1521668333, "post_id": 49416776, "comment_id": 85835706, "body": "@moenad, I&#39;m going to be overlaying a number of these so I want to keep the transparency relatively high."}, {"owner": {"reputation": 107, "user_id": 6317380, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dUaoGB9C-ss/AAAAAAAAAAI/AAAAAAAAAEA/D5l84_lRnNk/photo.jpg?sz=128", "display_name": "Ian Gilman", "link": "https://stackoverflow.com/users/6317380/ian-gilman"}, "reply_to_user": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1521668988, "post_id": 49416776, "comment_id": 85835988, "body": "@ChootsMagoots can you demonstrate how this can be used to solve my problem?"}, {"owner": {"reputation": 632, "user_id": 8766025, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7112bf0e140281eb3f4191f61eab6fc3?s=128&d=identicon&r=PG&f=1", "display_name": "ChootsMagoots", "link": "https://stackoverflow.com/users/8766025/chootsmagoots"}, "edited": false, "score": 0, "creation_date": 1521669302, "post_id": 49416776, "comment_id": 85836106, "body": "The point is this, your question is very nitpicky, and the capabilities of matplotlib are limited.  I highly doubt that what you want is possible, but I&#39;m not sure why anyone would ever really need to do it"}], "answers": [{"comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1521715353, "post_id": 49417758, "comment_id": 85853995, "body": "I think that would be possible, just a huge amount of work. You would need to find out the marker edges in terms of data coordinates, i.e. scale the marker path by the inverse of the <code>transData</code> transform. Taking the shape of the marker into account is even harder, but one may start by assuming a circle."}], "tags": [], "owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1521672861, "last_edit_date": 1521672861, "creation_date": 1521672379, "answer_id": 49417758, "question_id": 49416776, "link": "https://stackoverflow.com/questions/49416776/remove-line-through-points-in-matplotlib-plot/49417758#49417758", "title": "Remove line through points in matplotlib plot", "body": "<p>I think the best way to go about it is to overlay the triangles over the lines:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nvalues = np.random.normal(loc=0, scale=1, size=10)\nplt.plot( range(10), values, marker='^', markerfacecolor='red', markersize=15, color='red', linewidth=2)\nplt.show()\n</code></pre>\n\n<p>The program outputs:\n<a href=\"https://i.stack.imgur.com/P07ZV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P07ZV.png\" alt=\"output of program\"></a></p>\n\n<p>If you really want the see through aspect, I suggest you somehow calculate where the lines overlap with the markers and only draw the lines inbetween:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nvalues = np.random.normal(loc= 0, scale=1, size=10)\nfor i in range(9):\n     start_coordinate, end_coordinate = some_function(values[i], values[i+1])\n     plt.plot([i, i+1], [start_coordinate, end_coordinate], *whatever_other_arguments)\nplt.scatter(range(10), values, *whatever_other_arguments)\nplt.show()\n</code></pre>\n\n<p>The hard part here is of course calculating these coordinates (if you want to zoom in this won't work), but honestly, given the difficulty of this question, I think you won't find anything much better...</p>\n"}, {"comments": [{"owner": {"reputation": 15925, "user_id": 1643946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799d43bdc55d1098d2f02de64ace2a39?s=128&d=identicon&r=PG", "display_name": "Bonlenfum", "link": "https://stackoverflow.com/users/1643946/bonlenfum"}, "edited": false, "score": 0, "creation_date": 1521717500, "post_id": 49426451, "comment_id": 85855553, "body": "If the 2nd call to <code>ax.scatter</code> used a slightly larger marker (e.g. <code>(ms+5)**2</code>), it would cover a bit of the line nearby to the marker, giving a dot/dash appearance as I <i>think</i> the OP is asking.  It doesn&#39;t zoom well because of the data / points issue you identify, but for final production it could be tweaked"}, {"owner": {"reputation": 107, "user_id": 6317380, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dUaoGB9C-ss/AAAAAAAAAAI/AAAAAAAAAEA/D5l84_lRnNk/photo.jpg?sz=128", "display_name": "Ian Gilman", "link": "https://stackoverflow.com/users/6317380/ian-gilman"}, "edited": false, "score": 0, "creation_date": 1521729468, "post_id": 49426451, "comment_id": 85864520, "body": "Thank you, this is just what I was looking for."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 2, "last_activity_date": 1521714970, "creation_date": 1521714970, "answer_id": 49426451, "question_id": 49416776, "link": "https://stackoverflow.com/questions/49416776/remove-line-through-points-in-matplotlib-plot/49426451#49426451", "title": "Remove line through points in matplotlib plot", "body": "<p>It is in general hard to let the lines stop at the edges of the markers. The reason is that lines are defined in data coordinates, while the markers are defined in points. </p>\n\n<p>A workaround would be to hide the lines where the markers are. We may think of a three layer system. The lowest layer (<code>zorder=1</code>) contains the lines, just as they are. The layer above contains markers of the same shape and size as those which are to be shown. Yet they would be colored in the same color as the background (usually white). The topmost layer contains the markers as desired. </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np; np.random.seed(42)\n\nfig, ax = plt.subplots(figsize=(6,5))\n\ndef plot_hidden_lines(x,y, ax = None, ms=15, color=\"r\", \n                      marker=\"^\", alpha=0.4,**kwargs):\n    if not ax: ax=plt.gca()\n    ax.scatter(x,y, c=color, s=ms**2, marker=marker, alpha=alpha, zorder=3)\n    ax.scatter(x,y, c=\"w\", s=ms**2, marker=marker, alpha=1, zorder=2)\n    ax.plot(x,y, color=color, zorder=1,alpha=alpha,**kwargs)\n\n\nvalues1 = np.random.normal(loc=0, scale=1, size=10)\nvalues2 = np.random.normal(loc=0, scale=1, size=10)\nx = np.arange(len(values1))\n\nplot_hidden_lines(x,values1)\nplot_hidden_lines(x,values2, color=\"indigo\", ms=20, marker=\"s\")\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Jyn2z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jyn2z.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 107, "user_id": 6317380, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dUaoGB9C-ss/AAAAAAAAAAI/AAAAAAAAAEA/D5l84_lRnNk/photo.jpg?sz=128", "display_name": "Ian Gilman", "link": "https://stackoverflow.com/users/6317380/ian-gilman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1807, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1521714970, "creation_date": 1521667496, "last_edit_date": 1521668397, "question_id": 49416776, "link": "https://stackoverflow.com/questions/49416776/remove-line-through-points-in-matplotlib-plot", "title": "Remove line through points in matplotlib plot", "body": "<p>I have the following <code>matplotlib</code> snippet:</p>\n\n<pre><code>fig, ax = plt.subplots(figsize=(6,6))\nvalues = np.random.normal(loc=0, scale=1, size=10)\nax.plot(range(10), values, 'r^', markersize=15, alpha=0.4);\n</code></pre>\n\n<p>which produces </p>\n\n<p><a href=\"https://i.stack.imgur.com/Vlk01.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vlk01.png\" alt=\"enter image description here\"></a></p>\n\n<p>as planned. </p>\n\n<p>I'd like to make the line invisible where it overlaps with the points so that the points look more joined by the line rather than lying on top of the line. It is possible to do this by either making the line invisible where they overlap or to create a new line object that simply links the points rather than traces them?</p>\n\n<p>To be explicit, I do not want the <em>entire</em> line removed, just the sections that overlap with the points.</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "svm", "one-hot-encoding"], "answers": [{"tags": [], "owner": {"reputation": 47598, "user_id": 712995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c7ImO.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/712995/maxim"}, "is_accepted": true, "score": 3, "last_activity_date": 1521671940, "creation_date": 1521671940, "answer_id": 49417674, "question_id": 49416716, "link": "https://stackoverflow.com/questions/49416716/labelbinarizer-yields-different-result-in-multiclass-example/49417674#49417674", "title": "LabelBinarizer yields different result in multiclass example", "body": "<p><code>OneVsRestClassifier</code> is applying  <code>LabelBinarizer</code> itself under the hood (the source code in <a href=\"https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/multiclass.py#L183\" rel=\"nofollow noreferrer\"><code>sklearn/multiclass.py</code></a>):</p>\n\n<pre><code>def fit(self, X, y):\n  ...\n  self.label_binarizer_ = LabelBinarizer(sparse_output=True)\n  Y = self.label_binarizer_.fit_transform(y)\n  Y = Y.tocsc()\n  self.classes_ = self.label_binarizer_.classes_\n</code></pre>\n\n<p>So extra manual conversion is unnecessary. In fact, it's interpreting your one-hot encoded <code>y</code> as <em>multi-label</em> input. From the <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.multiclass.OneVsRestClassifier.html#sklearn.multiclass.OneVsRestClassifier.fit\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p><code>y</code> : (sparse) array-like, <code>shape = [n_samples, ], [n_samples, n_classes]</code></p>\n  \n  <p>Multi-class targets. An indicator matrix turns on multilabel\n  classification.</p>\n</blockquote>\n"}], "owner": {"reputation": 160456, "user_id": 89391, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bb5230985aa2c9ea7d022d1a16890f16?s=128&d=identicon&r=PG", "display_name": "miku", "link": "https://stackoverflow.com/users/89391/miku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "accepted_answer_id": 49417674, "answer_count": 1, "score": 4, "last_activity_date": 1521675653, "creation_date": 1521667226, "last_edit_date": 1521675653, "question_id": 49416716, "link": "https://stackoverflow.com/questions/49416716/labelbinarizer-yields-different-result-in-multiclass-example", "title": "LabelBinarizer yields different result in multiclass example", "body": "<p>When executing the multiclass example in the scikit-learn tutorial</p>\n\n<ul>\n<li><a href=\"http://scikit-learn.org/stable/tutorial/basic/tutorial.html#multiclass-vs-multilabel-fitting\" rel=\"nofollow noreferrer\">http://scikit-learn.org/stable/tutorial/basic/tutorial.html#multiclass-vs-multilabel-fitting</a></li>\n</ul>\n\n<p>I came across a slight oddity.</p>\n\n<pre><code>&gt;&gt;&gt; import sklearn\n&gt;&gt;&gt; sklearn.__version__\n0.19.1\n\n&gt;&gt;&gt; from sklearn.svm import SVC\n&gt;&gt;&gt; from sklearn.multiclass import OneVsRestClassifier\n&gt;&gt;&gt; from sklearn.preprocessing import LabelBinarizer\n\n&gt;&gt;&gt; X = [[1, 2], [2, 4], [4, 5], [3, 2], [3, 1]]\n&gt;&gt;&gt; y = [0, 0, 1, 1, 2] # Three classes\n\n&gt;&gt;&gt; clf = OneVsRestClassifier(estimator=SVC(random_state=0))\n&gt;&gt;&gt; clf.fit(X, y).predict(X)\narray([0, 0, 1, 1, 2])\n</code></pre>\n\n<p>This is all fine. Now with one-hot encoding:</p>\n\n<pre><code>&gt;&gt;&gt; y = LabelBinarizer().fit_transform(y)\n&gt;&gt;&gt; y\narray([[1, 0, 0],\n       [1, 0, 0],\n       [0, 1, 0],\n       [0, 1, 0],\n       [0, 0, 1]])\n</code></pre>\n\n<p>I would expect the label <em>binarizer</em> to only <em>encode</em> the target, but not having an influence on the classifier. However it yields a different result:</p>\n\n<pre><code>&gt;&gt;&gt; clf.fit(X, y).predict(X)\narray([[1, 0, 0],\n       [1, 0, 0],\n       [0, 1, 0],\n       [0, 0, 0],\n       [0, 0, 0]])\n</code></pre>\n\n<p>Notebook on Google Colab (where the same code yields yet a different error, strangely):</p>\n\n<ul>\n<li><a href=\"https://drive.google.com/file/d/13dZ2aVbKTMgPOxj2SLsas2U2mOoKng2M/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/13dZ2aVbKTMgPOxj2SLsas2U2mOoKng2M/view?usp=sharing</a></li>\n</ul>\n"}, {"tags": ["python", "python-2.7", "classname"], "comments": [{"owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 2, "creation_date": 1521667314, "post_id": 49416698, "comment_id": 85835199, "body": "Fix your typo of class definition first..."}, {"owner": {"reputation": 3703, "user_id": 399573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e8e67c6abb4a9c0d8bbb52e0d28416e?s=128&d=identicon&r=PG", "display_name": "gt6989b", "link": "https://stackoverflow.com/users/399573/gt6989b"}, "reply_to_user": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1521688970, "post_id": 49416698, "comment_id": 85841339, "body": "Thank you, was typing from head on auto-think :) not from code -- put in <code>def</code> instead of <code>class</code> -- now fixed."}], "answers": [{"comments": [{"owner": {"reputation": 2851, "user_id": 8003790, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/439b528b13c53ea231f24bb46136c0a1?s=128&d=identicon&r=PG&f=1", "display_name": "IMCoins", "link": "https://stackoverflow.com/users/8003790/imcoins"}, "edited": false, "score": 2, "creation_date": 1521667633, "post_id": 49416786, "comment_id": 85835360, "body": "@liliscent beautiful post at the same time with the exact same named content haha. :p"}, {"owner": {"reputation": 3703, "user_id": 399573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e8e67c6abb4a9c0d8bbb52e0d28416e?s=128&d=identicon&r=PG", "display_name": "gt6989b", "link": "https://stackoverflow.com/users/399573/gt6989b"}, "edited": false, "score": 0, "creation_date": 1521688946, "post_id": 49416786, "comment_id": 85841333, "body": "Thank you, was typing from head on auto-think :) not from code -- put in <code>def</code> instead of <code>class</code> -- now fixed. Very clever, thanks"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 3703, "user_id": 399573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e8e67c6abb4a9c0d8bbb52e0d28416e?s=128&d=identicon&r=PG", "display_name": "gt6989b", "link": "https://stackoverflow.com/users/399573/gt6989b"}, "edited": false, "score": 0, "creation_date": 1521700018, "post_id": 49416786, "comment_id": 85844631, "body": "Glad I could help @gt6989b!"}], "tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": true, "score": 6, "last_activity_date": 1521668404, "last_edit_date": 1521668404, "creation_date": 1521667534, "answer_id": 49416786, "question_id": 49416698, "link": "https://stackoverflow.com/questions/49416698/using-python-class-name-to-define-class-variables/49416786#49416786", "title": "Using Python class name to define class variables", "body": "<blockquote>\n  <p>Instead of explicitly assigning 'MyClass' I would like to use some construct to get the class name.</p>\n</blockquote>\n\n<p>You can use a class decorator combined with the <code>__name__</code> attribute of class objects to accomplish this:</p>\n\n<pre><code>def add_tag(cls):\n    cls.ClassTag = cls.__name__\n    return cls\n\n@add_tag\nclass Foo(object):\n    pass\n\nprint(Foo.ClassTag) # Foo\n</code></pre>\n\n<p>In addition to the above, here are some side notes:</p>\n\n<ul>\n<li><p>As can be seen from the above example, classes are defined using the\n<code>class</code> keyword, not the <code>def</code> keyword. The <code>def</code> keyword is for\ndefining functions. I recommend walking through <a href=\"https://docs.python.org/2/tutorial/index.html\" rel=\"nofollow noreferrer\">the tutorial\nprovided by Python</a>,\nto get  a grasp of Python basics.</p></li>\n<li><p>If you're not working on legacy code, or code that requires a Python 2 library, I highly recommend <a href=\"https://www.python.org/downloads/\" rel=\"nofollow noreferrer\">upgrading to Python 3</a>. Along with the fact that the Python Foundation will stop supporting Python in 2020, Python 3 also fixes many quirks that Python 2 had, as well as provides new, useful features. If you're looking for more info on how to transition from Python 2 to 3, a good place to start would be <a href=\"https://docs.python.org/3.0/whatsnew/3.0.html\" rel=\"nofollow noreferrer\">here</a>.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "is_accepted": false, "score": 4, "last_activity_date": 1521667541, "creation_date": 1521667541, "answer_id": 49416787, "question_id": 49416698, "link": "https://stackoverflow.com/questions/49416698/using-python-class-name-to-define-class-variables/49416787#49416787", "title": "Using Python class name to define class variables", "body": "<p>A simple way is to write a decorator:</p>\n\n<pre><code>def add_tag(cls):\n    cls.ClassTag = cls.__name__\n    return cls\n\n# test\n\n@add_tag\nclass MyClass(object):\n    pass\n\nprint(MyClass.ClassTag)\n</code></pre>\n"}], "owner": {"reputation": 3703, "user_id": 399573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e8e67c6abb4a9c0d8bbb52e0d28416e?s=128&d=identicon&r=PG", "display_name": "gt6989b", "link": "https://stackoverflow.com/users/399573/gt6989b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 49416786, "answer_count": 2, "score": 1, "last_activity_date": 1521688803, "creation_date": 1521667178, "last_edit_date": 1521688803, "question_id": 49416698, "link": "https://stackoverflow.com/questions/49416698/using-python-class-name-to-define-class-variables", "title": "Using Python class name to define class variables", "body": "<p>I have a class</p>\n\n<pre><code>class MyClass(object):\n    ClassTag = '!' + 'MyClass'\n</code></pre>\n\n<p>Instead of explicitly assigning <code>'MyClass'</code> I would like to use some construct to get the class name. If I were inside a class function, I would do something like</p>\n\n<pre><code>@classfunction\ndef Foo(cls):\n    tag = '!' + cls.__class__.__name__\n</code></pre>\n\n<p>but here I am in class scope but not inside any function scope. What would be the correct way to address this?</p>\n\n<p>Thank you very much</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 6037452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5032d92d566cff3e17e56b43358f14?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Kaddoura", "link": "https://stackoverflow.com/users/6037452/jacob-kaddoura"}, "is_accepted": false, "score": 1, "last_activity_date": 1521667668, "creation_date": 1521667668, "answer_id": 49416823, "question_id": 49416690, "link": "https://stackoverflow.com/questions/49416690/python-check-variable-element-for-part-of-a-string/49416823#49416823", "title": "Python check variable, element for part of a string", "body": "<p>Use the in operator</p>\n\n<p><code>if \"Download\" in item:\n     print\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 9145779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8MLum.jpg?s=128&g=1", "display_name": "VICTOR BASU", "link": "https://stackoverflow.com/users/9145779/victor-basu"}, "is_accepted": false, "score": 0, "last_activity_date": 1521669115, "creation_date": 1521669115, "answer_id": 49417115, "question_id": 49416690, "link": "https://stackoverflow.com/questions/49416690/python-check-variable-element-for-part-of-a-string/49417115#49417115", "title": "Python check variable, element for part of a string", "body": "<p>My suggestion to you would be to use <code>try</code> and <code>except</code> in your python code for better results.<br></p>\n\n<pre><code>try :\n   item = orders['item_name']\n   print(item)\n\n   sub = 'Download'\n   print (s for s in item if sub in s)\nexcept:\n   pass\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 8653174, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/c6a77ec8b62e7bdcdd21026e4216bc89?s=128&d=identicon&r=PG&f=1", "display_name": "marklar", "link": "https://stackoverflow.com/users/8653174/marklar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521669115, "creation_date": 1521667140, "question_id": 49416690, "link": "https://stackoverflow.com/questions/49416690/python-check-variable-element-for-part-of-a-string", "title": "Python check variable, element for part of a string", "body": "<p>Im new to Python and am having issues with lists, elements,etc. I have this code:</p>\n\n<pre><code>order_payment = Api.which_api('order_payments', 'None', '26', 'None')\n\n# now that we have info from order_payment, obtain the rest of the vars we need\norder_id      = order_payment['order_id']\n\norder_payment = Api.which_api('order_payments', 'None', '26', 'None')\norders        = Api.which_api('orders', 'None', order_id, 'items')\n\n# your loop\nfor orders in orders['items']:\n    oid  = orders['order_id']\n    item = orders['item_name']\n    print(item)\n\n    sub = 'Download'\n    print (s for s in item if sub in s)\n</code></pre>\n\n<p>When I do print(item) I get this returned:\nNorton Antivirus 2014 - Download - 1 User / 1 PC - 1 Year Subscription</p>\n\n<p>I want to check this variable to see if it has Download in it(like this one does) I looked on here and found the code Im trying(sub = 'Download') but that is not working. Basically Im trying to set up a if condition. If this element 'item_name' has 'Download' in it do this. How do i check the vairable for this</p>\n"}, {"tags": ["python", "numpy", "where", "nan"], "comments": [{"owner": {"reputation": 2686, "user_id": 1470009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc23752c44899038b6b6698c321f86f6?s=128&d=identicon&r=PG", "display_name": "Ankur Ankan", "link": "https://stackoverflow.com/users/1470009/ankur-ankan"}, "edited": false, "score": 0, "creation_date": 1521667237, "post_id": 49416666, "comment_id": 85835165, "body": "The value doesn&#39;t seem to be NaN. It can be empty str. Maybe try: <code>df_EVENT5_28[&#39;colC&#39;] = np.where((df_EVENT5_28[&#39;colA&#39;] == &#39;&#39;) &amp; (df_EVENT5_28[&#39;colB&#39;] == &#39;CI&#39;), &#39;Incomplete&#39;, &#39;Complete&#39;)</code> `"}], "answers": [{"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 1, "last_activity_date": 1521667292, "creation_date": 1521667292, "answer_id": 49416729, "question_id": 49416666, "link": "https://stackoverflow.com/questions/49416666/python-pandas-dataframe-if-cola-is-blank-and-colb-contains-string-then-new-colu/49416729#49416729", "title": "Python: Pandas Dataframe If ColA is Blank and ColB Contains String then New Column Says String", "body": "<p><code>NaN == NaN</code> evaluate as False.</p>\n\n<p>Use <code>isnull()</code></p>\n\n<pre><code> np.where((df_EVENT5_28['colA'].isnull()) &amp; (df_EVENT5_28['colB'] == 'CI'), 'Incomplete', 'Complete')\n</code></pre>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521732977, "creation_date": 1521667039, "last_edit_date": 1521732977, "question_id": 49416666, "link": "https://stackoverflow.com/questions/49416666/python-pandas-dataframe-if-cola-is-blank-and-colb-contains-string-then-new-colu", "title": "Python: Pandas Dataframe If ColA is Blank and ColB Contains String then New Column Says String", "body": "<p>EDITED QUESTION</p>\n\n<hr>\n\n<p>I have the sample table below: </p>\n\n<pre><code>colA        colB\nABC         IAH\nDEADFSLJ    CI\n            CI\n            CI\nAFDSJLKA222 CI\n23940281    CI\n</code></pre>\n\n<p>I want to employ the following logic: \nIf colA is blank / empty string and colB is CI then create a new column (ColC) that says Incomplete.  Otherwise, new column says Complete.  </p>\n\n<p>The logic should produce the following table: </p>\n\n<pre><code>colA        colB    colC\nABC         IAH     Complete\nDEADFSLJ    CI      Complete\n            CI      Incomplete\n            CI      Incomplete \nAFDSJLKA222 CI      Complete \n23940281    CI      Complete \n</code></pre>\n\n<p>Below is the code I tried: </p>\n\n<pre><code>df_EVENT5_28['colC'] = np.where((df_EVENT5_28['colA'] == '') &amp; (df_EVENT5_28['colB'] == 'CI'), 'Incomplete', 'Complete')\n</code></pre>\n\n<p>The code runs but produces the following error: TypeError: cannot compare a dtyped [bool] array with a scalar of type [bool]</p>\n\n<p>Thoughts? </p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 2686, "user_id": 1470009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc23752c44899038b6b6698c321f86f6?s=128&d=identicon&r=PG", "display_name": "Ankur Ankan", "link": "https://stackoverflow.com/users/1470009/ankur-ankan"}, "edited": false, "score": 1, "creation_date": 1521667321, "post_id": 49416646, "comment_id": 85835202, "body": "I think if you do add <code>plt.show()</code> before the difficult_job call, the plot would be shown before the next line is executed."}, {"owner": {"reputation": 43, "user_id": 1798743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jAkDJ.jpg?s=128&g=1", "display_name": "halidziya", "link": "https://stackoverflow.com/users/1798743/halidziya"}, "reply_to_user": {"reputation": 2686, "user_id": 1470009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc23752c44899038b6b6698c321f86f6?s=128&d=identicon&r=PG", "display_name": "Ankur Ankan", "link": "https://stackoverflow.com/users/1470009/ankur-ankan"}, "edited": false, "score": 0, "creation_date": 1521668069, "post_id": 49416646, "comment_id": 85835580, "body": "It shows but it becomes unresponsive"}, {"owner": {"reputation": 2686, "user_id": 1470009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc23752c44899038b6b6698c321f86f6?s=128&d=identicon&r=PG", "display_name": "Ankur Ankan", "link": "https://stackoverflow.com/users/1470009/ankur-ankan"}, "edited": false, "score": 0, "creation_date": 1521668332, "post_id": 49416646, "comment_id": 85835705, "body": "I don&#39;t know of any way to avoid that but another possible way might be to save the plot as an image file."}, {"owner": {"reputation": 1068, "user_id": 8300815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghU5B.png?s=128&g=1", "display_name": "WhoIsJack", "link": "https://stackoverflow.com/users/8300815/whoisjack"}, "edited": false, "score": 0, "creation_date": 1521941468, "post_id": 49416646, "comment_id": 85946033, "body": "I assume you&#39;re using IPython, as otherwise <code>plt.show()</code> would block execution until the plot window is closed. A very simplistic solution could be to add <code>plt.waitforbuttonpress(timeout=-1)</code> after <code>plt.show()</code>, which should block execution until you press a key or click your mouse in the plot. Note that this may not work with all backends (it works with qt) and that it may trigger a deprecation warning (which can be ignored). As for more sophisticated solutions, threading won&#39;t work (matplotlib is not thread safe) but you could maybe do something with multiprocessing."}], "owner": {"reputation": 43, "user_id": 1798743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jAkDJ.jpg?s=128&g=1", "display_name": "halidziya", "link": "https://stackoverflow.com/users/1798743/halidziya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1521666978, "creation_date": 1521666978, "question_id": 49416646, "link": "https://stackoverflow.com/questions/49416646/python-plot-and-heavy-computation", "title": "Python plot and heavy computation", "body": "<p>Python matplotlib interactive plots become unresponsive if there is heavy computation after the plot. Is there a way to create an additional thread for qt window so that the job will not block during interaction with the plot?</p>\n\n<p>E.g.</p>\n\n<pre><code>plt.scatter(x,y)\ndifficult_job()\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "networkx", "directed-acyclic-graphs", "digraphs"], "answers": [{"comments": [{"owner": {"reputation": 2115, "user_id": 3815840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ec24ea87706ef57e19676096623a3629?s=128&d=identicon&r=PG&f=1", "display_name": "Cl&#233;ment F", "link": "https://stackoverflow.com/users/3815840/cl%c3%a9ment-f"}, "edited": false, "score": 0, "creation_date": 1521667890, "post_id": 49416795, "comment_id": 85835491, "body": "It does work in a breadth first manner, but I&#39;m afraid it does not return an iterator on all edges..."}, {"owner": {"reputation": 617, "user_id": 6312276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1e83b215dd0cf1643c588e8ac68fc5?s=128&d=identicon&r=PG&f=1", "display_name": "alessandrocb", "link": "https://stackoverflow.com/users/6312276/alessandrocb"}, "reply_to_user": {"reputation": 2115, "user_id": 3815840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ec24ea87706ef57e19676096623a3629?s=128&d=identicon&r=PG&f=1", "display_name": "Cl&#233;ment F", "link": "https://stackoverflow.com/users/3815840/cl%c3%a9ment-f"}, "edited": false, "score": 0, "creation_date": 1521669027, "post_id": 49416795, "comment_id": 85836000, "body": "Edited, see if this helps you."}], "tags": [], "owner": {"reputation": 617, "user_id": 6312276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1e83b215dd0cf1643c588e8ac68fc5?s=128&d=identicon&r=PG&f=1", "display_name": "alessandrocb", "link": "https://stackoverflow.com/users/6312276/alessandrocb"}, "is_accepted": false, "score": 0, "last_activity_date": 1521669008, "last_edit_date": 1521669008, "creation_date": 1521667585, "answer_id": 49416795, "question_id": 49416636, "link": "https://stackoverflow.com/questions/49416636/networkx-how-to-iterate-on-all-edges-of-a-digraph-in-a-breadth-first-manner/49416795#49416795", "title": "Networkx: How to iterate on ALL edges of a DiGraph, in a breadth-first manner?", "body": "<p>Maybe using NetworkX bfs_predecessors is better for your case, since it returns a iterator of predecessors. You can find the documentation for this method <a href=\"https://networkx.github.io/documentation/stable/reference/algorithms/generated/networkx.algorithms.traversal.breadth_first_search.bfs_predecessors.html#networkx.algorithms.traversal.breadth_first_search.bfs_predecessors\" rel=\"nofollow noreferrer\">here</a> with this example.</p>\n\n<pre><code>&gt;&gt;&gt; G = nx.path_graph(3)\n&gt;&gt;&gt; print(dict(nx.bfs_predecessors(G, 0)))\n{1: 0, 2: 1}\n&gt;&gt;&gt; H = nx.Graph()\n&gt;&gt;&gt; H.add_edges_from([(0, 1), (0, 2), (1, 3), (1, 4), (2, 5), (2, 6)])\n&gt;&gt;&gt; dict(nx.bfs_predecessors(H, 0))\n{1: 0, 2: 0, 3: 1, 4: 1, 5: 2, 6: 2}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>If you want to find all predecessors from a node, you need to iteratively run NetworkX <a href=\"https://networkx.github.io/documentation/networkx-1.10/reference/generated/networkx.DiGraph.predecessors.html\" rel=\"nofollow noreferrer\">predecessors</a> and print the nodes, the following example do that.</p>\n\n<pre><code>import networkx as nx\n\nG = nx.DiGraph()\nG.add_nodes_from([1,2,3])\nG.add_edges_from([(2, 1), (3, 1), (2, 3)])\n\ndef activate_node(g, start_node):          \n    stack = [start_node]\n\n    while stack:\n        node = stack.pop()\n        preds = g.predecessors(node)\n        stack += preds\n        print('%s -&gt; %s' % (node, preds))\n\nactivate_node(G, 1)\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>1 -&gt; [2, 3]\n3 -&gt; [2]\n2 -&gt; []\n2 -&gt; []\n</code></pre>\n\n<p>The code above was adapted from this <a href=\"https://stackoverflow.com/questions/41799844/python-networkx-search-predecessor-nodes-maximum-depth-exceeded\">question</a>.</p>\n"}], "owner": {"reputation": 2115, "user_id": 3815840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ec24ea87706ef57e19676096623a3629?s=128&d=identicon&r=PG&f=1", "display_name": "Cl&#233;ment F", "link": "https://stackoverflow.com/users/3815840/cl%c3%a9ment-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 932, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521669008, "creation_date": 1521666947, "last_edit_date": 1521667789, "question_id": 49416636, "link": "https://stackoverflow.com/questions/49416636/networkx-how-to-iterate-on-all-edges-of-a-digraph-in-a-breadth-first-manner", "title": "Networkx: How to iterate on ALL edges of a DiGraph, in a breadth-first manner?", "body": "<p>I have a networkx DiGraph (not necessarily acyclic). All nodes have a common predecessor : the source node 0.</p>\n\n<p>I want to be able to edit the attributes of all edges, in a breadth first order. To do so, I would like to be able to iterate on ALL edges, starting from source, in a breadth-first manner.</p>\n\n<p>bfs_edges allows classic breadth-first search, which leads to the following issue: if a node has n direct predecessors, only one edge will appear in the iterator, instead of n.</p>\n\n<p>My edges :  </p>\n\n<pre><code>([(0.0, 1), (1, 2), (1, 7), (2, 3), (2, 4), (3, 5), (3, 6), (4, 5), (4, 6), (5, 7), (6, 7)])\n</code></pre>\n\n<p>what bfs_edges returns :  </p>\n\n<pre><code>for edge in nx.bfs_edges(digraph,0):\nprint(edge[0], edge[1])\n\n0 1\n1 2\n1 7\n2 3\n2 4\n3 5\n3 6\n</code></pre>\n\n<p>Can anyone help? Thanks!</p>\n"}, {"tags": ["python", "struct", "protocol-buffers", "dialogflow-es"], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 2553790, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/765641d19a47a950a593622f850cea6f?s=128&d=identicon&r=PG", "display_name": "timu", "link": "https://stackoverflow.com/users/2553790/timu"}, "is_accepted": false, "score": 6, "last_activity_date": 1521701609, "creation_date": 1521701609, "answer_id": 49422316, "question_id": 49416563, "link": "https://stackoverflow.com/questions/49416563/how-to-add-parameters-to-dialogflow-event-in-python/49422316#49422316", "title": "How to add parameters to Dialogflow event in python", "body": "<p>found the solution. <code>parameters</code> needs to be a google.protobuf.Struct so something like below works</p>\n\n<pre><code>from google.protobuf import struct_pb2\n\nparameters = struct_pb2.Struct()\nparameters[\"result_guid\"] = \"49A8608C-4854-4964-81C3-0A75F912B994\"\nevent_input = dialogflow.types.EventInput(name=event_name, parameters=parameters, language_code=language_code)\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 2553790, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/765641d19a47a950a593622f850cea6f?s=128&d=identicon&r=PG", "display_name": "timu", "link": "https://stackoverflow.com/users/2553790/timu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1521701609, "creation_date": 1521666587, "question_id": 49416563, "link": "https://stackoverflow.com/questions/49416563/how-to-add-parameters-to-dialogflow-event-in-python", "title": "How to add parameters to Dialogflow event in python", "body": "<p>I'm trying to send an EventInput using python dialogflow client v2 (<a href=\"https://dialogflow.com/docs/reference/api-v2/rest/v2beta1/projects.agent.sessions/detectIntent#eventinput\" rel=\"nofollow noreferrer\">https://dialogflow.com/docs/reference/api-v2/rest/v2beta1/projects.agent.sessions/detectIntent#eventinput</a>) but couldn't set parameters. </p>\n\n<p>Setting it to an object like\n<code>{\"result_guid\": \"49A8608C-4854-4964-81C3-0A75F912B994\"}</code> returns an error <code>ValueError: Protocol message Struct has no \"result_guid\" field.</code></p>\n\n<p>How can this be solved?</p>\n"}, {"tags": ["python", "pandas", "datetime", "pandas-groupby"], "answers": [{"tags": [], "owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "is_accepted": false, "score": 0, "last_activity_date": 1521679980, "creation_date": 1521679980, "answer_id": 49418844, "question_id": 49416548, "link": "https://stackoverflow.com/questions/49416548/cant-make-pandas-group-by-timeframe/49418844#49418844", "title": "Can&#39;t make pandas group by timeframe", "body": "<p>Your <code>groupby</code> line is missing a <code>)</code>, and pandas 0.22 doesn't recognize the frequency <code>T, min</code>. Try this:</p>\n\n<pre><code>df.set_index('date_time').groupby(pd.Grouper(freq='min'))['tempC'].mean()\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 9421244, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "justdata", "link": "https://stackoverflow.com/users/9421244/justdata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521679980, "creation_date": 1521666519, "question_id": 49416548, "link": "https://stackoverflow.com/questions/49416548/cant-make-pandas-group-by-timeframe", "title": "Can&#39;t make pandas group by timeframe", "body": "<p>thanks in advance for any input....</p>\n\n<p>I'm trying to group some temperature readings together so I can compare two sets of readings. Below I'm trying to do it for a minute, but it doesn't matter if it's an hour.</p>\n\n<p>The data seems to come through OK, just won't group properly. It just lists out all the temperature readings (many per minute).</p>\n\n<p>The data is here : <a href=\"https://github.com/uilfut/pi_code/blob/master/tinydb_environment.json\" rel=\"nofollow noreferrer\">https://github.com/uilfut/pi_code/blob/master/tinydb_environment.json</a></p>\n\n<p>'date_time' is the datetime column</p>\n\n<p>'tempC' is the temperature column</p>\n\n<pre><code>from pandas.io.json import json_normalize\nimport datetime as dt\nimport numpy as np\nwith open('/home/data.json') \nas f:\n    data = json.load(f)\n\ndf = pd.DataFrame.from_dict({(i, j): data[i][j] for i in data.keys() \nfor j in data[i].keys()}, orient='index')\ndf['data_source'] = df.index.droplevel(level=1)\ndf.index = df.index.droplevel(level=0)\n\ndf['date_time'] = pd.to_datetime(df['date_time'])\n\n# this next line doesn't work - \ndf.set_index('date_time').groupby(pd.Grouper(freq='T, min')['tempC'].mean()\n\nprint(df.head(10))\n</code></pre>\n\n<p>I also tried</p>\n\n<pre><code># df['time'] = df['date_time'].dt.time\n# df.groupby(pd.TimeGrouper('5Min'))['tempC'].mean().dropna()\n# df.set_index('date_time').groupby(pd.TimeGrouper('1hour'))\n['tempC'].mean().dropna()\n# df.set_index('date_time').groupby(pd.Grouper(freq='T, min'))\n['tempC'].mean()\n# df.set_index('time').resample(\"H\").mean()\n# df.set_index('date_time').resample('5min', how=np.mean)\n</code></pre>\n\n<p>Hope it's something easy for someone!</p>\n\n<p>Many thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2202, "user_id": 3179169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff0167d99069678064f633be190b386?s=128&d=identicon&r=PG&f=1", "display_name": "clinomaniac", "link": "https://stackoverflow.com/users/3179169/clinomaniac"}, "edited": false, "score": 1, "creation_date": 1521666749, "post_id": 49416538, "comment_id": 85834945, "body": "Does the variable have the absolute or relative path? Check the value of the variable to see if it is valid."}, {"owner": {"reputation": 13, "user_id": 9530913, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "William Jones", "link": "https://stackoverflow.com/users/9530913/william-jones"}, "reply_to_user": {"reputation": 2202, "user_id": 3179169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff0167d99069678064f633be190b386?s=128&d=identicon&r=PG&f=1", "display_name": "clinomaniac", "link": "https://stackoverflow.com/users/3179169/clinomaniac"}, "edited": false, "score": 0, "creation_date": 1521667539, "post_id": 49416538, "comment_id": 85835317, "body": "@clinomaniac the variable has absolute path"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9530913, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "William Jones", "link": "https://stackoverflow.com/users/9530913/william-jones"}, "edited": false, "score": 0, "creation_date": 1521666858, "post_id": 49416574, "comment_id": 85834998, "body": "thanks for the response but still returning an empty list"}], "tags": [], "owner": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "is_accepted": true, "score": 0, "last_activity_date": 1521667545, "last_edit_date": 1521667545, "creation_date": 1521666629, "answer_id": 49416574, "question_id": 49416538, "link": "https://stackoverflow.com/questions/49416538/glob-glob-returns-empty-list-when-passed-a-variable/49416574#49416574", "title": "glob.glob returns empty list when passed a variable", "body": "<p>If it's a relative path, you need to prepend <code>./</code> first. It's not python specific, it's Linux related.</p>\n\n<p><code>files = glob.glob('./excelfolders_path/*/export_dashboard_*_*')</code></p>\n\n<p>EDIT:<br>\nJust noticed that <code>excelfolders_path</code> is a variable. You can't use it like that, to render a variable in a string, you have to do something like that:<br>\n<code>files = glob.glob('{}/*/export_dashboard_*_*'.format(excelfolders_path))</code></p>\n\n<p>or  </p>\n\n<p><code>files = glob.glob('./*/export_dashboard_*_*')</code></p>\n\n<p>Both should do the job, the first will use the absolute path and the second the relative path.</p>\n"}], "owner": {"reputation": 13, "user_id": 9530913, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "William Jones", "link": "https://stackoverflow.com/users/9530913/william-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2172, "favorite_count": 0, "accepted_answer_id": 49416574, "answer_count": 1, "score": 0, "last_activity_date": 1521673059, "creation_date": 1521666481, "last_edit_date": 1521673059, "question_id": 49416538, "link": "https://stackoverflow.com/questions/49416538/glob-glob-returns-empty-list-when-passed-a-variable", "title": "glob.glob returns empty list when passed a variable", "body": "<p>glob.glob returns an empty list when passed a variable, instead of absolute path. But when I type in the complete absolute path, it works fine. Following is my code. Any workaround for this:</p>\n\n<pre><code>import os\nimport glob\nexcelfolders_path = os.getcwd()\nfiles = glob.glob('excelfolders_path/*/export_dashboard_*_*')\nprint files\n</code></pre>\n"}, {"tags": ["python", "parsing", "pdf", "web-scraping"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9468461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7809aa4ddca79d3305b5a27059d66a84?s=128&d=identicon&r=PG&f=1", "display_name": "Will Simpson", "link": "https://stackoverflow.com/users/9468461/will-simpson"}, "edited": false, "score": 0, "creation_date": 1521726183, "post_id": 49416700, "comment_id": 85862019, "body": "So I am new to Python and have been asked to try and create a solution with no real background on the language, What would be the benefit to having the position if the amount of text in each cell can vary? I don&#39;t see how I would be able to dynamically pull the data and load it into a new DB with a similar structure. Thanks for the help!"}, {"owner": {"reputation": 756, "user_id": 3043308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5125d1e8469bc87c02d8a8443c3d1052?s=128&d=identicon&r=PG&f=1", "display_name": "J. Owens", "link": "https://stackoverflow.com/users/3043308/j-owens"}, "reply_to_user": {"reputation": 11, "user_id": 9468461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7809aa4ddca79d3305b5a27059d66a84?s=128&d=identicon&r=PG&f=1", "display_name": "Will Simpson", "link": "https://stackoverflow.com/users/9468461/will-simpson"}, "edited": false, "score": 0, "creation_date": 1521730504, "post_id": 49416700, "comment_id": 85865318, "body": "The x-coordinate of the text will tell you which column the text belongs to. The y-coordinate along with some logic will tell you which row the text belongs to. What is the structure of the DB you envision?"}, {"owner": {"reputation": 756, "user_id": 3043308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5125d1e8469bc87c02d8a8443c3d1052?s=128&d=identicon&r=PG&f=1", "display_name": "J. Owens", "link": "https://stackoverflow.com/users/3043308/j-owens"}, "reply_to_user": {"reputation": 11, "user_id": 9468461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7809aa4ddca79d3305b5a27059d66a84?s=128&d=identicon&r=PG&f=1", "display_name": "Will Simpson", "link": "https://stackoverflow.com/users/9468461/will-simpson"}, "edited": false, "score": 0, "creation_date": 1521747345, "post_id": 49416700, "comment_id": 85875972, "body": "I updated my answer to demonstrate mining the PDF. Looks like the text in one column is sometimes part of the same text block as text in another column. You&#39;ll probably have to add some code to my example to get exactly what you want."}], "tags": [], "owner": {"reputation": 756, "user_id": 3043308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5125d1e8469bc87c02d8a8443c3d1052?s=128&d=identicon&r=PG&f=1", "display_name": "J. Owens", "link": "https://stackoverflow.com/users/3043308/j-owens"}, "is_accepted": false, "score": 0, "last_activity_date": 1521747160, "last_edit_date": 1521747160, "creation_date": 1521667180, "answer_id": 49416700, "question_id": 49416500, "link": "https://stackoverflow.com/questions/49416500/python-parsing-pdf-data-into-a-table-format/49416700#49416700", "title": "Python - Parsing PDF Data into a Table Format", "body": "<p>It sounds like having the position of the text on the page would help you greatly. I recommend using <a href=\"http://pymupdf.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">PyMuPDF</a> to extract the text with position data so you can find a row.</p>\n\n<p>Here's a code sample to get a *.csv file of text with positions. That can get you started on mining the information with Python hopefully.</p>\n\n<pre><code>#!python3.3\n\"\"\" Use PyMuPDF to extract text to *.csv file. \"\"\"\nimport csv\nimport json\nimport os\nimport sys\n\nimport fitz\n\nassert len(sys.argv) == 2, 'Pass file name as parameter'\n\nsrcfilename = sys.argv[1]\nassert os.path.isfile(srcfilename), 'File {} does not exist'.format(srcfilename)\n\ndstfilename = '{}.csv'.format(srcfilename)\nwith open(dstfilename, 'w', encoding='utf-8', errors='ignore', newline='') as dstfile:\n    writer = csv.writer(dstfile)\n    writer.writerow([\n        'PAGE',\n        'X1',\n        'Y1',\n        'X2',\n        'Y2',\n        'TEXT',\n    ])\n    document = fitz.open(srcfilename)\n    for page_number in range(document.pageCount):\n        text_dict = json.loads(document.getPageText(page_number, output='json'))\n        for block in text_dict['blocks']:\n            if block['type'] != 'text':\n                continue\n            for line in block['lines']:\n                for span in line['spans']:\n                    writer.writerow([\n                        page_number,\n                        span['bbox'][0],\n                        span['bbox'][1],\n                        span['bbox'][2],\n                        span['bbox'][3],\n                        span['text'],\n                    ])\n    document.close()\n</code></pre>\n\n<p>Here's some code I wrote to mine your PDF and get things into a *.csv file that is better formatted:</p>\n\n<pre><code>#!python3.3\nimport collections\nimport csv\nimport json\nimport os\n\nimport fitz  # PyMuPDF package\n\n\nclass MemberEligibility(object):\n\n    \"\"\" Row in Member Eligibility Data Contents Guide table. \"\"\"\n\n    def __init__(self):\n        \"\"\"\n        Initialize object. I've made all fields strings but you may want some to\n        be dates or integers.\n        \"\"\"\n        self.col = ''\n        self.element = ''\n        self.data_element_name = ''\n        self.date_modified = ''\n        self.fmt = ''\n        self.length = ''\n        self.description = ''\n        self.comments = ''\n        self.condition = ''\n        self.recommended_threshold = ''\n\n\ndef get_sorted_list(document, page_number):\n    \"\"\"\n    Get text on specified page of document in sorted list. Each list item is a\n    (top-left y-coordinate, top-left x-coordinate, text) tuple. List sorted\n    top-to-bottom and then left-to-right. Coordinates converted to integers so\n    text with slightly different y-coordinates line up.\n    \"\"\"\n    text_dict = json.loads(document.getPageText(page_number, output='json'))\n    text_list = []\n    for block in text_dict['blocks']:\n        if block['type'] == 'text':\n            for line in block['lines']:\n                for span in line['spans']:\n                    text_list.append((\n                        int(span['bbox'][1]),  # Top-left y-coordinate\n                        int(span['bbox'][0]),  # Top-left x-coordinate\n                        span['text'],          # Text itself\n                    ))\n    text_list.sort()\n    return text_list\n\n\ndef main():\n    # Downloaded PDF to same folder as this script\n    script_dir = os.path.dirname(os.path.abspath(__file__))\n    pdf_filename = os.path.join(\n        script_dir,\n        'CT_DSG_-12132014_version_1.2_(with_clarifications).pdf'\n    )\n\n    # Mine PDF for data\n    document = fitz.open(pdf_filename)\n    # Using OrderedDict so iteration will occur in same order as rows appear in\n    # PDF\n    member_eligibility_dict = collections.OrderedDict()\n    for page_number in range(document.pageCount):\n        # Page numbers are zero-based. I'm only looking at p. 11 of PDF here.\n        if 10 &lt;= page_number &lt;= 10:\n            text_list = get_sorted_list(document, page_number)\n            for y, x, text in text_list:\n                if 115 &lt; y &lt; 575:\n                    # Only look at text whose y-coordinates are within the data\n                    # portion of the table\n                    if 25 &lt; x &lt; 72:\n                        # Assuming one row of text per cell in this column but\n                        # this doesn't appear to hold on p. 10 of PDF so may\n                        # need to be modified if you're going to do whole table\n                        row = MemberEligibility()\n                        row.col = text\n                        member_eligibility_dict[row.col] = row\n                    elif 72 &lt; x &lt; 118:\n                        row.element += text\n                    elif 118 &lt; x &lt; 175:\n                        row.data_element_name += text\n                    elif 175 &lt; x &lt; 221:\n                        row.date_modified += text\n                    elif 221 &lt; x &lt; 268:\n                        row.fmt += text\n                    elif 268 &lt; x &lt; 315:\n                        row.length += text\n                    elif 315 &lt; x &lt; 390:\n                        row.description += text\n                    elif 390 &lt; x &lt; 633:\n                        row.comments += text\n                    elif 633 &lt; x &lt; 709:\n                        row.condition += text\n                    elif 709 &lt; x &lt; 765:\n                        row.recommended_threshold += text\n    document.close()\n\n    # Write data to *.csv\n    csv_filename = os.path.join(script_dir, 'EligibilityDataContentsGuide.csv')\n    with open(csv_filename, 'w', encoding='utf-8', errors='ignore', newline='') as f:\n        writer = csv.writer(f)\n        writer.writerow([\n            'Col',\n            'Element',\n            'Data Element Name',\n            'Date Modified',\n            'Format',\n            'Length',\n            'Description',\n            'Element Submission Guideline Comments',\n            'Condition (Denominator)',\n            'Recommended Threshold'\n        ])\n        for row in member_eligibility_dict.values():\n            writer.writerow([\n                row.col,\n                row.element,\n                row.data_element_name,\n                row.date_modified,\n                row.fmt,\n                row.length,\n                row.description,\n                row.comments,\n                row.condition,\n                row.recommended_threshold\n            ])\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>You'll probably have to do a little more work to get exactly what you want.</p>\n"}], "owner": {"reputation": 11, "user_id": 9468461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7809aa4ddca79d3305b5a27059d66a84?s=128&d=identicon&r=PG&f=1", "display_name": "Will Simpson", "link": "https://stackoverflow.com/users/9468461/will-simpson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2076, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521747160, "creation_date": 1521666337, "question_id": 49416500, "link": "https://stackoverflow.com/questions/49416500/python-parsing-pdf-data-into-a-table-format", "title": "Python - Parsing PDF Data into a Table Format", "body": "<p>I am trying to duplicate the data found in the table within the PDF here: <a href=\"http://www.ct.gov/hix/lib/hix/CT_DSG_-12132014_version_1.2_%28with_clarifications%29.pdf\" rel=\"nofollow noreferrer\">http://www.ct.gov/hix/lib/hix/CT_DSG_-12132014_version_1.2_%28with_clarifications%29.pdf</a></p>\n\n<p>My current code is pulling just the second page of the first table, which is page 11 (labeled page 2) in the document. Here is the code I am using:</p>\n\n<pre><code>import io, re\nimport PyPDF2\nimport requests\n\nurl = 'http://www.ct.gov/hix/lib/hix/CT_DSG_-12132014_version_1.2_%28with_clarifications%29.pdf'\n\nr = requests.get(url)\nf = io.BytesIO(r.content)\n\nreader = PyPDF2.PdfFileReader(f)\ncontents = reader.getPage(10).extractText()\n\ndata = re.sub( r\"([A-Z])\", r\" \\1\", contents).split()\n\ncsv = open('AWStest.csv', 'w')\ncsv.write(contents)\ncsv.close()\n</code></pre>\n\n<p>I am currently able to pull the data in a rough CSV format but have not been able to figure out how to parse the data to allow for me to store it to match the table it was scraped from. This is how it looks currently, with all spaced being line breaks in the CSV format:</p>\n\n<p>ColElement\nData\nElement\nNameDate\nModifiedFormatLengthDescriptionElement\nSubmission\nGuideline\nComments\nCondition\n(Denominator)\nRecommended\nThreshold\nMember\nEligibility\nDataContents\nGuide\n12/5/2013\n3ME003Insurance\nTypeCode/Product\n4/1/2013Lookup\nTable</p>\n\n<p>Text\n2Type\n/Product\nIdentification\nCode\nReport\nthe\ncodethat\ndefines\nthe\ntype\nofinsurance\nunder\nwhich\nthis\nmember's\neligibility\nismaintained.\nEXAMPLE:\nHM=HMO\nCode\nDescription\n9Self\npay\n11Other\nNon\nFederal\nPrograms\n*(use\nofthis\nvalue\nrequires\ndisclosure\ntoDataManager\nprior\ntosubmission)\n12Preferred\nProvider\nOrganization\n(PPO)\n*13Point\nofService\n(POS)\n*14Exclusive\nProvider\nOrganization\n(EPO)\n*15Indemnity\nInsurance\n<em>16Health\nMaintenance\nOrganization\n(HMO)\nMedicare\nRisk\n(Use\ntoreport\nMedicare\nPartC/Medicare\nAdvantage\nPlans)</em>\n17Dental\nMaintenance\nOrganization\n(DMO)\n*96Husky\nHealth\nA97Husky\nHealth\nB98Husky\nHealth\nC99Husky\nHealth\nDAMAutomobile\nMedical\n*CHChampus\n(now\nTRICARE)\n*DSDisability\n*HMHealth\nMaintenance\nOrganization\n*LMLiability\nMedical\n<em>MAMedicare\nPartA</em>(Medicare\nFeefor\nService\nonly)\nMBMedicare\nPartB*(Medicare\nFeefor\nService\nonly)\nMCMedicaid\n*MDMedicare\nPartDOFOther\nFederal\nProgram\n<em>(use\nofthis\nvalue\nrequires\ndisclosure\ntoDataManager\nprior\ntosubmission)\nTVTitle\nV</em>VAVeterans\nAffairs\nPlan\n*WCWorkers'\nCompensation\n*ZZMutually\nDefined\n*(use\nofthis\nvalue\nrequires\ndisclosure\ntoDataManager\nprior\ntosubmission)\nAll96.0%</p>\n\n<p>This sample data represents the header rows and the first line of data. I have been able to break up the words based on capitalization, but unfortunately it breaks up the fully capitalized words into individual letters as well. I used this code:</p>\n\n<pre><code>fcsv = open('AWStest.csv', 'r')\n\nfor line in fcsv.readlines():\n    line = line.strip()\n    line.split('[a-zA-Z][^A-Z]*')\n    print(re.findall('[A-Z][^A-Z]*', line))\n</code></pre>\n\n<p>I need help figuring out the best way to reproduce this full table in a format that will allow me to load it into a NoSQL database and query the individual row's requirements to produce reports. What is the best way to add to my code in order to do this? Is there a better way to go about scrapping the PDF in a more accurate format?</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 2671, "user_id": 1099237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1efff11270d3da94fe6be7d745c52da6?s=128&d=identicon&r=PG", "display_name": "omatai", "link": "https://stackoverflow.com/users/1099237/omatai"}, "is_accepted": false, "score": 0, "last_activity_date": 1521673343, "creation_date": 1521673343, "answer_id": 49417899, "question_id": 49416498, "link": "https://stackoverflow.com/questions/49416498/how-to-reinstall-tensorflow-whl-file-built-from-source/49417899#49417899", "title": "How to reinstall tensorflow .whl file built from source", "body": "<p>Not sure that it's the \"best\" way, but so long as you have the original <code>.whl</code> file, you can <code>pip3 uninstall tensorflow-&lt;original&gt;.whl</code> and then <code>pip3 install tensorflow-&lt;changed&gt;.whl</code>. The two filenames will be the same, but the process will work.</p>\n\n<p>In my case, rather than spend several hours rebuilding the original Tensorflow <code>.whl</code> installer from source, I recovered it from Windows Explorer's in-built \"Previous Versions\" (<a href=\"https://en.wikipedia.org/wiki/Shadow_Copy\" rel=\"nofollow noreferrer\">shadow copy</a>) facility.</p>\n"}], "owner": {"reputation": 2671, "user_id": 1099237, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1efff11270d3da94fe6be7d745c52da6?s=128&d=identicon&r=PG", "display_name": "omatai", "link": "https://stackoverflow.com/users/1099237/omatai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 702, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521673343, "creation_date": 1521666327, "question_id": 49416498, "link": "https://stackoverflow.com/questions/49416498/how-to-reinstall-tensorflow-whl-file-built-from-source", "title": "How to reinstall tensorflow .whl file built from source", "body": "<p>I have been <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/cmake\" rel=\"nofollow noreferrer\">compiling TensorFlow from source for Windows</a> without any problems until now. In recent days, I cloned the r1.6.0 release, and set about building it for the GPU I have acquired. It built fine, the tutorial sample ran fine, but there was a version incompatibility because I somehow built Tensorflow using CUDA Toolkit 9.1 and tried to deploy it on a target PC with CUDA 9.0.</p>\n\n<p>Regardless of whether I upgrade my build PC or downgrade the target PC, the <code>.whl</code> file produced by the build process will yield the same filename, and conceal all the version details. If I downgrade my build PC (my preference), when I try to <code>pip3 install tensorflow_gpu...etc.whl</code>, it essentially says that I'm using updated versions, and so does not change the installation. Trying <code>--force-reinstall</code> has no apparent effect either.</p>\n\n<p>How can I get rid of everything installed by a \"bad\" <code>.whl</code> installation, and replace it with a \"good\" one?</p>\n"}, {"tags": ["python", "regex", "bioinformatics", "biopython"], "comments": [{"owner": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "edited": false, "score": 0, "creation_date": 1521666413, "post_id": 49416476, "comment_id": 85834787, "body": "Hey @Jithin, you can probably do this in a simpler way. Will the breaking line always start with <code>Query=lcl|...</code>?"}, {"owner": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "edited": false, "score": 0, "creation_date": 1521666456, "post_id": 49416476, "comment_id": 85834805, "body": "Also, do you want each chunk as a big string in the list? Or do you want more granularity than that?"}, {"owner": {"reputation": 1148, "user_id": 600882, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/maVZp.jpg?s=128&g=1", "display_name": "Scott Colby", "link": "https://stackoverflow.com/users/600882/scott-colby"}, "edited": false, "score": 0, "creation_date": 1521672441, "post_id": 49416476, "comment_id": 85837235, "body": "The <a href=\"https://linux.die.net/man/1/split\" rel=\"nofollow noreferrer\">split</a> command might be useful here if you don&#39;t mind preprocessing your data."}, {"owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1521681544, "post_id": 49416476, "comment_id": 85839571, "body": "Have you considered using an existing wrapper for NCBI BLAST query API? <a href=\"http://biopython.org/DIST/docs/api/Bio.Blast-module.html\" rel=\"nofollow noreferrer\">biopython has this implemented</a>, for example. You should almost never need to roll your own parser in bioinformatics."}, {"owner": {"reputation": 175, "user_id": 9037648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08e79cfdc057a6b0b63d61a4f901eaa1?s=128&d=identicon&r=PG&f=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/9037648/jithin"}, "edited": false, "score": 0, "creation_date": 1521699180, "post_id": 49416476, "comment_id": 85844316, "body": "The breaking line always starts with &quot;Query=lcl&quot; and yes I want each chunk of data (each Query output) into list. Eg: lst=[&quot;Query 1 + data&quot;, &quot;Query 2 + data&quot;, ....] as string. @ Mr Dolan , Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 9037648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08e79cfdc057a6b0b63d61a4f901eaa1?s=128&d=identicon&r=PG&f=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/9037648/jithin"}, "edited": false, "score": 0, "creation_date": 1521721849, "post_id": 49419084, "comment_id": 85858640, "body": "I have worked with <code>from Bio.Blast import NCBIStandalone</code> biopython blast parser before. The output which I am working with right now was obtained from a tool that I used to obtain the 3&#39;UTR regions form sequence. The reason why I am looking for handling each output with python regex is to obtain more insight on the result and do better analysis. Thank you @ Mr Vince"}], "tags": [], "owner": {"reputation": 3060, "user_id": 1515117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/317094104136ef2e6487bf5a61fb8217?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/1515117/vince"}, "is_accepted": true, "score": 3, "last_activity_date": 1521810763, "last_edit_date": 1521810763, "creation_date": 1521682024, "answer_id": 49419084, "question_id": 49416476, "link": "https://stackoverflow.com/questions/49416476/how-to-separate-each-blast-result-using-python-regex-and-store-it-in-a-list-for/49419084#49419084", "title": "How to separate each blast result using python regex and store it in a list for further analysis", "body": "<p>To get the result you want, edit the line with the <code>re.findall()</code> method call to the following using <code>re.split()</code>:</p>\n\n<pre><code>lst=re.split(r'(&gt;Query\\=.*)?',inter,re.DOTALL)\n</code></pre>\n\n<p>See this for more info on <code>re.split()</code>:</p>\n\n<p><a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/re.html</a></p>\n\n<p>Also, you may want to consider using the now deprecated BLAST parser in <code>biopython</code>:</p>\n\n<p><a href=\"http://biopython.org/DIST/docs/tutorial/Tutorial.html#htoc96\" rel=\"nofollow noreferrer\">http://biopython.org/DIST/docs/tutorial/Tutorial.html#htoc96</a></p>\n\n<blockquote>\n  <p>The plain text BLAST parser is located in Bio.Blast.NCBIStandalone.</p>\n  \n  <p>As with the XML parser, we need to have a handle object that we can\n  pass to the parser. The handle must implement the readline() method\n  and do this properly. The common ways to get such a handle are to\n  either use the provided blastall or blastpgp functions to run the\n  local blast, or to run a local blast via the command line, and then do\n  something like the following:</p>\n  \n  <blockquote>\n    <blockquote>\n      <p>result_handle = open(\"my_file_of_blast_output.txt\")</p>\n    </blockquote>\n  </blockquote>\n  \n  <p>Well, now that we\u2019ve got a handle (which we\u2019ll call result_handle), we\n  are ready to parse it. This can be done with the following code:</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; from Bio.Blast import NCBIStandalone\n&gt;&gt;&gt; blast_parser = NCBIStandalone.BlastParser()\n&gt;&gt;&gt; blast_record = blast_parser.parse(result_handle)\n</code></pre>\n\n<blockquote>\n  <p>This will parse the BLAST report into a Blast Record class (either a\n  Blast or a PSIBlast record, depending on what you are parsing) so that\n  you can extract the information from it. In our case, let\u2019s just print\n  out a quick summary of all of the alignments greater than some\n  threshold value.</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; E_VALUE_THRESH = 0.04\n&gt;&gt;&gt; for alignment in blast_record.alignments: \n...     for hsp in alignment.hsps: \n...         if hsp.expect &lt; E_VALUE_THRESH: \n...             print('****Alignment****') \n...             print('sequence:', alignment.title) \n...             print('length:', alignment.length)\n...             print('e value:', hsp.expect) \n...             print(hsp.query[0:75] + '...') \n...             print(hsp.match[0:75] + '...') \n...             print(hsp.sbjct[0:75] + '...')\n</code></pre>\n\n<blockquote>\n  <p>If you also read the section 7.3 on parsing BLAST XML output, you\u2019ll\n  notice that the above code is identical to what is found in that\n  section. Once you parse something into a record class you can deal\n  with it independent of the format of the original BLAST info you were\n  parsing. Pretty snazzy!</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 3060, "user_id": 1515117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/317094104136ef2e6487bf5a61fb8217?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/1515117/vince"}, "edited": false, "score": 0, "creation_date": 1521813535, "post_id": 49436357, "comment_id": 85905016, "body": "Yes, using lookahead is the optimal solution. I just couldn&#39;t figure out the correct regex so used <code>re.split()</code>. Nice work!"}], "tags": [], "owner": {"reputation": 175, "user_id": 9037648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08e79cfdc057a6b0b63d61a4f901eaa1?s=128&d=identicon&r=PG&f=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/9037648/jithin"}, "is_accepted": false, "score": 2, "last_activity_date": 1521744797, "creation_date": 1521744797, "answer_id": 49436357, "question_id": 49416476, "link": "https://stackoverflow.com/questions/49416476/how-to-separate-each-blast-result-using-python-regex-and-store-it-in-a-list-for/49436357#49436357", "title": "How to separate each blast result using python regex and store it in a list for further analysis", "body": "<p>I finally found the solution to break the huge file into small chunks so that I can process individual query result using python regex... Here is my code...</p>\n\n<pre><code>#!/user/bin/python3\nfile=open(\"/path/file_name.txt\",\"r+\")\nimport re\ninter=file.read()\nlst=re.findall('(?&lt;=Query= lcl)(.*?)(?=Effective search space)', inter, flags=re.S)\nprint(lst)\n</code></pre>\n\n<p>Thank you all for helping me out... </p>\n"}], "owner": {"reputation": 175, "user_id": 9037648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08e79cfdc057a6b0b63d61a4f901eaa1?s=128&d=identicon&r=PG&f=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/9037648/jithin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "accepted_answer_id": 49419084, "answer_count": 2, "score": 1, "last_activity_date": 1521810763, "creation_date": 1521666230, "question_id": 49416476, "link": "https://stackoverflow.com/questions/49416476/how-to-separate-each-blast-result-using-python-regex-and-store-it-in-a-list-for", "title": "How to separate each blast result using python regex and store it in a list for further analysis", "body": "<p>I am working on a set of biological sequences which involves the use of ncbi-blast. I need some help with processing the output file using python regex. The text result containing multiple outputs (sequence analysis results) looks something like this,   </p>\n\n<blockquote>\n  <p><strong>Query= lcl|TRINITY_DN2888_c0_g2_i1</strong></p>\n  \n  <p>Length=1394\n                                                                        Score     E Sequences producing significant alignments:<br>\n  (Bits)  Value</p>\n  \n  <p>sp|Q9S775|PKL_ARATH</p>\n  \n  <p>CHD3-type chromatin-remodeling factor PICKLE...  1640    0.0  </p>\n  \n  <p>sp|Q9S775|PKL_ARATH CHD3-type chromatin-remodeling factor PICKLE\n  OS=Arabidopsis thaliana  OX=3702 GN=PKL PE=1 SV=1 Length=1384</p>\n  \n  <p>Score = 1640 bits (4248),  Expect = 0.0, Method: Compositional matrix\n  adjust.  Identities = 830/1348 (62%), Positives = 1036/1348 (77%),\n  Gaps = 53/1348 (4%)</p>\n  \n  <p>Query  1<br>\n  MSSLVERLRVRSERRPLYTDDDSDDDLYAARGGSESKQEERPPERIVRDDAKNDTCKTCG  60\n               MSSLVERLR+RS+R+P+Y  DDSDDD +  +     +Q     E IVR DAK + C+ CG Sbjct  1<br>\n  MSSLVERLRIRSDRKPVYNLDDSDDDDFVPKKDRTFEQ----VEAIVRTDAKENACQACG  56</p>\n  \n  <p>Lambda      K        H        a         alpha\n     0.317    0.134    0.389    0.792     4.96 </p>\n  \n  <p>Gapped Lambda      K        H        a         alpha    sigma\n     0.267   0.0410    0.140     1.90     42.6     43.6 </p>\n  \n  <p>Effective search space used: 160862965056</p>\n  \n  <p><strong>Query= lcl|TRINITY_DN2855_c0_g1_i1</strong></p>\n  \n  <p>Length=145 ........................................\n  ...................................................\n  ...................................................</p>\n</blockquote>\n\n<p>I want to extract the information starting from \"<strong><em>Query= lcl|TRINITY_DN2888_c0_g2_i1</em></strong>\" to the next query \"<strong><em>Query=lcl|TRINITY_DN2855_c0_g1_i1</em></strong>\" and store it in a python list for further analysis (since the entire file contains few thousands of query results). Is there a python regex code that can do this action?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/user/bin/python3\nfile=open(\"path/file_name\",\"r+\")\nimport re\ninter=file.read()\nlst=[]\nlst=re.findall(r'&gt;(.*)&gt;',inter,re.DOTALL)\nprint(lst)\nfor x in lst:\n    print(x)\n</code></pre>\n\n<p>I get the wrong output since the code prints the entire information present in file (thousands) rather than picking up one result at a time. </p>\n\n<p>Thank you </p>\n"}, {"tags": ["python", "dictionary", "tensorflow", "machine-learning", "conv-neural-network"], "answers": [{"tags": [], "owner": {"reputation": 47598, "user_id": 712995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c7ImO.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/712995/maxim"}, "is_accepted": true, "score": 1, "last_activity_date": 1521671240, "creation_date": 1521671240, "answer_id": 49417543, "question_id": 49416470, "link": "https://stackoverflow.com/questions/49416470/valueerror-feeding-an-array-of-images-into-a-dictionary/49417543#49417543", "title": "ValueError - Feeding an array of images into a dictionary", "body": "<p>Adding the following line:</p>\n\n<pre><code>x_batch = x_batch.reshape((-1, 218 * 178 * 3))\n</code></pre>\n\n<p>should fix the error. However, since you're building a convolutional neural network, you'll need spatial information of the images anyway. So I'd suggest you change your <code>x</code> placeholder to shape <code>(None, 218, 178, 3)</code>, rather than <code>(None, 116412)</code> instead. The <code>x_batch</code> conversion in this case will not be necessary.</p>\n"}, {"tags": [], "owner": {"reputation": 746, "user_id": 6053728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Eat0GDUMlEk/AAAAAAAAAAI/AAAAAAAABD0/GfdYKB5T-uE/photo.jpg?sz=128", "display_name": "Sakhri Houssem", "link": "https://stackoverflow.com/users/6053728/sakhri-houssem"}, "is_accepted": false, "score": 0, "last_activity_date": 1521672022, "creation_date": 1521672022, "answer_id": 49417686, "question_id": 49416470, "link": "https://stackoverflow.com/questions/49416470/valueerror-feeding-an-array-of-images-into-a-dictionary/49417686#49417686", "title": "ValueError - Feeding an array of images into a dictionary", "body": "<p>you need to reshape the input to <code>(?, 116412)</code></p>\n\n<pre><code>def optimize(num_iterations):\n  global total_iterations\n\n  for i in range(total_iterations,\n               total_iterations + num_iterations):\n\n    # Get a batch of training examples.\n    # x_batch now holds a batch of images and\n    # y_true_batch are the true labels for those images.\n\n    x_batch, y_true_batch = training_batch(train_batch_size)\n    x_batch = tf.reshape(x_batch,[-1, 218 * 178 * 3])\n    # Put the batch into a dict with the proper names\n    # for placeholder variables in the TensorFlow graph.\n    feed_dict_train = {x: x_batch,\n                       y_true: y_true_batch}\n\n    # Run the optimizer using this batch of training data.\n    # TensorFlow assigns the variables in feed_dict_train\n    # to the placeholder variables and then runs the optimizer.\n    session.run(optimizer, feed_dict=feed_dict_train)\n\n    (...)\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 9008736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/622c0d63f5c6978e16c9a8c25db2a264?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Fazendeiro", "link": "https://stackoverflow.com/users/9008736/andr%c3%a9-fazendeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 49417543, "answer_count": 2, "score": 1, "last_activity_date": 1521677766, "creation_date": 1521666202, "last_edit_date": 1521677766, "question_id": 49416470, "link": "https://stackoverflow.com/questions/49416470/valueerror-feeding-an-array-of-images-into-a-dictionary", "title": "ValueError - Feeding an array of images into a dictionary", "body": "<p>I'm adapting <a href=\"https://github.com/Hvass-Labs/TensorFlow-Tutorials/blob/master/02_Convolutional_Neural_Network.ipynb\" rel=\"nofollow noreferrer\">this tutorial here</a> so I can train a ConvNet in my own set of images.</p>\n\n<p>So I made this function to try and get batches, though it does not create batches (yet):</p>\n\n<pre><code>def training_batch(batch_size):\n  images = trainpaths\n\n  for i in range(len(images)):\n    # converting the path to an image\n    image = mpimg.imread(images[i])\n    images[i] = image\n\n  # Create batches\n  X, Y = images, trainlabels\n\n  return X, Y\n</code></pre>\n\n<p>And this function is called here:</p>\n\n<pre><code>def optimize(num_iterations):\n  global total_iterations\n\n  for i in range(total_iterations,\n               total_iterations + num_iterations):\n\n    # Get a batch of training examples.\n    # x_batch now holds a batch of images and\n    # y_true_batch are the true labels for those images.\n\n    x_batch, y_true_batch = training_batch(train_batch_size)\n\n    # Put the batch into a dict with the proper names\n    # for placeholder variables in the TensorFlow graph.\n    feed_dict_train = {x: x_batch,\n                       y_true: y_true_batch}\n\n    # Run the optimizer using this batch of training data.\n    # TensorFlow assigns the variables in feed_dict_train\n    # to the placeholder variables and then runs the optimizer.\n    session.run(optimizer, feed_dict=feed_dict_train)\n\n    (...)\n</code></pre>\n\n<p>thing is if I run this if I run this code I get </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"scr.py\", line 405, in &lt;module&gt;\n    optimize(1)\n  File \"scr.py\", line 379, in optimize session.run(optimizer, feed_dict=feed_dict_train)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 905, in run run_metadata_ptr)\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1116, in _run str(subfeed_t.get_shape())))\nValueError: Cannot feed value of shape (2034, 218, 178, 3) for Tensor u'x:0', which has shape '(?, 116412)'\n</code></pre>\n\n<p>Can someone shine some light on how to fix this?</p>\n"}, {"tags": ["python", "tensorflow", "tensor"], "answers": [{"tags": [], "owner": {"reputation": 1619, "user_id": 745236, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a635fe654bc25785863bb5650480105?s=128&d=identicon&r=PG", "display_name": "Sheng", "link": "https://stackoverflow.com/users/745236/sheng"}, "is_accepted": true, "score": 0, "last_activity_date": 1521821716, "creation_date": 1521821716, "answer_id": 49454079, "question_id": 49416430, "link": "https://stackoverflow.com/questions/49416430/tensorflow-gather-nd-over-input-with-varied-shape/49454079#49454079", "title": "Tensorflow gather_nd over input with varied shape", "body": "<p>I realized this is actually solved by Tensorflow's higher order function.</p>\n\n<pre><code>tf.map_fn(lambda x: x[0][x[1], :], (state, length), dtype=tf.float32)\n</code></pre>\n"}], "owner": {"reputation": 1619, "user_id": 745236, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a635fe654bc25785863bb5650480105?s=128&d=identicon&r=PG", "display_name": "Sheng", "link": "https://stackoverflow.com/users/745236/sheng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 49454079, "answer_count": 1, "score": 0, "last_activity_date": 1521821716, "creation_date": 1521666085, "last_edit_date": 1521668857, "question_id": 49416430, "link": "https://stackoverflow.com/questions/49416430/tensorflow-gather-nd-over-input-with-varied-shape", "title": "Tensorflow gather_nd over input with varied shape", "body": "<p>I need to extract the the sub tensors along <code>axis=1</code> based on the value from another tensor.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>state = tf.placeholder(shape=[None, None, 10], dtype=tf.float32)\nlength = tf.placeholder(shape=[None], dtype=tf.int32)\n\n# this won't work, just be put here to demonstrate what I need\nnext_init_state = state[:, length - 1, :]\n</code></pre>\n\n<p>if <code>state</code> and <code>length</code> have deterministic shape, then <code>next_init_state</code> can be derived through <code>gather_nd</code></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>state = tf.placeholder(shape=[10, 10, 10], dtype=tf.float32)\nlength = tf.placeholder(shape=[10], dtype=tf.int32)\n\nindex = tf.stack([tf.range(0, 10), length])\nnext_init_state = tf.gather_nd(state, index)\n</code></pre>\n\n<p>However since state and length all have nondeterministic shape <code>None</code> in the problem I have, the <code>gather_nd</code> approach won't work. At least I cannot think of a way to make it work. Is there any way to address it ? </p>\n"}, {"tags": ["python", "multithreading", "multiprocessing"], "comments": [{"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 1, "creation_date": 1521666120, "post_id": 49416387, "comment_id": 85834636, "body": "Consider using the <code>retrying</code> module."}, {"owner": {"reputation": 761, "user_id": 5647552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29931f06b1ff847d4c806b0aaaef72ff?s=128&d=identicon&r=PG", "display_name": "Cloudish123", "link": "https://stackoverflow.com/users/5647552/cloudish123"}, "reply_to_user": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1521667362, "post_id": 49416387, "comment_id": 85835229, "body": "This definitely has sparked my interest and is helping me see more about what I might need to do - so I appreciate the help, but I do not see how this can be called from within a try-catch without it handling it instead of the @retry. This is why I moved away from wrapping the whole thing within a try catch and defining special error exception classes like RetryThread. It ended up not being caught by the most outer try-catch."}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 1, "creation_date": 1521667933, "post_id": 49416387, "comment_id": 85835506, "body": "The <code>retrying</code> module should cover your use case. What obstacle do you think you have with using <code>retrying</code>? Consider that you can create your own custom exceptions and handle them in a clever way (IE raise errors in a specific way to know what error-handling is required) -- I would advise against trying to invent complex retrying logic, since it should be easy to delegate to <code>retrying</code>. I think the problems you ran into can be overcome. Think about your problem carefully. Can you explain <i>why</i> you think this approach is necessary? If so, consider updating your question with those specifics."}, {"owner": {"reputation": 761, "user_id": 5647552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29931f06b1ff847d4c806b0aaaef72ff?s=128&d=identicon&r=PG", "display_name": "Cloudish123", "link": "https://stackoverflow.com/users/5647552/cloudish123"}, "reply_to_user": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1521670798, "post_id": 49416387, "comment_id": 85836726, "body": "ok. I am beginning to see the light. Do I just re-raise the custom exception within a try-catch? I am worried about this being even more complicated because I will have try-catch throughout my class and the @retry(specialexception) won&#39;t be hit unless I re-raise the custom exception. Do you suggest this is how I should deal with this? Is the way I mentioned above easier than this? I guess I really like the retry, but worry that having to re-raise this special exception in my try-catches isn&#39;t ok to do. I want to make sure it is pythonic. I edited the question to state this."}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 1, "creation_date": 1521671264, "post_id": 49416387, "comment_id": 85836877, "body": "I would think about your design and where your try/excepts are happening and what specific errors you are catching. Calling a function that is decorated with <code>@retry</code> will not be caught by a try/except that is outside that decorated function and the retrying logic will work as expected. I&#39;m not sure what you think your problem is, my guess is you&#39;re misunderstanding how the try/except affects retrying -- try putting together some simple examples and test how it works. If there&#39;s any reorganization needed, it should be trivial to do. Remember, simple is better than complex. Don&#39;t overthink it."}, {"owner": {"reputation": 761, "user_id": 5647552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29931f06b1ff847d4c806b0aaaef72ff?s=128&d=identicon&r=PG", "display_name": "Cloudish123", "link": "https://stackoverflow.com/users/5647552/cloudish123"}, "reply_to_user": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1521725507, "post_id": 49416387, "comment_id": 85861514, "body": "Thanks! I will be implementing the retrying module. After trying around a little bit I realized that the retrying modue does the retry logic I need perfectly. For ending threads, I am going to maybe have to use the self.run(endthread=True) to end my threads. I would rather use the retrying module for that too but I do not see a way to. I will play around more to see."}], "answers": [{"tags": [], "owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "is_accepted": true, "score": 1, "last_activity_date": 1521726409, "creation_date": 1521726409, "answer_id": 49430345, "question_id": 49416387, "link": "https://stackoverflow.com/questions/49416387/is-resetting-python-thread-process-tasks-by-calling-self-run-pythonic/49430345#49430345", "title": "Is resetting Python thread/process tasks by calling self.run() pythonic?", "body": "<p>It looks like you're implementing a rudimentary <em>retrying</em> scenario. You should consider delegating this to a library for this purpose, like <a href=\"https://github.com/rholder/retrying\" rel=\"nofollow noreferrer\"><code>retrying</code></a>. This will probably be a better approach compared to the logic you're trying to implement within the thread to 'reset' it.</p>\n\n<p>By raising/retrying on specific exceptions, you should be able to implement the proper error-handling logic cleanly with <code>retrying</code>. As a best-practice, you should avoid broad excepts and catch specific exceptions whenever possible.</p>\n\n<p>Consider a pattern whereby the thread itself does not need to know if it will need to be 'reset' or restarted. Instead, if possible, try to have your thread return some value or exception info so the main thread can decide whether to re-queue a task.</p>\n"}], "owner": {"reputation": 761, "user_id": 5647552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29931f06b1ff847d4c806b0aaaef72ff?s=128&d=identicon&r=PG", "display_name": "Cloudish123", "link": "https://stackoverflow.com/users/5647552/cloudish123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 49430345, "answer_count": 1, "score": 0, "last_activity_date": 1521726409, "creation_date": 1521665887, "last_edit_date": 1521670979, "question_id": 49416387, "link": "https://stackoverflow.com/questions/49416387/is-resetting-python-thread-process-tasks-by-calling-self-run-pythonic", "title": "Is resetting Python thread/process tasks by calling self.run() pythonic?", "body": "<p>Regarding the code below of the process class MyProcessClass, sometimes I want to rerun all of the self.run tasks. </p>\n\n<p>self.run(retry=True) is what I use to rerun the run(self) tasks within the class. It allows me rerun the tasks of the process class run(self) whenever I want to from wherever I want to from any class function.</p>\n\n<hr>\n\n<pre><code>MyProcessClass(Process):\n     def __init__(self):\n          Process.__init__(self)\n\n     #gets called automatically on class initialization \n     #process.start().\n     #it also gets called when a class function calls \n     #self.run(retry=True)\n     def run(self,end=False,retry=False):\n          if end==True:\n             sys.exit()\n          elif retry==True:\n              redo_prep()\n          do_stuff()\n\n     #represents class functions doing stuff\n     def do_stuff():\n         #stuff happens well\n         return\n         #stuff happens and need to redo everything\n         self.run(retry=True)\n</code></pre>\n\n<hr>\n\n<p>I don't want the thread/process to end, but I want everything to rerun. Could this cause problems because the run function is being called recursively-ish and I am running hundreds of these process class objects at one time. The box hits about 32GB of memory when all are running. Only objects that need to will be rerun. </p>\n\n<p>My goal is to rerun the self.run tasks if needed or end the thread if needed from anywhere in the class, be it 16 functions deep or 2. In a sense, I am resetting the thread's tasks, since I know resetting the thread from within doesn't work. I have seen other ideas regarding \"resetting\" threads from <a href=\"https://stackoverflow.com/questions/4541190/how-to-close-a-thread-from-within\">How to close a thread from within?</a>. I am looking for the most pythonic way of dealing with rerunning class self.run tasks.</p>\n\n<p>I usually use try-catch throughout the class:</p>\n\n<pre><code>  def function():\n     while True:\n       try:\n         #something bad\n       except Exception as e:\n         #if throttle just wait\n         #otherwise, raise\n       else:\n         return\n</code></pre>\n\n<p>Additional Question: If I were to raise a custom exception to trigger a @retry for the retries module, would I have to re-raise? Is that more or less pythonic than the example above?</p>\n\n<p>My script had crapped out in a way I hadn't seen before and I worried that calling the self.run(retry=True) had caused it to do this. I am trying to see if there is anything crazy about the way I am calling the self.run() within the process class.</p>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 951, "user_id": 9161094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c5b3673d6dd85cb6b7c4b870c601233?s=128&d=identicon&r=PG&f=1", "display_name": "Pam", "link": "https://stackoverflow.com/users/9161094/pam"}, "edited": false, "score": 0, "creation_date": 1521666038, "post_id": 49416356, "comment_id": 85834603, "body": "Can you display the frame right after capture without any processing? I suspect your camera doesn\u2019t support the set size so cap.read() returns an error."}, {"owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "edited": false, "score": 0, "creation_date": 1521666159, "post_id": 49416356, "comment_id": 85834651, "body": "I think the frame is already 1 channel (Gray) and when you trying to convert it to COLOR_BGR2GRAY it doesn&#39;t find the 3 channels expected and raise the error."}, {"owner": {"reputation": 770, "user_id": 4834108, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9ff8c9a23c77cf9ed7aeeb0709f54985?s=128&d=identicon&r=PG&f=1", "display_name": "skr_robo", "link": "https://stackoverflow.com/users/4834108/skr-robo"}, "edited": false, "score": 0, "creation_date": 1521666363, "post_id": 49416356, "comment_id": 85834759, "body": "I ran your code and it worked fine. Can you try printing the type of frame and see the number of channels?"}, {"owner": {"reputation": 770, "user_id": 4834108, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9ff8c9a23c77cf9ed7aeeb0709f54985?s=128&d=identicon&r=PG&f=1", "display_name": "skr_robo", "link": "https://stackoverflow.com/users/4834108/skr-robo"}, "edited": false, "score": 1, "creation_date": 1521667044, "post_id": 49416356, "comment_id": 85835078, "body": "In python, <code>print frame.shape</code> should be able to give dimensions of the frame."}], "answers": [{"tags": [], "owner": {"reputation": 3203, "user_id": 1819423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ruMr.png?s=128&g=1", "display_name": "Totoro", "link": "https://stackoverflow.com/users/1819423/totoro"}, "is_accepted": false, "score": 0, "last_activity_date": 1521681001, "creation_date": 1521681001, "answer_id": 49418968, "question_id": 49416356, "link": "https://stackoverflow.com/questions/49416356/python-how-can-i-fix-opencv-cvtcolor-error/49418968#49418968", "title": "python How can I fix OpenCV cvtColor error?", "body": "<p>What the error message say is that your input image to cvtColor (frame) should have either three (R, G, B) or four (R, G, B, A) channels to convert it to grayscale, and it does not.</p>\n\n<p>This can happen because:</p>\n\n<ol>\n<li>Your camera does not capture an image at all</li>\n<li>It captures the image in grayscale</li>\n</ol>\n\n<p>First, comment the lines</p>\n\n<pre><code>gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>cv2.imshow('gray', gray)\n</code></pre>\n\n<p>and test if you can see the captured frames. Most likely you won't see color images, and that (image capture) could be where the problem is.</p>\n"}], "owner": {"reputation": 11, "user_id": 9487574, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "oyun kral\u0131", "link": "https://stackoverflow.com/users/9487574/oyun-kral%c4%b1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 903, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521681001, "creation_date": 1521665758, "last_edit_date": 1521671042, "question_id": 49416356, "link": "https://stackoverflow.com/questions/49416356/python-how-can-i-fix-opencv-cvtcolor-error", "title": "python How can I fix OpenCV cvtColor error?", "body": "<p>Here is the erroneous code:</p>\n\n<pre><code>import numpy as np\nimport cv2\n\ncap = cv2.VideoCapture(0)\ncap.set(3,640) \ncap.set(4,480) \nwhile(True):\n    ret, frame = cap.read()\n    frame = cv2.flip(frame, -1) \n    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n    cv2.imshow('frame', frame)\n    cv2.imshow('gray', gray)\n   k = cv2.waitKey(30) &amp; 0xff\n    if k == 27: \n    break\n\ncap.release()\ncv2.destroyAllWindows()\n</code></pre>\n\n<p>this is the error I'm getting:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;pyshell#1&gt;\", line 1, in &lt;module&gt;\n    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\ncv2.error: /home/piwheels/opencv-python/opencv/modules/imgproc/src/color.cpp:10638: error: (-215) scn == 3 || scn == 4 in function cvtColor\n</code></pre>\n\n<p>I'm not sure how to fix this. Can you help me?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 2, "creation_date": 1521665538, "post_id": 49416273, "comment_id": 85834375, "body": "<code>Foo</code> is a function, not a class."}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 5, "last_activity_date": 1521665549, "creation_date": 1521665549, "answer_id": 49416293, "question_id": 49416273, "link": "https://stackoverflow.com/questions/49416273/attributeerror-nonetype-object-has-no-attribute-when-creating-class/49416293#49416293", "title": "&quot;AttributeError: &#39;NoneType&#39; object has no attribute&quot; when creating class", "body": "<p>This is the syntax to define a <em>function</em></p>\n\n<pre><code>def Foo():\n</code></pre>\n\n<p>to define a <em>class</em> you'd say</p>\n\n<pre><code>class Foo:\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 9531066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccg1A.jpg?s=128&g=1", "display_name": "PickleProgrammer", "link": "https://stackoverflow.com/users/9531066/pickleprogrammer"}, "edited": false, "score": 0, "creation_date": 1521665834, "post_id": 49416301, "comment_id": 85834515, "body": "What is the difference between <code>class Foo:</code> and <code>class Foo():</code>?"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 21, "user_id": 9531066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccg1A.jpg?s=128&g=1", "display_name": "PickleProgrammer", "link": "https://stackoverflow.com/users/9531066/pickleprogrammer"}, "edited": false, "score": 0, "creation_date": 1521666423, "post_id": 49416301, "comment_id": 85834792, "body": "@PickleProgrammer There is none. Both create an old-style class in Python2 and a class in Python3."}], "tags": [], "owner": {"reputation": 7975, "user_id": 5660517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1iIxK.jpg?s=128&g=1", "display_name": "Ronan Boiteau", "link": "https://stackoverflow.com/users/5660517/ronan-boiteau"}, "is_accepted": false, "score": 3, "last_activity_date": 1521665572, "creation_date": 1521665572, "answer_id": 49416301, "question_id": 49416273, "link": "https://stackoverflow.com/questions/49416273/attributeerror-nonetype-object-has-no-attribute-when-creating-class/49416301#49416301", "title": "&quot;AttributeError: &#39;NoneType&#39; object has no attribute&quot; when creating class", "body": "<h2>Your problem</h2>\n\n<p><code>Foo</code> is defined with <code>def</code>, which makes it a <strong>function</strong>, not a class. If you want <code>Foo</code> to contain functions, then it needs to be a <strong>class</strong>.</p>\n\n<h2>Solution</h2>\n\n<p>Use the <code>class</code> keyword to turn <code>Foo</code> into a class:</p>\n\n<pre><code>class Foo():\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 1, "creation_date": 1521665657, "post_id": 49416310, "comment_id": 85834425, "body": "Do we really need four answers to say the same thing?"}], "tags": [], "owner": {"reputation": 509, "user_id": 9429104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ee9c277e8be6810bd7dc0f739a9abb?s=128&d=identicon&r=PG&f=1", "display_name": "A.Ben", "link": "https://stackoverflow.com/users/9429104/a-ben"}, "is_accepted": false, "score": 2, "last_activity_date": 1521665602, "creation_date": 1521665602, "answer_id": 49416310, "question_id": 49416273, "link": "https://stackoverflow.com/questions/49416273/attributeerror-nonetype-object-has-no-attribute-when-creating-class/49416310#49416310", "title": "&quot;AttributeError: &#39;NoneType&#39; object has no attribute&quot; when creating class", "body": "<p>If you're trying to create a class, try :</p>\n\n<pre><code>class Foo:\n    def bar(self):\n        return self.a\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 225, "user_id": 9531002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1yNyJ.png?s=128&g=1", "display_name": "Nishil", "link": "https://stackoverflow.com/users/9531002/nishil"}, "is_accepted": false, "score": 1, "last_activity_date": 1521668320, "last_edit_date": 1521668320, "creation_date": 1521666099, "answer_id": 49416432, "question_id": 49416273, "link": "https://stackoverflow.com/questions/49416273/attributeerror-nonetype-object-has-no-attribute-when-creating-class/49416432#49416432", "title": "&quot;AttributeError: &#39;NoneType&#39; object has no attribute&quot; when creating class", "body": "<pre><code>class Foo():\n    a = 0\n    def bar(self):\n        return self.a\n\nf = Foo()\nf.bar()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9531066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccg1A.jpg?s=128&g=1", "display_name": "PickleProgrammer", "link": "https://stackoverflow.com/users/9531066/pickleprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 0, "closed_date": 1521666032, "answer_count": 4, "score": 2, "last_activity_date": 1521668320, "creation_date": 1521665462, "question_id": 49416273, "link": "https://stackoverflow.com/questions/49416273/attributeerror-nonetype-object-has-no-attribute-when-creating-class", "closed_reason": "Not suitable for this site", "title": "&quot;AttributeError: &#39;NoneType&#39; object has no attribute&quot; when creating class", "body": "<p>I have defined a simple class but recieve the error <code>AttributeError: 'NoneType' object has no attribute 'bar'</code> when trying to use it. What am I doing wrong?</p>\n\n<pre><code>def Foo():\n    a = 0\n    def bar(self):\n        return self.a\n\nf = Foo()\nf.bar() # error\n</code></pre>\n"}, {"tags": ["python", "while-loop", "number-sequence"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1521667359, "post_id": 49416267, "comment_id": 85835227, "body": "What should happen if <code>timestep</code> is more than 3, so it skips from 9 to 12 without going near 10?"}, {"owner": {"reputation": 155, "user_id": 3412058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c39aa308acf21b291ea8018f75275bb?s=128&d=identicon&r=PG&f=1", "display_name": "user3412058", "link": "https://stackoverflow.com/users/3412058/user3412058"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1521667874, "post_id": 49416267, "comment_id": 85835483, "body": "I don&#39;t have timesteps larger than 2, but in that case I wouldn&#39;t mind if the numbers are written every 9 days instead. As long as the numbers are &quot;integers&quot; I think I can just make them multiples of other numbers different from 10. My problem right now is that all my timesteps have many decimals."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1521668082, "post_id": 49416267, "comment_id": 85835586, "body": "You don&#39;t need lots of decimals for this problem, it occurs with <code>1.32</code> because <code>time</code> jumps from <code>9.24</code> to <code>10.56</code>. Which of these should be printed?"}, {"owner": {"reputation": 155, "user_id": 3412058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c39aa308acf21b291ea8018f75275bb?s=128&d=identicon&r=PG&f=1", "display_name": "user3412058", "link": "https://stackoverflow.com/users/3412058/user3412058"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1521668225, "post_id": 49416267, "comment_id": 85835652, "body": "either will be fine."}], "answers": [{"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1521666281, "post_id": 49416383, "comment_id": 85834715, "body": "Hmm.  It will always give a point <i>beyond</i> the threshold, not necessarily the closest point."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1521665869, "creation_date": 1521665869, "answer_id": 49416383, "question_id": 49416267, "link": "https://stackoverflow.com/questions/49416267/print-numbers-that-are-multiples-of-certain-number-uniformly/49416383#49416383", "title": "Print numbers that are multiples of certain number uniformly", "body": "<p>Remember the last time you printed a line, and print another line as soon as the decade changes:</p>\n\n<pre><code>time = 0.\nlasttime = -1.\ntimestep = 3.\nwhile time &lt;= 100.:\n    if time // 10 != lasttime // 10:\n        print time\n        lasttime = time\n    time += timestep\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>$ python x.py \n0.0\n12.0\n21.0\n30.0\n42.0\n51.0\n60.0\n72.0\n81.0\n90.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 3, "last_activity_date": 1521668570, "creation_date": 1521668570, "answer_id": 49417006, "question_id": 49416267, "link": "https://stackoverflow.com/questions/49416267/print-numbers-that-are-multiples-of-certain-number-uniformly/49417006#49417006", "title": "Print numbers that are multiples of certain number uniformly", "body": "<p>Here's a simple solution that finds the steps that are nearest to a given series of multiples:</p>\n\n<pre><code>def stepper(timestep, limit=100.0, multiple=10.0):\n    current = multiples = 0.0\n    while current &lt;= limit:\n        step = current + timestep\n        if step &gt;= multiples:\n            if multiples - current &gt; step - multiples:\n                yield step\n            else:\n                yield current\n            multiples += multiple\n        current = step\n\nfor step in stepper(1.31784024239):\n    print step\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0.0\n10.5427219391\n19.7676036358\n30.310325575\n39.5352072717\n50.0779292108\n60.6206511499\n69.8455328467\n80.3882547858\n89.6131364825\n100.155858422\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 3412058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c39aa308acf21b291ea8018f75275bb?s=128&d=identicon&r=PG&f=1", "display_name": "user3412058", "link": "https://stackoverflow.com/users/3412058/user3412058"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 49417006, "answer_count": 2, "score": 1, "last_activity_date": 1521669705, "creation_date": 1521665444, "last_edit_date": 1521669705, "question_id": 49416267, "link": "https://stackoverflow.com/questions/49416267/print-numbers-that-are-multiples-of-certain-number-uniformly", "title": "Print numbers that are multiples of certain number uniformly", "body": "<p>Maybe a silly question, I am trying to print numbers in a loop in such a way that they are multiples of 10. This is very easy as long as the timestep in the loop is multiple of 10. This is how I do it:</p>\n\n<pre><code>time = 0.\ntimestep = 2.\nwhile time &lt;= 100.:\n    if int(round(time)) % 10 == 0:\n        print time\n    time += timestep\n</code></pre>\n\n<p>which gives me an output of: </p>\n\n<pre><code>0.0\n10.0\n20.0\n30.0\n40.0\n50.0\n60.0\n70.0\n80.0\n90.0\n100.0\n</code></pre>\n\n<p>And if I use a timestep = 1, I get a similar output. My problem is that now my timestep is given as a function of another variable, and is a float with many decimals. For one case, for instance, the timestep turns out to be 1.31784024239, and if I try to do a similar loop, the numbers I get are not that uniform anymore. For example, I get:</p>\n\n<pre><code>0.0 \n19.7676036358 \n30.310325575 \n39.5352072717\n50.0779292108\n69.8455328467\n80.3882547858\n89.6131364825\n</code></pre>\n\n<p>My question is if there is any trick so that my output is printed uniformly - every, let's say, 10 days? it doesn't have to be exactly ten, but I would like to have a point, for example, between 0 and 19 (around 10) and another one around 60, since theres a jump from 50.07 to 69.84. </p>\n\n<p>I don't know if it is possible, but any ideas will really be helpful as many of my timesteps are floats with many decimals. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1521665381, "post_id": 49416185, "comment_id": 85834302, "body": "Are the lines always like that? Or do they contain punctuation etc?"}, {"owner": {"reputation": 138, "user_id": 7600477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--PPXu5OywAc/AAAAAAAAAAI/AAAAAAAAABM/RMUsDJT6Ayk/photo.jpg?sz=128", "display_name": "LegendaryJLD", "link": "https://stackoverflow.com/users/7600477/legendaryjld"}, "edited": false, "score": 1, "creation_date": 1521665549, "post_id": 49416185, "comment_id": 85834380, "body": "I can think of ways to do this, but what happens is you have lines like: &quot;The apple is red&quot; and &quot;The strawberry is red&quot; - Technically they both have 3 words that match, should these be excluded too?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1521665582, "post_id": 49416185, "comment_id": 85834392, "body": "<a href=\"https://docs.python.org/3/library/difflib.html#difflib.get_close_matches\" rel=\"nofollow noreferrer\">difflib.get_close_matches</a>."}, {"owner": {"reputation": 83, "user_id": 8853240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb54955c61e82450b9749323509ab718?s=128&d=identicon&r=PG&f=1", "display_name": "sam s", "link": "https://stackoverflow.com/users/8853240/sam-s"}, "reply_to_user": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1521665888, "post_id": 49416185, "comment_id": 85834542, "body": "@AntonvBR For starters like me, the lines are always like that with no punctuation."}, {"owner": {"reputation": 83, "user_id": 8853240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb54955c61e82450b9749323509ab718?s=128&d=identicon&r=PG&f=1", "display_name": "sam s", "link": "https://stackoverflow.com/users/8853240/sam-s"}, "reply_to_user": {"reputation": 138, "user_id": 7600477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--PPXu5OywAc/AAAAAAAAAAI/AAAAAAAAABM/RMUsDJT6Ayk/photo.jpg?sz=128", "display_name": "LegendaryJLD", "link": "https://stackoverflow.com/users/7600477/legendaryjld"}, "edited": false, "score": 0, "creation_date": 1521665928, "post_id": 49416185, "comment_id": 85834557, "body": "@LegendaryJLD Hmmm...Yeah, I guess these needs to be excluded too."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 1, "creation_date": 1521666028, "post_id": 49416185, "comment_id": 85834600, "body": "What about [&quot;the apple is red&quot;, &quot;the apple is&quot;, &quot;the apple is yellow&quot;]?"}], "answers": [{"comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1521666185, "post_id": 49416408, "comment_id": 85834666, "body": "I agree that the string distance is probably better, but all of these can be done at a word level, e.g. <code>from fuzzywuzzy import fuzz; print(fuzz.ratio(&quot;the apple is red&quot;.split(), &quot;the apple is&quot;.split()))</code>."}], "tags": [], "owner": {"reputation": 87, "user_id": 6068117, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154001928333749/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/6068117/will"}, "is_accepted": false, "score": 0, "last_activity_date": 1521665989, "creation_date": 1521665989, "answer_id": 49416408, "question_id": 49416185, "link": "https://stackoverflow.com/questions/49416185/how-do-i-remove-similar-duplicates-from-text-file-using-python/49416408#49416408", "title": "How do I remove similar duplicates from text file using python?", "body": "<p>Take a look at string distance functions:</p>\n\n<ol>\n<li>Hamming distance</li>\n<li>Levenshtein distance</li>\n<li>Jaro\u2013Winkler distance</li>\n</ol>\n\n<p>There are also Python packages for <a href=\"https://github.com/seatgeek/fuzzywuzzy\" rel=\"nofollow noreferrer\">fuzzy string matching</a> - I believe this one implements method 2. These aren't going to do the word matching like you mentioned, but the string distance is perhaps a more robust method of achieving your goal.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 293594, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/236ff5ec4ac5714b8f28542d5299ec90?s=128&d=identicon&r=PG", "display_name": "xnx", "link": "https://stackoverflow.com/users/293594/xnx"}, "is_accepted": true, "score": 2, "last_activity_date": 1521666017, "creation_date": 1521666017, "answer_id": 49416415, "question_id": 49416185, "link": "https://stackoverflow.com/questions/49416185/how-do-i-remove-similar-duplicates-from-text-file-using-python/49416415#49416415", "title": "How do I remove similar duplicates from text file using python?", "body": "<p>A very simple approach that may do what you want is to iterate over a list of the sets of words that have been seen in each line so far:</p>\n\n<pre><code>lines_seen = []\noutfile = open(\"out.txt\", \"w\")\nfor line in open(\"file.txt\", \"r\"):\n    words = set(line.split())\n    for word_set in lines_seen:\n        if len(words.intersection(word_set)) &gt;= 3:\n            break\n    else:\n        outfile.write(line)\n        lines_seen.append(words)\noutfile.close()\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>The apple is red\nThe banana is yellow\n</code></pre>\n\n<p>Of course, this ignores some of the subtleties alluded to in the comments to your question. You may be better off with a specialized library such as <a href=\"https://docs.python.org/3.6/library/difflib.html\" rel=\"nofollow noreferrer\"><code>difflib</code></a>.</p>\n"}], "owner": {"reputation": 83, "user_id": 8853240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb54955c61e82450b9749323509ab718?s=128&d=identicon&r=PG&f=1", "display_name": "sam s", "link": "https://stackoverflow.com/users/8853240/sam-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 1, "accepted_answer_id": 49416415, "answer_count": 2, "score": 0, "last_activity_date": 1521671182, "creation_date": 1521665146, "last_edit_date": 1521671182, "question_id": 49416185, "link": "https://stackoverflow.com/questions/49416185/how-do-i-remove-similar-duplicates-from-text-file-using-python", "title": "How do I remove similar duplicates from text file using python?", "body": "<p>I have written the following python code to remove the duplicates:</p>\n\n<pre><code>lines_seen = set()\noutfile = open(\"out.txt\", \"w\")\nfor line in open(\"file.txt\", \"r\"):\n    if line not in lines_seen: \n        outfile.write(line)\n        lines_seen.add(line)\noutfile.close()\n</code></pre>\n\n<p>The code above functions correctly and removes the exact same duplicates, but I want to be able to remove duplicates that have 3 or more exact word matches from a line. For instance:</p>\n\n<pre><code>The apple is red\nThe apple red\nThe banana is yellow\nThe apple is red\n</code></pre>\n\n<p>The output with the current code is: </p>\n\n<pre><code>The apple is red\nThe apple red\nThe banana is yellow\n</code></pre>\n\n<p>But I want to remove the phrase 'The apple red' as well because it has 3 matching words in the line. I hope this makes sense. How do I write this in python? </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1521665671, "post_id": 49416170, "comment_id": 85834432, "body": "Include what you have tried, please."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 2, "creation_date": 1521665783, "post_id": 49416170, "comment_id": 85834493, "body": "fun: <code>[n*[5, 10][m == &#39;W&#39;] for n,m in zip(NUM, X)]</code>"}, {"owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1521668788, "post_id": 49416170, "comment_id": 85835913, "body": "@timgeb, can you explain the long version of [n * [5, 10][m == &#39;W&#39;]?  Cleanest answer but it&#39;s not the most readable for me.  I could use a new trick."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "edited": false, "score": 0, "creation_date": 1521670131, "post_id": 49416170, "comment_id": 85836474, "body": "@dreamzboy it&#39;s pretty hacky, clean would be <code>[n*5 if m == &#39;N&#39; else n*10 for ...]</code>. Anyway, <code>[m == &#39;W&#39;]</code> is <code>[True]</code> or <code>[False]</code> and treated as <code>[1]</code> or <code>[0]</code> when indexing into <code>[5, 10]</code>."}, {"owner": {"reputation": 548, "user_id": 4047444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-xRHbFjNlojg/AAAAAAAAAAI/AAAAAAAAGU0/vc870Jh0e0I/photo.jpg?sz=128", "display_name": "dreamzboy", "link": "https://stackoverflow.com/users/4047444/dreamzboy"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1521670516, "post_id": 49416170, "comment_id": 85836638, "body": "@timgeb, thanks for the explanation.  I&#39;ve never seen your syntax before but good to know."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1521666079, "post_id": 49416294, "comment_id": 85834620, "body": "It&#39;d be simpler to <code>zip</code> the sequences instead of <code>enumerate</code>-ing one."}, {"owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "edited": false, "score": 0, "creation_date": 1521667669, "post_id": 49416294, "comment_id": 85835380, "body": "No problem! Mark the answer as correct if it solved your issue ;-)"}, {"owner": {"reputation": 3, "user_id": 9531065, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob", "link": "https://stackoverflow.com/users/9531065/bob"}, "edited": false, "score": 0, "creation_date": 1521667757, "post_id": 49416294, "comment_id": 85835428, "body": "If the first list contained a letter and a number such as  x = M1,W2 would it make a difference to the outcome of the code?"}, {"owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "edited": false, "score": 0, "creation_date": 1521668033, "post_id": 49416294, "comment_id": 85835557, "body": "I don&#39;t think so. As far as you have some mechanism like the dict I added <code>X_VAL</code>, the dict keys are strings so it doesn&#39;t matter if it&#39;s <code>&#39;M&#39;: 5</code> or <code>&#39;M1&#39;: 5</code>."}], "tags": [], "owner": {"reputation": 1035, "user_id": 4585081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vnGRq.jpg?s=128&g=1", "display_name": "epinal", "link": "https://stackoverflow.com/users/4585081/epinal"}, "is_accepted": true, "score": 1, "last_activity_date": 1521666431, "last_edit_date": 1521666431, "creation_date": 1521665551, "answer_id": 49416294, "question_id": 49416170, "link": "https://stackoverflow.com/questions/49416170/multiplying-target-values-with-a-list/49416294#49416294", "title": "Multiplying target values with a list", "body": "<p>Something like this would do what you want:</p>\n\n<pre><code>X = ['M', 'W', 'W', 'M', 'M', 'W']\nNUM = [1, 2, 3, 4, 5, 6]\nX_VAL = {'M': 5,\n         'W': 10\n         }\nresult = []\nfor index, val in enumerate(NUM):\n    result.append(val * X_VAL[X[index]])\n\nprint(result)\n</code></pre>\n\n<p>Let me know if you need any help understanding the code.</p>\n\n<p>EDIT:\nLike @user2357112 said you can <code>zip</code> both lists like this:</p>\n\n<pre><code>X = ['M', 'W', 'W', 'M', 'M', 'W']\nNUM = [1, 2, 3, 4, 5, 6]\nX_VAL = {'M': 5,\n         'W': 10\n         }\nresult = []\nfor val, x in zip(NUM, X):\n    result.append(val * X_VAL[x])\n\nprint(result)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": false, "score": 1, "last_activity_date": 1521666357, "last_edit_date": 1521666357, "creation_date": 1521666202, "answer_id": 49416469, "question_id": 49416170, "link": "https://stackoverflow.com/questions/49416170/multiplying-target-values-with-a-list/49416469#49416469", "title": "Multiplying target values with a list", "body": "<p>Using a simple list comprehension and Python's ternary operator:</p>\n\n<pre><code>X = ['M','W','W','M','M','W']\nNUM = [1,2,3,4,5,6]\n\nfinal = [i * (5 if j == 'M' else 10) for i, j in zip(NUM, X)]\nprint(final)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[5, 20, 30, 20, 25, 60]\n</code></pre>\n\n<p>If you had more than two letters, and a unique multiplication value for each one, you could use a dictionary:</p>\n\n<pre><code>&gt;&gt;&gt; X = ['M','W','W','M','M','W', 'K', 'J', 'J', 'L']\n&gt;&gt;&gt; NUM = [1,2,3,4,5,6,4,2,1,8]\n&gt;&gt;&gt; dct = {'M': 5, 'W': 10, 'J': 8, 'K': 4, 'L': 3}\n&gt;&gt;&gt; [i * dct[j] for i, j in zip(NUM, X)]\n[5, 20, 30, 20, 25, 60, 16, 16, 8, 24]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1521667255, "creation_date": 1521667255, "answer_id": 49416720, "question_id": 49416170, "link": "https://stackoverflow.com/questions/49416170/multiplying-target-values-with-a-list/49416720#49416720", "title": "Multiplying target values with a list", "body": "<p>Another approach would be to use <code>lambda</code> functions and <code>map</code>:</p>\n\n<pre><code>def mult(x, num):\n    factor = lambda i: 5 if i=='M' else 10\n    return list(map(lambda i: factor(i[0]) * i[1],zip(x,num)))\n\nX = ['M','W','W','M','M','W']\nNUM = [1,2,3,4,5,6]\n\nprint(mult(X, NUM))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[5, 20, 30, 20, 25, 60]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9531065, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob", "link": "https://stackoverflow.com/users/9531065/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 49416294, "answer_count": 3, "score": 0, "last_activity_date": 1521667255, "creation_date": 1521665102, "last_edit_date": 1521665924, "question_id": 49416170, "link": "https://stackoverflow.com/questions/49416170/multiplying-target-values-with-a-list", "title": "Multiplying target values with a list", "body": "<pre><code>X = ['M','W','W','M','M','W']\nNUM = [1,2,3,4,5,6]\n</code></pre>\n\n<p>trying to write a subroutine that will take NUM list and depending on whether the value in the corresponding list is M  or W  will multiply the value from Num list by either 5 when M is present and 10 with W.</p>\n\n<p>have tried using two target values and index numbers with little success </p>\n"}, {"tags": ["python", "setuptools"], "answers": [{"comments": [{"owner": {"reputation": 1053, "user_id": 2645289, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d7daa979a882fd5796545d30793f948c?s=128&d=identicon&r=PG", "display_name": "noorul", "link": "https://stackoverflow.com/users/2645289/noorul"}, "edited": false, "score": 0, "creation_date": 1521682272, "post_id": 49418130, "comment_id": 85839721, "body": "packages=[&#39;raas&#39;, &#39;raas.cli&#39;], worked but find_packages did not."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "reply_to_user": {"reputation": 1053, "user_id": 2645289, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d7daa979a882fd5796545d30793f948c?s=128&d=identicon&r=PG", "display_name": "noorul", "link": "https://stackoverflow.com/users/2645289/noorul"}, "edited": false, "score": 0, "creation_date": 1521711246, "post_id": 49418130, "comment_id": 85850964, "body": "You&#39;re absolutely right, it should be <code>find_packages()</code>. Sorry, wrote the answer yesterday without actually testing the code! I will update the answer now."}], "tags": [], "owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "is_accepted": true, "score": 3, "last_activity_date": 1521711339, "last_edit_date": 1521711339, "creation_date": 1521674745, "answer_id": 49418130, "question_id": 49416169, "link": "https://stackoverflow.com/questions/49416169/python-console-scripts-with-multi-level-module/49418130#49418130", "title": "Python console_scripts with multi level module", "body": "<h3>Problem</h3>\n\n<p>What you are missing lies in the line</p>\n\n<pre><code>packages=['raas'],\n</code></pre>\n\n<p>You might think that this will include <code>raas</code> with all its subpackages, but it doesn't! <code>packages=['raas']</code> will include only <code>raas/__init__.py</code> and every python module in <code>raas</code> directory - in your case the <code>test.py</code>. This is why <code>raas1</code> command works.</p>\n\n<p>However, none of the subpackages of <code>raas</code> will be included, so the <code>raas.cli</code> subpackage won't be installed. You should be able to verify it is missing by listing the installed files with <code>pip</code> (if you have installed the package with it):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ pip show -f raas\nName: raas\nVersion: ...\n...\nFiles:\n  ...\n  raas/__init__.py\n  raas/test.py\n</code></pre>\n\n<p>You should see neither <code>raas/cli/__init__.py</code> nor <code>raas/cli/entry.py</code> in the files list.</p>\n\n<h3>Solution</h3>\n\n<p>The obvious solution is to include <code>raas.cli</code> to the packages list:</p>\n\n<pre><code>packages=['raas', 'raas.cli'],\n</code></pre>\n\n<p>However, it's pretty clumsy to maintain: when adding new package or renaming an existing one, you have to include the changes in the packages list in <code>setup.py</code> or they will not be included in the distribution. Since you are already using <code>setuptools</code>, it offers a much better solution:</p>\n\n<pre><code>from setuptools import setup, find_packages\n\nsetup(\n    ...\n    packages=find_packages(),\n)\n</code></pre>\n\n<p>The function <code>find_packages()</code> will perform a recursive scan of the current directory, looking for python packages, and generate a list of qualified package names that will be included in the distribution. <a href=\"http://setuptools.readthedocs.io/en/latest/setuptools.html#using-find-packages\" rel=\"nofollow noreferrer\">Read its doc for more details.</a></p>\n"}], "owner": {"reputation": 1053, "user_id": 2645289, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d7daa979a882fd5796545d30793f948c?s=128&d=identicon&r=PG", "display_name": "noorul", "link": "https://stackoverflow.com/users/2645289/noorul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 1, "accepted_answer_id": 49418130, "answer_count": 1, "score": 2, "last_activity_date": 1521711339, "creation_date": 1521665102, "question_id": 49416169, "link": "https://stackoverflow.com/questions/49416169/python-console-scripts-with-multi-level-module", "title": "Python console_scripts with multi level module", "body": "<p>I have the following code in setup.py</p>\n\n<pre><code>from setuptools import setup\nsetup(\n    name='raas',\n    version='0.1',\n    description='Program to test console_scripts\\'s\\n.',\n    packages=['raas'],\n    entry_points={\n        'console_scripts': ['raas = raas.cli.entry:main',\n                            'raas1 = raas.test:main']\n    },\n    zip_safe=True,\n)\n</code></pre>\n\n<p>The package structure is </p>\n\n<pre><code>$ --&gt; ls -lR\ntotal 8\ndrwxr-xr-x  6 noorul  wheel  192 Mar 22 01:37 raas\n-rw-r--r--  1 noorul  wheel  349 Mar 22 01:37 setup.py\n\n./raas:\ntotal 16\n-rw-r--r--  1 noorul  wheel    0 Mar 22 01:28 __init__.py\n-rw-r--r--  1 noorul  wheel  103 Mar 22 01:32 __init__.pyc\ndrwxr-xr-x  6 noorul  wheel  192 Mar 22 01:32 cli\n-rw-r--r--  1 noorul  wheel   29 Mar 22 01:37 test.py\n\n./raas/cli:\ntotal 24\n-rw-r--r--  1 noorul  wheel    0 Mar 22 01:28 __init__.py\n-rw-r--r--  1 noorul  wheel  107 Mar 22 01:32 __init__.pyc\n-rw-r--r--  1 noorul  wheel   37 Mar 22 01:29 entry.py\n-rw-r--r--  1 noorul  wheel  234 Mar 22 01:32 entry.pyc\n</code></pre>\n\n<p>Contents of the entry.py and test.py are</p>\n\n<pre><code>$ --&gt; cat raas/cli/entry.py\ndef main():\n    print \"Hellow world\"\n\n$ --&gt; cat raas/test.py\ndef main():\n    print \"Test\"\n</code></pre>\n\n<p>But after installing the package using setup.py install in a virtual env. I could only run raas1 and not raas</p>\n\n<pre><code>$ --&gt; ./venv/bin/raas\nTraceback (most recent call last):\n  File \"./venv/bin/raas\", line 11, in &lt;module&gt;\n    load_entry_point('raas==0.1', 'console_scripts', 'raas')()\n  File \"/private/tmp/raas/venv/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 480, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"/private/tmp/raas/venv/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2693, in load_entry_point\n    return ep.load()\n  File \"/private/tmp/raas/venv/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2324, in load\n    return self.resolve()\n  File \"/private/tmp/raas/venv/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2330, in resolve\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\nImportError: No module named cli.entry\n\n$ --&gt; ./venv/bin/raas1\nTest\n</code></pre>\n\n<p>Am I missing something?</p>\n"}, {"tags": ["python", "class", "constructor"], "comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 2, "creation_date": 1521665130, "post_id": 49416147, "comment_id": 85834196, "body": "Yes, the <code>__init__</code> method is the place to initialize instance variables."}], "answers": [{"tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": true, "score": 1, "last_activity_date": 1521665954, "last_edit_date": 1521665954, "creation_date": 1521665626, "answer_id": 49416315, "question_id": 49416147, "link": "https://stackoverflow.com/questions/49416147/constructor-default-list-value/49416315#49416315", "title": "Constructor default list value", "body": "<p>The two places to define defaults for a class are generally as a class attribute, or in the <code>__init__</code> method as an instance attribute.</p>\n\n<p>If all instances of the class share the same default value, you can make it a class attribute</p>\n\n<pre><code>class Privileges():\n\n    privileges = [\"can add post\" , \"can delete post\" , \"can ban user\"]\n\n    def show_privileges(self):\n        print(self.privileges)\n</code></pre>\n\n<p>If it's something that will often be different from instance to instance, you can just make it an instance attribute</p>\n\n<pre><code>class Privileges():\n\n    def __init__(self):\n        self.privileges = [\"can add post\" , \"can delete post\" , \"can ban user\"]\n</code></pre>\n\n<p>Note that using a class attribute doesn't preclude you from adding an instance attribute at some point with the same name, which will override the default class attribute.</p>\n\n<pre><code>class Privileges():\n\n    privileges = ['can add post']\n\n    def show_privileges(self):\n        print(self.privileges)\n\n    def set_better_privileges(self):\n        self.privileges = [\"can add post\" , \"can delete post\" , \"can ban user\"]\n</code></pre>\n\n<p>--</p>\n\n<pre><code>&gt;&gt;&gt; p = Privileges()\n&gt;&gt;&gt; p.show_privileges()\n['can add post']\n&gt;&gt;&gt; p.set_better_privileges()\n&gt;&gt;&gt; p.show_privileges()\n[\"can add post\" , \"can delete post\" , \"can ban user\"]\n&gt;&gt;&gt; p2 = Privileges()\n&gt;&gt;&gt; p2.show_privileges()\n['can add post']\n</code></pre>\n\n<p>An Advantage of using class attributes for defaults is that it allows you to read the defaults without having to instantiate the class first, and it also allows you to change the defaults for <em>all</em> instances of that class.  Just be aware of the behavior, because depending on how your class instances use and <em>modify</em> those variables, you could be inadvertently modifying the default shared across <em>all</em> instances of that class, instead of just for that instance.</p>\n"}], "owner": {"reputation": 55, "user_id": 3738438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aBBnT.png?s=128&g=1", "display_name": "barthol0", "link": "https://stackoverflow.com/users/3738438/barthol0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 49416315, "answer_count": 1, "score": 1, "last_activity_date": 1521666153, "creation_date": 1521665032, "last_edit_date": 1521666153, "question_id": 49416147, "link": "https://stackoverflow.com/questions/49416147/constructor-default-list-value", "title": "Constructor default list value", "body": "<p>I'm not sure what's the correct style of initializing list with a default value.\nI'm talking about variable self.privileges. Is this a correct approach?\nThanks</p>\n\n<pre><code>class Privileges():\n    \"\"\"privileges class\"\"\"\n    def __init__(self):\n        self.privileges = [\"can add post\" , \"can delete post\" , \"can ban user\"]\n\n    def show_privileges(self):\n        print(self.privileges)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 2, "creation_date": 1521668160, "post_id": 49416122, "comment_id": 85835620, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15522336/text-input-in-tkinter\">Text Input in Tkinter</a>"}, {"owner": {"reputation": 1291, "user_id": 1424623, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jHYSD.png?s=128&g=1", "display_name": "Yohst", "link": "https://stackoverflow.com/users/1424623/yohst"}, "edited": false, "score": 0, "creation_date": 1521668528, "post_id": 49416122, "comment_id": 85835805, "body": "contents = txt1.get(&quot;1.0&quot;, tk.END)    does not work?"}], "owner": {"reputation": 87, "user_id": 6920773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b6426cbb5ebd5e2bcdad8ff82f8ca4f5?s=128&d=identicon&r=PG&f=1", "display_name": "RBC Kyle Bullard", "link": "https://stackoverflow.com/users/6920773/rbc-kyle-bullard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521741158, "creation_date": 1521664932, "last_edit_date": 1521741158, "question_id": 49416122, "link": "https://stackoverflow.com/questions/49416122/how-to-pass-a-variable-in-tkinter", "title": "How to pass a variable in Tkinter", "body": "<pre><code>server = 'svr'\ndatabase = 'db'\nusername = 'sa'\npassword = 'password' \n\n   connection = pyodbc.connect(\n        'DRIVER={ODBC Driver 13 for SQL Server};SERVER=' + server + ';DATABASE=' + database + ';UID=' + username + ';PWD=' + password)\n\n\nif connection:\n    print(\"Connection to [\", database, \"] was successful.\\n\")\n\ncur = connection.cursor()\n\nroot = Tk()\nroot.title = \"Scrap Report\"\nroot.geometry = '400x400'\n\nlb1 = Label(root, text='Enter JobNo')\n\nlb1.pack()\n\ntxt1 = Text(root, height=2, width=10)\ntxt1.pack()\nmainloop()\n\nESTIMATED LABOR COST\ncur.execute(''' ... +JobNo+... ''')\n\ndata = cur.fetchall()\ntotLabor = 0\nfor row in data:\n    totLabor += row[0]\nprint(totLabor, 'Labor Cost')\n</code></pre>\n\n<p>I am a huge python novice, and I have researched several different ways of doing this, and have been unsuccessful every time. I know the <code>tkinter</code> code is rough, I just keep uprooting it every time the variable pass is unsuccessful. I need to pass the <code>txt1</code> user entry to the variable <code>JobNo</code>, run the SQL query, and print the results. I am not sure if the <code>Text()</code> call is correct. The <code>JobNo</code> variable is a <code>str()</code>. I can provide more information if required.</p>\n"}, {"tags": ["python", "pandas", "multi-index"], "owner": {"reputation": 6995, "user_id": 851530, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e15f09c206d727aae5ce8a3eec02f898?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/851530/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521664767, "creation_date": 1521664767, "question_id": 49416079, "link": "https://stackoverflow.com/questions/49416079/python-pandas-multiindex-to-array-of-matrices", "title": "python pandas multiindex to array of matrices", "body": "<p>I have a pandas DataFrame - assume, for example, that it contains some rolling covariance estimates:</p>\n\n<pre><code>df = #some data\nrolling_covariance = df.rolling(window=100).cov()\n</code></pre>\n\n<p>If the data has <code>n</code> columns then <code>rolling_covariance</code> will contain <code>m</code> n by n matrices, where <code>m</code> is the number of rows in <code>df</code>.</p>\n\n<p>Is there quick/one-liner to transform <code>rolling_covariance</code> into a numpy array of matrices? For example you can access individual rows in <code>rolling_covariance</code> using <code>iloc</code>, you can also iterate through all of the first level of the multiindex and extract the data that way - but I'd like something fast and simple if available</p>\n"}, {"tags": ["php", "python", "html", "python-3.x"], "comments": [{"owner": {"reputation": 2082, "user_id": 5442132, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/U09W8.jpg?s=128&g=1", "display_name": "myselfmiqdad", "link": "https://stackoverflow.com/users/5442132/myselfmiqdad"}, "edited": false, "score": 1, "creation_date": 1521664856, "post_id": 49416063, "comment_id": 85834050, "body": "<a href=\"https://stackoverflow.com/a/19736494/5442132\">stackoverflow.com/a/19736494/5442132</a>"}, {"owner": {"reputation": 71, "user_id": 6274504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1892f39e4e3f45a154ed3ef833da90db?s=128&d=identicon&r=PG&f=1", "display_name": "YaraR", "link": "https://stackoverflow.com/users/6274504/yarar"}, "reply_to_user": {"reputation": 2082, "user_id": 5442132, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/U09W8.jpg?s=128&g=1", "display_name": "myselfmiqdad", "link": "https://stackoverflow.com/users/5442132/myselfmiqdad"}, "edited": false, "score": 0, "creation_date": 1521666958, "post_id": 49416063, "comment_id": 85835043, "body": "@miqdadamirali Thank you for the help, it Worked!! But do you have any idea how i can show the graphs?"}], "owner": {"reputation": 71, "user_id": 6274504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1892f39e4e3f45a154ed3ef833da90db?s=128&d=identicon&r=PG&f=1", "display_name": "YaraR", "link": "https://stackoverflow.com/users/6274504/yarar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521664670, "creation_date": 1521664670, "question_id": 49416063, "link": "https://stackoverflow.com/questions/49416063/run-a-python-code-and-returning-the-results-when-clicking-on-a-button-in-html-ph", "title": "Run a python code and returning the results when clicking on a button in html/php", "body": "<p>I already looked over almost everything online to find something that answers my question but couldn't find a solution.</p>\n\n<p>So Basically what I'm trying to do is to create a website that runs python codes on button click and return the result.</p>\n\n<p>I've created a very simple and basic php page test.php</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt; test &lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;input type=\"button\" name=\"runscript\" value=\" Run Python code \" onClick=\"&lt;?\nphp exec('python myscript.py'); ?&gt;\"&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and this is my python code myscript.py:</p>\n\n<pre><code>print(\"Hello, world!\")\n</code></pre>\n\n<p>what I want is to take back the result of the code and put it back in the website.</p>\n\n<p>But I have no idea how to deal with it or how to do it.</p>\n\n<p>And on the actual website that I will be building, will have to bring back graphs and plots from the python codes and I don't know either how to do it.</p>\n"}, {"tags": ["python", "f-string"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1521665465, "post_id": 49416042, "comment_id": 85834341, "body": "You can use backslash line continuation outside the string, the exact same way you did inside the string in your first example. Then they&#39;re the same line to the parser, so there is no indentation issue. Or you can put otherwise-meaningless parens around the string and then you don&#39;t need backslashes (although some linters may complain because they assume that you were trying to make a tuple and forgot a comma)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1521666054, "post_id": 49416042, "comment_id": 85834611, "body": "Also, do you know about triple-quoted strings? They work just as well for f-strings as for static strings. And, unless the values in <code>name1</code> and <code>name2</code> are going to be multi-line, all of the usual stuff like <code>textwrap.dedent</code> works fine with the evaluated f-string, so all of the decades of information on how to use triple-quoted strings effectively applies to most triple-quoted f-strings."}], "answers": [{"comments": [{"owner": {"reputation": 2623, "user_id": 5739514, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/79f8410055f0114c31bde3ccc1d56178?s=128&d=identicon&r=PG", "display_name": "HashRocketSyntax", "link": "https://stackoverflow.com/users/5739514/hashrocketsyntax"}, "edited": false, "score": 0, "creation_date": 1611260651, "post_id": 49416074, "comment_id": 116401430, "body": "thank you. this worked for me. whereas, <code>dedent(</code> and <code>repr(dedent(</code> did not"}, {"owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 0, "creation_date": 1614796493, "post_id": 49416074, "comment_id": 117496976, "body": "Downovted per PEP8: <a href=\"https://www.python.org/dev/peps/pep-0008/#maximum-line-length\" rel=\"nofollow noreferrer\">The preferred way of wrapping long lines is by using Python&#39;s implied line continuation inside parentheses, brackets and braces. Long lines can be broken over multiple lines by wrapping expressions in parentheses. These should be used in preference to using a backslash for line continuation.</a>:      <code>string = (         f&quot;{name}\\n&quot;         f&quot;{name2}&quot;     )</code>"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 8, "last_activity_date": 1521664745, "creation_date": 1521664745, "answer_id": 49416074, "question_id": 49416042, "link": "https://stackoverflow.com/questions/49416042/how-to-write-an-f-string-on-multiple-lines-without-introducing-unintended-whites/49416074#49416074", "title": "How to write an f-string on multiple lines without introducing unintended whitespace?", "body": "<pre><code>string = f\"{name1}\\n\"   \\   # line continuation character\n         f\"{name2}\"\n</code></pre>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7211, "favorite_count": 0, "closed_date": 1521664775, "accepted_answer_id": 49416074, "answer_count": 1, "score": 5, "last_activity_date": 1521664745, "creation_date": 1521664586, "question_id": 49416042, "link": "https://stackoverflow.com/questions/49416042/how-to-write-an-f-string-on-multiple-lines-without-introducing-unintended-whites", "closed_reason": "Duplicate", "title": "How to write an f-string on multiple lines without introducing unintended whitespace?", "body": "<p>Consider the following code snippet:</p>\n\n<pre><code>name1 = \"Nadya\"\nname2 = \"Jim\"\n\ndef print_string():\n    string = f\"{name1}\\n\\\n{name2}\"\n    print(string)\n\nprint_string()\n</code></pre>\n\n<p>which produces</p>\n\n<pre><code>Nadya\nJim\n</code></pre>\n\n<p>This works, but the 'break' in indentation on the second line of the <code>string</code> definition looks ugly. I've found that if I indent the <code>{name2}</code> line, this indentation shows up in the final string.</p>\n\n<p>I'm trying to find a way to continue the f-string on a new line and indent it without the indentation showing up in the final string. Following something similar I've seen for ordinary strings, I've tried</p>\n\n<pre><code>name1 = \"Nadya\"\nname2 = \"Jim\"\n\ndef print_string():\n    string = f\"{name1}\\n\"\n             f\"{name2}\"\n    print(string)\n\nprint_string()\n</code></pre>\n\n<p>but this leads to an <code>IndentationError: unexpected indent</code>. Is what I am trying possible in another way?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1521664650, "post_id": 49416016, "comment_id": 85833943, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/on-topic\">On topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> apply here. StackOverflow is not a design, coding, research, or tutorial service. We are not a substitute for &quot;I missed my class&quot; -- that research is part of your responsibility before posting here, as is researching the many places that help you handle a desk of cards."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1521664735, "post_id": 49416016, "comment_id": 85833986, "body": "You could use <a href=\"https://docs.python.org/3/library/random.html#random.shuffle\" rel=\"nofollow noreferrer\"><code>random.shuffle()</code></a>, unless the point of the assignment is to implement your own. In that case, look at the <a href=\"https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\" rel=\"nofollow noreferrer\">Fisher-Yates shuffle algorithm</a>."}, {"owner": {"reputation": 83, "user_id": 9415278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6163bb8d626b78395cf78b08203419e7?s=128&d=identicon&r=PG&f=1", "display_name": "codestudent", "link": "https://stackoverflow.com/users/9415278/codestudent"}, "edited": false, "score": 0, "creation_date": 1521664959, "post_id": 49416016, "comment_id": 85834108, "body": "Would random.shuffle() replace deal.card()? If so, I can&#39;t, as the assignment requires me to have that function."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1521664985, "post_id": 49416016, "comment_id": 85834125, "body": "No, you&#39;d call it on <code>deck</code> before you deal."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1521665220, "post_id": 49416016, "comment_id": 85834232, "body": "You print it by suit and number. Don&#39;t do that (mainly because it&#39;s useless); print a <i>deck</i> instead. You can choose how to arrange the number of rows and columns by changing the number of iterations in the major (row-wise) and minor (column-wise) print operations."}], "answers": [{"tags": [], "owner": {"reputation": 188, "user_id": 8997676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89e184c22ee51bcb52f9de4e130c640d?s=128&d=identicon&r=PG", "display_name": "Aaron Lael", "link": "https://stackoverflow.com/users/8997676/aaron-lael"}, "is_accepted": true, "score": 2, "last_activity_date": 1521666362, "last_edit_date": 1521666362, "creation_date": 1521665093, "answer_id": 49416163, "question_id": 49416016, "link": "https://stackoverflow.com/questions/49416016/a-program-that-shuffles-a-deck-of-cards/49416163#49416163", "title": "A Program That Shuffles A Deck of Cards?", "body": "<pre><code>from itertools import product\nfrom random import shuffle\n\n\nSUITS = [\"\\u2663\",\"\\u2665\",\"\\u2666\",\"\\u2660\"]\nPIPS = [\"A\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"J\",\"Q\",\"K\"]\ndeck = list(product(PIPS, SUITS))\nshuffle(deck)\n</code></pre>\n\n<p>Then put in your print logic.  Here is a fairly lazy print method that accomplishes what your example link shows:</p>\n\n<pre><code>for i in range(0, len(deck), 4):\n    print(\"{} {} {} {}\".format(deck[i][0]+deck[i][1],deck[i+1][0]+deck[i+1][1],deck[i+2][0]+deck[i+2][1],deck[i+3][0]+deck[i+3][1]))\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 9415278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6163bb8d626b78395cf78b08203419e7?s=128&d=identicon&r=PG&f=1", "display_name": "codestudent", "link": "https://stackoverflow.com/users/9415278/codestudent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "closed_date": 1521666213, "accepted_answer_id": 49416163, "answer_count": 1, "score": 0, "last_activity_date": 1521666362, "creation_date": 1521664461, "last_edit_date": 1521664674, "question_id": 49416016, "link": "https://stackoverflow.com/questions/49416016/a-program-that-shuffles-a-deck-of-cards", "closed_reason": "Needs more focus", "title": "A Program That Shuffles A Deck of Cards?", "body": "<p>For my intro to programming class, I need to create a program that randomly shuffles a deck of cards and then outputs the rank &amp; suit (shown as a unicode symbol) in a 4x13 grid. What I have so far is below. How do I get it to give a random output? It currently outputs the cards in order by rank and suit. How do I get it to output in a 4x13 grid? It currently outputs in a 13x4 grid.</p>\n\n<p>Here's an example of what my output is <em>supposed</em> to look like:\n<a href=\"https://i.stack.imgur.com/B3Akm.png\" rel=\"nofollow noreferrer\">example output</a></p>\n\n<p>(For the class, my prof wanted us to list both the separate tuples &amp; nested sequence which is why they're both there, sorry if it makes the code appear messy)</p>\n\n<pre><code>import random\n\n#Cards\nSUITS = \"\\u2663\",\"\\u2665\",\"\\u2666\",\"\\u2660\"\nPIPS = \"A\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"J\",\"Q\",\"K\"\ndeck = [(\"A\",\"\\u2663\"),(\"2\",\"\\u2663\"),(\"3\",\"\\u2663\"),(\"4\",\"\\u2663\"),\n(\"5\",\"\\u2663\"),(\"6\",\"\\u2663\"),(\"7\",\"\\u2663\"),(\"8\",\"\\u2663\"),(\"9\",\"\\u2663\"),\n(\"10\",\"\\u2663\"),(\"J\",\"\\u2663\"),(\"Q\",\"\\u2663\"),(\"K\",\"\\u2663\"),(\"A\",\"\\u2665\"),\n(\"2\",\"\\u2665\"),(\"3\",\"\\u2665\"),(\"4\",\"\\u2665\"),(\"5\",\"\\u2665\"),(\"6\",\"\\u2665\"),\n(\"7\",\"\\u2665\"),(\"8\",\"\\u2665\"),(\"9\",\"\\u2665\"),(\"10\",\"\\u2665\"),(\"J\",\"\\u2665\"),\n(\"Q\",\"\\u2665\"),(\"K\",\"\\u2665\"),(\"A\",\"\\u2666\"),(\"2\",\"\\u2666\"),(\"3\",\"\\u2666\"),\n(\"4\",\"\\u2666\"),(\"5\",\"\\u2666\"),(\"6\",\"\\u2666\"),(\"7\",\"\\u2666\"),(\"8\",\"\\u2666\"),\n(\"9\",\"\\u2666\"),(\"10\",\"\\u2666\"),(\"J\",\"\\u2666\"),(\"Q\",\"\\u2666\"),(\"K\",\"\\u2666\"),\n(\"A\",\"\\u2660\"),(\"2\",\"\\u2660\"),(\"3\",\"\\u2660\"),(\"4\",\"\\u2660\"),(\"5\",\"\\u2660\"),\n(\"6\",\"\\u2660\"),(\"7\",\"\\u2660\"),(\"8\",\"\\u2660\"),(\"9\",\"\\u2660\"),(\"10\",\"\\u2660\"),\n(\"J\",\"\\u2660\"),(\"Q\",\"\\u2660\"),(\"K\",\"\\u2660\")]\n\n#Retrieve random card\ndef deal_card():\n    for suit in SUITS:\n        for pip in PIPS:\n            print(suit + pip,end=\" \")\n        print()\n\n\n#Main Portion\ndeal_card()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "edited": false, "score": 0, "creation_date": 1521664597, "post_id": 49415975, "comment_id": 85833920, "body": "Can you post the python dataframe? makes it easier to try to find a solution rather than rewriting it."}, {"owner": {"reputation": 37, "user_id": 5500639, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10154283032189622/picture?type=large", "display_name": "Tarek Khedr", "link": "https://stackoverflow.com/users/5500639/tarek-khedr"}, "reply_to_user": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "edited": false, "score": 0, "creation_date": 1521664914, "post_id": 49415975, "comment_id": 85834081, "body": "Hi Moenad, i am not sure how to attach the data. I have the csv copied below, hope this helps:    Customer_ID,Biscuits_Ord,Biscuits_Del,Biscuits_Ret,Soda_Ord,&zwnj;&#8203;Soda_Del,Soda_Ret ABC,7,7,32,10,10,10 XYZ,35,35,0,23,23,0"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5500639, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10154283032189622/picture?type=large", "display_name": "Tarek Khedr", "link": "https://stackoverflow.com/users/5500639/tarek-khedr"}, "edited": false, "score": 0, "creation_date": 1521670148, "post_id": 49417259, "comment_id": 85836481, "body": "you rock , thanks a million, i really appreciate your efforts."}, {"owner": {"reputation": 37, "user_id": 5500639, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10154283032189622/picture?type=large", "display_name": "Tarek Khedr", "link": "https://stackoverflow.com/users/5500639/tarek-khedr"}, "edited": false, "score": 0, "creation_date": 1521671157, "post_id": 49417259, "comment_id": 85836847, "body": "just one more question : what if i have some products with 2 underscore   ,   for example &quot;Biscuit_Plain_Ord&quot;.  How can i include this in the above code please"}, {"owner": {"reputation": 499, "user_id": 2763831, "user_type": "registered", "profile_image": "https://graph.facebook.com/540586285/picture?type=large", "display_name": "TavoloPerUno", "link": "https://stackoverflow.com/users/2763831/tavoloperuno"}, "reply_to_user": {"reputation": 37, "user_id": 5500639, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10154283032189622/picture?type=large", "display_name": "Tarek Khedr", "link": "https://stackoverflow.com/users/5500639/tarek-khedr"}, "edited": false, "score": 0, "creation_date": 1521671433, "post_id": 49417259, "comment_id": 85836939, "body": "Can you try str.rsplit(&#39;<i>&#39;, 1) instead of str.split(&#39;</i>&#39;)?"}, {"owner": {"reputation": 37, "user_id": 5500639, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10154283032189622/picture?type=large", "display_name": "Tarek Khedr", "link": "https://stackoverflow.com/users/5500639/tarek-khedr"}, "edited": false, "score": 0, "creation_date": 1521672975, "post_id": 49417259, "comment_id": 85837424, "body": "I tried it again it worked, i am sorry. Thanks again"}], "tags": [], "owner": {"reputation": 499, "user_id": 2763831, "user_type": "registered", "profile_image": "https://graph.facebook.com/540586285/picture?type=large", "display_name": "TavoloPerUno", "link": "https://stackoverflow.com/users/2763831/tavoloperuno"}, "is_accepted": true, "score": 1, "last_activity_date": 1521669761, "creation_date": 1521669761, "answer_id": 49417259, "question_id": 49415975, "link": "https://stackoverflow.com/questions/49415975/python-dataframe-column-to-key-and-value/49417259#49417259", "title": "Python DataFrame Column to Key and Value", "body": "<p>You convert this wide dataset to long format by first creating a MultiIndex using <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.split.html\" rel=\"nofollow noreferrer\">split</a> and then <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.stack.html\" rel=\"nofollow noreferrer\">stacking</a> and <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.reset_index.html\" rel=\"nofollow noreferrer\">flattening</a> the multilevel indices.</p>\n\n<p>Example code can be:</p>\n\n<pre><code>df_test = pd.DataFrame({'Customer_ID' : ['ABC', 'XYZ'],\n                    'Biscuits_Ord': [7,7],\n                    'Biscuits_Del': [32, 10],\n                    'Soda_Ord': [7,7],\n                    'Soda_Del': [32, 10]})\ndf_test.index = df_test['Customer_ID']\ndel df_test['Customer_ID']\n\ndf_test.columns = pd.MultiIndex.from_tuples(df_test.columns.str.split('_').map(tuple).map(reversed).map(tuple))\ndf_new = df_test.stack()\ndf_new.index.set_names('Product', level=1, inplace=True)\ndf_new.reset_index(inplace=True)\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5500639, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10154283032189622/picture?type=large", "display_name": "Tarek Khedr", "link": "https://stackoverflow.com/users/5500639/tarek-khedr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 49417259, "answer_count": 1, "score": 0, "last_activity_date": 1521669761, "creation_date": 1521664304, "question_id": 49415975, "link": "https://stackoverflow.com/questions/49415975/python-dataframe-column-to-key-and-value", "title": "Python DataFrame Column to Key and Value", "body": "<p>I am not sure if column to key value will bring my data to the desired output or not.</p>\n\n<p>I simply have a Python Dataframe as the below image</p>\n\n<p><a href=\"https://i.stack.imgur.com/Wo6fl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wo6fl.png\" alt=\"INPUT\"></a></p>\n\n<p>I need to output the data in this format below image :</p>\n\n<p><a href=\"https://i.stack.imgur.com/h0FLB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h0FLB.png\" alt=\"OUTPUT\"></a></p>\n\n<p>Appreciate your help. Thank you</p>\n"}, {"tags": ["python", "regex", "nltk", "text-processing"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 3, "creation_date": 1521664244, "post_id": 49415900, "comment_id": 85833721, "body": "You need to <i>fully</i> define the problem.  What principle or class makes <code>$</code> a punctuation mark?  How would you handle the contraction of &quot;I would have&quot;: <code>I&#39;d&#39;ve</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1521665866, "post_id": 49415962, "comment_id": 85834527, "body": "Wouldn&#39;t <a href=\"https://tio.run/##HYy7CsIwFED3fMUlCLdFKWpdHdzq7hYzRE1paF7cRKRfJ/hj0TidAwdOXPIUfF@KcTFQBtKMKTiCwFOMVne4AX6hp4uYeNVJL0i66hldxec9qJtV/7ra7SuGw33uiUsWyfjcCNLdaPxDWdsQXl/r3zO1YithDAQJjAcl21K@\" rel=\"nofollow noreferrer\"><code>[r.findall(s)[0] for s in strings]</code> using just <code>\\w+</code></a> do the same, just shorter?"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "reply_to_user": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 0, "creation_date": 1521666264, "post_id": 49415962, "comment_id": 85834700, "body": "@ctwheels: It might be shorter to write but with <code>re.findall()</code> you first look for all matches, then use the first while discarding the rest. <code>re.search()</code> doesn&#39;t look for all matches in the first place. I haven&#39;t timed it though, would be interesting."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 3, "last_activity_date": 1521664955, "last_edit_date": 1521664955, "creation_date": 1521664236, "answer_id": 49415962, "question_id": 49415900, "link": "https://stackoverflow.com/questions/49415900/remove-verb-abbreviation-and-punctuation-from-string-edges-with-python/49415962#49415962", "title": "Remove verb abbreviation and punctuation from string edges with python", "body": "<p>What about</p>\n\n<pre><code>import re\n\nstrings = ['Apple.', \"Trump's\", \"They're\", \"I'm\", \"\u00bfHablas\", \"$12\", \"H4ck3r\"]\n\nrx = re.compile(r'\\b\\w+\\b')\nfiltered = [m.group(0) for string in strings for m in [rx.search(string)] if m]\nprint(filtered)\n</code></pre>\n\n<p>Yielding</p>\n\n<pre><code>['Apple', 'Trump', 'They', 'I', 'Hablas', '12', 'H4ck3r']\n</code></pre>\n\n<p>Instead of eating something away from the left or right, it simply takes the first match of word characters (i.e. <code>[a-zA-Z0-9_]</code>).\n<hr>\nTo apply it \"in the wild\", you could split the sentence first, like so:</p>\n\n<pre><code>sentence = \"Apple. Trump's They're I'm \u00bfHablas $12 H4ck3r\"\n\nrx = re.compile(r'\\b\\w+\\b')\nfiltered = [m.group(0) for string in sentence.split() for m in [rx.search(string)] if m]\nprint(filtered)\n</code></pre>\n\n<p>This obviously yields the same list as above.</p>\n"}, {"comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1521664710, "post_id": 49416019, "comment_id": 85833973, "body": "Where is the benefit of the <code>pandas</code> overload here?"}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 0, "last_activity_date": 1521664495, "creation_date": 1521664495, "answer_id": 49416019, "question_id": 49415900, "link": "https://stackoverflow.com/questions/49415900/remove-verb-abbreviation-and-punctuation-from-string-edges-with-python/49416019#49416019", "title": "Remove verb abbreviation and punctuation from string edges with python", "body": "<p>Use pandas:</p>\n\n<pre><code>import pandas as pd\ns = pd.Series(['Apple.', \"Trump's\", \"They're\", \"I'm\", \"\u00bfHablas\", \"$12\", \"H4ck3r\"])\n\ns.str.extract(r'(\\w+)')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0     Apple\n1     Trump\n2      They\n3         I\n4    Hablas\n5        12\n6    H4ck3r\nName: 0, dtype: object\n</code></pre>\n"}], "owner": {"reputation": 1443, "user_id": 5759881, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/507efd9b9ead9d6fc1f5b89415941ba2?s=128&d=identicon&r=PG&f=1", "display_name": "Montenegrodr", "link": "https://stackoverflow.com/users/5759881/montenegrodr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 0, "closed_date": 1521666231, "answer_count": 2, "score": -2, "last_activity_date": 1522080171, "creation_date": 1521663943, "last_edit_date": 1522080171, "question_id": 49415900, "link": "https://stackoverflow.com/questions/49415900/remove-verb-abbreviation-and-punctuation-from-string-edges-with-python", "closed_reason": "Needs details or clarity", "title": "Remove verb abbreviation and punctuation from string edges with python", "body": "<p>How to remove noises from word (or sequence of words) edges. By noises I mean: <code>'s</code>, <code>'re</code>, <code>.</code>, <code>?</code>, <code>,</code>, <code>;</code>, etc. In other words, <strong>punctuation</strong> and <strong>abbreviations</strong>. But it needs to be only from left and right edges, noises within word should remain.</p>\n\n<p>examples:</p>\n\n<pre><code>Apple.            Apple\nDonald Trump's    Trump\nThey're           They\nI'm               I\n\u00bfHablas espanol?  Hablas espanhol\n$12               12\nH4ck3r            H4ck3r\nWhat's up         What's up\n</code></pre>\n\n<p>So basically remove apostrophes, verb abbreviations and punctuation but only for the string edges (right/left). It seems <code>strip</code> doesn't work with full matches and couldn't find <code>re</code> suitable method only for edges.   </p>\n"}, {"tags": ["python", "overloading"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 2, "creation_date": 1521664085, "post_id": 49415878, "comment_id": 85833638, "body": "Have <code>words</code>, <code>phrases</code>, and <code>feature</code> parameters and give them default values of <code>None</code> then check to see what got passed before processing.?"}, {"owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "edited": false, "score": 0, "creation_date": 1521664236, "post_id": 49415878, "comment_id": 85833717, "body": "or use the *args, **kwargs construct to allow accepting arbitrary arguments."}, {"owner": {"reputation": 341, "user_id": 9435608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alicja G\u0142owacka", "link": "https://stackoverflow.com/users/9435608/alicja-g%c5%82owacka"}, "edited": false, "score": 0, "creation_date": 1521664246, "post_id": 49415878, "comment_id": 85833723, "body": "I dont think that it is the proper way of solving it. I would have to sent f(None, None, features) to send features... Args and Kwargs also seem to be overkill"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1521664533, "post_id": 49415878, "comment_id": 85833869, "body": "Why do you want to overload the name?  The two methods have distinct functionality, with no real conceptual overlap in either data processing or linguistics."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1521664538, "post_id": 49415878, "comment_id": 85833873, "body": "I don&#39;t see a duplication problem; I just see a naming problem."}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 1, "creation_date": 1521664585, "post_id": 49415878, "comment_id": 85833911, "body": "Method overloading would make sense, if the data you are giving could have different representations, but the outcome is the same. I don&#39;t see why you would want to use method overloading."}, {"owner": {"reputation": 341, "user_id": 9435608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alicja G\u0142owacka", "link": "https://stackoverflow.com/users/9435608/alicja-g%c5%82owacka"}, "edited": false, "score": 0, "creation_date": 1521664802, "post_id": 49415878, "comment_id": 85834023, "body": "So should I give different name? set_features_by_phrases_and_words()?"}, {"owner": {"reputation": 341, "user_id": 9435608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alicja G\u0142owacka", "link": "https://stackoverflow.com/users/9435608/alicja-g%c5%82owacka"}, "edited": false, "score": 0, "creation_date": 1521664985, "post_id": 49415878, "comment_id": 85834124, "body": "ok, solved, it is a naming problem"}], "answers": [{"tags": [], "owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "is_accepted": false, "score": 1, "last_activity_date": 1521664669, "creation_date": 1521664669, "answer_id": 49416062, "question_id": 49415878, "link": "https://stackoverflow.com/questions/49415878/python-overload-same-function-with-different-arguments/49416062#49416062", "title": "Python - overload same function with different arguments", "body": "<p>Python allows default arguments.</p>\n\n<pre><code>def set_features(self, features=None, words=None, phrases=None):\n    if features is not None:\n        phrases = [f for f in features if ' ' in f]\n        words = [f for f in features if f not in phrases]\n\n    self.vocabulary = set(words)\n    self.phrases = SortedSet(phrases)\n</code></pre>\n\n<p>you could then call it with <code>set_features(features=features)</code> or <code>set_features(words=words, phrases=phrases)</code></p>\n"}, {"comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1521665307, "post_id": 49416070, "comment_id": 85834278, "body": "What about: <code>set_features(phrases=phrases)</code>? I think <code>SortedSet</code> accepts <code>None</code>, but <code>set</code> doesn&#39;t. That&#39;s assuming it makes sense to allow <code>None</code> at all..."}], "tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": true, "score": 2, "last_activity_date": 1521664732, "creation_date": 1521664732, "answer_id": 49416070, "question_id": 49415878, "link": "https://stackoverflow.com/questions/49415878/python-overload-same-function-with-different-arguments/49416070#49416070", "title": "Python - overload same function with different arguments", "body": "<p>You can't overload function arguments per se, but you can emulate this behavior with keyword arguments. The slightly annoying part is that you'd have to handle the validity checks (i.e., that the user doesn't pass both <code>features</code> and <code>words</code> and <code>phases</code>). E.g.:</p>\n\n<pre><code>def set_features(self, features = None, words = None, phrases = None):\n    if features: \n        if words or phrases:\n            raise ValueError('Either pass features or words and phrases')\n        else:\n            phrases = [f for f in features if ' ' in f]\n            words = [f for f in features if f not in phrases]\n\n    self.vocabulary = set(words)\n    self.phrases = SortedSet(phrases)\n</code></pre>\n"}], "owner": {"reputation": 341, "user_id": 9435608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alicja G\u0142owacka", "link": "https://stackoverflow.com/users/9435608/alicja-g%c5%82owacka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3595, "favorite_count": 0, "accepted_answer_id": 49416070, "answer_count": 2, "score": 1, "last_activity_date": 1536073368, "creation_date": 1521663858, "last_edit_date": 1536073368, "question_id": 49415878, "link": "https://stackoverflow.com/questions/49415878/python-overload-same-function-with-different-arguments", "title": "Python - overload same function with different arguments", "body": "<p>I have got a function that sets features and want to have two versions of it. One takes all features and splits them into words and phrases and the second one receives already split words and phrases as arguments</p>\n\n<pre><code>def set_features_2(self, words, phrases):\n    self.vocabulary = set(words)\n    self.phrases = SortedSet(phrases)\n\ndef set_features(self, features):\n    phrases = [f for f in features if ' ' in f]\n    words = [f for f in features if f not in phrases]\n    self.set_features_2(words, phrases)\n</code></pre>\n\n<p>What is the easiest way to remove this duplication? Both of them should be called \"set_features\" but both receive a different set of arguments.\nI know that it is possible to use args and kwargs but it is an overkill for such as trivial case.</p>\n"}, {"tags": ["python", "arrays", "loops", "for-loop", "matrix"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1521665684, "post_id": 49415834, "comment_id": 85834440, "body": "Welcome to SO. Unfortunately this isn&#39;t a discussion forum or tutorial. Please take the time to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and the other links on that page."}, {"owner": {"reputation": 41, "user_id": 9530844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07bd28c28bfde9456ff29b4566ea14f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew98", "link": "https://stackoverflow.com/users/9530844/andrew98"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1521666201, "post_id": 49415834, "comment_id": 85834672, "body": "Maybe you could be more empathetic. My uni was on strike and I wasn&#39;t being taught the most content rich part of the course. Stress is very high right now and my work haven&#39;t let me know if I can get off for study leave."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9107868"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1521666417, "post_id": 49415834, "comment_id": 85834791, "body": "@wwii please be nice. Consider that some people are not in the same position as you."}], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 9528535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c02f9e0b7aa3670103b36b0e1b333fb?s=128&d=identicon&r=PG&f=1", "display_name": "strudel", "link": "https://stackoverflow.com/users/9528535/strudel"}, "is_accepted": false, "score": 0, "last_activity_date": 1521665409, "last_edit_date": 1521665409, "creation_date": 1521664890, "answer_id": 49416111, "question_id": 49415834, "link": "https://stackoverflow.com/questions/49415834/matrices-in-python-which-follow-a-trend-and-have-alterable-dimension/49416111#49416111", "title": "Matrices in Python which follow a trend and have alterable dimension", "body": "<p>You can use np.arange to generate the row, then repeat it using the following notation:</p>\n\n<pre><code>def matrix(n):\n    row = np.arange(1,n+1)\n    return np.array([row,]*n)\n</code></pre>\n\n<p>The [row,] notation adds our extra dimension, then we multiply it by n to get the size of our new dimension.</p>\n\n<p>I think I can see what you're getting at with using np.eye(n), but I would use np.ones() instead:</p>\n\n<pre><code>def matrix(n):\n    row = np.arange(1,n+1)\n    return np.ones((3,3))*row\n</code></pre>\n\n<p>So we are just multiplying our sequence of natural numbers by a 3x3 array of ones to get our repeating rows.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 9530844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07bd28c28bfde9456ff29b4566ea14f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew98", "link": "https://stackoverflow.com/users/9530844/andrew98"}, "edited": false, "score": 0, "creation_date": 1521667229, "post_id": 49416181, "comment_id": 85835158, "body": "Appreciate the response."}, {"owner": {"reputation": 41, "user_id": 9530844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07bd28c28bfde9456ff29b4566ea14f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew98", "link": "https://stackoverflow.com/users/9530844/andrew98"}, "edited": false, "score": 0, "creation_date": 1521667721, "post_id": 49416181, "comment_id": 85835407, "body": "Would you be able to help me with a similar question over email? I&#39;m not able to finish the remaining questions on my project without this one bit of code and it&#39;s driving me insane literally."}], "tags": [], "owner": {"reputation": 1240, "user_id": 5317459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9f6135b6a4aac6f1947ba02adabafc?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Jha", "link": "https://stackoverflow.com/users/5317459/sumit-jha"}, "is_accepted": false, "score": 0, "last_activity_date": 1521665127, "creation_date": 1521665127, "answer_id": 49416181, "question_id": 49415834, "link": "https://stackoverflow.com/questions/49415834/matrices-in-python-which-follow-a-trend-and-have-alterable-dimension/49416181#49416181", "title": "Matrices in Python which follow a trend and have alterable dimension", "body": "<p>There are several ways to solve your problem. Since you want to use <code>np.eye</code>, maybe below solution could help.</p>\n\n<pre><code>import numpy as np\n\ndef matrix(n):\n    x = np.eye(n)\n    for i in range(n):\n        x[i] = i + 1\n    return x.T\n\ndef main():\n    n=3\n    print(matrix(n))\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[[ 1.  2.  3.]\n [ 1.  2.  3.]\n [ 1.  2.  3.]]\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9530844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07bd28c28bfde9456ff29b4566ea14f?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew98", "link": "https://stackoverflow.com/users/9530844/andrew98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1521665409, "creation_date": 1521663669, "question_id": 49415834, "link": "https://stackoverflow.com/questions/49415834/matrices-in-python-which-follow-a-trend-and-have-alterable-dimension", "title": "Matrices in Python which follow a trend and have alterable dimension", "body": "<p>Firstly, I want to be able to specify a value, n, which results in a particular nxn matrix being produced:\nTo do this I used the code:</p>\n\n<pre><code>n = __\n\nnp.eye (n)\n</code></pre>\n\n<p>Which will produce the identity matrix of the specified dimension, n.\nHowever, I do not want to create the identity matrix precisely. Instead, I want to create the nxn matrix with entries that are equal to the column number of the particular entry.</p>\n\n<p>Can I use np.eye(n) as a basis to solve my problem?</p>\n\n<p>For example if I set n=3, I wish my code to form:</p>\n\n<pre><code>[1 , 2 , 3]\n[1 , 2 , 3]\n[1,  2 , 3]\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 58446, "user_id": 84704, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/aEXJK.png?s=128&g=1", "display_name": "Warren  P", "link": "https://stackoverflow.com/users/84704/warren-p"}, "edited": false, "score": 1, "creation_date": 1521663673, "post_id": 49415811, "comment_id": 85833432, "body": "Why isn&#39;t readability and clarity slick enough?"}, {"owner": {"reputation": 26589, "user_id": 1032785, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/30816b3d787c2bd9d6f036318304f225?s=128&d=identicon&r=PG", "display_name": "jordanm", "link": "https://stackoverflow.com/users/1032785/jordanm"}, "edited": false, "score": 2, "creation_date": 1521663684, "post_id": 49415811, "comment_id": 85833439, "body": "<code>set([x[0] for x in groups])</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 26589, "user_id": 1032785, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/30816b3d787c2bd9d6f036318304f225?s=128&d=identicon&r=PG", "display_name": "jordanm", "link": "https://stackoverflow.com/users/1032785/jordanm"}, "edited": false, "score": 4, "creation_date": 1521663715, "post_id": 49415811, "comment_id": 85833454, "body": "@jordanm better <code>{x[0] for x in groups}</code> (set comprehension)"}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 1, "last_activity_date": 1521663815, "creation_date": 1521663815, "answer_id": 49415867, "question_id": 49415811, "link": "https://stackoverflow.com/questions/49415811/most-pythonic-way-to-compare-substrings-l-in-list-l-to-string-s-edit-s-accordi/49415867#49415867", "title": "most pythonic way to compare substrings l in list L to string S &amp; edit S according to l in L?", "body": "<p>You could write this whole expression in a single set comprehension</p>\n\n<pre><code>&gt;&gt;&gt; groups = ['a','a #2','a(Old)']\n&gt;&gt;&gt; {i.split('#')[0].split('(Old)')[0].strip() for i in groups}\n{'a'}\n</code></pre>\n\n<p>This will get everything preceding a <code>#</code> and everything preceding <code>'(Old)'</code>, then trim off whitespace. The remainder is placed into a set, which only keeps unique values.</p>\n"}, {"tags": [], "owner": {"reputation": 3400, "user_id": 5436930, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5a549d841c057b40d6af0d82da734dd5?s=128&d=identicon&r=PG&f=1", "display_name": "Grigoriy Mikhalkin", "link": "https://stackoverflow.com/users/5436930/grigoriy-mikhalkin"}, "is_accepted": true, "score": 1, "last_activity_date": 1521696907, "last_edit_date": 1521696907, "creation_date": 1521664321, "answer_id": 49415980, "question_id": 49415811, "link": "https://stackoverflow.com/questions/49415811/most-pythonic-way-to-compare-substrings-l-in-list-l-to-string-s-edit-s-accordi/49415980#49415980", "title": "most pythonic way to compare substrings l in list L to string S &amp; edit S according to l in L?", "body": "<p>Here is general solution, if you want to clean elements of list <code>lst</code> from parts in <code>wastes</code>:</p>\n\n<pre><code>lst = ['a','a #2','a(Old)']\nwastes = ['#', '(Old)']\n\ncleaned_set = {\n    min([element.split(waste)[0].strip() for waste in wastes]) \n    for element in arr\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": false, "score": 0, "last_activity_date": 1521664926, "creation_date": 1521664926, "answer_id": 49416118, "question_id": 49415811, "link": "https://stackoverflow.com/questions/49415811/most-pythonic-way-to-compare-substrings-l-in-list-l-to-string-s-edit-s-accordi/49416118#49416118", "title": "most pythonic way to compare substrings l in list L to string S &amp; edit S according to l in L?", "body": "<p>You could define a helper function to apply all of the splits and then use a set comprehension.</p>\n\n<p>For example:</p>\n\n<pre><code>lst = ['a','a #2','a(Old)', 'b', 'b #', 'b(New)']\nsplits = {'#', '(Old)', '(New)'}\n\ndef split_all(a):\n    for s in splits:\n        a = a.split(s)[0]\n    return a.strip()\n\ngroups = {split_all(a) for a in lst}\n#{'a', 'b'}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7171044, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZlmGqpo4Th8/AAAAAAAAAAI/AAAAAAAAAAA/9lEcOYvwYTs/photo.jpg?sz=128", "display_name": "atloo1", "link": "https://stackoverflow.com/users/7171044/atloo1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 49415980, "answer_count": 3, "score": 1, "last_activity_date": 1521696907, "creation_date": 1521663573, "last_edit_date": 1521663820, "question_id": 49415811, "link": "https://stackoverflow.com/questions/49415811/most-pythonic-way-to-compare-substrings-l-in-list-l-to-string-s-edit-s-accordi", "title": "most pythonic way to compare substrings l in list L to string S &amp; edit S according to l in L?", "body": "<p>The list <code>['a','a #2','a(Old)']</code> should become <code>{'a'}</code> because <code>'#'</code> and <code>'(Old)'</code> are to be excised and a list of duplicates isn't needed. I struggled to develop a list comprehension with a generator and settled on this since I knew it'd work and valued time more than looking good:</p>\n\n<pre><code>l = []\ngroups = ['a','a #2','a(Old)']\nfor i in groups:\n    if ('#') in i: l.append(i[:i.index('#')].strip())\n    elif ('(Old)') in i: l.append(i[:i.index('(Old)')].strip())\n    else: l.append(i)\ngroups = set(l)\n</code></pre>\n\n<p>What's the slick way to get this result? </p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9530935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0448ec92e107d942fb5038c2c484d?s=128&d=identicon&r=PG&f=1", "display_name": "livingcobble", "link": "https://stackoverflow.com/users/9530935/livingcobble"}, "edited": false, "score": 0, "creation_date": 1521664768, "post_id": 49415959, "comment_id": 85834007, "body": "uhh ...it didn&#39;t work it deosn&#39;t show in my reviews list view or on the admin review table"}, {"owner": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "reply_to_user": {"reputation": 11, "user_id": 9530935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0448ec92e107d942fb5038c2c484d?s=128&d=identicon&r=PG&f=1", "display_name": "livingcobble", "link": "https://stackoverflow.com/users/9530935/livingcobble"}, "edited": false, "score": 2, "creation_date": 1521665029, "post_id": 49415959, "comment_id": 85834144, "body": "Then, you&#39;re doing something wrong. That should do for you, if you&#39;re actually logged in and request.user isn&#39;t null. Check if request.user is null or not, or try by querying the author table and storing a random author there."}, {"owner": {"reputation": 11, "user_id": 9530935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0448ec92e107d942fb5038c2c484d?s=128&d=identicon&r=PG&f=1", "display_name": "livingcobble", "link": "https://stackoverflow.com/users/9530935/livingcobble"}, "edited": false, "score": 0, "creation_date": 1521665130, "post_id": 49415959, "comment_id": 85834195, "body": "yea i dont know i musta screwed somthing up"}, {"owner": {"reputation": 11, "user_id": 9530935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0448ec92e107d942fb5038c2c484d?s=128&d=identicon&r=PG&f=1", "display_name": "livingcobble", "link": "https://stackoverflow.com/users/9530935/livingcobble"}, "edited": false, "score": 0, "creation_date": 1521677285, "post_id": 49415959, "comment_id": 85838686, "body": "ok s I did a DB reset and now it says None for the author instead of  blank, but it does return the user name with the {{ request.user }} in the html template so i know someone is logged in.  The view just wont register that someone is"}, {"owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "reply_to_user": {"reputation": 11, "user_id": 9530935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0448ec92e107d942fb5038c2c484d?s=128&d=identicon&r=PG&f=1", "display_name": "livingcobble", "link": "https://stackoverflow.com/users/9530935/livingcobble"}, "edited": false, "score": 0, "creation_date": 1521693967, "post_id": 49415959, "comment_id": 85842499, "body": "@livingcobble You <b>must be logged in</b>  before accessing the <code>CreatePost</code>"}, {"owner": {"reputation": 11, "user_id": 9530935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0448ec92e107d942fb5038c2c484d?s=128&d=identicon&r=PG&f=1", "display_name": "livingcobble", "link": "https://stackoverflow.com/users/9530935/livingcobble"}, "edited": false, "score": 0, "creation_date": 1521726696, "post_id": 49415959, "comment_id": 85862439, "body": "the {{ reqeust.user }} in the layout shows the loged in user name in the top of the page.  If I click logout that disappears, and then if I go to the login page and input a valid username and password it re-appears. Plus I imported login_required and used that it still lets me go to the create_post page"}], "tags": [], "owner": {"reputation": 3550, "user_id": 1301404, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SUnzA.jpg?s=128&g=1", "display_name": "min", "link": "https://stackoverflow.com/users/1301404/min"}, "is_accepted": false, "score": 2, "last_activity_date": 1521664227, "creation_date": 1521664227, "answer_id": 49415959, "question_id": 49415632, "link": "https://stackoverflow.com/questions/49415632/how-to-fill-an-author-field-with-current-username/49415959#49415959", "title": "how to fill an author field with current username", "body": "<pre><code>def CreatePost(request):\n    form = CreatePost_form(request.POST)\n    if form.is_valid():\n        form.save(commit=False)\n        form.author = request.user\n        form.save()\n        return HttpResponseRedirect('/reviews/succesfulpost')\n</code></pre>\n\n<p>As simple as that. Rather than actually saving and committing the data, you simply save without committing then you're able to change the value of the excluded field.</p>\n"}], "owner": {"reputation": 11, "user_id": 9530935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d0448ec92e107d942fb5038c2c484d?s=128&d=identicon&r=PG&f=1", "display_name": "livingcobble", "link": "https://stackoverflow.com/users/9530935/livingcobble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521664227, "creation_date": 1521662841, "question_id": 49415632, "link": "https://stackoverflow.com/questions/49415632/how-to-fill-an-author-field-with-current-username", "title": "how to fill an author field with current username", "body": "<p>I have looked at a lot of different places but none of their solutions work.  This is most likely to do them being for older versions of django or my own stupidity.  So I am making a blog type of app that for some reason is called reviews instead of blog... anyway I need to automatically fill up an author field with the username of the logged in user. Here is my models.py:</p>\n\n<pre><code>from django.db import models\nfrom django.contrib.auth.models import User\n\n#vars\n\n# Create your models here.\nclass reviews(models.Model):\n    title = models.CharField(max_length=100)\n    author = models.ForeignKey(User, on_delete=models.PROTECT,)\n    body = models.TextField()\n    date = models.DateTimeField(auto_now_add=True, blank=True)\n</code></pre>\n\n<p>and forms.py:</p>\n\n<pre><code>from django import forms\nfrom django.forms import ModelForm\nfrom .models import reviews\nfrom django.contrib.auth.decorators import login_required\nclass CreatePost_form(ModelForm):\n    class Meta:\n        model = reviews\n        exclude = ['author']\n        fields = ['title', 'body',]\n</code></pre>\n\n<p>and views:</p>\n\n<pre><code>from django.shortcuts import render, render_to_response\nfrom .forms import CreatePost_form\nfrom django.http import HttpResponseRedirect\n\n# Create your views here.\ndef reviewlist(request):\n    return render\ndef index(request, ):\n    return render(request, template_name=\"index.html\")\ndef CreatePost(request):\n    form = CreatePost_form(request.POST)\n    if form.is_valid():\n        form.save()\n        return HttpResponseRedirect('/reviews/succesfulpost')\n    return render(request, \"reviews/CreatePostTemplate.html\", {'form':form})\ndef succesfulpost(request):\n    return render(request, \"reviews/succesfulpost.html\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 4740061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc4bd71248dd6f72c165dfc96d7b6d7?s=128&d=identicon&r=PG&f=1", "display_name": "Vasco Lopes", "link": "https://stackoverflow.com/users/4740061/vasco-lopes"}, "is_accepted": false, "score": 0, "last_activity_date": 1521663033, "creation_date": 1521663033, "answer_id": 49415674, "question_id": 49415625, "link": "https://stackoverflow.com/questions/49415625/how-to-convert-a-string-into-dictionary-in-python-3/49415674#49415674", "title": "How to convert a string into dictionary in python 3", "body": "<p>You are using index i to iterate over L, but you use (i+1) to access A, this will lead to the problem. A might not have the size of Len(L)</p>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 8, "last_activity_date": 1521663061, "creation_date": 1521663061, "answer_id": 49415677, "question_id": 49415625, "link": "https://stackoverflow.com/questions/49415625/how-to-convert-a-string-into-dictionary-in-python-3/49415677#49415677", "title": "How to convert a string into dictionary in python 3", "body": "<p>Let's use comprehension and split:</p>\n\n<pre><code>dict(i.split('=') for i in S.split())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'a': '65', 'b': '66', 'c': '67'}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 9405787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3g0At.jpg?s=128&g=1", "display_name": "seeon", "link": "https://stackoverflow.com/users/9405787/seeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2124, "favorite_count": 0, "closed_date": 1521663276, "answer_count": 2, "score": 1, "last_activity_date": 1521671111, "creation_date": 1521662812, "last_edit_date": 1521671111, "question_id": 49415625, "link": "https://stackoverflow.com/questions/49415625/how-to-convert-a-string-into-dictionary-in-python-3", "closed_reason": "Duplicate", "title": "How to convert a string into dictionary in python 3", "body": "<p>Beginning with a string like:</p>\n\n<pre><code>S='a=65 b=66 c=67'\n</code></pre>\n\n<p>How would you create an output a dict like <code>{'a':'65','b':'66','c':'67'}</code></p>\n\n<p>Attempt:</p>\n\n<pre><code>S='a=65 b=66 c=67'\nL=s.split(' ')\nD=dict()\nA=''\ni=0\nWhile i&lt;Len(L):\n    A=L[i].split('=')\n    D[a[i]]=a[i+1]\n    i+2\n\nprint (D)\n</code></pre>\n\n<blockquote>\n  <p>Error on line 8  indexerror list index out of range</p>\n</blockquote>\n"}]